<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤐 ☝🏼 👇🏿 iOS现场验证-快速简便 🧜 👨🏽‍🎨 🚪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="输入字段的验证可能是移动应用程序中最常见的任务。每个采用授权和注册形式的应用程序还具有来自用户的一定量的输入信息，这引起了预期的悲伤-测试人员的复杂兴奋。一个高级的，技术精湛的开发人员社区已经学习了如何通过在源代码中嵌入正则表达式来有效地处理它们。
 
 通常，当您需要限制自己的注册和授权时，无需付...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>iOS现场验证-快速简便</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497886/"><img src="https://habrastorage.org/webt/dl/m7/op/dlm7opjmmejtv0z6ckspsc_ig7o.jpeg" alt="图片" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入字段的验证可能是移动应用程序中最常见的任务。</font><font style="vertical-align: inherit;">每个采用授权和注册形式的应用程序还具有来自用户的一定量的输入信息，这引起了预期的悲伤-测试人员的复杂兴奋。</font><font style="vertical-align: inherit;">一个高级的，技术精湛的开发人员社区已经学习了如何</font><font style="vertical-align: inherit;">通过在源代码中嵌入正则表达式</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效地</font><s><font style="vertical-align: inherit;">处理它们</font></s><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常，当您需要限制自己的注册和授权时，无需付出特殊的努力即可实现目标-代码从一个项目转移到另一个项目，几乎没有任何更改。而且，最重要的是，在不增加进一步维护此代码的工时的情况下。但是，如果不是因为UI / UX设计师的创新冲动，他们倾向于与既定的传统，逻辑和常识相反，而是发明与最终用户进行交互的新方式，并在他们看来，将几种必要的控件，可访问性放在表格上，那么世界就不会那么简单了。这取决于用于检查大量输入字段和其他控制控件的有效性的笛卡尔条件集。不幸的是，这种情况很难被称为罕见。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
开发人员对自己违反DRY原则的频率的提高与之成正比：一方面，专业自豪感不允许妥协；另一方面，复制粘贴代码是避免长测试周期（调试）的最有效方法。单调的复制代码比经过思想验证的唯一“自行车”容易维护。寻找替代品不仅浪费开发人员的创造力，而且还增加了对项目的依赖性。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同时，iOS SDK提供了一些被低估的功能，这些功能可以轻松扩展到不仅与验证有关的许多任务-声明式编程极大地简化了开发人员的工作。当然，作者知道</font><s><font style="vertical-align: inherit;">恋人的</font></s><font style="vertical-align: inherit;">阵营</font></font><s><font style="vertical-align: inherit;"></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是使用“未稀释”代码的朋友，但是自从本文的作者开始通过为MS DOS开发图形用户界面来开发专业界面时，就没有很大的浪费时间来创建另一个完美的类的愿望，并且如果您可以同等价值地使用它，鼠标-将优先使用鼠标。</font><font style="vertical-align: inherit;">因此，它概述了如何最大程度地减少代码量以加快和简化开发过程。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免责声明：</font></font></b>
                        <div class="spoiler_text">   ,    .            .        ,     —    .<br>
</div>
                    </div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">典型的最小任务如下：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
有登录和密码输入字段，以及一个授权按钮。授权按钮必须根据输入字段中包含的内容更改状态（isEnable）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此任务的高级版本如下所示：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
我们具有电子邮件，密码和电话号码输入字段，以及两个按钮-注册和请求输入电话的SMS代码。仅当在每个字段中输入正确的数据时，注册按钮才可用。当电话号码字段有效时，代码请求按钮才可用。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">典型解决方案</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-通过在一个视图控制器中组合“ if”和“ switch”语句来创建相互依赖的标志。</font><font style="vertical-align: inherit;">难度将随着过程中涉及的控制数量而增加。</font><font style="vertical-align: inherit;">一个更高级的解决方案是创建状态机。</font><font style="vertical-align: inherit;">该解决方案非常好-但是很耗时，而且入口门槛很高-这绝不是我想对懒惰（又名“真实”）开发人员实施的解决方案。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于懒惰的开发人员的Lema</font></font></b>
                        <div class="spoiler_text"><i> ,     ,          .       (« » ),      ,   .</i><br>
</div>
                    </div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提出的总体思路如下：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
输入字段有一个类，验证管理器有一个类。如预期的那样，输入字段继承自UITextField。验证管理器-继承自UIControl，包含一组经过验证的元素（完全不需要成为UITextField的后代），并实现“观察者”模式。此外，他还担任其他控件的管理者，这些控件在已验证元素的状态更改时必须更改其可访问性状态。换句话说，如果该字段包含无效的电子邮件，则注册按钮应该不可用。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xi/tt/7g/xitt7g_qwtiu_rdbg-rhx_1oug4.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入字段是自验证的-它们可以回答包含在其中的数据是否有效并更改其状态的问题。</font><font style="vertical-align: inherit;">一些开发人员更喜欢使用单独的验证器类（及其后代）来验证输入字段，但是这种做法使得无法完全享受代码的声明性和可伸缩性的可移植性。</font><font style="vertical-align: inherit;">对我们而言，输入字段或任何其他经过验证的控件支持以下形式的简单接口对我们很重要：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-meta">@objc</span> <span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">IValidatable</span> : <span class="hljs-title">class</span> </span>{<font></font>
&nbsp; &nbsp; varisValid: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }<font></font>
}</code></pre><br>
<img src="https://habrastorage.org/webt/py/ii/zc/pyiizcxavc47l631fj9scai8ryu.jpeg" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要向您的项目添加验证，您需要从</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub存储库中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的示例中添加4个文件</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSTextField</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font><font style="vertical-align: inherit;">实现一个带有验证过程指示的输入字段。</font></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSValidationManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font><font style="vertical-align: inherit;">是提供我们所需功能的观察者。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StringOptional + Utils-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅包含一种使用正则表达式检查当前行文本是否有效的方法。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIView + Layer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是将给定宽度的框架添加到UIView的任何后代的便捷方法。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
严格来说，如果要对任何其他控件以相同的方式实现验证，则很可能只需要</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSValidationManager。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其余仅用于您的方便。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
验证过程显示在视频（gif）中。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ds/ha/5j/dsha5jc7u50qf_h1plwksphdoha.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如您所见，在输入开始之前，该字段处于默认状态，并且在输入数据时进行验证。如果您在验证完成之前离开该字段，则会在该字段上显示题字，告知错误。在两个字段都变为有效之前，注册按钮将不可用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在第二个屏幕上也会出现类似情况（仅在激活注册后才可用）。但是在第二个屏幕上，字段和按钮的验证是独立进行的-仅当所有字段都失败时，注册按钮才可用。同时，当带有电话号码的字段有效时，SMS发送按钮已经可用。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在的诀窍是：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整个项目只包含一个视图控制器类，与从模板创建项目时Xcode创建的类相同。</font><font style="vertical-align: inherit;">它是完全空的。</font><font style="vertical-align: inherit;">但即使不使用。</font><font style="vertical-align: inherit;">在调度员的帮助下验证这一点并不困难。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/71/yo/hg/71yohgaltaumlkvssjfhdky6wzi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
细心的读者注意到，响应者的右边是标准Xcode组件面板中的Object。</font><font style="vertical-align: inherit;">为此，Class参数被</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSValidationManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> class覆盖</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对输入字段进行了相同的技巧，唯一的区别是在</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那里</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用了</font><b><font style="vertical-align: inherit;">DSTextField</font></b><font style="vertical-align: inherit;">类</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我们所有的编程都归结为以下简单步骤：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将ValidationManager中的verifyControls集合与输入字段相关联。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lh/n_/fu/lhn_fuw8x1htw5zhfkgvfkuvf5c.jpeg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/oa/jt/0r/oajt0rvzv05avyyt1shuihukdj8.jpeg"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将ValidationManager中的managedControls集合与您要管理的按钮相关联。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sn/5r/zs/sn5rzsgoycpntng8ogadslty7ze.jpeg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/py/kf/lj/pykfljwpykcfd108oq02zqg6pvy.jpeg"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将相反方向的输入字段与ValidationManager关联，使其成为委托。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/y0/fn/dm/y0fndmyvohjq6ezorijkyd29ljs.jpeg"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在输入字段中，通过标准Xcode管理器设置用于验证的正则表达式和错误消息，以及其他自定义和标准属性。</font><font style="vertical-align: inherit;">原则上，除正则表达式外的所有内容都可以“按原样”保留。</font><font style="vertical-align: inherit;">它只需要您使用键盘，然后只需从tyrnet复制粘贴公式即可。</font><font style="vertical-align: inherit;">如果错误消息丢失，那么它将根本不会显示在屏幕上。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_n/xy/nl/_nxynlbcisajrpzfoezwykgf8xy.jpeg"></div></li>
</ol><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSValidationManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
代码很</font><font style="vertical-align: inherit;">丑陋。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">import</span> UIKit<font></font>
<font></font>
<span class="hljs-meta">@objc</span> <span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">IValidationManager</span> : <span class="hljs-title">class</span> </span>{
&nbsp; &nbsp; <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">verificated</span><span class="hljs-params">()</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-meta">@objc</span> <span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">IValidatable</span> : <span class="hljs-title">class</span> </span>{
&nbsp; &nbsp; <span class="hljs-keyword">var</span> isValid: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DSValidationManager</span> : <span class="hljs-title">UIControl</span>, <span class="hljs-title">IValidationManager</span>
</span>{
&nbsp; &nbsp; <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">var</span> verifiedControls: [<span class="hljs-type">UIControl</span>]?
&nbsp; &nbsp; <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">var</span> managedControls: [<span class="hljs-type">UIControl</span>]?<font></font>
<font></font>
&nbsp; &nbsp; <span class="hljs-keyword">private</span> (<span class="hljs-keyword">set</span>) <span class="hljs-keyword">var</span> valid : <span class="hljs-type">Bool</span> = <span class="hljs-literal">false</span> {
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">didSet</span> {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">self</span>.sendActions(<span class="hljs-keyword">for</span>: .valueChanged)<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; }<font></font>
&nbsp; &nbsp; }<font></font>
&nbsp;&nbsp; &nbsp;<font></font>
&nbsp; &nbsp; overrideinit(frame: <span class="hljs-type">CGRect</span>) {
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">super</span>.<span class="hljs-keyword">init</span>(frame: frame)
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">self</span>.verificated()<font></font>
&nbsp; &nbsp; }<font></font>
&nbsp;&nbsp; &nbsp;<font></font>
&nbsp; &nbsp; <span class="hljs-keyword">required</span> <span class="hljs-keyword">init</span>?(coder: <span class="hljs-type">NSCoder</span>) {
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">super</span>.<span class="hljs-keyword">init</span>(coder: coder)
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">self</span>.verificated()<font></font>
&nbsp; &nbsp; }<font></font>
<font></font>
&nbsp; &nbsp; <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">verificated</span><span class="hljs-params">()</span></span> {
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">self</span>.checkVerifiedControls()
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">self</span>.controlsAction()<font></font>
&nbsp; &nbsp; }<font></font>
<font></font>
&nbsp; &nbsp; <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">checkVerifiedControls</span><span class="hljs-params">()</span></span> {
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> list:[<span class="hljs-type">IValidatable</span>] = <span class="hljs-keyword">self</span>.verifiedControls?.<span class="hljs-built_in">filter</span>({$<span class="hljs-number">0</span> isIValidatable}) <span class="hljs-keyword">as</span>? [<span class="hljs-type">IValidatable</span>]
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">self</span>.valid = list.<span class="hljs-built_in">filter</span>({!$<span class="hljs-number">0</span>.isValid}).<span class="hljs-built_in">count</span>==<span class="hljs-number">0</span><font></font>
&nbsp; &nbsp; }<font></font>
&nbsp;&nbsp; &nbsp;<font></font>
&nbsp; &nbsp; <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">controls</span> <span class="hljs-title">Action</span><span class="hljs-params">()</span></span> {
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> list = <span class="hljs-keyword">self</span>.managedControls <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> list {<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item.isEnabled = <span class="hljs-keyword">self</span>.valid<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; }<font></font>
&nbsp; &nbsp; }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如您所见，他从一个集合中收到通知，然后对另一个集合进行操作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
观察者将其设为在本示例中甚至没有考虑的属性。您可以将连接从ValidationManager对象直接拖动到控制器，在其中添加类似于单击按钮的事件，然后直接在控制器中处理经理的状态。如果您真的想要。如果您不仅应该锁定控件，而且还要做一些有用的工作（例如，进行游行或显示AlertView），这将很有用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在所有TextEdit代码中，仅应注意，该字段必须注意正确设置“ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isValid</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ” </font><font style="vertical-align: inherit;">属性</font><font style="vertical-align: inherit;">，并拉出“ </font><b><font style="vertical-align: inherit;">verify（）</font></b><font style="vertical-align: inherit;">方法”</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“来自他的代表。</font><font style="vertical-align: inherit;">但是，请注意，输入字段不使用对管理器对象的引用，而是一个集合。</font><font style="vertical-align: inherit;">这使您可以将输入字段绑定到多个管理器。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，该方法将需要由每个代表来提出。</font></font><br>
<br>
<pre><code class="swift hljs">&nbsp; &nbsp; <span class="hljs-keyword">var</span> isValid: <span class="hljs-type">Bool</span> {
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>.text.verification(<span class="hljs-keyword">self</span>.expression, <span class="hljs-keyword">required</span>:<span class="hljs-keyword">self</span>.valueRequired)<font></font>
&nbsp; &nbsp; }<font></font>
<font></font>
&nbsp; &nbsp; <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">var</span> validateDelegates: [<span class="hljs-type">IValidationManager</span>]?<font></font>
<font></font>
&nbsp; &nbsp; <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">handleDelegateAction</span><span class="hljs-params">(<span class="hljs-number">_</span> sender: UITextField)</span></span> {
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> list = <span class="hljs-keyword">self</span>.validateDelegates <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }<font></font>
<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-keyword">for</span> validateDelegate <span class="hljs-keyword">in</span> list {<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; validateDelegate.verificated()<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; }<font></font>
&nbsp; &nbsp; }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，如果您需要使用输入字段组成一个新表单，甚至不需要设置自定义属性值-只需批量复制所需的Runtime属性并将其应用于新字段就足够了（不要忘记仅替换类名）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bx/lv/ux/bxlvuxtf5dzjngxyt_h-iq555q4.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般而言，在表单标题中使用“对象”的技巧可以广泛使用，而不仅仅是用于字段验证-它可以将MVC反应性地转换为MVVM，而无需任何Rx。</font><font style="vertical-align: inherit;">它最常见的用途是网络共享和CoreData模型更改通知。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN497874/index.html">David Heinemeyer Hansson（Basecamp，ReWork和Ruby on Rails）的工作原理</a></li>
<li><a href="../zh-CN497876/index.html">[书签]使用网络上的图像</a></li>
<li><a href="../zh-CN497878/index.html">使用OpenBLAS安装GPL版本的HPL</a></li>
<li><a href="../zh-CN497880/index.html">在Electron上为MacOSX Home Assistant制作材质图标</a></li>
<li><a href="../zh-CN497882/index.html">如何获得面试或者为什么不被录用？</a></li>
<li><a href="../zh-CN497890/index.html">Microsoft 365虚拟培训日：潜入Microsoft团队</a></li>
<li><a href="../zh-CN497894/index.html">Microsoft Azure虚拟培训日：现代数据仓库</a></li>
<li><a href="../zh-CN497896/index.html">我们使用投影仪而不是监视器来保留远程站点上的视觉效果-几个明显的细微差别</a></li>
<li><a href="../zh-CN497904/index.html">RBS的UX研究：我们的经验，错误和发现</a></li>
<li><a href="../zh-CN497908/index.html">炒作的结尾：接下来是什么要使用Scala语言</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>