<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òùüèº üë®üèΩ‚Äç‚úàÔ∏è üè† O que √© o novo nRF Connect SDK for Nordic? Evolu√ß√£o, revolu√ß√£o ou alternativa? ‚ò†Ô∏è üè¢ üôÜüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na semana passada, a Nordic Semiconductor adicionou o suporte da s√©rie nRF52 ao nRF Connect SDK. 
 
 
 
 A principal quest√£o que a maioria das pessoas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>O que √© o novo nRF Connect SDK for Nordic? Evolu√ß√£o, revolu√ß√£o ou alternativa?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497034/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na semana passada, a Nordic Semiconductor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adicionou o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> suporte da s√©rie nRF52 ao nRF Connect SDK. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6l/rn/68/6lrn68dbbfqzq7nvalyoaq6zcrg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A principal quest√£o que a maioria das pessoas tem √© o que √© e por que √© importante? </font><font style="vertical-align: inherit;">Esta pergunta √© especialmente relevante para aqueles que t√™m experi√™ncia com o nRF5 SDK, e existem muitos deles.</font></font><br>
<a name="habracut"></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observo imediatamente que o artigo foi escrito principalmente para aqueles que usam abordagens tradicionais no desenvolvimento de dispositivos Cortex-M ou de dispositivos pr√≥ximos. </font><font style="vertical-align: inherit;">Portanto, algumas defini√ß√µes e analogias podem n√£o parecer completamente corretas do ponto de vista daqueles que trabalham em um n√≠vel alto (olha o que est√° acontecendo no lado Linux), mas ser√° mais f√°cil de entender para aqueles que est√£o come√ßando dessa maneira. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Coment√°rios e esclarecimentos s√£o sempre bem-vindos.</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco sobre quem √© n√≥rdico e como eles est√£o indo bem agora</font></font></b>
                        <div class="spoiler_text">    Nordic     . ,   ,    Bluetooth Low Energy,  90%     .         : Starline, Pandora, Scher-Khan      .         Redmond,   Ready4Sky.             .         2     .<br>
<br>
    Nordic Semiconductor   40%,  2.5  ,     (TI). ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"></a>.   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Samsung</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Xiaomi</a>   Nordic   ,   ,        .<br>
 <br>
   ,      Nordic,   ,         .      nRF5x   STM   (   ).<br>
<br>
   :<br>
<br>
<ul>
<li>    </li>
<li>   (       )</li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"></a>  SDK </li>
<li>  (    )</li>
<li>  Altium   </li>
<li> </li>
</ul><br>
 ,  Nordic Semiconductor       .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui surge a principal quest√£o: por que o novo SDK foi lan√ßado e como ele difere do atual? </font><font style="vertical-align: inherit;">Nesse caso, est√° tudo bem com a solu√ß√£o atual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O atual </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF5 SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> funciona com base em uma fila simples e, na maioria dos casos, isso √© suficiente para implementar praticamente qualquer tarefa (embora algumas empresas ainda usem seus pr√≥prios SDKs, mas essas s√£o exce√ß√µes √†s regras). </font><font style="vertical-align: inherit;">O novo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF Connect SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usa uma abordagem radicalmente diferente, baseada no Zephyr RTOS. </font><font style="vertical-align: inherit;">Considere as diferen√ßas em mais detalhes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O RTOS (RTOS) traz certas vantagens e desvantagens conhecidas. </font><font style="vertical-align: inherit;">Estes √∫ltimos incluem:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobrecarga adicional para manter o sistema operacional</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grande complexidade de desenvolvimento em projetos simples</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maior complexidade de compila√ß√£o</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O restante dos RTOS s√£o:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maior confiabilidade devido ao controle de fluxos individuais</font></font></li>
<li>           </li>
<li>     </li>
<li>  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na Nordic, isso se tornou interessante e relevante desde a introdu√ß√£o do novo sistema em pacote (SIP) com LTE Cat-M / NB-IoT / GPS - a s√©rie nRF91. Esse SIP tem desempenho superior devido ao novo n√∫cleo Cortex-M33 e outros requisitos para o componente de rede, que surgiram devido √† transi√ß√£o do BLE para as redes celulares. Outra inova√ß√£o aqui foi o modem SDR, que funciona em um n√∫cleo separado e com o qual foi necess√°rio organizar a intera√ß√£o internuclear. Pela primeira vez, o SDK baseado em RTOS apareceu aqui e, para aqueles que encontraram uma nova abordagem pela primeira vez, levantou v√°rias quest√µes, come√ßando na fase de prepara√ß√£o. Um assistente especial tamb√©m foi lan√ßado para a montagem correta do ambiente de desenvolvimento - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assistente de Introdu√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ele informa quais componentes voc√™ precisa instalar (existem muitos deles, veja abaixo) e verifica se tudo est√° instalado corretamente. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b04/168/443/b04168443c2e299b22756b152308d774.gif" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deste ponto de vista, podemos comparar a transi√ß√£o para Zephyr com a apar√™ncia do primeiro ARM Cortex-M em massa e a transi√ß√£o para 32 bits. Agora a maioria usa MKs de 32 bits como principais, sobre os quais h√° </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre Habr√©. Ele tamb√©m fala sobre a transi√ß√£o, que inicialmente parecia desnecessariamente complicada. Mas com o tempo, quase todo mundo chegou √† conclus√£o de que isso se tornou o padr√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale ressaltar que o Zephyr OS n√£o √© o √∫nico RTOS rodando em chips n√≥rdicos. Exemplos de projetos com o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeRTOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dispon√≠vel no SDK v.11 a partir de 2016, e ainda mais cedo no SDK v.9 havia suporte Keil RTX para a fam√≠lia nRF51 (2015). </font><font style="vertical-align: inherit;">No entanto, anteriormente, essas eram mais fun√ß√µes experimentais e o suporte era fornecido em maior medida pelos fabricantes de RTOS. </font><font style="vertical-align: inherit;">O que, em princ√≠pio, √© verdade agora. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O suporte n√£o oficial do Zephyr para as fam√≠lias nRF5x apareceu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em 2016</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Zephyr Nordic decidiu criar um SDK completamente novo no RTOS agora. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° v√°rios pr√©-requisitos para isso:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V√°rias tecnologias s√£o herdadas do Linux:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trabalhar com fluxos, filas em tempo real (especialmente importante para protocolos dependentes de tempo, como o BLE) </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bibliotecas para rede e seguran√ßa</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelo flex√≠vel de descri√ß√£o de hardware com otimiza√ß√£o de energia</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bibliotecas para trabalhar com perif√©ricos (sensores, etc.)</font></font></li>
</ul><br>
 </li>
<li>  : <br>
<br>
<ul>
<li>     </li>
<li>   </li>
<li>   </li>
</ul><br>
 </li>
<li>      <br>
<br>
<ul>
<li>  ,   Nordic,    </li>
</ul><br>
 </li>
<li>    (       )</li>
<li>   ( )         .    ,     ,      .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender como ocorreram mudan√ßas dram√°ticas, o diagrama estrutural da documenta√ß√£o oficial √© adequado. </font><font style="vertical-align: inherit;">Cinza indica os componentes que fazem parte do Zephyr. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/362/736/89c/36273689c10a66b97f33142745dc7f22.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na pr√°tica, ao implementar essa abordagem, surgem v√°rios problemas cognitivos. </font><font style="vertical-align: inherit;">Os desenvolvedores acostumados ao produto e √†s solu√ß√µes experimentam disson√¢ncia com um grande n√∫mero de altera√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere a vers√£o do desenvolvimento no Windows, pois isso causar√° mais perguntas sobre aqueles que est√£o acostumados a desenvolver no Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os seguintes pacotes s√£o necess√°rios:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (gerenciador de pacotes)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Git</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sistema de controle de vers√£o)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninja</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sistema de compila√ß√£o orientado √† velocidade)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sistema de compila√ß√£o de alto n√≠vel)</font></font></li>
<li><b>DTC-MSYS2</b> (   (device tree))</li>
<li><b>GPerf</b> ( )</li>
<li><b>west</b> (          )</li>
<li><b>pip</b> (  Python)</li>
<li><b>Python3</b></li>
<li><b>GNU Arm Embedded Toolchain</b> (GCC, GDB      ARM)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para algu√©m que se depara com um conjunto semelhante de utilit√°rios pela primeira vez, pode parecer que tudo √© desnecessariamente complicado e o antigo paradigma pode ser usado, que as abordagens existentes para o desenvolvimento s√£o bastante eficazes. </font><font style="vertical-align: inherit;">No entanto, se voc√™ olhar mais fundo, tudo se torna muito mais interessante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pip</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permitem instalar todos os pacotes necess√°rios por meio do console do SO e Python, respectivamente. </font><font style="vertical-align: inherit;">E o pr√≥prio Python, como a maioria do software em quest√£o, √© colocado em um comando:</font></font><br>
<br>
<pre><code class="bash hljs">hoco install python xxx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m √© atualizado com um comando:</font></font><br>
<br>
<pre><code class="bash hljs">choco upgrade all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A abordagem √© um pouco incomum para usu√°rios do Windows, para aqueles que est√£o familiarizados com os gerenciadores de pacotes de console no Linux (apt, zypper etc.), nada de novo. Eu sempre notei a situa√ß√£o em que os desenvolvedores de software do MK atualizam o software apenas ao reinstalar o SO em um PC. Sobre por que √© ruim n√£o falarmos, s√≥ notei que aqui esse problema √© resolvido automaticamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As inova√ß√µes no campo de configura√ß√£o e montagem de projetos s√£o muito mais interessantes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Ninja foi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> projetado e posicionado como um substituto para a marca e focado na velocidade de constru√ß√£o. √â especialmente bom em aplicativos quando √© necess√°rio recriar projetos com v√°rios arquivos pequenos, onde n√£o houve altera√ß√µes. O efeito pode ser uma ordem de magnitude, ou at√© duas, ver </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cmake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por sua vez, permite gerar arquivos de configura√ß√£o para o Ninja em uma linguagem de alto n√≠vel (script) para a plataforma na qual o assembly ocorrer√°. Sobre o Cmake pode ser lido em Habr√©, por exemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPerf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gera uma tabela de ponteiros, que economiza mem√≥ria, consulte a etapa 3 da montagem abaixo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m devemos prestar aten√ß√£o a uma nova abordagem para a descri√ß√£o do ferro. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Devicetree</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> apareceu </font><font style="vertical-align: inherit;">, descrevendo a estrutura de hardware do dispositivo. Este √© um resultado direto do suporte do Zephyr pela Linux Foundation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As vantagens s√£o que a descri√ß√£o do hardware agora est√° em um arquivo .dts separado, que possui uma </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">estrutura</font></a><font style="vertical-align: inherit;"> simples</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, √© f√°cil modificar e, como resultado, portar o c√≥digo entre diferentes fam√≠lias de chips. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como exemplo, o quanto eu posso ilustrar claramente o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dtsi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> b√°sico </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">no nRF52840</font></a><font style="vertical-align: inherit;"> , que por sua vez √© usado na descri√ß√£o da placa nRF52840-DK </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nrf52840dk_nrf52840.dts.O</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
n√∫mero de placas-m√£e suportadas pelo Zephyr j√° √© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">superior a 200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como afirmado anteriormente, a Nordic lan√ßou o Zephyr pela primeira vez na s√©rie nRF91, depois na nRF53, e agora finalmente atingiu o nRF52 mais maci√ßo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A mudan√ßa para o RTOS permite, por sua vez, resolver o problema de adapta√ß√£o do c√≥digo para o novo hardware. Mesmo entre os chips de uma fam√≠lia, a transi√ß√£o exigia certos recursos do lado do desenvolvimento, se fosse acompanhada de uma transi√ß√£o para outro dispositivo (a biblioteca BLE pr√©-compilada). Sem mencionar a transi√ß√£o, por exemplo, das s√©ries 51 ou 91 para 52, quando a pr√≥pria plataforma de hardware muda significativamente. Agora, essa tarefa ser√° resolvida com muito mais facilidade e rapidez. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ferro na Nordic est√° sendo constantemente aprimorado, mas isso deve ser escrito separadamente. Na estrutura deste artigo, podemos observar apenas que o foco est√° na integra√ß√£o com o RTOS, seguran√ßa, efici√™ncia energ√©tica e melhoria do canal de r√°dio (BLE 5.2). Obrigado pode dizer o dual-core Cortex-M33, ARM Cryptocell e ARM TrustZone.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Para construir devicetree usado</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Device Tree Compiler</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que faz parte do MSYS2 (sistema de compila√ß√£o aprimorado baseado em Cygwin e MinGW-64). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A segunda parte da configura√ß√£o do projeto est√° no </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Kernel config), que tamb√©m foi herdado do Linux. Permite selecionar os blocos necess√°rios por meio de uma interface gr√°fica e definir par√¢metros de montagem para uma tarefa espec√≠fica, o que √© especialmente importante nas condi√ß√µes de recursos limitados dos sistemas em um chip. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode usar utilit√°rios tradicionais como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menuconfig</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">,</font></a><font style="vertical-align: inherit;"> dentro da estrutura do Segger Embedded Studio (o IDE oficial recomendado), h√° uma interface interna que pode ser iniciada atrav√©s do item de menu correspondente: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projeto&gt; Configurar projeto do nRF Connect SDK</font></font></b> <br>
<br>
<img src="https://habrastorage.org/webt/cv/sz/bq/cvszbqtv9frwur8ss1hncds-b2k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um exemplo de configura√ß√£o de projeto com SSL / TLS baseado no nRF9160 √© apresentado abaixo. </font><font style="vertical-align: inherit;">Como voc√™ pode ver, √© poss√≠vel configurar os recursos de hardware do projeto (plataforma, n√∫mero de threads, m√≥dulos de plug-in do kernel) e software (chaves, endere√ßos, etc.). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/mm/f9/b-mmf98mpjwxi_ts0tlwopujgfm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/nk/7e/qu/nk7equjwisyaxyzknpyyxwplbys.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere as etapas da montagem do projeto: Existem cinco no total:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configura√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - processamento preliminar de todas as configura√ß√µes (devicetree, KConfig); na sa√≠da, obtemos arquivos de cabe√ßalho que descrevem o hardware e a configura√ß√£o do Ninja</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©-montagem (I)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - processando estruturas em alto n√≠vel, compilando arquivos e compensa√ß√µes do sistema (offset), criando tabelas de chamadas</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Montagem inicial (II)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - compila√ß√£o dos principais c√≥digos fonte e empacot√°-los em arquivos, vinculando</font></font></li>
<li><b>  (III)</b> ‚Äî             (GPerf),         </li>
<li><b>- (IV)</b> ‚Äî  hex, bin  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode ler mais sobre o sistema de montagem Zephyr com fotos na </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documenta√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oficial </font><font style="vertical-align: inherit;">. Como existem muitos textos e figuras, n√£o consideraremos os detalhes na estrutura deste artigo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â importante entender que as ferramentas usadas aqui n√£o substituem o pr√©-processador C (cpp) e o vinculador C (ld). Ambos s√£o usados ‚Äã‚Äãem todas as etapas, exceto no p√≥s-processamento. No entanto, o resultado de seu trabalho est√° sujeito a melhorias adicionais, que permitem reduzir significativamente o tempo de montagem e os requisitos de mem√≥ria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ n√£o pode comparar diretamente os resultados dos programas criados em dois SDKs. Como as bibliotecas e abordagens s√£o muito diferentes e ainda n√£o existem testes. Definitivamente, pode-se dizer que a solu√ß√£o √© boa em chips m√©dios e de ponta da linha (nRF52832 e superior), e ainda existe uma grande reserva de recursos. No entanto, n√£o se pode dizer que o novo SDK n√£o se aplica a chips mais novos como o nRF52810. √â necess√°rio considerar o problema com mais detalhes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voltando √† quest√£o no t√≠tulo do artigo, podemos dizer que esse paradigma √© definitivamente uma nova realidade. O que, √† primeira vista, traz melhorias significativas. Pelo menos 2 novas fam√≠lias de chips do maior fabricante de BLE do mundo trabalham com precis√£o e somente nessa tecnologia e n√£o se espera retorno. Na minha opini√£o, esta √© uma revolu√ß√£o que foi preparada com anteced√™ncia.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atualiza√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : em 14 de maio, a Nordic realizou um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webinar sobre o novo SDK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no qual anunciou que todas as vers√µes do BLE anteriores a 5.0 estar√£o dispon√≠veis apenas no nRF Connect SDK. </font><font style="vertical-align: inherit;">Assim, o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Directino Finding,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m conhecido como AoA / AoD (BLE 5.1) e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LE Audio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (BLE 5.2), que muitos est√£o esperando, trar√° novas ferramentas este ano e as mudan√ßas no desenvolvimento ocorrer√£o mais cedo do que o previsto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Constata√ß√µes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As altera√ß√µes s√£o radicais, o c√≥digo que trabalha com o nRF5 SDK atual n√£o √© compat√≠vel com o novo (nRF Connect SDK)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A mudan√ßa para o RTOS com Devicetree e KConfig permite obter um n√≠vel adicional de abstra√ß√£o para hardware, o que, por sua vez, acelera significativamente o desenvolvimento e a transfer√™ncia do projeto para uma nova plataforma.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A mudan√ßa para o Zephyr oferece suporte a um grande n√∫mero de protocolos e bibliotecas prontas para uso; para dispositivos IoT, os mais interessantes s√£o as fun√ß√µes de rede e seguran√ßa, onde o Linux √© tradicionalmente forte</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Zephyr OS usa v√°rias ferramentas durante a montagem, o que pode reduzir significativamente o tempo de montagem e os requisitos de mem√≥ria, o que √© especialmente importante para aplicativos incorporados</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O novo SDK permite o uso de desenvolvedores de n√≠vel superior, que s√£o muito mais no mercado do que os de n√≠vel inferior. </font><font style="vertical-align: inherit;">Isso resolve a quest√£o do pessoal e aumenta a participa√ß√£o de mercado.</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt497022/index.html">Atualizando o acesso √† rede corporativa. Novos comutadores ExtremeSwitching X435 Gigabit</a></li>
<li><a href="../pt497024/index.html">Por que hiperconverg√™ncia? Vis√£o geral e testes do Cisco HyperFlex</a></li>
<li><a href="../pt497028/index.html">Bem-vindo ao MeetUp de sistema operacional de rob√¥</a></li>
<li><a href="../pt497030/index.html">Experi√™ncia na implementa√ß√£o de f√°bricas de rede baseadas em EVPN VXLAN e Cisco ACI e uma pequena compara√ß√£o</a></li>
<li><a href="../pt497032/index.html">Neg√≥cio de servi√ßos e crise: hist√≥rias de sucesso. Como o pensamento fora da caixa funciona para voc√™?</a></li>
<li><a href="../pt497036/index.html">Quando parar o processo de reconhecimento de sequ√™ncia de v√≠deo?</a></li>
<li><a href="../pt497040/index.html">Estrat√©gia de crescimento liderada por produtos. Como o Miro cresce x3 anualmente</a></li>
<li><a href="../pt497046/index.html">Como trazer um site para o oeste no TOP10 sem saber nada sobre SEO</a></li>
<li><a href="../pt497050/index.html">TeamLead Conf 2020: principais relat√≥rios</a></li>
<li><a href="../pt497052/index.html">Semana de seguran√ßa 16: xHelper - Trojan de sobreviv√™ncia do Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>