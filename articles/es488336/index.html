<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🚒 💇🏻 💆🏾 Consejos para usar el algoritmo de colapso de la función de onda 💃🏿 ⚓️ 😷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, he experimentado mucho con la generación basada en restricciones de procedimiento. En particular, con la función de contracción Wave al...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Consejos para usar el algoritmo de colapso de la función de onda</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488336/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2f/556/757/f2f556757da50dae74a44909dca1e76d.png" alt="imagen"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recientemente, he experimentado mucho con la generación basada en restricciones de procedimiento. En particular, con la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">función de contracción Wave</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> algoritmo </font><font style="vertical-align: inherit;">(WFC, onda colapso de la función). Incluso escribí mi propia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioteca de código abierto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">activo de la unidad</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WFC es un algoritmo muy flexible, especialmente con las mejoras que desarrollé. Pero al mismo tiempo, me resultó difícil crear </font><font style="vertical-align: inherit;">niveles </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prácticos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aplicables a los juegos de computadora </font><font style="vertical-align: inherit;">con su ayuda </font><font style="vertical-align: inherit;">. La principal dificultad es que el WFC no tiene ninguna estructura global. Todo lo que hace es hacer que la generación de salida parezca localmente similar a la entrada, por ejemplo, mirando pequeños rectángulos individuales de la salida.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este artículo, le contaré lo que aprendí y lo que podrá elevar los generadores en función de las restricciones a un nuevo nivel.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los basicos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es difícil usar WFC si no sabes cómo funciona. Este es un algoritmo de generación de procedimientos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">basado en restricciones al</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que se le ha prestado mucha atención recientemente. De hecho, prácticamente no tiene nada que ver con el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">concepto de física cuántica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en cuyo honor fue nombrado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WFC es fácil de configurar: simplemente le da al algoritmo una tarjeta de ejemplo, después de lo cual genera nuevas tarjetas que se </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parecen</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a la tarjeta original debido al uso repetido de sus pequeños fragmentos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tiene dos tipos: con una disposición contigua o con una superposición de elementos. Se puede hacer en 2D o 3D, e incluso en cuadrículas de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hexágonos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desiguales.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rejillas </font><font style="vertical-align: inherit;">La mayoría de mis consejos se aplican independientemente de cómo utilice el algoritmo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le sugiero que juegue con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta demostración</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para tener una idea sobre el algoritmo, y lea </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta introducción</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traducción</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en Habré] si está interesado en detalles técnicos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diseño de azulejos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El algoritmo WFC está basado en mosaicos. </font><font style="vertical-align: inherit;">En este sentido, su calidad depende de los mosaicos que le transfieras para trabajar. </font><font style="vertical-align: inherit;">No soy artista, por lo que puedo ayudar poco a dibujar hermosos mosaicos (aunque puedes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verlo aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), pero un buen mosaico también requiere conocimientos técnicos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cubos marchando</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marching cubes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un algoritmo que selecciona qué mosaicos establecer en función de si cada vértice del mosaico está lleno o vacío. </font><font style="vertical-align: inherit;">Aquí está la lista de mosaicos utilizados para 2D.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/404/214/092/404214092cf2f31e96b3b6f2a267c622.svg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si construye mosaicos para que las esquinas en blanco y negro siempre coincidan, las líneas rojas siempre se conectarán correctamente. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí no necesitamos comprender todo el algoritmo, pero debe tenerse en cuenta que la idea de diseñar mosaicos teniendo en cuenta solo su comportamiento en las esquinas es una técnica muy poderosa. </font><font style="vertical-align: inherit;">Se utiliza en muchos de los mejores conjuntos de mosaicos, ya que garantiza que los mosaicos siempre se conecten bien.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta técnica es especialmente poderosa para WFC. </font><font style="vertical-align: inherit;">Sucedió, porque si fallas algunas fichas, WFC no importará. </font><font style="vertical-align: inherit;">Evitará este problema y nunca creará configuraciones que requieran mosaicos faltantes. </font><font style="vertical-align: inherit;">Esto es muy conveniente para 3D, ya que hay docenas de mosaicos potenciales, y algunos de ellos solo se requieren en situaciones muy difíciles. </font><font style="vertical-align: inherit;">Vea la sección "Fundación" a continuación, en la que uso este truco aún más ampliamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conocer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">otros patrones de mosaico</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> también puede ser útil </font><font style="vertical-align: inherit;">, pero Marching Cubes es lo mejor.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las habitaciones</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A veces es más fácil trabajar con mosaicos simples. </font><font style="vertical-align: inherit;">Esta combinación de 4 fichas (una ficha está vacía) genera fácilmente habitaciones cuadradas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dd0/bbb/376/dd0bbb3765876baac62417e760149058.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e76/245/14b/e7624514b5103da9afa5e4be2fce86c3.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tamaño de las habitaciones se puede cambiar fácilmente cambiando el peso de cada mosaico. </font><font style="vertical-align: inherit;">Después de agregar las baldosas de puertas y pasillos, puede crear la diversidad que es característica de los planos de planta de las personas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fundación</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se trabaja con WFC, es interesante experimentar con los conjuntos de fichas. </font><font style="vertical-align: inherit;">Si simplemente coloca un mosaico, WFC busca exprimir al máximo el espacio restante. </font><font style="vertical-align: inherit;">A veces esto lleva a resultados radicalmente diferentes, como se puede ver en la imagen de Maxim Gumin:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a4f/980/7b9/a4f9807b976fa295e85b9ae0d36d3918.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos usar este comportamiento para estimular a WFC a generar muchas estructuras reconocibles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí hay un ejemplo de un castillo (inspirado en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@greentecq</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1183359478734958593"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En él, utilicé el siguiente mosaico:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0b/852/df1/c0b852df1c18974c8114d48d3b7f3290.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estas fichas tienen una propiedad importante: todas las fichas en la base tienen un ancho no menor que en la parte superior. </font><font style="vertical-align: inherit;">Esto significa que no es posible construir estos mosaicos de una manera no compatible. </font><font style="vertical-align: inherit;">El WFC responde de inmediato a esto y crea edificios con una buena base.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aproximación Fractal Split</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al estudiar el tema de estimular ciertos comportamientos eligiendo el conjunto de mosaicos apropiado, descubrí que si el conjunto de mosaicos consiste en caminos rectos y ramas, pero sin esquinas, puede obtener una buena aproximación de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">división recursiva</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sin la parte "recursiva"). </font><font style="vertical-align: inherit;">Esto es bastante bueno para los niveles de cuadrícula.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grandes azulejos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede agregar WFC para admitir mosaicos que son varias veces más grandes que un mosaico normal. Por ejemplo, esto es compatible con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mi complemento Tessera</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los azulejos grandes se pueden usar de varias maneras. Dado que se extienden más allá de los límites de la cuadrícula, puede usarlos para agregar curvas más suaves y anchas de lo que normalmente es posible cuando se ajusta a la cuadrícula. También son excelentes para elementos de una gran cantidad de mosaicos, o simplemente para enmascarar que la generación se basa en mosaicos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí hay un ejemplo para aprender de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Oscar Stalberg </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">del</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> juego </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Bad North</font></a><font style="vertical-align: inherit;"> . Oscar demuestra cómo utilizó baldosas grandes para agregar costas suavemente curvadas, casas grandes y variabilidad de acantilados.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-1" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1131228226901172226"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limitaciones</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esencia, WFC es un algoritmo basado en restricciones. </font><font style="vertical-align: inherit;">Esto significa que busca generar niveles que correspondan a un conjunto específico de criterios. </font><font style="vertical-align: inherit;">En WFC puro, solo hay un criterio: que los niveles se vean localmente como una entrada de muestra. </font><font style="vertical-align: inherit;">A continuación, hablaré sobre las mejoras de WFC para agregar nuevos tipos de restricciones.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azulejos fijos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es muy fácil arreglar mosaicos individuales antes de generar un nivel en WFC. </font><font style="vertical-align: inherit;">Más tarde se integran perfectamente con el nivel generado.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1f0/df3/619/1f0df3619f947a7a71e72b389bc38e15.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de la generación</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93f/2c2/5be/93f2c25be4b716f62fa16b0b67c36a5b.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Después de la generación</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Esta técnica se puede usar de muchas maneras diferentes. </font><font style="vertical-align: inherit;">Aquí hay algunas ideas:</font></font><br>
<br>
<ul>
<li>      </li>
<li>  - ,   WFC    .</li>
<li>    ,    </li>
<li> /    WFC   </li>
</ul><br>
<br>
<h3> </h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rutas de limitación</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (restricción de ruta): esta es mi propia contribución al WFC. Esta es una técnica extremadamente poderosa, pero un artículo completo probablemente requerirá un artículo separado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta restricción </font><font style="vertical-align: inherit;">escanea </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">globalmente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> toda la salida generada e indica por la fuerza que debe pasar una ruta entre los mosaicos marcados. O, en otras palabras, le dice a un subconjunto de mosaicos que formen un solo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">componente del gráfico</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Debido a su naturaleza global, complementa el comportamiento habitual de WFC, que solo tiene en cuenta los mosaicos locales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descubrí que agregar esta restricción afecta fuertemente la apariencia del nivel generado. Sin él, WFC a menudo genera varias habitaciones o áreas divididas que parecen poco realistas y no creadas por humanos.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b88/353/c19/b88353c19a3ebc27db979150a3c30af2.png"></div><br>
<i>   </i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a91/928/346/a919283460b31c6c8b901609d9490ede.png"></div><br>
<i>   .       .</i><br>
<br>
<h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra situación en la que la limitación de ruta es apropiada es ... dibujar rutas. De forma predeterminada, la restricción de ruta solo garantiza </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que haya una</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ruta entre los mosaicos. No garantiza que el camino sea lo más simple posible. Por lo tanto, en el caso de ríos y carreteras, a menudo dibuja juntas en forma de T en lugares opcionales. El truco consiste en eliminar simplemente todos los mosaicos de las juntas en T o darles un peso muy bajo, de modo que se seleccionen solo si es absolutamente necesario. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Me encanta usar mosaicos fijos para arreglar los puntos finales de una ruta. Debido a esto, se requiere la restricción de ruta para insertar mosaicos que hacen que el resto de la ruta se conecte.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa0/448/f77/aa0448f778179d53dd4b9236fc33aa17.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las rutas generadas arreglando las cuatro esquinas como los puntos finales de las rutas</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si desea experimentar con rutas, entonces tengo una pequeña demostración de JavaScript que se presenta </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diversidad</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azulejos Alternativos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es muy fácil agregar opciones de mosaico al algoritmo WFC. </font><font style="vertical-align: inherit;">Simplemente agregue los mosaicos a la lista de mosaicos posibles, haciendo que tenga las mismas conexiones que el mosaico que reemplaza. </font><font style="vertical-align: inherit;">O puede hacerse en la etapa de postprocesamiento, como suele hacerse en otros estilos de generación de procedimientos.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d7/b6c/43a/3d7b6c43a0be6522b6a2eac5d85dbd69.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dos azulejos, uno de ellos con ventana. </font><font style="vertical-align: inherit;">Son completamente intercambiables y simplemente agregan variabilidad al diseño.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variabilidad del azulejo por nivel</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si pones mucho esfuerzo en crear un diseño de conjunto de fichas, notarás que la aleatoriedad de WFC comienza a dañarlo. </font><font style="vertical-align: inherit;">Utiliza todo el conjunto de fichas, es decir, puedes obtener un nivel con lava mixta, nieve y desierto. </font><font style="vertical-align: inherit;">A menudo esto parece completamente ilógico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede restaurar la integridad de una manera simple: decida de antemano a qué </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bioma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pertenecerá </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">el</font></a><font style="vertical-align: inherit;"> nivel y luego desactive todas las fichas que no sean adecuadas para este bioma. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bad North</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (nuevamente) es un excelente ejemplo de esto. </font><font style="vertical-align: inherit;">En algunos niveles, las rocas están completamente prohibidas, en otros hay mucha vegetación, en las terceras ruinas y se agregan cementerios. </font><font style="vertical-align: inherit;">Esto le da a cada nivel un estilo único sin la necesidad de un cambio significativo en el estilo de generación.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2f/556/757/f2f556757da50dae74a44909dca1e76d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solo alrededor del 10% de las islas tienen elementos de cuevas, visibles en la esquina superior derecha.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variabilidad de los mosaicos dentro del mapa.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mezclar juegos de fichas puede ir aún más lejos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si usa WFC para generar una tarjeta grande, entonces comienza a verse muy uniforme. </font><font style="vertical-align: inherit;">Esta es otra consecuencia del hecho de que el algoritmo es un solucionador de </font><font style="vertical-align: inherit;">restricciones </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">locales</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mejor solución a este problema la vi en el juego </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caves of Qud</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En la historia de los desarrolladores sobre la generación ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), dicen que dividen el mapa en diferentes áreas y luego inician WFC con parámetros separados para los subconjuntos del mapa. </font><font style="vertical-align: inherit;">Esto significa que en el mapa puede haber un área de ruinas y un área de una ciudad en la que se usan plantillas y mosaicos completamente diferentes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1b9/45f/762/1b945f762795751a1e66eaa0712110ab.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ejemplo de </font></font><em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Math para desarrolladores de juegos: generación de mapas basados ​​en mosaicos utilizando el colapso de la función de onda en 'Cuevas de Qud'</font></font></a></em><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusión</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El algoritmo WFC, como todas las técnicas de generación basadas en restricciones, tiene el principio de ser </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cuidadoso con sus deseos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Es fácil de personalizar y obtener resultados hermosos, pero puede ser muy difícil implementar los detalles específicos que se necesitan para su juego. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que las técnicas presentadas por mí te ayuden a domar a este monstruo, pero al final, es mejor crear un diseño de juego basado en las fortalezas de la generación de procedimientos, y no tratar de forzarlo a crear demasiado para ti. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Te recomiendo que juegues </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bad North</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caves of Qud</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ambos juegos son excelentes ejemplos del uso de WFC en condiciones reales, y los desarrolladores han pensado bien en el uso óptimo del algoritmo en sus juegos.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es488322/index.html">Gestos</a></li>
<li><a href="../es488324/index.html">Consola fantasma. Panasonic M2</a></li>
<li><a href="../es488326/index.html">Amor o despido</a></li>
<li><a href="../es488330/index.html">Inglés con George Karlin: analizamos el ingenioso stand-up sobre unidades fraseológicas</a></li>
<li><a href="../es488332/index.html">Cero, uno, dos, Freddy te recogerá</a></li>
<li><a href="../es488338/index.html">Pasantías de Google: Zurich, Londres y Silicon Valley</a></li>
<li><a href="../es488340/index.html">Profesión: Desarrollador de backend</a></li>
<li><a href="../es488342/index.html">Bosque aleatorio, el método de componentes principales y optimización de hiperparámetros: un ejemplo de resolución del problema de clasificación en Python</a></li>
<li><a href="../es488346/index.html">Instalación de herramientas o con SCIP y GLPK en un entorno virtual Python 3.7 en Linux</a></li>
<li><a href="../es488348/index.html">Seminario web "Diez desafíos ágiles principales y formas de superarlos en una hora" 17 de febrero a las 20:00 hora de Moscú</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>