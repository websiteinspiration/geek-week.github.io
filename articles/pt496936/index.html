<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîÉ üö´ üëçüèø Vamos criptografar certificados SSL com o gerenciador de certificados no Kubernetes üçΩÔ∏è üò´ üàÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, falarei sobre como automatizar o pedido e a renova√ß√£o de certificados do Let's Encrypt (e n√£o apenas) para o Ingress no Kubernetes usand...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Vamos criptografar certificados SSL com o gerenciador de certificados no Kubernetes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/496936/"><img src="https://habrastorage.org/webt/la/qd/o7/laqdo7i6ovirl5ciie_qmnbrau4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, falarei sobre como automatizar o pedido e a renova√ß√£o de certificados do Let's Encrypt (e n√£o apenas) para o Ingress no Kubernetes usando o gerenciador de certificados adicional. </font><font style="vertical-align: inherit;">Mas vou come√ßar com uma breve introdu√ß√£o √† ess√™ncia do problema.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco de programa educacional</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O protocolo HTTP, desenvolvido no in√≠cio dos anos 90 do s√©culo passado, entrou no nosso cotidiano com tanta for√ßa que √© dif√≠cil imaginar pelo menos um dia sem us√°-lo. No entanto, por si s√≥, nem sequer fornece um n√≠vel m√≠nimo de seguran√ßa ao trocar informa√ß√µes entre um usu√°rio e um servidor da web. O HTTPS ("S" - seguro) chega em socorro: usando o empacotamento dos dados transmitidos em SSL / TLS, esse protocolo provou ser um protetor da informa√ß√£o contra intercepta√ß√£o e √© promovido ativamente pela ind√∫stria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, o Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://security.googleblog.com/2014/08/"><font style="vertical-align: inherit;">aderiu</font></a><font style="vertical-align: inherit;"> a 2014</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://security.googleblog.com/2014/08/"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Posi√ß√£o "HTTPS em todos os lugares" e at√© reduz a prioridade dos sites sem ela nos resultados da pesquisa. Essa "propaganda" tamb√©m n√£o √© ignorada pelos consumidores comuns: os navegadores modernos alertam seus usu√°rios sobre a presen√ßa e a corre√ß√£o dos certificados SSL dos sites visitados. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sr/me/il/srmeilomqktrr7qofwjlgpiw01i.png"><br>
<img src="https://habrastorage.org/webt/mj/jo/pf/mjjopfpjvy84bnbdae_mv6vluw8.png"><br>
<img src="https://habrastorage.org/webt/dd/t4/vn/ddt4vnh-3yseofqyzip5qma-dti.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O custo de um certificado para um site pessoal come√ßa em dezenas de d√≥lares. Nem sempre a compra √© justificada e apropriada. Felizmente, desde o final de 2015, uma alternativa gratuita na forma de certificados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's Encrypt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (LE) </font><font style="vertical-align: inherit;">est√° dispon√≠vel </font><font style="vertical-align: inherit;">. Este projeto sem fins lucrativos foi criado por entusiastas da Mozilla para cobrir a maioria dos sites com criptografia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Autoridade de Certifica√ß√£o emite certificados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validados por dom√≠nio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(o mais simples dentre os dispon√≠veis no mercado) com um per√≠odo de validade de 90 dias e, por muitos anos, foi poss√≠vel emitir o chamado certificado curinga para v√°rios subdom√≠nios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obter o certificado, o site usa os algoritmos descritos no protocolo </font><font style="vertical-align: inherit;">ACME ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automated Certificate Management Environment</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), criado especificamente para o Let's Encrypt. </font><font style="vertical-align: inherit;">Ao us√°-lo, a confirma√ß√£o da propriedade do dom√≠nio √© realizada por solicita√ß√µes atrav√©s da coloca√ß√£o de um c√≥digo HTTP espec√≠fico (chamado </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP-01</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ou da instala√ß√£o de registros </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS (DNS-01)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mais sobre eles ser√£o fornecidos abaixo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerente de certifica√ß√£o</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O gerenciador de certifica√ß√µes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um projeto especial para o Kubernetes, que √© um conjunto de CustomResourceDefinitions (da√≠ a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limita√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da vers√£o m√≠nima suportada do K8s - v1.12) para configura√ß√£o da CA (autoridades de certifica√ß√£o) e pedido direto de certificados. </font><font style="vertical-align: inherit;">A instala√ß√£o do CRD em um cluster √© trivial e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se resume</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao uso de um arquivo YAML:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl create ns cert-manager<font></font>
kubectl apply -f https://github.com/jetstack/cert-manager/releases/download/v0.13.0/cert-manager.yaml</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamb√©m h√°</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a possibilidade de instalar usando o Helm.)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Para iniciar o procedimento de pedido, os recursos das autoridades de certifica√ß√£o (CA) devem ser declarados no cluster: </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>ClusterIssuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, - que s√£o usados ‚Äã‚Äãpara assinar o CSR (solicita√ß√µes de emiss√£o de certificado). </font><font style="vertical-align: inherit;">A diferen√ßa entre o primeiro recurso e o segundo est√° no escopo:</font></font><br>
<br>
<ul>
<li> <code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pode ser usado no mesmo espa√ßo para nome,</font></font></li>
<li> <code>ClusterIssuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um objeto de cluster global.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pratique com o gerente de certifica√ß√£o</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 1. </font><font style="vertical-align: inherit;">Certificado autoassinado</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar com o caso mais simples: solicitar um certificado autoassinado. </font><font style="vertical-align: inherit;">Essa op√ß√£o √© bastante comum, por exemplo, para ambientes de teste din√¢mico para desenvolvedores ou no caso de usar um balanceador externo que finalize o tr√°fego SSL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O recurso </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ter√° a seguinte apar√™ncia:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: selfsigned<font></font>
spec:<font></font>
  selfSigned: {}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E para emitir um certificado, √© necess√°rio descrever o recurso </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, onde √© indicado como emiti-lo (consulte a se√ß√£o </font></font><code>issuerRef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abaixo) e onde </font></font><code>secretName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° localizada </font><font style="vertical-align: inherit;">a chave privada (campo </font><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Depois disso, o Ingress precisar√° consultar esta chave (consulte a se√ß√£o </font></font><code>tls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font><code>spec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: selfsigned-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: selfsigned<font></font>
  commonName: "yet-another.website"<font></font>
  dnsNames:<font></font>
  - "yet-another.website"<font></font>
---<font></font>
apiVersion: networking.k8s.io/v1beta1<font></font>
kind: Ingress<font></font>
metadata:<font></font>
  name: app<font></font>
spec:<font></font>
  tls:<font></font>
  - hosts:<font></font>
    - "yet-another.website"<font></font>
    secretName: tls-secret<font></font>
  rules:<font></font>
  - host: "yet-another.website"<font></font>
    http:<font></font>
      paths:<font></font>
      - path: /<font></font>
        backend:<font></font>
          serviceName: app<font></font>
          servicePort: 8080</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alguns segundos ap√≥s adicionar esses recursos ao cluster, o certificado ser√° emitido. </font><font style="vertical-align: inherit;">Voc√™ pode ver o relat√≥rio correspondente na sa√≠da do comando:</font></font><br>
<br>
<pre><code class="plaintext hljs">kubectl -n app describe  certificate selfsigned-crt<font></font>
...<font></font>
  Normal  GeneratedKey  5s    cert-manager  Generated a new private key<font></font>
  Normal  Requested     5s    cert-manager  Created new CertificateRequest resource "selfsigned-crt-4198958557"<font></font>
  Normal  Issued        5s    cert-manager  Certificate issued successfully</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ olhar para o pr√≥prio recurso secreto, ele conter√°:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chave privada </font></font><code>tls.key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">certificado raiz </font></font><code>ca.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nosso certificado autoassinado </font></font><code>tls.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conte√∫do desses arquivos pode ser visto usando o utilit√°rio </font></font><code>openssl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, por exemplo, assim:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -issuer<font></font>
notBefore=Feb 10 21:01:59 2020 GMT<font></font>
notAfter=May 10 21:01:59 2020 GMT<font></font>
issuer=O = cert-manager, CN = yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â importante notar que, no caso geral, o certificado emitido usando isso </font><b><font style="vertical-align: inherit;">n√£o ser√° confi√°vel pelos</font></b></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> clientes conectados </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">O motivo √© simples: ele n√£o possui uma autoridade de certifica√ß√£o </font><i><font style="vertical-align: inherit;">(consulte a </font></i><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">nota no site do projeto</font></a></i><i><font style="vertical-align: inherit;"> )</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para evitar isso, √© necess√°rio especificar no </font><font style="vertical-align: inherit;">caminho para o arquivo secreto onde ele est√° contido </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pode ser uma organiza√ß√£o corporativa da CA - para assinar os certificados emitidos para o Ingress com uma chave que j√° √© usada para as necessidades de outros servi√ßos / sistemas de informa√ß√µes do servidor.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><code>Certificate</code><font style="vertical-align: inherit;"></font><code>ca.crt</code><font style="vertical-align: inherit;"></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 2. </font><font style="vertical-align: inherit;">Vamos criptografar certificado com valida√ß√£o HTTP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para emitir certificados LE, como mencionado anteriormente, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dois tipos de confirma√ß√£o de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propriedade </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">do</font></a><font style="vertical-align: inherit;"> dom√≠nio </font><font style="vertical-align: inherit;">est√£o dispon√≠veis </font><font style="vertical-align: inherit;">: HTTP-01 e DNS-01. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira abordagem (HTTP-01) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://cert-manager.io/docs/configuration/acme/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> iniciar um pequeno servidor Web com uma implanta√ß√£o separada, que enviar√° para a Internet pelo link </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;YOUR_DOMAIN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; / </font><a href=""><font style="vertical-align: inherit;">.Bem</font></a><font style="vertical-align: inherit;"> conhecido / acme-challenge / &lt;TOKEN&gt; alguns dados solicitados ao servidor de certifica√ß√£o. </font><font style="vertical-align: inherit;">Portanto, esse m√©todo implica a disponibilidade do Ingress de fora da porta 80 e a resolu√ß√£o do registro DNS do dom√≠nio em endere√ßos IP p√∫blicos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A segunda op√ß√£o para verificar o certificado emitido (DNS-01) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vem de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de ter uma API no servidor DNS que hospeda os registros de dom√≠nio. O emissor, usando os tokens indicados, cria registros TXT no dom√≠nio, que o servidor ACME recebe durante a confirma√ß√£o. Entre os provedores DNS oficialmente suportados, est√£o CloudFlare, AWS Route53, Google CloudDNS e outros, incluindo sua pr√≥pria implementa√ß√£o ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acme-dns</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Let's Encrypt tem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limites</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bastante </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">r√≠gidos</font></a><font style="vertical-align: inherit;"> nas solicita√ß√µes para servidores ACME. Para n√£o entrar em uma proibi√ß√£o longa, √© recomend√°vel usar o tipo de certificado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">letsencrypt-staging</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para depura√ß√£o </font><font style="vertical-align: inherit;">(a diferen√ßa est√° apenas no servidor ACME). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, descrevemos os recursos:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-staging-v02.api.letsencrypt.org/directory <font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - http01:<font></font>
       ingress:<font></font>
         class: nginx<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: le-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: letsencrypt<font></font>
  commonName: yet-another.website<font></font>
  dnsNames:<font></font>
  - yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observe que o </font><font style="vertical-align: inherit;">endere√ßo do </font><font style="vertical-align: inherit;">servidor </font><b><font style="vertical-align: inherit;">intermedi√°rio</font></b><font style="vertical-align: inherit;"> est√° especificado </font><font style="vertical-align: inherit;">como </font></font><code>server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>acme</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Substitu√≠-lo por uma batalha ser√° poss√≠vel mais tarde. </font><font style="vertical-align: inherit;">
Aplicando essa configura√ß√£o, tra√ßamos todo o caminho do pedido:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A cria√ß√£o </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gerou um novo recurso </font></font><code>CertificateRequest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe certificate le-crt<font></font>
...<font></font>
Created new CertificateRequest resource <span class="hljs-string">"le-crt-1127528680"</span></code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em sua descri√ß√£o - uma marca na cria√ß√£o </font></font><code>Order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe certificaterequests le-crt-1127528680<font></font>
‚Ä¶<font></font>
Created Order resource app/le-crt-1127528680-1805948596</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ele </font></font><code>Order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">descreve com quais par√¢metros o teste passa e qual √© seu status atual. </font><font style="vertical-align: inherit;">Essa verifica√ß√£o √© realizada pelo recurso </font></font><code>Challenge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe order le-crt-1127528680-1805948596<font></font>
‚Ä¶<font></font>
Created Challenge resource <span class="hljs-string">"le-crt-1127528680-1805948596-1231544594"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span></code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por fim, os detalhes deste recurso cont√™m informa√ß√µes sobre o status da pr√≥pria verifica√ß√£o:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe challenges le-crt-1127528680-1805948596-1231544594<font></font>
...<font></font>
  Reason:      Successfully authorized domain                                                                                                                                                                      <font></font>
...<font></font>
  Normal  Started         2m45s  cert-manager  Challenge scheduled <span class="hljs-keyword">for</span> processing<font></font>
  Normal  Presented       2m45s  cert-manager  Presented challenge using http-01 challenge mechanism<font></font>
  Normal  DomainVerified  2m22s  cert-manager  Domain <span class="hljs-string">"yet-another.website"</span> verified with <span class="hljs-string">"http-01"</span> validation</code></pre></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se todas as condi√ß√µes forem atendidas (ou seja, o dom√≠nio for acess√≠vel a partir do exterior, n√£o haver√° proibi√ß√£o da LE ...) - em menos de um minuto, o certificado ser√° emitido. </font><font style="vertical-align: inherit;">Se for bem-sucedido, um </font></font><code>describe certificate le-crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registro aparecer√° </font><font style="vertical-align: inherit;">na sa√≠da </font></font><code>Certificate issued successfully</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora voc√™ pode alterar com seguran√ßa o endere√ßo do servidor para combat ( </font></font><code>https://acme-v02.api.letsencrypt.org/directory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) e reordenar os certificados reais j√° assinados </font></font><code>Fake LE Intermediate X1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas </font><font style="vertical-align: inherit;">n√£o </font></font><code>Let's Encrypt Authority X3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, primeiro √© necess√°rio excluir o recurso </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: caso contr√°rio, nenhum procedimento de pedido ser√° ativado, porque o certificado j√° existe e √© relevante. </font><font style="vertical-align: inherit;">A remo√ß√£o de um segredo levar√° ao seu retorno imediato com uma mensagem para </font></font><code>describe certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">  Normal  PrivateKeyLost  44s                   cert-manager  Lost private key for CertificateRequest "le-crt-613810377", deleting old resource</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resta aplicar o manifesto de ‚Äúcombate‚Äù </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ao j√° descrito acima </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(n√£o foi alterado):</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-v02.api.letsencrypt.org/directory<font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - http01:<font></font>
       ingress:<font></font>
         class: nginx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s receber a mensagem </font></font><code>Certificate issued successfully</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>describe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verifique:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -issuer<font></font>
notBefore=Feb 10 21:11:48 2020 GMT<font></font>
notAfter=May 10 21:11:48 2020 GMT<font></font>
issuer=C = US, O = Let<span class="hljs-string">'s Encrypt, CN = Let'</span>s Encrypt Authority X3</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√∫mero 3. </font><font style="vertical-align: inherit;">Curinga LE com valida√ß√£o de DNS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos complicar a tarefa escrevendo um certificado imediatamente para todos os subdom√≠nios do site e desta vez usando a verifica√ß√£o DNS (via CloudFlare). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, obtenha o token no painel de controle do CloudFlare para trabalhar com a API:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perfil ‚Üí Tokens de API ‚Üí Criar Token.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Defina as permiss√µes da seguinte maneira:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permiss√µes:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zona - DNS - Editar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zona - Zona - Leitura</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos da zona:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incluir - todas as zonas</font></font></li>
</ul></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copie o token recebido ap√≥s salvar (por exemplo :) </font></font><code>y_JNkgQwkroIsflbbYqYmBooyspN6BskXZpsiH4M</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crie um segredo no qual esse token ser√° armazenado e consulte-o no emissor:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: v1<font></font>
kind: Secret<font></font>
metadata:<font></font>
  name: cloudflare-api-token<font></font>
type: Opaque<font></font>
stringData:<font></font>
  api-token: y_JNkgQwkroIsflbbYqYmBooyspN6BskXZpsiH4M<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-v02.api.letsencrypt.org/directory <font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - dns01:<font></font>
        cloudflare:<font></font>
          email: my-cloudflare-acc@example.com<font></font>
          apiTokenSecretRef:<font></font>
            name: cloudflare-api-token<font></font>
            key: api-token<font></font>
<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: le-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: letsencrypt<font></font>
  commonName: yet-another.website<font></font>
  dnsNames:<font></font>
  - "yet-another.website"<font></font>
  - "*.yet-another.website"</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(N√£o se esque√ßa de usar o armazenamento tempor√°rio, se voc√™ estiver experimentando!)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Vamos seguir o processo de confirma√ß√£o da propriedade do dom√≠nio:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe challenges.acme.cert-manager.io le-crt-613810377-1285319347-3806582233<font></font>
...<font></font>
Status:<font></font>
  Presented:   <span class="hljs-literal">true</span>
  Processing:  <span class="hljs-literal">true</span>
  Reason:      Waiting <span class="hljs-keyword">for</span> dns-01 challenge propagation: DNS record <span class="hljs-keyword">for</span> <span class="hljs-string">"yet-another.website"</span> not yet propagated<font></font>
  State:       pending<font></font>
Events:<font></font>
  Type    Reason     Age   From          Message<font></font>
  ----    ------     ----  ----          -------<font></font>
  Normal  Started    54s   cert-manager  Challenge scheduled <span class="hljs-keyword">for</span> processing<font></font>
  Normal  Presented  53s   cert-manager  Presented challenge using dns-01 challenge mechanism</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um registro TXT aparecer√° no painel: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/hk/jc/pohkjc19ui1olxdlfeaiuuqm3ne.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... e depois de um tempo o status mudar√° para:</font></font><br>
<br>
<pre><code class="plaintext hljs">Domain "yet-another.website" verified with "dns-01" validation</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verifique se o certificado √© v√°lido para qualquer subdom√≠nio:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -text |grep DNS:<font></font>
          DNS:*.yet-another.website, DNS:yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A valida√ß√£o pelo DNS, por via de regra, n√£o ocorre rapidamente, pois a maioria dos provedores de DNS tem um per√≠odo de atualiza√ß√£o de dados que mostra quanto tempo decorre desde o momento em que o registro DNS √© alterado para a atualiza√ß√£o real de todos os servidores DNS do provedor. </font><font style="vertical-align: inherit;">No entanto, o padr√£o ACME tamb√©m fornece uma combina√ß√£o de duas op√ß√µes de verifica√ß√£o, que podem ser usadas para agilizar o recebimento de um certificado para o dom√≠nio principal. </font><font style="vertical-align: inherit;">Nesse caso, a descri√ß√£o </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ser√° a seguinte:</font></font><br>
<br>
<pre><code class="1c hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https:<span class="hljs-comment">//acme-v02.api.letsencrypt.org/directory</span><font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - selector:<font></font>
        dnsNames:<font></font>
        - <span class="hljs-string">"*.yet-another.website"</span><font></font>
      dns01:<font></font>
        cloudflare:<font></font>
          email: my-cloudflare-acc@example.com<font></font>
          apiTokenSecretRef:<font></font>
            name: cloudflare-api-token<font></font>
            key: api-token            <font></font>
    - selector:<font></font>
        dnsNames:<font></font>
        - <span class="hljs-string">"yet-another.website"</span><font></font>
      http01:<font></font>
        ingress:<font></font>
          class: nginx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ aplicar essa configura√ß√£o, dois recursos ser√£o criados </font></font><code>Challenge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe orders le-crt-613810377-1285319347<font></font>
‚Ä¶<font></font>
  Normal  Created  3m29s  cert-manager  Created Challenge resource <span class="hljs-string">"le-crt-613810377-1285319347-3996324737"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span>                 
  Normal  Created  3m29s  cert-manager  Created Challenge resource <span class="hljs-string">"le-crt-613810377-1285319347-1443470517"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√∫mero 4. </font><font style="vertical-align: inherit;">Usando anota√ß√µes especiais do Ingress</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m do caminho direto para a cria√ß√£o de certificados no gerenciador de certificados, √© poss√≠vel usar um componente chamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ingress-shim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e n√£o criar recursos explicitamente </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. A id√©ia √© que, com a ajuda de anota√ß√µes especiais do Ingress, o certificado seja pedido automaticamente usando o indicado nelas </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. O resultado √© aproximadamente o seguinte recurso do Ingress:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: networking.k8s.io/v1beta1<font></font>
kind: Ingress<font></font>
metadata:<font></font>
  annotations:<font></font>
    cert-manager.io/cluster-issuer: letsencrypt<font></font>
spec:<font></font>
  tls:<font></font>
  - hosts:<font></font>
    - "yet-another.website"<font></font>
    secretName: tls-secret<font></font>
  rules:<font></font>
  - host: "yet-another.website"<font></font>
    http:<font></font>
      paths:<font></font>
      - path: /<font></font>
        backend:<font></font>
          serviceName: app<font></font>
          servicePort: 8080</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para uma opera√ß√£o correta, apenas a presen√ßa do Emissor √© suficiente aqui, ou seja, criando uma entidade a menos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, h√° uma </font><font style="vertical-align: inherit;">anota√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obsoleta</font></font></b></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kube-lego</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>kubernetes.io/tls-acme: "true"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, - que requer uma tarefa </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">padr√£o ao instalar o gerenciador de certificados usando os par√¢metros Helm (ou nas op√ß√µes de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">ativa√ß√£o</font></a><font style="vertical-align: inherit;"> do cont√™iner do gerenciador). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na empresa, n√£o usamos essas op√ß√µes e n√£o podemos aconselh√°-las devido √† opacidade das abordagens usadas para solicitar certificados SSL (e ao mesmo tempo a v√°rios </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">problemas que surgem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), mas ainda assim decidimos mencionar no artigo para obter uma imagem mais completa.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em vez de uma conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por meio de manipula√ß√µes simples com o CRD, aprendemos a escrever certificados SSL auto-renov√°veis, autoassinados e gratuitos no projeto Let's Encrypt para sites de dom√≠nio lan√ßados como parte dos agrupamentos do Ingresss in Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O artigo fornece exemplos de solu√ß√£o dos problemas mais comuns em nossa pr√°tica. </font><font style="vertical-align: inherit;">No entanto, as fun√ß√µes de gerente de certifica√ß√£o n√£o se limitam aos recursos descritos acima. </font><font style="vertical-align: inherit;">No site do utilit√°rio, voc√™ pode encontrar exemplos de como trabalhar com outros servi√ßos - por exemplo, um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pacote com o Vault</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uso de centros de emiss√£o externos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (emissores).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leia tamb√©m no nosso blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma introdu√ß√£o √†s pol√≠ticas de rede Kubernetes para profissionais de seguran√ßa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dicas e truques do Kubernetes: p√°gina de erro personalizada no Ingress NGINX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª;</font></font></li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    Ingress  Kubernetes</a>¬ª.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt496914/index.html">O menor programa decimal</a></li>
<li><a href="../pt496916/index.html">Ensinando, negociando e consultando remotamente - Parte 3: Yealink Meeting Server e 4 ofertas especiais</a></li>
<li><a href="../pt496920/index.html">Construindo uma casa inteligente com o ASP.NET Core e o Arduino</a></li>
<li><a href="../pt496922/index.html">Guia sobre cliente-servidor reverso apk no exemplo do trabalho NeoQUEST-2020</a></li>
<li><a href="../pt496924/index.html">Roteamento de Componentes da Web</a></li>
<li><a href="../pt496938/index.html">Supercomputadores, sequenciamento de genoma e as perspectivas de derrotar o coronav√≠rus</a></li>
<li><a href="../pt496940/index.html">Como os engenheiros da GM testam a eletr√¥nica</a></li>
<li><a href="../pt496942/index.html">Eventos digitais em Moscou, de 13 a 19 de abril</a></li>
<li><a href="../pt496944/index.html">Eventos digitais em S√£o Petersburgo, de 13 a 19 de abril</a></li>
<li><a href="../pt496946/index.html">Mais uma vez sobre as chaves de hardware GPG por um centavo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>