<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙄 🎦 🧕 مجرد أداة أخرى: التعرف على تكوين الخدمة باستخدام Desired State Configuration  👇 ✉️ 🌽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="تعد تهيئة الحالة المرغوبة (DSC) أداة لإدارة تكوين الخادم. باستخدامه ، يمكنك تكوين الخادم (إجراء تغييرات على السجل ، ونسخ الملفات ، وتثبيت المكونات وإز...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>مجرد أداة أخرى: التعرف على تكوين الخدمة باستخدام Desired State Configuration </h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/503072/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تعد تهيئة الحالة المرغوبة (DSC) أداة لإدارة تكوين الخادم. باستخدامه ، يمكنك تكوين الخادم (إجراء تغييرات على السجل ، ونسخ الملفات ، وتثبيت المكونات وإزالتها) ، ومراقبة الحالة الحالية للإعدادات والعودة بسرعة إلى الإعدادات الأساسية. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DSC مثير للاهتمام بالنسبة لأولئك الذين يتبعون نهج DevOps. تتناسب هذه الأداة بشكل جيد مع نموذج البنية التحتية كرمز: يمكن للمطورين إضافة متطلباتهم إلى التكوين وتضمينها في نظام التحكم في الإصدار ، ويمكن للفرق نشر التعليمات البرمجية دون استخدام العمليات "اليدوية". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
جنبا إلى جنب مع </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ستانيسلاف بولداكوف</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> من </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raiffeisenbank</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">قمنا بدمج تجربتنا مع محرك DSC وتقسيمها إلى مقالتين. </font><font style="vertical-align: inherit;">في البداية ، سنقوم بتحليل المبادئ الأساسية للعمل والتعرف على ميزات الاستخدام في الأمثلة العملية:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"فك العلبة" بمحرك DSC ، واعرف ما هي الموارد افتراضيًا ، وأظهر مكان الحصول على موارد إضافية ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">دعونا نرى كيفية وصف التكوين في DSC ؛&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">سنتعرف على كيفية قيام وكيل التهيئة المحلي المضمّن بتطبيق التكوينات على الخادم ، وإظهار كيفية تكوينه باستخدام التكوينات الوصفية ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">دعنا ننتقل إلى حالات تكوين أكثر تعقيدًا: تكوينات جزئية وتكوينات كعب الروتين.</font></font><br>
</li>
</ul><br>
<img src="https://habrastorage.org/webt/6p/cb/my/6pcbmyoaiunjv7xpcgcckapk4ok.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DSC هو محرك خفيف الوزن وسريع. </font><font style="vertical-align: inherit;">على سبيل المثال ، باستخدامه ، يمكنك تثبيت .NET Framework 3.5 على الأجهزة الافتراضية بشكل أسرع. </font><font style="vertical-align: inherit;">إليك ما يساعده على تسريع عملية تكوين الخدمة:</font></font><br>
<br>
<ul>
<li><b> « »   Windows   PowerShell.&nbsp;</b><br>
DSC     PowerShell      Windows Management Framework.  Linux  .  ,     PowerShell.&nbsp;</li>
<li><b>,       .&nbsp;</b><br>
 ,     ,   ,     .         DSC.&nbsp;</li>
<li><b>,            .</b> <br>
DSC          ,     .           .<br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يتم تنفيذ التكوينات دائمًا بالتتابع ، بدون شروط وتفرعات. </font><font style="vertical-align: inherit;">لذلك ، باختصار ، تبدو خوارزمية تشغيل DSC كما يلي:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تكوين </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مدير التكوين المحلي (LCM)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">هذا هو الوكيل المدمج المسؤول عن تطبيق التكوينات على الخادم. </font><font style="vertical-align: inherit;">نقول له كيف يجب أن تعمل التكوينات المعلنة وبأي ترتيب.&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">إذا كانت هناك حاجة إلى موارد إضافية ، فقم بتثبيتها وتوصيلها مسبقًا.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">في شكل إعلاني ، نكتب ترتيب التكوين.&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">نشرنا التكوين بتنسيق ملف MOF.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">نرسل التكوين إلى الخادم المنشور حديثًا أو الموجود.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يتلقى LCM التكوين (ملف MOF) بالإضافة إلى تعليمات إعداد LCM نفسه.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يتم تطبيق التكوين على الفور من قبل فريقنا.</font></font><br>
</li>
</ol><br>
<img src="https://habrastorage.org/webt/xi/-k/br/xi-kbrc_in9acfygcdn5a_o9fly.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مخطط مبسط لمعمارية DSC. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
سنبدأ التعرف على المحرك من خلال دراسة الموارد المحددة مسبقًا. </font><font style="vertical-align: inherit;">بعد ذلك ، حاول كتابة التكوين.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">موارد DSC&nbsp;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تعد موارد DSC نوعًا من التناظرية مع وحدات PowerShell. </font><font style="vertical-align: inherit;">يحتوي أي خادم Windows بالفعل على مجموعة محددة مسبقًا من موارد DSC ؛ فهي في نفس الدليل مثل وحدات PowerShell. </font><font style="vertical-align: inherit;">يمكن الحصول على القائمة من خلال Get-DscResourse cmdlet. </font><font style="vertical-align: inherit;">إليك ما تبدو عليه هذه القائمة في Windows 10 1809:</font></font><br>
&nbsp;<br>
<pre><code class="plaintext hljs">PS C:\windows\system32&gt; Get-DscResource | Sort-Object -Property Name | ft ImplementedAs, Name -a<font></font>
&nbsp;<font></font>
ImplementedAs Name<font></font>
------------- ----<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Archive<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Environment<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Binary File<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Group<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite GroupSet<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Binary Log<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Package<font></font>
&nbsp;&nbsp;&nbsp;PowerShell PackageManagement<font></font>
&nbsp;&nbsp;&nbsp;PowerShell PackageManagementSource<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite ProcessSet<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Registry<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Script<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Service<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite ServiceSet<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Binary SignatureValidation<font></font>
&nbsp;&nbsp;&nbsp;PowerShell User<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WaitForAll<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WaitForAny<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WaitForSome<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WindowsFeature<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite WindowsFeatureSet<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WindowsOptionalFeature<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite WindowsOptionalFeatureSet<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WindowsPackageCab<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WindowsProcess</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تعطي أسماء الموارد فهمًا لما تعمل به:&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الأرشيف - مع أرشيفات التعبئة والتفريغ ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">البيئة - مع متغيرات البيئة ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ملف - مع ملفات ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مجموعة - مع مجموعات المستخدمين المحليين ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">سجل - مع سجلات ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">حزمة — مع حزم البرامج ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">السجل —- باستخدام مفاتيح التسجيل وحالتها ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الخدمة - مع الخدمات وحالتها ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">المستخدم - مع حسابات المستخدمين المحلية ؛</font></font><br>
</li>
<li>WindowsFeature —   Windows Server;<br>
</li>
<li>WindowsProcess —   Windows;<br>
</li>
<li>Script —&nbsp;   PowerShell-   .  3  : SetScript —  -, TestScript — ,      , GetScript —    .<br>
</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">في أغلب الأحيان ، لا تكفي موارد DSC الجاهزة</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . في هذه الحالة ، يمكنك كتابة البرامج النصية الخاصة بك لكل شيء يتجاوز الوحدة القياسية. لكي لا تعيد اختراع العجلة ، يمكنك استخدام موارد DSC المكتوبة من قبل المطورين الآخرين. على سبيل المثال ، من هنا </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/PowerShell/DscResources</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> أو من </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSGallery</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .&nbsp; </font></font><br>
&nbsp;<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كيفية تثبيت موارد إضافية</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . نستخدم cmdlet </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تثبيت الوحدة النمطية</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . تثبيت الموارد هو ببساطة نسخ ملفات الموارد على طول أحد المسارات في </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ env:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> متغير بيئة </font><b><font style="vertical-align: inherit;">PSModulePath</font></b><font style="vertical-align: inherit;"> . لا يتم توصيل الموارد المثبتة تلقائيًا أثناء التجميع ، لذلك سنقوم لاحقًا بتوصيلها في التكوين نفسه.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لاستخدام مورد ، تحتاج إلى تثبيته محليًا وعلى الخادم الهدف. </font><font style="vertical-align: inherit;">في البنى التحتية داخل المباني ، تمنع سياسة الأمان عادةً الوصول إلى الإنترنت للخوادم. </font><font style="vertical-align: inherit;">في هذه الحالة ، لن يتمكن خادم DSC من تحميل موارد إضافية من مصادر خارجية. </font><font style="vertical-align: inherit;">لنشر المحفوظات مع الوحدات النمطية ، نقوم بنشر مستودع NuGet محلي أو خادم ويب منتظم. </font><font style="vertical-align: inherit;">يمكنك تثبيت موارد إضافية لخادم الويب عن طريق تفريغ الوحدة النمطية في دليل C: \ Program Files \ WindowsPowerShell \ Modules \ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
وهذا بالضبط ما يفعله cmdlet لـ Install-Module. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
في المقالة الثانية ، سنلقي نظرة فاحصة على الفرق بين إعداد وضعي الدفع والسحب.&nbsp;</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تحليل التكوين البسيط</font></font></h2><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">التكوين</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> هو وصف بسيط ومتسق لما يجب القيام به على الخادم. </font><font style="vertical-align: inherit;">هذه هي الطريقة التي تبدو بها تهيئة DSC البسيطة:&nbsp;</font></font><br>
<br>
<pre><code class="powershell hljs">Configuration EnvironmentVariable_Path<font></font>
{<font></font>
<span class="hljs-keyword">param</span> ()
<span class="hljs-built_in">Import-DscResource</span> <span class="hljs-literal">-ModuleName</span> <span class="hljs-string">'PSDscResources'</span><font></font>
Node localhost<font></font>
&nbsp; &nbsp; {<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; Environment CreatePathEnvironmentVariable<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; {<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Name = <span class="hljs-string">'TestPathEnvironmentVariable'</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Value = <span class="hljs-string">'TestValue'</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Ensure = <span class="hljs-string">'Present'</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Path = <span class="hljs-variable">$true</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Target = <span class="hljs-selector-tag">@</span>(<span class="hljs-string">'Process'</span>, <span class="hljs-string">'Machine'</span>)<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; }<font></font>
&nbsp; &nbsp; }<font></font>
}<font></font>
EnvironmentVariable_Path <span class="hljs-literal">-OutputPath</span>:<span class="hljs-string">"C:\EnvironmentVariable_Path"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
على سبيل المثال ، دعنا نرى ما يتكون التكوين. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كتلة </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">التكوين</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> هي نوع خاص من وظائف PowerShell التي تصف ما نريد الحصول عليه.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يحتوي داخل الكتلة على:&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كتلة </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">بارزة</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> مع معلمات يمكن استخدامها داخليًا ؛&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">حظر مع مكالمات PowerShell إضافية. </font><font style="vertical-align: inherit;">هنا في بداية التكوين ، نقوم دائمًا بتشغيل </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Import-Resource</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> لتوصيل موارد إضافية ؛</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كتل مع إعدادات لخوادم اسم الخادم </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">العقدة</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ </font><font style="vertical-align: inherit;">محددة </font><font style="vertical-align: inherit;">.&nbsp;</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
داخل كتلة </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">العقدة</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ، </font><font style="vertical-align: inherit;">نشير إلى الموارد الموجودة على خادم معين سنقوم بتكوينه. </font><font style="vertical-align: inherit;">في المثال أعلاه ، يقوم هذا بإنشاء متغير بيئة باستخدام مورد بيئة عادي. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
دعونا نلقي نظرة أعمق قليلاً ونلقي نظرة على بناء جملة مورد معين من خلال الأمر Get-DscResource -Name Environment -Syntax:</font></font><br>
&nbsp;<br>
<pre><code class="powershell hljs">
<span class="hljs-built_in">PS</span> C:\windows\system32&gt; <span class="hljs-built_in">Get-DscResource</span> <span class="hljs-literal">-Name</span> Environment <span class="hljs-literal">-Syntax</span>
Environment [<span class="hljs-built_in">String</span>] <span class="hljs-comment">#ResourceName</span><font></font>
{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Name = [<span class="hljs-built_in">string</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">DependsOn</span> = [<span class="hljs-built_in">string</span>[]]]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">Ensure</span> = [<span class="hljs-built_in">string</span>]{ <span class="hljs-type">Absent</span> | <span class="hljs-type">Present</span> }]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">Path</span> = [<span class="hljs-built_in">bool</span>]]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">PsDscRunAsCredential</span> = [<span class="hljs-type">PSCredential</span>]]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">Value</span> = [<span class="hljs-built_in">string</span>]]<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
في هذا المثال:&nbsp;</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الاسم</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - اسم متغير البيئة.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">في </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DependsOn ،</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> نحدد الاعتماد على الموارد الأخرى. </font><font style="vertical-align: inherit;">من المهم أن تتذكر أن العملية لن يتم تنفيذها حتى يكتمل المورد المحدد هنا.&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">في </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ضمان ،</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> نحدد شروط التكوين. </font><font style="vertical-align: inherit;">إذا كان هذا المتغير غائبًا ، فسننشئه ؛ </font><font style="vertical-align: inherit;">إذا كان موجودًا ، فلن يتم تكوين هذا المورد.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">على </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مسار</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> يحدد ما إذا كان متغير بيئة تحتوي على المسار.&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">في </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PsDscRunAsCredential</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> بيانات الاعتماد المحددة.</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">القيمة</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - قيمة متغير البيئة.&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">و </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الهدف</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> يجوز أن يبين في احترام منهم يتم تطبيق التكوين.</font></font><br>
</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كيفية بدء التجميع</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">نسمي فقط التكوين باسمه بالمعلمات الضرورية. </font><font style="vertical-align: inherit;">ستكون النتيجة ملف mof ، والذي يستخدمه محرك DSC أيضًا لتكوين خادم معين:</font></font><br>
&nbsp;<br>
<pre><code class="plaintext hljs">PS C:\windows\system32&gt; EnvironmentVariable_Path -OutputPath:"C:\EnvironmentVariable_Path"<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Directory: C:\EnvironmentVariable_Path<font></font>
&nbsp;<font></font>
Mode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LastWriteTime &nbsp; &nbsp; &nbsp; &nbsp; Length Name<font></font>
----&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ------------- &nbsp; &nbsp; &nbsp; &nbsp; ------ ----<font></font>
-a---- &nbsp; &nbsp; &nbsp; 25.02.2020 &nbsp; &nbsp; 14:05 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2172 localhost.mof</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تكوين مدير التكوين المحلي</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
مدير التكوين المحلي مسؤول عن تطبيق التكوينات التي قمنا بتجميعها في ملفات mof. </font><font style="vertical-align: inherit;">هو الذي يراقب الحفاظ على الدولة المحدد في التكوين. </font><font style="vertical-align: inherit;">إذا ترك النظام هذه الحالة ، يستدعي LCM الرمز في الموارد لاستعادة الحالة المحددة.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
دعونا نرى إعدادات مدير التكوين المحلي من خلال Get-DscLocalConfigurationManager:</font></font><br>
&nbsp;<br>
<pre><code class="plaintext hljs">PS C:\windows\system32&gt; Get-DscLocalConfigurationManager<font></font>
&nbsp;<font></font>
ActionAfterReboot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : ContinueConfiguration<font></font>
AgentId&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 1FB3A2EE-57C9-11EA-A204-58A023EF3A48<font></font>
AllowModuleOverWrite &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : False<font></font>
CertificateID&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
ConfigurationDownloadManagers&nbsp; : {}<font></font>
ConfigurationID&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
ConfigurationMode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : ApplyAndMonitor<font></font>
ConfigurationModeFrequencyMins : 15<font></font>
Credential &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
DebugMode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : {NONE}<font></font>
DownloadManagerCustomData&nbsp; &nbsp; &nbsp; :<font></font>
DownloadManagerName&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
LCMCompatibleVersions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : {1.0, 2.0}<font></font>
LCMState &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : Idle<font></font>
LCMStateDetail &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
LCMVersion &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 2.0<font></font>
StatusRetentionTimeInDays&nbsp; &nbsp; &nbsp; : 10<font></font>
SignatureValidationPolicy&nbsp; &nbsp; &nbsp; : NONE<font></font>
SignatureValidations &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : {}<font></font>
MaximumDownloadSizeMB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 500<font></font>
PartialConfigurations&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
RebootNodeIfNeeded &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : False<font></font>
RefreshFrequencyMins &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 30<font></font>
RefreshMode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : PUSH<font></font>
ReportManagers &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : {}<font></font>
ResourceModuleManagers &nbsp; &nbsp; &nbsp; &nbsp; : {}<font></font>
PSComputerName &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
</code></pre><br>
<ul>
<li><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يحتوي </font><b><font style="vertical-align: inherit;">RefreshMode</font></b><font style="vertical-align: inherit;"> على وضع التشغيل LCM - دفع أو سحب. </font><font style="vertical-align: inherit;">سنتحدث أكثر عن الأوضاع في المقالة الثانية.</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يعرض </font><b><font style="vertical-align: inherit;">ConfigurationMode</font></b><font style="vertical-align: inherit;"> وضع تطبيق التكوين الحالي. </font><font style="vertical-align: inherit;">في حالتنا ، هو ApplyAndMonitor - تطبيق التغييرات وتتبعها. </font><font style="vertical-align: inherit;">تتوفر أوضاع ApplyOnly أيضًا (لن يتتبع LCM تغييرات التكوين) وأنماط ApplyAndAutocorrect (لن يتتبع LCM التغييرات فحسب ، بل سيعيدها أيضًا إلى التكوين الأساسي).</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RebootNodeIfNeeded</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - يمكن إعادة تشغيل الخادم بعد اكتمال التكوين ، إذا لزم الأمر لتطبيق الإعدادات.&nbsp;</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ConfigurationModeFrequencyMins</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - يحدد عدد المرات التي سيبحث فيها LCM عن تغييرات التكوين.</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تغيير إعدادات LCM في التكوين التعريفي. </font><font style="vertical-align: inherit;">هنا مثالها:</font></font><br>
&nbsp;<br>
<pre><code class="powershell hljs"><font></font>
Configuration LCMConfiguration<font></font>
{<font></font>
&nbsp;&nbsp;&nbsp;Node Localhost<font></font>
&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LocalConfigurationManager<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RebootNodeIfNeeeded = <span class="hljs-variable">$True</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
LCMConfiguration</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نفس الشيء بالنسبة لأحدث إصدار من WMF مع التعليقات:</font></font><br>
<br>
<pre><code class="powershell hljs"><font></font>
&nbsp;<font></font>
[<span class="hljs-type">DSCLocalConfigurationManager</span>()]<font></font>
Configuration LCMConfiguration<font></font>
{<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">param</span><font></font>
&nbsp;&nbsp;&nbsp;(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-built_in">string</span>[]]<span class="hljs-variable">$Server</span> = <span class="hljs-string">"localhost"</span><font></font>
&nbsp;&nbsp;&nbsp;)<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#  LCM:</span>
<span class="hljs-comment">#  ,  </span>
<span class="hljs-comment"># : PUSH</span>
<span class="hljs-comment">#    30 </span>
&nbsp;&nbsp;&nbsp;Node <span class="hljs-variable">$Server</span><font></font>
&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Settings<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RebootNodeIfNeeded = <span class="hljs-variable">$True</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshMode&nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-string">'Push'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshFrequencyMins = <span class="hljs-number">30</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#   </span>
LCMConfiguration <span class="hljs-literal">-Server</span> <span class="hljs-string">"localhost"</span> <span class="hljs-literal">-OutputPath</span> <span class="hljs-string">"C:\DSC\MetaConfigurations\EnvironmentVariable_Path\"</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ملامح التكوين metaconfiguration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">عند كتابة تكوين metaconfiguration ، نستخدم نفس الكتل المستخدمة في تكوين DSC العادي. </font><font style="vertical-align: inherit;">الاستثناء هو الكتلة الداخلية LocalConfigurationManager (v4) أو السمة DSCLocalConfigurationManager (v5) لخادم معين. </font><font style="vertical-align: inherit;">يصفون جميع الإعدادات اللازمة.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يتم أيضًا تجميع metaconfiguration في ملف mof ، ولكن لاستخدامه ، يتم استخدام الأمر cmdlet Set-DSCLocalConfigurationManager ، وليس Start-DSCConfiguration.</font></font><br>
&nbsp;<br>
<pre><code class="plaintext hljs">PS C:\windows\system32&gt; LCMConfiguration -OutputPath C:\EnvironmentVariable_Path\<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Directory: C:\EnvironmentVariable_Path<font></font>
&nbsp;<font></font>
Mode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LastWriteTime &nbsp; &nbsp; &nbsp; &nbsp; Length Name<font></font>
----&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ------------- &nbsp; &nbsp; &nbsp; &nbsp; ------ ----<font></font>
-a---- &nbsp; &nbsp; &nbsp; 26.02.2020 &nbsp; &nbsp; 20:05 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1016 Localhost.meta.mof<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
PS C:\windows\system32&gt; Set-DscLocalConfigurationManager -Path C:\EnvironmentVariable_Path\<font></font>
PS C:\windows\system32&gt; Get-DscLocalConfigurationManager<font></font>
&nbsp;<font></font>
…<font></font>
RebootNodeIfNeeded &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : True<font></font>
…</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نظريا ، لا شيء يمنعنا من الجمع بين تكوين LCM والموارد التقليدية داخل نفس التكوين. </font><font style="vertical-align: inherit;">ولكن من أجل البساطة ، يوصى بفصل تهجئة وتطبيق التكوين وتكوين metaconfiguration.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تكوينات جزئية&nbsp;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
التكوينات الجزئية - العديد من التكوينات التي يتم تنفيذها بالتتابع واحدة تلو الأخرى. </font><font style="vertical-align: inherit;">وهي مفيدة عندما تعمل عدة فرق على الخدمة. </font><font style="vertical-align: inherit;">يشير كل أمر من الأوامر إلى الإعدادات الخاصة بالجزء الخاص بها من الخدمة ، ثم يقوم التكوين الجزئي بتطبيق جميع الإعدادات بالتتابع. </font><font style="vertical-align: inherit;">في إعدادات LCM ، نحدد تكوينات جزئية في تكوينات </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PartialConfigurations</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
في التكوينات الجزئية ، يجب علينا مراعاة منطق DSC المباشر. </font><font style="vertical-align: inherit;">لا يسمح المحرك بالتفرع ، لذلك هناك حاجة إلى موارد إضافية لتلبية مختلف الشروط. </font><font style="vertical-align: inherit;">سنقوم بتحليل هذا مع بعض الأمثلة.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لنفترض أننا نريد تسليم التكوين إلى الخادم بشكل مضمون والمتابعة وفقًا للخوارزمية التالية:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">أولاً ، تحقق من تثبيت الوحدات النمطية الضرورية على الخادم.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">نقوم بالتهيئة ، والتي ستجعل الخادم في الحالة المطلوبة.</font></font><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
إليك ما يبدو عليه تكوين metaconfiguration مع العديد من التكوينات المتتالية في الداخل:</font></font><br>
<br>
<pre><code class="powershell hljs">
<span class="hljs-comment">#   </span>
[<span class="hljs-type">DSCLocalConfigurationManager</span>()]<font></font>
configuration MetaPushConfig<font></font>
{<font></font>
<span class="hljs-keyword">param</span><font></font>
&nbsp;&nbsp;&nbsp;(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">ValidateNotNullOrEmpty</span>()]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-built_in">string</span>] <span class="hljs-variable">$NodeName</span> = <span class="hljs-string">'localhost'</span><font></font>
&nbsp;&nbsp;&nbsp;)<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;Node <span class="hljs-variable">$NodeName</span><font></font>
&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;	<font></font>
 <span class="hljs-comment">#      LCM,    </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PartialConfiguration ModulesDownloadConfig<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Description = <span class="hljs-string">'Download and install modules'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshMode = <span class="hljs-string">'Push'</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#        </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PartialConfiguration ServerOSConfig<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DependsOn = <span class="hljs-string">"[PartialConfiguration]ModulesDownloadConfig"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Description = <span class="hljs-string">'Configuration'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshMode = <span class="hljs-string">'Push'</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#   LCM</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Settings<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshMode&nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-string">'Push'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshFrequencyMins = <span class="hljs-number">30</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RebootNodeIfNeeded = <span class="hljs-variable">$true</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
&nbsp;<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#  </span>
MetaPushConfig <span class="hljs-literal">-NodeName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-OutputPath</span> c:\DSC\MetaConfigurations<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#      </span>
<span class="hljs-variable">$cred</span> = (<span class="hljs-built_in">Get-Credential</span> <span class="hljs-literal">-UserName</span> Administrator <span class="hljs-literal">-Message</span> <span class="hljs-string">"Enter admin credentials"</span>)<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#  LCM   </span>
<span class="hljs-built_in">Set-DscLocalConfigurationManager</span> <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-Credential</span> <span class="hljs-variable">$cred</span> <span class="hljs-literal">-Path</span> <span class="hljs-string">"c:\DSC\MetaConfigurations"</span> <span class="hljs-literal">-Verbose</span> <span class="hljs-literal">-Force</span><font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#  </span>
<span class="hljs-built_in">Publish-DscConfiguration</span> c:\DSC\Configurations\ModulesDownloadConfig <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-Credential</span> <span class="hljs-variable">$cred</span> <span class="hljs-literal">-Force</span>
<span class="hljs-built_in">Publish-DscConfiguration</span> c:\DSC\Configurations\ServerOSConfig <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-Credential</span> <span class="hljs-variable">$cred</span> <span class="hljs-literal">-Force</span><font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#    </span>
<span class="hljs-built_in">Start-DscConfiguration</span> <span class="hljs-literal">-UseExisting</span> <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-Credential</span> <span class="hljs-variable">$cred</span> <span class="hljs-literal">-Force</span> <span class="hljs-literal">-Verbose</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يقول الجزء الأول من التكوين </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تنزيل وتثبيت الوحدات النمطية</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s: تنزيل وتثبيت الموارد اللازمة. </font><font style="vertical-align: inherit;">الجزء الثاني من </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerOSConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> يجلب الخادم إلى الحالة المطلوبة. </font><font style="vertical-align: inherit;">ما هي الفروق الدقيقة مع استقامة DSC هنا:&nbsp;</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">إذا كان الجزء الأول من التهيئة يُرجع FALSE في البداية ويكتمل تمامًا ، فلن ينتقل LCM إلى التكوين الثاني. </font><font style="vertical-align: inherit;">وفقًا لمنطق DSC ، تحتاج أولاً إلى إحضار الخادم إلى الحالة الأولى الموضحة.&nbsp;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كيفية المعالجة: قم بتشغيل التكوين مرتين أو أتمتة العملية بأكملها في برنامج نصي.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">إذا كان الخادم بعد تثبيت أي مكون يتطلب إعادة تشغيل ، فإن التكوين لن يذهب أبعد من ذلك حتى نقوم نحن بإعادة تشغيل الخادم. </font><font style="vertical-align: inherit;">حتى لو أخبرنا LCM أن RebootNodeIfNeeeded = $ True ، فإن الوكيل سوف ينتظر حلنا أثناء التكوين. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كيفية المعالجة: يأتي مورد </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xPendingReboot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> في عملية </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">الإنقاذ</font></a><font style="vertical-align: inherit;"> ، التي تتحكم في مفتاح التسجيل عند إعادة التشغيل. </font><font style="vertical-align: inherit;">هذا المورد يعيد تشغيل الخادم بالنسبة لنا.</font></font><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
فيما يلي مثال لتكوين تنزيل الموارد وتثبيتها في سيناريو "المؤسسة الدموية" ، عندما لا يكون لدى الخادم وصول إلى الإنترنت. </font><font style="vertical-align: inherit;">يفترض وجود خادم ويب ، حيث تتوفر الموارد التي تم تنزيلها مسبقًا للجميع عبر بروتوكول http.</font></font><br>
<br>
<pre><code class="powershell hljs"><font></font>
Configuration ModulesDownloadConfig<font></font>
{<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">param</span><font></font>
&nbsp;&nbsp;&nbsp;(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-built_in">string</span>[]]<span class="hljs-variable">$Server</span><font></font>
&nbsp;&nbsp;&nbsp;)<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#   </span>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Import-DscResource</span> <span class="hljs-literal">-ModuleName</span> <span class="hljs-string">"PSDesiredStateConfiguration"</span><font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  </span>
&nbsp;&nbsp;&nbsp;Node <span class="hljs-variable">$Server</span><font></font>
&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  IE Security</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registry DisableIEESC<span class="hljs-literal">-Admin</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Key = <span class="hljs-string">"HKLM:\SOFTWARE\Microsoft\Active Setup\Installed Components\{A509B1A7-37EF-4b3f-8CFC-4F3A74704073}"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueName = <span class="hljs-string">"IsInstalled"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueData = <span class="hljs-number">0</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueType = <span class="hljs-string">"DWORD"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registry DisableIEESC<span class="hljs-literal">-User</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Key = <span class="hljs-string">"HKLM:\SOFTWARE\Microsoft\Active Setup\Installed Components\{A509B1A8-37EF-4b3f-8CFC-4F3A74704073}"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueName = <span class="hljs-string">"IsInstalled"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueData = <span class="hljs-string">"0"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueType = <span class="hljs-string">"DWORD"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#    ,    </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File CreateDistribDir {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-string">"present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DestinationPath = <span class="hljs-string">"C:\Install\PSModules"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Type</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-string">"Directory"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#   NetworkingDsc (&lt;a href="https://www.powershellgallery.com/packages/NetworkingDsc/8.0.0-preview0004"&gt;https://www.powershellgallery.com/packages/NetworkingDsc/8.0.0-preview0004&lt;/a&gt;),      </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Script NetworkingDscDownLoad {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetScript = { <span class="hljs-built_in">Invoke-WebRequest</span> <span class="hljs-literal">-Uri</span> <span class="hljs-string">"http://repo.contoso.com/repo/modules/NetworkingDsc.zip"</span> <span class="hljs-literal">-OutFile</span> <span class="hljs-string">"C:\Install\PSModules\NetworkingDsc.zip"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = { <span class="hljs-keyword">return</span> <span class="hljs-selector-tag">@</span>{ Result = <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Install\PSModules\NetworkingDsc.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = <span class="hljs-variable">$GetScript</span>; SetScript = <span class="hljs-variable">$SetScript</span>; TestScript = <span class="hljs-variable">$TestScript</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TestScript = { <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\NetworkingDsc"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;<span class="hljs-comment">#   NetworkingDsc  C:\Program Files\WindowsPowerShell\Modules</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Archive UnpackNetworkingDsc {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DependsOn = <span class="hljs-string">"[Script]NetworkingDscDownLoad"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path = <span class="hljs-string">"C:\Install\PSModules\NetworkingDsc.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination = <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;<span class="hljs-comment">#   ComputerManagementDsc (&lt;a href="https://www.powershellgallery.com/packages/ComputerManagementDsc/8.2.1-preview0001"&gt;https://www.powershellgallery.com/packages/ComputerManagementDsc/8.2.1-preview0001&lt;/a&gt;),      </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Script ComputerManagementDscDownLoad {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetScript = { <span class="hljs-built_in">Invoke-WebRequest</span> <span class="hljs-literal">-Uri</span> <span class="hljs-string">"http://repo.contoso.com/repo/modules/ComputerManagementDsc.zip"</span> <span class="hljs-literal">-OutFile</span> <span class="hljs-string">"C:\Install\PSModules\ComputerManagementDsc.zip"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = { <span class="hljs-keyword">return</span> <span class="hljs-selector-tag">@</span>{ Result = <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Install\PSModules\ComputerManagementDsc.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = <span class="hljs-variable">$GetScript</span>; SetScript = <span class="hljs-variable">$SetScript</span>; TestScript = <span class="hljs-variable">$TestScript</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TestScript = { <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\ComputerManagementDsc"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#   ComputerManagementDsc  C:\Program Files\WindowsPowerShell\Modules</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Archive UnpackComputerManagementDsc {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DependsOn = <span class="hljs-string">"[Script]ComputerManagementDscDownLoad"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path = <span class="hljs-string">"C:\Install\PSModules\ComputerManagementDsc.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination = <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#   xPendingReboot (&lt;a href="https://www.powershellgallery.com/packages/xPendingReboot/0.4.0.0"&gt;https://www.powershellgallery.com/packages/xPendingReboot/0.4.0.0&lt;/a&gt;),      </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Script xPendingRebootDownLoad {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetScript = { <span class="hljs-built_in">Invoke-WebRequest</span> <span class="hljs-literal">-Uri</span> <span class="hljs-string">"http://repo.contoso.com/repo/modules/xPendingReboot.zip"</span> <span class="hljs-literal">-OutFile</span> <span class="hljs-string">"C:\Install\PSModules\xPendingReboot.zip"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = { <span class="hljs-keyword">return</span> <span class="hljs-selector-tag">@</span>{ Result = <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Install\PSModules\xPendingReboot.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = <span class="hljs-variable">$GetScript</span>; SetScript = <span class="hljs-variable">$SetScript</span>; TestScript = <span class="hljs-variable">$TestScript</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TestScript = { <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\xPendingReboot"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#   xPendingReboot  C:\Program Files\WindowsPowerShell\Modules</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Archive UnpackxPendingReboot {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DependsOn = <span class="hljs-string">"[Script]xPendingRebootDownLoad"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path = <span class="hljs-string">"C:\Install\PSModules\xPendingReboot.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination = <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">عن الأمن</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
إن نقص الدهون في DSC على الأرض هو عدم وجود Run As Accounts. </font><font style="vertical-align: inherit;">تقوم هذه الآلية بتخزين الحسابات بأمان في شكل اسم مستخدم + "تجزئة الملح لكلمة المرور" وإخراجها من الخدمة المسؤولة عن المصادقة. </font><font style="vertical-align: inherit;">بدونها ، لا يمكن لـ DSC إدارة الحسابات نيابة عن خدمة أخرى. </font><font style="vertical-align: inherit;">وإذا كنا بحاجة إلى المصادقة تحت حساب يتمتع بامتيازات خاصة ، فإن عملية الأتمتة معقدة إلى حد كبير. </font><font style="vertical-align: inherit;">على سبيل المثال ، سيكون هذا هو الحال عند دخول الخادم في المجال. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كل شيء تحت تصرفنا:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يتم تخزين بيانات الاعتماد في نص عادي ،</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">أوراق الاعتماد المشفرة تعمل فقط على جهاز الكمبيوتر حيث تم إنشاؤها.</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
من الناحية العملية ، هناك العديد من الحلول.&nbsp;</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Azure Automation Run As Accounts</a>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Azure Automation State Configuration</a>.                     « »  Azure. ,  Run As   On-Premise    .    « »   ,   .<br>
</li>
<li>   DSC  -,          .&nbsp;<br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تعتبر "Stubs" جيدة عند ضمان إمكانية التنبؤ بسلوك الخادم. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نقوم بعمل "كعب روتين" بعد تكوين الخادم في عدة حالات ، إذا استخدمنا:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">إعادة التشغيل (مورد xPendingReboot)&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">نقل بيانات الاعتماد&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الموارد الأخرى التي قد تؤثر على أداء الخادم فيما يتعلق بعمليات إعادة التشغيل أو الأمان غير المخطط لها.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
للقيام بذلك ، قم بإنشاء وإعادة تكوين تكوينات بدون كتل تحتوي على مورد xPendingReboot وتكوينات ذات بيانات اعتماد. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ينطبق هذا النهج فقط على سيناريو الدفع ، نظرًا لأن Pull يكون واضحًا إلى حد ما ولا ينطوي على تغيير في التكوين بسرعة. </font><font style="vertical-align: inherit;">في المقالة القادمة من</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">بولداكوف</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">سنلقي نظرة فاحصة على إعدادات وميزات العمل في وضعي الدفع والسحب. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
وتأتي أيضًا لمناقشة الفروق الدقيقة في تكنولوجيا DSC وحدود تطبيقها في 28 مايو في الساعة 18.00 في الاجتماع الأول عبر الإنترنت لمجتمع الاتصالات Raiffeisenbank DGTL. </font><font style="vertical-align: inherit;">سنتحدث أيضًا في الاجتماع عن كيفية تكوين أصدقاء ELK و Exchange وما يمكن أن يفعله Microsoft Endpoint Manager في إدارة الأجهزة. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">هنا التسجيل لميتاب</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar503056/index.html">23 مايو حانة على الإنترنت: holivarim عن الغيوم وشبيبة والهواتف المحمولة</a></li>
<li><a href="../ar503062/index.html">تكلفة المعيشة الحقيقية في وادي السيليكون للمطور</a></li>
<li><a href="../ar503064/index.html">إنترنت الأشياء حيث لم تنتظر (الجزء 3). بناء نموذج محاكاة</a></li>
<li><a href="../ar503068/index.html">على مفترق طرق بين التكنولوجيا والأعمال: يفتح قادة تكنولوجيا المعلومات جامعة جديدة في سويسرا</a></li>
<li><a href="../ar503070/index.html">قدح كهربائي. بناء سكوتر كهربائي مجنون / دراجة كهربائية</a></li>
<li><a href="../ar503074/index.html">تفاصيل حول حزمة الموفر لـ Flutter</a></li>
<li><a href="../ar503082/index.html">برقية مثل NAS / FTP</a></li>
<li><a href="../ar503084/index.html">مراجعة دورة أكاديمية Lightbend - العمارة التفاعلية</a></li>
<li><a href="../ar503086/index.html">هل خدمات النسخ عبر الإنترنت آمنة وسرية؟</a></li>
<li><a href="../ar503088/index.html">كيف اخترنا البضائع لشركات النقل</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>