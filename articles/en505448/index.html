<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé∂ ‚ò£Ô∏è üëçüèΩ How we organized the analysis and data processing in DomKlik üôÉ üõÄüèº ü•Ç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Data analysis and processing is one of the key areas of any modern company. In our house, it has existed in DomKlik since 2016, when the first data sc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How we organized the analysis and data processing in DomKlik</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/domclick/blog/505448/"><div style="text-align:center;"><img src="https://lh3.googleusercontent.com/T5qaTObLmM98bnRC5Jj-5B6-rapMOVW48XzxLO25Q1vWMoVhGcfoJw2O3b2edlX1CNCY1pGXqbskkNUhJvGBapIll9DKPHWDY0bOPY_hpyged7Khqevv4UJdf2pqzaOpQarf91Tv" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data analysis and processing is one of the key areas of any modern company. In our house, it has existed in DomKlik since 2016, when the first data scientist was hired. Since then a lot of water has flowed, tasks and priorities have changed, we have developed. Today we have about 40 specialists working in this area. One half develops machine learning models, and the other maintains a data loop: creates a repository, checks quality, and so on.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It would seem - what is difficult - to organize the work of several teams? </font><font style="vertical-align: inherit;">There is data, there are specialists in their processing, in theory, should there be Profit at the output? </font><font style="vertical-align: inherit;">However, as our experience shows, the simple idea ‚Äúdoing good is good and doing bad is bad‚Äù does not always work at least. </font><font style="vertical-align: inherit;">We need to look for answers to many questions - how to embed Data Science teams in an already established organization, how to ensure high quality and speed of model development, how to efficiently fill the backlog with new tasks - all these are the questions we were looking for answers to. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
My name is Alexey Kuzmin, I lead the direction of Data Science and work with data in DomKlik. </font><font style="vertical-align: inherit;">And in this article I will talk about how we solve these problems and how we support the work of such a large team.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organization Forms</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's start with the key question - how to fit Data Science teams into an existing organization. If you read smart articles and books, you can distinguish three forms of organization of work of the DS-unit: centralized, decentralized and hybrid, of course, each has its own advantages and disadvantages.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://lh5.googleusercontent.com/boUj-hmrAdDjoLa-ahB9aEpYv1PMaKMUHGd_cdUmT_f8M5F1FCOA0tCAXpuRAKxwSlFqOhOfJVRzFtoZiScWVPEytk0ZdxmCnRQhyQqvwS4_jEbQxMwb9PvfJnN9dO9wpo04b5uf" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centralized</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> scheme, there is one or more teams that develop data science models. Teams are a single center of competence, and the business units of the company are the customer for them. The scheme is good in that the backlog of data science commands is transparent for guidance. It often happens that two competing tasks come from different business units, and then you can focus on one that will be useful for the company as a whole and will bring greater benefits. However, with this form of organization, responsiveness decreases, business units have to wait for their task to be completed. The development (especially at the stages of data research and understanding of a business problem) for Data Science specialists is also becoming more complicated, since the transition from task to task requires immersion in a new context.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://lh5.googleusercontent.com/mCrv2i-IjD7qHsTG3cnYDO_sXj1zShuPvJxjbTvRF_OOG6Syv0-Gd7AuQTBRcuNtZTfZbsIfT_82syo5lhqMPiIIV-RFcltS4-tu_Hcl-Uga4Hddt6zPH7PYQ0tuhYb88roAizre" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">decentralized</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Each business unit has its own small team or a separate person who develops data science models specifically for that unit. The advantages of the scheme are that efficiency is not lost and specialists are always in the context of their business field. But transparency is lost. In such a scheme, it cannot be guaranteed that specialists are working on urgent tasks. For example, if now a business unit is on fire to do some kind of report, then they can easily and without hesitation instruct the DS-specialist, and this demotivates. In addition, with increasing numbers, centralized control over their work is lost. To avoid this, you have to meet with each individually, immerse yourself in his task, control his work. This takes time, which is not always enough.Because of this, the quality of the created solutions often suffers.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://lh4.googleusercontent.com/mpKwIo9NwLiIvexoFokIqHn4sQ4p1qOLZ2pmJQknwUrMvTjRgkL4vmNTyQltYWEo7sfIpQsil0jZJde0Sh6pFwte6BWqwY-ifngW0x_cgNoCV5Ukv4NAdDtfYtTnPAC3wCKCwRxR" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hybrid</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> scheme there are basic teams, and in addition, each business unit has its own analyst or team to solve certain problems. </font><font style="vertical-align: inherit;">This scheme is good, devoid of the flaws of the other two and is trying to take all the best from them. </font><font style="vertical-align: inherit;">But, as practice shows, such a structure works well only with a large number of specialists. </font><font style="vertical-align: inherit;">That is, it is effective only within the framework of giant corporations, and in companies with up to a thousand people, such a scheme is wasteful.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Like we have?</font></font></h3><br>
<div style="text-align:center;"><img src="https://lh4.googleusercontent.com/OMbFIETPwc7vsSFyybo0zx9wBCF2NLMP0K5VzuZsPBYqMf30fi9oCLm9NqVQjXVFuJwv5z9bxypIHAHcYzE9oVd2u53Bv2QtB9m4UyxyoGGpVUFMFR1HXElqUUP7IPJKAz91VBPn" alt="image" width="480"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Our company has adopted a centralized model. </font><font style="vertical-align: inherit;">This is a conscious decision, because now we want to understand that we are working on really important tasks. </font><font style="vertical-align: inherit;">In addition, our specialists are responsible for the numerous root services that serve all departments in the company:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chat bot;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moderation and verification of text data; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recognition and classification of documents and other images;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">models of forecasting, conversion, recommendations, and so on. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have two centralized teams. </font><font style="vertical-align: inherit;">One is engaged in processing text and voice data, the second is responsible for working with images. </font><font style="vertical-align: inherit;">The tasks of classical machine learning are distributed approximately equally among both teams. </font><font style="vertical-align: inherit;">This organizational chart has been around for a year and a half. </font><font style="vertical-align: inherit;">If a small transitional task arises in the business unit, which needs to be done right now, then thanks to the wide experience and achievements on other projects, it is often possible to solve it quite quickly and with high quality already at the baseline stage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When we switched to the scheme with two teams, a new problem appeared: part of the tasks in the field of working with models was common for them - creating and storing training and test sets, documentation, starting training, etc. As a result, in mid-2019 we created a third team, which also belongs to the DS-direction, but does not develop models, but tools, in particular, a small internal registry - the platform in which almost all our training and test data sets are now stored. Thanks to the versioning laid down during planning, we understand on which data this or that model was trained and we can reproduce the training if necessary. Well, of course, we are no longer looking for datasets in network folders and storage tables)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We also created a service that stores information on all of our models. When creating a new model, it is immediately entered into the service, we describe it, indicate the training data set, add a link to the repository in Bitbucket. Of course, there is also a Python library, which, at each training of the model, enters into the registry a record of training, obtained metrics and artifacts (weights, model structure, and so on).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The platform team helped a lot to streamline the work on the models: now we know how many of them there are, what they are, how many times they trained, how their results changed. </font><font style="vertical-align: inherit;">But do not think that it is useful exclusively for DS-specialists. </font><font style="vertical-align: inherit;">The team creates centralized Data Science tools for the entire company. </font><font style="vertical-align: inherit;">For example, she is currently developing an AutoML service for applied business units. </font><font style="vertical-align: inherit;">It will help to conduct smart analytics without involving Data Scientists and will remove some of the problems of a centralized organization model.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backlogs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And finally, I‚Äôll talk about how we form team backlogs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Both centralized teams are now involved in several key areas. In the traditional Agile approach, there is a product owner who collects the backlog and develops the product. But when there are several such products in a team, then, in our experience, all product owners are involved in current tasks and it is difficult for them to develop new ones.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, we have introduced the role of a business partner. </font><font style="vertical-align: inherit;">He does not belong to any of the teams, but is responsible for the development of a backlog for the future: he turns to the applied business units, asks what they have interesting tasks and what key problems exist, tells how models can help. </font><font style="vertical-align: inherit;">This specialist is able to work out the task at the highest level and to understand whether data science can be useful. </font><font style="vertical-align: inherit;">He formulates the primary hypotheses for testing, analyzes them and passes them to the teams. </font><font style="vertical-align: inherit;">Thanks to this, we maintain the relevance of backlog in the medium term - we understand that when we solve current problems, work will not stop.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the dry residue</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the bottom line, the structure of the Data Science unit is structured as follows:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DS-manager: it's me. </font><font style="vertical-align: inherit;">Area of ‚Äã‚Äãresponsibility: formation of a development strategy, maintenance of DS-competence, work with employees.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DS-business partner. </font><font style="vertical-align: inherit;">Area of ‚Äã‚Äãresponsibility: study of new tasks and directions regarding the applicability of Data Science; </font><font style="vertical-align: inherit;">audit of existing processes and model implementations.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platform team: development and maintenance of centralized tools - a register of models and datasets, AutoML, etc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CV and NLP teams: application teams developing models.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Requests for new tasks from business units or management are first audited to the business partner, and only then they are sent to the backlog of application teams. </font><font style="vertical-align: inherit;">After that, they (application teams) already communicate directly with the customer. </font><font style="vertical-align: inherit;">Schematically, it looks like this:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://lh4.googleusercontent.com/0igFw-mi79JzT8gMRgV0QUMVueSqsg66Re1FOAW58wvXvqa1NRPLMdCxeIv8w9phvh7sD3cn1Pie5CvQlNd25fcfEWJZobbKH-XaDuE2MOV2jJB8YPXwMCsrx0vEhyTGE7smT17J" alt="image" width="480"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Summary</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Organization of the effective work of the data science-team in the framework of a large company is a difficult task. </font><font style="vertical-align: inherit;">I do not know examples when this was done immediately and well. </font><font style="vertical-align: inherit;">It is a process when you go from bad to not so bad, and you do it time after time, trying and making mistakes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I hope that this experience will be useful, or at least interesting to readers)</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en505430/index.html">SOLID Principles in Pictures</a></li>
<li><a href="../en505432/index.html">In which cities of Russia there is no quarantine for visitors</a></li>
<li><a href="../en505438/index.html">Where to go to IT. Detailed instructions from Project Manager</a></li>
<li><a href="../en505440/index.html">Deep dive into PostgreSQL internal statistics. Alexey Lesovsky</a></li>
<li><a href="../en505442/index.html">VxLAN factory. Part 1</a></li>
<li><a href="../en505452/index.html">The evolution of bank cards: from metal to metal</a></li>
<li><a href="../en505456/index.html">Why printers put invisible dots on documents</a></li>
<li><a href="../en505458/index.html">How to understand machine learning if you are not a great mathematician</a></li>
<li><a href="../en505460/index.html">Pay for training in coding: Russian bachelors can win a scholarship to study for a master's degree in Switzerland</a></li>
<li><a href="../en505462/index.html">Micro data center: why do we need miniature data centers?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>