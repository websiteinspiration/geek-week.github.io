<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍿 👨🏽‍🤝‍👨🏻 🍱 Sekali lagi tentang analisis ekspresi menggunakan metode keturunan rekursif 🖕 🔤 👨‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya masih anak sekolah ketika saya jatuh ke tangan buku "Kursus Pemula C dan C ++" dari penerbit penerbitan Dialog MIFI. Dari buku inilah saya belaja...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Sekali lagi tentang analisis ekspresi menggunakan metode keturunan rekursif</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489534/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya masih anak sekolah ketika saya jatuh ke tangan buku "Kursus Pemula C dan C ++" dari penerbit penerbitan Dialog MIFI. Dari buku inilah saya belajar tentang dasar-dasar pemrograman berorientasi objek, dan juga menimbulkan masalah bagi saya yang tidak bisa saya selesaikan untuk waktu yang lama. Pada akhirnya ada program daftar aplikasi, salah satunya disebut kalkulator rekursif. Ini adalah pertemuan pertama saya dengan analisis ekspresi aritmatika menggunakan metode keturunan rekursif. Saya masih ingat jam-jam panjang yang dihabiskan untuk mencoba setidaknya memahami sesuatu dalam kode ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel ini ditujukan terutama bagi mereka yang dihadapkan dengan tugas mengurai ekspresi untuk pertama kalinya.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, sebelum menulis parser ekspresi aritmatika, kita perlu memahami struktur ekspresi ini. </font><font style="vertical-align: inherit;">Untuk kesederhanaan, kami tidak akan mempertimbangkan operasi minus unary dan kemungkinan menggunakan fungsi dalam ekspresi untuk saat ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menggambarkan struktur, kami menggunakan bentuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beckus-Naur</font></font></a><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E -&gt; T + E | </font><font style="vertical-align: inherit;">T - E | </font><font style="vertical-align: inherit;">T</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T -&gt; F * T | </font><font style="vertical-align: inherit;">F / t | </font><font style="vertical-align: inherit;">F</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F -&gt; N | </font><font style="vertical-align: inherit;">(E)</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah bilah vertikal "|" </font><font style="vertical-align: inherit;">berarti operasi logis "atau", dan E, T, F, N - berbagai jenis subekspresi di mana ekspresi asli akan dipisah saat menggunakan kalimat-kalimat ini. </font><font style="vertical-align: inherit;">N dalam hal ini menunjukkan angka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kalimat pertama berarti bahwa ekspresi tipe E dapat terdiri dari ekspresi tipe T ditambah ekspresi tipe E, atau ekspresi tipe T minus ekspresi tipe E atau hanya ekspresi tipe T. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk kalimat kedua, semuanya serupa, tetapi alih-alih menambahkan dan mengurangi akan ada penggandaan dan divisi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kalimat ketiga berarti bahwa ekspresi tipe F adalah angka atau ekspresi tipe E yang terlampir dalam tanda kurung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita coba terapkan tiga kalimat ini pada contoh ekspresi aritmatika</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 + 3 * (4 - 5) + 6 - 7
</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menerapkan kalimat pertama beberapa kali</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E (2 + 3 * (4-5) + 6-7) -&gt; </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T (2) + E (3 * (4-5) + 6-7) -&gt; </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T (2) + T (3 * (4-5)) + E (6-7) -&gt; </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T (2) + T (3 * (4-5)) + T (6) - T (7)</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang ekspresi kami hanya terdiri dari subekspresi dari tipe T, jadi kami menerapkan kalimat kedua untuk masing-masing.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T (2) -&gt; F (2)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T (3 * (4-5)) -&gt; F (3) * T ((4-5)) -&gt; F (3) * F ((4-5))</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T (6) -&gt; F (6)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T (7) -&gt; F (7)</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sudah waktunya untuk kalimat ketiga</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F (2) -&gt; N (2) -&gt; 2</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F (3) -&gt; N (3) -&gt; 3</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F ((4-5)) -&gt; E (4-5)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F (6) -&gt; N (6) -&gt; 6</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F (7) -&gt; N (7) -&gt; 7</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk ekspresi dalam tanda kurung (4-5), kami secara rekursif beralih ke kalimat pertama dan harus mengulangi semua tindakan dengan analogi dengan cara itu selama sisa ekspresi. </font><font style="vertical-align: inherit;">Jika ekspresi berisi tanda kurung bersarang, maka akan ada lebih banyak transisi rekursif tersebut. </font><font style="vertical-align: inherit;">Saya akan merekomendasikan agar Anda secara independen mencoba menerapkan ketiga kalimat ke ekspresi yang akan mengandung tingkat tanda kurung, misalnya 2 + 2 * (3 + 4 * (5-6)), untuk memastikan bahwa kalimat itu juga berfungsi untuk itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita hanya perlu mengimplementasikan tindakan yang dilakukan oleh proposal dalam bentuk kode. </font><font style="vertical-align: inherit;">Ini akan menjadi analisis ekspresi menggunakan metode turunan rekursif, tetapi sebelum Anda mulai menulis kode, mari sederhanakan kalimatnya dengan menyingkirkan rekursi pada dua yang pertama.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kita tanpa henti mengganti kalimat pertama menjadi kalimat itu sendiri, maka kita mengerti</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E -&gt; T ± T ± T ± T ± ... ± T</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kalimat kedua dapat diubah dengan cara yang sama.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T -&gt; F * / F * / F * / * / ... * / F</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan, ini berarti bahwa alih-alih rekursi, kita dapat menggunakan loop di sini. </font><font style="vertical-align: inherit;">Demikian pula, rekursi tidak dapat dikecualikan dari kalimat ketiga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan menulis kode di Jawa, karena </font><font style="vertical-align: inherit;">Ini adalah bahasa pemrograman yang paling akrab bagi saya saat ini. </font><font style="vertical-align: inherit;">Ucapan terakhir sebelum kita mulai menulis kode - Saya meninggalkan tugas tokenization, yaitu </font><font style="vertical-align: inherit;">memecah ekspresi menjadi elemen signifikan yang tidak terpisahkan (token) </font><font style="vertical-align: inherit;">Token tersebut adalah angka, tanda operasi aritmatika dan tanda kurung. </font><font style="vertical-align: inherit;">Misalkan kita sudah memiliki token array sebagai input dari ekspresi.</font></font><br>
<br>
<pre><code class="java hljs">String[] tokens = {<span class="hljs-string">"2"</span>, <span class="hljs-string">"+"</span>, <span class="hljs-string">"3"</span>, <span class="hljs-string">"*"</span>, <span class="hljs-string">"("</span>, <span class="hljs-string">"4"</span>, <span class="hljs-string">"-"</span>, <span class="hljs-string">"5"</span>, <span class="hljs-string">")"</span>, <span class="hljs-string">"+"</span>, <span class="hljs-string">"6"</span>, <span class="hljs-string">"-"</span>, <span class="hljs-string">"7"</span>};
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buat kelas parser berikutnya yang akan berisi metode</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parse () mulai mem-parsing ekspresi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ekspresi () untuk menangani ekspresi tipe E</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">istilah () untuk memproses ekspresi tipe T</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">factor () untuk memproses ekspresi tipe F dan N</font></font></li>
</ul><br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RecursiveDescentParser</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String[] tokens;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> pos = <span class="hljs-number">0</span>; <span class="hljs-comment">//   </span><font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">RecursiveDescentParser</span><span class="hljs-params">(String[] tokens)</span> </span>{
        <span class="hljs-keyword">this</span>.tokens = tokens;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Double <span class="hljs-title">parse</span><span class="hljs-params">()</span> </span>{<font></font>
        Double result = expression();<font></font>
        <span class="hljs-keyword">if</span> (pos != tokens.length) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">"Error in expression at "</span> + tokens[pos]));<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> result;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// E -&gt; T±T±T±T± ... ±T</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> Double <span class="hljs-title">expression</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">//   </span><font></font>
        Double first = term();<font></font>
<font></font>
        <span class="hljs-keyword">while</span> (pos &lt; tokens.length) {<font></font>
            String operator = tokens[pos];<font></font>
            <span class="hljs-keyword">if</span> (!operator.equals(<span class="hljs-string">"+"</span>) &amp;&amp; !operator.equals(<span class="hljs-string">"-"</span>)) {
                <span class="hljs-keyword">break</span>;<font></font>
            } <span class="hljs-keyword">else</span> {<font></font>
                pos++;<font></font>
            }<font></font>
<font></font>
            <span class="hljs-comment">//    ()</span><font></font>
            Double second = term();<font></font>
            <span class="hljs-keyword">if</span> (operator.equals(<span class="hljs-string">"+"</span>)) {<font></font>
                first += second;<font></font>
            } <span class="hljs-keyword">else</span> {<font></font>
                first -= second;<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> first;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// T -&gt; F*/F*/F*/*/ ... */F</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> Double <span class="hljs-title">term</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">//   </span><font></font>
        Double first = factor();<font></font>
<font></font>
        <span class="hljs-keyword">while</span> (pos &lt; tokens.length) {<font></font>
            String operator = tokens[pos];<font></font>
            <span class="hljs-keyword">if</span> (!operator.equals(<span class="hljs-string">"*"</span>) &amp;&amp; !operator.equals(<span class="hljs-string">"/"</span>)) {
                <span class="hljs-keyword">break</span>;<font></font>
            } <span class="hljs-keyword">else</span> {<font></font>
                pos++;<font></font>
            }<font></font>
<font></font>
            <span class="hljs-comment">//    ()</span><font></font>
            Double second = factor();<font></font>
            <span class="hljs-keyword">if</span> (operator.equals(<span class="hljs-string">"*"</span>)) {<font></font>
                first *= second;<font></font>
            } <span class="hljs-keyword">else</span> {<font></font>
                first /= second;<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> first;<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">// F -&gt; N | (E)</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> Double <span class="hljs-title">factor</span><span class="hljs-params">()</span> </span>{<font></font>
        String next = tokens[pos];<font></font>
        Double result;<font></font>
        <span class="hljs-keyword">if</span> (next.equals(<span class="hljs-string">"("</span>)) {<font></font>
            pos++;<font></font>
            <span class="hljs-comment">//    ,        </span><font></font>
            result = expression();  <font></font>
            String closingBracket;<font></font>
            <span class="hljs-keyword">if</span> (pos &lt; tokens.length) {<font></font>
                closingBracket = tokens[pos];<font></font>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">"Unexpected end of expression"</span>);<font></font>
            }<font></font>
            <span class="hljs-keyword">if</span> (pos &lt; tokens.length &amp;&amp; closingBracket.equals(<span class="hljs-string">")"</span>)) {<font></font>
                pos++;<font></font>
                <span class="hljs-keyword">return</span> result;<font></font>
            }<font></font>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalStateException(<span class="hljs-string">"')' expected but "</span> + closingBracket);<font></font>
        }<font></font>
        pos++;<font></font>
        <span class="hljs-comment">//       </span>
        <span class="hljs-keyword">return</span> Double.parseDouble(next);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu saja. </font><font style="vertical-align: inherit;">Jika diinginkan, parser ini dapat diajarkan untuk bekerja dengan minus unary atau berfungsi dalam ekspresi. </font><font style="vertical-align: inherit;">Hal pertama yang harus dilakukan adalah mengubah kalimat asli sehingga mereka memperhitungkan elemen baru dari struktur ekspresi, dan mungkin ada lebih banyak kalimat dari ini. </font><font style="vertical-align: inherit;">Begitu mereka benar dimodifikasi, implementasi menjadi hampir formal.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id489518/index.html">Pertukaran Anggota Pertukaran Biaya Rendah Muncul Di AS</a></li>
<li><a href="../id489526/index.html">Game zero-sum dan kondisi Karush-Kun-Takker</a></li>
<li><a href="../id489528/index.html">Anda tidak menonton iklan selama pengembangan? Kekacauan</a></li>
<li><a href="../id489530/index.html">Apa yang membuat sistem reaktif bagus?</a></li>
<li><a href="../id489532/index.html">Apa yang baru di Android 11 untuk pengguna dan pengembang</a></li>
<li><a href="../id489536/index.html">Fitur sistem catu daya menggunakan DDIBP</a></li>
<li><a href="../id489538/index.html">Mengapa pengembang tidak suka Agile?</a></li>
<li><a href="../id489540/index.html">Debugging ARM Cortex-M Microcontrollers oleh UART Bagian 2</a></li>
<li><a href="../id489542/index.html">Nano atau IDE minimalis</a></li>
<li><a href="../id489544/index.html">Ubah ukuran gambar dengan cepat menggunakan Nginx dan LuaJIT (OpenResty)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>