<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👐🏼 👨🏿‍🍳 🔈 Pengukuran Kinerja Javascript 👶🏽 ⏩ 🤹🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mengukur waktu yang diperlukan untuk menjalankan suatu fungsi adalah cara yang baik untuk membuktikan bahwa satu implementasi mekanisme lebih produkti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pengukuran Kinerja Javascript</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495894/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengukur waktu yang diperlukan untuk menjalankan suatu fungsi adalah cara yang baik untuk membuktikan bahwa satu implementasi mekanisme lebih produktif daripada yang lain. Ini memungkinkan Anda untuk memastikan bahwa kinerja fungsi tidak mengalami penurunan setelah beberapa perubahan pada kode. Ini juga membantu untuk mencari hambatan kinerja aplikasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika proyek web memiliki kinerja tinggi, ini berkontribusi terhadap persepsi positifnya oleh pengguna. Dan jika pengguna suka bekerja dengan sumber daya, mereka memiliki properti untuk kembali. Misalnya, dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hal ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Studi ini menunjukkan bahwa 88% pelanggan online lebih kecil kemungkinannya untuk kembali ke sumber daya yang mereka temui dengan ketidaknyamanan apa pun. Ketidaknyamanan ini mungkin disebabkan oleh masalah kinerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itulah sebabnya alat untuk membantu menemukan hambatan kinerja dan mengukur hasil peningkatan yang dilakukan terhadap kode penting dalam pengembangan web. Alat tersebut sangat relevan dalam pengembangan JavaScript. Sangat penting untuk mengetahui bahwa setiap baris kode JavaScript berpotensi memblokir DOM, karena JavaScript adalah bahasa berulir tunggal. </font><font style="vertical-align: inherit;">
Pada artikel ini saya akan berbicara tentang cara mengukur kinerja fungsi, dan apa yang harus dilakukan dengan hasil pengukuran.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/by/of/jl/byofjlhqvkjueyjzh-cyymte_qg.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda berpikir bahwa beberapa perhitungan terlalu berat untuk dilakukan di utas utama, maka Anda mungkin memutuskan untuk memindahkannya ke </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pekerja layanan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau pekerja web.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metode Performance.now ()</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antarmuka </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kinerja</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memberikan akses ke nilai tipe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOMHighResTimeStamp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> melalui metode </font></font><code>performance.now()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Metode ini mengembalikan stempel waktu yang menunjukkan waktu dalam milidetik yang telah berlalu sejak dokumen mulai ada. </font><font style="vertical-align: inherit;">Selain itu, keakuratan indikator ini sekitar 5 mikrodetik (fraksi satu milidetik). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengukur kinerja fragmen kode menggunakan metode ini </font></font><code>performance.now()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Anda perlu melakukan dua pengukuran waktu, menyimpan hasil pengukuran ini dalam variabel, dan kemudian mengurangi hasil yang pertama dari hasil pengukuran kedua:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> t0 = performance.now();
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; array.length; i++)&nbsp;<font></font>
{<font></font>
&nbsp;&nbsp;<span class="hljs-comment">// - </span><font></font>
}<font></font>
<span class="hljs-keyword">const</span> t1 = performance.now();
<span class="hljs-built_in">console</span>.log(t1 - t0, <span class="hljs-string">'milliseconds'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di Chrome, setelah menjalankan kode ini, Anda bisa mendapatkan sesuatu seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-number">0.6350000001020817</span> <span class="hljs-string">"milliseconds"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di Firefox, seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-number">1</span> milliseconds
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, hasil pengukuran yang diperoleh di browser berbeda sangat berbeda. </font><font style="vertical-align: inherit;">Faktanya adalah bahwa di Firefox 60, keakuratan hasil yang dikembalikan oleh API Kinerja berkurang. </font><font style="vertical-align: inherit;">Kami akan berbicara lebih banyak tentang ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antarmuka Kinerja memiliki kemampuan lebih dari sekadar mengembalikan stempel waktu tertentu. </font><font style="vertical-align: inherit;">Ini termasuk mengukur berbagai aspek kinerja yang diwakili oleh ekstensi antarmuka ini seperti API </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timeline Kinerja</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timing Navigasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timing Pengguna</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timing Sumber Daya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berikut adalah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bahan untuk mengetahui lebih lanjut tentang API ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus kami, kami berbicara tentang mengukur kinerja fungsi, jadi kami memiliki cukup peluang yang diberikan metode ini</font></font><code>performance.now()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Date.now () dan performance.now ()</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini Anda mungkin berpikir bahwa Anda dapat menggunakan metode ini untuk mengukur kinerja </font></font><code>Date.now()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini memang mungkin, tetapi pendekatan ini memiliki kelemahan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode </font></font><code>Date.now()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengembalikan waktu dalam milidetik yang telah berlalu sejak era Unix (1970-01-01T00: 00: 00Z) dan tergantung pada jam sistem. </font><font style="vertical-align: inherit;">Ini berarti tidak hanya bahwa metode ini tidak seakurat </font></font><code>performance.now()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi sebaliknya </font></font><code>performance.now()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mengembalikan nilai yang, dalam kondisi tertentu, dapat didasarkan pada indikator clock yang salah. </font><font style="vertical-align: inherit;">Inilah yang dikatakan Rich Gentlekor, seorang programmer yang terkait dengan mesin WebKit, “Mungkin para programmer cenderung berpikir bahwa pembacaan kembali ketika mengakses</font></font><code>Date</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berdasarkan waktu sistem, sangat tidak mungkin untuk memanggil ideal untuk memonitor aplikasi nyata. </font><font style="vertical-align: inherit;">Sebagian besar sistem memiliki daemon yang secara teratur menyinkronkan waktu. </font><font style="vertical-align: inherit;">Menyesuaikan jam sistem selama beberapa milidetik setiap 15-20 menit adalah hal yang biasa. </font><font style="vertical-align: inherit;">Dengan frekuensi seperti itu, pengaturan jam sekitar 1% dari pengukuran interval 10 detik akan menjadi tidak akurat. "</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metode Console.time ()</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengukuran waktu menggunakan API ini sangat sederhana. </font><font style="vertical-align: inherit;">Cukup, sebelum kode yang kinerjanya perlu Anda evaluasi, panggil metode tersebut </font></font><code>console.time()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan setelah kode ini - metode tersebut </font></font><code>console.timeEnd()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dalam hal ini, satu dan metode lain harus melewati argumen string yang sama. </font><font style="vertical-align: inherit;">Pada satu halaman, hingga 10.000 timer seperti itu dapat digunakan secara bersamaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keakuratan pengukuran waktu yang dibuat menggunakan API ini sama dengan ketika menggunakan API Kinerja, tetapi akurasi yang akan dicapai dalam setiap situasi tertentu tergantung pada browser.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">console</span>.time(<span class="hljs-string">'test'</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; array.length; i++) {
&nbsp;&nbsp;<span class="hljs-comment">// - </span><font></font>
}<font></font>
<span class="hljs-built_in">console</span>.timeEnd(<span class="hljs-string">'test'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mengeksekusi kode tersebut, sistem akan secara otomatis menampilkan informasi tentang waktu yang telah berlalu ke konsol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di Chrome, tampilannya akan seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs">test: <span class="hljs-number">0.766845703125</span>ms
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di Firefox, seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs">test: <span class="hljs-number">2</span>ms - timer ended
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebenarnya, semua yang ada di sini sangat mirip dengan apa yang kami lihat saat bekerja dengannya </font></font><code>performance.now()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kekuatan metode </font></font><code>console.time()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini adalah kemudahan penggunaannya. </font><font style="vertical-align: inherit;">Yaitu, kita berbicara tentang fakta bahwa penerapannya tidak memerlukan deklarasi variabel tambahan dan menemukan perbedaan antara indikator yang dicatat di dalamnya.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akurasi waktu berkurang</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda, menggunakan alat yang dijelaskan di atas, mengukur kinerja kode Anda di browser yang berbeda, maka Anda dapat memperhatikan fakta bahwa hasil pengukuran dapat bervariasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alasannya adalah karena peramban berusaha melindungi pengguna dari serangan berbasis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">waktu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan dari mekanisme identifikasi peramban ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sidik Jari Peramban</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Jika hasil pengukuran waktu ternyata terlalu akurat, ini dapat memberikan peluang bagi penyerang, misalnya, untuk mengidentifikasi pengguna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di Firefox 60, seperti yang telah disebutkan, keakuratan hasil pengukuran waktu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berkurang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ini dilakukan dengan menyetel nilai properti </font></font><code>privacy.reduceTimerPrecision</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke 2 ms.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sesuatu yang perlu diingat ketika menguji kinerja</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda memiliki alat yang Anda inginkan untuk mengukur kinerja fungsi JavaScript. </font><font style="vertical-align: inherit;">Tetapi sebelum Anda memulai bisnis, Anda perlu mempertimbangkan beberapa fitur yang akan kita bicarakan sekarang.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Bagilah dan taklukkan</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalkan, menyaring beberapa data, Anda memperhatikan pengoperasian aplikasi yang lambat. Tapi Anda tidak tahu persis di mana hambatan kinerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daripada berspekulasi pada bagian mana dari kode yang berjalan lambat, akan lebih baik untuk mencari tahu menggunakan metode di atas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melihat gambaran umum tentang apa yang terjadi, Anda harus terlebih dahulu menggunakan </font></font><code>console.time()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>console.timeEnd()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengevaluasi kinerja blok kode, yang, mungkin, memiliki efek buruk pada kinerja. Maka Anda perlu melihat kecepatan masing-masing bagian dari blok ini. Jika salah satu dari mereka terlihat lebih lambat dari yang lain, Anda perlu memberikan perhatian khusus padanya dan bagaimana menganalisanya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semakin sedikit kode antara panggilan ke metode yang mengukur waktu, semakin rendah kemungkinan bahwa sesuatu yang tidak relevan dengan situasi masalah akan diukur.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Mempertimbangkan fitur perilaku fungsi pada nilai input yang berbeda</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam aplikasi nyata, data yang diterima pada input fungsi tertentu bisa sangat berbeda. </font><font style="vertical-align: inherit;">Jika Anda mengukur kinerja fungsi yang melewati kumpulan data yang dipilih secara acak, ini tidak akan memberikan informasi berharga yang dapat mengklarifikasi apa yang terjadi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi ketika meneliti kinerja perlu dipanggil dengan data input yang menyerupai yang asli sebanyak mungkin.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Jalankan fungsi berkali-kali</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalkan Anda memiliki fungsi yang beralih pada array. </font><font style="vertical-align: inherit;">Dia melakukan beberapa perhitungan menggunakan setiap elemen array, dan setelah itu mengembalikan array baru dengan hasil perhitungan. </font><font style="vertical-align: inherit;">Berpikir untuk mengoptimalkan fungsi ini, Anda ingin tahu apa yang berfungsi lebih cepat dalam situasi Anda - satu putaran </font></font><code>forEach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau satu putaran reguler </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah dua opsi untuk fitur ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testForEach</span>(<span class="hljs-params">x</span>) </span>{
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.time(<span class="hljs-string">'test-forEach'</span>);
&nbsp;&nbsp;<span class="hljs-keyword">const</span> res = [];<font></font>
&nbsp;&nbsp;x.forEach(<span class="hljs-function">(<span class="hljs-params">value, index</span>) =&gt;</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;res.push(value / <span class="hljs-number">1.2</span> * <span class="hljs-number">0.1</span>);<font></font>
&nbsp;&nbsp;});<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.timeEnd(<span class="hljs-string">'test-forEach'</span>)
&nbsp;&nbsp;<span class="hljs-keyword">return</span> res;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testFor</span>(<span class="hljs-params">x</span>) </span>{
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.time(<span class="hljs-string">'test-for'</span>);
&nbsp;&nbsp;<span class="hljs-keyword">const</span> res = [];
&nbsp;&nbsp;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; x.length; i ++) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;res.push(x[i] / <span class="hljs-number">1.2</span> * <span class="hljs-number">0.1</span>);<font></font>
&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.timeEnd(<span class="hljs-string">'test-for'</span>)
&nbsp;&nbsp;<span class="hljs-keyword">return</span> res;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uji fungsi:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> x = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">100000</span>).fill(<span class="hljs-built_in">Math</span>.random());<font></font>
testForEach(x);<font></font>
testFor(x);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menjalankan kode, kami mendapatkan hasil berikut:</font></font><br>
<br>
<pre><code class="javascript hljs">test-forEach: <span class="hljs-number">27</span>ms - timer ended<font></font>
test-<span class="hljs-keyword">for</span>: <span class="hljs-number">3</span>ms - timer ended
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siklus itu tampaknya </font></font><code>forEach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jauh lebih lambat daripada siklus itu </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Lagi pula, hasil tes menunjukkan dengan tepat ini? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya, setelah tes tunggal, masih terlalu dini untuk menarik kesimpulan seperti itu. </font><font style="vertical-align: inherit;">Mari kita coba memanggil fungsi dua kali:</font></font><br>
<br>
<pre><code class="javascript hljs">testForEach(x);<font></font>
testForEach(x);<font></font>
testFor(x);<font></font>
testFor(x);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendapatkan yang berikut ini:</font></font><br>
<br>
<pre><code class="javascript hljs">test-forEach: <span class="hljs-number">13</span>ms - timer ended<font></font>
test-forEach: <span class="hljs-number">2</span>ms - timer ended<font></font>
test-<span class="hljs-keyword">for</span>: <span class="hljs-number">1</span>ms - timer ended<font></font>
test-<span class="hljs-keyword">for</span>: <span class="hljs-number">3</span>ms - timer ended
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata fungsi yang digunakan </font></font><code>forEach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, disebut yang kedua kalinya, adalah secepat yang digunakan </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tetapi, mengingat fakta bahwa </font></font><code>forEach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panggilan fungsi </font><font style="vertical-align: inherit;">pertama </font><font style="vertical-align: inherit;">, fungsi bekerja jauh lebih lambat, mungkin masih tidak layak untuk digunakan.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Uji kinerja di berbagai browser</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tes di atas dilakukan di Firefox. </font><font style="vertical-align: inherit;">Tetapi bagaimana jika Anda menjalankannya di Chrome? </font><font style="vertical-align: inherit;">Hasilnya akan sangat berbeda:</font></font><br>
<br>
<pre><code class="javascript hljs">test-forEach: <span class="hljs-number">6.156005859375</span>ms<font></font>
test-forEach: <span class="hljs-number">8.01416015625</span>ms<font></font>
test-<span class="hljs-keyword">for</span>: <span class="hljs-number">4.371337890625</span>ms<font></font>
test-<span class="hljs-keyword">for</span>: <span class="hljs-number">4.31298828125</span>ms
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya adalah bahwa browser Chrome dan Firefox didasarkan pada mesin JavaScript yang berbeda yang menerapkan optimasi kinerja yang berbeda. </font><font style="vertical-align: inherit;">Sangat berguna untuk mengetahui perbedaan-perbedaan ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, Firefox memiliki pengoptimalan yang lebih baik </font></font><code>forEach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan input yang serupa. </font><font style="vertical-align: inherit;">Dan siklusnya </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lebih cepat daripada </font></font><code>forEach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di Chrome dan Firefox. </font><font style="vertical-align: inherit;">Akibatnya, mungkin lebih baik memikirkan varian fungsi c </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah contoh yang baik, menunjukkan pentingnya mengukur kinerja di berbagai browser. </font><font style="vertical-align: inherit;">Jika Anda mengevaluasi kinerja beberapa kode hanya di Chrome, Anda dapat sampai pada kesimpulan bahwa siklus </font></font><code>forEach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dibandingkan dengan siklus </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tidak terlalu buruk.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Menerapkan batasan buatan pada sumber daya sistem</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai yang diperoleh dalam percobaan kami tidak terlihat terlalu besar. </font><font style="vertical-align: inherit;">Namun ketahuilah bahwa komputer yang digunakan untuk pengembangan biasanya jauh lebih cepat daripada, katakanlah, rata-rata telepon seluler tempat mereka menjelajahi web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menempatkan diri Anda di tempat pengguna yang tidak memiliki perangkat tercepat, gunakan kemampuan browser untuk secara artifisial membatasi sumber daya sistem. </font><font style="vertical-align: inherit;">Misalnya - untuk mengurangi kinerja prosesor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan pendekatan ini, 10 atau 50 milidetik dapat dengan mudah berubah menjadi 500.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Mengukur kinerja relatif</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengukuran kinerja biasanya tergantung tidak hanya pada perangkat keras, tetapi juga pada beban prosesor saat ini, dan pada beban kerja utas utama dari aplikasi JavaScript. </font><font style="vertical-align: inherit;">Oleh karena itu, cobalah untuk mengandalkan indikator relatif yang mengkarakterisasi perubahan kinerja, karena indikator absolut yang diperoleh ketika menganalisis fragmen kode yang sama pada waktu yang berbeda dapat sangat bervariasi.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ringkasan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel ini, kami melihat beberapa API JavaScript yang dirancang untuk mengukur kinerja. </font><font style="vertical-align: inherit;">Kami berbicara tentang cara menggunakannya untuk menganalisis kode nyata. </font><font style="vertical-align: inherit;">Saya percaya bahwa untuk melakukan beberapa pengukuran sederhana, paling mudah digunakan </font></font><code>console.time()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya merasa bahwa banyak pengembang front-end tidak cukup memperhatikan untuk mengukur kinerja proyek mereka. </font><font style="vertical-align: inherit;">Dan mereka harus secara konstan memantau indikator yang relevan, karena produktivitas memengaruhi keberhasilan dan profitabilitas proyek. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaca yang budiman! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda terus memantau kinerja proyek Anda, beri tahu kami bagaimana Anda melakukannya.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id495858/index.html">Terpencil dan mandiri: pengalaman ruang untuk membantu penduduk bumi</a></li>
<li><a href="../id495884/index.html">Prediksi Rangkaian Waktu Menggunakan Jaringan Syaraf Berulang</a></li>
<li><a href="../id495888/index.html">PyCon Russia telah membuka CFP untuk pembicara masa depan. Formulir Partisipasi dan Topik yang Diharapkan</a></li>
<li><a href="../id495890/index.html">Mengkonfigurasi Bundel Nginx / LetsEncrypt di Docker Swarm</a></li>
<li><a href="../id495892/index.html">Apakah Anda benar-benar tahu apa itu array?</a></li>
<li><a href="../id495896/index.html">Paket Penggunaan-suara: Efek Suara di Aplikasi Bereaksi</a></li>
<li><a href="../id495898/index.html">Panduan praktis untuk menangani kebocoran memori di Node.js</a></li>
<li><a href="../id495902/index.html">CAPTCHA: membunuh konversi</a></li>
<li><a href="../id495904/index.html">Bisakah epidemi diprediksi?</a></li>
<li><a href="../id495908/index.html">Jalan menuju hadiah</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>