<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèá üöµüèæ ‚¨õÔ∏è Comment je me suis d√©barrass√© de mille onglets ... üåÖ üò® üìÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... et avait 3 ans de retard. Id√©alement, cela devrait √™tre comme ceci: l'utilisateur lance le navigateur et le navigateur montre ce dont l'utilisateu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment je me suis d√©barrass√© de mille onglets ...</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487782/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... et avait 3 ans de retard. Id√©alement, cela devrait √™tre comme ceci: l'utilisateur lance le navigateur et le navigateur montre ce dont l'utilisateur a besoin. Mais bien que cela ne soit pas impl√©ment√©, vous devez utiliser des moteurs de recherche. Id√©alement, cela devrait √™tre comme ceci: l'utilisateur ouvre un moteur de recherche, entre une requ√™te de recherche et montre ce dont l'utilisateur a besoin. Mais alors que le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Je me sens chanceux¬ª</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ne fonctionne pas aussi bien (bien que r√©cemment, il y ait eu un mouvement notable dans cette direction), il faut parfois aller √† plusieurs adresses depuis la page des r√©sultats de la recherche.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le sc√©nario d'utilisation des moteurs de recherche, apparemment, a √©t√© fix√© historiquement (lorsque Internet √©tait lent): en arrivant √† la page des r√©sultats de la recherche, j'ai ouvert plusieurs onglets en arri√®re-plan, et pendant que les autres se chargeaient, il √©tait d√©j√† possible de lire le premier onglet. Dans le cas o√π j'ai trouv√© les informations n√©cessaires sur l'un des onglets, le reste a d√ª √™tre ferm√© manuellement. S'il ne se fermait pas imm√©diatement, les onglets restaient suspendus, ce qui gonflait le nombre d'onglets ouverts dans le navigateur, qui, en r√®gle g√©n√©rale, se fermait rarement apr√®s cela.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, si vous cliquez sur la page avec les liens qui s'ouvrent dans une nouvelle fen√™tre, plusieurs onglets (logiquement) √† onglets sont cr√©√©s. </font><font style="vertical-align: inherit;">Lorsque vous trouvez les informations dont vous avez besoin, vous ne vous souvenez pas toujours des onglets connect√©s, vous ne pouvez pas tout fermer, ce qui conduit √©galement √† augmenter le nombre d'onglets ouverts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai toujours eu besoin du bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Trouv√©¬ª</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui nettoierait apr√®s moi les cons√©quences de la recherche (appelons-le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´j'ai eu de la chance¬ª</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Apr√®s avoir plong√© dans le monde des extensions de navigateur, j'ai pens√© que c'√©tait quelque chose qui pourrait aider dans ce cas. </font><font style="vertical-align: inherit;">Alors commen√ßait √† faiblement appara√Ætre le d√©sir d'√©crire une extension qui r√©soudrait mes probl√®mes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais vous raconter mon histoire, je vais mener l'histoire par ordre chronologique, les conclusions peuvent √™tre inattendues.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Premier pas vers</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re chose que j'ai faite a √©t√© de mettre en place l'infrastructure: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webpack + babel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Et tout de suite, je n'ai pas aim√© ce </font><font style="vertical-align: inherit;">code dupliqu√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">babel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour ses assistants dans chaque module. </font><font style="vertical-align: inherit;">Il √©tait possible de le configurer pour utiliser l'objet </font></font><code>babelHelper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais ensuite le fichier de code </font></font><code>babelHelper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devait √™tre connect√© dans la configuration du </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webpack</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Garder un tel fichier dans le projet et le pointer </font></font><code>entry</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tait moche, j'ai fait un plug-in pour le webpack qui l'a fait automatiquement pour moi. </font><font style="vertical-align: inherit;">Apr√®s avoir d√©pens√© beaucoup d'efforts sur la premi√®re √©tape et √©crit un peu plus de code pour l'extension elle-m√™me, j'ai ralenti un peu.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brancher</font></font></b><div class="spoiler_text"><strong>webpack-babel-external-helpers-2:</strong><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.npmjs.com/package/webpack-babel-external-helpers-2</a></div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fondation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le temps a pass√© et seul un plug-in pour webpack √©tait disponible, ce qui n'a pas r√©solu mes probl√®mes. Et chaque fois que je cherchais quelque chose et que je ne fermais pas les onglets, il y avait une pens√©e: "Ce serait bien de compl√©ter cette extension ..." Le d√©sir grandissait et grandissait, et maintenant, un beau jour, la quantit√© devenait qualit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est temps de dire quelle √©tait l'id√©e principale: l' </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
utilisateur acc√®de √† la page des r√©sultats de la recherche - </font></font><abbr title="Page de r√©sultats du moteur de recherche"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SICKLE</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous </font><abbr title="Page de r√©sultats du moteur de recherche"><font style="vertical-align: inherit;">analysons</font></abbr><font style="vertical-align: inherit;"> les r√©sultats, enregistrons les adresses des liens pour nous-m√™mes, apr√®s que l'utilisateur a cliqu√© sur l'une des adresses, lui montre une notification avec le reste des adresses et le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Trouv√©"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour fermer les onglets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous acc√©dez √† la page, il peut y avoir diff√©rentes options. Le plus simple: une demande - une r√©ponse du serveur ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Le plus difficile: une requ√™te - plusieurs redirections de serveur ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3xx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), apr√®s quoi la redirection client (en utilisant </font></font><code>&lt;meta/&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou javascript), l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API historique est</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©galement au top </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Et les combinaisons entre eux, en r√®gle g√©n√©rale, la plupart des sites entrent dans cette cat√©gorie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cas de transition simple:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/d9/ml/od/d9mlodnv9fkgcqczxiomnwwhvqc.png" alt="Le cas d'une transition simple (r√©ponse 200)"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cas de transition complexe:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yl/zc/ps/ylzcpsc_dcgocw-o5vhwci2xoy4.png" alt="Cas de transition complexe (3xx + redirections client)"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, enregistrer l'adresse de la page et la v√©rifier uniquement n'est pas toujours suffisant. Par cons√©quent, vous devez cr√©er une transition logique, o√π √©crire toutes les adresses rencontr√©es sur le chemin, puis v√©rifier que la transition logique contient l'adresse stock√©e. La t√¢che est claire, mais tout n'est pas aussi simple √† ex√©cuter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Chrome, il existe deux API li√©es √† la navigation: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webNavigation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webRequest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - chacune avec ses propres √©v√©nements. Le premier - connecte les transitions et l'interface utilisateur du navigateur, le second - les demandes de r√©seau sous-jacentes. Par cons√©quent, si le changement d'adresse sur la page s'est produit en raison de l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API historique</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, il n'y aura aucun √©v√©nement pour ce dernier, et si des redirections se produisent lors d'une requ√™te r√©seau, le premier ne le signale pas du tout. </font><font style="vertical-align: inherit;">Par cons√©quent, il est n√©cessaire d'utiliser les deux API, en collectant une pinc√©e de chaque √©v√©nement de chaque API, pour former une transition logique.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelques d√©tails</font></font></b><div class="spoiler_text">   ,   <code>webNavigation</code> (wN)    :<br>
<br>
<pre><code class="plaintext hljs">onBeforeNavigate -&gt; onCommitted -&gt; onDOMContentLoaded -&gt; onCompleted
</code></pre><br>
  <code>webRequest</code> (wR):<br>
<br>
<pre><code class="plaintext hljs">onBeforeRequest -&gt; [onBeforeRedirect -&gt; onBeforeRequest]* -&gt; onCompleted | onErrorOccurred
</code></pre><br>
    wR  wN     (   ), ..  -  <code>wN.onBeforeNavigate</code>    <code>wR.onBeforeRequest</code>,  - .     .<br>
<br>
<code>         ,     ,        .</code><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©veloppement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... Revenons au moment o√π la quantit√© est devenue qualit√©. Un temps consid√©rable s'est √©coul√© depuis le d√©but du d√©veloppement jusqu'√† ce point: les navigateurs ont commenc√© √† prendre en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">charge les modules es6</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOM fant√¥me</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et d'autres fonctionnalit√©s modernes. Pour construire le projet, je suis pass√© √† </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rollup</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cette fois je n'ai pas eu √† √©crire de plugin. Apr√®s avoir construit les bases - la possibilit√© d'obtenir des informations sur toute transition dans n'importe quel onglet, il reste √† impl√©menter la logique d'analyse des SICKLES pris en charge et d'affichage des notifications sur les pages connexes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re t√¢che est assez primitive: nous connaissons l'adresse du SICKLE, montons dans le contenu de la page en utilisant le script de contenu, r√©cup√©rons les donn√©es qui nous int√©ressent, enregistrez-les, attendez que l'utilisateur aille sur l'une des pages pour lui montrer une notification avec les autres pages. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la deuxi√®me t√¢che, vous devez impl√©menter la notification elle-m√™me, que montrer √† l'utilisateur sur la page. Et ici aussi, les scripts de contenu ne peuvent pas faire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Initialement, il n'y avait qu'un seul gestionnaire (alias un contr√¥leur) qui √©tait responsable de la logique lors de l'interaction de l'utilisateur avec les moteurs de recherche. Puis l'id√©e est venue, pourquoi ne pas afficher les notifications sur les onglets associ√©s lorsque l'utilisateur clique simplement sur les liens qui s'ouvrent dans de nouveaux onglets. J'ai d√ª refaire la logique, la rendant plus universelle. Similaire au middleware </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React / Redux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez connecter plusieurs gestionnaires de transition, ce qui vous permettra √† l'avenir de mettre en ≈ìuvre la possibilit√© de d√©sactiver / activer divers gestionnaires dans les param√®tres d'extension.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intimit√©</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que la notification est un panneau en bas de l'√©cran et qu'elle est ajout√©e √† la mise en page, le script de la page peut acc√©der √† cet √©l√©ment de la m√™me mani√®re que tout autre √©l√©ment de cette page. Autrement dit, la page pourrait savoir quelle requ√™te de recherche vous avez utilis√©e, dans quel moteur de recherche et quelles autres pages vous ont √©t√© propos√©es, ce qui n'est pas tr√®s bon. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une technologie appel√©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shadow DOM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vient √† la rescousse </font><font style="vertical-align: inherit;">. Il n'est pas recommand√© de l'utiliser </font></font><code>closed mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur le </font><font style="vertical-align: inherit;">Web </font><font style="vertical-align: inherit;">lors de sa cr√©ation </font></font><code>shadowRoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, car cela n'a pas beaucoup de sens (vous devez toujours stocker le lien vers l'√©l√©ment </font></font><code>shadowRoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quelque part si vous souhaitez y acc√©der par programme; vous pouvez √©galement red√©finir la fonction </font></font><code>attachShadow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† cr√©er</font></font><code>shadowRoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en mode ouvert, puis les scripts charg√©s apr√®s la red√©finition utiliseront d√©j√† la nouvelle version de la fonction). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cas d'expansion, ce n'est pas le cas. Les scripts de contenu et les scripts de page vivent dans des mondes parall√®les. Les scripts de la page n'ont pas acc√®s aux objets d√©finis dans les scripts de contenu, tandis que les scripts de contenu fonctionnent avec l'impl√©mentation native des fonctions DOM des objets (une fonction remplac√©e par un script de la page n'a aucun effet sur la fonction avec laquelle le script de contenu fonctionne). En combinant ces deux conditions, nous voyons qu'il est possible de cr√©er un √©l√©ment avec un √©l√©ment priv√© </font></font><code>shadowRoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en stockant le lien vers celui-ci dans une variable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, le script de la page ne pourra acc√©der qu'√† l'√©l√©ment wrapper, qui sera vide pour lui. </font><font style="vertical-align: inherit;">Il ne pourra pas recevoir le texte de la demande ni les pages propos√©es. </font><font style="vertical-align: inherit;">Il faut veiller √† ne pas donner de lien vers un √©l√©ment de la notification ou du texte brut dans les √©v√©nements g√©n√©r√©s. </font><font style="vertical-align: inherit;">Par cons√©quent, dans l'extension, l'ID g√©n√©r√© est utilis√© dans les √©v√©nements et le script d'arri√®re-plan comprend d√©j√† ce qui est requis de lui par cet ID. </font><font style="vertical-align: inherit;">Pour la page, cet identifiant n'a aucun sens.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Difficult√©s de traduction</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Initialement, l'extension a √©t√© d√©velopp√©e uniquement pour </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Chrome</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais depuis l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API WebExtensions</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , quelque part dans ma t√™te a gard√© la possibilit√© de porter sur d'autres navigateurs. Et la pr√©sence de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webextension-polyfill a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inspir√© la confiance. Mais peu importe comment. Le polyphil de cette extension n'a apport√© que la possibilit√© d'utiliser l'API Chrome avec des promesses. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firefox est</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devenu une d√©ception de l'ann√©e. La non-concordance de l'API Chrome dans Firefox ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bug 1543647</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bug 1595621</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) s'est av√©r√©e critique pour que l'extension fonctionne, nous pouvons dire qu'elle ne fonctionne pas dans ce navigateur (comme pr√©vu). </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vivaldi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©tait le plus proche, mais non sans frais. un √©v√©nement</font></font><code>wN.onCreatedNavigationTarget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela ne se produit pas lorsque l'utilisateur ouvre le lien avec le bouton central de la souris ou via le bouton </font></font><code>Shift|Ctrl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ gauche de la souris, au lieu de l'√©v√©nement </font></font><code>wN.onCommitted transitionType == 'start_page'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui ne se trouve pas dans l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Chrome</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pour cette raison, l'extension ne fonctionne pas correctement dans tous les cas. </font><font style="vertical-align: inherit;">√âgalement dans Vivaldi ne fonctionne pas les raccourcis clavier pour les extensions. </font><font style="vertical-align: inherit;">Ce qui est une fonctionnalit√© tueur dans ce cas dans Chrome, vous permet de parcourir rapidement les onglets et de les fermer, sans avoir besoin d'utiliser une souris pour cela.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de l'√©criture du code, la logique d'affichage des notifications a chang√© plusieurs fois, se simplifiant √† chaque fois. En cons√©quence, il s'est av√©r√© qu'il √©tait possible de ne pas cl√¥turer le jardin avec des transitions logiques, mais d'attraper les ¬´transitions li√©es¬ª de l'utilisateur (dans le cas o√π </font></font><code>wN.onCommitted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il y a un indicateur </font></font><code>transitionType</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui indique √† quoi servait la transition, dans de nombreux cas, il s'agit de ¬´lien¬ª, ce qui signifie que l'utilisateur est pass√© par r√©f√©rence), ce qui simplifierait consid√©rablement le code et fonctionnerait dans de nombreux cas, mais pas dans tous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, n'√©tant pas dans le sujet, je m'attendais √† plus de compatibilit√© en termes d' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API webExtensions</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Comme toujours, il fait bon vivre dans un monde de navigateurs modernes lorsque vous n'avez pas besoin de prise en charge pour les anciennes versions. </font><font style="vertical-align: inherit;">Les animations CSS sont une chose merveilleuse: ce pour quoi vous utilisiez la biblioth√®que js se fait maintenant en quelques lignes sur css. </font><font style="vertical-align: inherit;">Les √©l√©ments personnalis√©s ne fonctionnent pas dans les extensions, mais le DOM fant√¥me fonctionne, vous permettant de profiter de toutes ses fonctionnalit√©s.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expansion</font></font></b><div class="spoiler_text">     chrome web store: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Handy Search</a></div></div></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487768/index.html">Ouverture des ports 4321 et 9898 sur Xiaomi Gateway 2</a></li>
<li><a href="../fr487772/index.html">Rencontrez la langue tchouvache dans Yandex.Translate: comment nous r√©solvons le principal probl√®me de la traduction automatique</a></li>
<li><a href="../fr487774/index.html">Erreurs de date et d'heure SQL Server</a></li>
<li><a href="../fr487776/index.html">Journ√©e de formation Microsoft Azure: migration de l'infrastructure du serveur (inscription termin√©e)</a></li>
<li><a href="../fr487780/index.html">Vulnerability Management - plus: gestion ou vuln√©rabilit√©s?</a></li>
<li><a href="../fr487784/index.html">D'o√π viennent-ils en QA?</a></li>
<li><a href="../fr487786/index.html">De combien de libert√© un utilisateur de four intelligent a besoin. Comment une √©quipe solide peut tester des hypoth√®ses en deux semaines au lieu de trois</a></li>
<li><a href="../fr487788/index.html">Conception de produits sans concepteur</a></li>
<li><a href="../fr487790/index.html">"Oui, ils existent!" Que font les sp√©cialistes des sciences des donn√©es au Kazakhstan et combien gagnent-ils?</a></li>
<li><a href="../fr487792/index.html">Augmenter Mercurial sur un serveur Windows (avec Nginx)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>