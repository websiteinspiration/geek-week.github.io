<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåê üëú üíß Bot in no code tools. Implementation details üå°Ô∏è ü§∑üèª üëãüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue to experiment with the no code paradigm (and partly low code). 
 
 They assembled a chatbot that helps to read large archives of articles....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bot in no code tools. Implementation details</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/507190/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We continue to experiment with the no code paradigm (and partly low code). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
They assembled a chatbot that helps to read large archives of articles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the article we‚Äôll tell you what tools they took and what limitations they came across.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/442/69f/380/44269f3806a66798d39448da0120dd6b.png" alt="image"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Material for the article and the draft are collected together with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roman_nebel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disclaimer. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yes, it‚Äôs also easier for us to write clean code. </font><font style="vertical-align: inherit;">But the essence of the nocode exercise is to collect useful services from ready-made tools. </font><font style="vertical-align: inherit;">We started a long time, continue, like it. </font><font style="vertical-align: inherit;">We will tell you about everything gradually. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The audience of Habr, apparently, is interested in technical rather than product details. </font><font style="vertical-align: inherit;">If it makes sense to talk about the product layer of work in no code projects without diving into implementation details, let me know in the comments.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What did you want to do</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
They wanted to help people (and themselves):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accustom to read in English;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leave for lunch: "Here is an article, read at the table."</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
They decided to make such a microproduct through the Telegram bot:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Once a day sends a link to an article from the archive. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For testing, I archived an archive of articles about the design of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ReadingDesign</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">It will still be.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">He asks the reader whether the article is like it or not. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We add the results, save the data, then we can find the most interesting articles and evaluate user activity.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can feel the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@bracho_read_bot</font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
There are </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">bugs</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ideas for features too. </font><font style="vertical-align: inherit;">And there is a plan for a new release. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In short, everything is there, but a lot - not a little, so throw your thoughts.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What used</font></font></h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platforma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">One of the many (chosen) chat designers. </font><font style="vertical-align: inherit;">Not perfect, but at least somehow does what you need. </font><font style="vertical-align: inherit;">About the selection below. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integromat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">It transfers data back and forth according to the rules and conditions. </font><font style="vertical-align: inherit;">The default selection for no code projects. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airtable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Database with an advanced interface and good integration with other tools. </font><font style="vertical-align: inherit;">It‚Äôs also the default choice (and we have been using it for a long time in the automation of our business processes, but that's another matter).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tool Parts</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bot father</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, we need the bot itself, or rather the ‚Äúaccount‚Äù for it in Telegram. </font><font style="vertical-align: inherit;">The easiest way is to find the Father of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bots</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@BotFather</font></a><font style="vertical-align: inherit;"> ) in Telegram and register a new bot in it. </font><font style="vertical-align: inherit;">A step-by-step description is google for every taste, if in a nutshell: we come up with the name of the bot, its username and that‚Äôs it. </font><font style="vertical-align: inherit;">After success, you will receive a token (a key for identifying and connecting the bot with the outside world), which we needed at this stage.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platforma</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The network has a bunch of services for creating simple bots for social networks. But they all have a birth injury: they are designed for sales funnels. And therefore simple and dumb. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The most common pattern: a customer came, greeted him, asked what was needed, licked and started to send out spam obsessively. All this is done with the help of simple text forks and data integration (for example, with Bitrix24). No interactivity. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, there are solutions like </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DialogFlow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on Google Cloud, but what to understand, it‚Äôs easier to write everything with pens. Therefore, we take the simpler option. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Took </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chatforma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Of all the not so much diversity, he has at least one API and Webhook support. </font><font style="vertical-align: inherit;">And if so, then we can entrust the chatbot platform with the function of sending directly, and configure the logic somewhere else. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yes, we did the previous no code project on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AIMyLogic</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Unfortunately, integration with external services is set to zero with a plus. </font><font style="vertical-align: inherit;">So alas, not this time.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airtable</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A place to store data. </font><font style="vertical-align: inherit;">In our case, this is an archive of articles that the bot sends, and a list of users (we are very curious and want to know your names), and a standings with points for read articles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yes, it was possible in Google Sheets as well (we have already completed them and are running a commercial no code project, all of a sudden this is a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">design task book</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">And in SQL it was possible. </font><font style="vertical-align: inherit;">And there are many more. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">are</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> two </font><font style="vertical-align: inherit;">reasons for choosing </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Airtable</font></a><font style="vertical-align: inherit;"> : it is pleasant on the face and integrates wonderfully with everything and everything. </font><font style="vertical-align: inherit;">You get the API token directly in the application and drive the data in both directions as you want and where you want. </font><font style="vertical-align: inherit;">Easy and nice. </font><font style="vertical-align: inherit;">And we wanted it easy and pleasant at least somewhere and in something.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integromat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And finally, brains. </font><font style="vertical-align: inherit;">It is difficult to name the advantages over the same </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zapier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , there is pure taste. </font><font style="vertical-align: inherit;">We have already used </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integromat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in previous projects, it is somehow more familiar. </font><font style="vertical-align: inherit;">By the way, we also collected a list of articles from the archive using it.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A bit of harsh commerce</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All instruments are of varying degrees of charge. </font><font style="vertical-align: inherit;">Micropayments within 1000 rubles per month do not hover us. </font><font style="vertical-align: inherit;">In the end, for </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">our mega-corporation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> it is affordable money. </font><font style="vertical-align: inherit;">But yes, if for you free tools is a matter of principle, then it is better not to play toys in no code, there you have to unfasten a pretty penny for almost everything.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How we did it</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basic settings</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Problem number 0 - in Chatforma to get a new bot, so that it just was. We register on the platform, we are glad that we have only 14 free days. We go to the bots tab and find the treasured button "Add bot". We name it (the name is only for Chatforma, the bot itself has already been named) and select the social network (Telegram). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After that, we immediately go to the new bot and in the settings section we prescribe the same token that the Father of Bots gave us, nothing will work without it. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/1d5/9cd/928/1d59cd9286eac9f91340ddfd2484d6b0.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The setting for the token is hidden well, you still need to search</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first thing a self-respecting botanist should do is teach the bot how to say hello. </font><font style="vertical-align: inherit;">Everything is simple: we go to the Designer and we see two prepared messages: start and default. </font><font style="vertical-align: inherit;">What is the difference: first - this message will come if you just launched the bot (clicked "Start"). </font><font style="vertical-align: inherit;">The second is a universal stub for any message that the bot does not understand. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/42f/76e/418/42f76e418c5e4a3c27c1112d5d2816d7.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And there you can add an inline keyboard, but this is quite pampering</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We collect users</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To take into account statistics and distribute unique links, each of us will need a list of users who launched the bot. </font><font style="vertical-align: inherit;">It is in the "Users" section, but has no practical benefit, except for the ego being excited by the number of signatories. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/956/d94/e83/956d94e836b3ac7fe72eba85039a7e3b.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">By the heading of the table you can easily determine its usefulness.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
We will use Integromat, Airtable and API request. </font><font style="vertical-align: inherit;">In Integromat, we pull out the list of users with this request and write it to the desired table in Airtable. </font><font style="vertical-align: inherit;">In order not to produce duplicates, before recording, we check for the presence of the user in the table by ID. </font><font style="vertical-align: inherit;">If you already have one, we filter it out, write down the rest. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c1d/d23/938/c1dd23938c8b9782dad5cd68f3419777.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Separate fetish in Integromat - trying to align everything there</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set up a newsletter</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
More interesting. Every day we need to generate a newsletter for all participants by inserting a random link from Airtable there. Better yet, a random link to everyone. Better yet, write something in front of her. Something personal and not repeating every day. We go to the "Newsletters" section in the hope of implementing our plan ... Everything is very bad. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/56f/dcd/36e/56fdcd36ef66852b1a224032cf3840ca.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We will now explain why the</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
point is this. Chatforma can create two types of newsletters: regular and auto-links. The first ones are suitable if you need to send a certain text, picture, poll and so on to all (or some) participants one-time. The second allows you to configure the newsletter according to the schedule and days of the week, but the sending functionality is limited only by text and media, polls cannot be sent like that. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/47f/923/d90/47f923d90145169c8358b2dfef92dfc6.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Just sending </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/412/452/fad/412452fadd370b1208996e09945af590.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avtorassylki</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Back to the newsletter. What the platform offers does not suit us. We cannot do personalized mailing and dynamically insert any information there. Only pre-prepared. And I don‚Äôt feel like doing it with pens. When the bot has two users, this is nothing, but if there are already three ... Therefore, we solve the problem using Integromat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We create a scenario with the following logic: We get a list of articles from Airtable - From there we take the list of users that we entered there earlier - Each user goes through an iteration, where a random number is generated and an article with this line number is sent via a POST request to Chatforma. To do this, I had to get into the API documentation and find the necessary method there.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So that the user doesn‚Äôt receive the same link twice, we load the database with already sent links, sort it by user and check the links for compliance. If there was such a link, we return to the previous step and repeat again, if there was no such link, we send it to the user and enter it in the table with the sent ones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We also need to simulate an interactive message preceding the link. We add message options to the database and form the final one using the username in the telegram, a random phrase and a random link. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/591/bd3/b32/591bd3b32b12e5190a7e4896e917ccda.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A variation on the topic of business logic.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
This is what happens afterwards on the side of Chatforma. When Integromat sent the message, Chatforma receives it and forms a single newsletter for a specific user. In the text, everything is the same that Integromat formed. It seems to work.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A problem was immediately discovered: not only was there a delay in receiving data from outside, but also Chatforma spent a long time (up to 15 minutes) on already formed mailings. </font><font style="vertical-align: inherit;">It turns out that a ten-hour newsletter can arrive at 10:01 a.m. and 10:16 a.m. Technical support has studied this phenomenon for 4 days - and without much success. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e46/c87/fb1/e46c87fb153178f984cb817668f865ad.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But the support is responsive and it's nice</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voting</font></font></h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Everyone got the link, someone even read the contents. </font><font style="vertical-align: inherit;">Now you need to evaluate this article. </font><font style="vertical-align: inherit;">The Chatforma API has two limitations that do not give us room for creativity: we can only send responses received from third-party services from an entity such as ‚ÄúPoll‚Äù to third-party services. </font><font style="vertical-align: inherit;">By API we can only return text, we can create the survey we need only inside Chatforma, which means we can only use the types of mailing that we described earlier.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, they did the following: they filled up polls about the quality of the article for every day for all subscribers, and set it at 11:00. </font><font style="vertical-align: inherit;">After the user votes, the result via webhook goes to Integromat, and based on the answer from the last article sent, points are put down for the right user. </font><font style="vertical-align: inherit;">The calculation is as follows: for ‚ÄúFire‚Äù +1 point to the voter and +1 point to the article, for ‚ÄúNot very‚Äù -1 point to the article and +1 to the user. </font><font style="vertical-align: inherit;">For "I have not read" - nothing. </font><font style="vertical-align: inherit;">They also planned to send the user a bounce message after the vote, but they abandoned this idea. </font><font style="vertical-align: inherit;">Because delivery speed is in the spirit of Russian Post in its best years. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2b5/b38/77d/2b5b3877d6c8de92abb2d2a4aa573719.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EP will not interfere in this vote</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instrument Total</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airtable</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No problems integrating, recording and retrieving data.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integromat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The service copes well with linear operations. </font><font style="vertical-align: inherit;">If the if / else logic and data comparison appear, the schema is quite confusing. </font><font style="vertical-align: inherit;">But it works. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is necessary to optimize the processes a lot, since all tariffs are limited by the number of completed items.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platforma</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The service is crude, there are many shortcomings, they are angry. </font><font style="vertical-align: inherit;">At the same time, technical support is very well organized, it is prompt and competent enough. </font><font style="vertical-align: inherit;">A large number of instructions and webinars on functionality, they are relevant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Found flaws.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restriction of the types of content depending on the type of distribution.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The content of an API newsletter is limited to text only.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webhook can only send poll results, not any user actions.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Big delay when sending newsletters.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bugs with a delay in making changes after saving.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The log does not store messages sent by the user, only responses to polls.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paying for the service is a whole quest, and you really want to go through it.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Questions to you</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can feel the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@bracho_read_bot</font></a><font style="vertical-align: inherit;"> - and of course, please report on bugs and offer features.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What other archives of English-language articles can I sew in a bot? </font><font style="vertical-align: inherit;">Something has already been taken, we want more.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Food experts, are you here? </font><font style="vertical-align: inherit;">Tell you about the product part of the no code - or, well, yourself with a mustache?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A set of no code tools. </font><font style="vertical-align: inherit;">Is there anything better for this task? </font><font style="vertical-align: inherit;">Of course, the candidates for the departure are mainly Chatforma.</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en507174/index.html">Does the Armed Forces of Russia and other structures of the Ministry of Defense of the Russian Federation need a standard for describing algorithms?</a></li>
<li><a href="../en507176/index.html">MMS system in the data center: how we automated maintenance management</a></li>
<li><a href="../en507178/index.html">Event2Mind for the Russian language. How we taught the model to read between the lines and understand the intentions of the interlocutor</a></li>
<li><a href="../en507182/index.html">Game of Motivations. Part 2</a></li>
<li><a href="../en507188/index.html">Better than silicon: scientists have obtained semiconductor material with more advanced characteristics</a></li>
<li><a href="../en507194/index.html">Tester masks (questions for a successful transition to a tester personality disorder)</a></li>
<li><a href="../en507196/index.html">What is the difference between Data Analytics and Statistics</a></li>
<li><a href="../en507198/index.html">Podcasts as corporate media: how to make money on them and what metrics to use</a></li>
<li><a href="../en507200/index.html">7 Ways Data Scientists Fool You</a></li>
<li><a href="../en507202/index.html">Avito Analytics meetup</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>