<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≥üèæ üïî üõÄüèΩ An Inside Look at the Reliability of Facebook Services ‚òòÔ∏è üôÜüèº ü§ö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When Facebook ‚Äúlies‚Äù, people think it is because of hackers or DDoS attacks, but it is not. All ‚Äúfalls‚Äù over the past few years have been caused by in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>An Inside Look at the Reliability of Facebook Services</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/489204/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When Facebook ‚Äúlies‚Äù, people think it is because of hackers or DDoS attacks, but it is not. All ‚Äúfalls‚Äù over the past few years have been caused by internal changes or breakdowns. In order to teach new employees not to break Facebook with examples, all major incidents are given names, for example, ‚ÄúCall the Cops‚Äù or ‚ÄúCAPSLOCK‚Äù. The first one was named because when one day the social network fell, users called the Los Angeles police and asked to fix it, and the sheriff in despair on Twitter asked not to bother them about this. During the second incident on the cache machines, the network interface went down and did not rise, and all the machines restarted by hand. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elina Lobanova</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">has been working on Facebook for the last 4 years on the Web Foundation team. Team members are called production engineers and monitor the reliability and performance of the entire backend, put out Facebook when it is on, write monitoring and automation to make life easier for themselves and others. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jf/9x/nj/jf9xnjbzmqg3ufk-km_bqmgkrya.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In an article based on Elina's report on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HighLoad ++ 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , we‚Äôll </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">show</font></a><font style="vertical-align: inherit;"> how production engineers monitor the Facebook backend, what tools they use, which causes major crashes and how to deal with them.</font></font><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wuV5DLiUuaI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
My name is Elina, almost 5 years ago I was called on Facebook as an ordinary developer, where for the first time I came across really highly loaded systems - this is not taught at institutes. </font><font style="vertical-align: inherit;">The company does not hire a team, but an office, so I arrived in London, chose a team that monitors the work of facebook.com and was among production engineers.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Production Engineers</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To begin, I‚Äôll tell you what we are doing and why we are called Production Engineers, and not SRE like Google, for example.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009. SRE</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The standard model that is still used in many companies is "developers - testers - operation". </font><font style="vertical-align: inherit;">Often they are divided: they sit on different floors, sometimes even in different countries, and do not communicate with each other. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 2009, Facebook already had SRE. </font><font style="vertical-align: inherit;">At Google, SRE started earlier, they know how to achieve DevOps, and have written it in their book ‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Site Reliability Engineering</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6h/o6/1l/6ho61luejwigg_bb6v_7441tlty.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On Facebook in 2009, there was nothing like this. </font><font style="vertical-align: inherit;">We were called SRE, but we did the same work as Ops in the rest of the world: manual labor, no automation, deployment of all services with your hands, monitoring somehow, oncall for everything, a set of shell scripts.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2010. SRO and AppOps</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This all did not scale, because the number of users at that time was growing 3 times per year, and the number of services grew accordingly. </font><font style="vertical-align: inherit;">In 2010, the strong-willed decision Ops was divided into two groups. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first group is </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRO</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , where ‚ÄúO‚Äù is ‚Äúoperations‚Äù, engaged in the development, automation and monitoring of the site. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second group is </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppOps</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , they were integrated into teams, each for large services. </font><font style="vertical-align: inherit;">AppOps is already close to the idea of ‚Äã‚ÄãDevOps. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Separation for a while saved everyone.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2012. Production Engineers</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 2012, AppOps simply renamed </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">production engineers</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In addition to the name, nothing has changed, but it has become more comfortable. </font><font style="vertical-align: inherit;">As you call a yacht, it will sail, and we did not want to sail like Ops. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SROs still existed, Facebook was growing, and monitoring all services at once was hard. </font><font style="vertical-align: inherit;">A person who was oncall was not even allowed to go to the toilet: he asked someone to replace him, because he was constantly burning.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2014. Closing SRO</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At one point, the authorities transferred everyone to oncall. </font><font style="vertical-align: inherit;">‚ÄúEveryone‚Äù means that developers too: write your code, here you are and answer for this code! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Production engineers have already been integrated into the most important teams for help, and the rest are out of luck. </font><font style="vertical-align: inherit;">We started with large teams and in a couple of years transferred everyone on Facebook to oncall. </font><font style="vertical-align: inherit;">Among the developers there was great excitement: someone quit, someone wrote bad posts. </font><font style="vertical-align: inherit;">But everything calmed down, and in 2014 the SRO was closed because they were no longer needed. </font><font style="vertical-align: inherit;">So we live to this day. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The word ‚ÄúSRE‚Äù in the company is notorious, but we look like SRE on Google. </font><font style="vertical-align: inherit;">There are differences.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We are </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">always built into teams. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We do not have SRE search in general, as in Google, it is for each search service separately.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">are not in the products</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , only in the infrastructure the product manages itself.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We are </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oncall</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> together with the developers.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have a little more experience in systems and networks, so we </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">focus on monitoring</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and extinguish services when they burn brightly. </font><font style="vertical-align: inherit;">We fix errors in advance that could lead to crashes and influence the architecture of new services from the very beginning, so that they later work smoothly in production.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoring</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It's the most important. </font><font style="vertical-align: inherit;">How do we do this? </font><font style="vertical-align: inherit;">Like everyone: without black magic, in their own, home. </font><font style="vertical-align: inherit;">But the devil, as usual, will tell you about them in detail.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATOP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's start from the bottom. Everyone knows TOP in Linux, and we use ATOP, where ‚ÄúA‚Äù is ‚Äúadvanced‚Äù - a system performance monitor. The main benefit of ATOP is that it stores history: you can configure it to save snapshots to disk. Our ATOP runs on all machines every 5 seconds. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is an example server running the PHP backend for facebook.com. We wrote our virtual machine to execute PHP code, it is called </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HHVM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (HipHop Virtual Machine). According to exported metrics, we found that several machines did not process almost a single request in one minute. Let's see why, open ATOP 30 seconds before it hangs.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p2/vt/wf/p2vtwfqsucdo-shyennmf64opy8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It can be seen that with the processor problems, we load it too much. </font><font style="vertical-align: inherit;">There is also trouble with memory, only 1.5 GB are left in the cache, and after 5 seconds only 800 MB. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/q-/_x/dzq-_x7xjizrcgynj3gdayuh8u0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After another 5 seconds, the CPU is freed, nothing is executed. </font><font style="vertical-align: inherit;">ATOP says look at the bottom line, we write to disk, but what? </font><font style="vertical-align: inherit;">Turns out we are writing swap. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4z/-j/v1/4z-jv12mgthgjnezqlvbznu6ync.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Who is doing this? </font><font style="vertical-align: inherit;">Processes that were taken from memory 0.5 GB and put in swap. </font><font style="vertical-align: inherit;">In their place came two suspicious Python processes, which can then be viewed as a command line.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8y/ej/uk/8yejuk2y3eeswlw7astqbiaaste.jpeg"><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATOP is beautiful, we use it constantly.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you do not have it, I highly recommend using it. </font><font style="vertical-align: inherit;">Do not be afraid for the drive, ATOP eats only 200-300 MB per day every 5 seconds.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malloc HTTP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To the Bahamas and the big incidents, we give names. There is one fun bug related to ATOP called Malloc HTTP. We debuted it with ATOP and strace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We use Thrift everywhere as an RPC. In the early versions of its parser there was an amazing bug that worked like this: a message arrived in which the first 4 bytes is the size of the data, then the data itself, and the first bytes are added to the next message. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But once one of the programs rather than to go to the Thrift service, I went to HTTP, and received a response ¬´the HTTP Bad the Request¬ª: </font></font><code>HTTP/1.1 400</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After it took HTTP and allocated using malloc HTTP the number of bytes.</font></font><br>
<br>
<pre><code class="bash hljs">Thrift message<font></font>
HTTP/1.1 400<font></font>
<span class="hljs-string">"HTTP"</span> == 0x48545450</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It's okay, we have overcommit, let's allocate more memory! </font><font style="vertical-align: inherit;">We allocated with malloc, and until we write and read there, they will not give us real memory. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But it was not there! </font><font style="vertical-align: inherit;">If we want to fork, the fork will return an error - there is not enough memory.</font></font><br>
<br>
<pre><code class="bash hljs">malloc(<span class="hljs-string">"HTTP"</span>)<font></font>
pid = fork(); // errno = ENOMEM</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But why, is there a memory? </font><font style="vertical-align: inherit;">Understanding the manuals, we found that everything is very simple: the current overcommit configuration is such that it is a magic heuristic, and the kernel itself decides when a lot and when not:</font></font><br>
<br>
<pre><code class="bash hljs">malloc(<span class="hljs-string">"HTTP"</span>)<font></font>
pid = fork(); // errno = ENOMEM<font></font>
<font></font>
// 0: heuristic overcommit<font></font>
vm.overcommit_memory = 0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For a working process, this is normal, you can select malloc up to TB, but for a new process - no. </font><font style="vertical-align: inherit;">And part of the monitoring at us was tied to the fact that the main process forked small scripts for data collection. </font><font style="vertical-align: inherit;">As a result, our monitoring part broke down, because we could no longer fork.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FB303</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FB303 is our basic monitoring system. </font><font style="vertical-align: inherit;">It was named after the 1982 standard bass synthesizer. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/t2/x3/f4/t2x3f4of3j794hnfskzti5lk3va.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The principle is simple, therefore, it still works: each service implements the Thrift getCounters interface.</font></font><br>
<br>
<pre><code class="php hljs">Service FacebookService {<font></font>
    map&lt;<span class="hljs-keyword">string</span>, i64&gt; getCounters()<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, he does not implement it, because the libraries are already written, everything is done in the code </font></font><code>increment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code>set</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="php hljs">incrementCounter(<span class="hljs-keyword">string</span>&amp; key);<font></font>
<font></font>
setCounter(<span class="hljs-keyword">string</span>&amp; key, int64_t value);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, each service exports counters on the port that it registers with Service Discovery. Below is an example of a machine that generates a news feed and exports about 5.5 thousand pairs (string, number): memory, production, anything. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sl/sb/fj/slsbfj9kapkaqsi3quo_do4q64a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each machine runs a binary process that goes through all the services around, collects these counters and puts them in storage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is what the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">storage GUI</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> looks like </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sh/lt/li/shltlimradfvsovwo1vp1xzudmu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Very similar to Prometheus and Grafana, but it is not. The first FB303 entry on GitHub was in 2009, and Prometheus in 2012. This is an explanation of all the ‚Äúdo-it-yourselfers‚Äù of Facebook: we did them when there was nothing normal in Open Source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, there is a search for the names of counters. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vb/b3/ya/vbb3yabg-lhlypl1y7_zwf9dolw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The graphs themselves look something like this.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b7/td/lj/b7tdljhxpmw6d5rt1fpguoon3ru.jpeg"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A picture from the inner group in which we post beautiful graphics. </font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An important difference between our monitoring stack and Prometheus and Grafana is that </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">we store data forever</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Our monitoring will re-sample the data, and after 2 weeks we will have one point for every 5 minutes, and after a year for every hour. </font><font style="vertical-align: inherit;">Therefore, they can be stored so much. </font><font style="vertical-align: inherit;">Automatically this is not configured anywhere. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But if we talk about the features of monitoring Facebook, then I would describe it with one English word ‚Äú </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observability‚Äù</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observability</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is a "black box", there is a "white box", and we have a glass transparent "box". </font><font style="vertical-align: inherit;">This means that when we write code, we write everything that is possible in the logs, and not selectively. </font><font style="vertical-align: inherit;">Sampling is well tuned everywhere, so the backend for storage, counters and everything else lives fine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the same time, we can build our dashboards already on existing counters. </font><font style="vertical-align: inherit;">In the case of studying these dashboards, this is not the end point with 10 graphs, but the initial one, from which we go to our UI and find everything there that is possible.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scuba</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is the climax of the idea of ‚Äã‚Äãobservability. This is our ELK stack. The principle is the same: we write in JSON without a specific scheme, then we request in the form of a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">table</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , time series of data, or 10 more visualization options. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Scuba logs in the order of hundreds of gigabytes per second. Everything is requested very quickly, because it is not Elasticsearch, and everything is in memory on powerful machines. Yes, money is spent on it, but how wonderful it is! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, below Scuba UI, one of the most popular tables is opened in it, in which all clients of all Thrift services write logs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dj/ah/ad/djahadigvrtru4luney67766slw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The graph shows that in the end, something went wrong in the service. To find out the delay, go to the list of counters, select the delay, aggregation, click "Dive". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m2/c-/y8/m2c-y8pfnqyrz4hivxhxyszwvnw.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The answer comes in 2 seconds.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j6/ac/kg/j6ackggq0o7xk93vejg0yfbyrhi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It can be seen that at that moment something happened and the delay increased significantly. </font><font style="vertical-align: inherit;">To learn more, you can group by different parameters. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are hundreds of such tables.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A table that shows the versions of binary files, packages, how much memory is eaten on all millions of machines. </font><font style="vertical-align: inherit;">On each host, an PS is made once an hour and sent to Scuba.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">All dmesg, all memory dumps, are sent to other tables. </font><font style="vertical-align: inherit;">We run Perf once every 10 minutes on each machine, so we know which stack traces we have on the kernel and what the global CPU can load.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP debug</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Scuba also provides a backend for our core PHP debugging tool. Thousands of engineers write PHP code, and somehow you need to save the global repository from bad things. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How does it work? PHP also writes a stack trace to each log. Scuba (our Elasticsearch) simply cannot accommodate stack trace from all logs from all machines. Before putting the log into Scuba, we convert the stack trace to a hash, sample by hashes and save only them. The stack traces themselves are sent to Memcached. Then, in the internal tool, you can pull a specific stack trace from Memcached quickly enough. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ch/w_/im/chw_im8wjuue2nolmyzgcfappnq.jpeg"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualization with hash grouping from logs and stack traces.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
We debug the code using the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pattern matching</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> method </font><font style="vertical-align: inherit;">: open Scuba, see how the error graph looks like.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nd/op/nx/ndopnxibxeidsb8cmyy0rokasjm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We go to LogView, there errors are already grouped by stack traces. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yx/0f/t3/yx0ft3lf_mnoskzxba7oqw3wtai.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A stack trace is loaded from Memcached, and already on it you can find diff (commit in the PHP repository), which was posted at about the same time, and roll it back. </font><font style="vertical-align: inherit;">Anyone can roll back and commit with us, no permissions are needed for this.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/eu/ck/kheuck1w2losbdhiyasysemlvnk.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dashboards</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I‚Äôll end the monitoring topic with dashboards. We have few of them - only two per three indicators. The dashboard itself is rather unusual. I would like to talk more about him. Below is a standard dashboard with a set of graphs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/eu/ck/kheuck1w2losbdhiyasysemlvnk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, it is not so simple with him. The fact is that the purple line on one graph is the same service that the blue line on the other graph corresponds to, and another graph can be in one day and another in a month. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We use our dashboard based on </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cubism</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the Open Source JS library. It was written on Square and released under the Apache license. They have built-in support for Graphite and Cube. But it is easy to expand, which we have done.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The dashboard below shows one day at one pixel per minute. </font><font style="vertical-align: inherit;">Each line is a region: data centers that are nearby. </font><font style="vertical-align: inherit;">They display the number of logs that the Facebook backend writes in bytes per second. </font><font style="vertical-align: inherit;">Below are annotations for teams in America to see what we have already fixed from what happened during the day. </font><font style="vertical-align: inherit;">It‚Äôs easy to look for correlation in this picture. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fx/3u/8f/fx3u8f42urcs2ernp8cu_gvxj6q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Below is the number of errors 500. What on the left did not matter to users, and obviously they did not like the dark green stripe in the center. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jy/dp/g1/jydpg1dmhrcxiirkeba3dhmtxcs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next is the 99th percentile latency. </font><font style="vertical-align: inherit;">At the same time, as in the chart above, it can be seen that latency dipped. </font><font style="vertical-align: inherit;">To return an error, it is not necessary to spend a lot of time.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/og/4w/it/og4witypnhr2n091yaiwzjqctsg.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How it works</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On a 120-pixel-high graph, everything is visible. But many of these can‚Äôt be placed on one dashboard, so we‚Äôll squeeze to 30. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/48/-t/-2/48-t-2gfcbcmotwnkifz2tln_9u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, then we get some kind of boa constrictor. Let's go back and see what Cubism does with it. He breaks the chart into 4 parts: the higher, the darker, and then collapses. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zg/s-/48/zgs-48iqemvyyyyxuh1g949aoji.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we have the same schedule as before, but everything is clearly visible: the darker the green, the worse. Now it‚Äôs much clearer what is happening. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the left you can see the wave as it rose, and in the center, where it is dark green, everything is very bad. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ql/0f/xu/ql0fxubdkifq0ax-mwhbn00ndxi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cubism is only the beginning. It is needed for visualization, in order to understand whether everything is bad now or not. For each table, there are dashboards already with detailed graphs.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_p/zx/u-/_pzxu-sbu9xc5p2gpoyrekvbybc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Monitoring by itself helps to understand the state of the system and respond if it breaks. </font><font style="vertical-align: inherit;">On Facebook, every oncall employee must be able to repair everything. </font><font style="vertical-align: inherit;">If it burns brightly, then everything turns on, but especially production engineers with the experience of a system administrator, because they know how to solve the problem quickly.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When Facebook lay</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes incidents happen, and Facebook lies. Usually people think that Facebook is lying because of DDoS or hackers attacked, but in 5 years it has never happened. The reason has always been our engineers. They are not on purpose: the systems are very complex and can break down where you do not wait. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We give names to all major incidents so that it is convenient to mention and tell newcomers about them so as not to repeat mistakes in the future. The champion by the funniest name is the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Call the Cops</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> incident </font><font style="vertical-align: inherit;">. People called the Los Angeles police and asked to fix Facebook because it was lying. The Los Angeles Sheriff was so sick of it that he tweeted, ‚ÄúPlease don't call us!‚Äù We are not responsible for this! ‚Äù </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4p/tl/nv/4ptlnvj0sppjmmmdt3zjowumd-u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
My favorite incident in which I participated was called </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAPSLOCK.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. It is interesting in that it shows that anything can happen. And this is what happened. It obychnyyIP address: </font></font><code>fd3b:5679:92eb:9ce4::1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Facebook uses Chef to customize the OS. Service Inventory stores the host configuration in its database, and Chef receives a configuration file from the service. Once the service changed its version, began to read IP addresses from the database immediately in MySQL format and put them in a file. The new address is now written in capital: </font></font><code>FD3B:5679:92EB:9CE4::1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Shef looks at the new file and sees that the IP address has ‚Äúchanged‚Äù because it compares, not in binary form, but with a string. The IP address is ‚Äúnew‚Äù, which means that you need to lower the interface and raise the interface. On all millions of cars in 15 minutes, the interface went down and up.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It would seem that it‚Äôs okay - capacity decreased while the network was lying on some machines. </font><font style="vertical-align: inherit;">But a bug suddenly opened in the network driver of our custom network cards: at startup, they required 0.5 GB of sequential physical memory. </font><font style="vertical-align: inherit;">On cache machines, those 0.5 GB disappeared while we lowered and raised the interface. </font><font style="vertical-align: inherit;">Therefore, on cache machines, the network interface went down and did not rise, and nothing works without caches. </font><font style="vertical-align: inherit;">We sat and restarted these machines with our hands. </font><font style="vertical-align: inherit;">It was fun.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incident Manager Portal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When Facebook ‚Äúburns‚Äù, it is required to organize the work of the ‚Äúfire brigade‚Äù, and most importantly, to understand where it burns, because in a huge company it can ‚Äúsmell burnt‚Äù in one place, but the problem will be in another. </font><font style="vertical-align: inherit;">The UI tool called </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incident Manager Portal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> helps us with this </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">It was written by production engineers, and it is open to all. </font><font style="vertical-align: inherit;">As soon as something happens, we start an incident there: name, beginning, description.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hj/px/sm/hjpxsmys_lbno7lkm9r9osacq7o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have a specially trained person - Incident Manager On-Call (IMOC). </font><font style="vertical-align: inherit;">This is not a permanent position; managers regularly change. </font><font style="vertical-align: inherit;">In case of large fires, IMOC organizes and coordinates people for repair, but does not have to repair it themselves. </font><font style="vertical-align: inherit;">As soon as an incident with a high level of danger is created, IMOC receives SMS and begins to help organize everything. </font><font style="vertical-align: inherit;">In a large system, such people cannot be dispensed with.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prevention</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Facebook is not so common. </font><font style="vertical-align: inherit;">Most of the time we do not put out fires and do not restart the cache machines, but we fix bugs in advance, and, if possible, for everyone at once. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Once we found and fixed the "queue problem." </font><font style="vertical-align: inherit;">The number of requests increases by 50%, and errors by 100%, because no one throttling implements in advance, especially in small services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We figured out an example of several services and roughly defined a behavior model.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Under normal load, the request arrives, is processed and returned to the client.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With a high load, requests are waiting in a queue because all threads for processing requests are busy. </font><font style="vertical-align: inherit;">The delay is increasing, but so far everything is fine.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The line is growing, the load is increasing. </font><font style="vertical-align: inherit;">At some point, everything that the server executes on the client ends with a response timeout, and the client falls out with an error. </font><font style="vertical-align: inherit;">At this point, the result of the server can simply be thrown away.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/0b/c1/b1/0bc1b11xgg49wz266m-tvoximls.jpeg"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client timeout is highlighted in red. </font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And the client repeats again! </font><font style="vertical-align: inherit;">It turns out that all the requests that we execute are thrown into the trash and no one needs it anymore. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How to solve this problem for everyone at once? </font><font style="vertical-align: inherit;">Introduce a limit on the waiting time in the queue. </font><font style="vertical-align: inherit;">If the request is in the queue more than expected, we throw it out and do not process it on the server, we do not waste CPU on it. </font><font style="vertical-align: inherit;">We get an honest game: we throw away everything that we can‚Äôt process, and everything that we could - processed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The restriction made it possible, while increasing the load by 50% above the maximum, to still process 66% of requests and receive only 33% of errors. </font><font style="vertical-align: inherit;">The developers of the framework for Dispatch implemented this on the server side, and we, the production engineers, gently settled the 100 ms timeout in the queue for everyone. </font><font style="vertical-align: inherit;">So all the services immediately got cheap basic throttling.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tools</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ideology of SRE says that if you have a large fleet of cars, a bunch of services, and nothing to do with your hands, then you need to automate. </font><font style="vertical-align: inherit;">Therefore, half the time we write code and build tools.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integrated </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cubism</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> into the system.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FBAR is a ‚Äúworkhorse‚Äù that comes and repairs, so no one worries about one broken car. </font><font style="vertical-align: inherit;">This is the main task of the FBAR, but now it has even more tasks.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coredumper</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which we wrote with two colleagues </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It monitors coredumps on all machines and drops them in one place along with stack traces with all the host information: where it lies, how to find what size. </font><font style="vertical-align: inherit;">But most importantly, stack traces go for free, without starting GDB using BPF programs.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Polls</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The last thing we do is talk with people, interview them. </font><font style="vertical-align: inherit;">It seems to us that this is very important. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One useful poll is about reliability. </font><font style="vertical-align: inherit;">We ask about already running services in the key quotes from our questionnaire:</font></font><br>
<blockquote><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"The primary responsibility of system software must be to continue running. </font><font style="vertical-align: inherit;">Providing service should be seen as a beneficial side-effect of continued operation ¬ª</font></font></em></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This means that the main duty of the system is to continue to work, and the fact that it provides some kind of service is an additional bonus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Surveys are only for medium services, large ones themselves understand. </font><font style="vertical-align: inherit;">We give a questionnaire in which we ask basic things about architecture, SLO, testing, for example.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúWhat happens if your system gets 10% of the load?‚Äù </font><font style="vertical-align: inherit;">When people think: ‚ÄúBut really, what?‚Äù </font><font style="vertical-align: inherit;">- insights appear, and many even rule their systems. </font><font style="vertical-align: inherit;">Previously, they did not think about it, but after the question there is a reason.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúWho is the first to usually notice problems with your service - you or your users?‚Äù </font><font style="vertical-align: inherit;">Developers begin to recall when this happened and: "... Maybe you need to add alerts."</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"What is your biggest oncall pain?" </font><font style="vertical-align: inherit;">This is unusual for developers, especially for new ones. </font><font style="vertical-align: inherit;">They immediately say: ‚ÄúWe have many alerts! </font><font style="vertical-align: inherit;">Let us clean them and remove those that are not the case. "</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúHow frequent are your releases?‚Äù </font><font style="vertical-align: inherit;">First they remember that they are releasing it with their hands, and then they have their own custom deployment.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is no coding in the questionnaire; it is standardized and changes every six months. </font><font style="vertical-align: inherit;">This is a two-page document that we help fill out in 2-3 weeks. </font><font style="vertical-align: inherit;">And then we arrange a two-hour rally and find solutions to many pains. </font><font style="vertical-align: inherit;">This simple tool works well with us and can help you.</font></font><br>
<br>
<blockquote>6-7         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">Saint HighLoad++</a>,          .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="> </a>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="> </a>   (,   ,  ). <br>
   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">telegram-</a>  .   !</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489192/index.html">Smart Engines entered the top three in the FWCI ranking among the basic organizations of FizTech</a></li>
<li><a href="../en489194/index.html">How OpenShift is changing the organizational structure of an IT organization. The evolution of organizational models when moving to PaaS</a></li>
<li><a href="../en489196/index.html">Magic Smoke: Microcontrollers vs. Linear Regulators</a></li>
<li><a href="../en489198/index.html">How not to shoot yourself in the foot using Liquibase</a></li>
<li><a href="../en489200/index.html">What startups is looking for Y Combinator in 2020</a></li>
<li><a href="../en489206/index.html">Crash stories with Patroni, or How to drop a PostgreSQL cluster</a></li>
<li><a href="../en489208/index.html">Virtual server for online trading</a></li>
<li><a href="../en489210/index.html">Linux code performance testing with examples</a></li>
<li><a href="../en489212/index.html">1C-Bitrix prevents unsubscribing from the newsletter by the requirement to submit their personal data</a></li>
<li><a href="../en489214/index.html">Modern approach to testing localization on iOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>