<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™‹ğŸ¿ âœğŸ¾ ğŸˆ ä½¿ç”¨Python SDKç®€åŒ–Check Point API ğŸ‘¨ğŸ¼â€âš–ï¸ ğŸ¦ƒ ğŸš·</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å½“ä¸ç¨‹åºä»£ç ç»“åˆä½¿ç”¨æ—¶ï¼Œå½“å¯ä»¥åŠ¨æ€ç”ŸæˆAPIè¯·æ±‚å’Œç”¨äºåˆ†æAPIå“åº”çš„å·¥å…·æ—¶ï¼Œå°±ä¼šæ˜¾ç¤ºå‡ºä¸APIäº¤äº’çš„æ‰€æœ‰åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œç”¨äºCheck Point Management APIçš„Pythonè½¯ä»¶å¼€å‘å¥—ä»¶ï¼ˆä»¥ä¸‹ç§°ä¸ºPython SDKï¼‰å´å¾’åŠ³æ— åŠŸã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†å¼€å‘äººå‘˜å’Œè‡ªåŠ¨åŒ–çˆ±å¥½è€…çš„ç”Ÿæ´»ã€‚ Pytho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨Python SDKç®€åŒ–Check Point API</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505510/"><img src="https://habrastorage.org/webt/xf/kx/d6/xfkxd68ynnabb65k6ygvksmoyzw.png" alt="å›¾ç‰‡"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½“ä¸ç¨‹åºä»£ç ç»“åˆä½¿ç”¨æ—¶ï¼Œå½“å¯ä»¥åŠ¨æ€ç”ŸæˆAPIè¯·æ±‚å’Œç”¨äºåˆ†æAPIå“åº”çš„å·¥å…·æ—¶ï¼Œå°±ä¼šæ˜¾ç¤ºå‡ºä¸APIäº¤äº’çš„æ‰€æœ‰åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œ</font><font style="vertical-align: inherit;">ç”¨äº</font><b><font style="vertical-align: inherit;">Check Point Management API</font></b><font style="vertical-align: inherit;">çš„</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonè½¯ä»¶å¼€å‘å¥—ä»¶</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆä»¥ä¸‹ç§°ä¸ºPython SDKï¼‰</font><font style="vertical-align: inherit;">å´å¾’åŠ³æ— åŠŸã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†å¼€å‘äººå‘˜å’Œè‡ªåŠ¨åŒ–çˆ±å¥½è€…çš„ç”Ÿæ´»ã€‚ Pythonæœ€è¿‘è·å¾—äº†æå¤§çš„æ¬¢è¿ï¼Œæˆ‘å†³å®šç¼©å°å·®è·ï¼Œå¹¶æ¦‚è¿°</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Check Point API Pythonå¼€å‘å·¥å…·åŒ…</font></a><font style="vertical-align: inherit;">çš„ä¸»è¦åŠŸèƒ½</font><font style="vertical-align: inherit;">ã€‚æœ¬æ–‡æ˜¯æœ‰å…³</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">HabrÃ©Check Point R80.10 APIçš„</font></a><font style="vertical-align: inherit;">å¦ä¸€ç¯‡æ–‡ç« çš„å‡ºè‰²è¡¥å……</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">ã€‚é€šè¿‡CLIï¼Œè„šæœ¬ç­‰è¿›è¡Œç®¡ç†</font></a></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•ä½¿ç”¨Python SDKç¼–å†™è„šæœ¬ï¼Œå¹¶è¯¦ç»†ä»‹ç»1.6ç‰ˆï¼ˆè‡ªR80.40å¼€å§‹å—æ”¯æŒï¼‰ä¸­çš„æ–°Management APIåŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">è¦ç†è§£æœ¬æ–‡ï¼Œæ‚¨å°†éœ€è¦ä½¿ç”¨APIâ€‹â€‹å’ŒPythonçš„åŸºæœ¬çŸ¥è¯†ã€‚</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Check Pointæ­£åœ¨ç§¯æå¼€å‘APIï¼Œç›®å‰æœ‰ï¼š</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Check Pointç®¡ç†APIï¼ˆå½“å‰ç‰ˆæœ¬1.6ï¼‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -é€šè¿‡APIä¸ç®¡ç†æœåŠ¡å™¨ä¸€èµ·ä½¿ç”¨ï¼ˆä»¥åŠåœ¨ç®¡ç†æœåŠ¡å™¨çš„æ§åˆ¶ä¸‹åœ¨ç½‘å…³ä¸Šæ‰§è¡Œè„šæœ¬çš„åŠŸèƒ½ï¼‰</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Check Point GAIA APIï¼ˆå½“å‰ç‰ˆæœ¬1.4ï¼‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ä½¿ç”¨å®‰å…¨ç½‘å…³</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¨èƒé˜²æŠ¤API 1.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Check Point Cloudä¸­çš„æ²™ç®±</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èº«ä»½è¯†åˆ«API-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ç½‘å…³ä¸Šçš„èº«ä»½è¯†åˆ«åˆ€ç‰‡ä¸€èµ·ä½¿ç”¨</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®‰å…¨ç®¡ç†é—¨æˆ·API-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨SMBç½‘å…³ç®¡ç†é—¨æˆ·ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº†è§£æœ‰å…³SMBç½‘å…³çš„æ›´å¤šä¿¡æ¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoT API-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸IoTæ§åˆ¶å™¨çš„äº¤äº’</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudGuard Connect API-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudGuard Connect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€èµ·ä½¿ç”¨</font><font style="vertical-align: inherit;">ï¼ˆSD-WANå®‰å…¨è§£å†³æ–¹æ¡ˆï¼‰</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dome9 API-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dome9</font></font></a> </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python SDKå½“å‰ä»…æ”¯æŒä¸Management APIå’Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gaia APIçš„</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº¤äº’</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åœ¨æœ¬æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»æœ€é‡è¦çš„ç±»ï¼Œæ–¹æ³•å’Œå˜é‡ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7v/vt/1x/7vvt1xvikrzesgwntw5mrx8tqlu.jpeg" alt="å›¾ç‰‡"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨¡å—å®‰è£…</font></font></h2><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cpapi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æ¨¡å—</font><font style="vertical-align: inherit;">å¯ä»¥</font><font style="vertical-align: inherit;">ä½¿ç”¨</font><b><font style="vertical-align: inherit;">pip </font></b></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»githubä¸Š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">å®˜æ–¹Check Pointå­˜å‚¨åº“ä¸­</font></a><font style="vertical-align: inherit;">å¿«é€Ÿè½»æ¾åœ°å®‰è£…</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¯¦ç»†çš„å®‰è£…è¯´æ˜ä½äº</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">README.mdä¸­</font></a><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¯¥æ¨¡å—é€‚ç”¨äºPython 2.7å’Œ3.7ç‰ˆæœ¬ã€‚</font><font style="vertical-align: inherit;">åœ¨æœ¬æ–‡ä¸­ï¼Œå°†ä½¿ç”¨Python 3.7ç»™å‡ºç¤ºä¾‹ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼ŒPython SDKå¯ä»¥ç›´æ¥ä»Check Pointï¼ˆæ™ºèƒ½ç®¡ç†ï¼‰ç®¡ç†æœåŠ¡å™¨è¿è¡Œï¼Œä½†æ˜¯å®ƒä»¬ä»…æ”¯æŒPython 2.7ï¼Œå› æ­¤æœ€åä¸€éƒ¨åˆ†å°†æä¾›2.7ç‰ˆçš„ä»£ç ã€‚</font><font style="vertical-align: inherit;">å®‰è£…æ¨¡å—åï¼Œæˆ‘å»ºè®®æ‚¨ç«‹å³æŸ¥çœ‹</font><b><font style="vertical-align: inherit;">examples_python2</font></b><font style="vertical-align: inherit;">å’Œ</font><b><font style="vertical-align: inherit;">examples_python3</font></b><font style="vertical-align: inherit;">ç›®å½•ä¸­çš„</font><b><font style="vertical-align: inherit;">ç¤ºä¾‹</font></b><font style="vertical-align: inherit;">ã€‚</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€å§‹å·¥ä½œ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†ä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨cpapiæ¨¡å—çš„ç»„ä»¶</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿…é¡»ä»</font><b><font style="vertical-align: inherit;">cpapi</font></b><font style="vertical-align: inherit;">æ¨¡å—å¯¼å…¥</font><font style="vertical-align: inherit;">è‡³å°‘ä¸¤ä¸ªå¿…éœ€çš„ç±»ï¼š</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIClientArgs</font></font></b><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> cpapi <span class="hljs-keyword">import</span> APIClient, APIClientArgs
</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIClientArgs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ç±»</font><font style="vertical-align: inherit;">è´Ÿè´£è¿æ¥åˆ°APIæœåŠ¡å™¨ï¼Œè€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">è´Ÿè´£ä¸APIè¿›è¡Œäº¤äº’ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬ç¡®å®šè¿æ¥å‚æ•°</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å®šä¹‰ç”¨äºè¿æ¥åˆ°APIçš„å„ç§å‚æ•°ï¼Œæ‚¨éœ€è¦åˆ›å»º</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIClientArgs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„å®ä¾‹</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åŸåˆ™ä¸Šï¼Œå…¶å‚æ•°æ˜¯é¢„å®šä¹‰çš„ï¼Œå¹¶ä¸”åœ¨ç®¡ç†æœåŠ¡å™¨ä¸Šè¿è¡Œè„šæœ¬æ—¶å¯ä»¥çœç•¥å®ƒä»¬ã€‚</font></font><br>
<br>
<pre><code class="python hljs">client_args = APIClientArgs()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œåœ¨ç¬¬ä¸‰æ–¹ä¸»æœºä¸Šå¯åŠ¨æ—¶ï¼Œæ‚¨å¿…é¡»è‡³å°‘æŒ‡å®šAPIæœåŠ¡å™¨ï¼ˆå®ƒä¹Ÿæ˜¯ç®¡ç†æœåŠ¡å™¨ï¼‰çš„IPåœ°å€æˆ–ä¸»æœºåã€‚</font><font style="vertical-align: inherit;">åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰æœåŠ¡å™¨è¿æ¥å‚æ•°ï¼Œå¹¶å°†å…¶åˆ†é…ç»™ç®¡ç†æœåŠ¡å™¨çš„IPåœ°å€ä½œä¸ºå­—ç¬¦ä¸²ã€‚</font></font><br>
<br>
<pre><code class="python hljs">client_args = APIClientArgs(server=<span class="hljs-string">'192.168.47.241'</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿æ¥åˆ°APIæœåŠ¡å™¨æ—¶å¯ä»¥ä½¿ç”¨çš„æ‰€æœ‰å‚æ•°åŠå…¶é»˜è®¤å€¼ï¼š</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIClientArgsç±»çš„__init__æ–¹æ³•çš„å‚æ•°</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">APIClientArgs</span>:</span>
    <span class="hljs-string">"""
    This class provides arguments for APIClient configuration.
    All the arguments are configured with their default values.
    """</span><font></font>
<font></font>
    <span class="hljs-comment"># port is set to None by default, but it gets replaced with 443 if not specified</span>
    <span class="hljs-comment"># context possible values - web_api (default) or gaia_api</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, port=None, fingerprint=None, sid=None, server=<span class="hljs-string">"127.0.0.1"</span>, http_debug_level=<span class="hljs-number">0</span>,
                 api_calls=None, debug_file=<span class="hljs-string">""</span>, proxy_host=None, proxy_port=<span class="hljs-number">8080</span>,
                 api_version=None, unsafe=False, unsafe_auto_accept=False, context=<span class="hljs-string">"web_api"</span></span>):</span><font></font>
        self.port = port<font></font>
        <span class="hljs-comment"># management server fingerprint</span><font></font>
        self.fingerprint = fingerprint<font></font>
        <span class="hljs-comment"># session-id.</span><font></font>
        self.sid = sid<font></font>
        <span class="hljs-comment"># management server name or IP-address</span><font></font>
        self.server = server<font></font>
        <span class="hljs-comment"># debug level</span><font></font>
        self.http_debug_level = http_debug_level<font></font>
        <span class="hljs-comment"># an array with all the api calls (for debug purposes)</span>
        self.api_calls = api_calls <span class="hljs-keyword">if</span> api_calls <span class="hljs-keyword">else</span> []
        <span class="hljs-comment"># name of debug file. If left empty, debug data will not be saved to disk.</span><font></font>
        self.debug_file = debug_file<font></font>
        <span class="hljs-comment"># HTTP proxy server address (without "http://")</span><font></font>
        self.proxy_host = proxy_host<font></font>
        <span class="hljs-comment"># HTTP proxy port</span><font></font>
        self.proxy_port = proxy_port<font></font>
        <span class="hljs-comment"># Management server's API version</span><font></font>
        self.api_version = api_version<font></font>
        <span class="hljs-comment"># Indicates that the client should not check the server's certificate</span><font></font>
        self.unsafe = unsafe<font></font>
        <span class="hljs-comment"># Indicates that the client should automatically accept and save the server's certificate</span><font></font>
        self.unsafe_auto_accept = unsafe_auto_accept<font></font>
        <span class="hljs-comment"># The context of using the client - defaults to web_api</span>
        self.context = context</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ç›¸ä¿¡å¯ä»¥åœ¨APIClientArgsç±»å®ä¾‹ä¸­ä½¿ç”¨çš„å‚æ•°å¯¹Check Pointç®¡ç†å‘˜æ¥è¯´æ˜¯ç›´è§‚çš„ï¼Œä¸éœ€è¦å…¶ä»–æ³¨é‡Šã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡APIClientå’Œä¸Šä¸‹æ–‡ç®¡ç†å™¨è¿æ¥</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡ä¸Šä¸‹æ–‡ç®¡ç†å™¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹ä¾¿åœ°ä½¿ç”¨</font><b><font style="vertical-align: inherit;">APIClient</font></b><font style="vertical-align: inherit;"> 
ç±»</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¼ é€’ç»™APIClientç±»çš„å®ä¾‹æ‰€éœ€è¦åšçš„å°±æ˜¯åœ¨ä¸Šä¸€æ­¥ä¸­å®šä¹‰çš„è¿æ¥å‚æ•°ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">with</span> APIClient(client_args) <span class="hljs-keyword">as</span> client:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸Šä¸‹æ–‡ç®¡ç†å™¨ä¸ä¼šè‡ªåŠ¨å¯¹APIæœåŠ¡å™¨è¿›è¡Œç™»å½•è°ƒç”¨ï¼Œä½†æ˜¯åœ¨é€€å‡ºæ—¶å°†è¿›è¡Œæ³¨é”€è°ƒç”¨ã€‚</font><font style="vertical-align: inherit;">å¦‚æœç”±äºæŸç§åŸå› åœ¨ä½¿ç”¨APIâ€‹â€‹è°ƒç”¨ç»“æŸå·¥ä½œæ—¶ä¸éœ€è¦æ³¨é”€ï¼Œåˆ™éœ€è¦åœ¨ä¸ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„æƒ…å†µä¸‹å¼€å§‹å·¥ä½œï¼š</font></font><br>
<br>
<pre><code class="python hljs">client = APIClient(clieng_args)</code></pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿æ¥æ£€æŸ¥</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ£€æŸ¥è¿æ¥æ˜¯å¦é€šè¿‡ç»™å®šå‚æ•°çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">check_fingerprint</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæœªé€šè¿‡æœåŠ¡å™¨APIè¯ä¹¦çš„æŒ‡çº¹çš„sha1å“ˆå¸ŒéªŒè¯ï¼ˆæ–¹æ³•è¿”å›</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">False</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œåˆ™é€šå¸¸æ˜¯ç”±äºè¿æ¥é—®é¢˜å¼•èµ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœæ­¢ç¨‹åºï¼ˆæˆ–å…è®¸ç”¨æˆ·ä¿®å¤è¿æ¥æ•°æ®ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="python hljs">    <span class="hljs-keyword">if</span> client.check_fingerprint() <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span>:<font></font>
        print(<span class="hljs-string">"Could not get the server's fingerprint - Check connectivity with the server."</span>)<font></font>
        exit(<span class="hljs-number">1</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯·æ³¨æ„ï¼Œå°†æ¥ï¼Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">å°†</font><font style="vertical-align: inherit;">åœ¨APIæœåŠ¡å™¨ä¸Š</font><font style="vertical-align: inherit;">æ£€æŸ¥æ¯ä¸ªAPIè°ƒç”¨ï¼ˆ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api_call</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api_queryæ–¹æ³•</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥è®¨è®ºå®ƒä»¬ï¼‰sha1æŒ‡çº¹è¯ä¹¦ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå¦‚æœåœ¨æ£€æŸ¥æœåŠ¡å™¨APIè¯ä¹¦çš„sha1æŒ‡çº¹æ—¶æ£€æµ‹åˆ°é”™è¯¯ï¼ˆè¯ä¹¦æœªçŸ¥æˆ–å·²æ›´æ”¹ï¼‰ï¼Œåˆ™</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">check_fingerprint</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><b><font style="vertical-align: inherit;">å°†</font></b><font style="vertical-align: inherit;">æä¾›ä»¥è‡ªåŠ¨æ¨¡å¼åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šæ·»åŠ /æ›´æ”¹æœ‰å…³å®ƒçš„ä¿¡æ¯çš„åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">å¯ä»¥ä½¿ç”¨APIâ€‹â€‹ClientArgså‚æ•°</font><b><font style="vertical-align: inherit;">-unsafe_auto_accept</font></b><font style="vertical-align: inherit;">å®Œå…¨å…³é—­æ­¤æ£€æŸ¥ï¼ˆä½†æ˜¯ä»…å½“è„šæœ¬åœ¨APIæœåŠ¡å™¨æœ¬èº«ä¸Šè¿è¡Œï¼ˆè¿æ¥åˆ°127.0.0.1æ—¶ï¼‰æ‰å»ºè®®è¿™æ ·</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åšï¼‰ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ï¼ˆè¯·å‚é˜…å‰é¢çš„â€œå®šä¹‰è¿æ¥å‚æ•°â€ä¸­æœ‰å…³APIClientArgsçš„è¯¦ç»†ä¿¡æ¯ï¼‰ã€‚</font></font><br>
<br>
<pre><code class="python hljs">client_args = APIClientArgs(unsafe_auto_accept=<span class="hljs-literal">True</span>)</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç™»å½•åˆ°APIæœåŠ¡å™¨</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸­ï¼ŒAPIæœåŠ¡å™¨ä¸Š</font><b><font style="vertical-align: inherit;">æœ€å¤š</font></b><font style="vertical-align: inherit;">æœ‰3ç§ç™»å½•æ–¹æ³•ï¼Œå¹¶ä¸”æ¯ä¸ªzaponimaetå€¼</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sid</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆä¼šè¯IDï¼‰éƒ½ä¼šåœ¨æ ‡å¤´ï¼ˆæ­¤è®¾ç½®ä¸­æ ‡é¢˜çš„åç§°</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-X-CHKP-sid</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font><font style="vertical-align: inherit;">ä¸­çš„æ¯ä¸ªåç»­APIè°ƒç”¨ä¸­è‡ªåŠ¨ä½¿ç”¨ã€‚</font><font style="vertical-align: inherit;">æ‚¨ä¸éœ€è¦è¿›ä¸€æ­¥å¤„ç†æ­¤å‚æ•°ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç™»å½•æ–¹å¼</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç çš„å˜ä½“ï¼ˆåœ¨ç¤ºä¾‹ä¸­ï¼Œç”¨æˆ·åadminå’Œå¯†ç 1q2w3eä½œä¸ºä½ç½®å‚æ•°ä¼ é€’ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="python hljs">     login = client.login(<span class="hljs-string">'admin'</span>, <span class="hljs-string">'1q2w3e'</span>)  </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯é€‰çš„å¯é€‰å‚æ•°åœ¨ç™»å½•æ–¹æ³•ä¸­ä¹Ÿå¯ç”¨ï¼Œæˆ‘åˆ—å‡ºäº†å®ƒä»¬çš„åç§°å’Œé»˜è®¤å€¼ï¼š </font></font><br>
<br>
<pre><code class="python hljs">continue_last_session=<span class="hljs-literal">False</span>, domain=<span class="hljs-literal">None</span>, read_only=<span class="hljs-literal">False</span>, payload=<span class="hljs-literal">None</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Login_with_api_keyæ–¹æ³•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨apiå¯†é’¥çš„å˜ä½“ï¼ˆè‡ªç®¡ç†ç‰ˆæœ¬R80.40 / Management API v1.6å¼€å§‹æ”¯æŒï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ 3TsbPJ8ZKjaJGvFyoFqHFA ==â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯å…·æœ‰APIå¯†é’¥æˆæƒæ–¹æ³•çš„ç®¡ç†æœåŠ¡å™¨ä¸Šç”¨æˆ·ä¹‹ä¸€çš„APIå¯†é’¥çš„å€¼ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="python hljs">     login = client.login_with_api_key(<span class="hljs-string">'3TsbPJ8ZKjaJGvFyoFqHFA=='</span>) </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">login_with_api_key</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•ä¸­</font><font style="vertical-align: inherit;">ï¼Œå¯ä»¥ä½¿ç”¨ä¸</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">login</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•ç›¸åŒçš„å¯é€‰å‚æ•°</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Login_as_rootæ–¹æ³•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨APIâ€‹â€‹æœåŠ¡å™¨ç™»å½•åˆ°æœ¬åœ°è®¡ç®—æœºçš„é€‰é¡¹ï¼š</font></font><br>
<br>
<pre><code class="python hljs">     login = client.login_as_root()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤æ–¹æ³•åªæœ‰ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼š</font></font><br>
<br>
<pre><code class="python hljs">domain=<span class="hljs-literal">None</span>, payload=<span class="hljs-literal">None</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åï¼ŒAPIä¼šè‡ªè¡Œè°ƒç”¨</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æœ‰ä¸¤ä¸ªé€‰é¡¹å¯ä»¥é€šè¿‡</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api_call</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api_queryæ–¹æ³•</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿›è¡ŒAPIè°ƒç”¨</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬æ‰¾å‡ºå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api_call</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤æ–¹æ³•é€‚ç”¨äºä»»ä½•å‘¼å«ã€‚</font><font style="vertical-align: inherit;">å¦‚æœéœ€è¦ï¼Œæˆ‘ä»¬éœ€è¦å°†apiè°ƒç”¨å’Œæœ‰æ•ˆè´Ÿè½½çš„æœ€åä¸€éƒ¨åˆ†ä¼ é€’ç»™è¯·æ±‚ä¸»ä½“ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæœ‰æ•ˆè´Ÿè½½ä¸ºç©ºï¼Œé‚£ä¹ˆæ‚¨å°†æ ¹æœ¬æ— æ³•ä¼ è¾“å®ƒï¼š</font></font><br>
<br>
<pre><code class="python hljs">api_versions = client.api_call(<span class="hljs-string">'show-api-versions'</span>) </code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨catä¸‹æ­¤è¯·æ±‚çš„è¾“å‡ºï¼š</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">In [<span class="hljs-number">23</span>]: api_versions                                                           <font></font>
Out[<span class="hljs-number">23</span>]: <font></font>
APIResponse({<font></font>
    <span class="hljs-string">"data"</span>: {
        <span class="hljs-string">"current-version"</span>: <span class="hljs-string">"1.6"</span>,
        <span class="hljs-string">"supported-versions"</span>: [
            <span class="hljs-string">"1"</span>,
            <span class="hljs-string">"1.1"</span>,
            <span class="hljs-string">"1.2"</span>,
            <span class="hljs-string">"1.3"</span>,
            <span class="hljs-string">"1.4"</span>,
            <span class="hljs-string">"1.5"</span>,
            <span class="hljs-string">"1.6"</span><font></font>
        ]<font></font>
    },<font></font>
    <span class="hljs-string">"res_obj"</span>: {
        <span class="hljs-string">"data"</span>: {
            <span class="hljs-string">"current-version"</span>: <span class="hljs-string">"1.6"</span>,
            <span class="hljs-string">"supported-versions"</span>: [
                <span class="hljs-string">"1"</span>,
                <span class="hljs-string">"1.1"</span>,
                <span class="hljs-string">"1.2"</span>,
                <span class="hljs-string">"1.3"</span>,
                <span class="hljs-string">"1.4"</span>,
                <span class="hljs-string">"1.5"</span>,
                <span class="hljs-string">"1.6"</span><font></font>
            ]<font></font>
        },<font></font>
        <span class="hljs-string">"status_code"</span>: <span class="hljs-number">200</span><font></font>
    },<font></font>
    <span class="hljs-string">"status_code"</span>: <span class="hljs-number">200</span>,
    <span class="hljs-string">"success"</span>: true<font></font>
})<font></font>
</code></pre><br>
</div>
                    </div><br>
<pre><code class="python hljs">show_host = client.api_call(<span class="hljs-string">'show-host'</span>, {<span class="hljs-string">'name'</span> : <span class="hljs-string">'h_8.8.8.8'</span>})</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨catä¸‹æ­¤è¯·æ±‚çš„è¾“å‡ºï¼š</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">In [<span class="hljs-number">25</span>]: show_host                                                              <font></font>
Out[<span class="hljs-number">25</span>]: <font></font>
APIResponse({<font></font>
    <span class="hljs-string">"data"</span>: {
        <span class="hljs-string">"color"</span>: <span class="hljs-string">"black"</span>,
        <span class="hljs-string">"comments"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-string">"domain"</span>: {
            <span class="hljs-string">"domain-type"</span>: <span class="hljs-string">"domain"</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"SMC User"</span>,
            <span class="hljs-string">"uid"</span>: <span class="hljs-string">"41e821a0-3720-11e3-aa6e-0800200c9fde"</span><font></font>
        },<font></font>
        <span class="hljs-string">"groups"</span>: [],
        <span class="hljs-string">"icon"</span>: <span class="hljs-string">"Objects/host"</span>,
        <span class="hljs-string">"interfaces"</span>: [],
        <span class="hljs-string">"ipv4-address"</span>: <span class="hljs-string">"8.8.8.8"</span>,
        <span class="hljs-string">"meta-info"</span>: {
            <span class="hljs-string">"creation-time"</span>: {
                <span class="hljs-string">"iso-8601"</span>: <span class="hljs-string">"2020-05-01T21:49+0300"</span>,
                <span class="hljs-string">"posix"</span>: <span class="hljs-number">1588358973517</span><font></font>
            },<font></font>
            <span class="hljs-string">"creator"</span>: <span class="hljs-string">"admin"</span>,
            <span class="hljs-string">"last-modifier"</span>: <span class="hljs-string">"admin"</span>,
            <span class="hljs-string">"last-modify-time"</span>: {
                <span class="hljs-string">"iso-8601"</span>: <span class="hljs-string">"2020-05-01T21:49+0300"</span>,
                <span class="hljs-string">"posix"</span>: <span class="hljs-number">1588358973517</span><font></font>
            },<font></font>
            <span class="hljs-string">"lock"</span>: <span class="hljs-string">"unlocked"</span>,
            <span class="hljs-string">"validation-state"</span>: <span class="hljs-string">"ok"</span><font></font>
        },<font></font>
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"h_8.8.8.8"</span>,
        <span class="hljs-string">"nat-settings"</span>: {
            <span class="hljs-string">"auto-rule"</span>: false<font></font>
        },<font></font>
        <span class="hljs-string">"read-only"</span>: false,
        <span class="hljs-string">"tags"</span>: [],
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"host"</span>,
        <span class="hljs-string">"uid"</span>: <span class="hljs-string">"c210af07-1939-49d3-a351-953a9c471d9e"</span><font></font>
    },<font></font>
    <span class="hljs-string">"res_obj"</span>: {
        <span class="hljs-string">"data"</span>: {
            <span class="hljs-string">"color"</span>: <span class="hljs-string">"black"</span>,
            <span class="hljs-string">"comments"</span>: <span class="hljs-string">""</span>,
            <span class="hljs-string">"domain"</span>: {
                <span class="hljs-string">"domain-type"</span>: <span class="hljs-string">"domain"</span>,
                <span class="hljs-string">"name"</span>: <span class="hljs-string">"SMC User"</span>,
                <span class="hljs-string">"uid"</span>: <span class="hljs-string">"41e821a0-3720-11e3-aa6e-0800200c9fde"</span><font></font>
            },<font></font>
            <span class="hljs-string">"groups"</span>: [],
            <span class="hljs-string">"icon"</span>: <span class="hljs-string">"Objects/host"</span>,
            <span class="hljs-string">"interfaces"</span>: [],
            <span class="hljs-string">"ipv4-address"</span>: <span class="hljs-string">"8.8.8.8"</span>,
            <span class="hljs-string">"meta-info"</span>: {
                <span class="hljs-string">"creation-time"</span>: {
                    <span class="hljs-string">"iso-8601"</span>: <span class="hljs-string">"2020-05-01T21:49+0300"</span>,
                    <span class="hljs-string">"posix"</span>: <span class="hljs-number">1588358973517</span><font></font>
                },<font></font>
                <span class="hljs-string">"creator"</span>: <span class="hljs-string">"admin"</span>,
                <span class="hljs-string">"last-modifier"</span>: <span class="hljs-string">"admin"</span>,
                <span class="hljs-string">"last-modify-time"</span>: {
                    <span class="hljs-string">"iso-8601"</span>: <span class="hljs-string">"2020-05-01T21:49+0300"</span>,
                    <span class="hljs-string">"posix"</span>: <span class="hljs-number">1588358973517</span><font></font>
                },<font></font>
                <span class="hljs-string">"lock"</span>: <span class="hljs-string">"unlocked"</span>,
                <span class="hljs-string">"validation-state"</span>: <span class="hljs-string">"ok"</span><font></font>
            },<font></font>
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"h_8.8.8.8"</span>,
            <span class="hljs-string">"nat-settings"</span>: {
                <span class="hljs-string">"auto-rule"</span>: false<font></font>
            },<font></font>
            <span class="hljs-string">"read-only"</span>: false,
            <span class="hljs-string">"tags"</span>: [],
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"host"</span>,
            <span class="hljs-string">"uid"</span>: <span class="hljs-string">"c210af07-1939-49d3-a351-953a9c471d9e"</span><font></font>
        },<font></font>
        <span class="hljs-string">"status_code"</span>: <span class="hljs-number">200</span><font></font>
    },<font></font>
    <span class="hljs-string">"status_code"</span>: <span class="hljs-number">200</span>,
    <span class="hljs-string">"success"</span>: true<font></font>
})<font></font>
</code></pre><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api_query</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç«‹å³ä¿ç•™æ­¤æ–¹æ³•ä»…é€‚ç”¨äºå…¶è¾“å‡ºæ¶‰åŠåç§»ï¼ˆç§»ä½ï¼‰çš„è°ƒç”¨çš„æƒ…å†µã€‚å½“ç»“è®ºåŒ…å«æˆ–å¯èƒ½åŒ…å«å¤§é‡ä¿¡æ¯æ—¶ï¼Œå°±ä¼šå‡ºç°æ­¤ç»“è®ºã€‚ä¾‹å¦‚ï¼Œè¿™å¯èƒ½æ˜¯å¯¹ç®¡ç†æœåŠ¡å™¨ä¸Šä¸»æœºç±»å‹çš„æ‰€æœ‰å·²åˆ›å»ºå¯¹è±¡çš„åˆ—è¡¨çš„è¯·æ±‚ã€‚å¯¹äºæ­¤ç±»è¯·æ±‚ï¼ŒAPIé»˜è®¤è¿”å›50ä¸ªå¯¹è±¡çš„åˆ—è¡¨ï¼ˆæ‚¨å¯ä»¥åœ¨å“åº”ä¸­å°†é™åˆ¶å¢åŠ åˆ°500ä¸ªå¯¹è±¡ï¼‰ã€‚å¹¶ä¸”ä¸ºäº†ä¸å¤šæ¬¡æå–ä¿¡æ¯ï¼Œæ›´æ”¹APIè¯·æ±‚ä¸­çš„offsetå‚æ•°ï¼Œæœ‰ä¸€ä¸ªapi_queryæ–¹æ³•å¯ä»¥è‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œã€‚éœ€è¦è¿™ç§æ–¹æ³•çš„å‘¼å«ç¤ºä¾‹ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">show-sessionsï¼Œshow-hostsï¼Œshow-networksï¼Œshow-wildcardsï¼Œshow-groupsï¼Œshow-address-rangesï¼Œshow-simple-gatewayï¼Œshow-simple-clustersï¼Œshow-access-è§’è‰²ï¼Œæ˜¾ç¤ºå—ä¿¡ä»»çš„å®¢æˆ·ç«¯ï¼Œæ˜¾ç¤ºç¨‹åºåŒ…</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å®é™…ä¸Šï¼Œåœ¨è¿™äº›APIè°ƒç”¨çš„åç§°ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¤šä¸ªå•è¯ï¼Œå› æ­¤è¿™äº›è°ƒç”¨å°†æ›´æ˜“äºé€šè¿‡</font><b><font style="vertical-align: inherit;">api_query</font></b><font style="vertical-align: inherit;">å¤„ç†</font></font><b><font style="vertical-align: inherit;"></font></b><br>
<br>
<pre><code class="python hljs">show_hosts = client.api_query(<span class="hljs-string">'show-hosts'</span>) </code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨catä¸‹æ­¤è¯·æ±‚çš„è¾“å‡ºï¼š</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">In [<span class="hljs-number">21</span>]: show_hosts                                                             <font></font>
Out[<span class="hljs-number">21</span>]: <font></font>
APIResponse({<font></font>
    <span class="hljs-string">"data"</span>: [<font></font>
        {<font></font>
            <span class="hljs-string">"domain"</span>: {
                <span class="hljs-string">"domain-type"</span>: <span class="hljs-string">"domain"</span>,
                <span class="hljs-string">"name"</span>: <span class="hljs-string">"SMC User"</span>,
                <span class="hljs-string">"uid"</span>: <span class="hljs-string">"41e821a0-3720-11e3-aa6e-0800200c9fde"</span><font></font>
            },<font></font>
            <span class="hljs-string">"ipv4-address"</span>: <span class="hljs-string">"192.168.47.1"</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"h_192.168.47.1"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"host"</span>,
            <span class="hljs-string">"uid"</span>: <span class="hljs-string">"5d7d7086-d70b-4995-971a-0583b15a2bfc"</span><font></font>
        },<font></font>
        {<font></font>
            <span class="hljs-string">"domain"</span>: {
                <span class="hljs-string">"domain-type"</span>: <span class="hljs-string">"domain"</span>,
                <span class="hljs-string">"name"</span>: <span class="hljs-string">"SMC User"</span>,
                <span class="hljs-string">"uid"</span>: <span class="hljs-string">"41e821a0-3720-11e3-aa6e-0800200c9fde"</span><font></font>
            },<font></font>
            <span class="hljs-string">"ipv4-address"</span>: <span class="hljs-string">"8.8.8.8"</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"h_8.8.8.8"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"host"</span>,
            <span class="hljs-string">"uid"</span>: <span class="hljs-string">"c210af07-1939-49d3-a351-953a9c471d9e"</span><font></font>
        }<font></font>
    ],<font></font>
    <span class="hljs-string">"res_obj"</span>: {
        <span class="hljs-string">"data"</span>: {
            <span class="hljs-string">"from"</span>: <span class="hljs-number">1</span>,
            <span class="hljs-string">"objects"</span>: [<font></font>
                {<font></font>
                    <span class="hljs-string">"domain"</span>: {
                        <span class="hljs-string">"domain-type"</span>: <span class="hljs-string">"domain"</span>,
                        <span class="hljs-string">"name"</span>: <span class="hljs-string">"SMC User"</span>,
                        <span class="hljs-string">"uid"</span>: <span class="hljs-string">"41e821a0-3720-11e3-aa6e-0800200c9fde"</span><font></font>
                    },<font></font>
                    <span class="hljs-string">"ipv4-address"</span>: <span class="hljs-string">"192.168.47.1"</span>,
                    <span class="hljs-string">"name"</span>: <span class="hljs-string">"h_192.168.47.1"</span>,
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"host"</span>,
                    <span class="hljs-string">"uid"</span>: <span class="hljs-string">"5d7d7086-d70b-4995-971a-0583b15a2bfc"</span><font></font>
                },<font></font>
                {<font></font>
                    <span class="hljs-string">"domain"</span>: {
                        <span class="hljs-string">"domain-type"</span>: <span class="hljs-string">"domain"</span>,
                        <span class="hljs-string">"name"</span>: <span class="hljs-string">"SMC User"</span>,
                        <span class="hljs-string">"uid"</span>: <span class="hljs-string">"41e821a0-3720-11e3-aa6e-0800200c9fde"</span><font></font>
                    },<font></font>
                    <span class="hljs-string">"ipv4-address"</span>: <span class="hljs-string">"8.8.8.8"</span>,
                    <span class="hljs-string">"name"</span>: <span class="hljs-string">"h_8.8.8.8"</span>,
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"host"</span>,
                    <span class="hljs-string">"uid"</span>: <span class="hljs-string">"c210af07-1939-49d3-a351-953a9c471d9e"</span><font></font>
                }<font></font>
            ],<font></font>
            <span class="hljs-string">"to"</span>: <span class="hljs-number">2</span>,
            <span class="hljs-string">"total"</span>: <span class="hljs-number">2</span><font></font>
        },<font></font>
        <span class="hljs-string">"status_code"</span>: <span class="hljs-number">200</span><font></font>
    },<font></font>
    <span class="hljs-string">"status_code"</span>: <span class="hljs-number">200</span>,
    <span class="hljs-string">"success"</span>: true<font></font>
})<font></font>
</code></pre><br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤„ç†APIè°ƒç”¨ç»“æœ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¹‹åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIResponse</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„å˜é‡å’Œæ–¹æ³•</font><font style="vertical-align: inherit;">ï¼ˆåœ¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨å†…éƒ¨å’Œå¤–éƒ¨ï¼‰ã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIResponse</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><b><font style="vertical-align: inherit;">å…·æœ‰</font></b><font style="vertical-align: inherit;"> 4ä¸ªæ–¹æ³•å’Œ5ä¸ªé¢„å®šä¹‰çš„å˜é‡ï¼›æˆ‘ä»¬å°†æ›´è¯¦ç»†åœ°ä»‹ç»æœ€é‡è¦çš„æ–¹æ³•ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yb/1q/av/yb1qavksjibe6qizmrjxsaprdp4.jpeg" alt="å›¾ç‰‡"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆåŠŸ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œæœ€å¥½ç¡®ä¿APIè°ƒç”¨æˆåŠŸå¹¶è¿”å›ç»“æœã€‚</font><font style="vertical-align: inherit;">æœ‰ä¸€ç§</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆåŠŸçš„</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs">In [<span class="hljs-number">49</span>]: api_versions.success                                                   <font></font>
Out[<span class="hljs-number">49</span>]: <span class="hljs-literal">True</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœAPIè°ƒç”¨æˆåŠŸï¼ˆå“åº”ä»£ç ä¸º200ï¼‰ï¼Œåˆ™è¿”å›Trueï¼›å¦åˆ™ï¼Œåˆ™è¿”å›Falseï¼ˆå…¶ä»–ä»»ä½•å“åº”ä»£ç ï¼‰ã€‚</font><font style="vertical-align: inherit;">åœ¨APIè°ƒç”¨ä¹‹åç«‹å³ä½¿ç”¨å¾ˆæ–¹ä¾¿ï¼Œå› æ­¤å¯ä»¥æ ¹æ®å“åº”ä»£ç æ˜¾ç¤ºä¸åŒçš„ä¿¡æ¯ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> api_ver.success: <font></font>
    print(api_versions.data) <font></font>
<span class="hljs-keyword">else</span>: <font></font>
    print(api_versions.err_message) </code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çŠ¶æ€ç </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿›è¡ŒAPIè°ƒç”¨åè¿”å›å“åº”ä»£ç ã€‚</font></font><br>
<br>
<pre><code class="python hljs">In [<span class="hljs-number">62</span>]: api_versions.status_code                                               <font></font>
Out[<span class="hljs-number">62</span>]: <span class="hljs-number">400</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯èƒ½çš„å“åº”ä»£ç ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200,400,401,403,404,409,500,501</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_success_status</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯èƒ½éœ€è¦æ›´æ”¹æˆåŠŸçŠ¶æ€çš„å€¼ã€‚</font><font style="vertical-align: inherit;">ä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­æ”¾ç½®ä»»ä½•å†…å®¹ï¼Œç”šè‡³æ˜¯æ™®é€šçš„å­—ç¬¦ä¸²ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ä¸€ä¸ªçœŸå®çš„ä¾‹å­æ˜¯åœ¨æŸäº›ä¼´éšæ¡ä»¶ä¸‹å°†æ­¤å‚æ•°é‡ç½®ä¸ºFalseã€‚</font><font style="vertical-align: inherit;">ä¸‹é¢ï¼Œè¯·æ³¨æ„åœ¨ç®¡ç†æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»åŠ¡æ—¶çš„ç¤ºä¾‹ï¼Œä½†æ˜¯æˆ‘ä»¬å°†è®¤ä¸ºæ­¤è¯·æ±‚æ˜¯ä¸æˆåŠŸçš„ï¼ˆ</font><font style="vertical-align: inherit;">å°½ç®¡APIè°ƒç”¨æˆåŠŸå¹¶ä¸”è¿”å›äº†ä»£ç 200ï¼Œä½†å°†</font><font style="vertical-align: inherit;">æˆåŠŸå˜é‡è®¾ç½®ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">False</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> task_result.data[<span class="hljs-string">"tasks"</span>]:
    <span class="hljs-keyword">if</span> task[<span class="hljs-string">"status"</span>] == <span class="hljs-string">"failed"</span> <span class="hljs-keyword">or</span> task[<span class="hljs-string">"status"</span>] == <span class="hljs-string">"partially succeeded"</span>:<font></font>
        task_result.set_success_status(<span class="hljs-literal">False</span>)
        <span class="hljs-keyword">break</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›åº”ï¼ˆï¼‰</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨responseæ–¹æ³•ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å“åº”ä»£ç ï¼ˆstatus_codeï¼‰å’Œå“åº”æ­£æ–‡ï¼ˆbodyï¼‰æŸ¥çœ‹è¯å…¸ã€‚</font></font><br>
<br>
<pre><code class="python hljs">In [<span class="hljs-number">94</span>]: api_versions.response()                                                <font></font>
Out[<span class="hljs-number">94</span>]: <font></font>
{<span class="hljs-string">'status_code'</span>: <span class="hljs-number">200</span>,
 <span class="hljs-string">'data'</span>: {<span class="hljs-string">'current-version'</span>: <span class="hljs-string">'1.6'</span>,
  <span class="hljs-string">'supported-versions'</span>: [<span class="hljs-string">'1'</span>, <span class="hljs-string">'1.1'</span>, <span class="hljs-string">'1.2'</span>, <span class="hljs-string">'1.3'</span>, <span class="hljs-string">'1.4'</span>, <span class="hljs-string">'1.5'</span>, <span class="hljs-string">'1.6'</span>]}}
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…è®¸æ‚¨ä»…æŸ¥çœ‹å“åº”çš„æ­£æ–‡ï¼ˆæ­£æ–‡ï¼‰ï¼Œè€Œæ²¡æœ‰ä¸å¿…è¦çš„ä¿¡æ¯ã€‚</font></font><br>
<br>
<pre><code class="python hljs">In [<span class="hljs-number">93</span>]: api_versions.data                                                      <font></font>
Out[<span class="hljs-number">93</span>]: <font></font>
{<span class="hljs-string">'current-version'</span>: <span class="hljs-string">'1.6'</span>,
 <span class="hljs-string">'supported-versions'</span>: [<span class="hljs-string">'1'</span>, <span class="hljs-string">'1.1'</span>, <span class="hljs-string">'1.2'</span>, <span class="hljs-string">'1.3'</span>, <span class="hljs-string">'1.4'</span>, <span class="hljs-string">'1.5'</span>, <span class="hljs-string">'1.6'</span>]}
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é”™è¯¯ä¿¡æ¯</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»…å½“åœ¨å¤„ç†è¯·æ±‚APIæ—¶å‘ç”Ÿé”™è¯¯ï¼ˆå“åº”ä»£ç </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸æ˜¯</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 200ï¼‰</font><font style="vertical-align: inherit;">æ—¶ï¼Œæ­¤ä¿¡æ¯æ‰å¯ç”¨</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¾“å‡ºä¾‹å­</font></font><br>
<pre><code class="python hljs">In [<span class="hljs-number">107</span>]: api_versions.error_message                                            <font></font>
Out[<span class="hljs-number">107</span>]: <span class="hljs-string">'code: generic_err_invalid_parameter_name\nmessage: Unrecognized parameter [1]\n'</span>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰ç”¨çš„ä¾‹å­</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹æ˜¯ä½¿ç”¨å·²æ·»åŠ åˆ°Management API 1.6çš„APIè°ƒç”¨çš„ç¤ºä¾‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œè¯·è€ƒè™‘</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">add-host</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">add-address-range</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è°ƒç”¨çš„æ“ä½œ</font><font style="vertical-align: inherit;">ã€‚å‡è®¾æˆ‘ä»¬éœ€è¦å°†å­ç½‘192.168.0.0/24çš„æ‰€æœ‰IPåœ°å€åˆ›å»ºä¸ºä¸»æœºç±»å‹çš„å¯¹è±¡ï¼Œè¯¥ä¸»æœºçš„æœ€åä¸€ä¸ªå…«ä½ä½ç»„ä¸º5ï¼Œå¹¶å°†æ‰€æœ‰å…¶ä»–IPåœ°å€å†™ä¸ºåœ°å€èŒƒå›´å¯¹è±¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥æ’é™¤å­ç½‘åœ°å€å’Œå¹¿æ’­åœ°å€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œä¸‹é¢æ˜¯è§£å†³æ­¤é—®é¢˜çš„è„šæœ¬ï¼Œè¯¥è„šæœ¬åˆ›å»ºäº†50ä¸ªç±»å‹ä¸ºhostçš„å¯¹è±¡å’Œ51ä¸ªç±»å‹ä¸ºåœ°å€èŒƒå›´çš„å¯¹è±¡ã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œéœ€è¦101ä¸ªAPIè°ƒç”¨ï¼ˆä¸è®¡ç®—æœ€ç»ˆçš„å‘å¸ƒè°ƒç”¨ï¼‰ã€‚å¦å¤–ï¼Œä½¿ç”¨timeitæ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—æ‰§è¡Œè„šæœ¬ç›´åˆ°å‘å¸ƒæ›´æ”¹æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨add-hostå’Œadd-address-rangeçš„è„šæœ¬</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> timeit
<span class="hljs-keyword">from</span> cpapi <span class="hljs-keyword">import</span> APIClient, APIClientArgs<font></font>
<font></font>
start = timeit.default_timer()<font></font>
<font></font>
first_ip = <span class="hljs-number">1</span>
last_ip = <span class="hljs-number">4</span><font></font>
<font></font>
client_args = APIClientArgs(server=<span class="hljs-string">"192.168.47.240"</span>)<font></font>
<font></font>
<span class="hljs-keyword">with</span> APIClient(client_args) <span class="hljs-keyword">as</span> client: <font></font>
     login = client.login_with_api_key(<span class="hljs-string">'3TsbPJ8ZKjaJGvFyoFqHFA=='</span>)
     <span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>,<span class="hljs-number">255</span>,<span class="hljs-number">5</span>):<font></font>
         add_host = client.api_call(<span class="hljs-string">"add-host"</span>, {<span class="hljs-string">"name"</span> : <span class="hljs-string">f"h_192.168.0.<span class="hljs-subst">{ip}</span>"</span>, <span class="hljs-string">"ip-address"</span>: <span class="hljs-string">f'192.168.0.<span class="hljs-subst">{ip}</span>'</span>})
     <span class="hljs-keyword">while</span> last_ip &lt; <span class="hljs-number">255</span>:<font></font>
         add_range = client.api_call(<span class="hljs-string">"add-address-range"</span>, {<span class="hljs-string">"name"</span>: <span class="hljs-string">f"r_192.168.0.<span class="hljs-subst">{first_ip}</span>-<span class="hljs-subst">{last_ip}</span>"</span>, <span class="hljs-string">"ip-address-first"</span>: <span class="hljs-string">f"192.168.0.<span class="hljs-subst">{first_ip}</span>"</span>, <span class="hljs-string">"ip-address-last"</span>: <span class="hljs-string">f"192.168.0.<span class="hljs-subst">{last_ip}</span>"</span>})<font></font>
         first_ip+=<span class="hljs-number">5</span>
         last_ip+=<span class="hljs-number">5</span><font></font>
     stop = timeit.default_timer() <font></font>
     publish = client.api_call(<span class="hljs-string">"publish"</span>)<font></font>
     <font></font>
print(<span class="hljs-string">f'Time to execute batch request: <span class="hljs-subst">{stop - start}</span> seconds'</span>)<font></font>
<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æˆ‘çš„å®éªŒå®¤ç¯å¢ƒä¸­ï¼Œæ ¹æ®ç®¡ç†æœåŠ¡å™¨ä¸Šçš„è´Ÿè½½ï¼Œæ‰§è¡Œæ­¤è„šæœ¬éœ€è¦30åˆ°50ç§’ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">add-objects-batch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è°ƒç”¨APIè§£å†³ç›¸åŒçš„é—®é¢˜</font><font style="vertical-align: inherit;">ï¼Œè¯¥æ”¯æŒå·²æ·»åŠ åˆ°APIç‰ˆæœ¬1.6ä¸­ã€‚</font><font style="vertical-align: inherit;">é€šè¿‡æ­¤è°ƒç”¨ï¼Œæ‚¨å¯ä»¥åœ¨ä¸€ä¸ªAPIè¯·æ±‚ä¸­åˆ›å»ºå¤šä¸ªå¯¹è±¡ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œä¸»æœºï¼Œå­ç½‘å’Œåœ°å€èŒƒå›´ï¼‰ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæˆ‘ä»¬çš„ä»»åŠ¡å¯ä»¥åœ¨å•ä¸ªAPIè°ƒç”¨çš„æ¡†æ¶ä¸­è§£å†³ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨add-objects-batchçš„è„šæœ¬</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> timeit
<span class="hljs-keyword">from</span> cpapi <span class="hljs-keyword">import</span> APIClient, APIClientArgs<font></font>
<font></font>
start = timeit.default_timer()<font></font>
<font></font>
client_args = APIClientArgs(server=<span class="hljs-string">"192.168.47.240"</span>)<font></font>
<font></font>
objects_list_ip = []<font></font>
objects_list_range = []<font></font>
<font></font>
<span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>,<span class="hljs-number">255</span>,<span class="hljs-number">5</span>):<font></font>
    data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">f'h_192.168.0.<span class="hljs-subst">{ip}</span>'</span>, <span class="hljs-string">"ip-address"</span>: <span class="hljs-string">f'192.168.0.<span class="hljs-subst">{ip}</span>'</span>}<font></font>
    objects_list_ip.append(data)<font></font>
    <font></font>
first_ip = <span class="hljs-number">1</span>
last_ip = <span class="hljs-number">4</span><font></font>
<font></font>
<font></font>
<span class="hljs-keyword">while</span> last_ip &lt; <span class="hljs-number">255</span>:<font></font>
    data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">f"r_192.168.0.<span class="hljs-subst">{first_ip}</span>-<span class="hljs-subst">{last_ip}</span>"</span>, <span class="hljs-string">"ip-address-first"</span>: <span class="hljs-string">f"192.168.0.<span class="hljs-subst">{first_ip}</span>"</span>, <span class="hljs-string">"ip-address-last"</span>: <span class="hljs-string">f"192.168.0.<span class="hljs-subst">{last_ip}</span>"</span>}<font></font>
    objects_list_range.append(data)<font></font>
    first_ip+=<span class="hljs-number">5</span>
    last_ip+=<span class="hljs-number">5</span><font></font>
<font></font>
data_for_batch = {<font></font>
  <span class="hljs-string">"objects"</span> : [ {
    <span class="hljs-string">"type"</span> : <span class="hljs-string">"host"</span>,
    <span class="hljs-string">"list"</span> : objects_list_ip<font></font>
}, {<font></font>
    <span class="hljs-string">"type"</span> : <span class="hljs-string">"address-range"</span>,
    <span class="hljs-string">"list"</span> : objects_list_range<font></font>
  }]<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">with</span> APIClient(client_args) <span class="hljs-keyword">as</span> client: <font></font>
     login = client.login_with_api_key(<span class="hljs-string">'3TsbPJ8ZKjaJGvFyoFqHFA=='</span>)<font></font>
     add_objects_batch = client.api_call(<span class="hljs-string">"add-objects-batch"</span>, data_for_batch)<font></font>
     stop = timeit.default_timer() <font></font>
     publish = client.api_call(<span class="hljs-string">"publish"</span>)<font></font>
     <font></font>
print(<span class="hljs-string">f'Time to execute batch request: <span class="hljs-subst">{stop - start}</span> seconds'</span>)
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ ¹æ®ç®¡ç†æœåŠ¡å™¨ä¸Šçš„è´Ÿè½½ï¼Œåœ¨æˆ‘çš„å®éªŒå®¤ç¯å¢ƒä¸­æ‰§è¡Œæ­¤è„šæœ¬éœ€è¦3åˆ°7ç§’é’Ÿã€‚</font><font style="vertical-align: inherit;">ä¹Ÿå°±æ˜¯è¯´ï¼Œå¹³å‡è€Œè¨€ï¼Œåœ¨101 APIå¯¹è±¡ä¸Šï¼Œæ‰¹å¤„ç†ç±»å‹è°ƒç”¨çš„æ‰§è¡Œé€Ÿåº¦å¿«10å€ã€‚</font><font style="vertical-align: inherit;">åœ¨æ›´å¤šå¯¹è±¡ä¸Šï¼Œå·®å¼‚å°†æ›´åŠ æ˜¾ç€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set-objects-batch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨æ­¤APIè°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è§„æ¨¡æ›´æ”¹ä»»ä½•å‚æ•°ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬è®¾ç½®ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­åœ°å€çš„å‰åŠéƒ¨åˆ†ï¼ˆæœ€å¤š0.124å°ä¸»æœºï¼Œå¹¶ä¸”è¿˜æœ‰èŒƒå›´ï¼‰ï¼Œä»¥å½©è‰²è¥¿è€¶é‚£è‰²ï¼Œç„¶åå°†åœ°å€çš„ååŠéƒ¨åˆ†åˆ†é…ä¸ºå¡å…¶è‰²ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ”¹åœ¨ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­åˆ›å»ºçš„å¯¹è±¡çš„é¢œè‰²</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span> cpapi <span class="hljs-keyword">import</span> APIClient, APIClientArgs<font></font>
<font></font>
client_args = APIClientArgs(server=<span class="hljs-string">"192.168.47.240"</span>)<font></font>
<font></font>
objects_list_ip_first = []<font></font>
objects_list_range_first = []<font></font>
objects_list_ip_second = []<font></font>
objects_list_range_second = []<font></font>
<font></font>
<span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>,<span class="hljs-number">125</span>,<span class="hljs-number">5</span>):<font></font>
    data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">f'h_192.168.0.<span class="hljs-subst">{ip}</span>'</span>, <span class="hljs-string">"color"</span>: <span class="hljs-string">"sienna"</span>}<font></font>
    objects_list_ip_first.append(data)<font></font>
    <font></font>
<span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> range(<span class="hljs-number">125</span>,<span class="hljs-number">255</span>,<span class="hljs-number">5</span>):<font></font>
    data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">f'h_192.168.0.<span class="hljs-subst">{ip}</span>'</span>, <span class="hljs-string">"color"</span>: <span class="hljs-string">"khaki"</span>}<font></font>
    objects_list_ip_second.append(data)<font></font>
    <font></font>
first_ip = <span class="hljs-number">1</span>
last_ip = <span class="hljs-number">4</span>
<span class="hljs-keyword">while</span> last_ip &lt; <span class="hljs-number">125</span>:<font></font>
    data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">f"r_192.168.0.<span class="hljs-subst">{first_ip}</span>-<span class="hljs-subst">{last_ip}</span>"</span>, <span class="hljs-string">"color"</span>: <span class="hljs-string">"sienna"</span>}<font></font>
    objects_list_range_first.append(data)<font></font>
    first_ip+=<span class="hljs-number">5</span>
    last_ip+=<span class="hljs-number">5</span><font></font>
    <font></font>
<span class="hljs-keyword">while</span> last_ip &lt; <span class="hljs-number">255</span>:<font></font>
    data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">f"r_192.168.0.<span class="hljs-subst">{first_ip}</span>-<span class="hljs-subst">{last_ip}</span>"</span>, <span class="hljs-string">"color"</span>: <span class="hljs-string">"khaki"</span>}<font></font>
    objects_list_range_second.append(data)<font></font>
    first_ip+=<span class="hljs-number">5</span>
    last_ip+=<span class="hljs-number">5</span><font></font>
<font></font>
data_for_batch_first  = {<font></font>
  <span class="hljs-string">"objects"</span> : [ {
    <span class="hljs-string">"type"</span> : <span class="hljs-string">"host"</span>,
    <span class="hljs-string">"list"</span> : objects_list_ip_first<font></font>
}, {<font></font>
    <span class="hljs-string">"type"</span> : <span class="hljs-string">"address-range"</span>,
    <span class="hljs-string">"list"</span> : objects_list_range_first<font></font>
  }]<font></font>
}<font></font>
<font></font>
data_for_batch_second  = {<font></font>
  <span class="hljs-string">"objects"</span> : [ {
    <span class="hljs-string">"type"</span> : <span class="hljs-string">"host"</span>,
    <span class="hljs-string">"list"</span> : objects_list_ip_second<font></font>
}, {<font></font>
    <span class="hljs-string">"type"</span> : <span class="hljs-string">"address-range"</span>,
    <span class="hljs-string">"list"</span> : objects_list_range_second<font></font>
  }]<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">with</span> APIClient(client_args) <span class="hljs-keyword">as</span> client: <font></font>
     login = client.login_with_api_key(<span class="hljs-string">'3TsbPJ8ZKjaJGvFyoFqHFA=='</span>) <font></font>
     set_objects_batch_first = client.api_call(<span class="hljs-string">"set-objects-batch"</span>, data_for_batch_first)<font></font>
     set_objects_batch_second = client.api_call(<span class="hljs-string">"set-objects-batch"</span>, data_for_batch_second)<font></font>
     publish = client.api_call(<span class="hljs-string">"publish"</span>)
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delete-objects-batch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨ä¸€ä¸ªAPIè°ƒç”¨ä¸­åˆ é™¤è®¸å¤šå¯¹è±¡</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä»£ç ç¤ºä¾‹ï¼Œè¯¥ä»£ç åˆ é™¤å…ˆå‰é€šè¿‡</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">add-objects-batch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºçš„æ‰€æœ‰ä¸»æœº</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨delete-objects-batchåˆ é™¤å¯¹è±¡</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span> cpapi <span class="hljs-keyword">import</span> APIClient, APIClientArgs<font></font>
<font></font>
client_args = APIClientArgs(server=<span class="hljs-string">"192.168.47.240"</span>)<font></font>
<font></font>
objects_list_ip = []<font></font>
objects_list_range = []<font></font>
<font></font>
<span class="hljs-keyword">for</span> ip <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>,<span class="hljs-number">255</span>,<span class="hljs-number">5</span>):<font></font>
    data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">f'h_192.168.0.<span class="hljs-subst">{ip}</span>'</span>}<font></font>
    objects_list_ip.append(data)<font></font>
<font></font>
first_ip = <span class="hljs-number">1</span>
last_ip = <span class="hljs-number">4</span>
<span class="hljs-keyword">while</span> last_ip &lt; <span class="hljs-number">255</span>:<font></font>
    data = {<span class="hljs-string">"name"</span>: <span class="hljs-string">f"r_192.168.0.<span class="hljs-subst">{first_ip}</span>-<span class="hljs-subst">{last_ip}</span>"</span>}<font></font>
    objects_list_range.append(data)<font></font>
    first_ip+=<span class="hljs-number">5</span>
    last_ip+=<span class="hljs-number">5</span><font></font>
<font></font>
data_for_batch = {<font></font>
  <span class="hljs-string">"objects"</span> : [ {
    <span class="hljs-string">"type"</span> : <span class="hljs-string">"host"</span>,
    <span class="hljs-string">"list"</span> : objects_list_ip<font></font>
}, {<font></font>
    <span class="hljs-string">"type"</span> : <span class="hljs-string">"address-range"</span>,
    <span class="hljs-string">"list"</span> : objects_list_range<font></font>
  }]<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">with</span> APIClient(client_args) <span class="hljs-keyword">as</span> client: <font></font>
     login = client.login_with_api_key(<span class="hljs-string">'3TsbPJ8ZKjaJGvFyoFqHFA=='</span>)<font></font>
     delete_objects_batch = client.api_call(<span class="hljs-string">"delete-objects-batch"</span>, data_for_batch)<font></font>
     publish = client.api_call(<span class="hljs-string">"publish"</span>)<font></font>
<font></font>
print(delete_objects_batch.data)<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ–°ç‰ˆCheck Pointè½¯ä»¶ä¸­å‡ºç°çš„æ‰€æœ‰åŠŸèƒ½éƒ½ä¼šç«‹å³è·å¾—APIè°ƒç”¨ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œåœ¨R80.40ä¸­å‡ºç°äº†è¯¸å¦‚â€œè¿˜åŸåˆ°ä¿®è®¢ç‰ˆâ€å’Œâ€œæ™ºèƒ½ä»»åŠ¡â€ä¹‹ç±»çš„â€œåŠŸèƒ½â€ï¼Œå¹¶ä¸ºå®ƒä»¬ç«‹å³å‡†å¤‡äº†é€‚å½“çš„APIè°ƒç”¨ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œä»æ—§ç‰ˆæ§åˆ¶å°åˆ‡æ¢åˆ°ç»Ÿä¸€ç­–ç•¥æ¨¡å¼æ—¶ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½å°†è·å¾—APIæ”¯æŒã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼ŒR80.40è½¯ä»¶ç‰ˆæœ¬ä¸­æœŸå¾…å·²ä¹…çš„æ›´æ–°æ˜¯å°†HTTPSæ£€æŸ¥ç­–ç•¥ä»ä¼ ç»Ÿæ¨¡å¼è½¬ç§»åˆ°ç»Ÿä¸€ç­–ç•¥æ¨¡å¼ï¼Œå¹¶ä¸”æ­¤åŠŸèƒ½ç«‹å³æ”¶åˆ°APIè°ƒç”¨ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯ä¸€ä¸ªä»£ç ç¤ºä¾‹ï¼Œè¯¥ä»£ç å°†HTTPSæ£€æŸ¥ç­–ç•¥çš„é¡¶éƒ¨ä½ç½®æ·»åŠ äº†ä¸€æ¡è§„åˆ™ï¼Œè¯¥è§„åˆ™ä»æ£€æŸ¥ä¸­æ’é™¤äº†åœ¨ä¸€äº›å›½å®¶/åœ°åŒºè¢«ä¾æ³•ç¦æ­¢æ£€æŸ¥çš„3ä¸ªç±»åˆ«ï¼ˆå«ç”Ÿï¼Œé‡‘èï¼Œå…¬å…±æœåŠ¡ï¼‰ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†è§„åˆ™æ·»åŠ åˆ°HTTPSæ£€æŸ¥ç­–ç•¥</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span> cpapi <span class="hljs-keyword">import</span> APIClient, APIClientArgs<font></font>
<font></font>
client_args = APIClientArgs(server=<span class="hljs-string">"192.168.47.240"</span>)<font></font>
<font></font>
data = {<font></font>
  <span class="hljs-string">"layer"</span> : <span class="hljs-string">"Default Layer"</span>,
  <span class="hljs-string">"position"</span> : <span class="hljs-string">"top"</span>,
  <span class="hljs-string">"name"</span> : <span class="hljs-string">"Legal Requirements"</span>,
  <span class="hljs-string">"action"</span>: <span class="hljs-string">"bypass"</span>,
  <span class="hljs-string">"site-category"</span>: [<span class="hljs-string">"Health"</span>, <span class="hljs-string">"Government / Military"</span>, <span class="hljs-string">"Financial Services"</span>]<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">with</span> APIClient(client_args) <span class="hljs-keyword">as</span> client: <font></font>
     login = client.login_with_api_key(<span class="hljs-string">'3TsbPJ8ZKjaJGvFyoFqHFA=='</span>)<font></font>
     add_https_rule = client.api_call(<span class="hljs-string">"add-https-rule"</span>, data)<font></font>
     publish = client.api_call(<span class="hljs-string">"publish"</span>)
</code></pre><br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Check Pointç®¡ç†æœåŠ¡å™¨ä¸Šè¿è¡ŒPythonè„šæœ¬</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒä¸€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">README.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸­çš„</font><font style="vertical-align: inherit;">æ‰€æœ‰å†…å®¹</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">å‡</font></a><font style="vertical-align: inherit;">åŒ…å«æœ‰å…³å¦‚ä½•ç›´æ¥ä»ç®¡ç†æœåŠ¡å™¨è¿è¡ŒPythonè„šæœ¬çš„ä¿¡æ¯ã€‚</font><font style="vertical-align: inherit;">å½“æ‚¨æ— æ³•ä»å¦ä¸€å°è®¡ç®—æœºè¿æ¥åˆ°APIæœåŠ¡å™¨æ—¶ï¼Œè¿™ä¼šå¾ˆæ–¹ä¾¿ã€‚</font><font style="vertical-align: inherit;">æˆ‘å½•åˆ¶äº†ä¸€ä¸ªå…­åˆ†é’Ÿçš„è§†é¢‘ï¼Œå…¶ä¸­è€ƒè™‘äº†</font><font style="vertical-align: inherit;">åœ¨ç®¡ç†æœåŠ¡å™¨ä¸Š</font><font style="vertical-align: inherit;">å®‰è£…</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cpapi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨¡å—</font><font style="vertical-align: inherit;">ä»¥åŠè¿è¡ŒPythonè„šæœ¬çš„åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œè¿è¡Œä¸€ä¸ªè„šæœ¬ï¼Œè¯¥è„šæœ¬å¯ä»¥è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡å®¡è®¡ï¼ˆä¾‹å¦‚å®¡æ ¸</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Security CheckUp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç½‘ç»œï¼‰çš„æ–°ç½‘å…³é…ç½®</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åœ¨æˆ‘å¿…é¡»é¢å¯¹çš„åŠŸèƒ½ä¸­ï¼šåœ¨Python 2.7ä¸­ï¼Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¾“å…¥</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŠŸèƒ½å°šæœªå‡ºç°</font><font style="vertical-align: inherit;">ï¼Œå› æ­¤</font><b><font style="vertical-align: inherit;">raw_input</font></b><font style="vertical-align: inherit;">å‡½æ•°ç”¨äºå¤„ç†ç”¨æˆ·</font><b><font style="vertical-align: inherit;">è¾“å…¥</font></b><font style="vertical-align: inherit;">çš„ä¿¡æ¯ã€‚</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¦åˆ™ï¼Œè¯¥ä»£ç ä¸ä»å…¶ä»–è®¡ç®—æœºå¼€å§‹çš„ä»£ç ç›¸åŒï¼Œåªæ˜¯ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">login_as_root</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡½æ•°æ›´åŠ æ–¹ä¾¿ï¼Œ</font><font style="vertical-align: inherit;">ä»è€Œä¸å¿…å†æ¬¡æŒ‡å®šæ‚¨è‡ªå·±çš„ç”¨æˆ·åï¼Œå¯†ç å’Œç®¡ç†æœåŠ¡å™¨çš„IPåœ°å€ã€‚</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8B6pgCLT8Pg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿«é€Ÿè®¾ç½®å®‰å…¨æ€§æ£€æŸ¥çš„è„šæœ¬</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> print_function
<span class="hljs-keyword">import</span> getpass
<span class="hljs-keyword">import</span> sys, os<font></font>
sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), <span class="hljs-string">'..'</span>)))
<span class="hljs-keyword">from</span> cpapi <span class="hljs-keyword">import</span> APIClient, APIClientArgs<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span>
    <span class="hljs-keyword">with</span> APIClient() <span class="hljs-keyword">as</span> client:
       <span class="hljs-comment"># if client.check_fingerprint() is False:</span>
       <span class="hljs-comment">#     print("Could not get the server's fingerprint - Check connectivity with the server.")</span>
       <span class="hljs-comment">#     exit(1)</span><font></font>
        login_res = client.login_as_root()<font></font>
<font></font>
        <span class="hljs-keyword">if</span> login_res.success <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span>:<font></font>
            print(<span class="hljs-string">"Login failed:\n{}"</span>.format(login_res.error_message))<font></font>
            exit(<span class="hljs-number">1</span>)<font></font>
<font></font>
        gw_name = raw_input(<span class="hljs-string">"Enter the gateway name:"</span>)<font></font>
        gw_ip = raw_input(<span class="hljs-string">"Enter the gateway IP address:"</span>)
        <span class="hljs-keyword">if</span> sys.stdin.isatty():<font></font>
            sic = getpass.getpass(<span class="hljs-string">"Enter one-time password for the gateway(SIC): "</span>)
        <span class="hljs-keyword">else</span>:<font></font>
            print(<span class="hljs-string">"Attention! Your password will be shown on the screen!"</span>)<font></font>
            sic = raw_input(<span class="hljs-string">"Enter one-time password for the gateway(SIC): "</span>)<font></font>
        version = raw_input(<span class="hljs-string">"Enter the gateway version(like RXX.YY):"</span>)<font></font>
        add_gw = client.api_call(<span class="hljs-string">"add-simple-gateway"</span>, {<span class="hljs-string">'name'</span> : gw_name, <span class="hljs-string">'ipv4-address'</span> : gw_ip, <span class="hljs-string">'one-time-password'</span> : sic, <span class="hljs-string">'version'</span>: version.capitalize(), <span class="hljs-string">'application-control'</span> : <span class="hljs-string">'true'</span>, <span class="hljs-string">'url-filtering'</span> : <span class="hljs-string">'true'</span>, <span class="hljs-string">'ips'</span> : <span class="hljs-string">'true'</span>, <span class="hljs-string">'anti-bot'</span> : <span class="hljs-string">'true'</span>, <span class="hljs-string">'anti-virus'</span> : <span class="hljs-string">'true'</span>, <span class="hljs-string">'threat-emulation'</span> : <span class="hljs-string">'true'</span>})
        <span class="hljs-keyword">if</span> add_gw.success <span class="hljs-keyword">and</span> add_gw.data[<span class="hljs-string">'sic-state'</span>] != <span class="hljs-string">"communicating"</span>:<font></font>
            print(<span class="hljs-string">"Secure connection with the gateway hasn't established!"</span>)<font></font>
            exit(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">elif</span> add_gw.success:<font></font>
            print(<span class="hljs-string">"The gateway was added successfully."</span>)<font></font>
            gw_uid = add_gw.data[<span class="hljs-string">'uid'</span>]<font></font>
            gw_name = add_gw.data[<span class="hljs-string">'name'</span>]
        <span class="hljs-keyword">else</span>:<font></font>
            print(<span class="hljs-string">"Failed to add the gateway - {}"</span>.format(add_gw.error_message))<font></font>
            exit(<span class="hljs-number">1</span>)<font></font>
<font></font>
        change_policy = client.api_call(<span class="hljs-string">"set-access-layer"</span>, {<span class="hljs-string">"name"</span> : <span class="hljs-string">"Network"</span>, <span class="hljs-string">"applications-and-url-filtering"</span>: <span class="hljs-string">"true"</span>, <span class="hljs-string">"content-awareness"</span>: <span class="hljs-string">"true"</span>})
        <span class="hljs-keyword">if</span> change_policy.success:<font></font>
            print(<span class="hljs-string">"The policy has been changed successfully"</span>)
        <span class="hljs-keyword">else</span>:<font></font>
            print(<span class="hljs-string">"Failed to change the policy- {}"</span>.format(change_policy.error_message))<font></font>
        change_rule = client.api_call(<span class="hljs-string">"set-access-rule"</span>, {<span class="hljs-string">"name"</span> : <span class="hljs-string">"Cleanup rule"</span>, <span class="hljs-string">"layer"</span> : <span class="hljs-string">"Network"</span>, <span class="hljs-string">"action"</span>: <span class="hljs-string">"Accept"</span>, <span class="hljs-string">"track"</span>: {<span class="hljs-string">"type"</span>: <span class="hljs-string">"Detailed Log"</span>, <span class="hljs-string">"accounting"</span>: <span class="hljs-string">"true"</span>}})
        <span class="hljs-keyword">if</span> change_rule.success:<font></font>
            print(<span class="hljs-string">"The cleanup rule has been changed successfully"</span>)
        <span class="hljs-keyword">else</span>:<font></font>
            print(<span class="hljs-string">"Failed to change the cleanup rule- {}"</span>.format(change_rule.error_message))<font></font>
<font></font>
        <span class="hljs-comment"># publish the result</span>
        publish_res = client.api_call(<span class="hljs-string">"publish"</span>, {})
        <span class="hljs-keyword">if</span> publish_res.success:<font></font>
            print(<span class="hljs-string">"The changes were published successfully."</span>)
        <span class="hljs-keyword">else</span>:<font></font>
                print(<span class="hljs-string">"Failed to publish the changes - {}"</span>.format(install_tp_policy.error_message))<font></font>
<font></font>
        install_access_policy = client.api_call(<span class="hljs-string">"install-policy"</span>, {<span class="hljs-string">"policy-package"</span> : <span class="hljs-string">"Standard"</span>, <span class="hljs-string">"access"</span> : <span class="hljs-string">'true'</span>,  <span class="hljs-string">"threat-prevention"</span> : <span class="hljs-string">'false'</span>, <span class="hljs-string">"targets"</span> : gw_uid})
        <span class="hljs-keyword">if</span> install_access_policy.success:<font></font>
            print(<span class="hljs-string">"The access policy has been installed"</span>)
        <span class="hljs-keyword">else</span>:<font></font>
                print(<span class="hljs-string">"Failed to install access policy - {}"</span>.format(install_tp_policy.error_message))<font></font>
<font></font>
        install_tp_policy = client.api_call(<span class="hljs-string">"install-policy"</span>, {<span class="hljs-string">"policy-package"</span> : <span class="hljs-string">"Standard"</span>, <span class="hljs-string">"access"</span> : <span class="hljs-string">'false'</span>,  <span class="hljs-string">"threat-prevention"</span> : <span class="hljs-string">'true'</span>, <span class="hljs-string">"targets"</span> : gw_uid})
        <span class="hljs-keyword">if</span> install_tp_policy.success:<font></font>
            print(<span class="hljs-string">"The threat prevention policy has been installed"</span>)
        <span class="hljs-keyword">else</span>:<font></font>
            print(<span class="hljs-string">"Failed to install threat prevention policy - {}"</span>.format(install_tp_policy.error_message))<font></font>
        <font></font>
        <span class="hljs-comment"># add passwords and passphrases to dictionary</span>
        <span class="hljs-keyword">with</span> open(<span class="hljs-string">'additional_pass.conf'</span>) <span class="hljs-keyword">as</span> f:<font></font>
            line_num = <span class="hljs-number">0</span>
            <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:<font></font>
                line_num += <span class="hljs-number">1</span>
                add_password_dictionary = client.api_call(<span class="hljs-string">"run-script"</span>, {<span class="hljs-string">"script-name"</span> : <span class="hljs-string">"Add passwords and passphrases"</span>, <span class="hljs-string">"script"</span> : <span class="hljs-string">"printf \"{}\" &gt;&gt; $FWDIR/conf/additional_pass.conf"</span>.format(line), <span class="hljs-string">"targets"</span> : gw_name})
                <span class="hljs-keyword">if</span> add_password_dictionary.success:<font></font>
                    print(<span class="hljs-string">"The password dictionary line {} was added successfully"</span>.format(line_num))
                <span class="hljs-keyword">else</span>:<font></font>
                    print(<span class="hljs-string">"Failed to add the dictionary - {}"</span>.format(add_password_dictionary.error_message))<font></font>
<font></font>
main()</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¤ºä¾‹å¯†ç å­—å…¸æ–‡ä»¶Additional_pass.conf</font></font></b>
                        <div class="spoiler_text"><code>{<br>
"passwords" : ["malware","malicious","infected","Infected"],<br>
"phrases" : ["password","Password","Pass","pass","codigo","key","pwd","","","","","",""]<br>
}</code><br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»“è®º</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ¬æ–‡ä»…è€ƒè™‘</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cpapi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨¡å—</font><font style="vertical-align: inherit;">çš„åŸºæœ¬åŠŸèƒ½</font><font style="vertical-align: inherit;">ï¼ˆæ‚¨å¯èƒ½å·²ç»çŒœåˆ°äº†ï¼Œå®ƒä»¬å®é™…ä¸Šæ˜¯åŒä¹‰è¯ï¼‰ï¼Œé€šè¿‡ç ”ç©¶æ­¤æ¨¡å—ä¸­çš„ä»£ç ï¼Œæ‚¨ä¼šå‘ç°ä½¿ç”¨å®ƒçš„æ›´å¤šå¯èƒ½æ€§ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯èƒ½æƒ³ç”¨ç±»ï¼Œå‡½æ•°ï¼Œæ–¹æ³•å’Œå˜é‡æ¥è¡¥å……å®ƒã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥éšæ—¶å…±äº«ä»–ä»¬çš„ç»éªŒå¹¶æŸ¥çœ‹Check Pointéƒ¨åˆ†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CodeHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Community </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CheckMatesçš„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¶ä»–è„šæœ¬</font><font style="vertical-align: inherit;">ï¼Œè¯¥</font><font style="vertical-align: inherit;">è„šæœ¬</font><font style="vertical-align: inherit;">ç»“åˆäº†äº§å“å¼€å‘äººå‘˜å’Œç”¨æˆ·ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
äº«å—ç¼–ç ï¼Œæ„Ÿè°¢æ‚¨è¯»å®Œæœ¬ä¹¦ï¼</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN505496/index.html">é¦–å¸­æŠ€æœ¯å®˜Meduza Boris Goryachevçš„Flutter Dev Podcastï¼šMeduzåº”ç”¨ç¨‹åºå’Œåª’ä½“å¼€å‘çš„ä¸»è¦å†…å®¹</a></li>
<li><a href="../zh-CN505498/index.html">æˆ‘ä»¬å¦‚ä½•è§£å†³Windowsä¸­æœªåˆå§‹åŒ–çš„å †æ ˆå†…å­˜çš„é—®é¢˜</a></li>
<li><a href="../zh-CN505502/index.html">å®¢æˆ·æœåŠ¡ä¸­çš„å…¨æ¸ é“ï¼šå¯»æ‰¾ä»€ä¹ˆä»¥åŠå¦‚ä½•æ­£ç¡®åœ°åšæ‰€æœ‰äº‹æƒ…ï¼Ÿ</a></li>
<li><a href="../zh-CN505506/index.html">ä»–ä¸å’¬äººï¼šå¦‚ä½•ä½¿å·¥ä¸šæœºå™¨äººå¯¹å·¥äººå®‰å…¨</a></li>
<li><a href="../zh-CN505508/index.html">ä¸ä»…æ— äººæŠ€æœ¯ï¼šæ±½è½¦è¡Œä¸šçš„æœªæ¥</a></li>
<li><a href="../zh-CN505516/index.html">æœºå™¨å­¦ä¹ ï¼šä»å“ªé‡Œå¼€å§‹æˆ–å¦‚ä½•å»ºç«‹ç¬¬ä¸€ä¸ªæ¨¡å‹</a></li>
<li><a href="../zh-CN505522/index.html">åœ¨çº¿æ¸¸æˆä¸­çš„è·åˆ©ï¼šå¦‚ä½•åˆ©ç”¨ä»–äººçš„ç»éªŒæ¥æ»¡è¶³è‡ªå·±çš„éœ€æ±‚</a></li>
<li><a href="../zh-CN505528/index.html">Wi-Fi 6ä¸­æœ€é‡è¦çš„äº‹æƒ…ã€‚</a></li>
<li><a href="../zh-CN505530/index.html">Googleåˆ¶é€ å¤„ç†å™¨ï¼ŒAMDå‡†å¤‡æ‘§æ¯é«˜é€š</a></li>
<li><a href="../zh-CN505532/index.html">æœ‰å…³æ¸¸æˆå¼€å‘çš„ç”µæŠ¥é¢‘é“ï¼šç¬¬2éƒ¨åˆ†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>