<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍅 🕊️ 🔪 How I integrated POS-terminal and FR IKKM-Touch in 1C: enterprise 🌹 👋🏿 🙆🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A step-by-step instruction will answer most of the questions on connecting a 2in1 device to a 1C platform (even if it doesn’t answer all, we will glad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How I integrated POS-terminal and FR IKKM-Touch in 1C: enterprise</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500152/"><img src="https://habrastorage.org/getpro/habr/post_images/c12/c96/d83/c12c96d8354cf3619385e4d3dc5f034f.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A step-by-step instruction will answer most of the questions on connecting a 2in1 device to a 1C platform (even if it doesn’t answer all, we will gladly analyze the rest in the comments), show possible connection options and modes, drivers and the necessary software under the cut. </font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The original article in my performance on this subject is already on the Internet, and this option was rewritten and finalized specially for Habr’s readers in compliance with the rules (I hope I didn’t break anything). </font><font style="vertical-align: inherit;">So…</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interaction of cash equipment with 1C platform</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before proceeding directly to the connection, we will analyze the possible options for operating modes, there are only two of them: offline data exchange and online exchange.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When OFFLINE exchange</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An intermittent, periodic exchange occurs. </font><font style="vertical-align: inherit;">The base of stock and prices from 1C is unloaded into the device. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c53/e58/7d6/c53e587d620a8b51c60032a7c58cd5d2.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The courier, for example, takes the machine and goes to the field on orders, handing out fiscal checks to customers and accepting cash and bank cards for payment. </font><font style="vertical-align: inherit;">After the end of the working day, the employee returns to submit the report and money, the device connects to the local network of the enterprise and uploads the results of the work shift (retail sales report, see the figure below).</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2ad/901/4c6/2ad9014c645d9bf22847fc1278beaccc.jpg" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classics of the genre-ONLINE exchange</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a permanent link of the cash register equipment to the accounting system, the device is always installed at the cash register, while there is no need to upload the entire range of items and prices to it, all data is taken from 1C over the network. </font><font style="vertical-align: inherit;">This mode of operation of cash register equipment can be found in any of the modern supermarkets.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And a couple more things before starting integration</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since the device is both a cash register and at the same time an acquiring terminal, in the case of ONLINE exchange to the 1C platform, it clings to two different drivers (like two separate devices). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We will integrate using: </font></font><br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fiscal registrar driver version 1.9 for 1C platform 8.3 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acquiring terminal driver version 1.9 for the same platform </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OFFLINE IKKM Exchange 1.6 data exchange software</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integrate with OFFLINE exchange</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unpack the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iKKMExchange.rar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> archive </font><font style="vertical-align: inherit;">at the link above to a convenient place. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/49e/567/6dd/49e5676dd469eb5db4f530e6b600553f.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Run the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createINI.bat</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> script </font><font style="vertical-align: inherit;">, and the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> settings file is created. </font><font style="vertical-align: inherit;">We </font><b><font style="vertical-align: inherit;">’ll</font></b></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/779/43c/5c2/77943c5c22ebf5bc6e7971d3828183cf.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
dwell on the settings by opening </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in any text editor: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cbb/bc7/e2b/cbbbc7e2b988b0ffe3c382acfb7123a9.jpg" alt="image"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Log”: “off”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - application operation log is disabled by default. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RecNumLim: 2500</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> max. number of Stock Keeping Unit (SKU) in the stock base. 2500 is the default digit. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"IPPort":</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> port </font><b><font style="vertical-align: inherit;">8082</font></b><font style="vertical-align: inherit;"> on which exchange will be made with 1C. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Cash": 0, "Bank": 1, "Tara": 2, "Credit": 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - these are the parameters that should be identical on the 1C side of the platform. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cash</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sign indicates cash withdrawal. </font></font><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bank -</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indicates acceptance of payment by bank card. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tara -</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indicates the reception of containers. </font><font style="vertical-align: inherit;">The sign is used as discount accounting, in the current loyalty system, etc. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Credit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - credit designation. </font></font><br>
<br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order for the exchange to proceed correctly, it is necessary to verify and correct the signs by their names and identifying numbers on the 1C side. </font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We make changes at our discretion, save the file. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After the settings, you can run </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iKKMExchange.exe. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After a successful start, the icon of the same name will appear in the taskbar of the desktop.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/4b8/131/fe8/4b8131fe8674d3c155aefe5623e69ba8.png" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We proceed to the configuration on the side of the integrated IKKM device</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To do this, go to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Device Settings”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> item in the </font><b><font style="vertical-align: inherit;">device</font></b><font style="vertical-align: inherit;"> , then to </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Import”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in the window that opens, perform the procedures shown in the video below:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see in the video tutorial, in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Connection Setup”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> window </font><b><font style="vertical-align: inherit;">,</font></b><font style="vertical-align: inherit;"> you need to pay special attention to filling in two lines: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“HTTP Product Directory”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“HTTP Document Log”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Both links begin with the IP address of the PC, where we will integrate, then the connection port (which we specified in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> earlier </font><font style="vertical-align: inherit;">) is </font><font style="vertical-align: inherit;">registered </font><font style="vertical-align: inherit;">, after the slash the command remains unchanged. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, the reference link string will look like this: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.0.11:8082/GetPriceList</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> taking into account the default connection port. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And the line of the document journal is: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.0.11:8082/SalesReport</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To make changes to the lines, you need to call the virtual keyboard on the device’s screen by pressing the physical button on the device with the “up arrow” icon, it is located in the lower left corner of the device. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It may happen that during the setup process you find inactive drop-down lists on the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Import Setup”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tab </font><font style="vertical-align: inherit;">, which makes it impossible to carry out further integration. This indicates an outdated firmware of the device, updating the firmware to the latest version will correct the situation. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b6f/9a3/e47/b6f9a3e47d053e602bbe7e4228183ba5.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now back to the folder with the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IKKMExchange</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application </font><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If the settings on the side of the device are made correctly, then the first interaction with the PC via the network will create an internal subfolder, the name of which will be the registration number of the connected IKKM device. </font><font style="vertical-align: inherit;">All exchange data for a specific device will take place in this folder. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/560/f8b/04c/560f8b04cdba6d79683297db43e20225.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data exchange occurs through the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A successful exchange in the folder will look like this:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8e4/8d9/fa6/8e48d9fa6cdafc98005daf3ca61563f9.png" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OFFLINE setting on the 1C side</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We are setting up a new exchange rule with connected equipment. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/286/904/5e2/2869045e2a2c3ae9a2e93265eb4c8470.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the window </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Settings of the connected equipment”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you need to set the corresponding checkbox, then we will go to the link </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Rules for the exchange with connected equipment”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a0c/393/d7d/a0c393d7dbd393e97ee92ed2fa2c67ef.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We will create a new exchange rule with the name and warehouse for the unloading of commodity items, we will also indicate the parameters by which the goods will be selected for unloading in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Selection"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> field </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/eb9/f21/38a/eb9f2138a80ef8a8b767e6d30bcdb813.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you click on </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Refresh”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Price List”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tab </font><font style="vertical-align: inherit;">, we observe the filling of the tabular section below with commodity items according to the selection. Column </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"SKU"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contains the code of each product in the list, with the help of which it will already be possible to easily find the necessary nomenclature on the device. If some products in the list do not contain the SKU code, it is better to create it using the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Generate SKU"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key </font><font style="vertical-align: inherit;">. Save the changes. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a59/df5/6bb/a59df56bb29f307f7c906b0faadffece.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now you need to associate the created rule with the equipment, for this we’ll return to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Configuring connected equipment”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> window </font><font style="vertical-align: inherit;">, click the link </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Connected equipment”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f8b/9db/edb/f8b9dbedbd6080cd3d6ef1e6663de2c3.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We select the appropriate type of equipment, click on </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Create"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in a new window you need to specify the driver, the exchange rule that we created earlier, the serial number of the device can be specified, but not required.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0d8/f6f/874/0d8f6f874b692c10a7049ce6831ea66b.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We will carry out additional settings of the connected equipment by clicking </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Configure”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the same window </font><font style="vertical-align: inherit;">. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Exchange format version”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 1.6 from the drop-down list. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unload directory </font><b><font style="vertical-align: inherit;">”</font></b><font style="vertical-align: inherit;"> - the path to the folder with the serial number of the equipment in the iKKMExchange directory. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Name of the settings file”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - prescribe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Settings”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Max price list file”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - you need to register </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“PriceList”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Download directory”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the path is similar to the upload directory. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Name of the sales report file”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - indicate </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“SalesReport”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Save the changes and exit.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/236/eda/104/236eda104160a031445659701ba1acb3.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A few steps earlier, I noted the signs of the teams that we examined in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> document </font><font style="vertical-align: inherit;">, now we have to duplicate them already in the 1C accounting system. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We go to the section, as shown in the figure below: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/338/78d/8d1/33878d8d19dd366626e6407e97ea630b.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Create"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> button, a window for adding new cash register equipment to 1C opens. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first item is the indication of the correct workplace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Second, you can specify the serial number of KKM, this is an optional condition. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The third paragraph - selects the previously created equipment settings “KKM Offline” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Correspondence of wage types”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (fourth paragraph in the figure) we indicate the name and set the identification values ​​from </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/979/4b6/ad9/9794b6ad955debc660d16d9667bbc549.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Save the changes and move on to the last configuration step. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We’ll check how the data will be downloaded from 1C to the folder in IKKMExchange corresponding to the device, go to the necessary 1C section: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e0d/0d3/e2b/e0d0d3e2b850f93873579e80b33077b9.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Provided that the previous setup operations are performed correctly and the correct warehouse is selected, as well as the upload rule, our offline equipment is displayed in the window. </font><font style="vertical-align: inherit;">Click </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Unload"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/aa9/9f5/7b6/aa99f57b65ec94d80a5f3f06647adacb.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unloading will occur in the folder with the serial number of your KKM. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2d0/2de/40f/2d02de40f2002ab288fd2fbdf28aaf03.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you open Settings.xml, you can find the payment codes that we set earlier. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/499/f06/cce/499f06cceeb8183c60a783ecd82c6c85.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setting OFFLINE sharing is complete. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you have installed the latest version of the 1C: retail configuration, the automatic exchange function will also be available to you.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5d8/744/303/5d8744303a7c4150fcdd3d6c621a1357.jpg" alt="image"><br>
<br>
<u><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure ONLINE sharing</font></font></h2></u><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To prevent the article from turning into a two-volume, a demonstration of the ONLINE exchange settings will be shown on the example of IKKM, as a fiscal registrar. The process of setting up an exchange with the banking part of the device (like an acquiring terminal) looks similar. The example uses the “1C: trade management” configuration, the installation process on other configurations will be slightly different due to the features of the interface, but the principle is preserved. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, you need to install the driver. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the window of the item </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“RMK and equipment”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , we find the link </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Connected equipment”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font><font style="vertical-align: inherit;">click </font><font style="vertical-align: inherit;">on it. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d4f/406/e5c/d4f406e5ce2f5d3208eb7e74283fc7a5.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Hardware Drivers"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tab </font><font style="vertical-align: inherit;">, then click on the button </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Add a new driver from the file</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><b><font style="vertical-align: inherit;">"</font></b></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/984/c65/c20/984c65c205077f10605606e68fe12635.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Download the archive with the driver, laid out in the article above, and open it. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/834/a1e/f8e/834a1ef8e998c731b12a25e8d4e90449.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/83b/8b0/7aa/83b8b07aaacb407e935a2ebd6b7efa0f.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first driver download produces an error. To continue the integration, you just need to retry the installation attempt, and the second time the driver will be successfully installed. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2c6/06b/a96/2c606ba96a8be78e5b0d1d5e441549a3.jpg" alt="image"> <br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2b5/b84/486/2b5b84486535d94fb5d1404d93c9110d.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Half the way to configure ONLINE exchange has been completed, go to the tab </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Connect and configure equipment”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the type of equipment to be connected is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Fiscal registrars”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , click </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Create”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . From the drop-down list, select iKKM. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/00c/243/8e1/00c2438e1ff16c72dc731cc1de754bb3.jpg" alt="image"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/90b/16f/88d/90b16f88d1bf5fdd4d6b9b53f2d7fc3b.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After clicking on </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Configure”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the window of the parameters of the equipment we have chosen opens, where you should pay attention to the print parameter of the printer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Number of characters per line”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: for the built-in printer in iKKM (paper width 57mm), the standard parameter (twenty-four characters) is suitable, if you connect an external printer (80mm and above), you can use other values ​​(thirty-six, forty-eight characters). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“IP address”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> item </font><b><font style="vertical-align: inherit;">,</font></b><font style="vertical-align: inherit;"> you need to specify ip without adding the port of an iKKM device on the network, after setting it with a static address through a router. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Where will we store the API key”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a point where we place a directory convenient for you with a text document of a dynamic API key to protect network operations. Each time during a fiscal operation, the key will be replaced with a different value. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The item </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"WEB API key"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> should contain the current security key.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/db8/617/2b2/db86172b294174fbba3e408331270a79.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The current API key can be obtained from the device’s web interface by contacting it after connecting to the network via the browser </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“device IP address: 8080”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8d5/ea4/aa8/8d5ea4aa8fa7b0a2fa14fe4f720850f0.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All settings are made, now you can test the device. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cd5/ba1/70a/cd5ba170aaab6991659016fe009a6c9b.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hooray, setting up the FR successfully completed!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finally, another trick</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If during the use of the device, you cannot sell one or another product via iKKM (the device does not break it in the check), check the rounding settings in your 1C: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Correct option for 1C: Retail, 1C: Pharmacy </font></font></b><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/905/879/a38/905879a38ff74e8c6960eda0267c0db8.png" alt="image"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For 1C: Restaurant</font></font></b><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9db/f7a/0f9/9dbf7a0f976e5cdc01f95c285c1ecfcc.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Good for everyone fast and convenient cash registers for you!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en500142/index.html">Manage rights at the facility level</a></li>
<li><a href="../en500144/index.html">David O'Brien (Xirus): Metrics! Metrics! Metrics! Part 1</a></li>
<li><a href="../en500146/index.html">Job search in Germany as a product manager and more. Part 3/5. What you need to do before you start sending out CVs</a></li>
<li><a href="../en500148/index.html">Mikrotik firewall filter: script generating the basis for a filtering policy</a></li>
<li><a href="../en500150/index.html">ROS and Neural Grid Beggar Robot</a></li>
<li><a href="../en500154/index.html">Confidential Machine Learning. PySyft Library</a></li>
<li><a href="../en500158/index.html">SwiftUI Interaction with Redux</a></li>
<li><a href="../en500160/index.html">Visual elements</a></li>
<li><a href="../en500162/index.html">Great python sports data processing tutorial</a></li>
<li><a href="../en500164/index.html">Tutor: profession costs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>