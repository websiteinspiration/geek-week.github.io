<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§• üèÖ üßúüèø Agora entendo por que quase ningu√©m criptografa seus e-mails üñïüèº üë©üèø‚Äçüåæ üë©üèø‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A criptografia de email √© um procedimento dif√≠cil e doloroso. Recentemente, eu mesmo percebi o quanto. Uma amiga minha, muito avan√ßada no campo da seg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Agora entendo por que quase ningu√©m criptografa seus e-mails</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/globalsign/blog/498592/"><div style="text-align:center;"><img src="https://cheapskatesguide.org/pics/sealed-640.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A criptografia de email √© um procedimento dif√≠cil e doloroso. Recentemente, eu mesmo percebi o quanto. Uma amiga minha, muito avan√ßada no campo da seguran√ßa da informa√ß√£o, me enviou sua chave p√∫blica PGP e me pediu para mudar para criptografia. N√£o, ela n√£o √© da NSA ou da CIA, √© apenas uma pessoa comum que se preocupa com sua privacidade. Eu nunca havia enviado cartas criptografadas antes, mas pensei: "Por que n√£o?" Por muitos anos, eu quis aprender isso, mas n√£o havia ningu√©m com quem trocar cartas criptografadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comecei instalando o GnuPG na minha m√°quina Linux.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O GnuPG √© semelhante ao PGP, pois usa chaves p√∫blicas e privadas para criptografia e descriptografia, mas vem com c√≥digo-fonte aberto e muitas distribui√ß√µes Linux. Outra vers√£o de c√≥digo aberto do PGP √© o OpenPGP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O GnuPG para Windows chamado Gpg4win pode ser baixado do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site oficial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Eu escolhi um m√©todo geral de criptografar e descriptografar mensagens, que n√£o est√° vinculado a nenhum provedor de email, porque n√£o queria me limitar √† capacidade de criptografar apenas um provedor. Al√©m disso, a √∫nica maneira de garantir que mesmo o provedor de correio n√£o tenha acesso √†s suas cartas √© criptograf√°-las. Encontrei o guia GnuPG mais abrangente do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How-To Geek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Importei a chave p√∫blica do meu amigo usando este comando:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --import her_public_key_file.key</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este comando </font></font><code>her_public_key_file.key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© substitu√≠do pelo arquivo de chave p√∫blica real. </font><font style="vertical-align: inherit;">Depois, verifiquei se a chave dela foi importada com sucesso:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --list-keys</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma mensagem como esta apareceu:</font></font><br>
<br>
<pre><code class="bash hljs">pub 2048R/FFE7947D 2019-10-11 [expires: 2021-10-10]<font></font>
uid her_email@her_email_provider.com<font></font>
sub 2048R/AB48FEC2 2019-10-11</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso significa que o GnuPG reconhece sua chave p√∫blica como v√°lida e a salva para uso futuro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, assinou sua chave p√∫blica:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --sign-key her_email_address@email_provider.com</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assinar a chave p√∫blica informa ao GnuPG que voc√™ confia nessa chave, ou seja, ela realmente veio dessa pessoa. </font><font style="vertical-align: inherit;">Cada chave p√∫blica deve ser assinada antes que as mensagens do propriet√°rio dessa chave p√∫blica possam ser descriptografadas. </font><font style="vertical-align: inherit;">Na minha opini√£o, este passo n√£o faz nenhum sentido. </font><font style="vertical-align: inherit;">Por que voc√™ importaria uma chave se acha que n√£o veio da pessoa certa? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o eu tentei gerar minhas chaves:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --output ~/temp.key --armor --<span class="hljs-built_in">export</span> My Name </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, ap√≥s esse comando, apareceu uma mensagem de erro informando que o final de uma nova linha foi encontrado. Eu pensei que isso poderia ocorrer devido a espa√ßos no meu nome e entre o nome e o endere√ßo de email, ent√£o tentei v√°rios formatos. Ap√≥s cerca de uma hora e muitas tentativas malsucedidas, algumas das quais pareciam bem-sucedidas, mas n√£o foram, finalmente encontrei o comando certo:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --gen-key</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O comando acima faz uma s√©rie de perguntas. </font><font style="vertical-align: inherit;">No come√ßo, escolhi a op√ß√£o "1" e depois a op√ß√£o de comprimento de chave de 2048 bits. </font><font style="vertical-align: inherit;">Defina um per√≠odo ilimitado de validade da chave. </font><font style="vertical-align: inherit;">Eu n√£o indiquei o sobrenome no campo nome, mas os espa√ßos tamb√©m s√£o suportados l√°: voc√™ pode especificar o nome e o sobrenome. </font><font style="vertical-align: inherit;">Em seguida, digitou o endere√ßo de email dele. </font><font style="vertical-align: inherit;">O campo de coment√°rio √© deixado em branco. </font><font style="vertical-align: inherit;">E, finalmente, ele introduziu uma senha longa. </font><font style="vertical-align: inherit;">Uma senha √© simplesmente sin√¥nimo de senha. </font><font style="vertical-align: inherit;">Eu escrevi onde n√£o vai se perder. </font><font style="vertical-align: inherit;">Na verdade, eu o coloquei em um arquivo criptografado usando o Truecrypt. </font><font style="vertical-align: inherit;">Uma senha ser√° necess√°ria mais tarde para criptografar as mensagens em caso de reinstala√ß√£o do GnuPG no disco r√≠gido e reimporta√ß√£o das chaves. </font><font style="vertical-align: inherit;">E n√£o se esque√ßa de fazer backup das pr√≥prias chaves! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de criar as chaves, verificamos o resultado:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --list-keys</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este comando produz algo como isto:</font></font><br>
<br>
<pre><code class="bash hljs">pub 2048R/FFE7947D 2019-10-11 [expires: 2021-10-10]<font></font>
uid her_email@her_email_provider.com<font></font>
sub 2048R/AB48FEC2 2019-10-11<font></font>
<font></font>
<font></font>
pub 2048R/3A785D3F 2020-02-22<font></font>
uid My Name<font></font>
sub 2048R/A7B384FE 2020-02-22</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Executei a gera√ß√£o de chaves duas vezes porque n√£o tinha certeza se esse resultado significa que h√° um par de chaves p√∫blicas / privadas ou apenas uma chave. </font><font style="vertical-align: inherit;">De alguma forma, acabei percebendo que havia criado dois pares de chaves e exclu√≠ o segundo par. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois tentei exportar minha chave p√∫blica para um arquivo. </font><font style="vertical-align: inherit;">A chave p√∫blica deve ser enviada a todos para quem voc√™ envia uma carta criptografada para que ela possa descriptografar. </font><font style="vertical-align: inherit;">N√£o sei ao certo qual comando usei, mas ele produziu um arquivo de texto que come√ßa com </font></font><code>-----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Enviei esta carta para minha amiga, e ela me respondeu com uma mensagem criptografada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentei descriptografar o arquivo </font></font><code>message.asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a carta dela:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --decrypt message.asc &gt; plain.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas o GnuPG deu uma mensagem de erro de que n√£o foi poss√≠vel encontrar a chave secreta:</font></font><br>
<br>
<pre><code class="bash hljs">gpg: encrypted with RSA key, ID XXXXXXXX<font></font>
gpg: decryption failed: secret key not available</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas eu vi minha chave secreta. Eu poderia at√© export√°-lo. Eu sabia que ele era! O que posso dizer, √†s vezes os programadores escrevem mensagens de erro realmente terr√≠veis. Nesse ponto, eu j√° havia come√ßado a sentir alguma irrita√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu n√£o sabia o que fiz de errado. A √∫nica coisa que eu poderia assumir era que, de alguma forma, n√£o consegui criar as chaves corretamente. Ou isso, ou eu exportei a chave p√∫blica errada. Ent√£o eu decidi come√ßar tudo de novo. Exclu√≠ meu par de chaves, gerei um novo par de chaves e exportei minha chave p√∫blica para um arquivo usando este comando:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --output ~/my_public_gpg_key.key --armor --<span class="hljs-built_in">export</span> My Name my-email@my-email-povider.com</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o ele enviou a um amigo uma nova chave p√∫blica. O par√¢metro </font></font><code>--armor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diz ao GnuPG para criar o arquivo de chave p√∫blica em forma de texto. Nome do arquivo - </font></font><code>my_public_gpg_key.key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ela novamente criptografou sua mensagem e a enviou para mim. Quando tentei descriptograf√°-lo, vi novamente a mesma mensagem de erro:</font></font><br>
<br>
<pre><code class="bash hljs">gpg: encrypted with RSA key, ID XXXXXXXX<font></font>
gpg: decryption failed: secret key not available</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dessa vez, notei que o identificador de chave corresponde √† minha chave p√∫blica antiga, n√£o √† nova. Decidi que ela estava errada e pedi que tentasse novamente com uma nova chave. Ent√£o, para ter certeza de que n√£o estava enganado, decidi verificar se a chave que eu usava era realmente a minha nova chave. A nova chave que enviei n√£o era nem uma das minhas chaves p√∫blicas! Foi sua chave p√∫blica que come√ßou com </font></font><code>-----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! De alguma forma, eu exportei a chave dela com a adi√ß√£o </font></font><code>Version: GnuPG v1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! Eu sei disso porque ainda tinha um arquivo com a chave dela que ela me enviou, e come√ßa com </font></font><code>-----BEGIN PGP PUBLIC KEY BLOCK-----</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. N√£o est√° a√≠ </font></font><code>Version: GnuPG v1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! E a chave p√∫blica dela corresponde √† que eu enviei.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu reexportei minha chave p√∫blica usando o mesmo comando acima. Dessa vez, verifiquei se realmente era minha chave antes de envi√°-la por e-mail. Nos materiais de refer√™ncia do Internet GnuPG, aprendi que uma mensagem sobre a aus√™ncia de uma chave secreta pode aparecer se as pessoas usarem vers√µes diferentes do GnuPG. Eu mencionei isso para ela quando enviei uma nova chave por email.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algumas semanas depois, recebi uma carta de resposta. A essa altura, eu j√° tinha decidido que ela havia se rendido. Nas semanas seguintes, tive alguns problemas com o computador, o que tornou necess√°rio reformatar o disco r√≠gido. Ent√£o eu tive que reinstalar o GnuPG, reimportar minhas chaves e reimportar sua chave p√∫blica. Felizmente, fiz backups! Ent√£o eu respondi a √∫ltima carta dela com outra letra que criptografei com este comando:</font></font><br>
<br>
<pre><code class="bash hljs">gpg --encrypt --sign --armor -r her-email@her-email-provider.com --passphrase my-pass-phrase my-msg.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, essa n√£o √© minha senha real, substitu√≠-a por </font></font><code>my-pass-phrase</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e a mensagem n√£o criptografada por </font></font><code>my-msg.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Um texto cifrado foi gerado e seu arquivo foi nomeado </font></font><code>my-msg.tx.gpg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. N√£o consegui encontrar nenhuma informa√ß√£o sobre como descriptografar meu pr√≥prio texto cifrado, ent√£o tive que envi√°-lo para ela, sem saber se o havia criptografado corretamente. Eu s√≥ sabia que ele parecia ter o tamanho certo. Depois de algumas semanas, recebi dela uma nova carta criptografada sobre um t√≥pico diferente. S√≥ ent√£o parecia que eu finalmente chegara ao ponto em que podemos nos comunicar com sucesso por email criptografado. Todo o processo do in√≠cio ao fim levou mais de um m√™s! Ainda estou tentando automatizar os comandos do GnuPG para poder us√°-los sem pensar muito no que estou fazendo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com essa experi√™ncia, percebi que o email criptografado, embora seja um exerc√≠cio interessante, n√£o √© muito pr√°tico. A menos que voc√™ seja o Edward Snowden monitorado pela NSA, √© improv√°vel que voc√™ possa justificar o esfor√ßo para criar e usar o correio criptografado. E se voc√™ n√£o √© Edward Snowden com segredos importantes, √© improv√°vel que algu√©m queira gastar energia na correspond√™ncia criptografada com voc√™.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criptografar e descriptografar emails, como eu fiz no GnuPG, √© muito tedioso. </font><font style="vertical-align: inherit;">Como j√° gastei muito esfor√ßo nisso, continuarei a us√°-lo para me comunicar com meu amigo on-line. </font><font style="vertical-align: inherit;">Mas eu n√£o recomendaria que uma pessoa comum usasse o GnuPG para criptografar emails, se isso puder ser evitado. </font><font style="vertical-align: inherit;">Entendo que existem solu√ß√µes mais simples no mercado de provedores de correio espec√≠ficos, como o Protonmail, mas a maioria das pessoas n√£o deseja alterar o provedor para us√°-las. </font><font style="vertical-align: inherit;">Todos n√≥s precisamos de uma maneira mais f√°cil de enviar e receber correio criptografado sem alterar o provedor de correio. </font><font style="vertical-align: inherit;">GnuPG n√£o √© uma solu√ß√£o. </font><font style="vertical-align: inherit;">Se voc√™ conhece uma maneira mais simples de criptografar e-mails, considere deixar um coment√°rio.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/la/or/-y/laor-yldjqn4hfjnnkpdnpq9dda.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt498574/index.html">Por que eu decidi desenvolver jogos ou uma viagem nost√°lgica por zero</a></li>
<li><a href="../pt498576/index.html">Como desenvolvemos o campo para inserir novas mensagens em nosso messenger (Gem4me)</a></li>
<li><a href="../pt498580/index.html">Quantifica√ß√£o do "efeito bowl" em imagens tomogr√°ficas</a></li>
<li><a href="../pt498582/index.html">Obter e alternar legendas WebVTT no ExoPlayer</a></li>
<li><a href="../pt498588/index.html">O que espera no primeiro emprego</a></li>
<li><a href="../pt498602/index.html">B.P. Gerasimovich - astrof√≠sico e homem</a></li>
<li><a href="../pt498604/index.html">Remova seus filhos de nossas telas azuis ou por que voc√™ n√£o pode comprar o Yandex.</a></li>
<li><a href="../pt498608/index.html">Making of NES gameinvitro "MULTIDEFENDER"</a></li>
<li><a href="../pt498610/index.html">Como reutilizar c√≥digo com pacotes symfony 5? Parte 3. Integra√ß√£o do pacote configur√°vel com o host: modelos, estilos, JS</a></li>
<li><a href="../pt498612/index.html">N√£o decida para o designer a tarefa do designer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>