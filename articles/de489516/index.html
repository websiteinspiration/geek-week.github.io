<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🍳 🚴🏽 👲🏼 Freunde reagieren auf Native und Fastlane 👰🏼 🧞 🎼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Diejenigen unter Ihnen, die sich mindestens einmal für ein solches Thema interessiert haben, sind mehr als einmal auf Fastlane gestoßen - ein äußerst ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Freunde reagieren auf Native und Fastlane</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489516/"><p><img src="https://habrastorage.org/webt/n8/lo/r5/n8lor5lkvnqev0xktqwxayrv1t0.png" alt="https://habrastorage.org/webt/n8/lo/r5/n8lor5lkvnqev0xktqwxayrv1t0.png"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diejenigen unter Ihnen, die sich mindestens einmal für ein solches Thema interessiert haben, sind mehr als einmal auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fastlane gestoßen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ein äußerst nützliches Dienstprogramm, das das Problem der Automatisierung von Builds und der Veröffentlichung von Anwendungen löst.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt eine große Anzahl von Artikeln und Videos, die den Vorteil der automatisierten Zusammenstellung des Projekts detailliert beschreiben, und der Inhalt dieser Artikel in Bezug auf React Native (jedoch auf eine andere plattformübergreifende Plattform) wird auf die folgenden Aktionen reduziert:</font></font></p><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Initialisieren Sie Fastlane in iOS- und Android-Ordnern</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kopieren Sie </font><font style="vertical-align: inherit;">die plattformspezifischen Skripttypen: </font></font><code>clean</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>build</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>publish</code></li>
<li>    iOS  Android </li>
<li> !</li>
</ol><br>
<p>     ,    ,   -   .         ,   </p><a name="habracut"></a><br>
<ol>
<li>     ?<br>
,         ( ,  ,         ..).      <code>Fastfile</code> ,          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">DRY</a>?</li>
<li>     ?<br>
 Ruby,   Fastlane  ,       Fastlane     .  JS ,    Ruby,       ,    ,    .</li>
<li>  ?<br>
,     ,        ,       Android.  iOS  Fastlane  ,   Android .  Ruby        ,       Ruby ,    ,      .</li>
<li>     ?<br>
         .          ,   -      ,       .</li>
</ol><br>
<p>   -     Ruby    API,         .       Android      :</p><br>
<pre><code class="ruby hljs"><span class="hljs-comment">#      </span>
import <span class="hljs-string">"../../scripts/Fastfile.rb"</span><font></font>
<font></font>
lane <span class="hljs-symbol">:publish</span> <span class="hljs-keyword">do</span> <span class="hljs-params">|options|</span>
  <span class="hljs-comment">#       </span>
  <span class="hljs-keyword">self</span>.runner.current_platform = <span class="hljs-symbol">:android</span><font></font>
<font></font>
  assert_git()<font></font>
  assert_environment(<span class="hljs-symbol">env:</span> options[<span class="hljs-symbol">:env</span>])<font></font>
  assert_credentials()<font></font>
<font></font>
  new_version=increment_version(<span class="hljs-symbol">type:</span> options[<span class="hljs-symbol">:increment</span>])<font></font>
  version_description=set_version(<span class="hljs-symbol">version:</span> new_version)<font></font>
<font></font>
  build(<span class="hljs-symbol">env:</span> options[<span class="hljs-symbol">:env</span>])<font></font>
<font></font>
  upload(<span class="hljs-symbol">track:</span> options[<span class="hljs-symbol">:track</span>])<font></font>
<font></font>
  commit(<span class="hljs-symbol">text:</span> <span class="hljs-string">'Up version to '</span> + new_version)<font></font>
  commit_tag(<span class="hljs-symbol">text:</span> <span class="hljs-string">'android/'</span> + new_version)<font></font>
  push_all()<font></font>
<font></font>
  message(<span class="hljs-symbol">text:</span> <span class="hljs-string">'   "'</span>+ app_name + <span class="hljs-string">'"   Google Play.   '</span> + options[<span class="hljs-symbol">:track</span>].upcase + <span class="hljs-string">' '</span> + version_description + url)
<span class="hljs-keyword">end</span></code></pre><br>
<p>  ,     <code>build</code>,         Fastfile.rb.  -     :              .</p><br>
<p>     Ruby,      ,    .     React Native   JS ,    ,           ,    Ruby.    JS ! (   )</p><br>
<p>     (,  )  Fastlane,           <del> </del> JS,       .      :</p><br>
<p><img src="https://habrastorage.org/webt/vq/bi/pp/vqbippe_pkcckg5utfsdseb948a.gif" alt="https://habrastorage.org/webt/vq/bi/pp/vqbippe_pkcckg5utfsdseb948a.gif"></p><br>
<p>   ,         .</p><br>
<p>    :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { android, gradle, AndroidPlatform, ui, supply, Incrementer } <span class="hljs-keyword">from</span> <span class="hljs-string">"@lamantin/fastpush"</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> androidPlatform = <span class="hljs-keyword">new</span> AndroidPlatform()<font></font>
<font></font>
<span class="hljs-keyword">const</span> [oldVersionCode, newVersionCode] = <span class="hljs-keyword">await</span> androidPlatform.incrementVersionCode()<font></font>
ui.success(<span class="hljs-string">`Success update build [<span class="hljs-subst">${oldVersionCode}</span>] -&gt; [<span class="hljs-subst">${newVersionCode}</span>]`</span>)<font></font>
<font></font>
android([<font></font>
  gradle(<span class="hljs-string">"clean"</span>),<font></font>
  gradle(<span class="hljs-string">"assemble"</span>, {
    <span class="hljs-attr">build_type</span>: <span class="hljs-string">"Release"</span>,<font></font>
  }),<font></font>
  supply({ <span class="hljs-attr">track</span>: <span class="hljs-string">"beta"</span> }),<font></font>
])</code></pre><br>
<p>   (   ),       :</p><br>
<ul>
<li>     TypeScript       ,    </li>
<li>      JS </li>
<li>        ,     ,       </li>
<li>     1 ,   .         <code>ios</code>  <code>android</code>    Fastlane </li>
<li>       ,           </li>
</ul><br>
<p>,     ,        .  ,   CLI ,    ,       :</p><br>
<p><img src="https://habrastorage.org/webt/mf/2q/yy/mf2qyyzncnmxlbijlkctcl8lzwu.png" alt="https://habrastorage.org/webt/mf/2q/yy/mf2qyyzncnmxlbijlkctcl8lzwu.png"></p><br>
<p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Github </a>,     .</p><br>
<h2 id="kak-podklyuchit-sebe">  </h2><br>
<p>     </p><br>
<pre><code class="bash hljs">yarn add @lamantin/fastpush --dev
<span class="hljs-comment"># </span>
npm install @lamantin/fastpush --save-dev</code></pre><br>
<p>  ,          ,   -   :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { publish } <span class="hljs-keyword">from</span> <span class="hljs-string">'@lamantin/fastpush/build/src/cli/publish'</span>
<span class="hljs-keyword">import</span> { fastpush, FastpushResult } <span class="hljs-keyword">from</span> <span class="hljs-string">'@lamantin/fastpush/build/src/cli/fastpush'</span>
<span class="hljs-keyword">import</span> { git } <span class="hljs-keyword">from</span> <span class="hljs-string">'@lamantin/fastpush/build/src/utils'</span>
<span class="hljs-keyword">import</span> Telegram <span class="hljs-keyword">from</span> <span class="hljs-string">'our-own-app/Telegram'</span><font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">const</span> options: FastpushResult = fastpush(process.argv)<font></font>
<font></font>
<span class="hljs-comment">//     (   CLI),     </span><font></font>
publish(options, {<font></font>
  <span class="hljs-comment">// onPostPublish - ,       </span>
  <span class="hljs-attr">onPostPublish</span>: <span class="hljs-keyword">async</span> (platform, [prevVersion, version], [prevBuild, build]) =&gt; {
    <span class="hljs-keyword">const</span> store = platform.type === <span class="hljs-string">'ios'</span> ? <span class="hljs-string">'App Store '</span> : <span class="hljs-string">'Google Play '</span>
    <span class="hljs-keyword">const</span> message = <span class="hljs-string">`App "My App Name"  sended to <span class="hljs-subst">${store}</span>, track <span class="hljs-subst">${options.track.toUpperCase()}</span>.\\n Version: <span class="hljs-subst">${tag}</span>`</span><font></font>
    Telegram.sendMessage(message)    <font></font>
  }<font></font>
})</code></pre><br>
<p>    <code>fastpush</code>,     ,    JS  <code>options</code>,        .   ,      <code>publish</code>   .      ,       (       ,   ).</p><br>
<h2 id="kak-naschet-flutter">  Flutter?</h2><br>
<p>         React Native,            Flutter (   ).</p><br>
<hr><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Projekt wird gerade aktiv abgeschlossen und freut sich über Ihre Pull-Anfragen, Probleme oder zumindest Kommentare. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir hoffen, dass es für andere als uns nützlich ist oder uns ermutigt, flexiblere Lösungen zu schreiben.</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de489502/index.html">Selen + AutoIT. Windows Test Automation Windows</a></li>
<li><a href="../de489504/index.html">So erstellen Sie eine Karte in UE4</a></li>
<li><a href="../de489510/index.html">Der Versuch, das Problem der Auswahl von Tickets vor Urlaub Nr. 2 zu lösen</a></li>
<li><a href="../de489512/index.html">Flattern. BlOC, Provider, Async - Shelf Architecture</a></li>
<li><a href="../de489514/index.html">Laden Sie kostenlos Dateien jeder Größe auf Google Drive herunter und speichern Sie sie. Fehler oder Funktion?</a></li>
<li><a href="../de489518/index.html">Mitgliederaustausch Low-Cost-Austausch erscheint in den USA</a></li>
<li><a href="../de489526/index.html">Nullsummenspiele und Karush-Kun-Takker-Bedingungen</a></li>
<li><a href="../de489528/index.html">Sie sehen während der Entwicklung keine Anzeigen? Störung</a></li>
<li><a href="../de489530/index.html">Was macht ein reaktives System gut?</a></li>
<li><a href="../de489532/index.html">Was ist neu in Android 11 für Benutzer und Entwickler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>