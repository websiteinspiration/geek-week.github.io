<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛵 👎 🤚🏼 Secara singkat tentang di mana menempatkan Repositori di Onion Architeckture dan DDD 🛰️ 🕴🏽 🌬️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo Habr. Saya ingin berbicara tentang di mana, pada gambar di atas, meletakkan repositori. Sedikit lebih banyak tentang DIP, IOC dan struktur proyek...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Secara singkat tentang di mana menempatkan Repositori di Onion Architeckture dan DDD</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501206/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/g-/md/vn/g-mdvngslazcpacsfe-hx_pbk-q.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Halo Habr. Saya ingin berbicara tentang di mana, pada gambar di atas, meletakkan repositori. Sedikit lebih banyak tentang DIP, IOC dan struktur proyek. Ada pendekatan standar yang menurutnya antarmuka IRepository harus dicegah di lapisan domain ke DomainServices dan implementasi dalam Infrastruktur. Di sini kita berbicara tentang Repositori standar yang hanya merupakan kumpulan abstrak objek yang tidak tahu tentang transaksi dan UnitOfWork dan sebagainya (misalnya, IList dan versi generiknya adalah antarmuka khas repositori abstrak). Saya pribadi tidak setuju dengannya karena biasanya repositori ditumbuhi dengan perilaku khusus untuk aplikasi tertentu, jadi saya meletakkan antarmuka mereka ke ApplicationServices. Implementasi tentu saja tetap di lapisan Infrastruktur. Jika Anda tertarik, selamat datang di kucing.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seringkali banyak yang bingung dengan gambar lama dari Robert Martin: </font></font><br>
<img src="https://habrastorage.org/webt/7i/ju/xd/7ijuxdes-9r_6r-cmyrr_mx_cik.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dia memiliki kata-kata dalam artikel</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entitas merangkum aturan bisnis perusahaan yang luas. </font><font style="vertical-align: inherit;">Entitas dapat berupa objek dengan metode, atau dapat berupa sekumpulan struktur dan fungsi data. </font><font style="vertical-align: inherit;">Tidak masalah asalkan entitas dapat digunakan oleh banyak aplikasi berbeda di perusahaan.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, ternyata itu hanya memberikan DomainServices ke lapisan Entitas. </font><font style="vertical-align: inherit;">Baiklah, UseCases == ApplicationServices. </font><font style="vertical-align: inherit;">Gateway == UserPepository, EmailService, Logger. </font><font style="vertical-align: inherit;">Baca lebih lanjut di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serivice adalah kelas tanpa kewarganegaraan. </font><font style="vertical-align: inherit;">InfrastructureService adalah anti-korupsi laer yang mengisolasi Anda dari sistem file, perpustakaan untuk bekerja dengan SMTP dan, tentu saja, dari ORM atau perpustakaan untuk bekerja dengan Database, dll.</font></font></li>
<li>Repository  .         .   List  Repository       T[]     ValueObject     Entities.      Repository  InfrastructureService    InfrastructureService   Repository. : Logger, EmailSender. </li>
<li>Repository     InfrastructureService    - EmailSender  EmailService, FileService (       File.Open(… )  . .)     .</li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memahami di mana harus meletakkan abstraksi, kita perlu memikirkan Ketergantungan Inversi dan Inversi Kontrol. </font><font style="vertical-align: inherit;">Menurut mereka, ApplicationService kami dapat menggunakan Infrastruktur, saya tidak tahu apa implementasinya dengan cara seperti:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentukan antarmuka yang akan mengimplementasikan Infrastruktur dan berinteraksi dengannya.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terima saja delegasi seperti Aksi dan Fungsi.</font></font></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Melalui antarmuka:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword">interface</span> <span class="hljs-title">IRepository</span><font></font>
    {<font></font>
        <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Get</span>(<span class="hljs-params"></span>)</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">class</span> <span class="hljs-title">ApplicationService</span><font></font>
    {<font></font>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IRepository _repository;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ApplicationService</span>(<span class="hljs-params">IRepository repository</span>)</span><font></font>
        {<font></font>
            _repository = repository;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">GetInt</span>(<span class="hljs-params"></span>)</span> =&gt; _repository.Get();<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Melalui delegasi:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword">class</span> <span class="hljs-title">ApplicationService</span><font></font>
    {<font></font>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Func&lt;<span class="hljs-keyword">int</span>&gt; _getIntFromDb;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ApplicationService</span>(<span class="hljs-params">Func&lt;<span class="hljs-keyword">int</span>&gt; getIntFromDb</span>)</span><font></font>
        {<font></font>
            _getIntFromDb = getIntFromDb;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">GetInt</span>(<span class="hljs-params"></span>)</span> =&gt; _getIntFromDb();<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang tentang cara menyusun kode. </font><font style="vertical-align: inherit;">Ada dua hal yang perlu dipertimbangkan:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semuanya terbagi dalam beberapa folder.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semuanya dibagi menjadi beberapa perpustakaan. </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Detail terminologi dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditemukan di sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Folder dalam aplikasi yang sama</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh Kode SnakeGame</font></font></a><br>
<img src="https://habrastorage.org/webt/5p/gr/ht/5pgrhtkhtbexrhodcuora6q9bni.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oleh perpustakaan</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menempatkan antarmuka InfrastructureServices (IRepository) di perpustakaan ApplicationServices, dan implementasinya (Repository) di perpustakaan Infrastructure. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fz/5z/vb/fz5zvbdvpvwqvwq9fmce7v07i0g.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar terakhir dari sebuah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel oleh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seseorang dengan pengalaman pengembangan yang jauh lebih banyak daripada milik saya dan yang juga berpikir bahwa IRepository harus ditempatkan di Application Layer to ApplicationServices (implementasi Repositori sendiri juga memiliki Infrastruktur).</font></font><br>
<img src="https://habrastorage.org/webt/cf/gk/2z/cfgk2zwfiypetfyh-utmgp1yimq.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">temuan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antarmuka layanan infrastruktur (IRepository, IEmailSender) dapat ditempatkan di perpustakaan ApplicationServices.dll, dan implementasi spesifik mereka (Repositori, EMailSender) di perpustakaan Infrastructure.dll.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id501188/index.html">Bagaimana memproses citra satelit dengan Sen2Cor</a></li>
<li><a href="../id501190/index.html">Cara memulai startup, memasuki pasar Cina dan mendapatkan 15 juta investasi</a></li>
<li><a href="../id501192/index.html">5 Tips Terbaik untuk Meningkatkan Keterampilan Lunak dalam Bahasa Inggris</a></li>
<li><a href="../id501194/index.html">Di bangun dari partikel panas. Kamar Wilson</a></li>
<li><a href="../id501198/index.html">Memahami (semua) format dan alat JavaScript "modular"</a></li>
<li><a href="../id501208/index.html">"Hingga 30 ribu": lebih dari 10 ulasan sistem audio</a></li>
<li><a href="../id501212/index.html">Realisasi animasi kerangka untuk model tiga dimensi</a></li>
<li><a href="../id501214/index.html">Kelompokkan dengan agregasi dalam panda</a></li>
<li><a href="../id501220/index.html">Parsing: dapatkah perusahaan memiliki terlalu banyak uang?</a></li>
<li><a href="../id501222/index.html">Penerapan COBIT saat mengembangkan strategi TI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>