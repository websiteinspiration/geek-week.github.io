<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èèÔ∏è üë®üèæ üôãüèø Cheat sheet for SIMD instructions, now for .NET Core üåª üßòüèª üôÜüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It‚Äôs no secret to anyone that intrinsicists brought in. I wrote about this before they appeared and after . Plus still posts on Habr√©, for example thi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cheat sheet for SIMD instructions, now for .NET Core</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/507074/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It‚Äôs no secret to anyone that intrinsicists brought in. I wrote about this </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">before</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> they appeared and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">after</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Plus still posts on Habr√©, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for example this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . And everything, it would seem, is wonderful, if it weren‚Äôt for one ‚Äúbut‚Äù: these intrinsics are called in a subnet style, and not at all like in assembler or C ++. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Because of this, it is difficult to use a ready-made vectorized code simply by porting it from the pros. It will also be difficult with the adaptation of the answers and examples found on stackoverflow)) After all, for each call, you need to find a new name for it. And to do this is not so easy - if you look for the name of a positive intrinsic in MSDN, then there are only plus articles, and maybe somewhere at the very end what we need.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When I had to write SIMD code on the pros, I used a very good resource - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">officedaytime</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , where all the basic instructions for the x86 platform are briefly and clearly presented. </font><font style="vertical-align: inherit;">I decided that it would be nice to get such a cheat sheet for the net. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tf/br/ar/tfbrara8hzbygbnu4fohlasj3y4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, I won‚Äôt pour a lot of water, here is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this page adapted for netcore</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How it was generated</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviously, I did not sit and persistently ruled this table with my hands. Fortunately, for many (but not all) .NET Core methods, the corresponding intrinsic is written, as it is called in the pros. It‚Äôs also convenient that all these hints are generated in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML-Doc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in a file that lies next to the assembly: System.Runtime.Intrinsics.xml. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To work with HTML, I took the good old </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HtmlAgilityPack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which not only still works great, but is also actively supported. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intrinsics of creating vectors, as well as zeroing, brought a little inconvenience. For them, we had to add separate constants in the generator code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And also the shift instructions _mm_slli_si128 and _mm_srli_si128 for some reason are named differently in the subnet, I had to patch them too.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The generator code is available here </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://gist.github.com/.....82fadb1</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Thank you for your attention! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you find errors or inaccuracies, please report.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en507050/index.html">Analysis of the Hollow Knight game design. Part 1. Forgotten Crossroads</a></li>
<li><a href="../en507052/index.html">The coolest Data Scientist does not waste time on statistics</a></li>
<li><a href="../en507058/index.html">Joel Spolsky: Gamification Role in Stack Overflow Success</a></li>
<li><a href="../en507066/index.html">10 Ways to Automate Ads on Google Ads</a></li>
<li><a href="../en507068/index.html">Windows Management Instrumentation (WMI) Guide: Understanding WMI Attacks</a></li>
<li><a href="../en507078/index.html">The court ordered the media to remove someone else's article, and publish a refutation on the main Yandex</a></li>
<li><a href="../en507080/index.html">All Cups: The Story of a Great Ecosystem Design</a></li>
<li><a href="../en507084/index.html">SpatialChat parties became popular during the pandemic - and they are unlikely to end after cove</a></li>
<li><a href="../en507086/index.html">Convert Bash script to C # code to send SMS via usb modem HUAWEI E3372</a></li>
<li><a href="../en507090/index.html">How can a tech team build their startup, or the path from functional monitoring to the AIOps platform</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>