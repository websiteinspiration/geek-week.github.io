<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚶🏾 🏇🏼 🔘 大規模なPythonプロジェクトでの厳密なモジュールの使用：Instagramの経験。パート2 🎙️ 👩🏾 😃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instagram Pythonプロジェクトでモジュールを操作する機能に特化した資料の翻訳の第2部をご紹介します。翻訳の最初の部分では状況の概要を説明し、2つの問題を示しました。そのうちの1つはサーバーの起動が遅いこと、2つ目は安全でないインポートコマンドの副作用です。今日、この会話は続きます。もう...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>大規模なPythonプロジェクトでの厳密なモジュールの使用：Instagramの経験。パート2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/475242/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instagram Pythonプロジェクトでモジュールを操作する機能に特化した資料の翻訳の第2部をご紹介します。</font><font style="vertical-align: inherit;">翻訳</font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の部分では</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状況の概要を説明し、2つの問題を示しました。</font><font style="vertical-align: inherit;">そのうちの1つはサーバーの起動が遅いこと、2つ目は安全でないインポートコマンドの副作用です。</font><font style="vertical-align: inherit;">今日、この会話は続きます。</font><font style="vertical-align: inherit;">もう1つの迷惑を検討し、発生したすべての問題を解決するためのアプローチについて話します。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/nw/wv/sg/nwwvsgregexaj1ae6ds3gpfon-4.png"></a><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題＃3：変更可能なグローバルステータス</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
よくある間違いの別のカテゴリを見てみましょう。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">myview</span>(<span class="hljs-params">request</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;SomeClass.id = request.GET.get(<span class="hljs-string">"id"</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここではプレゼンテーション関数を使用しており、リクエストから受信したデータに基づいて属性を特定のクラスに関連付けます。あなたはおそらくすでに問題の本質を理解しています。実際、クラスはグローバルなシングルトーンです。そしてここでは、リクエストに応じて、状態の長いオブジェクトに入れます。完了するまでに長い時間がかかるWebサーバープロセスでは、このプロセスの一部として行われる将来のすべての要求が汚染される可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストでも同じことが簡単に起こります。特に、プログラマーが</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サルのパッチ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用しようとし</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コンテキストマネージャーを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用しない場合</font><font style="vertical-align: inherit;">-</font></font><code>mock.patch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これは、要求の汚染ではなく、同じプロセスで実行されるすべてのテストの汚染につながる可能性があります。これが、テストシステムの信頼性の低い動作の重大な理由です。これは重大な問題であり、これを防ぐことは非常に困難です。その結果、統合テストシステムを放棄し、「プロセスごとに1つのテスト」と表現できるテスト分離スキームに切り替えました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、これが3番目の問題です。</font><font style="vertical-align: inherit;">変更可能なグローバル状態は、Pythonに固有ではない現象です。</font><font style="vertical-align: inherit;">どこでも見つけることができます。</font><font style="vertical-align: inherit;">モジュールレベルで作成されたシングルトンオブジェクトについて、モジュールまたはクラスにアタッチされたクラス、モジュール、リスト、または辞書について話しています。</font><font style="vertical-align: inherit;">このような環境での作業には、規律が必要です。</font><font style="vertical-align: inherit;">プログラムの実行中にグローバル状態の汚染を防ぐには、Pythonに関する非常に優れた知識が必要です。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">厳格なモジュールの紹介</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの問題の根本的な原因の1つは、Pythonを使用して、この言語が設計されていないような問題を解決したことである可能性があります。</font><font style="vertical-align: inherit;">小さなチームや小さなプロジェクトでは、Pythonを使用するときにルールに従えば、この言語はうまく機能します。</font><font style="vertical-align: inherit;">そして、もっと厳密な言語に移行すべきです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、私たちのコードベースはすでに、少なくとも別の言語でそれを書き換える方法について話すことができるサイズを超えています。さらに重要なのは、私たちが直面するすべての問題にもかかわらず、Pythonはそれと多くのことを行っています。彼は私たちに悪いことより良いことを与えてくれます。私たちの開発者はこの言語を本当に気に入っています。その結果、Pythonを規模に応じて機能させる方法、およびプロジェクトの開発中にプロジェクトに引き続き対応できるようにする方法は、私たちにのみ依存します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの問題の解決策を見つけることは、私たちを1つのアイデアに導きました。厳密なモジュールを使用することにあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Strictモジュールは新しいタイプのPythonモジュールであり、最初に構造があります</font></font><code>__strict__ = True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それらは、Pythonがすでに持っている低レベルの拡張メカニズムの多くを使用して実装されます。</font><font style="vertical-align: inherit;">特別な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールローダー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、モジュールを使用してコードを解析し、</font></font><code>ast</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読み込まれたコードの抽象的な解釈を実行してコードを分析し、さまざまな変換をASTに適用し、組み込み関数を使用してASTをPythonバイトコードにコンパイルします</font></font><code>compile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インポートに副作用なし</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
厳密なモジュールは、モジュールレベルで発生する可能性のあるものにいくつかの制限を課します。したがって、すべてのモジュールレベルのコード（モジュールレベルで呼び出されるデコレーターと関数/初期化子を含む）はクリーンである必要があります。つまり、副作用がなく、I / Oメカニズムを使用しないコードです。これらの条件は、コンパイル時に静的コード分析の手段を使用して、抽象インタープリターによってチェックされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、strictモジュールを使用しても、インポート時に副作用が発生しないことを意味します。モジュールのインポート中に実行されるコードは、予期しない問題を引き起こすことはもうありません。 Pythonの大部分を理解するツールを使用して、抽象的な解釈のレベルでこれをチェックするため、Pythonの表現力を過度に制限する必要がなくなります。副作用のない多くのタイプの動的コードは、モジュールレベルで安全に使用できます。これには、さまざまなデコレータと、リストまたは辞書ジェネレータを使用したモジュールレベルの定数の定義が含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より明確にしましょう、例を考えてみましょう。正しく記述されたstrictモジュールは次のとおりです。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-string">"""Module docstring."""</span>
__strict__ = <span class="hljs-literal">True</span>
<span class="hljs-keyword">from</span> utils <span class="hljs-keyword">import</span> log_to_network<font></font>
MY_LIST = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<font></font>
MY_DICT = {x: x+<span class="hljs-number">1</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> MY_LIST}
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">log_calls</span>(<span class="hljs-params">func</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_wrapped</span>(<span class="hljs-params">*args, **kwargs</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log_to_network(<span class="hljs-string">f"<span class="hljs-subst">{func.__name__}</span> called!"</span>)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> func(*args, **kwargs)
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> _wrapped
<span class="hljs-meta">@log_calls</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello_world</span>():</span>
&nbsp;&nbsp;&nbsp;&nbsp;log_to_network(<span class="hljs-string">"Hello World!"</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このモジュールでは、動的コード、辞書の作成に使用されるもの、モジュールレベルのデコレータを記述するものなど、通常のPython構成を使用できます。同時に、機能でネットワークリソースにアクセスする</font></font><code>_wrapped</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">か、</font></font><code>hello_world</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全に正常です。実際には、それらはモジュールレベルでは呼び出されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、呼び出し</font></font><code>log_to_network</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を外部関数</font></font><code>log_calls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">移動した</font><font style="vertical-align: inherit;">場合、または（</font></font><code>@route</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前の例のように）</font><font style="vertical-align: inherit;">副作用を引き起こすデコレータを使用しようとした</font><font style="vertical-align: inherit;">場合、または</font></font><code>hello_world()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールレベルで</font><font style="vertical-align: inherit;">呼び出しを使用した場合は</font><font style="vertical-align: inherit;">、有効な厳密モジュールではなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どの機能を見つけるか、</font></font><code>log_to_network</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><code>route</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールレベルで呼び出すのは危険ですか？安全であることがわかっている標準ライブラリの一部の関数を除いて、厳密なモジュールではないモジュールからインポートされたものはすべて安全でないという前提から進みます。モジュール</font></font><code>utils</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がストリクトモジュールである</font><font style="vertical-align: inherit;">場合、モジュール</font><font style="vertical-align: inherit;">の分析に基づいて、関数が安全かどうかを通知できます</font></font><code>log_to_network</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードの信頼性が向上することに加えて、副作用のないインポートにより、安全なインクリメンタルコードダウンロードに対する深刻な障害が取り除かれます。これにより、インポートチームをスピードアップする方法を探る他の可能性が開かれます。モジュールレベルのコードに副作用がない場合、これは、モジュールの属性にアクセスするときに、要求に応じて個々のモジュール命令を「遅延」モードで安全に実行できることを意味します。これは、すべてのモジュールコードが事前に実行されるときに、「貪欲な」アルゴリズムに従うよりもはるかに優れています。また、strictモジュール内のすべてのクラスの形式はコンパイル時に完全にわかっているので、将来、コード実行によって生成されたモジュールメタデータ（クラス、関数、定数）の永続的なストレージを整理しようとする可能性もあります。これにより、変更されていないモジュールの迅速なインポートを整理できます。モジュールレベルのバイトコードを繰り返し実行する必要はありません。</font></font><br>
<br>
<h2><font color="#3AC1EF">   __slots__</font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらで宣言された厳密なモジュールとクラスは、作成された後は不変です。モジュールは、モジュール本体の関数への内部変換の助けを借りて不変になり、すべてのグローバル変数へのアクセスはクロージャー変数を介して編成されます。これらの変更により、グローバル状態のランダムな変更の可能性が大幅に減少しましたが、可変コンテナーレベルモジュールを通じて可変グローバル状態を使用する場合でも、可変グローバル状態を使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
strictモジュールで宣言されたクラスのメンバーは、でも宣言する必要があります</font></font><code>__init__</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これらは</font></font><code>__slots__</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、モジュールローダーによって実行されるAST変換中に</font><font style="vertical-align: inherit;">自動的に属性</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">書き込まれ</font><font style="vertical-align: inherit;">ます。その結果、後でクラスインスタンスに追加の属性をアタッチできなくなります。ここに同様のクラスがあります：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>:</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name, age</span>):</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.name = name<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.age = age</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
strict-modulesの処理中に実行されるAST変換中に、属性に値を割り当てる操作、</font></font><code>name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><code>age</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で実行さ</font><font style="vertical-align: inherit;">れる操作が検出され</font></font><code>__init__</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ビュー属性がクラスにアタッチされ</font></font><code>__slots__ = ('name', 'age')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。これにより、他の属性がクラスインスタンスに追加されなくなります。 （タイプアノテーションが使用される場合、クラスレベルで使用可能なタイプに関する情報（たとえば）が考慮され、</font></font><code>name: str</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スロットのリストに追加されます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
説明した制限により、コードの信頼性が向上するだけではありません。コードの実行を高速化するのに役立ちます。属性を追加したクラスの自動変換</font></font><code>__slots__</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらのクラスを操作するときのメモリ効率が向上します。</font><font style="vertical-align: inherit;">これにより、クラスの個々のインスタンスを操作するときに辞書検索を取り除き、属性へのアクセスを高速化できます。</font><font style="vertical-align: inherit;">さらに、Pythonコードの実行中にこれらのパターンを引き続き最適化できるため、システムをさらに改善できます。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
厳密なモジュールはまだ実験的な技術です。</font><font style="vertical-align: inherit;">実用的なプロトタイプがあり、本番環境でこれらの機能を展開する初期段階にあります。</font><font style="vertical-align: inherit;">strict-modulesの使用に関する十分な経験を積んだら、それらについてさらに説明できるようになることを願っています。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読者の皆様！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">厳密なモジュールによって提供される機能がPythonプロジェクトで役立つと思いますか？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/-o/2e/tu/-o2etuqogwhmdnmysb9_vivc9v4.png"></div></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja475226/index.html">Haxe Foundationでのインターンシップ</a></li>
<li><a href="../ja475228/index.html">給与フォーク。あなたはお母さんのためのプログラマーです</a></li>
<li><a href="../ja475236/index.html">二度と強化トレーニングを無視しないでください。</a></li>
<li><a href="../ja475238/index.html">ブレードランナータイムライン-2019年11月 予測は実現しましたか？</a></li>
<li><a href="../ja475240/index.html">大規模なPythonプロジェクトでの厳密なモジュールの使用：Instagramの経験。パート1</a></li>
<li><a href="../ja475244/index.html">知っておくべき予想される新しいJavaScript機能</a></li>
<li><a href="../ja475246/index.html">Python非同期プログラミング：概要</a></li>
<li><a href="../ja475248/index.html">クロスブラウザーアプリケーションを作成する際のポリフィルの使用</a></li>
<li><a href="../ja475250/index.html">RedashがPythonコードのパフォーマンス低下を引き起こす問題に気づき、修正したように</a></li>
<li><a href="../ja475252/index.html">マイクロソフトを批判する方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>