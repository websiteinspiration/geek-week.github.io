<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙏🏽 👩🏽‍🌾 🤸 Überwachung der MySQL-Leistung für Grafana auf isic in 20 Minuten 🛍️ 🤟🏿 👩🏻‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo, liebes Habryanin und ein weiteres Rezept für diese leckere und gesunde Überwachung! 
 
 Mein Name ist Mikhail Andrianov und ich arbeite seit 7 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Überwachung der MySQL-Leistung für Grafana auf isic in 20 Minuten</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499030/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo, liebes Habryanin und ein weiteres Rezept für diese leckere und gesunde Überwachung! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Name ist Mikhail Andrianov und ich arbeite seit 7 Jahren als technischer Direktor bei Emarsys. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir arbeiten oft mit Kunden und unseren Datenbanken zusammen, daher müssen wir sie oft beobachten, damit unsere Kunden und wir friedlich leben und arbeiten können.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und so entstand die Idee, Ihnen ein Rezept für die Bereitstellung eines Überwachungssystems mitzuteilen, das in der Welt von MySQL weit verbreitet ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So grob könnte diese Schönheit aussehen: </font></font><br>
<br>
<img src="http://suite16.emarsys.net/custloads/765018014/md_894868.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Dashboards sind bereits im Rezept enthalten, und Sie müssen sie nicht formen. </font><font style="vertical-align: inherit;">Tatsächlich müssen Sie nur alles richtig konfigurieren und kopfüber in die Welt der schicken Grafiken und Tabellen eintauchen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die Vorbereitung benötigen wir also: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL&gt; 5.6 (es ist möglich und jünger, aber Sie müssen etwas in den Abfragen </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
korrigieren </font><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Grafana&gt; 6.7.1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ubuntu / MS Windows nach Geschmack</font></font><br>
<br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bühne eins</font></font></h3><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir haben eine Datenbank zum Speichern von Protokollen eingerichtet.</font></font></b> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Als Grundlage für die Servicebasis habe ich einen bequemen und einfach zuzubereitenden </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my2Collector</font></font></a> </b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vom Meister der italienischen MeSql-Küche </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Meo</font></a><font style="vertical-align: inherit;"> hinzugefügt</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><br>
<br>
<pre><code class="bash hljs">mysql --user=root -pXXX &lt; my2.sql
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* Ich werde die Befehle meines geliebten Ubuntu 16 verwenden. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie können dem Benutzer keine my2-Administratorrechte erteilen. Es wird später angezeigt, dass es seitwärts zu Ihnen kommen kann.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn sich die Datenbank außerhalb des </font><i><font style="vertical-align: inherit;">Speicherauszugs</font></i><font style="vertical-align: inherit;"> befindet, sollten Sie sich mit den Verfahren vertraut machen, mit denen die darin enthaltenen Daten aktualisiert werden. </font><font style="vertical-align: inherit;">Insbesondere das Verfahren</font></font><br>
<br>
<pre><code class="plaintext hljs"> `collect_stats`()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist ratsam, die Häufigkeit der Anfrage auf 5 Minuten zu erhöhen. </font><font style="vertical-align: inherit;">Sie haben also relevantere Daten zum Status der Datenbank. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem die Statistiksammlungs-Engine ausgeführt wird, können Sie diese Quelle mit Grafana verbinden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufe zwei</font></font></h3><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir verbinden Grafana mit Protokollen mit der Datenbank.</font></font></b> <br>
<br>
<img src="https://suite16.emarsys.net/custloads/765018014/md_894879.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Alles ist Standard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL-Datenquelle</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Weiter ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
URL, Benutzer, Kennwort </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
** </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie können sehen, dass der Benutzer, den wir zum Sammeln von Protokollen und zum Einschränken des Zugriffs nur zum Lesen von performance.schema und zum Schreiben in die my2-Datenbank verwenden, dasselbe in verwendet Grafana </font><font style="vertical-align: inherit;">So können Sie vermeiden, Ihre Basis zu gefährden, wenn Sie den Zugriff auf Grafana verlieren.</font></font><br>
</i><br>
<br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufe drei</font></font></h3><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurieren von Dashboards</font></font></b> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ich habe bewusst die schnellste und bequemste Art der Konfiguration gewählt, um nicht geduldig zu sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenden Sie sich wieder an Meo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sein Dashboard heißt </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2MySQL Simple Dashboard.</font></font></a></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Die bequemste Möglichkeit, Dashboards in Grafana festzulegen, ist natürlich das Importieren des JSON-Einstellungsobjekts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So führen Sie diesen einfachen Schritt aus:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laden Sie </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">JSON</font></a><font style="vertical-align: inherit;"> selbst herunter</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gehen wir zur Verwaltung von Dashboards Dashaboards -&gt; Verwalten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wählen Sie Importieren und laden Sie das Objekt aus der heruntergeladenen Datei.</font></font></li>
</ol><br>
<img src="http://suite16.emarsys.net/custloads/765018014/md_894885.png" alt="Bild"><br>
<br>
<img src="http://suite16.emarsys.net/custloads/765018014/md_894886.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt haben wir ein fertiges schönes Panel mit sehr effizienten Datenvisualisierungen. </font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Flexibilität von Grafana ermöglicht es, jedes Panel bequem zu ändern, und die in 2MySQL Simple Dashboard integrierten Variablen helfen dabei, die Panels sofort an die Benutzer und Prozesse anzupassen, die am meisten daran interessiert sind, beispielsweise bestimmte Benutzer der Datenbank in separaten Panels oder Dashboards zu verfolgen. </font></font><br>
<br>
<img src="http://suite16.emarsys.net/custloads/765018014/md_894897.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der nächste Schritt besteht darin, Warnungen für das erstellte Dashboard einzurichten. </font><font style="vertical-align: inherit;">Ich werde diesen Prozess weglassen und es dem Ermessen aller überlassen, die sich entscheiden, den beschriebenen Weg zu gehen. </font><font style="vertical-align: inherit;">Alle Warnungen werden auf der Ebene der einzelnen Bereiche konfiguriert. </font></font><br>
<br>
<img src="http://suite16.emarsys.net/custloads/765018014/md_894898.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie versprochen erfolgt der Einsatz recht schnell und ohne mit einem Tamburin zu tanzen. </font><font style="vertical-align: inherit;">Ich werde gerne Ergänzungen zu meinem Rezept von erfahrenen habrovtsev hinzufügen, insbesondere in Bezug auf alerts'ov.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de499010/index.html">Wir untersuchen die Mediastreamer2 VoIP-Engine. Teil 11</a></li>
<li><a href="../de499014/index.html">23 schwierige Fragen für JavaScript-Interviews</a></li>
<li><a href="../de499016/index.html">Integration mit ESIA für .Net: einfacher als es sich anhört</a></li>
<li><a href="../de499018/index.html">6 Heimsport-Apps</a></li>
<li><a href="../de499020/index.html">Eine Studie über ein vages Verhalten</a></li>
<li><a href="../de499032/index.html">Verwendung von Prometheus zum Erkennen von Anomalien in GitLab</a></li>
<li><a href="../de499034/index.html">Wie kann man gefährliches Refactoring einführen, um mit einer Million Benutzern zu arbeiten?</a></li>
<li><a href="../de499036/index.html">Arbeit des Anbieters: eine Auswahl von Materialien zu Protokollen, IT und Netzwerkinfrastruktur</a></li>
<li><a href="../de499038/index.html">Meine Erfahrung mit einem vertikalen Monitor</a></li>
<li><a href="../de499040/index.html">Lesen Sie am Wochenende: Eine Auswahl von Materialien zur Geschichte von DNS, IT-Regulierung und Hardware 1cloud.ru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>