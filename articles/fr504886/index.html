<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶Ñ ü•í üé† Selenium WebDriver au service du d√©veloppeur üõèÔ∏è üà¥ üî∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="D√©codage du rapport de Dmitry Kostichev avec Backend-stories // Version vid√©o √† l'int√©rieur 
 
 Si vous avez soudainement besoin de vous int√©grer √† un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Selenium WebDriver au service du d√©veloppeur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alfa/blog/504886/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©codage du rapport de Dmitry Kostichev avec Backend-stories // Version vid√©o √† l'int√©rieur </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez soudainement besoin de vous int√©grer √† une ressource Internet tierce et n'avez pas le temps de le comprendre, Selenium viendra √† la rescousse. </font><font style="vertical-align: inherit;">Dmitry Kostichev a expliqu√© sur l'exemple de son projet comment automatiser le travail dans le navigateur sans quitter votre service.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bonjour tous le monde. Je m'appelle Dmitry et aujourd'hui je partagerai mon exp√©rience de l'utilisation de Selenium dans le d√©veloppement backend. √Ä quoi √ßa sert? Le s√©l√©nium est n√©cessaire pour automatiser l'interaction avec certaines ressources Internet, pour niveler les facteurs humains en remplissant certaines donn√©es, etc. Pour le d√©veloppement, cela peut √™tre n√©cessaire dans de tels cas lorsque, par exemple, il n'y a pas d'API sur la ressource Internet, etc. Et sur l'exemple de mon projet, la t√¢che consistait √† renseigner les donn√©es client (avant cela le service devait pr√©parer correctement toutes les informations) et les enregistrer sur ce site, en l'occurrence MasterCard.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/wd/pj/4c/wdpj4cshsqqjyvw3xc77kmq3bic.png"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s un examen plus approfondi de ce site, il a √©t√© r√©v√©l√© qu'il n'y a pas d'api auquel nous pouvons tendre la main et tout faire. Tout le traitement est effectu√© dans des scripts JS, dans lesquels rien n'est clair et les donn√©es sont toutes encod√©es. La d√©cision a √©t√© prise - pour essayer Selenium √† ces fins, c'est-√†-dire que nous allons attacher √† Selenium l'ensemble de notre service, qui proc√©dera √† cet enregistrement √† un moment pr√©cis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fin de compte, qu'est-ce que le s√©l√©nium et comment travailler avec lui? Le projet Selenium se compose d'une biblioth√®que qui communique avec l'interface du pilote Web pour un navigateur sp√©cifique. Une liste des biblioth√®ques et des navigateurs disponibles est affich√©e sur la diapositive. Et maintenant, je vais montrer comment cela fonctionne √† peu pr√®s sur mon projet. </font></font><br>
<br>
<i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regardez un screencast</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou une vid√©o d√©taill√©e √† la fin du post.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le service va maintenant g√©n√©rer un fichier, le t√©l√©charger imm√©diatement sur ce site et v√©rifier si tout a bien √©t√© enregistr√©. </font><font style="vertical-align: inherit;">Ici, en fait, il colle, charge et ainsi de suite. </font><font style="vertical-align: inherit;">Et maintenant, il va probablement sauter sur le fait que tout va r√©ussir. </font><font style="vertical-align: inherit;">L'automatisation est suffisamment rapide et ne n√©cessite aucune ressource importante. </font><font style="vertical-align: inherit;">Apparemment, tout √©tait parfaitement enregistr√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment cuisiner tout √ßa? </font><font style="vertical-align: inherit;">La biblioth√®que Selenium poss√®de des commandes de base telles que:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation d'un pilote Web d'instance pour un navigateur sp√©cifique;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liens clics;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Travailler avec des √©l√©ments: clics, etc.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le pilote Web vous permet de recevoir des sessions et des cookies comme dans un navigateur normal. Vous pouvez √©galement les modifier et les personnaliser vous-m√™me. Vous pouvez √©galement ex√©cuter des scripts js sur la page. Il existe une biblioth√®que qui √©tend cette fonctionnalit√© de Selenium lui-m√™me, appel√©e Selenide. Sa principale caract√©ristique est de masquer la cr√©ation de pilotes d'instance. Par exemple, nous voyons que nous appelons simplement la commande open, donnons une sorte de lien et que le navigateur d√©marre d√©j√†, il n'est pas n√©cessaire de configurer quoi que ce soit. Et la biblioth√®que √©largit le travail avec des √©l√©ments, quelques pr√©r√©glages suppl√©mentaires. Tout cela semble pratique, vous pouvez rapidement le comprendre et tout utiliser.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous travaillez avec des ressources en ligne, et finalement avec Selenium, il existe certains mod√®les de conception. Et l'un d'eux est les objets de page. Son essence r√©side dans le fait que nous d√©crivons tous ces √©l√©ments dans une certaine classe. Et puis nous pouvons le r√©utiliser et cela semble plus facile. Voici quelque chose comme ceci: nous appelons la commande open, donnons la classe des objets de page et ensuite nous pouvons utiliser toutes ses m√©thodes, par exemple, en travaillant avec des √©l√©ments. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ll/b9/t0/llb9t0lu5zz2xydy1uq96zqh7ig.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous recherchons des √©l√©ments par le mod√®le DOM de la page HTML par des s√©lecteurs tels que xpath, css et autres. Leurs principales diff√©rences, par exemple entre xpath et css, sont que le xpath peut aller ¬´en profondeur¬ª, ainsi que de haut en bas. Et css, au contraire, est seulement en panne. Autrement dit, ce sont les s√©lecteurs les plus utilis√©s.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/hn/ah/gvhnahxm1pi2zhrkaytqbmkxxvm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fin de compte, nous avons besoin directement d'un navigateur, que Selenoid peut nous aider directement. En substance, c'est un cadre qui contr√¥le la cr√©ation et la modification de ces conteneurs avec des navigateurs. Mais il est davantage con√ßu pour les syst√®mes charg√©s o√π ces navigateurs sont cr√©√©s en grand nombre. Et dans notre situation, ce n'est pas vraiment n√©cessaire, mais utilisez uniquement le conteneur lui-m√™me. Et maintenant, je vais montrer comment cela devrait d√©j√† fonctionner sur le serveur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, l'interaction de la page ressemble √† ceci, c'est un traitement de donn√©es assez lin√©aire. Dans ce cas, je me suis divis√© en √©tapes - transitions vers les pages. C'est l√† que les donn√©es sont remplies et, directement, t√©l√©charg√©es par fichiers. En principe, tout est assez simple. Voici √† quoi ressemble une classe pageobject, rappelant tout √† fait un DTO. Nous d√©crivons simplement les √©l√©ments, par exemple, ici dans le cas actuel de PCSS Selectum. Telle est la syntaxe de Selenide.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h4/kl/fw/h4klfwrq4elb5on7g9z5whhkfoa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que cela fonctionne, nous avons besoin d'une description du pilote distant pour se connecter au conteneur Docker. Les principaux param√®tres dont vous avez besoin pour y arriver sont le navigateur que nous utiliserons et, en fait, la r√©solution et d'autres lignes importantes pour le navigateur. Mais pour travailler avec le conteneur Docker, vous aurez √©galement besoin de param√®tres tels que le mode sans t√™te. Autrement dit, dans sa forme actuelle, il tournera sur le serveur. Ce mode d√©sactive les graphiques dans le navigateur, il fonctionnera donc plus rapidement et consommera moins de ressources.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, il n'y aura pas de Sandbox, qui est d√©sactiv√© par la s√©curit√© Chromium dans ce cas, et il sera possible d'ex√©cuter votre propre code, JS ou autre. Le troisi√®me param√®tre est n√©cessaire pour que Chromium fonctionne normalement sur les machines Unix, enregistre correctement les fichiers de tempo. Et le quatri√®me, en fait, est n√©cessaire pour que nous puissions t√©l√©charger des fichiers. Et surtout, le pilote distant a un indicateur qui vous permet de t√©l√©charger un fichier √† partir du stockage local o√π l'application s'ex√©cute, d√©j√† via le pilote Supprimer.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/on/-d/baon-d0gi-xpyg4yxwdb5vfkd-y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais maintenant montrer comment cela fonctionne avec le conteneur Docker. T√©l√©chargez le conteneur Docker et l'application elle-m√™me. Il sera √©galement lanc√© √† peu pr√®s de la m√™me mani√®re, c'est-√†-dire qu'il n'y aura en principe rien de nouveau. Seulement ici, nous verrons l'interaction dans une sorte de journaux. En principe, ils peuvent √©galement √™tre surveill√©s, travailler avec eux, etc. Par cons√©quent, vous pouvez comprendre l'interaction qui se produit. Il s'agit de la sortie du conteneur Docker avec Chromium directement o√π se trouve le navigateur.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nm/bi/cn/nmbicntdhkeijq7qcffa4c7r5fk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En principe, tout fonctionne parfaitement avec le conteneur docker. De plus, tout est v√©rifi√© et l'inscription est termin√©e avec succ√®s. De plus, quels probl√®mes g√©n√©raux pourraient √™tre rencontr√©s dans une telle approche? Je n'avais pas autant de probl√®me que l'ignorance. Les transferts de fichiers dans le conteneur Docker, comme d'habitude, font tout - la rotation du volume. Mais dans ce cas, si vous souhaitez toujours ex√©cuter localement, vous devez avoir deux configurations pour le projet, mais, comme il s'est av√©r√©, le pilote distant peut √™tre configur√© via l'indicateur. Il peut transf√©rer ce fichier directement par lui-m√™me, et aucun geste suppl√©mentaire n'est n√©cessaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devrez √©galement suivre la page avec laquelle nous travaillons - une ressource en ligne. </font><font style="vertical-align: inherit;">Parce que, dans mon cas, il s'agit d'un autre syst√®me, auquel personne n'a de relation avec mon √©quipe, et cela doit √©galement √™tre surveill√©, surveill√© par des journaux, etc. </font><font style="vertical-align: inherit;">Comme avec le navigateur, il est constamment mis √† jour, vous devez le surveiller, le support peut baisser. </font><font style="vertical-align: inherit;">Eh bien, en principe, vous pouvez en quelque sorte configurer les journaux et il n'y aura aucun probl√®me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fin de compte, √† quel point est-ce devenu plus facile? </font><font style="vertical-align: inherit;">Il m'a sembl√© que je pouvais r√©soudre le probl√®me d'interagir avec ce site beaucoup plus rapidement que si je connaissais le code js. </font><font style="vertical-align: inherit;">Autrement dit, pour comprendre le s√©l√©nium et l'interaction peut √™tre plus rapide qu'avec le fait que les donn√©es sont encod√©es et on ne sait pas comment les recoder. </font><font style="vertical-align: inherit;">L'essentiel est la vitesse de d√©veloppement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reportage vid√©o - √† partir de 16h30</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/VvAkcjimXK0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504866/index.html">Enqu√™te sur les incidents de s√©curit√© de l'information dans la nature: sources d'informations inattendues</a></li>
<li><a href="../fr504868/index.html">Passerelle Internet domestique. Configuration initiale d'un mini-ordinateur √† 6 ports sur Ubuntu Server 20.04 LTS</a></li>
<li><a href="../fr504878/index.html">109 cours gratuits en Data Science</a></li>
<li><a href="../fr504880/index.html">D√©veloppement, optimisation et sortie de jeux Synthety sur Unity</a></li>
<li><a href="../fr504884/index.html">P√©riph√©riques dangereux: comprendre Thunderspy</a></li>
<li><a href="../fr504888/index.html">"Calme, seulement calme!" ou moins de soucis</a></li>
<li><a href="../fr504890/index.html">Renvoyer la valeur de la commande d'invocation de powershell √† l'Agent SQL-Server</a></li>
<li><a href="../fr504894/index.html">GUI en russe, ou terminal VKS faites-le vous-m√™me</a></li>
<li><a href="../fr504902/index.html">Les 9 principales tendances des tests automatis√©s en 2020</a></li>
<li><a href="../fr504906/index.html">PHP - quelle est la niche du langage et PHP8 aidera-t-il √† r√©soudre les probl√®mes urgents (spoiler: IMHO pas)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>