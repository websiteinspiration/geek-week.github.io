<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶è ‚õπüèº üç∫ PCI Express dans les FPGA Intel s√©rie V: principes de base de l'interface et fonctionnalit√©s mat√©rielles essentielles ‚úãüèæ üê§ ü•Ñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="introduction
 L'interface PCI Express ou PCIe, famili√®re √† beaucoup, √©tait d√©j√† disponible pour les d√©veloppeurs de syst√®mes FPGA lorsqu'elle commen√ßa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PCI Express dans les FPGA Intel s√©rie V: principes de base de l'interface et fonctionnalit√©s mat√©rielles essentielles</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496702/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">introduction</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interface PCI Express ou PCIe, famili√®re √† beaucoup, √©tait d√©j√† disponible pour les d√©veloppeurs de syst√®mes FPGA lorsqu'elle commen√ßait √† peine √† se r√©pandre dans la technologie num√©rique. √Ä cette √©poque, il existait une solution dans laquelle le c≈ìur du logiciel √©tait connect√© √† un microcircuit de niveau physique externe [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]. Cela a permis de cr√©er une ligne PCIe √† une voie √† une vitesse de 2,5 gigatransactions par seconde. De plus, gr√¢ce au d√©veloppement des technologies, la couche physique de l'interface a migr√© vers les blocs mat√©riels PCIe √† l'int√©rieur des FPGA eux-m√™mes; le nombre de canaux possibles est pass√© √† 8, et dans un certain nombre de nouveaux microcircuits - √† 16; Suivant les normes modernes, les taux de transfert de donn√©es possibles ont augment√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le m√™me temps, il est toujours difficile de trouver des mat√©riaux auxiliaires sur l'utilisation des c≈ìurs mat√©riels des FPGA modernes dans des sources en langue russe; peu d'informations sont disponibles sur l'interface PCIe elle-m√™me. Le guide des c≈ìurs PCI Express mat√©riels implique que le d√©veloppeur s'est d√©j√† familiaris√© avec la norme et comprend les bases du transfert de donn√©es entre l'appareil et un ordinateur personnel (PC). Cependant, l'abondance d'informations dans la norme PCIe elle-m√™me ne pr√©cise pas imm√©diatement quelles mesures doivent √™tre prises pour r√©ussir le transfert des donn√©es de l'appareil vers la m√©moire du PC ou vice versa. Pour obtenir une image plus compl√®te, une partie consid√©rable des informations doit √™tre collect√©e petit √† petit aupr√®s de diverses sources. Pour les d√©veloppeurs de syst√®mes Intel FPGA, la difficult√© est √©galementque la plupart des mat√©riaux et articles disponibles d√©crivent le travail avec les c≈ìurs mat√©riels Xilinx FPGA.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, l'auteur va essayer de parler de ce que le concepteur de syst√®me FPGA doit savoir pour travailler avec l'interface PCI Express; </font><font style="vertical-align: inherit;">examinera les fonctionnalit√©s de travail avec les c≈ìurs mat√©riels FPGA PCI Express de la s√©rie V d'Intel dans la version Avalon-ST.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Niveaux PCIe et types de paquets</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgr√© le fait que PCI Express soit souvent appel√© bus, en fait, cette interface est un r√©seau de p√©riph√©riques connect√©s par des groupes de canaux duplex s√©rie. Le r√©seau PCI Express lui-m√™me se compose de plusieurs n≈ìuds principaux: la racine (Root), le point de terminaison (Endpoint) et le routeur (Switch) (Figure 1). Pour transf√©rer des donn√©es uniquement entre deux appareils, il suffit d'avoir une racine et un endpoint. Dans le cas des PC modernes, la racine du r√©seau est situ√©e sur un substrat avec les c≈ìurs du processeur central. Quel que soit l'emplacement de la racine PCIe, elle est associ√©e √† la m√©moire syst√®me. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_c/hp/8v/_chp8va2uvyrgrc_pt0irj-wnrk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 1 - R√©seau PCIe</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le protocole de transfert de donn√©es PCIe est divis√© en trois couches: la couche transactionnelle, la couche liaison de donn√©es et la couche physique. </font><font style="vertical-align: inherit;">Les donn√©es d'interface sont transmises sous forme de paquets. </font><font style="vertical-align: inherit;">Une vue g√©n√©ralis√©e des paquets est illustr√©e √† la figure 2. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pe/eg/sa/peegsa43-ji_l00myvwxe8kt6tg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 2 - Une vue g√©n√©ralis√©e des paquets PCIe</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Au niveau de la transaction, tout paquet (TLP) se compose d'au moins un en-t√™te. </font><font style="vertical-align: inherit;">Selon le type de package, l'en-t√™te peut √™tre suivi de donn√©es - le contenu utile du package. </font><font style="vertical-align: inherit;">Une somme de contr√¥le suppl√©mentaire peut √©galement √™tre ajout√©e √† la fin du package. </font><font style="vertical-align: inherit;">Il existe les principaux types de paquets de niveau transaction (tableau 1) suivants: </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 1 - Types de paquets de niveau transaction</font></font></i><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non. P.</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue du package</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nom du type d'emballage selon la sp√©cification</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande de lecture en m√©moire </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande de lecture en m√©moire</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande d'√©criture en m√©moire</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande d'√©criture en m√©moire</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande de lecture d'espace d'E / S</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande de lecture d'E / S</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande d'√©criture d'espace d'E / S</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande d'√©criture d'E / S</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lire la demande de configuration</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande de lecture de la configuration</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âcrire une demande de configuration</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demande d'√©criture de configuration</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©ponse de lecture</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ach√®vement</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Message</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Message</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au niveau de la couche liaison, un num√©ro de s√©quence de paquets et une somme de contr√¥le de liaison sont ajout√©s √† chaque paquet de niveau transaction. </font><font style="vertical-align: inherit;">La couche de liaison de donn√©es forme √©galement ses propres types de paquets (DLLP), qui incluent (tableau 2): </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 2 - Types de paquets de liaison de donn√©es</font></font></i><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non. P.</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue du package</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nom du type d'emballage selon la sp√©cification</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Confirmation du package de niveau transaction</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TLP Ack</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rejet du package au niveau des transactions</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TLP Nack</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion de l'alimentation</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion de l'alimentation</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contr√¥le du flux de donn√©es</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contr√¥le de flux</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, la couche physique compl√®te les paquets avec des symboles du d√©but et de la fin des paquets, qui sont emprunt√©s √† la norme IEEE 802.3. </font><font style="vertical-align: inherit;">Pour les paquets au niveau des transactions, les symboles K27.7 et K29.7 sont respectivement utilis√©s; </font><font style="vertical-align: inherit;">pour les paquets de liaison de donn√©es, les symboles K28.2 et K29.7. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'il travaille avec des c≈ìurs mat√©riels FPGA, le d√©veloppeur doit former uniquement des paquets de niveau transaction; </font><font style="vertical-align: inherit;">les paquets de canal et de couche physique sont form√©s par des blocs de noyau.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Routage de paquets au niveau des transactions</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au total, diff√©rents types de paquets peuvent arriver de l'exp√©diteur au destinataire de trois mani√®res:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">routage vers l'adresse; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Acheminement des identifiants</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> routage indirect.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La relation entre la m√©thode de routage et le type de paquet au niveau des transactions est pr√©sent√©e dans le tableau 3. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 3 - Correspondance de la m√©thode de routage et du type de paquet</font></font></i><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ññp</font></font></th>
<th> </th>
<th> </th>
</tr>
<tr>
<td>1</td>
<td>  </td>
<td>       . <br>
    I/O     I/O<br>
</td>
</tr>
<tr>
<td>2</td>
<td>  </td>
<td>     . <br>
    ID.<br>
  <br>
</td>
</tr>
<tr>
<td>3</td>
<td> </td>
<td>    ID</td>
</tr>
</tbody></table></div><br>
<h2>   .        </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque point d'extr√©mit√© a son propre espace de configuration, o√π se trouvent divers registres d'instructions et d'√©tat. Parmi eux se trouvent le registre d'adresses de base ou BAR. Lors de l'initialisation des points de terminaison, le BIOS ou le syst√®me d'exploitation analyse la BARRE des points de terminaison pour d√©terminer la quantit√© de m√©moire et d'espace requis pour chaque point de terminaison. Ensuite, dans chaque BAR active, l'adresse de d√©but de la partie allou√©e de la m√©moire syst√®me est √©crite. En cons√©quence, le point d'extr√©mit√© acquiert une adresse o√π les demandes appropri√©es peuvent √™tre envoy√©es. Habituellement, au point d'extr√©mit√©, une carte de registre est form√©e, qui est li√©e aux zones de m√©moire allou√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, chaque point de terminaison, ou plut√¥t le p√©riph√©rique logique √† l'int√©rieur, obtient son identifiant unique, qui se compose de trois parties: num√©ro de bus, num√©ro de p√©riph√©rique, num√©ro de p√©riph√©rique logique (fonction).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De cette fa√ßon, le syst√®me dispose de suffisamment d'informations pour communiquer avec le point de terminaison. Cependant, la transmission de donn√©es √† l'aide de requ√™tes dans le BAR a de mauvaises performances. Premi√®rement, pour une BAR de 32 bits de large, la longueur de requ√™te utilisable est limit√©e √† un double mot (DWORD); pour une BAR 64 bits, deux doubles mots. Deuxi√®mement, chaque demande intervient avec la participation du processeur central. Pour r√©duire la charge sur le processeur central et augmenter la taille de chaque package, il est n√©cessaire que le point de terminaison d√©place ind√©pendamment les donn√©es vers ou depuis la m√©moire syst√®me. Pour ce faire, le point de terminaison doit savoir √† quelles adresses de m√©moire syst√®me il peut √©crire ou lire des donn√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Compte tenu de ce qui pr√©c√®de, le sch√©ma g√©n√©ral de transfert de donn√©es entre le point d'extr√©mit√© et la m√©moire syst√®me peut √™tre repr√©sent√© comme suit:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le pilote de point final alloue des tampons dans la m√©moire syst√®me pour √©crire des donn√©es; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le pilote forme dans la m√©moire syst√®me un ensemble d'adresses et de tailles de tampon - des descripteurs de tampon pour √©crire des donn√©es;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le pilote de point d'extr√©mit√© √©crit l'adresse de l'ensemble de descripteurs dans les registres de p√©riph√©rique associ√©s aux zones BAR;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le pilote de point d'extr√©mit√© programme des registres de contr√¥le de transfert de donn√©es associ√©s aux zones BAR; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le point d'extr√©mit√© envoie une demande de lecture de la m√©moire syst√®me pour obtenir un ensemble de descripteurs pour l'√©criture dans la m√©moire syst√®me;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le point d'extr√©mit√© envoie des demandes d'√©criture √† la m√©moire syst√®me et remplit les tampons de stockage;</font></font></li>
<li>      /   ,    ,        ,  ;</li>
<li>                   PCIe. </li>
</ol><br>
<h2>   </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au stade o√π le pilote configure les registres de point d'extr√©mit√©, selon le type d'espace d'adressage associ√© au BAR, le point d'extr√©mit√© recevra une demande d'√©criture dans la m√©moire (figure 3) ou une demande d'√©criture dans l'espace d'E / S. Si le pilote lit un registre pendant la configuration du registre, le point d'extr√©mit√© re√ßoit √©galement les demandes de lecture correspondantes (figure 4). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w0/_e/5o/w0_e5oqkd6yfw7uyv9vewkmokw4.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 3 - Exemple d'une demande d'√©criture dans la m√©moire 1 DW de long </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ca/by/yk/cabyyk_ju4inqbsdevo3b-z3pma.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 4 - Exemple d'une demande de lecture dans la m√©moire 1 DW de long</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contrairement aux demandes d'√©criture ou de lecture, les demandes d'E / S ont un certain nombre de limitations. Tout d'abord, les demandes d'√©criture et de lecture n√©cessitent une r√©ponse du destinataire. Cela conduit au fait que le taux de transfert de donn√©es utilisant les requ√™tes vers l'espace d'E / S devient beaucoup plus faible que la bande passante PCIe th√©orique ne le permet. Deuxi√®mement, l'adresse des demandes d'espace d'E / S est limit√©e √† 32 bits, ce qui ne permet pas d'acc√©der √† des fragments de m√©moire syst√®me au-del√† de 4 Go. Troisi√®mement, les demandes d'espace d'E / S ne peuvent pas d√©passer un double mot et ne peuvent pas utiliser plusieurs canaux virtuels pour le transport. Pour ces raisons, les demandes d'√©criture et de lecture dans l'espace d'E / S ne seront plus prises en compte. Toutefois,le contenu des en-t√™tes pour la m√©moire d'√©criture / lecture et l'espace d'E / S ne diff√®re que dans un certain nombre de champs, par cons√©quent, les structures de paquets illustr√©es sur les figures 3, 4 sont √©galement applicables aux demandes dans l'espace d'E / S.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'un noeud final ou une racine PCIe re√ßoit une demande de lecture de m√©moire ou d'espace d'E / S, le p√©riph√©rique doit envoyer une r√©ponse. Si l'exp√©diteur de la demande ne re√ßoit pas de r√©ponse dans un certain d√©lai, cela entra√Ænera une erreur dans l'attente d'une r√©ponse. Si, pour une raison quelconque, l'appareil ne peut pas envoyer les donn√©es demand√©es, il doit g√©n√©rer une r√©ponse d'erreur. Les raisons possibles peuvent √™tre: le destinataire ne prend pas en charge cette demande (demande non prise en charge); le destinataire n'est pas pr√™t √† accepter la demande de configuration et demande de la r√©p√©ter plus tard (√©tat de nouvelle tentative de la demande de configuration), une erreur interne s'est produite, √† cause de laquelle le destinataire ne peut pas r√©pondre et rejette la demande (abandon du compteur). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les formats pour une r√©ponse r√©ussie √† une demande de lecture et une r√©ponse d'erreur pour une demande non prise en charge sont illustr√©s dans les figures 5, 6.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gp/pl/y4/gpply4dawc8olvy6iyeipyeraos.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 5 - Exemple de r√©ponse r√©ussie √† la lecture </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/3s/uw/bv/3suwbvjqkiqpoaogl9ewbnbixjq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 6‚Äî Exemple de r√©ponse concernant une demande non prise en charge</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pendant que le point d'extr√©mit√© acc√®de √† une zone de m√©moire de 4 Go, le format des en-t√™tes de paquet ne diff√®re pas des en-t√™tes illustr√©s dans les figures 3, 4. Pour les demandes d'√©criture ou en lisant la m√©moire au-del√† de 4 Go, un double mot suppl√©mentaire avec des bits de poids fort de l'adresse de destination est utilis√© dans l'en-t√™te (figure 7). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rr/1o/w6/rr1ow6yxljdhqffy9gguw6v-3os.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 7 - Exemple d'en-t√™te de demande d'√©criture de 128 octets. Des</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
explications des noms abr√©g√©s des champs d'en-t√™te de paquet sont pr√©sent√©es dans le tableau 4. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 4 - Liste des abr√©viations des champs d'en-t√™te</font></font></i><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non. P.</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©signation du champ</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nom de domaine</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendez-vous</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TC</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cat√©gorie de trafic - Classe de trafic</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©finit l'appartenance √† un canal virtuel</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atr</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les attributs</font></font></td>
<td>   : , ,    ID,       ID.</td>
</tr>
<tr>
<td>3</td>
<td>TH</td>
<td>    ‚Äí TLP Processing Hint</td>
<td>,         [1..0]      .</td>
</tr>
<tr>
<td>4</td>
<td>TD</td>
<td>       ‚Äí TLP Digest</td>
<td>,          .</td>
</tr>
<tr>
<td>5</td>
<td>EP</td>
<td>    </td>
<td>,      .</td>
</tr>
<tr>
<td>6</td>
<td>AT</td>
<td>  ‚Äí Address Translation</td>
<td>,     :   ,  ,  </td>
</tr>
<tr>
<td>7</td>
<td>BE</td>
<td>        ‚Äí Byte Enable</td>
<td>         </td>
</tr>
<tr>
<td>8</td>
<td>PH</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce de traitement des paquets - Astuce de traitement</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indique au destinataire du package comment le package doit √™tre utilis√©, ainsi que la structure des donn√©es</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BCM</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La pr√©sence d'un changement dans le nombre d'octets</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indique si le nombre d'octets dans le paquet a chang√©. </font><font style="vertical-align: inherit;">Seul un exp√©diteur face √† un p√©riph√©rique PCI-X peut d√©finir un indicateur</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si un point de terminaison utilise des interruptions pour signaler un √©v√©nement, il doit √©galement former un paquet appropri√©. </font><font style="vertical-align: inherit;">Au total, PCIe peut utiliser trois types d'interruptions:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interruptions h√©rit√©es (interruptions h√©rit√©es ou INT);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les interruptions sous forme de messages (Message Signaled Interrupts ou MSI);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interruptions de message √©tendues (Message Signaled Interrupts Extended ou MSI-X).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les interruptions INT h√©rit√©es sont utilis√©es pour assurer la compatibilit√© avec les syst√®mes qui ne prennent pas en charge les interruptions de message. En fait, ce type d'interruption est un message (un paquet de type Message) qui simule le fonctionnement d'une ligne d'interruption physique. Lors d'un √©v√©nement sp√©cifi√©, le point de terminaison envoie un message √† la racine PCIe indiquant que l'interruption INT a √©t√© activ√©e, puis attend une action du gestionnaire d'interruption. Jusqu'√† ce que le gestionnaire d'interruption effectue l'action sp√©cifi√©e, l'interruption INT est √† l'√©tat activ√©. Les interruptions h√©rit√©es ne vous permettent pas de d√©terminer la source de l'√©v√©nement, ce qui force le gestionnaire d'interruptions √† analyser s√©quentiellement tous les points de terminaison de l'arborescence PCIe pour traiter cette interruption. Lorsque l'interruption est r√©par√©e, le point d'extr√©mit√© envoie un message indiquant queque l'interruption INT est plus inactive. Les c≈ìurs mat√©riels FPGA, sur un signal provenant de la logique utilisateur, g√©n√®rent ind√©pendamment les messages n√©cessaires pour les interruptions INT, de sorte que la structure du paquet ne sera pas prise en compte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les interruptions de message ainsi que leur version √©tendue sont le type d'interruption principal et obligatoire dans PCIe. Les deux types d'interruptions sont en fait une demande d'√©criture dans la m√©moire syst√®me d'une longueur d'un double mot. La diff√©rence par rapport √† une demande r√©guli√®re est que l'adresse d'enregistrement et le contenu du package sont allou√©s pour chaque p√©riph√©rique au stade de la configuration du syst√®me. Dans ce cas, le contr√¥leur d'interruption programmable local avanc√© (LAPIC) √† l'int√©rieur du processeur central devient la destination. Lorsque vous utilisez ce type d'interruption, il n'est pas n√©cessaire d'interroger s√©quentiellement tous les p√©riph√©riques de l'arborescence PCIe. De plus, si le syst√®me permet au dispositif d'utiliser plusieurs vecteurs d'interruption, chaque vecteur peut √™tre associ√© √† son propre √©v√©nement.Ensemble, cela r√©duit le temps processeur pour le traitement des interruptions et augmente les performances globales du syst√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les interruptions MSI permettent la formation de jusqu'√† 32 vecteurs distincts. Le nombre exact d√©pend des capacit√©s du point de terminaison. Dans ce cas, le syst√®me peut autoriser l'utilisation d'une partie seulement des vecteurs. Au stade de la configuration, le syst√®me √©crit l'adresse d'interruption et les donn√©es initiales pour l'√©criture dans les registres sp√©ciaux de l'espace de configuration du noeud final. Toutes les interruptions actives utilisent la m√™me adresse. Mais pour chaque vecteur, le point final modifie les bits des donn√©es initiales. Par exemple, laissez un point de terminaison prendre en charge un maximum de 4 vecteurs d'interruption, les 4 vecteurs sont autoris√©s dans le syst√®me et les donn√©es initiales pour l'√©criture sont 0x4970. Ensuite, pour former le premier vecteur, le point final transmet les donn√©es initiales inchang√©es. Pour le deuxi√®me vecteur, l'appareil modifie le premier bit et transmet le num√©ro 0x4971.Pour les troisi√®me et quatri√®me vecteurs, l'appareil transmettra les nombres 0x4972 et 0x4973, respectivement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les c≈ìurs mat√©riels FPGA forment ind√©pendamment un paquet avec une interruption MSI par un signal de la logique utilisateur. Cependant, avant de commander au noyau d'envoyer une interruption, la logique utilisateur doit √©galement fournir le contenu du paquet pour le vecteur requis √† une interface sp√©ciale du noyau.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les interruptions MSI-X permettent la formation de jusqu'√† 2048 vecteurs individuels. Dans les registres correspondants de l'espace de configuration, le point de terminaison indique dans quels espaces d'adresse BAR et avec quel d√©calage par rapport √† l'adresse de base la table d'interruption (figure 8) et la table des drapeaux d'interruption en attente (Pending Bit Array - PBA, figure 9) sont situ√©es, ainsi que la taille des deux. les tables. Le syst√®me √©crit une adresse et des donn√©es distinctes pour l'√©criture sur chaque ligne de la table d'interruption, et autorise ou interdit √©galement l'utilisation d'un vecteur sp√©cifique via le premier bit du champ Contr√¥le vectoriel. Pour un √©v√©nement donn√©, le point d'extr√©mit√© d√©finit un indicateur dans la table d'indicateurs des interruptions en attente. Si aucun masque n'est d√©fini pour cette interruption dans le champ Contr√¥le vectoriel, le point d'extr√©mit√© envoie une interruption √† l'adresse de la table d'interruption avec le contenu sp√©cifi√© du paquet.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zl/6q/el/zl6qelezf6aixg5qjw-rbeotwkc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 8 - Tableau des vecteurs d'interruption MSI-X </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/q8/ms/as/q8msasscf-ytecdpefn-ohdjc1q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 9 - Tableau des drapeaux pour les interruptions en attente Les</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
c≈ìurs mat√©riels FPGA n'ont pas d'interface sp√©cialis√©e pour les interruptions MSI-X. </font><font style="vertical-align: inherit;">Le d√©veloppeur lui-m√™me doit cr√©er une table d'interruptions dans la logique utilisateur et une table d'indicateurs d'interruptions en attente. </font><font style="vertical-align: inherit;">Un package d'interruption est √©galement enti√®rement g√©n√©r√© par l'utilisateur et transmis via l'interface g√©n√©rale du noyau avec d'autres types de packages. </font><font style="vertical-align: inherit;">Le format de paquet dans ce cas, comme d√©j√† mentionn√© ci-dessus, correspond √† une demande d'√©criture dans la m√©moire syst√®me d'une longueur d'un double mot.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caract√©ristiques des c≈ìurs mat√©riels PCI Express FPGA V-series d'Intel dans la version Avalon-ST</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgr√© le fait que les c≈ìurs mat√©riels des FPGA PCI Express de diff√©rents fabricants impl√©mentent des fonctionnalit√©s similaires, les interfaces des c≈ìurs individuels ou l'ordre de leur fonctionnement peuvent diff√©rer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les c≈ìurs mat√©riels FPGA Intel V-Series PCI Express sont disponibles en deux versions: avec Avalon-MM et Avalon-ST. Ce dernier, bien qu'il n√©cessite plus d'efforts de la part du d√©veloppeur, vous permet d'obtenir le plus de bande passante. Pour cette raison, un noyau avec une interface Avalon-MM ne sera pas consid√©r√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La documentation de base PCI Express avec l'interface Avalon-ST d√©crit de mani√®re suffisamment d√©taill√©e les param√®tres du noyau, les signaux d'entr√©e et de sortie. Cependant, le noyau a un certain nombre de fonctionnalit√©s auxquelles un d√©veloppeur doit pr√™ter attention.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier groupe de fonctionnalit√©s concerne les m√©thodes qui vous permettent de configurer les FPGA dans un d√©lai de 100 ms selon les exigences PCIe. En plus du chargement parall√®le du type FPP, le d√©veloppeur se voit proposer des m√©thodes telles que la configuration via le protocole (CvP) et le mode autonome du noyau (mode autonome). Le d√©veloppeur doit s'assurer que la configuration via le protocole ou le mode noyau autonome est prise en charge pour la vitesse PCIe s√©lectionn√©e (param√®tre ¬´Lane Rate¬ª). Pour la configuration via le protocole, les informations pertinentes peuvent √™tre trouv√©es dans la documentation du noyau. Dans le cas du mode hors ligne, il n'y a pas de telles informations, vous devez donc compiler le projet. Si le mode noyau autonome n'est pas pris en charge pour la vitesse actuelle du noyau, Quartus g√©n√©rera une erreur correspondante (figure 10).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xj/hy/ok/xjhyokbx1mvolf2dweiawoytyzk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 10 - Erreur lors de la compilation d'un noyau PCIe pour le mode hors ligne</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si un d√©veloppeur pr√©voit d'utiliser la configuration via un protocole, il doit √©galement faire attention au noyau FPGA auquel le connecteur PCIe est connect√©. Cela est particuli√®rement vrai si le d√©veloppeur n'utilise pas une carte finie, mais son propre appareil. Dans les FPGA avec plusieurs c≈ìurs mat√©riels PCIe, un seul c≈ìur permet d'activer le CvP. L'emplacement du noyau avec prise en charge CvP est indiqu√© dans la documentation FPGA. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le deuxi√®me groupe de fonctionnalit√©s concerne l'interface de transfert de donn√©es Avalon-ST elle-m√™me. C'est cette interface qui est utilis√©e pour transf√©rer des paquets de niveau transaction entre la logique utilisateur et le noyau.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√¥t√© r√©ception, le noyau a deux signaux qui permettent √† l'utilisateur de suspendre la r√©ception des paquets re√ßus: le signal rx_st_mask et le signal rx_st_ready. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant le signal rx_st_ready, le d√©veloppeur peut suspendre la sortie de tous les types de paquets. Cependant, si vous activez ce signal, le noyau arr√™tera la sortie des paquets apr√®s seulement deux cycles d'horloge de la fr√©quence de fonctionnement. Par cons√©quent, lors de l'activation du signal, la logique utilisateur doit √™tre pr√™te √† recevoir une quantit√© suppl√©mentaire de donn√©es. Si, par exemple, un d√©veloppeur utilise un tampon sous forme de FIFO, il doit √©viter les d√©bordements de tampon. Sinon, une partie du contenu du package sera perdue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A l'aide du signal "rx_st_mask", le d√©veloppeur suspend l'√©mission de requ√™tes pour lesquelles des r√©ponses doivent √™tre envoy√©es. Ce signal n'arr√™te pas non plus imm√©diatement la sortie des paquets. Selon la documentation, apr√®s avoir activ√© le signal, le noyau peut √©mettre jusqu'√† 10 requ√™tes. Si la logique utilisateur active "rx_st_mask" et qu'il n'y a pas assez d'espace dans le tampon pour traiter les paquets re√ßus, cela peut √©galement activer le signal "rx_st_ready". Dans cette situation, la logique utilisateur arr√™te de lire tous les paquets du tampon du noyau mat√©riel interne. Cela d√©passe non seulement les tampons du noyau mat√©riel, mais viole √©galement les exigences de l'ordre des paquets. L'appareil doit ignorer les demandes qui ne n√©cessitent pas de r√©ponse et lire les r√©ponses. Sinon, le canal de donn√©es sera √©troitement bloqu√©.Pour cette raison, le d√©veloppeur doit utiliser un tampon suppl√©mentaire pour traiter les demandes avec des r√©ponses et ne pas autoriser la logique √† bloquer les paquets de priorit√© sup√©rieure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du c√¥t√© √©mission, les signaux tx_st_valid et tx_st_ready peuvent causer des probl√®mes. Si le signal tx_st_ready est actif, il est interdit √† la logique utilisateur de r√©initialiser le tx_st_valid au milieu du paquet sortant. Cela signifie que lors du transfert, le d√©veloppeur doit fournir l'int√©gralit√© du contenu du package. Si la source de donn√©es est plus lente que l'interface du noyau, la logique utilisateur doit accumuler la quantit√© de donn√©es requise avant le d√©marrage du package. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du c√¥t√© de la r√©ception et du c√¥t√© de la transmission, le d√©veloppeur doit pr√™ter attention √† l'ordre des octets dans l'en-t√™te et au contenu du paquet, ainsi qu'√† l'alignement des donn√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le paquet Avalon-ST du noyau mat√©riel, dans chaque double mot √† l'int√©rieur de l'en-t√™te du paquet PCIe, les octets suivent de bas en haut; √† l'int√©rieur du contenu de l'emballage - du plus vieux au plus jeune. Le d√©veloppeur doit utiliser un ordre similaire dans les paquets sortants pour r√©ussir le transfert des donn√©es du point de terminaison vers la racine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interface Avalon-ST du noyau mat√©riel aligne les donn√©es en multiples de 64 bits. Selon la largeur de l'interface Avalon-ST, la longueur de l'en-t√™te de paquet au niveau de la transaction et l'adresse du paquet, le noyau peut ajouter un double mot vide entre l'en-t√™te de paquet et son contenu. √Ä son tour, lors de la transmission de donn√©es, la logique utilisateur doit ajouter un double mot vide √† l'avance, par analogie avec le noyau. Ce double mot vide n'est pas pris en compte dans la longueur du paquet et n'est n√©cessaire que pour le bon fonctionnement du noyau mat√©riel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fonctionnalit√© suivante est li√©e aux r√©ponses de lecture entrantes. La description du noyau indique qu'il ne manque pas de r√©ponses entrantes dont l'identifiant ne correspond pas √† la demande sortante. Dans le m√™me temps, la logique utilisateur doit suivre le temps d'attente pour les r√©ponses. Si le temps d'attente est d√©pass√©, la logique utilisateur doit lever le drapeau "cpl_err [0]" ou "cpl_err [1]". La documentation ne pr√©cise pas comment le filtrage fonctionnera lorsque le point de terminaison envoie plusieurs demandes de lecture. La logique utilisateur indique uniquement au noyau que le d√©lai d'expiration a expir√© pour l'une des demandes, mais ne peut pas transmettre l'identifiant de cette demande au noyau. Il est possible que le noyau transmette au c√¥t√© utilisateur des r√©ponses pour une demande avec un d√©lai expir√©. Par cons√©quent, le d√©veloppeur doit cr√©er son propre filtre pour les r√©ponses entrantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, les d√©veloppeurs sont fortement encourag√©s √† utiliser les informations sur les pr√™ts disponibles pour les packages sortants. </font><font style="vertical-align: inherit;">La documentation de base indique que ce n'est pas n√©cessaire, car le noyau v√©rifie les pr√™ts et bloque les paquets lorsqu'il n'y a pas assez de pr√™ts. </font><font style="vertical-align: inherit;">Cependant, tous les types de packages arrivent au noyau via une seule interface. </font><font style="vertical-align: inherit;">Si le tampon de paquets du noyau d√©borde, le noyau abaisse le signal tx_st_ready √† z√©ro. </font><font style="vertical-align: inherit;">Tant que le signal tx_st_ready n'est pas mis √† un, la logique utilisateur, en principe, ne peut envoyer aucun paquet. </font><font style="vertical-align: inherit;">Le nombre de pr√™ts disponibles est mis √† jour via des packages √† partir d'un appareil partenaire. </font><font style="vertical-align: inherit;">Si la logique de l'utilisateur non seulement √©crit souvent, mais lit √©galement, la vitesse √† laquelle le noyau met √† jour les compteurs de limites diminue. </font><font style="vertical-align: inherit;">Au final, les performances globales du syst√®me en souffrent.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'article d√©crit les principes g√©n√©raux du transfert de donn√©es via PCI Express, les formats des principaux paquets de donn√©es. </font><font style="vertical-align: inherit;">N√©anmoins, l'auteur a omis des composants d'interface tels que les canaux virtuels, le contr√¥le du volume des r√©ponses entrantes √† lire et l'ordre des paquets n'est pas strict. </font><font style="vertical-align: inherit;">Ces sujets sont discut√©s en d√©tail dans un certain nombre de sources √©trang√®res [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'article comprend √©galement les fonctionnalit√©s des c≈ìurs mat√©riels FPGA FPGA Intel Express s√©rie V que l'auteur a rencontr√©s lors de l'utilisation du contr√¥leur d'interface. </font><font style="vertical-align: inherit;">Cette exp√©rience peut √™tre utile √† d'autres d√©veloppeurs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste des sources utilis√©es</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une architecture PCIe DMA pour la transmission de donn√©es multi-gigaoctets par seconde / L. Rota, M. Caselle, et. </font><font style="vertical-align: inherit;">Al. </font><font style="vertical-align: inherit;">// TRANSACTIONS DE L'IEEE SUR LA SCIENCE NUCL√âAIRE, VOL. </font><font style="vertical-align: inherit;">62, NO. </font><font style="vertical-align: inherit;">3, juin 2015.</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">An Efficient and Flexible Host-FPGA PCIe Communication Library / Jian Gong, Tao Wang, Jiahua Chen et. al. // 2014 24th International Conference on Field Programmable Logic and Applications.</a></li>
<li>Design and Implementation of a High-Speed Data Acquisition Card Based on PCIe Bus / Li Mu-guo, Huang Ying, Liu Yu-zhi // „ÄäÊµãÊéßÊäÄÊúØ„Äã2013Âπ¥Á¨¨32Âç∑Á¨¨7Êúü„ÄÇ</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Down to the TLP: How PCI express devices talk (Part I) / Eli Billauer</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Low-Cost FPGA Solution for PCI Express Implementation / Intel Corporation.</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Managing Receive-Buffer Space for Inbound Completions / Xilinx // Virtex-7 FPGA Gen3 Integrated Block for PCI Express v4.3, Appendix B</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">PCIe Completion Timeout / Altera Forum</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">PCIe packet in cyclone VI GX / Altera Forum</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">PCIe simple transaction / Altera Forum</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">PCIe w/ Avalon ST: Equivalent of ko_cpl_spc_vc0? / Altera Forum</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Point me in the right Direction ‚Äì PCIe / Altera Forum</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demander des d√©lais dans le forum PCIE / Altera</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La conception d'interface haute vitesse bas√©e sur PCIe de la plate-forme de v√©rification des r√©cepteurs non coop√©ratifs / Li Xiao-ning, Yao Yuan-cheng et Qin Ming-wei // Conf√©rence internationale de 2016 sur la m√©canique, le contr√¥le, l'√©lectricit√©, la m√©catronique, l'information et l'ordinateur</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PCI Express Base Specification Revision 3.0 / PCI-SIG</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interface Stratix V Avalon-ST pour les solutions PCIe / Intel Corporation </font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interface Cyclone V Avalon-ST pour les solutions PCIe / Intel Corporation</font></font></a></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr496680/index.html">Industrie 4.1: propri√©t√© des robots, r√©seaux de neurones et mon√©tisation open source</a></li>
<li><a href="../fr496682/index.html">Comment rester professionnel en demande</a></li>
<li><a href="../fr496686/index.html">Comment les syst√®mes d'analyse du trafic d√©tectent les tactiques des pirates par MITRE ATT & CK, partie 4</a></li>
<li><a href="../fr496690/index.html">Technologies de contr√¥le des coronavirus</a></li>
<li><a href="../fr496692/index.html"># 06 - Et un octet entier ne suffit pas ... | Temps plat</a></li>
<li><a href="../fr496704/index.html">PCB de la fus√©e Saturn-5 - reverse engineering avec explications</a></li>
<li><a href="../fr496706/index.html">Lecture en fin de semaine: histoire des formats audio - L'√¢ge des cassettes et le d√©veloppement des technologies de synth√®se vocale</a></li>
<li><a href="../fr496708/index.html">Canon spatial, fus√©e √† vapeur et miroir orbital</a></li>
<li><a href="../fr496710/index.html">Informations informatiques: simples et rapides</a></li>
<li><a href="../fr496712/index.html">Une fois √† un pentest, ou Comment tout casser avec l'aide d'un urologue et de Roskomnadzor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>