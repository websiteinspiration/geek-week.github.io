<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¯ ğŸ˜— ğŸ•¡ ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆåˆ†æã€‚ãƒ‘ãƒ¼ãƒˆ3 ğŸš¾ ğŸ• ğŸ‘²ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å‰æ›¸ã
 PyWaveletsãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆMITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸç„¡æ–™ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼‰ã‚’ä½¿ç”¨ã—ã¦CWTåˆ†æã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã€çµæœã®è¦–è¦šåŒ–ã«å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚é–‹ç™ºè€…ãŒææ¡ˆã—ãŸå¯è¦–åŒ–ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ¬¡ã®ãƒªã‚¹ãƒˆã«ç¤ºã—ã¾ã™ã€‚
 
 ä¸Šå ´

 import pywt import nump...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆåˆ†æã€‚ãƒ‘ãƒ¼ãƒˆ3</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454240/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‰æ›¸ã</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PyWaveletsãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆMITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸç„¡æ–™ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼‰ã‚’ä½¿ç”¨ã—ã¦CWTåˆ†æã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã€çµæœã®è¦–è¦šåŒ–ã«å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">é–‹ç™ºè€…ãŒææ¡ˆã—ãŸ</font><font style="vertical-align: inherit;">å¯è¦–åŒ–</font><font style="vertical-align: inherit;">ãƒ†ã‚¹ãƒˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã®ãƒªã‚¹ãƒˆã«ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"> <span class="hljs-keyword">import</span> pywt
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<font></font>
t = np.linspace(<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">200</span>, endpoint=<span class="hljs-literal">False</span>)<font></font>
sig  = np.cos(<span class="hljs-number">2</span> * np.pi * <span class="hljs-number">7</span> * t) + np.real(np.exp(<span class="hljs-number">-7</span>*(t<span class="hljs-number">-0.4</span>)**<span class="hljs-number">2</span>)*np.exp(<span class="hljs-number">1j</span>*<span class="hljs-number">2</span>*np.pi*<span class="hljs-number">2</span>*(t<span class="hljs-number">-0.4</span>)))<font></font>
widths = np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">31</span>)<font></font>
cwtmatr, freqs = pywt.cwt(sig, widths, <span class="hljs-string">'cmor1-1.5'</span>)<font></font>
plt.imshow(cwtmatr, extent=[<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>], cmap=<span class="hljs-string">'PRGn'</span>, aspect=<span class="hljs-string">'auto'</span>,<font></font>
             vmax=abs(cwtmatr).max(), vmin=-abs(cwtmatr).max())  <span class="hljs-comment"># doctest: +SKIP</span>
plt.show() <span class="hljs-comment"># doctest: +SKIP</span></code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã¨ãˆã° 'cmor1-1.5'ãªã©ã®è¤‡é›‘ãªã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã‚¨ãƒ©ãƒ¼ã‚’ç”Ÿæˆã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="python hljs">File<span class="hljs-string">"C:\Users\User\AppData\Local\Programs\Python\Python36\lib\site-packages\matplotlib\image.py"</span>, line <span class="hljs-number">642</span>, <span class="hljs-keyword">in</span> set_data
    <span class="hljs-keyword">raise</span> TypeError(<span class="hljs-string">"Image data cannot be converted to float"</span>)<font></font>
TypeError: Image data cannot be converted to float</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚¨ãƒ©ãƒ¼ã¨ã€å¿…è¦ãªæ™‚é–“åˆ†è§£èƒ½ã‚’æä¾›ã™ã‚‹ãŸã‚ã«ã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆå¹…ï¼‰ã‚’é¸æŠã™ã‚‹ã®ãŒé›£ã—ã„ãŸã‚ã€ç‰¹ã«åˆå¿ƒè€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦ã€CWTåˆ†æã‚’ç ”ç©¶ã™ã‚‹ã“ã¨ãŒå›°é›£ã«ãªã‚Šã€æ•™è‚²çš„ãªæ€§è³ªã®ã“ã®è¨˜äº‹ã‚’æ›¸ãã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ‘ãƒ–ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç›®çš„ã¯</font><font style="vertical-align: inherit;">ã€å˜ç´”ãªä¿¡å·ã¨ç‰¹æ®Šãªä¿¡å·ã®åˆ†æã€ãŠã‚ˆã³æ™‚ç³»åˆ—ã®åˆ†æã«è¿½åŠ æƒ…å ±ã‚’æä¾›ã™ã‚‹æ­£è¦åŒ–æ–¹æ³•ã€å¯¾æ•°ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã¨åˆæˆã‚’</font><font style="vertical-align: inherit;">ä½¿ç”¨ã™ã‚‹å ´åˆã®æ–°ã—ã„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ã‚±ãƒ¼ãƒ«ã‚°ãƒ©ãƒ </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¦–è¦šåŒ–</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®</font></a><font style="vertical-align: inherit;">ä½¿ç”¨ã‚’æ¤œè¨ã™ã‚‹ã“ã¨ã§ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã§ã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Œãƒ‡ãƒ¼ã‚¿åˆ†æã®ãŸã‚ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã®ç©ã‚„ã‹ãªç´¹ä»‹ã€</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ã„ã†å‡ºç‰ˆç‰©ã‹ã‚‰ã®æƒ…å ±ã‚’ä½¿ç”¨ã—ã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã®è³‡æ–™ã«ç¤ºã•ã‚Œã¦ã„ã‚‹ä¾‹ã®ãƒªã‚¹ãƒˆã§ã¯ã€ã‚¨ãƒ©ãƒ¼ãŒä¿®æ­£ã•ã‚Œã¦ãŠã‚Šã€ä¾‹ã®å„ãƒªã‚¹ãƒˆã¯å®Œæˆã—ãŸå½¢å¼ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æ…£ã‚Œã‚‹ã“ã¨ãªãä½¿ç”¨ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç‰¹åˆ¥ãªä¿¡å·ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆåˆ†æã«ã¯ã€</font><font style="vertical-align: inherit;">PyWavelets </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚µãƒ³ãƒ—ãƒ«</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’</font><font style="vertical-align: inherit;">ä½¿ç”¨ã—ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã‚¹ã‚«ãƒ­ã‚°ãƒ©ãƒ ã¯ã€1æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã®2æ¬¡å…ƒè¡¨ç¾ã§ã™ã€‚</font><font style="vertical-align: inherit;">æ™‚é–“ã¯Xè»¸ã«ãƒ—ãƒ­ãƒƒãƒˆã•ã‚Œã€Yè»¸ã®ã‚¹ã‚±ãƒ¼ãƒ«ã¯ã€æ™‚é–“Xã®ä¿¡å·æŒ¯å¹…ã«å¯¾å¿œã™ã‚‹ä¿¡å·ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå¤‰æ›ã®çµæœã§ã™ã€‚ã“ã®ã‚ˆã†ãªä¿¡å·ã®ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯è¡¨ç¤ºã®åˆ†æå€¤ã¯ã€æ™‚é–“åˆ†è§£èƒ½ãŒYè»¸ã«è¡¨ç¤ºã•ã‚Œã€è¿½åŠ æƒ…å ±ã‚’æä¾›ã—ã¾ã™ã€‚ä¿¡å·ã®å‹•çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¤ã„ã¦ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆ-å˜ç´”ãªä¿¡å·ã‚¹ã‚«ãƒ­ã‚°ãƒ©ãƒ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.ã‚¬ã‚¦ã‚¹ã‚¨ãƒ³ãƒ™ãƒ­ãƒ¼ãƒ—ã®ä½™å¼¦æ³¢ï¼ˆã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã®ç½®ãæ›ãˆã€‚æ™‚é–“åˆ†è§£èƒ½ã®ã‚¹ã‚±ãƒ¼ãƒ«ä¾å­˜æ€§ã‚’èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼‰ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span>* 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-keyword">import</span> pywt
<span class="hljs-comment">#  ,       </span>
<span class="hljs-comment">#       'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
<span class="hljs-comment">#    1  / </span>
ns   = <span class="hljs-number">1024</span><font></font>
time =arange(ns)<font></font>
scales = scg.periods2scales( arange(<span class="hljs-number">1</span>, <span class="hljs-number">40</span>) )<font></font>
p1=<span class="hljs-number">10</span>;<font></font>
periodic1 = cos(<span class="hljs-number">2</span>*pi/p1*time) * exp(-((time-ns/<span class="hljs-number">2</span>)/<span class="hljs-number">200</span>)**<span class="hljs-number">2</span>)<font></font>
fig1, ax1 = subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">6.9</span>,<span class="hljs-number">2.9</span>));  <font></font>
lines = ax1.plot(periodic1); <font></font>
ax1.set_xlim(<span class="hljs-number">0</span>, len(time))<font></font>
ax1.set_title(<span class="hljs-string">"   "</span>)<font></font>
fig1.tight_layout()<font></font>
ax2 = scg.cws(periodic1, scales=scales, figsize=(<span class="hljs-number">6.9</span>,<span class="hljs-number">2.9</span>)); <font></font>
txt = ax2.annotate(<span class="hljs-string">"p1=%s"</span>%p1, xy=(<span class="hljs-number">100</span>, <span class="hljs-number">10</span>), bbox=dict(boxstyle=<span class="hljs-string">"round4"</span>, fc=<span class="hljs-string">"w"</span>))<font></font>
tight_layout()<font></font>
print(<span class="hljs-string">"    :"</span>, scg.get_default_wavelet(), <span class="hljs-string">"("</span>,<font></font>
      pywt.ContinuousWavelet(scg.get_default_wavelet()).family_name, <span class="hljs-string">")"</span>)<font></font>
show()</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¿¡å·å¤‰æ›ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆé–¢æ•°ï¼šcmor1-1.5ï¼ˆè¤‡ç´ Morletã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆï¼‰</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hs/p1/yt/hsp1ytatqsrowio0ybi4hocti9i.png"><br>
<br>
<img src="https://habrastorage.org/webt/xw/di/hq/xwdihq6dkqpofxc6ucw8oq7h6zu.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‘¨æœŸä¿¡å·ã¯ã€ç‚¹Y = p1ã§æ°´å¹³é€£ç¶šã‚¹ãƒˆãƒªãƒƒãƒ—ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã€ãã®å¼·åº¦ã¯å‘¨æœŸä¿¡å·ã®æŒ¯å¹…ã«å¿œã˜ã¦å¤‰åŒ–ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¸¯åŸŸå¹…ãŒã‚¼ãƒ­ã§ã¯ãªã„ãŸã‚ã€æ¤œå‡ºã«ã‚ã„ã¾ã„ã•ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆãŒ1ã¤ã®å‘¨æ³¢æ•°ã§ã¯ãªãå¸¯åŸŸã‚’æ¤œå‡ºã™ã‚‹ãŸã‚ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®åŠ¹æœã¯ã€ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå¸¯åŸŸå¹…ã«é–¢é€£ä»˜ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. 3ã¤ã®ãƒ‘ãƒ«ã‚¹ãŒå¢—åŠ ã™ã‚‹å‘¨æœŸã§é †æ¬¡è¿½åŠ ã•ã‚Œã¾ã™ï¼ˆç•°ãªã‚‹ã‚¹ã‚±ãƒ¼ãƒ«ã§ã®å‘¨æœŸçš„å¤‰å‹•ã‚’è€ƒæ…®ã™ã‚‹ãŸã‚ï¼šå¤šé‡è§£åƒåº¦åˆ†æï¼‰ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span>  numpy <span class="hljs-keyword">import</span>* 
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#       'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
<span class="hljs-comment">##    1  / </span>
ns   = <span class="hljs-number">1024</span><font></font>
time = arange(ns)<font></font>
scales = scg.periods2scales(arange(<span class="hljs-number">1</span>, <span class="hljs-number">40</span>))<font></font>
pulses = zeros(ns, dtype=float32)<font></font>
steps  = linspace(<span class="hljs-number">0</span>, ns, <span class="hljs-number">8</span>)<font></font>
periods = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">40</span>]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>):<font></font>
    step_mask = (time &gt; steps[i*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>]) &amp; (time &lt; steps[i*<span class="hljs-number">2</span>+<span class="hljs-number">2</span>])<font></font>
    pulses += cos(<span class="hljs-number">2</span>*pi/periods[i]*time) * step_mask<font></font>
<font></font>
fig1, ax1 = subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">7</span>,<span class="hljs-number">3</span>));  <font></font>
lines = ax1.plot(pulses); ax1.set_xlim(<span class="hljs-number">0</span>, len(time)); <font></font>
ax1.set_title(<span class="hljs-string">"     "</span>); ax1.set_xlabel(<span class="hljs-string">"Time"</span>)<font></font>
fig1.tight_layout()<font></font>
<font></font>
ax2 = scg.cws(pulses, scales=scales, figsize=(<span class="hljs-number">7</span>,<span class="hljs-number">3</span>))<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>):<font></font>
    txt = ax2.annotate(<span class="hljs-string">"p%d=%ds"</span>%(i+<span class="hljs-number">1</span>,periods[i]), xy=(steps[i*<span class="hljs-number">2</span>]+<span class="hljs-number">20</span>, periods[i]), <font></font>
                       bbox=dict(boxstyle=<span class="hljs-string">"round4"</span>, fc=<span class="hljs-string">"w"</span>))<font></font>
    ax2.plot(steps[i*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>]*np.ones(<span class="hljs-number">2</span>), ax2.get_ylim(), <span class="hljs-string">'-w'</span>, alpha=<span class="hljs-number">0.5</span>)<font></font>
    ax2.plot(steps[i*<span class="hljs-number">2</span>+<span class="hljs-number">2</span>]*np.ones(<span class="hljs-number">2</span>),   ax2.get_ylim(), <span class="hljs-string">'-w'</span>, alpha=<span class="hljs-number">0.5</span>)<font></font>
tight_layout()<font></font>
show()</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/df/nm/l7/dfnml7k3umgnlv4vati1jgp_pd8.png"><br>
<br>
<img src="https://habrastorage.org/webt/hu/6b/wd/hu6bwdexuagw8otjcaogaecreba.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‘ãƒ«ã‚¹ã¯ã€ãã®å‘¨æœŸæ€§ã«å¯¾å¿œã—ã¦ã€äºˆæƒ³ã•ã‚Œã‚‹ä½ç½®Yã«è¡¨ç¤ºã•ã‚Œã€å‘¨æ³¢â€‹â€‹æ•°ã¨æ™‚é–“ã«å±€æ‰€åŒ–ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¹ãƒˆãƒªãƒƒãƒ—ã®å§‹ã¾ã‚Šã¨çµ‚ã‚ã‚Šã¯å‹¢ã„ã«å¯¾å¿œã—ã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¸¯åŸŸå¹…ã¯ã€æœŸé–“ã®é•·ã•ã«å¿œã˜ã¦å¤‰åŒ–ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå¤‰æ›ã®ã‚ˆãçŸ¥ã‚‰ã‚ŒãŸç‰¹æ€§ã§ã™ã€‚ã‚¹ã‚±ãƒ¼ãƒ«ãŒå¤§ãããªã‚‹ã¨ã€æ™‚é–“åˆ†è§£èƒ½ãŒä½ä¸‹ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€æ™‚é–“ã¨å‘¨æ³¢æ•°ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã¨ã—ã¦ã‚‚çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚¿ã‚¤ãƒ—ã®ã‚¹ãƒšã‚¯ãƒˆãƒ­ã‚°ãƒ©ãƒ ã‚’è¦‹ã‚‹ã¨ã€å¤šãã®è§£åƒåº¦åˆ†æãŒè¡Œã‚ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.ç•°ãªã‚‹å‘¨æ³¢æ•°ã®3ã¤ã®å‘¨æœŸçš„ãªæŒ¯å‹•ã‚’åŒæ™‚ã«ç™ºç”Ÿã•ã›ã¾ã™ï¼ˆã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆåˆ†æã§ã¯ã€ä¿¡å·ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå‘¨æ³¢æ•°ã«ã‚ˆã£ã¦åŒºåˆ¥ã§ãã¾ã™ï¼ˆå·®ç•°ãŒå¤§ãã„å ´åˆï¼‰ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span>  numpy <span class="hljs-keyword">import</span>* 
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg <font></font>
scg.set_default_wavelet(<span class="hljs-string">'cmor1-1.5'</span>)
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
<span class="hljs-comment">##    1  / </span>
ns   = <span class="hljs-number">1024</span><font></font>
time = arange(ns)<font></font>
scales = scg.periods2scales(arange(<span class="hljs-number">1</span>, <span class="hljs-number">40</span>))<font></font>
allwaves = np.zeros(ns, dtype=np.float32)<font></font>
periods = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">40</span>]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>):<font></font>
    allwaves += cos(<span class="hljs-number">2</span>*np.pi/periods[i]*time)<font></font>
<font></font>
fig1, ax1 = subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">6.5</span>,<span class="hljs-number">2</span>));  <font></font>
lines = ax1.plot(allwaves); ax1.set_title(<span class="hljs-string">"  "</span>) <font></font>
ax1.set_xlim(<span class="hljs-number">0</span>, len(time)); ax1.set_xlabel(<span class="hljs-string">""</span>)<font></font>
fig1.tight_layout()<font></font>
<font></font>
ax2 = scg.cws(allwaves, scales=scales, figsize=(<span class="hljs-number">7</span>,<span class="hljs-number">2</span>))<font></font>
tight_layout()<font></font>
show()</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/pr/uo/gr/pruogrwxqhvs0flrmlcfydqsquq.png"><br>
<br>
<img src="https://habrastorage.org/webt/fw/a1/18/fwa118pra6k0_mckusb8sn0vbmq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.éæ­£å¼¦æ³¢ã®å‘¨æœŸçš„ãªä¿¡å·ï¼ˆå‘¨æœŸãŒ30ç§’ã®ä¸‰è§’æ³¢ä¿¡å·ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå¤‰æ›ã¨ã€ä»¥å‰ã«è€ƒæ…®ã•ã‚ŒãŸã‚‚ã®ã¨ã®å·®ãŒè€ƒæ…®ã•ã‚Œã¾ã™ï¼‰ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span>  numpy <span class="hljs-keyword">import</span>* 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scipy.signal
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg <font></font>
scg.set_default_wavelet(<span class="hljs-string">'cmor1-1.5'</span>)
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
<span class="hljs-comment">##    1  / </span>
ns   = <span class="hljs-number">1024</span><font></font>
time = arange(ns)<font></font>
scales = scg.periods2scales(arange(<span class="hljs-number">1</span>, <span class="hljs-number">40</span>))<font></font>
ptri    = <span class="hljs-number">30.0</span> <span class="hljs-comment"># period in samples</span>
raising = <span class="hljs-number">0.8</span>  <span class="hljs-comment"># fraction of the period raising</span>
triangle = scipy.signal.sawtooth(time/ptri*<span class="hljs-number">2</span>*pi, raising)<font></font>
<font></font>
<span class="hljs-comment"># plot the signal </span>
fig1, ax1 = subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">7</span>,<span class="hljs-number">3</span>));  <font></font>
lines = ax1.plot(triangle); <font></font>
ax1.set_xlim(<span class="hljs-number">0</span>, len(time))<font></font>
ax1.set_title(<span class="hljs-string">"triangle wave increasing 80% of the time with a 30s period"</span>)<font></font>
fig1.tight_layout()<font></font>
<font></font>
<span class="hljs-comment"># and the scaleogram</span>
ax2 = scg.cws(triangle, scales=scales, figsize=(<span class="hljs-number">7</span>,<span class="hljs-number">3</span>)); <font></font>
txt = ax2.annotate(<span class="hljs-string">"first harmonic"</span>, xy=(<span class="hljs-number">100</span>, <span class="hljs-number">30</span>), bbox=dict(boxstyle=<span class="hljs-string">"round4"</span>, fc=<span class="hljs-string">"w"</span>))<font></font>
txt = ax2.annotate(<span class="hljs-string">"second harmonic"</span>, xy=(<span class="hljs-number">100</span>, <span class="hljs-number">15</span>), bbox=dict(boxstyle=<span class="hljs-string">"round4"</span>, fc=<span class="hljs-string">"w"</span>))<font></font>
tight_layout()<font></font>
show()<font></font>
</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/y7/2z/rk/y72zrke6shecx3nb5drpkrqdepq.png"><br>
<br>
<img src="https://habrastorage.org/webt/dk/rs/bp/dkrsbphqpqk9ceoiehga4re3mhy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤§ããªå¸¯åŸŸã¯æœ€åˆã®é«˜èª¿æ³¢ã§ã™ã€‚</font><font style="vertical-align: inherit;">ç¬¬2é«˜èª¿æ³¢ã¯ã€ç¬¬1é«˜èª¿æ³¢ã®å‘¨æœŸã®åŠåˆ†ã®å€¤ã§æ­£ç¢ºã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€å‘¨æœŸçš„ãªéæ­£å¼¦æ³¢ä¿¡å·ã®äºˆæƒ³ã•ã‚Œã‚‹çµæœã§ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ•ã‚¡ã‚¸ãƒ¼å‚ç›´è¦ç´ ã¯ã€ç¬¬2é«˜èª¿æ³¢ã®å‘¨å›²ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€ç¬¬2é«˜èª¿æ³¢ã®å¼·åº¦ãŒä½ãã€ä¸‰è§’æ³¢ã®å ´åˆã€ç¬¬1é«˜èª¿æ³¢ã®1/4ã®æŒ¯å¹…ã‚’æŒã¡ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.æ»‘ã‚‰ã‹ãªãƒ‘ãƒ«ã‚¹ï¼ˆã‚¬ã‚¦ã‚¹ï¼‰ã¯ã€å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ä¼¼ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ï¼ˆã“ã®ä¾‹ã¯ã€ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆåˆ†æã‚’ä½¿ç”¨ã—ã¦ã€ä¿¡å·ã®å±€æ‰€çš„ãªå¤‰åŒ–ã‚’çµŒæ™‚çš„ã«æ¤œå‡ºã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ï¼‰ï¼š</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç•°ãªã‚‹ã‚·ã‚°ãƒå€¤ã‚’æŒã¤ä¸€é€£ã®æ»‘ã‚‰ã‹ãªãƒ‘ãƒ«ã‚¹ï¼š</font></font><br>
<br>
<ul>
<li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>2</mn><mo>&amp;#x22C5;</mo><msub><mi>&amp;#x03C3;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow></msub><mo>=</mo><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.484ex" height="2.259ex" viewBox="0 -755.5 4083.4 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-22C5" x="722" y="0"></use><g transform="translate(1223,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMATHI-3C3" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-31" x="808" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-3D" x="2526" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32" x="3582" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â‹…</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ïƒ</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></mn></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn></math></span></span><script type="math/tex" id="MathJax-Element-1">2\cdot \sigma _{1}=2</script></li>
<li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>2</mn><mo>&amp;#x22C5;</mo><msub><mi>&amp;#x03C3;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow></msub><mo>=</mo><mn>10</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.647ex" height="2.259ex" viewBox="0 -755.5 4583.9 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-22C5" x="722" y="0"></use><g transform="translate(1223,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMATHI-3C3" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32" x="808" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-3D" x="2526" y="0"></use><g transform="translate(3582,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-30" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â‹…</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ïƒ</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></mn></math></span></span><script type="math/tex" id="MathJax-Element-2">2\cdot \sigma _{2}=10</script></li>
<li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>2</mn><mo>&amp;#x22C5;</mo><msub><mi>&amp;#x03C3;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn></mrow></msub><mo>=</mo><mn>20</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.647ex" height="2.384ex" viewBox="0 -755.5 4583.9 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-22C5" x="722" y="0"></use><g transform="translate(1223,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMATHI-3C3" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-33" x="808" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-3D" x="2526" y="0"></use><g transform="translate(3582,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-30" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â‹…</font></font></mo><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ïƒ</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼“</font></font></mn></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äºŒå</font></font></mn></math></span></span><script type="math/tex" id="MathJax-Element-3">2\cdot \sigma _{3}=20</script></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‘ãƒ«ã‚¹å¹…ï¼š</font></font><br>
<br>
<ul>
<li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>&amp;#x03C9;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow></msub><mo>=</mo><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.761ex" height="2.259ex" viewBox="0 -755.5 2911 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMATHI-3C9" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-31" x="880" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-3D" x="1354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32" x="2410" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ï‰</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></mn></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn></math></span></span><script type="math/tex" id="MathJax-Element-4">\omega _{1}=2</script></li>
<li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>&amp;#x03C9;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow></msub><mo>=</mo><mn>20</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.923ex" height="2.259ex" viewBox="0 -755.5 3411.5 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMATHI-3C9" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32" x="880" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-3D" x="1354" y="0"></use><g transform="translate(2410,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-30" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ï‰</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äºŒå</font></font></mn></math></span></span><script type="math/tex" id="MathJax-Element-5">\omega _{2}=20</script></li>
<li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>&amp;#x03C9;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn></mrow></msub><mo>=</mo><mn>100</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.086ex" height="2.384ex" viewBox="0 -755.5 3912 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMATHI-3C9" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-33" x="880" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-3D" x="1354" y="0"></use><g transform="translate(2410,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/454240/&amp;usg=ALkJrhgWOWc99C_au8a91uQjWJqLD3roGA#MJMAIN-30" x="1001" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ï‰</font></font></mi><mrow class="MJX-TeXAtom-ORD"><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼“</font></font></mn></mrow></msub><mo><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></mo><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100</font></font></mn></math></span></span><script type="math/tex" id="MathJax-Element-6">\omega _{3}=100</script></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span>  numpy <span class="hljs-keyword">import</span>* 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg <font></font>
scg.set_default_wavelet(<span class="hljs-string">'cmor1-1.5'</span>)
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
<span class="hljs-comment">##    1  / </span>
ns   = <span class="hljs-number">1024</span><font></font>
time = arange(ns)<font></font>
scales = scg.periods2scales(arange(<span class="hljs-number">1</span>, <span class="hljs-number">40</span>))
<span class="hljs-comment">#      </span>
s1=<span class="hljs-number">1</span>; s2=<span class="hljs-number">5</span>; s3=<span class="hljs-number">10</span>
events = [ns*<span class="hljs-number">0.1</span>, ns*<span class="hljs-number">0.3</span>, ns*<span class="hljs-number">0.7</span>]<font></font>
bumps = exp(-((time-events[<span class="hljs-number">0</span>])/s1)**<span class="hljs-number">2</span>) + exp(-((time-events[<span class="hljs-number">1</span>])/s2)**<span class="hljs-number">2</span>) + \<font></font>
        exp(-((time-events[<span class="hljs-number">2</span>])/s3)**<span class="hljs-number">2</span>) <font></font>
<font></font>
<span class="hljs-comment">#     </span>
w1=<span class="hljs-number">1</span>; w2=<span class="hljs-number">5</span>; w3= <span class="hljs-number">50</span>
steps = ((time &gt; events[<span class="hljs-number">0</span>]-w1) &amp; (time &lt; events[<span class="hljs-number">0</span>]+w1)) + \<font></font>
    ((time &gt; events[<span class="hljs-number">1</span>]-w2) &amp; (time &lt; events[<span class="hljs-number">1</span>]+w2)) + \<font></font>
    ((time &gt; events[<span class="hljs-number">2</span>]-w3) &amp; (time &lt; events[<span class="hljs-number">2</span>]+w3))<font></font>
<font></font>
<span class="hljs-comment">#  </span>
fig1, (ax1, ax2) = subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">11</span>, <span class="hljs-number">2</span>)); <font></font>
ax1.set_title(<span class="hljs-string">"Bumps"</span>); ax2.set_title(<span class="hljs-string">"Steps"</span>)<font></font>
lines = ax1.plot(bumps); ax1.set_xlim(<span class="hljs-number">0</span>, len(time))<font></font>
lines = ax2.plot(steps); ax2.set_xlim(<span class="hljs-number">0</span>, len(time))<font></font>
fig1.tight_layout()<font></font>
<font></font>
<span class="hljs-comment">#  </span>
scales_bumps = scg.periods2scales(arange(<span class="hljs-number">1</span>, <span class="hljs-number">120</span>, <span class="hljs-number">2</span>) )<font></font>
fig2, (ax3, ax4) = subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">14</span>,<span class="hljs-number">3</span>));  <font></font>
ax3 = scg.cws(bumps, scales=scales_bumps, ax=ax3)<font></font>
ax4 = scg.cws(steps, scales=scales_bumps, ax=ax4)<font></font>
<span class="hljs-keyword">for</span> bmpw, stepw <span class="hljs-keyword">in</span> [(<span class="hljs-number">2</span>*s1, <span class="hljs-number">2</span>*w1), (<span class="hljs-number">2</span>*s2,<span class="hljs-number">2</span>*w2), (<span class="hljs-number">2</span>*s3, <span class="hljs-number">2</span>*w3)]:<font></font>
    ax3.plot(ax3.get_xlim(), bmpw*ones(<span class="hljs-number">2</span>), <span class="hljs-string">'w-'</span>, alpha=<span class="hljs-number">0.5</span>)<font></font>
    ax4.plot(ax4.get_xlim(), stepw*ones(<span class="hljs-number">2</span>), <span class="hljs-string">'w-'</span>, alpha=<span class="hljs-number">0.5</span>)<font></font>
fig2.tight_layout()<font></font>
show()<font></font>
</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/3l/ga/ke/3lgakegkiip9e9nxwyrdwcmkfsi.png"><br>
<br>
<img src="https://habrastorage.org/webt/lz/1z/n8/lz1zn8m1yjsy5pjkveiwc70oecc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é›¢æ•£ã‚¤ãƒ³ãƒ‘ãƒ«ã‚¹ã¯ã€ã‚·ã‚¢ãƒ­ã‚°ãƒ©ãƒ ä¸Šã«å††éŒå½¢ã®æ§‹é€ ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¹ã‚³ãƒ¼ãƒ³ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ»‘ã‚‰ã‹ãªã‚¤ãƒ³ãƒ‘ãƒ«ã‚¹ï¼ˆã‚¬ã‚¦ã‚¹ï¼‰ã¯å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ä¼¼ã¦ãŠã‚Šã€å¤§è¦æ¨¡ã«å‘ã‹ã£ã¦åºƒãŒã‚‹å††éŒã‚’ä½œæˆã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ°´å¹³æ–¹å‘ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¯ã€ã»ã¼æœŸé–“ï¼ˆ2ç§’ã€10ç§’ã€20ç§’ï¼‰ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€ãƒ‘ãƒ«ã‚¹ã¯1å‘¨æœŸã®å‘¨æœŸä¿¡å·ã«ä¼¼ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.ãƒã‚¤ã‚ºï¼ˆã‚µã‚¤ã‚¢ãƒ­ã‚°ãƒ©ãƒ ã«ãƒã‚¤ã‚ºã‚’è¡¨ç¤ºï¼‰ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span>* 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-keyword">import</span> random<font></font>
scg.set_default_wavelet(<span class="hljs-string">'cmor1-1.5'</span>)
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
<span class="hljs-comment">#    1  / </span>
ns   = <span class="hljs-number">1024</span><font></font>
time =arange(ns)<font></font>
scales = scg.periods2scales( arange(<span class="hljs-number">1</span>, <span class="hljs-number">40</span>) )<font></font>
noise =random.sample(range(ns), ns)<font></font>
<font></font>
<font></font>
fig1, ax1 = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">6.2</span>,<span class="hljs-number">2</span>));  <font></font>
ax1.set_title(<span class="hljs-string">"  "</span>)<font></font>
lines = ax1.plot(time, noise) <font></font>
ax1.set_xlim(<span class="hljs-number">0</span>, ns)<font></font>
fig1.tight_layout()<font></font>
<font></font>
ax2 = scg.cws(noise, scales=scales, figsize=(<span class="hljs-number">7</span>,<span class="hljs-number">2</span>))<font></font>
tight_layout()<font></font>
show()</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/qy/hu/lq/qyhulqiqtynyjwdfbakadzh4eog.png"><br>
<br>
<img src="https://habrastorage.org/webt/ad/gp/cl/adgpclbvaolajsneosnady6kr5a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šå¸¸ã€ãƒã‚¤ã‚ºã¯è¦ç´ ã®ã‚»ãƒƒãƒˆã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã€ä¸€éƒ¨ã®ä¸è¦å‰‡æ€§ã¯å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚ˆã†ã«è¦‹ãˆã‚‹å ´åˆãŒã‚ã‚‹ãŸã‚ã€å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€æ³¨æ„ã—ã¦ã€å¿…è¦ã«å¿œã˜ã¦ãƒã‚¤ã‚ºãƒ¬ãƒ™ãƒ«ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒé–‹å§‹ã•ã‚Œã‚‹ãŸã³ã«ã€ä¸Šã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ç•°ãªã‚Šã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‰¹åˆ¥ãªä¿¡å·ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã‚¹ã‚«ãƒ­ã‚°ãƒ©ãƒ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PyWaveletsãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¯ã€ç ”ç©¶ã¨é–‹ç™ºã®ä¸¡æ–¹ã«å½¹ç«‹ã¤20ã®ç‰¹åˆ¥ãªã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå¤‰æ›ä¿¡å·ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€20å€‹ã™ã¹ã¦ã®ä¿¡å·ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆåˆ†æã‚’å®Ÿè¡Œã§ãã‚‹ãƒªã‚¹ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#!/usr/bin/env python</span>
<span class="hljs-comment"># -*- coding: utf-8 -*-</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-keyword">import</span> pywt<font></font>
signals = pywt.data.demo_signal(<span class="hljs-string">'list'</span>)<font></font>
signal_length=<span class="hljs-number">1024</span>
<span class="hljs-keyword">for</span> signal <span class="hljs-keyword">in</span> signals:
    <span class="hljs-keyword">if</span> signal <span class="hljs-keyword">in</span> [<span class="hljs-string">'Gabor'</span>, <span class="hljs-string">'sineoneoverx'</span>]:<font></font>
        x = pywt.data.demo_signal(signal)<font></font>
    <span class="hljs-keyword">else</span>:<font></font>
        x = pywt.data.demo_signal(signal, signal_length)   <font></font>
    times=[]<font></font>
    signals=[]<font></font>
    <span class="hljs-keyword">for</span> time, sig <span class="hljs-keyword">in</span> enumerate(x.real):<font></font>
        times.append(time)<font></font>
        signals.append(sig)<font></font>
    scg.set_default_wavelet(<span class="hljs-string">'cmor1-1.5'</span>)<font></font>
    scales = scg.periods2scales( arange(<span class="hljs-number">1</span>, <span class="hljs-number">40</span>) )<font></font>
    fig1, ax1 = subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">6.9</span>,<span class="hljs-number">2.9</span>));  <font></font>
    lines = ax1.plot(signals); <font></font>
    ax1.set_xlim(<span class="hljs-number">0</span>, len(times))<font></font>
    ax1.set_title(<span class="hljs-string">"%s"</span>%signal)<font></font>
    fig1.tight_layout()<font></font>
    ax2 = scg.cws(signals, scales=scales, figsize=(<span class="hljs-number">6.9</span>,<span class="hljs-number">2.9</span>)); <font></font>
    tight_layout()<font></font>
    show()</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‰ãƒƒãƒ—ãƒ©ãƒ¼ä¿¡å·ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå¤‰æ›ã®çµæœã‚’1ã¤ã ã‘ç¤ºã—ã¾ã™</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pr/bs/wo/prbsworf8jztubjhss5cq47bwzo.png"><br>
<br>
<img src="https://habrastorage.org/webt/ig/ry/ih/igryiht55ky8h-ne4pf4cgpvrf8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€‚æœ€ã‚‚ä¸€èˆ¬çš„ãªç¨®é¡ã®å˜ç´”ãªä¿¡å·ã¨ç‰¹æ®Šãªä¿¡å·ãŒè€ƒæ…®ã•ã‚Œã‚‹ãŸã‚ã€æ™‚ç³»åˆ—åˆ†æã®ã„ãã¤ã‹ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã‚¹ã‚«ãƒ­ã‚°ãƒ©ãƒ ã®ä½¿ç”¨ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆæ™‚ç³»åˆ—ã‚¹ã‚«ãƒ­ã‚°ãƒ©ãƒ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.ç±³å›½1969-2008å¹´ã®CDCå‡ºç”Ÿç‡ãƒ‡ãƒ¼ã‚¿ï¼ˆå‡ºç”Ÿç‡ãƒ‡ãƒ¼ã‚¿ã«ã¯ã€å¹´æ¬¡ã‚¹ã‚±ãƒ¼ãƒ«ã¨ãã‚Œã‚ˆã‚Šå°ã•ã„ã‚¹ã‚±ãƒ¼ãƒ«ã®ä¸¡æ–¹ã®å®šæœŸçš„ãªç‰¹å¾´ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼‰ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()<font></font>
<font></font>
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#    'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span><font></font>
<font></font>
<span class="hljs-comment">#   </span>
df = df[(df.day&gt;=<span class="hljs-number">1</span>) &amp; (df.day&lt;=<span class="hljs-number">31</span>) &amp; (df.births.values &gt; <span class="hljs-number">1000</span>)]<font></font>
<font></font>
<span class="hljs-comment">#  </span>
datetime = pd.to_datetime(df[[<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>]], errors=<span class="hljs-string">'coerce'</span>)<font></font>
df.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'datetime'</span>, datetime)<font></font>
<font></font>
datetime_lim = [ df.datetime.min(), df.datetime.max() ] <font></font>
years_lim = [ df.datetime.min().year, df.datetime.max().year ]<font></font>
births = df[[<span class="hljs-string">'datetime'</span>, <span class="hljs-string">'births'</span>]].groupby(<span class="hljs-string">'datetime'</span>).sum().squeeze()
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_x_yearly</span>(<span class="hljs-params">ax, days, start_year=<span class="hljs-number">1969</span></span>):</span>
    xlim  = (np.round([<span class="hljs-number">0</span>, days]) / <span class="hljs-number">365</span>).astype(np.int32)<font></font>
    ticks = np.arange(xlim[<span class="hljs-number">0</span>], xlim[<span class="hljs-number">1</span>])<font></font>
    ax.set_xticks(ticks*<span class="hljs-number">365</span>)<font></font>
    ax.set_xticklabels(start_year + ticks)<font></font>
<font></font>
fig = figure(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">2</span>))<font></font>
lines = plot(births.index, births.values/<span class="hljs-number">1000</span>, <span class="hljs-string">'-'</span>)<font></font>
xlim(datetime_lim)<font></font>
<font></font>
ylabel(<span class="hljs-string">"Nb of birthes [k]"</span>); title(<span class="hljs-string">"Total births per day in the US (CDC)"</span>);<font></font>
xlim = xlim()<font></font>
<font></font>
ax = scg.cws(births, figsize=(<span class="hljs-number">13.2</span>, <span class="hljs-number">4</span>), xlabel=<span class="hljs-string">"Year"</span>, ylabel=<span class="hljs-string">"Nb of Day"</span>)<font></font>
set_x_yearly(ax, len(births))<font></font>
show()<font></font>
</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/f3/fh/1f/f3fh1fip-zi3iahsrcrsujbw6io.png"><br>
<br>
<img src="https://habrastorage.org/webt/ys/t-/76/yst-76_hoeaxymf8bkry0jy411i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç´„7æ—¥ã®é »åº¦ã§æ¨ªç·šãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">é«˜ã„å€¤ã¯ã€ã‚¹ã‚±ãƒ¼ãƒ«ã®å¢ƒç•Œã®è¿‘ãã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆå‡¦ç†ã®é€šå¸¸ã®å‹•ä½œã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚‰ã®åŠ¹æœã¯å††éŒå½¢ã®å½±éŸ¿ã¨ã—ã¦ã‚ˆãçŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ãŸã‚ã€ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ï¼‰ãƒã‚¹ã‚¯ãŒã“ã®é ˜åŸŸã«ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.æ­£è¦åŒ–ï¼ˆå¹³å‡å€¤ã®å‰Šé™¤</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-births_normed = births-births.meanï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯å¿…é ˆã§ã™ã€‚ãã‚Œä»¥å¤–ã®å ´åˆã€ãƒ‡ãƒ¼ã‚¿å¢ƒç•Œã¯ã€å¤šæ•°ã®èª¤ã£ãŸå††éŒå½¢ã®æ¤œå‡ºã‚’ä½œæˆã™ã‚‹ã‚¹ãƒ†ãƒ¼ã‚¸ã¨è¦‹ãªã•ã‚Œã¾ã™ï¼‰ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()<font></font>
<font></font>
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#    'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span><font></font>
<font></font>
df = pd.read_csv(<span class="hljs-string">"births.csv"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span>
df = df[(df.day&gt;=<span class="hljs-number">1</span>) &amp; (df.day&lt;=<span class="hljs-number">31</span>) &amp; (df.births.values &gt; <span class="hljs-number">1000</span>)]<font></font>
<font></font>
<span class="hljs-comment">#  </span>
datetime = pd.to_datetime(df[[<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>]], errors=<span class="hljs-string">'coerce'</span>)<font></font>
df.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'datetime'</span>, datetime)<font></font>
<font></font>
datetime_lim = [ df.datetime.min(), df.datetime.max() ] <font></font>
years_lim = [ df.datetime.min().year, df.datetime.max().year ]<font></font>
births = df[[<span class="hljs-string">'datetime'</span>, <span class="hljs-string">'births'</span>]].groupby(<span class="hljs-string">'datetime'</span>).sum().squeeze()
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_x_yearly</span>(<span class="hljs-params">ax, days, start_year=<span class="hljs-number">1969</span></span>):</span>
    xlim  = (np.round([<span class="hljs-number">0</span>, days]) / <span class="hljs-number">365</span>).astype(np.int32)<font></font>
    ticks = np.arange(xlim[<span class="hljs-number">0</span>], xlim[<span class="hljs-number">1</span>])<font></font>
    ax.set_xticks(ticks*<span class="hljs-number">365</span>)<font></font>
    ax.set_xticklabels(start_year + ticks)<font></font>
<font></font>
<font></font>
births_normed = births-births.mean()<font></font>
ax = scg.cws(births_normed, figsize=(<span class="hljs-number">13.2</span>, <span class="hljs-number">4</span>), xlabel=<span class="hljs-string">"Year"</span>, ylabel=<span class="hljs-string">"Nb of Day"</span>)<font></font>
set_x_yearly(ax, len(births))<font></font>
show()</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/83/0w/7v/830w7vhmgd4pnuwczktltgbhuq0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.æŒ¯å¹…ã®ã‚¹ã‚±ãƒ¼ãƒ«ã®å¤‰æ›´ï¼ˆå¹´æ¬¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">period2scalesï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã—</font><font style="vertical-align: inherit;">ã¦ã€Yè»¸ã«æ²¿ã£ãŸã‚¹ã‚±ãƒ¼ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ï¼‰ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()<font></font>
<font></font>
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#    'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
df = pd.read_csv(<span class="hljs-string">"births.csv"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span>
df = df[(df.day&gt;=<span class="hljs-number">1</span>) &amp; (df.day&lt;=<span class="hljs-number">31</span>) &amp; (df.births.values &gt; <span class="hljs-number">1000</span>)]<font></font>
<font></font>
<span class="hljs-comment">#  </span>
datetime = pd.to_datetime(df[[<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>]], errors=<span class="hljs-string">'coerce'</span>)<font></font>
df.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'datetime'</span>, datetime)<font></font>
<font></font>
datetime_lim = [ df.datetime.min(), df.datetime.max() ] <font></font>
years_lim = [ df.datetime.min().year, df.datetime.max().year ]<font></font>
births = df[[<span class="hljs-string">'datetime'</span>, <span class="hljs-string">'births'</span>]].groupby(<span class="hljs-string">'datetime'</span>).sum().squeeze()
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_x_yearly</span>(<span class="hljs-params">ax, days, start_year=<span class="hljs-number">1969</span></span>):</span>
    xlim  = (np.round([<span class="hljs-number">0</span>, days]) / <span class="hljs-number">365</span>).astype(np.int32)<font></font>
    ticks = np.arange(xlim[<span class="hljs-number">0</span>], xlim[<span class="hljs-number">1</span>])<font></font>
    ax.set_xticks(ticks*<span class="hljs-number">365</span>)<font></font>
    ax.set_xticklabels(start_year + ticks)<font></font>
<font></font>
<font></font>
births_normed = births-births.mean()<font></font>
scales = scg.periods2scales(np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">365</span>+<span class="hljs-number">100</span>, <span class="hljs-number">3</span>))<font></font>
ax = scg.cws(births_normed, scales=scales, figsize=(<span class="hljs-number">13.2</span>, <span class="hljs-number">5</span>), xlabel=<span class="hljs-string">"Year"</span>, ylabel=<span class="hljs-string">"Nb of Day"</span>,<font></font>
            clim=(<span class="hljs-number">0</span>, <span class="hljs-number">2500</span>))<font></font>
set_x_yearly(ax, len(births))<font></font>
show()</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/40/jj/lv/40jjlvzp8zjkx9xgghb_5pj6h-y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚«ãƒ©ãƒ¼ãƒãƒƒãƒ—ï¼ˆYè»¸ï¼‰ã®æŒ¯å¹…ç¯„å›²ã¯ã€clim =ï¼ˆ0.2500ï¼‰ã§è¨­å®šã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">æŒ¯å‹•æŒ¯å¹…ã®æ­£ç¢ºãªå€¤ã¯ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã«ä¾å­˜ã—ã¾ã™ãŒã€å®Ÿéš›ã®å€¤ã®ã‚ªãƒ¼ãƒ€ãƒ¼ã«è¿‘ã„ã¾ã¾ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã¯ã‚‹ã‹ã«è‰¯ãã€ä»Šã§ã¯å¹´é–“ã®å¤‰å‹•ã ã‘ã§ãªãã€ç´„6ã‹æœˆã‚‚ã‚ˆãè¦‹ãˆã¾ã™ï¼</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.å¯¾æ•°ç›®ç››ã‚’ä½¿ç”¨ã™ã‚‹ï¼ˆå°ã•ã„æœŸé–“ã¨å¤§ãã„æœŸé–“ã‚’åŒæ™‚ã«è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€Yè»¸ã§å¯¾æ•°ç›®ç››ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€xscale = logã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦å®Ÿç¾ã•ã‚Œã¾ã™ã€‚ï¼‰</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()<font></font>
<font></font>
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#    'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
df = pd.read_csv(<span class="hljs-string">"births.csv"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span>
df = df[(df.day&gt;=<span class="hljs-number">1</span>) &amp; (df.day&lt;=<span class="hljs-number">31</span>) &amp; (df.births.values &gt; <span class="hljs-number">1000</span>)]<font></font>
<font></font>
<span class="hljs-comment">#  </span>
datetime = pd.to_datetime(df[[<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>]], errors=<span class="hljs-string">'coerce'</span>)<font></font>
df.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'datetime'</span>, datetime)<font></font>
<font></font>
datetime_lim = [ df.datetime.min(), df.datetime.max() ] <font></font>
years_lim = [ df.datetime.min().year, df.datetime.max().year ]<font></font>
births = df[[<span class="hljs-string">'datetime'</span>, <span class="hljs-string">'births'</span>]].groupby(<span class="hljs-string">'datetime'</span>).sum().squeeze()
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_x_yearly</span>(<span class="hljs-params">ax, days, start_year=<span class="hljs-number">1969</span></span>):</span>
    xlim  = (np.round([<span class="hljs-number">0</span>, days]) / <span class="hljs-number">365</span>).astype(np.int32)<font></font>
    ticks = np.arange(xlim[<span class="hljs-number">0</span>], xlim[<span class="hljs-number">1</span>])<font></font>
    ax.set_xticks(ticks*<span class="hljs-number">365</span>)<font></font>
    ax.set_xticklabels(start_year + ticks)<font></font>
<font></font>
<font></font>
births_normed = births-births.mean()<font></font>
scales = scg.periods2scales(np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">365</span>+<span class="hljs-number">100</span>, <span class="hljs-number">3</span>))<font></font>
ax = scg.cws(births_normed, scales=scales, figsize=(<span class="hljs-number">13.2</span>, <span class="hljs-number">4</span>), xlabel=<span class="hljs-string">"Year"</span>, ylabel=<span class="hljs-string">"Nb of Day"</span>, <font></font>
             clim=(<span class="hljs-number">0</span>,<span class="hljs-number">2500</span>), yscale=<span class="hljs-string">'log'</span>)<font></font>
set_x_yearly(ax, len(births))<font></font>
print(<span class="hljs-string">"Number of available days:"</span>, len(births_normed))<font></font>
show()<font></font>
</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/8d/fe/uc/8dfeuc1vt4flkoyih6glx9ss7e4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çµæœã¯ã¯ã‚‹ã‹ã«è‰¯ã„ãŒã€ä»Šå‘¨æœŸã®ä½ã„å€¤ã®ç”»ç´ ãŒYã«æ²¿ã£ã¦ä¼¸é•·ã•ã‚Œã‚‹è»¸ã§ã‚ã‚‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¹ã‚±ãƒ¼ãƒ«ã§å‡ä¸€ãªåˆ†å¸ƒã‚’å¾—ã‚‹ãŸã‚ã«ã€å¯¾æ•°ç›®ç››ä¸Šã®5å‡ä¸€ãªåˆ†å¸ƒã‚’ï¼ˆä»¥ä¸‹ã«ç¤ºã™ã‚ˆã†ã«ã€æœŸé–“å€¤ãŒå‡ç­‰ã«åˆ†æ•£ã—ã€æ¬¡ã„ã§ã‚¹ã‚±ãƒ¼ãƒ«å€¤ã«å¤‰æ›ã•ã‚Œãªã‘ã‚Œã°ãªã‚‰ãªã„:) ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg 
<span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()<font></font>
<font></font>
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#    'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span><font></font>
<font></font>
df = pd.read_csv(<span class="hljs-string">"births.csv"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span>
df = df[(df.day&gt;=<span class="hljs-number">1</span>) &amp; (df.day&lt;=<span class="hljs-number">31</span>) &amp; (df.births.values &gt; <span class="hljs-number">1000</span>)]<font></font>
<font></font>
<span class="hljs-comment">#  </span>
datetime = pd.to_datetime(df[[<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>]], errors=<span class="hljs-string">'coerce'</span>)<font></font>
df.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'datetime'</span>, datetime)<font></font>
<font></font>
datetime_lim = [ df.datetime.min(), df.datetime.max() ] <font></font>
years_lim = [ df.datetime.min().year, df.datetime.max().year ]<font></font>
births = df[[<span class="hljs-string">'datetime'</span>, <span class="hljs-string">'births'</span>]].groupby(<span class="hljs-string">'datetime'</span>).sum().squeeze()
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_x_yearly</span>(<span class="hljs-params">ax, days, start_year=<span class="hljs-number">1969</span></span>):</span>
    xlim  = (np.round([<span class="hljs-number">0</span>, days]) / <span class="hljs-number">365</span>).astype(np.int32)<font></font>
    ticks = np.arange(xlim[<span class="hljs-number">0</span>], xlim[<span class="hljs-number">1</span>])<font></font>
    ax.set_xticks(ticks*<span class="hljs-number">365</span>)<font></font>
    ax.set_xticklabels(start_year + ticks)<font></font>
<font></font>
<font></font>
births_normed = births-births.mean()<font></font>
<span class="hljs-comment">#        log-Y-axis :-)</span>
scales = scg.periods2scales(np.logspace(np.log10(<span class="hljs-number">2</span>), np.log10(<span class="hljs-number">365</span>*<span class="hljs-number">3</span>), <span class="hljs-number">200</span>))<font></font>
<font></font>
<span class="hljs-comment">#  CWT  ,      </span><font></font>
cwt = scg.CWT(births_normed, scales=scales) <font></font>
<font></font>
ax  = scg.cws(cwt, figsize=(<span class="hljs-number">13.2</span>, <span class="hljs-number">4</span>), xlabel=<span class="hljs-string">"Year"</span>, ylabel=<span class="hljs-string">"Nb of Day"</span>, <font></font>
             clim=(<span class="hljs-number">0</span>,<span class="hljs-number">2500</span>), yscale=<span class="hljs-string">'log'</span>)<font></font>
set_x_yearly(ax, len(births))<font></font>
<font></font>
bboxf = dict(boxstyle=<span class="hljs-string">"round"</span>, facecolor=<span class="hljs-string">"y"</span>, edgecolor=<span class="hljs-string">"0.5"</span>)<font></font>
arrowpropsf = dict(facecolor=<span class="hljs-string">'yellow'</span>, shrink=<span class="hljs-number">0.05</span>)<font></font>
text = ax.annotate(<span class="hljs-string">"unusual\nfeature"</span>, xy=(<span class="hljs-number">365</span>*<span class="hljs-number">6</span>, <span class="hljs-number">15</span>), xytext=(<span class="hljs-number">365</span>*<span class="hljs-number">3</span>, <span class="hljs-number">50</span>), <font></font>
                   bbox=bboxf, arrowprops=arrowpropsf)<font></font>
show()</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/nn/sc/qi/nnscqiixwxx1vbxcbv7mir8lgrs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ã¹ã¦ã®ã‚¹ã‚±ãƒ¼ãƒ«ã§ä¿¡å·ã®å¤‰åŒ–ã‚’ç¢ºèªã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚µã‚¤ã‚¢ãƒ­ã‚°ãƒ©ãƒ ã¯ã€åŒã˜å¹´ã®å„å¹´ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®ä¸€éƒ¨ã‚’å¼·èª¿è¡¨ç¤ºã—ã¾ã™ï¼ˆã‚¢ãƒ¼ãƒãƒ•ã‚¡ã‚¯ãƒˆã¾ãŸã¯æ¬ è½ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œç´¢ã™ã‚‹ãŸã‚ã«ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ãƒãƒ¼ã‚¯é–“ã®ä¸­é–“ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¾ã™ï¼‰ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg
<span class="hljs-keyword">import</span> pywt
<span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()<font></font>
<font></font>
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#    'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span><font></font>
<font></font>
df = pd.read_csv(<span class="hljs-string">"births.csv"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span>
df = df[(df.day&gt;=<span class="hljs-number">1</span>) &amp; (df.day&lt;=<span class="hljs-number">31</span>) &amp; (df.births.values &gt; <span class="hljs-number">1000</span>)]<font></font>
<font></font>
<span class="hljs-comment">#  </span>
datetime = pd.to_datetime(df[[<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>]], errors=<span class="hljs-string">'coerce'</span>)<font></font>
df.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'datetime'</span>, datetime)<font></font>
<font></font>
datetime_lim = [ df.datetime.min(), df.datetime.max() ] <font></font>
years_lim = [ df.datetime.min().year, df.datetime.max().year ]<font></font>
births = df[[<span class="hljs-string">'datetime'</span>, <span class="hljs-string">'births'</span>]].groupby(<span class="hljs-string">'datetime'</span>).sum().squeeze()
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_x_yearly</span>(<span class="hljs-params">ax, days, start_year=<span class="hljs-number">1969</span></span>):</span>
    xlim  = (np.round([<span class="hljs-number">0</span>, days]) / <span class="hljs-number">365</span>).astype(np.int32)<font></font>
    ticks = np.arange(xlim[<span class="hljs-number">0</span>], xlim[<span class="hljs-number">1</span>])<font></font>
    ax.set_xticks(ticks*<span class="hljs-number">365</span>)<font></font>
    ax.set_xticklabels(start_year + ticks)<font></font>
<font></font>
<font></font>
births_normed = births-births.mean()<font></font>
<span class="hljs-comment">#        log-Y-axis :-)</span>
scales = scg.periods2scales(np.logspace(np.log10(<span class="hljs-number">2</span>), np.log10(<span class="hljs-number">365</span>*<span class="hljs-number">3</span>), <span class="hljs-number">200</span>))
<span class="hljs-comment">#        log-Y-axis :-)</span><font></font>
cwt = scg.CWT(births_normed, scales=scales) <font></font>
<span class="hljs-comment">#    : 1974-1976</span><font></font>
<font></font>
fig = figure(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>))<font></font>
lines =plot(births.index, births.values/<span class="hljs-number">1000</span>, <span class="hljs-string">'-'</span>)<font></font>
xlim(pd.to_datetime(<span class="hljs-string">"1974-01-01"</span>), pd.to_datetime(<span class="hljs-string">"1976-01-01"</span>))<font></font>
ylabel(<span class="hljs-string">"Nb of birthes [k]"</span>); title(<span class="hljs-string">"Total births per day bw 1974 and 1976"</span>);<font></font>
<font></font>
<span class="hljs-comment">#     </span>
ax  = scg.cws(cwt, figsize=(<span class="hljs-number">13.2</span>, <span class="hljs-number">4</span>), xlabel=<span class="hljs-string">"Year"</span>, ylabel=<span class="hljs-string">"Nb of Day"</span>, <font></font>
             clim=(<span class="hljs-number">0</span>,<span class="hljs-number">2500</span>), yscale=<span class="hljs-string">'log'</span>)<font></font>
set_x_yearly(ax, len(births))<font></font>
xlim = ax.set_xlim( (<span class="hljs-number">1974</span><span class="hljs-number">-1969</span>)*<span class="hljs-number">365</span>, (<span class="hljs-number">1976</span><span class="hljs-number">-1969</span>)*<span class="hljs-number">365</span> )<font></font>
show()<font></font>
</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/i-/wd/uc/i-wducpridcu1ycejwjntcdcebk.png"><br>
<img src="https://habrastorage.org/webt/dj/zj/cz/djzjcz5rdiiw0t-uvyfzowcibve.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€è¦‹ã™ã‚‹ã¨ã€æ¯é€±ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯éå¸¸ã«å‡ä¸€ã«è¦‹ãˆã¾ã™ãŒã€ã‚¯ãƒªã‚¹ãƒã‚¹ã®æ—¥ã«ä½•ã‹ãŒèµ·ã“ã‚Šã¾ã™ã€‚ã“ã®æœŸé–“ã‚’ã‚‚ã†ä¸€åº¦è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg
<span class="hljs-keyword">import</span> pywt
<span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()<font></font>
<font></font>
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#    'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
df = pd.read_csv(<span class="hljs-string">"births.csv"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span>
df = df[(df.day&gt;=<span class="hljs-number">1</span>) &amp; (df.day&lt;=<span class="hljs-number">31</span>) &amp; (df.births.values &gt; <span class="hljs-number">1000</span>)]<font></font>
<font></font>
<span class="hljs-comment">#  </span>
datetime = pd.to_datetime(df[[<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>]], errors=<span class="hljs-string">'coerce'</span>)<font></font>
df.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'datetime'</span>, datetime)<font></font>
<font></font>
datetime_lim = [ df.datetime.min(), df.datetime.max() ] <font></font>
years_lim = [ df.datetime.min().year, df.datetime.max().year ]<font></font>
births = df[[<span class="hljs-string">'datetime'</span>, <span class="hljs-string">'births'</span>]].groupby(<span class="hljs-string">'datetime'</span>).sum().squeeze()
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_x_yearly</span>(<span class="hljs-params">ax, days, start_year=<span class="hljs-number">1969</span></span>):</span>
    xlim  = (np.round([<span class="hljs-number">0</span>, days]) / <span class="hljs-number">365</span>).astype(np.int32)<font></font>
    ticks = np.arange(xlim[<span class="hljs-number">0</span>], xlim[<span class="hljs-number">1</span>])<font></font>
    ax.set_xticks(ticks*<span class="hljs-number">365</span>)<font></font>
    ax.set_xticklabels(start_year + ticks)<font></font>
<font></font>
<font></font>
births_normed = births-births.mean()<font></font>
<span class="hljs-comment">#        log-Y-axis :-)</span>
scales = scg.periods2scales(np.logspace(np.log10(<span class="hljs-number">2</span>), np.log10(<span class="hljs-number">365</span>*<span class="hljs-number">3</span>), <span class="hljs-number">200</span>))
<span class="hljs-comment">#        log-Y-axis :-)</span><font></font>
cwt = scg.CWT(births_normed, scales=scales) <font></font>
<span class="hljs-comment"># :  1975    1976 </span>
fig = figure(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>))<font></font>
lines = plot(births.index, births.values/<span class="hljs-number">1000</span>, <span class="hljs-string">'.-'</span>)<font></font>
xlim(pd.to_datetime(<span class="hljs-string">"1974-12-01"</span>), pd.to_datetime(<span class="hljs-string">"1975-02-01"</span>))<font></font>
ylabel(<span class="hljs-string">"Nb of birthes [k]"</span>); title(<span class="hljs-string">"Total births per day : 2 monthes zoom"</span>);<font></font>
<font></font>
<span class="hljs-comment">#     </span>
ax  = scg.cws(cwt, figsize=(<span class="hljs-number">13.2</span>, <span class="hljs-number">4</span>), xlabel=<span class="hljs-string">"Year"</span>, ylabel=<span class="hljs-string">"Nb of Day"</span>, <font></font>
             clim=(<span class="hljs-number">0</span>,<span class="hljs-number">2500</span>), yscale=<span class="hljs-string">'log'</span>)<font></font>
set_x_yearly(ax, len(births))<font></font>
xlim = ax.set_xlim( (<span class="hljs-number">1975</span><span class="hljs-number">-1969</span>)*<span class="hljs-number">365</span><span class="hljs-number">-30</span>, (<span class="hljs-number">1975</span><span class="hljs-number">-1969</span>)*<span class="hljs-number">365</span>+<span class="hljs-number">30</span> )<font></font>
show()<font></font>
</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/fx/ks/kp/fxkskpcbci6rcfbfta9ibyltg3w.png"><br>
<br>
<img src="https://habrastorage.org/webt/2w/bo/jp/2wbojp4_gv7rebff34gmej_37qc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚ŒãŒå¹´æœ«ã®å½±éŸ¿ã§ã‚ã‚‹ã“ã¨ã¯æ˜ã‚‰ã‹ã§ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒªã‚¹ãƒã‚¹ï¼š25å¹´12æœˆ23æ—¥ã€25æ—¥ã¯å‡ºç”£æ•°ãŒç•°å¸¸ã«å°‘ãªãã€ä»Šæ—¥ã¯é€±æ¬¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰å¤–ã‚Œã¦ã„ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12æœˆã®ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€1æœˆ1æ—¥ã¨2æ—¥ã«å½±éŸ¿ã‚’å—ã‘ãŸæ—¥ä»˜ã«ä½•ã‚‰ã‹ã®å€¤ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã¨ä¸€è‡´ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®æ—¥ä»˜ã§ã¯ã€é€šå¸¸ã€å€‹äººçš„ãªã‚¤ãƒ™ãƒ³ãƒˆã¯å°‘ãªããªã‚Šã¾ã™ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7.åˆæˆï¼ˆã‚·ã‚¢ãƒ­ã‚°ãƒ©ãƒ ã¯æ­£è¦åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ§‹ç¯‰ã•ã‚Œã€ã™ã¹ã¦ã®ã‚¹ã‚±ãƒ¼ãƒ«ã§èª­ã¿ã‚„ã™ããªã‚Šã¾ã™ï¼‰ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šå ´</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np 
<span class="hljs-keyword">from</span> pylab <span class="hljs-keyword">import</span>*
<span class="hljs-keyword">import</span> scaleogram <span class="hljs-keyword">as</span> scg
<span class="hljs-keyword">import</span> pywt
<span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()<font></font>
<font></font>
<span class="hljs-comment">#         </span>
<span class="hljs-comment">#    'cmor1-1.5'</span>
<span class="hljs-comment">#scg.set_default_wavelet('cmor1-1.5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau5')</span>
<span class="hljs-comment">#scg.set_default_wavelet('cgau1')</span>
<span class="hljs-comment">#scg.set_default_wavelet('shan0.5-2')</span>
<span class="hljs-comment">#scg.set_default_wavelet('mexh')</span>
df = pd.read_csv(<span class="hljs-string">"births.csv"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span>
df = df[(df.day&gt;=<span class="hljs-number">1</span>) &amp; (df.day&lt;=<span class="hljs-number">31</span>) &amp; (df.births.values &gt; <span class="hljs-number">1000</span>)]<font></font>
<font></font>
<span class="hljs-comment">#  </span>
datetime = pd.to_datetime(df[[<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>]], errors=<span class="hljs-string">'coerce'</span>)<font></font>
df.insert(<span class="hljs-number">0</span>, <span class="hljs-string">'datetime'</span>, datetime)<font></font>
<font></font>
datetime_lim = [ df.datetime.min(), df.datetime.max() ] <font></font>
years_lim = [ df.datetime.min().year, df.datetime.max().year ]<font></font>
births = df[[<span class="hljs-string">'datetime'</span>, <span class="hljs-string">'births'</span>]].groupby(<span class="hljs-string">'datetime'</span>).sum().squeeze()
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_x_yearly</span>(<span class="hljs-params">ax, days, start_year=<span class="hljs-number">1969</span></span>):</span>
    xlim  = (np.round([<span class="hljs-number">0</span>, days]) / <span class="hljs-number">365</span>).astype(np.int32)<font></font>
    ticks = np.arange(xlim[<span class="hljs-number">0</span>], xlim[<span class="hljs-number">1</span>])<font></font>
    ax.set_xticks(ticks*<span class="hljs-number">365</span>)<font></font>
    ax.set_xticklabels(start_year + ticks)<font></font>
<font></font>
<font></font>
births_normed = births-births.mean()<font></font>
<span class="hljs-comment">#        log-Y-axis :-)</span>
scales = scg.periods2scales(np.logspace(np.log10(<span class="hljs-number">2</span>), np.log10(<span class="hljs-number">365</span>*<span class="hljs-number">3</span>), <span class="hljs-number">200</span>))
<span class="hljs-comment">#        log-Y-axis :-)</span><font></font>
cwt = scg.CWT(births_normed, scales=scales) <font></font>
ax  = scg.cws(cwt, figsize=(<span class="hljs-number">13.2</span>, <span class="hljs-number">4</span>), xlabel=<span class="hljs-string">"Year"</span>, ylabel=<span class="hljs-string">"Nb of Day"</span>, <font></font>
             clim=(<span class="hljs-number">0</span>,<span class="hljs-number">2500</span>), yscale=<span class="hljs-string">'log'</span>)<font></font>
set_x_yearly(ax, len(births))<font></font>
<font></font>
bbox = dict(boxstyle=<span class="hljs-string">"round"</span>, facecolor=<span class="hljs-string">"w"</span>, edgecolor=<span class="hljs-string">"0.5"</span>)<font></font>
bbox2 = dict(boxstyle=<span class="hljs-string">"round"</span>, facecolor=<span class="hljs-string">"y"</span>, edgecolor=<span class="hljs-string">"0.5"</span>)<font></font>
arrowprops = dict(facecolor=<span class="hljs-string">'white'</span>, shrink=<span class="hljs-number">0.05</span>)<font></font>
arrowprops2 = dict(facecolor=<span class="hljs-string">'yellow'</span>, shrink=<span class="hljs-number">0.05</span>)
<span class="hljs-keyword">for</span> period, label <span class="hljs-keyword">in</span> [ (<span class="hljs-number">3.5</span>, <span class="hljs-string">"half a week"</span>), (<span class="hljs-number">7</span>, <span class="hljs-string">"one week"</span>), (<span class="hljs-number">365</span>/<span class="hljs-number">2</span>, <span class="hljs-string">"half a year"</span>), <font></font>
                      (<span class="hljs-number">365</span>, <span class="hljs-string">"one year"</span>), (<span class="hljs-number">365</span>*<span class="hljs-number">2.8</span>, <span class="hljs-string">"long trends"</span>)]:<font></font>
    text = ax.annotate(label, xy=(<span class="hljs-number">365</span>*<span class="hljs-number">5.5</span>, period), xytext=(<span class="hljs-number">365</span>*<span class="hljs-number">2</span>, period), <font></font>
                       bbox=bbox, arrowprops=arrowprops)<font></font>
text = ax.annotate(<span class="hljs-string">"end of year\neffect"</span>, xy=(<span class="hljs-number">365</span>*<span class="hljs-number">6</span>, <span class="hljs-number">15</span>), xytext=(<span class="hljs-number">365</span>*<span class="hljs-number">3</span>, <span class="hljs-number">50</span>), <font></font>
                   bbox=bbox2, arrowprops=arrowprops2)<font></font>
text = ax.annotate(<span class="hljs-string">"increase in\nvariations *amplitude*"</span>, xy=(<span class="hljs-number">365</span>*<span class="hljs-number">18.5</span>, <span class="hljs-number">7</span>), xytext=(<span class="hljs-number">365</span>*<span class="hljs-number">14</span>, <span class="hljs-number">50</span>), <font></font>
                   bbox=bbox2, arrowprops=arrowprops2)<font></font>
show()</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/96/w4/of/96w4oftizpwwzk0ltfek2jdnm64.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CWTã¯ã€çŸ­æœŸé–“ã«å¤šãã®æƒ…å ±ã‚’æ˜ã‚‰ã‹ã«ã—</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ã™ã€‚ç—…é™¢ã®ç¿’æ…£ã‚’ç¤ºã™é€±ã”ã¨ã®å¤‰å‹•ã¯ã€æ•°åå¹´ã«ã‚ãŸã£ã¦å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
80å¹´ä»£ã«ã¯ã€ç—…é™¢ã®åŠ´åƒç¿’æ…£ã®å¤‰åŒ–ã€å‡ºç”Ÿç‡ã®å¤‰åŒ–ã€ã¾ãŸã¯å˜ç´”ãªäººå£ã®å¤‰åŒ–ã«ã‚ˆã£ã¦å¼•ãèµ·ã“ã•ã‚Œã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹é€±æ¬¡æŒ‡æ¨™ã®å¢—åŠ ãŒã‚ã‚Šã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¾ŒåŠã®åŠå¹´ãƒãƒ³ãƒ‰ã¯æ˜ã‚‰ã‹ã«ç¬¬2é«˜èª¿æ³¢ã§ã™ã€‚</font><font style="vertical-align: inherit;">å¹´é–“ã®å¤‰å‹•ãŒéå¸¸ã«å¼·ã„ãŸã‚ã€3ã‹æœˆã‹ã‚‰1ã‹æœˆã®ã‚¾ãƒ¼ãƒ³ã«ãƒ•ã‚¡ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€3æ¬¡é«˜èª¿æ³¢ãŒåŸå› ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãŸã€ä¼‘æš‡ãŒå‡ºç”Ÿç‡ã«åŠã¼ã™å½±éŸ¿ã«ã‚ˆã£ã¦å¼•ãèµ·ã“ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ã•ã‚‰ã«èª¿æŸ»ãŒå¿…è¦ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¹´æœ«ã®å½±éŸ¿ã¯ã‚¯ãƒªã‚¹ãƒã‚¹ã¨1æœˆ1æ—¥ã«èªã‚ã‚‰ã‚ŒãŸã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€åˆ¥ã®å‘¨æ³¢æ•°æ–¹æ³•ã§ã¯è¦‹ãˆãªã„ã¾ã¾ã§ã‚ã£ãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª¿æŸ»çµæœï¼š</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®å‡ºç‰ˆç‰©ã§ã¯ã€ä¿¡å·ã®å¤‰åŒ–ã®åŸºæœ¬çš„ãªå½¢å¼ãŒã‚¹ã‚«ãƒ­ã‚°ãƒ©ãƒ ã«ã©ã®ã‚ˆã†ã«å¤‰æ›ã•ã‚Œã‚‹ã‹ã‚’è¦‹ã¾ã—ãŸã€‚æ¬¡ã«ã€æ™‚é–“é †ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ä¾‹ã‚’ä½¿ç”¨ã—ã¦ã€CWTãŒæ¨™æº–ãƒ‡ãƒ¼ã‚¿ã«ã©ã®ã‚ˆã†ã«é©ç”¨ã•ã‚Œã‚‹ã‹ã‚’æ®µéšçš„ã«èª¬æ˜ã—ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸Šè¨˜ã®æ‰‹æ³•ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’åˆ†æã—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç•°å¸¸ãªå‹•ä½œã‚’æ¤œå‡ºã™ã‚‹ãŸã‚ã«æ‹¡å¼µã§ãã¾ã™ã€‚ CWTã¯ã€ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¸ã®å…¥åŠ›ã¨ã—ã¦ã¾ã™ã¾ã™ä½¿ç”¨ã•ã‚Œã‚‹å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€ç•°å¸¸ã‚’åˆ†é¡ã¾ãŸã¯æ¤œå‡ºã™ã‚‹æ–°ã—ã„é–¢æ•°ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å„ä¾‹ã¯ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã—ã¦å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€å‰ã®ä¾‹ã¨æ¬¡ã®ä¾‹ã‚’æ·±ãæ˜ã‚Šä¸‹ã’ã‚‹ã“ã¨ãªãã€ã‚¿ã‚¹ã‚¯ã®ä¾‹ã‚’é¸æŠã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ä»»æ„ã®ã‚¦ã‚§ãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã‚’è©¦ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã¨ãˆã°ã€mexhã‚„gaus5ãªã©ã€å„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æœ€åˆã«æŒ‡å®šã•ã‚ŒãŸãƒªã‚¹ãƒˆã‹ã‚‰ã®æ©Ÿèƒ½ã§ã™ã€‚</font><font style="vertical-align: inherit;">ä¾‹1ã€ãã‚Œãã‚Œï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wm/eq/-c/wmeq-co9bi_nfpvrrbncf5bridw.png"><br>
<br>
<img src="https://habrastorage.org/webt/qv/mi/ca/qvmicaco6aoj4bi5zmfwyo9pydm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PSãƒªã‚¹ãƒˆã®å®Ÿç”¨çš„ãªä½¿ç”¨ã®ãŸã‚ã«ã€ãã‚Œã‚‰ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> scaleogram; print(scaleogram .__version__)
<span class="hljs-number">0.9</span><span class="hljs-number">.5</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas; print(pandas .__version__)
<span class="hljs-number">0.24</span><span class="hljs-number">.1</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy; print(numpy .__version__)
<span class="hljs-number">1.16</span><span class="hljs-number">.1</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span>  matplotlib; print(matplotlib .__version__)
<span class="hljs-number">3.0</span><span class="hljs-number">.2</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* .csvãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®å ´åˆã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆ1ã¤ã®åˆ—ï¼‰ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¹´ã€æœˆã€æ—¥ã€æ€§åˆ¥ã€å‡ºç”Ÿ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1969,1,1ã€Fã€4046 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1969,1,1ã€Mã€4440 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1969,1,2 ã€Fã€4454 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1969ã€1ã€2ã€Mã€4548 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ã‚¸ãƒ§ãƒ³0.24.1ãƒ‘ãƒ³ãƒ€ã®å ´åˆã€matplotlibã‚³ãƒ³ãƒãƒ¼ã‚¿ãƒ¼ã‚’æ˜ç¤ºçš„ã«ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚³ãƒ³ãƒãƒ¼ã‚¿ãƒ¼ã‚’ç™»éŒ²ã™ã‚‹ã«ã¯ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> register_matplotlib_converters<font></font>
register_matplotlib_converters()</code></pre></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja454224/index.html">Okkoã§ã®æ¨å¥¨äº‹é …ï¼šã„ãã¤ã‹ã®è¡Œåˆ—ã‚’æ›ã‘åˆã‚ã›ã¦æ•°å„„ãƒ‰ãƒ«ã‚’ç¨¼ãæ–¹æ³•</a></li>
<li><a href="../ja454226/index.html">å††ç­’ç£åŒºã®è¨˜æ†¶ã€‚ãƒ‘ãƒ¼ãƒˆ1.ä»•äº‹ã®åŸå‰‡</a></li>
<li><a href="../ja454232/index.html">ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã®OOPã€‚ãƒ‘ãƒ¼ãƒˆ2 MOSã¨OOP</a></li>
<li><a href="../ja454236/index.html">ANKIãŒå¤–å›½èªã®å­¦ç¿’ã¨é¢æ¥ã®æº–å‚™ã«ã©ã®ã‚ˆã†ã«å½¹ç«‹ã¤ã‹ã«ã¤ã„ã¦ã®2ã¤ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼</a></li>
<li><a href="../ja454238/index.html">ãƒãƒ¼ãƒ´ã‚£ãƒ³ãƒ»ãƒŸãƒ³ã‚¹ã‚­ãƒ¼ã€ŒThe Emotion Machineã€ï¼ˆãƒãƒ–ãƒ©è¨³ã€ç¬¬2ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰</a></li>
<li><a href="../ja454242/index.html">ã€Œã»ã‚‰ã€ãªã‚“ã¦ã‚¸ã‚§ãƒƒãƒˆãƒ‘ãƒƒã‚¯ãªã‚“ã ï¼ã€ã€Œã‚ã€ãªã‚“ã¦ãƒ­ã‚±ãƒƒãƒˆã ï¼ã€ï¼ˆãƒ­ã‚±ãƒƒãƒˆé¸æ‰‹æ¨©ã‹ã‚‰ã®ãƒ¡ãƒ¢ï¼‰</a></li>
<li><a href="../ja454246/index.html">Unity3d GUIã§ä½¿ç”¨ã•ã‚Œã‚‹ã•ã¾ã–ã¾ãªåº§æ¨™</a></li>
<li><a href="../ja454248/index.html">äººå·¥çŸ¥èƒ½ã®æ™‚ä»£ã®è¾²å¥´</a></li>
<li><a href="../ja454252/index.html">æœ‰åãªçµ„ç¹”ã®Webãƒªã‚½ãƒ¼ã‚¹ã§ã•ãˆã€å­ä¾›ã®éã¡ã‹ã‚‰ä¿è­·ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</a></li>
<li><a href="../ja454254/index.html">PowerShellã§Reverse socks5ãƒ—ãƒ­ã‚­ã‚·ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒ‘ãƒ¼ãƒˆ3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>