<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¿â€ğŸ”§ ğŸ¿ ğŸ”‹ ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒãƒƒãƒå‡¦ç†ã®å•é¡Œã¨ãã®è§£æ±ºç­–ï¼ˆãƒ‘ãƒ¼ãƒˆ1ï¼‰ ğŸ˜¡ ğŸ¤¹ğŸ½ #âƒ£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã»ã¨ã‚“ã©ã™ã¹ã¦ã®æœ€æ–°ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è£½å“ã¯ã€ã„ãã¤ã‹ã®ã‚µãƒ¼ãƒ“ã‚¹ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚å¤šãã®å ´åˆã€é•·ã„ã‚µãƒ¼ãƒ“ã‚¹é–“ãƒãƒ£ãƒãƒ«ã®å¿œç­”æ™‚é–“ãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œã®åŸå› ã«ãªã‚Šã¾ã™ã€‚ã“ã®ç¨®ã®å•é¡Œã«å¯¾ã™ã‚‹æ¨™æº–çš„ãªè§£æ±ºç­–ã¯ã€è¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹é–“è¦æ±‚ã‚’1ã¤ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã§ã™ã€‚ã“ã‚Œã¯ãƒãƒƒãƒå‡¦ç†ã¨å‘¼ã°ã‚Œã¾ã™ã€‚
 
 ãƒ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒãƒƒãƒå‡¦ç†ã®å•é¡Œã¨ãã®è§£æ±ºç­–ï¼ˆãƒ‘ãƒ¼ãƒˆ1ï¼‰</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/custis/blog/460291/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/sb/0r/ap/sb0raprlu2jwllu3gasyznuom40.jpeg"></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã»ã¨ã‚“ã©ã™ã¹ã¦ã®æœ€æ–°ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è£½å“ã¯ã€ã„ãã¤ã‹ã®ã‚µãƒ¼ãƒ“ã‚¹ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">å¤šãã®å ´åˆã€é•·ã„ã‚µãƒ¼ãƒ“ã‚¹é–“ãƒãƒ£ãƒãƒ«ã®å¿œç­”æ™‚é–“ãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œã®åŸå› ã«ãªã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ç¨®ã®å•é¡Œã«å¯¾ã™ã‚‹æ¨™æº–çš„ãªè§£æ±ºç­–ã¯ã€è¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹é–“è¦æ±‚ã‚’1ã¤ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã§ã™ã€‚ã“ã‚Œã¯ãƒãƒƒãƒå‡¦ç†ã¨å‘¼ã°ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒƒãƒå‡¦ç†ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¾ãŸã¯ã‚³ãƒ¼ãƒ‰ã®ç†è§£æ€§ã®ç‚¹ã§ãã®çµæœã«æº€è¶³ã§ããªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®æ–¹æ³•ã¯ã€ã‚ãªãŸãŒè€ƒãˆã‚‹ã»ã©ã€ç™ºä¿¡è€…ã«ã¨ã£ã¦ç°¡å˜ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ç›®çš„ã‚„çŠ¶æ³ã«ã‚ˆã£ã¦ã€æ±ºå®šã¯å¤§ããç•°ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç‰¹å®šã®ä¾‹ã«ã¤ã„ã¦ã€ã„ãã¤ã‹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é•·æ‰€ã¨çŸ­æ‰€ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ¢ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ã‹ã‚Šã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€ç§ãŒç¾åœ¨å–ã‚Šçµ„ã‚“ã§ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚µãƒ¼ãƒ“ã‚¹ã®1ã¤ã®ä¾‹ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾‹ã¨ã—ã¦ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®é¸æŠã®èª¬æ˜</font></font></b><div class="spoiler_text">     &nbsp;&nbsp; -   &nbsp;. &nbsp;     &nbsp;     &nbsp;Spring&nbsp;+&nbsp;Kotlin. Kotlin   ( ) Java- &nbsp;C#- ,  ,     &nbsp;,  &nbsp;Java.      Java-, &nbsp;    Kotlin &nbsp;   (  Lombok).   extension-, &nbsp; &nbsp;    Java-  static-,      ,  &nbsp;  .</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ–‡æ›¸æ‰¿èªã‚µãƒ¼ãƒ“ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚èª°ã‹ãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã€ãã‚Œã‚’ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã®ãŸã‚ã«é€ä¿¡ã—ã¾ã™ã€‚ãã®é–“ã«ç·¨é›†ãŒè¡Œã‚ã‚Œã€æœ€çµ‚çš„ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä¸€è²«ã—ã¾ã™ã€‚èª¿æ•´ã‚µãƒ¼ãƒ“ã‚¹è‡ªä½“ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦ä½•ã‚‚èªè­˜ã—ã¦ã„ã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€å°ã•ãªè¿½åŠ æ©Ÿèƒ½ã‚’æŒã¤ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ã®ãƒãƒ£ãƒƒãƒˆã§ã‚â€‹â€‹ã‚Šã€ã“ã“ã§ã¯è€ƒæ…®ã—ã¾ã›ã‚“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã®ãŸã‚ã€ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¯¾å¿œï¼‰ãŒã‚ã‚Šã€ãã‚Œãã‚Œã«äº‹å‰å®šç¾©ã•ã‚ŒãŸä¸€é€£ã®å‚åŠ è€…ãŒã„ã¾ã™ã€‚é€šå¸¸ã®ãƒãƒ£ãƒƒãƒˆã¨åŒæ§˜ã«ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¯ãƒ†ã‚­ã‚¹ãƒˆã¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€è¿”ä¿¡ã‚„è»¢é€ãŒå¯èƒ½ã§ã™ã€‚</font><font style="vertical-align: inherit;">
ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªãƒ³ã‚¯ã¯ã€ä»–ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¸ã®ãƒªãƒ³ã‚¯ã§ã™ã€‚ãã‚Œã¯ã“ã®ã‚ˆã†ã«ç§ãŸã¡ã¨ä½ã‚“ï¼š</font><font style="vertical-align: inherit;">
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒKeycloakã«æ ¼ç´ã—ã€RESTã‚’ä»‹ã—ã¦å–å¾—ã•ã‚Œã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã‚‚åŒã˜ã“ã¨ãŒè¨€ãˆã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãã‚Œã‚‰ã«é–¢ã™ã‚‹ãƒ¡ã‚¿æƒ…å ±ã¯ã€åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<code><font color="7f0055"><b>data&nbsp;class&nbsp;</b></font><font color="3e7eff"><b>ChatMessage</b></font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="3f7f5f">//&nbsp;nullable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;persist<br>
</font><font color="3f7f5f">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">id</font>:&nbsp;<font color="3e7eff"><b>Long</b></font>?&nbsp;<font color="333333">=&nbsp;</font><font color="7f0055"><b>null</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">author</font>:&nbsp;<font color="3e7eff"><b>UserReference</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">message</font>:&nbsp;<font color="3e7eff"><b>String</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="3f7f5f">//&nbsp;-&nbsp;&nbsp;&nbsp;JPA+&nbsp;&nbsp;&nbsp;&nbsp;null,&nbsp;&nbsp;&nbsp;<br>
</font><font color="3f7f5f">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">files</font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>FileReference</b></font><font color="333333">&gt;</font>?&nbsp;<font color="333333">=&nbsp;</font><font color="7f0055"><b>null</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">replyTo</font>:&nbsp;<font color="3e7eff"><b>ChatMessage</b></font>?&nbsp;<font color="333333">=&nbsp;</font><font color="7f0055"><b>null</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">forwardFrom</font>:&nbsp;<font color="3e7eff"><b>ChatMessage</b></font>?&nbsp;<font color="333333">=&nbsp;</font><font color="7f0055"><b>null<br>
</b></font><font color="000066">)</font></code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code><font color="7f0055"><b>typealias&nbsp;</b></font><font color="3e7eff"><b>FileReference&nbsp;</b></font><font color="333333">=&nbsp;</font><font color="3e7eff"><b>Long<br>
</b></font><font color="7f0055"><b>typealias&nbsp;</b></font><font color="3e7eff"><b>UserReference&nbsp;</b></font><font color="333333">=&nbsp;</font><font color="3e7eff"><b>Long<br>
</b></font></code><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ã™ã¹ã¦ã®å‘¼ã³å‡ºã—ã¯</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡ã„è¦æ±‚</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§ã™ã€‚ã¤ã¾ã‚Šã€ã“ã‚Œã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è»¢é€ã™ã‚‹ãŸã‚ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã¯ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå‡¦ç†ã•ã‚Œã‚‹ã®ã«ã‹ã‹ã‚‹æ™‚é–“ã‚ˆã‚Šã‚‚ã¯ã‚‹ã‹ã«å¤§ãããªã‚Šã¾ã™ã€‚ç§ãŸã¡ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¿ãƒ³ãƒ‰ã§ã¯ã€ã“ã®ã‚ˆã†ãªã‚µãƒ¼ãƒ“ã‚¹ã®ä¸€èˆ¬çš„ãªé€šè©±æ™‚é–“ã¯100ãƒŸãƒªç§’ãªã®ã§ã€å°†æ¥ã¯ã“ã‚Œã‚‰ã®æ•°å€¤ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¿…è¦ãªã™ã¹ã¦ã®æƒ…å ±ã‚’å«ã‚€æœ€å¾Œã®Nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ä¿¡ã™ã‚‹ãŸã‚ã«ã€å˜ç´”ãªRESTã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ¢ãƒ‡ãƒ«ã¯ã»ã¨ã‚“ã©åŒã˜ã§ã‚ã‚Šã€ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ¢ãƒ‡ãƒ«ã®é•ã„ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒªãƒ³ã‚¯ã™ã‚‹ãŸã‚ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°‘ã—è§£èª­ã—ãŸå½¢å¼ã§æç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚</font><font style="vertical-align: inherit;">
ä»¥ä¸‹ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Š</font><font style="vertical-align: inherit;">ã¾ã™</font><font style="vertical-align: inherit;">
ã€‚PostfixUIã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®DTOãƒ¢ãƒ‡ãƒ«ã€ã¤ã¾ã‚ŠRESTã‚’é€šã˜ã¦æä¾›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚‚ã®ã‚’æ„å‘³ã—ã¾ã™ã€‚</font></font><br>
<br>
<code><font color="395da1">/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="7f0055"><b>data&nbsp;class&nbsp;</b></font><font color="3e7eff"><b>ReferenceUI</b></font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;url&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">ref</font>:&nbsp;<font color="3e7eff"><b>String</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">name</font>:&nbsp;<font color="3e7eff"><b>String<br>
</b></font><font color="000066">)<br>
</font><font color="7f0055"><b>data&nbsp;class&nbsp;</b></font><font color="3e7eff"><b>ChatMessageUI</b></font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">id</font>:&nbsp;<font color="3e7eff"><b>Long</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">author</font>:&nbsp;<font color="3e7eff"><b>ReferenceUI</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">message</font>:&nbsp;<font color="3e7eff"><b>String</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">files</font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>ReferenceUI</b></font><font color="333333">&gt;,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">replyTo</font>:&nbsp;<font color="3e7eff"><b>ChatMessageUI</b></font>?&nbsp;<font color="333333">=&nbsp;</font><font color="7f0055"><b>null</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="395da1">/**&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
</font><font color="395da1">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">forwardFrom</font>:&nbsp;<font color="3e7eff"><b>ChatMessageUI</b></font>?&nbsp;<font color="333333">=&nbsp;</font><font color="7f0055"><b>null<br>
</b></font><font color="000066">)</font></code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code><font color="7f0055"><b>interface&nbsp;</b></font><font color="3e7eff"><b>ChatRestApi&nbsp;</b></font><font color="000066">{<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getLast</b></font><font color="000066">(</font><font color="000066"><i>n</i></font>:&nbsp;<font color="3e7eff"><b>Int</b></font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>ChatMessageUI</b></font><font color="333333">&gt;<br>
</font><font color="000066">}</font></code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã“ã§ãƒãƒ£ãƒƒãƒˆIDã‚’æ¸¡ã•ãªã„ã“ã¨ã€ãã—ã¦ChatMessage / ChatMessageUIãƒ¢ãƒ‡ãƒ«ã§ã•ãˆæ¸¡ã•ãªã„ã“ã¨ã¯é©šãã¹ãã“ã¨ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€ä¾‹ã®ã‚³ãƒ¼ãƒ‰ãŒä¹±é›‘ã«ãªã‚‰ãªã„ã‚ˆã†ã«æ„å›³çš„ã«è¡Œã£ãŸã‚‚ã®ã§ã™ï¼ˆãƒãƒ£ãƒƒãƒˆã¯åˆ†é›¢ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€1ã¤ã‚ã‚‹ã¨æƒ³å®šã§ãã¾ã™ï¼‰ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å“²å­¦ã®éš ã‚Œå®¶</font></font></b><div class="spoiler_text">&nbsp;&nbsp; ChatMessageUI, &nbsp;&nbsp; ChatRestApi.getLast    List,   &nbsp;    Set. &nbsp;JDK &nbsp;  ,     &nbsp;  (    &nbsp;) &nbsp;.       List &nbsp; ,    Set (  LinkedHashSet, &nbsp; &nbsp;).</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡è¦ãªåˆ¶é™ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿œç­”ã¾ãŸã¯è»¢é€ã®é•·ã„ãƒã‚§ãƒ¼ãƒ³ã¯ãªã„ã¨æƒ³å®šã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¤ã¾ã‚Šã€ãã‚Œã‚‰ã¯ã‚ã‚Šã¾ã™ãŒã€ãã®é•·ã•ã¯3ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¶…ãˆã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒã‚§ãƒ¼ãƒ³å…¨ä½“ã‚’é€ä¿¡ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å—ä¿¡ã™ã‚‹ãŸã‚ã«ã€ãã®ã‚ˆã†ãªAPIãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">
ãƒãƒƒãƒå‡¦ç†ã¯ã€æœ€åˆã¯å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã§æä¾›ã•ã‚Œã€ä¸¡æ–¹ã®å ´åˆï¼šSetï¼ˆè¦ç´ ã®é †åºã‚’ä¿æŒã›ãšã«ã€ä¸€æ„ã®ã‚­ãƒ¼ã‚’ä½¿ç”¨ï¼‰ã¨Listã‚’ä»‹ã—ã¦ï¼ˆé‡è¤‡ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™-é †åºã¯ä¿æŒã•ã‚Œã¾ã™ï¼‰ ã€‚</font></font><br>
<br>
<code><font color="7f0055"><b>interface&nbsp;</b></font><font color="3e7eff"><b>ChatMessageRepository&nbsp;</b></font><font color="000066">{<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>findLast</b></font><font color="000066">(</font><font color="000066"><i>n</i></font>:&nbsp;<font color="3e7eff"><b>Int</b></font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>ChatMessage</b></font><font color="333333">&gt;<br>
</font><font color="000066">}<br>
</font><font color="7f0055"><b>data&nbsp;class&nbsp;</b></font><font color="3e7eff"><b>FileHeadRemote</b></font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">id</font>:&nbsp;<font color="3e7eff"><b>FileReference</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">name</font>:&nbsp;<font color="3e7eff"><b>String<br>
</b></font><font color="000066">)<br>
</font><font color="7f0055"><b>interface&nbsp;</b></font><font color="3e7eff"><b>FileRemoteApi&nbsp;</b></font><font color="000066">{<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getHeadById</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>FileReference</b></font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>FileHeadRemote<br>
</b></font><font color="3e7eff"><b>&nbsp;&nbsp;</b></font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getHeadsByIds</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>Set</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>FileReference</b></font><font color="333333">&gt;</font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>Set</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>FileHeadRemote</b></font><font color="333333">&gt;<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getHeadsByIds</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>FileReference</b></font><font color="333333">&gt;</font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>FileHeadRemote</b></font><font color="333333">&gt;<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getHeadsByChat</b></font><font color="000066">()</font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>FileHeadRemote</b></font><font color="333333">&gt;<br>
</font><font color="000066">}<br>
</font><font color="7f0055"><b>data&nbsp;class&nbsp;</b></font><font color="3e7eff"><b>UserRemote</b></font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">id</font>:&nbsp;<font color="3e7eff"><b>UserReference</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="7f0055"><b>val&nbsp;</b></font><font color="566874">name</font>:&nbsp;<font color="3e7eff"><b>String<br>
</b></font><font color="000066">)<br>
</font><font color="7f0055"><b>interface&nbsp;</b></font><font color="3e7eff"><b>UserRemoteApi&nbsp;</b></font><font color="000066">{<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getUserById</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>UserReference</b></font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>UserRemote<br>
</b></font><font color="3e7eff"><b>&nbsp;&nbsp;</b></font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getUsersByIds</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>Set</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>UserReference</b></font><font color="333333">&gt;</font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>Set</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>UserRemote</b></font><font color="333333">&gt;<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getUsersByIds</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>UserReference</b></font><font color="333333">&gt;</font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>UserRemote</b></font><font color="333333">&gt;<br>
</font><font color="000066">}</font></code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç´ æœ´ãªå®Ÿè£…</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RESTã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®æœ€åˆã®ç´ æœ´ãªå®Ÿè£…ã¯ã€ã»ã¨ã‚“ã©ã®å ´åˆã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">
ã™ã¹ã¦ãŒéå¸¸ã«æ˜ç¢ºã§ã€ã“ã‚Œã¯å¤§ããªãƒ—ãƒ©ã‚¹ã§ã™ã€‚</font><font style="vertical-align: inherit;">
ãƒãƒƒãƒå‡¦ç†ã‚’ä½¿ç”¨ã—ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒƒãƒã§å—ã‘å–ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã”ã¨ã«ã€ä½œæˆè€…ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«UserRemoteApiã‚’1å›å‘¼ã³å‡ºã—ã€ã™ã¹ã¦ã®æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å—ä¿¡ã™ã‚‹ãŸã‚ã«FileRemoteApiã‚’1å›å‘¼ã³å‡ºã—ã¾ã™ã€‚ãã‚ŒãŒã™ã¹ã¦ã®ã‚ˆã†ã§ã™ã€‚è¿½åŠ ã®å‘¼ã³å‡ºã—ã‚’å¿…è¦ã¨ã—ãªã„ã‚ˆã†ã«ã€ChatMessageã®forwardFromãŠã‚ˆã³replyToãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå–å¾—ã•ã‚Œã‚‹ã¨æƒ³å®šã—ã¾ã™ã€‚ãŸã ã—ã€ãã‚Œã‚‰ã‚’ChatMessageUIã«å¤‰æ›ã™ã‚‹ã¨ã€å†å¸°ãŒç™ºç”Ÿã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€ã‚³ãƒ¼ãƒ«ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå¤§å¹…ã«å‘ä¸Šã—ã¾ã™ã€‚å‰è¿°ã—ãŸã‚ˆã†ã«ã€ãƒã‚¹ãƒˆãŒã‚ã¾ã‚Šãªãã€ãƒã‚§ãƒ¼ãƒ³ãŒ3ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«åˆ¶é™ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<code><font color="7f0055"><b>class&nbsp;</b></font><font color="3e7eff"><b>ChatRestController</b></font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>private&nbsp;val&nbsp;</b></font><font color="566874">messageRepository</font>:&nbsp;<font color="3e7eff"><b>ChatMessageRepository</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="7f0055"><b>private&nbsp;val&nbsp;</b></font><font color="566874">userRepository</font>:&nbsp;<font color="3e7eff"><b>UserRemoteApi</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="7f0055"><b>private&nbsp;val&nbsp;</b></font><font color="566874">fileRepository</font>:&nbsp;<font color="3e7eff"><b>FileRemoteApi<br>
</b></font><font color="000066">)&nbsp;</font>:&nbsp;<font color="3e7eff"><b>ChatRestApi&nbsp;</b></font><font color="000066">{<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>override&nbsp;fun&nbsp;</b></font><font color="170591"><b>getLast</b></font><font color="000066">(</font><font color="000066"><i>n</i></font>:&nbsp;<font color="3e7eff"><b>Int</b></font><font color="000066">)&nbsp;</font><font color="333333">=<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="566874">messageRepository</font><font color="333333">.</font><font color="170591">findLast</font><font color="000066">(</font><font color="000066"><i>n</i></font><font color="000066">)<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="333333">.</font><i><b>map&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><font color="000066"><i>it</i></font><font color="333333">.</font><i><b>toFrontModel</b></i><font color="000066">()&nbsp;</font><font color="000066"><b>}<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;</b></font><font color="7f0055"><b>private&nbsp;fun&nbsp;</b></font><font color="3e7eff"><b>ChatMessage</b></font><font color="333333">.</font><font color="170591"><b>toFrontModel</b></font><font color="000066">()</font>:&nbsp;<font color="3e7eff"><b>ChatMessageUI&nbsp;</b></font><font color="333333">=<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="170591">ChatMessageUI</font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">id&nbsp;=&nbsp;</font><font color="566874">id&nbsp;</font>?:&nbsp;<font color="7f0055"><b>throw&nbsp;</b></font><font color="170591">IllegalStateException</font><font color="000066">(</font><b>"</b><font color="333333"><b>$</b></font><font color="7f0055"><b>this</b></font><b>&nbsp;must&nbsp;be&nbsp;persisted"</b><font color="000066">)</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">author&nbsp;=&nbsp;</font><font color="566874">userRepository</font><font color="333333">.</font><font color="170591">getUserById</font><font color="000066">(</font><font color="566874">author</font><font color="000066">)</font><font color="333333">.</font><i><b>toFrontReference</b></i><font color="000066">()</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">message&nbsp;=&nbsp;</font><font color="566874">message</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">files&nbsp;=&nbsp;</font><font color="566874">files</font><font color="333333">?.</font><i><b>let&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><font color="000066"><i>files&nbsp;</i></font><font color="000066"><b>-&gt;<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></font><font color="566874">fileRepository</font><font color="333333">.</font><font color="170591">getHeadsByIds</font><font color="000066">(</font><font color="000066"><i>files</i></font><font color="000066">)<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="333333">.</font><i><b>map&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><b>it</b><font color="333333">.</font><i><b>toFrontReference</b></i><font color="000066">()&nbsp;</font><font color="000066"><b>}<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</b></font>?:&nbsp;<i><b>listOf</b></i><font color="000066">()</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">forwardFrom&nbsp;=&nbsp;</font><font color="566874">forwardFrom</font><font color="333333">?.</font><i><b>toFrontModel</b></i><font color="000066">()</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">replyTo&nbsp;=&nbsp;</font><font color="566874">replyTo</font><font color="333333">?.</font><i><b>toFrontModel</b></i><font color="000066">()<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;)<br>
</font><font color="000066">}<br>
</font></code><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã®çµæœã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã”ã¨ã«2ã‹ã‚‰6ã®å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹å‘¼ã³å‡ºã—ã¨ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ‘ã‚±ãƒƒãƒˆå…¨ä½“ã«å¯¾ã™ã‚‹1ã¤ã®JPAå‘¼ã³å‡ºã—ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">å‘¼ã³å‡ºã—ã®ç·æ•°ã¯ã€2 * N + 1ã‹ã‚‰6 * N + 1ã¾ã§å¤‰åŒ–ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯å®Ÿéš›ã®å˜ä½ã§ã„ãã‚‰ã§ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã«20ä»¶ã®æŠ•ç¨¿ãŒå¿…è¦ã ã¨ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã‚Œã‚‰ã‚’å–å¾—ã™ã‚‹ã«ã¯ã€4ç§’ã‹ã‚‰10ç§’ãŒå¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã²ã©ã„ </font><font style="vertical-align: inherit;">500ãƒŸãƒªç§’ã«ä¼šã„ãŸã„ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãŸã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚’å¤¢è¦‹ã¦ã„ãŸãŸã‚ã€ã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ã‚’2å€ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é•·æ‰€ï¼š</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ¼ãƒ‰ã¯ç°¡æ½”ã§è‡ªå·±æ–‡æ›¸åŒ–ã•ã‚Œã¦ã„ã¾ã™ï¼ˆã‚µãƒãƒ¼ãƒˆã®å¤¢ï¼‰ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªã®ã§ã€è„šã‚’æ’ƒã¤æ©Ÿä¼šã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒãƒå‡¦ç†ã¯ã€ç•°è³ªã«è¦‹ãˆãšã€ãƒ­ã‚¸ãƒƒã‚¯ã«æœ‰æ©Ÿçš„ã«é©åˆã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ã‚¸ãƒƒã‚¯ã®å¤‰æ›´ã¯ç°¡å˜ã«è¡Œã‚ã‚Œã€ãƒ­ãƒ¼ã‚«ãƒ«ã«ãªã‚Šã¾ã™ã€‚</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¤ãƒŠã‚¹ï¼š</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ‘ã‚±ãƒƒãƒˆãŒéå¸¸ã«å°ã•ã„ã¨ã„ã†äº‹å®Ÿã®ãŸã‚ã€ã²ã©ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€å˜ç´”ãªã‚µãƒ¼ãƒ“ã‚¹ã‚„ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã§ã‚ˆãè¦‹ã‚‰ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">å¤‰åŒ–ã®é€Ÿåº¦ãŒé‡è¦ãªå ´åˆã€ã‚·ã‚¹ãƒ†ãƒ ã‚’è¤‡é›‘ã«ã™ã‚‹ä¾¡å€¤ã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">åŒæ™‚ã«ã€éå¸¸ã«å˜ç´”ãªã‚µãƒ¼ãƒ“ã‚¹ã®å ´åˆã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ã²ã©ã„ãŸã‚ã€ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é©ç”¨ç¯„å›²ã¯éå¸¸ã«ç‹­ã„ã§ã™ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜ç´”ãªä¸¦åˆ—å‡¦ç†</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ã¹ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸¦åˆ—å‡¦ç†ã‚’é–‹å§‹ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ã«å¿œã˜ã¦æ™‚é–“ã®ç›´ç·šçš„ãªå¢—åŠ ãŒè§£æ¶ˆã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã®å¤§ããªãƒ”ãƒ¼ã‚¯è² è·ã«ã¤ãªãŒã‚‹ãŸã‚ã€ç‰¹ã«è‰¯ã„æ–¹æ³•ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸¦åˆ—å‡¦ç†ã®å®Ÿè£…ã¯éå¸¸ã«ç°¡å˜ã§ã™ã€‚</font><font style="vertical-align: inherit;">
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸¦åˆ—å‡¦ç†ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ç†æƒ³çš„ã«ã¯300ã€œ700ãƒŸãƒªç§’ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€å˜ç´”ãªå®Ÿè£…ã‚ˆã‚Šã‚‚ã¯ã‚‹ã‹ã«å„ªã‚Œã¦ã„ã¾ã™ãŒã€ãã‚Œã§ã‚‚ååˆ†ãªé€Ÿåº¦ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">
ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€userRepositoryã¨fileRepositoryã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯åŒæœŸçš„ã«å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€ã‚ã¾ã‚ŠåŠ¹ç‡çš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã‚’ä¿®æ­£ã™ã‚‹ã«ã¯ã€å‘¼ã³å‡ºã—ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å¤§å¹…ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ã€CompletionStageï¼ˆåˆ¥åCompletableFutureï¼‰ã‚’é€šã˜ã¦ï¼š</font></font><br>
<br>
<code><font color="7f0055"><b>override&nbsp;fun&nbsp;</b></font><font color="170591"><b>getLast</b></font><font color="000066">(</font><font color="000066"><i>n</i></font>:&nbsp;<font color="3e7eff"><b>Int</b></font><font color="000066">)&nbsp;</font><font color="333333">=<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="566874">messageRepository</font><font color="333333">.</font><font color="170591">findLast</font><font color="000066">(</font><font color="000066"><i>n</i></font><font color="000066">)</font><font color="333333">.</font><font color="170591">parallelStream</font><font color="000066">()<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="333333">.</font><font color="170591">map&nbsp;</font><font color="000066"><b>{&nbsp;</b></font><b>it</b><font color="333333">.</font><i><b>toFrontModel</b></i><font color="000066">()&nbsp;</font><font color="000066"><b>}<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;</b></font><font color="333333">.</font><font color="170591">collect</font><font color="000066">(</font><font color="170591">toList</font><font color="000066">())</font></code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code><font color="7f0055"><b>private&nbsp;fun&nbsp;</b></font><font color="3e7eff"><b>ChatMessage</b></font><font color="333333">.</font><font color="170591"><b>toFrontModel</b></font><font color="000066">()</font>:&nbsp;<font color="3e7eff"><b>ChatMessageUI&nbsp;</b></font><font color="333333">=<br>
</font><font color="333333">&nbsp;&nbsp;</font><font color="3e7eff"><b>CompletableFuture</b></font><font color="333333">.</font><font color="170591">supplyAsync&nbsp;</font><font color="000066"><b>{<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;</b></font><font color="566874">userRepository</font><font color="333333">.</font><font color="170591">getUserById</font><font color="000066">(</font><font color="566874">author</font><font color="000066">)</font><font color="333333">.</font><i><b>toFrontReference</b></i><font color="000066">()<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="000066"><b>}</b></font><font color="333333">.</font><font color="170591">thenCombine</font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="566874">files</font><font color="333333">?.</font><i><b>let&nbsp;</b></i><font color="000066"><b>{<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></font><font color="3e7eff"><b>CompletableFuture</b></font><font color="333333">.</font><font color="170591">supplyAsync&nbsp;</font><font color="000066"><b>{<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></font><font color="566874">fileRepository</font><font color="333333">.</font><font color="170591">getHeadsByIds</font><font color="000066">(</font>files<font color="000066">)</font><font color="333333">.</font><i><b>map&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><b>it</b><font color="333333">.</font><i><b>toFrontReference</b></i><font color="000066">()&nbsp;</font><font color="000066"><b>}<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</b></font>?:&nbsp;<font color="3e7eff"><b>CompletableFuture</b></font><font color="333333">.</font><font color="170591">completedFuture</font><font color="000066">(</font><i><b>listOf</b></i><font color="000066">())<br>
</font><font color="000066">&nbsp;&nbsp;)&nbsp;</font><font color="000066"><b>{&nbsp;</b></font><font color="000066"><i>author</i></font><font color="333333">,&nbsp;</font><font color="000066"><i>files&nbsp;</i></font><font color="000066"><b>-&gt;<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;</b></font><font color="170591">ChatMessageUI</font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">id&nbsp;=&nbsp;</font><font color="566874">id&nbsp;</font>?:&nbsp;<font color="7f0055"><b>throw&nbsp;</b></font><font color="170591">IllegalStateException</font><font color="000066">(</font><b>"</b><font color="333333"><b>$</b></font><font color="7f0055"><b>this</b></font><b>&nbsp;must&nbsp;be&nbsp;persisted"</b><font color="000066">)</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">author&nbsp;=&nbsp;</font><font color="000066"><i>author</i></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">message&nbsp;=&nbsp;</font><font color="566874">message</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">files&nbsp;=&nbsp;</font><font color="000066"><i>files</i></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">forwardFrom&nbsp;=&nbsp;</font><font color="566874">forwardFrom</font><font color="333333">?.</font><i><b>toFrontModel</b></i><font color="000066">()</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">replyTo&nbsp;=&nbsp;</font><font color="566874">replyTo</font><font color="333333">?.</font><i><b>toFrontModel</b></i><font color="000066">()<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;)<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="000066"><b>}</b></font><font color="333333">.</font><font color="170591">get</font><font color="000066">()</font><font color="333333">!!</font></code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åˆã¯å˜ç´”ãªãƒãƒƒãƒ”ãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ãŒä¸æ˜ç¢ºã«ãªã£ãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€çµæœãŒä½¿ç”¨ã•ã‚ŒãŸå ´æ‰€ã‹ã‚‰å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹å‘¼ã³å‡ºã—ã‚’åˆ†é›¢ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸãŸã‚ã§ã™ã€‚ã“ã‚Œè‡ªä½“ã¯æ‚ªãã‚ã‚Šã¾ã›ã‚“ã€‚ã—ã‹ã—ã€å‘¼ã³å‡ºã—ã®çµ„ã¿åˆã‚ã›ã¯ã‚ã¾ã‚Šã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆã«è¦‹ãˆãšã€å…¸å‹çš„ãªåå¿œå‹ã€ŒãƒŒãƒ¼ãƒ‰ãƒ«ã€ã«ä¼¼ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚³ãƒ«ãƒ¼ãƒãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã™ã¹ã¦ãŒã¾ã¨ã‚‚ã«è¦‹ãˆã¾ã™ã€‚</font><font style="vertical-align: inherit;">
å ´æ‰€ï¼š</font><font style="vertical-align: inherit;">
ç†è«–çš„ã«ã¯ã€ã“ã®ã‚ˆã†ãªä¸¦åˆ—å‡¦ç†ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€äºˆæƒ³ã«è¿‘ã„200ã€œ400ãƒŸãƒªç§’ã«ãªã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">
æ®‹å¿µãªãŒã‚‰ã€ã“ã®ã‚ˆã†ãªé©åˆ‡ãªä¸¦åˆ—åŒ–ã¯è¡Œã‚ã‚Œãšã€è¦‹è¿”ã‚Šã¯ã‹ãªã‚Šæ®‹é…·ã§ã™ï¼šåŒæ™‚ã«æ•°äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæ¥­ã—ã¦ã„ã‚‹ã ã‘ã§ã€ä¸€é€£ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚µãƒ¼ãƒ“ã‚¹ã«è½ã¡ã€ãã‚Œã§ã‚‚ä¸¦åˆ—å‡¦ç†ã•ã‚Œãªã„ãŸã‚ã€æ‚²ã—ã„4ç§’ã«æˆ»ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<code><font color="7f0055"><b>private&nbsp;fun&nbsp;</b></font><font color="3e7eff"><b>ChatMessage</b></font><font color="333333">.</font><font color="170591"><b>toFrontModel</b></font><font color="000066">()</font>:&nbsp;<font color="3e7eff"><b>ChatMessageUI&nbsp;</b></font><font color="333333">=<br>
</font><font color="333333">&nbsp;&nbsp;</font><i><b>join</b></i><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="000066"><b>{&nbsp;</b></font><font color="566874">userRepository</font><font color="333333">.</font><font color="170591">getUserById</font><font color="000066">(</font><font color="566874">author</font><font color="000066">)</font><font color="333333">.</font><i><b>toFrontReference</b></i><font color="000066">()&nbsp;</font><font color="000066"><b>}</b></font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="000066"><b>{&nbsp;</b></font><font color="566874">files</font><font color="333333">?.</font><i><b>let&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><font color="566874">fileRepository</font><font color="333333">.</font><font color="170591">getHeadsByIds</font><font color="000066">(</font>files<font color="000066">)<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="333333">.</font><i><b>map&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><b>it</b><font color="333333">.</font><i><b>toFrontReference</b></i><font color="000066">()&nbsp;</font><font color="000066"><b>}&nbsp;}&nbsp;</b></font>?:&nbsp;<i><b>listOf</b></i><font color="000066">()&nbsp;</font><font color="000066"><b>}<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;</b></font><font color="000066">)</font><font color="333333">.</font><i><b>let&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><font color="000066">(</font><font color="170591">author</font><font color="333333">,&nbsp;</font><font color="170591">files</font><font color="000066">)&nbsp;</font><font color="000066"><b>-&gt;<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;</b></font><font color="170591">ChatMessageUI</font><font color="000066">(<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">id&nbsp;=&nbsp;</font><font color="566874">id&nbsp;</font>?:&nbsp;<font color="7f0055"><b>throw&nbsp;</b></font><font color="170591">IllegalStateException</font><font color="000066">(</font><b>"</b><font color="333333"><b>$</b></font><font color="7f0055"><b>this</b></font><b>&nbsp;must&nbsp;be&nbsp;persisted"</b><font color="000066">)</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">author&nbsp;=&nbsp;</font><font color="170591">author</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">message&nbsp;=&nbsp;</font><font color="566874">message</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">files&nbsp;=&nbsp;</font><font color="170591">files</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">forwardFrom&nbsp;=&nbsp;</font><font color="566874">forwardFrom</font><font color="333333">?.</font><i><b>toFrontModel</b></i><font color="000066">()</font><font color="333333">,<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="4a86e8">replyTo&nbsp;=&nbsp;</font><font color="566874">replyTo</font><font color="333333">?.</font><i><b>toFrontModel</b></i><font color="000066">()<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;)<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="000066"><b>}</b></font></code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code><font color="7f0055"><b>fun&nbsp;</b></font><font color="333333">&lt;</font><font color="000066"><i>A</i></font><font color="333333">,&nbsp;</font><font color="000066"><i>B</i></font><font color="333333">&gt;&nbsp;</font><font color="170591"><b>join</b></font><font color="000066">(</font><font color="000066"><i>a</i></font>:&nbsp;<font color="000066">()&nbsp;-&gt;&nbsp;</font><font color="000066"><i>A</i></font><font color="333333">,&nbsp;</font><font color="000066"><i>b</i></font>:&nbsp;<font color="000066">()&nbsp;-&gt;&nbsp;</font><font color="000066"><i>B</i></font><font color="000066">)&nbsp;</font><font color="333333">=<br>
</font><font color="333333">&nbsp;&nbsp;</font><i><b>runBlocking</b></i><font color="000066">(</font><font color="05314d"><b>IO</b></font><font color="000066">)&nbsp;</font><font color="000066"><b>{<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;</b></font><i><b>awaitAll</b></i><font color="000066">(</font><i><b>async&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><font color="3e7eff"><b>a</b></font><font color="000066">()&nbsp;</font><font color="000066"><b>}</b></font><font color="333333">,&nbsp;</font><i><b>async&nbsp;</b></i><font color="000066"><b>{&nbsp;</b></font><font color="3e7eff"><b>b</b></font><font color="000066">()&nbsp;</font><font color="000066"><b>}</b></font><font color="000066">)<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="000066"><b>}</b></font><font color="333333">.</font><i><b>let&nbsp;</b></i><font color="000066"><b>{<br>
</b></font><font color="000066"><b>&nbsp;&nbsp;&nbsp;&nbsp;</b></font><font color="000066"><i>it</i></font><font color="000066">[</font><font color="333333"><b>0</b></font><font color="000066">]&nbsp;</font><font color="7f0055"><b>as&nbsp;</b></font><font color="000066"><i>A&nbsp;</i></font><i><b>to&nbsp;</b></i><font color="000066"><i>it</i></font><font color="000066">[</font><font color="333333"><b>1</b></font><font color="000066">]&nbsp;</font><font color="7f0055"><b>as&nbsp;</b></font><font color="000066"><i>B<br>
</i></font><font color="000066"><i>&nbsp;&nbsp;</i></font><font color="000066"><b>}</b></font></code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚ˆã†ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã—ãŸå ´åˆã®ç§ã®çµæœã¯ã€20ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã«1300ã€œ1700 msã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯æœ€åˆã®å®Ÿè£…ã‚ˆã‚Šã‚‚é«˜é€Ÿã§ã™ãŒã€ãã‚Œã§ã‚‚å•é¡Œã¯è§£æ±ºã—ã¾ã›ã‚“ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸¦åˆ—ã‚¯ã‚¨ãƒªã®ä»£æ›¿ä½¿ç”¨</font></font></b><div class="spoiler_text">  &nbsp;     ? ,         :<br>
<br>
<code><font color="7f0055"><b>interface&nbsp;</b></font><font color="3e7eff"><b>UserRemoteApi&nbsp;</b></font><font color="000066">{<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getUserById</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>UserReference</b></font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>UserRemote<br>
</b></font><font color="3e7eff"><b>&nbsp;&nbsp;</b></font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getUsersByIds</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>Set</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>UserReference</b></font><font color="333333">&gt;</font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>Set</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>UserRemote</b></font><font color="333333">&gt;&nbsp;=<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="000066"><i>id</i></font><font color="333333">.</font><font color="170591">parallelStream</font><font color="000066">()<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="333333">.</font><font color="170591">map&nbsp;</font><font color="000066"><b>{&nbsp;</b></font><font color="170591">getUserById</font><font color="000066">(</font><b>it</b><font color="000066">)&nbsp;</font><font color="000066"><b>}</b></font><font color="333333">.</font><font color="170591">collect</font><font color="000066">(</font><font color="170591">toSet</font><font color="000066">())<br>
</font><font color="000066">&nbsp;&nbsp;</font><font color="7f0055"><b>fun&nbsp;</b></font><font color="170591"><b>getUsersByIds</b></font><font color="000066">(</font><font color="000066"><i>id</i></font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>UserReference</b></font><font color="333333">&gt;</font><font color="000066">)</font>:&nbsp;<font color="3e7eff"><b>List</b></font><font color="333333">&lt;</font><font color="3e7eff"><b>UserRemote</b></font><font color="333333">&gt;&nbsp;=<br>
</font><font color="333333">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="000066"><i>id</i></font><font color="333333">.</font><font color="170591">parallelStream</font><font color="000066">()<br>
</font><font color="000066">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="333333">.</font><font color="170591">map&nbsp;</font><font color="000066"><b>{&nbsp;</b></font><font color="170591">getUserById</font><font color="000066">(</font><font color="000066"><i>it</i></font><font color="000066">)&nbsp;</font><font color="000066"><b>}</b></font><font color="333333">.</font><font color="170591">collect</font><font color="000066">(</font><font color="170591">toList</font><font color="000066">())<br>
</font><font color="000066">}</font></code><br>
<br>
  ,          .</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é•·æ‰€ï¼š</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒæ™‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†ã®ç°¡å˜ãªå®Ÿè£…ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å„ªã‚ŒãŸã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€‚</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¤ãƒŠã‚¹ï¼š</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç•°ãªã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä¸¦è¡Œå‡¦ç†ã™ã‚‹éš›ã«ã€ãƒ‡ãƒ¼ã‚¿ã®å—ä¿¡ã¨å‡¦ç†ã‚’åˆ†é›¢ã™ã‚‹å¿…è¦æ€§ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚µãƒ¼ãƒ“ã‚¹ã®è² è·ã®å¢—åŠ ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é©ç”¨ç¯„å›²ã¯å˜ç´”ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã»ã¼åŒã˜ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ç„¡æ…ˆæ‚²ãªæ‚ªç”¨ã®ãŸã‚ã«ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ•°å›å‘ä¸Šã•ã›ãŸã„å ´åˆã¯ã€ä¸¦åˆ—ã‚¯ã‚¨ãƒªãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ç†ã«ã‹ãªã£ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ä¾‹ã§ã¯ã€ç”Ÿç”£æ€§ã¯2.5å€ã«å‘ä¸Šã—ã¾ã—ãŸãŒã€ã“ã‚Œã§ã¯æ˜ã‚‰ã‹ã«ååˆ†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã—ã¦JPAã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚ã¤ã¾ã‚Šã€å—ä¿¡ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã«æ ¼ç´ã—ã¦ã€å†åº¦å—ä¿¡ã—ãªã„ã‚ˆã†ã«ã—ã¾ã™ï¼ˆãƒãƒƒãƒå‡¦ç†ä¸­ã‚‚å«ã‚€ï¼‰ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚ˆã†ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’è‡ªåˆ†ã§ä½œæˆã—ãŸã‚Šã€@ Cacheableã§Springã‚’ä½¿ç”¨ã—ãŸã‚Šã€EhCacheã®ã‚ˆã†ãªæ—¢è£½ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å¸¸ã«æ‰‹å‹•ã§ä½¿ç”¨ã—ãŸã‚Šã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€èˆ¬çš„ãªå•é¡Œã¯ã€ãƒ’ãƒƒãƒˆãŒã‚ã‚‹å ´åˆã«ã®ã¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã¨ã„ã†äº‹å®Ÿã«é–¢é€£ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç§ãŸã¡ã®å ´åˆã€ä½œæˆè€…ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆãŸã¨ãˆã°ã€50ï¼…ï¼‰ã¸ã®ãƒ’ãƒƒãƒˆã¯éå¸¸ã«å¯èƒ½æ€§ãŒé«˜ãã€ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ’ãƒƒãƒˆã¯ã¾ã£ãŸãã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã„ãã¤ã‹ã®æ”¹å–„ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ãŒã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯æ ¹æœ¬çš„ã«å¤‰åŒ–ã—ã¾ã›ã‚“ï¼ˆãã—ã¦ç§ãŸã¡ã¯ãƒ–ãƒ¬ãƒ¼ã‚¯ã‚¹ãƒ«ãƒ¼ã‚’å¿…è¦ã¨ã—ã¾ã™ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ï¼ˆé•·ã„ï¼‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã¯ã€è¤‡é›‘ãªç„¡åŠ¹åŒ–ãƒ­ã‚¸ãƒƒã‚¯ãŒå¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">ä¸€èˆ¬ã«ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã‚ˆã†ã«ãªã‚‹ã®ãŒé…ã„ã»ã©ã€ã‚ˆã‚Šè‰¯ã„æ–¹æ³•ã§ã™ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é•·æ‰€ï¼š</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã›ãšã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ•°å€ã«å‘ä¸Šã—ã¾ã™ï¼ˆå ´åˆã«ã‚ˆã£ã¦ã¯ï¼‰ã€‚</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¤ãƒŠã‚¹ï¼š</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸é©åˆ‡ã«ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‰¹ã«é•·ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã®å¤§ããªãƒ¡ãƒ¢ãƒªã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¤‡é›‘ãªç„¡åŠ¹åŒ–ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã®å›°é›£ãªå•é¡Œã«ã¤ãªãŒã‚‹ã‚¨ãƒ©ãƒ¼ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤šãã®å ´åˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ãƒ‡ã‚¶ã‚¤ãƒ³ã®å•é¡Œã‚’è¿…é€Ÿã«ä¿®æ­£ã™ã‚‹ãŸã‚ã«ã®ã¿ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒãªã„ã¨ã„ã†æ„å‘³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€å¸¸ã«æ…é‡ã«æ‰±ã„ã€çµæœã¨ã—ã¦å¾—ã‚‰ã‚Œã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Šã‚’æœ€åˆã«è©•ä¾¡ã—ã¦ã‹ã‚‰ã€æ±ºå®šã‚’ä¸‹ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ä¾‹ã§ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒç´„25ï¼…å‘ä¸Šã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">åŒæ™‚ã«ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã¯å¤šãã®æ¬ ç‚¹ãŒã‚ã‚‹ãŸã‚ã€ã“ã“ã§ã¯ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¦‚è¦</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã“ã§ã€ãƒãƒƒãƒå‡¦ç†ã‚’ä½¿ç”¨ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®ç´ æœ´ãªå®Ÿè£…ã¨ã€ãã‚Œã‚’é«˜é€ŸåŒ–ã™ã‚‹ã„ãã¤ã‹ã®ç°¡å˜ãªæ–¹æ³•ã‚’è¦‹ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚‰ã™ã¹ã¦ã®æ–¹æ³•ã®ä¸»ãªåˆ©ç‚¹ã¯å˜ç´”ã•ã§ã‚ã‚Šã€ãã“ã‹ã‚‰å¤šãã®å¿«é©ãªçµæœãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚‰ã®æ–¹æ³•ã®ä¸€èˆ¬çš„ãªå•é¡Œã¯ã€ä¸»ã«ãƒ‘ã‚±ãƒƒãƒˆã‚µã‚¤ã‚ºãŒåŸå› ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã™ã‚‹ã“ã¨ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€ã“ã‚Œã‚‰ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒé©ã•ãªã„å ´åˆã¯ã€ã‚ˆã‚Šæ ¹æœ¬çš„ãªæ–¹æ³•ã‚’æ¤œè¨ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è§£æ±ºç­–ã‚’æ¢ã™ã“ã¨ãŒã§ãã‚‹2ã¤ã®ä¸»è¦ãªé ˜åŸŸãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ã®éåŒæœŸå‡¦ç†ï¼ˆãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã‚·ãƒ•ãƒˆãŒå¿…è¦ãªãŸã‚ã€ã“ã®è¨˜äº‹ã¯è€ƒæ…®ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼‰</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒæœŸå‡¦ç†ã‚’ç¶­æŒã—ãªãŒã‚‰ã®ãƒ‘ãƒƒã‚¯ã®æ‹¡å¤§ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ³ãƒ‰ãƒ«ã‚’æ‹¡å¤§ã™ã‚‹ã¨ã€å¤–éƒ¨å‘¼ã³å‡ºã—ã®æ•°ãŒå¤§å¹…ã«å‰Šæ¸›ã•ã‚Œã€åŒæ™‚ã«ã‚³ãƒ¼ãƒ‰ã®åŒæœŸãŒç¶­æŒã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">è¨˜äº‹ã®æ¬¡ã®éƒ¨åˆ†ã§ã¯ã€ã“ã®ãƒˆãƒ”ãƒƒã‚¯ã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja460279/index.html">100å„„å¥‘ç´„ï¼šå›½é˜²ç·çœã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’èª°ãŒæ‰±ã†ã‹</a></li>
<li><a href="../ja460281/index.html">UXãƒ©ã‚¤ã‚¿ãƒ¼ãŒè£½å“ã®æ”¹å–„ã«ã©ã®ã‚ˆã†ã«å½¹ç«‹ã¤ã‹</a></li>
<li><a href="../ja460283/index.html">æ–°ã—ã„æ—¥æ›œå¤§å·¥ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª</a></li>
<li><a href="../ja460285/index.html">PHPã‚’ç”¨æ„ã—ã¾ã™ã€‚whileã€foreachã€array_walkã€ãã®ä»–ã®æ€–ã„è¨€è‘‰ã¯ã©ã†ã§ã™ã‹</a></li>
<li><a href="../ja460287/index.html">ãƒ«ãƒãƒƒãƒˆãƒ‹ãƒ¥ãƒ¼ã‚¹è¦–è¦šåŒ–</a></li>
<li><a href="../ja460295/index.html">Rustã§å±é™ºã¨ã¯ã©ã†ã„ã†æ„å‘³ã§ã™ã‹ï¼Ÿ</a></li>
<li><a href="../ja460297/index.html">WeakRef-ECMAScriptæ¨™æº–ã«è¿½åŠ ã™ã‚‹ãŸã‚ã®ææ¡ˆ</a></li>
<li><a href="../ja460301/index.html">æ–°ä¸–ä»£ãƒã‚¤ãƒ‘ãƒ¯ãƒ¼LEDãƒ©ãƒ³ãƒ—</a></li>
<li><a href="../ja460305/index.html">AERODISKã‚¨ãƒ³ã‚¸ãƒ³ï¼šå£Šæ»…çš„ã€‚ãƒ‘ãƒ¼ãƒˆ2. Metrocluster</a></li>
<li><a href="../ja460307/index.html">Computer Vision Mail.ruãƒãƒ¼ãƒ ã®ãƒ¢ãƒ‡ãƒªãƒ³ã‚°çµŒé¨“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>