<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♋️ 👩🏾‍🔬 👩🏿‍🎓 Wechat支払いの解析 🎾 👲🏼 💠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="中国のサードパーティ決済市場は非常に広大ですが、携帯電話メーカー、携帯電話会社ごとにeウォレットがあり、評価には数十の名前があります。 。 3mbangによると、2018年にAlipeuはモバイル決済で市場の52.5％を所有し、Tensent-36.7％（モバイル端末を使用したトランザクション数によ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wechat支払いの解析</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470752/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中国のサードパーティ決済市場は非常に広大ですが、携帯電話メーカー、携帯電話会社ごとにeウォレットがあり、評価には数十の名前があります。 。 3mbangによると、2018年にAlipeuはモバイル決済で市場の52.5％を所有し、Tensent-36.7％（モバイル端末を使用したトランザクション数による）を所有していました。電話だけでなくすべての電子機器を考慮すると、統計は少し異なります-Alipeyの44.5％とTensentの30.3％。いずれにせよ、「私は電子決済を接続する必要がある」という考えで、初心者（または上級）の起業家は、この2つの名前を頭に持っています。そして、99％のケースではこれで十分です-靴の取引用IP、路上でのヌードルトレイ、何百万人もの訪問者がいる深刻なサイトのオープンに関するものです。他のすべての支払い-はい、彼らは望ましいです、彼らには利点がありますが、基本的なセットはこれら2つです。それらを詳細に検討します。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然、トピックは広すぎます。そして何年にもわたって、両方のネットワークは巨大で独立したシステム形成製品の規模に成長しました（少なくとも、Wechat（Tencentを介した支払いの主なツールであるメッセンジャープロセッサに基づく）がウォレットを介して、状態の存在の重要性について語っています一部の地域ではWechatが電子IDのテストを開始しましたが、無限を把握することはできません。各ネットワークは、食品の配達や割引クーポンの販売から投資プラットフォームや信用調査所まで、何百もの関連サービスで繁栄しています。初心者のビジネスマンの観点から、これらすべてを検討します。彼は、電子決済なしでは2019年に破滅する運命にあると気付いたので、ここから始め、今後の記事で続けます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、Wechatは次の支払いソリューションを提供しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
付款码支付-支払いコードによる支払い。</font><font style="vertical-align: inherit;">ユーザーは、個人の支払いコード（18桁のバーコードまたはQRコードを含む）が表示されているページで自分のウィジェットを開きます。売り手は、このコードを読み取ることにより、ユーザーのアカウントから彼が決定した金額を差し引きます。</font><font style="vertical-align: inherit;">つまり、システム側からは次のようになります。</font></font><br>
<br>
<pre><code class="xml hljs">   <span class="hljs-tag">&lt;<span class="hljs-name">appid</span>&gt;</span>wx11112222aaaabbbb<span class="hljs-tag">&lt;/<span class="hljs-name">appid</span>&gt;</span> - ID      
   <span class="hljs-tag">&lt;<span class="hljs-name">attach</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">attach</span>&gt;</span> -   (  )
   <span class="hljs-tag">&lt;<span class="hljs-name">auth_code</span>&gt;</span>120269300684844649<span class="hljs-tag">&lt;/<span class="hljs-name">auth_code</span>&gt;</span> -    
   <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span> -   -     
   <span class="hljs-tag">&lt;<span class="hljs-name">device_info</span>&gt;</span>1000<span class="hljs-tag">&lt;/<span class="hljs-name">device_info</span>&gt;</span> -   
   <span class="hljs-tag">&lt;<span class="hljs-name">goods_tag</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">goods_tag</span>&gt;</span> -    ,    
   <span class="hljs-tag">&lt;<span class="hljs-name">mch_id</span>&gt;</span>10000100<span class="hljs-tag">&lt;/<span class="hljs-name">mch_id</span>&gt;</span> - ID 
   <span class="hljs-tag">&lt;<span class="hljs-name">nonce_str</span>&gt;</span>8aaee146b1dee7cec9100add9b96cbe2<span class="hljs-tag">&lt;/<span class="hljs-name">nonce_str</span>&gt;</span> -    
   <span class="hljs-tag">&lt;<span class="hljs-name">out_trade_no</span>&gt;</span>1415757673<span class="hljs-tag">&lt;/<span class="hljs-name">out_trade_no</span>&gt;</span> -     
   <span class="hljs-tag">&lt;<span class="hljs-name">spbill_create_ip</span>&gt;</span>14.17.22.52<span class="hljs-tag">&lt;/<span class="hljs-name">spbill_create_ip</span>&gt;</span> IP 
   <span class="hljs-tag">&lt;<span class="hljs-name">time_expire</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">time_expire</span>&gt;</span> ,    
   <span class="hljs-tag">&lt;<span class="hljs-name">total_fee</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">total_fee</span>&gt;</span>   
   <span class="hljs-tag">&lt;<span class="hljs-name">sign</span>&gt;</span>C29DB7DB1FD4136B84AE35604756362C<span class="hljs-tag">&lt;/<span class="hljs-name">sign</span>&gt;</span> - 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、大まかに言えば、これは売り手が孵化するために送信するフォームであり、毎回買い手の金額と支払いコードのみが変更されます。</font><font style="vertical-align: inherit;">そして、それに応じて、メソッドの危険性は誰にでもすぐにわかります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">借方に引き落とされるまで、買い手には金額が表示されません</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">悪意のある売り手は支払いコードを学んだので、知らないうちにいつでも買い手の口座から任意の金額を引き落とすことができます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし、コードは1回限りであり、Wichatの起動ごとに変化し、借方金額の通知は同じ秒で行われるため、このタイプの支払いによる詐欺は非常に問題になります。</font><font style="vertical-align: inherit;">この方法は、ほとんどすべてのオフラインストア、マクドナルドのセルフサービスターミナル、およびバーコードスキャナーを設置できるほぼすべての場所、および顧客がスキャナーに物理的にアクセスできる場所に根付いています。</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/g5/7z/x7/g57zx7alaf4m4riynx_lrbnbwy8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネイティブペイメント。</font><font style="vertical-align: inherit;">最初の方法とは完全に逆です。売り手が自分のデータと注文金額でQRコードを生成し、買い手が彼のWechatを介してそれをスキャンし、支払いを確認するという事実に基づいています。</font><font style="vertical-align: inherit;">利点は明白です：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">買い手は支払いまでに支払うべき金額を見ます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての決定は購入者が行います。コードをスキャンした後でも、支払いを拒否することができます。</font><font style="vertical-align: inherit;">スキャンするかどうかの決定も彼によって行われます。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この方法は、更新されたQRコードを最初にデスクトップWebサイトに表示できる画面がある場所に根付きました。これは、単一の大量生産品がある場所でも見られます。たとえば、スカイパークの入場券は、Vichatのネイティブ決済を通じて販売されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9g/wp/md/9gwpmd1opikumijxxn93qvjmqyy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本質的に、ネイティブ支払いはweixin内のリンクです：// Wechat組み込みブラウザーで開くwxpay形式。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の両方の方法の欠点は、フィードバックがまったくないことと、特定のユーザーの支払いをパーソナライズする機能がないことです。つまり、入場券を販売するだけで十分です。支払いが完了したことが確認され、チケットが発行されます。次の訪問者が適しています。ただし、各ユーザーにパーソナライズされたチケットを発行する（自分の名前をWichatから引き出す）場合、そのような支払いを使用することはできません。注文の支払いと確認が完了すると、売り手と買い手の間の通信は終了します。そして、売り手が見る最大のものは、12-31のユーザー123456789が売り手98765454321に20元を支払ったというメッセージです。したがって、他のタイプの支払いがますます人気を得ています。しかし、それらについて少し後で。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APP支払い、またはサードパーティアプリケーションでの支払い。ここでも、すべてが非常に単純です。そのような支払いを使用する唯一のシナリオは、モバイルアプリケーションです。例えば、ネスレ水配達アプリ。ユーザーが水を注文し、「支払い」をクリックすると、Nestleアプリケーションはアプリ間通信を介して、支払いが行われるWechatアプリケーションを呼び出します。取引が完了すると、Wechatは情報をネスレアプリケーションに送り返し、注文12345の支払いが成功したことを通知します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/j1/pi/sa/j1pisaznwobjydbtlv5rf644oxm.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H5の支払い。本質的に、これはネイティブ決済の更新バージョンです。モバイルトラフィックはかなり長い間デスクトップトラフィックよりも優勢であり、ネイティブの支払いは明らかな理由で電話で根付かなかったため（主に、画面に表示されている電話でQRコードをスキャンするために、複雑なミラーシステム、別の電話、またはシリーズの30分ジェスチャー（コードをアルバムに保存、開く、画像からスキャンを選択）が必要な場合は、H5の支払いが表示されました。実際、これは単なるweixin：//形式のリンクであり、クリックすると製品の起動を提案し、トランザクションの完了時にコールバックに情報を提供します</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fe/40/sh/fe40shestiwmlqkuxa6t3ndcdwy.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSAPIの支払い。 Wichatが1つの屋根の下ですべてを組み合わせ、すべてのトランザクションを組み込みのブラウザで実行する最初の試み。また、オフラインでの支払い、サイトへの埋め込み、およびパブリックアカウントでの支払いのためのコードの生成もサポートしています。この試みは率直に言って失敗し、現在では数か所で発見されています。しかし、それはわずかに低い小さなアプリケーションの出現の前提条件となりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、もちろん、2つのタイプの支払いに言及する価値があります。これらは、純粋な支払いではありませんが、非常に人気があります。</font></font><br>
<br>
<ol>
<li>-.             .   QR-  ,       . ,  , ,     ,       ,           .   ,          Wechat,          .    (个体工商户）-   ,    ,  ,         - .</li>
<li>  .         ,       iapppay.com,   QR-     \  .  , ,       .</li>
<li>  ,       —   小程序.       « ». 小程序 — ,  , -,       .   —     QR-      .         ,      API  —     ,  ,     ,       —    .         ,   . , ,     .          ,          .           ,        ,   -  . </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可能な実装例から：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小程序KTV同乐迪。</font><font style="vertical-align: inherit;">部屋に入ってテーブルのQRコードをスキャンすると、曲を注文したり、ビールを購入したり、調査に参加したり、割引を受けたり、志​​を同じくする退屈な女の子をWichatアプリケーションから見つけたりすることができます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barbecue Poly点串arrive-到着してテーブルのQRコードをスキャンした後は、ウェイターに電話することはできませんが、アプリケーションで肉を注文し、2 + 1ビールのプロモーションに参加し、自分に関する情報を入力して、誕生日の割引を受け、交換することができます割引クーポン等のポイント </font><font style="vertical-align: inherit;">等</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もちろん、すべてがこれに限定されるわけではありません。</font><font style="vertical-align: inherit;">しかし、2つのプラットフォームのいずれかのフレームワーク内で、無数の他の関連チップと機会を直接支払いに巻き込めることは良いことです。</font><font style="vertical-align: inherit;">Alipayでは、Alipayが最初に支払いサービスとして開発された（社会機能がさらにひねられた）違いを考慮に入れれば、すべてがほぼ同じです。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、一般的に、2つのプラットフォームはほぼ均等に開発されており、機会均等を提供しています。</font><font style="vertical-align: inherit;">統合と接続の複雑さについては次回お話しします。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja470736/index.html">WWDC 2019：カスタム計測器とSFシンボル、およびiOSアプリケーション開発への新しいアプローチ</a></li>
<li><a href="../ja470742/index.html">Navier-Stokes方程式とCUDAでの流体シミュレーション</a></li>
<li><a href="../ja470744/index.html">数学は生細胞フィードバックの秘密を明らかにする</a></li>
<li><a href="../ja470746/index.html">Facebookは次の人気のあるインターフェースで話をします</a></li>
<li><a href="../ja470750/index.html">アマゾンが人気商品をキャッチ</a></li>
<li><a href="../ja470754/index.html">RASAチャットボット：Parallels Experience</a></li>
<li><a href="../ja470756/index.html">Apolloオンラインチャット、Node.jsのバックエンドアプリケーションの作成</a></li>
<li><a href="../ja470758/index.html">2019年9月のバイラル活動の概要</a></li>
<li><a href="../ja470772/index.html">TON：推奨事項とベストプラクティス</a></li>
<li><a href="../ja470774/index.html">Python 3.8の新しい型注釈（プロトコル、最終、TypedDict、リテラル）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>