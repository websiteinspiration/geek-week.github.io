<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìó üé¶ ‚ôâÔ∏è Kamailio SBC ou pas SBC? ‚úãüèΩ ü§• üç°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beaucoup de ceux qui, pour une raison ou une autre, sont confront√©s √† la VoIP, en particulier aux solutions open source, ont entendu l'expression: "Ka...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kamailio SBC ou pas SBC?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506626/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beaucoup de ceux qui, pour une raison ou une autre, sont confront√©s √† la VoIP, en particulier aux solutions open source, ont entendu l'expression: "Kamailio SBC". </font><font style="vertical-align: inherit;">Dans cet article, nous allons essayer de d√©terminer si Kamailio est assimil√© √† SBC (Session Border Controller) et si nous pouvons utiliser Kamailio en tant que tel. </font><font style="vertical-align: inherit;">Commen√ßons par un bref aper√ßu du protocole SIP, des fonctions de base de SBC et des causes profondes de cet appareil.</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le protocole d'initiation de session (SIP), au cours des 10 derni√®res ann√©es, est pass√© d'une exp√©rience de chercheurs et de passionn√©s de VoIP √† pratiquement la norme pour la t√©l√©phonie IP. L'anc√™tre de SIP, comme vous le savez, est le protocole HTTP, dont l'architecture client-serveur a √©t√© h√©rit√©e. Les principaux √©l√©ments d'un r√©seau SIP sont: le client d'agent utilisateur (UAC), le serveur d'agent utilisateur (UAS), le serveur proxy (serveur proxy), le serveur de redirection (serveur de redirection), le serveur d'enregistrement (registraire) et l'emplacement des utilisateurs (serveur de localisation). Tous ces √©l√©ments constituent le r√©seau SIP, ils sont d√©crits en d√©tail dans les sp√©cifications SIP, mais il n'y a aucune mention de SBC dans ces documents.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le terme SBC est relativement non sp√©cifique, non standardis√© et n'est d√©fini officiellement nulle part. </font><font style="vertical-align: inherit;">N√©anmoins, il est connu du grand public, en grande partie gr√¢ce √† une commercialisation active par les fabricants, comme une composante ¬´indispensable¬ª d'un r√©seau VoIP.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depuis sa cr√©ation, SBC a √©t√© utilis√© pour effectuer certaines t√¢ches, son ensemble de fonctionnalit√©s n'a cess√© de cro√Ætre et de s'am√©liorer au fur et √† mesure que l'ensemble des exigences augmentait. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En fait, la cause de dispositifs tels que SBC √©tait les divers d√©fauts de conception du protocole SIP. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est important de comprendre que, malgr√© tous les efforts d√©ploy√©s, la norme de protocole n'est pas id√©ale et il y a plusieurs raisons √† cela. </font></font></p><br>
<p>         .       ,    .        . </p><br>
<p>,      SIP    NAT.    -   IETF (  )  ,   IP-           IPv6,      NAT. </p><br>
<p>SIP ,  NAT  ,     . SIP       ,    NAT.      ,     :  NAT. </p><br>
<p>    SIP,         -,             SIP   ,        SIP     .      SIP . </p><br>
<p>   ‚Äî          .  ‚Äî    ,   , ,  ‚Äî      . </p><br>
<p>        ,               ,        ,      .        ,                   IP . </p><br>
<h2 id="i-tak-chto-takoe-sbc"> ,   SBC?</h2><br>
<p>SBC ‚Äî    .     ,             .      SBC   -        . </p><br>
<p> ,      SBC,      .       ,      SBC. ,  SBC   B2BUA. B2BUA ‚Äî  ,    SIP   :    UAC,    , a   ,    .   SBC      SIP. </p><br>
<p>    SBC  <strong>peering</strong>  <strong>access</strong>. </p><br>
<p>   SBC    ,   .    SBC,      ,          (DoS/DDoS),      . SBC     ,    ,        . </p><br>
<p> access  SBC       ( )    /  ( ).     ,    ( ,  ,   ..)     DoS/DDoS .    peering,  access  SBC    REGISTER ,    ,       AoR   SBC.  ,       NAT-.    SBC      (far-end NAT traversal). </p><br>
<h2 id="k-voprosu-o-kamailio">   Kamailio</h2><br>
<p>  Kamailio SBC? . , <strong>Kamailio   SBC</strong>,    . Kamailio ‚Äî  SIP  .     Kamailio   SBC?    ,     :    SBC,    Kamailio SIP ?         ,   ,     . </p><br>
<p>    ,   ,    ‚ÄúKamailio  SBC‚Äù     SIP        +     NAT  .        WebRTC ,   ,        . </p><br>
<p>     ,    Kamailio     : </p><br>
<h2 id="bezopasnost-sip-firewall-secfilter"> (SIP FIREWALL, secfilter)</h2><br>
<p>     ‚Äî     .   ,    VoIP,   24/7.     ,      sip            .</p><br>
<p>         ,           .          . </p><br>
<p> Kamailio    : </p><br>
<p>          (DoS/DDoS),       (bruteforce),      ,          ,          .</p><br>
<p>  Kamailio    IM   ,    . </p><br>
<h2 id="skrytie-topologii-topology-hiding">  (TOPOLOGY HIDING)</h2><br>
<p>     ,         ,       .        B2BUA.</p><br>
<p>Kamailio  ‚Äú‚Äù B2BUA    topoh  topos,         . </p><br>
<p>      ,      Kamailio     SIP ,     ,       ,  .       ,    VoIP  SEMS    sbc,      . </p><br>
<h2 id="registraciya-polzovateley-registrar">  (REGISTRAR)</h2><br>
<p>Kamailio    .    VoIP          ,  Kamailio   .</p><br>
<p> ,         ,     " " (mid registrar),         ""         . </p><br>
<p> ,   OpenSIPs         mid_registrar.  Kamailio  ,  ,   . </p><br>
<h2 id="marshrutizaciya-i-balansirovka-trafika-lcr-drouting-etc">    (LCR, DROUTING, etc)</h2><br>
<p>     SBC.  ,        .  Kamailio        ,  ‚Äú ‚Äù: lcr, carrierroute, drouting, pdt, dispatcher, prefix_route.         ,          IP ,    ,  ,  ,  ,    (lost )   . </p><br>
<h2 id="manipulyaciya-sip-zagolovkami-textops"> SIP  (TEXTOPS)</h2><br>
<p>        SIP ,       ()  .      .     SDP. </p><br>
<h2 id="konvertaciya-protokola-i-razdelenie-setey">    </h2><br>
<p> ,   SIP    , Kamailio     ()   IP- (  , IPv4  IPv6)       SIP (,   UDP  TCP  TLS).</p><br>
<h2 id="obespechenie-raboty-klientov-za-nat-nat-traversal">    NAT (NAT TRAVERSAL)</h2><br>
<p> SBC   access      ,         -   ,    wi-fi  ,       NAT    (server-side NAT traversal).   ,      NAT    (client-side NAT traversal),             (STUN,ICE).  Kamailio  NAT      nathelper,  rport (RFC3581)  rtpengine. </p><br>
<h2 id="media-proksi-rtp-relay">  (RTP RELAY)</h2><br>
<p>Kamailio   SIP        RTP.        .    ,      ,        <strong>rtpengine</strong>. </p><br>
<p> Sipwise   rtpengine   10 .     RTP    . Rtpengine       (kernel mode),     RTP  ,     .       :  SRTP, ICE,    ,       .</p><br>
<p> rtpngine   ,         .    RTP        redis.</p><br>
<h2 id="replikaciya-dannyh-i-otkazoustoychivost">   </h2><br>
<p>         ,   .    Kamailio     dmq,      SIP,        ,    .        ,  :   , ,   ,    (presence). </p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez √©galement utiliser SQL pour la r√©plication, par exemple, le module db_clusterer, qui est une sorte de ¬´couche¬ª entre les modules et la base de donn√©es. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En conclusion, je veux revenir √† l'endroit o√π j'ai commenc√© l'article: Kamailio n'est pas SBC, mais les fonctionnalit√©s qu'il poss√®de, un ensemble complet de modules, la prise en charge de REST, RPC, des websockets, permettent au programmeur et pour √©crire un script Kamailio, vous avez besoin d'une certaine exp√©rience de d√©veloppement Logiciel, impl√©mentez presque tous les scripts et int√©grations √† la fois dans la langue maternelle et en utilisant KEMI dans des langues telles que python, lua, javascript.</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr506606/index.html">Cr√©ation d'un clicker PIXI.js</a></li>
<li><a href="../fr506610/index.html">WAL-G: Sauvegardes et restauration de bases de donn√©es PostgreSQL</a></li>
<li><a href="../fr506612/index.html">Comment augmenter l'exhaustivit√© de cours en ligne massifs</a></li>
<li><a href="../fr506620/index.html">Pens√©e cr√©ative: qu'est-ce que c'est, comment mesurer et augmenter votre potentiel</a></li>
<li><a href="../fr506624/index.html">FOSS News n ¬∞ 20 - revue des nouvelles gratuites et open source du 8 au 14 juin 2020</a></li>
<li><a href="../fr506628/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 348 (du 8 au 14 juin)</a></li>
<li><a href="../fr506632/index.html">Belle carte g√©ologique d√©taill√©e de Mars en Python, GDAL</a></li>
<li><a href="../fr506634/index.html">F√©d√©ration de modules dans Webpack 5, un plug-in pour l'√©change de modules entre applications Javascript, description et exemple</a></li>
<li><a href="../fr506638/index.html">Photonique topologique: comment un concept math√©matique aide √† cr√©er des dispositifs avanc√©s</a></li>
<li><a href="../fr506640/index.html">Par quoi commence le pseudo-Scrum en sous-traitance (un peu de th√©orie et d'√©tude de cas)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>