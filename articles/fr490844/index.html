<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤥 👨‍👦‍👦 👨‍🎤 Livre «Kubernetes Patterns: Native Cloud Application Development Patterns» 🌉 ↘️ 😉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, habrozhiteli! 
 
 Avec le développement des microservices et des conteneurs, les approches de la conception, de la création et du lancement d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Livre «Kubernetes Patterns: Native Cloud Application Development Patterns»</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/490844/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/z1/xp/jr/z1xpjrbdjk7o8hr1ydymen7sxsm.jpeg" align="left" alt="image"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, habrozhiteli! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec le développement des microservices et des conteneurs, les approches de la conception, de la création et du lancement de logiciels ont changé. </font><font style="vertical-align: inherit;">Explorez les nouveaux modèles et principes de conception requis pour implémenter les applications cloud Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce livre est destiné aux développeurs qui souhaitent concevoir et développer des applications basées sur le cloud pour la plate-forme Kubernetes. </font><font style="vertical-align: inherit;">Le plus grand avantage en sera les lecteurs qui sont au moins un peu familiers avec les conteneurs et qui souhaitent atteindre un nouveau niveau. </font><font style="vertical-align: inherit;">Chaque modèle de conception est une description du problème réel, et la solution est prise en charge et illustrée par des exemples de code spécifiques.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extrait. </font><font style="vertical-align: inherit;">Motif Sidecar</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le modèle Sidecar (Trailer) consiste à définir un conteneur qui étend les capacités d'un conteneur existant sans le modifier. </font><font style="vertical-align: inherit;">C'est l'un des modèles de conteneurs fondamentaux qui vous permet de créer des conteneurs hautement spécialisés qui fonctionnent en étroite collaboration. </font><font style="vertical-align: inherit;">Dans ce chapitre, vous apprendrez tout ce qui concerne l'idée du modèle Sidecar (bande-annonce). </font><font style="vertical-align: inherit;">Et dans les chapitres 16 et 17, vous vous familiariserez avec des variantes spécialisées de ce modèle - les modèles Adapter et Ambassador, respectivement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tâche</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Containers est une technologie d'emballage populaire qui permet aux développeurs et aux administrateurs système de créer, de livrer et d'exécuter des applications de manière unifiée. Un conteneur représente la frontière naturelle d'une unité fonctionnelle avec son exécution, son cycle de publication, son API et l'équipe de développement à laquelle il appartient. Un conteneur typique agit comme un processus sous Linux - résout un problème et le fait bien - et est créé en supposant la possibilité de remplacement et de réutilisation. Ce dernier est particulièrement important car il vous permet de créer rapidement des applications à l'aide de conteneurs spécialisés existants.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actuellement, pour envoyer une requête HTTP, vous n'avez pas besoin d'écrire une bibliothèque cliente, utilisez simplement celle existante. </font><font style="vertical-align: inherit;">De même, pour maintenir le site Web, vous n'avez pas besoin de créer un conteneur avec un serveur Web, utilisez simplement celui existant. </font><font style="vertical-align: inherit;">Cette approche permet aux développeurs de ne pas réinventer la roue et de créer un écosystème avec moins de conteneurs de meilleure qualité pour la maintenance. </font><font style="vertical-align: inherit;">Cependant, afin de pouvoir utiliser des conteneurs réutilisables hautement spécialisés, des moyens d'étendre leurs capacités et des moyens d'organiser les interactions entre eux sont nécessaires. </font><font style="vertical-align: inherit;">Le modèle Sidecar (bande-annonce) décrit une telle façon d'organiser les interactions lorsqu'un conteneur étend les capacités d'un autre conteneur existant.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Décision</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le chapitre 1, nous avons vu comment les pods vous permettent de combiner plusieurs conteneurs en un seul bloc. Dans les coulisses, au moment de l'exécution, under est également un conteneur, mais il démarre comme un processus suspendu (en utilisant littéralement la commande pause) devant tous les autres conteneurs dans l'âtre. Il ne fait que stocker tous les espaces de noms Linux que les conteneurs d'applications utilisent pour interagir tout au long du cycle de vie du pod. En plus de ce détail de mise en œuvre, toutes les caractéristiques que fournit l'abstraction du foyer présentent également un intérêt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Under est une primitive tellement fondamentale qu'elle est présente dans de nombreuses plates-formes cloud, bien que sous des noms différents, mais toujours avec des capacités similaires. Under, en tant qu'unité de déploiement, impose certaines restrictions d'exécution à ses conteneurs. Par exemple, tous les conteneurs sont déployés sur un nœud et ont un cycle de vie commun. De plus, under permet à ses conteneurs d'utiliser des volumes partagés et d'échanger des données via un réseau local ou en utilisant des outils de communication interprocessus hôte. C'est pourquoi les utilisateurs combinent des conteneurs en modules. Le modèle Sidecar (Trailer), parfois également appelé Sidekick (Companion), décrit le scénario de l'ajout d'un conteneur au dessous pour étendre les capacités d'un autre conteneur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple typique illustrant ce modèle est le serveur HTTP et le mécanisme de synchronisation avec le référentiel Git. Le conteneur de serveur HTTP résout les problèmes associés à la maintenance des fichiers via HTTP et ne sait pas comment et d'où proviennent ces fichiers. De même, le seul but d'un conteneur qui se synchronise avec Git est de synchroniser les données du système de fichiers local avec les données du serveur Git. Il ne se soucie pas de ce qui arrive aux fichiers après la synchronisation, sa seule tâche est de synchroniser le contenu du dossier local avec le contenu du serveur Git distant. Le listing 15.1 fournit une définition de pod avec ces deux conteneurs configurés pour utiliser le volume pour le partage de fichiers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 15.1. Implémentation du modèle Sidecar (bande-annonce)</font></font><br>
<br>
<pre><code class="bash hljs">apiVersion: v1<font></font>
kind: Pod<font></font>
metadata:<font></font>
    name: web-app<font></font>
spec:<font></font>
    containers:<font></font>
    - name: app<font></font>
      image: docker.io/centos/httpd ❶<font></font>
      ports:<font></font>
      - containerPort: 80<font></font>
      volumeMounts:<font></font>
      - mountPath: /var/www/html ❸<font></font>
      name: git<font></font>
    - name: poll<font></font>
      image: axeclbr/git ❷<font></font>
      volumeMounts:<font></font>
      - mountPath: /var/lib/data ❸<font></font>
        name: git<font></font>
      env:<font></font>
      - name: GIT_REPO<font></font>
         value: https://github.com/mdn/beginner-html-site-scripted<font></font>
      <span class="hljs-built_in">command</span>:<font></font>
      - <span class="hljs-string">"sh"</span>
      - <span class="hljs-string">"-c"</span>
      - <span class="hljs-string">"git clone <span class="hljs-subst">$(GIT_REPO)</span> . &amp;&amp; watch -n 600 git pull"</span><font></font>
      workingDir: /var/lib/data<font></font>
volumes:<font></font>
- emptyDir: {}<font></font>
      name: git</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(1)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le conteneur d'application principal servant les fichiers via HTTP. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Conteneur auxiliaire (Remorque) agissant en parallèle et recevant des données du serveur Git. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(3) Un</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dossier partagé pour l'échange de données entre les conteneurs principal et secondaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet exemple montre comment un conteneur de synchronisation avec Git ajoute du contenu à servir par un serveur HTTP et le maintient à jour. </font><font style="vertical-align: inherit;">Vous pouvez également dire que les deux conteneurs fonctionnent en étroite coopération et sont tout aussi importants, mais le modèle Sidecar (Trailer) suppose la présence d'un conteneur principal (principal) et auxiliaire qui élargit le comportement collectif. </font><font style="vertical-align: inherit;">Habituellement, le principal est répertorié en premier dans la liste des conteneurs et représente le conteneur par défaut (qui est lancé par la commande kubectl exec, par exemple).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce modèle simple, illustré à la fig. </font><font style="vertical-align: inherit;">15.1 assure une coopération étroite des conteneurs lors de l'exécution et permet en même temps de partager des tâches qui peuvent appartenir à des équipes distinctes de développeurs utilisant différents langages de programmation, avec différents cycles de publication de nouvelles versions, etc. Il favorise également l'interchangeabilité et la réutilisation des conteneurs - en ce sens que le serveur HTTP et le mécanisme de synchronisation Git peuvent être réutilisés dans d'autres applications et avec d'autres paramètres, à la fois indépendamment et conjointement avec d'autres conteneurs.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/28/5g/wy/285gwyeypygwt7r2pkwue45p_7y.jpeg" alt="image"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explication</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a déjà été dit ci-dessus que les images de conteneurs sont similaires aux classes, et les conteneurs sont comme des objets dans la programmation orientée objet (POO). Poursuivant cette analogie, nous pouvons comparer l'expansion des capacités des conteneurs avec l'héritage dans OOP, et le travail conjoint de plusieurs conteneurs dans le foyer avec la réception d'une composition dans OOP. Ces deux approches permettent la réutilisation du code, mais l'héritage définit une relation plus étroite et représente la relation «est» entre les conteneurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La composition dans le foyer représente la relation «a» - elle est plus flexible car elle ne nécessite pas la combinaison de récipients lors de l'assemblage, ce qui permet de changer les récipients plus tard dans la définition du foyer. Mais la composition implique également la présence de plusieurs conteneurs (processus) fonctionnant simultanément, dont l'opérabilité doit être vérifiée et redémarrée et qui consomment des ressources, ainsi que le conteneur d'application principal. Le modèle Sidecar (Trailer) implique la création de petits conteneurs auxiliaires qui consomment un minimum de ressources, mais vous décidez de démarrer un processus distinct ou de mieux combiner toutes les tâches dans un conteneur principal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'un autre point de vue, la composition des conteneurs est similaire à la programmation orientée aspect, lorsque, à l'aide de conteneurs supplémentaires, des capacités orthogonales (indépendantes) qui ne sont pas liées au conteneur principal sont ajoutées au sous-programme. </font><font style="vertical-align: inherit;">Ces derniers mois, le modèle Sidecar (Trailer) gagne en popularité, en particulier pour résoudre les tâches de gestion de réseau, les services de surveillance, où chaque service se présente également sous la forme de conteneurs auxiliaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
»Vous trouverez plus d'informations sur le livre sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le site Web de l'éditeur</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sommaire</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extrait</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pour Khabrozhiteley 25% de réduction sur les coupons - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lors du paiement de la version papier du livre, un livre électronique est envoyé par e-mail.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr490832/index.html">Marquage des chaussures: en mettant en circulation 2 millions de codes de marquage «1C» + «Honest Sign»</a></li>
<li><a href="../fr490836/index.html">Comment ouvrir des commentaires et ne pas se noyer dans le spam</a></li>
<li><a href="../fr490838/index.html">Le WiFi 6 est là: ce que le marché propose et pourquoi avons-nous besoin de cette technologie</a></li>
<li><a href="../fr490840/index.html">La planification des ressources. Partie 4.1. Avant de faire un plan de ressources</a></li>
<li><a href="../fr490842/index.html">GPT-2 en images (visualisation des modèles de langage Transformer)</a></li>
<li><a href="../fr490846/index.html">Comment nous avons développé un site Web pour l'Académie Kalachnikov et sommes devenus lauréats de deux concours</a></li>
<li><a href="../fr490850/index.html">Aidez le compilateur à vous aider</a></li>
<li><a href="../fr490852/index.html">En détail sur SpinLaunch - le secret le plus zélé de l'industrie spatiale</a></li>
<li><a href="../fr490854/index.html">Les robots d'entrepôt utilisant l'IA pour trier les articles sont prêts à l'emploi</a></li>
<li><a href="../fr490856/index.html">Auto Dungeon Master</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>