<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤟🏼 🤰🏽 🏤 バージョン管理システムと同様のビジネスアプリケーションでのパラメーター管理 🏂🏽 🤴🏾 🔵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="さまざまなアプリケーションで、特定のサブジェクト（またはサブジェクト）に対するオブジェクトの属性の時間変化のロジックをサポートするというタスクが定期的に発生します。たとえば、店舗の商品の小売価格の変化や、従業員のKPI指標などです。
 
 この記事では、この問題を解決するためにどのドメインロジックと...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>バージョン管理システムと同様のビジネスアプリケーションでのパラメーター管理</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/468553/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ht/ww/gi/htwwgiirud8bctw_f6ndjlbsoee.jpeg" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまなアプリケーションで、特定のサブジェクト（またはサブジェクト）に対するオブジェクトの属性の時間変化のロジックをサポートするというタスクが定期的に発生します。</font><font style="vertical-align: inherit;">たとえば、店舗の商品の小売価格の変化や、従業員のKPI指標などです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、この問題を解決するためにどのドメインロジックとインターフェイスを構築できるかを示します。</font><font style="vertical-align: inherit;">履歴の変更を反映するのではなく、属性に対するユーザーの管理上の影響に関係することをすぐに予約する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実装はオープンで無料の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lsFusion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラットフォーム</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">基づいて提示されます</font><font style="vertical-align: inherit;">が、他のテクノロジーを使用する場合にも同様のスキームを適用できます。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事をよりわかりやすく説明するために、価格は属性、製品は対象、倉庫が対象となります。この場合、属性を設定するための可能な最小間隔は日付になります。したがって、ユーザーは、特定の日付の価格が任意の製品および倉庫に対してどのようになるかを決定できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
価格変更のユーザー入力スキームは、従来のバージョン管理システムで使用されているものと同様です。ドメインロジックの観点からの変更は、単一の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コミットになります。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の日付のステータスに基づいて計算されます。</font><font style="vertical-align: inherit;">多くのサブジェクト領域では、そのようなコミットはドキュメントまたはトランザクションと呼ばれます。</font><font style="vertical-align: inherit;">この場合、このコミットは、いわゆる価格表を意味します。</font><font style="vertical-align: inherit;">各価格表には、それに含まれる商品と倉庫、および有効期間が指定されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
説明したスキームには次の利点があります。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原子性</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">各変更は個別のドキュメントとして発行されます。</font><font style="vertical-align: inherit;">したがって、これらのドキュメントは一時的に保存できますが、投稿することはできません。</font><font style="vertical-align: inherit;">入力に誤りがあると、変更全体を簡単にロールバックできます。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">透明度</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">誰がいつ変更したかを判断し、ドキュメントにコメントを付けることで理由を示すのは簡単です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バージョン管理システムとの主な違いは、明示的なコミットが互いに独立していることです。</font><font style="vertical-align: inherit;">したがって、いつでも比較的簡単にすべてのコミットを削除できます。</font><font style="vertical-align: inherit;">さらに、そのような各コミットは、機能が停止したときに終了するように設定できます。もちろん、バージョン管理システムにはありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドメインロジックの定義は、ウェアハウスから始まります。</font><font style="vertical-align: inherit;">倉庫を動的深度グループの階層に結合して、ソリューションを少し複雑にしてみましょう。</font><font style="vertical-align: inherit;">これが行われる原理については、対応する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">説明されている</font><font style="vertical-align: inherit;">ため、グループを宣言し、グループを編集するためのフォームを作成するコードを提供します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">倉庫グループのお知らせ</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">CLASS</font>&nbsp;Group&nbsp;<font color="#50a14f">'&nbsp;'</font>;<br>
name&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">ISTRING</font>[<font color="#986801">50</font>]&nbsp;(Group);<br>
<br>
parent&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Group&nbsp;(Group);<br>
nameParent&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;(Group&nbsp;g)&nbsp;=&nbsp;name(parent(g));<br>
<br>
level&nbsp;<font color="#50a14f">''</font>&nbsp;(Group&nbsp;child,&nbsp;Group&nbsp;parent)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">RECURSION</font>&nbsp;<font color="#986801">1l</font>&nbsp;<font color="#a626a4">IF</font>&nbsp;child&nbsp;<font color="#a626a4">IS</font>&nbsp;Group&nbsp;<font color="#a626a4">AND</font>&nbsp;parent&nbsp;=&nbsp;child<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">STEP</font>&nbsp;<font color="#986801">2l</font>&nbsp;<font color="#a626a4">IF</font>&nbsp;parent&nbsp;=&nbsp;parent($parent)&nbsp;<font color="#a626a4">MATERIALIZED</font>;<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;group&nbsp;<font color="#50a14f">'&nbsp;'</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;g&nbsp;=&nbsp;Group&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(g)&nbsp;name,&nbsp;nameParent<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">EDIT</font>&nbsp;Group&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;g<br>
;<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;groups&nbsp;<font color="#50a14f">'&nbsp;'</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;g&nbsp;=&nbsp;Group<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(g)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name,&nbsp;nameParent<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(g)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">EDIT</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">LIST</font>&nbsp;Group&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;g<br>
;<br>
<br>
<font color="#a626a4">NAVIGATOR</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;groups;<br>
}<br>
</code></td>
</tr>
</tbody></table></div></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループ階層の例</font></font></b><div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/fh/5e/ct/fh5ect60pun-rowwwblr7uucr9w.png" alt="image"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、任意のグループに関連付けることができる倉庫を宣言します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">倉庫のお知らせ</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">CLASS</font>&nbsp;Stock&nbsp;<font color="#50a14f">''</font>;<br>
name&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">ISTRING</font>[<font color="#986801">50</font>]&nbsp;(Stock);<br>
<br>
group&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Group&nbsp;(Stock);<br>
nameGroup&nbsp;<font color="#50a14f">''</font>&nbsp;(Stock&nbsp;st)&nbsp;=&nbsp;name(group(st));<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;stock&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;s&nbsp;=&nbsp;Stock&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(s)&nbsp;name,&nbsp;nameGroup<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">EDIT</font>&nbsp;Stock&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;s<br>
;<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;stocks&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;s&nbsp;=&nbsp;Stock<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(s)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name,&nbsp;nameGroup<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(s)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">EDIT</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">LIST</font>&nbsp;Stock&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;s<br>
;<br>
<br>
<font color="#a626a4">NAVIGATOR</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;stocks;<br>
}<br>
</code></td>
</tr>
</tbody></table></div><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">倉庫の例</font></font></b><div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/30/mc/iy/30mciyqfgm2bjiu9_-fonon1mga.png" alt="image"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、商品のロジックを宣言します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">製品発表</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">CLASS</font>&nbsp;Product&nbsp;<font color="#50a14f">''</font>;<br>
name&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">ISTRING</font>[<font color="#986801">50</font>]&nbsp;(Product);<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;product&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;p&nbsp;=&nbsp;Product&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;name<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">EDIT</font>&nbsp;Product&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;p<br>
;<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;products&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;p&nbsp;=&nbsp;Product<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">EDIT</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">LIST</font>&nbsp;Product&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;p<br>
;<br>
<br>
<font color="#a626a4">NAVIGATOR</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;products;<br>
}<br>
</code></td>
</tr>
</tbody></table></div></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">製品例</font></font></b><div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/3g/sz/y6/3gszy6zobgdvqnmtzqzoynhdrzw.png" alt="image"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
価格リストのロジックの作成に直接進みます。</font><font style="vertical-align: inherit;">まず、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">価格リスト</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラス自体</font><font style="vertical-align: inherit;">とその有効期間</font><font style="vertical-align: inherit;">を設定し</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">CLASS</font>&nbsp;PriceList&nbsp;<font color="#50a14f">'-'</font>;<br>
fromDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">DATE</font>&nbsp;(PriceList);<br>
toDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">DATE</font>&nbsp;(PriceList);</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日付が</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定され</font><i><font style="vertical-align: inherit;">て</font></i><font style="vertical-align: inherit;">い</font><font style="vertical-align: inherit;">ない場合</font><font style="vertical-align: inherit;">、価格表は無限である</font><font style="vertical-align: inherit;">と考え</font><i><font style="vertical-align: inherit;">て</font></i><font style="vertical-align: inherit;">います。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
価格リストの作成時に、操作を開始する現在の日付を自動的に記録するイベントを追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">WHEN</font>&nbsp;<font color="#a626a4">LOCAL</font>&nbsp;<font color="#a626a4">SET</font>(PriceList&nbsp;p&nbsp;<font color="#a626a4">IS</font>&nbsp;PriceList)&nbsp;<font color="#a626a4">DO</font><br>
&nbsp;&nbsp;&nbsp;fromDate(p)&nbsp;&lt;-&nbsp;currentDate();<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LOCAL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーワード</font><font style="vertical-align: inherit;">は、保存がデータベースに適用されたときではなく、変更時にすぐにイベントが発生することを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、それを作成したユーザーと作成時間を追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>createdTime&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">DATETIME</font>&nbsp;(PriceList);<br>
createdUser&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;User&nbsp;(PriceList);<br>
nameCreatedUser&nbsp;<font color="#50a14f">''</font>&nbsp;(PriceList&nbsp;p)&nbsp;=&nbsp;name(createdUser(p));<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、それらを自動的に埋めるイベントを作成します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">WHEN</font>&nbsp;<font color="#a626a4">SET</font>(PriceList&nbsp;p&nbsp;<font color="#a626a4">IS</font>&nbsp;PriceList)&nbsp;<font color="#a626a4">DO</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;createdTime(p)&nbsp;&lt;-&nbsp;currentDateTime();<br>
&nbsp;&nbsp;&nbsp;createdUser(p)&nbsp;&lt;-&nbsp;currentUser();<br>
}<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このイベントは、前のイベントとは異なり、[保存]ボタンをクリックしたときにのみトリガーされます。</font><font style="vertical-align: inherit;">つまり、データベースへの保存トランザクション中に。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、商品と価格を設定する価格表の行を作成します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">CLASS</font>&nbsp;PriceListDetail&nbsp;<font color="#50a14f">'&nbsp;-'</font>;<br>
priceList&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;PriceList&nbsp;(PriceListDetail)&nbsp;<font color="#a626a4">NONULL</font>&nbsp;<font color="#a626a4">DELETE</font>;<br>
<br>
product&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Product&nbsp;(PriceListDetail);<br>
nameProduct&nbsp;<font color="#50a14f">''</font>&nbsp;(PriceListDetail&nbsp;d)&nbsp;=&nbsp;name(product(d));<br>
<br>
price&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">NUMERIC</font>[<font color="#986801">10</font>,<font color="#986801">2</font>]&nbsp;(PriceListDetail);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NONULL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font><font style="vertical-align: inherit;">は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">priceList</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティ</font><i><font style="vertical-align: inherit;">を</font></i><font style="vertical-align: inherit;">常に設定する</font><i><font style="vertical-align: inherit;">必要</font></i><font style="vertical-align: inherit;">があることを</font><font style="vertical-align: inherit;">示し</font><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DELETE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、プロパティ値がゼロの場合（たとえば、価格リストを削除する場合）、対応する行を自動的に削除する必要があることを示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今後の使用のために、価格表のラインの有効期間を決定するプロパティを作成します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>fromDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;(PriceListDetail&nbsp;d)&nbsp;=&nbsp;fromDate(priceList(d));<br>
toDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;(PriceListDetail&nbsp;d)&nbsp;=&nbsp;toDate(priceList(d));<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、価格リストを操作対象の倉庫にバインドします。</font><font style="vertical-align: inherit;">まず、プライマリプロパティを追加します。これは、倉庫のグループ全体が価格リストに含まれている場合にtrueになります。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>dataIn&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">BOOLEAN</font>&nbsp;(PriceList,&nbsp;Group);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択した親を考慮に入れて、グループの「包含」を計算します（階層に関する記事で説明されているとおり）。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>in&nbsp;<font color="#50a14f">'&nbsp;()'</font>&nbsp;(PriceList&nbsp;p,&nbsp;Group&nbsp;child)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">LAST</font>&nbsp;dataIn(p,&nbsp;Group&nbsp;parent)&nbsp;<font color="#a626a4">ORDER</font>&nbsp;<font color="#a626a4">DESC</font>&nbsp;level(child,&nbsp;parent)&nbsp;<font color="#a626a4">WHERE</font>&nbsp;dataIn(p,&nbsp;parent);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 価格リストが特定の倉庫で機能するように指定できるプライマリプロパティを追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>dataIn&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">BOOLEAN</font>&nbsp;(PriceList,&nbsp;Stock);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループを考慮して、価格表が対応する倉庫の価格を変更することを決定する最終的なプロパティを計算します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>in&nbsp;<font color="#50a14f">''</font>&nbsp;(PriceList&nbsp;p,&nbsp;Stock&nbsp;s)&nbsp;=&nbsp;dataIn(p,&nbsp;s)&nbsp;<font color="#a626a4">OR</font>&nbsp;in(p,&nbsp;group(s));<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">価格リストのリストを表示するためのより便利なユーザーのために、価格リストの選択されたすべてのグループと倉庫の名前を表示するプロパティを作成します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>stocks&nbsp;<font color="#50a14f">''</font>&nbsp;(PriceList&nbsp;p)&nbsp;=&nbsp;<font color="#a626a4">CONCAT</font>&nbsp;<font color="#50a14f">'&nbsp;/&nbsp;'</font>,<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">CONCAT</font>&nbsp;name(Group&nbsp;g)&nbsp;<font color="#a626a4">IF</font>&nbsp;dataIn(p,&nbsp;g),&nbsp;<font color="#50a14f">','</font>&nbsp;<font color="#a626a4">ORDER</font>&nbsp;g,<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">CONCAT</font>&nbsp;name(Stock&nbsp;s)&nbsp;<font color="#a626a4">IF</font>&nbsp;dataIn(p,&nbsp;s),&nbsp;<font color="#50a14f">','</font>&nbsp;<font color="#a626a4">ORDER</font>&nbsp;s<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">CHARWIDTH</font>&nbsp;<font color="#986801">30</font>;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドメインロジックの説明の最後のステップでは、倉庫内の商品の現在の価格を直接計算します。</font><font style="vertical-align: inherit;">これを行うには、希望する商品、倉庫、および有効期間を含む価格リストの日付による最終日を検索するプロパティを作成します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>priceListDetail&nbsp;(Product&nbsp;p,&nbsp;Stock&nbsp;s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;dt)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">LAST</font>&nbsp;PriceListDetail&nbsp;d<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">ORDER</font>&nbsp;fromDate(d),&nbsp;d<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">WHERE</font>&nbsp;product(d)&nbsp;=&nbsp;p&nbsp;<font color="#a626a4">AND</font>&nbsp;in(priceList(d),&nbsp;s)&nbsp;<font color="#a626a4">AND</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fromDate(d)&nbsp;&lt;=&nbsp;dt&nbsp;<font color="#a626a4">AND</font>&nbsp;<font color="#a626a4">NOT</font>&nbsp;toDate(d)&nbsp;&lt;&nbsp;dt;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このプロパティを計算するロジックでは、さまざまなバリエーションが可能です。</font><font style="vertical-align: inherit;">行をヒットするためのフィルター（たとえば、</font><font style="vertical-align: inherit;">価格リストが投稿さ</font><font style="vertical-align: inherit;">れる</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WHEREに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font><font style="vertical-align: inherit;">を追加する</font><font style="vertical-align: inherit;">）と注文の</font><font style="vertical-align: inherit;">両方を変更できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">オブジェクト自体、またはその内部識別子が2番目のパラメーターとして選択順序に追加されていることに注意してください。</font><font style="vertical-align: inherit;">これは、価格値が常に独自の方法で決定されるようにするために必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
受け取った価格表の行に基づいて、価格の値とその有効期間を決定します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>price&nbsp;<font color="#50a14f">''</font>&nbsp;(Product&nbsp;p,&nbsp;Stock&nbsp;s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;dt)&nbsp;=&nbsp;price(priceListDetail(p,&nbsp;s,&nbsp;dt));<br>
fromDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;&nbsp;(Product&nbsp;p,&nbsp;Stock&nbsp;s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;dt)&nbsp;=&nbsp;fromDate(priceListDetail(p,&nbsp;s,&nbsp;dt));<br>
toDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;&nbsp;(Product&nbsp;p,&nbsp;Stock&nbsp;s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;dt)&nbsp;=&nbsp;toDate(priceListDetail(p,&nbsp;s,&nbsp;dt));<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらは、ユーザーインターフェイステーブルでさらに使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ユーザーインターフェイスの構築に進みます。</font><font style="vertical-align: inherit;">まず、価格リストを編集するためのフォームを描画します。</font><font style="vertical-align: inherit;">フォームを作成し、そこにドキュメントの「ヘッダー」を追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">FORM</font>&nbsp;priceList&nbsp;<font color="#50a14f">'-'</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;p&nbsp;=&nbsp;PriceList&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;fromDate,&nbsp;toDate<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">EDIT</font>&nbsp;PriceList&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;p<br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">価格表の行をフォームに追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;priceList<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;d&nbsp;=&nbsp;PriceListDetail<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(d)&nbsp;nameProduct,&nbsp;price<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(d)&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;priceList(d)&nbsp;=&nbsp;p<br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、グループと倉庫の両方が含まれるツリーを追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;priceList<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">TREE</font>&nbsp;stocks&nbsp;g&nbsp;=&nbsp;Group&nbsp;<font color="#a626a4">PARENT</font>&nbsp;parent,&nbsp;s&nbsp;=&nbsp;Stock<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name(g),&nbsp;name(s)<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;dataIn(p,&nbsp;g),&nbsp;in(p,&nbsp;g)<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;dataIn(p,&nbsp;s),&nbsp;in(p,&nbsp;s)<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;group(s)&nbsp;=&nbsp;g<br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループと倉庫のプロパティは同時にツリーに追加されます。</font><font style="vertical-align: inherit;">プラットフォームは、オブジェクトに応じて、フォームに追加された順序でこのプロパティまたはそのプロパティを表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
商品と倉庫が別々のタブに描画されるように、フォームのデザインをカスタマイズします。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">DESIGN</font>&nbsp;priceList&nbsp;{<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;pane&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill&nbsp;=&nbsp;<font color="#986801">1</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;=&nbsp;<font color="#a626a4">TABBED</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(d)&nbsp;{&nbsp;caption&nbsp;=&nbsp;<font color="#50a14f">''</font>;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(<font color="#a626a4">TREE</font>&nbsp;stocks)&nbsp;{&nbsp;caption&nbsp;=&nbsp;<font color="#50a14f">''</font>;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;}<br>
}<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">編集フォームは次のようになります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/dc/l9/nrdcl9twis0_96fwj8lhz2sb1w4.png" alt="画像"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rl/0c/qj/rl0cqj4vcyhb80a0rignrd3yt0w.png" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
価格管理の基本的な形を構築することは残っています。</font><font style="vertical-align: inherit;">2つのタブで構成されます。</font><font style="vertical-align: inherit;">最初のものはすべての価格リストのリストを表示します（コミットのリストと同様）。</font><font style="vertical-align: inherit;">2番目のタブには、選択した日付の特定の倉庫の現在の価格が表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のタブを実装するには、簡単なプレビューのための行を含む価格リストのリストをフォームに追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">FORM</font>&nbsp;managePrices&nbsp;<font color="#50a14f">'&nbsp;'</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;p&nbsp;=&nbsp;PriceList<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;fromDate,&nbsp;toDate,&nbsp;stocks,&nbsp;createdTime,&nbsp;nameCreatedUser<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">EDIT</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;d&nbsp;=&nbsp;PriceListDetail<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(d)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;nameProduct,&nbsp;price<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;priceList(d)&nbsp;=&nbsp;p<br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2番目のタブでは、最初に価格が表示される日付、倉庫グループのツリー、および倉庫自体を追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;managePrices<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;dt&nbsp;=&nbsp;<font color="#a626a4">DATE</font>&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">VALUE</font>(dt)<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">TREE</font>&nbsp;groups&nbsp;g&nbsp;=&nbsp;Group&nbsp;<font color="#a626a4">PARENT</font>&nbsp;parent<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name(g)<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;s&nbsp;=&nbsp;Stock<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(s)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name,&nbsp;nameGroup<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;level(group(s),&nbsp;g)<br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">倉庫のリストには、上部で選択したグループの子孫であるすべての倉庫が表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、選択した日付の倉庫に有効な価格がある商品のリストをフォームに追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;managePrices<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;pr&nbsp;=&nbsp;Product<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name(pr),&nbsp;price(pr,&nbsp;s,&nbsp;dt),&nbsp;fromDate(pr,&nbsp;s,&nbsp;dt),&nbsp;toDate(pr,&nbsp;s,&nbsp;dt)<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;price(pr,&nbsp;s,&nbsp;dt)<br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">価格自体と有効期間の両方が列に追加されます。</font><font style="vertical-align: inherit;">価格表番号を追加することもできます。この表は、バージョン管理システムの注釈のロジックに似ています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーがそのような価格がどこから来たかを理解するために、適切な商品と倉庫を含む価格リスト行のリストを追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;managePrices<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;prd&nbsp;=&nbsp;PriceListDetail<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">READONLY</font>&nbsp;<font color="#a626a4">BACKGROUND</font>&nbsp;(priceListDetail(pr,&nbsp;s,&nbsp;dt)&nbsp;=&nbsp;prd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fromDate(prd),&nbsp;toDate(prd),&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;stocks(priceList(prd)),&nbsp;price(prd)<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;product(prd)&nbsp;=&nbsp;pr&nbsp;<font color="#a626a4">AND</font>&nbsp;in(priceList(prd),&nbsp;s)<br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バック</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラウンド</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性を使用</font><font style="vertical-align: inherit;">して、表に表示されている価格を決定した行を強調表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、ユーザーの便宜のために、このストーリーからすぐに新しいセッションで対応する価格リストの編集フォームを開く機能を追加します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>edit&nbsp;(PriceListDetail&nbsp;d)&nbsp;+&nbsp;{&nbsp;edit(priceList(d));&nbsp;}<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;managePrices<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(prd)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">EDIT</font><br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを実現するには、組み込みの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">編集</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションを実装して行を編集しようとしたときに実行されるアクションを指定する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次に、ダイアログボックスを使用してオブジェクトを編集するための標準ボタンがフォームに標準の方法で追加されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、最終的なフォームデザインを作成します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">DESIGN</font>&nbsp;managePrices&nbsp;{<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;pane&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill&nbsp;=&nbsp;<font color="#986801">1</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;=&nbsp;<font color="#a626a4">TABBED</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;priceLists&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caption&nbsp;=&nbsp;<font color="#50a14f">'-'</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(p);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(d);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;prices&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caption&nbsp;=&nbsp;<font color="#50a14f">''</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill&nbsp;=&nbsp;<font color="#986801">1</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;=&nbsp;<font color="#a626a4">SPLITH</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;leftPane&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(dt);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(<font color="#a626a4">TREE</font>&nbsp;groups);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(s);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;rightPane&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill&nbsp;=&nbsp;<font color="#986801">3</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;=&nbsp;<font color="#a626a4">SPLITV</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(pr)&nbsp;{&nbsp;fill&nbsp;=&nbsp;<font color="#986801">3</font>;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(prd);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;}<br>
}<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここでは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ペイン</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテナが最初に追加された</font><font style="vertical-align: inherit;">2つのタブで構成され、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">価格表</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">価格</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それらの最初は、価格リストとラインのリストを追加するだけです。</font><font style="vertical-align: inherit;">2番目の例では、2つのパネル、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leftPane</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rightPane</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が作成されます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">左側のパネルには日付と倉庫が含まれ、右側のパネルには商品と価格の履歴が含まれています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果のロジックを使用するための主なオプションを検討してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
製品のグループごとに2つの個別の価格リストがあるとします。</font><font style="vertical-align: inherit;">次に、選択した倉庫に応じて、[価格]タブに、対応する価格表の商品のみが表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fj/pq/nc/fjpqnc-cp2whdwy9ihbl-xboeqg.gif" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、有効期間が限定された新しい価格リスト、倉庫のリストを取り除いたリスト、および新しい価格を作成します。</font><font style="vertical-align: inherit;">2番目のタブで、新しい価格リストの範囲で日付を選択すると、そこから新しい価格が取得されます。</font><font style="vertical-align: inherit;">有効期間が終了するとすぐに、元の価格は元の価格から再び戻ります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/jn/wm/om/jnwmom0uyge-bd2cr5d0oh7fvfu.gif" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じメカニズムを使用して、特定の日付から特定の価格のアクションを「キャンセル」できます。</font><font style="vertical-align: inherit;">たとえば、価格を指定せずに新しい価格を入力すると、価格がリセットされ、商品がフィルターから消えます。</font><font style="vertical-align: inherit;">この場合、入力したドキュメントを削除すると、すべてが元の状態に戻ります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rl/sf/0i/rlsf0ie34x-qwfhmdidm6qv7lpu.gif" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当日に倉庫が商品の価格で取得した物件は、各種イベント等に活用することができます。</font><font style="vertical-align: inherit;">たとえば、次の価格設定ロジックに基づいて、注文の自動価格設定を行うことができます。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">WHEN</font>&nbsp;<font color="#a626a4">LOCAL</font>&nbsp;<font color="#a626a4">CHANGED</font>(sku(UserOrderDetail&nbsp;d))&nbsp;<font color="#a626a4">OR</font>&nbsp;<font color="#a626a4">CHANGED</font>(stock(d))&nbsp;<font color="#a626a4">OR</font>&nbsp;<font color="#a626a4">CHANGED</font>(dateTime(d))&nbsp;<font color="#a626a4">DO</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;price(d)&nbsp;&lt;-&nbsp;price(sku(d),&nbsp;stock(d),&nbsp;dateTime(d));<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このロジックの良い点は、新しい倉庫をグループに追加すると、既に作成されている価格リストの価格が自動的にそれに適用されることです。</font><font style="vertical-align: inherit;">倉庫のグループを変更すると、同じことが起こります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要に応じて、現在の価格が編集可能なタブの価格の列を編集可能にし、変更された価格の新しいコミットを作成するボタンを追加できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラットフォームレベルのソリューションでは、リファレンスブック、文字列を含むドキュメント、レジスタ、レポート、その他の不要な抽象化は使用されません。すべては、クラスとプロパティの概念のみに基づいて行われます。このかなり複雑なロジックは、lsFusionの約150の重要なコード行に実装されていることに注意してください。他のプラットフォーム（たとえば、1C）の同じ設定でそれを実装することは、はるかに困難な作業です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のスキームは</font><font style="vertical-align: inherit;">、lsFusionベースの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ERPソリューションで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">広く使用され</font><font style="vertical-align: inherit;">てい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。これにより、さまざまな変更が加えられ、サプライヤの価格リスト、管理小売価格、在庫、およびその他の多くの管理パラメータがサポートされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テンプレートは、ドキュメントに複数のエンティティを追加する（たとえば、サプライヤを倉庫に追加できる）だけでなく、1つのドキュメントで複数の属性を一度に定義することにより、複雑になる場合があります。特に、エンティティーの価格タイプを追加し、ドキュメント行に行のタプルの価格と対応する価格タイプを設定できます。上記のロジックでは、いくつかのプロパティにいくつかの追加パラメーターを追加する必要があるだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数行のコードを追加することで、すべての変更レコードを非正規化して、対応するインデックスを作成する1つのテーブルにすることができます。次に、任意の日付の任意の値が対数時間でサンプリングされます。このような最適化は、このテーブルに数億のレコードがある場合に必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビルドされた例</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイトの</font><font style="vertical-align: inherit;">対応する</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ページ</font></a><font style="vertical-align: inherit;">（セクションプラットフォーム）で</font><font style="vertical-align: inherit;">オンラインで試すことができ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次に、目的のフィールドに貼り付ける必要があるソースコード全体を示します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソース</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">REQUIRE</font>&nbsp;Authentication,&nbsp;Time;<br>
<br>
<font color="#a626a4">CLASS</font>&nbsp;Group&nbsp;<font color="#50a14f">'&nbsp;'</font>;<br>
name&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">ISTRING</font>[<font color="#986801">50</font>]&nbsp;(Group);<br>
<br>
parent&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Group&nbsp;(Group);<br>
nameParent&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;(Group&nbsp;g)&nbsp;=&nbsp;name(parent(g));<br>
<br>
level&nbsp;<font color="#50a14f">''</font>&nbsp;(Group&nbsp;child,&nbsp;Group&nbsp;parent)&nbsp;=&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">RECURSION</font>&nbsp;<font color="#986801">1l</font>&nbsp;<font color="#a626a4">IF</font>&nbsp;child&nbsp;<font color="#a626a4">IS</font>&nbsp;Group&nbsp;<font color="#a626a4">AND</font>&nbsp;parent&nbsp;=&nbsp;child<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">STEP</font>&nbsp;<font color="#986801">2l</font>&nbsp;<font color="#a626a4">IF</font>&nbsp;parent&nbsp;=&nbsp;parent($parent)&nbsp;<font color="#a626a4">MATERIALIZED</font>;<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;group&nbsp;<font color="#50a14f">'&nbsp;'</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;g&nbsp;=&nbsp;Group&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(g)&nbsp;name,&nbsp;nameParent<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EDIT</font>&nbsp;Group&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;g<br>
;<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;groups&nbsp;<font color="#50a14f">'&nbsp;'</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;g&nbsp;=&nbsp;Group<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(g)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name,&nbsp;nameParent<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(g)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">EDIT</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">LIST</font>&nbsp;Group&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;g<br>
;<br>
<br>
<font color="#a626a4">NAVIGATOR</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;groups;<br>
}<br>
<br>
<font color="#a626a4">CLASS</font>&nbsp;Stock&nbsp;<font color="#50a14f">''</font>;<br>
name&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">ISTRING</font>[<font color="#986801">50</font>]&nbsp;(Stock);<br>
<br>
group&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Group&nbsp;(Stock);<br>
nameGroup&nbsp;<font color="#50a14f">''</font>&nbsp;(Stock&nbsp;st)&nbsp;=&nbsp;name(group(st));<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;stock&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;s&nbsp;=&nbsp;Stock&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(s)&nbsp;name,&nbsp;nameGroup<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EDIT</font>&nbsp;Stock&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;s<br>
;<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;stocks&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;s&nbsp;=&nbsp;Stock<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(s)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name,&nbsp;nameGroup<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(s)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">EDIT</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">LIST</font>&nbsp;Stock&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;s<br>
;<br>
<br>
<font color="#a626a4">NAVIGATOR</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;stocks;<br>
}<br>
<br>
<font color="#a626a4">CLASS</font>&nbsp;Product&nbsp;<font color="#50a14f">''</font>;<br>
name&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">ISTRING</font>[<font color="#986801">50</font>]&nbsp;(Product);<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;product&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;p&nbsp;=&nbsp;Product&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EDIT</font>&nbsp;Product&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;p<br>
;<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;products&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;p&nbsp;=&nbsp;Product<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">EDIT</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">LIST</font>&nbsp;Product&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;p<br>
;<br>
<br>
<font color="#a626a4">NAVIGATOR</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;products;<br>
}<br>
<br>
<font color="#a626a4">CLASS</font>&nbsp;PriceList&nbsp;<font color="#50a14f">'-'</font>;<br>
fromDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">DATE</font>&nbsp;(PriceList);<br>
toDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">DATE</font>&nbsp;(PriceList);<br>
<br>
createdTime&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">DATETIME</font>&nbsp;(PriceList);<br>
createdUser&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;User&nbsp;(PriceList);<br>
nameCreatedUser&nbsp;<font color="#50a14f">''</font>&nbsp;(PriceList&nbsp;p)&nbsp;=&nbsp;name(createdUser(p));<br>
<br>
<font color="#a626a4">WHEN</font>&nbsp;<font color="#a626a4">LOCAL</font>&nbsp;<font color="#a626a4">SET</font>(PriceList&nbsp;p&nbsp;<font color="#a626a4">IS</font>&nbsp;PriceList)&nbsp;<font color="#a626a4">DO</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;fromDate(p)&nbsp;&lt;-&nbsp;currentDate();<br>
<br>
<font color="#a626a4">WHEN</font>&nbsp;<font color="#a626a4">SET</font>(PriceList&nbsp;p&nbsp;<font color="#a626a4">IS</font>&nbsp;PriceList)&nbsp;<font color="#a626a4">DO</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;createdTime(p)&nbsp;&lt;-&nbsp;currentDateTime();<br>
&nbsp;&nbsp;&nbsp;&nbsp;createdUser(p)&nbsp;&lt;-&nbsp;currentUser();<br>
}<br>
<br>
<font color="#a626a4">CLASS</font>&nbsp;PriceListDetail&nbsp;<font color="#50a14f">'&nbsp;-'</font>;<br>
priceList&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;PriceList&nbsp;(PriceListDetail)&nbsp;<font color="#a626a4">NONULL</font>&nbsp;<font color="#a626a4">DELETE</font>;<br>
<br>
product&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Product&nbsp;(PriceListDetail);<br>
nameProduct&nbsp;<font color="#50a14f">''</font>&nbsp;(PriceListDetail&nbsp;d)&nbsp;=&nbsp;name(product(d));<br>
<br>
price&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">NUMERIC</font>[<font color="#986801">10</font>,<font color="#986801">2</font>]&nbsp;(PriceListDetail);<br>
<br>
fromDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;(PriceListDetail&nbsp;d)&nbsp;=&nbsp;fromDate(priceList(d));<br>
toDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;(PriceListDetail&nbsp;d)&nbsp;=&nbsp;toDate(priceList(d));<br>
<br>
dataIn&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">BOOLEAN</font>&nbsp;(PriceList,&nbsp;Group);<br>
<br>
in&nbsp;<font color="#50a14f">'&nbsp;()'</font>&nbsp;(PriceList&nbsp;p,&nbsp;Group&nbsp;child)&nbsp;=&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">LAST</font>&nbsp;dataIn(p,&nbsp;Group&nbsp;parent)&nbsp;<font color="#a626a4">ORDER</font>&nbsp;<font color="#a626a4">DESC</font>&nbsp;level(child,&nbsp;parent)&nbsp;<font color="#a626a4">WHERE</font>&nbsp;dataIn(p,&nbsp;parent);<br>
<br>
dataIn&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">BOOLEAN</font>&nbsp;(PriceList,&nbsp;Stock);<br>
in&nbsp;<font color="#50a14f">''</font>&nbsp;(PriceList&nbsp;p,&nbsp;Stock&nbsp;s)&nbsp;=&nbsp;dataIn(p,&nbsp;s)&nbsp;<font color="#a626a4">OR</font>&nbsp;in(p,&nbsp;group(s));<br>
<br>
stocks&nbsp;<font color="#50a14f">''</font>&nbsp;(PriceList&nbsp;p)&nbsp;=&nbsp;<font color="#a626a4">CONCAT</font>&nbsp;<font color="#50a14f">'&nbsp;/&nbsp;'</font>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">CONCAT</font>&nbsp;name(Group&nbsp;g)&nbsp;<font color="#a626a4">IF</font>&nbsp;dataIn(p,&nbsp;g),&nbsp;<font color="#50a14f">','</font>&nbsp;<font color="#a626a4">ORDER</font>&nbsp;g,<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">CONCAT</font>&nbsp;name(Stock&nbsp;s)&nbsp;<font color="#a626a4">IF</font>&nbsp;dataIn(p,&nbsp;s),&nbsp;<font color="#50a14f">','</font>&nbsp;<font color="#a626a4">ORDER</font>&nbsp;s<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">CHARWIDTH</font>&nbsp;<font color="#986801">30</font>;<br>
<br>
priceListDetail&nbsp;(Product&nbsp;p,&nbsp;Stock&nbsp;s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;dt)&nbsp;=&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">LAST</font>&nbsp;PriceListDetail&nbsp;d&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">ORDER</font>&nbsp;fromDate(d),&nbsp;d&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">WHERE</font>&nbsp;product(d)&nbsp;=&nbsp;p&nbsp;<font color="#a626a4">AND</font>&nbsp;in(priceList(d),&nbsp;s)&nbsp;<font color="#a626a4">AND</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fromDate(d)&nbsp;&lt;=&nbsp;dt&nbsp;<font color="#a626a4">AND</font>&nbsp;<font color="#a626a4">NOT</font>&nbsp;toDate(d)&nbsp;&lt;&nbsp;dt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
price&nbsp;<font color="#50a14f">''</font>&nbsp;(Product&nbsp;p,&nbsp;Stock&nbsp;s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;dt)&nbsp;=&nbsp;price(priceListDetail(p,&nbsp;s,&nbsp;dt));<br>
fromDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;&nbsp;(Product&nbsp;p,&nbsp;Stock&nbsp;s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;dt)&nbsp;=&nbsp;fromDate(priceListDetail(p,&nbsp;s,&nbsp;dt));<br>
toDate&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;&nbsp;(Product&nbsp;p,&nbsp;Stock&nbsp;s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;dt)&nbsp;=&nbsp;toDate(priceListDetail(p,&nbsp;s,&nbsp;dt));<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;priceList&nbsp;<font color="#50a14f">'-'</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;p&nbsp;=&nbsp;PriceList&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;fromDate,&nbsp;toDate<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EDIT</font>&nbsp;PriceList&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;p<br>
;<br>
<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;priceList<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;d&nbsp;=&nbsp;PriceListDetail<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(d)&nbsp;nameProduct,&nbsp;price&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(d)&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">DELETE</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;priceList(d)&nbsp;=&nbsp;p<br>
;<br>
<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;priceList<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">TREE</font>&nbsp;stocks&nbsp;g&nbsp;=&nbsp;Group&nbsp;<font color="#a626a4">PARENT</font>&nbsp;parent,&nbsp;s&nbsp;=&nbsp;Stock<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name(g),&nbsp;name(s)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;dataIn(p,&nbsp;g),&nbsp;in(p,&nbsp;g)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;dataIn(p,&nbsp;s),&nbsp;in(p,&nbsp;s)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;group(s)&nbsp;=&nbsp;g<br>
;<br>
<br>
<font color="#a626a4">DESIGN</font>&nbsp;priceList&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;pane&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill&nbsp;=&nbsp;<font color="#986801">1</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;=&nbsp;<font color="#a626a4">TABBED</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(d)&nbsp;{&nbsp;caption&nbsp;=&nbsp;<font color="#50a14f">''</font>;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(<font color="#a626a4">TREE</font>&nbsp;stocks)&nbsp;{&nbsp;caption&nbsp;=&nbsp;<font color="#50a14f">''</font>;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>
<br>
<font color="#a626a4">FORM</font>&nbsp;managePrices&nbsp;<font color="#50a14f">'&nbsp;'</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;p&nbsp;=&nbsp;PriceList<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;fromDate,&nbsp;toDate,&nbsp;stocks,&nbsp;createdTime,&nbsp;nameCreatedUser<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(p)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">NEW</font>,&nbsp;<font color="#a626a4">EDIT</font>,&nbsp;<font color="#a626a4">DELETE</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;d&nbsp;=&nbsp;PriceListDetail<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(d)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;nameProduct,&nbsp;price<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;priceList(d)&nbsp;=&nbsp;p<br>
;<br>
<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;managePrices<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;dt&nbsp;=&nbsp;<font color="#a626a4">DATE</font>&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">VALUE</font>(dt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">TREE</font>&nbsp;groups&nbsp;g&nbsp;=&nbsp;Group&nbsp;<font color="#a626a4">PARENT</font>&nbsp;parent<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name(g)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;s&nbsp;=&nbsp;Stock<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(s)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name,&nbsp;nameGroup<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;level(group(s),&nbsp;g)<br>
;<br>
<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;managePrices<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;pr&nbsp;=&nbsp;Product<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name(pr),&nbsp;price(pr,&nbsp;s,&nbsp;dt),&nbsp;fromDate(pr,&nbsp;s,&nbsp;dt),&nbsp;toDate(pr,&nbsp;s,&nbsp;dt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;price(pr,&nbsp;s,&nbsp;dt)<br>
;<br>
<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;managePrices<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;prd&nbsp;=&nbsp;PriceListDetail<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#a626a4">READONLY</font>&nbsp;<font color="#a626a4">BACKGROUND</font>&nbsp;(priceListDetail(pr,&nbsp;s,&nbsp;dt)&nbsp;=&nbsp;prd)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fromDate(prd),&nbsp;toDate(prd),&nbsp;<font color="#50a14f">''</font>&nbsp;=&nbsp;stocks(priceList(prd)),&nbsp;price(prd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;product(prd)&nbsp;=&nbsp;pr&nbsp;<font color="#a626a4">AND</font>&nbsp;in(priceList(prd),&nbsp;s)<br>
;<br>
<br>
edit&nbsp;(PriceListDetail&nbsp;d)&nbsp;+&nbsp;{&nbsp;edit(priceList(d));&nbsp;}<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;managePrices<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(prd)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">EDIT</font>&nbsp;<br>
;<br>
<br>
<font color="#a626a4">DESIGN</font>&nbsp;managePrices&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;pane&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill&nbsp;=&nbsp;<font color="#986801">1</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;=&nbsp;<font color="#a626a4">TABBED</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;priceLists&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caption&nbsp;=&nbsp;<font color="#50a14f">'-'</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(p);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(d);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;prices&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caption&nbsp;=&nbsp;<font color="#50a14f">''</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill&nbsp;=&nbsp;<font color="#986801">1</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;=&nbsp;<font color="#a626a4">SPLITH</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;leftPane&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(dt);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(<font color="#a626a4">TREE</font>&nbsp;groups);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(s);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;rightPane&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill&nbsp;=&nbsp;<font color="#986801">3</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;=&nbsp;<font color="#a626a4">SPLITV</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(pr)&nbsp;{&nbsp;fill&nbsp;=&nbsp;<font color="#986801">3</font>;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MOVE</font>&nbsp;<font color="#a626a4">BOX</font>(prd);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>
<br>
<font color="#a626a4">NAVIGATOR</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;managePrices;<br>
}<br>
</code></td>
</tr>
</tbody></table></div></div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja468541/index.html">ドラッグ＆＆-視覚障害者向けのコンポーネントをドロップしますか？冗談ですか？</a></li>
<li><a href="../ja468543/index.html">平日プログラム委員会フロントエンド会議。セルゲイ・ポポフとのインタビュー</a></li>
<li><a href="../ja468545/index.html">「アリス、フロントエンドに行こう！」</a></li>
<li><a href="../ja468547/index.html">FrontendConfでの英語圏、CSS、グリッド、およびアクセシビリティ</a></li>
<li><a href="../ja468549/index.html">GPUバウンド。すべてをビデオカードに転送する方法など。アニメーション</a></li>
<li><a href="../ja468555/index.html">C / C ++の確定的アセンブリの紹介。パート2</a></li>
<li><a href="../ja468557/index.html">WEB 3.0-発射物への2番目のアプローチ</a></li>
<li><a href="../ja468559/index.html">クラウドのバックアップ、友達</a></li>
<li><a href="../ja468561/index.html">セキュリティウィーク39：セキュリティと一般的なミス</a></li>
<li><a href="../ja468563/index.html">ウォッチメンウォッチ：宇宙追跡施設の現状</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>