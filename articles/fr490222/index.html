<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¶üèΩ üßô üëÇüèº Biblioth√®que standard du jour de la mort üïµüèø üë©üèª‚Äçüè´ üêá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'autre jour √† Prague, le comit√© de normalisation C ++ a men√© une s√©rie d'enqu√™tes sur la question de la modification de l'ABI, et finalement il a √©t√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Biblioth√®que standard du jour de la mort</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490222/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'autre jour √† Prague, le comit√© de normalisation C ++ a men√© une s√©rie d'enqu√™tes sur la question de la modification de l'ABI, et finalement il a √©t√© d√©cid√© de ne rien y changer. </font><font style="vertical-align: inherit;">Il n'y eut pas d'applaudissements dans la salle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pense que nous n'avons pas pleinement r√©alis√© les cons√©quences que cette d√©cision entra√Ænerait, et je ne pense pas qu'en principe, elle puisse affecter positivement le d√©veloppement de la langue.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7a/j5/al/7aj5al5kxo5gjlw1lbrr0ftlemq.png"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que l'ABI?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ABI - un ensemble de conventions qui d√©finissent comment votre programme est repr√©sent√© sous forme binaire, comment les noms y sont d√©clar√©s, le balisage de classe est d√©fini et les conventions d'appel de fonction sont d√©finies. </font><font style="vertical-align: inherit;">En fait, c'est une sorte de protocole binaire, mais il n'est pas versionn√©. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de ne pas vous confondre dans la terminologie, regardons des exemples de ce que le changement ABI implique et sa r√©partition dans le programme: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous ne pouvez pas utiliser le symbole export√© dans la nouvelle version de votre biblioth√®que compil√©e si vous avez fait l'une des </font><font style="vertical-align: inherit;">choses </font><font style="vertical-align: inherit;">suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajout d'un nouveau champ √† une classe existante</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modification des param√®tres de mod√®le de la classe / fonction, transformation de la fonction de mod√®le en un non-mod√®le, ou vice versa, ajout d'un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mod√®le variadic</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Appliquer le sp√©cificateur en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ligne</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† quelque chose</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajout de param√®tres par d√©faut dans la d√©claration de fonction</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Annonce d'une nouvelle m√©thode virtuelle</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et bien plus encore, mais les exemples ci-dessus sont les principaux mentionn√©s par le comit√©, et ceux-l√† m√™mes, gr√¢ce auxquels la plupart des propositions de la norme sont d√©truites sur place. </font><font style="vertical-align: inherit;">J'ai omis les options de violation de l'ABI, pendant lesquelles le code source du programme se casse √©galement (par exemple, suppression ou modification de fonctions). </font><font style="vertical-align: inherit;">Cependant, ce n'est pas toujours vrai. </font><font style="vertical-align: inherit;">Par exemple, la suppression d'une fonction n'implique pas toujours la rupture du code source. </font></font><code>std::string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il a un op√©rateur de conversion </font></font><code>std::string_view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dont je me d√©barrasserais volontiers, et bien que le supprimer cassera l'ABI, cela ne conduira pas √† des probl√®mes importants dans le code source.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi devrions-nous briser ABI</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, il y a plusieurs changements utiles dans l'impl√©mentation de la biblioth√®que standard que vous pouvez impl√©menter si vous cassez l'ABI actuel:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendre les conteneurs associatifs (beaucoup) plus rapides</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acc√©l√©rez votre travail </font></font><code>std::regex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pour le moment, il est plus rapide d'ex√©cuter PHP et de le rechercher avec une expression r√©guli√®re que d'utiliser celle standard </font></font><code>std::regex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelques changements dans </font></font><code>std::string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>std::vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ainsi que dans la disposition des autres conteneurs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unit√© de l'interface de classe: pour le moment, certaines de leurs impl√©mentations ne correspondent pas intentionnellement √† une seule interface pour des raisons de stabilit√© ABI</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus important encore, il y a des changements dans la conception de la biblioth√®que qui ne peuvent pas √™tre effectu√©s sans rencontrer le probl√®me de s√©curit√© ABI. </font><font style="vertical-align: inherit;">Voici une liste incompl√®te de tout ce qui n'est pas possible actuellement pour la raison mentionn√©e ci-dessus:</font></font><br>
<br>
<ul>
<li><code>std::scoped_lock</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a √©t√© ajout√© afin de ne pas casser le changement abi </font></font><code>lock_guard</code></li>
<li><code>int128_t</code>    ,    <code>intmax_t</code>. ,    ,    ,  <code>intmax_t</code>   <i>deprecated</i></li>
<li><code>std::unique_ptr</code>           ,     <i>zero-overhead</i>     </li>
<li>   <code>error_code</code>     - ,       ABI</li>
<li><code>status_code</code>     ABI</li>
<li>    <code>recursive_directory_iterator</code>  ,     ABI</li>
<li>      <code>&lt;cstring&gt;</code> <code>constexpr</code> ( <code>strlen</code>)     ,   ABI</li>
<li>  UTF-8  <code>std::regex</code> ‚Äî  ABI</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'ajout de la prise en charge </font></font><code>realloc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et le retour de la taille de la m√©moire allou√©e sont une ventilation ABI pour les allocateurs polymorphes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation de destructeurs virtuels implicites pour les types polymorphes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le type de retour y </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peut √™tre modifi√© si l'ABI actuel est cass√©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En g√©n√©ral, avons-nous vraiment besoin de et </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et </font></font><code>emplace_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><code> std::shared_ptr</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> provoque √©galement une panne ABI</font></font></li>
<li><code>[[no_unique_address]]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pourrait √™tre sorti par le compilateur si nous ne nous soucions pas de sauvegarder l'ABI actuel</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et la liste ne s'arr√™te pas l√†. </font><font style="vertical-align: inherit;">Je pense que le WG21 devrait essayer de tenir √† jour la liste de ces choses. </font><font style="vertical-align: inherit;">Mais je prendrai note de tous ceux qui disent ¬´√ßa va casser l'ABI¬ª, √©tant avec moi dans la m√™me pi√®ce.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que voulons-nous changer d'autre?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne sais pas. </font><font style="vertical-align: inherit;">Et je ne sais pas ce que je ne sais pas. </font><font style="vertical-align: inherit;">Mais si on me demandait de deviner, je dirais ce qui suit:</font></font><br>
<br>
<ul>
<li>     C++23      ABI,    -        ,    ABI.          </li>
<li>   ,  ,          ,    ,          ABI</li>
<li>        ABI,       </li>
<li>    ,     ABI</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Tombstone</a>      ABI</li>
</ul><br>
<h2> ABI  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours de la derni√®re discussion ABI, un certain nombre d'enqu√™tes ont √©t√© men√©es √† Prague, qui, cependant, ne nous disent rien. </font><font style="vertical-align: inherit;">Selon que vous √™tes pessimiste ou optimiste, les r√©sultats actuels peuvent √™tre interpr√©t√©s diff√©remment par vous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faits marquants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WG21 ne veut pas casser ABI en 23</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WG21 estime n√©cessaire de casser l'ABI dans les futures versions de C ++ (C ++ 26 ou ult√©rieur)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le WG21 prendra du temps pour examiner les propositions qui violent l'ABI</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WG21 ne promet pas une stabilit√© √©ternelle</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le WG21 consid√®re qu'il est important de maintenir la priorit√© sur les performances, m√™me au d√©triment de la stabilit√© de la langue</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces d√©clarations contiennent de nombreux points importants, mais il n'y a pas de consensus. </font><font style="vertical-align: inherit;">Curieusement, le comit√© s'est divis√© en deux.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voyance</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans quelle version de C ++ attendre les changements</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'inconv√©nient √©vident de tous ces sondages est que nous n'avons pas d√©cid√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quand exactement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous voulons briser l'ABI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en c ++ 23? Non, certainement pas d√©j√†. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en C ++ 26? Certaines personnes ont l'intention de voter pour, mais une autre partie est susceptible de voter pour C ++ 41 ou pour le moment o√π ils prendront leur retraite et ils n'ont pas √† soutenir leur projet actuel. L'une des questions vient de mentionner C ++ - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">certains</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; tr√®s confortablement!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a aucune raison de croire que si l'ABI ne peut pas √™tre viol√© maintenant, il peut l'√™tre plus tard. Les personnes qui ont besoin de stabilit√© ont plusieurs ann√©es de retard sur la norme. Donc, si nous ne le cassons pas maintenant, les gens continueront de compter sur l'ABI jamais promis, peut-√™tre encore dix ou m√™me vingt ans. Le simple fait que nous ayons men√© cette enqu√™te a finalement vot√© pour ne pas violer l'ABI, montre que l'ensemble de l'√©cosyst√®me devient progressivement caillouteux et stagnant - chaque jour, le probl√®me ne fait qu'empirer et potentiellement plus cher. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne pense pas que quelque chose va changer dans l'enqu√™te men√©e dans trois ans. C‚Äôest comme le r√©chauffement climatique: tout le monde est d‚Äôaccord qu‚Äôun jour nous devons nous attaquer √† ce probl√®me. Et puis interdisons le diesel en 2070?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout ce qui n'est pas pr√©vu d'√™tre fait au cours des cinq prochaines ann√©es ne se produira probablement jamais.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos des offres qui violent ABI</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le WG21 a vot√© pour consacrer plus de temps aux propositions qui violent l'ABI actuel. </font><font style="vertical-align: inherit;">Cela signifie plusieurs choses:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous allons perdre plus de temps dans l'une des salles les plus bruyantes du comit√© pour discuter de cette question et en laisser moins sur les propositions qui ont plus de chances d'√™tre adopt√©es, et finalement nous les rejetterons tout de m√™me</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous chercherons des alternatives qui ne cassent pas l'ABI (cela sera discut√© ci-dessous)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des modifications partielles de l'ABI peuvent √™tre introduites (voir √©galement ci-dessous)</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les performances sont plus importantes que la stabilit√© ABI</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est comme demander si un enfant de cinq ans veut un bonbon. </font><font style="vertical-align: inherit;">Bien s√ªr, nous voterons sur l'importance de la performance. </font><font style="vertical-align: inherit;">Cependant, je crains que certaines personnes continuent de voter contre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il me semble que le comit√© veut en m√™me temps s'asseoir sur deux chaises √† la fois. </font><font style="vertical-align: inherit;">Et c'est impossible:</font></font><br>
<blockquote><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bryce Adelstein Lelbach</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> @blebach</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Performance</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Stabilit√© ABI</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Possibilit√© de changer quelque chose</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Choisissez deux options parmi celles propos√©es.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la stabilit√© du langage et ABI, bien s√ªr, entrent en collision, nous obligeant √† poser une question aussi fondamentale - Qu'est-ce que C ++ et quelle est sa biblioth√®que standard? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habituellement, dans ce cas, les termes ¬´performance¬ª, ¬´ </font><font style="vertical-align: inherit;">abstraction √† </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">co√ªt nul</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª, ¬´ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne payez pas pour ce que vous n'utilisez pas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª sont </font><font style="vertical-align: inherit;">m√©moris√©s </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Et la stabilit√© d'ABI se situe √† travers tout cela.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des cons√©quences d'une port√©e consid√©rable</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/5d7/90b/d50/5d790bd50abd97b45921c4f61a8ef757.webp" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis profond√©ment convaincu que la d√©cision de ne pas casser l'ABI au cours de la 23e ann√©e est la plus grosse erreur que le comit√© ait jamais commise. </font><font style="vertical-align: inherit;">Et je sais que certaines personnes croient le contraire. </font><font style="vertical-align: inherit;">Mais voici ce qui risque de se produire bient√¥t:</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cauchemar d'apprentissage</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soyons honn√™tes. Tous les programmes qui reposent sur ABI sont susceptibles de violer les principes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ODR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> quelque part </font><font style="vertical-align: inherit;">ou d'utiliser des indicateurs incompatibles, qui, heureusement, fonctionnent toujours. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les nouveaux programmes doivent √™tre compil√©s √† partir du code source, nous avons besoin d'outils construits sur l'assemblage √† partir des sources, et non d'une collection de biblioth√®ques que nous avons obtenues quelque part et ins√©r√©es d'une mani√®re ou d'une autre dans le projet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, la construction √† partir des sources est quelque chose qui n'est pas si facile √† r√©aliser. Mais nous devons encourager cette approche du produit, mettre √† jour r√©guli√®rement les compilateurs afin que les utilisateurs b√©n√©ficient des fonctionnalit√©s nouvellement introduites un mois apr√®s la sortie, et pas dix ans plus tard. Des solutions appropri√©es, fiables, √©volutives et reproductibles, des biblioth√®ques open source et un syst√®me de d√©pendance doivent √™tre encourag√©s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Refusant de violer ABI, le comit√© d√©clare ouvertement qu'il soutiendra des programmes mal √©crits tout au long de leur existence. </font><font style="vertical-align: inherit;">M√™me si vous ne liez pas aux biblioth√®ques obtenues via apt-install (qui sont en fait destin√©es au syst√®me), il y aura d'autres personnes, car le comit√© leur a donn√© leur b√©n√©diction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est un √©norme pas en arri√®re. </font><font style="vertical-align: inherit;">Comment pouvons-nous enseigner aux autres de bonnes pratiques linguistiques si nous ne sommes pas incit√©s √† le faire?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perte d'int√©r√™t pour la biblioth√®que standard</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La perte estim√©e des performances de la biblioth√®que due √† notre r√©ticence √† violer ABI est estim√©e √† 5-10%. </font><font style="vertical-align: inherit;">Ce nombre ne fera qu'augmenter avec le temps. </font><font style="vertical-align: inherit;">Regardons des exemples:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous √™tes une grande entreprise, vous pouvez vous acheter un nouveau centre de donn√©es ou payer une √©quipe de programmeurs qui prendraient en charge leur propre biblioth√®que</font></font></li>
<li>    ,   5%              ,     </li>
<li>   ,   5-10%  ,               VR-</li>
<li>   ,        ‚Äî     </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pense qu'ici, bon gr√© mal gr√©, la question se pose entre: ¬´Je devrais certainement utiliser C ++ et sa biblioth√®que standard!¬ª et "Peut-√™tre que je ne devrais pas utiliser la biblioth√®que standard? Ou peut-√™tre que je ne devrais pas utiliser C ++ en principe? Peut-√™tre que .NET, julia ou Rust seraient une meilleure solution? " Bien s√ªr, de nombreux facteurs influencent la r√©ponse, mais nous voyons ce qui se passe r√©cemment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De nombreux d√©veloppeurs de jeux sont extr√™mement sceptiques quant √† la biblioth√®que standard. Ils pr√©f√®rent d√©velopper leur propre alternative, comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EASTL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">plut√¥t</font></a><font style="vertical-align: inherit;"> que de profiter de STL. Facebook a de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">folie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Google a du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rappel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et ainsi de suite.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est comme une boule de neige. </font><font style="vertical-align: inherit;">Si les gens n'utilisent pas la biblioth√®que standard, ils n'ont aucun int√©r√™t √† l'am√©liorer. </font><font style="vertical-align: inherit;">La performance est le facteur cl√© qui maintient la biblioth√®que √† flot. </font><font style="vertical-align: inherit;">Sans garantie de performance, beaucoup moins d'efforts seront consacr√©s √† son d√©veloppement.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;&gt; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://twitter.com/foonathan" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jonathan M√ºller</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> @foonathan </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quel est l'int√©r√™t d'utiliser des conteneurs de la biblioth√®que standard s'ils n'offrent pas de meilleures performances? </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Titus Winters</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> @TitusWinters </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-√™tre parce qu'ils sont communs et facilement accessibles? </font><font style="vertical-align: inherit;">(ces deux faits ne signifient pas la m√™me chose). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voter pour pr√©server ABI revient √† dire que la biblioth√®que standard devrait s'efforcer d'√™tre McDonald's - elle est √©galement partout, elle est stable et r√©sout techniquement les t√¢ches.</font></font><br>
</blockquote> <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment un comit√© peut-il consid√©rer les propositions de rupture d'un ABI?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plusieurs options sont propos√©es pour soulager la douleur caus√©e par l'incapacit√© d'accepter les offres si elles violent l'ABI:</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajout de nouveaux noms</font></font></h3><br>
<img src="https://habrastorage.org/getpro/habr/post_images/9db/f42/6f8/9dbf426f89a37d487fb3b446edebc89d.webp" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est la premi√®re et √©vidente solution. Si nous ne pouvons pas changer </font></font><code>std::unordered_map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pouvons-nous simplement ajouter </font></font><code>std::fast_map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Il y a plusieurs raisons pour lesquelles c'est mauvais. L'ajout de types √† la biblioth√®que standard co√ªte cher, √† la fois en termes de co√ªts de support et en termes d'√©ducation. Apr√®s l'introduction de la nouvelle classe, des milliers d'articles appara√Ætront in√©vitablement, expliquant quel conteneur doit √™tre utilis√©. Par exemple, dois-je utiliser </font></font><code>std::scoped_lock</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>std::lock_guard</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Je n'ai aucune id√©e! J'ai besoin de google √† chaque fois. Il y a aussi le probl√®me que les bons noms finissent t√¥t ou tard. Nous obtenons √©galement une surcharge lors de l'ex√©cution du programme, car tous les conteneurs doivent √™tre constamment convertis les uns aux autres, il devient difficile de contr√¥ler un grand nombre de surcharges de conversion dans la classe, etc.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est ironique, mais les personnes qui soutiennent la solution ci-dessus peuvent √©galement affirmer que C ++ est un langage trop complexe. </font><font style="vertical-align: inherit;">L'ajout de doublons √† la biblioth√®que ne facilitera certainement pas la t√¢che.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais nous pourrions accepter cette offre comme standard!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certains d√©veloppeurs de biblioth√®ques affirment que leurs offres ont √©t√© rejet√©es en raison d'une violation d'ABI, bien qu'elles n'aient en fait rien viol√©, ou qu'elles pourraient √™tre modifi√©es afin de contourner l'√©chec d'ABI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que personne cynique, c'est un peu difficile pour moi de croire. </font><font style="vertical-align: inherit;">Le fait est qu'avant il n'y avait pas de telles propositions, et les sc√©narios dans lesquels elles peuvent √™tre appliqu√©es sont tr√®s limit√©s. </font><font style="vertical-align: inherit;">ABI Review Group (ARG) pourrait vous aider dans cette affaire, mais ils recommanderont probablement un autre nom pour la classe / fonction.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Violation partielle d'Abi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'id√©e principale n'est pas de casser l'int√©gralit√© de l'ABI, mais de le changer uniquement pour une classe ou une fonction sp√©cifique. </font><font style="vertical-align: inherit;">Le probl√®me avec cette approche est qu'au lieu d'une erreur au stade de la liaison, nous verrons le probl√®me d√©j√† lors du lancement du programme, et il sera d√©sagr√©able de nous surprendre. </font><font style="vertical-align: inherit;">Le comit√© avait d√©j√† essay√© cette approche en C ++ 11 lorsqu'il a modifi√© le balisage </font></font><code>std::string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Rien de bon n'en est sorti. </font><font style="vertical-align: inherit;">Tout √©tait si mauvais que ce fait est toujours utilis√© comme argument en faveur du maintien de l'ABI actuel.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un autre niveau d'indexation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution √† certains des probl√®mes avec ABI serait la possibilit√© d'acc√©der aux donn√©es de la classe via un pointeur, puis le balisage de la classe ne serait que ce pointeur. L'id√©e est tr√®s proche de l'idiome </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PIMPL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est activement utilis√© dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt en</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> raison de son ABI. Oui, cela r√©soudrait le probl√®me avec les membres de la classe, mais que faire des m√©thodes virtuelles? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consid√©rant le probl√®me d'un point de vue plus critique, nous parlons d'ajouter un niveau d'indirection suppl√©mentaire (index de pointeur) et une allocation suppl√©mentaire de m√©moire dans le tas pour tout ce qui est inclus dans le cadre d'ABI. En STL, en fait, tout est enferm√© dans ce cadre car il s'agit d'une collection de classes g√©n√©ralis√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, le prix de cette approche sera √©norme.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour r√©soudre ce probl√®me, la norme contient d√©j√† plusieurs propositions. </font><font style="vertical-align: inherit;">Certains d'entre eux veulent faire de PIMPL l'une des fonctionnalit√©s du langage, vous pouvez donc choisir entre stabilit√© ABI et hautes performances. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ironiquement, cependant, mais pour transformer les types de biblioth√®ques en types PIPML, nous devons ... casser l'ABI.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©assemblez tout le code tous les trois ans</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juste mes pens√©es √† voix haute.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toutes les offres actuelles de la norme doivent √™tre d√©truites</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paradoxalement, le C ++ n'a jamais √©t√© aussi vivant qu'aujourd'hui. </font><font style="vertical-align: inherit;">√Ä Prague, 250 personnes ont travaill√© sur beaucoup de choses pour lui, notamment:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Num√©rique</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alg√®bre lin√©aire</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'audio</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E / S asynchrones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphiques 2D et 3D</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De nombreuses autres fonctionnalit√©s</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes ces propositions sont unies par un fait commun - elles sont beaucoup plus facultatives par rapport √† ce que nous avons actuellement dans la norme. Les gens essaient simplement de standardiser les choses de leur domaine de recherche et de travail, ou de ce qui √©volue et change constamment. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En particulier, les algorithmes Unicode sont extr√™mement instables et changent rapidement au fil du temps. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et puis, une horreur telle que le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©seautage se</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> profile √† l'horizon </font><font style="vertical-align: inherit;">. Il est tr√®s, tr√®s irresponsable d'essayer de standardiser tout ce qui pourrait entra√Æner des probl√®mes de s√©curit√©, et en m√™me temps de ne pas pouvoir le changer plus tard (rappelez-vous d'ABI).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisque C ++ a d√©cid√© de le rendre stable, toutes ces suggestions doivent √™tre d√©truites et br√ªl√©es. Je ne voudrais pas √™tre d√©truit, mais cela doit √™tre fait. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais ils ne le feront toujours pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le meilleur des cas, nous ne commettrons pas d'erreurs et ne normaliserons pas l'√©tat actuel des choses dans l'une des nouvelles versions de C ++, puis nous laisserons tout se d√©composer lentement, car il ne sera pas possible de le r√©parer (dans le cas de Networking TS, nous semblons ne pouvoir rien changer du tout, donc nous devrons standardiser ce qui existait il y a dix ans, alors bien s√ªr la biblioth√®que peut encore √™tre consid√©rablement am√©lior√©e, mais laissons cette histoire pour une autre fois). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais bien s√ªr, nous ferons beaucoup, beaucoup d‚Äôerreurs.</font></font><br>
<br>
<blockquote>&gt;&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b>√ìlafur Waage</b></a> @olafurw<br>
(      ,    )<br>
<br>
 ,  !<br>
<br>
         .       ,      ( : , , )?<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b>Hyrum Wright</b></a> @hyrumwright<br>
    ,    ,  .       ‚Äî    ,      .<br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certaines erreurs sont commises intentionnellement, car ce sont des compromis, tandis que d'autres passent inaper√ßues pendant de nombreuses ann√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le temps passe, mais la biblioth√®que standard reste immobile. Les compromis pr√©c√©demment effectu√©s commencent progressivement √† nous d√©ranger et deviennent plus tard de v√©ritables ¬´goulots d'√©tranglement¬ª dans le code existant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certaines choses sont vraiment impossibles √† changer, car elles sont int√©gr√©es dans l'API. Nous avons tous une id√©e de la difficult√© de changer une API existante. Mais une partie du code peut toujours √™tre corrig√©e et am√©lior√©e si nous pouvions casser l'ABI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le C ++ sera toujours √† flot au cours des 40 prochaines ann√©es. Si nous ne pouvons pas r√©aliser le besoin de le changer de mani√®re impr√©visible √† tout moment, alors le seul bon choix sera de ne pas jouer √† ce jeu en principe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout le monde sait qu'un conteneur associatif standard est pertinent pour une utilisation depuis moins de dix ans. </font><font style="vertical-align: inherit;">Mais pourquoi pensons-nous alors que les propositions plus importantes de la norme seront plus efficaces? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Votre offre au standard </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sera</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©truite, la mienne sera d√©truite de la m√™me mani√®re.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un comit√© peut-il en principe casser un ABI?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beaucoup sont s√ªrs que le comit√© ne peut pas, en principe, prendre une telle d√©cision, car alors les d√©veloppeurs de biblioth√®que l'ignoreront simplement. </font><font style="vertical-align: inherit;">Tout cela ressemble douloureusement √† la lutte √† bras, dans laquelle le comit√© a d√©cid√© de ne pas jouer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le fait est que les d√©veloppeurs de tout produit ont leurs propres utilisateurs. </font><font style="vertical-align: inherit;">Les utilisateurs sont ceux qui doivent avant tout comprendre les compromis qui leur sont impos√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beaucoup de gens comptent sur ABI par accident, sans faire de choix √©clair√©. </font><font style="vertical-align: inherit;">Beaucoup de gens comptent √©galement sur la stabilit√©, car, bien s√ªr, tout le monde veut y compter. </font><font style="vertical-align: inherit;">Mais comme toute autre chose, la stabilit√© a un prix, et maintenant tout l'√©cosyst√®me C ++ en paie.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr490198/index.html">Faites confiance mais v√©rifiez! Zone de d√©monstration avec projecteurs Epson pour home cin√©ma dans la salle de d√©monstration Pult.ru</a></li>
<li><a href="../fr490202/index.html">Comptage de requ√™tes: test de base des performances Django</a></li>
<li><a href="../fr490204/index.html">Le condens√© des √©v√©nements pour les recruteurs RH et IT en mars 2020</a></li>
<li><a href="../fr490208/index.html">Section backend sur DUMP2020: badinage, ventilateur, √©chec</a></li>
<li><a href="../fr490210/index.html">Acc√©l√©rer le frontend. Quand beaucoup de demandes de serveur sont bonnes</a></li>
<li><a href="../fr490224/index.html">Furtivit√© √† la mode</a></li>
<li><a href="../fr490226/index.html">Blending et Unity Terrain: comment se d√©barrasser des intersections et arr√™ter de se faire mal aux yeux</a></li>
<li><a href="../fr490242/index.html">Service de localisation GSM des modules SIM800x et son travail avec l'API Yandex.Locator</a></li>
<li><a href="../fr490244/index.html">Optimisation de code Python avec ctypes</a></li>
<li><a href="../fr490246/index.html">Kremlin Towers in Hydra's Embrace: Conf√©rence sur l'informatique parall√®le et distribu√©e Hydra 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>