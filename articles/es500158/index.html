<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title> 锔  Interacci贸n de SwiftUI con Redux   う</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos. En este art铆culo hablaremos sobre el marco SwiftUI junto con Redux, este paquete nos permite crear aplicaciones de manera r谩pida y f谩cil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Interacci贸n de SwiftUI con Redux</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500158/"><img src="https://habrastorage.org/webt/0a/1b/6r/0a1b6rckxwuh5wqlxbsyqygrf94.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hola a todos. En este art铆culo hablaremos sobre el marco </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> junto con Redux, este paquete nos permite crear aplicaciones de manera r谩pida y f谩cil. SwiftUI se utiliza para crear una interfaz de usuario de estilo declarativo, a diferencia de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Redux, a su vez, sirve para controlar el estado de la aplicaci贸n. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El estado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un concepto fundamental en SwiftUI y Redux. En nuestro caso, esto no es solo una palabra de moda, sino tambi茅n una entidad que los conecta y les permite trabajar muy bien juntos. En este art铆culo intentar茅 demostrar que la tesis anterior es cierta, 隆as铆 que comencemos! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de sumergirnos en escribir c贸digo, primero comprendamos qu茅 es Redux y en qu茅 consiste.</font></font><br>
<a name="habracut"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es una biblioteca de c贸digo abierto para administrar el estado de una aplicaci贸n. </font><font style="vertical-align: inherit;">La mayor铆a de las veces se usa junto con React o Angular para desarrollar el lado del cliente. </font><font style="vertical-align: inherit;">Contiene una serie de herramientas para simplificar significativamente la transferencia de datos de almacenamiento a trav茅s del contexto. </font><font style="vertical-align: inherit;">Creadores: Daniil Abramov y Andrew Clark. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para m铆, Redux no es solo una biblioteca, ya es algo m谩s, lo atribuyo a las decisiones arquitect贸nicas en las que se basa la aplicaci贸n. </font><font style="vertical-align: inherit;">Principalmente debido a su flujo de datos unidireccional.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flujo multidireccional o unidireccional.</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para explicar lo que quiero decir con flujo de datos, dar茅 el siguiente ejemplo. Una aplicaci贸n creada con VIPER admite un flujo de datos multidireccional entre m贸dulos: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a6/1h/3j/a61h3juugoawz8ij3xt_mot6brm.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redux, a su vez, es un flujo de datos unidireccional y es m谩s f谩cil de explicar en funci贸n de sus componentes constituyentes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hm/yc/hl/hmychlrpj6tbe0loeykh5wax8hk.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hablemos un poco en detalle sobre cada componente de Redux. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El estado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es la 煤nica fuente de verdad que contiene toda la informaci贸n necesaria para nuestra aplicaci贸n. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La acci贸n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es la intenci贸n de cambiar de estado. En nuestro caso, esta es una enumeraci贸n que contiene informaci贸n nueva que queremos agregar o cambiar en el estado actual. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reductor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es una funci贸n que toma la acci贸n y el estado actual como par谩metros y devuelve un nuevo estado. </font><font style="vertical-align: inherit;">Esta es la 煤nica forma de crearlo. </font><font style="vertical-align: inherit;">Tambi茅n vale la pena se帽alar que esta caracter铆stica debe estar limpia. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Store</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un objeto que contiene State y proporciona todas las herramientas necesarias para actualizarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creo que la teor铆a es suficiente, pasemos a la pr谩ctica.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementaci贸n de Redux</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una de las formas m谩s f谩ciles de conocer una herramienta es comenzar a usarla, como dijo mi maestro de programaci贸n, si desea aprender un lenguaje de programaci贸n, escriba una aplicaci贸n en 茅l. As铆 que creemos una peque帽a aplicaci贸n, que sea un simple diario de entrenamiento, tendr谩 solo cuatro opciones, la primera es mostrar una lista de entrenamientos, la segunda es agregar un entrenamiento completo, la tercera es eliminar y la cuarta es ordenar entrenamientos. Aplicaci贸n bastante simple, pero al mismo tiempo nos permitir谩 conocer Redux y SwiftUI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cree un proyecto limpio en Xcode, as铆gnele el nombre WorkoutsDiary y, lo m谩s importante, seleccione SwiftUI para la interfaz de usuario, ya que usaremos SwiftUI para crear nuestra interfaz de usuario.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu茅s de crear el proyecto. </font><font style="vertical-align: inherit;">Cree una estructura de entrenamiento que ser谩 responsable del entrenamiento que completamos.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">import</span> Foundation<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Workout</span>: <span class="hljs-title">Identifiable</span> </span>{
    <span class="hljs-keyword">let</span> id: <span class="hljs-type">UUID</span> = .<span class="hljs-keyword">init</span>()
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> <span class="hljs-built_in">distance</span>: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> date: <span class="hljs-type">Date</span>
    <span class="hljs-keyword">let</span> complexity: <span class="hljs-type">Complexity</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como puede ver, esta estructura no tiene nada de loco, el campo de identificaci贸n se requiere para cumplir con el protocolo identificable, y el campo de complejidad es solo una enumeraci贸n con la siguiente definici贸n:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Complexity</span>: <span class="hljs-title">Int</span> </span>{
    <span class="hljs-keyword">case</span> low
    <span class="hljs-keyword">case</span> medium
    <span class="hljs-keyword">case</span> high<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora que tenemos todo lo que necesitamos para comenzar a implementar Redux, comencemos creando un Estado.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">AppState</span> </span>{
    <span class="hljs-keyword">var</span> workouts: [<span class="hljs-type">Workout</span>]
    <span class="hljs-keyword">var</span> sortType: <span class="hljs-type">SortType?</span><font></font>
}<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El estado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es una estructura simple que contiene dos campos: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entrenamientos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sortType</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">El primero es una lista de entrenamientos, y el segundo es un campo opcional que determina c贸mo se ordena la lista. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SortType es una enumeraci贸n que se define de la siguiente manera:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">SortType</span> </span>{
    <span class="hljs-keyword">case</span> <span class="hljs-built_in">distance</span>
    <span class="hljs-keyword">case</span> complexity<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para simplificar, clasificaremos por distancia y dificultad en orden descendente, es decir, cuanto mayor sea la complejidad de nuestro entrenamiento, mayor se mostrar谩 en nuestra lista. </font><font style="vertical-align: inherit;">Vale la pena se帽alar que sortType es un tipo opcional y puede ser nulo, lo que significa que la lista no est谩 ordenada en este momento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Continuaremos la implementaci贸n de nuestros componentes. </font><font style="vertical-align: inherit;">Creemos una </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acci贸n</font></font></b><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Action</span> </span>{
    <span class="hljs-keyword">case</span> addWorkout(<span class="hljs-number">_</span> workout: <span class="hljs-type">Workout</span>)
    <span class="hljs-keyword">case</span> removeWorkout(at: <span class="hljs-type">IndexSet</span>)
    <span class="hljs-keyword">case</span> <span class="hljs-built_in">sort</span>(by: <span class="hljs-type">SortType</span>)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como podemos ver, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acci贸n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es una enumeraci贸n con tres casos que nos dan la capacidad de manipular a nuestro </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">addWorkout (_ workout: Workout)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> simplemente agrega un entrenamiento que se pasa como par谩metro.</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">removeWorkout (at: IndexSet)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> elimina el elemento en el 铆ndice especificado.</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sort (by: SortType)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ordena la lista de entrenamiento por el tipo de clasificaci贸n especificado.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creemos uno de los componentes m谩s complejos, este es </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reductor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">reducer</span><span class="hljs-params">(state: AppState, action: Action)</span></span> -&gt; <span class="hljs-type">AppState</span> {
    <span class="hljs-keyword">var</span> state = state<font></font>
    <font></font>
    <span class="hljs-keyword">switch</span> action {
    <span class="hljs-keyword">case</span> .addWorkout(<span class="hljs-keyword">let</span> workout):<font></font>
        state.workouts.append(workout)<font></font>
        <font></font>
    <span class="hljs-keyword">case</span> .removeWorkout(<span class="hljs-keyword">let</span> indexSet):<font></font>
        state.workouts.remove(atOffsets: indexSet)<font></font>
    <font></font>
    <span class="hljs-keyword">case</span> .<span class="hljs-built_in">sort</span>(<span class="hljs-keyword">let</span> type):
        <span class="hljs-keyword">switch</span> type {
        <span class="hljs-keyword">case</span> .<span class="hljs-built_in">distance</span>:<font></font>
            state.workouts.<span class="hljs-built_in">sort</span> { $<span class="hljs-number">0</span>.<span class="hljs-built_in">distance</span> &gt; $<span class="hljs-number">1</span>.<span class="hljs-built_in">distance</span> }<font></font>
            state.sortType = .<span class="hljs-built_in">distance</span>
        <span class="hljs-keyword">case</span> .complexity:<font></font>
            state.workouts.<span class="hljs-built_in">sort</span> { $<span class="hljs-number">0</span>.complexity.rawValue &gt; $<span class="hljs-number">1</span>.complexity.rawValue }<font></font>
            state.sortType = .complexity<font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> state<font></font>
}<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La funci贸n que escribimos es bastante simple y funciona de la siguiente manera:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copia el </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> actual </font><font style="vertical-align: inherit;">para trabajar con 茅l.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En funci贸n de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , actualizamos nuestro </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> copiado </font><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devuelve el </font><b><font style="vertical-align: inherit;">estado</font></b><font style="vertical-align: inherit;"> actualizado</font></font><b><font style="vertical-align: inherit;"></font></b></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale la pena se帽alar que la funci贸n anterior es una funci贸n pura, 隆y eso es lo que quer铆amos lograr! </font><font style="vertical-align: inherit;">Una funci贸n debe cumplir dos condiciones para ser considerada "pura":</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada vez, la funci贸n devuelve el mismo resultado cuando se llama con el mismo conjunto de datos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No hay efectos secundarios.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El 煤ltimo elemento que falta en Redux es la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tienda</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , as铆 que implem茅ntelo para nuestra aplicaci贸n.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Store</span>: <span class="hljs-title">ObservableObject</span> </span>{<font></font>
     @<span class="hljs-type">Published</span> <span class="hljs-keyword">private</span>(<span class="hljs-keyword">set</span>) <span class="hljs-keyword">var</span> state: <span class="hljs-type">AppState</span><font></font>
     <font></font>
     <span class="hljs-keyword">init</span>(state: <span class="hljs-type">AppState</span> = .<span class="hljs-keyword">init</span>(workouts: [<span class="hljs-type">Workout</span>]())) {
         <span class="hljs-keyword">self</span>.state = state<font></font>
     }<font></font>
     <font></font>
     <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">dispatch</span><span class="hljs-params">(action: Action)</span></span> {<font></font>
         state = reducer(state: state, action: action)<font></font>
     }<font></font>
 }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En las implementaciones del objeto </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Store</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">utilizamos todas las ventajas del protocolo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObject</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que nos permite excluir la escritura de una gran cantidad de c贸digo de plantilla o el uso de marcos de terceros. La propiedad </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">State</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es de solo lectura y utiliza el contenedor de la propiedad </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , lo que significa que cada vez que se cambia, SwiftUI recibir谩 notificaciones. El m茅todo init toma un estado inicial como par谩metro con un valor predeterminado dado en forma de una matriz vac铆a de elementos de entrenamiento. La funci贸n de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">despacho</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es la 煤nica forma de actualizar el estado: reemplaza el estado actual con el nuevo creado por la funci贸n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reductora</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , basado en</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acci贸n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se pasa como par谩metro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora que hemos implementado todos los componentes de Redux, podemos comenzar a crear una interfaz de usuario para nuestra aplicaci贸n.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementaci贸n de la aplicaci贸n</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La interfaz de usuario de nuestra aplicaci贸n ser谩 bastante simple. </font><font style="vertical-align: inherit;">Y constar谩 de dos pantallas peque帽as. </font><font style="vertical-align: inherit;">La primera y principal pantalla es una pantalla que mostrar谩 una lista de entrenamientos. </font><font style="vertical-align: inherit;">La segunda pantalla es la pantalla de agregar entrenamiento. </font><font style="vertical-align: inherit;">Adem谩s, cada elemento se mostrar谩 en un color determinado, el color reflejar谩 la complejidad del entrenamiento. </font><font style="vertical-align: inherit;">Los gl贸bulos rojos indican la mayor dificultad del entrenamiento, el naranja es responsable de la dificultad promedio y el verde es el responsable del entrenamiento m谩s f谩cil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Implementaremos la interfaz usando un nuevo marco de Apple llamado SwiftUI. SwiftUI viene a reemplazar nuestro UIKit familiar. SwiftUI es fundamentalmente diferente de UIKit, principalmente porque es un enfoque declarativo para escribir elementos de UI con c贸digo. En este art铆culo, no profundizar茅 en todas las complejidades de SwiftUI y supongo que ya tiene experiencia con SwiftUI. Si no tiene conocimiento de SwiftUI, le aconsejo que preste atenci贸n a la documentaci贸n de Apple, es decir, mire sus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">varios tutoriales completos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con la adici贸n paso a paso y la visualizaci贸n interactiva del resultado a la vista. Tambi茅n hay enlaces a proyectos de ejemplo. Estos tutoriales te permitir谩n sumergirte r谩pidamente en el mundo declarativo de SwiftUI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi茅n vale la pena se帽alar que SwiftUI a煤n no est谩 listo para proyectos de producci贸n, es demasiado joven y pasar谩 m谩s de un a帽o antes de que pueda usarse de esta manera. Adem谩s, no olvide que solo es compatible con las versiones iOS 13.0+. Pero tambi茅n vale la pena se帽alar que SwiftUI funcionar谩 en todas las plataformas de Apple, 隆lo cual es una gran ventaja sobre UIKit! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos la implementaci贸n desde la pantalla principal de nuestra aplicaci贸n. Vaya al archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ContentView.swift y</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cambie el c贸digo actual a esto.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">var</span> store: <span class="hljs-type">Store</span>
    @<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isAddingMode: <span class="hljs-type">Bool</span> = <span class="hljs-literal">false</span><font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">NavigationView</span> {
            <span class="hljs-type">WorkoutListView</span>()<font></font>
                .navigationBarTitle(<span class="hljs-string">"Workouts diary"</span>, displayMode: .inline)<font></font>
                .navigationBarItems(<font></font>
                    leading: <span class="hljs-type">AddButton</span>(isAddingMode: <span class="hljs-keyword">self</span>.$isAddingMode),<font></font>
                    trailing: <span class="hljs-type">TrailingView</span>()<font></font>
                )<font></font>
        }<font></font>
        .sheet(isPresented: $isAddingMode) {<font></font>
            <span class="hljs-type">AddWorkoutView</span>(isAddingMode: <span class="hljs-keyword">self</span>.$isAddingMode)<font></font>
                .environmentObject(<span class="hljs-keyword">self</span>.store)<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La Vista de contenido es una vista est谩ndar en SwiftUI. </font><font style="vertical-align: inherit;">La parte m谩s importante, desde mi punto de vista, es la l铆nea de c贸digo que contiene la variable store. </font><font style="vertical-align: inherit;">Crearemos @EnvironmentObject. </font><font style="vertical-align: inherit;">Esto nos permitir谩 usar los datos de la Tienda donde sea necesario y, adem谩s, actualizar谩 autom谩ticamente nuestras vistas si se modifican los datos. </font><font style="vertical-align: inherit;">Esto es algo as铆 como Singleton para nuestra tienda.</font></font><br>
<br>
<pre><code class="swift hljs">@<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">var</span> store: <span class="hljs-type">Store</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi茅n vale la pena se帽alar la siguiente l铆nea de c贸digo:</font></font><br>
<br>
<pre><code class="swift hljs">@<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isAddingMode: <span class="hljs-type">Bool</span> = <span class="hljs-literal">false</span>
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es un contenedor que podemos usar para indicar el estado de una Vista. </font><font style="vertical-align: inherit;">SwiftUI lo almacenar谩 en una memoria interna especial fuera de la estructura de Vista. </font><font style="vertical-align: inherit;">Solo una vista vinculada puede acceder a ella. </font><font style="vertical-align: inherit;">Una vez que el valor de la propiedad</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cambios, SwiftUI reconstruye la Vista para tener en cuenta los cambios de estado.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ul/ab/qx/ulabqxoyqpmsk3vndncjq3-i-1m.png" alt="imagen" width="350" height="614"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego iremos al archivo SceneDelegate.swift y agregaremos el c贸digo al m茅todo:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">scene</span><span class="hljs-params">(
        <span class="hljs-number">_</span> scene: UIScene,
        willConnectTo session: UISceneSession,
        options connectionOptions: UIScene.ConnectionOptions
    )</span></span> {
        <span class="hljs-keyword">let</span> contentView = <span class="hljs-type">ContentView</span>().environmentObject(<span class="hljs-type">Store</span>())<font></font>
        <font></font>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> windowScene = scene <span class="hljs-keyword">as</span>? <span class="hljs-type">UIWindowScene</span> {
            <span class="hljs-keyword">let</span> window = <span class="hljs-type">UIWindow</span>(windowScene: windowScene)<font></font>
            window.rootViewController = <span class="hljs-type">UIHostingController</span>(rootView: contentView)
            <span class="hljs-keyword">self</span>.window = window<font></font>
            window.makeKeyAndVisible()<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Del mismo modo, cualquier </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@EnvironmentObject</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se puede pasar a cualquier representaci贸n secundaria en toda la aplicaci贸n, y todo esto es posible gracias al entorno. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> variable </font><i><font style="vertical-align: inherit;">IsAddingMode est谩</font></i><font style="vertical-align: inherit;"> marcada</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estado</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e indica si la vista secundaria se muestra o no. </font><b><font style="vertical-align: inherit;">WorkoutListView</font></b><font style="vertical-align: inherit;"> hereda autom谩ticamente la </font><font style="vertical-align: inherit;">variable de la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tienda</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y no necesitamos pasarla expl铆citamente, pero debemos hacer esto para </font><b><font style="vertical-align: inherit;">AddWorkoutView</font></b><font style="vertical-align: inherit;"> , porque se presenta en forma de una hoja que no es un elemento secundario de </font><b><font style="vertical-align: inherit;">ContentView</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Ahora cree un </font><b><font style="vertical-align: inherit;">WorkoutListView</font></b><font style="vertical-align: inherit;"> que heredar谩 de View. </font><font style="vertical-align: inherit;">Cree un nuevo archivo r谩pido llamado </font><i><font style="vertical-align: inherit;">WorkoutListView</font></i><font style="vertical-align: inherit;"> .</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">WorkoutListView</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">var</span> store: <span class="hljs-type">Store</span><font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">List</span> {
            <span class="hljs-type">ForEach</span>(store.state.workouts) {
                <span class="hljs-type">WorkoutView</span>(workout: $<span class="hljs-number">0</span>)<font></font>
            }<font></font>
            .onDelete {<font></font>
                <span class="hljs-keyword">self</span>.store.dispatch(action: .removeWorkout(at: $<span class="hljs-number">0</span>))<font></font>
            }<font></font>
            .listRowInsets(<span class="hljs-type">EdgeInsets</span>())<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ver, que utiliza el elemento Lista de contenedores para mostrar una lista de entrenamientos. La funci贸n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onDelete</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se utiliza para eliminar un entrenamiento y utiliza la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acci贸n removeWorkout</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se realiza mediante la funci贸n de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">env铆o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> proporcionada por la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tienda</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para mostrar el entrenamiento en la lista, se utiliza WorkoutView. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cree otro archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WorkoutView.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que ser谩 responsable de mostrar nuestro elemento en la lista.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">WorkoutView</span>: <span class="hljs-title">View</span> </span>{
    <span class="hljs-keyword">let</span> workout: <span class="hljs-type">Workout</span><font></font>
    <font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> backgroundColor: <span class="hljs-type">Color</span> {
        <span class="hljs-keyword">switch</span> workout.complexity {
        <span class="hljs-keyword">case</span> .low:
            <span class="hljs-keyword">return</span> .green
        <span class="hljs-keyword">case</span> .medium:
            <span class="hljs-keyword">return</span> .orange
        <span class="hljs-keyword">case</span> .high:
            <span class="hljs-keyword">return</span> .red<font></font>
        }<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">HStack</span> {
            <span class="hljs-type">VStack</span>(alignment: .leading) {
                <span class="hljs-type">Text</span>(workout.name)
                <span class="hljs-type">Text</span>(<span class="hljs-string">"Distance:"</span> + workout.<span class="hljs-built_in">distance</span> + <span class="hljs-string">"km"</span>)<font></font>
                    .font(.subheadline)<font></font>
            }<font></font>
            <span class="hljs-type">Spacer</span>()
            <span class="hljs-type">VStack</span>(alignment: .leading) {
                <span class="hljs-type">Text</span>(simpleFormat(workout.date))<font></font>
            }<font></font>
        }<font></font>
        .padding()<font></font>
        .background(backgroundColor)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">WorkoutView</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">simpleFormat</span><span class="hljs-params">(<span class="hljs-number">_</span> date: Date)</span></span> -&gt; <span class="hljs-type">String</span> {
        <span class="hljs-keyword">let</span> dateFormatter = <span class="hljs-type">DateFormatter</span>()<font></font>
        dateFormatter.dateFormat = <span class="hljs-string">"dd MMM yyyy"</span>
        dateFormatter.locale = .<span class="hljs-keyword">init</span>(identifier: <span class="hljs-string">"en_GB"</span>)
        <span class="hljs-keyword">return</span> dateFormatter.string(from: date)<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta vista toma el objeto de entrenamiento como par谩metro y se configura en funci贸n de sus propiedades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para agregar un nuevo elemento a la lista, debe cambiar el par谩metro </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isAddingMode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdadero</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para mostrar </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AddWorkoutView</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Esta responsabilidad </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recae</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font><b><font style="vertical-align: inherit;">AddButton</font></b><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">AddButton</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">Binding</span> <span class="hljs-keyword">var</span> isAddingMode: <span class="hljs-type">Bool</span><font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">Button</span>(action: { <span class="hljs-keyword">self</span>.isAddingMode = <span class="hljs-literal">true</span> }) {
            <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"plus"</span>)<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AddButton tambi茅n vale la pena ponerlo en un archivo separado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta vista es un bot贸n simple que se ha extra铆do del </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ContentView</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> principal </font><font style="vertical-align: inherit;">para una mejor estructura y separaci贸n de c贸digo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cree una vista para agregar un nuevo entrenamiento. </font><font style="vertical-align: inherit;">Cree un nuevo archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AddWorkoutView.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">AddWorkoutView</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> store: <span class="hljs-type">Store</span><font></font>
    <font></font>
    @<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> nameText: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> distanceText: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> complexityField: <span class="hljs-type">Complexity</span> = .medium<font></font>
    @<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> dateField: <span class="hljs-type">Date</span> = <span class="hljs-type">Date</span>()<font></font>
    @<span class="hljs-type">Binding</span> <span class="hljs-keyword">var</span> isAddingMode: <span class="hljs-type">Bool</span><font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">NavigationView</span> {
            <span class="hljs-type">Form</span> {
                <span class="hljs-type">TextField</span>(<span class="hljs-string">"Name"</span>, text: $nameText)
                <span class="hljs-type">TextField</span>(<span class="hljs-string">"Distance"</span>, text: $distanceText)
                <span class="hljs-type">Picker</span>(selection: $complexityField, label: <span class="hljs-type">Text</span>(<span class="hljs-string">"Complexity"</span>)) {
                    <span class="hljs-type">Text</span>(<span class="hljs-string">"Low"</span>).tag(<span class="hljs-type">Complexity</span>.low)
                    <span class="hljs-type">Text</span>(<span class="hljs-string">"Medium"</span>).tag(<span class="hljs-type">Complexity</span>.medium)
                    <span class="hljs-type">Text</span>(<span class="hljs-string">"High"</span>).tag(<span class="hljs-type">Complexity</span>.high)<font></font>
                }<font></font>
                <span class="hljs-type">DatePicker</span>(selection: $dateField, displayedComponents: .date) {
                    <span class="hljs-type">Text</span>(<span class="hljs-string">"Date"</span>)<font></font>
                }<font></font>
            }<font></font>
            .navigationBarTitle(<span class="hljs-string">"Workout Details"</span>, displayMode: .inline)<font></font>
            .navigationBarItems(<font></font>
                leading: <span class="hljs-type">Button</span>(action: { <span class="hljs-keyword">self</span>.isAddingMode = <span class="hljs-literal">false</span> }) {
                    <span class="hljs-type">Text</span>(<span class="hljs-string">"Cancel"</span>)<font></font>
                },<font></font>
                trailing: <span class="hljs-type">Button</span>(action: {
                    <span class="hljs-keyword">let</span> workout = <span class="hljs-type">Workout</span>(<font></font>
                        name: <span class="hljs-keyword">self</span>.nameText,
                        <span class="hljs-built_in">distance</span>: <span class="hljs-keyword">self</span>.distanceText,<font></font>
                        date: <span class="hljs-keyword">self</span>.dateField,<font></font>
                        complexity: <span class="hljs-keyword">self</span>.complexityField<font></font>
                    )<font></font>
                    <span class="hljs-keyword">self</span>.store.dispatch(action: .addWorkout(workout))
                    <span class="hljs-keyword">self</span>.isAddingMode = <span class="hljs-literal">false</span><font></font>
                }) {<font></font>
                    <span class="hljs-type">Text</span>(<span class="hljs-string">"Save"</span>)<font></font>
                }<font></font>
                .disabled(nameText.isEmpty)<font></font>
            )<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es un controlador bastante grande que, como otros controladores, contiene la variable store. </font><font style="vertical-align: inherit;">Tambi茅n contiene las variables </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nameText, distanceText, complexField e isAddingMode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Las primeras tres variables son necesarias para vincular </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TextField, Picker, DatePicker</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se puede ver en esta pantalla. </font><font style="vertical-align: inherit;">La barra de navegaci贸n tiene dos elementos. </font><font style="vertical-align: inherit;">El primer bot贸n es un bot贸n que cierra la pantalla sin agregar un nuevo entrenamiento, y el 煤ltimo agrega un nuevo entrenamiento a la lista, que se logra enviando la acci贸n addWorkout. </font><font style="vertical-align: inherit;">Esta acci贸n tambi茅n cierra la pantalla de agregar nuevo entrenamiento.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gy/cn/b0/gycnb0wn0s9eachcnmcy2s96jkq.png" alt="imagen" width="350" height="614"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por 煤ltimo, pero no menos importante, es </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TrailingView</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TrailingView</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">var</span> store: <span class="hljs-type">Store</span><font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">HStack</span>(alignment: .center, spacing: <span class="hljs-number">30</span>) {
            <span class="hljs-type">Button</span>(action: {
                <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span>.store.state.sortType {
                <span class="hljs-keyword">case</span> .<span class="hljs-built_in">distance</span>:
                    <span class="hljs-keyword">self</span>.store.dispatch(action: .<span class="hljs-built_in">sort</span>(by: .<span class="hljs-built_in">distance</span>))
                <span class="hljs-keyword">default</span>:
                    <span class="hljs-keyword">self</span>.store.dispatch(action: .<span class="hljs-built_in">sort</span>(by: .complexity))<font></font>
                }<font></font>
            }) {<font></font>
                <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"arrow.up.arrow.down"</span>)<font></font>
            }<font></font>
            <span class="hljs-type">EditButton</span>()<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta vista consta de dos botones que se encargan de ordenar la lista de ejercicios y de activar o desactivar el modo de edici贸n de nuestra lista de ejercicios. </font><font style="vertical-align: inherit;">Las acciones de clasificaci贸n se llaman mediante la funci贸n de despacho, que podemos llamar a trav茅s de la propiedad de la tienda.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/av/72/2u/av722utbzjxbewvozklxazeelde.png" alt="imagen" width="350" height="614"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultado</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La aplicaci贸n est谩 lista y deber铆a funcionar exactamente como se esperaba. </font><font style="vertical-align: inherit;">Intentemos compilarlo y ejecutarlo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recomendaciones</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redux y SwiftUI funcionan muy bien juntos. El c贸digo escrito con estas herramientas es f谩cil de entender y puede estar bien organizado. Otro buen aspecto de esta soluci贸n es su excelente capacidad de prueba de c贸digo. Sin embargo, esta soluci贸n no est谩 exenta de inconvenientes, uno de ellos es una gran cantidad de memoria utilizada por la aplicaci贸n cuando el estado de la aplicaci贸n es muy complejo, y el rendimiento de la aplicaci贸n puede no ser ideal en algunos escenarios espec铆ficos, ya que todas las vistas en SwiftUI se actualizan al crear un nuevo estado. Estas deficiencias pueden tener un gran impacto en la calidad de la aplicaci贸n y la interacci贸n del usuario, pero si las recordamos y preparamos el estado de manera razonable, el impacto negativo se puede minimizar o incluso evitar f谩cilmente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede descargar o ver el c贸digo fuente del proyecto.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu铆</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espero que te haya gustado este art铆culo y hayas aprendido algo nuevo por ti mismo, nos vemos pronto. </font><font style="vertical-align: inherit;">Adem谩s ser谩 a煤n m谩s interesante.</font></font></s></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es500146/index.html">B煤squeda de empleo en Alemania como gerente de producto y m谩s. Parte 3/5. Lo que debe hacer antes de comenzar a enviar CV</a></li>
<li><a href="../es500148/index.html">Filtro de firewall Mikrotik: script que genera la base para una pol铆tica de filtrado</a></li>
<li><a href="../es500150/index.html">ROS y Neural Grid Beggar Robot</a></li>
<li><a href="../es500152/index.html">C贸mo integr茅 POS-terminal y FR IKKM-Touch en 1C: empresa</a></li>
<li><a href="../es500154/index.html">Aprendizaje autom谩tico confidencial. Biblioteca PySyft</a></li>
<li><a href="../es500160/index.html">Elementos visuales</a></li>
<li><a href="../es500162/index.html">Gran tutorial de procesamiento de datos deportivos de Python</a></li>
<li><a href="../es500164/index.html">Tutor: costos de profesi贸n</a></li>
<li><a href="../es500170/index.html">Simulador de red tutorial ns-3. Cap铆tulo 6</a></li>
<li><a href="../es500178/index.html">Traducci贸n del libro de Andrew Un, Pasi贸n por el aprendizaje autom谩tico, cap铆tulos 38 y 39</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>