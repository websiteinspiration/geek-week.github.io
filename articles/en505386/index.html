<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>▶️ 👩🏼‍🚀 🛶 Installing Debian on Netgear Stora 🤱 🤵🏽 ✋🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The other day I had this miracle in my hands: netgear ms 2000 - stora . I decided to immediately abandon the use of the embedded OS and install debian...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Installing Debian on Netgear Stora</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505386/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The other day I had this miracle in my hands: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">netgear ms 2000 - stora</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">I decided to immediately abandon the use of the embedded OS and install debian on the hard drive. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Information on the network is a bit scattered, links have long died, so I decided to update the debian installation process on stora. </font><font style="vertical-align: inherit;">Who cares, welcome to cat.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> was the main source </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, we need images for installing the system: I </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">took it here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Download both files. </font><font style="vertical-align: inherit;">These files are written to the root on a flash drive that is formatted in fat32. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A USB to UART PL2303TA converter is also required.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I had this</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/ac8/057/aac/ac8057aac87e33ffa9aa0d4b70fd877e.jpg" alt="image"><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You will also need software for connecting to a piece of iron, for example, hyperterminal or putty (I didn’t get it with putty: all the time I got into the terminal, I used hyperterminal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To connect the piece of iron with a cable, I need to take it apart first. The process is simple, so I won’t describe it . Well, you must not forget to insert the hard drive into the first slot of the side, on which the actual installation will take place. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After the hardware is parsed, we connect the adapter. Attention, do not connect the red wire, that is, you only need to connect 3 wires (from the battery: black , green, white).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, the wire is connected, the drivers are hooked. </font><font style="vertical-align: inherit;">In the com port driver, we set the parameters: speed 115200, number of bits 8, stop bits 1, without parity. </font><font style="vertical-align: inherit;">After that, turn on the piece of iron and connect to it in the terminal. </font><font style="vertical-align: inherit;">When you see Press any key ... press any key to enter the u-boot loader. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A small digression.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The list of commands that we will operate with and which will be useful:</font></font></b>
                        <div class="spoiler_text">usb reset, ide reset —  usb, ide <br>
fatls, ext2ls —    fat  ext2  .<br>
setenv —   <br>
saveenv —     <br>
reset —  <br>
printenv —   <br>
printenv NAME —   NAME<br>
help —   <br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After entering the bootloader, set the network parameters, initialize the usb device, check that there are necessary files on the flash drive, save these parameters to the device’s memory and reboot:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teams</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">usb reset<font></font>
fatls usb 0<font></font>
setenv mainlineLinux yes<font></font>
setenv arcNumber 2743<font></font>
setenv ipaddr your_IP<font></font>
setenv gatewayip your_GW_IP<font></font>
setenv dnsip your_DNS_IP<font></font>
saveenv<font></font>
reset</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After the reboot, enter the commands to start the debian installation:</font></font><br>
<br>
<pre><code class="plaintext hljs">usb reset<font></font>
fatload usb 0 0x200000 uImage<font></font>
fatload usb 0 0x800000 uInitrd<font></font>
setenv bootargs console=ttyS0,115200n8 base-installer/initramfs-tools/driver-policy=most<font></font>
bootm 0x200000 0x800000<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After that, the standard debian installation in text mode will go. </font><font style="vertical-align: inherit;">We install the system, reboot after installation, enter uboot and enter the commands to boot the device from the hard drive:</font></font><br>
<br>
<pre><code class="plaintext hljs">setenv bootcmd_ide 'ide reset; ext2load ide 0 0x200000 /uImage; ext2load ide 0 0x800000 /uInitrd'<font></font>
setenv bootcmd 'setenv bootargs $(console) root=/dev/sda2; run bootcmd_ide; bootm 0x200000 0x800000'<font></font>
saveenv<font></font>
reset<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After the reboot, the debian is loaded from the hard drive, which was originally sought.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Restoring the original bootloader:</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">setenv mainlineLinux=no<font></font>
setenv arcNumber<font></font>
setenv bootcmd_ide<font></font>
setenv bootcmd 'nand read.e 0x800000 0x100000 0x300000; setenv bootargs $(console) $(bootargs_root); bootm 0x800000'<font></font>
saveenv<font></font>
reset</code></pre><br>
</div>
                    </div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en505336/index.html">How to: Manet or Monet? Neural network responds</a></li>
<li><a href="../en505340/index.html">Walmart employees try to prove that anti-theft AI doesn't work</a></li>
<li><a href="../en505342/index.html">Dependency injection and the dependency inversion principle are NOT ONE AND SAME</a></li>
<li><a href="../en505362/index.html">Vite - lead development without bundles on Vue</a></li>
<li><a href="../en505378/index.html">All this marketing: how to work with contact points in an IT company?</a></li>
<li><a href="../en505388/index.html">Treezor - Leader in Banking Services at Société Générale</a></li>
<li><a href="../en505390/index.html">F # community founder: “OOP and AF of the brain must die” // We are doomed # 7</a></li>
<li><a href="../en505394/index.html">Antiquities: Nokia E90, the latest communicator</a></li>
<li><a href="../en505398/index.html">The dark and light sides of work at Yandex</a></li>
<li><a href="../en505400/index.html">What should the models look like?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>