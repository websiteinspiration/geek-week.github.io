<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåå üïµüèª üõÉ Serialisasi Java: kecepatan maksimum tanpa struktur data yang kaku üìÇ üê• üë©üèø‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tim kami di Sberbank sedang mengembangkan layanan data sesi yang mengatur pertukaran konteks sesi Jawa tunggal antara aplikasi terdistribusi. Layanan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Serialisasi Java: kecepatan maksimum tanpa struktur data yang kaku</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/488612/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tim kami di Sberbank sedang mengembangkan layanan data sesi yang mengatur pertukaran konteks sesi Jawa tunggal antara aplikasi terdistribusi. Layanan kami sangat membutuhkan serialisasi objek Java yang sangat cepat, karena ini adalah bagian dari tugas kritis misi kami. Awalnya, mereka muncul di benak kami: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buffer Protokol Google</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache Thrift</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache Avro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CBOR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan lain-lain. Tiga perpustakaan pertama ini membutuhkan serialisasi objek untuk menggambarkan skema data mereka. </font><font style="vertical-align: inherit;">CBOR sangat rendah sehingga hanya bisa membuat serial nilai skalar dan setnya. </font><font style="vertical-align: inherit;">Apa yang kami butuhkan adalah perpustakaan serialisasi Java yang "tidak terlalu banyak bertanya" dan tidak memaksa pengurutan objek secara serial ke "atom". </font><font style="vertical-align: inherit;">Kami ingin membuat serial objek Java yang sewenang-wenang tanpa mengetahui apa pun tentangnya, dan kami ingin melakukan ini secepat mungkin. </font><font style="vertical-align: inherit;">Oleh karena itu, kami menyelenggarakan kompetisi untuk solusi Open Source yang tersedia untuk masalah serialisasi Java.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/52/0t/82/520t82yicq9kayb7s3bovbktf04.png" alt="KDPV"><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesaing</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk kompetisi, kami memilih perpustakaan serialisasi Java paling populer, terutama menggunakan format biner, serta perpustakaan yang telah bekerja dengan baik dalam </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">ulasan</font></a><font style="vertical-align: inherit;"> serialisasi Java </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lainnya</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standar Java</font></font></i></td>
<td> Java- ¬´ ¬ª,&nbsp; Java-    .<br>
</td>
</tr>
<tr>
<td>2</td>
<td><i>Jackson JSON</i></td>
<td> &nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">FasterXML/jackson-databind</a>,  Java-   JSON-.<br>
</td>
</tr>
<tr>
<td>3</td>
<td><i>Jackson JSON (with types)</i></td>
<td>  ,   ,    ,      full qualified  Java-.        JSON- (,  )  .<br>
<div class="spoiler"><b class="spoiler_title">,    JSON...</b><div class="spoiler_text"><pre><code class="javascript hljs">[
  <span class="hljs-string">"ru.sbrf.ufs.dto.PersonDto"</span>,<font></font>
  {<font></font>
    <span class="hljs-string">"firstName"</span>:<span class="hljs-string">"Ivan"</span>,
    <span class="hljs-string">"lastName"</span>:<span class="hljs-string">"Ivanov"</span><font></font>
  }<font></font>
]<font></font>
</code></pre></div></div><div class="spoiler"><b class="spoiler_title">  ...</b><div class="spoiler_text">:<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> ObjectMapper <span class="hljs-title">createMapper</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ObjectMapper();<font></font>
}<font></font>
</code></pre>:<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> ObjectMapper <span class="hljs-title">createMapper</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ObjectMapper()<font></font>
            .enable(<font></font>
                    ACCEPT_SINGLE_VALUE_AS_ARRAY,<font></font>
                    ACCEPT_EMPTY_STRING_AS_NULL_OBJECT,<font></font>
                    ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT,<font></font>
                    READ_UNKNOWN_ENUM_VALUES_AS_NULL,<font></font>
                    UNWRAP_SINGLE_VALUE_ARRAYS<font></font>
            )<font></font>
            .disable(<font></font>
                    FAIL_ON_INVALID_SUBTYPE,<font></font>
                    FAIL_ON_NULL_FOR_PRIMITIVES,<font></font>
                    FAIL_ON_IGNORED_PROPERTIES,<font></font>
                    FAIL_ON_UNKNOWN_PROPERTIES,<font></font>
                    FAIL_ON_NUMBERS_FOR_ENUMS,<font></font>
                    FAIL_ON_UNRESOLVED_OBJECT_IDS,<font></font>
                    WRAP_EXCEPTIONS<font></font>
            )<font></font>
            .enable(ALLOW_SINGLE_QUOTES)<font></font>
            .disable(FAIL_ON_EMPTY_BEANS)<font></font>
            .enable(MapperFeature.PROPAGATE_TRANSIENT_MARKER)<font></font>
            .setVisibility(FIELD, ANY)<font></font>
            .setVisibility(ALL, NONE)<font></font>
            .enableDefaultTyping(NON_FINAL);  <span class="hljs-comment">// !</span><font></font>
}<font></font>
</code></pre></div></div></td>
</tr>
<tr>
<td>4</td>
<td><i>Jackson Smile</i></td>
<td>&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">FasterXML/jackson-dataformats-binary/smile</a>,   Jackson-,  Java-    JSON- ‚Äì Smile.<br>
</td>
</tr>
<tr>
<td>5</td>
<td><i>Jackson Smile (with types)</i></td>
<td>  ,   ,    ¬´Jackson JSON (with types)¬ª (full qualified  Java-    ).<br>
</td>
</tr>
<tr>
<td>6</td>
<td><i>Bson4Jackson</i></td>
<td>&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">michel-kraemer/bson4jackson</a>,   Jackson-,  Java-    JSON- ‚Äì BSON.<br>
</td>
</tr>
<tr>
<td>7</td>
<td><i>Bson4Jackson (with types)</i></td>
<td>  ,   ,    ¬´Jackson JSON (with types)¬ª (full qualified  Java-    ).<br>
</td>
</tr>
<tr>
<td>8</td>
<td><i>BSON MongoDb</i></td>
<td>&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mongodb/mongo-java-driver/bson</a>,&nbsp;&nbsp; Java-  BSON-.<br>
</td>
</tr>
<tr>
<td>9</td>
<td><i>Kryo</i></td>
<td>&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">EsotericSoftware/kryo</a>,&nbsp; Java-    .<br>
</td>
</tr>
<tr>
<td>10</td>
<td><i>Kryo (unsafe)</i></td>
<td>  ,   ,      sun.misc.Unsafe   /.<br>
<div class="spoiler"><b class="spoiler_title">  ...</b><div class="spoiler_text"> :<pre><code class="plaintext hljs">com.esotericsoftware.kryo.io.Input<font></font>
com.esotericsoftware.kryo.io.Output<font></font>
</code></pre>:<pre><code class="plaintext hljs">com.esotericsoftware.kryo.io.UnsafeInput<font></font>
com.esotericsoftware.kryo.io.UnsafeOutput</code></pre></div></div></td>
</tr>
<tr>
<td>11</td>
<td><i>FST</i></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pustaka&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RuedigerMoeller / serialisasi cepat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang mengubah objek Java ke format binernya sendiri.</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12</font></font></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FST (tidak aman)</font></font></i></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pustaka yang sama seperti di atas, tetapi dikonfigurasi untuk menggunakan kelas sun.misc.Unsafe untuk mempercepat serialisasi / deserialisasi.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fitur pengaturan perpustakaan ...</font></font></b><div class="spoiler_text">:<pre><code class="java hljs">FSTConfiguration fst = FSTConfiguration.createDefaultConfiguration();
</code></pre>:<pre><code class="plaintext hljs">FSTConfiguration fst = FSTConfiguration.createUnsafeBinaryConfiguration();</code></pre></div></div></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tigabelas</font></font></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Satu nio</font></font></i></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pustaka&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odnoklassniki / one-nio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang mengubah objek Java menjadi format binernya sendiri.</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14</font></font></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio (untuk bertahan)</font></font></i></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pustaka yang sama seperti di atas, tetapi dikonfigurasi sedemikian rupa untuk memasukkan informasi meta rinci tentang kelas objek Java serializable dalam hasil serialisasi. </font><font style="vertical-align: inherit;">Ini mungkin diminati selama penyimpanan jangka panjang </font></font><code>byte[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(misalnya, dalam database) sebelum deserialisasi. </font><font style="vertical-align: inherit;">Artinya, tujuan yang diupayakan sama dengan Jackson JSON (dengan tipe).</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fitur pengaturan perpustakaan ...</font></font></b><div class="spoiler_text">:<pre><code class="java hljs"><span class="hljs-keyword">byte</span>[] bufWithoutSerializers = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[bufferSize];<font></font>
SerializeStream out = <span class="hljs-keyword">new</span> SerializeStream( bufWithoutSerializers );<font></font>
out.writeObject(object);<font></font>
<span class="hljs-comment">// bufWithoutSerializers is the result</span>
</code></pre>:<pre><code class="java hljs"><span class="hljs-keyword">byte</span>[] bufWithSerializers = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[bufferSize];<font></font>
PersistStream out = <span class="hljs-keyword">new</span> PersistStream( bufWithSerializers );<font></font>
out.writeObject(object);<font></font>
bufWithSerializers = out.toByteArray();<font></font>
<span class="hljs-comment">// bufWithSerializers is the result</span>
</code></pre><br>
   <code>object</code>-  <code>result</code>&nbsp;  -:<br>
1) full qualified    <code>object</code>,<br>
2)     ,<br>
3) full qualified     ,<br>
4)        .<br>
  -  ,  One Nio   ,        .</div></div></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kita mulai!</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ras</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kecepatan adalah kriteria utama untuk mengevaluasi pustaka serialisasi Java yang merupakan peserta dalam kompetisi dadakan kami. </font><font style="vertical-align: inherit;">Untuk mengevaluasi perpustakaan serialisasi mana yang lebih cepat secara objektif, kami mengambil </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data nyata dari log sistem kami dan menyusun data sesi sintetik dengan panjang yang berbeda</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : dari 0 hingga 1 MB. </font><font style="vertical-align: inherit;">Format data adalah string dan byte array.</font></font><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catatan:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ke depan, harus dikatakan bahwa pemenang dan pecundang telah muncul pada ukuran objek serial dari 0 hingga 10 KB. </font><font style="vertical-align: inherit;">Peningkatan lebih lanjut dalam ukuran objek menjadi 1 MB tidak mengubah hasil kompetisi. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, untuk kejelasan yang lebih baik, grafik berikut dari kinerja serializers Java dibatasi oleh ukuran objek 10 KB.</font></font></blockquote><i> ,    :</i><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td></td>
<td>Intel<sup>R</sup>&nbsp;Core<sup>TM</sup> i7-6700 CPU, 3.4GHz, 8 cores</td>
</tr>
<tr>
<td></td>
<td>16 GB</td>
</tr>
<tr>
<td> </td>
<td>Microsoft Windows&nbsp;10&nbsp;(64-bit)</td>
</tr>
<tr>
<td>JRE</td>
<td>IBM J9 VM 1.7.0</td>
</tr>
</tbody></table></div><blockquote><strong>:</strong>   ,  IBM JRE    One Nio (   13  14).     <code>sun.reflect.MagicAccessorImpl</code>    <code>private</code>  <code>final</code> ( )  ,    . , IBM JRE      &nbsp;<code>sun.reflect.MagicAccessorImpl</code>,   ,     runtime .<br>
<br>
           (,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Serialization-FAQ</a>,  One Nio   ),    fork  ,    &nbsp;<code>sun.reflect.MagicAccessorImpl</code>&nbsp;  .   &nbsp;<code>sun.reflect.MagicAccessorImpl</code>&nbsp;  fork-   <code>sun.misc.Unsafe</code>     .<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, dalam garpu kami, serialisasi string dioptimalkan - string mulai diserialisasi 30-40% lebih cepat ketika bekerja pada IBM JRE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, dalam publikasi ini semua hasil untuk perpustakaan One Nio diperoleh dari garpu kami sendiri, dan bukan pada perpustakaan asli.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengukuran langsung kecepatan serialisasi / deserialisasi dilakukan dengan menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java Microbenchmark Harness</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (JMH) - alat dari OpenJDK untuk membangun dan menjalankan benchmark-s. </font><font style="vertical-align: inherit;">Untuk setiap pengukuran (satu titik pada grafik), 5 detik digunakan untuk "menghangatkan" JVM dan 5 detik lainnya untuk pengukuran waktu itu sendiri, diikuti dengan rata-rata. </font></font><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b></i><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode benchmark JMH tanpa detail</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SerializationPerformanceBenchmark</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@State( Scope.Benchmark )</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parameters</span> </span>{<font></font>
<font></font>
        <span class="hljs-meta">@Param( {
            "Java standard",
            "Jackson default",
            "Jackson system",
            "JacksonSmile default",
            "JacksonSmile system",
            "Bson4Jackson default",
            "Bson4Jackson system",
            "Bson MongoDb",
            "Kryo default",
            "Kryo unsafe",
            "FST default",
            "FST unsafe",
            "One-Nio default",
            "One-Nio for persist"
        } )</span>
        <span class="hljs-keyword">public</span> String serializer;
        <span class="hljs-keyword">public</span> Serializer serializerInstance;<font></font>
<font></font>
        <span class="hljs-meta">@Param( { "0", "100", "200", "300", /*... */ "1000000" } )</span>  <span class="hljs-comment">// Toward 1 MB</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> sizeOfDto;
        <span class="hljs-keyword">public</span> Object dtoInstance;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] serializedDto;<font></font>
<font></font>
        <span class="hljs-meta">@Setup( Level.Trial )</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>{<font></font>
            serializerInstance = Serializers.getMap().get( serializer );<font></font>
            dtoInstance = DtoFactory.createWorkflowDto( sizeOfDto );<font></font>
            serializedDto = serializerInstance.serialize( dtoInstance );<font></font>
        }<font></font>
<font></font>
        <span class="hljs-meta">@TearDown( Level.Trial )</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tearDown</span><span class="hljs-params">()</span> </span>{<font></font>
            serializerInstance = <span class="hljs-keyword">null</span>;<font></font>
            dtoInstance = <span class="hljs-keyword">null</span>;<font></font>
            serializedDto = <span class="hljs-keyword">null</span>;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Benchmark</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] serialization( Parameters parameters ) <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">return</span> parameters.serializerInstance.serialize(<font></font>
                parameters.dtoInstance );<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Benchmark</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">unserialization</span><span class="hljs-params">( Parameters parameters )</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException </span>{
        <span class="hljs-keyword">return</span> parameters.serializerInstance.deserialize(<font></font>
                parameters.serializedDto,<font></font>
                parameters.dtoInstance.getClass() );<font></font>
    }<font></font>
}<font></font>
</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah yang terjadi: </font><font style="vertical-align: inherit;">
Pertama, kami mencatat bahwa opsi pustaka yang menambahkan meta data tambahan ke hasil serialisasi lebih lambat daripada konfigurasi default pustaka yang sama (lihat konfigurasi "dengan tipe" dan "untuk bertahan"). </font><font style="vertical-align: inherit;">
Secara umum, terlepas dari konfigurasi, </font><i><font style="vertical-align: inherit;">Jackson JSON dan Bson4Jackson, yang keluar dari balapan,</font></i><font style="vertical-align: inherit;"> menjadi orang luar menurut hasil serialisasi </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">
Selain itu, </font><i><font style="vertical-align: inherit;">Java Standard dikeluarkan dari balapan</font></i><font style="vertical-align: inherit;"> berdasarkan hasil deserialisasi </font><font style="vertical-align: inherit;">, seperti untuk berbagai ukuran data serial, deserialisasi jauh lebih lambat daripada pesaing. </font><font style="vertical-align: inherit;">
Lihatlah lebih dekat pada peserta yang tersisa: </font><font style="vertical-align: inherit;">
Menurut hasil serialisasi, perpustakaan </font><i><font style="vertical-align: inherit;">FST</font></i><font style="vertical-align: inherit;"> adalah pemimpin yang percaya diri</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/un/cl/x7/unclx7kgnmniixupznbhmuigcwi.png" alt="Balap - semua peserta"></a><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ct/fm/cg/ctfmcgtlh9wo66vctatdvwujhzy.png" alt="Balap - kecuali untuk orang luar"></a><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan dengan peningkatan ukuran objek, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><i><font style="vertical-align: inherit;">menginjak</font></i><font style="vertical-align: inherit;"> tumitnya" </font><font style="vertical-align: inherit;">. Perhatikan bahwa untuk </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> opsi "untuk bertahan" jauh lebih lambat daripada konfigurasi default untuk kecepatan serialisasi. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda melihat deserialization, kita melihat bahwa </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mampu menyalip </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FST</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan ukuran data yang meningkat </font><font style="vertical-align: inherit;">. Dalam yang terakhir, sebaliknya, konfigurasi non-standar "tidak aman" melakukan deserialisasi lebih cepat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menempatkan semua poin di atas DAN, mari kita lihat hasil total serialisasi dan deserialisasi: </font><font style="vertical-align: inherit;">
Menjadi jelas bahwa ada </font><u><font style="vertical-align: inherit;">dua pemimpin yang tegas: </font></u><u><i><font style="vertical-align: inherit;">FST (tidak aman)</font></i></u><u><font style="vertical-align: inherit;"> dan </font></u><u><i><font style="vertical-align: inherit;">One Nio</font></i></u><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Jika pada benda kecil </font><i><font style="vertical-align: inherit;">FST (tidak aman)</font></i></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/zp/qq/mw/zpqqmwuxdlsb_gvl3orjyd1pyda.png" alt="Balap - kecuali untuk orang luar (klasifikasi keseluruhan)"></a><br>
<br><font style="vertical-align: inherit;"></font><u><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i></u><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dengan percaya diri memimpin, kemudian dengan peningkatan ukuran objek serial, ia mulai menyerah dan, akhirnya, lebih rendah dari </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Posisi ketiga dengan peningkatan ukuran objek serializable dengan percaya diri diambil oleh </font></font><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSON MongoDb</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , meskipun hampir dua kali di </font><u><i><font style="vertical-align: inherit;">depan</font></i></u><font style="vertical-align: inherit;"> para pemimpin.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beratnya</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ukuran hasil serialisasi adalah kriteria terpenting kedua untuk mengevaluasi pustaka serialisasi Java. Di satu sisi, kecepatan serialisasi / deserialisasi tergantung pada ukuran hasilnya: lebih cepat untuk membentuk dan memproses hasil yang kompak daripada volume. Untuk "menimbang" hasil serialisasi, semua objek Java yang sama digunakan, dibentuk dari data nyata yang diambil dari log sistem (string dan byte array). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, properti penting dari hasil serialisasi juga seberapa besar kompresinya (misalnya, untuk menyimpannya dalam database atau penyimpanan lain). Dalam kompetisi kami, kami menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kompresi </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;">Deflate</font></i></a><font style="vertical-align: inherit;"> , yang merupakan dasar untuk ZIP dan gzip. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil dari "penimbangan" adalah sebagai berikut:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/pb/ek/h-/pbekh-hfdtstyzpd2ttgtkfhb88.png" alt="Beratnya"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diharapkan bahwa hasil yang paling kompak adalah serialisasi dari salah satu pemimpin lomba: </font></font><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tempat kedua dalam kekompakan pergi ke </font></font><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSON MongoDb</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;(yang mengambil tempat ketiga dalam lomba). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di tempat ketiga dalam hal kekompakan, perpustakaan </font></font><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryo</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "melarikan diri" </font><font style="vertical-align: inherit;">, yang sebelumnya gagal membuktikan dirinya dalam lomba. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil serialisasi dari 3 pemimpin "penimbangan" ini juga terkompresi dengan sempurna (hampir dua). </font><font style="vertical-align: inherit;">Ternyata menjadi yang paling tidak terkompresi: setara biner dari JSON adalah Senyum dan JSON itu sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fakta yang aneh - semua pemenang "penimbangan" selama serialisasi menambahkan jumlah data layanan yang sama ke objek serializable kecil dan besar.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fleksibilitas</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebelum membuat keputusan yang bertanggung jawab tentang memilih pemenang, kami memutuskan untuk memeriksa secara menyeluruh fleksibilitas setiap serializer dan kegunaannya. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk ini, kami menyusun 20 kriteria untuk mengevaluasi serializers kami yang berpartisipasi dalam kompetisi sehingga "tidak satu pun tikus akan menyelinap" melewati mata kami.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/zd/t4/it/zdt4itoudhnnpfo7e2l9jdscwdo.png" alt="Fleksibilitas"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catatan Kaki dengan Penjelasan</font></font></b><div class="spoiler_text"><sup>1</sup>&nbsp; &nbsp; <i> <code>LinkedHashMap</code>.</i><br>
<sup>2</sup>&nbsp; &nbsp;<i>    ‚Äî ,    ‚Äî .</i><br>
<sup>3</sup>&nbsp; &nbsp;<i>    ‚Äî ,    ‚Äî .</i><br>
<sup>4</sup>&nbsp; &nbsp;<i>  <code>sun.reflect.MagicAccessorImpl</code> ‚Äî : boxing/unboxing,   <code>BigInteger/BigDecimal/String</code>.   <code>MagicAccessorImpl</code>&nbsp;(  ' fork One Nio) ‚Äî .</i><br>
<sup>5</sup>&nbsp; &nbsp;<i> <code>ArrayList</code>.</i><br>
<sup>6</sup>&nbsp; &nbsp;<i> <code>ArrayList</code>  <code>HashSet</code>      .</i><br>
<sup>7</sup>&nbsp; &nbsp;<i> <code>HashMap</code>.</i><br>
<sup>8</sup>&nbsp; &nbsp;<i>        ‚Äî ,     ,   /Map-,   (   <code>HashMap</code>).</i><br>
<sup>9</sup>&nbsp; &nbsp;<i>   -.</i><br>
<sup>10</sup>&nbsp;<i>   One Nio ‚Äî ,    ' fork- ‚Äî .</i><br>
<sup>11</sup> <i>     .</i><br>
</div></div><i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Menurut kriteria ke-13, One Nio (untuk bertahan) menerima poin lain (ke-19).</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
"Pemeriksaan pelamar" yang teliti ini mungkin merupakan tahap yang paling memakan waktu dari "casting" kami. Tetapi kemudian hasil perbandingan ini membuka dengan baik kenyamanan menggunakan perpustakaan serialisasi. Sebagai konsekuensinya, Anda dapat menggunakan hasil ini sebagai referensi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sangat memalukan untuk disadari, tetapi para pemimpin kami sesuai dengan hasil balapan dan penimbangan -</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> FST (tidak aman)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ternyata menjadi orang luar dalam hal fleksibilitas ... Namun, kami tertarik pada fakta yang aneh: One Nio dalam konfigurasi "for persist" (bukan yang tercepat dan bukan yang paling kompak) mencetak poin terbanyak dalam hal fleksibilitas - 19/20. Kesempatan untuk membuat konfigurasi default (cepat dan ringkas) One Nio bekerja secara fleksibel juga tampak sangat menarik - dan ada caranya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya, ketika kami memperkenalkan peserta ke kompetisi, dikatakan bahwa </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio (untuk bertahan)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> termasuk dalam hasil serialisasi detail </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meta-informasi tentang kelas objek Java serialable.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(*). </font><font style="vertical-align: inherit;">Menggunakan informasi meta ini untuk deserialization, perpustakaan One Nio tahu persis seperti apa kelas objek serializable pada saat serialisasi. </font><font style="vertical-align: inherit;">Berdasarkan pengetahuan ini bahwa algoritma deserialisasi One Nio sangat fleksibel sehingga memberikan kompatibilitas maksimum yang dihasilkan dari serialisasi </font></font><code>byte[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata meta-informasi (*) dapat diperoleh secara terpisah untuk kelas yang ditentukan, diserialisasi ke&nbsp; </font></font><code>byte[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan dikirim ke sisi di mana objek Java dari kelas ini akan di-deserialisasi:</font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengan kode dalam langkah-langkah ...</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-comment">//  ‚Ññ1:  -   SomeDto</span><font></font>
one.nio.serial.Serializer&lt;SomeDto&gt; dtoSerializerWithMeta = Repository.get( SomeDto.class );<font></font>
<span class="hljs-keyword">byte</span>[] dtoMeta = serializeByDefaultOneNioAlgorithm( dtoSerializerWithMeta );<font></font>
//  ‚Ññ<span class="hljs-number">1</span>:  dtoMeta  ‚Ññ<span class="hljs-number">2</span><font></font>
<font></font>
<span class="hljs-comment">//  ‚Ññ2:  -    SomeDto      One Nio</span><font></font>
one.nio.serial.Serializer&lt;SomeDto&gt; dtoSerializerWithMeta = deserializeByOneNio( dtoMeta );<font></font>
Repository.provideSerializer( dtoSerializerWithMeta );<font></font>
<font></font>
<span class="hljs-comment">//  ‚Ññ1:    SomeDto</span>
<span class="hljs-keyword">byte</span>[] bytes1 = serializeByDefaultOneNioAlgorithm( object1 );
<span class="hljs-keyword">byte</span>[] bytes2 = serializeByDefaultOneNioAlgorithm( object2 );<font></font>
...<font></font>
<span class="hljs-comment">//  ‚Ññ1:    ‚Ññ2</span><font></font>
<font></font>
<span class="hljs-comment">//  ‚Ññ2:      SomeDto</span><font></font>
SomeDto object1 = deserializeByOneNio( bytes1 );<font></font>
SomeDto object2 = deserializeByOneNio( bytes2 );<font></font>
...<font></font>
</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda melakukan prosedur eksplisit ini untuk bertukar informasi meta tentang kelas antara layanan terdistribusi, maka layanan tersebut akan dapat saling mengirim objek Java bersambung satu sama lain menggunakan konfigurasi One Nio default (cepat dan ringkas). Bagaimanapun, ketika layanan sedang berjalan, versi kelas di sisi mereka tidak berubah, yang berarti tidak ada alasan untuk "menyeret maju dan mundur" informasi meta konstan dalam setiap hasil serialisasi selama setiap interaksi. Dengan demikian, setelah melakukan sedikit lebih banyak aksi di awal, maka Anda dapat menggunakan kecepatan dan kekompakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> secara bersamaan dengan fleksibilitas </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio (untuk bertahan)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Persis apa yang dibutuhkan! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, untuk mentransfer objek Java antara layanan terdistribusi dalam bentuk serial (inilah yang kami selenggarakan untuk kompetisi ini)&nbsp;</font></font><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio adalah pemenang dalam fleksibilitas</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;(19/20). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di antara serialis Java yang membedakan diri mereka sebelumnya dalam balapan dan penimbangan, tidak ada fleksibilitas buruk yang ditunjukkan:</font></font><br>
<br>
<ul>
<li><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSON MongoDb</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;(14.5 / 20),</font></font></li>
<li><u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryo</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (13/20).</font></font></li>
</ul><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alas</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ingat hasil dari kompetisi serialisasi Java sebelumnya:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam balapan, dua baris pertama peringkat dibagi oleh </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FST (tidak aman)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSON MongoDb</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengambil tempat ketiga </font><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Satu Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengalahkan penimbangan </font><font style="vertical-align: inherit;">, diikuti oleh </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSON MongoDb</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam hal fleksibilitas, hanya untuk tugas kami bertukar konteks sesi antara aplikasi terdistribusi, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mendapat tempat pertama lagi&nbsp; </font><font style="vertical-align: inherit;">, dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSON MongoDb</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> membedakan diri mereka sendiri </font><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, dalam hal totalitas hasil yang dicapai, alas yang kami peroleh adalah sebagai berikut:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></strong><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dalam kompetisi utama - ras - berbagi tempat pertama dengan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FST (tidak aman)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi secara signifikan menimbang pesaing dalam menimbang dan menguji fleksibilitas.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FST (tidak aman)</font></font></strong><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Juga perpustakaan serialisasi Java yang sangat cepat, namun, tidak memiliki kompatibilitas langsung dan mundur dari array byte yang dihasilkan dari serialisasi.</font></font></li>
<li><strong>BSON MongoDB&nbsp;+&nbsp;Kryo</strong><br>
 2   3-      Java-,     .       2-   ,          .        <code>Collection</code>  <code>Map</code>,   <i>BSON MongoDB</i>     custom-  / (<code>Externalizable</code>  ..).</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di Sberbank, dalam layanan data sesi kami, kami menggunakan perpustakaan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang memenangkan tempat pertama dalam kompetisi kami. Menggunakan perpustakaan ini, data konteks sesi Java diserialisasi dan ditransfer antar aplikasi. Berkat revisi ini, kecepatan transportasi sesi telah dipercepat beberapa kali. Pengujian beban menunjukkan bahwa dalam skenario yang dekat dengan perilaku pengguna aktual di Sberbank Online, akselerasi hingga 40% diperoleh hanya karena peningkatan ini saja. Hasil seperti itu berarti pengurangan waktu respons sistem terhadap tindakan pengguna, yang meningkatkan tingkat kepuasan pelanggan kami. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel selanjutnya saya akan mencoba menunjukkan dalam akselerasi akselerasi tambahan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berasal dari menggunakan kelas </font></font><code>sun.reflect.MagicAccessorImpl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sayangnya, JRE IBM tidak mendukung properti paling penting dari kelas ini, yang berarti bahwa potensi penuh </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One Nio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada versi JRE ini belum terungkap. </font><font style="vertical-align: inherit;">Bersambung.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id488602/index.html">iOS MEETUP # 2 dari FUNCORP dan Bagaimana cara agar pengembang tetap up-to-date</a></li>
<li><a href="../id488604/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 402 (10 - 16 Februari 2020)</a></li>
<li><a href="../id488606/index.html">–ü–æ–¥–ª–∏–Ω–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —è—â–µ—Ä–æ–ª—é–¥–µ–π</a></li>
<li><a href="../id488608/index.html">"ZHPSS KEMULIAAN!" atau ingat GPSS World</a></li>
<li><a href="../id488610/index.html">–ò—Å—Ç–æ—Ä–∏—è —á–µ–ª–æ–≤–µ–∫–∞, —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫ —ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω–æ–º—É –∏–∑–ª—É—á–µ–Ω–∏—é, –∏–ª–∏ –∫–∞–∫ –º—ã —â—É–ø–∞–µ–º –∫—Ä–∞–π –æ–±—Ä—ã–≤–∞‚Ä¶ UPD: +FAQ</a></li>
<li><a href="../id488614/index.html">Bobbin 3.0.0 - ulasan perbaikan</a></li>
<li><a href="../id488616/index.html">Masalah kosong dalam Ilmu Data dan Pembelajaran Mesin</a></li>
<li><a href="../id488618/index.html">Intisari materi menarik untuk pengembang seluler # 333 (10 - 16 Februari)</a></li>
<li><a href="../id488622/index.html">Apakah cheklists menggantikan peraturan?</a></li>
<li><a href="../id488624/index.html">Ekonomi Reksa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>