<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👨🏽 👩🏽‍🤝‍👨🏼 🛰️ Portar Quake a iPod Classic 🤾🏼 🌙 🕣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Inicie Quake en iPod Classic ( video ). 
 
 TL; DR : Logré ejecutar Quake en un reproductor de MP3. El artículo describe cómo sucedió esto. 
 
 Pasé p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Portar Quake a iPod Classic</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486818/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/5s/ep/rt/5seprt3j6w--iudytumlnuqraco.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inicie Quake en iPod Classic ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TL; DR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Logré ejecutar Quake en un reproductor de MP3. </font><font style="vertical-align: inherit;">El artículo describe cómo sucedió esto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pasé parte del verano pasado en un par de mis cosas favoritas: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rockbox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y el juego </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id Software. </font><font style="vertical-align: inherit;">¡Incluso tuve la oportunidad de combinar estos dos pasatiempos portando Quake </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rockbox! </font><font style="vertical-align: inherit;">¡Era imposible desear más!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta publicación cuenta la historia de cómo funcionó. </font><font style="vertical-align: inherit;">Esta es una larga historia que se extiende por casi dos años. </font><font style="vertical-align: inherit;">Además, este es mi primer intento de documentar el proceso de desarrollo, detallado y sin adornos, en contraste con la documentación técnica terminada, que he escrito demasiado en mi vida. </font><font style="vertical-align: inherit;">El artículo también tendrá detalles técnicos, pero antes que nada intentaré hablar sobre el proceso de pensamiento que condujo a la creación del código. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por desgracia, ha llegado el momento de decir adiós a Rockbox y Quake, al menos a corto plazo. </font><font style="vertical-align: inherit;">Durante varios meses, el tiempo libre será un recurso muy escaso para mí, así que antes de apresurarme a trabajar, me apresuro a expresar mis pensamientos.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rockbox</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rockbox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un curioso proyecto de código abierto, que pasé mucho tiempo pirateando. </font><font style="vertical-align: inherit;">Lo mejor de esto está escrito en la página web: "Rockbox es firmware gratuito para reproductores de música digital". </font><font style="vertical-align: inherit;">Así es: creamos un reemplazo completo para el software de fábrica que viene con los reproductores Sandisk Sansa, el iPod de Apple y muchos otros dispositivos compatibles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No solo nos esforzamos por recrear las funciones del firmware original, sino que también implementamos soporte para extensiones descargables llamadas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">complementos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pequeños programas que se ejecutan en un reproductor de MP3. </font><font style="vertical-align: inherit;">Rockbox ya tiene muchos juegos y demostraciones geniales, los más impresionantes probablemente sean los juegos de disparos en primera persona </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Doom</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Duke Nukem 3D </font></font></a><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pero sentí que le faltaba algo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quake aparece en el escenario</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quake es un juego de disparos en primera persona totalmente tridimensional. </font><font style="vertical-align: inherit;">Veamos qué significa eso. </font><font style="vertical-align: inherit;">Las palabras clave aquí son </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"completamente tridimensional"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A diferencia de Doom y Duke Nukem 3D, comúnmente conocido como </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5D</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (imagine un mapa 2D con un componente de altura opcional), Quake se implementa en 3D completo. </font><font style="vertical-align: inherit;">Cada vértice y polígono existe en el espacio 3D. </font><font style="vertical-align: inherit;">Esto significa que los viejos trucos pseudo-3D ya no funcionan, todo se hace en 3D completo. </font><font style="vertical-align: inherit;">Sin embargo, estaba distraído. </font><font style="vertical-align: inherit;">En resumen, Quake es una cosa poderosa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y Quake no perdona los chistes. </font><font style="vertical-align: inherit;">Nuestra investigación ha demostrado que Quake "requiere" un procesador x86 con una frecuencia de aproximadamente 100 MHz y FPU, así como aproximadamente 32 MB de RAM. </font><font style="vertical-align: inherit;">Antes de comenzar a reírse, recuerde que las plataformas de destino para Rockbox no son comparables a lo que John Carmack se centró al escribir el juego: Rockbox incluso funciona en dispositivos con procesadores con una frecuencia de solo 11 MHz y 2 MB de RAM (por supuesto, Quake no debería funcionar en </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tales</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dispositivos). </font><font style="vertical-align: inherit;">Con esto en mente, miré mi colección de reproductores de audio digital que disminuía gradualmente y elegí el más poderoso de los sobrevivientes: Apple iPod Classic / 6G con procesador ARMv5E de 216 MHz y 64 MB de RAM (índice </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indica la presencia de extensiones ARM DSP; más adelante, esto será importante para nosotros). </font><font style="vertical-align: inherit;">Especificaciones serias, pero apenas hay suficientes para ejecutar Quake.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puerto</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay una maravillosa versión de Quake que puede ejecutarse en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tiene el nombre lógico </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDLQuake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Afortunadamente, ya he portado la biblioteca SDL a Rockbox (este es un tema para otro artículo), por lo que preparar Quake para la compilación resultó ser un proceso bastante simple: copie el árbol fuente; </font></font><code>make</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; corregimos errores; enjuague, jabón, repita. Probablemente esté repitiendo un montón de detalles aburridos, pero imagínense mi admiración por poder compilar y vincular con éxito el ejecutable de Quake. Estaba encantado. </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Bueno, ¡cárgalo!"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pensé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¡Y arrancó! Fui recibido por el hermoso fondo y menú de la consola Quake. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo perfectamente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ¡Pero tómate tu tiempo! Cuando comencé el juego, algo estaba mal. El nivel de "Introducción" parecía cargar normalmente, pero la posición de aparición del jugador estaba completamente fuera del mapa. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extraño</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pensé. Intenté varios trucos, comencé a depurar y </font></font><code>splashf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero todo fue en vano: el error resultó ser demasiado complicado para mí, o me pareció así. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y esta situación persistió durante varios años. Probablemente valga la pena hablar un poco sobre el momento. El primer intento de lanzar Quake se realizó en septiembre de 2017, después de lo cual me di por vencido, y mi Frankenstein de Quake y Rockbox permaneció en el estante, acumulando polvo, hasta julio de 2019. Habiendo encontrado la combinación perfecta de aburrimiento y motivación, decidí continuar con lo que comencé.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empecé a depurar. Mi estado de flujo fue tal que no recuerdo prácticamente ningún detalle sobre lo que estaba haciendo, pero intentaré recrear el curso del trabajo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descubrí que la estructura de Quake se divide en dos partes principales: el código del motor en C y la lógica de alto nivel del juego en QuakeC, un lenguaje compilado por código de bytes. Siempre traté de mantenerme alejado de QuakeC VM debido al miedo irracional de depurar el código de otra persona. Pero ahora me vi obligado a sumergirme en eso. Recuerdo vagamente la loca sesión de transmisión durante la cual busqué la fuente del error. Después de muchos </font></font><code>grep</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, he encontrado al culpable: </font></font><code>pr_cmds.c:PF_setorigin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Esta función recibió un vector tridimensional que establece las nuevas coordenadas del jugador al cargar el mapa, que por alguna razón siempre han sido iguales </font></font><code>(0, 0, 0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hm ...</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Retrocedí el flujo de datos y descubrí de dónde provenía: desde la llamada </font></font><code>Q_atof()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, la función de conversión clásica de cadena a flotante. </font><font style="vertical-align: inherit;">Y luego me di cuenta: escribí un conjunto de funciones de contenedor que redefinieron </font></font><code>Q_atof()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el código de Quake, y mi implementación </font></font><code>atof()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">probablemente fue incorrecta. </font><font style="vertical-align: inherit;">Fue muy fácil arreglarlo. </font><font style="vertical-align: inherit;">Yo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reemplacé</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mi errónea con la </font></font><code>atof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">correcta - la función del código de Quake. </font><font style="vertical-align: inherit;">¡Y voilá! </font><font style="vertical-align: inherit;">El famoso nivel de entrada con tres corredores cargados sin ningún problema, al igual que el "E1M1: The Slipgate Complex". </font><font style="vertical-align: inherit;">La salida de audio todavía suena como un cortacésped roto, ¡pero aún ejecutamos Quake en el reproductor de MP3!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por la madriguera del conejo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este proyecto finalmente se convirtió en una excusa para lo que había estado posponiendo: aprender el lenguaje ensamblador ARM </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El problema era el ciclo de mezcla de sonido sensible a la velocidad </font></font><code>snd_mix.c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(¿recuerda el sonido de una cortadora de césped?). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La función </font></font><code>SND_PaintChannelFrom8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recibe una matriz de muestras de audio mono de 8 bits y las mezcla en una transmisión estéreo de 16 bits, cuyos canales izquierdo y derecho se escalan por separado en función de dos parámetros enteros. GCC hizo un mal trabajo optimizando la aritmética de saturación, así que decidí hacerlo yo mismo. El resultado me satisfizo por completo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí está la versión del ensamblador de lo que obtuve (la versión C se presenta a continuación):</font></font><br>
<br>
<pre><code class="cpp hljs">SND_PaintChannelFrom8:<font></font>
        ;; r0: <span class="hljs-keyword">int</span> true_lvol<font></font>
        ;; r1: <span class="hljs-keyword">int</span> true_rvol<font></font>
        ;; r2: <span class="hljs-keyword">char</span> *sfx<font></font>
        ;; r3: <span class="hljs-keyword">int</span> count<font></font>
<font></font>
        stmfd sp!, {r4, r5, r6, r7, r8, sl}<font></font>
<font></font>
        ldr ip, =paintbuffer<font></font>
        ldr ip, [ip]<font></font>
<font></font>
        mov r0, r0, asl #<span class="hljs-number">16</span>                 ; prescale by <span class="hljs-number">2</span>^<span class="hljs-number">16</span>
        mov r1, r1, asl #<span class="hljs-number">16</span><font></font>
<font></font>
        sub r3, r3, #<span class="hljs-number">1</span>                      ; count backwards<font></font>
<font></font>
        ldrh sl, =<span class="hljs-number">0xffff</span>                    ; halfword mask<font></font>
<font></font>
<span class="hljs-number">1</span>:<font></font>
        ldrsb r4, [r2, r3]                  ; load input sample<font></font>
        ldr r8, [ip, r3, lsl #<span class="hljs-number">2</span>]                ; load output sample pair from paintbuffer<font></font>
                                ; (left:right in memory -&gt; right:left in <span class="hljs-keyword">register</span>)<font></font>
        ;; <span class="hljs-function">right <span class="hljs-title">channel</span> <span class="hljs-params">(high half)</span>
        mul r5, r4, r1                      </span>; scaledright = sfx[i] * (true_rvol &lt;&lt; <span class="hljs-number">16</span>) -- bottom half is zero<font></font>
        qadd r7, r5, r8                     ; right = scaledright + right (in high half of word)<font></font>
        bic r7, r7, sl                      ; zero bottom half of r7<font></font>
<font></font>
        ;; <span class="hljs-function">left <span class="hljs-title">channel</span> <span class="hljs-params">(low half)</span>
        mul r5, r4, r0                      </span>; scaledleft = sfx[i] * (true_rvol &lt;&lt; <span class="hljs-number">16</span>)<font></font>
        mov r8, r8, lsl #<span class="hljs-number">16</span>                 ; extract original left channel from paintbuffer<font></font>
        qadd r8, r5, r8                     ; left = scaledleft + left<font></font>
<font></font>
        orr r7, r7, r8, lsr #<span class="hljs-number">16</span>                 ; combine right:left in r7<font></font>
        str r7, [ip, r3, lsl #<span class="hljs-number">2</span>]                ; write right:left to output buffer<font></font>
        subs r3, r3, #<span class="hljs-number">1</span>                         ; decrement <span class="hljs-keyword">and</span> loop<font></font>
<font></font>
        bgt <span class="hljs-number">1b</span>                          ; must use bgt instead of bne in <span class="hljs-keyword">case</span> count=<span class="hljs-number">1</span><font></font>
<font></font>
        ldmfd sp!, {r4, r5, r6, r7, r8, sl}<font></font>
<font></font>
        bx lr</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí hay trucos difíciles que vale la pena explicar. Utilizo la instrucción DSP del </font></font><code>qadd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">procesador ARM para implementar la adición de saturación de bajo costo, pero </font></font><code>qadd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solo funciona con palabras de 32 bits, y el juego usa muestras de sonido de 16 bits. El truco es que primero desplazo las muestras a la izquierda 16 bits; Estoy combinando muestras con </font></font><code>qadd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; y luego hacer el cambio inverso. Entonces, en una instrucción, hago lo que el CCG tomó siete. (Sí, sería posible prescindir de los hacks si trabajara con ARMv6, que tiene aritmética de saturación empaquetada tipo MMX </font></font><code>qadd16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero, por desgracia, la vida no es tan simple. ¡Además, el hack resultó ser genial!) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta también que Leo dos muestras estéreo a la vez (usando palabras </font></font><code>ldr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font><code>str</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) para ahorrar un par de ciclos más. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuación se muestra una versión C para referencia:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SND_PaintChannelFrom8</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> true_lvol, <span class="hljs-keyword">int</span> true_rvol, <span class="hljs-keyword">signed</span> <span class="hljs-keyword">char</span> *sfx, <span class="hljs-keyword">int</span> count)</span>
</span>{
        <span class="hljs-keyword">int</span>     data;
        <span class="hljs-keyword">int</span>             i;<font></font>
<font></font>
        <span class="hljs-comment">// we have 8-bit sound in sfx[], which we want to scale to</span>
        <span class="hljs-comment">// 16bit and take the volume into account</span>
        <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span> ; i&lt;count ; i++)<font></font>
        {<font></font>
            <span class="hljs-comment">// We could use the QADD16 instruction on ARMv6+</span>
            <span class="hljs-comment">// or just 32-bit QADD with pre-shifted arguments</span><font></font>
            data = sfx[i];<font></font>
            paintbuffer[<span class="hljs-number">2</span>*i+<span class="hljs-number">0</span>] = CLAMPADD(paintbuffer[<span class="hljs-number">2</span>*i+<span class="hljs-number">0</span>], data * true_lvol); <span class="hljs-comment">// need saturation</span>
            paintbuffer[<span class="hljs-number">2</span>*i+<span class="hljs-number">1</span>] = CLAMPADD(paintbuffer[<span class="hljs-number">2</span>*i+<span class="hljs-number">1</span>], data * true_rvol);<font></font>
        }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Calculé que, en comparación con la versión C optimizada, el número de instrucciones por muestra disminuyó en un 60%. </font><font style="vertical-align: inherit;">La mayoría de los bucles se guardaron utilizando </font></font><code>qadd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operaciones de saturación y memoria de empaque para aritmética.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conspiración de números "primos"</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí hay otro error interesante que encontré en el proceso. En la lista de códigos de ensamblaje, junto a la instrucción </font></font><code>bgt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(rama "si es mayor que") hay un comentario que </font></font><code>bne</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(rama "si no es igual") no se puede usar debido a un caso límite que ralentiza el programa con un número de muestras igual a 1. Esto conduce a una transferencia cíclica entero encendido </font></font><code>0xFFFFFFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y un retraso extremadamente largo (que finalmente termina). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este caso límite se desencadena por un sonido particular, que tiene una longitud de 7325 muestras </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ¿Qué tiene de especial 7325? Tratemos de encontrar el resto de su división por cualquier poder de dos:</font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>1</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>1</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>4</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>5</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>8</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>13</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>16</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>29</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>32</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>29</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>64</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>29</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>128</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>157</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>256</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>157</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>512</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>157</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>1024</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>1181</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>2048</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>3229</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>4096</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr></mtable></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.121ex" height="37.384ex" viewBox="0 -8290.2 13829.6 16096" role="img" focusable="false" style="vertical-align: -18.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-14,0)"><g transform="translate(0,7406)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,6055)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,4704)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,3353)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,2002)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,651)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-700)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-2051)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-3402)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-4753)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-6104)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-7455)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1501" y="0"></use></g></g><g transform="translate(1988,0)"><g transform="translate(0,7406)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31" x="1334" y="0"></use></g><g transform="translate(0,6055)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31" x="1334" y="0"></use></g><g transform="translate(0,4704)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="1334" y="0"></use></g><g transform="translate(0,3353)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33" x="500" y="0"></use></g></g><g transform="translate(0,2002)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-39" x="500" y="0"></use></g></g><g transform="translate(0,651)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-39" x="500" y="0"></use></g></g><g transform="translate(0,-700)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-39" x="500" y="0"></use></g></g><g transform="translate(0,-2051)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37" x="1001" y="0"></use></g></g><g transform="translate(0,-3402)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37" x="1001" y="0"></use></g></g><g transform="translate(0,-4753)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-37" x="1001" y="0"></use></g></g><g transform="translate(0,-6104)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-38" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31" x="1501" y="0"></use></g></g><g transform="translate(0,-7455)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-39" x="1501" y="0"></use></g></g></g><g transform="translate(7324,0)"><g transform="translate(1501,7406)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="3780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="4280" y="0"></use></g><g transform="translate(1501,6055)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-34" x="3780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="4280" y="0"></use></g><g transform="translate(1501,4704)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-38" x="3780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="4280" y="0"></use></g><g transform="translate(1001,3353)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-36" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="4781" y="0"></use></g><g transform="translate(1001,2002)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="4781" y="0"></use></g><g transform="translate(1001,651)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-36"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-34" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="4781" y="0"></use></g><g transform="translate(500,-700)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-38" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="5281" y="0"></use></g><g transform="translate(500,-2051)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-36" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="5281" y="0"></use></g><g transform="translate(500,-3402)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-35"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="5281" y="0"></use></g><g transform="translate(0,-4753)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-34" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="5782" y="0"></use></g><g transform="translate(0,-6104)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-38" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="5782" y="0"></use></g><g transform="translate(0,-7455)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-39" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-36" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjBZ4hwPfp72Y34qbOPJ2GoxL5RvA#MJMAIN-29" x="5782" y="0"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>1</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>2</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>1</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>4</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>5</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>8</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>13</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>16</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>29</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>32</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>29</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>64</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>29</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>128</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>157</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>256</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>157</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>512</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>157</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>1024</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>1181</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>2048</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>3229</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>4096</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">\begin{align*} 7325 &\equiv 1 &\pmod{2} \\ 7325 &\equiv 1 &\pmod{4} \\ 7325 &\equiv 5 &\pmod{8} \\ 7325 &\equiv 13 &\pmod{16} \\ 7325 &\equiv 29 &\pmod{32} \\ 7325 &\equiv 29 &\pmod{64} \\ 7325 &\equiv 29 &\pmod{128} \\ 7325 &\equiv 157 &\pmod{256} \\ 7325 &\equiv 157 &\pmod{512} \\ 7325 &\equiv 157 &\pmod{1024} \\ 7325 &\equiv 1181 &\pmod{2048} \\ 7325 &\equiv 3229 &\pmod{4096} \end{align*}</script></math></p><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5, 13, 29, 157</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Has notado algo? </font><font style="vertical-align: inherit;">Es decir, por alguna coincidencia, 7325 es un número "primo" cuando se divide por cualquier potencia de dos. </font><font style="vertical-align: inherit;">Esto de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alguna manera</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (no entiendo cómo) conduce al hecho de que una matriz de una muestra se transfiere al código de mezcla de sonido, se activa un caso límite y se cuelga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pasé al menos un día identificando las causas de este error, como resultado de descubrir que todo se reduce a </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">una</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> instrucción incorrecta. </font><font style="vertical-align: inherit;">A veces sucede en la vida, ¿verdad?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De despedida</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente empaqueté este puerto como un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parche</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y lo fusioné con la rama principal de Rockbox, donde está hoy. En Rockbox versión 3.15 y posteriores, viene en ensamblajes para la mayoría de las plataformas de destino ARM con </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pantallas a color </font><font style="vertical-align: inherit;">. Si no tiene una plataforma compatible, puede ver el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usuario de demostración 890104</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En aras de ahorrar espacio, me perdí un par de puntos interesantes. </font><font style="vertical-align: inherit;">Por ejemplo, hay una condición de carrera que ocurre solo cuando un zombi se rompe en pedazos de carne cuando la velocidad de muestreo es 44.1 kHz. </font><font style="vertical-align: inherit;">(Este fue el resultado de la secuencia de sonido que intentaba cargar el sonido: una explosión, y el cargador de modelos que intentaba cargar un modelo de carne. Estas dos secciones de código usan una función que usa una variable global). Y también hay muchos problemas de pedido (¡te amo, ARM! ) y un montón de microoptimizaciones de renderizado que creé para extraer algunos fotogramas más del equipo. </font><font style="vertical-align: inherit;">Pero los dejaré en otro momento. </font><font style="vertical-align: inherit;">Y ahora es el momento de decir adiós a Quake. Me gustó esta experiencia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo lo mejor, y gracias por el pescado!</font></font><br>
<br>
<hr><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas</font></font></h2><br>
<ol>
<li>Duke Nukem 3D   ,  runtime Rockbox SDL,     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a>    ,  user890104.</li>
<li>      ARM,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><em>Tonc: Whirlwind Tour of ARM Assembly</em></a> —   (      GBA) .     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ARM Quick Reference Card</a>.</li>
<li>  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  100  </a>.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Honestamente, no recuerdo qué plataformas de destino específicas admiten y no admiten Quake. </font><font style="vertical-align: inherit;">Si tiene curiosidad, vaya al </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sitio web de Rockbox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e intente instalar la compilación para su plataforma. </font><font style="vertical-align: inherit;">¡Y hágamelo saber por </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">correo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mientras funciona! </font><font style="vertical-align: inherit;">Las versiones más recientes de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rockbox Utility</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (desde 1.4.1 y superior) también admiten la instalación automática de la versión shareware de Quake.</font></font></li>
</ol></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es486802/index.html">La gente conoce los sistemas de recomendación. Factorización</a></li>
<li><a href="../es486804/index.html">Informática sanitaria mundial: tecnologías en la nube</a></li>
<li><a href="../es486808/index.html">Prueba de embarazo electrónica de una farmacia: cómo funciona</a></li>
<li><a href="../es486810/index.html">Nueva interfaz de Odnoklassniki: lanzamiento de React en Java. Parte II</a></li>
<li><a href="../es486814/index.html">Zabbix: la topología de red es clara y automática</a></li>
<li><a href="../es486820/index.html">70 preguntas de la entrevista de Javascript</a></li>
<li><a href="../es486822/index.html">[Por los muelles] Aleteo. Parte 4. Para desarrolladores web</a></li>
<li><a href="../es486824/index.html">Mal consejo al trabajar con ANTLR</a></li>
<li><a href="../es486826/index.html">Creación de un Viberbot completo en Django 2 y la API REST de Viber. Primera parte - Webhook</a></li>
<li><a href="../es486828/index.html">Food Design Digest, enero de 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>