<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úãüèø üëçüèΩ üñãÔ∏è How to search for bugs on the front end: 4 main stages ‚úäüèæ üë©üèæ‚Äç‚öñÔ∏è üêû</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I will consider the issue of identifying and handling errors that occur on the frontend (browser or web-view). 
 
 On the frontend, JS...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How to search for bugs on the front end: 4 main stages</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/495392/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c08/5ff/884/c085ff8845d18ef9dffa549af66df2e5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this article I will consider the issue of identifying and handling errors that occur on the frontend (browser or web-view). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the frontend, JS code is executed in the browser. </font><font style="vertical-align: inherit;">JavaScript is not a compiled language, so there is always a chance of a performance error when using the program directly. </font><font style="vertical-align: inherit;">An execution error blocks the code located after the place of the error, and users of the program run the risk of remaining with a non-functional application screen that can only be reloaded or closed. </font><font style="vertical-align: inherit;">But there are methods for detecting errors and their safe accompaniment, to avoid such situations.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. JavaScript Tools</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Try / catch blocks</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Functions that may fail may be wrapped in try / catch blocks. </font><font style="vertical-align: inherit;">First, the program tries to execute the code in the try block. </font><font style="vertical-align: inherit;">If for some reason the code execution is broken, the program goes into the catch block, where three parameters are available:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name - standardized name of the error;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">message - message about the details of the error;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stack - the current call stack in which the error occurred.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I.e:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">try</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;callFunc();<font></font>
<font></font>
} <span class="hljs-keyword">catch</span> (e) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.name) <span class="hljs-comment">// ReferenceError</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.message) <span class="hljs-comment">// callFunc is not defined</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.stack) <span class="hljs-comment">// ReferenceError: callFunc is not defined at window.onload</span><font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the developer, the main thing is that the program will be able to continue execution after the catch block. </font><font style="vertical-align: inherit;">Thus, user interaction will not be interrupted. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using the try / catch block, you can also cause your own errors, for example, when checking data:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> user = {<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-attr">name</span> : ¬´Mike¬ª<font></font>
<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">try</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> (!user.age) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">SyntaxError</span>(¬´User age is absent!¬ª);<font></font>
<font></font>
} <span class="hljs-keyword">catch</span> (e) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.name) <span class="hljs-comment">// SyntaxError</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.message) <span class="hljs-comment">// User age is absent!</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.stack) <span class="hljs-comment">// SyntaxError: User age is absent! at window.onload</span><font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finally, you can expand this statement with one more block - finally, which is always executed: both in the case where there was no error in try, and in case the control passed to the catch block:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">try</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;callFunc();<font></font>
<font></font>
} <span class="hljs-keyword">catch</span> (e) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e)<font></font>
<font></font>
} <span class="hljs-keyword">finally</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;...<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes they use the try / finally statement (without catch) so that you can continue to use the code without handling specific errors.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Window.onerror event</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is often useful to know that the script on the page has broken, even if the program has broken and the user session has ended unsuccessfully. </font><font style="vertical-align: inherit;">Usually this information is then used in error logging systems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The global window object has an onerror event ( </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">use it carefully: the implementation may differ in different browsers!</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">window</span>.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message, url, line, col, error</span>) </span>{<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${message}</span>\n  <span class="hljs-subst">${line}</span>:<span class="hljs-subst">${col}</span>  <span class="hljs-subst">${url}</span>`</span>);<font></font>
<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you place this code at the beginning of the script or load it in a separate script in the first place, then with any error below, the developer will be available detailed information about it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, full information is only available for scripts that have been downloaded from the same domain. </font><font style="vertical-align: inherit;">If the broken script is loaded from another domain, window.onerror will work, but there will be no details of the error.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Framework components</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some JS frameworks ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Vue) offer their own error handling solutions. </font><font style="vertical-align: inherit;">For example, React will be able to draw a special layout at the location of the block in which the error occurred:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ErrorBoundary</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">constructor</span>(props) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">super</span>(props);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">this</span>.state = { <span class="hljs-attr">hasError</span>: <span class="hljs-literal">false</span> };<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">static</span> getDerivedStateFromError(error) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//    ,      UI.</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> { <span class="hljs-attr">hasError</span>: <span class="hljs-literal">true</span> };<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;componentDidCatch(error, errorInfo) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//           </span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logErrorToMyService(error, errorInfo);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;render() {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.state.hasError) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//    UI  </span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>-   .<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.props.children;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
}<font></font>
<font></font>
&lt;ErrorBoundary&gt;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyWidget</span> /&gt;</span></span><font></font>
<font></font>
&lt;/ErrorBoundary&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, the React component is wrapped in a special component that handles errors. </font><font style="vertical-align: inherit;">This is similar to wrapping functions with a try / catch construct.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Project assembly tools</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modern JS scripts are usually made transpiled. </font><font style="vertical-align: inherit;">That is, development is carried out using the latest ES standards. </font><font style="vertical-align: inherit;">And then the code of the developer using the project builder (such as Webpack) is converted into code that will be guaranteed to work in the selected number of browsers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the build stage, the code is checked for correct syntax. </font><font style="vertical-align: inherit;">An open bracket or an incorrect designation of a class field will immediately cause an error during assembly, and the bundle simply will not be assembled. </font><font style="vertical-align: inherit;">The developer will have to immediately fix such errors in order to continue working. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, the collector may suggest that some pieces of code are not used when executing the program. </font><font style="vertical-align: inherit;">Perhaps this will prompt the developer to think about a deeper study of the code, which may indirectly affect the identification of new errors.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Testing</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another way to prevent errors in the code is to test it. </font><font style="vertical-align: inherit;">There are tools in the frontend for the effective use of unit tests. </font><font style="vertical-align: inherit;">Typically, frameworks such as Jest, Karma, Mocha, Jasmine are used. </font><font style="vertical-align: inherit;">Together with test frameworks, they often use extensions such as Enzyme, React Testing Library, Sinon, and others, which allow enriching tests with the help of mocha, spy functions and other tools. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When searching for errors, tests are primarily useful for loading a variety of data that can lead to execution errors. </font><font style="vertical-align: inherit;">So, the following code will pass syntax validation and work as expected:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> func = <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(data)<font></font>
<font></font>
}<font></font>
<font></font>
func(<span class="hljs-string">'{¬´a¬ª:1}'</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, it will break if you give it the wrong value:</font></font><br>
<br>
<pre><code class="javascript hljs">func() <span class="hljs-comment">// Uncaught SyntaxError: Unexpected token u in JSON at position 0.</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This code also passes validation during assembly:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> obj = {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">outer</span> : {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">last</span> : <span class="hljs-number">9</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">if</span> (obj.outer.inner.last) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(¬´SUCCESS¬ª)<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, it will also break during execution. </font><font style="vertical-align: inherit;">After testing, the developer will probably do additional checks:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (obj.outer?.inner?.last) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(¬´SUCCESS¬ª)<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Often, such errors occur when receiving data from the server (for example, with an AJAX request) with their subsequent analysis. </font><font style="vertical-align: inherit;">Testing the code allows you to identify and eliminate in advance cases where the code may break during execution in the client‚Äôs browser.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Logging</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suppose we have taken all possible measures to prevent errors during the development and assembly of the project. However, errors can still infiltrate productive code. We need to somehow find out about their presence and take immediate corrective measures. Asking users to open a browser console and take screenshots is not the best option. Therefore, it‚Äôs good to connect error logging to the project. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The meaning is simple: for each window.onerror event or each transition of code execution to the catch block, a simple AJAX request is made to a specially allocated server address, in the body of which error information is placed. Next, you will need a tool that will quickly notify tech support and developers about the presence of new errors and allow you to work effectively with them. The most popular of these frontend tools is Sentry.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sentry logging system allows you to collect, group, present errors in real time. </font><font style="vertical-align: inherit;">There are assemblies for different languages, including JavaScript. </font><font style="vertical-align: inherit;">The project provides paid access with advanced features for business, however, you can try its main features on a free test account. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sentry can be connected either directly in the HTML file, or in components executed on one of the popular frameworks: React, Vue, Angular, Ember and others. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To connect the logging capabilities directly in the browser in the section, load the script:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;script<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;src=¬´https:<span class="hljs-comment">//browser.sentry-cdn.com/5.13.0/bundle.min.js¬ª</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;integrity=¬´sha384-ePH2Cp6F+/PJbfhDWeQuXujAbpil3zowccx6grtsxOals4qYqJzCjeIa7W2UqunJ¬ª<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;crossorigin=<span class="hljs-string">"anonymous"</span>&gt;&lt;/script&gt;</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, in the JS code, we initialize:</font></font><br>
<br>
<pre><code class="javascript hljs">Sentry.init({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'https://&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span><font></font>
<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All. </font><font style="vertical-align: inherit;">If and when an error occurs in the code below this line, Sentry will log it. </font><font style="vertical-align: inherit;">Logs will be recorded even when the error occurred due to the fault of scripts from other domains:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/678/d2e/401/678d2e401660ad74977598ab150c1b85.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a05/7b3/b45/a057b3b458602831347c02db278c98ed.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sentry has ample opportunity to analyze an array of error messages and configure notifications. </font><font style="vertical-align: inherit;">It is also possible to group error logs by the releases of your product:</font></font><br>
<br>
<pre><code class="javascript hljs">Sentry.init({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'https://&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span>,<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">release</span>: <span class="hljs-string">'2020.03.06.1'</span><font></font>
<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using Sentry, statistics can be used to transfer the context of an error, for example, customer information, fingerprint, error level (fatal, error, warning, info, debug), and tag. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is possible to record user events in statistics. </font><font style="vertical-align: inherit;">For example, you can set tracking to change the size of the browser window or make an AJAX request. </font><font style="vertical-align: inherit;">Sentry also has its own widget with a feedback window, which can be shown to the user in case of error. </font><font style="vertical-align: inherit;">This will provide additional information to investigate the circumstances of the error. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To deploy Sentry along with the frameworks, just install the package and connect:</font></font><br>
<br>
<pre><code class="javascript hljs"># Using yarn<font></font>
<font></font>
yarn add @sentry/browser<font></font>
<font></font>
# Using npm<font></font>
<font></font>
npm install @sentry/browser</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We do initialization in the main script of the project (for React and Angular):</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> Sentry <span class="hljs-keyword">from</span> ¬´@sentry/browser¬ª;<font></font>
<font></font>
Sentry.init({ <span class="hljs-attr">dsn</span>: <span class="hljs-string">'https://&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span> });</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For Vue and Ember, we pass another required configuration line:</font></font><br>
<br>
<pre><code class="javascript hljs"># Vue<font></font>
<font></font>
Sentry.init({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span>,<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">integrations</span>: [<span class="hljs-keyword">new</span> Integrations.Vue({Vue, <span class="hljs-attr">attachProps</span>: <span class="hljs-literal">true</span>})],<font></font>
<font></font>
});<font></font>
<font></font>
# Ember<font></font>
<font></font>
Sentry.init({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span>,<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">integrations</span>: [<span class="hljs-keyword">new</span> Integrations.Ember()]<font></font>
<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The integrations package is installed separately:</font></font><br>
<br>
<pre><code class="javascript hljs"># Using yarn<font></font>
<font></font>
yarn add @sentry/integrations<font></font>
<font></font>
# Using npm<font></font>
<font></font>
npm install @sentry/integrations</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To prevent conflicts and duplication of information when connecting multiple scripts in one project, Sentry allows you to create a separate client for each logging initialization:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { BrowserClient } <span class="hljs-keyword">from</span> ¬´@sentry/browser¬ª;<font></font>
<font></font>
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> BrowserClient({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span>,<font></font>
<font></font>
});<font></font>
<font></font>
client.captureException(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'example'</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The project website has detailed documentation with examples of use: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://docs.sentry.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This article was prepared with the support of the </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></i></a><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;"> cloud platform </font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What else to read on the topic:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reactable React Components: How to Stop Writing the Same</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to avoid errors when developing on React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="> -     </a>.</li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495378/index.html">DEFCON 27 Conference. Buttplug: True Penetration Testing. Part 1</a></li>
<li><a href="../en495380/index.html">Great Egyptian Firewall</a></li>
<li><a href="../en495384/index.html">My internship experience at Microsoft Redmond and getting an offer</a></li>
<li><a href="../en495388/index.html">1970s television show that became an ancestor of eSports</a></li>
<li><a href="../en495390/index.html">STM32CubeMonitor is worth a try</a></li>
<li><a href="../en495396/index.html">First impression of concepts</a></li>
<li><a href="../en495398/index.html">Ro.Ri.Re</a></li>
<li><a href="../en495400/index.html">Work with SD card via SPI interface. VHDL implementation</a></li>
<li><a href="../en495402/index.html">Last year, we finally photographed a black hole. Now what?</a></li>
<li><a href="../en495404/index.html">Are sagging stocks promising? Let's analyze with python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>