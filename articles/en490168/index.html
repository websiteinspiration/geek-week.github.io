<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö† üë©üèº‚Äçüé® üåßÔ∏è Analysis of the quality of the chatbot in the IBM Watson Assistant üéê üç≤ üßôüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Creating a virtual assistant who would cope well with the business task today is, unfortunately, not as simple a process as we would like. First of al...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Analysis of the quality of the chatbot in the IBM Watson Assistant</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ibm/blog/490168/"><img src="https://habrastorage.org/webt/_v/ft/n8/_vftn8t_ldessclscfv3b3u_izu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creating a virtual assistant who would cope well with the business task today is, unfortunately, not as simple a process as we would like. First of all, it is far from always obvious why the chat bot makes mistakes and, more importantly, it is not clear how these errors can be minimized in the short time allotted for the development and launch of the platform. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Through continuous product development, the IBM Watson Assistant team is trying to make the process of creating and launching a virtual assistant as simple as possible. Today we talk about the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dialog Skill Analysis Notebook</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- A framework for Python that allows you to quickly develop a high-quality AI assistant in IBM Watson. </font><font style="vertical-align: inherit;">It does not matter if you are creating your first chatbot or you are an expert in the field of creating virtual assistants, in any case, this framework will help you if you have questions:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How effective is my chat bot?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How can I measure the effectiveness of an assistant?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why does the bot answer the questions incorrectly?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to increase the level of understanding of questions by the assistant?</font></font></li>
</ul><a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How it works?</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, we will show you some examples of tasks that can be solved using the framework. You can try its features yourself by downloading from the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The examples used in the article are given in English, but you can use Russian for training and checking the chatbot. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note: this material is intended for those who have a basic understanding of creating chat bots on the IBM Watson Assistant platform. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you are unfamiliar with our platform, or would like to learn how to create high-quality virtual assistants based on IBM Watson, we invite you to free </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">training seminars</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> that will be held in Moscow and St. Petersburg in March 2020, including a two-day practical workshop on creating virtual assistants.</font></font></b><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Part 1: Training Data Analysis </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We will use the test case ‚ÄúCustomer Care‚Äù, available in the Watson Assistant, in which the chatbot is trained to recognize questions about the store, for example: ‚ÄúWhere is your store located?‚Äù </font><font style="vertical-align: inherit;">or "What time does it open?" </font><font style="vertical-align: inherit;">and assign them to the intents </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Customer_Care_Store_Location</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Customer_Care_Store_Hours</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Immediately after loading the script, you can start the analysis of expressions, which will allow you to detect and correct critical errors such as correlation of one word or phrase simultaneously with several intents, which is guaranteed to lead to errors in the process of using the assistant.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ov/64/hf/ov64hfgnfjkfwq5-1nl-xckz38k.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part 2: Conversational Skills Analysis </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you first create a conversational skill, you can test its work using the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Try it out</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> panel </font><font style="vertical-align: inherit;">in Watson Assistant to evaluate the assistant‚Äôs ability to predict whether a text belongs to a specific intent. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5g/px/hn/5gpxhn4x2n9sehgnprtc940n294.png" width="300"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is certainly convenient to check if your chat bot works at all or to show an example of its work to the customer. However, to check the quality of the assistant‚Äôs work, this approach is completely unsuitable because of the impossibility of automation. Users can ask the same question in dozens of different ways, and even if you can predict all the possible combinations, such a manual check and analysis will take too much time.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instead, we suggest that you use the second part of our framework, which will help you analyze conversational skills using a test sample that includes additional examples for each of the intents that you must come up with yourself. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uniqueness</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is </font><font style="vertical-align: inherit;">mandatory for the elements of this sample </font><font style="vertical-align: inherit;">- they should not overlap with the examples that the chat bot was trained on, otherwise it will know the correct answers and the check will be meaningless. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Evaluation is carried out according to the following metrics: Accuracy, Precision, Recall and F1-measure. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cq/m_/gk/cqm_gkucp2hr41qq3d3amia6rvw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider the Help topic:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A high </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recall</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> value of </font><font style="vertical-align: inherit;">[100%] indicates that the affiliation of test sentences to this intent was recognized absolutely correctly.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Precision</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> value </font><font style="vertical-align: inherit;">[66.67%] shows that some test sentences related to other intents were recognized by the model as related to the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Help</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> intent </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">It is necessary to pay attention to this by adjusting the training sample to achieve a higher result</font></font></li>
<li><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The F1 measure</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [80%] is a generalized metric considering the values ‚Äã‚Äãof Precision and Recall reports the overall quality of the model under study.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part 3. Advanced Analysis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The third part of the framework opens up opportunities for an extended analysis of your dialog solution. </font><font style="vertical-align: inherit;">Using the functions implemented in it, you can find out why a particular sentence was mistakenly recognized. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider an example of visualizing the relative importance of words in a sentence.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note</font></font></b>
                        <div class="spoiler_text">,         ,      : <i>Customer_Care_Store_Location, Cancel, Customer_Care_Appointments General_Connect_to_Agent, Thanks, Customer_Care_Store_Hours, General_Greetings, Help </i><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With absolutely correct operation, the assistant should relate the sentence </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"If you are closed on Sunday, can you slot me in for tomorrow afternoon?"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to the </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Customer_Care_Appointments</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> intent </font><font style="vertical-align: inherit;">, as the user requests a meeting on Sunday evening. However, at the moment, this offer belongs to the assistant </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Customer_Care_Store_Hours</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> intent </font><font style="vertical-align: inherit;">. </font></font><br>
<img src="https://habrastorage.org/webt/bc/im/l3/bciml3o23wwr65ikbi1ekiex37w.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Looking at the diagram, it becomes clear that such an answer is justified by the presence in the sentence of the words </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äúclosed‚Äù</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äúafternoon‚Äù</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> related to the </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Customer_Care_Store_Hours</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> intent </font><font style="vertical-align: inherit;">and at the same time this lack of words in the sentence that could indicate that they belong to the necessary intent.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The functionality of the framework allows you to identify keywords in a sentence that the assistant ‚Äúperceives‚Äù as the most important, which means that you can easily determine the cause of the error and correct it.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The examples shown in the article are just a small part of all the features of our new framework. </font><font style="vertical-align: inherit;">We hope that it will help you speed up and simplify the process of creating a smart assistant.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to access the framework?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can download it from the GitHub repository </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For those who do not want or cannot download the framework or run IPython Notebook, we have created an online version of the framework, available in the IBM Gallery via the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Such an online version can be launched in the IBM cloud as part of the Watson Studio service.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490156/index.html">Disaster Recovery and migration using VMware vCloud Availability. Part 1</a></li>
<li><a href="../en490158/index.html">Robotic vehicles in numbers: 3 trillion miles, 50 billion hours, 8% of GDP</a></li>
<li><a href="../en490160/index.html">What does a network with PRP redundancy look like in WireShark</a></li>
<li><a href="../en490162/index.html">The quirks of evolution: the discovery of an organism living without oxygen</a></li>
<li><a href="../en490164/index.html">Interview with software engineer Sony PlayStation Now. Internal Kitchen, Functional Teams, Core Division</a></li>
<li><a href="../en490170/index.html">Project Manager in a vice. Why so and what to do about it</a></li>
<li><a href="../en490174/index.html">DNS lookup in Kubernetes</a></li>
<li><a href="../en490178/index.html">While everyone is heading west, I moved to Armenia</a></li>
<li><a href="../en490180/index.html">Kubernetes Storage Patterns</a></li>
<li><a href="../en490184/index.html">Alphabet has a second, secret group of quantum computer developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>