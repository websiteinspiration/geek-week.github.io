<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äçüîß üë®‚Äçüíº üÜñ Reaccionar el perfil de rendimiento de la aplicaci√≥n ‚ôªÔ∏è üßëüèø‚Äçü§ù‚Äçüßëüèª üö¥üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy hablaremos sobre la medici√≥n del rendimiento de renderizar componentes React utilizando la API React Profiler. Tambi√©n evaluaremos las interaccion...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Reaccionar el perfil de rendimiento de la aplicaci√≥n</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/497988/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hoy hablaremos sobre la medici√≥n del rendimiento de renderizar componentes React utilizando la API React Profiler. </font><font style="vertical-align: inherit;">Tambi√©n evaluaremos las interacciones con el componente utilizando la nueva API experimental de seguimiento de interacci√≥n. </font><font style="vertical-align: inherit;">Adem√°s, utilizaremos la API de sincronizaci√≥n del usuario para tomar nuestras propias medidas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilizaremos la aplicaci√≥n React Movies Queue como plataforma para experimentos.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ef/452/51a/5ef45251ae6a761a3fec98e14c4eefa1.jpg"></div></a><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplicaci√≥n React Movies Queue</font></font></font></i><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React Profiler API</font></font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La API React Profiler est√°</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dise√±ada para medir el rendimiento de representaci√≥n y ayuda a identificar los cuellos de botella en el rendimiento de la aplicaci√≥n.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Fragment, unstable_Profiler <span class="hljs-keyword">as</span> Profiler} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El componente </font></font><code>Profiler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acepta una devoluci√≥n de llamada </font></font><code>onRender</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como propiedad. </font><font style="vertical-align: inherit;">Se llama cada vez que un componente en el √°rbol perfilado confirma una actualizaci√≥n.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> Movies = <span class="hljs-function">(<span class="hljs-params">{ movies, addToQueue }</span>) =&gt;</span> (<font></font>
&nbsp;&nbsp;&lt;Fragment&gt;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Profiler id="Movies" onRender={callback}&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intentemos, para fines de prueba, medir el tiempo requerido para procesar partes de un componente </font></font><code>Movies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">As√≠ es como se ve.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/10a/9d0/3ec/10a9d03ece4b7636876ab9b72998dea1.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La aplicaci√≥n React Movies Queue y la investigaci√≥n de Pel√≠culas con las</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
herramientas de devoluci√≥n de llamada del</font><i><font color="#999999"><font style="vertical-align: inherit;"> desarrollador React</font></font></i></font><code>onRender</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aceptan par√°metros que describen lo que se procesa y el tiempo que se tarda en procesar. </font><font style="vertical-align: inherit;">Esto incluye lo siguiente:</font></font><br>
<br>
<ul>
<li><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Propiedad </font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">del √°rbol de componentes </font></font><code>Profiler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para el que se confirm√≥ el cambio.</font></font></li>
<li><code>phase</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: o </font></font><code>mount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(si se mont√≥ el √°rbol) o </font></font><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(si se volvi√≥ a representar el √°rbol).</font></font></li>
<li><code>actualDuration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: El tiempo necesario para procesar una actualizaci√≥n fija.</font></font></li>
<li><code>baseDuration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Tiempo estimado para renderizar todo el sub√°rbol sin almacenamiento en cach√©.</font></font></li>
<li><code>startTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: La hora en que React comenz√≥ a procesar esta actualizaci√≥n.</font></font></li>
<li><code>commitTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: el momento en que React confirm√≥ esta actualizaci√≥n.</font></font></li>
<li><code>interactions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Muchas "interacciones" para esta actualizaci√≥n.</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> callback = <span class="hljs-function">(<span class="hljs-params">id, phase, actualTime, baseTime, startTime, commitTime</span>) =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${id}</span>'s <span class="hljs-subst">${phase}</span> phase:`</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Actual time: <span class="hljs-subst">${actualTime}</span>`</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Base time: <span class="hljs-subst">${baseTime}</span>`</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Start time: <span class="hljs-subst">${startTime}</span>`</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Commit time: <span class="hljs-subst">${commitTime}</span>`</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cargaremos la p√°gina e iremos a la consola de Chrome Developer Tools. </font><font style="vertical-align: inherit;">All√≠ deber√≠amos ver lo siguiente.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cc8/baf/9c9/cc8baf9c9500419f587874bae69acf96.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creaci√≥n de perfiles de resultados en herramientas para desarrolladores</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Adem√°s, podemos abrir las herramientas para desarrolladores React, ir al marcador</font></font><code>Profiler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y visualizar informaci√≥n sobre el momento de la representaci√≥n de componentes. </font><font style="vertical-align: inherit;">A continuaci√≥n se muestra una visualizaci√≥n de este tiempo en forma de un gr√°fico de llama.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c56/138/d61/c56138d6154866df33b45014966aa2cb.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al trabajar con resultados de perfiles en React Developer Tools</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, tambi√©n me gusta usar el modo de vista aqu√≠</font></font><code>Ranked</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que proporciona una vista ordenada de los datos. </font><font style="vertical-align: inherit;">Como resultado, los componentes que tardan m√°s en renderizarse se encuentran en la parte superior de la lista.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/224/324/1b6/2243241b6de115dbbd7c0a94270d3868.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualizaci√≥n de resultados de creaci√≥n de perfiles en modo Clasificaci√≥n.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Adem√°s, puede usar varios componentes para tomar medidas en diferentes partes de la aplicaci√≥n</font></font><code>Profiler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Fragment, unstable_Profiler <span class="hljs-keyword">as</span> Profiler} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;<font></font>
<font></font>
render(<font></font>
&nbsp;&nbsp;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">Profiler</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Header"</span> <span class="hljs-attr">onRender</span>=<span class="hljs-string">{callback}</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">Header</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">Profiler</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">Profiler</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Movies"</span> <span class="hljs-attr">onRender</span>=<span class="hljs-string">{callback}</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">Movies</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">Profiler</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">App</span>&gt;</span></span><font></font>
);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øY c√≥mo analizar las interacciones del usuario con los componentes?</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API de seguimiento de interacci√≥n</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ser√≠a bueno poder rastrear las interacciones del usuario con la interfaz de la aplicaci√≥n (como clics en elementos). </font><font style="vertical-align: inherit;">Esto le permitir√° encontrar respuestas a preguntas interesantes como esta: "¬øCu√°nto tiempo llev√≥ actualizar el DOM despu√©s de hacer clic en este bot√≥n?". </font><font style="vertical-align: inherit;">Afortunadamente, React tiene soporte experimental para analizar las interacciones del usuario con la aplicaci√≥n utilizando la API de seguimiento de interacci√≥n del nuevo paquete del </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">planificador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Puedes leer la documentaci√≥n </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La informaci√≥n sobre las interacciones entre el usuario y la aplicaci√≥n se proporciona con descripciones (por ejemplo, "El usuario hizo clic en el bot√≥n Agregar al carrito") y marcas de tiempo. </font><font style="vertical-align: inherit;">Adem√°s, al configurar el an√°lisis de interacciones, se utilizan devoluciones de llamada en las que se realizan acciones correspondientes a una u otra interacci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestra aplicaci√≥n hay un bot√≥n </font></font><code>Add Movie To Queue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en el que se muestra el icono </font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sirve para agregar pel√≠culas a la cola de visualizaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6f7/75c/af2/6f775caf25ad484e73ae70354752b879.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bot√≥n para agregar una pel√≠cula a la cola de visualizaci√≥n</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aqu√≠ hay un ejemplo de c√≥digo que supervisa las actualizaciones de estado para esta interacci√≥n del usuario con la aplicaci√≥n:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { unstable_Profiler <span class="hljs-keyword">as</span> Profiler } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-dom"</span>;
<span class="hljs-keyword">import</span> { unstable_trace <span class="hljs-keyword">as</span> trace } <span class="hljs-keyword">from</span> <span class="hljs-string">"scheduler/tracing"</span>;<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
&nbsp;&nbsp;addMovieButtonClick = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;trace(<span class="hljs-string">"Add To Movies Queue click"</span>, performance.now(), () =&gt; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">this</span>.setState({ <span class="hljs-attr">itemAddedToQueue</span>: <span class="hljs-literal">true</span> });<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;});<font></font>
&nbsp;&nbsp;};<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos registrar informaci√≥n sobre esta interacci√≥n y conocer su duraci√≥n contactando a las herramientas para desarrolladores de React.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d93/fc1/ea0/d93fc1ea00661d926e2f9a183b32ebb7.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis de la interacci√≥n del usuario con un elemento de la aplicaci√≥n</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Con la API de seguimiento de interacci√≥n, tambi√©n puede recopilar informaci√≥n sobre la representaci√≥n del primer componente:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { unstable_trace <span class="hljs-keyword">as</span> trace } <span class="hljs-keyword">from</span> <span class="hljs-string">"scheduler/tracing"</span>;<font></font>
<font></font>
trace(<span class="hljs-string">"initial render"</span>, performance.now(), () =&gt; {<font></font>
&nbsp;&nbsp;&nbsp;ReactDom.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"app"</span>));<font></font>
});<font></font>
</code></pre><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b3c/4ab/310/b3c4ab310fd105fc83697e4a7b5a61fb.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis de la primera representaci√≥n del componente</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
El autor de la API da otros</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ejemplos de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> su uso. </font><font style="vertical-align: inherit;">Por ejemplo, ilustrando el perfil de tareas asincr√≥nicas.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Titiritero</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la automatizaci√≥n de las pruebas de interacci√≥n del usuario con los elementos de la aplicaci√≥n, el uso de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puppeteer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede parecer interesante </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Esta es una biblioteca Node.js que proporciona acceso a una API de alto nivel dise√±ada para controlar un navegador Chrome sin una interfaz de usuario que utiliza el protocolo DevTools. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se utiliza Puppeteer, el desarrollador cuenta con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©todos de</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ayuda </font></font><code>tracing.start()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y est√° </font></font><code>tracing.stop()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dise√±ado para recopilar indicadores de rendimiento de DevTools. </font><font style="vertical-align: inherit;">A continuaci√≥n se muestra un ejemplo del uso de estos mecanismos para recopilar datos sobre lo que sucede cuando hace clic en el bot√≥n que nos interesa.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> puppeteer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'puppeteer'</span>);<font></font>
<font></font>
<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">async</span> (</span>) =&gt;</span> {
&nbsp;&nbsp;<span class="hljs-keyword">const</span> browser = <span class="hljs-keyword">await</span> puppeteer.launch();
&nbsp;&nbsp;<span class="hljs-keyword">const</span> page = <span class="hljs-keyword">await</span> browser.newPage();
&nbsp;&nbsp;<span class="hljs-keyword">const</span> navigationPromise = page.waitForNavigation();
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">'https://react-movies-queue.glitch.me/'</span>)
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.setViewport({ <span class="hljs-attr">width</span>: <span class="hljs-number">1276</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">689</span> });
&nbsp;&nbsp;<span class="hljs-keyword">await</span> navigationPromise;<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">const</span> addMovieToQueueBtn = <span class="hljs-string">'li:nth-child(3) &gt; .card &gt; .card__info &gt; div &gt; .button'</span>;
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.waitForSelector(addMovieToQueueBtn);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">//  ...</span>
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.tracing.start({ <span class="hljs-attr">path</span>: <span class="hljs-string">'profile.json'</span> });
&nbsp;&nbsp;<span class="hljs-comment">//   </span>
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.click(addMovieToQueueBtn);
&nbsp;&nbsp;<span class="hljs-comment">//  </span>
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.tracing.stop();<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">await</span> browser.close();<font></font>
})()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora, despu√©s de cargar el archivo </font></font><code>profile.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en la </font></font><code>Performance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barra de herramientas del desarrollador, podemos ver qu√© llamadas de funci√≥n se activaron al hacer clic en un bot√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ed/42f/623/3ed42f62350db7d110d4ba53c80973b6.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis de las consecuencias de hacer clic en el bot√≥n</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si est√° interesado en el tema del an√°lisis del rendimiento de los componentes, eche un vistazo a</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> este</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> material.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API de sincronizaci√≥n del usuario</font></font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La API de sincronizaci√≥n del usuario</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permite al desarrollador crear m√©tricas de rendimiento personalizadas utilizando marcas de tiempo altamente precisas. </font><font style="vertical-align: inherit;">El m√©todo </font></font><code>window.performance.mark()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crea una marca de tiempo a la que se asigna el nombre. </font><font style="vertical-align: inherit;">El m√©todo le </font></font><code>window.performance.measure()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permite averiguar el tiempo transcurrido entre dos mediciones.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//     </span>
performance.mark(<span class="hljs-string">'Movies:updateStart'</span>);
<span class="hljs-comment">//  </span><font></font>
<font></font>
<span class="hljs-comment">//     </span>
performance.mark(<span class="hljs-string">'Movies:updateEnd'</span>);<font></font>
<font></font>
<span class="hljs-comment">//        </span>
performance.measure(<span class="hljs-string">'moviesRender'</span>, <span class="hljs-string">'Movies:updateStart'</span>, <span class="hljs-string">'Movies:updateEnd'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al crear un perfil de una aplicaci√≥n React con la pesta√±a </font></font><code>Performance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herramientas para desarrolladores de Chrome, puede encontrar una secci√≥n </font></font><code>Timing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">llena de m√©tricas temporales con respecto a los componentes React. </font><font style="vertical-align: inherit;">React, durante el renderizado, puede publicar esta informaci√≥n utilizando la API de sincronizaci√≥n del usuario.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ed0/f07/ebb/ed0f07ebb5939839c088bc5d56e4b330.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesta√±a de rendimiento de las herramientas de desarrollador de Chrome</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tenga en cuenta que las API de temporizaciones de usuario se eliminan de los ensamblajes React DEV, reemplaz√°ndolo con la API React Profiler, que proporciona marcas de tiempo m√°s precisas. </font><font style="vertical-align: inherit;">Quiz√°s en el futuro se devolver√° el soporte para esta API haci√©ndolo para aquellos navegadores que admitan la especificaci√≥n de Nivel de sincronizaci√≥n de usuario 3.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En Internet, puede encontrar sitios de React que usan la API de sincronizaci√≥n de usuario para determinar sus propias m√©tricas. </font><font style="vertical-align: inherit;">Esto incluye, por ejemplo, la</font></font><code>Time to first post title visible</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©trica</font><font style="vertical-align: inherit;">Reddit</font><font style="vertical-align: inherit;">y la m√©trica Spotify</font></font><code>Time to playback ready</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/18a/28a/c19/18a28ac19bf3b14050cde0731cf09e71.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las m√©tricas especiales utilizadas en los sitios de React Las</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
m√©tricas creadas por la API de sincronizaci√≥n del usuario</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se muestran</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> convenientemente</font><font style="vertical-align: inherit;">en el panel</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lighthouse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de las</font><font style="vertical-align: inherit;">herramientas para desarrolladores de Chrome.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b1/b97/961/9b1b979616527fd88511ecbadcd0a260.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©tricas en el panel de Lighthouse</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Por ejemplo, las √∫ltimas versiones de</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Next.js </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incluyen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m√©tricas personalizadas y mecanismos para medir muchos eventos diferentes. </font><font style="vertical-align: inherit;">Incluyendo lo siguiente:</font></font><br>
<br>
<ul>
<li><code>Next.js-hydration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: tiempo requerido para llevar el marcado pre-renderizado a las condiciones de trabajo.</font></font></li>
<li><code>Next.js-nav-to-render</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: El tiempo desde el inicio de la navegaci√≥n hasta el inicio de la representaci√≥n.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas estas medidas se muestran en el √°rea </font></font><code>Timings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/248/8c5/ee9/2488c5ee9d6bd6ccf9da8e6c36436c26.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis de las m√©tricas de Next.js</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herramientas para desarrolladores y faro</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le recuerdo que Lighthouse y la </font></font><code>Performance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Barra de herramientas para desarrolladores de Chrome se pueden usar para analizar en profundidad el proceso de carga y el rendimiento de las aplicaciones React. </font><font style="vertical-align: inherit;">Aqu√≠ puede encontrar m√©tricas que afectan particularmente la percepci√≥n de las p√°ginas por parte de los usuarios.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce2/5c7/2ee/ce25c72eedd5c79edd5dbc1a42685b10.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An√°lisis del rendimiento de la p√°gina </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A quienes trabajan con React les puede gustar el hecho de que tendr√°n nuevas m√©tricas a su disposici√≥n, como la m√©trica </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiempo total de bloqueo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (TBT), que brinda informaci√≥n sobre cu√°nto tiempo la p√°gina est√° en modo no interactivo hasta el momento en que puede funcionar de manera confiable en modo interactivo ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiempo de interactividad</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Estos son los indicadores TBT (‚Äúantes‚Äù y ‚Äúdespu√©s‚Äù) para una aplicaci√≥n que emplea el modo competitivo experimental, cuyo uso ayuda a la aplicaci√≥n a adaptarse a las caracter√≠sticas del entorno en el que se est√° ejecutando.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b7/074/96d/9b707496d500da0883027da3a571a030.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modificar TBT</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Estas herramientas son √∫tiles para analizar los cuellos de botella del rendimiento de la aplicaci√≥n, como las</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tareas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que requieren mucho tiempo para completarse, lo que retrasa la transici√≥n en l√≠nea de la aplicaci√≥n. </font><font style="vertical-align: inherit;">Por ejemplo, esto puede estar relacionado con un an√°lisis de la velocidad de reacci√≥n de la aplicaci√≥n al presionar botones.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98b/3ac/803/98b3ac8031d84cdfb9765fde2f399a70.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El an√°lisis de la aplicaci√≥n</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lighthouse, adem√°s, brinda a los desarrolladores de React muchos consejos espec√≠ficos sobre muchos problemas. </font><font style="vertical-align: inherit;">A continuaci√≥n se muestra el resultado del an√°lisis en</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lighthouse 6.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Aqu√≠, se abre la secci√≥n</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eliminar JavaScript no utilizado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que informa sobre el c√≥digo JavaScript no utilizado que se carga en una aplicaci√≥n que se puede importar usando</font></font><code>React.lazy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e3/9b2/f3a/1e39b2f3a323a74744ee16e68550c6c2.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analizar una aplicaci√≥n en Lighthouse</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Las aplicaciones siempre son √∫tiles para probar en hardware, que probablemente est√© disponible para sus usuarios finales. </font><font style="vertical-align: inherit;">A menudo</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conf√≠o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"> Webpagetest</font></a><font style="vertical-align: inherit;"> y los datos de</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RUM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CrUX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en estos asuntos</font><font style="vertical-align: inherit;">, lo que me permite obtener informaci√≥n m√°s completa sobre el rendimiento de la aplicaci√≥n. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Queridos lectores! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo investiga el rendimiento de sus aplicaciones React?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es497968/index.html">Recursos para desarrolladores web: API y elementos de la interfaz de usuario</a></li>
<li><a href="../es497980/index.html">¬øCu√°nta agua se ha filtrado? Resolvemos el problema con un paseo lunar en Haskell</a></li>
<li><a href="../es497982/index.html">Enfoque funcional y de proceso para la gesti√≥n. ¬øC√≥mo y qu√© gestionar?</a></li>
<li><a href="../es497984/index.html">Migraci√≥n de reCAPTCHA a hCaptcha en Cloudflare</a></li>
<li><a href="../es497986/index.html">Supervisi√≥n de toda la memoria utilizada por una p√°gina web: performance.measureMemory ()</a></li>
<li><a href="../es497990/index.html">PostgreSQL: Desarrollo de extensiones (funciones) en lenguaje C</a></li>
<li><a href="../es497994/index.html">La mec√°nica del lenguaje escapa al an√°lisis</a></li>
<li><a href="../es497996/index.html">No quieres fortalecer la inmunidad. O los extremos del cuerpo humano</a></li>
<li><a href="../es498000/index.html">Cosas que me gustar√≠a saber antes de desarrollar mi propio juego</a></li>
<li><a href="../es498002/index.html">Gu√≠a de bolsillo para el Z3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>