<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙋🏿 🌧️ 🚶🏼 Ketergantungan JavaScript Road to Hell 🛴 👂🏿 🙆🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setiap proyek JavaScript dimulai dengan niat baik, yaitu bahwa pembuatnya berjanji untuk tidak menggunakan terlalu banyak paket NPM selama pengembanga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ketergantungan JavaScript Road to Hell</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/499668/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setiap proyek JavaScript dimulai dengan niat baik, yaitu bahwa pembuatnya berjanji untuk tidak menggunakan terlalu banyak paket NPM selama pengembangannya. Tetapi bahkan jika para pengembang berusaha keras untuk menepati janji ini, paket-paket NPM secara bertahap menembus proyek-proyek mereka. Ukuran file </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bertambah seiring waktu. Dan dengan </font></font><code>package-lock.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemasangan dependensi, kengerian nyata terjadi, dinyatakan dalam penambahan dan penghapusan paket, terutama terlihat dengan PR berikutnya ... </font><font style="vertical-align: inherit;">
"Semuanya baik-baik saja," kata pemimpin tim. Anggota tim lainnya mengangguk setuju. Apa lagi yang harus dilakukan? Kita semua menikmati kenyataan bahwa ekosistem JavaScript hidup dan sehat. Kami tidak perlu menemukan kembali roda setiap saat dan mencoba memecahkan masalah yang telah dipecahkan oleh komunitas open source.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/be/cf/ky/becfkyhkcfavrlygimyyrliz9t4.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalkan Anda akan membuat blog dan ingin menggunakan Gatsby.js. </font><font style="vertical-align: inherit;">Coba tambahkan penghasil situs ini berdasarkan proyek Anda. </font><font style="vertical-align: inherit;">Sekarang, selamat. </font><font style="vertical-align: inherit;">Proyek Anda baru saja memiliki 19.000 dependensi tambahan. </font><font style="vertical-align: inherit;">Ini normal? </font><font style="vertical-align: inherit;">Seberapa kompleks pohon ketergantungan JavaScript menjadi? </font><font style="vertical-align: inherit;">Bagaimana pohon ketergantungan berubah menjadi neraka? </font><font style="vertical-align: inherit;">Mari kita cari tahu.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu paket JavaScript?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NPM (Node Package Manager, Node Package Manager) menyimpan paket registri terbesar di dunia. </font><font style="vertical-align: inherit;">Ini adalah paket JavaScript. </font><font style="vertical-align: inherit;">NPM lebih dari gabungan RubyGems, PyPi, dan Maven. </font><font style="vertical-align: inherit;">Kesimpulan ini dapat dibuat berdasarkan analisis data proyek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jumlah Modul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang memantau jumlah paket di pendaftar populer.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/259/d83/158/259d831584b0a9a5d1fd6226e3f799b0.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data tentang jumlah paket dalam pendaftar populer</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Anda mungkin berpikir bahwa jumlah kode yang sangat besar terwakili pada grafik ini. </font><font style="vertical-align: inherit;">Seperti itu. </font><font style="vertical-align: inherit;">Untuk mengubah proyek menjadi paket NPM, paket ini harus memiliki file</font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Paket semacam itu dapat dikirim ke registri NPM.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu package.json?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah tugas-tugas yang diselesaikan </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini mencantumkan paket yang bergantung pada proyek Anda (ini adalah daftar dependensi proyek).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di dalamnya, menggunakan aturan versi semantik, versi paket dependensi yang dapat digunakan proyek Anda ditetapkan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini memungkinkan Anda untuk mereproduksi lingkungan yang diperlukan agar paket dapat berfungsi, dan, sebagai hasilnya, menyederhanakan transfer proyek ke pengembang lain.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
File </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat dianggap sebagai file yang </font></font><code>README</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dipompa dengan steroid. </font><font style="vertical-align: inherit;">Di sini Anda dapat menggambarkan dependensi paket Anda, di sini Anda dapat menulis skrip yang dieksekusi selama perakitan dan pengujian proyek. </font><font style="vertical-align: inherit;">File yang sama berisi informasi tentang versi proyek yang ditentukan oleh pengembangnya dan deskripsi proyek. </font><font style="vertical-align: inherit;">Kami secara khusus tertarik pada kemungkinan </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menentukan ketergantungan proyek. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin fakta bahwa ketergantungan proyek ditunjukkan dalam file ini terlihat agak mengkhawatirkan. </font><font style="vertical-align: inherit;">Bayangkan ada paket yang tergantung pada paket lain, dan paket lain ini tergantung paket lain. </font><font style="vertical-align: inherit;">Rantai ketergantungan seperti itu bisa panjang dan sewenang-wenang. </font><font style="vertical-align: inherit;">Untuk alasan ini, menginstal satu-satunya paket, Gatsby.js, berarti melengkapi proyek dengan 19.000 dependensi tambahan.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketergantungan tipe dalam package.json</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk lebih memahami bagaimana daftar ketergantungan proyek tumbuh dari waktu ke waktu, mari kita bicara tentang berbagai jenis ketergantungan yang mungkin dimiliki suatu proyek. </font><font style="vertical-align: inherit;">Yaitu, bagian </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berikut dapat ditemukan yang menggambarkan berbagai dependensi:</font></font><br>
<br>
<ul>
<li><code>dependencies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ini adalah dependensi biasa, fungsi yang digunakan dalam proyek, dan yang diakses dari kodenya.</font></font></li>
<li><code>devDependencies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ini adalah dependensi pengembangan. </font><font style="vertical-align: inherit;">Misalnya, perpustakaan yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lebih cantik yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> digunakan untuk memformat kode.</font></font></li>
<li><code>peerDependencies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - jika dependensi ditulis ke bagian ini, pengembang paket dengan demikian memberi tahu orang yang akan menginstalnya bahwa ia akan memerlukan versi spesifik dari paket yang ditentukan dalam bagian ini.</font></font></li>
<li><code>optionalDependencies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mereka mencantumkan dependensi opsional, seperti, ketidakmampuan untuk menginstal yang tidak akan melanggar proses instalasi paket.</font></font></li>
<li><code>bundledDependencies</code> —    ,    .     ,    NPM,    ,             .</li>
</ul><br>
<h2><font color="#3AC1EF">   package-lock.json</font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita semua tahu bahwa file tersebut </font></font><code>package-lock.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dalam proses pengerjaan proyek, terus mengalami perubahan. Sesuatu dihapus darinya, sesuatu ditambahkan padanya. Ini terutama terlihat ketika melihat PR yang berisi versi terbaru dari file ini. Kita sering menerima begitu saja. File </font></font><code>package-lock.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">secara otomatis dihasilkan setiap kali file </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau folder </font><font style="vertical-align: inherit;">berubah </font></font><code>node_modules</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ini memungkinkan Anda untuk mempertahankan konten pohon dependensi persis seperti ketika Anda menginstal dependensi proyek. Ini memungkinkan, ketika menginstal proyek, untuk mereproduksi pohon dependensi. Ini memecahkan masalah memiliki versi berbeda dari paket yang sama dari pengembang yang berbeda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan sebuah proyek yang dependensinya termasuk Bereaksi. Entri yang sesuai tersedia di </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jika Anda melihat file</font></font><code>package-lock.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari proyek ini, maka Anda dapat melihat sesuatu seperti berikut:</font></font><br>
<br>
<pre><code class="javascript hljs">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"react"</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"version"</span>: <span class="hljs-string">"16.13.0"</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"resolved"</span>: <span class="hljs-string">"https://registry.npmjs.org/react/-/react-16.13.0.tgz"</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"integrity"</span>: <span class="hljs-string">"sha512-TSavZz2iSLkq5/oiE7gnFzmURKZMltmi193rm5HEoUDAXpzT9Kzw6oNZnGoai/4+fUnm7FqS5dwgUL34TujcWQ=="</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"requires"</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"loose-envify"</span>: <span class="hljs-string">"^1.1.0"</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"object-assign"</span>: <span class="hljs-string">"^4.1.1"</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"prop-types"</span>: <span class="hljs-string">"^15.6.2"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
File </font></font><code>package-lock.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah daftar besar dependensi proyek. </font><font style="vertical-align: inherit;">Berikut adalah versi dependensi, jalur (URI) ke modul, hash yang digunakan untuk memverifikasi integritas modul dan paket yang dibutuhkan oleh modul ini. </font><font style="vertical-align: inherit;">Jika Anda membaca file ini, Anda dapat menemukan catatan dari semua paket yang Bereaksi perlu. </font><font style="vertical-align: inherit;">Di sinilah neraka ketergantungan yang sebenarnya berada. </font><font style="vertical-align: inherit;">Segala yang dibutuhkan proyek dijelaskan di sini.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memahami dependensi Gatsby.js</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana itu, setelah menetapkan hanya satu dependensi, kami menambahkan sebanyak 19.000 dependensi ke proyek? </font><font style="vertical-align: inherit;">Ini semua tentang dependensi ketergantungan. </font><font style="vertical-align: inherit;">Itulah sebabnya kami memiliki apa yang kami miliki:</font></font><br>
<br>
<pre><code class="bash hljs">$ npm install --save gatsby<font></font>
<font></font>
...<font></font>
<font></font>
+ gatsby@2.19.28<font></font>
added 1 package from 1 contributor, removed 9 packages, updated 10 packages and audited 19001 packages <span class="hljs-keyword">in</span> 40.382s
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda melihat </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">di </font><font style="vertical-align: inherit;">sana Anda hanya dapat menemukan satu ketergantungan. Tetapi jika Anda melihatnya </font></font><code>package-lock.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ternyata di depan kami ada monster berukuran hampir 14 kilobyte. Jawaban yang lebih terperinci tentang apa arti semua baris kode itu </font></font><code>package-lock.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dapat ditemukan dalam file </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositori Gatsby.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ada banyak dependensi langsung, yaitu, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menurut perhitungan npm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 132. Jika masing-masing dependensi ini memiliki setidaknya satu dependensi lagi, maka jumlah total dependensi proyek akan berlipat ganda - dan akan memiliki 264 dependensi. Tentu saja, di dunia nyata tidak demikian. Setiap ketergantungan proyek langsung memiliki lebih dari 1 ketergantungan bawaan. Akibatnya, daftar dependensi proyek sangat panjang.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, kami akan tertarik pada berapa kali perpustakaan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lodash</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> digunakan sebagai ketergantungan untuk paket lain </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">$ npm ls lodash<font></font>
example-js-package@1.0.0<font></font>
└─┬ gatsby@2.19.28<font></font>
&nbsp;&nbsp;├─┬ @babel/core@7.8.6<font></font>
&nbsp;&nbsp;│ ├─┬ @babel/generator@7.8.6<font></font>
&nbsp;&nbsp;│ │ └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;│ ├─┬ @babel/types@7.8.6<font></font>
&nbsp;&nbsp;│ │ └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;│ └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;├─┬ @babel/traverse@7.8.6<font></font>
&nbsp;&nbsp;│ └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;├─┬ @typescript-eslint/parser@2.22.0<font></font>
&nbsp;&nbsp;│ └─┬ @typescript-eslint/typescript-estree@2.22.0<font></font>
&nbsp;&nbsp;│ &nbsp; └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;├─┬ babel-preset-gatsby@0.2.29<font></font>
&nbsp;&nbsp;│ └─┬ @babel/preset-env@7.8.6<font></font>
&nbsp;&nbsp;│ &nbsp; ├─┬ @babel/plugin-transform-block-scoping@7.8.3<font></font>
&nbsp;&nbsp;│ &nbsp; │ └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;│ &nbsp; ├─┬ @babel/plugin-transform-classes@7.8.6<font></font>
&nbsp;&nbsp;│ &nbsp; │ └─┬ @babel/helper-define-map@7.8.3<font></font>
&nbsp;&nbsp;│ &nbsp; │ &nbsp; └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;│ &nbsp; ├─┬ @babel/plugin-transform-modules-amd@7.8.3<font></font>
&nbsp;&nbsp;│ &nbsp; │ └─┬ @babel/helper-module-transforms@7.8.6<font></font>
&nbsp;&nbsp;│ &nbsp; │ &nbsp; └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;│ &nbsp; └─┬ @babel/plugin-transform-sticky-regex@7.8.3<font></font>
&nbsp;&nbsp;│ &nbsp; &nbsp; └─┬ @babel/helper-regex@7.8.3<font></font>
&nbsp;&nbsp;│ &nbsp; &nbsp; &nbsp; └── lodash@4.17.15&nbsp; deduped<font></font>
&nbsp;&nbsp;...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya, sebagian besar dependensi ini diwakili oleh versi yang sama dari lodash. </font><font style="vertical-align: inherit;">Dan dengan pendekatan ini, hanya </font></font><code>node_modules</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan ada satu folder perpustakaan lodash. </font><font style="vertical-align: inherit;">Benar, ini biasanya tidak sepenuhnya benar. </font><font style="vertical-align: inherit;">Terkadang paket yang berbeda memerlukan versi berbeda dari paket yang sama. </font><font style="vertical-align: inherit;">Itu sebabnya banyak lelucon muncul tentang ukuran besar folder </font></font><code>node_modules</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Namun, dalam kasus kami, semuanya tidak terlalu buruk:</font></font><br>
<br>
<pre><code class="bash hljs">$ du -sh node_modules<font></font>
200M&nbsp; &nbsp; node_modules<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
200 megabita tidak terlalu buruk. </font><font style="vertical-align: inherit;">Saya melihat bagaimana ukuran folder ini dengan mudah mencapai 700 MB. </font><font style="vertical-align: inherit;">Jika Anda tertarik mempelajari modul mana yang paling memakan ruang, Anda dapat menjalankan perintah berikut:</font></font><br>
<br>
<pre><code class="bash hljs">$ du -sh ./node_modules/* | sort -nr | grep <span class="hljs-string">'\dM.*'</span><font></font>
&nbsp;17M&nbsp; &nbsp; ./node_modules/rxjs<font></font>
8.4M&nbsp; &nbsp; ./node_modules/@types<font></font>
7.4M&nbsp; &nbsp; ./node_modules/core-js<font></font>
6.8M&nbsp; &nbsp; ./node_modules/@babel<font></font>
5.4M&nbsp; &nbsp; ./node_modules/gatsby<font></font>
5.2M&nbsp; &nbsp; ./node_modules/eslint<font></font>
4.8M&nbsp; &nbsp; ./node_modules/lodash<font></font>
3.6M&nbsp; &nbsp; ./node_modules/graphql-compose<font></font>
3.6M&nbsp; &nbsp; ./node_modules/@typescript-eslint<font></font>
3.5M&nbsp; &nbsp; ./node_modules/webpack<font></font>
3.4M&nbsp; &nbsp; ./node_modules/moment<font></font>
3.3M&nbsp; &nbsp; ./node_modules/webpack-dev-server<font></font>
3.2M&nbsp; &nbsp; ./node_modules/caniuse-lite<font></font>
3.1M&nbsp; &nbsp; ./node_modules/graphql<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rxjs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah paket berbahaya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah perintah sederhana yang membantu mengurangi ukuran folder </font></font><code>node_modules</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan menyederhanakan strukturnya:</font></font><br>
<br>
<pre><code class="bash hljs">$ npm dedup<font></font>
moved 1 package and audited 18701 packages <span class="hljs-keyword">in</span> 4.622s<font></font>
<font></font>
51 packages are looking <span class="hljs-keyword">for</span> funding<font></font>
&nbsp;&nbsp;run `npm fund` <span class="hljs-keyword">for</span> details<font></font>
<font></font>
found 0 vulnerabilities<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deduplikasi,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> npm mencoba menyederhanakan struktur pohon dependensi dengan menemukan dependensi yang digunakan oleh dependensi lain dan memindahkannya sehingga mereka dapat dibagikan. Ini berlaku untuk contoh lodash kami. Banyak paket digunakan </font></font><code>lodash @4.17.15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sebagai hasilnya, untuk memastikan operabilitasnya, cukup untuk menginstal versi perpustakaan ini hanya sekali. Tentu saja, ini adalah situasi yang kita hadapi sejak awal, hanya dengan membangun ketergantungan. Jika dalam proses mengerjakan proyek </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menambah ketergantungan baru, kadang-kadang disarankan untuk mengingat tim </font></font><code>npm dedup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jika Anda menggunakan manajer paket benang, ada perintah yang mirip seperti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dedupe benang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tetapi, pada kenyataannya, tidak perlu untuk itu, karena optimasi ketergantungan dilakukan secara otomatis ketika perintah dijalankan </font></font><code>yarn install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualisasi Ketergantungan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tertarik pada representasi grafis dari dependensi proyek Anda? </font><font style="vertical-align: inherit;">Jika demikian, Anda dapat membuat presentasi seperti itu menggunakan alat khusus. </font><font style="vertical-align: inherit;">Mari kita pertimbangkan beberapa di antaranya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini adalah hasil visualisasi ketergantungan yang diperoleh menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npm.anvaka.com/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfb/f5d/373/dfbf5d37377bd62f4ea5cf422de62c74.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualisasi ketergantungan menggunakan npm.anvaka.com.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Di sini Anda dapat melihat dependensi paket proyek Gatsby.js. Hasilnya mirip dengan web besar. Proyek Gatsby.js memiliki banyak dependensi sehingga "web" ini hampir "menggantung" browser saya.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sekarang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , jika tertarik, tautan ke diagram ini. Itu bisa disajikan dalam bentuk 3D.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini visualisasi yang dibuat menggunakan</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> npm.broofa.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/285/cd6/c52/285cd6c52a00d9e87a7bc2095df6023f.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebuah fragmen dari visualisasi ketergantungan yang dilakukan menggunakan npm.broofa.com</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ini mirip dengan diagram alur. </font><font style="vertical-align: inherit;">Dia, bagi Gatsby.js, ternyata sangat rumit. </font><font style="vertical-align: inherit;">Anda dapat melihatnya di</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Elemen sirkuit dapat diwarnai berdasarkan perkiraan dari</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> npms.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Anda dapat mengunggah file Anda sendiri ke situs</font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alat</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket Phobia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memungkinkan Anda untuk mengetahui berapa banyak ruang yang dibutuhkan sebelum menginstal paket.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/25c/d26/ae4/25cd26ae4fc708f0c6900c5ad3a5dead.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informasi Paket yang Diterima Menggunakan Paket Phobia</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Di sini Anda dapat mengetahui tentang ukuran paket yang dipublikasikan, dan berapa banyak ruang disk yang diperlukan setelah instalasi.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intinya: dengan kekuatan besar datang tanggung jawab besar</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, saya ingin mengatakan bahwa JavaScript dan NPM adalah alat yang hebat. </font><font style="vertical-align: inherit;">Hal yang baik adalah bahwa pengembang modern memiliki kesempatan untuk menggunakan serangkaian besar dependensi. </font><font style="vertical-align: inherit;">Menjalankan perintah </font></font><code>npm install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menyelamatkan diri dari menulis beberapa baris kode sangat mudah sehingga kadang-kadang kita melupakan konsekuensinya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda telah membaca hingga titik ini, Anda harus memiliki pemahaman yang lebih lengkap tentang fitur-fitur struktur pohon dependensi npm-proyek. </font><font style="vertical-align: inherit;">Jika Anda menambahkan perpustakaan ke proyek yang sangat besar, atau jika Anda hanya menjelajahi dependensi proyek Anda, Anda selalu dapat mengambil keuntungan dari apa yang telah kita bahas di sini dan menganalisis dependensi. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaca yang budiman!</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Apakah Anda ingin menggunakan dependensi sesedikit mungkin dalam proyek npm Anda?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/a_/bs/aa/a_bsaactpbr8fltzymtkhqbw1d4.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id499656/index.html">Simulasi pengontrol suhu PID</a></li>
<li><a href="../id499658/index.html">Seorang pekerja laki-laki, bukannya penguji? Apakah layak untuk mempelajari Selenium pada tahun 2020?</a></li>
<li><a href="../id499662/index.html">Root-of-Trust untuk IoT dan Tren Keamanan IoT lainnya</a></li>
<li><a href="../id499664/index.html">Porting APIs ke TypeScript sebagai Pemecah Masalah</a></li>
<li><a href="../id499666/index.html">PEP 572 (Ekspresi Penugasan dalam python 3.8)</a></li>
<li><a href="../id499670/index.html">Я перехожу на JavaScript</a></li>
<li><a href="../id499674/index.html">Langkah lain ke komputer optik</a></li>
<li><a href="../id499676/index.html">90+ alat yang berguna untuk Kubernet: penyebaran, manajemen, pemantauan, keamanan, dan lainnya</a></li>
<li><a href="../id499680/index.html">Belajar Kubernetes: Dasar 14-16 Mei, Lanjutan 18-20 Mei</a></li>
<li><a href="../id499682/index.html">Apa yang bisa saya dapatkan di hackathon, kecuali hadiah uang tunai?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>