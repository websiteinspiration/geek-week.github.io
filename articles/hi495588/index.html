<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйЁЯП╗тАНтЪЦя╕П ЁЯЪ╕ ЁЯРЕ рдЦрд░реЛрдВрдЪ рд╕реЗ рдПрдХрддрд╛ рдореЗрдВ рд░реЙрдЧреБрд▓рд╛рдЗрдХ рдмрдирд╛рдирд╛: рдХрд╛рд▓рдХреЛрдард░реА рдЬрдирд░реЗрдЯрд░ ЁЯШГ ЁЯОТ ЁЯТЕ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЗрд╕ рдмрд╛рд░ рд╣рдо рдХрд╛рд▓рдХреЛрдард░реА рдЬрдирд░реЗрдЯрд░ рдХреЗ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдбреБрдмрдХреА рд▓рдЧрд╛рдПрдВрдЧреЗред рдореЗрдВ рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ, рд╣рдо рдкрд╣рд▓реЗ рдХрдХреНрд╖ рдмрдирд╛рдпрд╛, рдФрд░ рдЕрдм рд╣рдо рддрд╣рдЦрд╛рдиреЗ рд╕реНрддрд░ рдХреЗ рдмрд╛рдХреА рдЙрддреНрдкрдиреНрди рд╣реЛрдЧрд╛...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдЦрд░реЛрдВрдЪ рд╕реЗ рдПрдХрддрд╛ рдореЗрдВ рд░реЙрдЧреБрд▓рд╛рдЗрдХ рдмрдирд╛рдирд╛: рдХрд╛рд▓рдХреЛрдард░реА рдЬрдирд░реЗрдЯрд░</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495588/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/09d/9af/aac/09d9afaace836ef3bde082e3d63c580a.png" alt="рдЫрд╡рд┐"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдмрд╛рд░ рд╣рдо рдХрд╛рд▓рдХреЛрдард░реА рдЬрдирд░реЗрдЯрд░ рдХреЗ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдбреБрдмрдХреА рд▓рдЧрд╛рдПрдВрдЧреЗред рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдо рдкрд╣рд▓реЗ рдХрдХреНрд╖ рдмрдирд╛рдпрд╛, рдФрд░ рдЕрдм рд╣рдо рддрд╣рдЦрд╛рдиреЗ рд╕реНрддрд░ рдХреЗ рдмрд╛рдХреА рдЙрддреНрдкрдиреНрди рд╣реЛрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо рд╢реБрд░реВ рдХрд░реЗрдВ, рдореИрдВ рдПрдХ рдкрд┐рдЫрд▓реА рдкреЛрд╕реНрдЯ рд╕реЗ рдПрдХ рдЧрд▓рддреА рдХреЛ рдареАрдХ рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╣рд╛рд▓ рдХреЗ рд╣рдлреНрддреЛрдВ рдореЗрдВ рдореИрдВрдиреЗ рдХреБрдЫ рдирдпрд╛ рд╕реАрдЦрд╛ рд╣реИ, рдпрд╣реА рд╡рдЬрд╣ рд╣реИ рдХрд┐ рдореИрдВрдиреЗ рдЬреЛ рдХреБрдЫ рдХрд╛рдо рдХрд┐рдпрд╛ рд╣реИ рд╡рд╣ рдкреБрд░рд╛рдирд╛ рд╣реИ, рдФрд░ рдореИрдВ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдИ рдЧрдИ рд╕реНрдерд┐рддрд┐ рд╡рд░реНрдЧ рдпрд╛рдж рд░рдЦреЗрдВ? рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдПрдХрддрд╛ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд╡рд░реНрдЧ рд╣реИ рдЬреЛ рдмрд┐рд▓реНрдХреБрд▓ рд╕рдорд╛рди рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдереЛрдбрд╝рд╛ рдмреЗрд╣рддрд░ рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд╕рд╛рде - рдпрд╣ рдШреЛрд╖рд┐рдд рдХрд░рдирд╛ рдФрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИред рдЗрд╕ рд╡рд░реНрдЧ рдХреЛ рд╡реЗрдХреНрдЯрд░ 2 рдЖрдИрдВрдЯ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо MapManager.cs рд╕реЗ рд╕реНрдерд┐рддрд┐ рд╡рд░реНрдЧ рдХреЛ рдирд┐рдХрд╛рд▓ рджреЗрдВрдЧреЗ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдерд┐рддрд┐ рдЪрд░ рдХреЛ рд╡реЗрдХреНрдЯрд░ 2 рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рдмрджрд▓ рджреЗрдВрдЧреЗред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/656/b7d/f40/656b7df4053976af99cbd2d359edd494.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд╣реА рдЪреАрдЬрд╝ рдХреЛ рдХрдИ рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рдбрдВрдЧрдСрдирдЧреЗрдВрдЯрд░реЗрдЯрд░.рдХреНрд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдЕрдм рдмрд╛рдХреА рдЕрд▓реНрдЧреЛрд░рд┐рджреНрдо рдкрд░ рдЖрддреЗ рд╣реИрдВред</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдЯреЗрдЬ 7 - рдХрдорд░рд╛ / рд╣реЙрд▓ рдкреАрдврд╝реА</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдкрд┐рдЫрд▓реА рдмрд╛рд░ рдмрдирд╛рдП рдЧрдП рдлрд╝рд░реНрд╕реНрдЯ рдлрд╝рд╛рд░реНрдо () рдореЗрдВ рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рдмрджрд▓рд╛рд╡ рдХреЗ рд╕рд╛рде рд╢реБрд░реБрдЖрдд рдХрд░реЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рдирдХреНрд╢реЗ рдХреЗ рдЕрдиреНрдп рд╕рднреА рддрддреНрд╡реЛрдВ рдХреЛ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдФрд░ рдХреЛрдб рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рд╣рдо рдмрд╕ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд GenerateFeature () рдореЗрдВ рдмрджрд▓ рджреЗрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, FirstRoom рд╕реЗ GenerateFeature рдореЗрдВ рдирд╛рдо рдмрджрд▓реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдореЗрдВ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдкреИрд░рд╛рдореАрдЯрд░ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред </font><font style="vertical-align: inherit;">рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдпрд╣ рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдпрд╣ рдХрд┐рд╕ рдХрд╛рд░реНрдп рдХреЛ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ - рдПрдХ рдХрдорд░рд╛ рдпрд╛ рдЧрд▓рд┐рдпрд╛рд░рд╛ред </font><font style="vertical-align: inherit;">рд╣рдо рдмрд╕ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ </font><em><font style="vertical-align: inherit;">рдЯрд╛рдЗрдк</font></em><font style="vertical-align: inherit;"> рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ </font><em><font style="vertical-align: inherit;">рдЯрд╛рдЗрдк рдХрд┐рдпрд╛</font></em><font style="vertical-align: inherit;"> рдЬрд╛рддрд╛ рд╣реИ</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЕрдЧрд▓рд╛, рдлрд╝рдВрдХреНрд╢рди рдХреЛ рддрддреНрд╡ рдХреЗ рд╢реБрд░реБрдЖрддреА рдмрд┐рдВрджреБ рдХреЛ рдЬрд╛рдирдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ, рдЕрд░реНрдерд╛рдд рдпрд╣ рдХрд┐рд╕ рджреАрд╡рд╛рд░ рд╕реЗ рдЖрддреА рд╣реИ (рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рд╣рдореЗрд╢рд╛ рдкреБрд░рд╛рдиреЗ рддрддреНрд╡ рдХреА рджреАрд╡рд╛рд░ рд╕реЗ рдПрдХ рдирдпрд╛ рддрддреНрд╡ рдмрдирд╛рддреЗ рд╣реИрдВ), рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП, рд╡реЙрд▓ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдЧреБрдЬрд░рдирд╛ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдВрдд рдореЗрдВ, рдмрдирд╛рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкрд╣рд▓реЗ рдХрдорд░реЗ рдореЗрдВ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рдмреВрд▓ рдЪрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдЖрдЗрдЯрдо рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред </font><font style="vertical-align: inherit;">рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдпрд╣ рдЧрд▓рдд рд╣реИ: рдмреВрд▓ рдлрд╝рд░реНрд╕реНрдЯ = рдЧрд▓рдд рд╣реИред </font><font style="vertical-align: inherit;">рддреЛ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рд╢реАрд░реНрд╖рдХ рдЗрд╕рд╕реЗ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e5f/b79/d17/e5fb79d178098b3bcde238ff733f9ca9.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкрд░:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/45e/124/afc/45e124afc4b4f60b12ab18deaa060719.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдареАрдХред </font><font style="vertical-align: inherit;">рдЕрдЧрд▓рд╛ рдХрджрдо рддрддреНрд╡ рдХреА рдЪреМрдбрд╝рд╛рдИ рдФрд░ рдКрдВрдЪрд╛рдИ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЛ рдмрджрд▓рдирд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЬрдм рд╣рдо рдЙрдирдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдХрдорд░реЛрдВ рдХреА рдКрдВрдЪрд╛рдИ рдФрд░ рдЪреМрдбрд╝рд╛рдИ рдХреЗ рдиреНрдпреВрдирддрдо рдФрд░ рдЕрдзрд┐рдХрддрдо рдореВрд▓реНрдпреЛрдВ рдХреЗ рдмреАрдЪ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдореВрд▓реНрдп рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ - рдпрд╣ рдХрдорд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИ, рд▓реЗрдХрд┐рди рдЧрд▓рд┐рдпрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдЕрдм рддрдХ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реИрдВ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2f5/c0d/976/2f5c0d9765a596c2d2188b56b1f7b7ff.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рдЧрд▓рд┐рдпрд╛рд░реЛрдВ рдореЗрдВ рдЕрднрд┐рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЪреМрдбрд╝рд╛рдИ рдпрд╛ рдКрдВрдЪрд╛рдИ рдореЗрдВ 3 рдХрд╛ рдПрдХ рдирд┐рд░рдВрддрд░ рдЖрдХрд╛рд░ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рд╣рдореЗрдВ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рддрддреНрд╡ рдХреНрдпрд╛ рд╣реИ - рдПрдХ рдХрдорд░рд╛ рдпрд╛ рдЧрд▓рд┐рдпрд╛рд░рд╛, рдФрд░ рдлрд┐рд░ рдЙрдкрдпреБрдХреНрдд рдЧрдгрдирд╛ рдХрд░реЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/071/163/df8/071163df82fc248fc92d370672369743.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдПред </font><font style="vertical-align: inherit;">рд╣рдо рдЬрд╛рдБрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдЖрдЗрдЯрдо рдПрдХ рдХрдорд░рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рд╣рд╛рдБ, рддреЛ рд╣рдо рдкрд╣рд▓реЗ рдХреА рддрд░рд╣ рд╣реА рдХрд░рддреЗ рд╣реИрдВ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - рд╣рдореЗрдВ рдиреНрдпреВрдирддрдо рдФрд░ рдЕрдзрд┐рдХрддрдо рдКрдВрдЪрд╛рдИ рдФрд░ рдЪреМрдбрд╝рд╛рдИ рдХреЗ рдмреАрдЪ рдХреЗ рдЕрдВрддрд░рд╛рд▓ рдореЗрдВ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╕рдВрдЦреНрдпрд╛ рдорд┐рд▓рддреА рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЕрдм рдореЗрдВ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреА рдХрд┐рд╕реА рдФрд░</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣реА рдЖрдк рдХреБрдЫ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдореЗрдВ рдЧрд▓рд┐рдпрд╛рд░реЗ рдХреЗ рдЙрдиреНрдореБрдЦреАрдХрд░рдг рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдПрдХ рджреАрд╡рд╛рд░ рдмрдирд╛рддреЗ рд╕рдордп, рд╣рдо рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдХрд┐рд╕ рджрд┐рд╢рд╛ рдореЗрдВ рдирд┐рд░реНрджреЗрд╢рд┐рдд рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЧрд▓рд┐рдпрд╛рд░реЗ рдХреЗ рдЙрдиреНрдореБрдЦреАрдХрд░рдг рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/91a/a84/328/91aa84328140d1414b8512843e1cd397.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рд╣рдордиреЗ рдЕрднреА рддрдХ рд╡реИрд░рд┐рдПрдмрд▓ рдорд╛рдЗрдиреЙрд░рд┐рдбреЛрд░ рд▓реИрдВрде рдШреЛрд╖рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЖрдкрдХреЛ рдЪрд░ рдШреЛрд╖рдгрд╛рдУрдВ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдиреЗ рдФрд░ рдЗрд╕реЗ рдШреЛрд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдореИрдХреНрд╕рдХреЛрд░рд┐рдбреНрд░рд╛рдиреЗрд▓рд┐рдЯреА рдХреЗ рдареАрдХ рдКрдкрд░ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f13/857/6e1/f138576e1dc1cb4a9949fd51e8c5fe47.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдорд╛рд░реЗ рд╕рд╢рд░реНрдд рд╕реНрд╡рд┐рдЪ рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВред </font><font style="vertical-align: inherit;">рд╣рдо рдпрд╣рд╛рдВ рдХреНрдпрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ: рд╣рдореЗрдВ </font><font style="vertical-align: inherit;">рджреАрд╡рд╛рд░ </font><font style="vertical-align: inherit;">рдХреА </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджрд┐рд╢рд╛ рдХрд╛</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореВрд▓реНрдп рдорд┐рд▓рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">, рдЕрд░реНрдерд╛рдд рдЬрд╣рд╛рдВ рджреАрд╡рд╛рд░ рджрд┐рдЦ рд░рд╣реА рд╣реИ, рдЬрд╣рд╛рдВ рд╕реЗ рдЧрд▓рд┐рдпрд╛рд░рд╛ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рджрд┐рд╢рд╛ рдХреЗ рдХреЗрд╡рд▓ рдЪрд╛рд░ рд╕рдВрднрд╛рд╡рд┐рдд рдорд╛рди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ: рджрдХреНрд╖рд┐рдг, рдЙрддреНрддрд░, рдкрд╢реНрдЪрд┐рдо рдФрд░ рдкреВрд░реНрд╡ред </font><font style="vertical-align: inherit;">рджрдХреНрд╖рд┐рдг рдФрд░ рдЙрддреНрддрд░ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЧрд▓рд┐рдпрд╛рд░реЗ рдХреА рдЪреМрдбрд╝рд╛рдИ 3 (рджреЛ рджреАрд╡рд╛рд░реЗрдВ рдФрд░ рдмреАрдЪ рдореЗрдВ рдПрдХ рдордВрдЬрд┐рд▓) рдФрд░ рдПрдХ рдЪрд░ рдКрдВрдЪрд╛рдИ (рд▓рдВрдмрд╛рдИ) рд╣реЛрдЧреАред </font><font style="vertical-align: inherit;">рдкрд╢реНрдЪрд┐рдо рдФрд░ рдкреВрд░реНрд╡ рдХреЗ рд▓рд┐рдП, рд╕рдм рдХреБрдЫ рдЕрдиреНрдп рддрд░реАрдХреЗ рд╕реЗ рд╣реЛрдЧрд╛: рдКрдВрдЪрд╛рдИ рд▓рдЧрд╛рддрд╛рд░ 3 рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдЧреА, рдФрд░ рдЪреМрдбрд╝рд╛рдИ рдореЗрдВ рдПрдХ рдЪрд░ рд▓рдВрдмрд╛рдИ рд╣реЛрдЧреАред </font><font style="vertical-align: inherit;">рддреЛ рдпреЗ рдХрд░рддреЗ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e2/175/8d6/0e21758d6d2e17406ce516c3fef6ccf5.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╛рд╣ред </font><font style="vertical-align: inherit;">рдФрд░ рд╡рд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдБ рд╣рдо рдирдП рдЖрдЗрдЯрдо рдХреЛ рдЖрдХрд╛рд░ рджреЗрдиреЗ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рд╣реБрдПред </font><font style="vertical-align: inherit;">рдЕрдм рдЖрдкрдХреЛ рдпрд╣ рддрдп рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдХрд╣рд╛рдВ рд░рдЦрд╛ рдЬрд╛рдПред </font><font style="vertical-align: inherit;">рд╣рдордиреЗ рдкрд╣рд▓реЗ рдХрдорд░реЗ рдХреЛ рдирдХреНрд╢реЗ рдХреЗ рдХреЗрдВрджреНрд░ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╕реНрдерд╛рди рдкрд░ рд░рдЦрд╛ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6fb/d53/010/6fbd5301066f6b0ba77ab90142370a5d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рдЕрдиреНрдп рд╕рднреА рддрддреНрд╡реЛрдВ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред рдЙрдиреНрд╣реЗрдВ рдЙрд╕ рджреАрд╡рд╛рд░ рдкрд░ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдмрд┐рдВрджреБ рдХреЗ рдмрдЧрд▓ рдореЗрдВ рд╢реБрд░реВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрд╣рд╛рдВ рд╕реЗ рддрддреНрд╡ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИред рддреЛ рдЪрд▓рд┐рдП рдХреЛрдб рдХреЛ рдмрджрд▓рддреЗ рд╣реИрдВред рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рддрддреНрд╡ рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рд╣реИред рдпрджрд┐ рдпрд╣ рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рд╣реИ, рддреЛ рд╣рдо рд╢реБрд░реБрдЖрддреА рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдЙрд╕реА рддрд░рд╣ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдХрд┐ - рдирдХреНрд╢реЗ рдХреА рдЪреМрдбрд╝рд╛рдИ рдФрд░ рдКрдВрдЪрд╛рдИ рдХрд╛ рдЖрдзрд╛ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ff3/d29/44d/ff3d2944da973a48200a6c9c3066d20d.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореЗрдВ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреБрдЫ рдФрд░,</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдЧрд░ рддрддреНрд╡ рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рд╣рдо рджреАрд╡рд╛рд░ рдЬрд╣рд╛рдБ рд╕реЗ рддрддреНрд╡ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ рдкрд░ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдмрд┐рдВрджреБ рдорд┐рд▓рддрд╛ рд╣реИред рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рджреАрд╡рд╛рд░ рдХрд╛ рдЖрдХрд╛рд░ 3 рд╣реИ (рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реЛрдЧрд╛ рдХрд┐ рдпрд╣ рдЧрд▓рд┐рдпрд╛рд░реЗ рдХрд╛ рдЕрдВрддрд┐рдо рдмрд┐рдВрджреБ рд╣реИ), рдФрд░ рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рдордзреНрдп рдмрд┐рдВрджреБ рд╣рдореЗрд╢рд╛ рдЪреБрдирд╛ рдЬрд╛рдПрдЧрд╛, рдЕрд░реНрдерд╛рдд, рджреАрд╡рд╛рд░ рд╕рд░рдгреА рдХрд╛ рд╕реВрдЪрдХрд╛рдВрдХ 1 (3 рддрддреНрд╡реЛрдВ рдХреЗ рд╕рд╛рде, рд╕рд░рдгреА) рд╕реВрдЪрдХрд╛рдВрдХ 0, 1, 2)ред рд▓реЗрдХрд┐рди рдпрджрд┐ рдЖрдХрд╛рд░ 3 рдХреЗ рдмрд░рд╛рдмрд░ рдирд╣реАрдВ рд╣реИ (рджреАрд╡рд╛рд░ рдЧрд▓рд┐рдпрд╛рд░реЗ рдХрд╛ рдЕрдВрддрд┐рдо рдмрд┐рдВрджреБ рдирд╣реАрдВ рд╣реИ), рддреЛ рд╣рдо рдмрд┐рдВрджреБ 1 рдФрд░ рджреАрд╡рд╛рд░ рдХреЗ рдорд╛рдЗрдирд╕ 2 рдХреЗ рдмреАрдЪ рдХреЗ рдЕрдВрддрд░рд╛рд▓ рдореЗрдВ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдмрд┐рдВрджреБ рд▓реЗрддреЗ рд╣реИрдВред рдпрд╣ рдХреЛрдиреЗ рдореЗрдВ рдмрдирд╛рдП рдЧрдП рдорд╛рд░реНрдЧ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдпрд╣реА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 6 рдХреА рд▓рдВрдмрд╛рдИ рд╡рд╛рд▓реА рджреАрд╡рд╛рд░ рдкрд░, рд╣рдо рдЕрдиреБрдХреНрд░рдорд┐рдд 0 рдФрд░ 5 (рдкрд╣рд▓реЗ рдФрд░ рдЕрдВрддрд┐рдо) рдХреЛ рдмрд╛рд╣рд░ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЕрдВрдХ 1, 2, 3 рдФрд░ 4 рдХреЗ рдмреАрдЪ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдмрд┐рдВрджреБ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee2/4e1/703/ee24e1703c28b4cfa96e98d84a76c790.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреАрд╡рд╛рд░ рдкрд░ рдЙрд╕ рдмрд┐рдВрджреБ рдХреА рд╕реНрдерд┐рддрд┐ рд╣реИ рдЬрд┐рд╕ рдкрд░ рдПрдХ рдирдпрд╛ рддрддреНрд╡ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рд▓реЗрдХрд┐рди рд╣рдо рдХреЗрд╡рд▓ рд╡рд╣рд╛рдВ рд╕реЗ рдПрдХ рддрддреНрд╡ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛ рд╢реБрд░реВ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд░рдЦреА рдЧрдИ рджреАрд╡рд╛рд░реЛрдВ рджреНрд╡рд╛рд░рд╛ рдЕрд╡рд░реБрджреНрдз рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдпрд╣ рднреА рдзреНрдпрд╛рди рд░рдЦрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рддрддреНрд╡ рдЕрдкрдиреЗ рдирд┐рдЪрд▓реЗ рдмрд╛рдПрдВ рдХреЛрдиреЗ рд╕реЗ рдЙрддреНрдкрдиреНрди рд╣реЛрдирд╛ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рд╡реЗрддрди рд╡реГрджреНрдзрд┐ рджрд╛рд╣рд┐рдиреА рдФрд░ рдКрдкрд░ рдХреА рдЬрд╛рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдерд┐рддрд┐ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕ рджрд┐рд╢рд╛ рдореЗрдВ рджреАрд╡рд╛рд░ рджрд┐рдЦ рд░рд╣реА рд╣реИред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкрд╣рд▓реА рдХреЙрд▓рдо x рдФрд░ рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ y рджреАрд╡рд╛рд░реЗрдВ рд╣реЛрдВрдЧреА, рдФрд░ рдЕрдЧрд░ рд╣рдо рджреАрд╡рд╛рд░ рдкрд░ рдПрдХ рдмрд┐рдВрджреБ рдХреЗ рдареАрдХ рдмрдЧрд▓ рдореЗрдВ рдПрдХ рдирдпрд╛ рддрддреНрд╡ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдХрдорд░реЗ рдХреЗ рдПрдХ рдХреЛрдиреЗ рдореЗрдВ рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдЧрд▓рд┐рдпрд╛рд░реЗ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рди рдХрд┐ рджреАрд╡рд╛рд░ рдкрд░ рдЙрдкрдпреБрдХреНрдд рд╕реНрдерд╛рди рдкрд░ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рджреАрд╡рд╛рд░ рдХреЛ рдЙрддреНрддрд░ рдХреА рдУрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рддрддреНрд╡ y рдЕрдХреНрд╖ рдХреЗ рд╕рд╛рде рдЙрддреНрддрд░ рдХреА рдУрд░ рдПрдХ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди x рдЕрдХреНрд╖ рдХреЗ рд╕рд╛рде рдкрд╢реНрдЪрд┐рдо рдХреА рдУрд░ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ, рдХрдХреНрд╖ -2 рдХреА рдЪреМрдбрд╝рд╛рдИ рд╕реЗ 1 рддрдХ рдХреА рд╕реАрдорд╛ рдореЗрдВ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рджрдХреНрд╖рд┐рдг рджрд┐рд╢рд╛ рдореЗрдВ, x рдЕрдХреНрд╖ рд╕рдорд╛рди рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди y рдЕрдХреНрд╖ рдкрд░ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдерд┐рддрд┐ рджреАрд╡рд╛рд░ рдХреЗ рдмрд┐рдВрджреБ рд╕реЗ рдХрдорд░реЗ рдХреА рдКрдВрдЪрд╛рдИ рдкрд░ рд╕реНрдерд┐рдд рд╣реИред </font><font style="vertical-align: inherit;">рдкрд╢реНрдЪрд┐рдореА рдФрд░ рдкреВрд░реНрд╡реА рджреАрд╡рд╛рд░реЗрдВ рдПрдХ рд╣реА рддрд░реНрдХ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреА рд╣реИрдВ, рдХреЗрд╡рд▓ рдЙрд▓реНрдЯреЗ рдХреБрд▓реНрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рдеред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдм рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рд╡реЗрдХреНрдЯрд░ 2 рдЖрдИ рд╡реЗрд░рд┐рдПрдмрд▓ рдореЗрдВ рджреАрд╡рд╛рд░ рдмрд┐рдВрджреБ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдмрдЪрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╣рдо рдЗрд╕реЗ рдмрд╛рдж рдореЗрдВ рд╣реЗрд░рдлреЗрд░ рдХрд░ рд╕рдХреЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/374/129/41a/37412941a3a58f32fd2dd38c1fc2c252.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдорд╣рд╛рдиред </font><font style="vertical-align: inherit;">рдЪрд▓реЛ рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/140/2c7/ec0/1402c7ec0596d77f9a9b70b5eac076a9.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ, рд╣рдордиреЗ рдЖрдХрд╛рд░ рдФрд░ рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рддрддреНрд╡ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛, рдФрд░ рдЕрдЧрд▓рд╛ рдХрджрдо рддрддреНрд╡ рдХреЛ рдорд╛рдирдЪрд┐рддреНрд░ рдкрд░ рд░рдЦрдирд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЗрд╕ рддрддреНрд╡ рдХреЗ рд▓рд┐рдП рдирдХреНрд╢реЗ рдкрд░ рдЬрдЧрд╣ рд╣реИред </font><font style="vertical-align: inherit;">рдЕрднреА рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕рд┐рд░реНрдл CheckIfHasSpace () рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕реЗ рд▓рд╛рд▓ рд░рдВрдЧ рдореЗрдВ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рд╣рдордиреЗ рдЕрднреА рддрдХ рдЗрд╕реЗ рд▓рд╛рдЧреВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЬрдирд░реЗрдЯрдлрд╛рдЗрдЯ () рдлрдВрдХреНрд╢рди рдореЗрдВ рдпрд╣рд╛рдВ рдХреНрдпрд╛ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕реЗ рдЦрддреНрдо рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рд╣рдо рдпрд╣ рдЕрдзрд┐рдХрд╛рд░ рдХрд░реЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рд▓рд╛рд▓ рд░реЗрдЦрд╛рдВрдХрди рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░реЗрдВ рдФрд░ рдЬрд╛рд░реА рд░рдЦреЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b20/805/942/b2080594237c23cae023cabb20b2d20e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдЧрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рджреАрд╡рд╛рд░реЗрдВ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЬрдм рддрдХ рд╣рдо рдЗрд╕реЗ рдирд╣реАрдВ рдЫреВрддреЗ рд╣реИрдВ, рддрдм рддрдХ рд▓реВрдк рдХреЗ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд┐рдП</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреВрд╕рд░реЗ рдЯреБрдХрдбрд╝реЗ рдореЗрдВ рдЕрдкрд╡рд╛рдж рд╣реЛрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/227/d7f/e2b/227d7fe2bf3c2eef41f423e36b4afc79.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкреЛрд╕реНрдЯ рдХреЛ рд▓рд┐рдЦрддреЗ рд╕рдордп, рдореИрдВрдиреЗ рджреЗрдЦрд╛ рдХрд┐ рдпреЗ рдЕрдЧрд░-рдФрд░ рдирд┐рд░реНрдорд╛рдг рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЧрд▓рдд рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрдирдореЗрдВ рдХреБрдЫ рджреАрд╡рд╛рд░реЗрдВ 1. рдХреА рд▓рдВрдмрд╛рдИ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреАред рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЬрдм рд╕реНрдерд┐рддрд┐ рдХреЛ рдЙрддреНрддрд░реА рджреАрд╡рд╛рд░ рд╕реЗ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдХрд╣рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЕрдЧрд░ рд╡рд╣ рдкреВрд░реНрд╡ рдХреА рджреАрд╡рд╛рд░ рдХреЗ рд╕рд╛рде рдХреЛрдиреЗ рдореЗрдВ рдереА, рддреЛ рдЙрд╕реЗ рдкреВрд░реНрд╡ рдХреА рджреАрд╡рд╛рд░ рд╕реЗ рдирд╣реАрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛, рдЬреИрд╕рд╛ рдХрд┐ рдЙрд╕реЗ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред рдпрд╣ рдкреАрдврд╝реА рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдореЗрдВ рдХрд╖реНрдЯрдкреНрд░рдж рдХреАрдбрд╝реЗ рдХрд╛ рдХрд╛рд░рдг рдмрдирд╛ред рдЪрд▓реЛ рдЙрдиреНрд╣реЗрдВ рдЦрддреНрдо рдХрд░рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдиреНрд╣реЗрдВ рдареАрдХ рдХрд░рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред рдпрд╣ рд╕рдм рдХреБрдЫ рдХреЛ рджреВрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдХреБрдЫ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рддреЛ рд╕реНрдерд┐рддрд┐ рд╕рднреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЧреБрдЬрд░рддрд╛ рд╣реИ рдХрд┐ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдЧрд░</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд┐рд░реНрдорд╛рдгреЛрдВ </font><font style="vertical-align: inherit;">, рдФрд░ рдкрд╣рд▓реА рдмрд╛рд░ рдореЗрдВ рдмрдВрдж рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рддреЛ рдпрд╣ рд╡рд╛рдкрд╕ рдЖ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдЪ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред рдлрд┐рд░ рдЕрдВрддрд┐рдо </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреВрд╕рд░рд╛</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (рд╡рд╣ рдЬреЛ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдиреНрдп</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд╣реАрдВ </font><em><font style="vertical-align: inherit;">рд╣реИ</font></em><font style="vertical-align: inherit;"> ) </font><em><font style="vertical-align: inherit;">рдпрджрд┐</font></em><font style="vertical-align: inherit;"> рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд╛рдП</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЬреЛ рдЬрд╛рдБрдЪрддрд╛ рд╣реИ рдХрд┐ рд╕реНрдерд┐рддрд┐ рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╡реЙрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдпрджрд┐ рдпрд╣ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЗрд╕реЗ рдлрд╝реНрд▓реЛрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/65c/784/834/65c784834461a2d8b05d1d39dd9ee44c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрдорд╛рд▓ рд╣реИ, рд╣рдо рд▓рдЧрднрдЧ рдпрд╣рд╛рдБ рдХрд░ рд░рд╣реЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдирдпрд╛ рддрддреНрд╡ рд╣реИ, рдЬреЛ рд╕рд╣реА рдЬрдЧрд╣ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╣рдорд╛рд░реЗ рдкрд╣рд▓реЗ рдХрдорд░реЗ рдХреЗ рд╕рдорд╛рди рд╣реИ: рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рджреАрд╡рд╛рд░реЛрдВ рд╕реЗ рдШрд┐рд░рд╛ рд╣реБрдЖ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдЗрд╕ рдирдИ рдЬрдЧрд╣ рдкрд░ рдирд╣реАрдВ рдкрд╣реБрдВрдЪ рдкрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрд╣реА рд╣реИ, рд╣рдореЗрдВ рджреАрд╡рд╛рд░ рдкрд░ рдПрдХ рдмрд┐рдВрджреБ рдХреЛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ (рдЬреЛ, рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рдХреЛ рд╡реЗрдХреНрдЯрд░ рд╡реЗрдХреНрдЯрд░ II рдХреЗ рдПрдХ рдЪрд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) рдФрд░ рддрд▓ рдореЗрдВ рдПрдХ рдирдП рддрддреНрд╡ рдХреА рджреАрд╡рд╛рд░ рдкрд░ рд╕рдВрдмрдВрдзрд┐рдд рдмрд┐рдВрджреБред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЬрдм рддрддреНрд╡ рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рдирд╣реАрдВ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/67f/5ac/35067f5ac7db26fd304578b8dd53326c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЛрдб рдХрд╛ рдпрд╣ рдЯреБрдХрдбрд╝рд╛ рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдирдпрд╛ рдЖрдЗрдЯрдо рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдпрд╣ рджреАрд╡рд╛рд░ рдХреА рдЕрдВрддрд┐рдо рд╕реНрдерд┐рддрд┐ рдХреЛ рдордВрдЬрд┐рд▓ рддрдХ рдкрд╣реБрдВрдЪрд╛рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рджреАрд╡рд╛рд░ рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рдпрд╣ рдЬрд╛рдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рджреАрд╡рд╛рд░ рдХрд┐рд╕ рдирдП рддрддреНрд╡ рдХреЗ рдлрд░реНрд╢ рдореЗрдВ рдмрджрд▓рдиреА рдЪрд╛рд╣рд┐рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо GenerateFeature () рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЕрдВрддрд┐рдо рднрд╛рдЧ рддрдХ рдкрд╣реБрдВрдЪ рдЧрдП рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд▓рд╛рдЗрдиреЗрдВ рд╣реИрдВ рдЬреЛ рдЙрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рдЬреЛ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4fe/165/626/4fe165626aca42951f86568a4d6649c7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣рд╛рдВ рд╣рдореЗрдВ рдХреБрдЫ рдмрджрд▓рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред </font><font style="vertical-align: inherit;">рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рддрддреНрд╡ рдкреНрд░рдХрд╛рд░ рд╣рдореЗрд╢рд╛ рдХрдорд░реЗ рдХреЗ рдмрд░рд╛рдмрд░ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдЖрд╡рд╢реНрдпрдХ рдЪрд░ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддреН рдкреНрд░рдХрд╛рд░ рд╕реНрдЯреНрд░рд┐рдВрдЧред </font><font style="vertical-align: inherit;">рддреЛ рдЪрд▓реЛ рдмрд╕ "рдХрдХреНрд╖" рдХреЛ рдпрд╣рд╛рдВ рдЯрд╛рдЗрдк рдХреЗ рд╕рд╛рде рдмрджрд▓реЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b57/d12/f17/b57d12f17802ec40e0c609d26803f661.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдЪреНрдЫрд╛ред </font><font style="vertical-align: inherit;">рдЕрдм, рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдЧреЗрдо рдХреЗ рд╕рднреА рддрддреНрд╡реЛрдВ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдпрд╣рд╛рдВ рдирдпрд╛ рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЕрд░реНрдерд╛рддреН, рдПрдХ рдРрд╕рд╛ рдЙрджрд╛рд╣рд░рдг рдЬреЛ рдмрдирд╛рдП рдЧрдП рдЖрдЗрдЯрдореЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдмрдирд╛рдИ рдЧрдИ рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реВрдЪреА рдХреЛ рдЧрд┐рдирд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдо рдЙрд╕ рдЬрдЧрд╣ рддрдХ рдЬрд╛рддреЗ рд╣реИрдВ рдЬрд╣рд╛рдВ рд╣рдо рд╕рднреА рдЪрд░ рдШреЛрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдирд╛рдо рдХрд╛рдЙрдВрдЯрдлрд┐рдЯреНрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рдЗрдВрдЯреНрд░реА рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реИрдВ, рд╕рд╛рде рд╣реА рдСрд▓рдЖрдЙрдЯреНрд╕ рдирд╛рдо рдХреЗ рд╕рд╛рде рддрддреНрд╡реЛрдВ рдХреА рд╕реВрдЪреА рднреА рдмрдирд╛рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╕рднреА рддрддреНрд╡реЛрдВ рдХреА рд╕реВрдЪреА рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП, рдФрд░ рдЗрдВрдЯ рдХрд╛рдЙрдВрдЯрд░ рдирд┐рдЬреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bcb/ebf/8dd/bcbebf8ddbc768864ba70331317cc72c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм GenerateFeature () рдлрд╝рдВрдХреНрд╢рди рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ рдФрд░ рдЕрдВрдд рдореЗрдВ рдХреБрдЫ рдкрдВрдХреНрддрд┐рдпрд╛рдБ рдЬреЛрдбрд╝реЗрдВ: countFeatures рдЪрд░ рдХреЛ рдмрдврд╝рд╛рддреЗ рд╣реБрдП рдФрд░ allFeatures рд╕реВрдЪреА рдореЗрдВ рдПрдХ рдирдпрд╛ рддрддреНрд╡ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5e6/8a8/496/5e68a8496d7047c87650a609acb912cf.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ, рд╣рдорд╛рд░рд╛ GenerateFeature () рд▓рдЧрднрдЧ рдкреВрд░рд╛ рд╣реЛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдмрд╛рдж рдореЗрдВ рд╣рдореЗрдВ рдЦрд╛рд▓реА CheckIfHasSpace рдлрд╝рдВрдХреНрд╢рди рдХреЛ рднрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рд╡рд╛рдкрд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ рд╣рдореЗрдВ рдЗрд╕реЗ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдм рд╣рдо рдХреНрдпрд╛ рдХрд░реЗрдВрдЧреЗ</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрд░рдг 8 - рдЕрдЧрд░ рдХреЛрдИ рдЬрдЧрд╣ рд╣реИ рддреЛ рдЬрд╛рдБрдЪ рдХрд░реЗрдВ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм GenerateFeature () рдлрд╝рдВрдХреНрд╢рди рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдареАрдХ рдмрд╛рдж рдПрдХ рдирдпрд╛ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рддреЗ рд╣реИрдВред рдЙрд╕реЗ рджреЛ рддрд░реНрдХ рдЪрд╛рд╣рд┐рдП: рд╡рд╣ рд╕реНрдерд┐рддрд┐ рдЬрд┐рд╕ рдкрд░ рддрддреНрд╡ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рд╡рд╣ рд╕реНрдерд┐рддрд┐ рдЬрд┐рд╕ рдкрд░ рд╡рд╣ рд╕рдорд╛рдкреНрдд рд╣реЛрддреА рд╣реИред рдЖрдк рдЙрдирдХреЗ рд░реВрдк рдореЗрдВ рджреЛ рд╡реЗрдХреНрдЯрд░ 2Int рдЪрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рд╕рдорд╛рд░реЛрд╣ рдЗрддрдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдПрдХ bool рдореВрд▓реНрдп рд╡рд╛рдкрд╕ рдЪрд╛рд╣рд┐рдП </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдЧрд░</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдВрддрд░рд┐рдХреНрд╖ рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/998/f03/cad/998f03cad9a6bd8a05bd7d8b9658bad6.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕реЗ рд▓рд╛рд▓ рд░рдВрдЧ рдореЗрдВ рд░реЗрдЦрд╛рдВрдХрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЕрднреА рддрдХ рдпрд╣ рдХреБрдЫ рднреА рд╡рд╛рдкрд╕ рдирд╣реАрдВ рдЖрдпрд╛ рд╣реИред рдЬрд▓реНрдж рд╣реА рд╣рдо рдЗрд╕реЗ рдареАрдХ рдХрд░ рджреЗрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдЕрдм рд╣рдо рдЗрд╕ рдкрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрдВрдЧреЗред рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ, рд╣рдо рддрддреНрд╡ рдХреА рд╢реБрд░реБрдЖрдд рдФрд░ рдЕрдВрдд рдХреЗ рдмреАрдЪ рд╕рднреА рдкрджреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реВрдк рдХрд░реЗрдВрдЧреЗ, рдФрд░ рдпрд╣ рдЬрд╛рдВрдЪреЗрдВрдЧреЗ рдХрд┐ рдХреНрдпрд╛ MapManager.map рдореЗрдВ рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рд╢реВрдиреНрдп рд╣реИ рдпрд╛ рдХреБрдЫ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣реИред рдЕрдЧрд░ рд╡рд╣рд╛рдБ рдХреБрдЫ рд╣реИ, рддреЛ рд╣рдо рдлрд╝рдВрдХреНрд╢рди рд░реЛрдХрддреЗ рд╣реИрдВ рдФрд░ рдЭреВрдареЗ рд╡рд╛рдкрд╕ рдЖрддреЗ рд╣реИрдВред рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдЬрд╛рд░реА рд░рдЦреЗрдВред рдпрджрд┐ рдлрд╝рдВрдХреНрд╢рди рднрд░реЗ рд╣реБрдП рд╕реНрдерд╛рдиреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд┐рдП рдмрд┐рдирд╛ рд▓реВрдк рдХреЗ рдЕрдВрдд рддрдХ рдкрд╣реБрдВрдЪрддрд╛ рд╣реИ, рддреЛ рд╕рд╣реА рд▓реМрдЯреЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЕрд╢рдХреНрдд рдХреЗ рд▓рд┐рдП рд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрдВрдХреНрддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╕реНрдерд┐рддрд┐ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЗ рднреАрддрд░ рд╣реИред рдХреНрдпреЛрдВрдХрд┐ рдЕрдиреНрдпрдерд╛, рд╣рдо рдПрдХ рд╕рд░рдгреА рд╕реВрдЪрдХрд╛рдВрдХ рддреНрд░реБрдЯрд┐ рдФрд░ рдПрдХ рдЦреЗрд▓ рджреБрд░реНрдШрдЯрдирд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/473/582/a5b/473582a5b560d6738de08b2f6190cf6b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдареАрдХред </font><font style="vertical-align: inherit;">рдЕрдм рдЙрд╕ рдЬрдЧрд╣ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ рдЬрд╣рд╛рдВ рд╣рдо GenerateFeature () рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЕрдВрджрд░ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдореЗрдВ рдЗрд╕ рдХреЙрд▓ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рддрд░реНрдХреЛрдВ рдХреЛ рдкрд╛рд░рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣рд╛рдБ рд╣рдо рдПрдХ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рддреЛ рдмрдпрд╛рди</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣реИ рддреЛ рддрддреНрд╡ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╕реНрдерд╛рди рдХреА рдЬрд╛рдБрдЪ рдХрд░рдиреЗ рдХреЗред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдкрд░рд┐рдгрд╛рдо рдЧрд▓рдд рд╣реИ, рддреЛ рд╣рдо MapManager.map рдореЗрдВ рдПрдХ рдирдпрд╛ рддрддреНрд╡ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд┐рдП рдмрд┐рдирд╛ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/068/661/e53/068661e533ef21536a51f17ae3de570b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рддрд░реНрдХреЛрдВ рдХреЛ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддреН, рджреЛ рд╡реЗрдХреНрдЯрд░ 2Int рдЪрд░ред </font><font style="vertical-align: inherit;">рдкрд╣рд▓реЗ рдХреЗ рд╕рд╛рде, рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИ, рдпрд╣ рддрддреНрд╡ рдХреЗ рдкреНрд░рд╛рд░рдВрдн рдмрд┐рдВрджреБ рдХреЗ x рдФрд░ y рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рд╕рд╛рде рд╕реНрдерд┐рддрд┐ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c1/869/26d/0c186926d741d2423c791500adbed2cd.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреВрд╕рд░рд╛ рдХрдард┐рди рд╣реИ, рд▓реЗрдХрд┐рди рдЬреНрдпрд╛рджрд╛ рдирд╣реАрдВред </font><font style="vertical-align: inherit;">рдпрд╣ рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП 1 рд╕реЗ рдШрдЯрд╛рдХрд░, x рдХреЗ рд▓рд┐рдП y рдФрд░ рдЪреМрдбрд╝рд╛рдИ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдмрд┐рдВрджреБ рдкреНрд▓рд╕ рдКрдВрдЪрд╛рдИ рд╣реИ (рдХреНрдпреЛрдВрдХрд┐ рд╢реБрд░реБрдЖрдд рдХреЛ рдкрд╣рд▓реЗ рд╣реА рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИ)ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a18/f85/4a9/a18f854a9e0a0bbe5883012bf2e313ff.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдЕрдЧрд▓реЗ рдЪрд░рдг рдкрд░ рдЪрд▓рддреЗ рд╣реИрдВ - GenerateFeature () рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдмрдирд╛рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрд░рдг 9 - рдЙрддреНрдкрдиреНрди рддрддреНрд╡реЛрдВ рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдЦ рдХреЗ рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд GenerateDungeon () рдлрд╝рдВрдХреНрд╢рди рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВред </font><font style="vertical-align: inherit;">рдЕрдм рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e9/57c/5e3/3e957c5e316f5329e935353e961df47b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FirstRoom () рдХреЛ рдХреЙрд▓ рдХреЛ рд▓рд╛рд▓ рд░рдВрдЧ рдореЗрдВ рд░реЗрдЦрд╛рдВрдХрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╣рдордиреЗ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдирд╛рдо рдмрджрд▓ рджрд┐рдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рддреЛ рдЪрд▓реЛ рдмрд╕ рдкрд╣рд▓реА рдХрдорд░реЗ рдХреА рдкреАрдврд╝реА рдХреЛ рдмреБрд▓рд╛рдУред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d6/926/908/8d692690826997750f3bc860ae9216f0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рдЖрд╡рд╢реНрдпрдХ рддрд░реНрдХ рдкрд╛рд░рд┐рдд рдХрд┐рдП: "рдХрдорд░рд╛" рдкреНрд░рдХрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ, рдХреНрдпреЛрдВрдХрд┐ рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рд╣рдореЗрд╢рд╛ рдХрдХреНрд╖, рдирдИ рджреАрд╡рд╛рд░ () рд╣реЛрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕реЗ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЗрд╕рд▓рд┐рдП рд╣рдо рдмрд╕ рд╢реВрдиреНрдп рд╕реЗ рдЧреБрдЬрд░рддреЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рд╕рд╛рдорд╛рдиреНрдп рд╣реИред рдирдИ рджреАрд╡рд╛рд░ () рдХреЗ рдмрдЬрд╛рдп, рдЖрдк </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрд╢рдХреНрдд</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">, рдпрд╣ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдХрд╛ рдорд╛рдорд▓рд╛ рд╣реИред рдЕрдВрддрд┐рдо рддрд░реНрдХ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдирдпрд╛ рддрддреНрд╡ рдкрд╣рд▓рд╛ рдХрдорд░рд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╣рдо </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╣реА рд╣реИрдВ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдо рдореБрдЦреНрдп рдмрд┐рдВрджреБ рдкрд░ рдЖрддреЗ рд╣реИрдВред рд╣рдо рдПрдХ рд▓реВрдк рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ 500 рдмрд╛рд░ рдЪрд▓реЗрдЧрд╛ - рд╣рд╛рдБ, рд╣рдо 500 рдмрд╛рд░ рддрддреНрд╡реЛрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВрдЧреЗред рд▓реЗрдХрд┐рди рдпрджрд┐ рдмрдирд╛рдП рдЧрдП рддрддреНрд╡реЛрдВ (рдХрд╛рдЙрдВрдЯ рдлреАрдЪрд░реНрд╕ рд╡реЗрд░рд┐рдПрдмрд▓) рдХреА рд╕рдВрдЦреНрдпрд╛ рдЕрдзрд┐рдХрддрдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рддрддреНрд╡реЛрдВ (рдореИрдХреНрд╕рдлреНрд░реАрдЪрд░ рд╡реЗрд░рд┐рдПрдмрд▓) рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ, рддреЛ рд╣рдо рдЗрд╕ рдЪрдХреНрд░ рдХреЛ рдмрд╛рдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e6/410/ded/9e6410ded47210776fcda40ae2492229.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рд▓реВрдк рдореЗрдВ рдкрд╣рд▓рд╛ рдХрджрдо рдЙрд╕ рддрддреНрд╡ рдХреЛ рдШреЛрд╖рд┐рдд рдХрд░рдирд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдирдпрд╛ рддрддреНрд╡ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрджрд┐ рд╣рдордиреЗ рдХреЗрд╡рд▓ рдПрдХ рддрддреНрд╡ (рдкрд╣рд▓рд╛ рдХрдорд░рд╛) рдмрдирд╛рдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рдореВрд▓ рдПрдХ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЕрдиреНрдпрдерд╛, рд╣рдо рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ рдкрд╣рд▓реЗ рд╕реЗ рдирд┐рд░реНрдорд┐рдд рддрддреНрд╡реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddb/e84/f92/ddbe84f92cbb06f56e3ccce561dde991.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдо рдЪреБрдиреЗрдВрдЧреЗ рдХрд┐ рдЗрд╕ рддрддреНрд╡ рдХреА рдХрд┐рд╕ рджреАрд╡рд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирдП рддрддреНрд╡ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ad/e7c/0e4/7ade7c0e438985098eed6f5dbdd42e6d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдпрд╣ ChoseWall () рдлрд╝рдВрдХреНрд╢рди рдЕрднреА рддрдХ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдЪрд▓реЛ рдЬрд▓реНрджреА рд╕реЗ рд▓рд┐рдЦреЛред </font><font style="vertical-align: inherit;">рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЕрдВрдд рддрдХ рдиреАрдЪреЗ рдЬрд╛рдПрдВ рдФрд░ рдЗрд╕реЗ рдмрдирд╛рдПрдВред </font><font style="vertical-align: inherit;">рдЗрд╕реЗ рдПрдХ рджреАрд╡рд╛рд░ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдПрдХ рддрддреНрд╡ рдХреЛ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рддрд╛рдХрд┐ рдлрд╝рдВрдХреНрд╢рди рдЗрд╕ рддрддреНрд╡ рдХреА рджреАрд╡рд╛рд░ рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХреЗред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aeb/631/9f1/aeb6319f1ee6f601474d0aa0e32e2c77.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВрдиреЗ рдЗрд╕реЗ CheckIfHasSpace () рдФрд░ DrawMap () рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдмреАрдЪ рдмрдирд╛рдпрд╛ред </font><font style="vertical-align: inherit;">рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрджрд┐ рдЖрдк рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдореЗрдВ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЬреЛ рдХрд┐ рдпреВрдирд┐рдЯреА рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдкрд┐рдд рд╣реИ, рддреЛ рдЖрдк рдХрд╛рд░реНрдп рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдХреЗ рдХреБрдЫ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЛ рдврд╣рд╛рдиреЗ / рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рдИрдВ рдУрд░ - / + рдлрд╝реАрд▓реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд╣рдо рдЙрд╕ рджреАрд╡рд╛рд░ рдХреЛ рджреЗрдЦреЗрдВрдЧреЗ рдЬрд╣рд╛рдВ рд╕реЗ рддрддреНрд╡ рдЕрднреА рддрдХ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдХрднреА-рдХрднреА рд╣рдореЗрдВ рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рджреАрд╡рд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рддрддреНрд╡ рдорд┐рд▓реЗрдВрдЧреЗ рдЬрд┐рдирдореЗрдВ рд╕реЗ рдЕрдиреНрдп рддрддреНрд╡ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рдВрд▓рдЧреНрди рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдмрд╛рд░-рдмрд╛рд░ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХреЛрдИ рднреА рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рджреАрд╡рд╛рд░ рдореБрдлреНрдд рд╣реИред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рджрд╕ рдмрд╛рд░ рджреЛрд╣рд░рд╛рдП рдЧрдП рд▓реВрдк рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ - рдпрджрд┐ рдЗрди рджрд╕ рдмрд╛рд░ рдХреЗ рдмрд╛рдж рдПрдХ рдореБрдлреНрдд рджреАрд╡рд╛рд░ рдирд╣реАрдВ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рдлрд╝рдВрдХреНрд╢рди рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b10/44a/028/b1044a028bf9ab566a0120690311396d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм GenerateDungeon () рдлрд╝рдВрдХреНрд╢рди рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ рдФрд░ ChoseWall () рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдореВрд▓ рддрддреНрд╡ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд░реЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a3/281/8aa/0a32818aafc77ddd87f1ffac21b6981e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓рд╛рдЗрди рдХрд╛ </font></font><code>if (wall == null) continue;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрджрд┐ рджреАрд╡рд╛рд░ рдЦреЛрдЬ рдлрд╝рдВрдХреНрд╢рди рдЧрд▓рдд рд╣реИ, рддреЛ рдореВрд▓ рддрддреНрд╡ рдПрдХ рдирдпрд╛ рддрддреНрд╡ рдЙрддреНрдкрдиреНрди рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдлрд╝рдВрдХреНрд╢рди </font><font style="vertical-align: inherit;">рдЪрдХреНрд░ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд╛рд░реА рд░рдЦреЗрдЧрд╛</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЕрд░реНрдерд╛рдд рдпрд╣ рдПрдХ рдирдпрд╛ рддрддреНрд╡ рдирд╣реАрдВ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЪрдХреНрд░ рдХреЗ рдЕрдЧрд▓реЗ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдореЗрдВ рдЕрдЧрд▓реЗ рдЖрдЗрдЯрдо рдХреЗ рд▓рд┐рдП рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рд╕реНрд░реЛрдд рддрддреНрд╡ рдПрдХ рдХрдорд░рд╛ рд╣реИ, рддреЛ рдЕрдЧрд▓рд╛ рдПрдХ рдЧрд▓рд┐рдпрд╛рд░рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рд╣рдо рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдХрдорд░рд╛ рд╕реАрдзреЗ рдЙрдирдХреЗ рдмреАрдЪ рдПрдХ рдЧрд▓рд┐рдпрд╛рд░реЗ рдХреЗ рдмрд┐рдирд╛ рджреВрд╕рд░реЗ рдХрдорд░реЗ рдореЗрдВ рд▓реЗ рдЬрд╛рдП)ред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдпрд╣ рдПрдХ рдЧрд▓рд┐рдпрд╛рд░рд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ рд╕рдВрднрд╛рд╡рдирд╛ рдмрдирд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ рдХрд┐ рдПрдХ рдФрд░ рдЧрд▓рд┐рдпрд╛рд░рд╛ рдпрд╛ рдХрдорд░рд╛ рдЖрдЧреЗ рд╣реЛрдЧрд╛ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b22/df0/954/b22df0954bbe21d82506d42e5118a70f.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдареАрдХред </font><font style="vertical-align: inherit;">рдЕрдм рд╣рдореЗрдВ рдХреЗрд╡рд▓ GenerateFeature () рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕реЗ рджреАрд╡рд╛рд░ рдФрд░ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЯрд╛рдЗрдк рдХрд░реЗрдВред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a07/90b/834/a0790b83479f46dc17c57fbb981aef81.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдВрдд рдореЗрдВ, рдПрдХрддрд╛ рдирд┐рд░реАрдХреНрд╖рдХ рдкрд░ рдЬрд╛рдПрдВ, GameManager рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЗрдВ рдмрджрд▓реЗрдВ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9cc/09c/786/9cc09c786641bf85a89674cc33042ebf.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдЖрдк рдЕрдм рдкреНрд▓реЗ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкрд░рд┐рдгрд╛рдо рджреЗрдЦреЗрдВрдЧреЗ!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/09d/9af/aac/09d9afaace836ef3bde082e3d63c580a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдХрд╣рд╛, рдпрд╣ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдХрд╛рд▓рдХреЛрдард░реА рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдореГрддрдХ рдЫреЛрд░ рдорд┐рд▓реЗред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдпрд╣ рдкреВрд░реА рддрд░рд╣ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рд╣реИ, рдФрд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдХрдорд░рд╛ рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдЬреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕реЗ рдЬреБрдбрд╝рд╛ рдирд╣реАрдВ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдЖрдкрдиреЗ рдЗрд╕рдХрд╛ рдЖрдирдВрдж рд▓рд┐рдпрд╛! </font><font style="vertical-align: inherit;">рдЕрдЧрд▓реЗ рдкреЛрд╕реНрдЯ рдореЗрдВ, рд╣рдо рдПрдХ рдЦрд┐рд▓рд╛рдбрд╝реА рдмрдирд╛рдПрдВрдЧреЗ рдЬреЛ рдХрд╛рд▓рдХреЛрдард░реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдЧреЗ рдмрдврд╝реЗрдЧрд╛, рдФрд░ рдлрд┐рд░ рд╣рдо рдПрдПрд╕рд╕реАрдЖрдИрдЖрдИ рд╕реЗ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЛ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдореЗрдВ рдмрджрд▓ рджреЗрдВрдЧреЗред</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> UnityEngine.UI;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Post3</span> : <span class="hljs-title">MonoBehaviour</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> mapWidth;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> mapHeight;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> widthMinRoom;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> widthMaxRoom;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> heightMinRoom;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> heightMaxRoom;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> minCorridorLength;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> maxCorridorLength;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> maxFeatures;
    <span class="hljs-keyword">int</span> countFeatures;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> isASCII;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> List&lt;Feature&gt; allFeatures;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InitializeDungeon</span>(<span class="hljs-params"></span>)</span> {<font></font>
        MapManager.map = <span class="hljs-keyword">new</span> Tile[mapWidth, mapHeight];<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GenerateDungeon</span>(<span class="hljs-params"></span>)</span> {<font></font>
        GenerateFeature(<span class="hljs-string">"Room"</span>, <span class="hljs-keyword">new</span> Wall(), <span class="hljs-literal">true</span>);<font></font>
<font></font>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">500</span>; i++) {<font></font>
            Feature originFeature;<font></font>
<font></font>
            <span class="hljs-keyword">if</span> (allFeatures.Count == <span class="hljs-number">1</span>) {<font></font>
                originFeature = allFeatures[<span class="hljs-number">0</span>];<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span> {<font></font>
                originFeature = allFeatures[Random.Range(<span class="hljs-number">0</span>, allFeatures.Count - <span class="hljs-number">1</span>)];<font></font>
            }<font></font>
<font></font>
            Wall wall = ChoseWall(originFeature);<font></font>
            <span class="hljs-keyword">if</span> (wall == <span class="hljs-literal">null</span>) <span class="hljs-keyword">continue</span>;<font></font>
<font></font>
            <span class="hljs-keyword">string</span> type;<font></font>
<font></font>
            <span class="hljs-keyword">if</span> (originFeature.type == <span class="hljs-string">"Room"</span>) {<font></font>
                type = <span class="hljs-string">"Corridor"</span>;<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (Random.Range(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>) &lt; <span class="hljs-number">90</span>) {<font></font>
                    type = <span class="hljs-string">"Room"</span>;<font></font>
                }<font></font>
                <span class="hljs-keyword">else</span> {<font></font>
                    type = <span class="hljs-string">"Corridor"</span>;<font></font>
                }<font></font>
            }<font></font>
<font></font>
            GenerateFeature(type, wall);<font></font>
<font></font>
            <span class="hljs-keyword">if</span> (countFeatures &gt;= maxFeatures) <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
<font></font>
        DrawMap(isASCII);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">GenerateFeature</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> type, Wall wall, <span class="hljs-keyword">bool</span> isFirst = <span class="hljs-literal">false</span></span>)</span> {<font></font>
        Feature room = <span class="hljs-keyword">new</span> Feature();<font></font>
        room.positions = <span class="hljs-keyword">new</span> List&lt;Vector2Int&gt;();<font></font>
<font></font>
        <span class="hljs-keyword">int</span> roomWidth = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> roomHeight = <span class="hljs-number">0</span>;<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (type == <span class="hljs-string">"Room"</span>) {<font></font>
            roomWidth = Random.Range(widthMinRoom, widthMaxRoom);<font></font>
            roomHeight = Random.Range(heightMinRoom, heightMaxRoom);<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">switch</span> (wall.direction) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">"South"</span>:<font></font>
                    roomWidth = <span class="hljs-number">3</span>;<font></font>
                    roomHeight = Random.Range(minCorridorLength, maxCorridorLength);<font></font>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"North"</span>:<font></font>
                    roomWidth = <span class="hljs-number">3</span>;<font></font>
                    roomHeight = Random.Range(minCorridorLength, maxCorridorLength);<font></font>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"West"</span>:<font></font>
                    roomWidth = Random.Range(minCorridorLength, maxCorridorLength);<font></font>
                    roomHeight = <span class="hljs-number">3</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"East"</span>:<font></font>
                    roomWidth = Random.Range(minCorridorLength, maxCorridorLength);<font></font>
                    roomHeight = <span class="hljs-number">3</span>;
                    <span class="hljs-keyword">break</span>;<font></font>
<font></font>
            }<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">int</span> xStartingPoint;
        <span class="hljs-keyword">int</span> yStartingPoint;<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (isFirst) {<font></font>
            xStartingPoint = mapWidth / <span class="hljs-number">2</span>;<font></font>
            yStartingPoint = mapHeight / <span class="hljs-number">2</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">int</span> id;
            <span class="hljs-keyword">if</span> (wall.positions.Count == <span class="hljs-number">3</span>) id = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">else</span> id = Random.Range(<span class="hljs-number">1</span>, wall.positions.Count - <span class="hljs-number">2</span>);<font></font>
<font></font>
            xStartingPoint = wall.positions[id].x;<font></font>
            yStartingPoint = wall.positions[id].y;<font></font>
        }<font></font>
<font></font>
        Vector2Int lastWallPosition = <span class="hljs-keyword">new</span> Vector2Int(xStartingPoint, yStartingPoint);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (isFirst) {<font></font>
            xStartingPoint -= Random.Range(<span class="hljs-number">1</span>, roomWidth);<font></font>
            yStartingPoint -= Random.Range(<span class="hljs-number">1</span>, roomHeight);<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">switch</span> (wall.direction) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">"South"</span>:
                    <span class="hljs-keyword">if</span> (type == <span class="hljs-string">"Room"</span>) xStartingPoint -= Random.Range(<span class="hljs-number">1</span>, roomWidth - <span class="hljs-number">2</span>);
                    <span class="hljs-keyword">else</span> xStartingPoint--;<font></font>
                    yStartingPoint -= Random.Range(<span class="hljs-number">1</span>, roomHeight - <span class="hljs-number">2</span>);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"North"</span>:
                    <span class="hljs-keyword">if</span> (type == <span class="hljs-string">"Room"</span>) xStartingPoint -= Random.Range(<span class="hljs-number">1</span>, roomWidth - <span class="hljs-number">2</span>);
                    <span class="hljs-keyword">else</span> xStartingPoint--;<font></font>
                    yStartingPoint ++;<font></font>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"West"</span>:<font></font>
                    xStartingPoint -= roomWidth;<font></font>
                    <span class="hljs-keyword">if</span> (type == <span class="hljs-string">"Room"</span>) yStartingPoint -= Random.Range(<span class="hljs-number">1</span>, roomHeight - <span class="hljs-number">2</span>);
                    <span class="hljs-keyword">else</span> yStartingPoint--;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"East"</span>:<font></font>
                    xStartingPoint++;<font></font>
                    <span class="hljs-keyword">if</span> (type == <span class="hljs-string">"Room"</span>) yStartingPoint -= Random.Range(<span class="hljs-number">1</span>, roomHeight - <span class="hljs-number">2</span>);
                    <span class="hljs-keyword">else</span> yStartingPoint--;
                    <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
        }<font></font>
<font></font>
         <span class="hljs-keyword">if</span> (!CheckIfHasSpace(<span class="hljs-keyword">new</span> Vector2Int(xStartingPoint, yStartingPoint), <span class="hljs-keyword">new</span> Vector2Int(xStartingPoint + roomWidth - <span class="hljs-number">1</span>, yStartingPoint + roomHeight - <span class="hljs-number">1</span>))) {
            <span class="hljs-keyword">return</span>;<font></font>
        }<font></font>
<font></font>
        room.walls = <span class="hljs-keyword">new</span> Wall[<span class="hljs-number">4</span>];<font></font>
<font></font>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; room.walls.Length; i++) {<font></font>
            room.walls[i] = <span class="hljs-keyword">new</span> Wall();<font></font>
            room.walls[i].positions = <span class="hljs-keyword">new</span> List&lt;Vector2Int&gt;();<font></font>
            room.walls[i].length = <span class="hljs-number">0</span>;<font></font>
<font></font>
            <span class="hljs-keyword">switch</span> (i) {
                <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<font></font>
                    room.walls[i].direction = <span class="hljs-string">"South"</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<font></font>
                    room.walls[i].direction = <span class="hljs-string">"North"</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<font></font>
                    room.walls[i].direction = <span class="hljs-string">"West"</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<font></font>
                    room.walls[i].direction = <span class="hljs-string">"East"</span>;
                    <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> y = <span class="hljs-number">0</span>; y &lt; roomHeight; y++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; roomWidth; x++) {<font></font>
                Vector2Int position = <span class="hljs-keyword">new</span> Vector2Int();<font></font>
                position.x = xStartingPoint + x;<font></font>
                position.y = yStartingPoint + y;<font></font>
<font></font>
                room.positions.Add(position);<font></font>
<font></font>
                MapManager.map[position.x, position.y] = <span class="hljs-keyword">new</span> Tile();<font></font>
                MapManager.map[position.x, position.y].xPosition = position.x;<font></font>
                MapManager.map[position.x, position.y].yPosition = position.y;<font></font>
<font></font>
                <span class="hljs-keyword">if</span> (y == <span class="hljs-number">0</span>) {<font></font>
                    room.walls[<span class="hljs-number">0</span>].positions.Add(position);<font></font>
                    room.walls[<span class="hljs-number">0</span>].length++;<font></font>
                    MapManager.map[position.x, position.y].type = <span class="hljs-string">"Wall"</span>;<font></font>
                }<font></font>
                <span class="hljs-keyword">if</span> (y == (roomHeight - <span class="hljs-number">1</span>)) {<font></font>
                    room.walls[<span class="hljs-number">1</span>].positions.Add(position);<font></font>
                    room.walls[<span class="hljs-number">1</span>].length++;<font></font>
                    MapManager.map[position.x, position.y].type = <span class="hljs-string">"Wall"</span>;<font></font>
                }<font></font>
                <span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>) {<font></font>
                    room.walls[<span class="hljs-number">2</span>].positions.Add(position);<font></font>
                    room.walls[<span class="hljs-number">2</span>].length++;<font></font>
                    MapManager.map[position.x, position.y].type = <span class="hljs-string">"Wall"</span>;<font></font>
                }<font></font>
                <span class="hljs-keyword">if</span> (x == (roomWidth - <span class="hljs-number">1</span>)) {<font></font>
                    room.walls[<span class="hljs-number">3</span>].positions.Add(position);<font></font>
                    room.walls[<span class="hljs-number">3</span>].length++;<font></font>
                    MapManager.map[position.x, position.y].type = <span class="hljs-string">"Wall"</span>;<font></font>
                }<font></font>
                <span class="hljs-keyword">if</span> (MapManager.map[position.x, position.y].type != <span class="hljs-string">"Wall"</span>) {<font></font>
                    MapManager.map[position.x, position.y].type = <span class="hljs-string">"Floor"</span>;<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (!isFirst) {<font></font>
            MapManager.map[lastWallPosition.x, lastWallPosition.y].type = <span class="hljs-string">"Floor"</span>;
            <span class="hljs-keyword">switch</span> (wall.direction) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">"South"</span>:<font></font>
                    MapManager.map[lastWallPosition.x, lastWallPosition.y - <span class="hljs-number">1</span>].type = <span class="hljs-string">"Floor"</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"North"</span>:<font></font>
                    MapManager.map[lastWallPosition.x, lastWallPosition.y + <span class="hljs-number">1</span>].type = <span class="hljs-string">"Floor"</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"West"</span>:<font></font>
                    MapManager.map[lastWallPosition.x - <span class="hljs-number">1</span>, lastWallPosition.y].type = <span class="hljs-string">"Floor"</span>;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"East"</span>:<font></font>
                    MapManager.map[lastWallPosition.x + <span class="hljs-number">1</span>, lastWallPosition.y].type = <span class="hljs-string">"Floor"</span>;
                    <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
        }<font></font>
<font></font>
        room.width = roomWidth;<font></font>
        room.height = roomHeight;<font></font>
        room.type = type;<font></font>
        allFeatures.Add(room);<font></font>
        countFeatures++;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">CheckIfHasSpace</span>(<span class="hljs-params">Vector2Int start, Vector2Int end</span>)</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> y = start.y; y &lt;= end.y; y++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = start.x; x &lt;= end.x; x++) {
                <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span> || y &lt; <span class="hljs-number">0</span> || x &gt;= mapWidth || y &gt;= mapHeight) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">if</span> (MapManager.map != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
            }<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function">Wall <span class="hljs-title">ChoseWall</span>(<span class="hljs-params">Feature feature</span>)</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
            <span class="hljs-keyword">int</span> id = Random.Range(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>) / <span class="hljs-number">25</span>;
            <span class="hljs-keyword">if</span> (!feature.walls[id].hasFeature) {
                <span class="hljs-keyword">return</span> feature.walls[id];<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DrawMap</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> isASCII</span>)</span> {
        <span class="hljs-keyword">if</span> (isASCII) {<font></font>
            Text screen = GameObject.Find(<span class="hljs-string">"ASCIITest"</span>).GetComponent&lt;Text&gt;();<font></font>
<font></font>
            <span class="hljs-keyword">string</span> asciiMap = <span class="hljs-string">""</span>;<font></font>
<font></font>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> y = (mapHeight - <span class="hljs-number">1</span>); y &gt;= <span class="hljs-number">0</span>; y--) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; mapWidth; x++) {
                    <span class="hljs-keyword">if</span> (MapManager.map[x, y] != <span class="hljs-literal">null</span>) {
                        <span class="hljs-keyword">switch</span> (MapManager.map[x, y].type) {
                            <span class="hljs-keyword">case</span> <span class="hljs-string">"Wall"</span>:<font></font>
                                asciiMap += <span class="hljs-string">"#"</span>;
                                <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">case</span> <span class="hljs-string">"Floor"</span>:<font></font>
                                asciiMap += <span class="hljs-string">"."</span>;
                                <span class="hljs-keyword">break</span>;<font></font>
                        }<font></font>
                    }<font></font>
                    <span class="hljs-keyword">else</span> {<font></font>
                        asciiMap += <span class="hljs-string">" "</span>;<font></font>
                    }<font></font>
<font></font>
                    <span class="hljs-keyword">if</span> (x == (mapWidth - <span class="hljs-number">1</span>)) {<font></font>
                        asciiMap += <span class="hljs-string">"\n"</span>;<font></font>
                    }<font></font>
                }<font></font>
            }<font></font>
<font></font>
            screen.text = asciiMap;<font></font>
        }<font></font>
    }<font></font>
}</code></pre></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi495552/index.html">COVID-19 (рд╕реНрд╡-рд╢реНрд╡рд╛рд╕ рдЙрдкрдХрд░рдг рдореЗрдВ рджреЗрд░реА) рдХрд╛ рдореЗрд░рд╛ рдкреНрд░рдпрд╛рд╕</a></li>
<li><a href="../hi495554/index.html">рд╕рдорд╛рди рд╡рд┐рдЪрд╛рд░рдзрд╛рд░рд╛ рд╡рд╛рд▓реЗ VKontakte [рдУрдкрди рд╕реЛрд░реНрд╕] рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпрдХреНрд░рдо</a></li>
<li><a href="../hi495556/index.html">рдлреЛрд░реНрдЯрд┐рдиреЗрдЯ - рдЙрдкрдпреЛрдЧреА рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХрд╛ рдЪрдпрди</a></li>
<li><a href="../hi495560/index.html">рдЗрдВрдЯрд░рдиреЗрдЯ рдСрдл рдерд┐рдВрдЧреНрд╕ рдЯреНрд░реЗрдВрдбреНрд╕: AI рдЖрдВрд╕рд░ рдХреА рдХреЙрд▓, рдХреНрд▓рд╛рдЙрдбреНрд╕ рдФрд░ 5 рдЬреА рдЯреЗрдо рдмрд┐рдЧ рдбреЗрдЯрд╛, рд╣рд╛рдЙрд╕рд┐рдВрдЧ рдПрдВрдб рдпреВрдЯрд┐рд▓рд┐рдЯреАрдЬ - тАЛтАЛрдЗрдиреЛрд╡реЗрд╢рди рдореЗрдВ рд▓реАрдбрд░</a></li>
<li><a href="../hi495580/index.html">рдХрдХрдбрд╝реА JVM - рд╕рд┐рд░реНрдл рдмреАрдбреАрдбреА рдирд╣реАрдВ</a></li>
<li><a href="../hi495592/index.html">рд╢рдмреНрджрдХреЛрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ (рдФрд░ рди рдХреЗрд╡рд▓)</a></li>
<li><a href="../hi495594/index.html">рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдкрд░ рдкреИрд╕рд╛ рдмрдирд╛рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ: рдорд┐рдиреА-рдбрд┐рдЬрд┐рдЯрд▓-рдмрд┐рдЬрдиреЗрд╕ рдмрдирд╛рдПрдВ</a></li>
<li><a href="../hi495596/index.html">рдСрдлрд┐рд╕ рдореЗрдВ рд░рд┐рдореЛрдЯ рдХрд╛ рдХрд╛рдоред RDP, рдкреЛрд░реНрдЯ рдиреЙрдХрд┐рдВрдЧ, рдорд┐рдХрд░реЛрдЯрд┐рдХ: рд╕рд░рд▓ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд</a></li>
<li><a href="../hi495602/index.html">рдХреЛрд░ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ! рд╕рд░рд▓ рд╢рдмреНрджреЛрдВ рдореЗрдВ рдХрдард┐рди [рднрд╛рдЧ реи]</a></li>
<li><a href="../hi495604/index.html">рд╕рд┐рдореНрдлрдиреА 4 + рдЯрд╣рдиреА рдкрд░ рдЕрд╕реНрдерд╛рдпреА рд╕реНрдерд╛рдиреАрдпрдХрд░рдг</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>