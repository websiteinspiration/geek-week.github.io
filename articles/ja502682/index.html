<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💅🏼 👩🏽‍🎤 😺 ハードウェアアクセラレーションを備えたIntel OWT WebRTCサーバー上のコンピュータービジョン 🛶 🚻 🤩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="WebRTCは、ビデオストリームのリアルタイムでの送受信を（ほとんどの場合）簡素化しました。そのため、機械学習を使用して、それらを楽しむことができます。先月、コンピュータービジョン（CV）をブラウザーでローカルに実行する方法を示しました。先に述べたように、ローカルはもちろん良いですが、時にはより高い...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ハードウェアアクセラレーションを備えたIntel OWT WebRTCサーバー上のコンピュータービジョン</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/502682/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/8-/ee/qk/8-eeqkqsmvrre32oeutnpjwyjcg.gif"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WebRTCは、ビデオストリームのリアルタイムでの送受信を（ほとんどの場合）簡素化しました。そのため、機械学習を使用して、それらを楽しむことができます。先月、コンピュータービジョン（CV）を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザーでローカルに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行する方法を示し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">。先に述べたように、ローカルはもちろん良いですが、時にはより高いパフォーマンスが必要となるため、リモートサーバーが必要になります。この投稿では、オープンソースコードでOpen WebRTC Toolkit（OWT）を使用して、Intelチップセットでハードウェアアクセラレーションを備えたOpenCVサーバーモデルを実行する方法について説明します。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intelが</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kranky Geekの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンピュータービジョン機能を実演して以来、OWTサーバーで遊んでみたかったの</font><font style="vertical-align: inherit;">ですが、サーバーの機能を調査するために開発チームと協力できるのは幸運です。</font><font style="vertical-align: inherit;">以下では、OWTをローカルにインストールしてクイックテストを行う方法と、いくつかのモデルを紹介します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open WebRTC Toolkit（OWT）</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インテルは2014年頃にWebRTC向けインテルコラボレーションスイートをリリースしました。</font><font style="vertical-align: inherit;">このパッケージは、Intelハードウェアを使用するように設計されたサーバーおよびクライアントSDKで構成されていました。</font><font style="vertical-align: inherit;">同社はこのソフトウェアのセットを拡張し続け、新しい機能を追加し、その機能を改善しました。</font><font style="vertical-align: inherit;">その後、2018年に、インテルはOpen WebRTC Toolkit（OWT）ブランドでプロジェクト全体のソースコードを公開しました。</font><font style="vertical-align: inherit;">彼らは、WebRTCにCollaborate Suiteを使用することを提案しています。唯一の違いは、追加のIntel QAをバンドルすることです（これは、企業がサポートするオープンソースプロジェクトではそれほど珍しいことではありません）。</font><font style="vertical-align: inherit;">この投稿では、オープンソースのOWTに焦点を当てます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/0e/yp/zk/0eypzkg4suqoygg_xf0sustxsfm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
位置は：OWTホームページに行くことができます</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">01.org/open-webrtc-toolkit</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メディアサーバーの機能</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OWTメディアサーバーは、マルチポイントコントロールユニット（MCU）サーバーとして機能できます。このサーバーでは、メディアファイルは、より一般</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">な</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">選択的転送ユニット</font></a><font style="vertical-align: inherit;">（SFU）</font><font style="vertical-align: inherit;">に加えて、クライアントに送信される前にデコード、処理、トランスコードされます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">IntelのOWTは、次のアプリケーション向けの機能を備えたリアルタイムメディアプロセッサと見なされています。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マルチポイント会議</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SFUsはた</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のWebRTC会議のための主要なアーキテクチャであることが証明されたが、MCUは依然として（IOT装置上、たとえば）クライアント側の処理が制限されているシナリオで必要とされる、以下の点のいずれかと組み合わせて含みます。</font></font><br>
</li>
<li><b></b> – MCU      ,       .</li>
<li><b> </b> –    -WebRTC ,   ,   RTSP, RTMP, HLS, MPEG-DASH.</li>
<li><b></b> –       .</li>
<li><b>SIP-gateway</b> –  WebRTC     ,      VoIP-.</li>
<li><b></b> –      ( ).</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーは、データベース用のMongoDBとメッセージブローカーとしてのRabbitMQを備えたnode.js上に構築されています。</font><font style="vertical-align: inherit;">上記のリストにリストされている機能、およびリストに含まれていない機能は、OWTアーキテクチャーに接続されたさまざまなエージェントとして実装されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、OWTには、メディアサーバーと対話するためのクライアントSDKがあります。</font><font style="vertical-align: inherit;">P2Pモードでも使用できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加速度</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーキテクチャはIntelハードウェアを使用するように設計されています。</font><font style="vertical-align: inherit;">これには、最新のIntelプロセッサーのほとんどが含まれ、グラフィックス、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPLD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（FPGA）、専用プロセッサーマシンビジョンIntel（Vision Processing Unit-VPU）を</font><font style="vertical-align: inherit;">搭載したさらに高速なプロセッサーが含まれます。</font><font style="vertical-align: inherit;">（これ</font><font style="vertical-align: inherit;">は、Google Vision KitでMovidiusチップの1つを使用して作成し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">た</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトです）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zz/ng/fh/zzngfhpuqfi_7kwmkztftwrcwsq.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析とコンピュータービジョン（CV）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンピュータービジョンに真剣に取り組んだ人なら誰でも</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCVに出会いました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">OpenCVはもともとIntelのプロジェクトでしたが、今でもそうです。</font><font style="vertical-align: inherit;">インテルには、ハードウェアでディープラーニングモデルを最適化するためのOpenVINO（Open Visual Inference and Neural Network Optimization）と呼ばれる一連のツールがあります。</font><font style="vertical-align: inherit;">これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCVリポジトリの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一部</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">です</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">OpenCVには、基本的なテキスト認識から自動運転アプリケーションまで、数十の事前トレーニング済みモデルが含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OWT Analytics Agentは、OpenVINOモデルでリアルタイム予測を受信するためのモジュールです。</font><font style="vertical-align: inherit;">分析エージェントは出力メタデータをクラウドに送信できます。または、自分でメディアサーバーに送り返して、たとえば、リアルタイムビデオの注釈を作成することもできます（後でそれを示します）。</font><font style="vertical-align: inherit;">よく知られている</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GStreamer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリは</font><font style="vertical-align: inherit;">、マルチメディアパイプラインの管理に使用されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建築</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2j/yw/b2/2jywb2ihtjq5dv4ck9h05qqzjog.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上の図は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバー分析ガイド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">抜粋</font></a><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">複雑に見えますが、ここでは、アナリティクスエージェントが、この会議のビデオチャネルにサブスクライブできる別の会議参加者として機能することを覚えておく必要があります。</font><font style="vertical-align: inherit;">彼がビデオストリームを受信した後、GStreamerパイプラインを使用して、ストリームの処理をさまざまなステージに転送できます。</font><font style="vertical-align: inherit;">ほとんどの場合、ビデオストリームをMCUに戻す前に予測と分類を実行する必要がありますが、ストリームや出力データを別の場所に送信することもできます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerのインストール</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OWTサーバーとAnalytics Agentをインストールする必要があるため、インストールには少し時間がかかります。幸いなことに、</font><font style="vertical-align: inherit;">簡単なインストールのための</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerビルド手順</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります。必要に応じて、分散環境用の4つの個別のコンテナーとしてOWT + Analytics Agentを実行できます。評価を簡単にするために、すべてをローカルで1つのコンテナーに残すことにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、</font></font><code>gst-owt-all:run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私の記事を書いている時点で彼らはAnalytics Agentをインストールするためのドキュメントを更新していたので</font><font style="vertical-align: inherit;">、Intelは最初</font><font style="vertical-align: inherit;">に仕事用</font><font style="vertical-align: inherit;">のイメージをくれました</font><font style="vertical-align: inherit;">。新しいセットははるかに理解しやすいです。それでも、最初に標準のOWTインストールに慣れて、そのコンポーネントとオプションを理解することをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、gccでたくさんコンパイルする必要があります。</font><font style="vertical-align: inherit;">次のコマンドを実行して、最新バージョンであることを確認します</font></font><code>brew install gcc</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。最初は何もコンパイルされていませんが、このコマンドを実行するとすべてが機能しました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結局、自分ですべてを構築し始めました。</font><font style="vertical-align: inherit;">AnalyticsでOWTサーバーを作成するには、次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> https://github.com/open-webrtc-toolkit/owt-server.git<font></font>
 <font></font>
<span class="hljs-built_in">cd</span> owt-server<font></font>
git branch gst-analytics<font></font>
<span class="hljs-built_in">cd</span> /owt-server/docker/gst<font></font>
curl -o l_openvino_toolkit_p_2019.3.334.tgz http://registrationcenter-download.intel.com/akdlm/irc_nas/15944/l_openvino_toolkit_p_2019.3.334.tgz<font></font>
http://registrationcenter-download.intel.com/akdlm/irc_nas/15944/l_openvino_toolkit_p_2019.3.334.tgz<font></font>
docker build --target owt-run-all -t gst-owt-all:run \<font></font>
  --build-arg http_proxy=<span class="hljs-variable">${HTTP_PROXY}</span> \<font></font>
  --build-arg https_proxy=<span class="hljs-variable">${HTTPS_PROXY}</span> \<font></font>
  .</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メインのOWTサーバーとAnalyticsサービスをセットアップしたら、必要なモデルをOpenCV Open Model Zooからダウンロードし、</font><font style="vertical-align: inherit;">それらを使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するための分析パイプライン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">構築する</font></a><font style="vertical-align: inherit;">必要があり</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">添付の例の場合、これには、bashでcollectorコマンドを実行することと、いくつかのファイルをコピーすることだけが含まれます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">macOSでのヘルスチェック</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerポートを構成する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dockerオプション</font></font><code>--net=host</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はmacOSでは機能しないため、ローカルで起動するには、対応するポートを開く必要があります。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポート</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8080</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTCのWebソケット信号ポート</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3004</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デモページをダウンロードするためのWebサーバー</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30000〜30050</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTCのUDPポート</font></font></td>
</tr>
</tbody></table></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerを起動</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はこのように私のコンテナをインストールしました：</font></font><br>
<br>
<pre><code class="bash hljs">docker run -p 8080:8080 -p 3004:3004  -p 30000-30050:30000-30050/udp --name owtwebrtchacks --privileged -tid gst-owt-all:run bash</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MacOSでローカルに実行するためのデフォルトのOWT設定の編集</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、</font></font><code>webrtc_agent/agent.toml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらのポートを認識するように</font><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">編集する必要があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="bash hljs">docker start owtwebrtchacks<font></font>
docker <span class="hljs-built_in">exec</span> -it owtwebrtchacks bash<font></font>
vi /home/owt/webrtc_agent/agent.toml<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に</font></font><code>0acf7c0560d8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コンテナの名前またはIDに</font><font style="vertical-align: inherit;">置き換え</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">以下を変更します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qd/n6/nn/qdn6nnrxidpop7m5zhdbx75ebi0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ブラウザがDockerの内部IPブリッジ（172.17.0.2）ではなく「localhost」を表示するように、Webリソースに通知する必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">vi /home/owt/portal/portal.toml</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ix/jq/ly/ixjqlyml39p2oujrnbl0txf25qq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
繰り返しになりますが、他のプラットフォームでは、オプションを指定してコンテナを実行すると、デフォルトの設定を使用できます</font></font><code>--net=host</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーを起動</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これでサーバーを起動できます：</font></font><br>
<br>
<pre><code class="bash hljs">./home/start.sh</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のエラーが表示される場合があります。</font></font><br>
<br>
<pre><code class="bash hljs">2020-03-31T01:47:20.814+0000 E QUERY    [thread1] Error: couldn<span class="hljs-string">'t connect to server 127.0.0.1:27017, connection attempt failed :
connect@src/mongo/shell/mongo.js:251:13
@(connect):1:21
exception: connect failed
</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーが接続している間、これは正常です。</font><font style="vertical-align: inherit;">次のようなものが表示されれば、すべてが機能することがわかります。</font></font><br>
<br>
<pre><code class="bash hljs">starting app, stdout -&gt; /home/owt/logs/app.stdout<font></font>
0 rooms <span class="hljs-keyword">in</span> this service.<font></font>
Created room: 5e82a13b402df00313685e3a<font></font>
sampleRoom Id: 5e82a13b402df00313685e3a<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザでテストする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルマシンのブラウザで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https：// localhost：3004 /</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">
開き</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ブラウザで問題が発生するため、証明書を有効にする必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/oe/4r/oa/oe4roahxjkisfhxj4h7ugjtfhts.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これに加えて、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost：8080で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WebSocketサーバーを有効にする必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">証明書をテストして更新</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するには、ここをクリックしてください」というリンクをクリックすると、これを実行できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">または、</font></font><code>#allow-insecure-localhost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chrome：//フラグを</font><font style="vertical-align: inherit;">設定</font><font style="vertical-align: inherit;">して、Chromeでのフラグの問題を回避</font><font style="vertical-align: inherit;">することもできます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cj/vy/rk/cjvyrk4gcyds4f712iiej7sb_n8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを実行したら、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https：// localhost：3004 /</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に戻り</font><font style="vertical-align: inherit;">、カメラの解像度を受け入れます。</font><font style="vertical-align: inherit;">「video from」ドロップダウンリストからビデオチャネル識別子をすぐに選択し、「startAnalytics」をクリックします。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pv/lb/3l/pvlb3l3e853bo0upee2gea44ln0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、「subsribe video」ドロップダウンリストに移動し、ロングライン</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイプライン+ビデオID</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">選択して</font><font style="vertical-align: inherit;">、[subscribe]をクリックします。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fy/sa/on/fysaonxg1btumjzisuyixvsg_xm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーから受信した画像では、顔が認識されていることがわかります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pc/r_/xe/pcr_xehmfawc0du0o7pqsnqo4qm.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCVモデルの追加</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析エージェントには</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、OpenCV GStreamer Video Analytics（GVA）プラグイン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のアーキテクチャが含まれてい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">GVAには、検出、分類、識別などのさまざまな予測スキームを使用できるさまざまなモジュールが含まれています。また、ビデオをユーザーに送信（この場合はOWTに戻す）するための入出力モジュールがあり、イメージオーバーレイまたはデータストリーミングを提供しますmqtt。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイプライン</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、これらのパイプラインは、いくつかのC ++コードを変更することによって実装されます。</font><font style="vertical-align: inherit;">たとえば、それを見ると</font></font><code>/home/owt/analytics_agent/plugins/samples/cpu_pipeline/mypipeline.cc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、さまざまなパイプライン要素が表示されます。</font></font><br>
<br>
<pre><code class="cpp hljs"> source = gst_element_factory_make(<span class="hljs-string">"appsrc"</span>, <span class="hljs-string">"appsource"</span>);<font></font>
 h264parse = gst_element_factory_make(<span class="hljs-string">"h264parse"</span>,<span class="hljs-string">"parse"</span>);<font></font>
 decodebin = gst_element_factory_make(<span class="hljs-string">"avdec_h264"</span>,<span class="hljs-string">"decode"</span>);<font></font>
 postproc = gst_element_factory_make(<span class="hljs-string">"videoconvert"</span>,<span class="hljs-string">"postproc"</span>);<font></font>
 detect = gst_element_factory_make(<span class="hljs-string">"gvadetect"</span>,<span class="hljs-string">"detect"</span>);<font></font>
 classify = gst_element_factory_make(<span class="hljs-string">"gvaclassify"</span>,<span class="hljs-string">"classify"</span>);<font></font>
 watermark = gst_element_factory_make(<span class="hljs-string">"gvawatermark"</span>,<span class="hljs-string">"rate"</span>);<font></font>
 converter = gst_element_factory_make(<span class="hljs-string">"videoconvert"</span>,<span class="hljs-string">"convert"</span>);<font></font>
 encoder = gst_element_factory_make(<span class="hljs-string">"x264enc"</span>,<span class="hljs-string">"encoder"</span>);<font></font>
 outsink = gst_element_factory_make(<span class="hljs-string">"appsink"</span>,<span class="hljs-string">"appsink"</span>);x</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これらのパイプラインは特定の順序で配置されています。</font></font><br>
<br>
<pre><code class="cpp hljs">gst_bin_add_many(GST_BIN (pipeline), source,decodebin,watermark,postproc,h264parse,detect,classify,converter, encoder,outsink, <span class="hljs-literal">NULL</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらの要素を変更する場合は、次のコマンドを使用してパイプラインを再コンパイルする必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">./home/owt/analytics_agent/plugins/samples/build_samples.sh</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、コンパイルされたライブラリを、で使用されている現在のライブラリの上にコピーし</font></font><code>/home/owt/analytics_agent/lib/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のモデルを取得する</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubのOpenCV Open Model Zooの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
下でホストされているモデルの巨大なセットがあり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Intelは、mobilenet、resnet、squeezenet、vggなどの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">な</font></a><font style="vertical-align: inherit;">すべての</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">パブリックCVモデル</font></a><font style="vertical-align: inherit;">に加えて、オブジェクトの検出、無人車両、および人間のアクションの処理に役立つ幅広いモデルを含むスイートもサポートしています。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクション認識</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頭部姿勢推定</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人検出行動認識教師</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セマンティックセグメンテーション</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">年齢性別認識</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人間の姿勢推定</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人検出ASL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単一画像超解像</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asl認識</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像検索</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人の検出を上げる手認識</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキスト検出</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドライバーアクション認識</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インスタンスセグメンテーションセキュリティ</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人検知</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキスト画像超解像</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感情認識</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ランドマーク回帰</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">個人識別</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキスト認識</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顔検出</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ナンバープレート認識バリア</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人-自動車-自転車-検知-交差点</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキストスポッティング</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顔認証</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">歩行者と車両の検出器</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">製品検出</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">車両属性認識バリア</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顔のランドマーク35</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">歩行者検出</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resnet18-xnor-binary-onnx</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">車両検出</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">視線推定</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人物属性認識クロスロード</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resnet50-binary</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">車両検出バイナリ</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手書きスコア認識</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人検知行動認識</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">道路分割</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">車両ナンバープレート検出バリア</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intelはこれについて</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より多くの情報を持ってい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OWT Analytics Agentへのモデルの追加</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルを追加するには、リポジトリを複製し、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open Model Zoo Downloaderツール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して対応するものを取得する必要があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この後、パイプラインに適切な要素（分類、検出、識別）が含まれていることを確認</font></font><code>/home/owt/analytics_agent/plugin.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、適切なパラメーターを使用し</font><font style="vertical-align: inherit;">てファイル</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">構成</font><font style="vertical-align: inherit;">する必要があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラグインのテスト</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顔と感情の認識のいくつかのモデルを試しました。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顔の基準点</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はすでに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顔へのタッチの検出で遊んで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いたので</font><font style="vertical-align: inherit;">、モデル</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">facial-landmarks-35-adas-0002</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を確認することにしました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このモデルは、顔の35の参照点を検出します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/el/kl/si/elklsiar5t-oowpbrjzjvsejhra.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のフェイスタッチモニタリングアプリケーションでは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gstreamer汎用メタデータパブリッシャー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用してパイプラインにMQTTストリーミングを追加し、</font><font style="vertical-align: inherit;">アンカーポイントをキャプチャして処理する</font><font style="vertical-align: inherit;">ことができました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">たとえば、目、鼻、口の周りの点が暗くなっているかどうかを確認したり、これらすべてを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人の姿勢を評価するため</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">モデル</font></a><font style="vertical-align: inherit;">と組み合わせたりすることもでき</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感情認識</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これもまたクールなことです。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感情認識-小売-0003</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モデル</font><font style="vertical-align: inherit;">は、畳み込みネットワークを使用して、中立的で、幸せで、悲しく、驚いて、激怒する表現を認識します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bl/ku/1_/blku1_a54hzp6sttdswp1q1two4.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の顔の表情は中立的ではなく、悲しいものとして認識されているようです-おそらく孤立した状態での長い滞在が私を取り始めています:(</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加速の最適化</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OWTハードウェアアクセラレーション機能を利用するには、必ず適切なデバイスをインストールしてください。</font></font><code>/home/owt/analytics_agent/plugin.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">つまり、次のように記述します。</font></font><br>
<br>
<pre><code class="bash hljs">device = <span class="hljs-string">"MULTI:HDDL,GPU,CPU"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、これをテストする時間はありませんでしたが、CPUおよびGPUアクセラレーションに加えて、さまざまなマシンビジョンプロセッサ（VPU）ハードウェアを利用することもできます。</font><font style="vertical-align: inherit;">これらは、ニューラルネットワークを効率的に操作するための専用チップです。</font><font style="vertical-align: inherit;">Raspberry Pi 3でより高度なCVモデルを発売するために</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数年前に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Intel Neural Computing Card（NCS）</font></a><font style="vertical-align: inherit;">を購入しまし</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">た</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、処理能力とフレームレート/解像度の妥協点はいつでも見つかります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">推奨事項</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OpenCVには、開発者の巨大なコミュニティで長い歴史があり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018年中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頃の私の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">人気分析の</font></a><font style="vertical-align: inherit;">時点で、すべての機械学習オープンソースプロジェクトの中で4番目にランクされました</font><font style="vertical-align: inherit;">。同様に、gstreamerは、古くからある別のプロジェクトです。インテルOWT Analytics Agentは、これらのコミュニティがWebRTCを介してプロジェクトにリアルタイムストリーミング分析を追加できるように理想的に配置されています。既存のGSTモデルを取得し、OWTを使用してリアルタイムストリーミングで実行できる必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンピュータービジョンの実験を始めたばかりで、OWTサーバーでモデルを実行したい場合は、より基本的なOpenCVチュートリアルから始めることをお勧めします。次に、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">GVAプラグインに</font></a><font style="vertical-align: inherit;">アクセスでき</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">OpenCVでの作業を始めたばかりの場合、多くの労力が必要になりますが、後でそれらを起動するために分析エージェントを変更するのに問題はありません。</font><font style="vertical-align: inherit;">スタックを最適化してターゲットプラットフォームで動作し、さまざまなIntelハードウェアアクセラレーションオプションを使用してパフォーマンスを改善できます。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja502670/index.html">ロシアの生分解性バッグについての小さな話</a></li>
<li><a href="../ja502672/index.html">DGTL Communications Online Meetup 28/05</a></li>
<li><a href="../ja502674/index.html">トロリーロボット2.0。パート3. ROSナビゲーションスタックの内部、ちょっとしたメジャー</a></li>
<li><a href="../ja502678/index.html">本「オブジェクト指向設計のパターン」</a></li>
<li><a href="../ja502680/index.html">PostgreSQLレシピ：1つのクエリで列タイプを取得する</a></li>
<li><a href="../ja502684/index.html">なぜ彼：Ozon Goの教師への5つの質問</a></li>
<li><a href="../ja502686/index.html">RIT ++ 2020：ZumaのAvitoエンジニアとの協議</a></li>
<li><a href="../ja502688/index.html">Dialogflowでできること</a></li>
<li><a href="../ja502696/index.html">インターネットサービスプロバイダーが大規模感染時にグローバルブラックアウトを回避する方法</a></li>
<li><a href="../ja502700/index.html">Stack Overflowの作成者：「開発者は未来のためにスクリプトを作成する人です」</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>