<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✝️ 👩🏻‍🚒 🆎 Skalieren einer Redux-App mit Enten 🈂️ 🏪 👨🏾‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Vorfeld des Kursbeginns erstellte "React.js Entwickler" eine Übersetzung von nützlichem Material.
 
 
 
 
 Wie skaliert das Frontend Ihrer Anwendun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Skalieren einer Redux-App mit Enten</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/492638/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Vorfeld des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kursbeginns</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erstellte </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">"React.js Entwickler"</font></a><font style="vertical-align: inherit;"> eine Übersetzung von nützlichem Material.</font></font><br>
</i></b><br>
<br>
<img src="https://habrastorage.org/webt/v4/na/xg/v4naxgyec9pamduy0s1qf7gjqyc.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie skaliert das Frontend Ihrer Anwendung? Wie können Sie Ihren Code sechs Monate später unterstützen? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Jahr 2015 </font><font style="vertical-align: inherit;">stürmte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die Front-End-Entwicklungswelt und etablierte sich als Standard jenseits von React. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Unternehmen, für das ich arbeite, hat kürzlich die Umgestaltung einer großen Codebasis auf React abgeschlossen, bei der wir Redux anstelle von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reflux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> implementiert haben </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir mussten diesen Schritt tun, da ein Fortschritt ohne eine gut strukturierte Anwendung und ein klares Regelwerk nicht möglich war. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Codebasis gibt es seit mehr als zwei Jahren und Reflux war von Anfang an dabei. Wir mussten den Code ändern, der stark an React-Komponenten gebunden war, die seit mehr als einem Jahr niemand mehr berührt hatte.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basierend auf den Erfahrungen aus der geleisteten Arbeit habe ich dieses </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repository erstellt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um unseren Ansatz zur Organisation von Code auf Redux zu erläutern.</font></font><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie mehr über Redux, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzierungen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erfahren </font><font style="vertical-align: inherit;">, beginnen Sie mit einfachen Beispielen. </font><font style="vertical-align: inherit;">Viele der heute verfügbaren Tutorials gehen nicht darüber hinaus. </font><font style="vertical-align: inherit;">Wenn Sie jedoch in Redux etwas Komplexeres als eine Aufgabenliste erstellen, benötigen Sie eine vernünftige Methode, um Ihre Codebasis im Laufe der Zeit zu skalieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jemand hat einmal gesagt, dass es in der Informatik keine schwierigere Aufgabe gibt, als verschiedene Dinge zu benennen. </font><font style="vertical-align: inherit;">Ich konnte nicht widersprechen. </font><font style="vertical-align: inherit;">In diesem Fall stehen die Ordnerstrukturierung und die Dateiorganisation an zweiter Stelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns an, wie wir uns der Code-Organisation näherten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktion gegen Funktion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Es gibt zwei allgemein anerkannte Ansätze zum Organisieren von Anwendungen: Funktion zuerst und Funktion zuerst. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Im Screenshot links ist die Ordnerstruktur nach dem Prinzip von Funktion zuerst und rechts nach Merkmal zuerst organisiert. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ur/le/wb/urlewbt5etkrntpbqzlygb0yzlo.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Function-first bedeutet, dass Ihre Verzeichnisse der obersten Ebene nach den darin enthaltenen Dateien benannt werden. Sie haben also: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Container, Komponenten, Aktionen, Reduzierstücke</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usw. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies skaliert überhaupt nicht. Wenn Ihre Anwendung wächst und neue Funktionen angezeigt werden, fügen Sie Dateien denselben Ordnern hinzu. Infolgedessen müssen Sie lange durch den Inhalt eines der Ordner scrollen, um die gewünschte Datei zu finden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiteres Problem ist das Kombinieren von Ordnern. Einer Ihrer Anwendungsthreads erfordert wahrscheinlich den Zugriff auf Dateien aus allen Ordnern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einer der Vorteile dieses Ansatzes besteht darin, dass er in unserem Fall React von Redux isolieren kann. Wenn Sie die Statusverwaltungsbibliothek ändern möchten, wissen Sie daher, welche Ordner Sie benötigen. Wenn Sie die Ansichtsbibliothek ändern müssen, können Sie die Ordner mit Redux intakt lassen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feature-First bedeutet, dass Verzeichnisse der obersten Ebene gemäß der Hauptfunktionalität der Anwendung benannt werden: Produkt, Warenkorb, Sitzung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Ansatz lässt sich viel besser skalieren, da jedes neue Feature in einem neuen Ordner liegt. Sie haben jedoch keine Trennung zwischen den Komponenten Redux und React. Eine davon auf lange Sicht zu ändern, ist keine leichte Aufgabe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Außerdem haben Sie Dateien, die keiner Funktion angehören. </font><font style="vertical-align: inherit;">Infolgedessen kommt es auf den gemeinsamen oder freigegebenen Ordner an, da Sie Ihren Code auch in verschiedenen Funktionen Ihrer Anwendung verwenden möchten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Beste aus zwei Welten kombinieren</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Obwohl dies nicht das Thema des Artikels ist, möchte ich sagen, dass die Statusverwaltungsdateien aus den UI-Dateien separat gespeichert werden müssen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Denken Sie langfristig an Ihre Anwendung. Stellen Sie sich vor, was mit Ihrem Code passiert, wenn Sie von Reagieren zu etwas anderem wechseln. Oder überlegen Sie, wie Ihre Codebasis ReactNative parallel zur Webversion verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Zentrum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unseres Ansatzes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> steht das Prinzip der Isolation. Reagieren Sie Code in einem Ordner namens </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansichten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Code Redux in einem anderen Ordner namens Redux. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Trennung auf der Einstiegsebene gibt uns die Flexibilität, die einzelnen Teile der Anwendung auf völlig unterschiedliche Weise zu organisieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansichtsordner</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir unterstützen die Organisation von Function-First-Dateien. </font><font style="vertical-align: inherit;">Im Kontext von React sieht dies natürlich aus: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seiten, Layouts, Komponenten, Enhancer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usw. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um nicht verrückt nach der Anzahl der Dateien in einem Ordner zu werden, können Sie den Feature-First-Ansatz in diesen Ordnern verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inzwischen im </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ordner </font><font style="vertical-align: inherit;">...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einführung von Re-Enten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jede Anwendungsfunktion muss separaten Aktionen und Reduzierungen entsprechen, damit es sinnvoll ist, den Feature-First-Ansatz anzuwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die originalen modularen </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansatzenten</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erleichtern das Arbeiten mit Redux und bieten eine strukturierte Möglichkeit, Ihrer Anwendung neue Funktionen hinzuzufügen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie wollten jedoch verstehen, was passiert, wenn Sie die Anwendung skalieren. </font><font style="vertical-align: inherit;">Wir haben festgestellt, dass die Art und Weise, eine Datei pro Feature zu organisieren, die Anwendung überfüllt und ihre Unterstützung problematisch macht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tauchten Re-Enten auf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Lösung bestand darin, die Funktionalität in Entenordner aufzuteilen.</font></font><br>
<br>
<pre><code class="javascript hljs">duck/<font></font>
├── actions.js<font></font>
├── index.js<font></font>
├── operations.js<font></font>
├── reducers.js<font></font>
├── selectors.js<font></font>
├── tests.js<font></font>
├── types.js<font></font>
├── utils.js</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Der Entenordner sollte:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enthalten Sie die gesamte Logik, nur EIN Konzept Ihrer Anwendung zu verarbeiten, z. B. Produkt, Warenkorb, Sitzung usw.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enthält die Datei index.js, die gemäß den Entenregeln exportiert wird.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speichern Sie Code in einer einzelnen Datei, die ähnliche Aufgaben ausführt, z. B. Reduzierungen, Selektoren und Aktionen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enthalten Tests in Bezug auf Ente.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Beispiel haben wir beispielsweise keine Abstraktionen verwendet, die auf Redux basieren. </font><font style="vertical-align: inherit;">Bei der Erstellung von Software ist es wichtig, mit dem geringsten Abstraktionsgrad zu beginnen. </font><font style="vertical-align: inherit;">Sie werden also sehen, dass der Wert Ihrer Abstraktionen die Vorteile dieser Abstraktionen nicht übersteigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sicherstellen möchten, dass die Abstraktion schlecht ist, sehen Sie sich dieses Video von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cheng Lou an</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns den Inhalt jeder Datei an.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Typen</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Typen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Datei </font><font style="vertical-align: inherit;">enthält die Namen der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die Sie in Ihrer Anwendung auszuführen. </font><font style="vertical-align: inherit;">Als gute Vorgehensweise sollten Sie versuchen, den Namespace abzudecken, der der Funktion entspricht, zu der sie gehören. </font><font style="vertical-align: inherit;">Dieser Ansatz hilft beim Debuggen komplexer Anwendungen.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> QUACK = <span class="hljs-string">"app/duck/QUACK"</span>;
<span class="hljs-keyword">const</span> SWIM = <span class="hljs-string">"app/duck/SWIM"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    QUACK,<font></font>
    SWIM<font></font>
};</code></pre><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Diese Datei enthält alle Funktionen des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionserstellers</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> quack = <span class="hljs-function"><span class="hljs-params">( )</span> =&gt;</span> ( {
    <span class="hljs-attr">type</span>: types.QUACK<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">const</span> swim = <span class="hljs-function">(<span class="hljs-params"> distance </span>) =&gt;</span> ( {
    <span class="hljs-attr">type</span>: types.SWIM,
    <span class="hljs-attr">payload</span>: {<font></font>
        distance<font></font>
    }<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    swim,<font></font>
    quack<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Beachten Sie, dass alle </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> durch Funktionen dargestellt werden, auch wenn sie nicht parametrisiert sind. </font><font style="vertical-align: inherit;">Ein konsistenter Ansatz hat für eine große Codebasis die höchste Priorität.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operationen</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Um die Kette von Operationen ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Operationen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">darzustellen </font><font style="vertical-align: inherit;">, benötigen Sie die Redux- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Middleware</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um die Funktion des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versands</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu verbessern </font><font style="vertical-align: inherit;">. Beliebte Beispiele sind </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux-Thunk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux-Saga</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux-Observable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem Fall wird </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux-Thunk verwendet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Wir müssen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thunks</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action-Erstellern</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> trennen </font><i><font style="vertical-align: inherit;">,</font></i><font style="vertical-align: inherit;"> selbst wenn </font><font style="vertical-align: inherit;">wir </font><font style="vertical-align: inherit;">zusätzlichen Code schreiben müssen. Daher definieren wir die Operation als Wrapper über </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Operation nur eine </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sendet </font><font style="vertical-align: inherit;">, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dh</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kein </font><i><font style="vertical-align: inherit;">Redux-Thunk verwendet</font></i><font style="vertical-align: inherit;"> , senden wir die Funktion zum </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen von Aktionen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wenn die Operation </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thunk verwendet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kann sie viele </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> senden </font><font style="vertical-align: inherit;">und diese mithilfe von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versprechungen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verknüpfen </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">"./actions"</span>;<font></font>
<font></font>
<span class="hljs-comment">// This is a link to an action defined in actions.js.</span>
<span class="hljs-keyword">const</span> simpleQuack = actions.quack;<font></font>
<font></font>
<span class="hljs-comment">// This is a thunk which dispatches multiple actions from actions.js</span>
<span class="hljs-keyword">const</span> complexQuack = <span class="hljs-function">(<span class="hljs-params"> distance </span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params"> dispatch </span>) =&gt;</span> {<font></font>
    dispatch( actions.quack( ) ).then( <span class="hljs-function"><span class="hljs-params">( )</span> =&gt;</span> {<font></font>
        dispatch( actions.swim( distance ) );<font></font>
        dispatch( <span class="hljs-comment">/* any action */</span> );<font></font>
    } );<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    simpleQuack,<font></font>
    complexQuack<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Nennen Sie sie Operationen, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thunks</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Sagen, Epen, wie Sie wollen. </font><font style="vertical-align: inherit;">Identifizieren Sie einfach die Prinzipien der Benennung und halten Sie sich an diese. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ganz am Ende werden wir über den Index sprechen und sehen, dass Operationen Teil der öffentlichen Schnittstelle von duck sind. </font><font style="vertical-align: inherit;">Aktionen sind gekapselt, Operationen werden von außen zugänglich.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzierstücke</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Wenn Sie eine vielfältigere Funktion haben, sollten Sie auf jeden Fall mehrere </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzierungen verwenden</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um komplexe Zustandsstrukturen zu handhaben. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haben</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sie außerdem </font><font style="vertical-align: inherit;">keine Angst davor, so viele </font><i><font style="vertical-align: inherit;">Mähdrescher zu verwenden,</font></i><font style="vertical-align: inherit;"> wie Sie benötigen. Dies ermöglicht ein freieres Arbeiten mit Zustandsobjektstrukturen.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { combineReducers } <span class="hljs-keyword">from</span> <span class="hljs-string">"redux"</span>;
<span class="hljs-keyword">import</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-comment">/* State Shape
{
    quacking: bool,
    distance: number
}
*/</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> quackReducer = <span class="hljs-function">(<span class="hljs-params"> state = <span class="hljs-literal">false</span>, action </span>) =&gt;</span> {
    <span class="hljs-keyword">switch</span>( action.type ) {
        <span class="hljs-keyword">case</span> types.QUACK: <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-comment">/* ... */</span>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> distanceReducer = <span class="hljs-function">(<span class="hljs-params"> state = <span class="hljs-number">0</span>, action </span>) =&gt;</span> {
    <span class="hljs-keyword">switch</span>( action.type ) {
        <span class="hljs-keyword">case</span> types.SWIM: <span class="hljs-keyword">return</span> state + action.payload.distance;
        <span class="hljs-comment">/* ... */</span>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> reducer = combineReducers( {
    <span class="hljs-attr">quacking</span>: quackReducer,
    <span class="hljs-attr">distance</span>: distanceReducer<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> reducer;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 In einer großen Anwendung besteht der Statusbaum aus mindestens drei Ebenen. </font><font style="vertical-align: inherit;">Die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzierungsfunktionen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sollten so klein wie möglich sein und nur einfache Datenkonstrukte verarbeiten. </font><font style="vertical-align: inherit;">Die Funktion </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combinReducers</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist alles, was Sie benötigen, um eine flexible und wartbare </font><i><font style="vertical-align: inherit;">Statusstruktur</font></i><font style="vertical-align: inherit;"> zu erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen Sie sich das vollständige </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektbeispiel an</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erfahren Sie</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">wie Sie </font><i><font style="vertical-align: inherit;">combinReducers richtig verwenden</font></i><font style="vertical-align: inherit;"> , insbesondere in Dateien </font></font><code>reducers.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>store.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wo wir den </font><i><font style="vertical-align: inherit;">Statusbaum</font></i><font style="vertical-align: inherit;"> erstellen </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selektoren</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Zusammen mit dem Operations Selector ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selector</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) sind Teil der öffentlichen Schnittstelle Ente. </font><font style="vertical-align: inherit;">Der Unterschied zwischen Operationen und Selektoren ähnelt dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CQRS-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Muster </font><font style="vertical-align: inherit;">. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auswahlfunktionen nehmen einen Teil des Anwendungsstatus und geben einige darauf basierende Daten zurück. </font><font style="vertical-align: inherit;">Sie nehmen niemals Änderungen am Status der Anwendung vor.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkIfDuckIsInRange</span>(<span class="hljs-params"> duck </span>) </span>{
    <span class="hljs-keyword">return</span> duck.distance &gt; <span class="hljs-number">1000</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    checkIfDuckIsInRange<font></font>
};</code></pre><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Index</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Diese Datei gibt an, was aus dem Entenordner exportiert wird. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ist er:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exportiert </font><font style="vertical-align: inherit;">standardmäßig </font><font style="vertical-align: inherit;">die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzierungsfunktion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von duck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exportiert Selektoren und Operationen als registrierte Exporte.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exportiert Typen, falls erforderlich, in andere Enten.</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">"./reducers"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckSelectors } <span class="hljs-keyword">from</span> <span class="hljs-string">"./selectors"</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckOperations } <span class="hljs-keyword">from</span> <span class="hljs-string">"./operations"</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckTypes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> reducer;</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tests</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Vorteil der Verwendung von Redux mit dem Enten-Framework besteht darin, dass Sie Tests direkt nach dem Code schreiben können, den Sie testen möchten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Testen Ihres Codes auf Redux ist ziemlich einfach:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> expect <span class="hljs-keyword">from</span> <span class="hljs-string">"expect.js"</span>;
<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">"./reducers"</span>;
<span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">"./actions"</span>;<font></font>
<font></font>
describe( <span class="hljs-string">"duck reducer"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{<font></font>
    describe( <span class="hljs-string">"quack"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{
        <span class="hljs-keyword">const</span> quack = actions.quack( );
        <span class="hljs-keyword">const</span> initialState = <span class="hljs-literal">false</span>;<font></font>
<font></font>
        <span class="hljs-keyword">const</span> result = reducer( initialState, quack );<font></font>
<font></font>
        it( <span class="hljs-string">"should quack"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{<font></font>
            expect( result ).to.be( <span class="hljs-literal">true</span> ) ;<font></font>
        } );<font></font>
    } );<font></font>
} );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diese Datei können Sie Tests für </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzierungen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Operationen, Selektoren usw. </font><font style="vertical-align: inherit;">schreiben </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich könnte einen separaten Artikel über die Vorteile des Codetests schreiben, aber sie reichen bereits aus. Testen Sie also einfach Ihren Code!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das ist alles</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die gute Nachricht bei Re-Ducks ist, dass Sie für Ihren gesamten Redux-Code dieselbe Vorlage verwenden können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funktionsbasierte</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Partitionierungsansatz </font><font style="vertical-align: inherit;">für Ihren Redux-Code hilft Ihrer Anwendung, flexibel und skalierbar zu bleiben, wenn sie wächst. </font><font style="vertical-align: inherit;">Ein </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funktionsbasierter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trennungsansatz eignet </font><font style="vertical-align: inherit;">sich gut, wenn kleine Komponenten erstellt werden, die verschiedenen Teilen der Anwendung gemeinsam sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können an den vollen einen Blick </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reagieren-redux-Beispiel</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Codebasis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Beachten Sie, dass das Repository aktiv arbeitet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie organisieren Sie Ihre Redux-Anwendungen? </font><font style="vertical-align: inherit;">Ich freue mich auf Feedback zum beschriebenen Ansatz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sehen uns auf dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de492612/index.html">Dekorative Deckenleuchte Lauch Berühmtheit</a></li>
<li><a href="../de492616/index.html">Packer, Terraform und Ansible: Kubernetes-Clusterbereitstellung in einer Stunde</a></li>
<li><a href="../de492628/index.html">Konfidenzintervall für die Anzahl der Patienten mit Coronavirus (Mortalitätsberechnung)</a></li>
<li><a href="../de492632/index.html">Kleinunternehmen in Quarantäne: Panik ist der Feind der Vernunft</a></li>
<li><a href="../de492636/index.html">Was bedeutet es, effektiv zu sein?</a></li>
<li><a href="../de492642/index.html">Erstellen Sie eine skalierbare und ausfallsichere Architektur mit dynamischen Mikrodiensten</a></li>
<li><a href="../de492652/index.html">Kartenspiel "Fool" auf zwei M5Stack</a></li>
<li><a href="../de492658/index.html">Ich ging zu einer Fernbedienung - startete einen Podcast: Was für Anfänger zu lesen - 5 bewährte Bücher</a></li>
<li><a href="../de492660/index.html">Die ganze Welt gegen Coronavirus. Intel Geschichten</a></li>
<li><a href="../de492662/index.html">Wie ich zum ersten Mal eine Universitätsvorlesung gestreamt habe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>