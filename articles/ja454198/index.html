<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔨 🎅🏻 🌕 IDEAでマルチモジュールGradle SpringBoot + Angularプロジェクトを作成する 🏌️ 🥡 👨🏻‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私の実践ではかなり頻繁に、Spring + Angularの束が使用されます。IntelliJ IDEA開発環境で同様のプロジェクトを準備した経験を共有したいと思います。
 
 空のGradleプロジェクトを作成する
 

最初に、IDEAで空のGradleプロジェクトを作成し、すべてのライブラリと...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>IDEAでマルチモジュールGradle SpringBoot + Angularプロジェクトを作成する</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454198/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私の実践ではかなり頻繁に、Spring + Angularの束が使用されます。</font><font style="vertical-align: inherit;">IntelliJ IDEA開発環境で同様のプロジェクトを準備した経験を共有したいと思います。</font></font><br>
</p><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空のGradleプロジェクトを作成する</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初に、IDEAで空のGradleプロジェクトを作成し、すべてのライブラリとフレームワークのチェックを外します。 </font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/vf/il/qq/vfilqq0gnm8nlarkbollb_chiec.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーティファクトを「demo」、グループを「com.habr」とします。</font><font style="vertical-align: inherit;">プロジェクトを作成した後、settings.gradleおよびbuild.gradleファイルが次の内容で自動的に生成されます。</font></font><br>
<br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
build.gradle</font></font><br>
<br>
<pre><code class="java hljs">	group <span class="hljs-string">'com.habr'</span>
	version <span class="hljs-string">'1.0'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
settings.gradle</font></font><br>
<br>
<pre><code class="java hljs">	rootProject.name = <span class="hljs-string">'demo'</span>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Springのモジュールを作成する </font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、アプリケーションのサーバー部分をホストするモジュールをプロジェクトに追加します。</font><font style="vertical-align: inherit;">春</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/sd/du/j_/sdduj_t4z_db5wrotarr1rbj2ow.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このモジュールを作成するときは、Spring Initializrを使用します。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/mn/zo/e1/mnzoe1x8bewpe30iytvvvy44hjc.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールに「demo-server」という名前を付け、Gradleプロジェクトのタイプ、グループcom.habr、メインパッケージの名前org.habr.demoを示します。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/oo/an/ow/ooanowgml7z6wisa0octjuvjtlu.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、Springフレームワークに必要なすべてのコンポーネントを選択する必要があります。この例では「web」のみを選択しましたが、必要なものはすべて選択できます。 </font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/qp/nn/ib/qpnnib9dovly70udh8uphsj9dis.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo-serverモジュールを作成した後、build.gradleとsettings.gradleの2つのファイルが作成されたことに注意してください。</font><font style="vertical-align: inherit;">このモジュールのsettings.gradleから、次の行をプロジェクト自体のsettings.gradleファイルの先頭に転送し、モジュールのsettings.gradleを削除する必要があります。</font></font><br>
</p><br>
<br>
<pre><code class="java hljs">pluginManagement {<font></font>
    repositories {<font></font>
        gradlePluginPortal()<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらに、作成したモジュールをプロジェクトのsettings.gradleに追加する必要があります。その結果、次のようになります。</font></font><br>
</p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
settings.gradle</font></font><br>
<pre><code class="java hljs">	pluginManagement {<font></font>
    	    repositories {<font></font>
       		gradlePluginPortal()<font></font>
    	    }<font></font>
	}<font></font>
<font></font>
	rootProject.name = <span class="hljs-string">'demo'</span><font></font>
<font></font>
	include <span class="hljs-string">'demo-server'</span>
</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その後、demo-serverモジュールのbuild.gradleファイルから次の行を削除します。</font></font><br>
</p><br>
<pre><code class="java hljs">    group = <span class="hljs-string">'com.habr'</span>
    version = <span class="hljs-string">'0.0.1'</span>
</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> これで、最初のモジュールの作成は完了したと見なすことができますが、2番目のモジュールに関連付けるために、ここに戻ります。</font></font><br>
</p><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Angular用のモジュールを作成する </font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo-uiモジュールをJava Gradleプロジェクトとして作成します。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/5v/tk/ft/5vtkftnan9pmh1lwmbyhyv7tpea.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成したモジュールに「demo-ui」という名前を付けましょう。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/fx/qd/wb/fxqdwbg9dgfnj6_wggxamqdonlk.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成したプロジェクトで、srcフォルダーを削除する必要があります。</font><font style="vertical-align: inherit;">この操作を実行した後、このモジュールのルートフォルダーでターミナルを開きます。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/5b/fr/0o/5bfr0o-ob2vluag_lqi6klljckm.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開いたターミナルで、次のコマンドを実行します。</font></font><br>
</p> <br>
<pre><code class="bash hljs">ng new demo-ui
</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドによりAngularがインストールされ、demo-uiモジュール内に同じ名前のフォルダーが作成されます。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/4q/es/fj/4qesfj4_yndgpnbejgo1chpbgrq.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 作成されたフォルダーのすべてのコンテンツ（node-modulesを除く）をモジュールのルートに移動する必要があり、フォルダー自体を削除する必要があります。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/yk/vc/ww/ykvcwwdsqayyq9wd9vgadvybi2e.png"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 次に、アセンブリを構成します。これのために、demo-uiモジュールのbuild.gradleを次の形式にします。</font></font><br>
</p><br>
<pre><code class="java hljs">	plugins {<font></font>
    	    id <span class="hljs-string">'java'</span>
    	    id <span class="hljs-string">"com.moowork.node"</span> version <span class="hljs-string">"1.3.1"</span><font></font>
	}<font></font>
<font></font>
	node {<font></font>
    	    version = <span class="hljs-string">'10.14.1'</span>
    	    npmVersion = <span class="hljs-string">'6.4.1'</span>
    	    download = <span class="hljs-keyword">true</span><font></font>
	}<font></font>
<font></font>
	jar.dependsOn <span class="hljs-string">'npm_run_build'</span><font></font>
<font></font>
	jar {<font></font>
            <span class="hljs-comment">// "demo-ui" -  Angular ,    ng new</span>
    	    from <span class="hljs-string">'dist/demo-ui'</span> into <span class="hljs-string">'static'</span>  <font></font>
	}<font></font>
</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールの準備が整いました。</font></font><br>
</p><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> モジュールをバインドします </font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo-serverモジュールのbuild.gradleに依存関係を追加するだけです。</font></font><br>
</p><br>
<pre><code class="java hljs"><span class="hljs-function">implementation <span class="hljs-title">project</span><span class="hljs-params">(<span class="hljs-string">':demo-ui'</span>)</span>
</span></code></pre><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その結果、demo-serverモジュールに次のbuild.gradleが含まれます。</font></font><br>
</p><br>
<pre><code class="java hljs">	plugins {<font></font>
	    id <span class="hljs-string">'org.springframework.boot'</span> version <span class="hljs-string">'2.1.5.RELEASE'</span>
	    id <span class="hljs-string">'java'</span><font></font>
	}<font></font>
	<font></font>
	apply plugin: <span class="hljs-string">'io.spring.dependency-management'</span><font></font>
	<font></font>
	sourceCompatibility = <span class="hljs-string">'1.8'</span><font></font>
<font></font>
	repositories {<font></font>
	    mavenCentral()<font></font>
	}<font></font>
<font></font>
	dependencies {<font></font>
	    <span class="hljs-function">implementation <span class="hljs-title">project</span><span class="hljs-params">(<span class="hljs-string">':demo-ui'</span>)</span>
	    implementation 'org.springframework.boot:spring-boot-starter-web'
	    testImplementation 'org.springframework.boot:spring-boot-starter-test'
	}

</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">発売</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションを実行するには、Gradleタスクを実行するだけです。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/xz/np/8f/xznp8fajeab-6yats7ceb7fsnm4.png"><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その後、アプリケーションがビルドされて起動され、ブラウザで開くことができます。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/qi/dn/du/qidndu0ytyk-fohggmwkod4w4vg.png"><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まあ、jarファイルを取得したい場合は、ビルドタスクを実行してください。</font></font><br>
</p><br>
<img src="https://habrastorage.org/webt/md/q7/9r/mdq79rfnqcpy-kdpj-spsptbqsg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アセンブルされたファイルは、demo-server / build / libsで待機します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wy/lq/6q/wylq6qfgpuzusxjgsewhzy0wazw.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja454184/index.html">KubeCon Europe 2019：Kubernetesメインイベントに初めてアクセスした方法</a></li>
<li><a href="../ja454186/index.html">ストリーミングデータ処理用のパイプラインを作成します。パート1</a></li>
<li><a href="../ja454188/index.html">代替採用チャネル</a></li>
<li><a href="../ja454190/index.html">スマートフォンが盗まれた場合に行う必要のないこと</a></li>
<li><a href="../ja454196/index.html">ドローンの例を使用した電子機器の3Dプリント：ワイヤーとボードは不要になりました</a></li>
<li><a href="../ja454204/index.html">行動クロールは万能薬ではありませんか？</a></li>
<li><a href="../ja454206/index.html">PHDays 9：AI CTF解析</a></li>
<li><a href="../ja454208/index.html">RISC-Vを最初から</a></li>
<li><a href="../ja454210/index.html">忘れられたenchantjs +新しい1C-Bitrix =顧客の動機付けのためのゲーム</a></li>
<li><a href="../ja454214/index.html">ほとんどすべてのソフトウェアが嫌い</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>