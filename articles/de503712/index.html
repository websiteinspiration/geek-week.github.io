<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§òüèæ üë©üèø‚Äçüöí üìÇ Status und Leistung der persistenten Speicherl√∂sungen von Kubernetes ü§ö üö∞ ‚óΩÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hinweis perev. : Obwohl diese √úberpr√ºfung nicht den Status eines sorgf√§ltig entwickelten technischen Vergleichs bestehender L√∂sungen f√ºr die dauerhaft...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Status und Leistung der persistenten Speicherl√∂sungen von Kubernetes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/503712/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis perev.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Obwohl diese √úberpr√ºfung nicht den Status eines sorgf√§ltig entwickelten technischen Vergleichs bestehender L√∂sungen f√ºr die dauerhafte Speicherung von Daten in Kubernetes beansprucht, kann sie ein guter Ausgangspunkt f√ºr Administratoren sein, die f√ºr dieses Problem relevant sind. Die gr√∂√üte Aufmerksamkeit wurde der Pir√§us-L√∂sung gewidmet, deren Vertrautheit nicht nur Linstor-Liebhabern zugute kommt, sondern auch denen, die noch nichts von diesen Projekten geh√∂rt haben.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/oa/ev/6t/oaev6tibppjvpg4ommvvleyxu_c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dies ist eine unwissenschaftliche √úbersicht √ºber Speicherl√∂sungen f√ºr Kubernetes. Problemstellung: Erfordert die F√§higkeit, ein dauerhaftes Volume auf den Festplatten des Knotens zu erstellen, dessen Daten im Falle einer Besch√§digung oder eines Neustarts des Knotens gespeichert werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Motivation f√ºr diesen Vergleich ist die Notwendigkeit, die Serverflotte des Unternehmens von mehreren dedizierten Bare-Metal-Servern auf den Kubernetes-Cluster zu migrieren.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Unternehmen ist ein </font><font style="vertical-align: inherit;">brasilianisches </font><font style="vertical-align: inherit;">Startup-Unternehmen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">namens Escavador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit einem enormen Computerbedarf (haupts√§chlich CPU) und einem sehr begrenzten Budget. Wir entwickeln NLP-L√∂sungen zur Strukturierung von Rechtsdaten. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lm/42/gl/lm42gl4y03e1vacxpeu48ov8ipu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aufgrund der Krise mit COVID-19 fiel der brasilianische Real gegen√ºber dem US-Dollar auf ein Rekordtief</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere Landesw√§hrung wird tats√§chlich sehr untersch√§tzt, sodass das durchschnittliche Gehalt eines Senior-Entwicklers nur 2000 USD pro Monat betr√§gt. Daher k√∂nnen wir uns den Luxus nicht leisten, erhebliche Betr√§ge f√ºr Cloud-Dienste auszugeben. Als ich die Berechnungen das letzte Mal durchgef√ºhrt habe, haben wir [dank der Verwendung meiner Server] 75% gespart, verglichen mit dem, was ich f√ºr AWS bezahlen m√ºsste. Mit anderen Worten, ein anderer Entwickler kann f√ºr das eingesparte Geld eingestellt werden - ich denke, dass dies eine viel rationellere Verwendung der Mittel ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inspiriert von einer Reihe von Ver√∂ffentlichungen von Vito Botta, habe ich beschlossen, mit Rancher einen K8s-Cluster zu erstellen (und bisher so gut ...). Vito f√ºhrte auch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine hervorragende Analyse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verschiedener Speicherl√∂sungen durch. Der klare Gewinner war Linstor (er hat es sogar herausgegriffen</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonderliga</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spoiler: Ich stimme ihm zu.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Seit einiger Zeit verfolge ich den Verkehr um Kubernetes, habe mich aber erst k√ºrzlich entschlossen, daran teilzunehmen. Dies ist vor allem darauf zur√ºckzuf√ºhren, dass der Anbieter √ºber eine neue Reihe von Ryzen-Prozessoren verf√ºgt. Und dann war ich sehr √ºberrascht zu sehen, dass sich viele L√∂sungen noch in der Entwicklung oder im unreifen Zustand befinden (insbesondere f√ºr Bare-Metal-Cluster: VM-Virtualisierung, MetalLB usw.). Tresore auf Bare Metal befinden sich noch in einem ausgereiften Stadium, obwohl sie durch eine Vielzahl von kommerziellen und Open Source-L√∂sungen repr√§sentiert werden. Ich beschloss, die wichtigsten vielversprechenden und kostenlosen L√∂sungen zu vergleichen (gleichzeitig ein kommerzielles Produkt zu testen, um zu verstehen, was ich verliere). </font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Angebot an</font></a></i></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/bt/ju/ibbtjukbsn_iedl3vnbxblnguey.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Speicherl√∂sungen bei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CNCF Landscape</font></font></a></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber zuerst m√∂chte ich Sie warnen, dass ich neu bei K8s bin. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr Experimente wurden 4 Arbeiter mit der folgenden Konfiguration verwendet: Ryzen 3700X-Prozessor, 64 GB ECC-Speicher, NVMe 2 TB gro√ü. </font><font style="vertical-align: inherit;">Benchmarks wurden unter Verwendung des Bildes </font></font><code>sotoaster/dbench:latest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(auf fio) mit der Flagge erstellt </font></font><code>O_DIRECT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Longhorn</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lizenz: Apache 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kommerzielle Unterst√ºtzung: Rancher</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/longhorn/longhorn</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sterne auf GitHub: 1,3 Tausend</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Longhorn hat mir sehr gut gefallen. </font><font style="vertical-align: inherit;">Es ist vollst√§ndig in Rancher integriert und kann mit einem Klick √ºber Helm installiert werden. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xa/xc/fo/xaxcfod6ctz3r1znababkc4jufe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Longhorn von Rancher installieren</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dies ist ein Open Source-Tool mit dem Status eines Sandbox-Projekts der Cloud Native Computing Foundation (CNCF). </font><font style="vertical-align: inherit;">Die Entwicklung wird von Rancher finanziert - einem ziemlich erfolgreichen Unternehmen mit einem bekannten [gleichnamigen] Produkt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z0/nx/fy/z0nxfybkesf930zdaqac3gi_kcy.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine hervorragende grafische Oberfl√§che</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist </font><b><font style="vertical-align: inherit;">ebenfalls verf√ºgbar</font></b><font style="vertical-align: inherit;"> - alles kann daraus gemacht werden. </font><font style="vertical-align: inherit;">Mit der Leistung ist alles in Ordnung. </font><font style="vertical-align: inherit;">Das Projekt befindet sich noch in der Beta-Phase, was durch Probleme auf GitHub best√§tigt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Testen habe ich einen Benchmark mit 2 Replikaten und Longhorn 0.8.0 gestartet:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zuf√§lliges Lesen / Schreiben, IOPS: 28,2 k / 16,2 k;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lese- / Schreibbandbreite: 205 Mb / s / 108 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Durchschnittliche Lese- / Schreiblatenz (usec): 593,27 / 644,27;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sequentielles Lesen / Schreiben: 201 Mb / s / 108 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gemischtes zuf√§lliges Lesen / Schreiben, IOPS: 14.7k / 4904.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Openebs</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lizenz: Apache 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommerzielle Unterst√ºtzung: mehrere Unternehmen (?); </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mayadata.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> scheint das gr√∂√üte zu sein</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/openebs/openebs</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sterne auf GitHub: 6K</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses Projekt hat auch den CNCF-Sandbox-Status. </font><font style="vertical-align: inherit;">Mit einer gro√üen Anzahl von Sternen auf GitHub sieht es nach einer vielversprechenden L√∂sung aus. </font><font style="vertical-align: inherit;">In seiner Rezension beklagte sich Vito Botta √ºber unzureichende Leistung. </font><font style="vertical-align: inherit;">Der </font><font style="vertical-align: inherit;">Mayadata-CEO </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">antwortete</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ihm </font><font style="vertical-align: inherit;">wie </font><font style="vertical-align: inherit;">folgt:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informationen sind sehr veraltet. </font><font style="vertical-align: inherit;">OpenEBS unterst√ºtzte fr√ºher 3, jetzt jedoch 4 Engines, wenn Sie die dynamische Bereitstellung und die lokale PV-Orchestrierung aktivieren, die mit NVMe-Geschwindigkeit ausgef√ºhrt werden k√∂nnen. </font><font style="vertical-align: inherit;">Dar√ºber hinaus ist die MayaStor-Engine jetzt ge√∂ffnet und erh√§lt bereits positive Bewertungen (obwohl sie den Alpha-Status hat).</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der OpenEBS-Projektseite gibt es eine solche Erkl√§rung zum Status:</font></font><br>
<br>
<blockquote>OpenEBS ‚Äî             Kubernetes. OpenEBS   sandbox- CNCF   2019-       ,    -     (local, nfs, zfs, nvme)   on-premise,     . OpenEBS      -  stateful- ‚Äî Litmus Project, ‚Äî          OpenEBS.    OpenEBS  production  2018 ;    2,5  docker pull'.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es hat viele Motoren, und der letzte scheint in Bezug auf die Leistung recht vielversprechend zu sein: ‚ÄûMayaStor - Alpha-Motor mit NVMe √ºber Stoffen‚Äú. </font><font style="vertical-align: inherit;">Leider habe ich es wegen des Alpha-Versionsstatus nicht getestet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Tests wurde Version 1.8.0 f√ºr die Jiva-Engine verwendet. </font><font style="vertical-align: inherit;">Au√üerdem habe ich zuvor cStor √ºberpr√ºft, aber die Ergebnisse nicht gespeichert, was sich jedoch als etwas langsamer als jiva herausstellte. </font><font style="vertical-align: inherit;">F√ºr den Benchmark wurde ein Helmdiagramm mit allen Standardeinstellungen installiert und die von Helm ( </font></font><code>openebs-jiva-default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">standardm√§√üig erstellte Speicherklasse </font><font style="vertical-align: inherit;">verwendet. </font><font style="vertical-align: inherit;">Die Leistung erwies sich als die schlechteste aller in Betracht gezogenen L√∂sungen (ich w√§re dankbar f√ºr Ratschl√§ge zur Verbesserung). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OpenEBS 1.8.0 mit Jiva Engine (3 Replikate?):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zuf√§lliges Lesen / Schreiben, IOPS: 2182/1527;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lese- / Schreibbandbreite: 65,0 Mbit / s / 41,9 Mbit / s;</font></font></li>
<li>   / (usec): 1825.49 / 2612.87;</li>
<li>  /: 95.5 / / 37.8 /;</li>
<li>   /, IOPS: 2607 / 856.</li>
</ul><br>
<i><b>  </b>.   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> Evan Powell,   OpenEBS (   ,    StackStorm  Nexenta):</i><br>
<br>
<blockquote><i>   , Bruno!         OpenEBS  .    Jiva,      ARM      overhead'  .    Bloomberg    DynamicLocal PV  OpenEBS.       Elastic     ,  .  ,        OpenEBS Director (https://account.mayadata.io/signup).    ‚Äî     ,     .</i></blockquote><br>
<h2>StorageOS</h2><br>
<ul>
<li> : </li>
<li> URL: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">storageos.com</a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist eine kommerzielle L√∂sung, die kostenlos ist, wenn bis zu 110 GB Speicherplatz verwendet werden. Eine kostenlose </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwicklerlizenz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erhalten Sie, indem Sie sich √ºber die Produktbenutzeroberfl√§che registrieren. Es bietet bis zu 500 GB Speicherplatz. In Rancher wird es als Partner aufgef√ºhrt, sodass die Installation mit Helm einfach und problemlos war. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dem Benutzer wird ein grundlegendes Bedienfeld angeboten. Das Testen dieses Produkts war begrenzt, da es kommerziell ist und nicht zu unserem Wert passt. Trotzdem wollte ich sehen, wozu kommerzielle Projekte in der Lage sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Test verwendet die vorhandene Speicherklasse "Schnell" (Vorlage 0.2.19, 1 Master + 0 Replikat?). Die Ergebnisse waren erstaunlich. Sie √ºbertrafen fr√ºhere L√∂sungen deutlich.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zuf√§lliges Lesen / Schreiben, IOPS: 117k / 90,4k;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lese- / Schreibbandbreite: 2124 Mbit / s / 457 Mbit / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Durchschnittliche Lese- / Schreiblatenz (usec): 63,44 / 86,52;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sequentielles Lesen / Schreiben: 1907 Mb / s / 448 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gemischtes zuf√§lliges Lesen / Schreiben, IOPS: 81,9k / 27,3k.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pir√§us (basierend auf Linstor)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lizenz: GPLv3</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommerzielle Unterst√ºtzung: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LINBIT</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/piraeusdatastore/piraeus</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basierend auf: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/LINBIT/linstor-server</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sterne auf GitHub: weniger als 100 (nicht sparen, Sternchen auf das Projekt setzen!)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der bereits erw√§hnte Vito Botta entschied sich schlie√ülich f√ºr Linstor, was ein weiterer Grund war, diese L√∂sung auszuprobieren. </font><font style="vertical-align: inherit;">Auf den ersten Blick sieht das Projekt ziemlich seltsam aus. </font><font style="vertical-align: inherit;">Es gibt fast keine Sterne auf GitHub, ein ungew√∂hnlicher Name, und er existiert nicht einmal auf CNCF Landscape. </font><font style="vertical-align: inherit;">Aber bei n√§herer Betrachtung ist nicht alles so be√§ngstigend, weil:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DRBD wird als grundlegender Replikationsmechanismus verwendet (tats√§chlich wurde es von denselben Personen entwickelt). </font><font style="vertical-align: inherit;">Gleichzeitig ist DRBD 8.x seit mehr als 10 Jahren Teil des offiziellen Linux-Kernels. </font><font style="vertical-align: inherit;">Und wir sprechen √ºber Technologie, die seit √ºber 20 Jahren weiterentwickelt wird.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Medien werden von LINSTOR gesteuert, ebenfalls eine ausgereifte Technologie desselben Unternehmens. </font><font style="vertical-align: inherit;">Die erste Version von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linstor-Server</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erschien im Februar 2018 auf GitHub. </font><font style="vertical-align: inherit;">Es ist kompatibel mit verschiedenen Technologien / Systemen wie Proxmox, OpenNebula und OpenStack.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anscheinend entwickelt Linbit das Projekt aktiv weiter und f√ºhrt st√§ndig neue Funktionen und Verbesserungen ein. </font><font style="vertical-align: inherit;">Die 10. Version von DRBD hat noch den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alpha-Status</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , verf√ºgt jedoch bereits √ºber einige einzigartige Funktionen, wie z. B. L√∂schcodierung </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(analog zur Funktionalit√§t von RAID5 / 6 - ca. Transl.)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Unternehmen ergreift </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bestimmte Ma√ünahmen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um eines der CNCF-Projekte zu werden.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, das Projekt sieht √ºberzeugend genug aus, um ihm seine wertvollen Daten anzuvertrauen. </font><font style="vertical-align: inherit;">Aber kann er Alternativen wiederholen? </font><font style="vertical-align: inherit;">Lassen Sie uns einen Blick darauf werfen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vito spricht √ºber die </font><font style="vertical-align: inherit;">Installation von </font><font style="vertical-align: inherit;">Linstor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . In den Kommentaren empfiehlt jedoch einer der Linstor-Entwickler ein neues Projekt namens Pir√§us. So wie ich es verstehe, wird </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pir√§us</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zum Linbit Open Source-Projekt, das alles kombiniert, was mit K8 zu tun hat. Das Team arbeitet an dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entsprechenden Operator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , aber Piraeus kann derzeit mithilfe dieser YAML-Datei installiert werden:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl apply -f https://raw.githubusercontent.com/bratao/piraeus/master/deploy/all.yaml</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beachtung! </font><font style="vertical-align: inherit;">Sie holen Konfigurationen aus meinem pers√∂nlichen Repository ab. </font><font style="vertical-align: inherit;">Schauen Sie sich das offizielle Repository an! </font><font style="vertical-align: inherit;">Ich habe die Version der Bilder aktualisiert, um den Fehler zu beheben, der bei der Verwendung in Ubuntu auftritt. </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das offizielle Pir√§us-Repository finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen auch das kvaps-Repository verwenden (es scheint noch dynamischer zu sein als das offizielle Piraeus-Repository): </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/kvaps/kube-linstor </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(nutzen Sie diese Gelegenheit, um Andrey zu begr√º√üen</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kvaps</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ca. </font><font style="vertical-align: inherit;">perev.)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6x/wx/nh/6xwxnhsh1ee3oimukq4enhpj8by.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle Knoten funktionieren nach der Installation</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwaltung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Administration erfolgt √ºber die Kommandozeile. </font><font style="vertical-align: inherit;">Der Zugriff darauf ist √ºber die Befehlsshell des Piraeus-Controller-Knotens m√∂glich. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/al/al/ns/alalnsdlrqxen1po4kjdvkqorg0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf dem Controller-Knoten wird Linstor-Server ausgef√ºhrt. </font><font style="vertical-align: inherit;">Es ist eine Abstraktionsschicht √ºber drbd, die die gesamte Knotenflotte verwalten kann. </font><font style="vertical-align: inherit;">Der folgende Screenshot zeigt einige n√ºtzliche Befehle f√ºr die beliebtesten Aufgaben, zum Beispiel:</font></font><br>
<br>
<ul>
<li> <code>linstor node list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eine Liste der verbundenen Knoten und deren Status anzeigen;</font></font></li>
<li> <code>linstor volume list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eine Liste der erstellten Volumes und deren Speicherort anzeigen;</font></font></li>
<li> <code>linstor node info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Zeigen Sie die F√§higkeiten jedes Knotens an.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/cv/gs/nb/cvgsnbc08kqvpkcyilvnpc_rsq4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linstor-Befehle Eine</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
vollst√§ndige Liste der Befehle finden Sie in der offiziellen Dokumentation: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benutzerhandbuch LINSTOR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Situationen wie Split Brain kann auf drbd direkt √ºber die Knoten zugegriffen werden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notfallwiederherstellung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mein Bestes getan, um meinen Cluster zu l√∂schen, einschlie√ülich Hard Reset auf Knoten. Aber Linstor war √ºberraschend hartn√§ckig. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Drbd erkennt ein Problem namens Split Brain perfekt. In meiner Situation ist der sekund√§re Knoten nicht mehr repliziert worden.</font></font><br>
<br>
<blockquote>Split brain ‚Äî  ,  -       ,       -      Primary,   ¬´¬ª .     ,            .  ,      ,     .<br>
<br>
Split brain  DRBD   ,     ,        Heartbeat.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Details finden Sie in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offiziellen Dokumentation von drbd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/q5/mo/01q5morra2apvjguxsvng9ocxac.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der sekund√§re Knoten ist nicht mehr repliziert.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In meinem Fall habe ich zur L√∂sung des Problems die sekund√§ren Daten gel√∂scht und mit der Synchronisierung mit dem prim√§ren Knoten begonnen. </font><font style="vertical-align: inherit;">Da ich grafische Oberfl√§chen bevorzuge, habe ich daf√ºr das Dienstprogramm drbdtop verwendet. </font><font style="vertical-align: inherit;">Mit seiner Hilfe k√∂nnen Sie den Status visuell √ºberwachen und Befehle innerhalb von Knoten ausf√ºhren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich musste in die Konsole auf dem Problemknoten piraues gehen (es war </font></font><code>worker2-gpu</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pm/h4/41/pmh441jj847vcl6h-chni2q49e8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gehe zum Knoten</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dort habe ich drdbtop installiert. </font><font style="vertical-align: inherit;">Laden Sie dieses Dienstprogramm hier herunter:</font></font><br>
<br>
<pre><code class="bash hljs">wget https://github.com/LINBIT/drbdtop/releases/download/v0.2.2/drbdtop-linux-amd64<font></font>
chmod +x drbdtop-linux-amd64<font></font>
./drbdtop-linux-amd64</code></pre><br>
<img src="https://habrastorage.org/webt/y8/v1/5g/y8v15gnppzvbtjsjju4gl1oanc4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausf√ºhren des Dienstprogramms drbdtop Schauen</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sie sich das untere Bedienfeld an. </font><font style="vertical-align: inherit;">Es gibt Befehle, mit denen das geteilte Gehirn repariert werden kann: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pb/zh/h2/pbzhh2xqbwnb11gjy6q9_6iojge.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Danach werden die Knoten automatisch verbunden und synchronisiert.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie kann man die Geschwindigkeit erh√∂hen?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardm√§√üig zeigen Pir√§us / Linstor / drbd eine hervorragende Leistung (siehe unten). </font><font style="vertical-align: inherit;">Die Standardeinstellungen sind angemessen und sicher. </font><font style="vertical-align: inherit;">Die Schreibgeschwindigkeit war jedoch eher schwach. </font><font style="vertical-align: inherit;">Da die Server in meinem Fall √ºber verschiedene Rechenzentren verteilt sind (obwohl sie physisch relativ nahe beieinander liegen), habe ich beschlossen, ihre Leistung zu optimieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ausgangspunkt f√ºr die Optimierung ist die Definition eines Replikationsprotokolls. </font><font style="vertical-align: inherit;">Standardm√§√üig wird Protokoll C verwendet, das auf die Schreibbest√§tigung auf dem Remote-Sekund√§rknoten wartet. </font><font style="vertical-align: inherit;">Das Folgende ist eine Beschreibung der m√∂glichen Protokolle:</font></font><br>
<br>
<ul>
<li> <b>Protocol A</b> ‚Äî   .        ,       ,        TCP-  .     ,    TCP  .      .</li>
<li> <b>Protocol B</b> ‚Äî   .        ,       ,       .</li>
<li> <b>Protocol C</b> ( ) ‚Äî   .                .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus diesem Grund verwende ich in Linstor auch das asynchrone Protokoll (es unterst√ºtzt die synchrone / halbsynchrone / asynchrone Replikation). </font><font style="vertical-align: inherit;">Sie k√∂nnen es mit dem folgenden Befehl aktivieren:</font></font><br>
<br>
<pre><code class="bash hljs">linstor c drbd-options --protocol A --after-sb-0pri=discard-zero-changes  --after-sb-1pri=discard-secondary  --after-sb-2pri=disconnect --max-buffers 131072 --sndbuf-size 1085760 --rcvbuf-size 1085760 --c-max-rate 4194304 --c-fill-target 1048576</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ergebnis seiner Implementierung ist die Aktivierung des asynchronen Protokolls und eine Erh√∂hung des Puffers auf 1 MB. </font><font style="vertical-align: inherit;">Es ist relativ sicher. </font><font style="vertical-align: inherit;">Oder Sie k√∂nnen den folgenden Befehl verwenden (er ignoriert das L√∂schen von Datentr√§gern und erh√∂ht den Puffer erheblich):</font></font><br>
<br>
<pre><code class="bash hljs">linstor c drbd-options --protocol A --after-sb-0pri=discard-zero-changes  --after-sb-1pri=discard-secondary  --after-sb-2pri=disconnect --max-buffers 131072 --sndbuf-size 10485760 --rcvbuf-size 10485760 --disk-barrier no --disk-flushes no --c-max-rate 4194304 --c-fill-target 1048576</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass bei einem Ausfall des Prim√§rknotens ein kleiner Teil der Daten m√∂glicherweise nicht die Replikate erreicht. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/rx/-a/udrx-adhl5wwiirzannlce1zakw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W√§hrend der aktiven Aufzeichnung erhielt der Knoten vor√ºbergehend den veralteten Status mithilfe des ASYNC-Protokolls</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Benchmarks wurden mit dem folgenden Job durchgef√ºhrt:</font></font><br>
<br>
<pre><code class="plaintext hljs">kind: PersistentVolumeClaim<font></font>
apiVersion: v1<font></font>
metadata:<font></font>
 name: dbench<font></font>
spec:<font></font>
 storageClassName:  STORAGE_CLASS<font></font>
 accessModes:<font></font>
   - ReadWriteOnce<font></font>
 resources:<font></font>
   requests:<font></font>
     storage: 5Gi<font></font>
---<font></font>
apiVersion: batch/v1<font></font>
kind: Job<font></font>
metadata:<font></font>
 name: dbench<font></font>
spec:<font></font>
 template:<font></font>
   spec:<font></font>
     containers:<font></font>
     - name: dbench<font></font>
       image: sotoaster/dbench:latest<font></font>
       imagePullPolicy: IfNotPresent<font></font>
       env:<font></font>
         - name: DBENCH_MOUNTPOINT<font></font>
           value: /data<font></font>
         - name: FIO_SIZE<font></font>
           value: 1G<font></font>
       volumeMounts:<font></font>
       - name: dbench-pv<font></font>
         mountPath: /data<font></font>
     restartPolicy: Never<font></font>
     volumes:<font></font>
     - name: dbench-pv<font></font>
       persistentVolumeClaim:<font></font>
         claimName: dbench<font></font>
 backoffLimit: 4</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verz√∂gerung zwischen den Maschinen ist wie folgt : </font></font><code>ttl=61 time=0.211 ms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der gemessene Durchsatz zwischen ihnen betrug 943 Mbit / s. </font><font style="vertical-align: inherit;">Auf allen Knoten wird Ubuntu 18.04 ausgef√ºhrt. </font><i><font style="vertical-align: inherit;">Ergebnisse ( </font></i><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Tabelle auf sheetu.com</font></a></i><i><font style="vertical-align: inherit;"> )</font></i><font style="vertical-align: inherit;"> 
Wie aus der Tabelle hervorgeht, zeigten Piraeus und StorageOS die besten Ergebnisse. </font><font style="vertical-align: inherit;">Der Anf√ºhrer war Pir√§us mit zwei Repliken und einem asynchronen Protokoll.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/le/ez/0k/leez0ktywscyuz0jyl_9gel2q6g.png"></a><br>
<i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></i><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe einige Speicherl√∂sungen in Kubernetes einfach und vielleicht nicht richtig verglichen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am meisten hat mir Longhorn wegen seiner sch√∂nen Benutzeroberfl√§che und der Integration mit Rancher gefallen. Die Ergebnisse sind jedoch nicht inspirierend. Offensichtlich konzentrieren sich Entwickler in erster Linie auf Sicherheit und Korrektheit und lassen Geschwindigkeit f√ºr sp√§ter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seit einiger Zeit verwende ich Linstor / Pir√§us in den Produktionsumgebungen einiger Projekte. Bisher war alles in Ordnung: Festplatten wurden erstellt und gel√∂scht, Knoten wurden ohne Ausfallzeiten neu gestartet ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meiner Meinung nach ist Pir√§us ziemlich einsatzbereit, muss aber verbessert werden. Er schrieb √ºber einige Fehler im Projektkanal in Slack, aber als Antwort rieten sie mir nur, Kubernetes zu unterrichten (und das ist richtig, da ich es immer noch nicht verstehe). Nach ein wenig Korrespondenz gelang es mir immer noch, die Autoren davon zu √ºberzeugen, dass es einen Fehler in ihrem Init-Skript gab. Gestern, nach dem Aktualisieren des Kernels und dem Neustart, weigerte sich der Knoten zu booten. Es stellte sich heraus, dass das Kompilieren des Skripts, das das drbd-Modul in den Kernel integriert, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fehlgeschlagen ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ein Rollback auf die vorherige Kernelversion l√∂ste das Problem.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist im Allgemeinen alles. </font><font style="vertical-align: inherit;">Angesichts der Tatsache, dass sie es zus√§tzlich zu drbd implementiert haben, stellte sich heraus, dass es sich um eine sehr zuverl√§ssige L√∂sung mit hervorragender Leistung handelt. </font><font style="vertical-align: inherit;">Bei Problemen k√∂nnen Sie sich direkt an das drbd-Management wenden und das Problem beheben. </font><font style="vertical-align: inherit;">Im Internet gibt es viele Fragen und Beispiele zu diesem Thema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich etwas falsch gemacht habe, wenn etwas verbessert werden kann oder Sie Hilfe ben√∂tigen, kontaktieren Sie mich auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS vom √úbersetzer</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie auch in unserem Blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Longhorn, Ranchers verteilter Speicher f√ºr K8s, wurde an CNCF √ºbertragen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unsere H√§nde sind nichts f√ºr Langeweile: Wiederherstellung des Turmclusters in K8s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Turm oder nicht Turm - das ist die Frage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">     Kubernetes:  Flexvolume  CSI</a>¬ª.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de503700/index.html">Erstellen von Reaktionsformularen im Jahr 2020</a></li>
<li><a href="../de503702/index.html">Verwenden von Rohdaten in Google Analytics in der Praxis</a></li>
<li><a href="../de503704/index.html">Anstelle von 100 Anwendungsstarts - ein Autotest oder wie man einem QS-Ingenieur 20 Jahre Leben rettet</a></li>
<li><a href="../de503706/index.html">Warum werden diese nervigen Wetterregeln ben√∂tigt, um Raketen zu starten und zu landen?</a></li>
<li><a href="../de503710/index.html">PyDoma [PyData Moscow Meetup # 12]: 26. Mai 2020</a></li>
<li><a href="../de503716/index.html">Ben√∂tigen Sie Wolken im Weltraum?</a></li>
<li><a href="../de503718/index.html">Roboter-Anwalt, M√ºllabfuhr-Anwendung und vieles mehr: Online-Tube-Hackathon mit Online-Pizza √ºberwindet die Krise</a></li>
<li><a href="../de503720/index.html">DevOps vs DevSecOps: wie es in einer Bank aussah</a></li>
<li><a href="../de503724/index.html">Wi-Fi oder Twisted Pair - was ist besser?</a></li>
<li><a href="../de503726/index.html">6 M√∂glichkeiten, Pandas mit ein paar Codezeilen deutlich zu beschleunigen. Teil 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>