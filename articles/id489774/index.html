<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™…ğŸ½ ğŸ‘©ğŸ¾â€ğŸ’¼ ğŸ§’ğŸ½ Kisah tentang bagaimana saya mengotomatisasi apartemen menggunakan Node-RED. Bagian II ğŸ‘©â€ğŸš’ ğŸ¹ ğŸ§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kelanjutan lama ditunggu-tunggu posting tentang otomatisasi apartemen . Pada bagian ini saya akan berbicara tentang pencahayaan, sistem multimedia dan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kisah tentang bagaimana saya mengotomatisasi apartemen menggunakan Node-RED. Bagian II</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/489774/"><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kelanjutan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lama ditunggu-tunggu </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">posting tentang otomatisasi apartemen</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pada bagian ini saya akan berbicara tentang pencahayaan, sistem multimedia dan sensor keamanan.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/89/pw/1w/89pw1w8yo0rpgru9rx1cckulooc.png"><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petir</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengontrol pencahayaan, beberapa komponen digunakan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tirai bermotor;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pencahayaan dimmable.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bersinar</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lampu di kamar dibagi menjadi dua zona. </font><font style="vertical-align: inherit;">Saya menggunakan lampu dimmable ikeev LED. </font><font style="vertical-align: inherit;">Saya menggunakan tiga modul untuk kontrol: </font><font color="#909090"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Dimmer</font></a></font></font><br>
<img src="https://habrastorage.org/webt/4h/94/fp/4h94fp3qxcxmwpmqqi2kmeecuuo.jpeg" alt="Dimmer bawaan FIBARO Dimmer 2"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> built-in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIBARO Dimmer 2</font></font></a></font><br>
<br>
<img src="https://habrastorage.org/webt/7n/tn/sh/7ntnshtkobrl2nsbrlijuj5ujre.jpeg" alt="Built-in double relay FIBARO Saklar Ganda 2x1.5kW"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Built-in dual relay </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIBARO Double Switch 2x1.5kW Relay</font></font></a></font><br>
<br>
<img src="https://habrastorage.org/webt/av/ju/nz/avjunzs_vw57crfbzkqcrlsc-sa.jpeg" alt="Relay Terpadu FIBARO Single Switch 2.5kW"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> built-in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIBARO Single Switch 2.5kW</font></font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dimmer dapat secara otomatis memilih metode peredupan (pada ujung trailing fase terkemuka) dan mengkalibrasi untuk minimum dan kecerahan maksimum. </font><font style="vertical-align: inherit;">Karena saya memiliki sistem tiga kawat di muka untuk semua soket, saya tidak perlu menggunakan bypass. </font><font style="vertical-align: inherit;">Lampu LED tidak berkedip dan tidak menyala ketika tidak ada tegangan. </font><font style="vertical-align: inherit;">Untuk modul yang dapat dimmable, saya menggunakan ringer switches sehingga Anda dapat mengatur kecerahannya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9v/f7/dl/9vf7dlpauw3strd9emtimu-ct7w.png" alt="     "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagram kabel dimmer tiga kawat</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Begini cara kerjanya:</font></font><br>
<br>
<ul>
<li>  -    ,       (     ).</li>
<li>      -    ,          â€”    .         .      ,      .</li>
<li>      ,   ,   .        â€”   .</li>
<li>   ,         .    ,    1% .</li>
<li>      ,    15   .</li>
<li>    ,   .</li>
</ul><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/yj/wi/w2/yjwiw2pdfhu75m12gjyckm77l4e.png" alt="  "></a><br>
<font color="#909090">  </font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ll/46/nj/ll46nj_cya6jsqp5psnpvs1mzbc.png" alt="  "></a><br>
<font color="#909090">  </font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/dl/9h/jp/dl9hjpmwyo23zbxv7drmykp9sfm.png" alt="  "></a><br>
<font color="#909090">  </font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/kg/cl/md/kgclmdshmkmuagjrnidhbh40mhu.png" alt="  "></a><br>
<font color="#909090">  </font><br>
<br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang saya tulis sebelumnya, semua jendela apartemen saya menghadap ke jalan yang sibuk dengan cahaya terang. Untuk mengatasi masalah cahaya terang dari lampu di malam hari atau di musim panas dari matahari yang cerah, saya menggunakan roller blind bermotor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Awalnya saya ingin membeli kit yang sudah jadi, tetapi harganya sangat tinggi, dan saya tidak suka skema warnanya. Gagasan ini harus dibuang dan mengumpulkan beberapa set sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari mesin 220 V, pilihannya kecil: Prancis Somfy atau Cina Dooya. Somfy lebih tenang, tetapi juga lebih mahal, sehingga pilihan jatuh pada mesin Dooya DM35S. Saya memesannya bersama pengencang di "Aliexpress". Mesin memiliki dua sakelar batas yang menyesuaikan posisi maksimum dan minimum. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qj/yw/06/qjyw064wkqndni2rppwdvzzkdz0.jpeg" alt="  "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Engine dengan tunggangan</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah selanjutnya adalah pipa untuk tirai berliku. Menurut aturan pesan email, Anda dapat mengirim parsel tidak lebih dari 180 cm, dan salah satu jendela yang saya miliki lebih dari 2 meter. Di pasar konstruksi terdekat, saya menemukan pipa aluminium dengan diameter yang diinginkan - 50 mm. Setelah memasang mesin di pipa, masih menemukan tirai pemadaman. Saya memesan kain dalam ukuran saya dari "Aliexpress" setelah setuju dengan penjual bahwa ia akan mengirim saya hanya kain, tanpa mekanisme. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5j/cy/pm/5jcypmbghomntcc_bolirecpmya.jpeg" alt="  "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dirakit Tirai tetap</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
tirai dikendalikan menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIBARO Roller Shutter 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Z-Wave kontrol buta modul. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Louver </font></a></font><br>
<br>
<img src="https://habrastorage.org/webt/p-/yn/u2/p-ynu2giqo5wktxhwyb3h7onz0u.jpeg" alt="  "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modul kontrol</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modul ini dibangun ke dalam soket. Untuk modul semacam itu, disarankan untuk segera meletakkan soket yang dalam untuk mendorong modul, kabel, dan sakelar. Modul ini memiliki pengaturan yang cukup, termasuk respons terhadap alarm, perhitungan konsumsi daya, kalibrasi dengan sakelar batas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ow/bc/ub/owbcubpc-6tca4tltprsmlj8s74.jpeg" alt=" "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Switch switch</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gorden dipasang di setiap kamar dan di dapur. Anda dapat mengontrol gorden baik dengan sakelar yang terletak di sebelahnya, atau dengan menggunakan antarmuka atau skrip. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tirai diturunkan secara otomatis ketika senja masuk dan lampu menyala di jalan. Mereka naik sesuai dengan waktu yang diprogram untuk setiap kamar pada hari kerja dan akhir pekan. Jika gelap di luar, lampu mulai menyala dengan lancar di ruangan tempat gorden diturunkan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hari kerja dan akhir pekan dihitung sesuai dengan kalender produksi yang diunduh. </font><font style="vertical-align: inherit;">Anda dapat mengkonfigurasi ulang waktu hari berikutnya untuk setiap kamar menggunakan perintah telegram. </font><font style="vertical-align: inherit;">Sebelum melipat gorden sesuai dengan "jam alarm", pesan telegram tiba dengan kemampuan untuk mengkonfirmasi, membatalkan, dan menjadwal ulang selama 30 menit. </font><font style="vertical-align: inherit;">Jika tindakan tidak mengikuti, gorden secara otomatis terlipat. </font><font style="vertical-align: inherit;">Pada hari-hari yang cerah, gorden secara otomatis mengatur posisi mereka tergantung pada pencahayaan di ruangan dan waktu hari, dan juga memeriksa apakah lampu menyala atau tidak. </font><font style="vertical-align: inherit;">Setelah menerima perintah "Liburan", semua tirai di semua kamar diturunkan. </font><font color="#909090"><font style="vertical-align: inherit;">Tirai </font></font><font color="#909090"><font style="vertical-align: inherit;">Manajemen Skenario tirai Manajemen Skenario</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/-w/j0/na/-wj0na6ajgmspxvn9ul-vfxesri.png" alt="  "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/vj/1h/6z/vj1h6z5-dl53n-44smy6edp89iq.png" alt="  "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dsvjkFMLkcQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh kerja</font></font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistem multimedia</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memiliki banyak perangkat multimedia dengan berbagai remote di ruang tamu, dan saya ingin mengendalikannya dengan satu tombol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di Internet, saya menemukan kode IR terpisah untuk menghidupkan dan mematikan amplifier, TV dan splitter HDMI. Menggunakan skrip Python </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pronto_broadlink,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mereka ditranskode ke base64, dan kemudian dikonversi ke array byte dan ditulis ke basis kode IR. Oleh karena itu, sekarang tidak perlu mengetahui keadaan perangkat saat ini: Anda cukup mengirim sinyal lagi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena amplifier saya sudah cukup tua dan tidak tahu cara memproses gambar 4K melalui HDMI, saya membeli splitter HDMI. Ini memungkinkan Anda untuk membagi sinyal video dan audio menjadi dua HDMI yang terpisah: salah satunya terhubung ke amplifier, yang kedua ke TV. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yd/u_/4y/ydu_4yehplzjy-aqnc_lohuxbwo.jpeg" alt="   "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amplifier dan perangkat lain</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat ini saya memiliki dua sumber audio dan video: komputer desktop dan server. Dari antarmuka, Anda dapat menghidupkan semua perangkat untuk pemutaran dengan satu tombol, hanya dalam satu kasus penerimaan sinyal akan dikonfigurasikan pada splitter dari server, dan pada yang kedua - dari komputer. Di masa depan, direncanakan untuk menghubungkan konsol game ke splitter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika semua orang meninggalkan rumah, semua perangkat multimedia dimatikan. </font><font color="#909090"><font style="vertical-align: inherit;">Adegan kontrol media</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/6e/li/w3/6eliw3ospeig-4jdz0vzibq3scq.png" alt="  "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem kehadiran beroperasi pada 6 sensor gerak dan sensor pembuka pintu depan. </font><font style="vertical-align: inherit;">Jika, setelah membuka dan menutup pintu, tidak ada sensor hunian tunggal yang dipicu, sebuah pesan akan dikirim ke Telegram pada interval tertentu dengan konfirmasi. </font><font style="vertical-align: inherit;">Jika tidak ada tindakan yang diambil dalam dua menit atau tombol "OK" ditekan, sistem beralih ke mode "Keluar dari rumah". </font><font style="vertical-align: inherit;">Jika perpindahan terjadi saat ini, perintah dibatalkan dan pesan dihapus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya mencoba menggunakan BLE, tetapi dalam kasus saya itu tidak bekerja dengan sangat stabil dan sangat tergantung pada pemancar telepon. </font><font color="#909090"><font style="vertical-align: inherit;">Deteksi kehadiran otomatis</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/r_/if/x8/r_ifx8nmt01pioisfqkdalu35x8.png" alt="  "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor keamanan</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pengunci </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Gidrolock</font></a><font style="vertical-align: inherit;"> dipasang pada pipa air </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ketika kabel kontrol disingkat menjadi fase, aktuator menutup keran, saat terputus, ia terbuka. </font><font style="vertical-align: inherit;">Kedua drive terhubung ke </font><font style="vertical-align: inherit;">kontak kering </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Philio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> built-in relay </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/tx/3i/ystx3iuuvzjpm_yso_wthzk_g5u.jpeg" alt=" Gidrolock"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drive Gidrolock</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Relay dikendalikan oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sensor NEO Coolcam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Z-Wave yang </font><font style="vertical-align: inherit;">terletak di area kebocoran potensial. </font><font style="vertical-align: inherit;">Semua sensor berhubungan langsung dengan relai, sehingga air mati tanpa partisipasi pengontrol. </font><font style="vertical-align: inherit;">Untuk mencegah keran menjadi masam, setiap dua minggu di malam hari keran secara otomatis membuka dan menutup. </font><font color="#909090"><font style="vertical-align: inherit;">Diagram Otomasi Drive</font></font><font style="vertical-align: inherit;"> 
Saat </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Philio Menghisap Sensor</font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/d6/oi/wi/d6oiwiu4axhpwaizc46i4ongyeq.png" alt="  "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ventilasi dimatikan agar tidak mengembang api. </font><font style="vertical-align: inherit;">Pada saat yang sama, pesan dikirim ke obrolan telegram, dan sensor berdecit menjijikkan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor dan perangkat lain</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 in 1 Multisensor Aeotec Multisensor 6</font></font></a></li>
<li><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Sensor</font></a><font style="vertical-align: inherit;"> Pembuka </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEO Coolcam</font></font></a></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otorisasi server</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modul ini adalah implementasi sederhana dari layanan otorisasi. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada dua metode http: satu akan memeriksa apakah permintaan tersebut berasal dari jaringan internal dan jika demikian, itu akan memberi otorisasi kepada pengguna dengan mengeluarkan token JWT. </font><font style="vertical-align: inherit;">Token JWT dienkripsi menggunakan RSA 256, kunci pribadi harus terdaftar dalam file di sebelahnya. </font><font style="vertical-align: inherit;">Jika permintaan tersebut bukan dari jaringan internal, pengguna akan diarahkan ke halaman login, di mana ia harus memasukkan login dan kata sandi dan login. </font><font style="vertical-align: inherit;">Karena pemisahan menjadi pengguna tidak seharusnya, file login dan kata sandi dalam bentuk terenkripsi (SHA 512) ada di dekatnya dalam file konfigurasi.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server MQTT</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server MQTT diimplementasikan menggunakan komponen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aedes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server naik pada dua port: internal, untuk komunikasi dengan server, tanpa otorisasi, dan eksternal, yang mengimplementasikan WebSocket. </font><font style="vertical-align: inherit;">Semua klien front-end terhubung melalui soket dan melewati otentikasi selama otorisasi, berlangganan topik, dan menerbitkan pesan apa pun. </font><font style="vertical-align: inherit;">Token JWT yang diterima dari server otorisasi masuk dan divalidasi menggunakan kunci publik. </font><font style="vertical-align: inherit;">Untuk permintaan dari server, validasi tidak terjadi.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node Khusus-Node MERAH</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika menulis otomatisasi, diperlukan untuk mengimplementasikan satu simpul tambahan dan dua simpul untuk menyelesaikan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya harus memodifikasi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">node-red-contrib-openzwave</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , karena permintaan tarik saya diterima hanya setelah 7 bulan, tetapi sekarang Anda dapat menggunakan perpustakaan dari npm. Penyempurnaan terdiri dari melemparkan peristiwa penghapusan simpul. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/r4/nu/khr4nu0e2xikiinmz6wcxkslhea.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node MQTT juga telah diselesaikan. Bahkan, penyempurnaan utama di dalamnya adalah menarik id dari klien yang terhubung dan menuliskannya kembali ketika dikirim ke antrian. Di sini Anda dapat bertahan dengan fungsionalitas subflow. Itu juga seharusnya mentransfer data apa pun ke input MQTT-node, tetapi itu tidak berguna.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ef/xu/mb/efxumb_9d6wk07dbzc5ippu3pec.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengontrol tirai dan keran air, diperlukan simpul jadwal. </font><font style="vertical-align: inherit;">Tersedia saat itu di perpustakaan terlalu kaya fitur dan tidak mendukung implementasi sederhana menggunakan CRON. </font><font style="vertical-align: inherit;">Implementasi saya cukup sederhana: jadwal dapat diambil pada input dari node atau diatur secara internal. </font><font style="vertical-align: inherit;">Dimungkinkan untuk membatalkan jadwal. </font><font style="vertical-align: inherit;">Di bawah tenda, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jadwal simpul digunakan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qa/ku/a1/qakua12yqbuuz8gkchotr2nj4ps.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap komponen aktif dari apartemen, yang berakhir dengan otomatisasi, adalah modul di bagian depan. </font><font style="vertical-align: inherit;">Setiap modul mandiri dan berisi semua komponen yang diperlukan untuk rendering. </font><font style="vertical-align: inherit;">Modul dibagi menjadi dua agregasi: statis dan Z-Wave. </font><font style="vertical-align: inherit;">Modul harus mengimplementasikan satu antarmuka.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antarmuka</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">export</span> interface INode {
    <span class="hljs-attr">id</span>: string;<font></font>
    type: NodeTypes;<font></font>
    name: string;<font></font>
    addWidget: ComponentClass&lt;AddProps&gt; | StatelessComponent&lt;AddProps&gt;;<font></font>
    model: INodeModelConstructor;<font></font>
    service?: INodeServiceConstructor;<font></font>
    smallComponent: ComponentClass&lt;WidgetProps&lt;any&gt;&gt; | StatelessComponent&lt;WidgetProps&lt;any&gt;&gt;;<font></font>
    bigComponent: ComponentClass&lt;WidgetProps&lt;any&gt;&gt; | StatelessComponent&lt;WidgetProps&lt;any&gt;&gt;;<font></font>
    dialogEditComponent: ComponentClass&lt;WidgetProps&lt;any&gt;&gt; | StatelessComponent&lt;WidgetProps&lt;any&gt;&gt;;<font></font>
    dialogViewComponent: ComponentClass&lt;WidgetProps&lt;any&gt;&gt; | StatelessComponent&lt;WidgetProps&lt;any&gt;&gt;;<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh implementasi</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Widget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseWidget</span> <span class="hljs-title">implements</span> <span class="hljs-title">INode</span> </span>{
    <span class="hljs-attr">model</span>: INodeModelConstructor = Model;<font></font>
    manufacturerid: string = <span class="hljs-string">'0x0086'</span>;<font></font>
    producttype: string = <span class="hljs-string">'0x1a02'</span>;<font></font>
    productid: string = <span class="hljs-string">'0x0064'</span>;<font></font>
    addWidget: StatelessComponent&lt;AddProps&gt; = AddWidget;<font></font>
    service: INodeServiceConstructor = Service;<font></font>
    smallComponent: StatelessComponent&lt;WidgetProps&lt;Model&gt;&gt; = SmallComponent;<font></font>
    bigComponent: StatelessComponent&lt;WidgetProps&lt;Model&gt;&gt; = BigComponent;<font></font>
    dialogEditComponent: ComponentClass&lt;WidgetProps&lt;Model&gt;&gt; = DialogEditComponent;<font></font>
    dialogViewComponent: ComponentClass&lt;WidgetProps&lt;Model&gt;&gt; = DialogViewComponent;<font></font>
}<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Widget;</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk modul statis - misalnya, AC - Anda perlu mengimplementasikan data warehouse di bagian depan. </font><font style="vertical-align: inherit;">Implementasi seperti itu tidak nyaman, dengan cara yang baik perlu diubah ke satu repositori.Untuk </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Z-Wave-modules saya mengatur repositori umum dan melacak semua perubahan di dalamnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modul mengimplementasikan tampilan dengan dua cara:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk layar "besar" (tablet, komputer);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk telepon.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tergantung pada jenis perangkat, kontrol sentuh atau mouse akan dipilih. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi ini dibangun menggunakan webpack + babel: sesuai dengan pengaturan saat ini, ia dirakit untuk dua versi terakhir dari Firefox, Chrome, Chrome Android.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fitur kode sumber</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Semua Aliran dinonaktifkan, agar tidak membuang kesalahan dalam log. </font><font style="vertical-align: inherit;">Node konfigurasi untuk Z-Wave dihapus: itu buggy jika tidak menemukan Z-Wave controller, dan menjatuhkan seluruh Node-RED. </font><font style="vertical-align: inherit;">Seharusnya terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/nt/up/cf/ntupcfzfm3ths5v6h6ys6-hnv2s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar loader kalender kantor berfungsi, Anda harus mendaftar di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data.gov.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dapatkan token di sana dan masukkan setelah access_token:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fj/rs/rh/fjrsrhnxndutit6hgfrwic9kz5c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prakiraan cuaca diunduh dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">darksky.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> setiap 15 menit sekali. </font><font style="vertical-align: inherit;">Ia juga membutuhkan token, Anda harus mendaftar dan memasukkan token setelah perkiraan, ke koordinat:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bf/ka/kz/bfkakzodfw6mpsboylfszwjdurw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengirim pemberitahuan telegram, Anda perlu mendapatkan bot Anda, masukkan bot itu di simpul konfigurasi Telegram dan tulis id obrolan jika perlu. </font><font style="vertical-align: inherit;">Dalam kasus Aliran saya, ini adalah subflow: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mm/gm/xu/mmgmxuevhgbi_i8gosfkcm5tuow.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sumber dibagi menjadi depan dan belakang. </font><font style="vertical-align: inherit;">Di bagian belakang terletak:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otorisasi server.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server MQTT.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul Kustom Node-RED.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aliran yang Diekspor dalam satu file, yang dapat diunggah ke akun Anda sendiri atau contoh terpisah untuk pengujian.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebuah proyek untuk Node-RED, di mana Anda perlu menginstal modul dan kemudian hanya memuat Aliran yang diekspor (modul sudah ada dalam proyek).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cadangan Mongo-base.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menemukan informasi instalasi yang lebih rinci di file readme di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositori github</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rencana</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rencananya adalah dengan menggunakan mikrofon dari smartphone atau tablet yang terpasang di dinding untuk kontrol suara. </font><font style="vertical-align: inherit;">Saya berencana untuk menggunakan sistem open-source pada server berbasis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMU Sphinx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya juga berencana untuk menyusun modul untuk mengambil dan mentransmisikan pembacaan pipa dan meteran listrik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga patut mempertimbangkan penggunaan statistik yang terakumulasi untuk berbagai parameter untuk mengoptimalkan otomatisasi.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat ini, saya telah mencapai otomatisasi rumah yang hampir lengkap dengan kebutuhan saya - untuk menjaga iklim dan pencahayaan yang nyaman di rumah. Karena beberapa otomatisasi, dimungkinkan untuk mengurangi konsumsi listrik (sekitar 1.500 â‚½ di musim dingin dibandingkan dengan peralatan yang sama tanpa otomatisasi), baik dari sisi elemen pemanas dan dari sisi pencahayaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, masih ada bug dalam algoritma, tetapi saya akan menangkapnya suatu hari nanti, setidaknya saya bergerak ke arah ini. Sistem bekerja dengan stabil, saya tidak melihat rem, meskipun kecepatannya sangat rendah dalam protokol Z-Wave.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, sistem tidak akan membayar sendiri dengan mengorbankan tabungan, ada lebih banyak masalah kenyamanan. </font><font style="vertical-align: inherit;">Otomatisasi seperti ini sangat lembab dalam hal-hal kecil seperti menutup dan membuka tirai, mengendalikan cahaya. </font><font style="vertical-align: inherit;">Ketika Anda berada di apartemen biasa, Anda kadang-kadang lupa untuk menyalakan atau mematikan lampu, dan Anda tidak membuka tirai sama sekali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya jarang mengatur sistem iklim dengan tangan saya, tetapi kadang-kadang Anda perlu menghidupkan atau mematikan AC atau menyesuaikan suhu pada baterai. </font><font style="vertical-align: inherit;">Secara umum, saya puas dengan sistem yang dihasilkan: ini memungkinkan lebih sedikit waktu untuk dihabiskan untuk penyesuaian apa pun. </font><font style="vertical-align: inherit;">Jika terjadi kegagalan pengontrol, semua fungsi akan tetap ada (hanya otomasi yang akan jatuh). </font><font style="vertical-align: inherit;">Fungsi dari penutupan air juga akan dipertahankan. </font><font style="vertical-align: inherit;">Jika saya memutuskan untuk menjual apartemen, maka saya akan dengan mudah menghapus semua otomatisasi. </font><font style="vertical-align: inherit;">Atau biarkan di tempat, tetapi jual lebih banyak.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id489762/index.html">Contoh sederhana analisis parsing dan data untuk World of Tanks</a></li>
<li><a href="../id489764/index.html">"Destinasi memiliki banyak samaran ..." atau kami mengotomatisasi kontrol bohlam menggunakan CANNY 3 mungil dan photoresistor</a></li>
<li><a href="../id489768/index.html">Bagaimana Ï€ menggabungkan blok bertabrakan dan algoritma pencarian kuantum</a></li>
<li><a href="../id489770/index.html">Video dari MinskJS mitap: laporan saya tentang ekstensi browser</a></li>
<li><a href="../id489772/index.html">Hackathon di Simferopol, Yandex. Dialog dan hukum teknologi chat-bot</a></li>
<li><a href="../id489776/index.html">The Ember Times - Edisi 136</a></li>
<li><a href="../id489778/index.html">CSS lama dan baru. Sejarah Desain Web</a></li>
<li><a href="../id489782/index.html">FizzBuzz 2.0: Pertanyaan Pragmatis untuk Pemrogram</a></li>
<li><a href="../id489784/index.html">27 Februari - dimulainya proyek untuk siswa NX Bootcamp di Novosibirsk</a></li>
<li><a href="../id489786/index.html">Hangat, tabung dan sangat berbahaya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>