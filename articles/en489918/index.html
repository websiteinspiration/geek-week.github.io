<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆔 🥄 🆙 How we implemented the virtual fuel card project 😠 😸 🍸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr! We offer you to read the story of our colleague Konstantin Kulikov , the owner of the Virtual Card product, about the digital path of a c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How we implemented the virtual fuel card project</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/gazpromneft/blog/489918/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello, Habr! </font><font style="vertical-align: inherit;">We offer you to read the story of our colleague </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konstantin Kulikov</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the owner of the Virtual Card product, about the digital path of a corporate client. </font><font style="vertical-align: inherit;">On the example of a case with the issue of fuel cards in a mobile application, Kostya explains how replacing analog processes with digital ones has simplified the life of Gazpromneft Corporate Sales customers. </font><i><font style="vertical-align: inherit;">Reading takes: 7 minutes </font></i><i><font style="vertical-align: inherit;">
For whom: For PO, analysts and marketing specialists.</font></i></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/39a/b30/ca0/39ab30ca081af34b5476ce60d5325cc7.jpg"></a><br>
<br>
<i><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
</i><br>
<a name="habracut"></a><br>
<h3>  «  »</h3><br>
<blockquote>–    —  -   « 24»,   ,  «»  .       ,     — « ».</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The client’s path (aka </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">customer journey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) is the sequence of actions of the buyer or, again, the company's client. It is believed that this concept was first discussed in 1989. Then a group of researchers from the Tavistock Institute of Human Relations published the work “Customer Profiling: Getting into your Customer's Shoes”, in which it urged companies to put themselves in the shoes of customers in order to understand their experience - and, as a result, improve the quality of service. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gradually, interactions with customers - from contacting technical support to receiving extracts and documents - began to “flow” into digital space. New channels for working with the audience appeared, the “digital” path of the client has already appeared, and now the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">digitalization of the customer journey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">literally everything is involved: from banks to hotels. We are developing digital services for the B2B segment - taxi fleets, delivery services and logistics companies that refuel at gas stations, use the services of car washes and car workshops from our partners. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For legal entities, the fleet can have from one to several thousand cars. When working with companies of this level, it is necessary to take into account many business processes at once, and during their digitalization, we were able to identify several problems.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, the leaders of transport companies and delivery services regularly experienced difficulties in paying fuel bills. They needed to form a payment order, send it to the bank and wait for the funds to be credited. The procedure could take several days, since the bank does not work on weekends. In addition, companies had to constantly monitor drivers so that they did not "chemically" with fuel costs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To simplify all these processes, we have developed a personal account in which we fix the customers' fuel costs. Last year, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">we introduced the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function of replenishing an account with a bank card. But on that section of the customer journey, which relates to working with maps, there was still room for maneuver and improvements. They were associated with the issuance and receipt of customer service cards.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How did we get to the project</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A virtual card</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> was created to solve several problems. </font><font style="vertical-align: inherit;">Firstly, to reduce the same customer journey. </font><font style="vertical-align: inherit;">Previously, a representative of a client company had to visit the office to sign a contract and get a fuel card, spend time in traffic jams and search for a parking place. </font><font style="vertical-align: inherit;">And even if the client signed an offer on the site, there was no way to do without a visit to the office (to receive a card). </font><font style="vertical-align: inherit;">After the representative of the client company received the cards according to the acceptance certificate, he needed to give them to the drivers: depending on the specifics of the business, this could take from one day to several weeks.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secondly, the virtual card allowed to save the client from unnecessary expenses (customers paid once for the issuance of each plastic card). It was impossible to avoid these costs, since we, in turn, had to pay a commission to the payment system for the issuance of each card and royalties for using their technologies. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We wanted to create a solution that allows you </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to receive cards quickly and for free.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">We have already formed an IT architecture for working with fuel-service cards. </font><font style="vertical-align: inherit;">Therefore, we refused third-party box solutions that required significant customization, and cloud platforms - they did not meet the requirements of our security service for storing customer data. </font><font style="vertical-align: inherit;">Having discussed the idea with contractors, we decided to expand our own system. </font><font style="vertical-align: inherit;">As a result, we settled on the following stack: Oracle, Java, Go, PHP_Laravel, VUE_JS, Java / Kotlin, Swift and Siebel Tools. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cde/d34/e4f/cded34e4f22488790db765902b02eefc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the process, we needed to make changes to the work of the existing CRM system and add the following elements to the data structure:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User hierarchy: driver and administrator. </font><font style="vertical-align: inherit;">Each with their rights in a mobile application.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contact persons control unit to “bind” the driver to the card number.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integration with processing so that the CRM system can send requests for the release of a virtual card and display it in a mobile application.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signs of operations in the commercial accounting system, so that it can be seen what actions are carried out on which cards.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A single fraud monitoring system so that our security service can stop fraudulent activities with fuel cards.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What has changed in terms of usability:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After adapting CRM, we connected a mobile development team to the project. </font><font style="vertical-align: inherit;">She added NFC functionality so that drivers can pay for fuel by attaching a smartphone to the terminal at the gas station.</font></font></li>
<li>  :   ,      ,    «»      .      ,    customer journey. ,    ,   «» (    )     ,           «».         «»    . </li>
<li> ,       —           SMS-.      -   .</li>
<li>     ,     .     ,    ,   ,     ,      .         .    :       ,    ,   .         .</li>
</ul><br>
<h3>  -   …</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Several times, users complained about denials of service on a virtual card. </font><font style="vertical-align: inherit;">We </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">began to look for reasons</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and, to find them, we developed additional verification algorithms within the application - at the moment when the user forms the data for payment. </font><font style="vertical-align: inherit;">We recreated the conditions of failed transactions, and found out that this is happening for one of two reasons:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The time of the smartphone did not synchronize with world time, and this led to the generation of an invalid value for payment. </font><font style="vertical-align: inherit;">We set a time check when the data for payment is being generated.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The driver waited too long to bring his smartphone to the terminal. </font><font style="vertical-align: inherit;">We finalized the MP, and now on the payment screen there is a progress bar that shows how much time is left for the driver to bring the smartphone to the terminal.</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is the result</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Technical implementation of the project began in the second quarter of 2018. Since August 2019, we gradually began to open access to virtual cards for customers - the entire technical part of the work took about a year and three months. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/dbb/ceb/036/dbbceb036893380b6222f410486dbcb6.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The introduction of virtual fuel cards has made it easier for corporate customers. Now they don’t need to visit the office - virtual cards are issued instantly right in the application, just send the appropriate request. There are pluses for drivers - it has become easier for them to pay for fuel at gas stations. Previously, you had to carry a plastic card with you and remember the PIN code. Now - just attach the smartphone to the terminal. In addition, virtual cards do not need to be disposed of and, if necessary, can be transferred to another driver by “linking” his data to the card.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we are testing the system and expanding the functionality of the mobile application after </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">feedback from customers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">We are also adding support for QR codes, since the NFC module that is currently being used to debit funds is not available on all smartphones. </font><font style="vertical-align: inherit;">To do this, we need to refine the control system at the gas station so that the terminals "understand" the data received using the QR code.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489904/index.html">Why and how are we testing the update</a></li>
<li><a href="../en489906/index.html">Virtual fitting room in OpenCV</a></li>
<li><a href="../en489912/index.html">The pain and suffering when debugging microservices in web development</a></li>
<li><a href="../en489914/index.html">Clustering in Proxmox VE</a></li>
<li><a href="../en489916/index.html">Protobuf or JSON structured front-end communication protocol?</a></li>
<li><a href="../en489920/index.html">Sites, go to IPv6, two</a></li>
<li><a href="../en489924/index.html">Where does Elasticsearch start</a></li>
<li><a href="../en489926/index.html">Black Friday: a look at the load through the eyes of the developer</a></li>
<li><a href="../en489928/index.html">Medical mask no longer saves face recognition</a></li>
<li><a href="../en489930/index.html">Manifests and cargo cults</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>