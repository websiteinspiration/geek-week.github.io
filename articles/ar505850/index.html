<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง๐ผ ๐จโ๐ฉโ๐ฆโ๐ฆ ๐จ๐ฟโ๐คโ๐จ๐พ ุชุนุฏุฏ ุงูุฃุดูุงู C ++ ุงูููุงููููุฉ ูู ุฑูุฒ ุงูููุชุฌ: PassManager ูู LLVM ๐จ๐ฟโ๐ ๐งค ๐ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูููู ุณูู ูุชุญุฏุซ ุนู ูุบุฉ ูุงุญุฏุฉ ูุซูุฑุฉ ููุงูุชูุงู ูุฏููุง Sean Parent (Adobe) ุ ููู ุดุฎุตูุฉ ูุนุฑููุฉ ูู ูุฌุชูุน C ++. ุบุงูุจูุง ูุง ููุฏู ุนุฑูุถ ุชูุฏูููุฉ ูููุดุฑ ุณูุณูุฉ ูู ููุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ุชุนุฏุฏ ุงูุฃุดูุงู C ++ ุงูููุงููููุฉ ูู ุฑูุฒ ุงูููุชุฌ: PassManager ูู LLVM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/samsung/blog/505850/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููู ุณูู ูุชุญุฏุซ ุนู ูุบุฉ ูุงุญุฏุฉ ูุซูุฑุฉ ููุงูุชูุงู ูุฏููุง Sean Parent (Adobe) ุ ููู ุดุฎุตูุฉ ูุนุฑููุฉ ูู ูุฌุชูุน C ++. </font><font style="vertical-align: inherit;">ุบุงูุจูุง ูุง ููุฏู ุนุฑูุถ ุชูุฏูููุฉ ูููุดุฑ ุณูุณูุฉ ูู ููุงูุงุช Better Code. </font><font style="vertical-align: inherit;">ูุงุญุฏุฉ ูู ุฃููุงุฑู ุงูุชู ูุณุชุฎุฏููุง Photoshop ูู ุชุนุฏุฏ ุงูุฃุดูุงู ุงููุงุฆู ุนูู ุงูููุงููู. </font><font style="vertical-align: inherit;">ูุฐุง ุนูุฏูุง ูุทุจู ุชุนุฏุฏ ุงูุฃุดูุงู ููุณ ูู ุฎูุงู ุงููุฑุงุซุฉ ุงูุตุฑูุญุฉ ุ ูููู ุจุงุณุชุฎุฏุงู ุชูููุฉ ุชุชุถูู ุจุฑูุฌุฉ ูุนููุฉ ุ ููุชูุฌุฉ ูุฐูู ูุญุตู ุนูู ุจุนุถ ุงููุฒุงูุง ุงูุฅุถุงููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูููุถูุน ููุธู ูุงูุฃุชู:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูู ุชุนุฏุฏ ุงูุฃุดูุงู ุงููุงุฆู ุนูู ุงูููููู ูููุงุฐุง ูู ูุทููุจุ</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููุง ุนู LLVM ูุฌูุงุฒู</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู ุชุนุฏุฏ ุงูุฃุดูุงู ุงููุงุฆู ุนูู ุงูููููู ูู LLVM PassManager</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฒุงูุง ุงูููุฌ</font></font><br>
</li>
</ol><br>
<br>
<img src="https://habrastorage.org/webt/hg/ru/az/hgruazi6vbztkex50vkgdcfgknw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุตูุฑุฉ ุชูุถุญ ุฃุทุฑูุญุฉ "ุงูููุฑุงุซ ุดุฑ". </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตุฏุฑ</font></font></a></i><br>
<a name="habracut"></a><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูู ุชุนุฏุฏ ุงูุฃุดูุงู ุงููุงุฆู ุนูู ุงูููููู ูููุงุฐุง ูู ูุทููุจุ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู C ++ ุ ูุชู ุชูููุฐ ุชุนุฏุฏ ุงูุฃุดูุงู ุงูุฏููุงูููู ุจุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงูุงูุชุฑุงุถูุฉ ูุงูููุฑุงุซ ุ ูุชุนุฏุฏ ุงูุฃุดูุงู ุงูุซุงุจุช ุจุงุณุชุฎุฏุงู ุงูุฃููุงุท. </font><font style="vertical-align: inherit;">ูุญู ููุง ูุฌูุน ุจูู ูุฐูู ุงูููุฌูู ููุณุชููุฏ ููููุง ุนูู ุฃูุถู ูุฌู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุบุงูุจูุง ูุง ูุคุฏู ุงูุงุณุชุฎุฏุงู ุงูุตุฑูุญ ููููุฑุงุซ ุฅูู ุงูุงุชุตุงู ุงูููุฏ ุงูููุฑุท ูุงูุชูุงู ูุจุฏุฃ ูุตู ุงููุงุฌูุฉ ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ISP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">ููููุฉ ุชุทุจูู ุชุนุฏุฏ ุงูุฃุดูุงู ุงูุฏููุงูููู ุฏูู ูุฐู ุงูุนููุจุ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุชุฑุญ Sean Parent ุชุนุจูุฑุงู ูุณูู ุชุนุฏุฏ ุงูุฃุดูุงู ุงููุงุฆู ุนูู ุงูููุงููู ุ ุญูุซ ูููู ุงูููุฑุงุซ ุถููููุง ููุฎูููุง ุนู ุงููุณุชุฎุฏู. </font><font style="vertical-align: inherit;">ููููู ูุนุฑูุฉ ุงููุฒูุฏ ุนู ูุฐุง ูู ุชูุฑูุฑู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inheritance Is The Base Class Of Evil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ุญูุซ ูุนุฑุถ ุงูููุฑุฉ ุจุฃููููุง ุจุงุณุชุฎุฏุงู Photoshop ูุชุงุฑูุฎ ุงูุญุฑูุฉ ููุซุงู - ุณูู ุชุชุนูู ููู ุชุนูู "ุงููุฑุดุงุฉ ุงูุชุงุฑูุฎูุฉ" ุจุงููุนู.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููุง ุนู LLVM ูุฌูุงุฒู</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃูุฏ ุฃู ุฃุธูุฑ ูุฒุงูุง ูุฐุง ุงููุตุทูุญ ุจุงุณุชุฎุฏุงู ูุซุงู LLVM. </font><font style="vertical-align: inherit;">ูู ูุง ูุนุฑู ุ LLVM ูู ุจููุฉ ุฃุณุงุณูุฉ ูุชุทููุฑ ุงููุฌูุนุงุช. </font><font style="vertical-align: inherit;">ูููุง ููู ุจููุฉ LLVM ุนุงููุฉ ุงููุณุชูู ููุบุงูุฉ ุ ูุงูุชู ุชุบุทู ููุท ุงูููุงูุงุช ุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ูุงุญููุง ูู ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ููุฒูุฏ ูู ุงููุนูููุงุช ุ ุฑุงุฌุน </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุซุงุฆู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฑุณููุฉ </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/eu/zw/wa/euzwwalazlbmv9kqy8mzbrv95hw.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐู ูู ููุฏุณุฉ LLVM ุ ููู ุญูุซ ุงููุจุฏุฃ ุ ุฃู ูุชุฑุฌู ุญุฏูุซ ุ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ูุงูุฃุฌุฒุงุก ุงูุฑุฆูุณูุฉ ูู ููุง ููู:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฃุฎุฐ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุงูููุฏ ุงููุตุฏุฑู ููุจุฑูุงูุฌ ูุชุญููู ุฅูู ุชูุซูู ูุชูุณุท โโ(IR). </font><font style="vertical-align: inherit;">ูุฐุง ูุจุณุท ุนูู ุจููุฉ ุงููุชุฑุฌู ุจุญูุซ ูุง ูุชุนุงูู ูุน ููุฏ C ++ ุงููุนูุฏ.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชุตู ุงูููุงูุฉ - ูุฌููุนุฉ ูู ุงูุชุญุณููุงุช ูุงูุชุญูููุงุช ูุงูุชุญููุงุช. </font><font style="vertical-align: inherit;">ูู ุดูููุง ุงูุนุงู ุ ูู ูุฌููุนุฉ ูู ุงูุชูุฑูุฑุงุช (ุงูุชูุฑูุฑุงุช). </font><font style="vertical-align: inherit;">ูุชู ุชุณุฌูู ุฌููุน ุงูุชุตุงุฑูุญ ูุฅุทูุงููุง ุจูุงุณุทุฉ ูููู ุฎุงุต ูุณูู PassManager.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู Back End ุจุฅูุดุงุก ุฑูุฒ ุงููุฏู ูุจุงุดุฑุฉ.</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฏู ุงููุชุฑุฌู ุงูุจุฑูุงูุฌ ูู ุดูู ุนุฏุฉ ููุงูุงุช ุฃุณุงุณูุฉ. </font><font style="vertical-align: inherit;">ูุฐู ูุญุฏุฉ (ููู .cpp ุจุดูู ูุดุฑูุท) ุ ูุธููุฉ ุ ูุญุฏุฉ ุฃุณุงุณูุฉ ุชุญุชูู ุนูู ูุฌููุนุฉ ูู ุงูุชุนูููุงุช. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ig/vi/0i/igvi0icjbjtgmhbfvdwvvtbyy0c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฏู LLVM ุงูุขู ูุณุฎุชูู ูู PassManager:&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LegacyPassManager ุ ูุณุชุฎุฏู ุชุนุฏุฏ ุงูุฃุดูุงู ุงูููุงุณููู ุงููุงุฆู ุนูู ุงููุฑุงุซุฉ ูู ููุช ุงูุชุดุบูู. </font><font style="vertical-align: inherit;">ูุชุถูู ุงูุชุณูุณู ุงููุฑูู ูููุฑุงุซุฉ ุงูุชูุฑูุฑุงุช ุงูุชู ูุชู ุชุดุบูููุง ุนูู ูุญุฏุฉ ููุทูุฉ ุ ููุธููุฉ ุ ูุญููุฉ ุ ููุง ุฅูู ุฐูู.&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PassManager - ุฅุตุฏุงุฑ ุฌุฏูุฏ ุ ูุนุชูุฏ ููุท ุนูู ุชุนุฏุฏ ุงูุฃุดูุงู ุงููุงุฆู ุนูู ุงูููููู ุ ูููุชุฑุญ ุงุณุชุจุฏุงู LegacyPassManager. </font><font style="vertical-align: inherit;">ููุง ุงูุฅุตุฏุงุฑูู ููุฌูุฏุงู ุจุงูุชูุงุฒู ููุชุทูุฑุงู ุจุดูู ูุณุชูู.</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุชูุซู ููุฑุฉ ุงูููุงูุฉ ูู ุชูุถูุญ ููููู ุฑูุฒ ุงูููุชุฌ ุงูุญูููู ุ ูุงูุฐู ูุชู ุชูููุฐู ุจุทุฑููุชูู ูุฎุชููุชูู ุ ูุฅุธูุงุฑ ูุฒุงูุง ุงูููุฌ ุงูุฃุฎูุฑ.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู ุชุนุฏุฏ ุงูุฃุดูุงู ุงููุงุฆู ุนูู ุงูููููู ูู LLVM PassManager</font></font></h1><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุชู ุชูููุฐูุง ูู ุงูุฅุฑุซ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃููุงู ุ ููู ูุชู ุชุฑุชูุจ ูู ุดูุก ุจุดูู ููุงุณููู ุ ูู LegacyPassManager. </font><font style="vertical-align: inherit;">ูููุชุฑุถ ุฃู ูุฏููุง PassManager ูููุตู ูููุงู ุชุฐูุฑุฉ ูููุตู - ุชูุฑูุฑุฉ ูุงุญุฏุฉ. </font><font style="vertical-align: inherit;">ูุฏููุง ูุซู ูุฐุง ุงูุชุณูุณู ุงููุฑูู: ModulePass ุ ุงูุฐู ุชุฑุซ ููู ุตููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุงูุชุดุงุฑ ุงููุณุชูุฑ. </font><font style="vertical-align: inherit;">ููุงู ุทุฑููุฉ runOnModule ุ ููุง ูู ุงูุชุฑุงุถูุฉ. </font><font style="vertical-align: inherit;">ูุฐูู ูุฏููุง ุชุนุฏุฏ ุงูุฃุดูุงู ููุช ุงูุชุดุบูู ุงููุนุชุงุฏ:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">/// ModulePass class - This class is used to implement unstructured</span>
<span class="hljs-comment">/// interprocedural optimizations and analyses. ModulePasses may do anything</span>
<span class="hljs-comment">/// they want to the program.</span>
<span class="hljs-comment">///</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ModulePass</span> :</span> <span class="hljs-keyword">public</span> Pass {<font></font>
...<font></font>
<span class="hljs-comment">/// runOnModule - Virtual method overriden by subclasses to process the module</span>
<span class="hljs-comment">/// being operated on.</span>
<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">runOnModule</span><span class="hljs-params">(Module &amp;M)</span> </span>= <span class="hljs-number">0</span>;<font></font>
};<font></font>
<font></font>
...<font></font>
<font></font>
<span class="hljs-comment">/// IPCP - The interprocedural constant propagation pass</span>
<span class="hljs-comment">///</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">IPCP</span> :</span> <span class="hljs-keyword">public</span> ModulePass {<font></font>
...<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">runOnModule</span><span class="hljs-params">(Module &amp;M)</span> <span class="hljs-keyword">override</span></span>;<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูุฑูุฒ ุ ูุง ูู ุงููุดููุฉ ููุงุ ูุฑู ุฃูู ูู ูุฐุง ุงูุชุณูุณู ุงููุฑูู ุ ุชุฎุชูู ุทุฑู ุจุฏุก ุงููุฑูุฑ ุงุนุชูุงุฏูุง ุนูู ูุง ูุฌุจ ุฅุฌุฑุงุคู ุนููู (ุนูู ูุธููุฉ - runOnFunction ุ ูุญุฏุฉ ููุทูุฉ - runOnModule ุ ุฏูุฑุฉ - runOnLoop ุ ููุง ุฅูู ุฐูู). ููุฐุง ุจุฏูุฑู ูุฌุนู ูู ุงููุณุชุญูู ูุนุงูุฌุฉ ูุฌููุนุฉ ุงูุชูุฑูุฑุงุช ุงูุชู ุชุนูู ูุน ููุงูุงุช IR ูุฎุชููุฉ ุจุทุฑููุฉ ูุงุญุฏุฉ (ุชุทุจูู ุชุนุฏุฏ ุงูุฃุดูุงู ูู ุงููุงูุน). ูู ุงููุงุถุญ ุ ููู ูุจุฏู ุงูุฃูุฑ ุตุญูุญูุง: ุชุญุชุงุฌ ุฅูู ุทุฑููุฉ ุชุดุบูู ุงูุชุฑุงุถูุฉ ุ ูุงูุชู ุณูุชู ุฅุนุงุฏุฉ ุชุนุฑูููุง ูู ุงููุฑุซุฉ. ูููู ุจุนุฏ ุฐูู ุชูุดุฃ ูุดููุฉ: ุณุชุญุชูู ุทุฑู ุงูุชุดุบูู ูู ุงููุฆุงุช ุงููุงุญูุฉ ุนูู ุชูููุน ูุฎุชูู ุ ูุฃู ุงููุนููุฉ ูุชู ุชูุฑูุฑูุง ุฏุงุฆููุง ูู ุงูููุน - ุงููุธููุฉ ุ ุงููุญุฏุฉ ุงูููุทูุฉ ุ ููุง ุฅูู ุฐูู. ูุฐูู ุ ูุฌุจ ุนููู ุฅูุดุงุก ูุฆุฉ ุฃุณุงุณูุฉ ููููุฉ ูููุญุฏุฉ ุงูููุทูุฉ ุ ุงููุธููุฉ ุ ููุง ุฅูู ุฐูู ุ ุชูุฑูุฑ ุงููุคุดุฑ ุฅูู ูุฐู ุงููุฆุฉ ูู ุงูุชุดุบูู ุ ูุงูููุงู ุจุงูุชุตููุฑ ุฏุงุฎู ุงูุทุฑููุฉ ุุจูุงุกู ุนูู ููุน ุงููุงุฆู ุงูููุฌูุฏ ุนูู ูุฐุง ุงููุคุดุฑ. ููุจุฏุฃ ุดูุก ุบุฑูุจ: ุนูุฏูุง ูุธูุฑ ููุงู ุชุงุจุน ุฌุฏูุฏ ุ ูุฅููุง ูุถุทุฑูู ุงูุขู ุฅูู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูุดูุฑุฉ ุงููุงุฆูุฉ ูู ูู ูุฑุฉ ุ ููู ูุง ูุชุนุงุฑุถ ูุน ุฌููุน ูุจุงุฏุฆ ุงูุชุตููู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููููู ูุชุงุจุฉ ูุฆุฉ ูุญูู ูุฏูููุง ููู ุญุงูุฉ. </font><font style="vertical-align: inherit;">ููู ูุฐู ููุฑุฉ ุทูููุฉ ูุบูุฑ ูุซูุฑุฉ ููุงูุชูุงู ุ ููู ุงููุงูุน ููุฑุฉ ุบุฑูุจุฉ ููุชุงุจุฉ ูุฆุงุช ูุฌูุนุฉ ููุชุดุบูู ุงููุฑูุญ ูููููุงุช ุงูุฎุฏูุฉ ููุท. </font><font style="vertical-align: inherit;">ุณูููู ูู ุงูุฃูุถู ุฅูุดุงุก ูุฐุง ุงูุฑูุฒ ุชููุงุฆููุง ุจุงุณุชุฎุฏุงู ุงูููุงูุจ. </font><font style="vertical-align: inherit;">ูุฐุง ูู ุจุงูุถุจุท ูุง ููุชุฑุญ ูุนุงูุฌุชู ูู ุงูููุฌ ููุฏ ุงูููุงูุดุฉ. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุง ุณุชุฑู ูุงุญููุง ุ ุณูุญุตู ุนูู ุจุนุถ ุงูุนูุงูุจ ุงููููุฏุฉ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ูู ููุชุฑุญ ูู ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุฏุซ ูุง ููู ูู PassManager ุงูุฌุฏูุฏ. </font><font style="vertical-align: inherit;">ุชู ุชุนููู ููููู ุงูุฌุณู ูุชุนุฏุฏ ุงูุฃุดูุงู ุนูู ุงููุญู ุงูุชุงูู. </font><font style="vertical-align: inherit;">ูููู ุฃูู ุฅุฐุง ููุฐ ูุงุฆู ูุง ุทุฑููุฉ ูุง ุ ูุฅููุง ููุฏู ูุฌููุนุฉ ูู ุงูุทุฑู ุงูุชู ูุฑูุฏ ุฃู ุชููู ูุชุนุฏุฏุฉ ุงูุฃุดูุงู ุ ููููู ุฃู ุฌููุน ุงููุฆุงุช ุงูุชู ุชููุฐ ูุฐู ุงูุทุฑููุฉ ูุชุนุฏุฏุฉ ุงูุฃุดูุงู ุ ุฃู ูููููุง ุงุณุชุฎุฏุงููุง ูู ุณูุงูุงุช ูุงุจูุฉ ููุชุจุงุฏู ูู ูุฐุง ูู PassManager. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ูุฆุฉ PassManager ูู LLVM. </font><font style="vertical-align: inherit;">ููุง ูุณุฎุฉ ูุจุณุทุฉ ุ ููููู ุงูุนุซูุฑ ุนูู ุงููุณุฎุฉ ุงููุงููุฉ ูู llvm / include / llvm / IR / PassManager.h. </font><font style="vertical-align: inherit;">ุชุชุฎุตุต ูุนููุฉ ูุงูุจ IR ูุจุงุดุฑุฉ ูู ุงูููุงู ุงูุฐู ููุฑุฑู (ูุธููุฉ ุงูุชุดุบูู). </font><font style="vertical-align: inherit;">ูููู ุฃู ุชููู ูุญุฏุฉ ุฃู ูุธููุฉ ุฃู ุฏูุฑุฉ. </font><font style="vertical-align: inherit;">ููุธุฑ ุฅูู ุงูุฑูุฒ ุ ูุณุชููู ุงูุชูุณูุฑุงุช ุงูุฅุถุงููุฉ:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> IR, <span class="hljs-keyword">typename</span>... ArgTs&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PassManager</span> {</span>
<span class="hljs-keyword">public</span>:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">(IR&amp; ir, ArgTs... args)</span> </span>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; Pass : Passes) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pass-&gt;run(graph, args...);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> PassT&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addPass</span><span class="hljs-params">(PassT Pass)</span> </span>{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Passes.emplace_back(<span class="hljs-keyword">new</span> detail::PassModel&lt;IR, PassT, ArgTs...&gt;(<span class="hljs-built_in">std</span>::move(Pass)));<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
<span class="hljs-keyword">private</span>:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">unique_ptr</span>&lt;detail::PassConcept&lt;IR, ArgTs...&gt;&gt;&gt; Passes;<font></font>
<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูููุงูุงุช ุงูุฃุณุงุณูุฉ ุงูุชุงููุฉ:</font></font><br>
<br>
<ul>
<li> run     ,        run<br>
</li>
<li> addPass     (      )    PassT<br>
</li>
<li> Passes โ ,      .         ,       ,        type erasure,     <br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐู ุฃู ููุน ูุฌุจ ุฃู ูููู ูุฐุงุ </font><font style="vertical-align: inherit;">ูุง ุงูุฐู ูุชู ุชุฎุฒููู ูู ูุงูู ุงูุชุตุงุฑูุญุ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃููุงู ุ ุฏุนูุง ูุฑู ูุง ูู PassModel ู PassConcept. </font><font style="vertical-align: inherit;">ูุฐู ูุฆุงุช ูุณุงุนุฏุฉ ุฏุงุฎููุฉ ูู PassManager. </font><font style="vertical-align: inherit;">ููุงููุง ูู ูุณุงุญุฉ ุงูุงุณู ุงูุชูุงุตูู. </font><font style="vertical-align: inherit;">ุฃููุงู ุ ุฏุนูุง ูุฑู ููู ุชุจุฏู ูุฆุฉ PassConcept. </font><font style="vertical-align: inherit;">ูุญุชูู ุนูู ููุณ ุทุฑููุฉ ุงูุชุดุบูู ูุฑุฉ ุฃุฎุฑู ุ ููุง ุทุฑููุฉ ุงูุชุฑุงุถูุฉ ุจุญุชุฉ.&nbsp;</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> detail {<font></font>
<font></font>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> IR, <span class="hljs-keyword">typename</span>... ArgTs&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PassConcept</span> {</span>
<span class="hljs-keyword">public</span>:<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">virtual</span> ~PassConcept() = <span class="hljs-keyword">default</span>;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">(IR&amp; ir, ArgTs... args)</span> </span>= <span class="hljs-number">0</span>;<font></font>
<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงููุฆุฉ ุงูุซุงููุฉ ุ PassModel ุ ูู ุฃูุถูุง ููุญุฉ ูุฑุฌุนูุฉ. </font><font style="vertical-align: inherit;">ุฅูู ููุฑูุซ ูู PassConcept.&nbsp;</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> IR, <span class="hljs-keyword">typename</span> PassT, <span class="hljs-keyword">typename</span>... ArgTs&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PassModel</span> <span class="hljs-title">final</span> :</span> <span class="hljs-keyword">public</span> PassConcept&lt;IR, ArgTs...&gt; {
<span class="hljs-keyword">public</span>:<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">PassModel</span><span class="hljs-params">(PassT Pass)</span> : <span class="hljs-title">pass_</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::move(pass))</span> </span>{}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">(IR&amp; ir, ArgTs... args)</span> <span class="hljs-keyword">final</span> </span>{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass_.run(ir, args...);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
<span class="hljs-keyword">private</span>:<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PassT pass_;<font></font>
<font></font>
};<font></font>
<font></font>
} <span class="hljs-comment">// end namespace detail</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ูุญุชููู:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญูู pass_ ุงูุฎุงุต ูู ููุน PassT</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุดุฆ ููุจู ูุงุฆููุง ูู ููุน PassT ููุฏุฎู. </font><font style="vertical-align: inherit;">ุฅูู ูุง ููุนู ุดูุฆูุง ูุซูุฑูุง ูููุถูู ุ ููููู ูุจุฏุฃ ููุท ุจุชูุฑูุฑ ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู ุฏูุงูุงุช ุงูุญุฑูุฉ</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุทุฑููุฉ ุงูุชุดุบูู ุ ุงูุชู ุชุณุชุฏุนู ุจุจุณุงุทุฉ ุทุฑููุฉ ุงูุชุดุบูู ุนูุฏ ุงููุฑูุฑ. </font><font style="vertical-align: inherit;">ุชูุฑูุฑ ุ ุนูู ุงูุชูุงูู ุ ุฌููุน ุงูุญุฌุฌ ุงูุชู ูุฏ ุชููู ููุงู.</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชุฐูุฑ ุงูุขู ุญูุซ ุจุฏุฃูุง. ูู ุงูููุงุจู ุ ูููู PassManager ุจุชุฎุฒูู ูู ูุฐู ุงูููุงุทุน. ูู ุงููุชุฌูุงุช ููุฑ ูู ุนูุงุตุฑ ููุน PassConcept. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ุ ุงูุตูุฑุฉ ุงููุจูุฑุฉ. ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ PassManager. ุจุงุณุชุฎุฏุงู AddPass ุ ูุฅูู ูุณุฌู ุงูุชูุฑูุฑุงุช ุงูุชู ูุฑูุฏ ุฅุฌุฑุงุคูุง ุนูู ุงููุญุฏุฉ ูุงููุธููุฉ ูุงูุญููุฉ ููุง ุฅูู ุฐูู. ุนูู ุณุจูู ุงููุซุงู ุ ูุถููุฉ ุ ุงูุชุดุงุฑ ูุณุชูุฑ ุ ูุชุญ ุงูุญููุฉ ุ ุฅูุฎ. ูู ุฃููุณูู ููุณูุง ููุฑูุซูู ูู ุฃู ุดุฎุต ุ ูุฌุจ ุฃู ูููู ูุฏููู ุทุฑููุฉ ุชุดุบูู ููุท. ูููุท ูุฐุง ุงูููููู ููู ูููุฑู. ูููุ&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุชุฑุถ ุฃู ูุฏููุง ุงูุชุญุณูู ุงููุถููู. ูููู ูู addPass ุจุชูุฑูุฑ ูุงุฆู ูู ุงูููุน ุงููุถููู. ููููุง ูุฐูู ุ ูู Passes ุ ูู ุงููุชุฌู ุ ูุถุน ูุฐุง ุงููุถููู ุ ุจุงููุนู ูู ุดูู PassConcept. ููู ูููููุง ุนูู ุฐููุ ูุง ูุชู ุชุถููู Inline ูู ูุฆุฉ PassConcept. ููู ูุถุน ุนูุตุฑ ูู ูุงููุงุชุ ูุง ูููููุง ุงูุตุจ ุฅูู ุงูููุน ุงูุฃุณุงุณู (ุงูุจุซ) ูุฃูู ูุง ููุฌุฏ ููุฑุงุซ ุ ูููุง ุชุชู ูุซู ูุฐู ุงูุฎุฏุนุฉ. ูุฏููุง ูุฆุฉ ุงููุณุงุนุฏ PassConcept ุงูุชู ุชุญุฏุฏ ุงููุงุฌูุฉ. ูููู ุฅูู ูุฌุจ ุนูู ุฌููุน ูุณูู ุชุทุจูู ุทุฑููุฉ ุงูุฑูุถ. ูุฏููุง PassModel ุ ูุงูุชู ุจุฏูุฑูุง ูู ููุญุฉ ูุฑุฌุนูุฉ. ูููุฐุง ุ ุนูุฏูุง ูุถุน Inline ุ ูุชู ุฅูุดุงุก PassModel ูุน ูุฐุง ุงูููุน ุงููุถูู ุ ูุชู ุชุฌููุน ูุฐุง ุงููุงุฆู ุฏุงุฎู ูุฐู ุงููุฆุฉ. ูููู PassModel ููุณู ุจุฅุนุงุฏุฉ ุชุนุฑูู ุงูุชุดุบูู ุ ูุงูุฐู ูุนูู ูู ุฃุฌูู ุจุงููุนู ุงูููุงููุงุช ููุฐุง ุงูููุทุน ุุฃู ุชุดุบูู ูู ูุฆุฉ ูุถููุฉ. ูุชู ุญู ูู ูุฐุง ูู ููุช ุงูุชุฑุฌูุฉ: ุฅุฐุง ูู ุชุญุฏุฏ Inline ุทุฑููุฉ ุงูุชุดุบูู ุ ูุณูููู ูุฏููุง ุฎุทุฃ ูู ููุช ุงูุชุฑุฌูุฉ.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุฐุง ุ ูุชู ุชุญููู ุชุนุฏุฏ ุงูุฃุดูุงู ูุฐุง ุจุฏูู ูุฑุงุซุฉ. ูุฏ ูุทุฑุญ ุงูุณุคุงู: ููู ูุง ูููู ุงูููุฑุงุซ ุ ูุฃูู ููุง ุ PassModel ููุฑูุซ ูู PassConceptุ ุงูุฌูุงุจ: ููุงู ููุฑุงุซ ุ ูููู ุฏุงุฎูู ุ ููุง ูุนูู ุ ูุงููุณุชุฎุฏู ูุง ูุนุฑู ุดูุฆุงู ุนูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชููู ุนูู ูุณุชูู ููุงูููู. ููุง ูุฏููุง ูุณุชุฎุฏู ุ ูุฑูุฏ ุชุฌุงูุฒ ุทุฑููุฉ ูุนููุฉ. ูู ุงูููุช ููุณู ุ ูุง ูุฑูุฏ ุฃู ูุฑุซ ุ ุญุชู ูุง ูุณุญุจ ุชุจุนูุงุช ุฅุถุงููุฉ ุนูู ููุณู. ููู ุงูุนููุงุ ูุญู ุฏุงุฎู ุฃููุณูุง ุ ูู ุฎูุงู PassConcept ุ PassModel ุ ูุตูุน ุชุนุฏุฏ ุงูุฃุดูุงู ูู ููุช ุงูุชุดุบูู ุ ูู ุฎูุงู ุงูููุฑุงุซ ุ ููู ุงููุณุชุฎุฏู ูุง ูุนุฑู ุนู ุฐูู: ูุฐู ูููุง ุชุตูููุงุช ุฏุงุฎููุฉ ูู ูุงุชูู ุงููุฆุชูู ุ ูุชู ุชุนุฑูููุง ูู ูุณุงุญุฉ ุงูุงุณู ุงูุฎุงุตุฉ ุจูู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑุฉ ุฃุฎุฑู ููู ูุชุญูู ุฐููุ </font><font style="vertical-align: inherit;">ูุฏู ูุฆุฉ ุ ุฏุนูุง ูุณูููุง ุ ุฏุนูุง ุชููู ูุถููุฉ ุ ูู ุญูุซ ุงููุชุฑุฌู. </font><font style="vertical-align: inherit;">ูุถูู Inline ุฅูู ุงููุชุฌู ุ ุนูู ุงูุชูุงูู ุ ูุฅูุดุงุก ูุงุฆู PassModel. </font><font style="vertical-align: inherit;">ูุญุชูู ุนูู ูููุดุฆ ูุฃุฎุฐ ูุงุฆู ูุนููุฉ ุงููุงูุจ ูุฐู. </font><font style="vertical-align: inherit;">ูููุฐุง ุ ุนูุฏูุง ูุณูู ุทุฑููุฉ ุงูุชุดุบูู ูู PassManager ุ ูุชู ุชุดุบูููุง ุนุจุฑ ุฌููุน ุงูููุฑุงุช ุ ููู ูุฐู ุงูุญุงูุฉ ูููู ูุฏููุง ูุฑูุฑ ูุงุญุฏ ููุท ุ ููุฏูู ููุน ูุถูู. </font><font style="vertical-align: inherit;">ูุฅูู ูุณุชุฏุนู ุทุฑููุฉ runC PassConcept. </font><font style="vertical-align: inherit;">ููุณ ุทุฑููุฉ ุงูุชุดุบูู ุงูุชู ุชูุน ุฏุงุฎู PassModel ุ ูุงูุชู ูุชู ุฅูุดุงุก ูุซูู ููุง ูู ุฎูุงู ุงูููุน ุงููุถูู. </font><font style="vertical-align: inherit;">ูุชุณุชุฏุนู ูุฐู ุงูุทุฑููุฉ ุจุงููุนู ุทุฑููุฉ ุงูุชุดุบูู ูู ุงูููุทุน ุงููุณุฌู ุ ููู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชุถููู Inline ุ ููุชูุฌุฉ ูุฐูู ุ ูุชู ุชุดุบูู ุงูุชุดุบูู ุนูู Inline.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฒุงูุง ุงูููุฌ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ูููุง ุจูุง ุจุณููู ูุฎุชูู ุฏูู ุงุณุชุฎุฏุงู ุงููุฑุงุซุฉ ุจุดูู ุตุฑูุญ. ููุณ ูุฏููุง ุงูุขู ุงูุชุจุนูุฉ ุงูุตุฑูุญุฉ ุงูุชู ูุงูุช ูู ูุจู ูู LegacyPassManager.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ูู ูู ุดูุก ุนูุฏู ุบูุฑ ุนุงุฏู ุงุชุถุญ. ูููููุง ุงุณุชุฎุฏุงู ุชุนุฏุฏ ุงูุฃุดูุงู ูุฃู ูุงุฆู ูุชุฌุงูุฒ ุทุฑููุฉ ุงูุชุดุบูู. ูุธุฑูุง ูุฃู ุทุฑููุฉ ุงูุชุดุบูู ุชุชุฌุงูุฒ PassManager ููุณูุง ุ ููููููุง ุชุณุฌูู ููุณูุง ุ ุฃู ุชุถููู ููุณูุง ูู ูุชุฌู ุชูุฑูุฑ ุงูุชูุฑูุฑ ูุงุณุชุฏุนุงุก ููุณูุง ูุฑุฉ ุฃุฎุฑู.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงุชุถุญ ุฃูู ูููููุง ูุฒุฌ ูู ุดูุก. ูุฏู PassManager ุงููุฏูู ุ ููู Legacy ุ ูุตู ูุงุถุญ. ููุงู ุชุญุณูู ูุนูุงุฑู ุ ูุงูุฐู ูุชู ุนูู ุงููุญุฏุฉ ุ ููุงู ุชุญุณูู ูุญุฏุซ ุนูู ุงููุธููุฉ. ูููุง ูุญุฏุซ ูู ุดูุก ุจุณูุงุณุฉ. ูุญู ูุตูุน PassManager ุ ูููุดุฆูุง ุจููุน "ุงููุญุฏุฉ" ุ ููุถุนูุง ูู ุงูุณุทุฑ ุ ุดูุก ุขุฎุฑ ุ ุจุนุถ ุงูุชุญุณููุงุช ุงููุนูุงุฑูุฉ ุงูุฃุฎุฑู. ุซู ูู PassManager ุงูุซุงูู ุ ูููู ุจูุณุฎู ุจููุน "ุงููุธููุฉ" ุ ููุถุน ุงูุชุญุณููุงุช ุนูู ุงููุธููุฉ. ูุจุนุฏ ุฐูู ูู PassManager ุ ุงูุฐู ูุชู ุฅูุดุงุก ูุซูู ูู ุจูุงุณุทุฉ ุงููุญุฏุฉ ุงูููุทูุฉ ุ ููููู ูุถุน PassManager ุขุฎุฑ ุ ูุชู ุฅูุดุงุก ูุซูู ุจูุงุณุทุฉ ุงููุธููุฉ ุ ูู ุฎูุงู ูุงูู Passes ูุฐุง.&nbsp;</font></font><br>
<br>
<pre><code class="cpp hljs">PassManager&lt;Module&gt; MPM;
<span class="hljs-comment">// ... register passes on module</span><font></font>
MPM.addPass(GlobalDCEPass())<font></font>
MPM.addPass(PGOInstrumentationGen());<font></font>
<span class="hljs-comment">//... register passes on function</span><font></font>
PassManager&lt;Function&gt; FPM;&nbsp;<font></font>
FPM.addPass(CallSiteSplittingPass());<font></font>
<span class="hljs-comment">//... register all registered passes on function in module pass manager MPM.addPass(createModuleToFunctionPassAdaptor(std::move(FPM)));</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฏูู ููุช ูููุชุงุจุนุฉุ ูุฏููุง ุงุซูุงู ูู ูุฏูุฑู PassManagers. ูุงุญุฏ ุจููุน IR Module ูุงูุขุฎุฑ ุจููุน IR. ุฏุนูุง ูููู ูู ูุงุญุฏ ูุน ุงููุญุฏุฉ ุ ูููุง ุจุงููุนู ุจูุถุน ุนุฏุฏ ูู ุงูุชูุฑูุฑุงุช. ุงูุขู ูุฑูุฏ ูุฒุฌูุง ูุน ุงูุชูุฑูุฑุงุช ุงูุชู ูุชู ุชูููุฐูุง ุนูู ุฏุงูุฉ. ูุงุฐุง ููุนูุ ูุญู ูุฏุนู addPass ูููุฑ PassManager ูู Pass ุ ูุงูุฐู ูุชู ุฅูุดุงุก ูุซูู ูู ูู ุฎูุงู ููุน IR "ุงููุธููุฉ" (ูู ุงูููุฏ ุงูุญูููู ุ ูุง ูุชู ูุถุน PassManager ููุณู ููุงู ุ ูููู ูุฆุฉ ุฎุงุตุฉ ุชูุชู ุจู ุ ูููู ุนูู ุงููุณุชูู ุงูููุงูููู ูุง ููู).&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจุงูุชุงูู ุ ูููููุง ูุฒุฌ ูุณุชููุงุช ูุฎุชููุฉ ูู ุงูุชุญุณูู - ุจูุถู ุชุฏุงุฎู PassManagers ุ ูุชูููุฐ ุนูููุงุช ุงูุชูุฑูุฑ ุจุงูุชูุงูุจ ุฅูู ุงููุญุฏุฉ ูุงููุธููุฉ ูุงูุฏูุฑุฉ ุ ููุง ุฅูู ุฐูู. </font><font style="vertical-align: inherit;">ูู Legacy PassManager ุ ูุนุฏ ูุฐุง ุฃูุซุฑ ุชุนููุฏูุง ุ ูููุงู ูุฆุฉ ูููุตูุฉ ูููุญุฏุงุช ุงูููุทูุฉ ุงูุชู ุชุญุชูู ุนูู ูุธููุฉ ุงูุชุฑุงุถูุฉ runOnModule ุ ููุตู ูููุตู ูููุธุงุฆู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุชุฑุงุถูุฉ runOnFunction ุ ุฅูุฎ. </font><font style="vertical-align: inherit;">ูู ูู ูุฐู ุงููุฆุงุช ููุฑูุซุฉ ูู ุณูู Pass ุงููุดุชุฑู ุ ููููุง ูุณุชููุฉ ุนู ุจุนุถูุง ุงูุจุนุถ ูููุง ูุงุฌูุฉ ูุฎุชููุฉ ุ ููุง ูุฌุนู ุงุณุชุฎุฏุงู LegacyPassManager ุบูุฑ ูุฑูุญ ูุงุณุชุฏุนุงุก ุงูุชูุฑูุฑุงุช ุนูู ููุงูุงุช IR ูุฎุชููุฉ (ูุญุฏุฉ ุ ูุธููุฉ ุ ุญููุฉ) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงุฏ ูุฑุงุกุฉ ุฅุถุงููุฉ:</font></font><br>
&nbsp;<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLVM ูุทูุงุจ ุงูุฏุฑุงุณุงุช ุงูุนููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ููุฏูุฉ ุจุณูุทุฉ ู LLVM</font></font><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุฑุถ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุดุงูุฏูุฑ ูุงุฑูุช ุญูู ููููุฉ ุชุฑุชูุจ ุชุตุงุฑูุญ LLVM</font></font><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุฑุถ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุดุงูุฏูุฑ ูุงุฑูุซ ุญูู ุชูุงุตูู ุงูุชูููุฐ PassManager</font></font><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุณูุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุงุฏุซุงุช ูู ุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉ ุชูุงูุด ุงููุฑู ุจูู LegacyPassManager ู PassManager</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงููุคูููู: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/73/et/tp/73ettpg9jylifuwfvohspok-nv4.png" align="left"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Roman Rusyaev ุ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฎุจูุฑ ูููุฏุณ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑูู ูุชุฑุฌู AI </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนูุฏ Samsung R&amp;D ุ ุฑูุณูุง </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑูุจูุง ุณูุชุญุฏุซ Roman ูู ูุคุชูุฑ C ++ Russia 2020 ูู ููุณูู ูุน Anton Polukhin: ููุงู ุณูุชุญุฏุซูู ุนู ูุณุฎุฉ ุงููุณุฎุฉ ุงูุญุงููุฉ ูุงููุณุชูุจููุฉ: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุงุจุท ุฅูู ุงูุชูุฑูุฑ</font></font></a><br>
<br clear="all">
<img src="https://habrastorage.org/webt/ay/fa/a2/ayfaa2i4aukgor-uh5ija7gstie.png" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tatyana Volkova ุ ูุจูุฑ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุฎุตุงุฆู </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุฃุนูุงู ูุฑูู ุงูุชุทููุฑ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนูุฏ Samsung R&amp;D ุ ุฑูุณูุง</font></font></i><br>
<br clear="all"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar505824/index.html">ุฏููู: L2TP VPN ุงูุฎุงุต ุจู</a></li>
<li><a href="../ar505826/index.html">ููู ุชุญุตู ุนูู ุฑุคูุฉ 100ูช ูุฃูุซุฑ</a></li>
<li><a href="../ar505834/index.html">ุนููุงุช ูุณูุทุฉ. ูุชุฑุงุช ุงูุซูุฉ ูุงูููุงุฑูุฉ</a></li>
<li><a href="../ar505838/index.html">ุชูููุฉ FPGA ูุขูุงู ุงูุชุทุจููุงุช</a></li>
<li><a href="../ar505846/index.html">ูุง ูู ูุดุงูู ุงูุฑูุงุถูุงุช ุงูุญููููุฉ ุนูุฏ ุชุทููุฑ ููุงุญุงุช ูู COVID-19ุ</a></li>
<li><a href="../ar505856/index.html">ูู Brute-Force ุฅูู ูุญุงููุฉ ุงูุฎุตูุตูุฉ - ูุง ููุงุฌูู ูุฒูุฏู SaaS</a></li>
<li><a href="../ar505860/index.html">Spring Boot ู Hibernate ู Kotlin ูููุจุชุฏุฆูู ุฎุทูุฉ ุจุฎุทูุฉ</a></li>
<li><a href="../ar505870/index.html">ููููุฉ ุงูุชุฑููุฌ ูุฃูุนุงุจ ูุชุทุจููุงุช ุงููุงุชู ุงููุญููู ูู ุงููุงุจุงู ูููุฑูุง ูุงูุตูู</a></li>
<li><a href="../ar505872/index.html">ุชุงุฑูุฎ ุงููุฑูุจุงุช ุจุฏูู ุทูุงุฑ</a></li>
<li><a href="../ar505880/index.html">ููููุฉ ูุชุงุจุฉ ุงูููุฑุณ ุงูุฎุงุต ุจู ูู ุชุงุฑุงูุชูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>