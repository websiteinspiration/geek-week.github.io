<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆖 🚺 🥞 地理聊天，有害机器人和隐秘术：丰富有关电报的知识 🌒 😖 👩‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="您对电报中的电报了解多少？并且可以在VideoNote中区分隐写术吗？我们分析了NeoQUEST-2020这个非常艰巨的任务，它引起了我们最多的疑问和惊叹！剧透：是的，这里还会有一些加密货币:)
 
 在NeoQUEST-2020图例中，我们找到了指向 Instagram上旅行机器人的个人资料的链接...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>地理聊天，有害机器人和隐秘术：丰富有关电报的知识</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/neobit/blog/499366/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ls/r-/kn/lsr-knoirt_c2eklbngtrv43ys4.png"></div> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您对电报中的电报了解多少？</font><font style="vertical-align: inherit;">并且可以在VideoNote中区分隐写术吗？</font><font style="vertical-align: inherit;">我们分析了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NeoQUEST-2020</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个非常艰巨的任务</font><font style="vertical-align: inherit;">，它引起了我们最多的疑问和惊叹！</font><font style="vertical-align: inherit;">剧透：是的，这里还会有一些加密货币:)</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NeoQUEST-2020</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图例中，</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">我们</font></a><font style="vertical-align: inherit;">找到了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指向</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Instagram上旅行机器人的个人资料的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">链接</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">没有什么不寻常的，对吧？</font><font style="vertical-align: inherit;">因此，我们也做出了这样的决定，但是我们仍然需要解决问题，因此我们仔细考虑配置文件中的所有图片，并至少寻找一些线索。</font><font style="vertical-align: inherit;">稍微思考一下贝加尔湖的一幅美丽的图画，我们就意识到线索在最后一篇文章中：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wg/f3/yp/wgf3ypumnzx-gms9aj5ixn7qllw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多亏了这张图片，我们知道我们需要以某种方式将贝加尔湖（萨满摇滚乐队）和电报（T可以加入我的...-这没有任何提醒吗？）。</font><font style="vertical-align: inherit;">最初，我们决定不给参与者直接的地理聊天提示（就是这样！），他们中的许多人使用具有更改地理位置的仿真器或移动设备成功地完成了任务。</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shamanim我们</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Shamanka岩石区域</font><s><font style="vertical-align: inherit;">设置</font></s><font style="vertical-align: inherit;">坐标（53.20074，107.349426）（可以通过眼睛看到），并为最困难的事情做好准备-等待。</font><font style="vertical-align: inherit;">电报奇怪地与地理位置一起使用，并且拉起了相关的联系人和聊天一个小时。</font><font style="vertical-align: inherit;">为了我们的勤奋和耐心，我们获得了丰厚的回报-所需的聊天出现在“联系人”部分-&gt;查找附近的人-&gt;附近的群组。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cb/z_/ti/cbz_tiwdqa0j0cqdikmwjob704y.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
瞧，我们在做生意！ </font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_c/or/zt/_corztflxylgeewrehp61prvssu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
僵尸程序通过一个文件形式的内容来解决我们的任务，该文件的字节数中包含未知内容，我们可以在其中读取“解密我”和“启示录中没有人”这两行。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们理解第一行没有任何问题，但是第二行是什么意思呢？..在这里，参与者分为两个阵营：一些人以邮寄的方式写信给我们，因为他们陷入了死胡同，而另一些人则仔细地看了一下“ Apocalypse Spares Nobody”这一短语，并意识到了这一点。 ？对！良好的旧</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASN.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式</font><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经写过有关如何解析它的信息）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bb/vr/k4/bbvrk4nu0xsdayswyptuv2z1gpw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们做对。里面有2个结构。在其中一个中，我们找到了一组标记为“解密我”的字节，从中我们假定这是密文。在第二个结构中，我们看到两个数字。这不太可能是参与者与密文一起慷慨提供的密钥，这很可能意味着密码。我们正在处理一个公共密钥。收集的所有信息使我们得出一个显而易见的结论-为什么不尝试</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RSA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我们有一个模块和一个打开指示器，顺便说一句，它很大。经过</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对RSA</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><s><font style="vertical-align: inherit;">抽搐研究后</font></s><font style="vertical-align: inherit;">，我们得出结论，封闭指标很小，这意味着什么？答对了！我们绝对可以扮演坏人，并利用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">维纳的进攻</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
即使对于不喜欢密码学的人来说，我们也可以仔细考虑-您可以使用现成的攻击版本，例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后，我们得到一个闭合数字的值</font></font><code>d=40553818206320299896275948250950248823966726834704013657854904761789429403771</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并解密密文：</font></font><code>key=nq2020faAeFeGUCBjYf7UDrH9FapFCdFPa4u;pass=passCxws3jzYhp0HD5Fy84</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们在工作的第一部分获得了密钥“ nq2020faAeFeGUCBjYf7UDrH9FapFCdFPa4u”和密码“ passCxws3jzYhp0HD5Fy84”，您需要将其提供给机器人代表。</font><font style="vertical-align: inherit;">可以在聊天参与者中以@neoquestbot的名称找到它。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
收到第一把钥匙后，我们就变得积极起来，我们没有立即意识到该机器人在通信方面很挑剔，并且一直说它没有看到对话者：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ex/ky/t_/exkyt__66acqprkte1kk_hljuge.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是该机器人很高兴地收到VideoNote轮回消息，甚至以相同的轮回形式答复它们：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gv/tk/k4/gvtkk4hr8u_a8gsidkkqijtcuzy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
看起来视频和声音是相同的，但这只是乍一看。</font><font style="vertical-align: inherit;">如果我们的机器人给了我们一些秘密信号怎么办？</font><font style="vertical-align: inherit;">为了找出答案，我们将保存原始视频并将其与漫游器的响应进行比较。</font><font style="vertical-align: inherit;">对于此步骤和后续步骤，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFmpeg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件包对我们来说非常</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">有用</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">那么，让我们看看那里是什么：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/re/jy/z0/rejyz0tnqx0lgvvcggpctdv2elq.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ri/e3/_v/rie3_vg77u1j1txjch9te5a8y1w.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
格式为aac-&gt; flac，频率为44100 Hz-&gt; 98000 Hz。</font><font style="vertical-align: inherit;">我们发现，继续与音频一起工作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通过灵巧的动作，我们将其从视频中拉出：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/er/ql/jh/erqljhyvzkhdq34zoxmfvl7ezty.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们的原始消息也可以这样做，以便稍后进行比较。</font><font style="vertical-align: inherit;">为了清楚起见，请在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audacity中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开两个轨道</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gd/ga/gq/gdgagqn_qtefqtnbyphj2ud0b00.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
机器人的音频响应中幅度的跳跃立即引起您的注意（如果我们完全保持沉默，则尤其奇怪）。</font><font style="vertical-align: inherit;">在仔细检查时，我们注意到间隔“ wave-silence”期间的清晰边界：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mu/7f/zp/mu7fzposl6z9ozjrxanvjfnh2hw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们建议将所有内容放在一旁，再数一点。</font><font style="vertical-align: inherit;">我们按片段进行分析：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0-0.005-静默</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0.005-0.01-波</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0，01-0.0225-静默</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0.025-0.04-波</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0.04-0.045-静默</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最小间隔为0.005，其他所有间隔间隔是0.005的倍数。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于1，出现0.005的波动，对于0，则保持沉默。除了二进制代码，我们什么都没有！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们记得频率已经改变，请尝试查看频谱图（分析-&gt;频谱图）：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/7p/us/g0/7pusg01eyco5oawp9fyw92rbpzi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们看到最强大的信号是〜44100 Hz的频率，即超声波。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，那么您应该只在高频下工作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，机器人将其信号叠加到可听频谱中的原始音频上。在原始视频中有声音的那些参与者在Audacity中注意到了这一点。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们在Audacity或同一ffmpeg中使用高通滤波器来切断高频：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3c/tk/tc/3ctktc0fgdc9zevjijzypncxb9o.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我们有一个16位的单声道wav文件。它由标题，未压缩的音频流和元数据组成。音频流本身分为帧（帧可以存储几个样本，但这是一个完全不同的故事），在我们的示例中，每个16位（在屏幕快照中由字母pcm_s16表示）。帧是描述一个或多个通道（在我们的情况下是一个通道）一次的波幅的比特序列。音频流的采样频率为98000帧（即每秒98000帧），每0.005秒间隔490帧。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我们进一步根据一种简单的算法进行工作：读取490帧，确定是波浪还是静默，并根据此位将其设置为0或1。我们将</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用python和一个包</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wave</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于解析wav文件。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果打开文件时发生错误“ wave.Error：未知格式：65534”，则将标题中的“ wFormatTag”从“ FE FF”替换为“ 01 00”：</font></font><br>
<br>
<pre><code class="python hljs">fh = open(input_file, <span class="hljs-string">"r+b"</span>)<font></font>
fh.seek(<span class="hljs-number">20</span>)<font></font>
fh.write(<span class="hljs-string">b'\x01\x00'</span>)<font></font>
fh.close()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，打开文件，处理490帧并计算平均值：</font></font><br>
<br>
<pre><code class="python hljs">file = wave.open(input_file,<span class="hljs-string">"r"</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range (<span class="hljs-number">1</span>, int(file.getnframes()/<span class="hljs-number">490</span>)+<span class="hljs-number">1</span>):<font></font>
        frames = file.readframes(<span class="hljs-number">490</span>)<font></font>
        bit = <span class="hljs-number">0</span>
        sum = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, <span class="hljs-number">246</span>):<font></font>
            frame_bytes = frames[k*<span class="hljs-number">2</span>:k*<span class="hljs-number">2</span>+<span class="hljs-number">2</span>]<font></font>
            sum += int.from_bytes(frame_bytes, <span class="hljs-string">"big"</span>)
        <span class="hljs-keyword">if</span> sum/<span class="hljs-number">490</span> &gt; <span class="hljs-number">16000</span>:<font></font>
            bit = <span class="hljs-number">1</span><font></font>
        bits.append(bit)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可能应该保持安静的地方（与Audacity中的图像比较），可能会残留噪音。</font><font style="vertical-align: inherit;">因此，我们设置阈值（设为16000），超过该阈值，我们认为信号为1。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后将这些位分组为字节：</font></font><br>
<br>
<pre><code class="python hljs">bytes = []    
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range (<span class="hljs-number">1</span>, int(len(bits)/<span class="hljs-number">8</span>)+<span class="hljs-number">1</span>):<font></font>
        b1 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-8</span>]<font></font>
        b2 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-7</span>]<font></font>
        b3 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-6</span>]<font></font>
        b4 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-5</span>]<font></font>
        b5 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-4</span>]<font></font>
        b6 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-3</span>]<font></font>
        b7 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-2</span>]<font></font>
        b8 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-1</span>]<font></font>
        byte = (b1 &lt;&lt; <span class="hljs-number">7</span>) | (b2 &lt;&lt; <span class="hljs-number">6</span>) | (b3 &lt;&lt; <span class="hljs-number">5</span>) | (b4 &lt;&lt; <span class="hljs-number">4</span>) | (b5 &lt;&lt; <span class="hljs-number">3</span>) | (b6 &lt;&lt; <span class="hljs-number">2</span>) | (b7 &lt;&lt; <span class="hljs-number">1</span>) | b8<font></font>
        bytes.append(byte.to_bytes(<span class="hljs-number">1</span>, byteorder=<span class="hljs-string">'big'</span>)) 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果一切正确，则结果为字符串“ Givemethepassword”。</font><font style="vertical-align: inherit;">由于该漫游器使用隐写术在圈子中进行通信，因此以相同的格式为它设置密码（由于解密，我们将其与密钥一起接收）是合乎逻辑的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，用密码撰写音轨。</font><font style="vertical-align: inherit;">为此，我们使用在分析来自机器人的消息期间获得的数据：采样频率98000 Hz；采样频率98000 Hz。</font><font style="vertical-align: inherit;">描述每个比特的信号的持续时间为5 ms；</font><font style="vertical-align: inherit;">从图中可以看到，对应于比特值“ 1”的信号频率为44100 Hz。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在我们需要“产生”沉默。</font><font style="vertical-align: inherit;">我们通过中和来做到这一点：</font></font><br>
<br>
<pre><code class="python hljs">sample_rate = <span class="hljs-number">98000.0</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generate_silence</span>(<span class="hljs-params">duration_milliseconds=<span class="hljs-number">5</span></span>):</span><font></font>
    fragment = []<font></font>
    num_samples = duration_milliseconds * (sample_rate / <span class="hljs-number">1000.0</span>)
    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(int(num_samples)): <font></font>
        fragment.append(<span class="hljs-number">0.0</span>)
    <span class="hljs-keyword">return</span> fragment
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了产生声音，我们将使用正弦波（可在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">信息</font></a><font style="vertical-align: inherit;">）：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generate_sinewave</span>(<span class="hljs-params">
        freq=<span class="hljs-number">41000.0</span>, 
        duration_milliseconds=<span class="hljs-number">5</span>, 
        volume=<span class="hljs-number">0.5</span></span>):</span><font></font>
    fragment = []<font></font>
    amplitude = volume * <span class="hljs-number">32767.0</span>
    num_samples = duration_milliseconds * (sample_rate / <span class="hljs-number">1000.0</span>)
    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(int(num_samples)):<font></font>
        fragment.append(amplitude * math.sin(<span class="hljs-number">2</span> * math.pi * freq * ( x / sample_rate )))
    <span class="hljs-keyword">return</span> fragment
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在事情很小了：仍然需要将密码转换为位，然后转换为声音。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意：如前所述，机器人使用原始输入视频轨道覆盖其消息。</font><font style="vertical-align: inherit;">因此，您需要在密码后添加一些零字节，以便从机器人中删除整个密钥，而不仅仅是其开头（密钥长度为36个字节）。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声音产生</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">    audio = []<font></font>
    f = open(input_file, <span class="hljs-string">'rb'</span>)
    <span class="hljs-keyword">for</span> character <span class="hljs-keyword">in</span> f.read():<font></font>
        a = character<font></font>
        b8 = a &amp; <span class="hljs-number">0b00000001</span> 
        b7 = (a &amp; <span class="hljs-number">0b00000010</span>) &gt;&gt; <span class="hljs-number">1</span> 
        b6 = (a &amp; <span class="hljs-number">0b00000100</span>) &gt;&gt; <span class="hljs-number">2</span>
        b5 = (a &amp; <span class="hljs-number">0b00001000</span>) &gt;&gt; <span class="hljs-number">3</span>
        b4 = (a &amp; <span class="hljs-number">0b00010000</span>) &gt;&gt; <span class="hljs-number">4</span>
        b3 = (a &amp; <span class="hljs-number">0b00100000</span>) &gt;&gt; <span class="hljs-number">5</span>
        b2 = (a &amp; <span class="hljs-number">0b01000000</span>) &gt;&gt; <span class="hljs-number">6</span>
        b1 = (a &amp; <span class="hljs-number">0b10000000</span>) &gt;&gt; <span class="hljs-number">7</span>
        <span class="hljs-keyword">if</span> b1 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b2 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b3 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b4 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b5 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b6 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b7 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b8 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我们将创建完成的wave文件：</font></font><br>
<br>
<pre><code class="python hljs">wav_file=wave.open(file_name,<span class="hljs-string">"w"</span>)<font></font>
    nchannels = <span class="hljs-number">1</span>
    sampwidth = <span class="hljs-number">2</span><font></font>
    nframes = len(audio)<font></font>
    comptype = <span class="hljs-string">"NONE"</span>
    compname = <span class="hljs-string">"not compressed"</span><font></font>
    wav_file.setparams((nchannels, sampwidth, sample_rate, nframes, comptype, compname))<font></font>
    <span class="hljs-keyword">for</span> sample <span class="hljs-keyword">in</span> audio:<font></font>
        wav_file.writeframes(struct.pack(<span class="hljs-string">'h'</span>, int(sample)))<font></font>
    wav_file.close()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们将曲目保存在例如pass.wav中。</font><font style="vertical-align: inherit;">在此过程中，我们使用隐身解码器检查密码是否被识别。</font><font style="vertical-align: inherit;">如果一切顺利，那么我们将从原始视频my_video.mp4中获取一个带有密码的新视频，以替换音轨：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/7y/vg/_u/7yvg_ulbp5wmx8jmz5vmxucgogu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我们需要用它来制作VideoNote。</font><font style="vertical-align: inherit;">您可以尝试寻找工作对象（例如，一些参与者，例如@TelescopyBot），也可以使用TelegramAPI编写机器人。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rk/_4/np/rk_4nphgkerx68klet43x0npzrg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 无论如何，请转发给我们的机器人：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3x/li/0g/3xli0gyrmnawsnl6fyqa90slv6e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们得到了新的一轮热烈的祝贺（我们会做这样的工作！），根据已经解决的情况对音频进行解码，然后得到密钥：“ nq2020SyOMK7SnnJP1sNlvbTs8zt35vUrrsD” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
确实，隐秘技术</font><font style="vertical-align: inherit;">无缘无故</font><font style="vertical-align: inherit;">被认为是网络安全中最困难的领域之一-尝试在这里猜测所有这些！</font><font style="vertical-align: inherit;">但是NeoQUEST参与者在执行此任务时表现出了出色的敏捷性和幽默感，因此我们正在表达诚挚的敬意（来自机器人的祝贺）！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN499356/index.html">Powermac G5上的Hackintosh或如何组装工作站。第2部分</a></li>
<li><a href="../zh-CN499358/index.html">PEP 257俄语。（文档字符串协议）</a></li>
<li><a href="../zh-CN499360/index.html">根据您的经验以及一些数据和分析来创建和配置网状网络</a></li>
<li><a href="../zh-CN499362/index.html">远程马拉松周2：工作流程</a></li>
<li><a href="../zh-CN499364/index.html">阿列克谢·卡普捷列夫（Alexey Kapterev）：批判性思维101（第1部分）</a></li>
<li><a href="../zh-CN499368/index.html">关于短语动词4（输入/输出）</a></li>
<li><a href="../zh-CN499370/index.html">我最喜欢的带有详细答案的CSS问题</a></li>
<li><a href="../zh-CN499374/index.html">使用一阶差异检查COVID-19增殖数据。那是怎么回事</a></li>
<li><a href="../zh-CN499376/index.html">关于HackRF One实例的现代无线电设备的一些知识</a></li>
<li><a href="../zh-CN499378/index.html">建立您的第一个赛普拉斯测试</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>