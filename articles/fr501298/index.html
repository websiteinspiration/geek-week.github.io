<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•û üë®‚Äçüöí üé∑ Cr√©ation de votre propre r√©f√©rentiel de plugins QGIS üëá üë®üèª‚Äçüéì üë®üèΩ‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La plupart des plugins QGIS accessibles au public sont h√©berg√©s dans le r√©f√©rentiel officiel . Cependant, dans certains cas, il est n√©cessaire de cr√©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cr√©ation de votre propre r√©f√©rentiel de plugins QGIS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501298/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La plupart des plugins QGIS accessibles au public sont h√©berg√©s dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√©rentiel officiel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cependant, dans certains cas, il est n√©cessaire de cr√©er votre propre r√©f√©rentiel de plugins, par exemple, pour distribuer votre plugin dans un cercle restreint de coll√®gues d'une organisation particuli√®re. </font><font style="vertical-align: inherit;">Dans cet article, nous verrons comment impl√©menter notre propre r√©f√©rentiel de plugins et discuterons √©galement des exigences minimales qu'un plugin doit remplir pour le placer dans son propre r√©f√©rentiel.</font></font><br>
<a name="habracut"></a><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note 1</font></font></b>
                        <div class="spoiler_text"> ,           QGIS  . ,        ,       :<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">https://plugins.qgis.org/publish/</a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Releasing your plugin</a><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note 2</font></font></b>
                        <div class="spoiler_text">,   ,    QGIS 3.10.5 LTR.<br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestionnaire de plugins</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QGIS dispose d'un outil sp√©cial pour travailler avec des plugins - le gestionnaire de plugins. </font><font style="vertical-align: inherit;">Il vous permet de rechercher des plugins, de les installer et de les supprimer, de suivre l'apparition de nouvelles versions des plugins install√©s, de connecter des r√©f√©rentiels tiers, etc. </font><font style="vertical-align: inherit;">Pour chaque plugin, le gestionnaire de plugins fournit une fen√™tre avec des informations sur le plugin. </font><font style="vertical-align: inherit;">Il existe trois sc√©narios pour remplir ces informations:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le plugin est dans le r√©f√©rentiel, mais n'est pas install√© sur votre ordinateur. </font><font style="vertical-align: inherit;">Dans ce cas, toutes les informations pour le gestionnaire de plugins sont extraites de la description du plugin dans le fichier plugins.xml.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le plugin est install√© sur votre ordinateur et il existe une connexion avec le r√©f√©rentiel. </font><font style="vertical-align: inherit;">Dans ce cas, une partie des informations est toujours extraite de la description du plugin dans le fichier plugins.xml, et une partie du fichier de m√©tadonn√©es metadata.txt</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le plugin est install√© sur votre ordinateur et il n'y a pas de connexion avec le r√©f√©rentiel. </font><font style="vertical-align: inherit;">Dans ce cas, toutes les informations du gestionnaire de plugins sont extraites du fichier de m√©tadonn√©es metadata.txt.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le tableau ci-dessous d√©crit l'origine des param√®tres dans la fen√™tre avec des informations sur le plugin, dans chacun des trois cas:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Param√®tre dans la fen√™tre d'informations sur le plugin dans le gestionnaire de plugins QGIS</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La source √† partir de laquelle le param√®tre est extrait avant l'installation √† partir du r√©f√©rentiel</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La source √† partir de laquelle le param√®tre est extrait lorsque le plug-in est install√© sur votre ordinateur et qu'il existe une connexion avec le r√©f√©rentiel</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La source √† partir de laquelle le param√®tre est extrait lorsque le plug-in est install√© sur votre ordinateur et qu'il n'y a pas de connexion avec le r√©f√©rentiel</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nom</font></font><br>
 </td>
<td> <font color="blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (propri√©t√© de nom de la balise pyqgis_plugin)</font></font><br>
 </td>
<td> <font color="blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (propri√©t√© de nom de la balise pyqgis_plugin)</font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La description</font></font><br>
 </td>
<td> <font color="blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √Ä propos de</font></font><br>
 </td>
<td> <font color="blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Version install√©e</font></font><br>
 </td>
<td></td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;(param√®tre de version)</font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;(param√®tre de version)</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Version disponible</font></font><br>
 </td>
<td> <font color="blue">plugins.xml</font>&nbsp;( version  pyqgis_plugin)<br>
 </td>
<td> <font color="blue">plugins.xml</font>&nbsp;( version  pyqgis_plugin)<br>
 </td>
<td> </td>
</tr>
<tr>
<td> Download url<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> </td>
</tr>
<tr>
<td> Changelog<br>
 </td>
<td></td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Tags<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Author<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Email<br>
 </td>
<td></td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Homepage<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Bug tracker<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Code repository<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> QgisMinimumVersion<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> QgisMaximumVersion<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Experimental<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Deprecated<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Icon<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Category<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
</tbody></table></div><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"> </b>
                        <div class="spoiler_text"><ul>
<li> ,       QGIS,   metadata.txt  plugins.xml  .      initGui()   .</li>
<li> Installed version  Available version,  QGIS   .  Installed version  Available version,  QGIS   ¬´Installed version of this plugin is higher than any version found in repository¬ª.       ,  ,   .</li>
<li>        ,     metadata.txt  plugins.xml .        .</li>
<li> Available version   plugins.xml   version  pyqgis_plugin,     version.</li>
<li>  metadata.txt  plugins.xml    Experimental  Deprecated,           .</li>
<li>   QGIS     (QgisMinimumVersion)   (QgisMaximumVersion) ,   metadata.txt  plugins.xml.</li>
<li>    ,       .     ,      QgisMinimumVersion + 0.99.</li>
</ul><br>
</div>
                    </div><br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque plugin dans le r√©f√©rentiel doit √™tre conditionn√© dans une archive zip distincte, dans laquelle le dossier racine doit √™tre pr√©sent, et dans lequel se trouvent les fichiers de votre plugin avec le fichier metadata.txt. </font><font style="vertical-align: inherit;">Par le nom du dossier racine, le gestionnaire de plugins QGIS fera correspondre les plugins install√©s localement avec les plugins disponibles dans le r√©f√©rentiel. </font><font style="vertical-align: inherit;">Les caract√©ristiques d'une telle comparaison seront discut√©es ci-dessous dans la section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Communication entre le plugin local et le plugin dans le r√©f√©rentiel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un plugin QGIS fonctionnel ne doit contenir que deux fichiers requis dans son r√©pertoire:</font></font><br>
&nbsp;<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__init__.py est le point de d√©part du plugin. </font><font style="vertical-align: inherit;">Le fichier doit contenir la m√©thode classFactory ().</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt - contient des informations g√©n√©rales sur le plugin. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple de plugin avec un ensemble minimal de fichiers peut √™tre trouv√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©tudier la structure des plugins plus en d√©tail dans la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation officielle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichier de m√©tadonn√©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme d√©j√† indiqu√©, dans le r√©pertoire de chaque plugin, il doit y avoir un fichier metadata.txt contenant des informations g√©n√©rales sur le plugin. </font><font style="vertical-align: inherit;">Les informations qu'il contient sont utilis√©es pour s'afficher dans le gestionnaire de plug-ins QGIS, rechercher un plug-in, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La structure du fichier de m√©tadonn√©es doit √™tre la suivante:</font></font><br>
<br>
<pre><code class="plaintext hljs">[general]<font></font>
Parameter1_Name: Parameter1_Value<font></font>
Parameter2_Name: Parameter2_Value<font></font>
‚Ä¶<font></font>
ParameterN_Name: ParameterN_Value</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou:</font></font><br>
<br>
<pre><code class="plaintext hljs">[general]<font></font>
Parameter1_Name= Parameter1_Value<font></font>
Parameter2_Name= Parameter2_Value<font></font>
‚Ä¶<font></font>
ParameterN_Name= ParameterN_Value</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez utiliser deux points ou le symbole "=" comme s√©parateur pour le nom du param√®tre et sa valeur. </font><font style="vertical-align: inherit;">Cependant, il n'est pas n√©cessaire qu'il n'y ait qu'un seul type de d√©limiteur dans un seul fichier de m√©tadonn√©es. </font><font style="vertical-align: inherit;">Les espaces avant et apr√®s le s√©parateur n'affectent pas la lecture des donn√©es de metadata.txt, par cons√©quent, ils peuvent √™tre en n'importe quelle quantit√© ou totalement absents. </font><font style="vertical-align: inherit;">Notez √©galement que le mot cl√© "[g√©n√©ral]" au d√©but du fichier de m√©tadonn√©es est obligatoire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les param√®tres requis, sans lesquels le plug-in peut √™tre interrompu, sont les suivants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name - nom du plugin,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">version - version plugin,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qgisMinimumVersion est la version minimale de QGIS adapt√©e pour travailler avec ce plugin.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez trouver des informations sur d'autres param√®tres </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque r√©f√©rentiel doit contenir un fichier plugins.xml qui fournit des informations g√©n√©rales au gestionnaire de plugins sur tous les plugins disponibles dans le r√©f√©rentiel.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque</font></font></b>
                        <div class="spoiler_text">  ,       .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La structure de plugins.xml doit √™tre la suivante:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">pyqgis_plugin</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Plugin1_Name"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"Plugin1_Version"</span>&gt;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">Plugin1_Parameter1_Name</span>&gt;</span>Plugin1_Parameter1_Value<span class="hljs-tag">&lt;/<span class="hljs-name">Plugin1_Parameter1_Name</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">Plugin1_Parameter2_Name</span>&gt;</span>Plugin1_Parameter2_Value<span class="hljs-tag">&lt;/<span class="hljs-name">Plugin1_Parameter2_Name</span>&gt;</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">Plugin1_ParameterN_Name</span>&gt;</span>Plugin1_ParameterN_Value<span class="hljs-tag">&lt;/<span class="hljs-name">Plugin1_ParameterN_Name</span>&gt;</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;/<span class="hljs-name">pyqgis_plugin</span>&gt;</span><font></font>
&nbsp;&nbsp;&nbsp; ...<font></font>
&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">pyqgis_plugin</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PluginN_Name"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"PluginN_Version"</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">PluginN_Parameter1_Name</span>&gt;</span>PluginN_Parameter1_Value<span class="hljs-tag">&lt;/<span class="hljs-name">PluginN_Parameter1_Name</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">PluginN_Parameter2_Name</span>&gt;</span>PluginN_Parameter2_Value<span class="hljs-tag">&lt;/<span class="hljs-name">PluginN_Parameter2_Name</span>&gt;</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">PluginN_ParameterN_Name</span>&gt;</span>PluginN_ParameterN_Value<span class="hljs-tag">&lt;/<span class="hljs-name">PluginN_ParameterN_Name</span>&gt;</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;/<span class="hljs-name">pyqgis_plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les param√®tres requis sans lesquels le r√©f√©rentiel peut √™tre interrompu sont les suivants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name - le nom du plugin (indiqu√© comme param√®tre de la balise pyqgis_plugin)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">version - version du plugin (sp√©cifi√© comme param√®tre de la balise pyqgis_plugin),</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qgis_minimum_version - la version minimale de QGIS adapt√©e pour travailler avec ce plugin,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">download_url - URL o√π se trouve l'archive zip avec votre plugin.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est recommand√© d'√©tudier l'exemple de fichier plugins.xml du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√©rentiel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> officiel </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">QGIS</font></a><font style="vertical-align: inherit;"> (remplacez les num√©ros √† la fin du lien par la version de QGIS install√©e sur votre ordinateur).</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pointe</font></font></b>
                        <div class="spoiler_text">  plugins.xml,         .      xml.<br>
</div>
                    </div><br>
<a name="link"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La relation entre le plugin local et le plugin dans le r√©f√©rentiel</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment le gestionnaire de plugins comprend-il qu'un certain plugin install√© sur votre ordinateur et un plugin dans le r√©f√©rentiel connect√© sont le m√™me plugin, par exemple, afin de v√©rifier si une nouvelle version du plugin est apparue dans le r√©f√©rentiel? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sans entrer dans les d√©tails techniques, la r√®gle de connexion des plugins est la suivante: le plug-in local et le plug-in dans le r√©f√©rentiel sont consid√©r√©s par le gestionnaire de plug-ins QGIS comme √©tant le m√™me plug-in si le nom du dossier racine du plug-in correspond au texte jusqu'au premier point de la balise file_name, ou si la balise file_name est manquante, avec du texte au premier point du dernier √©l√©ment de chemin de la balise download_url.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En d'autres termes, si la balise file_name est pr√©sente dans la description du plugin √† partir de plugins.xml, alors la partie jusqu'au premier point (mise en √©vidence en gras) en sera extraite, qui doit √™tre exactement le nom du dossier racine du plugin install√© afin que le gestionnaire de plugins QGIS les consid√®re comme un et le m√™me plugin. </font><font style="vertical-align: inherit;">
Si la balise file_name est manquante, le dernier √©l√©ment de chemin de la balise download_url sera analys√© de la m√™me mani√®re. La partie extraite de celui-ci jusqu'au premier point (surlign√© en gras) doit √©galement √™tre exactement le nom du dossier racine du plug-in install√© afin que le gestionnaire de plug-ins QGIS les consid√®re comme le m√™me plug-in. </font><font style="vertical-align: inherit;">
S'il n'y a pas de correspondance entre le nom du dossier racine et la partie extraite de nom_fichier ou (si nom_fichier est manquant) de download_url, les plugins sont consid√©r√©s comme des plugins diff√©rents.</font></font><br>
<br>
<code>&lt;file_name&gt;<strong>PluginName</strong>.2.1.0.zip&lt;/file_name&gt;</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code>&lt;download_url&gt;YourRepositoryURL/<strong>PluginName</strong>.2.1.0.zip&lt;/download_url&gt;</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Compte tenu de cette r√®gle, il est recommand√© d'ajouter la balise file_name dans la description des plugins dans le fichier plugins.xml, qui n'indique pas le nom de votre archive zip, mais le nom du dossier racine de votre plugin, auquel vous pouvez √©ventuellement ajouter une version ou d'autres informations, en les s√©parant par un point. </font><font style="vertical-align: inherit;">Dans ce cas, vous pouvez nommer l'archive zip avec le plugin comme vous le souhaitez, y compris en s√©parant le nom du plugin et sa version par un trait d'union, comme c'est la coutume dans le r√©f√©rentiel officiel.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque</font></font></b>
                        <div class="spoiler_text">   QGIS   file_name         . <br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemples de plugins correctement con√ßus</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple 1</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Structure du fichier du plugin</font></font></h4><br>
<code>FolderName.SomeInfo.zip<br>
---FolderName<br>
------__init__.py<br>
------metadata.txt</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichier Metadata.txt</font></font></h4><br>
<code>[general]<br>
name: PluginName<br>
version: 2.1.0<br>
qgisMinimumVersion: 3.0</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichier plugins.xml</font></font></h4><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>&nbsp;
   <span class="hljs-tag">&lt;<span class="hljs-name">pyqgis_plugin</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PluginName"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"2.1.0"</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">qgis_minimum_version</span>&gt;</span>3.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">qgis_minimum_version</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">download_url</span>&gt;</span>YourRepositoryURL/FolderName.SomeInfo.zip<span class="hljs-tag">&lt;/<span class="hljs-name">download_url</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">pyqgis_plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet exemple, la connexion entre le plugin install√© localement sur votre ordinateur et le plugin dans le r√©f√©rentiel se fait via le nom du dossier racine et la balise download_url. </font><font style="vertical-align: inherit;">Par cons√©quent, la partie du nom de l'archive zip au premier point et le nom du dossier racine du plugin doivent correspondre exactement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple 2</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Structure du fichier du plugin</font></font></h4><br>
<code>ArchiveName.SomeInfo.zip<br>
---FolderName<br>
------__init__.py<br>
------metadata.txt</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichier Metadata.txt</font></font></h4><br>
<code>[general]<br>
name: PluginName<br>
version: 2.1.0<br>
qgisMinimumVersion: 3.0</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichier plugins.xml</font></font></h4><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">pyqgis_plugin</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PluginName"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"2.1.0"</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">qgis_minimum_version</span>&gt;</span>3.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">qgis_minimum_version</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">file_name</span>&gt;</span>FolderName.SomeInfo<span class="hljs-tag">&lt;/<span class="hljs-name">file_name</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">download_url</span>&gt;</span>YourRepositoryURL/ArchiveName.SomeInfo.zip<span class="hljs-tag">&lt;/<span class="hljs-name">download_url</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">pyqgis_plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet exemple, la connexion entre le plugin install√© localement sur votre ordinateur et le plugin dans le r√©f√©rentiel se fait via le nom du dossier racine et la balise file_name. </font><font style="vertical-align: inherit;">Dans ce cas, la partie du nom de l'archive zip au premier point et le nom du dossier racine peuvent diff√©rer.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©er un r√©f√©rentiel</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©f√©rentiel de plugins QGIS doit √™tre constitu√© d'un fichier plugins.xml qui fournit des informations g√©n√©rales au gestionnaire de plugins sur tous les plugins disponibles dans le r√©f√©rentiel et des archives zip contenant les plugins eux-m√™mes. Le r√©f√©rentiel peut √™tre h√©berg√© sur des services Web tels que GitHub ou Bitbucket. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une condition importante pour que QGIS reconnaisse un tel r√©f√©rentiel est d'acc√©der aux fichiers via un lien direct. Cela peut √™tre fait, par exemple, en utilisant des pages Github ou des pages Bitbucket. Google Drive ou DropBox ne fonctionneront pas √† ces fins. ils ne permettent pas un lien direct vers un fichier de la forme ... / filename.extension. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les instructions d'utilisation de GitHub pour h√©berger un site Web statique sont </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disponibles ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les instructions sur la fa√ßon d'utiliser Bitbucket pour h√©berger un site Web statique sont </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disponibles ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√®gle g√©n√©rale, il vous suffit de renommer votre r√©f√©rentiel selon le mod√®le: </font></font><br>
<br>
<code>username.github.io </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pour GitHub) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ou </font></font><br>
<code>username.bitbucket.io </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pour Bitbucket) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s les param√®tres n√©cessaires, le lien vers votre r√©f√©rentiel QGIS ressemblera √† ceci: </font></font><br>
<br>
<code>username.github.io/plugins.xml </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pour GitHub) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ou </font></font><br>
<code>username.bitbucket.io/plugins.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pour Bitbucket) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce lien doit √™tre sp√©cifi√© dans le champ URL du gestionnaire de plug-ins QGIS lors de la connexion d'un nouveau r√©f√©rentiel. </font><font style="vertical-align: inherit;">Si la connexion au r√©f√©rentiel r√©ussit, l'√©tat du r√©f√©rentiel sera d√©fini sur ¬´connect√©¬ª et les plugins d√©crits dans le fichier plugins.xml appara√Ætront dans la liste des plugins disponibles.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr501270/index.html">Il est temps de distribuer vos jouets</a></li>
<li><a href="../fr501272/index.html">Contre de Durov</a></li>
<li><a href="../fr501276/index.html">Ajouter des milliers de clips √† une liste de lecture YouTube √† partir d'une cha√Æne Telegram</a></li>
<li><a href="../fr501280/index.html">–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –±–∏–∑–Ω–µ—Å–∞</a></li>
<li><a href="../fr501282/index.html">Effet secondaire du coronavirus: les robots occuperont nos emplois encore plus rapidement</a></li>
<li><a href="../fr501302/index.html">Veuillez ne pas faire de bruit</a></li>
<li><a href="../fr501306/index.html">Cr√©ation d'un pipeline pour fournir Graal Native Image aux utilisateurs finaux</a></li>
<li><a href="../fr501308/index.html">Nous essayons de comprendre StateFlow</a></li>
<li><a href="../fr501310/index.html">√Ä propos du peroxyde d'hydrog√®ne et du bug des fus√©es</a></li>
<li><a href="../fr501312/index.html">Alpine.js - cadre l√©ger avec une syntaxe pratique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>