<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔴 👵🏽 🎖️ バックアップ、パート2：rsyncベースのバックアップツールの概要とテスト ⬇️ 🍠 🤹🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事は続く 
 
 バックアップサイクル

1. バックアップ、パート1：バックアップ、方法、テクノロジーの概要が必要な理由
2. バックアップ、パート2：rsyncベースのバックアップツールの概要とテスト
3. バックアップ、パート3：重複性の概要とテスト、重複
4. , 4: zbackup...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>バックアップ、パート2：rsyncベースのバックアップツールの概要とテスト</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/452630/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/qz/kb/vb/qzkbvb4hilrlczg2cxjosdu-ube.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事は続く </font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップサイクル</font></font></b><div class="spoiler_text"><ol>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップ、パート1：バックアップ、方法、テクノロジーの概要が必要な理由</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップ、パート2：rsyncベースのバックアップツールの概要とテスト</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップ、パート3：重複性の概要とテスト、重複</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> ,  4:    zbackup, restic, borgbackup</a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> ,  5:  Bacula  Veeam Backup for Linux</a></li>
<li>  ,  6:    </li>
<li>  ,  7: </li>
</ol><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の記事ですでに述べたように、rsyncに基づくバックアッププログラムは非常に多数あります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの条件に最も適したもののうち、私は3つ検討します：rdiff-backup、rsnapshotおよびburp。</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストファイルセット</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストファイルセットは、将来の記事を含め、すべての候補者で同じになります。</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のセット</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：10 GBのメディアファイル、および約50 MB-PHPでのサイトのソースコード。ファイルサイズは、ソースコードの場合は数キロバイトから、メディアファイルの場合は数十メガバイトです。</font><font style="vertical-align: inherit;">目標は、静力学でサイトをシミュレートすることです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目のセット</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：サイズが5 GBのメディアファイルでサブディレクトリの名前を変更するときに最初の</font><b><font style="vertical-align: inherit;">セット</font></b><font style="vertical-align: inherit;">から取得されます。</font><font style="vertical-align: inherit;">目標は、ディレクトリの名前を変更する際のバックアップシステムの動作を調査することです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3番目のセット</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><b><font style="vertical-align: inherit;">3</font></b><font style="vertical-align: inherit;"> GBのメディアファイルを削除し、新しい3 GBのメディアファイルを追加することにより、最初の</font><b><font style="vertical-align: inherit;">セット</font></b><font style="vertical-align: inherit;">から取得します。</font><font style="vertical-align: inherit;">目標は、一般的なサイト更新操作中のバックアップシステムの動作を調査することです。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果を取得する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
任意のバックアップには、少なくとも3回実施され、ファイルシステムキャッシュコマンドリセットを伴っている</font></font><code>sync</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>echo 3 &gt; /proc/sys/vm/drop_caches</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、テストサーバとバックアップサーバの両方に。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バックアップのソースとなるサーバーには、監視ソフトウェアがインストールされます-バックアップ中にサーバーの負荷が推定されるnetdata。これは、バックアッププロセスによるサーバーの負荷を評価するために必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、バックアップストレージサーバーはメインサーバーよりも低速ですが、ランダム書き込み速度が比較的遅い、より容量の大きいディスクを備えています。バックアップ時の最も一般的な状況であり、バックアップサーバーが適切な方法で行うべきではないためです。バックアップタスク以外のnetdataの負荷は監視しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、サーバーが変更され、さまざまなシステムのバックアップを確認します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今それらは次の特徴を持っています</font></font></b><div class="spoiler_text"><b></b><br>
<br>
<pre><code class="plaintext hljs">sysbench --threads=2 --time=30 --cpu-max-prime=20000 cpu run<font></font>
sysbench 1.0.17 (using system LuaJIT 2.0.4)<font></font>
<font></font>
Running the test with following options:<font></font>
Number of threads: 2<font></font>
Initializing random number generator from current time<font></font>
<font></font>
<font></font>
Prime numbers limit: 20000<font></font>
<font></font>
Initializing worker threads...<font></font>
<font></font>
Threads started!<font></font>
<font></font>
CPU speed:<font></font>
    events per second:  1081.62<font></font>
<font></font>
General statistics:<font></font>
    total time:                          30.0013s<font></font>
    total number of events:              32453<font></font>
<font></font>
Latency (ms):<font></font>
         min:                                    1.48<font></font>
         avg:                                    1.85<font></font>
         max:                                    9.84<font></font>
         95th percentile:                        2.07<font></font>
         sum:                                59973.40<font></font>
<font></font>
Threads fairness:<font></font>
    events (avg/stddev):           16226.5000/57.50<font></font>
    execution time (avg/stddev):   29.9867/0.00<font></font>
</code></pre><br>
<b> , ...</b><br>
<br>
<pre><code class="plaintext hljs">sysbench --threads=4 --time=30 --memory-block-size=1K --memory-scope=global --memory-total-size=100G --memory-oper=read memory run<font></font>
sysbench 1.0.17 (using system LuaJIT 2.0.4)<font></font>
<font></font>
Running the test with following options:<font></font>
Number of threads: 4<font></font>
Initializing random number generator from current time<font></font>
<font></font>
<font></font>
Running memory speed test with the following options:<font></font>
  block size: 1KiB<font></font>
  total size: 102400MiB<font></font>
  operation: read<font></font>
  scope: global<font></font>
<font></font>
Initializing worker threads...<font></font>
<font></font>
Threads started!<font></font>
<font></font>
Total operations: 104857600 (5837637.63 per second)<font></font>
<font></font>
102400.00 MiB transferred (5700.82 MiB/sec)<font></font>
<font></font>
<font></font>
General statistics:<font></font>
    total time:                          17.9540s<font></font>
    total number of events:              104857600<font></font>
<font></font>
Latency (ms):<font></font>
         min:                                    0.00<font></font>
         avg:                                    0.00<font></font>
         max:                                   66.08<font></font>
         95th percentile:                        0.00<font></font>
         sum:                                18544.64<font></font>
<font></font>
Threads fairness:<font></font>
    events (avg/stddev):           26214400.0000/0.00<font></font>
    execution time (avg/stddev):   4.6362/0.12<font></font>
</code></pre><br>
<b>…  </b><br>
<br>
<pre><code class="plaintext hljs">sysbench --threads=4 --time=30 --memory-block-size=1K --memory-scope=global --memory-total-size=100G --memory-oper=write memory run<font></font>
sysbench 1.0.17 (using system LuaJIT 2.0.4)<font></font>
<font></font>
Running the test with following options:<font></font>
Number of threads: 4<font></font>
Initializing random number generator from current time<font></font>
<font></font>
<font></font>
Running memory speed test with the following options:<font></font>
  block size: 1KiB<font></font>
  total size: 102400MiB<font></font>
  operation: write<font></font>
  scope: global<font></font>
<font></font>
Initializing worker threads...<font></font>
<font></font>
Threads started!<font></font>
<font></font>
Total operations: 91414596 (3046752.56 per second)<font></font>
<font></font>
89272.07 MiB transferred (2975.34 MiB/sec)<font></font>
<font></font>
<font></font>
General statistics:<font></font>
    total time:                          30.0019s<font></font>
    total number of events:              91414596<font></font>
<font></font>
Latency (ms):<font></font>
         min:                                    0.00<font></font>
         avg:                                    0.00<font></font>
         max:                                 1022.90<font></font>
         95th percentile:                        0.00<font></font>
         sum:                                66430.91<font></font>
<font></font>
Threads fairness:<font></font>
    events (avg/stddev):           22853649.0000/945488.53<font></font>
    execution time (avg/stddev):   16.6077/1.76<font></font>
</code></pre><br>
<b>  - </b><br>
<br>
<pre><code class="plaintext hljs">sysbench --threads=4 --file-test-mode=rndrw --time=60 --file-block-size=4K --file-total-size=1G fileio run<font></font>
sysbench 1.0.17 (using system LuaJIT 2.0.4)<font></font>
<font></font>
Running the test with following options:<font></font>
Number of threads: 4<font></font>
Initializing random number generator from current time<font></font>
<font></font>
<font></font>
Extra file open flags: (none)<font></font>
128 files, 8MiB each<font></font>
1GiB total file size<font></font>
Block size 4KiB<font></font>
Number of IO requests: 0<font></font>
Read/Write ratio for combined random IO test: 1.50<font></font>
Periodic FSYNC enabled, calling fsync() each 100 requests.<font></font>
Calling fsync() at the end of test, Enabled.<font></font>
Using synchronous I/O mode<font></font>
Doing random r/w test<font></font>
Initializing worker threads...<font></font>
<font></font>
Threads started!<font></font>
<font></font>
<font></font>
File operations:<font></font>
    reads/s:                      4587.95<font></font>
    writes/s:                     3058.66<font></font>
    fsyncs/s:                     9795.73<font></font>
<font></font>
Throughput:<font></font>
    read, MiB/s:                  17.92<font></font>
    written, MiB/s:               11.95<font></font>
<font></font>
General statistics:<font></font>
    total time:                          60.0241s<font></font>
    total number of events:              1046492<font></font>
<font></font>
Latency (ms):<font></font>
         min:                                    0.00<font></font>
         avg:                                    0.23<font></font>
         max:                                   14.45<font></font>
         95th percentile:                        0.94<font></font>
         sum:                               238629.34<font></font>
<font></font>
Threads fairness:<font></font>
    events (avg/stddev):           261623.0000/1849.14<font></font>
    execution time (avg/stddev):   59.6573/0.00<font></font>
</code></pre><br>
<b>     </b><br>
<br>
<pre><code class="plaintext hljs">sysbench --threads=4 --file-test-mode=rndrw --time=60 --file-block-size=4K --file-total-size=1G fileio run<font></font>
sysbench 1.0.17 (using system LuaJIT 2.0.4)<font></font>
<font></font>
Running the test with following options:<font></font>
Number of threads: 4<font></font>
Initializing random number generator from current time<font></font>
<font></font>
<font></font>
Extra file open flags: (none)<font></font>
128 files, 8MiB each<font></font>
1GiB total file size<font></font>
Block size 4KiB<font></font>
Number of IO requests: 0<font></font>
Read/Write ratio for combined random IO test: 1.50<font></font>
Periodic FSYNC enabled, calling fsync() each 100 requests.<font></font>
Calling fsync() at the end of test, Enabled.<font></font>
Using synchronous I/O mode<font></font>
Doing random r/w test<font></font>
Initializing worker threads...<font></font>
<font></font>
Threads started!<font></font>
<font></font>
<font></font>
File operations:<font></font>
    reads/s:                      11.37<font></font>
    writes/s:                     7.58<font></font>
    fsyncs/s:                     29.99<font></font>
<font></font>
Throughput:<font></font>
    read, MiB/s:                  0.04<font></font>
    written, MiB/s:               0.03<font></font>
<font></font>
General statistics:<font></font>
    total time:                          73.8868s<font></font>
    total number of events:              3104<font></font>
<font></font>
Latency (ms):<font></font>
         min:                                    0.00<font></font>
         avg:                                   78.57<font></font>
         max:                                 3840.90<font></font>
         95th percentile:                      297.92<font></font>
         sum:                               243886.02<font></font>
<font></font>
Threads fairness:<font></font>
    events (avg/stddev):           776.0000/133.26<font></font>
    execution time (avg/stddev):   60.9715/1.59<font></font>
</code></pre><br>
<b>   </b><br>
<br>
<pre><code class="plaintext hljs">iperf3 -c backup<font></font>
Connecting to host backup, port 5201<font></font>
[  4] local x.x.x.x port 59402 connected to y.y.y.y port 5201<font></font>
[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd<font></font>
[  4]   0.00-1.00   sec   419 MBytes  3.52 Gbits/sec  810    182 KBytes<font></font>
[  4]   1.00-2.00   sec   393 MBytes  3.30 Gbits/sec  810    228 KBytes<font></font>
[  4]   2.00-3.00   sec   378 MBytes  3.17 Gbits/sec  810    197 KBytes<font></font>
[  4]   3.00-4.00   sec   380 MBytes  3.19 Gbits/sec  855    198 KBytes<font></font>
[  4]   4.00-5.00   sec   375 MBytes  3.15 Gbits/sec  810    182 KBytes<font></font>
[  4]   5.00-6.00   sec   379 MBytes  3.17 Gbits/sec  765    228 KBytes<font></font>
[  4]   6.00-7.00   sec   376 MBytes  3.15 Gbits/sec  810    180 KBytes<font></font>
[  4]   7.00-8.00   sec   379 MBytes  3.18 Gbits/sec  765    253 KBytes<font></font>
[  4]   8.00-9.00   sec   380 MBytes  3.19 Gbits/sec  810    239 KBytes<font></font>
[  4]   9.00-10.00  sec   411 MBytes  3.44 Gbits/sec  855    184 KBytes<font></font>
- - - - - - - - - - - - - - - - - - - - - - - - -<font></font>
[ ID] Interval           Transfer     Bandwidth       Retr<font></font>
[  4]   0.00-10.00  sec  3.78 GBytes  3.25 Gbits/sec  8100             sender<font></font>
[  4]   0.00-10.00  sec  3.78 GBytes  3.25 Gbits/sec                  receiver<font></font>
</code></pre><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト方法</font></font></h4><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のテストセットを含むファイルシステムがテストサーバーで準備され、必要に応じてバックアップストレージサーバーでリポジトリが初期化されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バックアッププロセスが開始され、その時間が測定されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストサーバーでは、ファイルは2番目のテストスイートに移行されます。</font><font style="vertical-align: inherit;">バックアッププロセスが開始され、その時間が測定されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストサーバーは3番目のテストスイートに移行します。</font><font style="vertical-align: inherit;">バックアッププロセスが開始され、その時間が測定されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果の3番目のテストセットは、新しい最初のテストセットによって受け入れられます。</font><font style="vertical-align: inherit;">ポイント1〜3がさらに2回繰り返されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データがピボットテーブルに入力され、netdataを含むグラフが追加されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別のバックアップ方法でレポートが作成されます。</font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">予期された結果</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3つの候補はすべて同じテクノロジー（rsync）に基づいているため、結果は通常のrsyncに近く、その利点もすべて含まれます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ内のファイルは「そのまま」保存されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリのサイズは、バックアップ間の違いを含めて大きくなります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データを送信するときにネットワークに比較的大きな負荷がかかり、プロセッサに小さな負荷がかかります。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常のrsyncのテスト実行が参照として使用され、その結果</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらは</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/oy/rd/ry/oyrdryrtuoaktxno8ap_gdxirpe.png"><br>
<br>
             HDD,         .<br>
<br>
    4   15 .<br>
<br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rdiff-backupのテスト</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の候補は、1つのディレクトリを別のディレクトリにバックアップするPythonスクリプトであるrdiff-backupです。</font><font style="vertical-align: inherit;">同時に、現在のバックアップコピーは「そのまま」格納され、以前に作成されたバックアップは特別なサブディレクトリに増分的に格納されるため、スペースが節約されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
典型的な動作モードを確認します。</font><font style="vertical-align: inherit;">バックアッププロセスの開始はクライアント自体によって開始され、バックアップのためのサーバー側では、データを受信するプロセスが起動されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
見てみましょう、</font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼は私たちの条件で何ができるのですか</font></font></b><div class="spoiler_text">.<br>
<br>
<img src="https://habrastorage.org/webt/dx/cj/wu/dxcjwunnxfr_2orkmdhj2stkdci.png"><br>
<br>
    :<br>
 <br>
<div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th> </th>
<th> </th>
<th> </th>
</tr>
<tr>
<td> </td>
<td>16m32s</td>
<td>16m26s</td>
<td>16m19s</td>
</tr>
<tr>
<td> </td>
<td>2h5m</td>
<td>2h10m</td>
<td>2h8m</td>
</tr>
<tr>
<td> </td>
<td>2h9m</td>
<td>2h10m</td>
<td>2h10m</td>
</tr>
</tbody></table></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rdiff-backupは、大きなデータ変更に非常に苦痛に反応し、ネットワークを完全には利用しません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rsnapshotテスト</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の候補であるrsnapshotはperlスクリプトであり、効果的な作業の主な要件はハードリンクのサポートです。</font><font style="vertical-align: inherit;">これにより、ディスク領域が節約されます。</font><font style="vertical-align: inherit;">この場合、前回のバックアップ以降に変更されていないファイルは、ハードリンクを使用して元のファイルを参照します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バックアッププロセスのロジックも逆になります。サーバーは自身のクライアントをアクティブに「ウォーク」し、データを取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
試験結果</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/e7/cr/64/e7cr64iu4dn3sz9jtjr0eqdvcek.png"><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th> </th>
<th> </th>
<th> </th>
</tr>
<tr>
<td> </td>
<td>4m22s</td>
<td>4m19s</td>
<td>4m16s</td>
</tr>
<tr>
<td> </td>
<td>2m6s</td>
<td>2m10s</td>
<td>2m6s</td>
</tr>
<tr>
<td> </td>
<td>1m18s</td>
<td>1m10s</td>
<td>1m10s</td>
</tr>
</tbody></table></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは非常に速く、rdiff-backupよりもはるかに速く、純粋なrsyncに非常に近く機能しました。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">げっぷテスト</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のオプションは、librsync-burpの上にCを実装することです。burpは、クライアント認証を含むクライアントサーバーアーキテクチャと、Webインターフェイス（基本パッケージには含まれません）を備えています。</font><font style="vertical-align: inherit;">もう1つの興味深い機能は、クライアントからの回復権限のないバックアップです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を見ようよ</font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パフォーマンス</font></font></b><div class="spoiler_text">.<br>
<br>
<img src="https://habrastorage.org/webt/v_/-g/7b/v_-g7b392dqlunmoqk_idtuilhc.png"><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th> </th>
<th> </th>
<th> </th>
</tr>
<tr>
<td> </td>
<td>11m21s</td>
<td>11m10s</td>
<td>10m56s</td>
</tr>
<tr>
<td> </td>
<td>5m37s</td>
<td>5m40s</td>
<td>5m35s</td>
</tr>
<tr>
<td> </td>
<td>3m33s</td>
<td>3m24s</td>
<td>3m40s</td>
</tr>
</tbody></table></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
rsnapshotの2倍の速度で動作しましたが、十分に高速で、rdiff-backupよりも高速でした。</font><font style="vertical-align: inherit;">グラフはやや鋸歯状です。パフォーマンスはバックアップストレージサーバーのディスクサブシステムに依存していますが、これはrsnapshotの場合ほど顕著ではありません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての候補のリポジトリのサイズはほぼ同じでした。つまり、最初は最大10 GB、次に最大15 GB、次に最大18 GBと増加しています。これは、rsyncの特殊性によるものです。</font><font style="vertical-align: inherit;">また、すべての候補のシングルスレッド化にも注目する価値があります（デュアルコアマシンではCPU使用率は約50％です）。</font><font style="vertical-align: inherit;">3つの候補すべてが、最後のバックアップを「現状のまま」復元する機会を提供しました。つまり、リポジトリの作成に使用されるものを含め、サードパーティのプログラムを使用せずにファイルを復元することができました。</font><font style="vertical-align: inherit;">これは、rsyncの「一般的なレガシー」でもあります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">調査結果</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バックアップシステムが複雑で、機能が多様であるほど、動作は遅くなりますが、それほど要求が厳しくないプロジェクトでは、rdiff-backup以外のすべてのプロジェクトが機能します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">発表</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメモは、バックアップサイクルを継続します。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップ、パート1：なぜバックアップが必要なの</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">か</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、方法、テクノロジーの概要</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">？バックアップ、パート2：rsyncベースのバックアップツールの</font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要とテストバックアップ、パート3：概要と重複のテスト、複製</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップコピー、パート4：zbackup、restic、borgbackup </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップの</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">確認とテスト</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、パート5：Linux </font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップ</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">用のBaculaおよびVeeamバックアップのテスト</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">：読者の要求に応じたパート：AMANDAの概要、UrBackup、BackupPC </font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップ、パート6：バックアップツールの比較</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップ、パート7：結論</font></font></a><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finnix</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja452618/index.html">Google I / O 2019で言われたこと：Android 10、ARアプリケーションなど</a></li>
<li><a href="../ja452620/index.html">Typescriptを使用してアクションタイプを派生させる</a></li>
<li><a href="../ja452622/index.html">プログラマーのためのゲノミクス入門</a></li>
<li><a href="../ja452624/index.html">スプリングブートアクチュエータの概要</a></li>
<li><a href="../ja452628/index.html">カスタムボトムシート：仕組み</a></li>
<li><a href="../ja452638/index.html">CarGISの下で2GISをどのように起動したのか</a></li>
<li><a href="../ja452642/index.html">群衆の強さ。シカゴがゴミを食べるロボットを開発した方法-川の掃除</a></li>
<li><a href="../ja452644/index.html">DevConf X Web開発者会議-6月21日</a></li>
<li><a href="../ja452646/index.html">ニューラルネットワークがブラックホールの最初の写真で見たもの</a></li>
<li><a href="../ja452648/index.html">PHP：複雑なXMLファイルを解析し、ネイティブコードで溺れさせない方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>