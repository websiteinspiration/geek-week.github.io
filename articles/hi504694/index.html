<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪ╜ ЁЯСиЁЯП╗тАНЁЯОУ ЁЯСйЁЯП┐тАНЁЯЪТ рдПрдХ рдбреЗрдХреЛрд░реЗрдЯрд░ - рд╕реА ++, рдкрд╛рдпрдерди рдФрд░ рдЗрд╕рдХреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдХреИрд╕реЗ рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред рднрд╛рдЧ 1 ЁЯХг ЁЯХ║ЁЯП╛ ЁЯЪн</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд▓реЗрдЦреЛрдВ рдХреА рдпрд╣ рд╢реНрд░реГрдВрдЦрд▓рд╛ рд╕реА ++ рдореЗрдВ рдПрдХ рдбреЗрдХреЛрд░реЗрдЯрд░ рдмрдирд╛рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдкрд┐рдд рд╣реЛрдЧреА , рдкрд╛рдпрдерди рдореЗрдВ рдЙрдирдХреЗ рдХрд╛рдо рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ, рдФрд░ рдЕрдкрдиреА рд╕реНрд╡рдпрдВ рдХреА рд╕рдВрдХрд▓рд┐рдд рднрд╛рд╖рд╛ рдореЗрдВ рдЗрд╕...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдПрдХ рдбреЗрдХреЛрд░реЗрдЯрд░ - рд╕реА ++, рдкрд╛рдпрдерди рдФрд░ рдЗрд╕рдХреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдХреИрд╕реЗ рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред рднрд╛рдЧ 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504694/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЗрдЦреЛрдВ рдХреА рдпрд╣ рд╢реНрд░реГрдВрдЦрд▓рд╛ </font><font style="vertical-align: inherit;">рд╕реА ++ рдореЗрдВ </font><font style="vertical-align: inherit;">рдПрдХ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрдХреЛрд░реЗрдЯрд░</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрдирд╛рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдкрд┐рдд рд╣реЛрдЧреА </font><font style="vertical-align: inherit;">, рдкрд╛рдпрдерди рдореЗрдВ рдЙрдирдХреЗ рдХрд╛рдо рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ, рдФрд░ рдЕрдкрдиреА рд╕реНрд╡рдпрдВ рдХреА рд╕рдВрдХрд▓рд┐рдд рднрд╛рд╖рд╛ рдореЗрдВ рдЗрд╕ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдХреНрд▓реЛрдЬрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП - рд╕рд┐рдВрдЯреИрдХреНрд╕ рдЯреНрд░реА рдХреЗ рд░реВрдкрд╛рдВрддрд░рдг рдФрд░ рдЖрдзреБрдирд┐рдХреАрдХрд░рдгред</font></font></p><br>
<img src="https://habrastorage.org/webt/mm/gu/wn/mmguwnnsrlpzur2dgs8pf0woq7m.png"><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрд╕реНрд╡реАрдХрд░рдг</font></font></b>
                        <div class="spoiler_text">        ,    Python тАФ    .   Python  ,    (). -   ( ),        -    ( ,    ..),   Python  ┬л┬╗      .<br>
</div>
                    </div><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реА ++ рдореЗрдВ рдбреЗрдХреЛрд░реЗрдЯрд░</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рд╕рдм рдЗрд╕ рддрдереНрдп рд╕реЗ рд╢реБрд░реВ рд╣реБрдЖ рдХрд┐ рдореЗрд░реЗ рджреЛрд╕реНрдд </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VoidDruid</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдиреЗ рдПрдХ рдбрд┐рдкреНрд▓реЛрдорд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдЫреЛрдЯрд╛ рд╕рдВрдХрд▓рдХ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЬрд┐рд╕рдХреА рдкреНрд░рдореБрдЦ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╕рдЬреНрдЬрд╛рдХрд╛рд░ рд╣реИред рдкреВрд░реНрд╡-рд░рдХреНрд╖рд╛ рдХреЗ рджреМрд░рд╛рди рднреА, рдЬрдм рдЙрдиреНрд╣реЛрдВрдиреЗ рдЕрдкрдиреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╕рднреА рд▓рд╛рднреЛрдВ рдХреЛ рд░реЗрдЦрд╛рдВрдХрд┐рдд рдХрд┐рдпрд╛, рдЬрд┐рд╕рдореЗрдВ рдПрдПрд╕рдЯреА рдХреЛ рдмрджрд▓рдирд╛ рд╢рд╛рдорд┐рд▓ рдерд╛, рддреЛ рдореИрдВрдиреЗ рд╕реЛрдЪрд╛: рдХреНрдпрд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдорд╣рд╛рди рдФрд░ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╕реА ++ рдореЗрдВ рдЗрди рд╕рдорд╛рди рд╕рдЬреНрдЬрд╛рдХрд╛рд░реЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИ рдФрд░ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЬрдЯрд┐рд▓ рд╢рдмреНрджреЛрдВ рдФрд░ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ? рдЗрд╕ рд╡рд┐рд╖рдп рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рдореБрдЭреЗ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рд╕рд░рд▓ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рджреГрд╖реНрдЯрд┐рдХреЛрдг рдирд╣реАрдВ рдорд┐рд▓рд╛ (рд╡реИрд╕реЗ, рдореИрдВ рдбрд┐рдЬрд╛рдЗрди рдкреИрдЯрд░реНрди рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреЗрд╡рд▓ рд▓реЗрдЦ рднрд░ рдореЗрдВ рдЖрдпрд╛ рдерд╛) рдФрд░ рдлрд┐рд░ рдЕрдкрдиреЗ рдЦреБрдж рдХреЗ рдбреЗрдХреЛрд░реЗрдЯрд░ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдмреИрда рдЧрдпрд╛ред</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, рдореЗрд░реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдкреНрд░рддреНрдпрдХреНрд╖ рд╡рд┐рд╡рд░рдг рдкрд░ рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдереЛрдбрд╝рд╛ рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ рдХрд┐ рд╕реА ++ рдореЗрдВ рд▓реИрдореНрдмреНрдбрд╛ рдФрд░ рдХреНрд▓реЛрдЬрд░ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдЙрдирдХреЗ рдмреАрдЪ рдХреНрдпрд╛ рдЕрдВрддрд░ рд╣реИред </font><font style="vertical-align: inherit;">рддреБрд░рдВрдд рдПрдХ рдЖрд░рдХреНрд╖рдг рдХрд░реЗрдВ рдХрд┐ рдпрджрд┐ рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдорд╛рдирдХ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рд╣реИ, рддреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдореЗрд░рд╛ рдорддрд▓рдм рд╣реИ C ++ 20ред </font><font style="vertical-align: inherit;">рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рд▓реИрдореНрдмреНрдбрд╛ рдЕрдирд╛рдо рдлрд╝рдВрдХреНрд╢рди рд╣реИрдВ, рдФрд░ рдХреНрд▓реЛрдЬрд╝рд░ рдлрд╝рдВрдХреНрд╢рдВрд╕ рд╣реИрдВ рдЬреЛ рдЕрдкрдиреЗ рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗ рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, C ++ 11 рд╕реЗ рд╢реБрд░реВ рд╣реЛрдХрд░, рдПрдХ рд▓рдВрдмреЛрджрд░ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:</font></font><br>
<br>
</p><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> 
</span>{<font></font>
    [] (<span class="hljs-keyword">int</span> a) <font></font>
    {<font></font>
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;<font></font>
    }(<span class="hljs-number">10</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╛ рдХрд┐рд╕реА рд╡реИрд░рд┐рдПрдмрд▓ рдкрд░ рдЙрд╕рдХрд╛ рдорд╛рди рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВ рдФрд░ рдмрд╛рдж рдореЗрдВ рдХреЙрд▓ рдХрд░реЗрдВред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> 
</span>{
    <span class="hljs-keyword">auto</span> lambda = [] (<span class="hljs-keyword">int</span> a) <font></font>
    {<font></font>
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;<font></font>
    };<font></font>
    lambda(<span class="hljs-number">10</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рд╕рдВрдХрд▓рди рдХреЗ рджреМрд░рд╛рди рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рд▓реИрдореНрдмрдбрд╛ рдХреНрдпрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рд▓реИрдореНрдмреНрдбрд╛ рдХреА рдЖрдВрддрд░рд┐рдХ рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рдЦреБрдж рдХреЛ рд╡рд┐рд╕рд░реНрдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cppinsights.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдЬрд╛рдПрдВ </font><font style="vertical-align: inherit;">рдФрд░ рдЕрдкрдирд╛ рдкрд╣рд▓рд╛ рдЙрджрд╛рд╣рд░рдг рдЪрд▓рд╛рдПрдВред </font><font style="vertical-align: inherit;">рдЕрдЧрд▓рд╛, рдореИрдВрдиреЗ рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рдирд┐рд╖реНрдХрд░реНрд╖ рд╕рдВрд▓рдЧреНрди рдХрд┐рдпрд╛:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> __<span class="hljs-title">lambda_60_19</span>
{</span>
<span class="hljs-keyword">public</span>: 
    <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a)</span> <span class="hljs-keyword">const</span>
    </span>{
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>.<span class="hljs-keyword">operator</span>&lt;&lt;(a).<span class="hljs-keyword">operator</span>&lt;&lt;(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>);<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-keyword">using</span> retType_60_19 = <span class="hljs-keyword">void</span> (*)(<span class="hljs-keyword">int</span>);
    <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">operator</span> <span class="hljs-title">retType_60_19</span> <span class="hljs-params">()</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">noexcept</span>
    </span>{
        <span class="hljs-keyword">return</span> __invoke;<font></font>
    };<font></font>
    <font></font>
<span class="hljs-keyword">private</span>: 
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> __invoke(<span class="hljs-keyword">int</span> a)<font></font>
    {<font></font>
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>.<span class="hljs-keyword">operator</span>&lt;&lt;(a).<span class="hljs-keyword">operator</span>&lt;&lt;(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>);<font></font>
    }    <font></font>
};<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рдЬрдм рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реИрдореНрдмреНрдбрд╛ рдПрдХ рд╡рд░реНрдЧ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╛ рдПрдХ рдлрд╝рдирдХрд╛рд░ (рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдСрдкрд░реЗрдЯрд░ ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реЛрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">) рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдЕрджреНрд╡рд┐рддреАрдп рдирд╛рдо рдХреЗ рд╕рд╛рде, рдЬрд┐рд╕рдореЗрдВ рдПрдХ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдСрдкрд░реЗрдЯрд░ () рд╣реЛрддрд╛ рд╣реИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЬреЛ рдЙрди рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╣рдордиреЗ рдЕрдкрдиреЗ рдирдВрдмрд╛ рдФрд░ рдЙрд╕рдХреЗ рд╢рд░реАрд░ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рд╣реИ рд╡рд╣ рдХреЛрдб рдЬрд┐рд╕реЗ рд╣рдорд╛рд░реЗ рд▓рдВрдмреЛрджрд░ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рд╕рд╛рде, рд╕рдм рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдиреНрдп рджреЛ рддрд░реАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛ рд╣реИ, рд╡реЗ рдХреНрдпреЛрдВ рд╣реИрдВ? </font><font style="vertical-align: inherit;">рдкрд╣рд▓рд╛ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдкреЙрдЗрдВрдЯрд░ рдХреЗ рд▓рд┐рдП рдХрд╛рд╕реНрдЯрд┐рдВрдЧ рдХрд╛ рдСрдкрд░реЗрдЯрд░ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рд╣рдорд╛рд░реЗ рд▓реИрдореНрдмреНрдбрд╛ рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ, рдФрд░ рджреВрд╕рд░рд╛ рдХреЛрдб рд╣реИ рдЬрд┐рд╕реЗ рддрдм рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрдм рд╣рдорд╛рд░реЗ рд▓реИрдореНрдмреНрдбрд╛ рдХреЛ рдкреЙрдЗрдВрдЯрд░ рдХреЛ рдЗрд╕рдХреЗ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдкрд░ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">void</span> (*p_lambda) (<span class="hljs-keyword">int</span>) = lambda;<font></font>
p_lambda(<span class="hljs-number">10</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдареАрдХ рд╣реИ, рд╡рд╣рд╛рдБ рдПрдХ рдкрд╣реЗрд▓реА рд╕реЗ рдХрдо рд╣реИ, рд▓реЗрдХрд┐рди рдмрдВрдж рд╣реЛрдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛? </font><font style="vertical-align: inherit;">рдЖрдЗрдП рд╣рдо рдПрдХ рдХреНрд▓реЛрдЬрд░ рдХрд╛ рд╕рдмрд╕реЗ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдЬреЛ рдЪрд░ "рдПрдХ" рдХреЛ рд╕рдВрджрд░реНрдн рд╕реЗ рдкрдХрдбрд╝рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдПрдХ рд╕реЗ рдмрдврд╝рд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">int</span> a = <span class="hljs-number">10</span>;
    <span class="hljs-keyword">auto</span> closure = [&amp;a] () { a += <span class="hljs-number">1</span>; };<font></font>
    closure();<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, C ++ рдореЗрдВ рдХреНрд▓реЛрдЬрд░ рдФрд░ рд▓реИрдореНрдмреНрдбрд╛ рдмрдирд╛рдиреЗ рдХрд╛ рддрдВрддреНрд░ рд▓рдЧрднрдЧ рд╕рдорд╛рди рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрди рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХреЛ рдЕрдХреНрд╕рд░ рднреНрд░рдорд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд▓реИрдореНрдмреНрдбрд╛ рдФрд░ рдХреНрд▓реЛрдЬрд░ рдХреЛ рдХреЗрд╡рд▓ рд▓реИрдореНрдмреНрдбрд╛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди C ++ рдореЗрдВ рдмрдВрдж рд╣реЛрдиреЗ рдХреЗ рдЖрдВрддрд░рд┐рдХ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдкрд░ рд╡рд╛рдкрд╕ред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> __<span class="hljs-title">lambda_61_20</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span>
    </span>{<font></font>
        a += <span class="hljs-number">1</span>;<font></font>
    }<font></font>
<span class="hljs-keyword">private</span>:
    <span class="hljs-keyword">int</span> &amp; a;
<span class="hljs-keyword">public</span>:<font></font>
    __lambda_61_20(<span class="hljs-keyword">int</span> &amp; _a)<font></font>
    : a{_a}<font></font>
    {}<font></font>
};</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдордиреЗ рдПрдХ рдирдпрд╛, рдиреЙрди-рдбрд┐рдлреЙрд▓реНрдЯ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдЬреЛрдбрд╝рд╛ рд╣реИ рдЬреЛ рд╣рдорд╛рд░реЗ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рд╕рдВрджрд░реНрдн рд╕реЗ рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдХрдХреНрд╖рд╛ рдХреЗ рд╕рджрд╕реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рд╕рд╣реЗрдЬрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдЖрдкрдХреЛ [рдФрд░] рдпрд╛ [=] рд╕реЗрдЯ рдХрд░рддреЗ рд╕рдордп рдмреЗрд╣рдж рд╕рд╛рд╡рдзрд╛рдиреА рдмрд░рддрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдкреВрд░реЗ рд╕рдВрджрд░реНрдн рдХреЛ рдмрдВрдж рд╣реЛрдиреЗ рдХреЗ рднреАрддрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдпрд╣ рдореЗрдореЛрд░реА рд╕реЗ рдХрд╛рдлреА рдЙрдк-рд╕реНрддрд░реАрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдордиреЗ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдкреЙрдЗрдВрдЯрд░ рдореЗрдВ рдХрд╛рд╕реНрдЯрд┐рдВрдЧ рдХреЗ рдСрдкрд░реЗрдЯрд░ рдХреЛ рдЦреЛ рджрд┐рдпрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЕрдм рдЗрд╕рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдХреЙрд▓ рд╕рдВрджрд░реНрдн рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред </font><font style="vertical-align: inherit;">рдФрд░ рдЕрдм рдЙрдкрд░реЛрдХреНрдд рдХреЛрдб рд╕рдВрдХрд▓рд┐рдд рдирд╣реАрдВ рдХрд░реЗрдЧрд╛:</font></font><br>
<br>
</p><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">int</span> a = <span class="hljs-number">10</span>;
    <span class="hljs-keyword">auto</span> closure = [&amp;a] () { a += <span class="hljs-number">1</span>; };<font></font>
    closure();<font></font>
    <span class="hljs-keyword">void</span> (*ptr)(<span class="hljs-keyword">int</span>) = closure;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдЧрд░ рдЖрдкрдХреЛ рдЕрднреА рднреА рдХрд╣реАрдВ рдкрд╛рд╕ рдмрдВрдж рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдХрд┐рд╕реА рдиреЗ рднреА std :: function рдХрд╛ рдЙрдкрдпреЛрдЧ рд░рджреНрдж рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">std</span>::function&lt;<span class="hljs-keyword">void</span>()&gt; function = closure;<font></font>
function();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдЬрдм рд╣рдо рд▓рдЧрднрдЧ рд╕рдордЭ рдЧрдП рд╣реИрдВ рдХрд┐ рд▓реИрдореНрдмреНрдбрд╛ рдФрд░ рдХреНрд▓реЛрдЬрд░ C ++ рдореЗрдВ рдХреНрдпрд╛ рд╣реИрдВ, рддреЛ рд╕реАрдзреЗ рдбреЗрдХреЛрд░реЗрдЯрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рд╣рдорд╛рд░реА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдкрд░ рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рдбреЗрдХреЛрд░реЗрдЯрд░ рдХреЛ рдПрдХ рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд╣рдорд╛рд░реЗ рдлрд╝рдВрдХреНрд╢рди рдпрд╛ рд╡рд┐рдзрд┐ рдХреЛ рд▓реЗрдирд╛ рдЪрд╛рд╣рд┐рдП, рд╣рдореЗрдВ рдЗрд╕рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЬреЛрдбрд╝реЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛) рдФрд░ рдЬрдм рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдПрдХ рдирдпрд╛ рдлрд╝рдВрдХреНрд╢рди рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЬреЛ рд╣рдорд╛рд░реЗ рдХреЛрдб рдФрд░ рдлрд╝рдВрдХреНрд╢рди / рд╡рд┐рдзрд┐ рдХреЛрдб рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рдХреЛрдИ рднреА рд╕реНрд╡рд╛рднрд┐рдорд╛рдиреА рдЕрдЬрдЧрд░ рдХрд╣реЗрдЧрд╛: тАЬрд▓реЗрдХрд┐рди рдРрд╕рд╛ рдХреИрд╕реЗ! рдбреЗрдХреЛрд░реЗрдЯрд░ рдХреЛ рдореВрд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдирд╛рдо рд╕реЗ рдХрд┐рд╕реА рднреА рдХреЙрд▓ рдХреЛ рдПрдХ рдирдпрд╛ рдлрд╝рдВрдХреНрд╢рди рдХреЙрд▓ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП! " рдмрд╕ рдпрд╣ C ++ рдХреА рдореБрдЦреНрдп рд╕реАрдорд╛ рд╣реИ, рд╣рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкреБрд░рд╛рдиреЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХ рдирд╣реАрдВ рд╕рдХрддреЗ рд╣реИрдВред рдмреЗрд╢рдХ, рдЗрд╕рдХреЗ рдкрддреЗ рдХреЛ рд╕реНрдореГрддрд┐ рдореЗрдВ рд▓рд╛рдиреЗ рдФрд░ рдЗрд╕реЗ рдкреАрд╕рдиреЗ рдХрд╛ рдПрдХ рд╡рд┐рдХрд▓реНрдк рд╣реИ (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рд╕реЗ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреА рдЕрд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╛рдкреНрддрд┐ рд╣реЛ рдЬрд╛рдПрдЧреА) рдпрд╛ рдЗрд╕рдХреЗ рд╢рд░реАрд░ рдХреЛ рдПрдХ рдЪреЗрддрд╛рд╡рдиреА рдХреЗ рд╕рд╛рде рдмрджрд▓реЗрдВ рдХрд┐ рдЗрд╕реЗ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рдпрд╣ рдЧрдВрднреАрд░ рдкрд░рд┐рдгрд╛рдореЛрдВ рд╕реЗ рднрд░рд╛ рд╣реИред рдпрджрд┐ рдкрд╣рд▓рд╛ рд╡рд┐рдХрд▓реНрдк рдмрд┐рд▓реНрдХреБрд▓ рдХрдард┐рди рд▓рдЧрддрд╛ рд╣реИ,рддрдм рджреВрд╕рд░рд╛ рд╕рдВрдХрд▓рдХ, рдЬрдм рд╡рд┐рднрд┐рдиреНрди рд╕рдВрдХрд▓рдХ рдЕрдиреБрдХреВрд▓рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рджреБрд░реНрдШрдЯрдирд╛ рднреА рд╣реЛ рд╕рдХрддреА рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП рд╣рдо рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХрд┐рд╕реА рднреА рдореИрдХреНрд░реЛ рдореИрдЬрд┐рдХ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рдореИрдВ рдмреЗрдорд╛рдиреА рдорд╛рдирддрд╛ рд╣реВрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ, рдЪрд▓реЛ рд╣рдорд╛рд░реЗ рдбреЗрдХреЛрд░реЗрдЯрд░ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝реЗрдВред </font><font style="vertical-align: inherit;">рдореЗрд░реЗ рджрд┐рдорд╛рдЧ рдореЗрдВ рдЖрдпрд╛ рдкрд╣рд▓рд╛ рд╡рд┐рдХрд▓реНрдк рдпрд╣ рдерд╛:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> Decorator<font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> R, <span class="hljs-keyword">typename</span> ...Args&gt;
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">make</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::function&lt;R(Args...)&gt;&amp; f)</span>
    </span>{
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Do something"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
        <span class="hljs-keyword">return</span> [=](Args... args) <font></font>
        {<font></font>
            <span class="hljs-keyword">return</span> f(<span class="hljs-built_in">std</span>::forward&lt;Args&gt;(args)...);<font></font>
        };<font></font>
    }<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕реЗ рдПрдХ рд╕реНрдЯреИрдЯрд┐рдХ рдореЗрдердб рд╡рд╛рд▓рд╛ рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдмрдирд╛рдЗрдП рдЬреЛ std :: function рдХреЛ рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдПрдХ рдХреНрд▓реЛрдЬрд░ рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ рд╣рдорд╛рд░реЗ рдлрдВрдХреНрд╢рди рдХреЗ рд╕рдорд╛рди рдкреИрд░рд╛рдореАрдЯрд░ рд▓реЗрдЧрд╛ рдФрд░ рдЬрдм рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рддреЛ рдпрд╣ рд╕рд┐рд░реНрдл рд╣рдорд╛рд░реЗ рдлрдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░реЗрдЧрд╛ рдФрд░ рдЗрд╕рдХрд╛ рд░рд┐рдЬрд▓реНрдЯ рд▓реМрдЯрд╛рдПрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЪрд▓реЛ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдПрдВ рдЬрд┐рд╕реЗ рд╣рдо рд╕рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд╛рд╣рддреЗ рд╣реИрдВред</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myFunc</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a)</span>
</span>{
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"here"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдФрд░ рд╣рдорд╛рд░рд╛ рдореБрдЦреНрдп рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">std</span>::function&lt;<span class="hljs-keyword">void</span>(<span class="hljs-keyword">int</span>)&gt; f = myFunc;
    <span class="hljs-keyword">auto</span> decorated = Decorator::make(f);<font></font>
    decorated(<span class="hljs-number">10</span>);<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд╣реБрд░реНрд░реЗ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджрд░рдЕрд╕рд▓, рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдореЗрдВ рдХрдИ рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЪрд▓реЛ рдХреНрд░рдо рдореЗрдВ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдХреЛрдб рдХреЗрд╡рд▓ рд╕рдВрд╕реНрдХрд░рдг C ++ 14 рдФрд░ рдЙрдЪреНрдЪрддрд░ рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЕрдЧреНрд░рд┐рдо рдореЗрдВ рд▓реМрдЯрд╛рдП рдЧрдП рдкреНрд░рдХрд╛рд░ рдХреЛ рдЬрд╛рдирдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдореБрдЭреЗ рдЗрд╕рдХреЗ рд╕рд╛рде рд░рд╣рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдореБрдЭреЗ рдЕрдиреНрдп рд╡рд┐рдХрд▓реНрдк рдирд╣реАрдВ рдорд┐рд▓реЗред</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП std :: рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЗрд╕рдореЗрдВ рдкрд╛рд╕ рдХрд░рдирд╛ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдирд╛рдо рд╕реЗ рдкрд╛рд╕ рдХрд░рдиреЗ рд╕реЗ рд╕рдВрдХрд▓рди рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╣реЛрддреА рд╣реИрдВред </font><font style="vertical-align: inherit;">рдФрд░ рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рднреА рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдирд╣реАрдВ рд╣реИ рдЬрд┐рддрдирд╛ рд╣рдо рдЪрд╛рд╣реЗрдВрдЧреЗ! </font><font style="vertical-align: inherit;">рд╣рдо рдЗрд╕ рддрд░рд╣ рдХреЛрдб рдирд╣реАрдВ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="cpp hljs">Decorator::make([](){});<font></font>
Decorator::make(myFunc);<font></font>
<span class="hljs-keyword">void</span>(*ptr)(<span class="hljs-keyword">int</span>) = myFunc;<font></font>
Decorator::make(ptr);</code></pre><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рд╡рд░реНрдЧ рд╡рд┐рдзрд┐ рдХреЛ рд╕рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИред</font></font><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рд╕рд╣рдХрд░реНрдорд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЫреЛрдЯреА рдмрд╛рддрдЪреАрдд рдХреЗ рдмрд╛рдж, C ++ 17 рдФрд░ рдЗрд╕рдХреЗ рдмрд╛рдж рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдХрд▓реНрдк рдХрд╛ рдЖрд╡рд┐рд╖реНрдХрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> Decorator<font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> Function&gt;
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">make</span><span class="hljs-params">(Function&amp;&amp; func)</span>
    </span>{
        <span class="hljs-keyword">return</span> [func = <span class="hljs-built_in">std</span>::forward&lt;Function&gt;(func)] (<span class="hljs-keyword">auto</span> &amp;&amp; ...args) <font></font>
        {<font></font>
            <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Do something"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::invoke(<font></font>
                func,<font></font>
                <span class="hljs-built_in">std</span>::forward&lt;<span class="hljs-keyword">decltype</span>(args)&gt;(args)...<font></font>
            );<font></font>
        };<font></font>
    }<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рдХрд▓реНрдк рдХреЗ рдлрд╛рдпрджреЗ рдпрд╣ рд╣реИрдВ рдХрд┐ рдЕрдм рд╣рдо рдХрд┐рд╕реА рднреА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдПрдХ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдСрдкрд░реЗрдЯрд░ () рдХреЗ рд░реВрдк рдореЗрдВ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ рдирд┐: рд╢реБрд▓реНрдХ рдлрд╝рдВрдХреНрд╢рди, рдПрдХ рдкреЙрдЗрдВрдЯрд░, рдПрдХ рд▓реИрдореНрдмреНрдбрд╛, рдХрд┐рд╕реА рднреА рдлрд╝рдирдХрд╛рд░, рдПрд╕рдЯреАрдбреА :: рдлрд╝рдВрдХреНрд╢рди рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рдХреНрд▓рд╛рд╕ рд╡рд┐рдзрд┐ рдХрд╛ рдирд╛рдо рдкрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдмрд╛рдж рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдбрд┐рдХреЛрдб рдХрд┐рдП рдЧрдП рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддреЗ рд╕рдордп рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрджрд░реНрдн рдкрд╛рд╕ рдХрд░рдирд╛ рднреА рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд╡реЗрджрди рдХреЗ рд╡рд┐рдХрд▓реНрдк</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">auto</span> decorated_1 = Decorator::make(myFunc);<font></font>
    decorated_1(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<font></font>
<font></font>
    <span class="hljs-keyword">auto</span> my_lambda = [] (<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b) <font></font>
    { <font></font>
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="hljs-string">" "</span> &lt;&lt; b &lt;&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>; <font></font>
    };<font></font>
    <span class="hljs-keyword">auto</span> decorated_2 = Decorator::make(my_lambda);<font></font>
    decorated_2(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);<font></font>
<font></font>
    <span class="hljs-keyword">int</span> (*ptr)(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>) = myFunc;
    <span class="hljs-keyword">auto</span> decorated_3 = Decorator::make(ptr);<font></font>
    decorated_3(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>);<font></font>
<font></font>
    <span class="hljs-built_in">std</span>::function&lt;<span class="hljs-keyword">void</span>(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>)&gt; fun = myFunc;
    <span class="hljs-keyword">auto</span> decorated_4 = Decorator::make(fun);<font></font>
    decorated_4(<span class="hljs-number">7</span>,<span class="hljs-number">8</span>);<font></font>
<font></font>
    <span class="hljs-keyword">auto</span> decorated_5 = Decorator::make(decorated_4);<font></font>
    decorated_5(<span class="hljs-number">9</span>, <span class="hljs-number">10</span>);<font></font>
<font></font>
    <span class="hljs-keyword">auto</span> decorated_6 = Decorator::make(&amp;MyClass::func);<font></font>
    decorated_6(MyClass(<span class="hljs-number">10</span>));<font></font>
}</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕ рдХреЛрдб рдХреЛ C ++ 14 рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрджрд┐ std :: invoke рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд╣реИ, рдЬрд┐рд╕реЗ std :: __ invoke рд╕реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдХреЛрдИ рд╡рд┐рд╕реНрддрд╛рд░ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдХрдХреНрд╖рд╛ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рд╕рдЬрд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдЫреЛрдбрд╝рдиреА рд╣реЛрдЧреА, рдФрд░ рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЕрдиреБрдкрд▓рдмреНрдз рд╣реЛ рдЬрд╛рдПрдЧреАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмреЛрдЭрд┐рд▓ рдирд╣реАрдВ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП "std :: forward &lt;рдШреЛрд╖рдгрд╛рдкрддреНрд░ (args)&gt; (args) ..." рдЖрдк C ++ 20 рдХреЗ рд╕рд╛рде рдЙрдкрд▓рдмреНрдз рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╣рдорд╛рд░реЗ рд▓реИрдореНрдмреНрдбрд╛ рдмреЙрдпрд▓рд░рдкреНрд▓реЗрдЯ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ!</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> Decorator<font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> Function&gt;
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">auto</span> <span class="hljs-title">make</span><span class="hljs-params">(Function&amp;&amp; func)</span>
    </span>{
        <span class="hljs-keyword">return</span> [func = <span class="hljs-built_in">std</span>::forward&lt;Function&gt;(func)] <font></font>
        &lt;<span class="hljs-keyword">typename</span> ...Args&gt; (Args &amp;&amp; ...args) <font></font>
        {<font></font>
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::invoke(<font></font>
                func,<font></font>
                <span class="hljs-built_in">std</span>::forward&lt;Args&gt;(args)...<font></font>
            );<font></font>
        };<font></font>
    }<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдм рдХреБрдЫ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЬрд┐рд╕ рддрд░рд╣ рд╕реЗ рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ (рдпрд╛ рдХрдо рд╕реЗ рдХрдо рджрд┐рдЦрд╛рд╡рд╛) рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рдХреЛрдб gcc рдФрд░ clang 10-x рджреЛрдиреЛрдВ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрдХрд▓рд┐рдд рд╣реИ рдФрд░ рдЖрдк рдЗрд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдБ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рд╡рд┐рднрд┐рдиреНрди рдорд╛рдирдХреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рднреА рд╣реЛрдВрдЧреЗред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдЧрд▓реЗ рд▓реЗрдЦреЛрдВ рдореЗрдВ, рд╣рдо рдкрд╛рдпрдерди рдЙрджрд╛рд╣рд░рдг рдФрд░ рдЙрдирдХреА рдЖрдВрддрд░рд┐рдХ рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдЬреНрдЬрд╛рдХрд╛рд░реЛрдВ рдХреЗ рд╡рд┐рд╣рд┐рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░ рдЖрдЧреЗ рдмрдврд╝реЗрдВрдЧреЗред</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi504682/index.html">рдиреЛрд╕реНрдЯреИрд▓реНрдЬрд┐рдпрд╛ рдкреЛрд╕реНрдЯ: j2me, Gravity Defied, 64kb</a></li>
<li><a href="../hi504686/index.html">рдХреИрд╕реЗ рдПрдХ рдмрд┐рд▓реНрд▓реА рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi504688/index.html">рдорд╛рд╕реНрдХ рдмреЗрдХрд╛рд░ рд╣реИрдВ: KOVID-19 рдореЗрдВ рд╕рд╛рдорд╛рдЬрд┐рдХ рдиреАрддрд┐ рдХреА рд╡реИрдЬреНрдЮрд╛рдирд┐рдХ рдЖрд▓реЛрдЪрдирд╛</a></li>
<li><a href="../hi504690/index.html">рдореИрдВ рдХреИрд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╢реАрд▓ рдореВрд▓ рднрд╛рдЧ 3 (рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓) рдкрд░ Azure AD B2C рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдерд╛ рдХреА рдХрд╣рд╛рдиреА</a></li>
<li><a href="../hi504692/index.html">ZFS рдореВрд▓ рдмрд╛рддреЗрдВ: рднрдВрдбрд╛рд░рдг рдФрд░ рдкреНрд░рджрд░реНрд╢рди</a></li>
<li><a href="../hi504696/index.html">OpenStreetMap рд╕рдВред 513 (12.05.2020-18.05.05.2020) рдХреА рджреБрдирд┐рдпрд╛ рд╕реЗ рд╕рдорд╛рдЪрд╛рд░</a></li>
<li><a href="../hi504698/index.html">рдПрдХ рджреВрд░рд╕реНрде рд╕рд╛рдЗрдЯ рдкрд░ рдЬрд╣рд╛рдЬ рдкрд░</a></li>
<li><a href="../hi504700/index.html">рд╕реЛрд╡рд┐рдпрдд рдЧреНрд░рд╛рдлрд┐рдХ рдЯреИрдмрд▓реЗрдЯ "рд╕реНрдХреЗрдЪ"</a></li>
<li><a href="../hi504702/index.html">рд▓реЛрдЧ рдЕрдВрдЧреНрд░реЗрдЬреА рдирд╣реАрдВ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рддреЗ</a></li>
<li><a href="../hi504706/index.html">рдСрдЯреЛ рд╡рд╛рдИ-рдлрд╛рдИ рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>