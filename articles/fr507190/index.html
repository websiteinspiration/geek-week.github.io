<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕺🏽 👱 🧑🏼‍🤝‍🧑🏼 Bot dans aucun outil de code. Détails d'implémentation ♟️ 👍🏽 🦆</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous continuons d'expérimenter avec le paradigme sans code (et en partie avec un code bas). 
 
 Ils ont assemblé un chatbot qui aide à lire de grandes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bot dans aucun outil de code. Détails d'implémentation</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/507190/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous continuons d'expérimenter avec le paradigme sans code (et en partie avec un code bas). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils ont assemblé un chatbot qui aide à lire de grandes archives d'articles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'article, nous vous expliquerons quels outils ils ont utilisés et quelles limitations ils ont rencontrées.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/442/69f/380/44269f3806a66798d39448da0120dd6b.png" alt="image"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le matériel de l'article et le projet sont rassemblés avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roman_nebel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avertissement. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oui, il nous est également plus facile d'écrire du code propre. </font><font style="vertical-align: inherit;">Mais l'essence de l'exercice nocode est de collecter des services utiles à partir d'outils prêts à l'emploi. </font><font style="vertical-align: inherit;">Nous avons commencé longtemps, continuez comme ça. </font><font style="vertical-align: inherit;">Nous vous raconterons tout progressivement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le public de Habr, apparemment, s'intéresse aux détails techniques plutôt qu'aux produits. </font><font style="vertical-align: inherit;">S'il est logique de parler de la couche de travail du produit dans aucun projet de code sans plonger dans les détails de mise en œuvre, faites-le moi savoir dans les commentaires.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que voulais-tu faire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils voulaient aider les gens (et eux-mêmes):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habitué à lire en anglais;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partir pour le déjeuner: "Voici un article, lu à table."</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils ont décidé de fabriquer un tel microproduit via le bot Telegram:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une fois par jour, envoie un lien vers un article des archives. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour les tests, j'ai archivé une archive d'articles sur la conception de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ReadingDesign</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ce sera toujours le cas.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il demande au lecteur si l'article lui plait ou non. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous ajoutons les résultats, enregistrons les données, puis nous pouvons trouver les articles les plus intéressants et évaluer l'activité des utilisateurs.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez sentir le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@bracho_read_bot</font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il y a des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">bugs</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Des idées de fonctionnalités aussi. </font><font style="vertical-align: inherit;">Et il y a un plan pour une nouvelle version. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bref, tout est là, mais beaucoup - pas un peu, alors jetez vos pensées.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce qui a été utilisé</font></font></h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platforma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">L'un des nombreux concepteurs de chat (choisis). </font><font style="vertical-align: inherit;">Pas parfait, mais au moins fait ce dont vous avez besoin. </font><font style="vertical-align: inherit;">À propos de la sélection ci-dessous. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integromat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il transfère les données dans les deux sens conformément aux règles et conditions. </font><font style="vertical-align: inherit;">La sélection par défaut pour les projets sans code. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airtable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Base de données avec une interface avancée et une bonne intégration avec d'autres outils. </font><font style="vertical-align: inherit;">C'est également le choix par défaut (et nous l'utilisons depuis longtemps dans l'automatisation de nos processus métier, mais c'est une autre affaire).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pièces d'outils</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Père du robot</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Premièrement, nous avons besoin du bot lui-même, ou plutôt du «compte» pour cela dans Telegram. </font><font style="vertical-align: inherit;">Le moyen le plus simple est de trouver le père des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bots</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@BotFather</font></a><font style="vertical-align: inherit;"> ) dans Telegram et d'y enregistrer un nouveau bot. </font><font style="vertical-align: inherit;">Une description étape par étape est google pour tous les goûts, si en bref: nous trouvons le nom du bot, son nom d'utilisateur et c'est tout. </font><font style="vertical-align: inherit;">Après le succès, vous recevrez un jeton (une clé pour identifier et connecter le bot avec le monde extérieur), dont nous avions besoin à ce stade.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platforma</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le réseau a un tas de services pour créer de simples robots pour les réseaux sociaux. Mais ils ont tous une blessure à la naissance: ils sont conçus pour les entonnoirs de vente. Et donc simple et stupide. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le modèle le plus courant: un client est venu, l'a salué, a demandé ce qui était nécessaire, a léché et a commencé à envoyer du spam de manière obsessionnelle. Tout cela se fait à l'aide de fourchettes de texte simples et d'intégration de données (par exemple, avec Bitrix24). Pas d'interactivité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, il existe des solutions comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DialogFlow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur Google Cloud, mais ce qu'il faut comprendre, il est plus facile de tout écrire avec des stylos. Par conséquent, nous prenons l'option la plus simple. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pris </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chatforma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">De toute la diversité, il a au moins un support API et Webhook. </font><font style="vertical-align: inherit;">Et si c'est le cas, nous pouvons confier à la plate-forme de chatbot la fonction d'envoyer directement et configurer la logique ailleurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, nous avons fait le précédent projet sans code sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AIMyLogic</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Malheureusement, l'intégration avec des services externes est mise à zéro avec un plus. </font><font style="vertical-align: inherit;">Hélas, pas cette fois.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airtable</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un endroit pour stocker des données. </font><font style="vertical-align: inherit;">Dans notre cas, il s'agit d'une archive d'articles que le bot envoie, et d'une liste d'utilisateurs (nous sommes très curieux et voulons connaître vos noms), et un classement avec des points pour les articles lus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, cela était possible dans Google Sheets (nous avons déjà fait et utilisons un projet commercial sans code sur eux, soudain, c'est un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livre de tâches de conception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Et en SQL, c'était possible. </font><font style="vertical-align: inherit;">Et il y en a beaucoup plus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> deux </font><font style="vertical-align: inherit;">raisons de choisir </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Airtable</font></a><font style="vertical-align: inherit;"> : elle est agréable sur le visage et s'intègre à merveille avec tout et tout. </font><font style="vertical-align: inherit;">Vous obtenez le jeton d'API directement dans l'application et conduisez les données dans les deux directions comme vous le souhaitez et où vous le souhaitez. </font><font style="vertical-align: inherit;">Facile et sympa. </font><font style="vertical-align: inherit;">Et nous voulions que ce soit facile et agréable au moins quelque part et dans quelque chose.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integromat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, le cerveau. </font><font style="vertical-align: inherit;">Il est difficile de nommer les avantages par rapport au même </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zapier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il y a du goût pur. </font><font style="vertical-align: inherit;">Nous avons déjà utilisé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integromat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans des projets précédents, il est en quelque sorte plus familier. </font><font style="vertical-align: inherit;">Soit dit en passant, nous avons également collecté une liste d'articles des archives qui l'utilisent.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu de commerce sévère</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les instruments ont différents degrés de charge. </font><font style="vertical-align: inherit;">Les micropaiements à moins de 1000 roubles par mois ne nous survolent pas. </font><font style="vertical-align: inherit;">En fin de compte, pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notre méga-société,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c'est de l'argent abordable. </font><font style="vertical-align: inherit;">Mais oui, si pour vous, les outils gratuits sont une question de principe, alors il vaut mieux ne pas jouer aux jouets sans code, là, vous devez détacher un joli sou pour presque tout.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment nous l'avons fait</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paramètres de base</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Problème numéro 0 - dans Chatforma pour obtenir un nouveau bot, de sorte qu'il l'était. Nous nous inscrivons sur la plateforme, nous sommes heureux de n'avoir que 14 jours gratuits. Nous allons dans l'onglet bots et trouvons le précieux bouton "Ajouter un bot". Nous le nommons (le nom est uniquement pour Chatforma, le bot lui-même a déjà été nommé) et sélectionnons le réseau social (Telegram). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après cela, nous allons immédiatement au nouveau bot et dans la section des paramètres, nous prescrivons le même jeton que le père des robots nous a donné, rien ne fonctionnera sans lui. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/1d5/9cd/928/1d59cd9286eac9f91340ddfd2484d6b0.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le paramètre du jeton est bien caché, vous devez toujours rechercher</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première chose qu'un botaniste qui se respecte devrait apprendre au bot à dire bonjour. </font><font style="vertical-align: inherit;">Tout est simple: on va au Designer et on voit deux messages préparés: start et default. </font><font style="vertical-align: inherit;">Quelle est la différence: d'abord - ce message apparaîtra si vous venez de lancer le bot (cliquez sur "Démarrer"). </font><font style="vertical-align: inherit;">Le second est un talon universel pour tout message que le bot ne comprend pas. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/42f/76e/418/42f76e418c5e4a3c27c1112d5d2816d7.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et là, vous pouvez ajouter un clavier en ligne, mais c'est assez choyer</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous collectons des utilisateurs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour prendre en compte les statistiques et diffuser des liens uniques, chacun de nous aura besoin d'une liste d'utilisateurs ayant lancé le bot. </font><font style="vertical-align: inherit;">Il est dans la section "Utilisateurs", mais n'a aucun avantage pratique, sauf pour l'ego excité par le nombre de signataires. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/956/d94/e83/956d94e836b3ac7fe72eba85039a7e3b.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En en-tête du tableau, vous pouvez facilement déterminer son</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
utilité.Nous utiliserons Integromat, Airtable et API request. </font><font style="vertical-align: inherit;">Dans Integromat, nous extrayons la liste des utilisateurs avec cette demande et l'écrivons dans le tableau souhaité dans Airtable. </font><font style="vertical-align: inherit;">Afin de ne pas produire de doublons, avant l'enregistrement, nous vérifions la présence de l'utilisateur dans le tableau par ID. </font><font style="vertical-align: inherit;">Si vous en avez déjà un, nous le filtrons, notons le reste. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c1d/d23/938/c1dd23938c8b9782dad5cd68f3419777.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fétichisme séparé dans Integromat - essayer d'aligner tout là-bas</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer une newsletter</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus intéressant. Chaque jour, nous devons générer une newsletter pour tous les participants en y insérant un lien aléatoire depuis Airtable. Mieux encore, un lien aléatoire vers tout le monde. Mieux encore, écrivez quelque chose devant elle. Quelque chose de personnel et qui ne se répète pas tous les jours. Nous allons dans la section "Newsletters" dans l'espoir de mettre en œuvre notre plan ... Tout est très mauvais. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/56f/dcd/36e/56fdcd36ef66852b1a224032cf3840ca.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous allons maintenant expliquer pourquoi le</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
point est le suivant. Chatforma peut créer deux types de newsletters: les liens réguliers et les liens automatiques. Les premiers conviennent si vous devez envoyer un certain texte, une image, un sondage, etc. à tous (ou à certains) participants une seule fois. La seconde vous permet de configurer la newsletter en fonction de l'horaire et des jours de la semaine, mais la fonctionnalité d'envoi n'est limitée que par le texte et les médias, les sondages ne peuvent pas être envoyés comme ça. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/47f/923/d90/47f923d90145169c8358b2dfef92dfc6.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Envoi juste </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/412/452/fad/412452fadd370b1208996e09945af590.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avtorassylki</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Retour à la newsletter. Ce que la plateforme propose ne nous convient pas. Nous ne pouvons pas faire de mailing personnalisé et y insérer dynamiquement des informations. Seulement pré-préparé. Et je n'ai pas envie de le faire avec des stylos. Lorsque le bot a deux utilisateurs, ce n'est rien, mais s'il y en a déjà trois ... Par conséquent, nous résolvons le problème en utilisant Integromat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous créons un scénario avec la logique suivante: Nous obtenons une liste d'articles d'Airtable - De là, nous prenons la liste des utilisateurs que nous y avons entrée plus tôt - Chaque utilisateur passe par une itération, où un nombre aléatoire est généré et un article avec ce numéro de ligne est envoyé via une demande POST à ​​Chatforma. Pour ce faire, j'ai dû entrer dans la documentation de l'API et y trouver la méthode nécessaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que l'utilisateur ne reçoive pas deux fois le même lien, nous chargeons la base de données avec les liens déjà envoyés, la trions par utilisateur et vérifions la conformité des liens. S'il y avait un tel lien, nous revenons à l'étape précédente et répétons encore, s'il n'y avait pas un tel lien, nous l'envoyons à l'utilisateur et le saisissons dans le tableau avec les envoyés. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous devons également simuler un message interactif précédant le lien. Nous ajoutons des options de message à la base de données et formons la dernière en utilisant le nom d'utilisateur dans le télégramme, une phrase aléatoire et un lien aléatoire. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/591/bd3/b32/591bd3b32b12e5190a7e4896e917ccda.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une variation sur le thème de la logique métier.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
C'est ce qui se passe ensuite du côté de Chatforma. Lorsque Integromat a envoyé le message, Chatforma le reçoit et forme une newsletter unique pour un utilisateur spécifique. Dans le texte, tout est le même qu'Integromat a formé. Cela semble fonctionner.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un problème a été immédiatement découvert: non seulement il y avait un retard dans la réception des données de l'extérieur, mais Chatforma a également passé beaucoup de temps (jusqu'à 15 minutes) sur les mailings déjà formés. </font><font style="vertical-align: inherit;">Il s'avère qu'une newsletter de 10 heures peut arriver à 10h01 et 10h16. Le support technique a étudié ce phénomène pendant 4 jours - et sans grand succès. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e46/c87/fb1/e46c87fb153178f984cb817668f865ad.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais le support est réactif et c'est sympa</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vote</font></font></h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout le monde a eu le lien, quelqu'un a même lu le contenu. </font><font style="vertical-align: inherit;">Vous devez maintenant évaluer cet article. </font><font style="vertical-align: inherit;">L'API Chatforma a deux limitations qui ne nous laissent pas de place à la créativité: nous ne pouvons envoyer des réponses reçues de services tiers d'une entité telle que «Sondage» à des services tiers. </font><font style="vertical-align: inherit;">Par API, nous ne pouvons renvoyer que du texte, nous pouvons créer l'enquête dont nous avons besoin uniquement dans Chatforma, ce qui signifie que nous ne pouvons utiliser que les types de mailing que nous avons décrits précédemment.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, ils ont fait ce qui suit: ils ont rempli des sondages sur la qualité de l'article pour tous les jours pour tous les abonnés et l'ont fixé à 11h00. </font><font style="vertical-align: inherit;">Après le vote de l'utilisateur, le résultat via le webhook va à Integromat, et sur la base de la réponse du dernier article envoyé, les points sont notés pour l'utilisateur souhaité. </font><font style="vertical-align: inherit;">Le calcul est le suivant: pour «Feu» +1 point pour l'électeur et +1 point pour l'article, pour «Pas très» -1 point pour l'article et +1 pour l'utilisateur. </font><font style="vertical-align: inherit;">Pour "je n'ai pas lu" - rien. </font><font style="vertical-align: inherit;">Ils ont également prévu d'envoyer un message de rebond à l'utilisateur après le vote, mais ils ont abandonné cette idée. </font><font style="vertical-align: inherit;">Parce que la rapidité de livraison est dans l'esprit de la poste russe dans ses meilleures années. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2b5/b38/77d/2b5b3877d6c8de92abb2d2a4aa573719.jpg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le PE n'interviendra pas dans ce vote</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total instrument</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airtable</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aucun problème d'intégration, d'enregistrement et de récupération de données.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integromat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le service gère bien les opérations linéaires. </font><font style="vertical-align: inherit;">Si la logique if / else et la comparaison des données apparaissent, le schéma est assez déroutant. </font><font style="vertical-align: inherit;">Mais ça marche. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est nécessaire d'optimiser beaucoup les processus, car tous les tarifs sont limités par le nombre d'articles complétés.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platforma</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le service est grossier, il y a beaucoup de défauts, ils sont en colère. </font><font style="vertical-align: inherit;">Dans le même temps, le support technique est très bien organisé, il est suffisamment rapide et compétent. </font><font style="vertical-align: inherit;">Un grand nombre d'instructions et de webinaires sur la fonctionnalité, ils sont pertinents. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Défauts trouvés.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restriction des types de contenu en fonction du type de distribution.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le contenu d'une newsletter API est limité au texte uniquement.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webhook ne peut envoyer que les résultats du sondage, pas les actions des utilisateurs.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gros retard lors de l'envoi des newsletters.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bogues avec un retard dans la modification après l'enregistrement.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le journal ne stocke pas les messages envoyés par l'utilisateur, uniquement les réponses aux sondages.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Payer pour le service est une quête entière, et vous voulez vraiment y aller.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des questions pour vous</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez sentir le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@bracho_read_bot</font></a><font style="vertical-align: inherit;"> - et bien sûr, veuillez signaler les bogues et proposer des fonctionnalités.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelles autres archives d'articles en anglais puis-je coudre dans un bot? </font><font style="vertical-align: inherit;">Quelque chose a déjà été pris, nous en voulons plus.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Experts en alimentation, êtes-vous ici? </font><font style="vertical-align: inherit;">Parlez-vous de la partie produit du no code - ou bien, vous-même avec une moustache?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un ensemble d'outils sans code. </font><font style="vertical-align: inherit;">Y a-t-il quelque chose de mieux pour cette tâche? </font><font style="vertical-align: inherit;">Bien sûr, les candidats au départ sont principalement Chatforma.</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr507174/index.html">Les Forces armées de Russie et d'autres structures du Ministère de la défense de la Fédération de Russie ont-elles besoin d'une norme pour décrire les algorithmes?</a></li>
<li><a href="../fr507176/index.html">Système MMS dans le centre de données: comment nous avons automatisé la gestion de la maintenance</a></li>
<li><a href="../fr507178/index.html">Event2Mind pour la langue russe. Comment nous avons appris au modèle à lire entre les lignes et à comprendre les intentions de l'interlocuteur</a></li>
<li><a href="../fr507182/index.html">Jeu de motivations. Partie 2</a></li>
<li><a href="../fr507188/index.html">Mieux que le silicium: les scientifiques ont obtenu un matériau semi-conducteur avec des caractéristiques plus avancées</a></li>
<li><a href="../fr507194/index.html">Masques de testeur (questions pour une transition réussie vers un trouble de la personnalité du testeur)</a></li>
<li><a href="../fr507196/index.html">Quelle est la différence entre Data Analytics et Statistics</a></li>
<li><a href="../fr507198/index.html">Podcasts en tant que médias d'entreprise: comment gagner de l'argent avec eux et quelles mesures utiliser</a></li>
<li><a href="../fr507200/index.html">7 façons dont les scientifiques des données vous trompent</a></li>
<li><a href="../fr507202/index.html">Meetup Avito Analytics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>