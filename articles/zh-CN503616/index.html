<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📁 🚛 🆓 我们如何创建原型机器人销售商以及下一步 👩🏿‍🍳 🆑 😣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="冠状病毒继续在全球乃至整个国家致命地传播。像世界各地的所有IT员工一样，我们已经在家工作了将近两个月，一方面，我们对我们良好的旧开放空间以及有机会生动活泼地讨论所有任务和问题而不是疯狂的机会感到越来越难过有用，但仍然毫无用处。（很遗憾，我们没有时间为我们所有的聚会租用加州骆驼：））。另一方面，我们越...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>我们如何创建原型机器人销售商以及下一步</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503616/"><iframe width="560" height="315" src="https://www.youtube.com/embed/i9pAHMTUdXQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
冠状病毒继续在全球乃至整个国家致命地传播。像世界各地的所有IT员工一样，我们已经在家工作了将近两个月，一方面，我们对我们良好的旧开放空间以及有机会生动活泼地讨论所有任务和问题而不是疯狂的机会感到越来越难过有用，但仍然毫无用处。（很遗憾，我们没有时间为我们所有的聚会租用加州骆驼：））。另一方面，我们越来越多地考虑所有过程的自动化和机器人化，包括创建与我们和系统一起使用的分析数据的过程。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
更详细地讲，我们想起了我们两年前作为原型制造的第一台机器人商品，并且越来越多地（不仅在思考！）正在考虑将第二种版本投入商业生产和运营。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在本文中，我想告诉您这个想法发生了什么，结果很糟糕或根本没有解决，以及我们现在将要做什么，以便将这个想法应用于实际商店中。对于那些有兴趣的人，欢迎猫。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有一点背景：大约5年前，我们公司（ShelfMatch Robotics）开始实现商品自动化。在这种情况下，自动化意味着通过一种或另一种方式，我们可以获取由销售商制作的商店（药房，加油站等）中的商品货架的照片，识别其中的所有商品并向客户发布必要的分析。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一经深入研究，我们立即面临一个主要且相当复杂的问题-在大多数情况下，销售商会拍摄不良或非常不良的照片。显然，可以通过各种传统方式解决此问题，例如员工培训，发布良好的设备等，但是由于许多原因（我将它们放在一边，不重要），这些方法并不总是有效，或者说它们并不总是有效。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
商店内部进行自动化分析的第二点同样重要的原因是，商店由于各种显示错误（例如缺货或无法观察货架图）而每秒亏损。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bossa nova robotics的分析师表示，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们亏损了很多钱，</font><font style="vertical-align: inherit;">导致收入损失了0.5万亿美元。世界各地的美元一年。通常，对于商店而言，引入“额外的眼睛”来扫描交易大厅和仓库的整个空间非常重要，并且目前实施不力。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在那一刻，我们立即提出了另一个更有趣的决定-为什么不将照片委托给一个本质上总是按照说明做所有事情并且几乎从不犯错误的人（考虑到准确和高质量的说明时） 。您可能已经猜到我们在谈论机器人商人。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我记得当我们考虑了所有最疯狂的想法时，首先是会在商店周围飞行的机器人无人机，然后是会沿着商店天花板上的单轨行进的机器人自动相机结束。</font><font style="vertical-align: inherit;">我们看到并真正启发我们的第一件事是bossa nova机器人技术的机器人，这些机器人遍及美国各地的商店（例如沃尔玛），使客户有机会接触不久的将来。</font><font style="vertical-align: inherit;">结果，我们得出的结论是，我们需要在“底盘”上创建传统的机器人，例如机器人真空吸尘器，并为其配备导航和照相架子所需的各种摄像机和传感器。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题的表述：</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，问题的陈述非常简单：我们需要一个原型机器人，该机器人可以独立地（在操作员的监督下，但仍无法控制操纵杆）沿着商店的货架行进，拍摄所有这些货架并将照片传输到服务器进行进一步处理。</font><font style="vertical-align: inherit;">机器人的外观（如果没有吸引力）应该至少不会令人恐惧，以免商店的参观者回避它。</font><font style="vertical-align: inherit;">这很重要，因为我们计划在真正的开放式商店中进行实际的实验和测量，并且在我们操作期间没有人要关闭它们。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
机器人的第一个版本是根据好老头的指挥官的名字命名的，我希望每个人都熟悉Ridley Scott Blade Runner-Roy所熟悉和喜爱的电影（我们将继续称呼他）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗伊的组成</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
机壳：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">瑞士汽车maxon-瑞士，因为他们的中国廉价同志由于某种原因很快就被烧毁了</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全轮式4轮-在我们看来，当时我们需要精确的全轮式，以便机器人可以快速且无不必要的移动来改变移动方向</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">铝和塑料制成的底座</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马达控制器</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电池</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有ROS的NUC，位于Ubuntu顶部，用于导航</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lidar RPLidar A2，用于构建地图，导航和本地化</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
躯干（塔）：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">铝型材框架</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">塑胶饰面</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于在3D打印机上打印的相机的塑料支架</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4个USB Bustler相机</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUC用于通过WiFi拍照和将照片发送到服务器</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">深度3D相机，例如Intel IntelliVision，我们仍然无法连接</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LCD屏幕用于调试和显示服务和广告信息</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
组装手推车和车身并不难，我们花了几个月的时间。</font><font style="vertical-align: inherit;">在手推车的组装和调整中，我们得到了TsNII-RTK几位前雇员的协助。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一切如何运作以及产生了什么</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
熟悉ROS的每个人都可以跳过本章；他们不太可能在其中找到独特或原创的东西，但是那些“不在主题之外”的人会感兴趣。</font><font style="vertical-align: inherit;">我将立即告诉您这一切在一家真实商店中是如何发生的（然后我们在Kupchino仍然健康的SPAR中进行了测试）：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 我们来到商店，找到了需要的架子（原型在Tea的产品类别中进行了测试，然后拍摄了另外4-5个产品类别的照片），我们找到了一个空置的商店（顺便说一句，这很困难），然后拆开所有物品的包装。</font></font></li>
<li> Roy (    —  ,  ,     ).<br>
<br>
<img src="https://habrastorage.org/webt/9f/fv/4s/9ffv4sqr2f06gnoon_abdear9bk.jpeg"></li>
<li>  WiFi-     .</li>
<li>   Ubuntu+ROS      ,  Game-Pad   .</li>
<li>  : ROS, Teleop (   ), Gmapping (   ), Rviz (      Roy).</li>
<li>   —    ,  Roy             ,          (          ,        Roy   «»  «»).</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成地图后，将其保存，在测量点的坐标中进行锤击（机架1的起点为点``A''，机架1的终点为点``B''，旋转90度，机架2的终点为点``C''。基本上删除了字母“ G”形的机架）</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，运行摄影脚本（一切都已经没有游戏板了，真正的“魔术”）：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗伊（Roy）移至指定位置-点“ A”。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Roy的部署方式正确（摄像机放置在架子上），旋转角度也在脚本中设置。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗伊（Roy）开始慢慢沿着架子移动，每台相机每秒拍摄几次，然后将照片保存到NUC。</font><font style="vertical-align: inherit;">在这种情况下，摄像机将同步并同时拍摄照片。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同时，另一个脚本开始通过WiFi异步将照片发送到服务器。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗伊（Roy）沿着一个机架行驶（点“ B”），在转弯期间停止相机，转90度，然后再次打开相机。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它沿着第二个机架行驶，指向“ C”点。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关闭相机。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回到起始位置（点“ A”）。 </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
进一步的工作已经直接在服务器上：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当所有照片都传输到服务器时，服务器开始将照片粘合起来，并识别货架上的商品 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当所有过程完成后，在Web界面中会出现带有标有商品标记的商品的货架+所有必要的分析（货架上的商品份额，缺货，与货架图的比较等）。</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/7t/jr/im/7tjrimawr197ieul5mwti7im88u.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结我们设法找出的</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也许是最重要的一点-我们可以自己制作机器人的原型，没有什么不现实的，整个系统（收集照片+导航+数据传输+数据处理+数据可视化）都可以工作，但这只是一个原型</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个有趣且重要的发现-商店的访客并不害怕，也不会“避开”机器人-祖母只是没有注意到它，孩子们很欣赏它，其他人则对“这是什么，为什么有必要”很感兴趣，商家担心，因为这是他们的直接竞争对手</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考虑到成本，可用性，质量，必须明智地选择备件的问题</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在原型创建和测试后发现Roy缺陷</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
建立地图和相关的导航问题是我们面临的最大问题</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地图并非总是精确地构建</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常是从第一次或第二次开始就建造得很差，花了半个小时才去绘制地图</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗伊有时甚至会在良好的地图上“迷失”（这很明显，因为他开始在一个地方旋转，没有去其他地方，他必须打开游戏手柄并切换到手动控制）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
关于这个问题，我们有这样的假设：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的全向轮有时会滑到商店的光滑地砖上，这可能会破坏里程表的参数</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">罗伊的“眼睛”太少，也许一个激光雷达对他来说还不够，因此有必要添加其他传感器</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也许我们的激光雷达不是最正确，最准确的，或者调整得不好，也许是问题所在，尤其是考虑到任务的复杂性（到架子的距离很小，架子很长）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
其他缺点：</font></font><br>
<ul>
<li>       —           (+ ),        30  60   ,  Roy      2</li>
<li>    (  ),     (      )     </li>
<li>Roy      ,    ,   -     (QR- , bluetooth-  ..)</li>
<li>   ()  ( )     ,      ,      </li>
<li>       (    ,           ,   ,     )</li>
<li>  (  , )    (         10 )</li>
<li>Roy   ,  ,     ,      (  ,    « »)</li>
<li>     Roy      (       3-4 ),        </li>
</ul><br>
<h3>   2  (Zhora  Leon)</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
冠状病毒的大流行表明，在某些情况下，不仅需要机器人，而且甚至有必要使用机器人。</font><font style="vertical-align: inherit;">如果我们处在一个根本不离开屋子的情况下，那么机器人，送货员，清洁工和分析员可以帮助我们解决许多重要问题。</font><font style="vertical-align: inherit;">如果您从这一角度来看我们的罗伊或他的兄弟们，那么这个项目看起来会更加有趣-例如，将机器人机械师重新装备到机器人消毒器中的想法，或者是一种监测社会距离遵守情况的机器人，并毫不客气地警告那些拥挤的人群在一个地方或排队。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们要基于其构建新版本的平台不仅可以扫描货架，还可以识别访客的面孔。</font><font style="vertical-align: inherit;">这种设备的其他有趣功能可能是：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在LCD屏幕上有针对性的广告：从系列中我看到一个有婴儿的女人-我提供尿布，我看到养老金领取者-我提供库存商品；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帮助客户找到产品</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据人员对入店行窃者进行监控</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仓库库存，协助物流部门进行采购计划</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等等 </font><font style="vertical-align: inherit;">直到将货物放在货架上</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总结一下，我们可以说我们想在原型的第二版中看到：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工业“性感”设计，提供了一堆各种各样的“技巧”，例如与外界交流的设备（扬声器，麦克风，屏幕，照相机，情绪指示器等）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有流程都需要大大加快</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新设备应该易于扩展并且相对便宜</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要导航和定位的准确性</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要整个商店的全球导航</font></font></li>
<li>         +    </li>
<li>             </li>
</ul><br>
 <b>P.S.  -                 (     ),    ,         .</b><br>
<br>
<b>P.P.S.  ,   ,         .</b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN503604/index.html">谢尔盖和“编程胜于性别”</a></li>
<li><a href="../zh-CN503606/index.html">Swift 5.3：新增功能？</a></li>
<li><a href="../zh-CN503608/index.html">我们如何搜索病毒过滤器</a></li>
<li><a href="../zh-CN503610/index.html">为什么不为网络制作自己的Lisp？</a></li>
<li><a href="../zh-CN503612/index.html">Kubernetes最佳实践 映射外部服务</a></li>
<li><a href="../zh-CN503620/index.html">来自OpenStreetMap 512世界的新闻（05.05.2020-11.05.2020）</a></li>
<li><a href="../zh-CN503624/index.html">上周第416期（2020年5月18日至24日）来自前端世界的新鲜材料摘要</a></li>
<li><a href="../zh-CN503626/index.html">测试。ISTQB认证错误或解决了百万个示例</a></li>
<li><a href="../zh-CN503630/index.html">增强现实眼镜：我们现在在哪里？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>