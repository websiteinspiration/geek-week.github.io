<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚟 👩‍💼 ℹ️ JavaScript moderne: une vue latérale 🚤 👩🏻‍🎓 👩🏿‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, j'ai essayé d'aider un ami à utiliser le module JS qu'il a trouvé sur Github. Mon ami est un excellent scientifique, mais pas un spéciali...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>JavaScript moderne: une vue latérale</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504450/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aujourd'hui, j'ai essayé d'aider un ami à utiliser le module JS qu'il a trouvé sur Github. </font><font style="vertical-align: inherit;">Mon ami est un excellent scientifique, mais pas un spécialiste de JS. Depuis que je fais des recherches sur l'utilisabilité et que j'enseigne au Massachusetts Institute of Technology depuis six ans, ma peau est devenue glaciale à cause de la confusion de tout. </font><font style="vertical-align: inherit;">Un tas d'exceptions inutiles, des erreurs mystérieuses et un manque de rétroaction appropriée. </font><font style="vertical-align: inherit;">Et il me semble que je ne l'ai pas trop aidé à survivre à la déception qu'il a vécue pendant cette heure de tourments, jusqu'à ce qu'il abandonne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'était quelque chose comme ça ...</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: les noms des packages et des personnes ont été modifiés pour protéger leur identité. </font><font style="vertical-align: inherit;">J'ai également omis plusieurs problèmes trop spécifiques pour ce package. </font><font style="vertical-align: inherit;">Certaines erreurs sont récupérées de la mémoire, alors faites-moi savoir si j'ai mal compris quelque chose.</font></font></i> <br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Hé, je veux essayer cet algorithme que j'ai trouvé sur Github. </font><font style="vertical-align: inherit;">Il dit ce qui doit être utilisé </font></font><code>import functionName  packageName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, puis appelé </font></font><code>functionName()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tout semble assez simple! </font><font style="vertical-align: inherit;">Je n'ai pas vraiment besoin de l'interface utilisateur, je vais donc utiliser Node! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Moi (Leah):</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bien sûr, Node semble être un bon framework! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
John lance </font></font><code>npm install packageName --save</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comme recommandé par README. </font><font style="vertical-align: inherit;">Alors </font></font><code>node index.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nœud:</font></font></b><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avertissement: Pour charger un module ES, définissez "type": "module" dans le package.json ou utilisez l'extension .mjs.</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SyntaxError: impossible d'utiliser l'instruction d'importation en dehors d'un module</font></font></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mais je n'ai pas de package.json ... </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leah:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exécutez- </font></font><code>npm init</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le, il le générera! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John démarre </font></font><code>npm init</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, passe par l'assistant d'installation, l'ajoute manuellement </font></font><code>type: "module"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">au package.json généré. </font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
John se lance </font></font><code>node index.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nœud:</font></font></b><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SyntaxError: impossible d'utiliser l'instruction d'importation en dehors d'un module</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Curieusement, cette fois le module interne du projet a jeté une erreur. WAT?! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leah:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bon sang, il suffit de l'exécuter dans un navigateur, c'est le module ES6, il y a juste un algorithme JS propre qui n'utilise pas l'API Node, ça devrait marcher. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
John crée une simple page index.html avec une ligne </font></font><code>&lt;script type="module" src="index.js"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et la charge dans un navigateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rien dans la console. Et voilà. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lea:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eh bien, oui, vous devez configurer le chemin du module afin d'importer packageName. Node fait des choses spéciales pour la résolution par </font></font><code>node_modules</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, donc dans le navigateur, vous devez spécifier vous-même le chemin explicite. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John regarde ses fichiers, mais il n'y a pas de répertoire node_modules là-bas. </font></font></i> <br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lea:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eh bien, oui, tu l'as commencé </font></font><code>npm install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avant d'apparaître </font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, c'est probablement le point! Réessayer!</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John redémarre John </font></font><code>npm install packageName --save</code></i> <br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Oh, maintenant le répertoire node_modules est apparu! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John cherche désespérément un point d'entrée dans node_modules. </font><font style="vertical-align: inherit;">Il modifie ensuite son index.js en conséquence et le recharge. </font></font></i> <br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firefox:</font></font></b> <br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type MIME incorrect: texte / html</font></font></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lea:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bien sûr, ça s'ouvre pour toi </font></font><code>file://</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font><font style="vertical-align: inherit;">Mon ami, comment vivez-vous à notre époque sans hôte local? </font><font style="vertical-align: inherit;">Actuellement, l'utilisation de Javascript pour est </font></font><code>file://</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strictement limitée. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mais pourquoi suis-je ... D'accord, je vais gérer un hôte local. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John exécute localhost, ouvre son index.html à </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 80. </font></font></i> <br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firefox:</font></font></b> <br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type MIME incorrect: texte / html</font></font></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John (soupire)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Besoin de configurer localhost pour émettre des fichiers JS de type texte / javascript? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lea:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quoi? </font><font style="vertical-align: inherit;">Non! </font><font style="vertical-align: inherit;">Il le sait. </font><font style="vertical-align: inherit;">Hmm ... Regardez l'onglet Réseaux. </font><font style="vertical-align: inherit;">Je soupçonne qu'il ne peut pas trouver votre module, il renvoie donc une page HTML 404, puis se plaint que cette page ne l'est pas </font></font><code>text/javascript</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examine à nouveau node_modules, corrige le chemin. </font><font style="vertical-align: inherit;">Il s'avère que VS Code réduit les répertoires avec un seul sous-répertoire, nous ne l'avons donc pas remarqué. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, je pense que c'est une très bonne amélioration de l'utilisabilité de la part de VS Code, cela améliore l'efficacité, mais ils auraient dû rendre les choses plus visibles. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firefox:</font></font></b> <br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SyntaxError: manquant) après les paramètres formels</font></font></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lea:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quoi? </font><font style="vertical-align: inherit;">Cela vient du paquet source, ce n'est pas de votre faute. </font><font style="vertical-align: inherit;">Je ne comprends pas ... Puis-je regarder cette ligne? </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John clique sur la ligne qui cause </font></font></i> <br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l' </font></font></b><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">erreur </font></i><b><font style="vertical-align: inherit;">de Lea:</font></b><font style="vertical-align: inherit;"> Oh mon dieu. </font><font style="vertical-align: inherit;">Ce n'est pas Javascript, c'est tapuscrit !!! </font><font style="vertical-align: inherit;">Avec l'extension .js !!! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Oui, je voulais juste exécuter une ligne de code pour tester cet algorithme ... </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John abandonne. </font><font style="vertical-align: inherit;">Il conclut qu'il est préférable de ne jamais toucher les modules Node, npm ou ES6. </font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que John est un informaticien qui en sait beaucoup sur le web: il avait installé Node &amp; npm, il savait quels étaient les types MIME, il pouvait démarrer localhost quand c'était nécessaire. </font><font style="vertical-align: inherit;">Que peuvent espérer les débutants?</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504434/index.html">Programme éducatif pour les parents: comment protéger les enfants du danger sur Internet</a></li>
<li><a href="../fr504438/index.html">30 mitaps par semaine. Nous ouvrons la saison d'été 2020</a></li>
<li><a href="../fr504442/index.html">Un peu sur les délocalisations dans le noyau Linux</a></li>
<li><a href="../fr504444/index.html">Utilisation de Docker en plusieurs étapes pour créer des images Windows</a></li>
<li><a href="../fr504448/index.html">Gamers Generation II</a></li>
<li><a href="../fr504452/index.html">Ontology lance la couche 2, contribuant à une plateforme de chaîne publique plus intégrée</a></li>
<li><a href="../fr504454/index.html">Meilleurs référentiels GitHub pour les développeurs Web</a></li>
<li><a href="../fr504456/index.html">Isoler les environnements de développement avec des conteneurs LXD</a></li>
<li><a href="../fr504458/index.html">Installation d'OpenCV-Python dans un environnement virtuel pour les super-bouilloires</a></li>
<li><a href="../fr504460/index.html">À propos du livre de publicité Ogilvy de David Ogilvy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>