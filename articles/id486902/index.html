<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïå üëÜ üë®‚Äçüíº Pemrograman Berorientasi Protokol dalam Swift 5.1 üç¨ üë®üèº‚Äç‚öïÔ∏è üõÄüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Protokol adalah properti fundamental Swift. Mereka memainkan peran penting dalam pustaka Swift standar dan merupakan cara umum untuk mengkode abstraks...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pemrograman Berorientasi Protokol dalam Swift 5.1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486902/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protokol</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah properti fundamental Swift. </font><font style="vertical-align: inherit;">Mereka memainkan peran penting dalam pustaka Swift standar dan merupakan cara umum untuk mengkode abstraksi. </font><font style="vertical-align: inherit;">Dalam banyak hal, mereka mirip dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">antarmuka</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam bahasa pemrograman lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam tutorial ini, kami akan memperkenalkan Anda dengan pendekatan pengembangan aplikasi yang disebut pemrograman berorientasi protokol, yang telah menjadi inti dari Swift. </font><font style="vertical-align: inherit;">Ini benar-benar yang perlu Anda pahami saat mempelajari Swift! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam panduan ini, Anda:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memahami perbedaan antara pemrograman berorientasi objek dan pemrograman berorientasi;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memahami implementasi protokol standar;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelajari cara memperluas fungsi pustaka Swift standar;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelajari cara memperluas protokol dengan obat generik.</font></font></li>
</ul><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mulai</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bayangkan Anda sedang mengembangkan game balap. Pemain Anda dapat mengendarai mobil, sepeda motor, dan pesawat terbang. Dan bahkan terbang di atas burung, ini adalah permainan, bukan? Hal utama di sini adalah bahwa ada dofiga dari semua jenis "hal-hal" di mana Anda dapat mengemudi, terbang, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan umum untuk mengembangkan aplikasi tersebut adalah pemrograman berorientasi objek. Dalam hal ini, kami menyertakan semua logika di beberapa kelas dasar, dari mana kami mewarisi dari sana. Kelas dasar, oleh karena itu, harus mengandung logika "timah" dan "pilot". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memulai pengembangan dengan menciptakan kelas untuk setiap kendaraan. Kami akan menunda "Burung" sampai nanti, kami akan kembali kepada mereka nanti. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mobil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motor itu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fungsinya sangat mirip, jadi kami membuat kelas dasar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MotorVehicle</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mobil dan Sepeda Motor akan diwarisi dari MotorVehicle. Dengan cara yang sama, kita membuat kelas dasar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesawat</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dari mana kita akan membuat kelas </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesawat</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda berpikir bahwa semuanya baik-baik saja, tetapi - bam! - Aksi permainan Anda berlangsung di abad XXX, dan beberapa mobil sudah bisa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terbang</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami memiliki lelucon. Swift tidak memiliki banyak warisan. Bagaimana mobil terbang Anda diwarisi dari MotorVehicle dan Aircraft? Buat kelas dasar lain yang menggabungkan kedua fungsi? Kemungkinan besar tidak, karena tidak ada cara yang jelas dan sederhana untuk mencapai ini.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan apa yang akan menyelamatkan permainan kita dalam situasi yang mengerikan ini? </font><font style="vertical-align: inherit;">Pemrograman berorientasi protokol sedang terburu-buru untuk membantu!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seperti apa pemrograman berorientasi protokol?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Protokol memungkinkan Anda mengelompokkan metode, fungsi, dan properti yang serupa untuk kelas, struktur, dan enumerasi. Namun, hanya kelas yang memungkinkan Anda untuk menggunakan warisan dari kelas dasar. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keuntungan protokol di Swift adalah bahwa suatu objek dapat menyesuaikan diri dengan banyak protokol.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Saat menggunakan metode ini, kode Anda menjadi lebih modular. Pikirkan protokol sebagai blok bangunan fungsionalitas. Ketika Anda menambahkan fungsionalitas baru ke objek, membuatnya sesuai dengan protokol tertentu, Anda tidak membuat objek yang sama sekali baru dari awal, itu akan terlalu lama. Sebagai gantinya, Anda menambahkan blok bangunan berbeda hingga objek siap.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pindah dari kelas dasar ke protokol akan menyelesaikan masalah kita. </font><font style="vertical-align: inherit;">Dengan protokol, kita dapat membuat kelas FlyingCar yang cocok dengan MotorVehicle dan Aircraft. </font><font style="vertical-align: inherit;">Bagus, ya?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mari kita lakukan kodenya</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan Xcode, buat taman bermain, simpan sebagai SwiftProtocols.playground, tambahkan kode ini:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Bird</span> </span>{
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
  <span class="hljs-keyword">var</span> canFly: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Flyable</span> </span>{
  <span class="hljs-keyword">var</span> airspeedVelocity: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kompilasi dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Command-Shift-Return</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk memastikan semuanya beres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita mendefinisikan protokol </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sederhana </font><font style="vertical-align: inherit;">, dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nama</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti canFly</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Kemudian kita mendefinisikan protokol </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flyable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan properti </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">airspeedVelocity</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam "era pra-protokol", pengembang akan mulai dengan kelas Flyable sebagai kelas dasar, dan kemudian, menggunakan warisan, akan mendefinisikan Bird dan segala sesuatu yang bisa terbang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi dalam pemrograman berorientasi protokol, semuanya dimulai dengan protokol. Teknik ini memungkinkan kita untuk merangkum sketsa fungsional tanpa kelas dasar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang akan Anda lihat sekarang, ini membuat proses desain tipe jauh lebih fleksibel.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentukan jenis yang sesuai dengan protokol</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan kode ini di bagian bawah taman bermain:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">FlappyBird</span>: <span class="hljs-title">Bird</span>, <span class="hljs-title">Flyable</span> </span>{
  <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
  <span class="hljs-keyword">let</span> flappyAmplitude: <span class="hljs-type">Double</span>
  <span class="hljs-keyword">let</span> flappyFrequency: <span class="hljs-type">Double</span>
  <span class="hljs-keyword">let</span> canFly = <span class="hljs-literal">true</span><font></font>
<font></font>
  <span class="hljs-keyword">var</span> airspeedVelocity: <span class="hljs-type">Double</span> {
    <span class="hljs-number">3</span> * flappyFrequency * flappyAmplitude<font></font>
  }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode ini mendefinisikan struktur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlappyBird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru </font><font style="vertical-align: inherit;">yang sesuai dengan protokol Bird dan protokol Flyable. </font><font style="vertical-align: inherit;">Properti airspeedVelocity adalah karya Flappy Frequency dan flappy Amplitude. </font><font style="vertical-align: inherit;">Properti canFly mengembalikan true. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang tambahkan definisi dari dua struktur lagi:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Penguin</span>: <span class="hljs-title">Bird</span> </span>{
  <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
  <span class="hljs-keyword">let</span> canFly = <span class="hljs-literal">false</span><font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SwiftBird</span>: <span class="hljs-title">Bird</span>, <span class="hljs-title">Flyable</span> </span>{
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span> { <span class="hljs-string">"Swift \(version)"</span> }
  <span class="hljs-keyword">let</span> canFly = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">let</span> version: <span class="hljs-type">Double</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> speedFactor = <span class="hljs-number">1000.0</span><font></font>
  <font></font>
  <span class="hljs-keyword">init</span>(version: <span class="hljs-type">Double</span>) {
    <span class="hljs-keyword">self</span>.version = version<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">// Swift is FASTER with each version!</span>
  <span class="hljs-keyword">var</span> airspeedVelocity: <span class="hljs-type">Double</span> {<font></font>
    version * speedFactor<font></font>
  }<font></font>
}</code></pre><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penguin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah burung tetapi tidak bisa terbang. </font><font style="vertical-align: inherit;">Adalah baik bahwa kita tidak menggunakan warisan dan tidak membuat semua burung </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat diterbangkan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menggunakan protokol, Anda mendefinisikan komponen fungsional dan membuat semua objek yang cocok sesuai dengan protokol.Kemudian </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kami mendefinisikan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftBird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi dalam permainan kami ada beberapa versi yang berbeda. </font><font style="vertical-align: inherit;">Semakin besar nomor versi, semakin besar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kecepatannya</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang didefinisikan sebagai properti yang dihitung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, ada beberapa redundansi. </font><font style="vertical-align: inherit;">Setiap jenis Bird harus mendefinisikan definisi eksplisit dari properti canFly, meskipun kami memiliki definisi protokol Flyable. </font><font style="vertical-align: inherit;">Sepertinya kita perlu cara untuk menentukan implementasi standar metode protokol. </font><font style="vertical-align: inherit;">Ya, ada ekstensi protokol untuk ini.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memperluas protokol dengan perilaku default</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ekstensi protokol memungkinkan Anda mengatur perilaku protokol default. </font><font style="vertical-align: inherit;">Tulis kode ini segera setelah definisi protokol Bird:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Bird</span> </span>{
  <span class="hljs-comment">// Flyable birds can fly!</span>
  <span class="hljs-keyword">var</span> canFly: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">self</span> <span class="hljs-keyword">is</span> <span class="hljs-type">Flyable</span> }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode ini mendefinisikan ekstensi protokol </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ekstensi ini menentukan bahwa properti </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canFly</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan mengembalikan true ketika jenisnya sesuai dengan protokol </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flyable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dengan kata lain, burung yang dapat diterbangkan tidak perlu lagi mengatur secara eksplisit canFly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang hapus </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">let canFly = ...</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari definisi FlappyBird, Penguin, dan SwiftBird. </font><font style="vertical-align: inherit;">Kompilasi kodenya dan pastikan semuanya beres.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mari kita lakukan transfer</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enumerasi dalam Swift dapat sesuai dengan protokol. </font><font style="vertical-align: inherit;">Tambahkan definisi enumerasi berikut:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">UnladenSwallow</span>: <span class="hljs-title">Bird</span>, <span class="hljs-title">Flyable</span> </span>{
  <span class="hljs-keyword">case</span> african
  <span class="hljs-keyword">case</span> european
  <span class="hljs-keyword">case</span> unknown<font></font>
  <font></font>
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span> {
    <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {
    <span class="hljs-keyword">case</span> .african:
      <span class="hljs-keyword">return</span> <span class="hljs-string">"African"</span>
    <span class="hljs-keyword">case</span> .european:
      <span class="hljs-keyword">return</span> <span class="hljs-string">"European"</span>
    <span class="hljs-keyword">case</span> .unknown:
      <span class="hljs-keyword">return</span> <span class="hljs-string">"What do you mean? African or European?"</span><font></font>
    }<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword">var</span> airspeedVelocity: <span class="hljs-type">Double</span> {
    <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {
    <span class="hljs-keyword">case</span> .african:
      <span class="hljs-keyword">return</span> <span class="hljs-number">10.0</span>
    <span class="hljs-keyword">case</span> .european:
      <span class="hljs-keyword">return</span> <span class="hljs-number">9.9</span>
    <span class="hljs-keyword">case</span> .unknown:
      <span class="hljs-built_in">fatalError</span>(<span class="hljs-string">"You are thrown from the bridge of death!"</span>)<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan mendefinisikan properti yang sesuai, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnladenSwallow</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sesuai dengan dua protokol - Bird and Flyable. </font><font style="vertical-align: inherit;">Dengan cara ini, definisi default untuk canFly diimplementasikan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengganti perilaku default</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tipe kami </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnladenSwallow</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sesuai dengan protokol </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , secara otomatis menerima implementasi untuk </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canFly</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kami, bagaimanapun, perlu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnladenSwallow.unknown untuk</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengembalikan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">false</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk canFly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan kode berikut di bawah ini:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">UnladenSwallow</span> </span>{
  <span class="hljs-keyword">var</span> canFly: <span class="hljs-type">Bool</span> {
    <span class="hljs-keyword">self</span> != .unknown<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang hanya .african dan .european akan kembali benar untuk canFly. </font><font style="vertical-align: inherit;">Coba lihat! </font><font style="vertical-align: inherit;">Tambahkan kode berikut di bagian bawah taman bermain kami:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">UnladenSwallow</span>.unknown.canFly         <span class="hljs-comment">// false</span>
<span class="hljs-type">UnladenSwallow</span>.african.canFly         <span class="hljs-comment">// true</span>
<span class="hljs-type">Penguin</span>(name: <span class="hljs-string">"King Penguin"</span>).canFly  <span class="hljs-comment">// false</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kompilasi taman bermain dan periksa nilai yang diterima dengan yang ditunjukkan dalam komentar di atas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kita mendefinisikan kembali properti dan metode dengan cara yang sama seperti menggunakan metode virtual dalam pemrograman berorientasi objek.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protokol yang berkembang</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat membuat protokol Anda sendiri sesuai dengan protokol lain dari pustaka standar Swift dan menentukan perilaku default. </font><font style="vertical-align: inherit;">Ganti deklarasi protokol Burung dengan kode berikut:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Bird</span>: <span class="hljs-title">CustomStringConvertible</span> </span>{
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
  <span class="hljs-keyword">var</span> canFly: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">CustomStringConvertible</span> <span class="hljs-title">where</span> <span class="hljs-title">Self</span>: <span class="hljs-title">Bird</span> </span>{
  <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {<font></font>
    canFly ? <span class="hljs-string">"I can fly"</span> : <span class="hljs-string">"Guess I'll just sit here :["</span><font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kepatuhan dengan protokol CustomStringConvertible berarti bahwa tipe Anda harus memiliki properti deskripsi. </font><font style="vertical-align: inherit;">Alih-alih menambahkan properti ini dalam jenis Burung dan dalam semua turunannya, kami mendefinisikan ekstensi protokol CustomStringConvertible, yang akan dikaitkan hanya dengan jenis Burung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketik </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnladenSwallow.african</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di bagian bawah taman bermain. </font><font style="vertical-align: inherit;">Kompilasi dan Anda akan melihat "Saya bisa terbang".</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protokol di Perpustakaan Standar Swift</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, protokol adalah cara yang efektif untuk memperluas dan menyesuaikan tipe. </font><font style="vertical-align: inherit;">Di perpustakaan standar Swift, properti ini juga banyak digunakan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan kode ini ke taman bermain:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">let</span> numbers = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>]
<span class="hljs-keyword">let</span> slice = numbers[<span class="hljs-number">1</span>...<span class="hljs-number">3</span>]
<span class="hljs-keyword">let</span> reversedSlice = slice.reversed()<font></font>
<font></font>
<span class="hljs-keyword">let</span> answer = reversedSlice.<span class="hljs-built_in">map</span> { $<span class="hljs-number">0</span> * <span class="hljs-number">10</span> }
<span class="hljs-built_in">print</span>(answer)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin tahu kode apa yang akan ditampilkan, tetapi Anda mungkin akan terkejut dengan jenis yang digunakan di sini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, slice bukan Array, tetapi ArraySlice. </font><font style="vertical-align: inherit;">Ini adalah "pembungkus" khusus yang menyediakan cara efisien untuk bekerja dengan bagian-bagian array. </font><font style="vertical-align: inherit;">Oleh karena itu, reversedSlice adalah ReversedCollection &lt;ArraySlice&gt;. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya, fungsi peta didefinisikan sebagai ekstensi dari protokol Sequence, yang sesuai dengan semua jenis koleksi. </font><font style="vertical-align: inherit;">Ini memungkinkan kita untuk menerapkan fungsi peta ke Array dan ReversedCollection dan tidak melihat perbedaannya. </font><font style="vertical-align: inherit;">Segera Anda akan memanfaatkan trik yang bermanfaat ini.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada tanda Anda</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sejauh ini, kami telah mengidentifikasi beberapa jenis yang sesuai dengan protokol Bird. </font><font style="vertical-align: inherit;">Sekarang kita akan menambahkan sesuatu yang sama sekali berbeda:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Motorcycle</span> </span>{
  <span class="hljs-keyword">init</span>(name: <span class="hljs-type">String</span>) {
    <span class="hljs-keyword">self</span>.name = name<font></font>
    speed = <span class="hljs-number">200.0</span><font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span>
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jenis ini tidak ada hubungannya dengan burung dan penerbangan. </font><font style="vertical-align: inherit;">Kami ingin mengatur balap motor dengan penguin. </font><font style="vertical-align: inherit;">Sudah waktunya untuk membawa perusahaan aneh ini ke awal.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menyatukan semuanya</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menyatukan pembalap yang berbeda, kita perlu protokol umum untuk balap. </font><font style="vertical-align: inherit;">Kita dapat melakukan semua ini tanpa menyentuh semua jenis yang kita buat sebelumnya, dengan bantuan hal yang luar biasa yang disebut pemodelan retroaktif. </font><font style="vertical-align: inherit;">Cukup tambahkan ini ke taman bermain:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">// 1</span>
<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> }  <span class="hljs-comment">// speed is the only thing racers care about</span><font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// 2</span>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">FlappyBird</span>: <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> {<font></font>
    airspeedVelocity<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">SwiftBird</span>: <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> {<font></font>
    airspeedVelocity<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Penguin</span>: <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> {
    <span class="hljs-number">42</span>  <span class="hljs-comment">// full waddle speed</span><font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">UnladenSwallow</span>: <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> {<font></font>
    canFly ? airspeedVelocity : <span class="hljs-number">0.0</span><font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Motorcycle</span>: <span class="hljs-title">Racer</span> </span>{}<font></font>
<font></font>
<span class="hljs-comment">// 3</span>
<span class="hljs-keyword">let</span> racers: [<span class="hljs-type">Racer</span>] =<font></font>
  [<span class="hljs-type">UnladenSwallow</span>.african,
   <span class="hljs-type">UnladenSwallow</span>.european,
   <span class="hljs-type">UnladenSwallow</span>.unknown,
   <span class="hljs-type">Penguin</span>(name: <span class="hljs-string">"King Penguin"</span>),
   <span class="hljs-type">SwiftBird</span>(version: <span class="hljs-number">5.1</span>),
   <span class="hljs-type">FlappyBird</span>(name: <span class="hljs-string">"Felipe"</span>, flappyAmplitude: <span class="hljs-number">3.0</span>, flappyFrequency: <span class="hljs-number">20.0</span>),
   <span class="hljs-type">Motorcycle</span>(name: <span class="hljs-string">"Giacomo"</span>)]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah yang kami lakukan di sini: pertama, tentukan protokol Racer. </font><font style="vertical-align: inherit;">Ini semua yang bisa berpartisipasi dalam balapan. </font><font style="vertical-align: inherit;">Kemudian kami membuang semua tipe yang sebelumnya kami buat ke protokol Racer. </font><font style="vertical-align: inherit;">Dan akhirnya, kami membuat Array yang berisi instance dari masing-masing tipe kami. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kompilasi taman bermain agar semuanya beres.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kecepatan tertinggi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menulis fungsi untuk menentukan kecepatan maksimum pengendara. </font><font style="vertical-align: inherit;">Tambahkan kode ini di ujung taman bermain:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">topSpeed</span><span class="hljs-params">(of racers: [Racer])</span></span> -&gt; <span class="hljs-type">Double</span> {<font></font>
  racers.<span class="hljs-built_in">max</span>(by: { $<span class="hljs-number">0</span>.speed &lt; $<span class="hljs-number">1</span>.speed })?.speed ?? <span class="hljs-number">0.0</span><font></font>
}<font></font>
<font></font>
topSpeed(of: racers) <span class="hljs-comment">// 5100</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita menggunakan fungsi max untuk menemukan pengendara dengan kecepatan maksimum dan mengembalikannya. </font><font style="vertical-align: inherit;">Jika array kosong, maka 0,0 dikembalikan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menjadikan fungsi lebih umum</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalkan array Racers cukup besar, dan kita perlu menemukan kecepatan maksimum tidak di seluruh array, tetapi di beberapa bagiannya. </font><font style="vertical-align: inherit;">Solusinya adalah mengubah topSpeed ‚Äã‚Äã(dari :) sehingga dibutuhkan sebagai argumen tidak secara khusus array, tetapi segala sesuatu yang sesuai dengan protokol Sequence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ganti implementasi topSpeed ‚Äã‚Äã(of :) kami sebagai berikut:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">// 1</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">topSpeed</span>&lt;RacersType: Sequence&gt;<span class="hljs-params">(of racers: RacersType)</span></span> -&gt; <span class="hljs-type">Double</span>
    <span class="hljs-comment">/*2*/</span> <span class="hljs-keyword">where</span> <span class="hljs-type">RacersType</span>.<span class="hljs-type">Iterator</span>.<span class="hljs-type">Element</span> == <span class="hljs-type">Racer</span> {
  <span class="hljs-comment">// 3</span>
  racers.<span class="hljs-built_in">max</span>(by: { $<span class="hljs-number">0</span>.speed &lt; $<span class="hljs-number">1</span>.speed })?.speed ?? <span class="hljs-number">0.0</span>
}</code></pre><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RacersType adalah tipe argumen umum dari fungsi kita. </font><font style="vertical-align: inherit;">Itu bisa apa saja yang sesuai dengan protokol Sequence.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di mana menentukan bahwa konten Sequence harus mematuhi protokol Racer.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tubuh fungsi itu sendiri tetap tidak berubah.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Periksa dengan menambahkan ini di akhir taman bermain kami:</font></font><br>
<br>
<pre><code class="swift hljs">topSpeed(of: racers[<span class="hljs-number">1</span>...<span class="hljs-number">3</span>]) <span class="hljs-comment">// 42</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang fungsi kami bekerja dengan semua jenis yang memenuhi protokol Sequence, termasuk ArraySlice.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat fungsi lebih "cepat"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rahasia: Anda dapat melakukan yang lebih baik lagi. </font><font style="vertical-align: inherit;">Tambahkan ini di bagian paling bawah:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Sequence</span> <span class="hljs-title">where</span> <span class="hljs-title">Iterator</span>.<span class="hljs-title">Element</span> == <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">topSpeed</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Double</span> {
    <span class="hljs-keyword">self</span>.<span class="hljs-built_in">max</span>(by: { $<span class="hljs-number">0</span>.speed &lt; $<span class="hljs-number">1</span>.speed })?.speed ?? <span class="hljs-number">0.0</span><font></font>
  }<font></font>
}<font></font>
<font></font>
racers.topSpeed()        <span class="hljs-comment">// 5100</span>
racers[<span class="hljs-number">1</span>...<span class="hljs-number">3</span>].topSpeed() <span class="hljs-comment">// 42</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang kami telah memperluas protokol Sequence itu sendiri dengan topSpeed ‚Äã‚Äã(). </font><font style="vertical-align: inherit;">Itu hanya berlaku ketika Sequence berisi tipe Racer.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembanding Protokol</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fitur lain dari protokol Swift adalah bagaimana Anda mendefinisikan operator objek yang setara atau perbandingannya. </font><font style="vertical-align: inherit;">Kami menulis yang berikut ini:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Score</span> </span>{
  <span class="hljs-keyword">var</span> value: <span class="hljs-type">Int</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">RacingScore</span>: <span class="hljs-title">Score</span> </span>{
  <span class="hljs-keyword">let</span> value: <span class="hljs-type">Int</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan protokol Skor, Anda dapat menulis kode yang memperlakukan semua elemen jenis ini dalam satu cara. Tetapi jika Anda mendapatkan jenis yang sangat spesifik, seperti RacingScore, maka Anda tidak akan mengacaukannya dengan turunan lain dari protokol Skor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami ingin skor dibandingkan untuk melihat siapa yang memiliki skor tertinggi. Sebelum Swift 3, pengembang perlu menulis fungsi global untuk mendefinisikan operator untuk protokol. Sekarang kita dapat mendefinisikan metode statis ini dalam model itu sendiri. Kami melakukan ini dengan mengganti definisi Score dan RacingScore sebagai berikut:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Score</span>: <span class="hljs-title">Comparable</span> </span>{
  <span class="hljs-keyword">var</span> value: <span class="hljs-type">Int</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">RacingScore</span>: <span class="hljs-title">Score</span> </span>{
  <span class="hljs-keyword">let</span> value: <span class="hljs-type">Int</span><font></font>
  <font></font>
  <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> &lt;(lhs: RacingScore, rhs: RacingScore) -&gt; <span class="hljs-title">Bool</span> </span>{<font></font>
    lhs.value &lt; rhs.value<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki semua logika untuk RacingScore di satu tempat. </font><font style="vertical-align: inherit;">Protokol Sebanding mengharuskan Anda untuk menentukan implementasi hanya untuk fungsi yang kurang dari itu. </font><font style="vertical-align: inherit;">Semua fungsi perbandingan lainnya akan diimplementasikan secara otomatis, berdasarkan pada implementasi fungsi "kurang dari" yang kami buat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengujian:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">RacingScore</span>(value: <span class="hljs-number">150</span>) &gt;= <span class="hljs-type">RacingScore</span>(value: <span class="hljs-number">130</span>) <span class="hljs-comment">// true</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat perubahan pada objek</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sejauh ini, setiap contoh telah menunjukkan cara </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menambahkan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fungsionalitas. </font><font style="vertical-align: inherit;">Tetapi bagaimana jika kita ingin membuat protokol yang </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengubah</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sesuatu </font><font style="vertical-align: inherit;">pada suatu objek? </font><font style="vertical-align: inherit;">Ini dapat dilakukan dengan menggunakan </font><font style="vertical-align: inherit;">metode </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mutasi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam protokol kami. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan protokol baru:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Cheat</span> </span>{
  <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">boost</span><span class="hljs-params">(<span class="hljs-number">_</span> power: Double)</span></span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita mendefinisikan protokol yang memungkinkan kita untuk menipu. </font><font style="vertical-align: inherit;">Bagaimana? </font><font style="vertical-align: inherit;">Mengubah isi dorongan secara sewenang-wenang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang buat ekstensi SwiftBird yang sesuai dengan protokol Cheat:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">SwiftBird</span>: <span class="hljs-title">Cheat</span> </span>{
  <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">boost</span><span class="hljs-params">(<span class="hljs-number">_</span> power: Double)</span></span> {<font></font>
    speedFactor += power<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita menerapkan fungsi boost (_ :), meningkatkan speedFactor dengan nilai yang dikirimkan. </font><font style="vertical-align: inherit;">Kata </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kunci yang bermutasi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> membuat struktur mengerti bahwa salah satu nilainya akan diubah oleh fungsi ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Coba lihat!</font></font><br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> swiftBird = <span class="hljs-type">SwiftBird</span>(version: <span class="hljs-number">5.0</span>)<font></font>
swiftBird.boost(<span class="hljs-number">3.0</span>)<font></font>
swiftBird.airspeedVelocity <span class="hljs-comment">// 5015</span>
swiftBird.boost(<span class="hljs-number">3.0</span>)<font></font>
swiftBird.airspeedVelocity <span class="hljs-comment">// 5030</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda dapat mengunduh kode sumber lengkap untuk taman bermain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda belajar tentang kemungkinan pemrograman berorientasi protokol dengan membuat protokol sederhana dan meningkatkan kemampuannya dengan bantuan ekstensi. Menggunakan implementasi default, Anda memberikan protokol "perilaku" yang sesuai. Hampir suka dengan kelas dasar, tetapi hanya lebih baik, karena semua ini juga berlaku untuk struktur dan enumerasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga melihat bahwa ekstensi protokol berlaku untuk protokol Swift yang mendasarinya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini Anda akan menemukan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panduan protokol resmi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat menonton </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kuliah WWDC yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> luar biasa </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">tentang</font></a><font style="vertical-align: inherit;"> pemrograman berorientasi protokol.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti halnya paradigma pemrograman, ada bahaya terbawa dan mulai menggunakan protokol kiri dan kanan. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berikut ini catatan menarik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentang bahaya keputusan gaya peluru perak.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id486884/index.html">Perusahaan farmasi Jepang mulai menguji obat yang disintesis menggunakan jaringan saraf</a></li>
<li><a href="../id486888/index.html">Buku "Pendekatan Berorientasi Objek. Int 5. ed. "</a></li>
<li><a href="../id486890/index.html">Pengembangan diri: bagaimana saya tidak duduk di dua kursi dan menemukan yang ketiga</a></li>
<li><a href="../id486892/index.html">API Pemilih Kontak, atau cara berbagi kontak Anda dengan browser</a></li>
<li><a href="../id486896/index.html">UID dan Penguntit Otorisasi pada MAG250</a></li>
<li><a href="../id486904/index.html">Menampilkan kepada pengembang status kontrol kualitas kode sumber di SonarQube</a></li>
<li><a href="../id486908/index.html">Wulfric Ransomware adalah cryptor yang tidak ada</a></li>
<li><a href="../id486912/index.html">Lowkiq. Kenapa kita melakukannya?</a></li>
<li><a href="../id486914/index.html">8. Fortinet Memulai v6.0. Bekerja dengan pengguna</a></li>
<li><a href="../id486918/index.html">Emacs - 6 Trik Produktivitas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>