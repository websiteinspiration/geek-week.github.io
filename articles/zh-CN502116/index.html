<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🎤 🤳🏽 👲🏿 PVS-Studio 7.07版功能概述 🥒 ⛴️ 🅰️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本文的目的是对PVS-Studio静态分析仪的功能进行概述。最简单，最直观的方法是通过示例显示工具的操作。将使用Visual Studio插件显示项目的验证，并在Linux操作系统中启动分析器，然后将分析结果导入SonarQube。
 
 一般信息
 PVS-Studio是用C，C ++，C＃和Ja...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PVS-Studio 7.07版功能概述</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/502116/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-j/u6/t7/-ju6t74v9drm9ug1bimrtglb8j4.png" alt="图片30"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本文的目的是对PVS-Studio静态分析仪的功能进行概述。</font><font style="vertical-align: inherit;">最简单，最直观的方法是通过示例显示工具的操作。</font><font style="vertical-align: inherit;">将使用Visual Studio插件显示项目的验证，并在Linux操作系统中启动分析器，然后将分析结果导入SonarQube。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般信息</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio是用C，C ++，C＃和Java编写的静态代码分析器。</font><font style="vertical-align: inherit;">PVS-Studio执行各种各样的代码检查，但是最能发现错别字和复制粘贴失败的后果（例如：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">三</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">四</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">静态分析是检测缺陷的最古老，最可靠的方法之一的良好补充-代码检查。</font><font style="vertical-align: inherit;">在联合检查代码期间很难发现一些错误（例如，相同的错别字）。</font><font style="vertical-align: inherit;">例如：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">trans_rest</span><span class="hljs-params">(transcoder_settings *trans)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">16</span>; i++);<font></font>
  {<font></font>
    trans-&gt;eq.eq.preamp[i]   = <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">32</span>; j++)<font></font>
    {<font></font>
      trans-&gt;eq.eq.boost[i][j] = <span class="hljs-number">0.0</span>;<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于那些没有注意到的人，请在第一次</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后注意分号</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要么：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ObjectArrayComparer</span> :</span> IEqualityComparer&lt;object[]&gt;<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Equals</span><span class="hljs-params">(object[] x, object[] y)</span>
  </span>{<font></font>
    ....<font></font>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; x.Length; i++)<font></font>
    {<font></font>
      <span class="hljs-keyword">if</span> (!object.Equals(x[<span class="hljs-number">0</span>], y[<span class="hljs-number">0</span>])) <font></font>
      {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
      }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总是比较相同的元素。</font><font style="vertical-align: inherit;">为了不浪费您的时间来查找此类错误，仅需引入静态分析器。</font><font style="vertical-align: inherit;">您可以在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font><font style="vertical-align: inherit;">下载并尝试使用PVS-Studio </font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual Studio插件</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio具有适用于Visual Studio 2010-2019的插件。</font><font style="vertical-align: inherit;">在我们直接进行验证之前，我将演示该插件的功能。</font><font style="vertical-align: inherit;">让我们以“这是什么意思”的精神审视可能引起疑问的几点。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/o0/j_/d9/o0j_d9jl3n5ox14j8azkyzrqwk0.png" alt="图片13"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我将提请注意“抑制消息”项，该项将打开一个窗口，用于处理隐含的分析器警告，现在我将解释该项是什么。事实上，PVS-Studio可以抑制警告，即使在大型项目中也可以轻松开始使用分析仪。这使您可以快速轻松地将静态分析器并入开发过程。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您的项目很小，那么实施分析器将非常简单。但是，如果该项目是“有历史的”，那么您可能会怀疑：谁将参与处理和过滤结果，需要多少时间专门用于此工作等等。我会尽力消除它们。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这种情况下，分析仪的理想用途如下。您在项目上运行它，并看到大量分析器消息。然后，使用警告抑制机制，指示PVS-Studio不要显示这些消息。因为由于您的项目已经开发了很长时间，因此在分析器报告中几乎可以肯定很少有与某些严重缺陷有关的警告。此外，在开发过程中，您和您的同事只能看到与更改或新代码有关的那些错误。那些已被取消的警告现在是您的技术职责，您可以逐步恢复。警告抑制机制将在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更详细地描述</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yi/mq/i-/yimqi-fmtqnsnxn08mp3f107qji.png" alt="图片14"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，转到“在输出窗口中显示CWE代码”项。</font><font style="vertical-align: inherit;">PVS-Studio是用于静态应用程序安全测试（静态应用程序安全测试，SAST）的工具。</font><font style="vertical-align: inherit;">PVS-Studio警报可以根据常见弱点枚举（CWE）进行分类。</font><font style="vertical-align: inherit;">要了解根据CWE进行PVS-Studio警报的分类，为何需要CWE，它是什么等等，我建议您阅读以下链接：</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据常见弱点枚举进行PVS-Studio警告分类</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">；</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio：搜索安全缺陷</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们继续到“选项”选项卡。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/yu/kr/jlyukrrjtsshofdenocotxoe6qy.png" alt="图片6"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在“可检测的错误（C，C ++）”部分中，我们可以控制分析器消息类型的显示。可以隐藏或禁用由于某些原因与该项目无关的那些诊断消息。例如，除了嵌入式开发人员以外，MISRA诊断不太可能引起其他任何人的兴趣。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，默认情况下禁用它们</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。最初决定使用分析仪的用户可能会吓跑MISRA警告并进入昏迷状态。故意启动分析仪以检查其项目是否符合MISRA标准的用户可以简单地在设置中打开它们。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/h1/j3/ah/h1j3ahhvwhpo_9avr5ie7ky94r0.png" alt="图片10"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可以在此处输入路径/掩码，以从分析中排除某些文件或文件夹。您可以按路径选择一个掩码（路径掩码），也可以按文件名选择一个掩码（文件名掩码）。如果要从分析中排除第三方库，自动生成的文件等，则需要它们。设置排除掩码后，来自与它们相对应的文件中的消息将从PVS-Studio输出窗口中消失，并且它们将不包含在下一次扫描中。因此，通过掩码排除文件和目录可以显着减少整个项目的总体分析时间。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
更多细节</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这里</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/xz/13/bd/xz13bd-8va60tdnlxem8mj5kio4.png" alt="图片8"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您还可以根据其中包含的文本过滤分析仪的输出。例如，在分析器报告中，文本中存在提及</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_super_function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数的警告</font><font style="vertical-align: inherit;">，但是您可以确保所有这些警告都是错误的。然后，您可以</font><font style="vertical-align: inherit;">在此字段中</font><font style="vertical-align: inherit;">添加单词</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_super_function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。包含此单词的所有警告将被过滤掉。好吧，以防万一，我将在此处保留指向</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档相应部分的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意。在PVS-Studio中，还有其他方法可以在代码或宏中标记错误警告。在“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抑制错误警报”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分的文档中对此进行了描述</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在完成设置概述之后，让我们继续检查项目。您可能已经注意到，本文具有与C ++项目相关的几种设置，但是没有有关C＃和Java的细节。 C ++的设置要比C＃的设置多，因此我们决定在这些简短的评论中进行介绍。但是，要换个说法，让我们借助Visual Studio插件（不是C ++，而是C＃项目）进行检查，并查看分析器报告的外观。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自然，在对项目进行第一次检查之后，您将必须返回到设置，以减少误报的百分比。误报是不可避免的，但是可以通过将其设置为可接受的值来减少其百分比。请参阅文章：“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用EFL核心库示例的PVS-Studio分析仪的特征，误报的10-15％</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。”</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/gc/ia/tqgciacbhkpm_vrjmc3vuhhubyg.png" alt="图片1"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
选择项目“使用PVS-Studio分析解决方案”。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/3n/_y/rs/3n_yrslf8xcy7c1twtpv4p8oyxs.png" alt="图片2"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将出现一个带有进度条的窗口。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ha/ul/zq/haulzq_ib2ediqprs8kahr2dg-a.png" alt="图片3"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后我们可以看到分析器报告。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/7t/vy/zt/7tvyztlwnu483ma1etti9gll_yo.png" alt="图片11"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顺便说一句，在这里您还可以过滤掉一些警告。</font><font style="vertical-align: inherit;">例如，您可以通过选择报告中的第一个警告并单击“将所选消息标记为虚假警报”项来隐藏它。</font><font style="vertical-align: inherit;">有关更多详细信息，请再次参考</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抑制虚假警报</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
之前我们测试了C＃项目。</font><font style="vertical-align: inherit;">现在，让我们尝试检查用C ++编写的代码。</font><font style="vertical-align: inherit;">为了增加文章的多样性，我们将在Linux上对其进行测试。</font><font style="vertical-align: inherit;">顺便说一句，在Windows，Linux和macOS下，您可以使用任何语言（C，C ++，C＃，Java）检查项目。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/gf/ha/fe/gfhafe821sffbigypkfi7ed6w1k.png" alt="图片20"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们克隆一个存储库。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8k/tb/el/8ktbelpauffoxdk0byhdokhoyzg.png" alt="图片18"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们启动用于组装的配置脚本。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yl/0k/dr/yl0kdrhtt7i7gbxlm9ir4mxcme8.png" alt="图片16"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们以跟踪模式启动PVS-Studio并组装项目。</font><font style="vertical-align: inherit;">需要已安装的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在您的情况下，可以使用任何命令代替make命令来使用所有必需的参数开始构建项目。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/b9/h9/cl/b9h9clyzyjs_5xf9rmertev3oqi.png" alt="图片12"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们使用上一步的结果来分析项目中的文件。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开关</font><font style="vertical-align: inherit;">允许您指定报告中应包括哪些警告。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ki/9-/wv/ki9-wvdwpboeefu8pz_ow5rfx94.png" alt="图片4"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们将日志转换为html并享受结果。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我仅描述了一种在Linux下非常正式地检查项目的选项，而没有详细介绍。</font><font style="vertical-align: inherit;">还有其他检查项目的方法，例如，通过在makefile中编写Analyzer调用。</font><font style="vertical-align: inherit;">有关更详细的评论，建议您参考以下链接：</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Linux中开发C ++程序时熟悉PVS-Studio静态分析器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">；</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在Linux和macOS上运行PVS-Studio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声纳古伯</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SonarQube是一个开源平台，用于持续分析和衡量代码质量，支持多种编程语言，并允许您接收有关代码重复，符合编码标准，测试覆盖率，代码复杂性，潜在错误等指标的报告。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio有一个用于将分析结果导入SonarQube的插件，让我们尝试使用它。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/5c/g2/sw5cg2-pfkeblm1iltcbfnfrb-i.png" alt="图片9"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，我们获得分析器报告和sonar-project.properties配置文件。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/dq/ci/zrdqcin_5doajnxc7ykj3sj44e8.png" alt="图片27"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，我们需要一个扫描仪启动命令。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/e_/jk/zge_jk7ski6uxsmdjipbv3jrzmy.png" alt="图片28"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果:)</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/6h/uy/0j/6huy0juejjxejcj0yuqdemkzco4.png" alt="图片23"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，可以创建（或编辑）配置文件。</font><font style="vertical-align: inherit;">例如，在上面的屏幕截图中，我们启用了将MISRA标识符添加到分析器警告中的功能。</font><font style="vertical-align: inherit;">是的，也就是说，默认情况下，MISRA在这里是禁用的。</font><font style="vertical-align: inherit;">如果您需要检查代码是否符合MISRA要求，则将“活动”添加到配置文件中以包括在内。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/cp/ko/fqcpkovovgcng0w9hit8soscobi.png" alt="图片25"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在“度量”选项卡中，可以使用各种代码度量和图形。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/kc/ds/ls/kcdslsq2bxy2faxmjqg-_kswxcw.png" alt="图片26"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您也可以使用PVS-Studio部分构建图形。</font><font style="vertical-align: inherit;">您可以在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">这一</font></a><font style="vertical-align: inherit;">部分中</font><font style="vertical-align: inherit;">了解有关将PVS-Studio分析结果集成到SonarQube中的更多信息</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio Java</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我们查看了C ++项目的设置，在C＃中测试了该项目，但是Java不知何故不在本文之列。有必要解决此问题，并告诉我们PVS-Studio Java分析仪的全部用途。分析器有几种不同的方法可以集成到项目中。根据构建系统的不同，可以将插件用于Maven或Gradle。您也可以直接使用分析仪核心。直接使用Gradle，Maven或内核插件可以使您轻松地使用Sonar Qube或CI（Jenkins）。如果启用了这些插件，则将在构建过程中直接通过静态分析来检查Java项目，结果，您不仅会收到组装的项目，还会收到PVS-Studio分析仪的日志。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio Java分析器也可以用作IntelliJ IDEA的插件。</font><font style="vertical-align: inherit;">在这种情况下，将使用此IDE进行项目结构的分析，并且该插件提供了一个方便的图形界面来与分析仪一起使用。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/se/1x/hp/se1xhpi6dirzw5edkdhpjgporlc.png" alt="图片40"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我建议在有关</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何启动PVS-Studio Java</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的部分中详细阅读</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，通过检查Java项目，您可以抑制分析器消息，以便快速轻松地集成到大型项目中。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在IntelliJ IDEA中，它看起来像这样。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-c/zx/lb/-czxlbrdbykzol_5qiwy3pvp45o.png" alt="图片42"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在此窗口中，我们将看到分析器报告。 </font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8g/r2/6j/8gr26jp1erbtwmhzk-vcucvv_8w.png" alt="图片43"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通过右键单击所选消息，我们将看到这样的上下文菜单。</font><font style="vertical-align: inherit;">在其中，我们可以选择突出显示的项目，该消息将从分析仪的输出中消失。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/dg/yn/cgdgyn1evznjt623afzjnawuwc8.png" alt="图片44"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们还可以隐藏所有分析器消息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要在Gradle中禁止分析器警告，请执行以下命令：</font></font><br>
<br>
<pre><code class="cpp hljs">./gradlew pvsSuppress <span class="hljs-string">"-Ppvsstudio.report=/path/to/report.json"</span>
  <span class="hljs-string">"-Ppvsstudio.output=/path/to/suppress_base.json"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要在Maven中禁止分析器警告，请运行以下命令：</font></font><br>
<pre><code class="cpp hljs">mvn pvsstudio:pvsSuppress <span class="hljs-string">"-Dpvsstudio.report=/path/to/report.json"</span>
  <span class="hljs-string">"-Dpvsstudio.output=/path/to/suppress_base.json"</span></code></pre><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
阅读有关抑制机制的更多信息</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结一下</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本文的目的是展示PVS-Studio静态分析器的功能，以及如何使用适用于Visual Studio和Linux的插件轻松使用它。</font><font style="vertical-align: inherit;">由于具有与SonarQube平台集成的功能，您可以提供代码的连续分析和质量管理，这只是</font><font style="vertical-align: inherit;">文档中</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的众多功能</font><font style="vertical-align: inherit;">之一。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通过将静态分析器集成到CI系统中，您可以在构建项目后立即检测错误。</font><font style="vertical-align: inherit;">这减少了发现和纠正错误的成本。</font><font style="vertical-align: inherit;">以下是与最流行的云服务集成的文章链接：</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio走向云：Travis CI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio走向云端：Azure DevOps</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio走向云端：CircleCI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio走向云端：GitLab CI / CD</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在TeamCity中启动PVS-Studio</font></font></a></li>
</ol><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a></p><div style="text-align:center;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/eb2/f9c/3bb/eb2f9c3bb5f32f39239298d36431961c.png"></a></div><p></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您想与说英语的读者分享这篇文章，请使用以下链接：Ekaterina Nikiforova。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio 7.07：功能概述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN502092/index.html">俄罗斯联邦对数字信任服务的技术和法规支持</a></li>
<li><a href="../zh-CN502098/index.html">我们如何建立B2B</a></li>
<li><a href="../zh-CN502102/index.html">AutoML既强大又强大</a></li>
<li><a href="../zh-CN502104/index.html">网上黑客马拉松VirusHack的秘书机器人，漫游器线人，漫游器治疗师和其他项目</a></li>
<li><a href="../zh-CN502114/index.html">动机游戏。第1部分</a></li>
<li><a href="../zh-CN502118/index.html">在系统级别进行设计。第3部分：链接System Composer和MathWorks工具链</a></li>
<li><a href="../zh-CN502120/index.html">远程监控和诊断生产设备</a></li>
<li><a href="../zh-CN502122/index.html">Thanos-可扩展的普罗米修斯</a></li>
<li><a href="../zh-CN502124/index.html">乌克兰的2019年风险投资结果</a></li>
<li><a href="../zh-CN502126/index.html">如何提高英语程序员的简历</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>