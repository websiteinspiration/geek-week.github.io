<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😓 🌂 🏘️ 雨が降らないでください。組み立てモデル。神経技術者＃1工芸品研究所で作られたニューラルネットワークをトレーニングするためのデバイス 🛡️ 🐾 🌑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="親愛なる読者！ 
 
 今日、私たちは初めて会っていません。私が以前に述べた自動詩についての素朴な議論については、スロップの客観的な批判の浴槽がハブロフスク市民によってすでに注がれています。主な不満は「実際にはこれらの議論が適用できない」と「ボタンアコーディオン」でした。行の間には、機械学習による操...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>雨が降らないでください。組み立てモデル。神経技術者＃1工芸品研究所で作られたニューラルネットワークをトレーニングするためのデバイス</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478460/"><img src="https://habrastorage.org/webt/82/ph/ly/82phly8d9jyaigenubrlatxgvto.jpeg" alt="ハオ" width="200" height="250" align="left"> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">親愛なる読者！</font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日、私たちは初めて会っていません</font><font style="vertical-align: inherit;">。私が以前に述べた自動詩についての素朴な議論について</font><font style="vertical-align: inherit;">は、</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スロップの</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客観的な批判の</font><font style="vertical-align: inherit;">浴槽が</font><font style="vertical-align: inherit;">ハブロフスク市民によってすでに注がれています。</font><font style="vertical-align: inherit;">主な不満は「実際にはこれらの議論が適用できない」と「ボタンアコーディオン」でした。</font><font style="vertical-align: inherit;">行の間には、機械学習による操作が関連付けられていたとされる信じられないほどの複雑さが読み取られました。</font><font style="vertical-align: inherit;">すべてが一般に信じられているよりもはるかに単純であることを示す時が来ました。</font></font><br>
<a name="habracut"></a><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「私たちはあなたが誰になりたいのか、私たちの読者、宇宙船のパイロット、または原子核の秘密の探求者を知りません... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...しかし、確かなことが1つあり</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。アーティスト、ライター、アーティストになることを夢見ているとしても、基本を知る必要があります。機械学習</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（c）ジャーナル "Young Technician" 1956年第1号 </font><font style="vertical-align: inherit;">（番号）</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最小のもの：</font></font></b><div class="spoiler_text">    , ,  «  »     «» () — -,  , -.     Data Set.         .      .       </div></div> <br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">母親のために：</font></font></b><div class="spoiler_text">  ,    ,       .  ,       «  »    «    198».    —    .     .</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスクを決定します。</font><font style="vertical-align: inherit;">私が提案した例では、ネットワークを使用して画像の解像度を上げます。</font><font style="vertical-align: inherit;">したがって、セットの日付は、「悪い写真」〜「良い写真」のようになります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></b><div class="spoiler_text">:<br>
<br>
<img src="https://habrastorage.org/webt/6x/b8/dn/6xb8dnqbpa4ppa5ha2ucmtlwdok.jpeg" width="666" alt=""><br>
<br>
:<br>
<br>
<img src="https://habrastorage.org/webt/my/a2/nj/mya2nju0lu5xt45dk9ozfnvaogm.jpeg" width="666" alt=""><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像の解像度が異なります。</font><font style="vertical-align: inherit;">すべての車が重いコンピューティングを利用できるわけではありません。</font><font style="vertical-align: inherit;">パフォーマンスと画像サイズが制限にならないように、画像のサイズを定義します。</font><font style="vertical-align: inherit;">タスク32x32ピクセル、応答64x64。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ピクセル（常にではない）は3つの数値の合計です（RGBを参照）。パーサーの出口で、次元が（N、32、32、3）と（N、64、64、3）の2つの配列を取得する必要があります。ここで、Nは数値です。例。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、私の単純なプログラムアルゴリズムと、最適ではないが実行可能なPythonのソリューションを提案します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パーサーアルゴリズム：</font></font></b><div class="spoiler_text">      ,     , ,    ,     .<br>
<br>
1 —   , 2 —  .<br>
<br>
   .<br>
:    <br>
: 2     x_train, y_train<br>
</div></div> <br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonコード</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> pickle
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image <span class="hljs-keyword">as</span> PLi
<span class="hljs-keyword">from</span> tensorflow.keras.preprocessing <span class="hljs-keyword">import</span> image <span class="hljs-keyword">as</span> TFi<font></font>
<font></font>
path = <span class="hljs-string">'./source/'</span>
temp_path = <span class="hljs-string">'temp.bmp'</span>
l = <span class="hljs-number">64</span> 
s = <span class="hljs-number">32</span><font></font>
x_train = []<font></font>
y_train = []<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cut</span> (<span class="hljs-params">image_path, coords</span>):</span><font></font>
    <font></font>
    obj = PLi.open(image_path)<font></font>
    cuted = obj.crop(coords)<font></font>
    cuted.save(temp_path)  <font></font>
<font></font>
    large = TFi.load_img(temp_path, target_size=(l,l))<font></font>
    small = TFi.load_img(temp_path, target_size=(s,s))<font></font>
<font></font>
    y = TFi.img_to_array(large)<font></font>
    x = TFi.img_to_array(small)<font></font>
    <font></font>
    y = y.reshape(l,l,<span class="hljs-number">3</span>)<font></font>
    x = x.reshape(s,s,<span class="hljs-number">3</span>)<font></font>
    <font></font>
    y_train.append(y) <font></font>
    x_train.append(x) <font></font>
<font></font>
filelist = sorted(os.listdir(path))<font></font>
<span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> filelist:
    <span class="hljs-keyword">try</span>:<font></font>
        target = PLi.open(path+name)  <font></font>
        width, height = target.size <font></font>
        print(name+<span class="hljs-string">' '</span>+str(width)+<span class="hljs-string">'x'</span>+str(height))<font></font>
        h = height//l<font></font>
        w = width//l<font></font>
        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, h+<span class="hljs-number">1</span>):
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, w+<span class="hljs-number">1</span>):<font></font>
                crds = (l*i, l*j, l*(i+<span class="hljs-number">1</span>), l*(j+<span class="hljs-number">1</span>))<font></font>
                cut(path+name, crds)<font></font>
            <font></font>
    <span class="hljs-keyword">except</span> BaseException:
        <span class="hljs-keyword">print</span> (<span class="hljs-string">'Err '</span>+name)<font></font>
<font></font>
x_train = np.array(x_train)<font></font>
y_train = np.array(y_train)<font></font>
x_train = x_train/<span class="hljs-number">255</span>
y_train = y_train/<span class="hljs-number">255</span><font></font>
print(x_train.shape)<font></font>
print(y_train.shape)<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'./x_train.pickle'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    pickle.dump(x_train, f)<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'./y_train.pickle'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    pickle.dump(y_train, f)</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアルゴリズムは常に上書きするため、ハードドライブを「レイプ」することに注意してください。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを回避する方法があります-RAMディスクを使用します。</font><font style="vertical-align: inherit;">先端をありがとう</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Longtolik</font></font></a><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ニューラルネットワークトレーニングプログラムアルゴリズム：</font></font></b><div class="spoiler_text">     <br>
   <br>
  ,  <br>
     <br>
: 2  x_train, y_train<br>
:      .</div></div><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonコード</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> pickle
<span class="hljs-keyword">from</span> tensorflow.keras.optimizers <span class="hljs-keyword">import</span> Adam
<span class="hljs-keyword">from</span> tensorflow.python.keras.layers <span class="hljs-keyword">import</span> Dense
<span class="hljs-keyword">from</span> tensorflow.python.keras.layers <span class="hljs-keyword">import</span> Conv2D
<span class="hljs-keyword">from</span> tensorflow.python.keras.layers <span class="hljs-keyword">import</span> UpSampling2D
<span class="hljs-keyword">from</span> tensorflow.python.keras.models <span class="hljs-keyword">import</span> Sequential
<span class="hljs-keyword">from</span> tensorflow.keras.callbacks <span class="hljs-keyword">import</span> ModelCheckpoint <span class="hljs-keyword">as</span> ChPt<font></font>
<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'./x_train.pickle'</span>, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    x_train = pickle.load( f)<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'./y_train.pickle'</span>, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    y_train = pickle.load( f)<font></font>
    <font></font>
model = Sequential([<font></font>
    Dense(<span class="hljs-number">3</span>, input_shape=(<span class="hljs-number">32</span>,<span class="hljs-number">32</span>,<span class="hljs-number">3</span>) ,activation=<span class="hljs-string">'linear'</span>),<font></font>
    UpSampling2D(size=(<span class="hljs-number">2</span>), data_format=<span class="hljs-literal">None</span>),<font></font>
    Conv2D(<span class="hljs-number">3</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>, padding=<span class="hljs-string">'same'</span>),<font></font>
])<font></font>
<font></font>
model.compile(loss=<span class="hljs-string">'mse'</span>, optimizer=Adam(learning_rate=<span class="hljs-number">0.00002</span>),metrics=[<span class="hljs-string">'accuracy'</span>])<font></font>
<font></font>
print(model.summary())<font></font>
<font></font>
best_w=ChPt(<span class="hljs-string">'./fcn_best.h5'</span>,<font></font>
            monitor=<span class="hljs-string">'val_accuracy'</span>,<font></font>
            verbose=<span class="hljs-number">1</span>,<font></font>
            save_best_only=<span class="hljs-literal">True</span>,<font></font>
            save_weights_only=<span class="hljs-literal">True</span>,<font></font>
            mode=<span class="hljs-string">'auto'</span>,<font></font>
            save_freq=<span class="hljs-string">'epoch'</span>)<font></font>
last_w=ChPt(<span class="hljs-string">'./fcn_last.h5'</span>,<font></font>
            monitor=<span class="hljs-string">'val_accuracy'</span>,<font></font>
            verbose=<span class="hljs-number">1</span>,<font></font>
            save_best_only=<span class="hljs-literal">False</span>,<font></font>
            save_weights_only=<span class="hljs-literal">True</span>,<font></font>
            mode=<span class="hljs-string">'auto'</span>,<font></font>
            save_freq=<span class="hljs-string">'epoch'</span>)<font></font>
callbacks=[best_w, last_w]<font></font>
<font></font>
model.fit(x_train, y_train ,<font></font>
          steps_per_epoch=<span class="hljs-number">80</span>,<font></font>
          callbacks=callbacks,<font></font>
          validation_split=<span class="hljs-number">0.25</span>,<font></font>
          batch_size=<span class="hljs-number">9</span>, epochs=<span class="hljs-number">99</span>,<font></font>
          verbose=<span class="hljs-number">1</span>, shuffle=<span class="hljs-literal">True</span>, <font></font>
          use_multiprocessing=<span class="hljs-literal">True</span> )    
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワークアーキテクチャは初歩的なものですが、機能しますが、結果は補間からほど遠くありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスク：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yl/9i/zx/yl9izx4bnpr2lvj85zconxobse4.jpeg" width="300" height="300" alt="仕事"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正解：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_j/nu/sk/_jnuskuifogt0iglzynh2xf_sbu.jpeg" width="300" height="300" alt="回答"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ニューラルネットワークの予測：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/jd/qz/ltjdqzl2fbo_zli6ilpw13-zr-s.jpeg" width="300" height="300" alt="予測"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ニューラルネットワークで最も興味深いのは、内部構造を考え出すことです。これは、読者に推奨することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、すべてが簡単です-画像を切り取り、ロードされたウェイトを使用してグリッドにピースを走らせます。ニューロンの動作の結果を1つの正方形ではなく全体で調べるには、画像を接着する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答で受け取った四角は64x64ポイントで、周囲は4096の252で、ポイントの6％以上です。これは、近隣が切断段階で失われるため、予測の可能性が低い領域です。したがって、結果の画像には、四角形の接合部に縞模様があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/su/hv/rgsuhvf78ldwokm7p2nf26mxeme.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの場所を同じ画像の予測でカバーしますが、正方形の半分だけシフトしてカットします。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コレクターアルゴリズム：</font></font></b><div class="spoiler_text">  <br>
         ,    ,         .      .<br>
    .<br>
:     , .<br>
: —    .<br>
</div></div> <br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonコード</font></font></b><div class="spoiler_text"> <pre><code class="python hljs"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> pickle
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image <span class="hljs-keyword">as</span> PLi
<span class="hljs-keyword">from</span> tensorflow.keras.preprocessing <span class="hljs-keyword">import</span> image <span class="hljs-keyword">as</span> TFi
<span class="hljs-keyword">from</span> tensorflow.keras.optimizers <span class="hljs-keyword">import</span> Adam
<span class="hljs-keyword">from</span> tensorflow.python.keras.layers <span class="hljs-keyword">import</span> Dense
<span class="hljs-keyword">from</span> tensorflow.python.keras.layers <span class="hljs-keyword">import</span> Conv2D
<span class="hljs-keyword">from</span> tensorflow.python.keras.layers <span class="hljs-keyword">import</span> UpSampling2D
<span class="hljs-keyword">from</span> tensorflow.python.keras.models <span class="hljs-keyword">import</span> Sequential
<span class="hljs-keyword">from</span> tensorflow.keras.callbacks <span class="hljs-keyword">import</span> ModelCheckpoint <span class="hljs-keyword">as</span> ChPt<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'./x_train.pickle'</span>, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    x_train = pickle.load( f)<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">'./y_train.pickle'</span>, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    y_train = pickle.load( f)<font></font>
    <font></font>
model = Sequential([<font></font>
    Dense(<span class="hljs-number">3</span>, input_shape=(<span class="hljs-number">32</span>,<span class="hljs-number">32</span>,<span class="hljs-number">3</span>) ,activation=<span class="hljs-string">'linear'</span>),<font></font>
    UpSampling2D(size=(<span class="hljs-number">2</span>), data_format=<span class="hljs-literal">None</span>),<font></font>
    Conv2D(<span class="hljs-number">3</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>, padding=<span class="hljs-string">'same'</span>),<font></font>
])<font></font>
<font></font>
model.compile(loss=<span class="hljs-string">'mse'</span>, metrics=[<span class="hljs-string">'accuracy'</span>])<font></font>
   <font></font>
model.load_weights(<span class="hljs-string">'fcn_best.h5'</span>)<font></font>
path = <span class="hljs-string">'./target/'</span>
temp_location = <span class="hljs-string">'./target/temp/builded.bmp'</span>
out_location = <span class="hljs-string">"./target/temp/out.bmp"</span><font></font>
x0_build = []<font></font>
x1_build = []<font></font>
x2_build = []<font></font>
x3_build = []<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">build</span>(<span class="hljs-params">image_path, coords, target</span>):</span><font></font>
    <font></font>
    obj = PLi.open(image_path)<font></font>
    builded = obj.crop(coords)<font></font>
    builded.save(temp_location) <font></font>
    img = TFi.load_img(temp_location, target_size=(<span class="hljs-number">32</span>, <span class="hljs-number">32</span>))<font></font>
    x = np.array(TFi.img_to_array(img))<font></font>
    x = x.reshape(<span class="hljs-number">32</span>,<span class="hljs-number">32</span>,<span class="hljs-number">3</span>)<font></font>
    target.append(x) <font></font>
   <font></font>
filelist = sorted(os.listdir(path))<font></font>
<span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> filelist:
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">if</span> img.endswith(<span class="hljs-string">'.bmp'</span>) <span class="hljs-keyword">or</span> img.endswith(<span class="hljs-string">'.jpg'</span>):<font></font>
            image = PLi.open(path+img) <font></font>
            width, height = image.size<font></font>
            print(img + <span class="hljs-string">' '</span> + str(width) + <span class="hljs-string">'x'</span> + str(height))<font></font>
            a = height//<span class="hljs-number">32</span>
            b = width//<span class="hljs-number">32</span>
            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,a+<span class="hljs-number">2</span>):
                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,b+<span class="hljs-number">2</span>):<font></font>
                    build(path+img, (<span class="hljs-number">32</span>*(i<span class="hljs-number">-1</span>),<span class="hljs-number">32</span>*(j<span class="hljs-number">-1</span>),<span class="hljs-number">32</span>*i,<span class="hljs-number">32</span>*j), x0_build) <font></font>
                    build(path+img, ((<span class="hljs-number">32</span>*i<span class="hljs-number">-16</span>),<span class="hljs-number">32</span>*(j<span class="hljs-number">-1</span>),(<span class="hljs-number">32</span>*i+<span class="hljs-number">16</span>),<span class="hljs-number">32</span>*j), x1_build)<font></font>
                    build(path+img, (<span class="hljs-number">32</span>*(i<span class="hljs-number">-1</span>),<span class="hljs-number">32</span>*j<span class="hljs-number">-16</span>,<span class="hljs-number">32</span>*i,<span class="hljs-number">32</span>*j+<span class="hljs-number">16</span>), x2_build)<font></font>
                    build(path+img, (<span class="hljs-number">32</span>*i<span class="hljs-number">-16</span>,<span class="hljs-number">32</span>*j<span class="hljs-number">-16</span>,<span class="hljs-number">32</span>*i+<span class="hljs-number">16</span>,<span class="hljs-number">32</span>*j+<span class="hljs-number">16</span>), x3_build)<font></font>
            <font></font>
    <span class="hljs-keyword">except</span> BaseException:
        <span class="hljs-keyword">print</span> (<span class="hljs-string">'Err '</span> + img)<font></font>
<font></font>
x0_build = np.array(x0_build)<font></font>
x0_build = x0_build.astype(<span class="hljs-string">'float'</span>)<font></font>
x1_build = np.array(x1_build)<font></font>
x1_build = x1_build.astype(<span class="hljs-string">'float'</span>)<font></font>
x2_build = np.array(x2_build)<font></font>
x2_build = x2_build.astype(<span class="hljs-string">'float'</span>)<font></font>
x3_build = np.array(x3_build)<font></font>
x3_build = x3_build.astype(<span class="hljs-string">'float'</span>)<font></font>
predictionsB = model.predict(x0_build)<font></font>
predictionsB1 = model.predict(x1_build)<font></font>
predictionsB2 = model.predict(x2_build)<font></font>
predictionsB3 = model.predict(x3_build)  <font></font>
filelist = sorted(os.listdir(path))<font></font>
n = <span class="hljs-number">4</span>
<span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> filelist:
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">if</span> img.endswith(<span class="hljs-string">'.bmp'</span>) <span class="hljs-keyword">or</span> img.endswith(<span class="hljs-string">'.jpg'</span>):<font></font>
            image = PLi.open(path+img) <font></font>
            width, height = image.size <font></font>
            out = PLi.new(<span class="hljs-string">'RGB'</span>, (width*<span class="hljs-number">2</span>, height*<span class="hljs-number">2</span>))<font></font>
            a = height//<span class="hljs-number">32</span>
            b = width//<span class="hljs-number">32</span>
            k = <span class="hljs-number">0</span>
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range (<span class="hljs-number">0</span>,a+<span class="hljs-number">1</span>):
                <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range (<span class="hljs-number">0</span>,b+<span class="hljs-number">1</span>):<font></font>
                <font></font>
                    im = predictionsB[k]<font></font>
                    im = im.astype(np.uint8)<font></font>
                    _image = PLi.fromarray(im ,<span class="hljs-string">'RGB'</span>)<font></font>
                    _image_ = _image.crop((n,n,<span class="hljs-number">64</span>-n,<span class="hljs-number">64</span>-n))<font></font>
  <font></font>
                    im1 = predictionsB1[k]  <font></font>
                    im1 = im1.astype(np.uint8)<font></font>
                    _image1 = PLi.fromarray(im1 ,<span class="hljs-string">'RGB'</span>)<font></font>
                    _image1_ = _image1.crop((n,n,<span class="hljs-number">64</span>-n,<span class="hljs-number">64</span>-n))<font></font>
<font></font>
                    im2 = predictionsB2[k]   <font></font>
                    im2 = im2.astype(np.uint8)<font></font>
                    _image2 = PLi.fromarray(im2 ,<span class="hljs-string">'RGB'</span>)<font></font>
                    _image2_ = _image2.crop((n,n,<span class="hljs-number">64</span>-n,<span class="hljs-number">64</span>-n))<font></font>
<font></font>
                    im3 = predictionsB3[k]<font></font>
                    im3 = im3.astype(np.uint8)<font></font>
                    _image3 = PLi.fromarray(im3 ,<span class="hljs-string">'RGB'</span>)<font></font>
                    _image3_ = _image3.crop((n,n,<span class="hljs-number">64</span>-n,<span class="hljs-number">64</span>-n))<font></font>
                <font></font>
                    out.paste(_image_, (j*<span class="hljs-number">64</span>+n,i*<span class="hljs-number">64</span>+n))<font></font>
                    out.paste(_image1_, ((j*<span class="hljs-number">64</span>+<span class="hljs-number">32</span>+n),(i*<span class="hljs-number">64</span>+n)))<font></font>
                    out.paste(_image2_, ((j*<span class="hljs-number">64</span>+n),(i*<span class="hljs-number">64</span>+<span class="hljs-number">32</span>+n)))<font></font>
                    out.paste(_image3_, ((j*<span class="hljs-number">64</span>+<span class="hljs-number">32</span>+n),(i*<span class="hljs-number">64</span>+<span class="hljs-number">32</span>+n)))<font></font>
                    k = k+<span class="hljs-number">1</span> <font></font>
<font></font>
            out.save(out_location, quality=<span class="hljs-number">100</span>)
    <span class="hljs-keyword">except</span> BaseException:
        <span class="hljs-keyword">print</span> (<span class="hljs-string">'Err '</span>)<font></font>
print(<span class="hljs-string">'Done'</span>)</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
提案されたプログラムのセットはかなり可変であり、コードへの干渉は最小限です。</font><font style="vertical-align: inherit;">たとえば、パーサーを少し変更すると、ノイズのあるデータセットを簡単に取得して、「ノイズ除去」または「ノイズ」の収集を試みることができます。</font><font style="vertical-align: inherit;">読者の皆さん、これで面白い実験を楽しんでいただけることを願っています。</font><font style="vertical-align: inherit;">そして、上に述べたタスクのための可能なネットワークアーキテクチャについての私の推論を無罪で示すことができます。</font><font style="vertical-align: inherit;">しかし、これは次回です。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/Shurovej/UpScale</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
7.3。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja478442/index.html">ITプロジェクトマネージャーの作業を改善する12のソーシャルスキル</a></li>
<li><a href="../ja478448/index.html">あなたが見つけることができる水中ナビゲーションシステムの最も包括的な分類</a></li>
<li><a href="../ja478450/index.html">ストレージシステムでのオブジェクトビデオ分析システムの開発と実装の経験</a></li>
<li><a href="../ja478452/index.html">UDPホールパンチングを使用した、NATプロバイダーの背後にある2台のコンピューター間の直接VPNトンネル</a></li>
<li><a href="../ja478456/index.html">スマートスピーカーだけではありません。TOP 7自明ではないが有望なIoTソリューション</a></li>
<li><a href="../ja478462/index.html">暗号通貨 ICO、IEO、STO。鉱業 ブロックチェーン：ロシアの規制。全文：2014-2019</a></li>
<li><a href="../ja478464/index.html">テレメトリー「ベレシタ」を分析、または2019年4月11日に月の近くで何が起こったのか</a></li>
<li><a href="../ja478466/index.html">サイバーセキュリティスマートプラットフォームに1,100万ドルを投資</a></li>
<li><a href="../ja478470/index.html">インテルニューイヤーコンテスト、大賞-インテルNUC</a></li>
<li><a href="../ja478472/index.html">Linuxカーネルライブラリ：soまたはdllフォームファクターのLinuxカーネル</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>