<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥨 🐑 🐔 Notfallwiederherstellung und Migration mit VMware vCloud Availability. Teil 1 🕺🏻 ↔️ 💅🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo alle zusammen! 
 
 Heute werden wir über die Arbeit mit VMware vCloud Availability (vCAV) sprechen. Dieses Produkt hilft bei der Organisation vo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Notfallwiederherstellung und Migration mit VMware vCloud Availability. Teil 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/490156/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo alle zusammen! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heute werden wir über die Arbeit mit VMware vCloud Availability (vCAV) sprechen. </font><font style="vertical-align: inherit;">Dieses Produkt hilft bei der Organisation von Disaster Recovery (DR) und Migration auf mehreren Plattformen des Cloud-Anbieters oder beim Verschieben / Wiederherstellen in die Cloud des Dienstanbieters von lokalen Plattformen. </font><font style="vertical-align: inherit;">vCAV ist in das vCloud Director-Bedienfeld integriert, mit dem öffentliche Cloud-Clients den DR und die Migration ihrer virtuellen Maschinen über die vertraute Oberfläche unabhängig verwalten können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gab ich eine Fallstudie darüber, wie wir einen Kunden mithilfe von vCAV zwischen unseren Standorten in Moskau und St. Petersburg migriert haben. </font><font style="vertical-align: inherit;">Heute zeige ich Ihnen Schritt für Schritt, wie Sie die Wiederherstellung und Migration virtueller Maschinen konfigurieren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4k/kx/em/4kkxemo-9jxqvjabniwduqdopny.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispielsweise:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurieren Sie die VM-Wiederherstellung vom NORD-Standort zum OST-Standort. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir werden eine virtuelle Maschine von St. Petersburg nach Moskau migrieren.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/j1/mq/_t/j1mq_ttcvp2tq_kdqj6su5ssvq8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/k9/r3/op/k9r3oprhy_ujbb9d6qrtljge7di.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispielsweise haben wir in vCloud Director drei Ressourcenpools für drei Standorte erstellt: zwei in Moskau und einen in St. Petersburg. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktionsweise von vCAV</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Für virtuelle Maschinen, für die Sie die Migration oder DR organisieren müssen, ist die Replikation auf den Sicherungsstandort konfiguriert. Wenn es Probleme mit der Hauptwebsite gibt, startet der Client das Replikat selbstständig und wechselt zu dieser. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VCAV führt die Replikation auf Softwareebene und nicht auf Hardwarereplikation aus, wie dies bei anderen DR-Lösungen der Fall ist, z. B. bei der klassischen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">katastrophensicheren</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloud. Der Kunde verwaltet den Prozess jedoch vollständig und ist zu einem günstigeren Preis günstiger (Reservekapazitäten werden nach dem PAYG-Modell berechnet). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei DR und Migration müssen Sie sich vorab um die Organisation des Netzwerkteils auf dem Sicherungsstandort kümmern. Ich schrieb über die wichtigsten Möglichkeiten, eine Verbindung zur Cloud herzustellen</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier. </font></font><br>
</a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurieren von DR zwischen verschiedenen Standorten derselben Cloud</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In diesem Beispiel konfigurieren wir DR am OST-Standort für eine virtuelle Maschine in NORD. </font><font style="vertical-align: inherit;">In diesem Fall haben wir an jedem Standort eine Organisation mit separaten Ressourcenpools.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wechseln Sie im vCloud Director-Menü zu vCAV.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hr/nh/ry/hrnhryn_rbzkfb_fefoujsbxu3a.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir gelangen zur vCAV-Hauptseite, die grundlegende Informationen zum Status des Replikats enthält. </font><font style="vertical-align: inherit;">Wechseln Sie zur Registerkarte Ausgehende Replikationen - zur Cloud.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ul/qo/kx/ulqokxyz49eifqe16vpiuzjvz-a.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie einen Replikationsjob von NORD nach OST. </font><font style="vertical-align: inherit;">Wählen Sie vApp oder VM. </font><font style="vertical-align: inherit;">Klicken Sie auf Neuer Schutz.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qm/ds/qh/qmdsqhrg-bj1sxzj7mf8m7mpiqc.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Am NORD-Standort wählen wir eine virtuelle Maschine aus, für die wir die Replikation konfigurieren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kl/8a/w3/kl8aw3dt6f0vvvddg_rpobkxs2w.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir wählen den Standort aus, an dem die ausgewählte virtuelle Maschine repliziert werden soll. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p0/ql/nq/p0qlnqmbxzyhh8xrwtjrfnytnam.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir wählen einen Ressourcenpool auf einer Reserveseite aus. </font><font style="vertical-align: inherit;">In unserem Fall ist dies OST.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xm/3u/8j/xm3u8jf8wprflli5ocalq0y-nne.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurieren Sie die Sicherheitseinstellungen:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPO </font><font style="vertical-align: inherit;">Die minimale verfügbare RPO beträgt 5 Minuten.</font></font></li>
<li> Storage Policy.         ,     .       , :     SSD,    – SATA.</li>
<li> Retention policy.      .    24  .</li>
<li> Enable quiesce.           .</li>
<li> Advanced.   -         .</li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/wk/sw/7y/wksw7yqtaf993mjwiryq-psswi0.jpeg"><br>
<br>
</li>
<li>   Finish.<br>
<br>
<img src="https://habrastorage.org/webt/r0/nd/xy/r0ndxynwwjadvvifdzq_gwcnuxg.jpeg"><br>
<br>
</li>
<li>      .   Replication state     . <br>
<br>
<img src="https://habrastorage.org/webt/qe/gt/na/qegtnawou6kodjt4tktzslutkp4.jpeg"><br>
<br>
</li>
<li>  ,    .  Failover.<br>
 <br>
<img src="https://habrastorage.org/webt/a2/kh/rg/a2khrg-gyn1jbrkhbmgnq3ess0e.jpeg"><br>
<br>
</li>
<li>   :<br>
<ul>
<li>     – Consolidate VM disks;</li>
<li>   vApps – Power on recovered vApps;</li>
<li>    – Connect all VMs to network.</li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/pu/zj/e-/puzje-54mojekgoccsnzpr2pfbe.jpeg"><br>
<br>
</li>
<li>  . <br>
<br>
<img src="https://habrastorage.org/webt/bz/me/wp/bzmewpctdb2-vr6za3jl0nqwsda.jpeg"><br>
<br>
</li>
<li>   Finish.<br>
<br>
<img src="https://habrastorage.org/webt/-v/ng/25/-vng25kysraqmdd28fby8cuzgbm.jpeg"><br>
<br>
</li>
<li>     OST. ,   .<br>
<br>
<img src="https://habrastorage.org/webt/al/xv/pb/alxvpbdepx6vxmaezysa4r7nmwm.jpeg"><br>
<br>
</li>
<li>        ,   Failover  Reverse.<br>
<br>
<img src="https://habrastorage.org/webt/71/x5/dr/71x5dru-akfuw4okoemsu9xk-8e.jpeg"><br>
<br>
</li>
<li>       OST  NORD.    NORD  .<br>
<br>
<img src="https://habrastorage.org/webt/az/os/3q/azos3q9oshp58womy6thll3ysom.jpeg"><br>
<br>
</li>
<li> ,    OST,   – NORD.<br>
<br>
<img src="https://habrastorage.org/webt/d6/5r/v_/d65rv_2ph05biph0ephsi-bhhlu.jpeg"><br>
<br>
</li>
<li>  ,   Test Failover. <br>
<br>
<img src="https://habrastorage.org/webt/sh/_h/7t/sh_h7twol4qwjrjdywsajauqy4o.jpeg"><br>
<br>
</li>
<li>          OST. <br>
<br>
<img src="https://habrastorage.org/webt/dj/dn/aq/djdnaqapfme6ixxpuuayh4o63sg.jpeg"><br>
<br>
</li>
<li> ,    ,  Test Cleanup.       .<br>
<br>
<img src="https://habrastorage.org/webt/lv/nc/bn/lvncbnqu5nwiucbt0rcerycodom.jpeg"><br>
<br>
</li>
<li>    .<br>
<br>
<img src="https://habrastorage.org/webt/gh/4j/hg/gh4jhgk0t3qlqqrbw7uiiqlxo78.jpeg"><br>
<br>
</li>
</ol><br>
<h3>     </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt migrieren wir die virtuelle Maschine vom Standort Moskau nach St. Petersburg.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klicken Sie dazu in der vCAV-Oberfläche auf Neue Migration.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pp/1x/wh/pp1xwhvssgnnrctf3xz5kbep5gk.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir wählen VM in OST aus, das an den Standort in St. Petersburg verlegt wird.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/m8/tc/2a/m8tc2am6zhn2sb5xv7exuxfe_x0.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wählen Sie eine Wolke in St. Petersburg.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tz/qp/x5/tzqpx51r9fzgtdy3ne859owenpq.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wählen Sie den Ressourcenpool aus.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8g/js/7h/8gjs7hp9f9wxci0k6esjchputpm.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wählen Sie den Festplattentyp.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/um/r3/j4/umr3j4tacf_zczd2mxzvj6ngcig.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir überprüfen die Einstellungen und klicken auf Fertig stellen.</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/64/zo/ar/64zoarckqsil2xrrnas4wrojz0q.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Aufgabe ist fertig. </font><font style="vertical-align: inherit;">Klicken Sie auf Migrieren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ij/vx/u4/ijvxu4ojelp-gc3uds1rd6lhg60.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir markieren die erforderlichen Optionen. </font><font style="vertical-align: inherit;">Alles ist das gleiche wie beim Einrichten von DR. </font><font style="vertical-align: inherit;">Das einzige ist, dass die virtuellen Maschinen, die wir migrieren, nach einem erfolgreichen Umzug deaktiviert werden.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/3k/-m/nw3k-mhpabmodlxyaj8m23xlrhe.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klicken Sie auf Fertig stellen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5m/zm/2y/5mzm2yowq5mhhuawv2hyb8tbz04.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Migrationsprozess hat begonnen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_a/er/0h/_aer0h0d0riadgrnuho4fhgczew.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach Abschluss der Migration wird unsere VM in der Cloud von St. Petersburg angezeigt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8g/rr/8n/8grr8nzpohu0zqp_4hn2llrruwi.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Am OST-Standort verbleibt die heruntergefahrene VM.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/99/hq/dh/99hqdhmur7uq_k4qzd3lbzupvfe.jpeg"><br>
</li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles. </font><font style="vertical-align: inherit;">Im nächsten Teil werden wir uns mit der DR-Konfiguration und der Migration von lokalen Client-Standorten in die Cloud des Anbieters befassen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490138/index.html">Die Verwendung von R bei der Aktualisierung von Registrierkassensoftware</a></li>
<li><a href="../de490140/index.html">Wie wir an der Qualität und Geschwindigkeit der Auswahl von Empfehlungen arbeiten</a></li>
<li><a href="../de490142/index.html">AnalogBytes-Konferenz: Abschnitt 1, Technologische Grundlagen der Demokratie</a></li>
<li><a href="../de490152/index.html">Brad Templeton: Wie ich die Zukunft von Roboterfahrzeugen sehe</a></li>
<li><a href="../de490154/index.html">Genetik des Ursprungs. Haplogruppen</a></li>
<li><a href="../de490158/index.html">Anzahl der Roboterfahrzeuge: 3 Billionen Meilen, 50 Milliarden Stunden, 8% des BIP</a></li>
<li><a href="../de490160/index.html">Wie sieht ein Netzwerk mit PRP-Redundanz in WireShark aus?</a></li>
<li><a href="../de490162/index.html">Die Macken der Evolution: die Entdeckung eines Organismus, der ohne Sauerstoff lebt</a></li>
<li><a href="../de494800/index.html">Reverse Engineering des chinesischen USB-IR-Transceiver-Protokolls</a></li>
<li><a href="../de494804/index.html">"Entschuldigung, ich habe erkannt ..." oder Himbeeren und Controller mithilfe der Tensorflow-Objekterkennungs-API erkannt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>