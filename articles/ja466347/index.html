<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📅 💚 ⛹🏻 Cisco 200-125 CCNA v3.0のトレーニング。34日目。高度なVLANの概念 🙀 ☯️ 🏇🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ビデオレッスン11、12、13ですでにVLANを調べましたが、今日はICND2に従ってVLANの調査を続けます。数か月前、ICND1試験の準備が終了した前のビデオを録画しました。今日まで、今日までずっと忙しかったです。多くの方がこの試験に合格していると思います。テストを延期した方は、コースの後半が終...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco 200-125 CCNA v3.0のトレーニング。34日目。高度なVLANの概念</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466347/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビデオレッスン11、12、13ですでにVLANを調べましたが、今日はICND2に従ってVLANの調査を続けます。数か月前、ICND1試験の準備が終了した前のビデオを録画しました。今日まで、今日までずっと忙しかったです。多くの方がこの試験に合格していると思います。テストを延期した方は、コースの後半が終了するまで待って、CCNA 200-125総合試験に合格することができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日のビデオチュートリアル「34日目」では、ICND2コースのトピックを開始します。多くの人から、なぜOSPFとEIGRPを考慮しなかったのかと聞かれます。実際のところ、これらのプロトコルはICND1コースの主題には含まれておらず、ICND2の合格に向けて検討されています。本日から、コースの後半のトピックのカバーを開始し、もちろん、OSPFとEIGRPのパンクチャについて学習します。今日のトピックを始める前に、ビデオチュートリアルの構成についてお話します。 ICND1のトピックを提示するとき、私はこの方法が理解しやすいと思ったので、受け入れられたパターンに固執するのではなく、単に論理的に資料を説明しました。さて、ICND2を勉強しながら、学生からの依頼で、シスココースのカリキュラムとカリキュラムに沿ったトレーニング資料の提出を始めます。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会社のWebサイトにアクセスすると、この計画と、コース全体が5つの主要部分に分かれていることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -LANスイッチングテクノロジ（トレーニング資料の26％）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -ルーティングテクノロジー（29％）; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -グローバルネットワークのテクノロジ（16％）; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -インフラストラクチャサービス（14％）; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -インフラストラクチャのメンテナンス（15％）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のパートから始めます。右側のドロップダウンメニューをクリックすると、このセクションの詳細なトピックが表示されます。本日のビデオチュートリアルでは、セクション1.1：「複数のスイッチをカバーするVLAN（通常/拡張範囲）の構成、チェック、トラブルシューティング」と、サブセクション1.1a「アクセスポート（データおよび音声メッセージ）」および1.1.b「デフォルトVLAN」のトピックを取り上げます。 。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、同じプレゼンテーションの原則を順守するように努めます。つまり、各ビデオレッスンはサブセクションを含む1つのセクションに専念し、十分な資料がない場合は、1つのレッスンで複数のセクションのトピックを結合します（例：1.2と1.3）。セクションの素材が多い場合は、2つの動画に分割します。いずれの場合も、コースプログラムに従い、ノートのコンプライアンスを現在のシスコのカリキュラムと簡単に比較できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gf/8t/xi/gf8txihrpqmsxirruzcwp60ukyy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面に新しいデスクトップが表示されます。Windows10です。さまざまなウィジェットでデスクトップを改善したい場合は、「Pimp Your Desktop」と呼ばれる私のビデオを見ることができます。ここでは、コンピュータのデスクトップを自分に合わせてカスタマイズする方法を説明しますニーズ。私はこの種のビデオを別のチャンネルExplainWorldに投稿しているので、右上隅のリンクを使用してその内容を見ることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レッスンを開始する前に、私の動画を共有して好きになることを忘れないようにお願いします。また、ソーシャルネットワーク上の連絡先と個人用ページへのリンクについてもお知らせします。メールでご連絡いただければ、すでに申し上げましたように、当サイトで寄付をいただいた方を優先的にお返事させていただきます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
寄付を行わない場合でも問題ありません。コメントはYouTubeチャンネルのビデオチュートリアルに残していただければ、可能な限り対応させていただきます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、今日、シスコのスケジュールに従って、3つの質問を検討します。デフォルトVLANまたはデフォルトVLANをネイティブVLANまたは「ネイティブ」VLANと比較し、標準VLAN（通常のVLAN範囲）が拡張VLANの拡張範囲とどのように異なるかを確認します。データVLAN（音声VLAN）と音声VLAN（音声VLAN）の違いを考慮してください。既に述べたように、この問題は前のシリーズですでに調査しましたが、表面的なものであるため、多くの学生はまだVLANタイプの違いを判別することが困難です。今日はみんなにわかるように説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトVLANとネイティブVLANの違いを考慮してください。工場出荷時の設定の真新しいシスコスイッチを使用する場合、5つのVLAN-VLAN1、VLAN1002、VLAN1003、VLAN1004およびVLAN1005があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dh/fy/wr/dhfywrp5tnzv-llpnb_29ddkcye.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLAN1はすべてのシスコデバイスのデフォルトVLANであり、VLAN 1002-1005はトークンリングおよびFDDI用に予約されています。 VLAN1の削除や名前の変更、インターフェースの追加はできません。また、デフォルトですべてのスイッチポートは、別の方法で構成するまでこのネットワークに属しています。デフォルトでは、すべてのスイッチはVLAN1の一部であるため、相互に通信できます。これが「デフォルトVLAN」またはデフォルトVLANの意味です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチSW1の設定に入り、VLAN20ネットワークに2つのインターフェイスを割り当てると、それらはVLAN20ネットワークの一部になります。</font><font style="vertical-align: inherit;">今日このレッスンを始める前に、上記の11.12および13日のシリーズを復習することを強くお勧めします。VLANとは何か、およびそれらがどのように機能するかについては繰り返しません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9t/5q/wd/9t5qwdilbgqukollbgyqbawaosa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成するまでは、VLAN20ネットワークにインターフェイスを自動的に割り当てることができないので、まずスイッチのグローバル構成モードに切り替えて、VLAN20を作成する必要があることを思い出してください。</font><font style="vertical-align: inherit;">CLI設定コンソールを見て、私の意味を理解できます。</font><font style="vertical-align: inherit;">これら2つのポートをVLAN20で動作するように割り当てた後、PC1とPC2はどちらも同じVLAN20ネットワークに属するため、相互に通信できます。</font><font style="vertical-align: inherit;">ただし、PC3は引き続きVLAN1の一部であるため、VLAN20上のコンピューターに接続できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つ目のスイッチSW2があり、そのインターフェイスの1つがVLAN20で動作するように割り当てられており、PC5がこのポートに接続されています。この接続方式では、PC5はPC4およびPC6と通信できませんが、これら2つのコンピューターは同じVLAN1ネットワークに属しているため、相互に通信できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
両方のスイッチは、適切に構成されたポートを介してトランクで接続されます。ここでは繰り返しませんが、スイッチのすべてのポートがデフォルトでDTPトランキングモードに設定されているとだけ言います。コンピュータをあるポートに接続すると、このポートはアクセスモードを使用します。 PC3が接続されているポートをこのモードに切り替える場合は、switchport mode accessコマンドを入力する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、2つのスイッチを相互に接続すると、それらがトランクを形成します。 SW1の上の2つのポートはVLAN20のトラフィックのみを通過させ、下のポートはVLAN1のトラフィックのみを通過させますが、トランク接続はスイッチを通過するすべてのトラフィックを通過させます。したがって、VLAN1とVLAN20の両方がSW2へのトラフィックを受信します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存じのように、VLANにはローカルな意味があります。したがって、SW2は、PC4からポートVLAN1に到着するトラフィックは、VLAN1にも属するポートを介してのみPC6に送信できることを認識しています。ただし、1つのスイッチがトランク上の別のスイッチにトラフィックを送信するときは、メカニズムを使用して、2番目のスイッチにどのようなトラフィックであるかを説明する必要があります。そのようなメカニズムとして、ネイティブVLANが使用されます。これは、トランクポートに接続され、タグ付きトラフィックをそれ自体に渡します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/1h/cv/wq1hcvgu4akcve0bkbgfczwvree.jpeg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">\</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでに述べたように、スイッチには変更の対象とならないネットワークが1つだけあります。これがデフォルトのネットワークVLAN1です。ただし、デフォルトでは、ネイティブVLANはVLAN1です。ネイティブVLANとは何ですか？これは、タグなしのトラフィックをVLAN1に渡すネットワークですが、他のネットワークからのトラフィックがトランクポート（この場合はVLAN20）に到達するとすぐに、必ずタグが付けられます。各フレームには、DA宛先アドレス、SA送信元アドレス、およびVLAN IDを含むVLANタグがあります。私たちの場合、この識別子は、このトラフィックがVLAN20に属していることを示しているため、VLAN20ポート経由でのみ送信でき、PC5に送信されます。ネイティブVLANは、トラフィックにタグを付けるかどうかを決定すると言えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、すべてのポートがVLAN1をネイティブVLANとして使用してタグなしトラフィックを送信するため、VLAN1はデフォルトでネイティブVLANであることに注意してください。ただし、この場合、デフォルトVLANはVLAN1のみであり、変更できない唯一のネットワークです。スイッチがタグ付けされていないフレームをトランクポートで受信すると、それらは自動的にネイティブVLANに割り当てられます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
簡単に言うと、Ciscoスイッチでは、任意のVLANをネイティブVLAN（VLAN20など）として使用でき、VLAN1のみをデフォルトVLANとして使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、問題がある可能性があります。最初のネイティブVLANスイッチのトランクポートをVLAN20に変更すると、ポートは「これはネイティブVLANなので、トラフィックにタグを付ける必要がない」と考え、トランク上の2番目のスイッチにタグなしVLAN20ネットワークトラフィックを送信します。このトラフィックを受信したSW2スイッチは、次のようになります。「優れた、このトラフィックにはタグがありません。私の設定によると、私のネイティブVLANはVLAN1なので、このタグなしのトラフィックをVLAN1経由で送信する必要があります。したがって、SW2はPC5によって設計されていますが、受信したトラフィックをPC4とPC-6にのみ転送します。 VLANトラフィックが混在するため、セキュリティ上の大きな問題が発生します。そのため、両方のトランクポートで常に同じネイティブVLANを構成する必要があります。つまり、SW1トランクポートのネイティブVLANがVLAN20の場合、同じVLAN20をSW2トランクポートのネイティブVLANとして設定する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがネイティブVLANとデフォルトVLANの違いであり、トランク内のすべてのネイティブVLANが一致する必要があることを覚えておく必要があります（翻訳者注：ネイティブVLANとしてVLAN1以外のネットワークを使用することをお勧めします）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチの観点から見てみましょう。スイッチに移動してshow vlan briefコマンドを入力すると、スイッチのすべてのポートがデフォルトVLAN1に接続されていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/p4/qa/udp4qajq-idpiqi-yfedmxrjnhq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、さらに4つのVLANを示します。1002、1003、1004、および1005。これはデフォルトVLANでもあり、指定からこれを確認できます。これらは、トークンリングとFDDIなどの特定のネットワーク用に予約されているため、デフォルトのネットワークです。ご覧のとおり、アクティブな状態にありますが、サポートされていません。前述の標準のネットワークがスイッチに接続されていないためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLAN 1はデフォルトのネットワークであるため、デフォルトの指定は変更できません。デフォルトでは、すべてのスイッチポートがこのネットワークに属しているため、すべてのスイッチはデフォルトで互いに通信できます。つまり、追加のポート設定は必要ありません。スイッチを別のネットワークに接続する場合は、グローバル設定モードに入り、このネットワーク（VLAN20など）を作成します。 [Enter]を押すと、作成されたネットワークの設定に移動し、管理などの名前を付けて、設定を終了できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでshow vlan briefコマンドを使用すると、どのスイッチポートにも対応していない新しいVLAN20ネットワークがあることがわかります。このネットワークに特定のポートを割り当てるには、インターフェイスを選択する必要があります。たとえば、int e0 / 1は、このポートの設定に移動し、switchport mode accessおよびswitchport access vlan20コマンドを入力します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ux/js/1g/uxjs1g2ielcc68fq-g7arfpagqg.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムにVLANのステータスを表示するように要求すると、イーサネットポート0/1が管理ネットワーク宛てであることがわかります。つまり、デフォルトでVLAN1に割り当てられているポートエリアから、ここで自動的に移動されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/u5/8s/dw/u58sdwfhwjugts_hdivsewmshcu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各アクセスポートはデータVLANを1つしか持つことができないため、同時に2つのVLANを処理することはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ネイティブVLANを確認します。 show int trunkコマンドを使用して、Ethernet0 / 0ポートがトランク専用であることを確認します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/aa/ie/kb/aaiekbrxahjixlxiz01wiohoecc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DTPプロトコルがこのインターフェイスをトランキングに自動的に割り当てたため、わざわざこれを行う必要はありませんでした。ポートは望ましいモード、n-islカプセル化、ポート状態はトランキング、ネットワークはネイティブVLAN1です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、トランキングに有効なVLAN番号1〜4094の範囲であり、VLAN1およびVLAN20が機能していることを示しています。次に、グローバル構成モードに入り、コマンドint e0 / 0を入力します。これにより、このインターフェイスの設定に移動します。 switchport mode trunkコマンドを使用して、このポートをトランクモードで動作するように手動でプログラムしようとしましたが、システムはコマンドを受け入れず、次のように応答しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、最初にトランクのカプセル化タイプを設定する必要があります。これには、switchport trunk encapsulationコマンドを使用します。システムは、このコマンドの可能なパラメータを使用してヒントを発行しました</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。dot1q —トランキング中に、ポートは802.1q標準トランクのカプセル化を使用します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
isl-トランキング中、ポートは独自仕様のCisco ISLプロトコルのみのトランキングのカプセル化を使用します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
negotiate-デバイスは、このポートに接続された任意のデバイスでトランクをカプセル化します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e2/io/u4/e2iou4bay4urppu8dbobl3hks-0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランクの両端で、同じタイプのカプセル化を選択する必要があります。ほとんどすべてのネットワークデバイスがこの標準をサポートしているため、デフォルトでは、アウトオブボックススイッチはdot1qトランキングのみをサポートしています。スイッチポートトランクカプセル化dot1qコマンドを使用して、この標準に従ってトランキングをカプセル化するようにインターフェイスをプログラムし、以前に拒否されたスイッチポートモードトランクコマンドを使用します。これで、ポートがトランクモードにプログラムされました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランクが2つのCiscoスイッチで形成されている場合、デフォルトで独自のISLプロトコルが使用されます。 1つのスイッチがdot1qとISLをサポートし、2番目のスイッチがdot1qのみをサポートする場合、トランクは自動的にdot1qカプセル化モードになります。トランキングパラメータをもう一度見ると、Et0 / 0インターフェイストランキングのカプセル化モードがn-islから802.1qに変更されていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6y/qv/dj/6yqvdjnrhkxvlfoywt9sz6ffzlc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
show int e0 / 0 switchportコマンドを入力すると、このポートのすべてのステータスパラメータが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/my/qn/y5/myqny58kvkkxpruxizveoz0i6-q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、VLAN1がネイティブトランキングのネイティブVLANであり、ネイティブVLANトラフィックタギングモードが可能であることがわかります。次に、int e0 / 0コマンドを使用して、このインターフェイスの設定に移動し、switchport trunkと入力します。その後、システムがこのコマンドの可能なパラメーターのヒントを提供します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sb/s-/0h/sbs-0hvd554n5ofssmx9lpjqms0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
許可とは、ポートがトランクモードの場合、許可されるVLAN特性が設定されることを意味します。ポートがトランクモードの場合、カプセル化はトランクカプセル化をアクティブにします。ネイティブパラメータを使用します。つまり、トランクモードでは、ポートにネイティブの特性が設定され、switchport trunk native VLAN20コマンドを入力します。したがって、トランクモードでは、VLAN20が最初のスイッチSW1のこのポートのネイティブVLANになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLAN1をネイティブポートとして使用する別のスイッチSW2があります。これで、CDPプロトコルはトランクの両端でネイティブVLAN間に不一致があるというメッセージを表示することがわかります。最初のEthernet0 / 0スイッチのトランクポートはネイティブVLAN20を使用し、2番目のトランクポートはネイティブVLAN1を使用します。これは、ネイティブVLANとデフォルトVLANの違いを示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本的な拡張VLANの範囲から始めましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0m/-x/ew/0m-xewcwcpyl5hbh4lyb-dfcxtw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
長い間、シスコは1〜1005のVLAN番号の範囲しかサポートしていませんでしたが、トークンリングとFDDI VLANのデフォルトでは1002〜1005の範囲が予約されていました。これらのネットワークは通常のVLANと呼ばれていました。覚えていると思いますが、VLAN IDは12ビットのタグであり、番号を4096に設定できますが、互換性の理由から、シスコでは1005 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
までの</font><font style="vertical-align: inherit;">番号しか使用していません。</font><font style="vertical-align: inherit;">拡張VLANの範囲には、1006から4095までの番号が含まれています。 VTP v3をサポートする場合。 VTP v3と拡張VLAN範囲を使用する場合、VTP v1とv2のサポートを無効にする必要があります。これは、1番目と2番目のバージョンが1005より大きい番号のVLANで機能しないためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、古いスイッチに拡張VLANを使用する場合、VTPは「desable」状態である必要があり、VLAN用に手動で構成する必要があります。そうしないと、VLANデータベースは更新されません。 VTPで拡張VLANを使用する場合は、VTPの3番目のバージョンが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
show vtp statusコマンドを使用してVTPステータスを見てみましょう。スイッチはVTP v2モードで動作することがわかりますが、バージョン1および3をサポートすることは可能です。私はそれにドメイン名nwking.orgを割り当てました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、VTPサーバー管理モードが重要です。サポートされるVLANの最大数は1005であることがわかります。したがって、デフォルトでは、このスイッチは通常のVLAN範囲しかサポートしていないことがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vu/iw/7p/vuiw7pcessmfr7nm2gugrmnkcgc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、show vlan briefコマンドを入力すると、VLANデータベースの一部であるため、ここで言及されているVLAN20管理が表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1h/pu/lt/1hpultdvlklo-shjqvwlipr2yw8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、show runコマンドを使用して現在のデバイス構成を表示するように依頼すると、VLANはVLANデータベースにのみ含まれているため、VLANについての説明は表示されません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、vtp modeコマンドを使用して、VTPの動作モードを構成します。</font><font style="vertical-align: inherit;">古いモデルのスイッチには、このコマンドのパラメーターが3つしかありませんでした。クライアントはスイッチをクライアントモードに切り替え、サーバーはサーバーモードをオンにし、透過はスイッチを「透過」モードに切り替えます。</font><font style="vertical-align: inherit;">古いスイッチでVTPを完全に無効にすることは不可能であったため、このモードでは、VTPドメインに残っているスイッチは、VTPを介してポートに到着するVLANデータベースの更新の受け入れを停止しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいスイッチでは、VTPモードを完全に無効にできるoffパラメータが表示されました。 vtp mode transparentコマンドでデバイスを透過モードにして、現在の構成をもう一度見てみましょう。ご覧のとおり、VLAN20に関するエントリが追加されています。したがって、1〜1005の通常のVLAN範囲内にある番号のある種類のVLANを追加し、VTPが透過モードまたはオフモードの場合、内部VLANポリシーに従って、このネットワークは次のように追加されます。現在の構成と仮想ローカルエリアネットワークのデータベース。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLAN 3000を追加してみましょう。透過モードでは、現在の構成にも表示されていることがわかります。通常、拡張VLAN範囲からネットワークを追加する場合は、vtp version 3コマンドを使用する必要がありますご覧のとおり、現在の構成ではVLAN20とVLAN3000の両方が表示されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランスペアレントモードを終了し、vtp mode serverコマンドを使用してサーバーモードを有効にしてから、現在の構成をもう一度確認すると、VLANエントリが完全に消えていることがわかります。これは、すべてのVLAN情報がVLANデータベースにのみ保存され、透過VTPモードでのみ表示できるためです。 VTP v3モードをオンにしたので、show vtp statusコマンドを使用した後、サポートされるVLANの最大数が4096に増加していることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、VTP v1およびVTP v2データベースは、1〜1005の番号を持つ通常のVLANのみをサポートし、VTP v3データベースには、1〜4096の番号を持つ拡張VLANに関するレコードが含まれます。VTPトランスペアレントモードまたはVTPオフモードを使用する場合、情報o VLANが現在の構成に追加されます。拡張VLAN範囲を使用する場合、デバイスはVTP v3モードである必要があります。これが通常のVLANと高度なVLANの違いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、データのVLANと音声伝送のVLANを比較します。覚えているかと思いますが、各ポートは一度に1つのVLANにしか所属できないと述べました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rv/wq/on/rvwqonxzfeplodsmyi5bgqtg-p8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、多くの場合、IP電話と連携するようにポートを設定する必要があります。シスコには最新のCisco IP Phoneにスイッチが組み込まれているため、電話をケーブルで壁のコンセントに接続し、パッチコードをコンピュータに接続するだけです。問題は、電話ポートが接続されている壁のソケットに2つの異なるVLANがなければならないことでした。ビデオチュートリアルでは、トラフィックループを防ぐために何をする必要があるか、タグなしのトラフィックを許可する「ネイティブ」VLANの概念をどのように使用するかについて11日と12日間説明しましたが、これらはすべて回避策でした。この問題の最終的な解決策は、VLANをデータトラフィック用のネットワークと音声トラフィック用のネットワークに分割するという概念でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、すべての電話回線を1つの音声VLANに結合します。この図は、PC1とPC2が赤のVLAN20ネットワークに、PC3が緑のVLAN30ネットワークに属していても、それらに接続されているすべてのIP電話が同じ黄色のVLAN50音声ネットワークに属していることを示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、SW1スイッチの各ポートには、データ用と音声用の2つのVLANが同時にあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9h/du/7d/9hdu7dfuzpinp6sbgoacbgummqc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前述のように、アクセスVLANには常に1つのVLANがあり、同じポートに2つのVLANを持つことはできません。 switchport access vlan 10、switchport access vlan 20およびswitchport access vlan 50コマンドを同じインターフェイスに同時に適用することはできません。ただし、同じインターフェイスに対して、switchport access vlan 10コマンドとswitchport voice vlan 50コマンドの2つのコマンドを使用できます。したがって、IP電話にはスイッチが内蔵されているため、VLAN50音声トラフィックをカプセル化して送信し、同時にスイッチポートアクセスモードのスイッチSW1にVLAN20データトラフィックを送受信できます。このモードの構成方法を見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、VLAN50ネットワークを作成してから、イーサネット0/1インターフェイスの設定に移動し、スイッチポートモードアクセスにプログラムします。その後、switchport access vlan 10コマンドとswitchport voice vlan 50コマンドを順に入力します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランクに同じVLANモードを構成するのを忘れたので、Ethernet 0/0ポートの設定に移動して、switchport trunk native vlan 1コマンドを入力します。ここで、VLANパラメーターを表示するように求めますイーサネットポート0/1に、VLAN 50とVLAN20の両方のネットワークがあることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ma/dd/kn/maddknwilrnpzk59e1uxxywzqly.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、同じポートに2つのVLANがあることがわかった場合は、そのうちの1つが音声VLANであることを意味します。これをトランクにすることはできません。showint trunkコマンドを使用してトランクのパラメータを確認すると、デフォルトのネットワークVLAN1を含むすべてのVLANがトランクポートに含まれていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5x/yl/bx/5xylbx5wfteakw7gdblhb4ntzxq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的には、データネットワークと音声ネットワークを作成すると、これらの各ポートはハーフトランクのように動作します。一方のネットワークではトランクとして機能し、もう一方のネットワークではアクセスポートとして機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドshow int e0 / 1 switchportを入力すると、いくつかの特性が2つの動作モードに対応していることがわかります。静的アクセスとトランキングのカプセル化の両方があります。この場合、アクセスモードはVLAN 20管理データネットワークに対応し、同時にVLAN 50音声ネットワークがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wg/lg/-4/wglg-4ekqrkx2wpdqia6kb6lhts.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在の構成を見ると、このポートにアクセスVLAN 20ネットワークと音声VLAN 50ネットワークがあることもわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nh/c-/qc/nhc-qcqpvltq4tardvk4km2y-hk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、データVLANおよび音声VLAN。私が話したことすべてを理解していただければ幸いです。このビデオレッスンをもう一度確認してください。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Kk61XLgPeGg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？注文またはお友達にそれを推奨することで私たちをサポートしてください、私たちがあなたの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために発明したエントリーレベルのサーバーのユニークなアナログのHabrユーザーのための30％割引：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsの真実20ドルまたはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">オランダでは、</font></b></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199ドルから、インテルTetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV</font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2台</font></a></b><font style="vertical-align: inherit;">だけ持ってい</font><b><font style="vertical-align: inherit;">ます！</font></b><b><b><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></b></b><font style="vertical-align: inherit;">について読む</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja466335/index.html">8base機能を使用したSlackアプリケーションの作成</a></li>
<li><a href="../ja466337/index.html">あなたの機能は何色ですか？</a></li>
<li><a href="../ja466339/index.html">Microsoft SQL ServerでRを使用してGoogleアナリティクスからデータを取得する方法</a></li>
<li><a href="../ja466341/index.html">Cisco 200-125 CCNA v3.0のトレーニング。33日目。ICND1試験の準備</a></li>
<li><a href="../ja466345/index.html">配色を構築するウェーブ法</a></li>
<li><a href="../ja466349/index.html">15,000のオフラインストアでA / Bテストを実施する方法</a></li>
<li><a href="../ja466355/index.html">ワニは飛ぶが、低低（感情のないエクラノプレーンについてですが、余談があります）</a></li>
<li><a href="../ja466359/index.html">世界生態債務日と環境フットプリントが疑似科学的ナンセンスである理由</a></li>
<li><a href="../ja466361/index.html">コサックGICSP証明書の受信方法</a></li>
<li><a href="../ja466363/index.html">Slurm DevOps。最初の日。Git、CI / CD、IaCおよび緑の恐竜</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>