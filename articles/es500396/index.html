<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ü üéÖ üî™ Problemas de los sistemas de control de acceso aut√≥nomo: donde no esperaban üÜô ü§±üèº ü•™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buen d√≠a a todos. Comenzar√© con los antecedentes sobre lo que me impuls√≥ a realizar este estudio, pero primero le advertir√©: todas las acciones pr√°cti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Problemas de los sistemas de control de acceso aut√≥nomo: donde no esperaban</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500396/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buen d√≠a a todos. Comenzar√© con los antecedentes sobre lo que me impuls√≥ a realizar este estudio, pero primero le advertir√©: todas las acciones pr√°cticas se realizaron con el consentimiento de las estructuras de gobierno. Cualquier intento de utilizar este material para ingresar a un territorio cerrado sin derecho a estar all√≠ es un delito penal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo comenz√≥ con el hecho de que cuando estaba limpiando la mesa, accidentalmente puse la llave RFID en la entrada del lector NFC ACR122, lo que fue mi sorpresa cuando Windows reprodujo el sonido de detectar un nuevo dispositivo y el LED se puso verde. Hasta ahora, cre√≠a que estas teclas funcionan exclusivamente en el est√°ndar de proximidad.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ly/7t/yr/ly7tyrpzkzrzju1c25dwlmxyhts.jpeg" alt="imagen"></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Pero una vez que el lector lo vio, significa que la clave cumple con uno de los protocolos adem√°s del est√°ndar ISO 14443 (es comunicaci√≥n de campo cercano, 13.56 MHz). La limpieza se olvid√≥ de inmediato, ya que vi la oportunidad de deshacerme por completo del llavero y guardar la llave en la entrada del tel√©fono (el apartamento ha estado equipado durante mucho tiempo con una cerradura electr√≥nica). Al sembrar el estudio, descubr√≠ que debajo del pl√°stico est√° la etiqueta NFC Mifare 1k, el mismo modelo que en las insignias, insignias de empresas, tarjetas de transporte, etc. Los intentos de entrar en el contenido de los sectores al principio no tuvieron √©xito, pero cuando la clave a√∫n se pudo descifrar, result√≥ que solo se us√≥ el tercer sector y el UID del chip se duplic√≥ en √©l. Parec√≠a demasiado simple, y result√≥ que no habr√≠a ning√∫n art√≠culo si todo saliera exactamente como estaba previsto. As√≠ que obtuve los despojos clave, y no hay problemas,si necesita copiar la clave a otra. Pero la tarea era transferir la llave a un dispositivo m√≥vil, lo cual hice. Aqu√≠ es donde comenz√≥ la diversi√≥n, tenemos un tel√©fono,</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iPhone SE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS 13.4.5 Beta build 17F5044d instalado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y algunos componentes personalizados para el trabajo sin NFC. No me detendr√© en esto por algunas razones objetivas. </font><font style="vertical-align: inherit;">Si lo desea, todo lo siguiente se aplica al sistema Android, pero con algunas simplificaciones. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La lista de tareas a resolver:</font></font></b><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenga acceso a los contenidos de la clave.</font></font></b></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implemente la capacidad de emular un dispositivo clave.</font></font></b></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Si el primero era relativamente simple, el segundo ten√≠a problemas. La primera versi√≥n del emulador no funcion√≥. El problema se detect√≥ r√°pidamente, para dispositivos m√≥viles (iOS, Android) en modo de emulaci√≥n, el UID es din√°mico y, independientemente de lo que est√© conectado en la imagen, flota. La segunda versi√≥n (ejecutada como superusuario) fij√≥ r√≠gidamente el n√∫mero de serie en el seleccionado: la puerta se abri√≥. Sin embargo, quer√≠a hacer todo perfectamente, y al final arm√© una versi√≥n completa del emulador que podr√≠a abrir los volcados de Mifare y emularlos. Ceder a un impulso repentino, cambi√© las llaves de los sectores a arbitrarias, e intent√© abrir la puerta. Y ella ... </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°ABIERTA!</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Despu√©s de un tiempo, me di cuenta de que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cualquier</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puertas con esta cerradura, incluso aquellas en las que la llave original no encajaba. </font><font style="vertical-align: inherit;">En este sentido, form√© una nueva lista de tareas para realizar:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descubra qu√© controlador es responsable de trabajar con teclas</font></font></b> </li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comprenda si hay una conexi√≥n de red y una base com√∫n</font></font></b> </li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descubra por qu√© una clave pr√°cticamente ilegible se vuelve universal</font></font></b> </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de hablar con el ingeniero de la compa√±√≠a de gesti√≥n, descubr√≠ que los controladores simples Iron Logic z5r se usan sin conectarse a una red externa.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lector MF CP-Z2 y controlador IronLogic z5r</font></font></b>
                        <div class="spoiler_text">      :<br>
<br>
<img src="https://habrastorage.org/webt/tu/-t/c9/tu-tc9uc7txys8sxcyrwxgy0niu.jpeg" alt="image"><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como est√° claro desde aqu√≠, el sistema es completamente aut√≥nomo y extremadamente primitivo. </font><font style="vertical-align: inherit;">Al principio pens√© que el controlador est√° en el modo de aprendizaje; el significado es que lee la llave, la almacena en la memoria y abre la puerta; este modo se usa cuando necesita registrar todas las llaves, por ejemplo, al reemplazar la cerradura en un edificio de apartamentos. </font><font style="vertical-align: inherit;">Pero esta teor√≠a no se ha confirmado: este modo est√° desactivado por el software, el puente est√° en la posici√≥n de trabajo y, sin embargo, cuando activamos el dispositivo, vemos lo siguiente:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Captura de pantalla del proceso de emulaci√≥n en el dispositivo</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/fr/sw/fn/frswfn3yvw-xmuv9qr2qdnlml5y.jpeg" alt="image"><br>
‚Ä¶        .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, el problema radica en el software del controlador o del lector. </font><font style="vertical-align: inherit;">Verifiquemos el lector: funciona en modo iButton, por lo que conectaremos la placa de seguridad Bolid, tendremos la oportunidad de ver la salida del lector.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La placa se conectar√° m√°s tarde a trav√©s de RS232</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/15/_m/xk/15_mxkazcejs0gbucc_zjofmpsy.jpeg" alt="image"><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando el m√©todo de pruebas m√∫ltiples, descubrimos que el lector transmite el mismo c√≥digo en caso de falla de autorizaci√≥n: 1219191919 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La situaci√≥n comienza a aclararse, pero en este momento no entiendo por qu√© el controlador responde positivamente a este c√≥digo. Hay una suposici√≥n, que cuando llenaron la base, accidental o especialmente sac√≥ una tarjeta con otras claves de sector, el lector envi√≥ este c√≥digo y el controlador lo guard√≥. Desafortunadamente, no tengo un programador propietario de IronLogic para buscar en la base de datos de claves del controlador, pero espero haber logrado llamar la atenci√≥n sobre el hecho de que el problema existe. Una demostraci√≥n en video de trabajar con esta vulnerabilidad est√° disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PD: Contra la teor√≠a con una adici√≥n aleatoria est√° el hecho de que en el mismo centro de negocios en Krasnoyarsk tambi√©n logr√© abrir la puerta por el mismo m√©todo.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es500380/index.html">Procesamiento de datos personales de forma remota: riesgos y posibles consecuencias</a></li>
<li><a href="../es500382/index.html">Integraci√≥n API de Aviasales con Amazon Kinesis y simplicidad sin servidor</a></li>
<li><a href="../es500384/index.html">Pioneros de Pixar Studio recibieron el premio Turing y $ 1 mill√≥n</a></li>
<li><a href="../es500386/index.html">Adaptando su soluci√≥n comercial existente para SwiftUI. Parte 2</a></li>
<li><a href="../es500390/index.html">Modelos reales de localizaci√≥n ling√º√≠stica en el campo de la inform√°tica y las comunicaciones digitales. Parte 1</a></li>
<li><a href="../es500398/index.html">Marat√≥n remoto Semana 3: Procesos inoperantes</a></li>
<li><a href="../es500400/index.html">Recortar hilos: migrar de Puppet Enterprise a Ansible Tower. Parte 1</a></li>
<li><a href="../es500402/index.html">[Parte 1/2] Gu√≠a de FFmpeg y SDL o C√≥mo escribir un reproductor de video en menos de 1000 l√≠neas</a></li>
<li><a href="../es500404/index.html">C√≥mo hacer amigos Electron y Webix. Parte 2. Cree una aplicaci√≥n con su Vista</a></li>
<li><a href="../es500406/index.html">La historia de la primera par√°lisis de Internet: la maldici√≥n de la se√±al de ocupado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>