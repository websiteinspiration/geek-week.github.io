<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•¶ï¸ ğŸ˜­ ğŸ––ğŸ¾ Bagaimana kami menggunakan item2vec untuk merekomendasikan produk serupa â„ï¸ ğŸ§” ğŸ™ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai, nama saya Vasya Rubtsov, saya sedang mengembangkan sistem rekomendasi di Avito.
 

Tujuan utama ruang iklan adalah untuk membantu penjual menemuk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bagaimana kami menggunakan item2vec untuk merekomendasikan produk serupa</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/avito/blog/491942/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hai, nama saya Vasya Rubtsov, saya sedang mengembangkan sistem rekomendasi di Avito.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tujuan utama ruang iklan adalah untuk membantu penjual menemukan pembeli, dan pembeli yang mencari produk. Tidak seperti toko online, fakta penjualan terjadi di luar platform kami, dan kami tidak dapat melacaknya. Oleh karena itu, metrik utama bagi kami adalah "kontak" - ini adalah acara menekan tombol "show phone" pada kartu produk, atau awal dari dialog di messenger dengan penjual. Dari metrik ini kita mendapatkan "pembeli" - jumlah pengguna unik per hari yang melakukan setidaknya satu kontak.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dua produk utama yang ditangani oleh departemen rekomendasi Avito adalah rekomendasi pengguna di beranda atau user2item dan satu blok iklan serupa di kartu produk atau item2item. </font><font style="vertical-align: inherit;">Sepertiga dari semua tampilan iklan dan seperempat dari semua kontak berasal dari rekomendasi, sehingga mesin rujukan memainkan peran penting dalam Avito.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam artikel ini saya akan memberi tahu bagaimana kami meningkatkan rekomendasi item2item kami karena item2vec dan bagaimana hal ini memengaruhi rekomendasi user2item. </font></font></p><br>
<p><img src="https://habrastorage.org/webt/wo/rd/ex/wordexhsnoxxfshif6xlye2bwsq.png"></p><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seperti sebelumnya</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebelumnya, untuk mencari iklan serupa, kami menggunakan model linier pada fitur yang diperoleh untuk sepasang iklan: jumlah kata yang cocok dalam judul dan deskripsi iklan, lokasi yang cocok, parameter, kedekatan dengan geo. </font><font style="vertical-align: inherit;">Koefisien dalam model ini dipilih oleh bandit multi-bersenjata. </font><font style="vertical-align: inherit;">Kami mengatakan ini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam artikel terpisah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br>
<p>  &nbsp;   &nbsp;,      ,    . ,  &nbsp;  &nbsp;Â« wifi Â»  Â«SQ11Â»   ,      &nbsp;, ,   .   â€”  Â« &nbsp;Â», Â« &nbsp; Â», Â«-Â»  Â«  Â».        ,   &nbsp;     ,       .      Â«Â»   &nbsp;    &nbsp;  &nbsp;  ,   &nbsp;. </p><br>
<p>          ,  ,   &nbsp; .   &nbsp;     finn.no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Deep neural network marketplace recommenders in&nbsp;online experiments"</a>.</p><br>
<h2> item2vec</h2><br>
<p> item2vec  &nbsp;,     &nbsp; &nbsp;    ,       &nbsp; .</p><br>
<p>   &nbsp;, &nbsp;    .  &nbsp;       . </p><br>
<img width="600" src="https://habrastorage.org/webt/r7/jd/_m/r7jd_miv0k-k4yqkwsz9csepqvg.png"><br>
<p>  &nbsp;    &nbsp; , &nbsp;,       &nbsp;.    , &nbsp;     â€”     .     &nbsp; ,  ,   &nbsp; ,     &nbsp; ,  &nbsp; .     &nbsp;? &nbsp;    ,        &nbsp;:</p><br>
<img width="600" src="https://habrastorage.org/webt/gp/p6/ev/gpp6evultrh5hbj91apa_y-xuhm.png"><br>
<p>&nbsp; ,     0.6 Â± 0.1. &nbsp;    &nbsp;  &nbsp;    . </p><br>
<img width="400" src="https://habrastorage.org/webt/ei/kt/ep/eiktepkl9c5zdpncrdy8wjxccry.png"><br>
<p>   &nbsp;. &nbsp;,      , &nbsp;        . &nbsp;     ? </p><br>
<p>,        ,  &nbsp; â€”  ,   ,    &nbsp; .      ,     ,  &nbsp;    . &nbsp;       .     ,          .   ,  &nbsp;    &nbsp; &nbsp;,        &nbsp;, &nbsp; -.</p><br>
<h2 id="dannye-dlyanbspobucheniya"> &nbsp;</h2><br>
<p>&nbsp;      .   ,     ,       8&nbsp;. &nbsp;    &nbsp; 3&nbsp;. </p><br>
<p><img src="https://habrastorage.org/webt/dg/h8/xw/dgh8xwbezqp2il2nw9e4zurrqqy.jpeg"></p><br>
<p>  ,   ,     &nbsp; .  ,    &nbsp;desktop  &nbsp; .     ,   &nbsp;app â€” . </p><br>
<p> &nbsp;  540&nbsp;   180&nbsp; . </p><br>
<h2 id="neyronochka"></h2><br>
<p>&nbsp;       â€”  14&nbsp;.   ,   &nbsp;   , &nbsp; . , &nbsp; Â«Â»  Â«Â»    &nbsp;.    . &nbsp;    â€”     .</p><br>
<p>  &nbsp; &nbsp;  : </p><br>
<p><img src="https://habrastorage.org/webt/xm/9m/ic/xm9micpgmddgrfp3ppcehsymwpu.png"></p><br>
<p>   â€”      128- .</p><br>
<p>   â€”   , &nbsp;   embedding : , ,  ( &nbsp;,      )   ( &nbsp;).  &nbsp;title      embedding , &nbsp; â€” lstm.   â€” one-hot   .          &nbsp; â€”  . </p><br>
<p> title , ,     &nbsp;.    &nbsp;    ,    .   &nbsp; .   ,   â€” lstm  GRU     .      &nbsp; &nbsp;,   . </p><br>
<p>     . ,        &nbsp;.    â€”   &nbsp; .   ,    .      â€”  ,  .</p><br>
<p>&nbsp; â€”  .    &nbsp;,    &nbsp;-1 &nbsp;1.  ,    &nbsp;128,  &nbsp;   &nbsp;int8 &nbsp; .</p><br>
<p>&nbsp;    . ,    &nbsp;int8.</p><br>
<p>       GPU,              20 .           CPU  GPU   . </p><br>
<p> , &nbsp;    id&nbsp;  .     &nbsp;,        . </p><br>
<h2 id="obuchenie-modeli"> </h2><br>
<p>,          128- .<br>
     &nbsp; &nbsp;,  &nbsp;  .      &nbsp; :</p><br>
<p><strong> 1. </strong>    .</p><br>
<p><img src="https://habrastorage.org/webt/sa/bz/ea/sabzeapgogwap7wbcqrwaavjsea.png"></p><br>
<p><strong> 2. </strong> 4000&nbsp;  ( â€” ,    &nbsp; GPU) &nbsp; .       &nbsp; ,    &nbsp;  &nbsp;   ,    &nbsp;. </p><br>
<p><img src="https://habrastorage.org/webt/wf/-w/8w/wf-w8wowu5wmpyefv4xir17-b9e.png"></p><br>
<p><strong> 3. </strong>   ,       .<br>
   â€”   .  100&nbsp;  &nbsp;  ,   100&nbsp;    &nbsp; .</p><br>
<p><img src="https://habrastorage.org/webt/dw/sf/uh/dwsfuhp6m2gtauk_mczg83np1h8.png"></p><br>
<p><strong> 4. </strong>   â€” cross entropy loss â€”   .</p><br>
<p><img src="https://habrastorage.org/webt/pd/kk/nn/pdkknn9qrpvhfixeiueix7xg4wq.png"></p><br>
<p>&nbsp; ,    forward &nbsp;4001 ,  backward â€” &nbsp;101,   &nbsp;,   &nbsp;. </p><br>
<p>&nbsp;  &nbsp;   500&nbsp;000&nbsp;000 () Ã— 4&nbsp;000 ( ) Ã— 5 () = 10&nbsp;^&nbsp;13 .    2&nbsp;  4&nbsp;x&nbsp;Tesla P40.</p><br>
<p>         &nbsp; : </p><br>
<p><img src="https://habrastorage.org/webt/cf/2n/os/cf2noszqewcpkcw7v-rxtcla_u0.jpeg"></p><br>
<h2 id="validaciya"></h2><br>
<p>&nbsp;     :   7&nbsp; &nbsp; , 6&nbsp; &nbsp; ,     &nbsp; &nbsp;. ,       &nbsp;     ,       . &nbsp;   prec@8.</p><br>
<p><img src="https://habrastorage.org/webt/2m/8_/sa/2m8_sa5vvvqo55rjejrqyvp-u28.png"></p><br>
<h2 id="dobavlenie-kartinki"> </h2><br>
<p>     &nbsp; item2vec &nbsp; Â« Â». &nbsp;       &nbsp;AvitoNet. AvitoNet â€”  ,  &nbsp; .   &nbsp;   &nbsp;.  &nbsp;   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">&nbsp; -</a>. </p><br>
<p>&nbsp;    3&nbsp; &nbsp; 6&nbsp;. &nbsp;   &nbsp; â€” 62&nbsp;.   &nbsp;,     â€” 2048,       &nbsp; GPU,   &nbsp;CPU   .   :   &nbsp;,  &nbsp;   â€”  ,  3&nbsp;,     .   ,      .  &nbsp; ,  &nbsp;    ,   . Prec@8   &nbsp;0,4%,     ,  .</p><br>
<img width="600" src="https://habrastorage.org/webt/kd/cq/bv/kdcqbvqqobypnkj0blsxzh12_7a.png"><br>
<h2 id="primery-rekomendaciy"> </h2><br>
<p>  &nbsp; Â«   Â»:</p><br>
<p><img src="https://habrastorage.org/webt/1-/bv/cf/1-bvcfax9n7b0bartdcolnakfka.png"></p><br>
<p>  &nbsp; Â«&nbsp;/  /122â€”128  (6â€”8 )Â».      &nbsp; : </p><br>
<p><img src="https://habrastorage.org/webt/ec/l-/qh/ecl-qhudd7-pyjkfvtru2_kr2iu.png"></p><br>
<p>  &nbsp;  ,    , &nbsp;    Â«Â»  Â«Â». </p><br>
<p>&nbsp;item2vec   :</p><br>
<p><img src="https://habrastorage.org/webt/s1/4s/il/s14silneox-qsdl-lizs33wjjqe.png"></p><br>
<p>   Â«   Â». -,  -  &nbsp; Â«Â»  Â«Â». &nbsp;,      , &nbsp;   Â«Â».   ,    â€” ! </p><br>
<h2 id="inferens"></h2><br>
<p>   &nbsp; &nbsp;      top-n .  &nbsp;    Sphinx.           &nbsp; &nbsp;,    .   &nbsp;200ms&nbsp;(p99)   200K&nbsp;rpm. </p><br>
<h2 id="pohozhie-s-dostavkoy">  </h2><br>
<p>&nbsp;  &nbsp;    .   &nbsp;    &nbsp; -. &nbsp;      &nbsp;,    ,      - â€” ,   .     &nbsp; . </p><br>
<p>  &nbsp;       .</p><br>
<h2 id="uchyot-vremeni-zhizni-obyavleniy">   </h2><br>
<p>&nbsp;     ,     &nbsp;.    &nbsp;  :</p><br>
<p><code>sim(i, j) = &lt;v_i, v_j&gt; * (log(t_j + 1) ^ a_c)</code></p><br>
<p>   i  j â€”         ,      j&nbsp;(t_j&nbsp;=&nbsp;now&nbsp;-&nbsp;start_time_j). </p><br>
<p>   ,   ,   ,    &nbsp;,     .   &nbsp;   &nbsp; &nbsp;  . ,        c&nbsp;â€”&nbsp;a_c. , &nbsp;    0,  &nbsp;       .  ,      &nbsp;  â€” .  &nbsp;   .     &nbsp;,      ,     &nbsp; -  .   ,     .</p><br>
<h2 id="rezultaty"></h2><br>
<p>  ,      .<br>
    â€”    ,  &nbsp;   &nbsp;,   ,   . </p><br>
<p> &nbsp;item2vec  &nbsp;30%  &nbsp;, &nbsp;20%  &nbsp;       &nbsp;.</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id491924/index.html">PVS-Studio analyzer beta test # di Linux dan macOS</a></li>
<li><a href="../id491926/index.html">Pengembangan aplikasi mobile lintas platform pada tahun 2020</a></li>
<li><a href="../id491934/index.html">Profil psikologis investor saham: cara kerjanya</a></li>
<li><a href="../id491936/index.html">Tentang cara bakteri memakan zat besi dan menghilangkan pigmen berkualitas tinggi dari tempat pembuangan buatan manusia</a></li>
<li><a href="../id491938/index.html">5 alat desainer game untuk membantu game Anda</a></li>
<li><a href="../id491944/index.html">Cara menggabungkan dua platform menjadi satu dan tidak menyinggung pengguna. Pengalaman Pengembang Yandex.Kew</a></li>
<li><a href="../id491946/index.html">Hukum pemrograman</a></li>
<li><a href="../id491948/index.html">Token desain dapat berbuat lebih banyak: membuat satu sumber informasi tentang komponen UI</a></li>
<li><a href="../id491956/index.html">Rilis Rust 1.42.0: template slice dan pesan panik yang lebih nyaman</a></li>
<li><a href="../id491958/index.html">Panduan Kompresi Animasi Kerangka</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>