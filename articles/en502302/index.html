<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚖️ 👨🏾‍🔧 🚁 Testing JavaScript code with Jest for dummies. Part 1 🤷🏼 🙆🏼 😂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr! This guide is the first part in a planned series of articles about such a great testing framework like Jest. The material will be useful ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Testing JavaScript code with Jest for dummies. Part 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502302/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello, Habr! </font><font style="vertical-align: inherit;">This guide is the first part in a planned series of articles about such a great testing framework like Jest. </font><font style="vertical-align: inherit;">The material will be useful for beginners and those who are just getting acquainted with testing, and would like to study this framework. </font><font style="vertical-align: inherit;">In the first part we will analyze: how to get started with jest, how to write a simple test, and what methods are there for comparing the values ​​to be checked against the expected ones. </font><font style="vertical-align: inherit;">Who cares - welcome to kat!</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is Jest?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As indicated on the project home page:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jest is an amazing JavaScript testing environment with a focus on simplicity.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And indeed, Jest is very simple. </font><font style="vertical-align: inherit;">It does not require additional settings, easy to understand and use, and also has pretty good documentation. </font><font style="vertical-align: inherit;">Great for projects using Node, React, Angular, Vue, Babel, TypeScript and more. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is also open source and supported by Facebook.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To install Jest in your project, do:</font></font><br>
<br>
<pre><code class="bash hljs">npm install --save-dev jest</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you are using yarn:</font></font><br>
<br>
<pre><code class="bash hljs">yarn add --dev jest</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After installation, you can update the scripts section of your package.json:</font></font><br>
<br>
<pre><code class="json hljs">“scripts” : {<font></font>
     “test”: “jest”<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With this simple call, we can already run our tests (in fact, jest will require at least one test to exist). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also install globally (but I would not recommend doing this, since for me the global installation of modules is bad practice):</font></font><br>
<br>
<pre><code class="bash hljs">npm install jest --global</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And accordingly for yarn:</font></font><br>
<br>
<pre><code class="bash hljs">yarn global add jest</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After that, you can use jest directly from the command line. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By calling the jest --init command in the root of the project, after answering a few questions, you will get the jest.config.js settings file. </font><font style="vertical-align: inherit;">Or you can add the configuration directly to your package.json. </font><font style="vertical-align: inherit;">To do this, add the "jest" key to the json root and in the corresponding object you can add the settings you need. </font><font style="vertical-align: inherit;">We will analyze the options themselves later. </font><font style="vertical-align: inherit;">This is not necessary at this stage, since jest can be used immediately, without additional configurations.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First test</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's create the first.test.js file and write our first test:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//first.test.js</span>
test(<span class="hljs-string">'My first test'</span>, () =&gt; {<font></font>
    expect(<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>)).toBe(<span class="hljs-number">10</span>);<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And run our tests using npm run test or directly with the jest command (if installed globally). </font><font style="vertical-align: inherit;">After launch, we will see a report on passing the tests.</font></font><br>
<br>
<pre><code class="plaintext hljs"> &lt;b&gt;PASS&lt;/b&gt;  ./first.test.js<font></font>
  ✓ My first test (1 ms)<font></font>
<font></font>
Test Suites: 1 passed, 1 total<font></font>
Tests:       1 passed, 1 total<font></font>
Snapshots:   0 total<font></font>
Time:        0.618 s, estimated 1 s<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's break our test and run jest again:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//first.test.js</span>
test(<span class="hljs-string">'My first test'</span>, () =&gt; {<font></font>
    expect(<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>)).toBe(<span class="hljs-number">5</span>);<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As we can see, now our test does not pass the test. Jest displays detailed information about where the problem occurred, what the expected result was, and what we got instead. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now let's analyze the code of the test itself. </font><i><font style="vertical-align: inherit;">Test</font></i><font style="vertical-align: inherit;"> function</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">used to create a new test. It takes three arguments (in the example we used a call with two arguments). The first is a line with the name of the test, its jest will display in the report. The second is a function that contains the logic of our test. You can also use the 3rd argument - timeout. It is optional, and its default value is 5 seconds. It is set in milliseconds. This parameter is necessary when we work with asynchronous code and return a promise from the test function. It indicates how long jest must wait for the promise to resolve. After this time, if the promise was not allowed - jest will consider the test failed. More information about working with asynchronous calls will be in the following parts. Alternatively, </font><font style="vertical-align: inherit;">you can use </font><i><font style="vertical-align: inherit;">it ()</font></i><font style="vertical-align: inherit;"> instead of </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test </font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">().</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. There is no difference between such calls. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is just an alias on the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inside the test function, we first call </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expect ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . To him we pass the value we want to check. In our case, this is the result of calling </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Math.max (1, 5, 10)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">expect ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> returns a wrapper object that has a number of methods for comparing the resulting value with the expected one. One of these methods we used is </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toBe</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's look at the main of these methods:</font></font><br>
<br>
<ul>
<li><b>toBe()</b> — ,                ,     .     <i>Object.is()</i>.    ===     0  -0,   NaN c NaN.</li>
<li><b>toEqual()</b> — ,        .        .    .       .<br>
<br>
<pre><code class="javascript hljs">test(<span class="hljs-string">'toEqual with objects'</span>, () =&gt; {<font></font>
    expect({ <span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>, <span class="hljs-attr">subObject</span>: { <span class="hljs-attr">baz</span>: <span class="hljs-string">'baz'</span> } })<font></font>
        .toEqual({ <span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>, <span class="hljs-attr">subObject</span>: { <span class="hljs-attr">baz</span>: <span class="hljs-string">'baz'</span> } });  <span class="hljs-comment">// </span>
    expect({ <span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>, <span class="hljs-attr">subObject</span>: { <span class="hljs-attr">num</span>: <span class="hljs-number">0</span> } })<font></font>
        .toEqual({ <span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>, <span class="hljs-attr">subObject</span>: { <span class="hljs-attr">baz</span>: <span class="hljs-string">'baz'</span> } });  <span class="hljs-comment">//    .</span><font></font>
});<font></font>
<font></font>
test(<span class="hljs-string">'toEqual with arrays'</span>, () =&gt; {<font></font>
    expect([<span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">5</span>]).toEqual([<span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">5</span>]); <span class="hljs-comment">// </span>
    expect([<span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">5</span>]).toEqual([<span class="hljs-number">11</span>, <span class="hljs-number">19</span>]); <span class="hljs-comment">// </span><font></font>
});<font></font>
</code></pre><br>
</li>
<li><b>toContain()</b> —       .     ===.<br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'orange'</span>, <span class="hljs-string">'banana'</span>];<font></font>
expect(arr).toContain(<span class="hljs-string">'banana'</span>);<font></font>
expect(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(arr)).toContain(<span class="hljs-string">'banana'</span>);<font></font>
expect(<span class="hljs-string">'apple, orange, banana'</span>).toContain(<span class="hljs-string">'banana'</span>);
</code></pre><br>
</li>
<li><b>toContainEqual()</b> —        .<br>
<br>
<pre><code class="javascript hljs">expect([{<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>}, {<span class="hljs-attr">b</span>: <span class="hljs-number">2</span>}]).toContainEqual({<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>});
</code></pre><br>
</li>
<li><b>toHaveLength()</b> —    length    .<br>
<br>
<pre><code class="javascript hljs">expect([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]).toHaveLength(<span class="hljs-number">4</span>);<font></font>
expect(<span class="hljs-string">'foo'</span>).toHaveLength(<span class="hljs-number">3</span>);<font></font>
expect({ <span class="hljs-attr">length</span>: <span class="hljs-number">1</span> }).toHaveLength(<span class="hljs-number">1</span>);
</code></pre><br>
</li>
<li><b>toBeNull()</b> —     null.</li>
<li><b>toBeUndefined()</b> —     undefined.</li>
<li><b>toBeDefined()</b> — <i> toBeUndefined</i>.    !== undefined.</li>
<li><b>toBeTruthy()</b> —        true.     false, null, undefined, 0, NaN   .</li>
<li><b>toBeFalsy()</b> —  <i>toBeTruthy()</i>.        false.</li>
<li><b>toBeGreaterThan()</b>  <b>toBeGreaterThanOrEqual()</b> —        ,   &gt;,       &gt;=.</li>
<li><b>toBeLessThan()</b>  <b>toBeLessThanOrEqual()</b> —  <i>toBeGreaterThan()</i>  <i>toBeGreaterThanOrEqual()</i></li>
<li><b>toBeCloseTo()</b> —       ,         ,        .             .<br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> num = <span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span>; <span class="hljs-comment">// 0.30000000000000004</span>
expect(num).toBeCloseTo(<span class="hljs-number">0.3</span>);<font></font>
expect(<span class="hljs-built_in">Math</span>.PI).toBeCloseTo(<span class="hljs-number">3.14</span>, <span class="hljs-number">2</span>);
</code></pre><br>
</li>
<li><b>toMatch()</b> —     .<br>
<br>
<pre><code class="javascript hljs">expect(<span class="hljs-string">'Banana'</span>).toMatch(<span class="hljs-regexp">/Ba/</span>);
</code></pre><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toThrow ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - used when it is necessary to check the exception. </font><font style="vertical-align: inherit;">You can check the fact of the error itself, or check for throwing exceptions of a certain class, either by the error message, or by the correspondence of the message to the regular expression.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">funcWithError</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'some error'</span>);<font></font>
}   <font></font>
expect(funcWithError).toThrow();<font></font>
expect(funcWithError).toThrow(<span class="hljs-built_in">Error</span>);<font></font>
expect(funcWithError).toThrow(<span class="hljs-string">'some error'</span>);<font></font>
expect(funcWithError).toThrow(<span class="hljs-regexp">/some/</span>);
</code></pre><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">not</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - this property allows you to check for Inequality. </font><font style="vertical-align: inherit;">It provides an object that has all the methods listed above, but they will work the other way around.</font></font><br>
<br>
<pre><code class="javascript hljs">expect(<span class="hljs-literal">true</span>).not.toBe(<span class="hljs-literal">false</span>);<font></font>
expect({ <span class="hljs-attr">foo</span>: <span class="hljs-string">'bar'</span> }).not.toEqual({});<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">funcWithoutError</span>(<span class="hljs-params"></span>) </span>{}<font></font>
expect(funcWithoutError).not.toThrow();<font></font>
</code></pre></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's write a couple of simple tests. </font><font style="vertical-align: inherit;">First, create a simple module that will contain several methods for working with circles.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// src/circle.js</span>
<span class="hljs-keyword">const</span> area = <span class="hljs-function">(<span class="hljs-params">radius</span>) =&gt;</span> <span class="hljs-built_in">Math</span>.PI * radius ** <span class="hljs-number">2</span>;
<span class="hljs-keyword">const</span> circumference = <span class="hljs-function">(<span class="hljs-params">radius</span>) =&gt;</span> <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.PI * radius;
<span class="hljs-built_in">module</span>.exports = { area, circumference };
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, add the tests:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// tests/circle.test.js</span>
<span class="hljs-keyword">const</span> circle = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../src/circle'</span>);<font></font>
<font></font>
test(<span class="hljs-string">'Circle area'</span>, () =&gt; {<font></font>
    expect(circle.area(<span class="hljs-number">5</span>)).toBeCloseTo(<span class="hljs-number">78.54</span>);<font></font>
    expect(circle.area()).toBeNaN();<font></font>
});<font></font>
<font></font>
test(<span class="hljs-string">'Circumference'</span>, () =&gt; {<font></font>
    expect(circle.circumference(<span class="hljs-number">11</span>)).toBeCloseTo(<span class="hljs-number">69.1</span>, <span class="hljs-number">1</span>);<font></font>
    expect(circle.circumference()).toBeNaN();<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In these tests, we checked the result of 2 methods - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">area</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">circumference</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Using the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toBeCloseTo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> method </font><i><font style="vertical-align: inherit;">,</font></i><font style="vertical-align: inherit;"> we checked the expected result. </font><font style="vertical-align: inherit;">In the first case, we checked or the calculated area of ​​the circle with a radius of 5 is approximately equal to 78.54, while the difference with the obtained value (it will be 78.53981633974483) is not large and the test will be counted. </font><font style="vertical-align: inherit;">In the second, we indicated that we are interested in checking to within 1 decimal place. </font><font style="vertical-align: inherit;">We also called our methods with no arguments and checked the result using </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toBeNaN</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Since the result of their execution will be NaN, then the tests will be passed successfully. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's take another example. </font><font style="vertical-align: inherit;">Let's create a function that will filter an array of products by price:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// src/productFilter.js</span>
<span class="hljs-keyword">const</span> byPriceRange = <span class="hljs-function">(<span class="hljs-params">products, min, max</span>) =&gt;</span>
         products.filter(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.price &gt;= min &amp;&amp; item.price &lt;= max);
<span class="hljs-built_in">module</span>.exports = { byPriceRange };
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And add a test:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// tests/product.test.js</span>
<span class="hljs-keyword">const</span> productFilter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../src/producFilter'</span>);<font></font>
<font></font>
<span class="hljs-keyword">const</span> products = [<font></font>
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'onion'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">12</span> },<font></font>
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'tomato'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">26</span> },<font></font>
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'banana'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">29</span> },<font></font>
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'orange'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">38</span> }<font></font>
];<font></font>
<font></font>
test(<span class="hljs-string">'Test product filter by range'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> FROM = <span class="hljs-number">15</span>;
    <span class="hljs-keyword">const</span> TO = <span class="hljs-number">30</span>;
    <span class="hljs-keyword">const</span> filteredProducts = productFilter.byPriceRange(products, FROM, TO);<font></font>
<font></font>
    expect(filteredProducts).toHaveLength(<span class="hljs-number">2</span>);<font></font>
    expect(filteredProducts).toContainEqual({ <span class="hljs-attr">name</span>: <span class="hljs-string">'tomato'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">26</span> });<font></font>
    expect(filteredProducts).toEqual([{ <span class="hljs-attr">name</span>: <span class="hljs-string">'tomato'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">26</span> }, { <span class="hljs-attr">name</span>: <span class="hljs-string">'banana'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">29</span> }]);<font></font>
    expect(filteredProducts[<span class="hljs-number">0</span>].price).toBeGreaterThanOrEqual(FROM);<font></font>
    expect(filteredProducts[<span class="hljs-number">1</span>].price).toBeLessThanOrEqual(TO);<font></font>
    expect(filteredProducts).not.toContainEqual({ <span class="hljs-attr">name</span>: <span class="hljs-string">'orange'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">38</span> });<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this test, we will check the result of the byRangePrice </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . First, we checked the correspondence of the length of the resulting array to the expected one - 2. The next check requires that the element contain the element - {name: 'tomato', price: 26}. The object in the array and the object passed </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toContainEqual</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> are two different objects, not a reference to the same one. But </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toContainEqual will</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> compare each property. Since both objects are identical, the verification will be successful. Next, we use </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toEqual</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to check the structure of the entire array and its elements. The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toBeGreaterThanOrEqual</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toBeLessThanOrEqual methods</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> will help us check the price of the first and second element of the array. And finally, calling </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">not.toContainEqual</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will check if the element is contained in the array - {name: 'orange', price: 38}, which, by condition, should not be there. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In these examples, we wrote some simple tests using the verification functions described above. </font><font style="vertical-align: inherit;">In the following parts, we will discuss work with asynchronous code, the jest functions that were not covered in this part of the tutorial, we will talk about its configuration, and much more.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en502278/index.html">How to not edit Python tests</a></li>
<li><a href="../en502286/index.html">Fire robots</a></li>
<li><a href="../en502292/index.html">We write an autotest using Selenium Webdriver, Java 8 and the Page Object pattern</a></li>
<li><a href="../en502298/index.html">Cumulative Flow Chart (CFD) as an indicator of the health of your project</a></li>
<li><a href="../en502300/index.html">JavaScript projects for learning and development</a></li>
<li><a href="../en502306/index.html">From the history of “non-standard” satellite broadcasting</a></li>
<li><a href="../en502308/index.html">What keeps the stock market from a large-scale fall and what does the technology company have to do with it?</a></li>
<li><a href="../en502312/index.html">Visual and instrument flight rules</a></li>
<li><a href="../en502316/index.html">FCC opens 6 GHz band for wireless networks - why not everyone thinks it's a good idea</a></li>
<li><a href="../en502318/index.html">Smart sequins</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>