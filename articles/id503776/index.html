<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😂 🙋🏽 🔰 Efek dari menghidupkan halaman realistis di JS 👨🏾‍🚀 🙏🏼 😃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya sajikan untuk perhatian Anda - salah satu opsi yang mungkin untuk menerapkan trik yang agak lucu untuk menciptakan efek pergantian halaman yang r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Efek dari menghidupkan halaman realistis di JS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503776/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya sajikan untuk perhatian Anda - salah satu opsi yang mungkin untuk menerapkan trik yang agak lucu untuk menciptakan efek pergantian halaman yang realistis. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dl/_o/zc/dl_ozc-qvg-odenna9cutcw9f38.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo dan dokumentasi </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">.</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Saya menerapkan efek yang sama untuk waktu yang lama, kembali ke universitas dan di Delphi. Ternyata cukup layak, meskipun saya menghabiskan banyak waktu saat itu. Sekarang - selama masa isolasi diri, menjadi menarik untuk mengimplementasikan sesuatu yang serupa pada JS, untuk PC dan perangkat seluler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terus terang, saya tidak yakin tentang penerapan praktis dari efek ini, dan saya pikir dalam banyak kasus - tidak ada yang lebih baik daripada perubahan gambar sederhana tanpa animasi apa pun. Tetapi sangat mungkin untuk menggunakan, katakanlah di situs restoran, untuk menerbitkan menu (tetapi yang paling penting - itu akan digandakan di sebelah tautan!).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya ditulis dalam naskah. </font><font style="vertical-align: inherit;">Tidak ada perpustakaan pihak ketiga yang digunakan. </font><font style="vertical-align: inherit;">Tidak ada ketergantungan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fitur perpustakaan utama </font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja baik dengan gambar sederhana, dengan rendering di atas kanvas, dan dengan blok html - menggunakan transformasi css</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistem konfigurasi yang cukup fleksibel dan API sederhana </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mendukung perangkat seluler </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientasi otomatis berubah antara mode potret dan lansekap </font></font></li>
</ul><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode ditulis dengan mata hanya pada ES6 +, dan sistem modular juga ES6. </font><font style="vertical-align: inherit;">Dukungan browser rata-rata 90% berdasarkan caniuse.com.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalasi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instalasi dimungkinkan dari npm:</font></font><br>
<br>
<pre><code class="bash hljs">npm install page-flip</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atau, unduh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file yang dikumpulkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari repositori. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pilihan inisialisasi pustaka dasar mungkin seperti ini:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"book"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-page"</span>&gt;</span><font></font>
        Page one<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-page"</span>&gt;</span><font></font>
        Page two<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-page"</span>&gt;</span><font></font>
        Page three<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-page"</span>&gt;</span><font></font>
        Page four<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> {PageFlip} <span class="hljs-keyword">from</span> <span class="hljs-string">'page-flip'</span>;
<span class="hljs-keyword">const</span> pageFlip = <span class="hljs-keyword">new</span> PageFlip(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'book'</span>),<font></font>
    {<font></font>
        <span class="hljs-attr">width</span>: <span class="hljs-number">400</span>, <span class="hljs-comment">// required parameter - base page width</span>
        <span class="hljs-attr">height</span>: <span class="hljs-number">600</span>  <span class="hljs-comment">// required parameter - base page height</span><font></font>
    }<font></font>
);<font></font>
<font></font>
pageFlip.loadFromHTML(<span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.my-page'</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deskripsi dan spesifikasi API yang lebih terperinci dapat ditemukan di tautan di atas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya ingin berbicara tentang beberapa masalah dan nuansa yang saya temui selama pengembangan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhitungan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal pertama yang harus dibicarakan adalah model matematika. Pada prinsipnya, semua perhitungannya cukup sepele, tetapi saya butuh banyak waktu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas utama yang perlu dipecahkan adalah menentukan sudut transformasi dari halaman balik. Mari kita lihat gambar berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bb/t5/u1/bbt5u1xl5ubzrwvhykk8_hvzjdc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Titik "A" menunjukkan titik sentuh saat ini di buku. Berdasarkan posisi titik ini - perlu untuk melakukan perhitungan lebih lanjut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menentukan sudut - perlu untuk menghitung dua nilai - jarak dari titik A ke batas atas dan kanan buku. Pada gambar di bawah, masing-masing ditunjukkan oleh T dan L. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vn/pq/u7/vnpqu73x5gvoiing6x0nwmb6uxg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
G adalah diagonal sudut, dapat dihitung dengan teorema Pythagoras.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai hasilnya, untuk menghitung rotasi gambar, Anda dapat menggunakan rumus berikut: angle = - 2 * acos (L / G), dan yang paling penting, jangan lupa bahwa titik transformasi dalam kasus ini adalah sudut kiri atas halaman. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menghitung sudut - bagian yang paling memakan waktu tetap ada - ini menghitung visibilitas halaman. Apa yang seharusnya tampaknya perlu untuk pergi, dan sisanya, masing-masing - untuk memangkas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, Anda perlu menemukan titik persimpangan halaman untuk dibalik dengan batas buku. Dalam gambar mereka ditunjukkan oleh poin B dan C. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5v/40/6-/5v406-trmhzb6ojcg2pt-adimli.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya melakukan ini dengan cara yang paling sederhana dan paling sederhana - di dahi. Dia membangun persamaan garis dengan dua titik, dan kemudian mencari titik persimpangan mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menemukan semua titik persimpangan, kami menentukan simpul area visibilitas - dan pada titik-titik ini kami sudah memotong halaman yang akan dibalik.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tl/im/lf/tlimlfrs-_wa5hdfsjcuzonqujo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada dasarnya, semua matematika di sini bermuara pada dua hal:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perhitungan sudut transformasi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perhitungan visibilitas halaman</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Shading sudah berdasarkan perhitungan yang dibuat sebelumnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita beralih ke beberapa poin yang harus kita hadapi selama implementasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algoritma umum cukup sederhana dan turun ke halaman balik dan memotong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal kanvas dan gambar sederhana, semuanya cukup sederhana. </font><font style="vertical-align: inherit;">Setelah melakukan perhitungan, metode konteks kanvas 2d seperti menerjemahkan, memutar, dan klip digunakan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan blok html sedikit lebih rumit. </font><font style="vertical-align: inherit;">Dan jika tidak ada masalah dengan rotasi - berkat transformasi css, maka dengan memotong semuanya ternyata menjadi sedikit lebih buruk.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, cara termudah adalah dengan menggunakan clip-path dan properti css pada gambar - poligon. Tetapi sebelum mengatur simpul poligon untuk tanam, perlu untuk mengubah koordinat titik dari kanvas "global" - menjadi titik lokal, relatif terhadap elemen html. Ini diselesaikan dengan aplikasi kebalikan dari matriks rotasi, dengan pergeseran relatif ke posisi elemen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah lain adalah penskalaan dan penentuan posisi otomatis buku. Saya mencoba untuk menyelesaikan ini dengan objek konfigurasi, yang dilewatkan selama pembuatan. Tetapi pada akhirnya, ada beberapa parameter, dan ternyata tidak cukup nyaman dan tidak jelas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya pertama kali menggunakan Webpack untuk perakitan, tetapi pada akhirnya saya memutuskan untuk mencoba rollup.js, dan sangat terkejut dengan kode terakhir. </font><font style="vertical-align: inherit;">Webpack masih tetap ada, karena menangani perakitan dengan cepat beberapa kali lebih cepat, dan lebih nyaman selama pengembangan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan senang mendengar komentar dan saran untuk pengembangan perpustakaan lebih lanjut.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id503760/index.html">Serangan cyber Coronavirus: semua garam dalam rekayasa sosial</a></li>
<li><a href="../id503766/index.html">Arsitektur jaringan saraf baru - EfficientDet</a></li>
<li><a href="../id503768/index.html">Minggu Keamanan 22: ransomware di mesin virtual</a></li>
<li><a href="../id503772/index.html">Bagaimana cara mengamankan situs web Anda?</a></li>
<li><a href="../id503774/index.html">Habru - 14 tahun</a></li>
<li><a href="../id503778/index.html">Resensi Buku: Golden Krishna. “Antarmuka yang bagus - antarmuka yang tidak terlihat”</a></li>
<li><a href="../id503782/index.html">Bagaimana cara membuat tabel interaktif dengan permukaan kerja dalam bentuk lingkaran?</a></li>
<li><a href="../id503786/index.html">Representasi digital dari audio analog. Program pendidikan singkat</a></li>
<li><a href="../id503788/index.html">Email dinamis :: keamanan</a></li>
<li><a href="../id503790/index.html">Permutasi. kelas 9. Tugas paritas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>