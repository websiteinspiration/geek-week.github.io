<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎴 ❇️ 👩🏿‍💼 ジュリアNLP。テキストを処理します 🏂🏼 👨🏻‍💻 🍂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="自然言語でのテキストの分析と処理は常に解決されており、解決されており、利用可能なすべての方法で解決される予定です。今日は、この問題を解決するためのソリューションツール、つまりジュリア言語についてお話ししたいと思います。もちろん、言語が若いため、たとえばJava言語のような、Stanford Core...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ジュリアNLP。テキストを処理します</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475922/"><p><img src="https://habrastorage.org/webt/xe/e4/uw/xee4uwgjba6dylvtphbi2jvconu.png"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自然言語でのテキストの分析と処理は常に解決されており、解決されており、利用可能なすべての方法で解決される予定です。今日は、この問題を解決するためのソリューションツール、つまりジュリア言語についてお話ししたいと思います。もちろん、言語が若いため、たとえばJava言語のような、Stanford CoreNLP、Apache OpenNLP、GATEなどの分析ツールは開発されていません。ただし、すでに開発されたライブラリでさえ、一般的な問題の解決に使用でき、ワープロの分野に関心のある学生のエントリーポイントとして推奨できます。また、Juliaの構文の単純さとその高度な数学ツールにより、テキストのクラスタリングと分類のタスクに簡単に没頭できます。</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事の目的は、ジュリアのワードプロセッシングツールを、その使用方法に関するいくつかの説明とともに復習することです。</font><font style="vertical-align: inherit;">NLPトピックに参加しているが、Juliaツールを正確に見たい人のための簡単なリストと、NLP（自然言語処理）領域に初めて没頭することを決めた人のためのより詳細な説明とアプリケーション例の間でバランスを取ります。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それでは、パッケージの概要に移りましょう。</font></font></p><br>
<h2 id="textanalysisjl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TextAnalysis.jl</font></font></h2><br>
<p><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TextAnalysis.jl</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パッケージ</font><font style="vertical-align: inherit;">は、典型的なテキスト処理関数の最小限のセットを実装する基本的なライブラリです。</font><font style="vertical-align: inherit;">私たちが始めるのは彼女と一緒です。</font><font style="vertical-align: inherit;">例は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分的に取ら</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">れています</font></a><font style="vertical-align: inherit;">。</font></font></p><br>
<h3 id="dokument"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資料</font></font></h3><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本エンティティはドキュメントです。 </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のタイプがサポートされています。</font></font></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FileDocument-ディスク上の単純なテキストファイルで表されるドキュメント</font></font></li>
</ul><br>
<pre><code class="julia hljs">julia&gt; pathname = <span class="hljs-string">"/usr/share/dict/words"</span>
<span class="hljs-string">"/usr/share/dict/words"</span><font></font>
<font></font>
julia&gt; fd = FileDocument(pathname)<font></font>
A FileDocument<font></font>
 * Language: Languages.English()<font></font>
 * Title: /usr/share/dict/words<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: A A's AMD AMD's AOL AOL's Aachen Aachen's Aaliyah</code></pre><br>
<ul>
<li>StringDocument — ,  UTF-8-     .  StringDocument     .</li>
</ul><br>
<pre><code class="julia hljs">julia&gt; str = <span class="hljs-string">"To be or not to be..."</span>
<span class="hljs-string">"To be or not to be..."</span><font></font>
<font></font>
julia&gt; sd = StringDocument(str)<font></font>
A StringDocument{<span class="hljs-built_in">String</span>}<font></font>
 * Language: Languages.English()<font></font>
 * Title: Untitled Document<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: To be or not to be...</code></pre><br>
<ul>
<li>TokenDocument — ,    UTF-8- ( ).  <code>TokenDocument</code>   ,         .</li>
</ul><br>
<pre><code class="julia hljs">julia&gt; my_tokens = <span class="hljs-built_in">String</span>[<span class="hljs-string">"To"</span>, <span class="hljs-string">"be"</span>, <span class="hljs-string">"or"</span>, <span class="hljs-string">"not"</span>, <span class="hljs-string">"to"</span>, <span class="hljs-string">"be..."</span>]
<span class="hljs-number">6</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">String</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-string">"To"</span>   
 <span class="hljs-string">"be"</span>   
 <span class="hljs-string">"or"</span>   
 <span class="hljs-string">"not"</span>  
 <span class="hljs-string">"to"</span>   
 <span class="hljs-string">"be..."</span><font></font>
<font></font>
julia&gt; td = TokenDocument(my_tokens)<font></font>
A TokenDocument{<span class="hljs-built_in">String</span>}<font></font>
 * Language: Languages.English()<font></font>
 * Title: Untitled Document<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: ***SAMPLE TEXT NOT AVAILABLE***</code></pre><br>
<ul>
<li>NGramDocument — ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">n-</a>  UTF8 ,     <code>n</code> UTF-8 ,    .              ,        . ,    —        ,     .</li>
</ul><br>
<pre><code class="julia hljs">julia&gt; my_ngrams = <span class="hljs-built_in">Dict</span>{<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Int</span>}(<span class="hljs-string">"To"</span> =&gt; <span class="hljs-number">1</span>, <span class="hljs-string">"be"</span> =&gt; <span class="hljs-number">2</span>,
                                    <span class="hljs-string">"or"</span> =&gt; <span class="hljs-number">1</span>, <span class="hljs-string">"not"</span> =&gt; <span class="hljs-number">1</span>,
                                    <span class="hljs-string">"to"</span> =&gt; <span class="hljs-number">1</span>, <span class="hljs-string">"be..."</span> =&gt; <span class="hljs-number">1</span>)
<span class="hljs-built_in">Dict</span>{<span class="hljs-built_in">String</span>,<span class="hljs-built_in">Int64</span>} with <span class="hljs-number">6</span> entries:
  <span class="hljs-string">"or"</span>    =&gt; <span class="hljs-number">1</span>
  <span class="hljs-string">"be..."</span> =&gt; <span class="hljs-number">1</span>
  <span class="hljs-string">"not"</span>   =&gt; <span class="hljs-number">1</span>
  <span class="hljs-string">"to"</span>    =&gt; <span class="hljs-number">1</span>
  <span class="hljs-string">"To"</span>    =&gt; <span class="hljs-number">1</span>
  <span class="hljs-string">"be"</span>    =&gt; <span class="hljs-number">2</span><font></font>
<font></font>
julia&gt; ngd = NGramDocument(my_ngrams)<font></font>
A NGramDocument{<span class="hljs-built_in">AbstractString</span>}<font></font>
 * Language: Languages.English()<font></font>
 * Title: Untitled Document<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: ***SAMPLE TEXT NOT AVAILABLE***</code></pre><br>
<p>  :</p><br>
<pre><code class="julia hljs">julia&gt; str = <span class="hljs-string">"To be or not to be..."</span>
<span class="hljs-string">"To be or not to be..."</span>
julia&gt; ngd = NGramDocument(str, <span class="hljs-number">2</span>)<font></font>
NGramDocument{<span class="hljs-built_in">AbstractString</span>}(<span class="hljs-built_in">Dict</span>{<span class="hljs-built_in">AbstractString</span>,<span class="hljs-built_in">Int64</span>}(<span class="hljs-string">"To be"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"or not"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"be or"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"or"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"not to"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"not"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"to be"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"to"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"To"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"be"</span> =&gt; <span class="hljs-number">2</span>…), <span class="hljs-number">2</span>,<font></font>
TextAnalysis.DocumentMetadata(<font></font>
Languages.English(),<font></font>
<span class="hljs-string">"Untitled Document"</span>,
<span class="hljs-string">"Unknown Author"</span>,
<span class="hljs-string">"Unknown Time"</span>))</code></pre><br>
<p>, ,        Document,      .</p><br>
<pre><code class="julia hljs">julia&gt; Document(<span class="hljs-string">"To be or not to be..."</span>)<font></font>
A StringDocument{<span class="hljs-built_in">String</span>}<font></font>
 * Language: Languages.English()<font></font>
 * Title: Untitled Document<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: To be or not to be...<font></font>
julia&gt; Document(<span class="hljs-string">"/usr/share/dict/words"</span>)<font></font>
A FileDocument<font></font>
 * Language: Languages.English()<font></font>
 * Title: /usr/share/dict/words<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: A A's AMD AMD's AOL AOL's Aachen Aachen's Aaliyah<font></font>
<font></font>
julia&gt; Document(<span class="hljs-built_in">String</span>[<span class="hljs-string">"To"</span>, <span class="hljs-string">"be"</span>, <span class="hljs-string">"or"</span>, <span class="hljs-string">"not"</span>, <span class="hljs-string">"to"</span>, <span class="hljs-string">"be..."</span>])<font></font>
A TokenDocument{<span class="hljs-built_in">String</span>}<font></font>
 * Language: Languages.English()<font></font>
 * Title: Untitled Document<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: ***SAMPLE TEXT NOT AVAILABLE***<font></font>
<font></font>
julia&gt; Document(<span class="hljs-built_in">Dict</span>{<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Int</span>}(<span class="hljs-string">"a"</span> =&gt; <span class="hljs-number">1</span>, <span class="hljs-string">"b"</span> =&gt; <span class="hljs-number">3</span>))<font></font>
A NGramDocument{<span class="hljs-built_in">AbstractString</span>}<font></font>
 * Language: Languages.English()<font></font>
 * Title: Untitled Document<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: ***SAMPLE TEXT NOT AVAILABLE***</code></pre><br>
<p> ,     /  .        <code>text(...)</code>:</p><br>
<pre><code class="julia hljs">julia&gt; td = TokenDocument(<span class="hljs-string">"To be or not to be..."</span>)<font></font>
TokenDocument{<span class="hljs-built_in">String</span>}([<span class="hljs-string">"To"</span>, <span class="hljs-string">"be"</span>, <span class="hljs-string">"or"</span>, <span class="hljs-string">"not"</span>, <span class="hljs-string">"to"</span>, <span class="hljs-string">"be"</span>],<font></font>
TextAnalysis.DocumentMetadata(<font></font>
Languages.English(),<font></font>
<span class="hljs-string">"Untitled Document"</span>,
<span class="hljs-string">"Unknown Author"</span>,
<span class="hljs-string">"Unknown Time"</span>))<font></font>
<font></font>
julia&gt; text(td)<font></font>
┌ Warning: TokenDocument's can only approximate the original text<font></font>
└ @ TextAnalysis ~/.julia/packages/TextAnalysis/pcFQf/src/document.jl:<span class="hljs-number">111</span>
<span class="hljs-string">"To be or not to be"</span><font></font>
<font></font>
julia&gt; tokens(td)<font></font>
<span class="hljs-number">6</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">String</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-string">"To"</span> 
 <span class="hljs-string">"be"</span> 
 <span class="hljs-string">"or"</span> 
 <span class="hljs-string">"not"</span>
 <span class="hljs-string">"to"</span> 
 <span class="hljs-string">"be"</span></code></pre><br>
<p>       . ,   <code>text(td)</code>    ,     ,  <code>TokenDocument</code>    .   <code>tokens(td)</code>     .</p><br>
<p>    :</p><br>
<pre><code class="julia hljs">julia&gt; StringDocument(<span class="hljs-string">"This document has too foo words"</span>)<font></font>
A StringDocument{<span class="hljs-built_in">String</span>}<font></font>
 * Language: Languages.English()<font></font>
 * Title: Untitled Document<font></font>
 * Author: Unknown Author<font></font>
 * Timestamp: Unknown Time<font></font>
 * Snippet: This document has too foo words<font></font>
<font></font>
julia&gt; language(sd)<font></font>
Languages.English()<font></font>
<font></font>
julia&gt; title(sd)<font></font>
<span class="hljs-string">"Untitled Document"</span><font></font>
<font></font>
julia&gt; author(sd)<font></font>
<span class="hljs-string">"Unknown Author"</span><font></font>
<font></font>
julia&gt; timestamp(sd)<font></font>
<span class="hljs-string">"Unknown Time"</span></code></pre><br>
<p>       .     Julia       Ruby. ,   ,   <code>!</code>:</p><br>
<pre><code class="julia hljs">julia&gt; <span class="hljs-keyword">using</span> TextAnalysis.Languages<font></font>
julia&gt; language!(sd, Languages.Russian())<font></font>
Languages.Russian ()<font></font>
<font></font>
julia&gt; title!(sd, <span class="hljs-string">""</span>)
<span class="hljs-string">""</span><font></font>
<font></font>
julia&gt; author!(sd, <span class="hljs-string">" .."</span>)
<span class="hljs-string">" .."</span><font></font>
<font></font>
julia&gt; <span class="hljs-keyword">import</span> Dates:now<font></font>
julia&gt; timestamp!(sd, string(now()))<font></font>
<span class="hljs-string">"2019-11-09T22:53:38.383"</span></code></pre><br>
<h3 id="osobennosti-strok-s-utf-8">   UTF-8</h3><br>
<p>Julia   UTF-8   ,          .   - , , .     ,    Julia —   ,   .         .     UNICODE-   .  . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Unicode-and-UTF-8</a>.     .     UNICODE-,   x  y :</p><br>
<pre><code class="julia hljs">julia&gt; s = <span class="hljs-string">"\u2200 x \u2203 y"</span>
<span class="hljs-string">"∀ x ∃ y"</span>
julia&gt; length(s) <span class="hljs-comment"># !</span>
<span class="hljs-number">7</span>
julia&gt; ncodeunits(s) <span class="hljs-comment"># !</span>
<span class="hljs-number">11</span>
</code></pre><br>
<p>   :</p><br>
<pre><code class="julia hljs">julia&gt; s[<span class="hljs-number">1</span>]
<span class="hljs-string">'∀'</span>: Unicode U+<span class="hljs-number">2200</span> (category Sm: <span class="hljs-built_in">Symbol</span>, math)<font></font>
<font></font>
julia&gt; s[<span class="hljs-number">2</span>]<font></font>
ERROR: StringIndexError(<span class="hljs-string">"∀ x ∃ y"</span>, <span class="hljs-number">2</span>)<font></font>
[...]<font></font>
<font></font>
julia&gt; s[<span class="hljs-number">3</span>]<font></font>
ERROR: StringIndexError(<span class="hljs-string">"∀ x ∃ y"</span>, <span class="hljs-number">3</span>)<font></font>
Stacktrace:<font></font>
[...]<font></font>
<font></font>
julia&gt; s[<span class="hljs-number">4</span>]
<span class="hljs-string">' '</span>: ASCII/Unicode U+<span class="hljs-number">0020</span> (category Zs: Separator, space)</code></pre><br>
<p>   ,   <code>1</code>    <code>∀</code>.       3 ,   .   4-   ,     . ,        ,    <code>prevind</code> (previous index), <code>nextind</code> (next index)  <code>thisind</code> (this index).     , ,   :</p><br>
<pre><code class="julia hljs">julia&gt; prevind(s, <span class="hljs-number">4</span>)
<span class="hljs-number">1</span></code></pre><br>
<p>  1    <code>∀</code>.</p><br>
<pre><code class="julia hljs">julia&gt; thisind(s, <span class="hljs-number">3</span>)
<span class="hljs-number">1</span></code></pre><br>
<p>  3      1.</p><br>
<p>    «»   ,         :<br>
1)   :</p><br>
<pre><code class="julia hljs">julia&gt; <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s<font></font>
           print(c)<font></font>
       <span class="hljs-keyword">end</span>
∀ x ∃ y</code></pre><br>
<p>2)    <code>eachindex</code>:</p><br>
<pre><code class="julia hljs">julia&gt; collect(eachindex(s))
<span class="hljs-number">7</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Int64</span>,<span class="hljs-number">1</span>}:
  <span class="hljs-number">1</span>
  <span class="hljs-number">4</span>
  <span class="hljs-number">5</span>
  <span class="hljs-number">6</span>
  <span class="hljs-number">7</span>
 <span class="hljs-number">10</span>
 <span class="hljs-number">11</span>
julia&gt; <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> eachindex(s)<font></font>
           print(s[i])<font></font>
       <span class="hljs-keyword">end</span>
∀ x ∃ y</code></pre><br>
<h3 id="predobrabotka-dokumentov"> </h3><br>
<p>      -  , ,  ,        .      <code>remove_corrupt_utf8!(sd)</code>.   ,  .</p><br>
<p>       TextAnalysis  <code>prepare!(...)</code>. ,     :</p><br>
<pre><code class="julia hljs">julia&gt; str = StringDocument(<span class="hljs-string">"here are some punctuations !!!..."</span>)<font></font>
<font></font>
julia&gt; prepare!(str, strip_punctuation)<font></font>
<font></font>
julia&gt; text(str)<font></font>
<span class="hljs-string">"here are some punctuations "</span></code></pre><br>
<p>,            ,        .  ,  ,  ,        ,   ,          .        .       <code>remove_case!()</code>.</p><br>
<pre><code class="julia hljs">julia&gt; sd = StringDocument(<span class="hljs-string">"Lear is mad"</span>)<font></font>
A StringDocument{<span class="hljs-built_in">String</span>}<font></font>
<font></font>
julia&gt; remove_case!(sd)<font></font>
<font></font>
julia&gt; text(sd)<font></font>
<span class="hljs-string">"lear is mad"</span></code></pre><br>
<p>    ,   ,           .        <code>remove_words!(…)</code>    -.</p><br>
<pre><code class="julia hljs">julia&gt; remove_words!(sd, [<span class="hljs-string">"lear"</span>])<font></font>
<font></font>
julia&gt; text(sd)<font></font>
<span class="hljs-string">" is mad"</span></code></pre><br>
<p> ,  ,    , , ,    -,      .       .      Languages.jl     ,     -,       ,   , ,  . ,   , ,      .</p><br>
<p>      :</p><br>
<ul>
<li><code>prepare!(sd, strip_articles)</code></li>
<li><code>prepare!(sd, strip_indefinite_articles)</code></li>
<li><code>prepare!(sd, strip_definite_articles)</code></li>
<li><code>prepare!(sd, strip_preposition)</code></li>
<li><code>prepare!(sd, strip_pronouns)</code></li>
<li><code>prepare!(sd, strip_stopwords)</code></li>
<li><code>prepare!(sd, strip_numbers)</code></li>
<li><code>prepare!(sd, strip_non_letters)</code></li>
<li><code>prepare!(sd, strip_spares_terms)</code></li>
<li><code>prepare!(sd, strip_frequent_terms)</code></li>
<li><code>prepare!(sd, strip_html_tags)</code></li>
</ul><br>
<p>  . ,    <code>prepare!</code>   ,    html — <code>prepare!(sd, strip_articles| strip_numbers| strip_html_tags)</code></p><br>
<p>    —   ,    .            .    ,       .     :</p><br>
<pre><code class="julia hljs">julia&gt; sd = StringDocument(<span class="hljs-string">"   "</span>)<font></font>
StringDocument{<span class="hljs-built_in">String</span>}(<span class="hljs-string">"   "</span>, TextAnalysis.DocumentMetadata(Languages.English(), <span class="hljs-string">"Untitled Document"</span>, <span class="hljs-string">"Unknown Author"</span>, <span class="hljs-string">"Unknown Time"</span>))<font></font>
<font></font>
julia&gt; language!(sd, Languages.Russian())<font></font>
Languages.Russian()<font></font>
<font></font>
julia&gt; stem!(sd)<font></font>
<font></font>
julia&gt; text(sd)<font></font>
<span class="hljs-string">"   "</span></code></pre><br>
<h3 id="korpus-dokumentov"> </h3><br>
<p>    ,      .  TextAnalysis    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">-</a>.    ,       .     :<br>
<code>D1 = "I like databases"</code><br>
<code>D2 = "I hate databases"</code></p><br>
<p>   :</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th>I</th>
<th>like</th>
<th>hate</th>
<th>databases</th>
</tr>
</thead>
<tbody>
<tr>
<td>D1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>D2</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table></div><br>
<p>   ,   —  ( ) . ,    0,   ()    .  1,     .        ( TF),          (TF-IDF).</p><br>
<p>       <code>Corpus()</code>:</p><br>
<pre><code class="julia hljs">crps = Corpus([StringDocument(<span class="hljs-string">"Document 1"</span>),<font></font>
               StringDocument(<span class="hljs-string">"Document 2"</span>)])</code></pre><br>
<p>    ,  :</p><br>
<pre><code class="julia hljs">julia&gt; lexicon(crps)
<span class="hljs-built_in">Dict</span>{<span class="hljs-built_in">String</span>,<span class="hljs-built_in">Int64</span>} with <span class="hljs-number">0</span> entries</code></pre><br>
<p>, ,     ,       <code>update_lexicon!(crps)</code>,    :</p><br>
<pre><code class="julia hljs">julia&gt; update_lexicon!(crps)<font></font>
<font></font>
julia&gt; lexicon(crps)<font></font>
<span class="hljs-built_in">Dict</span>{<span class="hljs-built_in">String</span>,<span class="hljs-built_in">Int64</span>} with <span class="hljs-number">3</span> entries:
  <span class="hljs-string">"1"</span>        =&gt; <span class="hljs-number">1</span>
  <span class="hljs-string">"2"</span>        =&gt; <span class="hljs-number">1</span>
  <span class="hljs-string">"Document"</span> =&gt; <span class="hljs-number">2</span></code></pre><br>
<p> ,      (  )       . </p><br>
<p> ,    , , «Document»:</p><br>
<pre><code class="julia hljs">julia&gt; lexical_frequency(crps, <span class="hljs-string">"Document"</span>)
<span class="hljs-number">0.5</span></code></pre><br>
<p>,    ,  ,        .      ,        ,   :</p><br>
<pre><code class="julia hljs">julia&gt; update_inverse_index!(crps)<font></font>
<font></font>
julia&gt; inverse_index(crps)<font></font>
<span class="hljs-built_in">Dict</span>{<span class="hljs-built_in">String</span>,<span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Int64</span>,<span class="hljs-number">1</span>}} with <span class="hljs-number">3</span> entries:
  <span class="hljs-string">"1"</span>        =&gt; [<span class="hljs-number">1</span>]
  <span class="hljs-string">"2"</span>        =&gt; [<span class="hljs-number">2</span>]
  <span class="hljs-string">"Document"</span> =&gt; [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]</code></pre><br>
<p>       ,        .     <code>prepare!</code>,  .     .</p><br>
<pre><code class="julia hljs">julia&gt; crps = Corpus([StringDocument(<span class="hljs-string">"Document ..!!"</span>),<font></font>
                          StringDocument(<span class="hljs-string">"Document ..!!"</span>)])<font></font>
<font></font>
julia&gt; prepare!(crps, strip_punctuation)<font></font>
<font></font>
julia&gt; text(crps[<span class="hljs-number">1</span>])
<span class="hljs-string">"Document "</span><font></font>
<font></font>
julia&gt; text(crps[<span class="hljs-number">2</span>])
<span class="hljs-string">"Document "</span></code></pre><br>
<p>     ,      .</p><br>
<pre><code class="julia hljs">julia&gt; crps = Corpus([StringDocument(<span class="hljs-string">"Name Foo"</span>),<font></font>
                                 StringDocument(<span class="hljs-string">"Name Bar"</span>)])<font></font>
<font></font>
julia&gt; languages(crps)<font></font>
<span class="hljs-number">2</span>-element <span class="hljs-built_in">Array</span>{Languages.English,<span class="hljs-number">1</span>}:<font></font>
 Languages.English()<font></font>
 Languages.English()<font></font>
<font></font>
julia&gt; titles(crps)<font></font>
<span class="hljs-number">2</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">String</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-string">"Untitled Document"</span>
 <span class="hljs-string">"Untitled Document"</span><font></font>
<font></font>
julia&gt; authors(crps)<font></font>
<span class="hljs-number">2</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">String</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-string">"Unknown Author"</span>
 <span class="hljs-string">"Unknown Author"</span><font></font>
<font></font>
julia&gt; timestamps(crps)<font></font>
<span class="hljs-number">2</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">String</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-string">"Unknown Time"</span>
 <span class="hljs-string">"Unknown Time"</span></code></pre><br>
<p>            ,       .</p><br>
<pre><code class="julia hljs">julia&gt; languages!(crps, Languages.German())<font></font>
julia&gt; titles!(crps, <span class="hljs-string">""</span>)<font></font>
julia&gt; authors!(crps, <span class="hljs-string">"Me"</span>)<font></font>
julia&gt; timestamps!(crps, <span class="hljs-string">"Now"</span>)<font></font>
julia&gt; languages!(crps, [Languages.German(), Languages.English<font></font>
julia&gt; titles!(crps, [<span class="hljs-string">""</span>, <span class="hljs-string">"Untitled"</span>])<font></font>
julia&gt; authors!(crps, [<span class="hljs-string">"Ich"</span>, <span class="hljs-string">"You"</span>])<font></font>
julia&gt; timestamps!(crps, [<span class="hljs-string">"Unbekannt"</span>, <span class="hljs-string">"2018"</span>])</code></pre><br>
<h3 id="vydelenie-priznakov"> </h3><br>
<p>  —      .        ,      TextAnalysis          .     , ,   -,     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://juliatext.github.io/TextAnalysis.jl/dev/features/</a></p><br>
<p>   .</p><br>
<p>    —  ,       .     .    ,    Bag of words.          ,   (TF — Term Frequency)  ,         (TF-IDF — Term Frequency — Inverse Document Frequency).</p><br>
<p>     ,   <code>Document</code>, <code>1</code>, <code>2</code>, <code>3</code>.</p><br>
<pre><code class="julia hljs">julia&gt; <span class="hljs-keyword">using</span> TextAnalysis<font></font>
<font></font>
julia&gt; crps = Corpus([StringDocument(<span class="hljs-string">"Document 1"</span>),<font></font>
                      StringDocument(<span class="hljs-string">"Document 2"</span>),<font></font>
                      StringDocument(<span class="hljs-string">"Document 1 3"</span>)])</code></pre><br>
<p>   .       -:</p><br>
<pre><code class="julia hljs">julia&gt; update_lexicon!(crps)<font></font>
<font></font>
julia&gt; m = DocumentTermMatrix(crps)<font></font>
DocumentTermMatrix(<font></font>
  [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">3</span>, <span class="hljs-number">3</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]  =  <span class="hljs-number">1</span>, [<span class="hljs-string">"1"</span>, <span class="hljs-string">"2"</span>, <span class="hljs-string">"3"</span>, <span class="hljs-string">"Document"</span>], <span class="hljs-built_in">Dict</span>(<span class="hljs-string">"1"</span> =&gt; <span class="hljs-number">1</span>,<span class="hljs-string">"2"</span> =&gt; <span class="hljs-number">2</span>,<span class="hljs-string">"Document"</span> =&gt; <span class="hljs-number">4</span>,<span class="hljs-string">"3"</span> =&gt; <span class="hljs-number">3</span>))</code></pre><br>
<p> <code>m</code>     <code>DocumentTermMatrix</code>.    ,    3   4 ,     <code>Document</code>,   <code>1</code>, <code>2</code>, <code>3</code>.          .       <code>dtm()</code>:</p><br>
<pre><code class="julia hljs">julia&gt; dtm(m)
<span class="hljs-number">3</span>×<span class="hljs-number">4</span> SparseArrays.<span class="hljs-built_in">SparseMatrixCSC</span>{<span class="hljs-built_in">Int64</span>,<span class="hljs-built_in">Int64</span>} with <span class="hljs-number">7</span> stored entries:<font></font>
  [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">3</span>, <span class="hljs-number">3</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>]  =  <span class="hljs-number">1</span>
  [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]  =  <span class="hljs-number">1</span></code></pre><br>
<p>    <code>SparseMatrixCSC</code>,       ,      ,  .    -  ,          .      ,             , , .           ,       —  .  ,    -         .       ,   ,     ,  <code>SparseMatrixCSC</code>.      <code>dtm(..., :dense)</code>           <code>collect()</code>:</p><br>
<pre><code class="julia hljs">julia&gt; dtm(m, :dense)
<span class="hljs-number">3</span>×<span class="hljs-number">4</span> <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Int64</span>,<span class="hljs-number">2</span>}:
 <span class="hljs-number">1</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span>
 <span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span>
 <span class="hljs-number">1</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">1</span></code></pre><br>
<p>   ,          (    ).</p><br>
<pre><code class="julia hljs">julia&gt; m.terms
<span class="hljs-number">4</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">String</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-string">"1"</span>       
 <span class="hljs-string">"2"</span>       
 <span class="hljs-string">"3"</span>       
 <span class="hljs-string">"Document"</span></code></pre><br>
<p> -   ,      <code>tf()</code>  <code>tf_idf()</code>:</p><br>
<pre><code class="julia hljs">julia&gt; tf(m) |&gt; collect
<span class="hljs-number">3</span>×<span class="hljs-number">4</span> <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">2</span>}:
 <span class="hljs-number">0.5</span>       <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>       <span class="hljs-number">0.5</span>     
 <span class="hljs-number">0.0</span>       <span class="hljs-number">0.5</span>  <span class="hljs-number">0.0</span>       <span class="hljs-number">0.5</span>     
 <span class="hljs-number">0.333333</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.333333</span>  <span class="hljs-number">0.333333</span></code></pre><br>
<p>       .       .  — .    .</p><br>
<p>  TF-IDF   <code>tf_idf()</code>:</p><br>
<pre><code class="julia hljs">julia&gt; tdm = tf_idf(m) |&gt; collect
<span class="hljs-number">3</span>×<span class="hljs-number">4</span> <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">2</span>}:
 <span class="hljs-number">0.202733</span>  <span class="hljs-number">0.0</span>       <span class="hljs-number">0.0</span>       <span class="hljs-number">0.0</span>
 <span class="hljs-number">0.0</span>       <span class="hljs-number">0.549306</span>  <span class="hljs-number">0.0</span>       <span class="hljs-number">0.0</span>
 <span class="hljs-number">0.135155</span>  <span class="hljs-number">0.0</span>       <span class="hljs-number">0.366204</span>  <span class="hljs-number">0.0</span></code></pre><br>
<p>     ,   <code>Document</code>,     ,   0.    <code>3</code>   ,   ,  <code>1</code>    ,  <code>1</code> , ,    .</p><br>
<p>    , ,     .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> Clustering</a>.     k-means,      .       .    <code>kmeans</code>    ,    ,   — .     -  .</p><br>
<pre><code class="julia hljs">julia&gt; <span class="hljs-keyword">using</span> Clustering<font></font>
<font></font>
julia&gt; R = kmeans(tdm', <span class="hljs-number">2</span>; maxiter=<span class="hljs-number">200</span>, display=:iter)<font></font>
  Iters               objv        objv-change | affected <font></font>
-------------------------------------------------------------<font></font>
      <span class="hljs-number">0</span>       <span class="hljs-number">1.386722e-01</span>
      <span class="hljs-number">1</span>       <span class="hljs-number">6.933608e-02</span>      -<span class="hljs-number">6.933608e-02</span> |        <span class="hljs-number">0</span>
      <span class="hljs-number">2</span>       <span class="hljs-number">6.933608e-02</span>       <span class="hljs-number">0.000000e+00</span> |        <span class="hljs-number">0</span>
K-means converged with <span class="hljs-number">2</span> iterations (objv = <span class="hljs-number">0.06933608051588186</span>)<font></font>
KmeansResult{<span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">2</span>},<span class="hljs-built_in">Float64</span>,<span class="hljs-built_in">Int64</span>}(<font></font>
[<span class="hljs-number">0.0</span> <span class="hljs-number">0.16894379504506848</span>; <span class="hljs-number">0.5493061443340549</span> <span class="hljs-number">0.0</span>; <span class="hljs-number">0.0</span> <span class="hljs-number">0.1831020481113516</span>; <span class="hljs-number">0.0</span> <span class="hljs-number">0.0</span>],<font></font>
[<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],<font></font>
[<span class="hljs-number">0.03466804025794093</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.03466804025794093</span>],<font></font>
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0.06933608051588186</span>, <span class="hljs-number">2</span>, <span class="hljs-literal">true</span>)<font></font>
<font></font>
julia&gt; c = counts(R) <span class="hljs-comment">#   </span>
<span class="hljs-number">2</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Int64</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-number">1</span>
 <span class="hljs-number">2</span><font></font>
<font></font>
julia&gt; a = assignments(R) <span class="hljs-comment">#    </span>
<span class="hljs-number">3</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Int64</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-number">2</span>
 <span class="hljs-number">1</span>
 <span class="hljs-number">2</span><font></font>
<font></font>
julia&gt; M = R.centers <span class="hljs-comment">#    </span>
<span class="hljs-number">4</span>×<span class="hljs-number">2</span> <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">2</span>}:
 <span class="hljs-number">0.0</span>       <span class="hljs-number">0.168944</span>
 <span class="hljs-number">0.549306</span>  <span class="hljs-number">0.0</span>     
 <span class="hljs-number">0.0</span>       <span class="hljs-number">0.183102</span>
<span class="hljs-number">0.0</span>       <span class="hljs-number">0.0</span> </code></pre><br>
<p> , ,      ,   2   . , ,    <code>R.centers</code>,  ,    «»  <code>2</code>.      <code>1</code>  <code>3</code>.</p><br>
<p> <code>Clustering.jl</code>     ,  : K-means, K-medoids, Affinity Propagation, Density-based spatial clustering of applications with noise (DBSCAN), Markov Clustering Algorithm (MCL), Fuzzy C-Means Clustering, Hierarchical Clustering (Single, Average, Complete, Ward's Linkage).         .</p><br>
<p> <code>TextAnalysis.jl</code>,   ,    ,            git-.    ,      ,          :</p><br>
<pre><code class="julia hljs">julia&gt; ]<font></font>
(v1<span class="hljs-number">.2</span>) pkg&gt; add https://github.com/JuliaText/TextAnalysis.jl</code></pre><br>
<p>,       .     . </p><br>
<p>   —    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Okapi BM25</a>.      <code>tf</code>. <code>tf_idf</code>,   <code>bm_25(m)</code>.      .</p><br>
<p>       :</p><br>
<pre><code class="julia hljs">model = SentimentAnalyzer(doc)<font></font>
model = SentimentAnalyzer(doc, handle_unknown)</code></pre><br>
<p>, <code>doc</code> –       . <code>handle_unknown</code> –    .       Flux.jl    IMDB.       0  1.</p><br>
<p>       <code>summarize(d, ns)</code>.    .  – <code>ns=</code>    .</p><br>
<pre><code class="julia hljs">julia&gt; s = StringDocument(<span class="hljs-string">"Assume this Short Document as an example. Assume this as an example summarizer. This has too foo sentences."</span>)<font></font>
<font></font>
julia&gt; summarize(s, ns=<span class="hljs-number">2</span>)
<span class="hljs-number">2</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">SubString</span>{<span class="hljs-built_in">String</span>},<span class="hljs-number">1</span>}:
 <span class="hljs-string">"Assume this Short Document as an example."</span>
 <span class="hljs-string">"This has too foo sentences."</span></code></pre><br>
<p>             ,    — POS (part of speech).     .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Parts of Speech Tagging<br>
</a>. <code>Tagging</code>   ,       ,  ,   .</p><br>
<p>     .  — Average Perceptron Algorithm.       LSTMs, CNN   CRF.     .</p><br>
<pre><code class="julia hljs">julia&gt; pos = PoSTagger()<font></font>
<font></font>
julia&gt; sentence = <span class="hljs-string">"This package is maintained by John Doe."</span>
<span class="hljs-string">"This package is maintained by John Doe."</span><font></font>
<font></font>
julia&gt; tags = pos(sentence)<font></font>
<span class="hljs-number">8</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">String</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-string">"DT"</span>
 <span class="hljs-string">"NN"</span>
 <span class="hljs-string">"VBZ"</span>
 <span class="hljs-string">"VBN"</span>
 <span class="hljs-string">"IN"</span>
 <span class="hljs-string">"NNP"</span>
 <span class="hljs-string">"NNP"</span>
 <span class="hljs-string">"."</span></code></pre><br>
<p> ,   ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Penn Treebank</a>.  , DT — Determiner, NN — Noun, singular or mass, VBZ — Verb, 3rd person singular present, Verb, past participle, IN — Preposition or subordinating conjunction, NNP — Proper noun, singular.</p><br>
<p>            .</p><br>
<h3 id="metody-snizheniya-razmernosti">  </h3><br>
<p>TextAnalysis          .     — LSA     — LDA. </p><br>
<p>  LSA —    - ( TF-IDF)  3 ,     . </p><br>
<pre><code class="julia hljs">julia&gt; crps = Corpus([StringDocument(<span class="hljs-string">"this is a string document"</span>), TokenDocument(<span class="hljs-string">"this is a token document"</span>)])<font></font>
julia&gt; update_lexicon!(crps)<font></font>
julia&gt; m = DocumentTermMatrix(crps)<font></font>
julia&gt; tf_idf(m) |&gt; collect<font></font>
<span class="hljs-number">2</span>×<span class="hljs-number">6</span> <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">2</span>}:
 <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.138629</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>     
<span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>       <span class="hljs-number">0.0</span>  <span class="hljs-number">0.138629</span><font></font>
<font></font>
julia&gt; F2 = lsa(m)<font></font>
SVD{<span class="hljs-built_in">Float64</span>,<span class="hljs-built_in">Float64</span>,<span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">2</span>}}([<span class="hljs-number">1.0</span> <span class="hljs-number">0.0</span>; <span class="hljs-number">0.0</span> <span class="hljs-number">1.0</span>], [<span class="hljs-number">0.138629</span>, <span class="hljs-number">0.138629</span>], [<span class="hljs-number">0.0</span> <span class="hljs-number">0.0</span> … <span class="hljs-number">0.0</span> <span class="hljs-number">0.0</span>; <span class="hljs-number">0.0</span> <span class="hljs-number">0.0</span> … <span class="hljs-number">0.0</span> <span class="hljs-number">1.0</span>])</code></pre><br>
<p>   ,    -,  TF-IDF     .    SVD,     ,      .</p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> LDA</a>           . :</p><br>
<pre><code class="julia hljs">julia&gt; crps = Corpus([StringDocument(<span class="hljs-string">"This is the Foo Bar Document"</span>), StringDocument(<span class="hljs-string">"This document has too Foo words"</span>)])<font></font>
julia&gt; update_lexicon!(crps)<font></font>
julia&gt; m = DocumentTermMatrix(crps)<font></font>
julia&gt; k = <span class="hljs-number">2</span>            <span class="hljs-comment"># number of topics</span>
julia&gt; iterations = <span class="hljs-number">1000</span> <span class="hljs-comment"># number of gibbs sampling iterations</span><font></font>
<font></font>
julia&gt; α = <span class="hljs-number">0.1</span>      <span class="hljs-comment"># hyper parameter</span>
julia&gt; β  = <span class="hljs-number">0.1</span>       <span class="hljs-comment"># hyper parameter</span><font></font>
<font></font>
julia&gt; ϕ, θ  = lda(m, k, iterations, α, β)<font></font>
(<font></font>
  [<span class="hljs-number">2</span> ,  <span class="hljs-number">1</span>]  =  <span class="hljs-number">0.333333</span>
  [<span class="hljs-number">2</span> ,  <span class="hljs-number">2</span>]  =  <span class="hljs-number">0.333333</span>
  [<span class="hljs-number">1</span> ,  <span class="hljs-number">3</span>]  =  <span class="hljs-number">0.222222</span>
  [<span class="hljs-number">1</span> ,  <span class="hljs-number">4</span>]  =  <span class="hljs-number">0.222222</span>
  [<span class="hljs-number">1</span> ,  <span class="hljs-number">5</span>]  =  <span class="hljs-number">0.111111</span>
  [<span class="hljs-number">1</span> ,  <span class="hljs-number">6</span>]  =  <span class="hljs-number">0.111111</span>
  [<span class="hljs-number">1</span> ,  <span class="hljs-number">7</span>]  =  <span class="hljs-number">0.111111</span>
  [<span class="hljs-number">2</span> ,  <span class="hljs-number">8</span>]  =  <span class="hljs-number">0.333333</span>
  [<span class="hljs-number">1</span> ,  <span class="hljs-number">9</span>]  =  <span class="hljs-number">0.111111</span>
  [<span class="hljs-number">1</span> , <span class="hljs-number">10</span>]  =  <span class="hljs-number">0.111111</span>, [<span class="hljs-number">0.5</span> <span class="hljs-number">1.0</span>; <span class="hljs-number">0.5</span> <span class="hljs-number">0.0</span>])</code></pre><br>
<p> <code>k</code>    <code>lda</code>   ,        .    <code>ϕ</code>  <code>θ</code>,      <code>ntopics × nwords</code>      ,  — <code>ntopics × ndocs</code>      .</p><br>
<h3 id="klassifikaciya-dokumentov"> </h3><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>         — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a>.        .          ,     .       <code>NaiveBayesClassifier()</code>.    —    <code>fit!()</code>:</p><br>
<pre><code class="julia hljs"><span class="hljs-keyword">using</span> TextAnalysis: NaiveBayesClassifier, fit!, predict<font></font>
<font></font>
m = NaiveBayesClassifier([:legal, :financial])<font></font>
<font></font>
fit!(m, <span class="hljs-string">"this is financial doc"</span>, :financial)<font></font>
fit!(m, <span class="hljs-string">"this is legal doc"</span>, :legal)</code></pre><br>
<p>      <code>predict</code>:</p><br>
<pre><code class="julia hljs">julia&gt; predict(m, <span class="hljs-string">"this should be predicted as a legal document"</span>)
<span class="hljs-built_in">Dict</span>{<span class="hljs-built_in">Symbol</span>,<span class="hljs-built_in">Float64</span>} with <span class="hljs-number">2</span> entries:<font></font>
  :legal     =&gt; <span class="hljs-number">0.666667</span>
  :financial =&gt; <span class="hljs-number">0.333333</span></code></pre><br>
<p>,    ,       <code>:legal</code>.</p><br>
<p>     TextAnalysis.jl      . ,        .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">MLJ.jl</a>.   AdaBoostClassifier, BaggingClassifier, BernoulliNBClassifier, ComplementNBClassifier, ConstantClassifier, XGBoostClassifier, DecisionTreeClassifier.     -     LSA,         .     .</p><br>
<p>  TextAnalysis.jl    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">CRF — Conditional Random Fields</a>,        Flux.jl,     .       .</p><br>
<h3 id="raspoznavanie-suschnostey"> </h3><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  TextAnalysis.jl</a>       — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">NER</a>.  <code>NERTagger()</code>           :</p><br>
<ul>
<li>PER: </li>
<li>LOC:  </li>
<li>ORG: </li>
<li>MISC: </li>
<li>O:   </li>
</ul><br>
<p> :</p><br>
<pre><code class="julia hljs">julia&gt; sentence = <span class="hljs-string">"This package is maintained by John Doe."</span>
<span class="hljs-string">"This package is maintained by John Doe."</span><font></font>
<font></font>
julia&gt; tags = ner(sentence)<font></font>
<span class="hljs-number">8</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">String</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-string">"O"</span>
 <span class="hljs-string">"O"</span>
 <span class="hljs-string">"O"</span>
 <span class="hljs-string">"O"</span>
 <span class="hljs-string">"O"</span>
 <span class="hljs-string">"PER"</span>
 <span class="hljs-string">"PER"</span>
 <span class="hljs-string">"O"</span></code></pre><br>
<p><code>NERTagger</code>       TextAnalysis.            .</p><br>
<h2 id="stringdistancesjl">StringDistances.jl</h2><br>
<p>     .         , ,  .   .     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">StringDistances.jl</a>.    :</p><br>
<pre><code class="julia hljs"><span class="hljs-keyword">using</span> StringDistances<font></font>
<font></font>
compare(<span class="hljs-string">"martha"</span>, <span class="hljs-string">"martha"</span>, Hamming())
<span class="hljs-comment">#&gt; 1.0</span>
 compare(<span class="hljs-string">"martha"</span>, <span class="hljs-string">"marhta"</span>, Jaro())
 <span class="hljs-comment">#&gt; 0.9444444444444445</span>
 compare(<span class="hljs-string">"martha"</span>, <span class="hljs-string">"marhta"</span>, Winkler(Jaro()))
 <span class="hljs-comment">#&gt; 0.9611111111111111</span><font></font>
<font></font>
 compare(<span class="hljs-string">"william"</span>, <span class="hljs-string">"williams"</span>, QGram(<span class="hljs-number">2</span>))
 <span class="hljs-comment">#&gt; 0.9230769230769231</span>
 compare(<span class="hljs-string">"william"</span>, <span class="hljs-string">"williams"</span>, Winkler(QGram(<span class="hljs-number">2</span>)))
 <span class="hljs-comment">#&gt; 0.9538461538461539</span></code></pre><br>
<p>  <code>compare</code>  —   . , 1 —  . 0 —  .</p><br>
<p>     ,   Jaro-Winkler.    ,         .  RatcliffObershelp, ,          .  ,        .   .</p><br>
<pre><code class="julia hljs"> compare(<span class="hljs-string">"mariners vs angels"</span>, <span class="hljs-string">"angels vs mariners"</span>, RatcliffObershelp())
 <span class="hljs-comment">#&gt; 0.44444</span>
 compare(<span class="hljs-string">"mariners vs angels"</span>, <span class="hljs-string">"angels vs mariners"</span>, TokenSort(RatcliffObershelp())
 <span class="hljs-comment">#&gt; 1.0</span>
 compare(<span class="hljs-string">"mariners vs angels"</span>, <span class="hljs-string">"los angeles angels at seattle mariners"</span>, Jaro())
 <span class="hljs-comment">#&gt; 0.559904</span>
 compare(<span class="hljs-string">"mariners vs angels"</span>, <span class="hljs-string">"los angeles angels at seattle mariners"</span>, TokenSet(Jaro()))
 <span class="hljs-comment">#&gt; 0.944444</span>
 compare(<span class="hljs-string">"mariners vs angels"</span>, <span class="hljs-string">"los angeles angels at seattle mariners"</span>, TokenMax(RatcliffObershelp()))
 <span class="hljs-comment">#&gt; 0.855</span></code></pre><br>
<p>  ,       ,     . ,   TokenSort  ,         .    Julia    —     Julia,               .</p><br>
<h2 id="wordtokenizersjl">WordTokenizers.jl</h2><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">WordTokenizers.jl</a>        .  , ,   TextAnalysis.jl.</p><br>
<p>    —     . ,    <code>tokenize(text)</code>.</p><br>
<pre><code class="julia hljs">julia&gt; <span class="hljs-keyword">using</span> WordTokenizers<font></font>
<font></font>
julia&gt; text = <span class="hljs-string">"I cannot stand when they say \"Enough is enough.\""</span>;<font></font>
<font></font>
julia&gt; tokenize(text) |&gt; print <span class="hljs-comment"># Default tokenizer</span>
<span class="hljs-built_in">SubString</span>{<span class="hljs-built_in">String</span>}[<span class="hljs-string">"I"</span>, <span class="hljs-string">"can"</span>, <span class="hljs-string">"not"</span>, <span class="hljs-string">"stand"</span>, <span class="hljs-string">"when"</span>, <span class="hljs-string">"they"</span>, <span class="hljs-string">"say"</span>, <span class="hljs-string">"``"</span>, <span class="hljs-string">"Enough"</span>, <span class="hljs-string">"is"</span>, <span class="hljs-string">"enough"</span>, <span class="hljs-string">"."</span>, <span class="hljs-string">"''"</span>]</code></pre><br>
<p>   WordTokenizers     .</p><br>
<pre><code class="julia hljs">julia&gt; text = <span class="hljs-string">"The leatherback sea turtle is the largest, measuring six or seven feet (2 m) in length at maturity, and three to five feet (1 to 1.5 m) in width, weighing up to 2000 pounds (about 900 kg). Most other species are smaller, being two to four feet in length (0.5 to 1 m) and proportionally less wide. The Flatback turtle is found solely on the northerncoast of Australia."</span>;<font></font>
<font></font>
julia&gt; split_sentences(text)<font></font>
<span class="hljs-number">3</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">SubString</span>{<span class="hljs-built_in">String</span>},<span class="hljs-number">1</span>}:
 <span class="hljs-string">"The leatherback sea turtle is the largest, measuring six or seven feet (2 m) in length at maturity, and three to five feet (1 to 1.5 m) in width, weighing up to 2000 pounds (about900 kg). "</span>
 <span class="hljs-string">"Most other species are smaller, being two to four feet in length (0.5 to 1 m) and proportionally less wide. "</span>
 <span class="hljs-string">"The Flatback turtle is found solely on the northern coast of Australia."</span><font></font>
<font></font>
julia&gt; tokenize.(split_sentences(text))<font></font>
<span class="hljs-number">3</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Array</span>{<span class="hljs-built_in">SubString</span>{<span class="hljs-built_in">String</span>},<span class="hljs-number">1</span>},<span class="hljs-number">1</span>}:
 <span class="hljs-built_in">SubString</span>{<span class="hljs-built_in">String</span>}[<span class="hljs-string">"The"</span>, <span class="hljs-string">"leatherback"</span>, <span class="hljs-string">"sea"</span>, <span class="hljs-string">"turtle"</span>, <span class="hljs-string">"is"</span>, <span class="hljs-string">"the"</span>, <span class="hljs-string">"largest"</span>, <span class="hljs-string">","</span>, <span class="hljs-string">"measuring"</span>, <span class="hljs-string">"six"</span>  …  <span class="hljs-string">"up"</span>, <span class="hljs-string">"to"</span>, <span class="hljs-string">"2000"</span>, <span class="hljs-string">"pounds"</span>, <span class="hljs-string">"("</span>, <span class="hljs-string">"about"</span>, <span class="hljs-string">"900"</span>, <span class="hljs-string">"kg"</span>, <span class="hljs-string">")"</span>, <span class="hljs-string">"."</span>]
 <span class="hljs-built_in">SubString</span>{<span class="hljs-built_in">String</span>}[<span class="hljs-string">"Most"</span>, <span class="hljs-string">"other"</span>, <span class="hljs-string">"species"</span>, <span class="hljs-string">"are"</span>, <span class="hljs-string">"smaller"</span>, <span class="hljs-string">","</span>, <span class="hljs-string">"being"</span>, <span class="hljs-string">"two"</span>, <span class="hljs-string">"to"</span>, <span class="hljs-string">"four"</span>  …  <span class="hljs-string">"0.5"</span>, <span class="hljs-string">"to"</span>, <span class="hljs-string">"1"</span>, <span class="hljs-string">"m"</span>, <span class="hljs-string">")"</span>, <span class="hljs-string">"and"</span>, <span class="hljs-string">"proportionally"</span>, <span class="hljs-string">"less"</span>, <span class="hljs-string">"wide"</span>, <span class="hljs-string">"."</span>]
 <span class="hljs-built_in">SubString</span>{<span class="hljs-built_in">String</span>}[<span class="hljs-string">"The"</span>, <span class="hljs-string">"Flatback"</span>, <span class="hljs-string">"turtle"</span>, <span class="hljs-string">"is"</span>, <span class="hljs-string">"found"</span>, <span class="hljs-string">"solely"</span>, <span class="hljs-string">"on"</span>, <span class="hljs-string">"the"</span>, <span class="hljs-string">"northern"</span>, <span class="hljs-string">"coast"</span>, <span class="hljs-string">"of"</span>, <span class="hljs-string">"Australia"</span>, <span class="hljs-string">"."</span>]</code></pre><br>
<p>   :</p><br>
<ul>
<li>Poorman's tokenizer —        .     ,   <code>split</code>.</li>
<li>Punctuation space tokenize —        . ,     .</li>
<li>Penn Tokenizer —  ,    Penn Treebank. </li>
<li>Improved Penn Tokenizer — ,      NLTK.</li>
<li>NLTK Word tokenizer —  ,   NLTK,   ,        UNICODE-  .</li>
<li>Reversible Tokenizer — ,         .     </li>
<li>TokTok Tokenizer — ,    .</li>
<li>Tweet Tokenizer — ,     ,  , HTML-  .</li>
</ul><br>
<p>      <code>set_tokenizer(nltk_word_tokenize)</code></p><br>
<h2 id="embeddingsjl">Embeddings.jl</h2><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Embeddings.jl</a>        .        ,      ,   ,   ,       ,      ,    .          Word2Vec.     ,   : <code>king - man + woman = queen</code>.    ,    ,      . ,   ,   ,   Wikipedia,         .  ,            .        «semantic space»,    ,   «semantic distance».         ,       ,    ,    «»  «»      .    ,             ,             ,        .</p><br>
<p>   ,    «embedding»  ,   ,    ,        .  ,      ,     ,     , , ,    .  ,     -,        .    ,           . ,   .        .</p><br>
<p>Embeddings.jl    : Word2Vec, GloVe (English only), FastText.       . ,           ,       .        —   ,          .  , , word2vec,    8-16   .   ,       .</p><br>
<p>, ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">DataDeps.jl</a>.           ,    ("  ").   ,  Embedding.jl   ,        ,    .          ,          .</p><br>
<pre><code class="julia hljs"><span class="hljs-literal">ENV</span>[<span class="hljs-string">"DATADEPS_ALWAYS_ACCEPT"</span>] = <span class="hljs-literal">true</span></code></pre><br>
<p>  —        .      <code>~/.julia/datadeps</code>    .</p><br>
<p> .   —      :</p><br>
<pre><code class="julia hljs"><span class="hljs-keyword">using</span> Embeddings
<span class="hljs-keyword">const</span> embtable = load_embeddings(Word2Vec) <span class="hljs-comment"># or load_embeddings(FastText_Text) or ...</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> get_word_index = <span class="hljs-built_in">Dict</span>(word=&gt;ii <span class="hljs-keyword">for</span> (ii,word) <span class="hljs-keyword">in</span> enumerate(embtable.vocab))<font></font>
<font></font>
<span class="hljs-keyword">function</span> get_embedding(word)<font></font>
    ind = get_word_index[word]<font></font>
    emb = embtable.embeddings[:,ind]<font></font>
    <span class="hljs-keyword">return</span> emb
<span class="hljs-keyword">end</span></code></pre><br>
<p>  —      :</p><br>
<pre><code class="julia hljs">julia&gt; get_embedding(<span class="hljs-string">"blue"</span>)
<span class="hljs-number">300</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float32</span>,<span class="hljs-number">1</span>}:
  <span class="hljs-number">0.01540828</span>
  <span class="hljs-number">0.03409082</span>
  <span class="hljs-number">0.0882124</span>
  <span class="hljs-number">0.04680265</span>
 -<span class="hljs-number">0.03409082</span>
...</code></pre><br>
<p>     WordTokenizers    TextAnalysis,  .       ,    Julia:</p><br>
<pre><code class="julia hljs">julia&gt; a = rand(<span class="hljs-number">5</span>)
<span class="hljs-number">5</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-number">0.012300397820243392</span>
 <span class="hljs-number">0.13543646950484067</span> 
 <span class="hljs-number">0.9780602985106086</span>  
 <span class="hljs-number">0.24647179461578816</span> 
 <span class="hljs-number">0.18672770774122105</span> <font></font>
<font></font>
julia&gt; b = ones(<span class="hljs-number">5</span>)
<span class="hljs-number">5</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-number">1.0</span>
 <span class="hljs-number">1.0</span>
 <span class="hljs-number">1.0</span>
 <span class="hljs-number">1.0</span>
 <span class="hljs-number">1.0</span><font></font>
<font></font>
julia&gt; a+b<font></font>
<span class="hljs-number">5</span>-element <span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Float64</span>,<span class="hljs-number">1</span>}:
 <span class="hljs-number">1.0123003978202434</span>
 <span class="hljs-number">1.1354364695048407</span>
 <span class="hljs-number">1.9780602985106086</span>
 <span class="hljs-number">1.2464717946157882</span>
 <span class="hljs-number">1.186727707741221</span> </code></pre><br>
<p>    Clustering.jl.   ,    — .  MLJ.jl.       ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/JuliaStats/Distances.jl</a>,       :</p><br>
<ul>
<li>Euclidean distance</li>
<li>Squared Euclidean distance</li>
<li>Periodic Euclidean distance</li>
<li>Cityblock distance</li>
<li>Total variation distance</li>
<li>Jaccard distance</li>
<li>Rogers-Tanimoto distance</li>
<li>Chebyshev distance</li>
<li>Minkowski distance</li>
<li>Hamming distance</li>
<li>Cosine distance</li>
<li>Correlation distance</li>
<li>Chi-square distance</li>
<li>Kullback-Leibler divergence</li>
<li>Generalized Kullback-Leibler divergence</li>
<li>Rényi divergence</li>
<li>Jensen-Shannon divergence</li>
<li>Mahalanobis distance</li>
<li>Squared Mahalanobis distance</li>
<li>Bhattacharyya distance</li>
<li>Hellinger distance</li>
<li>Haversine distance</li>
<li>Mean absolute deviation</li>
<li>Mean squared deviation</li>
<li>Root mean squared deviation</li>
<li>Normalized root mean squared deviation</li>
<li>Bray-Curtis dissimilarity</li>
<li>Bregman divergence</li>
</ul><br>
<p>          .</p><br>
<h2 id="transformersjl">Transformers.jl</h2><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Transformers.jl</a> —      Julia  «Transformers»,      BERT  Google.  ,               NER —   ,     .</p><br>
<p>Transformers.jl   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Flux.jl</a>, ,   ,     Julia-    ,           . Flux.jl    CPU  GPU,  , ,    ,    .</p><br>
<p>        BERT    ,      .      :</p><br>
<pre><code class="julia hljs"><span class="hljs-keyword">using</span> Transformers
<span class="hljs-keyword">using</span> Transformers.Basic
<span class="hljs-keyword">using</span> Transformers.Pretrain
<span class="hljs-keyword">using</span> Transformers.Datasets
<span class="hljs-keyword">using</span> Transformers.BidirectionalEncoder<font></font>
<font></font>
<span class="hljs-keyword">using</span> Flux
<span class="hljs-keyword">using</span> Flux: onehotbatch, gradient
<span class="hljs-keyword">import</span> Flux.Optimise: update!
<span class="hljs-keyword">using</span> WordTokenizers<font></font>
<font></font>
<span class="hljs-literal">ENV</span>[<span class="hljs-string">"DATADEPS_ALWAYS_ACCEPT"</span>] = <span class="hljs-literal">true</span>
<span class="hljs-keyword">const</span> FromScratch = <span class="hljs-literal">false</span><font></font>
<font></font>
<span class="hljs-comment">#use wordpiece and tokenizer from pretrain</span>
<span class="hljs-keyword">const</span> wordpiece = <span class="hljs-string">pretrain"bert-uncased_L-12_H-768_A-12:wordpiece"</span>
<span class="hljs-keyword">const</span> tokenizer = <span class="hljs-string">pretrain"bert-uncased_L-12_H-768_A-12:tokenizer"</span>
<span class="hljs-keyword">const</span> vocab = Vocabulary(wordpiece)<font></font>
<font></font>
<span class="hljs-keyword">const</span> bert_model = gpu(<font></font>
  FromScratch ? create_bert() : <span class="hljs-string">pretrain"bert-uncased_L-12_H-768_A-12:bert_model"</span><font></font>
)<font></font>
Flux.testmode!(bert_model) <font></font>
<font></font>
<span class="hljs-keyword">function</span> vectorize(str::<span class="hljs-built_in">String</span>)<font></font>
  tokens = str |&gt; tokenizer |&gt; wordpiece<font></font>
  text = [<span class="hljs-string">"[CLS]"</span>; tokens; <span class="hljs-string">"[SEP]"</span>]<font></font>
  token_indices = vocab(text)<font></font>
  segment_indices = [fill(<span class="hljs-number">1</span>, length(tokens) + <span class="hljs-number">2</span>);]<font></font>
  sample = (tok = token_indices, segment = segment_indices)<font></font>
  bert_embedding = sample |&gt; bert_model.embed<font></font>
  collect(sum(bert_embedding, dims=<span class="hljs-number">2</span>)[:])
<span class="hljs-keyword">end</span></code></pre><br>
<p>   <code>vectorize</code>     .       :</p><br>
<pre><code class="julia hljs"><span class="hljs-keyword">using</span> Distances<font></font>
x1 = vectorize(<span class="hljs-string">"Some test about computers"</span>)<font></font>
x2 = vectorize(<span class="hljs-string">"Some test about printers"</span>)<font></font>
cosine_dist(x1, x2)</code></pre><br>
<p>  , <code>wordpiece</code>, <code>tokenizer</code> —    .   12 —  . 768 —   .    . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://chengchingwen.github.io/Transformers.jl/dev/pretrain/</a>.   ,  Transformers.Pretrain.@pretrain_str,     <code>pretrain"model-description:item"</code>        .</p><br>
<p>     ,      ,  Transformers.jl    ,          .</p><br>
<h2 id="zaklyuchenie"></h2><br>
<p> ,  ,   Julia   .          . , ,         .    ,    Julia   ,    . ,          Julia.</p><br>
<p>,       ,  ,    -   «»,      .   , ,        «open source»  , ,    ,      .        ,       , Julia    .   ,      Jupyter Notebook   ,      ,   —     Atom/Juno, VS Code, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   </a>    . , ,   Julia —      2-3    ,       ( ,      ,     ),     C++      .</p><br>
<p>     ,      ,    Julia,  -,   .   ,         ,  ,  ,        .         ,        2-3   ,         ,     . Julia       .          -    ,        <code>for</code>       .     —  «   ».   ,   C,    .  Julia,   ,   -  ,     ,    —  Julia-.  , Julia —             ,             .</p><br>
<p> , ,            Julia  . , ,        .</p><br>
<p>   ,   -   Julia — @JuliaLanguage,         .</p><br>
<h2 id="ssylki"></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">TextAnalysis.jl</a> —    </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Languages.jl</a> —        </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">WordTokenizers.jl</a> —   </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">StringDistances.jl</a> —      </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Transformers.jl</a> —   Transformers   BERT.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Distances.jl</a> —     .</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Clustering.jl</a> —    .</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MLJ.jl</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、回帰分析や分類アルゴリズムなど、さまざまな機械学習手法を組み合わせたパッケージです。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flux.jl-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ニューラルネットワークを実装するための関数のライブラリ。</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja475904/index.html">新しいマネージャーのための5つのメモ</a></li>
<li><a href="../ja475908/index.html">ロシアで最も人気のあるマイクロソフトコース10</a></li>
<li><a href="../ja475912/index.html">イーサネットネットワークの暗号化デバイスを評価および比較する方法</a></li>
<li><a href="../ja475916/index.html">ロボットに目を追加</a></li>
<li><a href="../ja475920/index.html">実行時ではなく、設計時</a></li>
<li><a href="../ja475924/index.html">Github Security Labに関するお知らせ：すべてのコードを一緒に保護する</a></li>
<li><a href="../ja475926/index.html">遠いフロンティアの可視化：宇宙、サイバーパンク、潜在意識</a></li>
<li><a href="../ja475934/index.html">9つのWebコンポーネントライブラリ</a></li>
<li><a href="../ja475936/index.html">スペースファイト-冷戦スリラー</a></li>
<li><a href="../ja475940/index.html">Vueストアフロント：2番目のシェルアプローチ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>