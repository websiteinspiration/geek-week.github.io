<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯФ╣ ЁЯРЫ ЁЯзг рд╕реИрдВрдбреА рдмреНрд░рд┐рдЬ + рдкрд░ рдпреВрдУрдкреА рдХреИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░ ЁЯд░ЁЯП╗ тЪбя╕П тП▓я╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЖрдзреБрдирд┐рдХ x86 рдЗрдВрдЯреЗрд▓ рдкреНрд░реЛрд╕реЗрд╕рд░ рдореЗрдВ, рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХреЛ 2 рднрд╛рдЧреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: рдлреНрд░рдВрдЯ рдПрдВрдб рдФрд░ рдмреИрдХ рдПрдВрдбред 
 
 рдлреНрд░рдВрдЯ рдПрдВрдб рдореЗрдореЛрд░реА рд╕реЗ рдХреЛрдб рд▓реЛрдб рдХрд░рдиреЗ рдФрд░ рдорд╛рдЗрдХреНрд░реЛ-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рд╕реИрдВрдбреА рдмреНрд░рд┐рдЬ + рдкрд░ рдпреВрдУрдкреА рдХреИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497290/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдзреБрдирд┐рдХ x86 рдЗрдВрдЯреЗрд▓ рдкреНрд░реЛрд╕реЗрд╕рд░ рдореЗрдВ, рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХреЛ 2 рднрд╛рдЧреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: рдлреНрд░рдВрдЯ рдПрдВрдб рдФрд░ рдмреИрдХ рдПрдВрдбред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлреНрд░рдВрдЯ рдПрдВрдб рдореЗрдореЛрд░реА рд╕реЗ рдХреЛрдб рд▓реЛрдб рдХрд░рдиреЗ рдФрд░ рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдореЗрдВ рдЗрд╕реЗ рдбрд┐рдХреЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмреИрдХ рдПрдВрдб рдлреНрд░рдВрдЯ рдПрдВрдб рд╕реЗ рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред </font><font style="vertical-align: inherit;">рдЪреВрдВрдХрд┐ рдпреЗ рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди рдХрд░реНрдиреЗрд▓ рджреНрд╡рд╛рд░рд╛ рдХреНрд░рдо рд╕реЗ рдмрд╛рд╣рд░ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдмреИрдХ рдПрдВрдб рдпрд╣ рднреА рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ </font><font style="vertical-align: inherit;">рдЗрди рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди </font><font style="vertical-align: inherit;">рдХрд╛ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд░рд┐рдгрд╛рдо</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрд╕ рдХреНрд░рдо рд╕реЗ рд╕рдЦреНрддреА рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╡реЗ рдХреЛрдб рдореЗрдВ рдЬрд╛рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдлреНрд░рдВрдЯ рдПрдВрдбрд╛ рдХреЗ рдЕрдХреНрд╖рдо рдЙрдкрдпреЛрдЧ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рдкреНрд░рднрд╛рд╡ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдзрд┐рдХрд╛рдВрд╢ рдЗрдВрдЯреЗрд▓ рдкреНрд░реЛрд╕реЗрд╕рд░ рдкрд░ рдкреАрдХ рдмреИрдВрдбрд╡рд┐рдбреНрде 4 рдорд╛рдЗрдХреНрд░реЛ рд╕рдВрдЪрд╛рд▓рди рдкреНрд░рддрд┐ рдЪрдХреНрд░ рд╣реИ, рдЗрд╕рд▓рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореЗрдореЛрд░реА / рдПрд▓ 3-рдмрд╛рдЙрдВрдб рдХреЛрдб рдХреЗ рд▓рд┐рдП, рд╕реАрдкреАрдпреВ рдЗрд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрдЧрд╛ред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рдирдИ рдмрд░реНрдл рдЭреАрд▓</font></font></b><div class="spoiler_text">   ,      Ice Lake    4  5   .  ,        ,         . <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рдЕрдВрддрд░ рдХрд╛рдлреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдХрдЯреМрддреА рдХреЗ рддрд╣рдд рдкреНрд░рджрд░реНрд╢рди рдкрд░ рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдХреИрд╢ рдХреЗ рдкреНрд░рднрд╛рд╡ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рд╣реИред</font></font><br>
<a name="habracut"></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЗрдЦ рдХреА рд╕рд╛рдордЧреНрд░реА</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд╛рддрд╛рд╡рд░рдг</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлреНрд░рдВрдЯ рдПрдВрдбрд╛ рдЗрдВрдЯреЗрд▓ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХрд╛ рдЕрд╡рд▓реЛрдХрди</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреАрдХ рдмреИрдВрдбрд╡рд┐рдбреНрде рд╡рд┐рд╢реНрд▓реЗрд╖рдг cacheop рдХреИрд╢ -&gt; IDQ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд╛рддрд╛рд╡рд░рдг</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдЖрд▓реЗрдЦ рдореЗрдВ рд╕рднреА рдорд╛рдкреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </font></font><code>i7-8550U Kaby Lake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, HT рд╕рдХреНрд╖рдо / </font></font><code>Ubuntu 18.04/Linux Kernel 5.3.0-45-generic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдРрд╕рд╛ рд╡рд╛рддрд╛рд╡рд░рдг рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ CPU рдореЙрдбрд▓ рдХрд╛ рдЕрдкрдирд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд╛рд░реНрдпрдХреНрд░рдо рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рд╕реИрдВрдбреА рдмреНрд░рд┐рдЬ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдкреБрд░рд╛рдиреЗ рдорд╛рдЗрдХреНрд░реЛрдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП, рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдХреБрдЫ рдШрдЯрдирд╛рдПрдВ рдмрд╕ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрддреА рд╣реИрдВред</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлреНрд░рдВрдЯ рдПрдВрдбрд╛ рдЗрдВрдЯреЗрд▓ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХрд╛ рдЕрд╡рд▓реЛрдХрди</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдЪреНрдЪ-рд╕реНрддрд░реАрдп рдЕрд╕реЗрдВрдмрд▓реА рд▓рд╛рдЗрди рд╕рдВрдЧрдарди рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░реВрдк рд╕реЗ рдЙрдкрд▓рдмреНрдз рдЬрд╛рдирдХрд╛рд░реА рд╣реИ рдФрд░ рдЗрд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЕрдиреБрдХреВрд▓рди рдкрд░ рдЗрдВрдЯреЗрд▓ рдХреЗ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдкреНрд░рд▓реЗрдЦрди рд╕реЗ рдЫреЛрдбрд╝реА рдЧрдИ рдХреБрдЫ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг рдЕрдиреНрдп рд╕рдореНрдорд╛рдирд┐рдд рд╕реНрд░реЛрддреЛрдВ, рдЬреИрд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдЧреНрдирд░ рдлреЙрдЧ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреНрд░реИрд╡рд┐рд╕ рдбрд╛рдЙрди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрдВрдЯреЗрд▓ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рд╕реНрдХрд╛рдИрд▓реЗрдХ рдХреЗ рд▓рд┐рдП рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдпреЛрдЬрдирд╛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддреА рд╣реИ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qe/jr/xa/qejrxaieyvky3yjl5yps8toljme.png" alt="рд╕реНрдХрд╛рдИрд▓реЗрдХ рдкрд╛рдЗрдкрд▓рд╛рдЗрди"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдЗрдП рдЗрд╕ рдпреЛрдЬрдирд╛ </font><font style="vertical-align: inherit;">рдХреЗ </font><font style="vertical-align: inherit;">рд╢реАрд░реНрд╖ </font><font style="vertical-align: inherit;">рдкрд░ </font><font style="vertical-align: inherit;">рдПрдХ рдХрд░реАрдм рд╕реЗ </font><font style="vertical-align: inherit;">рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ </font><font style="vertical-align: inherit;">- рдлреНрд░рдВрдЯ рдПрдВрдбред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dp/ya/yw/dpyaywk2lq0qub5zh4dvjlqwjn4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реАрдЧреЗрд╕реА рдбреЗрдХреЛрдб рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рдВрд╕ рдореЗрдВ рдХреЛрдб рдХреЛ рдбрд┐рдХреЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдШрдЯрдХ рд╣реЛрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд░реНрджреЗрд╢ рдлрд╝реЗрдЪ рдпреВрдирд┐рдЯ - IFU</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдердо рд╕реНрддрд░ рдХреЗ рдирд┐рд░реНрджреЗрд╢ рдХреИрд╢ - L1i</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд░реНрджреЗрд╢ рд▓реЙрдЧ рдЕрдиреБрд╡рд╛рдж рдкрддрд╛ рдХреИрд╢ - ITLB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рд╢рд┐рдХреНрд╖рдХ рдкреНрд░рд╛рдиреНрдд</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреВрд░реНрд╡ рдбрд┐рдХреЛрдбрд░ рдирд┐рд░реНрджреЗрд╢</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреВрд░реНрд╡-рдбрд┐рдХреЛрдб рдХрд┐рдП рдЧрдП рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреА рдХрддрд╛рд░</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдкреНрд░реА-рдбрд┐рдХреЛрдбреЗрдб рдирд┐рд░реНрджреЗрд╢ рдбрд┐рдХреЛрдбрд░реНрд╕</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓рд┐рдЧреЗрд╕реА рдбрд┐рдХреЛрдб рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рднрд╛рдЧ рдкрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд░реНрджреЗрд╢ рдлрд╝реЗрдЪ рдпреВрдирд┐рдЯред </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╣ рдХреЛрдб рд▓реЛрдб рдХрд░рдиреЗ, рдкреНрд░реА-рдХреЛрдбрд┐рдВрдЧ (рдирд┐рд░реНрджреЗрд╢ рдХреА рд▓рдВрдмрд╛рдИ рдФрд░ "рдЬреИрд╕реЗ рдХрд┐ рдХреНрдпрд╛ рдирд┐рд░реНрджреЗрд╢ рдПрдХ рд╢рд╛рдЦрд╛ рд╣реИ" рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ) рдФрд░ рдХрддрд╛рд░ рдореЗрдВ рдкреВрд░реНрд╡-рдбрд┐рдХреЛрдб рдХрд┐рдП рдЧрдП рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЛ рд╡рд┐рддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдердо рд╕реНрддрд░ рдХреЗ рдирд┐рд░реНрджреЗрд╢ рдХреИрд╢ - L1i</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЛрдб рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, IFU L1i, рдкреНрд░рдердо-рд╕реНрддрд░реАрдп рдЕрдиреБрджреЗрд╢ рдХреИрд╢ рдФрд░ L2 / LLC, рджреНрд╡рд┐рддреАрдп-рд╕реНрддрд░ рдХреИрд╢ рдФрд░ рд╢реАрд░реНрд╖-рд╕реНрддрд░ рдСрдлрдХреЛрд░ рдХреИрд╢, рдХреЛрдб рдФрд░ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдбрд╛рдЙрдирд▓реЛрдб 16 рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдЯреБрдХрдбрд╝реЛрдВ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╣ рднреА 16 рдмрд╛рдЗрдЯреНрд╕ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИред рдЬрдм рдЕрдЧрд▓реЗ 16-рдмрд╛рдЗрдЯ рдХрд╛ рдХреЛрдб рдСрд░реНрдбрд░ рдореЗрдВ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдПрд▓ 1 рдЖрдИ рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░, рдпрджрд┐ рд╕рдВрдмрдВрдзрд┐рдд рд▓рд╛рдЗрди рдирд╣реАрдВ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рдПрд▓ 2 рдФрд░, рдПрд▓рдПрд▓рд╕реА рдФрд░ рдореЗрдореЛрд░реА рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдПрдХ рдЦреЛрдЬ рдХреА рдЬрд╛рддреА рд╣реИред Skylake LLC рд╕реЗ рдкрд╣рд▓реЗ, рдХреИрд╢ рд╕рдорд╛рд╡реЗрд╢реА рдерд╛ - L1 (i / d) рдФрд░ L2 рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдХреНрддрд┐ рдХреЛ LLC рдореЗрдВ рд╕рдорд╛рд╣рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╕рднреА рдХреЛрд░ рдореЗрдВ рд╕рднреА рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрд▓рдПрд▓рд╕реА "рдЬрд╛рдирддрд╛ рдерд╛" рдФрд░, рдПрд▓рдПрд▓рд╕реА рдкрд░реНрдЪреА рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдЬреНрдЮрд╛рдд рдерд╛ рдХрд┐ рдХреНрдпрд╛ рдЕрдиреНрдп рдХреЛрд░ рдореЗрдВ рдХреИрд╢ рдореЗрдВ рд╕рдВрд╢реЛрдзрд┐рдд рд░рд╛рдЬреНрдп рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рд▓рд╛рдЗрди рд╢рд╛рдорд┐рд▓ рдереА, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдпрд╣ рд▓рд╛рдЗрди рдХрд┐рд╕реА рдЕрдиреНрдп рдХреЛрд░ рд╕реЗ рд▓реЛрдб рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред рд╕реНрдХрд╛рдИрд▓реЗрдХ рдПрд▓рдПрд▓рд╕реА рдПрдХ рдЧреИрд░-рд╕рдорд╛рд╡реЗрд╢реА L2- рдкреАрдбрд╝рд┐рдд рдХреИрд╢ рдмрди рдЧрдпрд╛, рд▓реЗрдХрд┐рди L2 рдХрд╛ рдЖрдХрд╛рд░ 4 рдЧреБрдирд╛ рдмрдврд╝ рдЧрдпрд╛ред рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛рдХреНрдпрд╛ L2 L1i рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рд╕рдорд╛рд╡реЗрд╢реА рд╣реИред рдПрд▓ 2</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L1d рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рд╕рдорд╛рд╡реЗрд╢реА </font><b><font style="vertical-align: inherit;">рдирд╣реАрдВ рд╣реИ</font></b><font style="vertical-align: inherit;"> ред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рддрд╛рд░реНрдХрд┐рдХ рдкрддреЛрдВ рдХрд╛ рдЕрдиреБрд╡рд╛рдж - ITLB</font></font></b> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдХреИрд╢ рд╕реЗ рдбреЗрдЯрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рд▓рд╛рдЗрди рдХреЛ рдЦреЛрдЬрдирд╛ рд╣реЛрдЧрд╛ред рдлреЙрд░- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрд╕реЛрд╕рд┐рдПрдЯрд┐рд╡ рдХреИрд╢</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдХреНрддрд┐ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдХреИрд╢</font></a><font style="vertical-align: inherit;"> рдореЗрдВ </font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ </font><font style="vertical-align: inherit;">рд╣реЛ рд╕рдХрддреА </font><font style="vertical-align: inherit;">рд╣реИред рдХреИрд╢ рдореЗрдВ рд╕рдВрднрд╛рд╡рд┐рдд рдкрджреЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдЖрдорддреМрд░ рдкрд░ рдкрддреЗ рдХреЗ рдХреБрдЫ рдирд┐рдЪрд▓реЗ рдЯреБрдХрдбрд╝реЗ)ред рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ рд▓рд╛рдЗрди рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдкрддреЗ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ, рдПрдХ рдЯреИрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдмрд╛рдХреА рдкрддрд╛)ред рдХрд┐рд╕ рдкрддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ: рднреМрддрд┐рдХ рдпрд╛ рддрд╛рд░реНрдХрд┐рдХ - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрд╢ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рднреМрддрд┐рдХ рдкрддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдкрддреЗ рдХреЗ рдЕрдиреБрд╡рд╛рдж рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдкрддреЗ рдХреЗ рдЕрдиреБрд╡рд╛рдж рдХреЗ рд▓рд┐рдП, рдПрдХ рдЯреАрдПрд▓рдмреА рдмрдлрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдкреЗрдЬ рд╡реЙрдХ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рдХреИрд╢ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдмрд╛рдж рдХреЗ рдХреЙрд▓ рдкрд░ рддрд╛рд░реНрдХрд┐рдХ рдкрддреЗ рд╕реЗ рднреМрддрд┐рдХ рдкрддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рджреЗрд░реА рдХреЛ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП, рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдирд┐рд░реНрджреЗрд╢ рдЯреАрдПрд▓рдмреА рдмрдлрд░ рд╣реИ, рдЬреЛ рдбреЗрдЯрд╛ рдЯреАрдПрд▓рдмреА рд╕реЗ рдЕрд▓рдЧ рд╕реНрдерд┐рдд рд╣реИред рд╕реАрдкреАрдпреВ рдХреЛрд░ рдореЗрдВ рдХреЛрдб рдФрд░ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рджреВрд╕рд░реЗ рд╕реНрддрд░ рдХрд╛ рдЯреАрдПрд▓рдмреА рдХреЙрдорди рд╣реИ - рдПрд╕рдЯреАрдПрд▓рдмреАред рдХреНрдпрд╛ рдПрд╕рдЯреАрдПрд▓рдмреА рдореЗрд░реЗ рд▓рд┐рдП рдЕрдЬреНрдЮрд╛рдд рд╣реИ (рдбреА / рдЖрдИ рдЯреАрдПрд▓рдмреА рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕рдорд╛рд╡реЗрд╢реА рдкреАрдбрд╝рд┐рдд рдХреИрд╢ рдирд╣реАрдВ рд╣реЛрдиреЗ рдХреА рдЕрдлрд╡рд╛рд╣)ред рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдкреНрд░реАрдлреИрдЪ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</font></font><code>prefetcht1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдк L2 рдореЗрдВ рдХреЛрдб рдХреЗ рд╕рд╛рде рд▓рд╛рдЗрди рдЦреАрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╕рдВрдмрдВрдзрд┐рдд TLB рд░рд┐рдХреЙрд░реНрдб рдХреЗрд╡рд▓ DTLB рдореЗрдВ рдЦреАрдВрдЪ рд▓рд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрджрд┐ STLB рд╕рдорд╛рд╡реЗрд╢реА рдирд╣реАрдВ рд╣реИ, рддреЛ рдЬрдм рдЖрдк рдХреИрд╢ рдореЗрдВ рдХреЛрдб рдХреЗ рд╕рд╛рде рдЗрд╕ рд▓рд╛рдЗрди рдХреА рддрд▓рд╛рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ ITLB рдорд┐рд╕ -&gt; STLB рдорд┐рд╕ -&gt; рдкреЗрдЬ рд╡реЙрдХ (рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ рдЗрддрдирд╛ рд╕рд░рд▓ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдХрд░реНрдиреЗрд▓ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рд╕рдЯреНрдЯрд╛ рдкреЗрдЬ рдЪрд▓рдирд╛ рд╢реБрд░реВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд░ рд╕рдХрддрд╛ </font><font style="vertical-align: inherit;">рд╣реИ) рдЯреАрдПрд▓рдмреА рдорд┐рд╕)ред </font><font style="vertical-align: inherit;">рдЗрдВрдЯреЗрд▓ рдкреНрд░рд▓реЗрдЦрди рдХреЛрдб рдХреЗ рд▓рд┐рдП SW рдкреНрд░реАрдлрд╝реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рд╣рддреЛрддреНрд╕рд╛рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИ, Intel рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдореИрдиреБрдЕрд▓ / 2.5.5.4:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░-рдирд┐рдпрдВрддреНрд░рд┐рдд рдкреНрд░реАрдлрд╝реИрдЪ рдкреНрд░реАрдлрд╝реИрдЪрд┐рдВрдЧ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЕрднрд┐рдкреНрд░реЗрдд рд╣реИ, рд▓реЗрдХрд┐рди рдкреНрд░реАрдлрд╝реЗрдЯрд┐рдВрдЧ рдХреЛрдб рдХреЗ рд▓рд┐рдП рдирд╣реАрдВред</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЯреНрд░реИрд╡рд┐рд╕ рдбреА </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдиреЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд┐ рдЗрд╕ рддрд░рд╣ рдХреЗ рдкреНрд░реАрдлреИрдЪ рдмрд╣реБрдд рдкреНрд░рднрд╛рд╡реА (рдФрд░ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ) рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ рдпрд╣ рдореЗрд░реЗ рд▓рд┐рдП рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдФрд░ рдЗрд╕ рдмрд╛рдд рдХреЗ рд▓рд┐рдП рдЖрд╢реНрд╡рд╕реНрдд рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдореБрдЭреЗ рдЗрд╕ рдореБрджреНрджреЗ рдХреА рдЕрд▓рдЧ рд╕реЗ рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рд╢рд┐рдХреНрд╖рдХ рдкреНрд░рд╛рдиреНрдд</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреИрд╢ рдореЗрдВ рд▓реЛрдбрд┐рдВрдЧ рдбреЗрдЯрд╛ (L1d / i, L2, рдЖрджрд┐) рдЕрди-рдХреИрд╢реНрдб рдореЗрдореЛрд░реА рд▓реЛрдХреЗрд╢рди рдХреЛ рдПрдХреНрд╕реЗрд╕ рдХрд░рддреЗ рд╕рдордп рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рдпрд╣ рдХреЗрд╡рд▓ рдРрд╕реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рддрд╣рдд рд╣реБрдЖ рд╣реИ, рддреЛ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд╣рдореЗрдВ рдХреИрд╢ рдмреИрдВрдбрд╡рд┐рдбреНрде рдХрд╛ рдПрдХ рдЕрдХреНрд╖рдо рдЙрдкрдпреЛрдЧ рдорд┐рд▓реЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрд▓ 1 рдбреА рдХреЗ рд▓рд┐рдП рд╕реИрдВрдбреА рдмреНрд░рд┐рдЬ рдкрд░ - 2 рдкрдврд╝рдиреЗ рдХреЗ рд╕рдВрдЪрд╛рд▓рди, 1 рдкреНрд░рддрд┐ рдЪрдХреНрд░ 16 рдмрд╛рдЗрдЯреНрд╕ рд▓рд┐рдЦрддреЗ рд╣реИрдВ; </font><font style="vertical-align: inherit;">рдПрд▓ 1 рдЖрдИ рдХреЗ рд▓рд┐рдП - 16 рдмрд╛рдЗрдЯреНрд╕ рдХрд╛ 1 рд░реАрдб рдСрдкрд░реЗрд╢рди, рд▓рд┐рдЦрдиреЗ рдХреЗ рдереНрд░реВрдкреБрдЯ рдХреЛ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдПрдЧреНрдирд░ рдлреЙрдЧ рднреА рдирд╣реАрдВ рдорд┐рд▓рд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкреНрд░реАрдлрд╝реИрдХреНрдЯрд░ рд╣реИрдВ рдЬреЛ рдореЗрдореЛрд░реА рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рдкреИрдЯрд░реНрди рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдХреЛрдб рдХреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рдВрдмреЛрдзрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдХреИрд╢ рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рдЦреАрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрдВрдЯреЗрд▓ рдкреНрд░рд▓реЗрдЦрди 4 рдкреНрд░реАрдлреИрдЪрд░реНрд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ: рдПрд▓ 1 рдбреА рдХреЗ рд▓рд┐рдП 2, рдПрд▓ 2 рдХреЗ рд▓рд┐рдП 2:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрд▓ 1 рдбреАрд╕реАрдпреВ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдЙрдкрд╕рд░реНрдЧ рд╕реАрд░рд┐рдпрд▓ рдХреИрд╢ рд▓рд╛рдЗрдиреЗрдВред </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗрд╡рд▓ рдЖрдЧреЗ рдкрдврд╝реЗрдВ</font></font></b></li>
<li><b>L1 IP</b> тАФ              (. 0x5555555545a0, 0x5555555545b0, 0x5555555545c0, ...),    ,   ,  </li>
<li><b>L2 Spatial</b> тАФ       L2    -,        128-.       LLC</li>
<li><b>L2 Streamer</b> тАФ    .    L1 DCU      ┬л┬╗.       LLC</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрдВрдЯреЗрд▓ рдкреНрд░рд▓реЗрдЦрди рдПрд▓ 1 рдЖрдИ рдкреНрд░реАрдлреЗрдХреНрдЯрд░ рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рд╡рд░реНрдгрди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рд╕рдм рдЬреНрдЮрд╛рдд рд╣реИ рдХрд┐ рд╢рд╛рдЦрд╛ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЗрдХрд╛рдИ (рдмреАрдкреАрдпреВ) рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЗрдВрдЯреЗрд▓ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдореИрдиреБрдЕрд▓ / 2.6.2: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sd/js/y3/sdjsy3jrgseyeuukletr84i2gyu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдЧреНрдирд░ рдлреЙрдЧ рднреА рдХреЛрдИ рд╡рд┐рд╡рд░рдг рдирд╣реАрдВ рджреЗрдЦрддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрд▓ 2 / рдПрд▓рдПрд▓рд╕реА рдореЗрдВ рдХреЛрдб рдкреНрд░реАрдлреЗрдЯрд┐рдВрдЧ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдХреЗрд╡рд▓ рд╕реНрдЯреНрд░реАрдорд░ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдиреБрдХреВрд▓рди рдореИрдиреБрдЕрд▓ / 2.5.5.4 рдбреЗрдЯрд╛ рдкреНрд░реАрдлреЗрдХреНрдЯрд┐рдВрдЧ:</font></font><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдЯреНрд░реАрдорд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рдпрд╣ рдкреНрд░реАрдлрд╝реИрдЪрд░ рдореЙрдирд┐рдЯрд░ рдХреЗ рдкрддреЗ рдХреЗ рдЖрд░реЛрд╣реА рдФрд░ рдЕрд╡рд░реЛрд╣реА рдХреНрд░рдо рдХреЗ рд▓рд┐рдП L1 рдХреИрд╢ рд╕реЗ рдЕрдиреБрд░реЛрдз рдкрдврд╝рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдореЙрдирд┐рдЯрд░ рдХрд┐рдП рдЧрдП рд░реАрдб рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рдореЗрдВ рд▓реЛрдб рдФрд░ рд╕реНрдЯреЛрд░ рдСрдкрд░реЗрд╢рдВрд╕ рджреНрд╡рд╛рд░рд╛ рдФрд░ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкреНрд░реАрдлрд╝реИрдЪрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рд╢реБрд░реВ рдХрд┐рдП рдЧрдП L1 DCache рдЕрдиреБрд░реЛрдз рдФрд░ рдХреЛрдб рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП L1 ICache рдЕрдиреБрд░реЛрдз рд╢рд╛рдорд┐рд▓ рд╣реИрдВред</font></font></blockquote> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реНрдерд╛рдирд┐рдХ рдкреНрд░реАрдлрд╝реЗрдЪрд░ рдХреЗ рд▓рд┐рдП, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╡рд░реНрддрдиреА рдирд╣реАрдВ рд╣реИ:</font></font><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдерд╛рдирд┐рдХ рдкреНрд░реАрдлрд╝реЗрдЪрд░:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╣ рдкреНрд░реАрдлрд╝реИрдЪрд░ рдПрд▓ 2 рдХреИрд╢ рдХреЗ рд▓рд┐рдП рд▓рд╛рдИ рдЧрдИ рдкреНрд░рддреНрдпреЗрдХ рдХреИрд╢ рд▓рд╛рдЗрди рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЗрд╕реЗ 128-рдмрд╛рдЗрдЯ рдХреЗ рд╕рд╛рде рд╕рдВрдпреБрдХреНрдд рдмрдВрдХ рдХреЛ рдкреВрд░рд╛ рдХрд░рддрд╛ рд╣реИред</font></font></blockquote> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдореЙрдбрд▓-рд╡рд┐рд╢рд┐рд╖реНрдЯ рд░рдЬрд┐рд╕реНрдЯрд░</font></a></font><code>MSR 0x1A4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореИрдиреБрдЕрд▓ рдореЗрдВ рд╡рд░реНрдгрд┐рдд </font><font style="vertical-align: inherit;">рдЗрди рдкреНрд░реАрдлреИрдЪрд░реНрд╕ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдВрдж рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font></a><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSR 0x1A4 рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</font></font></b><div class="spoiler_text">  MSR     L2 Spatial    L1i.     .              ,    LLC.     L2 Streamer       2.5 . <br>
<br>
 Linux  msr ,   msr     .  <code>$ sudo wrmsr -p 1 0x1a4 1</code>  L2 Streamer   1.<br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреВрд░реНрд╡-рдбрд┐рдХреЛрдбрд░ рдирд┐рд░реНрджреЗрд╢</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЕрдЧрд▓реЗ 16-рдмрд╛рдЗрдЯ рдХреЛрдб рд▓реЛрдб рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рд╡реЗ рдкреВрд░реНрд╡-рдбрд┐рдХреЛрдбрд░ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдореЗрдВ рдЖрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕рдХрд╛ рдХрд╛рд░реНрдп рдирд┐рд░реНрджреЗрд╢ рдХреА рд▓рдВрдмрд╛рдИ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рд╣реИ, рдЙрдкрд╕рд░реНрдЧреЛрдВ рдХреЛ рдбрд┐рдХреЛрдб рдХрд░рдирд╛ рдФрд░ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░рдирд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╕рдВрдмрдВрдзрд┐рдд рдирд┐рд░реНрджреЗрд╢ рдПрдХ рд╢рд╛рдЦрд╛ рд╣реИ (рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЕрднреА рднреА рдХрдИ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЧреБрдг рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреНрд░рд▓реЗрдЦрди рдЪреБрдк рд╣реИ)ред </font><font style="vertical-align: inherit;">рдЗрдВрдЯреЗрд▓ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЕрдиреБрдХреВрд▓рди рдореИрдиреБрдЕрд▓ / 2.6.2.2:</font></font><br>
<blockquote>The predecode unit accepts the sixteen bytes from the instruction cache or prefetch buffers and carries out the following tasks:<br>
<br>
<ul>
<li>Determine the length of the instructions</li>
<li>Decode all prefixes associated with instructions</li>
<li>Mark various properties of instructions for the decoders (for example, тАЬis branch.тАЭ)</li>
</ul></blockquote><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреВрд░реНрд╡-рдбрд┐рдХреЛрдб рдХрд┐рдП рдЧрдП рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреА рдПрдХ рдкрдВрдХреНрддрд┐ред </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IFU рд╕реЗ, рдирд┐рд░реНрджреЗрд╢ рдкреВрд░реНрд╡-рдПрдиреНрдХреЛрдбреЗрдб рдирд┐рд░реНрджреЗрд╢ рдХрддрд╛рд░ рдореЗрдВ рдЬреЛрдбрд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдпрд╣ рдХрддрд╛рд░ рдиреЗрд╣реЗрд▓рдо рдХреЗ рдмрд╛рдж рд╕реЗ рдкреНрд░рдХрдЯ рд╣реБрдИ рд╣реИ, рдЗрдВрдЯреЗрд▓ рдкреНрд░рд▓реЗрдЦрди рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЗрд╕рдХрд╛ рдЖрдХрд╛рд░ 18 рдирд┐рд░реНрджреЗрд╢ рд╣реИред </font><font style="vertical-align: inherit;">рдПрдЧреНрдирд░ рдлреЙрдЧ рдореЗрдВ рдпрд╣ рднреА рдЙрд▓реНрд▓реЗрдЦ рд╣реИ рдХрд┐ рдпрд╣ рдХрддрд╛рд░ 64 рдмрд╛рдЗрдЯреНрд╕ рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Core2 рдореЗрдВ рднреА, рдЗрд╕ рдХрддрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рд▓реВрдк рдХреИрд╢ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЪрдХреНрд░ рд╕реЗ рд╕рднреА рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди рдХрддрд╛рд░ рдореЗрдВ рд╣реИрдВ, рддреЛ рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд▓реЛрдбрд┐рдВрдЧ рдФрд░ рдкреНрд░реА-рдХреЛрдбрд┐рдВрдЧ рдХреА рд▓рд╛рдЧрдд рд╕реЗ рдмрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реВрдк рд╕реНрдЯреНрд░реАрдо рдбрд┐рдЯреЗрдХреНрдЯрд░ (рдПрд▓рдПрд╕рдбреА) рдирд┐рд░реНрджреЗрд╢ рджреЗ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрддрд╛рд░ рдореЗрдВ рд╣реИрдВ рдЬрдм рддрдХ рдХрд┐ рдмреАрдкреАрдпреВ рд╕рдВрдХреЗрдд рдирд╣реАрдВ рджреЗрддрд╛ рдХрд┐ рдЪрдХреНрд░ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдПрдЧреНрдирд░ рдлреЙрдЧ рдореЗрдВ рдХреЛрд░ 2 рдкрд░ рдПрд▓рдПрд╕рдбреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрдИ рджрд┐рд▓рдЪрд╕реНрдк рдиреЛрдЯ рд╣реИрдВ:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 рдмрд╛рдЗрдЯреНрд╕ рдХреА 4 рд▓рд╛рдЗрдиреЛрдВ рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдирддрд╛ рд╣реИ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рддрд┐ рдЪрдХреНрд░ рдХреЛрдб рдХреЗ 32 рдмрд╛рдЗрдЯ рддрдХ рдкреАрдХ рдереНрд░реВрдкреБрдЯ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реИрдВрдбреА рдмреНрд░рд┐рдЬ рд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╡рд╛рд▓рд╛ рдпрд╣ рд▓реВрдк рдХреИрд╢ рдкреНрд░реА-рдбрд┐рдХреЛрдбреЗрдб рдЗрдВрд╕реНрдЯреНрд░рдХреНрд╢рди рдХреНрдпреВ рд╕реЗ рд╡рд╛рдкрд╕ IDQ рдореЗрдВ рдЪрд▓рд╛ рдЧрдпрд╛ рд╣реИред </font></font><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдореЗрдВ рдкреВрд░реНрд╡-рдбрд┐рдХреЛрдб рдХрд┐рдП рдЧрдП рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рдбрд┐рдХреЛрдбрд░реНрд╕ рдкреВрд░реНрд╡-рдбрд┐рдХреЛрдб рдХрд┐рдП рдЧрдП рдирд┐рд░реНрджреЗрд╢реЛрдВ</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдХреА рдХрддрд╛рд░ рд╕реЗ, рдХреЛрдб рдХреЛ рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдореЗрдВ рдбрд┐рдХреЛрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред рдбрд┐рдХреЛрдбрд┐рдВрдЧ рдбрд┐рдХреЛрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВ - рдХреБрд▓ 4 рд╣реИрдВред рдЗрдВрдЯреЗрд▓ рдкреНрд░рд▓реЗрдЦрди рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдбрд┐рдХреЛрдбрд░реНрд╕ рдореЗрдВ рд╕реЗ рдПрдХ 4 рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдпрд╛ рдХрдо рд╕реЗ рдХрдо рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЛ рдбрд┐рдХреЛрдб рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдмрд╛рдХреА рдПрдХ рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди (рдорд╛рдЗрдХреНрд░реЛ / рдореИрдХреНрд░реЛ рдлреНрдпреВрдЬреНрдб), рдЗрдВрдЯреЗрд▓ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдореИрдиреБрдЕрд▓ / 2.5.2.1 рд╕реЗ рдорд┐рд▓рдХрд░ рдирд┐рд░реНрджреЗрд╢ рдХреЛ рдбрд┐рдХреЛрдб рдХрд░рддрд╛ рд╣реИ:</font></font><br>
<blockquote>There are four decoding units that decode instruction into micro-ops. The first can decode all IA-32 and Intel 64 instructions up to four micro-ops in size. The remaining three decoding units handle single-micro-op instructions. All four decoding units support the common cases of single micro-op flows including micro-fusion and macro-fusion.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рдВрд╕ рдореЗрдВ рдбрд┐рдХреЛрдб рдХрд┐рдП рдЧрдП рдирд┐рд░реНрджреЗрд╢ (рдЬреИрд╕реЗ рдХрд┐ рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдИ рдЧрдИ рдореЗрдореЛрд░реА рдХреЗ рдХреБрдЫ рдЖрдХрд╛рд░реЛрдВ рдореЗрдВ libc рдореЗрдВ рдореЗрдореЗрдХрдкреА рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рддрд┐рдирд┐рдзрд┐ movsb) рдорд╛рдЗрдХреНрд░реЛрдХреЛрдб рд╕реАрдХреНрд╡реЗрдВрд╕рд░ (MS ROM) рд╕реЗ рдЖрддреЗ рд╣реИрдВред рд╕реАрдХреНрд╡реЗрдВрд╕рд░ рдХрд╛ рд╢рд┐рдЦрд░ рдмреИрдВрдбрд╡рд┐рдбреНрде рдкреНрд░рддрд┐ рдЪрдХреНрд░ 4 рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЕрд╕реЗрдВрдмрд▓реА рд▓рд╛рдЗрди рдЖрд░реЗрдЦ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд▓рд┐рдЧреЗрд╕реА рдбрд┐рдХреЛрдб рдкрд╛рдЗрдкрд▓рд╛рдЗрди рд╕реНрдХрд╛рдЗрд▓реЗрдХ рдкрд░ рдкреНрд░рддрд┐ рдЪрдХреНрд░ 5 рдорд╛рдЗрдХреНрд░реЛ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рдбрд┐рдХреЛрдб рдХрд░ рд╕рдХрддреА рд╣реИред рдмреНрд░реЙрдбрд╡реЗрд▓ рдФрд░ рдкреБрд░рд╛рдиреЗ рдкрд░, рд▓рд┐рдЧреЗрд╕реА рдбрд┐рдХреЛрдб рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХреА рдЪреЛрдЯреА рдереНрд░реВрдкреБрдЯ рдкреНрд░рддрд┐ рдЪрдХреНрд░ 4 рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдереАред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдХреИрд╢</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рд░реНрджреЗрд╢ рдорд╛рдЗрдХреНрд░реЛрдкрд░реЗрд╢рди рдореЗрдВ рдбрд┐рдХреЛрдб рдХрд┐рдП рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рд▓рд┐рдЧреЗрд╕реА рдбрд┐рдХреЛрдб рдкрд╛рдЗрдкрд▓рд╛рдЗрди рд╕реЗ рд╡реЗ рд╡рд┐рд╢реЗрд╖ рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдХрддрд╛рд░ рдореЗрдВ рдЖрддреЗ рд╣реИрдВ - рдЗрдВрд╕реНрдЯреНрд░рдХреНрд╢рди рдбрд┐рдХреЛрдб рдХреНрдпреВ (рдЖрдИрдбреАрдХреНрдпреВ), рд╕рд╛рде рд╣реА рддрдерд╛рдХрдерд┐рдд рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдХреИрд╢ (рдбрд┐рдХреЛрдбреЗрдб рдЖрдИрд╕реАрдП, рдХреИрд╢)ред рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдХреИрд╢ рдореВрд▓ рд░реВрдк рд╕реЗ рд╕реИрдВрдбреА рдмреНрд░рд┐рдЬ рдореЗрдВ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдорд╛рдЗрдХреНрд░реЛрдПрдкрд░реЗрд╢рдВрд╕ рдореЗрдВ рдирд┐рд░реНрджреЗрд╢рди рдФрд░ рдбрд┐рдХреЛрдбрд┐рдВрдЧ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ IDQ - 6 рдкреНрд░рддрд┐ рдЪрдХреНрд░ рддрдХ рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди рджреЗрдиреЗ рдореЗрдВ рдереНрд░реВрдкреБрдЯ рдмрдврд╝ рдЬрд╛рддрд╛ рд╣реИред IDQ рдореЗрдВ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, microoperations рдкреНрд░рддрд┐ рдЪрдХреНрд░ 4 microoperations рдХреЗ рд╢рд┐рдЦрд░ рдкреНрд░рд╡рд╛рд╣ рдХреЗ рд╕рд╛рде рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП рдмреИрдХ рдПрдВрдб рдкрд░ рдЬрд╛рддреЗ рд╣реИрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрдВрдЯреЗрд▓ рдкреНрд░рд▓реЗрдЦрди рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдХреИрд╢ рдореЗрдВ 32 рд╕реЗрдЯ рд╣реЛрддреЗ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЯ рдореЗрдВ 8 рд▓рд╛рдЗрдиреЗрдВ рд╣реЛрддреА рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рд▓рд╛рдЗрди 6 рдорд╛рдЗрдХреНрд░реЛ рдСрдкрд░реЗрд╢рдВрд╕ (рдорд╛рдЗрдХреНрд░реЛ / рдореИрдХреНрд░реЛ рдлреНрдпреВрдЬреНрдб) рддрдХ рдХреИрд╢ рдХрд░ рд╕рдХрддреА рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдХреБрд▓ рдХреИрд╢ 32 * 8 * 6 = 1536 рдорд╛рдЗрдХреНрд░реЛ рдСрдкрд░реЗрд╢рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред ред </font><font style="vertical-align: inherit;">рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдХреИрд╢рд┐рдВрдЧ 32 рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рджрд╛рдиреЗ рдХреЗ рд╕рд╛рде рд╣реЛрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддред </font><font style="vertical-align: inherit;">рд╡рд┐рднрд┐рдиреНрди 32-рдмрд╛рдЗрдЯ рдХреНрд╖реЗрддреНрд░реЛрдВ рд╕реЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕реВрдХреНрд╖реНрдо-рд╕рдВрдЪрд╛рд▓рди рдПрдХ рдкрдВрдХреНрддрд┐ рдореЗрдВ рдирд╣реАрдВ рдЧрд┐рд░ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, 3 рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХреИрд╢ рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рдПрдХ 32-рдмрд╛рдЗрдЯ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕ рдкреНрд░рдХрд╛рд░, upop рдХреИрд╢ рдореЗрдВ 18 рдорд╛рдЗрдХреНрд░реЛрдкрд░реЗрд╢рдВрд╕ рдкреНрд░рддреНрдпреЗрдХ 32-рдмрд╛рдЗрдЯ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрдВрдЯреЗрд▓ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЕрдиреБрдХреВрд▓рди рдореИрдиреБрдЕрд▓ / 2.5.5.2</font></font></b><div class="spoiler_text"><blockquote>The Decoded ICache consists of 32 sets. Each set contains eight Ways. Each Way can hold up to six micro-ops. The Decoded ICache can ideally hold up to 1536 micro-ops. The following are some of the rules how the Decoded ICache is filled with micro-ops:<br>
<br>
<ul>
<li>ll micro-ops in a Way represent instructions which are statically contiguous in the code and have their EIPs within the same aligned 32-byte region.</li>
<li>Up to three Ways may be dedicated to the same 32-byte aligned chunk, allowing a total of 18 micro-ops to be cached per 32-byte region of the original IA program.</li>
<li>A multi micro-op instruction cannot be split across Ways.</li>
<li>Up to two branches are allowed per Way. </li>
<li>An instruction which turns on the MSROM consumes an entire Way.</li>
<li>A non-conditional branch is the last micro-op in a Way. </li>
<li>Micro-fused micro-ops (load+op and stores) are kept as one micro-op.</li>
<li>A pair of macro-fused instructions is kept as one micro-op.</li>
<li>Instructions with 64-bit immediate require two slots to hold the immediate.</li>
</ul></blockquote><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agner Fog рдореЗрдВ рдпрд╣ рднреА рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдХреЗрд╡рд▓ рд╕рд┐рдВрдЧрд▓ рд▓рд╛рдЗрди рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рдВрд╕ рдкреНрд░рддрд┐ рдЪрдХреНрд░ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (Intel рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдХрд╣рд╛ рдирд╣реАрдВ рдЧрдпрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдБрдХрд┐ рдЗрд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЬрд╛рдБрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ)ред</font></font><br>
<br>
<h4>    ┬╡op cache --&gt; IDQ</h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдлреНрд░рдВрдЯ рдПрдВрдб рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1-рдмрд╛рдЗрдЯ рд▓рдВрдмрд╛рдИ </font><font style="vertical-align: inherit;">рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ </font><font style="vertical-align: inherit;">ред рдЙрд╕реА рд╕рдордп, рд╣рдо рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдо рдлреНрд░рдВрдЯ рдПрдВрдб рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рди рдХрд┐ рдХрд┐рд╕реА рднреА рдХрд╛рд░рдг рд╕реЗ рдмреИрдХ рдПрдВрдб рдкрд░ рд░рд┐рд╕реЛрд░реНрд╕ рд╕реНрдЯреЙрд▓ред рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЕрдиреНрдп рдирд┐рд░реНрджреЗрд╢ рднреА, рдЙрдиреНрд╣реЗрдВ рд▓реАрдЧреЗрд╕реА рдбрд┐рдХреЛрдб рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдореЗрдВ рдбрд┐рдХреЛрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, IDop рдХреИрд╢ рдореЗрдВ рдорд┐рд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ IDQ рдХреЛ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд╕рд╛рде рд╣реА рдЕрдиреНрдп рдирд┐рд░реНрджреЗрд╢, рд╡рд╛рдкрд╕ рдЕрдВрдд рд▓реЗрддрд╛ рд╣реИред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрдВрддрд░ рдпрд╣ рд╣реИ рдХрд┐ рдмреИрдХ рдПрдВрдб рдкрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛ рдХреЗрд╡рд▓ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд╛рдЙрдЯрд░ рдмрдлрд░</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">рдФрд░ рдЗрд╕реЗ рд░рд┐рдЬрд░реНрд╡реЗрд╢рди рд╕реНрдЯреЗрд╢рди (рдЙрд░реНрдл рд╢реЗрдбреНрдпреВрд▓рд░) рдореЗрдВ рд╕реНрд▓реЙрдЯ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд░рд╛рдЙрдЯрд░ рдмрдлрд░ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж, рдпрд╣ </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИ, рдЬрд┐рд╕реЗ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛрдб рдореЗрдВ рдЖрджреЗрд╢ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдкреНрд░рджрд░реНрд╢рди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдереНрд░реВрдкреБрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдШреЛрд╖рд┐рдд рдХрд░реЗрдВ </font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">test_decoded_icache</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> iteration_count)</span></span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░ </font></font><code>nasm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">align 32<font></font>
test_decoded_icache:<font></font>
    ;nop',  0  23 <font></font>
    dec rdi<font></font>
    ja test_decoded_icache<font></font>
    ret</code></pre><br>
<code>ja</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕реЗ рд╕рдВрдпреЛрдЧ рд╕реЗ рдирд╣реАрдВ рдЪреБрдирд╛ рдЧрдпрд╛ рдерд╛ред </font></font><code>ja</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>dec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рднрд┐рдиреНрди рдЭрдВрдбреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ - рд╕реЗ </font></font><code>ja</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрдврд╝рддрд╛ рд╣реИ </font></font><code>CF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>ZF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>dec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реАрдПрдл рдореЗрдВ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдХреНрд░реЛ рдлреНрдпреВрдЬрди рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рд╡рд┐рд╢реБрджреНрдз рд░реВрдк рд╕реЗ рдПрдХ рдЪрдХреНрд░ рдореЗрдВ microoperations рдЧрд┐рдирддреА рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдкреНрд░рддреНрдпреЗрдХ рдирд┐рд░реНрджреЗрд╢ рдПрдХ microoperation рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдорд╛рдк рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреВрд░реНрдг рдШрдЯрдирд╛рдУрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font></font><code>uops_issued.any</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рд░реЗрдирдорд░ рдЖрдИрдбреАрдХреНрдпреВ рд╕реЗ рд▓реЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕реВрдХреНрд╖реНрдо рдкрд░рд┐рдЪрд╛рд▓рдиреЛрдВ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрдВрдЯреЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдЧрд╛рдЗрдб рдЗрд╕ рдШрдЯрдирд╛ рдХреЛ рдорд╛рдЗрдХреНрд░реЛ-рд╕рдВрдЪрд╛рд▓рди рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рджрд░реНрдЬ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рд░реЗрдирдорд░ рд░рд┐рдЬрд░реНрд╡реЗрд╢рди рд╕реНрдЯреЗрд╢рди рдореЗрдВ рд░рдЦрддрд╛ рд╣реИ:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд┐рдЬрд╝рд░реНрд╡реЗрд╢рди рд╕реНрдЯреЗрд╢рди (RS) рдХреЗ рд▓рд┐рдП рд╕рдВрд╕рд╛рдзрди рдЖрд╡рдВрдЯрди рддрд╛рд▓рд┐рдХрд╛ (RAT) рдХреЗ рд▓рд┐рдП рдпреВрдУрдкреА рдХреА рд╕рдВрдЦреНрдпрд╛ рдЧрд┐рдирд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рд╡рд┐рд╡рд░рдг рдЙрди рдореВрд▓реНрдпреЛрдВ рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдВрдмрджреНрдз рдирд╣реАрдВ рд╣реИ рдЬреЛ рдкреНрд░рдпреЛрдЧреЛрдВ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рд╡реЗ </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдХрд╛рдЙрдВрдЯрд░ рдореЗрдВ рдЖрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рддрдереНрдп рд╣реИ рдХрд┐ рдЖрд░рдХреНрд╖рдг рд╕реНрдЯреЗрд╢рди рдкрд░ рдЙрдирдХреА рдмрд┐рд▓реНрдХреБрд▓ рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><code>uops_retired.retire_slots</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдЦрд╛рддреЗ рд╕реВрдХреНрд╖реНрдо / рд╡реГрд╣рдж рд╕рдВрд▓рдпрди рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдХрд░ рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрдд microoperations рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. </font></font><code>uops_retired.stall_cycles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯрд┐рдХ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рд╡рд╣рд╛рдБ рдПрдХ рднреА рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрдд microoperation рдирд╣реАрдВ рдерд╛ рдХреА рд╕рдВрдЦреНрдпрд╛ - </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. </font></font><code>resource_stalls.any</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрдиреНрд╡реЗрдпрд░ рдХреА рдЯрд┐рдХ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдмреИрдХ рдПрдВрдб рдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдХреА рдЕрдкреНрд░рд╛рдкреНрдпрддрд╛ рдХреА рд╡рдЬрд╣ рд╕реЗ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрдВрдЯреЗрд▓ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЕрдиреБрдХреВрд▓рди рдореИрдиреБрдЕрд▓ / рдмреА рдореЗрдВ .4.1 рдПрдХ рд╕рд╛рдордЧреНрд░реА рдЖрд░реЗрдЦ рд╣реИ рдЬреЛ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рдШрдЯрдирд╛рдУрдВ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/j9/y3/wqj9y3jj7aeisnmdjxxxjwsl_jk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. </font></font><code>idq.all_dsb_cycles_4_uops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдШрдбрд╝реА рдЪрдХреНрд░реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП 4 (рдпрд╛ рдЕрдзрд┐рдХ) рдирд┐рд░реНрджреЗрд╢ .op рдХреИрд╢ рд╕реЗ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдП рдЧрдП рдереЗред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рдореАрдЯреНрд░рд┐рдХ рдкреНрд░рддрд┐ рдЪрдХреНрд░ рдореЗрдВ 4 рд╕реЗ рдЕрдзрд┐рдХ рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рдиреЛрдВ рдХреЗ рд╡рд┐рддрд░рдг рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддрд╛ рд╣реИ, рдЗрдВрдЯреЗрд▓ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдкреНрд░рдпреЛрдЧреЛрдВ рд╕реЗ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕рд╣рдордд рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. </font></font><code>idq.all_dsb_cycles_any_uops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдЙрдкрд╛рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо рдПрдХ рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7. </font></font><code>idq.dsb_cycles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдХреБрд▓ рдХрд┐рддрдиреЗ рдЙрдкрд╛рдпреЛрдВ рдкрд░ рдбрд┐рд▓реАрд╡рд░реА --op рдХреИрд╢ рд╕реЗ рд╣реБрдИ рдереАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8. </font></font><code>idq_uops_not_delivered.cycles_le_N_uop_deliv.core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдЙрди рдЙрдкрд╛рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛, рдЬрд┐рдирдХреЗ рд▓рд┐рдП Renamer рдиреЗ рдПрдХ </font></font><code>N</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╛ </font><font style="vertical-align: inherit;">рдПрдХ </font><font style="vertical-align: inherit;">рд╕реЗ рдХрдо рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди рд▓рд┐рдП рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреИрдХ рдПрдВрдб рдХреА рддрд░рдл рдХреЛрдИ рдбрд╛рдЙрдирдЯрд╛рдЗрдо рдирд╣реАрдВ рдерд╛</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><code>N</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 1, 2, 3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рд░рд┐рд╕рд░реНрдЪ рдХреЗ рд▓рд┐рдП рд▓реЗрддреЗ рд╣реИрдВ </font></font><code>iteration_count = 1 &lt;&lt; 31</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рд╣рдо рд╕реАрдкреАрдпреВ рдореЗрдВ рдЬреЛ рд╣реЛ рд░рд╣рд╛ рд╣реИ рдЙрд╕рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдХрд┐ рд╕реВрдХреНрд╖реНрдо рдкрд░рд┐рдЪрд╛рд▓рдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдФрд╕рдд рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рдмреИрдВрдбрд╡рд┐рдбреНрде рдХреЛ рдорд╛рдкрддреЗ рд╣реИрдВ, рдЕрд░реНрдерд╛рддреНред </font></font><code>uops_retired.retire_slots/uops_retired.total_cycle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xi/b2/0s/xib20shepbr334i1xmhka10rjeg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдкрдХреА рдЖрдВрдЦ рдЬреЛ рддреБрд░рдВрдд рдкрдХрдбрд╝рддреА рд╣реИ рд╡рд╣ 7 рд╕реВрдХреНрд╖реНрдо-рд╕рдВрдЪрд╛рд▓рди рдХреЗ рдЪрдХреНрд░ рдЖрдХрд╛рд░ рдореЗрдВ рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рдереНрд░реВрдкреБрдЯ рдХрд╛ рдЙрдкрдЦрдВрдб рд╣реИред рдЗрд╕ рдорд╛рдорд▓реЗ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдЗрдП рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓рддреЗ рд╣реИрдВ рдХрд┐ --op рдХреИрд╢ рд╕реЗ рдФрд╕рдд рдбрд┐рд▓реАрд╡рд░реА рдХреА рдЧрддрд┐ </font><font style="vertical-align: inherit;">
рдХреИрд╕реЗ </font><font style="vertical-align: inherit;">рдмрджрд▓ рдЬрд╛рддреА рд╣реИ </font></font><code>idq.all_dsb_cycles_any_uops / idq.dsb_cycles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xm/5s/su/xm5ssuzamxr4th-xs7e0ixrisfm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдХреБрд▓ рдЙрдкрд╛рдп рдФрд░ рдЙрдкрд╛рдп рдЬрд┐рдирдХреЗ рд▓рд┐рдП ioop рдХреИрд╢ рдХреЛ IDQ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/it/w5/va/itw5vasl9ogpslneyoclxzasu4k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ 6 рдорд╛рдЗрдХреНрд░реЛ рдСрдкрд░реЗрд╢рди рдХреЗ рдПрдХ рдЪрдХреНрд░ рдХреЗ рд╕рд╛рде рд╣рдо рдПрдХ рдкреНрд░рднрд╛рд╡реА рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред рдХреИрд╢ рд╕рдВрдЪрдп рдмреИрдВрдбрд╡рд┐рдбреНрде рдЙрдкрдпреЛрдЧ - рдкреНрд░рддрд┐ рдЪрдХреНрд░ 6 рдорд╛рдЗрдХреНрд░реЛ рдСрдкрд░реЗрд╢рдиред рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд┐ Renamer рдЬрд┐рддрдирд╛ рдХреИрд╢ рдбрд┐рд▓реАрд╡рд░ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, cacheop cache cycles рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдХреБрдЫ рднреА рдбрд┐рд▓реАрд╡рд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдкрд┐рдЫрд▓реЗ рдЧреНрд░рд╛рдлрд╝ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7 рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди рдХреЗ рдЪрдХреНрд░ рдХреЗ рд╕рд╛рде, рд╣рдореЗрдВ cacheop рдХреИрд╢ рдХреЗ 3.5-рдкреНрд░рддрд┐ рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди рдХреЗ рдереНрд░реВрдкреБрдЯ рдореЗрдВ рддреЗрдЬ рдЧрд┐рд░рд╛рд╡рдЯ рдорд┐рд▓рддреА рд╣реИред рдЙрд╕реА рд╕рдордп, рдЬреИрд╕рд╛ рдХрд┐ рдкрд┐рдЫрд▓реЗ рдЧреНрд░рд╛рдл рд╕реЗ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, isop рдХреИрд╢ рд▓рдЧрд╛рддрд╛рд░ рдкреНрд░рдЪрд╛рд▓рди рдореЗрдВ рд╣реИред рдЗрд╕ рдкреНрд░рдХрд╛рд░, 7 microoperations рдХреЗ рдПрдХ рдЪрдХреНрд░ рдХреЗ рд╕рд╛рде, рд╣рдореЗрдВ рдмреИрдВрдбрд╡рд┐рдбреНрде cacheop рдХреИрд╢ рдХрд╛ рдЕрдХреНрд╖рдо рдЙрдкрдпреЛрдЧ рдорд┐рд▓рддрд╛ рд╣реИред рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐, рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдкреНрд░рддрд┐ рдЪрдХреНрд░ isop рдХреИрд╢ рдХреЗрд╡рд▓ рдПрдХ рдкрдВрдХреНрддрд┐ рд╕реЗ рдорд╛рдЗрдХреНрд░реЛрдПрд░реЗрд╕реЗрд░ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддрд╛ рд╣реИред Microoperations 7 рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ - рдкрд╣рд▓реЗ 6 рдПрдХ рдкрдВрдХреНрддрд┐ рдореЗрдВ рдЖрддреЗ рд╣реИрдВ, рдФрд░ рд╢реЗрд╖ 7 рд╡реЗрдВ - рджреВрд╕рд░реЗ рдореЗрдВред рдЗрд╕ рддрд░рд╣, рд╣рдореЗрдВ рдкреНрд░рддрд┐ рдЪрдХреНрд░ рдореЗрдВ 7 рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдпрд╛ рдкреНрд░рддрд┐ рдЪрдХреНрд░ 3.5 рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдорд┐рд▓рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рд░реЗрдирдореЗрд░ рдЖрдИрдбреАрдХреНрдпреВ рд╕реЗ рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдХреИрд╕реЗ рд▓реЗрддрд╛ рд╣реИред рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдореЗрдВ рдЪрд╛рд╣рд┐рдП </font></font><code>idq_uops_not_delivered.core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>idq_uops_not_delivered.cycles_le_N_uop_deliv.core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kv/mg/qv/kvmgqvwgra-j4qgpxia46mwlsh4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ 7 рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди рдХреЗ рд╕рд╛рде, рдПрдХ рдмрд╛рд░ рдореЗрдВ рдХреЗрд╡рд▓ 3 рдорд╛рдЗрдХреНрд░реЛрдСрдкрд░реЗрд╢рди рдЖрдзреЗ Renamer рдЪрдХреНрд░ рд▓реЗрддреЗ рд╣реИрдВред рдпрд╣рд╛рдВ рд╕реЗ рд╣рдореЗрдВ рдкреНрд░рддрд┐ рдЪрдХреНрд░ рдФрд╕рддрди 3.5 рдорд╛рдЗрдХреНрд░реЛ-рдСрдкрд░реЗрд╢рди рдХрд╛ рд░рд┐рдЯрд╛рдпрд░рдореЗрдВрдЯ рдереНрд░реВрдкреБрдЯ рдорд┐рд▓рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдПрдХ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рдпрд╣ рджреЗрдЦреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╣рдо </font><font style="vertical-align: inherit;">рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ </font><font style="vertical-align: inherit;">рдХреЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рднрд╛рд╡реА</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдереНрд░реВрдкреБрдЯ рдкрд░ </font><font style="vertical-align: inherit;">рд╡рд┐рдЪрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред рдЙрдиред рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ </font></font><code>uops_retired.stall_cycles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uo/hy/gt/uohygtod0xknhsvolqjnig7tfos.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ 7 рдорд╛рдЗрдХреНрд░реЛрдПрд░реЗрд╢рдВрд╕ рдХреЗ рд╕рд╛рде, 4 рдорд╛рдЗрдХреНрд░реЛрдкреЗрд░реЗрд╢рди рдХреЗ рдкреНрд░рддреНрдпреЗрдХ 7 рдЙрдкрд╛рдпреЛрдВ рдХреА рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рд╣рд░ 8 рд╡реЗрдВ рдЙрдкрд╛рдп рдмрд┐рдирд╛ рд░рд┐рдЯрд╛рдпрд░ рдХрд┐рдП рдЧрдП рдорд╛рдЗрдХреНрд░реЛрдкрд░реЗрд╢рдВрд╕ (рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рд╕реНрдЯрд╛рд▓) рдХреЗ рд╕рд╛рде рдирд┐рд╖реНрдХреНрд░рд┐рдп рд╣реИред </font><font style="vertical-align: inherit;">рдкреНрд░рдпреЛрдЧреЛрдВ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдЖрдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╕рдВрднрд╡ рдерд╛ рдХрд┐ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╣рдореЗрд╢рд╛ 7 рдорд╛рдЗрдХреНрд░реЛрдПрдкрд░реЗрд╢рдВрд╕ рдХреЗ рджреМрд░рд╛рди рджреЗрдЦрд╛ рдЧрдпрд╛ рдерд╛, рдЙрдирдХреЗ рд▓реЗрдЖрдЙрдЯ 1-6, 6-1, 2-5, 5-2, 3-4, 4-3 рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛ред </font><font style="vertical-align: inherit;">рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдРрд╕рд╛ рдХреНрдпреЛрдВ рд╣реИ, рдФрд░ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдШрдбрд╝реА рдЪрдХреНрд░ рдореЗрдВ 3 рдорд╛рдЗрдХреНрд░реЛрдПрд░реЗрд╢рдВрд╕ рдХреА рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐, рдФрд░ рдЕрдЧрд▓реЗ рдореЗрдВ 4 рдХреА рдЬрд╛рддреА рд╣реИред </font><font style="vertical-align: inherit;">Agner Fog рдиреЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдХрд┐ рд╢рд╛рдЦрд╛ рд╕рдВрдХреНрд░рдордг рдХреЗрд╡рд▓ рд░рд┐рдЯрд╛рдпрд░рдореЗрдВрдЯ рд╕реНрдЯреЗрд╢рди рд╕реНрд▓реЙрдЯ рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢рд╛рдпрдж</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╣ рдкреНрд░рддрд┐рдмрдВрдз рдЗрд╕ рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдХрд╛рд░рдг рд╣реИред</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ рдпрд╣ рд╕рдм рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓рддрд╛ рд╣реИ, </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрд╕ рдХреЗ </font><font style="vertical-align: inherit;">рд╕рд╛рде рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреЛ рд╕рд░рдгрд┐рдпрд╛рдВ рджреА рдЧрдИ рд╣реИрдВ </font></font><code>unsigned</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рд▓рд┐рдП рдЕрдВрдХрдЧрдгрд┐рддреАрдп рд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдпреЛрдЧ рдЬрдорд╛ рдХрд░рдирд╛ рдФрд░ рдЗрд╕реЗ рддреАрд╕рд░реЗ рд╕рд░рдгреА рдореЗрдВ рд▓рд┐рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЗрд╕ рддрд░рд╣ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ:</font></font><br>
<br>
<pre><code class="cpp hljs">
<span class="hljs-keyword">static</span> <span class="hljs-keyword">unsigned</span> arr1[] = { ... };<font></font>
<font></font>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">unsigned</span> arr2[] = { ... };<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">arithmetic_mean</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> *arr1, <span class="hljs-keyword">unsigned</span> *arr2, <span class="hljs-keyword">unsigned</span> *out, <span class="hljs-keyword">size_t</span> sz)</span></span>{
    <span class="hljs-keyword">unsigned</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">size_t</span> idx = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span>(idx &lt; sz){<font></font>
        sum += (arr1[idx] + arr2[idx]) &gt;&gt; <span class="hljs-number">1</span>;<font></font>
        out[idx] = sum;<font></font>
        idx++;<font></font>
    }<font></font>
    __asm__ __volatile__(<span class="hljs-string">""</span> ::: <span class="hljs-string">"memory"</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>{
    <span class="hljs-keyword">unsigned</span> out[<span class="hljs-keyword">sizeof</span> arr1 / <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span>)];
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4096</span> * <span class="hljs-number">4096</span>; i++){<font></font>
        arithmetic_mean(arr1, arr2, out, <span class="hljs-keyword">sizeof</span> arr1 / <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">unsigned</span>));<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреАрд╕реАрд╕реА рдЭрдВрдбреЗ рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рди </font></font><br>
<br>
<pre><code class="plaintext hljs">-Werror<font></font>
-Wextra<font></font>
-Wall<font></font>
-pedantic<font></font>
-Wno-stack-protector<font></font>
-g3<font></font>
-O3<font></font>
-Wno-unused-result<font></font>
-Wno-unused-parameter</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдлрд╝рдВрдХреНрд╢рди </font></font><code>arithmetic_mean</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рдореЗрдВ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдФрд░ рд╕реАрдзреЗ рдЗрд╕рдореЗрдВ рдбрд╛рд▓рд╛ рдЬрд╛рдПрдЧрд╛ </font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">(gdb) disas main<font></font>
Dump of assembler code for function main:<font></font>
   #...<font></font>
   0x00000000000005dc &lt;+60&gt;:    nop    DWORD PTR [rax+0x0]<font></font>
   0x00000000000005e0 &lt;+64&gt;:    mov    edx,DWORD PTR [rdi+rax*4]<font></font>
   0x00000000000005e3 &lt;+67&gt;:    add    edx,DWORD PTR [r8+rax*4]<font></font>
   0x00000000000005e7 &lt;+71&gt;:    shr    edx,1<font></font>
   0x00000000000005e9 &lt;+73&gt;:    add    ecx,edx<font></font>
   0x00000000000005eb &lt;+75&gt;:    mov    DWORD PTR [rsi+rax*4],ecx<font></font>
   0x00000000000005ee &lt;+78&gt;:    add    rax,0x1<font></font>
   0x00000000000005f2 &lt;+82&gt;:    cmp    rax,0x80<font></font>
   0x00000000000005f8 &lt;+88&gt;:    jne    0x5e0 &lt;main+64&gt;<font></font>
   0x00000000000005fa &lt;+90&gt;:    sub    r9,0x1<font></font>
   0x00000000000005fe &lt;+94&gt;:    jne    0x5d8 &lt;main+56&gt;<font></font>
   #...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХрдВрдкрд╛рдЗрд▓рд░ рдиреЗ рд▓реВрдк рдХреЛрдб рдХреЛ 32 рдмрд╛рдЗрдЯреНрд╕ ( </font></font><code>nop DWORD PTR [rax+0x0]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) рдореЗрдВ </font><font style="vertical-align: inherit;">рд╕рдВрд░реЗрдЦрд┐рдд рдХрд┐рдпрд╛ рд╣реИ </font><font style="vertical-align: inherit;">, рдЬреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╣рдореЗрдВ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдХрд┐ рдХреЛрдИ </font></font><code>resource_stalls.any</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреИрдХ рдПрдВрдб рдирд╣реАрдВ рд╣реИ (рд╕рднреА рдорд╛рдк рдЧрд░реНрдо рдХрд┐рдП рдЧрдП L1d рдХреИрд╢ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рдХрд┐рдП рдЧрдП рд╣реИрдВ), рд╣рдо IDQ рдкрд░ рдбрд┐рд▓реАрд╡рд░реА рд╕реЗ рдЬреБрдбрд╝реЗ рдХрд╛рдЙрдВрдЯрд░реЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="plaintext hljs"> Performance counter stats for './test_decoded_icache':<font></font>
<font></font>
     2тАп273тАп343тАп251      idq.all_dsb_cycles_4_uops                                     (15,94%)<font></font>
     4тАп458тАп322тАп025      idq.all_dsb_cycles_any_uops                                     (16,26%)<font></font>
    15тАп473тАп065тАп238      idq.dsb_uops                                                  (16,59%)<font></font>
     4тАп358тАп690тАп532      idq.dsb_cycles                                                (16,91%)<font></font>
     2тАп528тАп373тАп243      idq_uops_not_delivered.core                                     (16,93%)<font></font>
        73тАп728тАп040      idq_uops_not_delivered.cycles_0_uops_deliv.core                                     (16,93%)<font></font>
       107тАп262тАп304      idq_uops_not_delivered.cycles_le_1_uop_deliv.core                                     (16,93%)<font></font>
       108тАп454тАп043      idq_uops_not_delivered.cycles_le_2_uop_deliv.core                                     (16,65%)<font></font>
     2тАп248тАп557тАп762      idq_uops_not_delivered.cycles_le_3_uop_deliv.core                                     (16,32%)<font></font>
     2тАп385тАп493тАп805      idq_uops_not_delivered.cycles_fe_was_ok                                     (16,00%)<font></font>
    15тАп147тАп004тАп678     uops_retired.retire_slots<font></font>
    4тАп724тАп790тАп623      uops_retired.total_cycles<font></font>
       <font></font>
     1,228684264 seconds time elapsed<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рдХреА рдЦрд╝рд░рд╛рдмрддрд╛ = 15147004678/4724790623 = 3.20585733562, рдФрд░ рдпрд╣ рднреА рдХрд┐ рдХреЗрд╡рд▓ 3 рдорд╛рдЗрдХреНрд░реЛрдПрд░реЗрдиреЗрд╢рди рд░реЗрдирдорд░ рдХреА рдЖрдзреА рдШрдбрд╝рд┐рдпрд╛рдБ рд▓реЗрддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рдореИрдиреБрдЕрд▓ рд▓реВрдк рдкрджреЛрдиреНрдирддрд┐ рдЬреЛрдбрд╝реЗрдВ:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">arithmetic_mean</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> *arr1, <span class="hljs-keyword">unsigned</span> *arr2, <span class="hljs-keyword">unsigned</span> *out, <span class="hljs-keyword">size_t</span> sz)</span></span>{
    <span class="hljs-keyword">unsigned</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">size_t</span> idx = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span>(sz &amp; <span class="hljs-number">2</span>){<font></font>
        sum += (arr1[idx] + arr2[idx]) &gt;&gt; <span class="hljs-number">1</span>;<font></font>
        out[idx] = sum;<font></font>
        idx++;<font></font>
    }<font></font>
    <span class="hljs-keyword">while</span>(idx &lt; sz){<font></font>
        sum += (arr1[idx] + arr2[idx]) &gt;&gt; <span class="hljs-number">1</span>;<font></font>
        out[idx] = sum;<font></font>
        idx++;<font></font>
        sum += (arr1[idx] + arr2[idx]) &gt;&gt; <span class="hljs-number">1</span>;<font></font>
        out[idx] = sum;<font></font>
        idx++;  <span class="hljs-comment">//   idx++     idx+=2</span><font></font>
    }<font></font>
    __asm__ __volatile__(<span class="hljs-string">""</span> ::: <span class="hljs-string">"memory"</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд░рд┐рдгрд╛рдореА рдкреВрд░реНрдг рдХрд╛рдЙрдВрдЯрд░ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="plaintext hljs">Performance counter stats for './test_decoded_icache':<font></font>
<font></font>
     2тАп152тАп818тАп549      idq.all_dsb_cycles_4_uops                                     (14,79%)<font></font>
     3тАп207тАп203тАп856      idq.all_dsb_cycles_any_uops                                     (15,25%)<font></font>
    12тАп855тАп932тАп240      idq.dsb_uops                                                  (15,70%)<font></font>
     3тАп184тАп814тАп613      idq.dsb_cycles                                                (16,15%)<font></font>
        24тАп946тАп367      idq_uops_not_delivered.core                                     (16,24%)<font></font>
         3тАп011тАп119      idq_uops_not_delivered.cycles_0_uops_deliv.core                                     (16,24%)<font></font>
         5тАп239тАп222      idq_uops_not_delivered.cycles_le_1_uop_deliv.core                                     (16,24%)<font></font>
         7тАп373тАп563      idq_uops_not_delivered.cycles_le_2_uop_deliv.core                                     (16,24%)<font></font>
         7тАп837тАп764      idq_uops_not_delivered.cycles_le_3_uop_deliv.core                                     (16,24%)<font></font>
     3тАп418тАп529тАп799      idq_uops_not_delivered.cycles_fe_was_ok                                     (16,24%)<font></font>
     3тАп444тАп833тАп440      uops_retired.total_cycles                                     (18,18%)<font></font>
    13тАп037тАп919тАп196      uops_retired.retire_slots                                     (18,17%)<font></font>
<font></font>
    0,871040207 seconds time elapsed</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рдмреИрдВрдбрд╡рд┐рдбреНрде = 13037919196/3444833440 = 3.78477491672 рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рд░реЗрдирдорд░ рдмреИрдВрдбрд╡рд┐рдбреНрде рдХрд╛ рдХреБрд╢рд▓ рдЙрдкрдпреЛрдЧ рднреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдореЗрдВ рди рдХреЗрд╡рд▓ рдПрдХ рдмреНрд░рд╛рдВрдЪрд┐рдВрдЧ рдФрд░ рд▓реВрдк рдореЗрдВ рдПрдХ рдЗрдВрдХреНрд░реАрдореЗрдВрдЯ рдСрдкрд░реЗрд╢рди рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдорд┐рд▓рд╛, рдмрд▓реНрдХрд┐ рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЗрд╢рди рдХреИрд╢ рдХреЗ рдереНрд░реВрдкреБрдЯ рдХреЗ рдХреБрд╢рд▓ рдЙрдкрдпреЛрдЧ рд╕реЗ рд╕реЗрд╡рд╛рдирд┐рд╡реГрддреНрддрд┐ рдмреИрдВрдбрд╡рд┐рдбреНрде рдореЗрдВ рднреА рд╡реГрджреНрдзрд┐ рд╣реБрдИ, рдЬрд┐рд╕рдиреЗ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рдХреБрд▓ 28% рд╡реГрджреНрдзрд┐ рджреАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреЗрд╡рд▓ рдПрдХ рд╢рд╛рдЦрд╛ рдФрд░ рд╡реЗрддрди рд╡реГрджреНрдзрд┐ рдореЗрдВ рдХрдореА рд╕реЗ 9% рдХреА рдФрд╕рдд рдкреНрд░рджрд░реНрд╢рди рд╡реГрджреНрдзрд┐ рд╣реЛрддреА рд╣реИред</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЫреЛрдЯреА рдЯрд┐рдкреНрдкрдгреА</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрди рдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕реАрдкреАрдпреВ рдкрд░, рдПрд▓рдПрд╕рдбреА рдХреЛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдПрд▓рдПрд╕рдбреА рдРрд╕реА рд╕реНрдерд┐рддрд┐ рдХреЛ рд╕рдВрднрд╛рд▓ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдПрд▓рдПрд╕рдбреА рд╕рдХреНрд╖рдо рдХреЗ рд╕рд╛рде рд╕реАрдкреАрдпреВ рдХреЗ рд▓рд┐рдП, рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдХреА рдЕрд▓рдЧ рд╕реЗ рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi497278/index.html">рд╕реНрдкрдВрджрдиред рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдФрд░ рд╕рдорд╛рдирд╛рдВрддрд░рд╡рд╛рдж</a></li>
<li><a href="../hi497280/index.html">рдХреИрд╕реЗ рдореИрдВрдиреЗ рдбрд░рдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдФрд░ рдореБрдЭреЗ рдХреЛрд▓реЗрд╕реНрдЯреНрд░реЙрд▓ рд╕реЗ рдкреНрдпрд╛рд░ рд╣реЛ рдЧрдпрд╛</a></li>
<li><a href="../hi497282/index.html">рдХреЛрдгреАрдп рдореЗрдВ рдХреЛрдб рдХреЛ рд╕рд╛рдл рдХрд░реЗрдВред рдХреБрдХрд┐рдВрдЧ рдИрдПрд╕рд▓рд┐рдВрдЯ, рдХреЛрдбрд▓реАрдЬрд░, рд╕реНрдЯрд╛рдЗрд▓рд▓рд┐рдВрдЯ, рд╣рд╕реНрдХреА, рд▓рд┐рдВрдЯ-рд╕реНрдЯреЗрдЬреНрдб рдФрд░ рдкреНрд░реАрдЯреАрдпрд░</a></li>
<li><a href="../hi497286/index.html">рд▓реБрджреБрдо рдбреЗрдпрд░: рд╢реБрд░реБрдЖрдд рд╕реЗ рдПрдХ рд╕рдкреНрддрд╛рд╣ рдкрд╣рд▓реЗ рдЪреЗрдХрд▓рд┐рд╕реНрдЯ</a></li>
<li><a href="../hi497288/index.html">рд╕рдЬрд╛рд╡рдЯреА рдЫрдд рдкреНрд░рдХрд╛рд╢ рдлреЗрд░рди AL5000</a></li>
<li><a href="../hi497292/index.html">рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХреА рдвреЗрд░ Shiro рдЦреЗрд▓реЛрдВ</a></li>
<li><a href="../hi497296/index.html">рдЖрдИрдЯреА рдкреЗрд╢реЗрд╡рд░реЛрдВ рдХреЗ рдмреАрдЪ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рд▓реЛрдХрдкреНрд░рд┐рдп рддреНрд░реБрдЯрд┐рдпрд╛рдВред рднрд╛рдЧ 2: рдЙрдЪреНрдЪрд╛рд░рдг</a></li>
<li><a href="../hi497302/index.html">рдПрдХ рдореЛрдмрд╛рдЗрд▓ рд░реЛрдмреЛрдЯ рдХрд╛ рд╕реНрд╡рд╛рдпрддреНрдд рдиреЗрд╡рд┐рдЧреЗрд╢рди</a></li>
<li><a href="../hi497304/index.html">рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░-рдПрдирдЬреА 2.5 Android рдХреЗ рд▓рд┐рдП рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЧрдпрд╛</a></li>
<li><a href="../hi497306/index.html">DLL рд╕реНрдкреВрдлрд┐рдВрдЧ (DLL рдЕрдкрд╣рд░рдг)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>