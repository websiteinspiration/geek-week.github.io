<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⬇️ 👩‍🍳 🗣️ Werf 1.1 Release: Verbesserungen im Sammler heute und Pläne für die Zukunft 👩🏿‍✈️ 📞 🍏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="werf ist unser Open-Source-Dienstprogramm GitOps CLI zum Erstellen und Bereitstellen von Anwendungen für Kubernetes. Wie versprochen war die Veröffent...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Werf 1.1 Release: Verbesserungen im Sammler heute und Pläne für die Zukunft</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/493170/"><img src="https://habrastorage.org/webt/rv/bh/ky/rvbhkysbvfjn8ykkze1srkpmsha.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist unser Open-Source-Dienstprogramm GitOps CLI zum Erstellen und Bereitstellen von Anwendungen für Kubernetes. Wie versprochen war die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veröffentlichung von v1.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Beginn des Hinzufügens neuer Funktionen zu werf und der Überarbeitung bekannter Ansätze. Jetzt freuen wir uns, v1.1 zu veröffentlichen, was ein großer Schritt in der Entwicklung und der Zukunft im </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Collector</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Werf ist. Die Version ist derzeit in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kanal 1.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verfügbar </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grundlage der Veröffentlichung ist die neue Architektur des Bühnenspeichers und die Optimierung der Arbeit beider Kollektoren (für Stapel und Dockerfile). Die neue Speicherarchitektur eröffnet die Möglichkeit, verteilte Assemblys von mehreren Hosts und parallele Assemblys auf einem einzelnen Host zu implementieren.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Optimierung der Arbeit umfasst die Beseitigung unnötiger Berechnungen bei der Berechnung von Stufensignaturen und die Änderung der Mechanismen zur Berechnung von Dateiprüfsummen in effizientere. Diese Optimierung reduziert die durchschnittliche Erstellungszeit eines Projekts mit werf. Und Leerlauf-Builds </font><font style="vertical-align: inherit;">sind jetzt sehr schnell </font><font style="vertical-align: inherit;">, wenn alle Stufen im </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufen-Speicher-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cache vorhanden </font><font style="vertical-align: inherit;">sind. In den meisten Fällen ist der Neustart der Baugruppe schneller als in 1 Sekunde! Dies gilt auch für die Verfahren zur Überprüfung von Phasen während der Arbeit von Teams </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>werf run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auch in dieser Version gab es eine Strategie zum Markieren von Bildern nach Inhalten - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inhaltsbasiertes Markieren</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das jetzt standardmäßig aktiviert ist und das einzige empfohlene ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns die wichtigsten Innovationen in werf v1.1 genauer an und sprechen wir gleichzeitig über Pläne für die Zukunft.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was hat sich in werf v1.1 geändert?</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neues Stage-Benennungsformat und Cache-Stage-Auswahlalgorithmus</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neue Regel zur Generierung von Künstlernamen. </font><font style="vertical-align: inherit;">Jetzt generiert jede Stufenbaugruppe einen eindeutigen Stufennamen, der aus zwei Teilen besteht: einer Signatur (wie in Version 1.0) und einer eindeutigen temporären Kennung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispielsweise kann der vollständige Name des Bühnenbilds folgendermaßen aussehen: </font></font><br>
<br>
<code>werf-stages-storage/myproject:d2c5ad3d2c9fcd9e57b50edd9cb26c32d156165eb355318cebc3412b-1582656767835</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... oder in allgemeiner Form: </font></font><br>
<br>
<code>werf-stages-storage/PROJECT:SIGNATURE-TIMESTAMP_MILLISEC</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier:</font></font><br>
<br>
<ul>
<li> <code>SIGNATURE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Dies ist die Bühnensignatur, die die Kennung des Bühneninhalts darstellt und von der Historie der Änderungen in Git abhängt, die zu diesem Inhalt geführt haben.</font></font></li>
<li> <code>TIMESTAMP_MILLISEC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Dies garantiert eine eindeutige Kennung für das Bild, das zum Zeitpunkt der Zusammenstellung des neuen Bildes generiert wird.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Algorithmus zum Auswählen von Stufen aus dem Cache basiert auf der Überprüfung der Beziehung von Git-Commits:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Werf berechnet die Signatur einer Stufe.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Speicherung von Stufen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kann es für eine bestimmte Signatur mehrere Stufen geben. </font><font style="vertical-align: inherit;">Werf wählt alle Stufen aus, die für die Signatur geeignet sind.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn die aktuelle Phase mit Git zugeordnet ist (GIT-Archiv, user Schritt c Git-Patches: </font></font><code>install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>beforeSetup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>setup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, oder GIT-neuesten-Patch), dann Werf wählt nur jene Schritte, zu begehen beziehen, die die Vorfahren des aktuellen commit (für die verursachte Montag )</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Von den verbleibenden geeigneten Stufen wird eine ausgewählt - die älteste nach Erstellungsdatum.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Bühne für verschiedene Git-Zweige kann dieselbe Signatur haben. </font><font style="vertical-align: inherit;">Werf verhindert jedoch die Verwendung eines Caches, der verschiedenen Zweigen zwischen diesen Zweigen zugeordnet ist, selbst wenn die Signaturen übereinstimmen. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neuer Algorithmus zum Erstellen und Speichern von Stufen im Bühnenspeicher</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn werf bei der Auswahl der Stufen aus dem Cache keine geeignete Stufe findet, wird der Prozess des Zusammenbaus einer neuen Stufe eingeleitet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass mehrere Prozesse (auf einem oder mehreren Hosts) ungefähr zur gleichen Zeit mit dem Zusammenstellen derselben Phase beginnen können. </font><font style="vertical-align: inherit;">Werf verwendet den </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufen-Speicher</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> optimistischen Verriegelungsalgorithmus , </font><font style="vertical-align: inherit;">wenn ein frisch gesammeltes Bild gespeichert wird </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufen-Speicher</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wenn somit die Montage der neuen Stufe fertig ist, Werf blockiert die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufen-Speicher</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und speichert die frisch dort gesammelt Bild nur , </font><font style="vertical-align: inherit;">wenn kein geeignetes Bild gibt es </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(für die Unterschrift und andere Parameter - siehe den neuen Algorithmus für die </font><font style="vertical-align: inherit;">Stufen aus dem Cache - </font><font style="vertical-align: inherit;">Auswahl)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein frisch ausgewähltes Bild hat garantiert eine eindeutige Kennung von </font></font><code>TIMESTAMP_MILLISEC</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(siehe das neue Format für die Benennung der Bühne)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wenn </font><font style="vertical-align: inherit;">ein geeignetes Bild gefunden wird </font><font style="vertical-align: inherit;">in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufen-Lagerung</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird werf das frisch gemolkene Bild verwirft und wird das Bild aus dem Cache. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit anderen Worten: Der erste Prozess, der das Sammeln des Bildes abschließt (der schnellste), erhält das Recht, es im Stufenspeicher zu speichern (und dann wird dieses bestimmte Bild für alle Baugruppen verwendet). </font><font style="vertical-align: inherit;">Ein langsamer Montageprozess verhindert niemals, dass ein schnellerer Prozess die Montageergebnisse der aktuellen Phase speichert und mit der nächsten Montage fortfährt. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbesserte Dockerfile Collector-Leistung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Derzeit besteht die Stage-Pipeline für ein aus der Docker-Datei zusammengestelltes Image aus einer Stage - </font></font><code>dockerfile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Bei der Berechnung der Signatur wird die Prüfsumme der Dateien berücksichtigt </font></font><code>context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die beim Zusammenbau verwendet wird. Vor dieser Verbesserung durchlief werf rekursiv alle Dateien und erhielt eine Prüfsumme, in der der Kontext und der Modus jeder Datei zusammengefasst wurden. Ab Version 1.1 kann werf die berechneten Prüfsummen verwenden, die im Git-Repository gespeichert sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Algorithmus basiert auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git ls-tree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Der Algorithmus berücksichtigt Einträge in </font></font><code>.dockerignore</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und durchläuft den Dateibaum nur bei Bedarf rekursiv. Somit haben wir das Lesen des Dateisystems losgeworden, und die Abhängigkeit des Algorithmus von der Größe ist </font></font><code>context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht signifikant.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Algorithmus prüft auch nicht verfolgte Dateien und berücksichtigt sie gegebenenfalls in der Prüfsumme.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbesserte Leistung beim Importieren von Dateien</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf v1.1 verwendet den rsync-Server beim </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importieren von Dateien aus Artefakten und Bildern</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Bisher wurde der Import in zwei Schritten durchgeführt, indem das Verzeichnis vom Hostsystem bereitgestellt wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Importleistung unter macOS ist nicht mehr auf Docker-Volumes beschränkt. Der Import erfolgt gleichzeitig mit Linux und Windows.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inhaltsbasiertes Tagging</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf v1.1 unterstützt das sogenannte Tagging nach </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bildinhalten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><i><font style="vertical-align: inherit;">inhaltsbasiertes Tagging</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tags für resultierende Docker-Bilder hängen vom Inhalt dieser Bilder ab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie den </font><font style="vertical-align: inherit;">Befehl </font></font><code>werf publish --tags-by-stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder </font><font style="vertical-align: inherit;">ausführen </font></font><code>werf ci-env --tagging-strategy=stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, werden veröffentlichte Bilder der sogenannten </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bildstufensignatur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> getestet </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jedes Bild ist mit einer eigenen Signatur der Stufen dieses Bildes versehen, die nach denselben Regeln wie die reguläre Signatur jeder Stufe separat berechnet wird, jedoch eine verallgemeinerte Kennung des Bildes darstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Signatur der Bildstufen hängt ab von:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> den Inhalt dieses Bildes;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Git-Revisionsverlauf, der zu diesem Inhalt geführt hat.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Git-Repositorys haben immer Leerlauf-Commits, die den Inhalt der Bilddateien nicht ändern. Beispielsweise werden Commits nur mit Kommentaren oder Commits zusammengeführt oder Commits, die die Dateien in Git ändern, die nicht in das Image importiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verwendung von inhaltsbasiertem Tagging löst das Problem unnötiger Neustarts von Anwendungs-Pods in Kubernetes aufgrund von Änderungen des Bildnamens, auch wenn sich der Bildinhalt nicht geändert hat. Dies ist übrigens einer der Gründe, die es schwierig machen, viele Microservices einer Anwendung in einem einzigen Git-Repository zu speichern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das inhaltsbasierte Tagging ist außerdem eine zuverlässigere Tagging-Methode als das Tagging durch Git-Zweige, da der Inhalt der resultierenden Bilder nicht von der Reihenfolge der Ausführung von Pipelines im CI-System zum Zusammenstellen mehrerer Commits desselben Zweigs abhängt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wichtig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Auf, ab sofort </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufen-Signatur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die ist </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nur zu </font><font style="vertical-align: inherit;">empfehlen Tagging - </font><font style="vertical-align: inherit;">Strategie</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Es wird standardmäßig im Team verwendet </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(es sei denn, Sie geben explizit ein anderes Tagging-Schema an). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine separate Veröffentlichung wird ebenfalls dieser Funktion gewidmet sein. </font></font></s> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AKTUALISIERT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (3. April): Ein Artikel mit Details wurde </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">veröffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protokollierungsstufen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Benutzer hat die Möglichkeit, die Ausgabe zu steuern, die Protokollierungsstufe festzulegen und mit Debugging-Informationen zu arbeiten. </font><font style="vertical-align: inherit;">Hinzufügen von </font><font style="vertical-align: inherit;">Optionen </font></font><code>--log-quiet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>--log-verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>--log-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardmäßig enthält die Ausgabe ein Minimum an Informationen: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/s6/6c/hhs66c1shzadu5wbrfbnhnqiio8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die detaillierte Ausgabe ( </font></font><code>--log-verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) verwenden, können Sie nachverfolgen, wie werf funktioniert: Die </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e0/su/ja/e0sujatvuptepfutttg0jqsy-vg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
detaillierte Ausgabe ( </font></font><code>--log-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) enthält neben den werf-Debugging-Informationen auch die Protokolle der verwendeten Bibliotheken. </font><font style="vertical-align: inherit;">Sie können beispielsweise sehen, wie die Interaktion mit der Docker-Registrierung abläuft, und die Orte festlegen, an denen viel Zeit aufgewendet wird:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/ca/rs/dkcarso11r4ghi5s1lyfwkbmczo.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zukunftspläne</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beachtung! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die unten mit </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gekennzeichneten Funktionen </font><font style="vertical-align: inherit;">werden in dieser Version verfügbar sein, viele davon in naher Zukunft. </font><font style="vertical-align: inherit;">Updates werden durch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">automatische</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Updates </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">bei Verwendung von Multiwerf durchgeführt</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Diese Funktionen wirken sich nicht auf den stabilen Teil der Funktionen von Version 1.1 aus. Für ihr Erscheinungsbild ist kein manueller Eingriff des Benutzers in vorhandene Konfigurationen erforderlich.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Volle Unterstützung für verschiedene Docker Registry-Implementierungen (NEU)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termine: März</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problem</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ziel ist, dass der Benutzer bei der Verwendung von werf eine beliebige Implementierung ohne Einschränkungen verwenden sollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bisher haben wir die folgenden Lösungen identifiziert, für die wir volle Unterstützung garantieren werden:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Standard (Bibliothek / Registrierung) *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AWS ECR,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Azure *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Docker Hub</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GCR *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Github-Pakete</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GitLab Registry *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hafen *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kai.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Sternchen kennzeichnet Lösungen, die derzeit von werf vollständig unterstützt werden. </font><font style="vertical-align: inherit;">Für den Rest gibt es Unterstützung, aber mit Einschränkungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zwei Hauptprobleme können unterschieden werden:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einige Lösungen unterstützen das Entfernen von Tags mithilfe der Docker-Registrierungs-API nicht, sodass Benutzer die in werf implementierte automatische Bereinigung nicht verwenden können. </font><font style="vertical-align: inherit;">Dies gilt für AWS ECR-, Docker Hub- und GitHub-Pakete.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Einige Lösungen unterstützen die sogenannten verschachtelten Repositorys (Docker Hub, GitHub Packages und Quay) oder die Unterstützung nicht, aber der Benutzer muss sie manuell über die Benutzeroberfläche oder API (AWS ECR) erstellen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden diese und andere Probleme mit nativen APIs von Lösungen lösen. </font><font style="vertical-align: inherit;">Diese Aufgabe umfasst auch das Abdecken des gesamten Werf-Zyklus mit Tests für jeden von ihnen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verteilte Bildassemblierung (↑)</font></font></h3><br>
<ul>
<li> <i>: <s>v1.2</s> v1.1 (      )</i></li>
<li> <i>: <s>-</s> </i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Issue</a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Derzeit können werf v1.0 und v1.1 nur auf einem dedizierten Host für die Zusammenstellung und Veröffentlichung von Images und die Bereitstellung von Anwendungen in Kubernetes verwendet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Möglichkeiten der verteilten Arbeit von werf zu eröffnen, muss werf die Möglichkeit implementieren, die Docker-Registrierung als Stage-Repository zu verwenden, wenn die Assembly und Bereitstellung von Anwendungen in Kubernetes auf mehreren beliebigen Hosts gestartet wird und diese Hosts ihren Status zwischen Assemblys (temporären Läufern) nicht beibehalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Früher, als das werf-Projekt noch dapp hieß, hatte es eine solche Gelegenheit. Wir sind jedoch auf eine Reihe von Problemen gestoßen, die bei der Implementierung dieser Funktion in werf berücksichtigt werden müssen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Diese Funktion impliziert nicht die Arbeit des Sammlers in Kubernetes-Pods, wie </font><font style="vertical-align: inherit;">Beseitigen Sie dazu die Abhängigkeit vom lokalen Docker-Server (im Kubernetes-Pod gibt es keinen Zugriff auf den lokalen Docker-Server, da der Prozess selbst im Container ausgeführt wird und werf die Arbeit mit dem Docker-Server im Netzwerk nicht unterstützt und nicht unterstützt). </font><font style="vertical-align: inherit;">Die Unterstützung für die Arbeit in Kubernetes wird separat implementiert.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Offizieller GitHub Actions Support (NEU)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termine: März</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problem</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enthält die werf-Dokumentation ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referenz-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leitfadenabschnitte</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) sowie die offizielle GitHub-Aktion für die Arbeit mit werf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Außerdem kann werf an kurzlebigen Läufern arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Mechanismen der Benutzerinteraktion mit dem CI-System basieren darauf, dass Pull-Anforderungen beschriftet werden, um bestimmte Aktionen zum Erstellen / Ausrollen der Anwendung einzuleiten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lokale Anwendungsentwicklung und -bereitstellung mit werf (↓)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termine: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Januar-Februar</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> April</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problem</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Hauptziel besteht darin, eine einheitliche Konfiguration für die sofortige Bereitstellung von Anwendungen sowohl lokal als auch in der Produktion ohne komplexe Aktionen zu erreichen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf benötigt auch eine Betriebsart, in der es bequem ist, den Anwendungscode zu bearbeiten und sofort Feedback von einer funktionierenden Anwendung zum Debuggen zu erhalten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neuer Reinigungsalgorithmus (NEU)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termine: April</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problem</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der aktuellen Version von werf v1.1 </font></font><code>cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sieht </font><font style="vertical-align: inherit;">das Verfahren </font><font style="vertical-align: inherit;">keine Bereinigung von Bildern für das inhaltsbasierte Tagging-Schema vor - diese Bilder werden akkumuliert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der aktuellen Version von werf (v1.0 und v1.1) werden für Bilder, die durch Tagging-Schemata veröffentlicht wurden, unterschiedliche Reinigungsrichtlinien verwendet: Git-Zweig, Git-Tag oder Git-Commit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basierend auf der Geschichte der Commits in Git wurde ein neuer einheitlicher Bildbereinigungsalgorithmus für alle Tagging-Schemata erfunden:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Speichern Sie nicht mehr als N1 Bilder, die mit den letzten N2-Commits für jeden Git-HEAD (Zweige und Tags) verknüpft sind.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Speichern Sie nicht mehr als N1 Bildstufen, die mit den letzten N2-Commits für jeden Git-HEAD (Zweige und Tags) verknüpft sind.</font></font></li>
<li>   ,    -   Kubernetes (  kube-    namespace';      ).</li>
<li>   ,      ,   Helm-.</li>
<li>    ,        HEAD  git (,     HEAD  )           Kubernetes    Helm.</li>
</ul><br>
<h3>   (↓)</h3><br>
<ul>
<li> <i>: v1.1</i></li>
<li> <i>: <s>-</s> *</i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die aktuelle Version von werf sammelt die in beschriebenen Bilder und Artefakte </font></font><code>werf.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nacheinander. </font><font style="vertical-align: inherit;">Es ist notwendig, den Prozess der Zusammenstellung unabhängiger Stufen von Bildern und Artefakten zu parallelisieren und eine bequeme und informative Schlussfolgerung zu ziehen. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Hinweis: Die Frist wird aufgrund der erhöhten Priorität für die Implementierung einer verteilten Assembly verschoben, wodurch weitere Funktionen für die horizontale Skalierung sowie die Verwendung von werf mit GitHub-Aktionen hinzugefügt werden. </font><font style="vertical-align: inherit;">Die parallele Montage ist der nächste Optimierungsschritt und bietet vertikale Skalierbarkeit beim Zusammenstellen eines einzelnen Projekts.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wechseln Sie zu Helm 3 (↓)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Februar-März</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mai *</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es beinhaltet den Übergang zur neuen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helm 3-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Codebasis </font><font style="vertical-align: inherit;">und eine bewährte und bequeme Möglichkeit, vorhandene Installationen zu migrieren. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Hinweis: Wenn Sie zu Helm 3 wechseln, werden werf keine wesentlichen Funktionen hinzugefügt, da alle wichtigen Funktionen von Helm 3 (3-Wege-Zusammenführung und fehlende Pinne) bereits in werf implementiert sind. </font><font style="vertical-align: inherit;">Darüber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hinaus verfügt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werf </font><font style="vertical-align: inherit;">neben den angegebenen </font><font style="vertical-align: inherit;">über </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">weitere Funktionen</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dieser Übergang bleibt jedoch in unseren Plänen und wird umgesetzt.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurationsbeschreibung für Jsonnet für Kubernetes (↓)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Januar-Februar</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> April-Mai</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf unterstützt die Konfigurationsbeschreibung für Kubernetes im Jsonnet-Format. </font><font style="vertical-align: inherit;">Gleichzeitig bleibt werf mit Helm kompatibel und es kann ein Beschreibungsformat ausgewählt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Grund ist die Tatsache, dass die Go-Sprachmuster nach Ansicht vieler Menschen eine große Eintrittsschwelle haben und die Code-Verständlichkeit dieser Muster ebenfalls leidet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Andere Optionen zum Implementieren von Kubernetes-Konfigurationsbeschreibungssystemen (wie Kustomize) werden ebenfalls in Betracht gezogen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeit in Kubernetes (↓)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termine: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">April-Mai</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mai-Juni</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweck: Sicherstellen der Zusammenstellung von Bildern und der Bereitstellung von Anwendungen mithilfe von Läufern in Kubernetes. </font><font style="vertical-align: inherit;">Jene. </font><font style="vertical-align: inherit;">Das Zusammenstellen neuer Bilder, deren Veröffentlichung, Bereinigung und Bereitstellung kann direkt über Kubernetes-Pods erfolgen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um diese Funktion zu realisieren, müssen Sie zunächst in der Lage sein, Bilder verteilt zu erstellen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(siehe Abschnitt oben)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es erfordert auch Unterstützung für den Build-Betriebsmodus ohne den Docker-Server (d. H. Kaniko-ähnliche Erstellung oder Assembly im Benutzerbereich). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf wird Kubernetes-Builds nicht nur mit dem Dockerfile unterstützen, sondern auch mit seinem Stapel-Builder mit inkrementellen Neuerstellungen und Ansible.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt in Richtung Open Source-Entwicklung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir lieben unsere Community ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) und wir möchten, dass immer mehr Menschen dazu beitragen, werf besser zu machen, zu verstehen, in welche Richtung wir uns bewegen, und an der Entwicklung teilnehmen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuletzt wurde beschlossen, auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub-Projektboards</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu wechseln </font><font style="vertical-align: inherit;">, um den Workflow unseres Teams zu öffnen. </font><font style="vertical-align: inherit;">Jetzt können Sie die unmittelbaren Pläne sowie die laufenden Arbeiten in den folgenden Bereichen sehen:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation und Site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bugs und Bad UX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde viel Arbeit mit folgenden Themen geleistet:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Irrelevant entfernt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bestehende werden auf ein einziges Format reduziert, eine ausreichende Anzahl von Details und Details.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Neue Themen mit Ideen und Vorschlägen hinzugefügt.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So aktivieren Sie Version v1.1</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Version ist derzeit in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kanal 1.1 ea</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verfügbar </font><font style="vertical-align: inherit;">( </font><font style="vertical-align: inherit;">Releases </font><font style="vertical-align: inherit;">in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stabilen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">felsenfesten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kanälen </font><font style="vertical-align: inherit;">werden angezeigt, wenn sie sich stabilisieren, aber </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ea</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> selbst ist bereits stabil genug für die Verwendung, da es über </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alpha-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beta-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kanäle geleitet wird </font><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Es wird </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">über Multiwerf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> folgendermaßen </font><font style="vertical-align: inherit;">aktiviert </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">source</span> $(multiwerf use 1.1 ea)<font></font>
werf COMMAND ...</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die neue Stage-Store-Architektur und die optimierte Kollektorleistung für die Stapel- und Dockerfile-Kollektoren eröffnen die Möglichkeit, verteilte und parallele Assemblys in werf zu implementieren. Diese Funktionen werden in Kürze in derselben Version 1.1 erscheinen und automatisch über den automatischen Aktualisierungsmechanismus (für </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Multiwerf-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Benutzer </font><font style="vertical-align: inherit;">) </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">verfügbar sein</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dieser Version wurde eine </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inhaltsbasierte Tagging-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Strategie hinzugefügt </font><font style="vertical-align: inherit;">, die zur Standardstrategie wurde. Ein Protokoll wurde auch die grundlegenden Befehle neu gestaltet: </font></font><code>werf build</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf dismiss</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der nächste wichtige Schritt besteht darin, verteilte Baugruppen hinzuzufügen. </font><font style="vertical-align: inherit;">Verteilte Assemblys seit Version 1.0 haben eine höhere Priorität als parallele Assemblys, da sie einen höheren Werf-Wert bieten: vertikale Skalierung von Kollektoren und Unterstützung für kurzlebige Kollektoren in verschiedenen CI / CD-Systemen sowie die Möglichkeit, GitHub-Aktionen offiziell zu unterstützen. </font><font style="vertical-align: inherit;">Daher wurde der Zeitpunkt für die Implementierung paralleler Baugruppen verschoben. </font><font style="vertical-align: inherit;">Wir arbeiten jedoch daran, beide Möglichkeiten schnell zu realisieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Folgen Sie den Nachrichten! </font><font style="vertical-align: inherit;">Und vergessen Sie nicht, bei unserem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub vorbeizuschauen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um ein Problem zu erstellen, ein vorhandenes zu finden und ein Plus zu setzen, eine PR zu erstellen oder einfach die Entwicklung des Projekts zu verfolgen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie auch in unserem Blog:</font></font><br>
<br>
<ul>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> werf 1.0 stable:    GitOps,   </a>»</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werf —    CI/CD  Kubernetes (   )</a>»;</li>
<li>      werf:<br>
<ul>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3-way merge  werf:   Kubernetes  Helm „ “</a>»;</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> werf    Helm-</a>»;</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> monorepo  multirepo  werf     Docker Registry</a>»;</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> Docker-  werf      Dockerfile</a>».</li>
</ul></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de493160/index.html">Wie wir die intelligente Suche auf hh.ru im Jahr 2019 verbessert haben: Infografiken</a></li>
<li><a href="../de493162/index.html">Eine offene Liste von Online-Meetings und Konferenzen</a></li>
<li><a href="../de493164/index.html">Es stellt sich heraus, dass das Online-Geschäft in der aktuellen Umgebung überlebt. Warum? DNA gelöscht</a></li>
<li><a href="../de493166/index.html">Ontol: eine Auswahl von Artikeln über "Burnout" [100+]</a></li>
<li><a href="../de493168/index.html">Pipipax-Rechner</a></li>
<li><a href="../de493172/index.html">Je größer, desto schlechter oder warum die Spielschleife wichtig ist</a></li>
<li><a href="../de493178/index.html">In der Software ist alles erstaunlich, aber jeder ist unglücklich</a></li>
<li><a href="../de493184/index.html">Auftragsentwicklung von Elektronik. Projektberechnung</a></li>
<li><a href="../de493186/index.html">Die besten Artikel zum Thema Automobil für Entwickler auf Habré [170+]</a></li>
<li><a href="../de493190/index.html">Wie wir die Galerie der Kunst neuronaler Netze geschaffen haben und warum wir keine Bilder zum Kopieren geben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>