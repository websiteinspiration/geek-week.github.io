<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥕 👶🏿 ✔️ NodeJS：快速入门 🧑🏿 👨🏿‍⚖️ 👨‍👩‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好！很快，Node.js开发人员课程将开始，与此相关的是我们进行了传统的公开课程。网络研讨会检查了Node的优缺点，还讨论了该软件平台最适合哪些任务，以及应选择其他语言和框架。当然，并非没有实践。运行示例和安装Node.js所需的软件。
 
 讲师-Alexander Korzhikov，荷兰国...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>NodeJS：快速入门</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/493872/"><img src="https://habrastorage.org/webt/s-/7a/cf/s-7acfzhsw55rupodlj9zl6_3m8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大家好！</font><font style="vertical-align: inherit;">很快，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js开发人员</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程将开始</font><font style="vertical-align: inherit;">，与此相关的是我们进行了传统的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公开课程</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">网络研讨会检查了Node的优缺点，还讨论了该软件平台最适合哪些任务，以及应选择其他语言和框架。</font><font style="vertical-align: inherit;">当然，并非没有实践。</font><font style="vertical-align: inherit;">运行示例和安装</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所需的软件</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
讲师</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Alexander Korzhikov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，荷兰国际集团（ING Group）的开发IT工程师。</font></font><br>
<br>
<hr><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/gy/xr/it/gyxritf2vnerlxqhnevsput7s4q.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于Node.js的几句话</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node.js是一个基于事件循环和面向事件的体系结构等概念的异步JavaScript运行时。</font><font style="vertical-align: inherit;">Node.js平台和标准的NPM软件包管理器使您可以为各种主题领域（从Web到机器学习）创建有效的应用程序。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最简单的Web服务器示例（</font></font><code>node server.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)
<span class="hljs-keyword">const</span> hostname = <span class="hljs-string">'127.0.0.1'</span>
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>
<span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
server.listen(port, hostname, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Server running at http://<span class="hljs-subst">${hostname}</span>:<span class="hljs-subst">${port}</span>/`</span>)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查看上面的代码，可以注意到Node.js的以下功能：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以直接在服务器上运行JavaScript代码，也就是说，可以使用node命令执行JavaScript文件。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持用于加载依赖项的模块和ES模块的CommonJS格式，并且两种格式都可以使用。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持标准模块库，HTTP是其中的一部分。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该API基于异步回调模式，但也支持Promise。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持ES2015语法。</font><font style="vertical-align: inherit;">顺便说一下，这是一个</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有用的链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您可以始终通过它查看</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪个版本的Node中支持JS功能</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果出现问题，您可以比较并了解问题所在。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
也</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要错过小演示</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（VSCode + Chrome Debug）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短暂的历史之旅</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node.js平台于2009年问世，该项目的主要开发者和创建者是Ryan Dahl。</font><font style="vertical-align: inherit;">他的主要思想是使用JavaScript为服务器创建非阻塞I / O（输入输出）。</font><font style="vertical-align: inherit;">当时，这种方法还不是很普遍，JavaScript是最好的解决方案之一。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node.js本身使用Chromium引擎，或者说，其中一部分解释了JavaScript- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于解释器一次将一个单独的V8项目分离出来，因此可以在其周围简单地创建一个生态系统。</font><font style="vertical-align: inherit;">严格来说，这正是Node.js的创建者Ryan Dahl所做的。</font><font style="vertical-align: inherit;">顺便说一下，今天有一个支持该项目的组织Node.js Foundation。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sy/ia/yr/syiayrq85tpdajr8whmtfysla6c.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构体</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，该库是用C ++和JavaScript编写的。</font><font style="vertical-align: inherit;">该项目本身</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位于GitHub上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此如果您好奇，可以熟悉其源代码。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以花很长时间</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">研究它</font></a><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
其次，如前所述，它包括V8（来自Google的JavaScript执行平台）和libuv作为事件循环（异步事件循环）的一部分。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
好吧，当然，有用于操作系统的各种模块，它们使您可以执行所需的那些业务任务。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
还值得一提的是Node.js中常用的主要设计模式：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回调（已经提到过）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">观察者（简单的事件模式）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块（尽管现在它是用JavaScript语言本身组织的，但在Node.js中仍然有用）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reactor（在不阻塞代码主流时与某些资源进行异步交互的模式）。</font><font style="vertical-align: inherit;">JS开发人员熟悉此模式。</font><font style="vertical-align: inherit;">例如，如果我们在浏览器中工作并编写前端，则我们不会阻止所有浏览器工作，而只是订阅用户的事件，并且当事件发生时（在“单击”，“输入”等之后），我们执行我们的代码。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顺便说一下，这</font><font style="vertical-align: inherit;">是我们在网络研讨会</font><font style="vertical-align: inherit;">上的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些竞争</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">））。</font><font style="vertical-align: inherit;">继续前进。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">节点标准分发模块</font></font></h3><br>
<img src="https://habrastorage.org/webt/lz/vc/dt/lzvcdthe1hqpmlr_jhnltxu2ewi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您知道标准Node发行版中包含哪些模块吗？</font><font style="vertical-align: inherit;">也就是说，我们谈论的是已经内置的模块，因此无法安装它们。</font><font style="vertical-align: inherit;">通常，其中大约有50个，让我们列出主要的。</font><font style="vertical-align: inherit;">为了便于理解，我们通常将其分为5点：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.主要（用于常规操作）：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fs;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计时器</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">流（用于处理流）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.实用程序：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径（用于处理路径）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zlib（存档和解压缩）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加密（用于加密功能）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.流程（与多处理和并行性有关的所有内容）：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">child_process（用于启动次模块的主要模块，为启动和监视进程提供了很大的机会）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集群（类似于第一个集群，但允许您并行化处理器内核上的任务）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker_threads（线程或线程的实现，但是它不是完全线程安全的，但是为什么更好地阅读文档）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.协议（各种协议）：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http（s）;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">净;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dns。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.系统（分别为系统模块，包括调试）：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v8;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">async_hooks;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perf_hooks;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trace_events</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
还有什么要补充的：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-全局对象-窗口的类似物；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-浏览器中可用的所有JavaScript对象在Node.js中也可用；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-超时-几乎就像在浏览器中一样；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-过程-当前过程的表示；</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-控制台可用。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回呼</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回调-作为参数传递给代码的函数，涉及在某个时间点执行该函数。</font><font style="vertical-align: inherit;">顺便说一句，人们很少认为他们的执行可以是同步的或异步的。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
server.listen(port, hostname, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Server running at http://<span class="hljs-subst">${hostname}</span>:<span class="hljs-subst">${port}</span>/`</span>)<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在Node中，默认情况下，回调以“错误”执行，并且结果是异步的：</font></font><br>
<br>
<pre><code class="javascript hljs">fs.readFile(<span class="hljs-string">'/etc/passwd'</span>, (err, data) =&gt; {
<span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err
<span class="hljs-built_in">console</span>.log(data)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这就是反模式的样子-一个正确使用回调的很好的例子。</font><font style="vertical-align: inherit;">正如他们所说的，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经典的回调地狱</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="javascript hljs">fs.readdir(source, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, files</span>) </span>{
<span class="hljs-keyword">if</span> (err) {
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error finding files: '</span> + err)<font></font>
} <span class="hljs-keyword">else</span> {<font></font>
files.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">filename, fileIndex</span>) </span>{
<span class="hljs-built_in">console</span>.log(filename)<font></font>
gm(source + filename).size(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, values</span>) </span>{
<span class="hljs-keyword">if</span> (err) {
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error identifying file size: '</span> + err)<font></font>
} <span class="hljs-keyword">else</span> {
<span class="hljs-built_in">console</span>.log(filename + <span class="hljs-string">' : '</span> + values)<font></font>
aspect = (values.width / values.height)<font></font>
widths.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">width, widthIndex</span>) </span>{<font></font>
height = <span class="hljs-built_in">Math</span>.round(width / aspect)
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'resizing '</span> + filename + <span class="hljs-string">'to '</span> + height + <span class="hljs-string">'x'</span> + height)
<span class="hljs-keyword">this</span>.resize(width, height).write(dest + <span class="hljs-string">'w'</span> + width + <span class="hljs-string">'_'</span> + filename, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
<span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error writing file: '</span> + err)<font></font>
})<font></font>
}.bind(<span class="hljs-keyword">this</span>))<font></font>
}<font></font>
})<font></font>
})<font></font>
}<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，让我们看看如何</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个简单的Web服务器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将HTML索引呈现为客户端响应：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)
<span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
读取本地html文件：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)<font></font>
fs.readFile(<span class="hljs-string">'./index.html'</span>, (err, text) =&gt; {
<span class="hljs-built_in">console</span>.log(text)<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完成回调的主题后，我想提到回调类型。</font><font style="vertical-align: inherit;">如果存在错误，有些回调仅返回错误：</font></font><br>
<br>
<pre><code class="plaintext hljs">fs.access('/etc/passwd', fs.constants.R_OK, (err) =&gt; {<font></font>
console.log(err ? 'no access!' : 'read')<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同样，现在，越来越多的模块和API可以立即使用Promises，这很好。</font><font style="vertical-align: inherit;">节点支持承诺：</font></font><br>
<br>
<pre><code class="javascript hljs">util.promisify()<font></font>
fs.promises.*<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
返回类型：</font></font><br>
<br>
<pre><code class="javascript hljs">http.request(<span class="hljs-string">'https://example.com'</span>, (error, response, body) =&gt; {<font></font>
...<font></font>
})</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">节点问答</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
编写Web服务器时，尽管有许多实现类似功能的其他库和框架，但经常使用Express。</font><font style="vertical-align: inherit;">尽管如此，Express是最受欢迎和稳定的。</font><font style="vertical-align: inherit;">您可以说这是编写服务器的标准。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">"express"</span>;
<span class="hljs-keyword">const</span> app = express();
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>;<font></font>
app.get(<span class="hljs-string">"/"</span>, (req, res) =&gt; {<font></font>
res.send(<span class="hljs-string">"Hello World!"</span>);<font></font>
});<font></font>
app.listen(port, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Example app listening
});</span></code></pre><br>
<img src="https://habrastorage.org/webt/1x/ml/lo/1xmllok6fpyj1q_82zod2tzl5du.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
好了，现在您可以尝试自己使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Express生成器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建Web服务器</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用玉器，cookie会话；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">天真的登录注销。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或者只是看看老师是如何做到的，他</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> TypeScript </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">准备了现成的解决方案</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
就这样。</font><font style="vertical-align: inherit;">最后-几个有用的链接：</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方文件</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指南</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js框架：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ExpressJS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NestJS</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在球场上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
见</font><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN493858/index.html">关于IT服务管理的10本书</a></li>
<li><a href="../zh-CN493862/index.html">更新的模型索伯阿尔法罗密欧F1配备了在3D打印机上打印的143个零件</a></li>
<li><a href="../zh-CN493864/index.html">红杉资本就冠状病毒致初创企业的信</a></li>
<li><a href="../zh-CN493866/index.html">从头开始构建git的流程</a></li>
<li><a href="../zh-CN493870/index.html">Biogelx及其生物墨水在现代生物印刷中的作用</a></li>
<li><a href="../zh-CN493880/index.html">小孩子的BPF，零部分：经典BPF</a></li>
<li><a href="../zh-CN493882/index.html">机器人培养：入职，指导和倦怠</a></li>
<li><a href="../zh-CN493884/index.html">STM32MP1-内核+ Linux =完美的微控制器</a></li>
<li><a href="../zh-CN493890/index.html">流氓风格的历史：从流氓到以撒的束缚</a></li>
<li><a href="../zh-CN493892/index.html">如何在家工作。删除人的清单</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>