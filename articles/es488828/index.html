<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëèüèΩ üîÉ üë©üèª‚Äçüöí Spam, spam, spam ... üéº üö£üèª üö£üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cada suscriptor activo recibe un promedio de m√°s de cuatro llamadas no deseadas por semana; esto es publicidad, ofertas bancarias, a veces solo fraude...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Spam, spam, spam ...</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/488828/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada suscriptor activo recibe un promedio de m√°s de cuatro llamadas no deseadas por semana; esto es publicidad, ofertas bancarias, a veces solo fraude. </font><font style="vertical-align: inherit;">La mayor√≠a de los clientes reaccionan negativamente a este tipo de llamadas. </font><font style="vertical-align: inherit;">Para resolver este problema, desarrollamos el servicio "Bloqueo de llamadas de correo no deseado", mediante el cual el usuario deja de recibir llamadas no deseadas y, al final de cada d√≠a, el sistema notifica al suscriptor sobre las llamadas que han sido bloqueadas. </font><font style="vertical-align: inherit;">En este art√≠culo, los cient√≠ficos de datos de MTS Anna Rozhkova ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@RogotulkA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) y Olga Gerasimova ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ynonaolga</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) contar√°n c√≥mo desarrollaron un algoritmo que distingue los n√∫meros de spammers del resto de la base de suscriptores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rv/0j/16/rv0j16anuibqqp6u6xieglpbujo.jpeg"></div><br>
<a name="habracut"></a><br>
<h2><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Construcci√≥n del modelo</font></font></b></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, nos enfrentamos con la tarea de clasificaci√≥n binaria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, ¬øc√≥mo distinguir a un suscriptor (incluso muy sociable, con una amplia gama de nuevos contactos) de un spammer que impone incansablemente los servicios de otro centro m√©dico? Al principio, consideramos esos n√∫meros que llamaron a muchos suscriptores diferentes como spam, pero result√≥ ser dif√≠cil de distinguir de las tiendas en l√≠nea. Luego decidimos tomar los n√∫meros, cuyas llamadas a menudo se cortan, pero las personas a veces cuelgan las llamadas cuando simplemente no se sienten c√≥modas para hablar. Tambi√©n probamos la hip√≥tesis de que los suscriptores no volver√°n a llamar a los spammers (dentro de un corto per√≠odo de tiempo despu√©s de una llamada perdida), pero hubo demasiados n√∫meros de este tipo, tal vez para algunos suscriptores este es un comportamiento est√°ndar, no llaman a sus amigos. Como resultado, llegamos a la decisi√≥n de que los n√∫meros de spam difieren en el nivel de insatisfacci√≥n de los usuarios con ellos. Por lo tanto como</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la variable objetivo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se tomaron n√∫meros, que recibieron muchas quejas, y se marcaron ejemplos negativos aquellos que tienen pocas cr√≠ticas negativas o ninguna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los datos agregados sobre la actividad del suscriptor se usaron como signos: la duraci√≥n promedio de las llamadas, los per√≠odos del d√≠a con la actividad m√°s alta, la duraci√≥n promedio de un descanso entre llamadas, la velocidad de actualizaci√≥n del c√≠rculo de contactos y muchos otros. </font><font style="vertical-align: inherit;">Tambi√©n notamos que muchos spammers seleccionan "n√∫meros hermosos" o similares a los existentes conocidos (por ejemplo, el n√∫mero de la l√≠nea directa del banco) y agregan tales funciones binarias.‚ÄØ</font></font><br>
<br>
<h2><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selecci√≥n m√©trica</font></font></b></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente paso fue elegir una m√©trica de optimizaci√≥n. En nuestra decisi√≥n, era importante no bloquear las llamadas de n√∫meros ordinarios, por lo que determinamos que la precisi√≥n del modelo deber√≠a ser al menos del 95%. La precisi√≥n es el porcentaje de n√∫meros reconocidos como objetos de una clase de correo no deseado que el modelo predijo correctamente. Pero es importante bloquear tantos n√∫meros no deseados como sea posible, as√≠ que elija la recuperaci√≥n m√°xima (recuperaci√≥n) para un nivel aceptable de precisi√≥n. La versi√≥n final del modelo tiene los siguientes indicadores: 95% de precisi√≥n, recuerdo 94%. Ahora el modelo est√° en el cronograma y se vuelve a entrenar regularmente para observar los cambios en la actividad de llamadas de varios grupos de suscriptores, y estas m√©tricas se verifican para que no caigan por debajo del 90% cada una.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/oa/hm/nh/oahmnhcygk2ifjeivsddcju75-i.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debido al hecho de que los n√∫meros de correo no deseado son mucho m√°s peque√±os de lo habitual, es decir, la muestra no est√° equilibrada, el n√∫mero de ejemplos negativos se ha reducido relativamente positivo (submuestreo). En la muestra de validaci√≥n, la relaci√≥n de clase se eligi√≥ real para tener una idea de la calidad del modelo "en batalla". Adem√°s, solo se incluyeron en la muestra aquellos n√∫meros de spam que estaban activos en una fecha determinada debido a la inconsistencia de los spammers: hay per√≠odos de marcaci√≥n activa y hay un per√≠odo de pasividad cuando hacen varias llamadas, lo m√°s probable es que mantengan el n√∫mero. A veces, los n√∫meros despu√©s de la campa√±a se bloquean y se transfieren a otro propietario.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como algoritmo, se utiliz√≥ la implementaci√≥n del refuerzo xgboost, ya que dio los mejores resultados en la muestra de validaci√≥n. </font><font style="vertical-align: inherit;">Las se√±ales importantes para el modelo resultaron ser: datos sobre la actividad de los suscriptores en diferentes momentos del d√≠a, el n√∫mero de llamadas cortas, la amplitud del c√≠rculo de amigos. </font><font style="vertical-align: inherit;">Un hecho interesante fue que la caracter√≠stica del operador de telecomunicaciones ingres√≥ a las caracter√≠sticas principales. </font><font style="vertical-align: inherit;">A continuaci√≥n, en el gr√°fico, anonimizamos a los operadores m√≥viles y presentamos estad√≠sticas sobre el uso de sus n√∫meros por parte de los spammers:</font></font><br>
<br>
<div style="text-align:center;"><img width="75%" src="https://habrastorage.org/webt/a5/d9/iu/a5d9iuohyewmhckgyyd52moc-fq.jpeg"></div><br>
<h2><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pruebas</font></font></b></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esta tarea, no fue posible realizar pruebas A / B: el servicio a nivel de red no implica la existencia de varias listas de n√∫meros de spam, por lo que lanzamos el piloto de la primera versi√≥n del modelo dentro de la empresa, los colegas y la alta gerencia se convirtieron en probadores. </font><font style="vertical-align: inherit;">Una de las caracter√≠sticas positivas de las pruebas internas es la retroalimentaci√≥n r√°pida. </font><font style="vertical-align: inherit;">Inmediatamente comenzamos a verter preguntas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPor qu√© lleg√≥ este n√∫mero? </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPor qu√© bloqueaste este n√∫mero? </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No necesito otro seguro de autom√≥vil (¬øcu√°nto puedo?)</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuestra experiencia personal tambi√©n se convirti√≥ en una raz√≥n adicional para buscar nuevas caracter√≠sticas para el modelo, cuando despu√©s de una larga espera para la entrega de la tienda en l√≠nea, el tel√©fono del servicio de mensajer√≠a se encontr√≥ en la lista de bloqueados. </font></font><br>
<br>
<h2><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lanzamiento en prod</font></font></b></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro problema grave en la clasificaci√≥n de los n√∫meros fue la diferencia en las ideas sobre qu√© es el spam: para algunos, las llamadas con una oferta de pr√©stamo son informaci√≥n innecesaria, y alguien est√° esperando ofertas personales y eligiendo la mejor, por lo que el suscriptor tuvo la oportunidad de ver la lista de personas que llaman n√∫meros con la opci√≥n de deshabilitar aquellos que son potencialmente √∫tiles para √©l.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/jy/qn/qc/jyqnqcqdqssy_guhaqyntaziueu.png" width="45%"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una de las solicitudes m√°s populares de los usuarios para finalizar el servicio fue expandir el contenido informativo del informe de SMS en n√∫meros bloqueados diariamente con datos sobre categor√≠as de llamadas, por ejemplo, bancos, servicios m√©dicos o bienes inmuebles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las primeras versiones del modelo se basaron en caracter√≠sticas recopiladas durante un largo per√≠odo de tiempo, pero notamos que el modelo a menudo no considera los n√∫meros que parec√≠an ser spam recientemente, es decir. nuevos n√∫meros o aquellos que iniciaron llamadas activas despu√©s de un per√≠odo de "silencio". Para resolver este problema, creamos un modelo adicional sobre las caracter√≠sticas recopiladas durante un per√≠odo m√°s corto. No fue suficiente agregar caracter√≠sticas "cortas" al escaparate de entrenamiento, ya que las muestras de entrenamiento en s√≠ mismas son diferentes: los suscriptores que est√°n activos por per√≠odos de tiempo largos y cortos no coinciden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuestros planes adicionales para el desarrollo del producto incluyen la creaci√≥n de listas individuales de correo no deseado, teniendo en cuenta el perfil del cliente y sus necesidades, transfiriendo el modelo al modo en l√≠nea, para que alcance el pico de la actividad de los spammers a partir de aqu√≠ y ahora.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es488816/index.html">C√≥mo perdimos a Mir: un incendio en una estaci√≥n espacial, una colisi√≥n con un cami√≥n Progress, despresurizaci√≥n</a></li>
<li><a href="../es488818/index.html">Avances #DeepPavlov en 2019: revisi√≥n y resultados del a√±o</a></li>
<li><a href="../es488820/index.html">C√≥mo no agotarse en el trabajo y qu√© hacer si a√∫n se agota</a></li>
<li><a href="../es488824/index.html">DGTL Design Community Meetup en Raiffeisenbank: Broadcast</a></li>
<li><a href="../es488826/index.html">Reconocer la escalada de privilegios en ABBYY FineReader</a></li>
<li><a href="../es488830/index.html">Internet en Turkmenist√°n: precio, disponibilidad y restricciones</a></li>
<li><a href="../es488832/index.html">Sorprendentemente, el a√±o pasado, los discos duros corporativos fueron m√°s populares que los SSD y sus ventas est√°n creciendo</a></li>
<li><a href="../es488834/index.html">C√≥mo el error de 2009 causa un conflicto entre Docker para Windows y Razer Synapse</a></li>
<li><a href="../es488836/index.html">Algunos aspectos de trabajar con Dictionary cuando se desarrollan aplicaciones cargadas</a></li>
<li><a href="../es488842/index.html">Atrapa un electr√≥n: observa un proceso que toma una quintillon√©sima de segundo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>