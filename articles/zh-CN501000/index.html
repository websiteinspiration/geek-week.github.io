<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’ ğŸŒ¦ï¸ ğŸ¤œğŸ¾ é€šè¿‡ä¸ºæ•°æ®åº“åˆ›å»ºå®¢æˆ·ç«¯çš„ç¤ºä¾‹åœ¨Goä¸­ç”Ÿæˆä»£ç  ğŸ‘©ğŸ¾â€ğŸš’ ğŸ’ ğŸï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è€ƒè™‘Golangä¸­ä»£ç ç”Ÿæˆçš„é—®é¢˜ã€‚æˆ‘æ³¨æ„åˆ°åœ¨Goæ–‡ç« çš„è¯„è®ºä¸­ç»å¸¸æåˆ°ä»£ç ç”Ÿæˆå’Œåå°„ï¼Œè¿™å¼•èµ·äº†æ¿€çƒˆçš„è¾©è®ºã€‚åŒæ—¶ï¼Œå°½ç®¡åœ¨Goä¸Šçš„é¡¹ç›®ä¸­ä½¿ç”¨äº†å¾ˆå¤šä»£ç ï¼Œä½†æ˜¯åœ¨Hubä¸Šå¾ˆå°‘æœ‰å…³äºä»£ç ç”Ÿæˆçš„æ–‡ç« ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•å‘Šè¯‰æ‚¨ä»€ä¹ˆæ˜¯ä»£ç ç”Ÿæˆï¼Œå¹¶é€šè¿‡ä»£ç ç¤ºä¾‹æè¿°åº”ç”¨ç¨‹åºçš„èŒƒå›´ã€‚å¦å¤–ï¼Œæˆ‘ä¸ä¼šå¿½ç•¥åæ€ã€‚
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>é€šè¿‡ä¸ºæ•°æ®åº“åˆ›å»ºå®¢æˆ·ç«¯çš„ç¤ºä¾‹åœ¨Goä¸­ç”Ÿæˆä»£ç </h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501000/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è€ƒè™‘Golangä¸­ä»£ç ç”Ÿæˆçš„é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">æˆ‘æ³¨æ„åˆ°åœ¨Goæ–‡ç« çš„è¯„è®ºä¸­ç»å¸¸æåˆ°ä»£ç ç”Ÿæˆå’Œåå°„ï¼Œè¿™å¼•èµ·äº†æ¿€çƒˆçš„è¾©è®ºã€‚</font><font style="vertical-align: inherit;">åŒæ—¶ï¼Œå°½ç®¡åœ¨Goä¸Šçš„é¡¹ç›®ä¸­ä½¿ç”¨äº†å¾ˆå¤šä»£ç ï¼Œä½†æ˜¯åœ¨Hubä¸Šå¾ˆå°‘æœ‰å…³äºä»£ç ç”Ÿæˆçš„æ–‡ç« ã€‚</font><font style="vertical-align: inherit;">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•å‘Šè¯‰æ‚¨ä»€ä¹ˆæ˜¯ä»£ç ç”Ÿæˆï¼Œå¹¶é€šè¿‡ä»£ç ç¤ºä¾‹æè¿°åº”ç”¨ç¨‹åºçš„èŒƒå›´ã€‚</font><font style="vertical-align: inherit;">å¦å¤–ï¼Œæˆ‘ä¸ä¼šå¿½ç•¥åæ€ã€‚</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨ä»£ç ç”Ÿæˆæ—¶</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨HabrÃ©ä¸Šï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™é‡Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™é‡Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å·²ç»æœ‰å…³äºè¯¥ä¸»é¢˜çš„å¥½æ–‡ç« </font><font style="vertical-align: inherit;">ï¼Œæˆ‘ä¸å†èµ˜è¿°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ä»¥ä¸‹æƒ…å†µä¸‹åº”ä½¿ç”¨ä»£ç ç”Ÿæˆï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æé«˜ä»£ç é€Ÿåº¦ï¼Œå³æ›¿æ¢åå°„ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡å°‘ç¨‹åºå‘˜çš„ä¾‹ç¨‹ï¼ˆä»¥åŠä¸ä¹‹ç›¸å…³çš„é”™è¯¯ï¼‰ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ¹æ®ç»™å®šè§„åˆ™æ‰§è¡ŒåŒ…è£…å™¨ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘æ ‡å‡†è¯­è¨€æä¾›ç¨‹åºä¸­åŒ…å«çš„Stringeråº“ï¼Œè¯¥åº“å…è®¸æ‚¨è‡ªåŠ¨ä¸ºæ•°å­—å¸¸é‡é›†ç”ŸæˆStringï¼ˆï¼‰æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨å®ƒï¼Œå¯ä»¥å®ç°å˜é‡åçš„è¾“å‡ºã€‚</font><font style="vertical-align: inherit;">åœ¨ä»¥ä¸Šæ–‡ç« ä¸­è¯¦ç»†æè¿°äº†è¯¥åº“çš„ç¤ºä¾‹ã€‚</font><font style="vertical-align: inherit;">æœ€æœ‰è¶£çš„ç¤ºä¾‹æ˜¯ä»è°ƒè‰²æ¿ä¸­å¯¼å‡ºé¢œè‰²åç§°ã€‚</font><font style="vertical-align: inherit;">åœ¨é‚£é‡Œä½¿ç”¨ä»£ç ç”Ÿæˆå¯ä»¥é¿å…åœ¨æ›´æ”¹é¢æ¿æ—¶åœ¨å¤šä¸ªä½ç½®æ›´æ”¹ä»£ç ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»ä¸€ä¸ªæ›´å®é™…çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æåˆ°Mail.ruä¸­çš„easyjsonåº“ã€‚</font><font style="vertical-align: inherit;">è¯¥åº“ä½¿æ‚¨å¯ä»¥åŠ å¿«ä»/åˆ°ç»“æ„çš„masrshall / unmarshall JSONçš„æ‰§è¡Œã€‚</font><font style="vertical-align: inherit;">ä»–ä»¬åœ¨åŸºå‡†ä¸Šçš„å®æ–½ç»•è¿‡äº†æ‰€æœ‰æ›¿ä»£æ–¹æ¡ˆã€‚</font><font style="vertical-align: inherit;">è¦ä½¿ç”¨è¯¥åº“ï¼Œæ‚¨éœ€è¦è°ƒç”¨easyjsonï¼Œå®ƒå°†ä¸ºå®ƒåœ¨å·²ä¼ è¾“æ–‡ä»¶ä¸­æ‰¾åˆ°çš„æ‰€æœ‰ç»“æ„ç”Ÿæˆä»£ç ï¼Œæˆ–è€…ä»…ä¸ºé‚£äº›è¡¨ç¤ºæ³¨é‡Š// easyjsonï¼šjsonçš„ç»“æ„ç”Ÿæˆä»£ç ã€‚</font><font style="vertical-align: inherit;">ä»¥ç”¨æˆ·ç»“æ„ä¸ºä¾‹ï¼š</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span>{<font></font>
    ID <span class="hljs-keyword">int</span>
    Login <span class="hljs-keyword">string</span>
    Email <span class="hljs-keyword">string</span>
    Level <span class="hljs-keyword">int</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºåŒ…å«å®ƒçš„æ–‡ä»¶ï¼Œè¿è¡Œä»£ç ç”Ÿæˆï¼š</font></font><br>
<br>
<pre><code class="bash hljs">easyjson -all main.go</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœï¼Œæˆ‘ä»¬è·å¾—äº†Userçš„æ–¹æ³•ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MarshalEasyJSONï¼ˆw * jwriter.Writerï¼‰-å°†ç»“æ„è½¬æ¢ä¸ºJSONå­—èŠ‚æ•°ç»„ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnmarshalEasyJSONï¼ˆl * jlexer.Lexerï¼‰-ä»å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºç»“æ„ã€‚ </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†ä¸æ ‡å‡†jsonæ¥å£å…¼å®¹ï¼Œå¿…é¡»ä½¿ç”¨å‡½æ•°MarshalJSONï¼ˆï¼‰ï¼ˆ[]å­—èŠ‚ï¼Œé”™è¯¯ï¼‰å’ŒUnmarshalJSONï¼ˆæ•°æ®[]å­—èŠ‚ï¼‰é”™è¯¯ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Easyjsonä»£ç </font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">TestEasyJSON</span><span class="hljs-params">()</span></span> {<font></font>
	testJSON := <span class="hljs-string">`{"ID":123, "Login":"TestUser", "Email":"user@gmail.com", "Level":12}`</span>
	JSONb := []<span class="hljs-keyword">byte</span>(testJSON)<font></font>
	fmt.Println(testJSON)<font></font>
	recvUser := &amp;User{}<font></font>
	recvUser.UnmarshalJSON(JSONb)<font></font>
	fmt.Println(recvUser)<font></font>
	recvUser.Level += <span class="hljs-number">1</span><font></font>
	outJSON, _ := recvUser.MarshalJSON()<font></font>
	fmt.Println(<span class="hljs-keyword">string</span>(outJSON))<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ­¤åŠŸèƒ½ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå°†JSONè½¬æ¢ä¸ºç»“æ„ï¼Œæ·»åŠ ä¸€ä¸ªçº§åˆ«å¹¶æ‰“å°ç»“æœJSONã€‚</font><font style="vertical-align: inherit;">easyjsonç”Ÿæˆä»£ç æ„å‘³ç€æ‘†è„±è¿è¡Œæ—¶åå°„å¹¶æé«˜ä»£ç æ€§èƒ½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»£ç ç”Ÿæˆæ´»è·ƒåœ°ç”¨äºåˆ›å»ºé€šè¿‡gRPCè¿›è¡Œé€šä¿¡çš„å¾®æœåŠ¡ã€‚å®ƒä½¿ç”¨protobufæ ¼å¼æ¥æè¿°æœåŠ¡æ–¹æ³•-ä½¿ç”¨ä¸­é—´è¯­è¨€EDLã€‚åœ¨æè¿°æœåŠ¡ä¹‹åï¼Œå°†å¯åŠ¨åè®®ç¼–è¯‘å™¨ï¼Œè¯¥åè®®ç¼–è¯‘å™¨ä¼šç”Ÿæˆæ‰€éœ€ç¼–ç¨‹è¯­è¨€çš„ä»£ç ã€‚åœ¨ç”Ÿæˆçš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬è·å¾—éœ€è¦åœ¨æœåŠ¡å™¨ä¸­å®ç°çš„æ¥å£ä»¥åŠåœ¨å®¢æˆ·ç«¯ä¸Šç”¨äºç»„ç»‡é€šä¿¡çš„æ–¹æ³•ã€‚ç»“æœå¾ˆæ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§æ ¼å¼æè¿°æˆ‘ä»¬çš„æœåŠ¡ï¼Œå¹¶ä¸ºå°†æè¿°æ¯ä¸ªäº¤äº’å…ƒç´ çš„ç¼–ç¨‹è¯­è¨€ç”Ÿæˆä»£ç ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒæ ·ï¼Œä»£ç ç”Ÿæˆå¯ç”¨äºæ¡†æ¶çš„å¼€å‘ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œè¦å®ç°ä¸éœ€è¦ç”±åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ç¼–å†™çš„ä»£ç ï¼Œä½†æ˜¯å¯¹äºæ­£ç¡®çš„æ“ä½œè€Œè¨€è¿™æ˜¯å¿…éœ€çš„ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œä¸ºäº†åˆ›å»ºè¡¨å•å­—æ®µéªŒè¯å™¨ï¼Œä¸­é—´ä»¶è‡ªåŠ¨ç”Ÿæˆï¼ŒåŠ¨æ€ç”ŸæˆDBMSçš„å®¢æˆ·ç«¯ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Goä»£ç ç”Ÿæˆå™¨å®ç°</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬åœ¨å®è·µä¸­æ£€æŸ¥Goä¸­ä»£ç ç”Ÿæˆæœºåˆ¶çš„å·¥ä½œåŸç†ã€‚é¦–å…ˆï¼Œæœ‰å¿…è¦æåŠAST-æŠ½è±¡è¯­æ³•æ ‘æˆ–æŠ½è±¡è¯­æ³•æ ‘ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è½¬åˆ°</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚å‡ºäºæˆ‘ä»¬çš„ç›®çš„ï¼Œæœ‰å¿…è¦äº†è§£æ•´ä¸ªç¨‹åºæ˜¯ä»¥å›¾å½¢çš„å½¢å¼æ„å»ºçš„ï¼Œå…¶ä¸­é¡¶ç‚¹æ˜¯ç”¨ç¼–ç¨‹è¯­è¨€çš„è¿ç®—ç¬¦æ˜ å°„ï¼ˆæ ‡è®°ï¼‰çš„ï¼Œå¶æ˜¯å¯¹åº”çš„æ“ä½œæ•°çš„æ˜ å°„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œå¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œæˆ‘ä»¬å°†éœ€è¦ä»¥ä¸‹è½¯ä»¶åŒ…ï¼š</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">go / ast </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">go / parser / </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">go / token /</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä½¿ç”¨ä»£ç è§£ææ–‡ä»¶å¹¶ç¼–è¯‘æ ‘æ˜¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œçš„</font></font><br>
<br>
<pre><code class="go hljs"><font></font>
fset := token.NewFileSet()<font></font>
node, err := parser.ParseFile(fset, os.Args[<span class="hljs-number">1</span>], <span class="hljs-literal">nil</span>, parser.ParseComments)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æŒ‡ç¤ºæ–‡ä»¶ååº”ä»å‘½ä»¤è¡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°è·å–ï¼Œæˆ‘ä»¬è¿˜è¦æ±‚å°†æ³¨é‡Šæ·»åŠ åˆ°æ ‘ä¸­ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šå¸¸ï¼Œä¸ºäº†æ§åˆ¶ä»£ç çš„ç”Ÿæˆï¼Œç”¨æˆ·ï¼ˆæ ¹æ®ä»£ç ç”Ÿæˆå…¶ä»–ä»£ç çš„ä»£ç å¼€å‘äººå‘˜ï¼‰å¯ä»¥ä½¿ç”¨æ³¨é‡Šæˆ–æ ‡ç­¾ï¼ˆåœ¨ç»“æ„å­—æ®µé™„è¿‘å†™â€œ jsonï¼šâ€â€æ—¶ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªç”¨äºç”Ÿæˆæ•°æ®åº“çš„ä»£ç ç”Ÿæˆå™¨ã€‚</font><font style="vertical-align: inherit;">ä»£ç ç”Ÿæˆå™¨å°†æŸ¥çœ‹ä¼ è¾“åˆ°è¯¥æ–‡ä»¶çš„æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å…·æœ‰ç›¸åº”æ³¨é‡Šçš„ç»“æ„ï¼Œå¹¶åœ¨è¯¥ç»“æ„ï¼ˆCRUDæ–¹æ³•ï¼‰ä¸Šåˆ›å»ºåŒ…è£…å™¨ä»¥è¿›è¡Œæ•°æ®åº“äº¤äº’ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹å‚æ•°ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dbeæ³¨é‡Šï¼š{â€œ tableâ€ï¼šâ€œ usersâ€}ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­å®šä¹‰ç»“æ„è®°å½•æ‰€åœ¨çš„è¡¨ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dbeæ ‡ç­¾ç”¨äºç»“æ„çš„å­—æ®µï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­æŒ‡å®šè¦åœ¨å…¶ä¸­æ”¾ç½®æ•°æ®åº“çš„å­—æ®µå€¼å’Œå±æ€§çš„åˆ—çš„åç§°ï¼šprimary_keyå’Œnot_nullã€‚</font><font style="vertical-align: inherit;">åˆ›å»ºè¡¨æ—¶å°†ä½¿ç”¨å®ƒä»¬ã€‚</font><font style="vertical-align: inherit;">å¯¹äºå­—æ®µåï¼Œå¯ä»¥ä½¿ç”¨â€œ-â€ï¼Œä»¥å…ä¸ºå…¶åˆ›å»ºåˆ—ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘å°†æå‰é¢„çº¦è¯¥é¡¹ç›®å°šæœªæŠ•å…¥ä½¿ç”¨ï¼Œå®ƒä¸ä¼šåŒ…å«å¿…è¦çš„æ£€æŸ¥å’Œä¿æŠ¤æªæ–½çš„ä¸€éƒ¨åˆ†ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæœ‰å…´è¶£ï¼Œæˆ‘ä¼šç»§ç»­å‘å±•ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬ç¡®å®šäº†æ§åˆ¶ä»£ç ç”Ÿæˆçš„ä»»åŠ¡å’Œå‚æ•°åï¼Œå°±å¯ä»¥å¼€å§‹ç¼–å†™ä»£ç äº†ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰€æœ‰ä»£ç çš„é“¾æ¥å°†åœ¨æœ¬æ–‡çš„ç»“å°¾ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¼€å§‹ç»•è¿‡ç»“æœæ ‘ï¼Œç„¶åè§£æç¬¬ä¸€çº§çš„æ¯ä¸ªå…ƒç´ ã€‚</font><font style="vertical-align: inherit;">Goå…·æœ‰é¢„å®šä¹‰çš„è§£æç±»å‹ï¼šBadDeclï¼ŒGenDeclå’ŒFuncDeclã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹è¯´æ˜</font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs"><span class="hljs-comment">// A BadDecl node is a placeholder for declarations containing</span>
<span class="hljs-comment">// syntax errors for which no correct declaration nodes can be</span>
<span class="hljs-comment">// created.</span>
<span class="hljs-comment">//</span>
BadDecl <span class="hljs-keyword">struct</span> {<font></font>
    From, To token.Pos <span class="hljs-comment">// position range of bad declaration</span><font></font>
}<font></font>
<span class="hljs-comment">// A GenDecl node (generic declaration node) represents an import,</span>
<span class="hljs-comment">// constant, type or variable declaration. A valid Lparen position</span>
<span class="hljs-comment">// (Lparen.IsValid()) indicates a parenthesized declaration.</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// Relationship between Tok value and Specs element type:</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// token.IMPORT *ImportSpec</span>
<span class="hljs-comment">// token.CONST *ValueSpec</span>
<span class="hljs-comment">// token.TYPE *TypeSpec</span>
<span class="hljs-comment">// token.VAR *ValueSpec</span>
<span class="hljs-comment">//</span>
GenDecl <span class="hljs-keyword">struct</span> {<font></font>
    Doc *CommentGroup <span class="hljs-comment">// associated documentation; or nil</span>
    TokPos token.Pos <span class="hljs-comment">// position of Tok</span>
    Tok token.Token <span class="hljs-comment">// IMPORT, CONST, TYPE, VAR</span>
    Lparen token.Pos <span class="hljs-comment">// position of '(', if any</span><font></font>
    Specs []Spec<font></font>
    Rparen token.Pos <span class="hljs-comment">// position of ')', if any</span><font></font>
}<font></font>
<span class="hljs-comment">// A FuncDecl node represents a function declaration.</span>
FuncDecl <span class="hljs-keyword">struct</span> {<font></font>
    Doc *CommentGroup <span class="hljs-comment">// associated documentation; or nil</span>
    Recv *FieldList <span class="hljs-comment">// receiver (methods); or nil (functions)</span>
    Name *Ident <span class="hljs-comment">// function/method name</span>
    Type *FuncType <span class="hljs-comment">// function signature: parameters, results, and position of "func" keyword</span>
    Body *BlockStmt <span class="hljs-comment">// function body; or nil for external (non-Go) function</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¯¹ç»“æ„æ„Ÿå…´è¶£ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨GenDeclã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒFuncDeclå¯èƒ½ä¼šæœ‰ç”¨ï¼Œå‡½æ•°çš„å®šä¹‰ä½äºå…¶ä¸­ï¼Œæ‚¨å¯ä»¥åŒ…è£…å®ƒä»¬ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬ä¸éœ€è¦å®ƒä»¬äº†ã€‚</font><font style="vertical-align: inherit;">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŸ¥çœ‹æ¯ä¸ªèŠ‚ç‚¹å¤„çš„Specsæ•°ç»„ï¼Œå¹¶æŸ¥æ‰¾æ˜¯å¦æ­£åœ¨ä½¿ç”¨ç±»å‹å®šä¹‰å­—æ®µï¼ˆ* ast.TypeSpecï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªç»“æ„ï¼ˆ* ast.StructTypeï¼‰ã€‚</font><font style="vertical-align: inherit;">ç¡®å®šç»“æ„åï¼Œæˆ‘ä»¬æ£€æŸ¥å…¶æ˜¯å¦å…·æœ‰æ³¨é‡Š// dbeã€‚</font><font style="vertical-align: inherit;">å®Œæ•´çš„æ ‘éå†ä»£ç å’Œä½¿ç”¨çš„ç»“æ„çš„å®šä¹‰å¦‚ä¸‹ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éå†æ ‘å¹¶è·å–ç»“æ„</font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-keyword">for</span> _, f := <span class="hljs-keyword">range</span> node.Decls {<font></font>
	genD, ok := f.(*ast.GenDecl)<font></font>
	<span class="hljs-keyword">if</span> !ok {<font></font>
		fmt.Printf(<span class="hljs-string">"SKIP %T is not *ast.GenDecl\n"</span>, f)
		<span class="hljs-keyword">continue</span><font></font>
	}<font></font>
	targetStruct := &amp;StructInfo{}<font></font>
	<span class="hljs-keyword">var</span> thisIsStruct <span class="hljs-keyword">bool</span>
	<span class="hljs-keyword">for</span> _, spec := <span class="hljs-keyword">range</span> genD.Specs {<font></font>
		currType, ok := spec.(*ast.TypeSpec)<font></font>
		<span class="hljs-keyword">if</span> !ok {<font></font>
			fmt.Printf(<span class="hljs-string">"SKIP %T is not ast.TypeSpec\n"</span>, spec)
			<span class="hljs-keyword">continue</span><font></font>
		}<font></font>
<font></font>
		currStruct, ok := currType.Type.(*ast.StructType)<font></font>
		<span class="hljs-keyword">if</span> !ok {<font></font>
			fmt.Printf(<span class="hljs-string">"SKIP %T is not ast.StructType\n"</span>, currStruct)
			<span class="hljs-keyword">continue</span><font></font>
		}<font></font>
		targetStruct.Name = currType.Name.Name<font></font>
		thisIsStruct = <span class="hljs-literal">true</span><font></font>
	}<font></font>
	<span class="hljs-comment">//Getting comments</span>
	<span class="hljs-keyword">var</span> needCodegen <span class="hljs-keyword">bool</span>
	<span class="hljs-keyword">var</span> dbeParams <span class="hljs-keyword">string</span>
	<span class="hljs-keyword">if</span> thisIsStruct {
		<span class="hljs-keyword">for</span> _, comment := <span class="hljs-keyword">range</span> genD.Doc.List {<font></font>
			needCodegen = needCodegen || strings.HasPrefix(comment.Text, <span class="hljs-string">"// dbe"</span>)
			<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(comment.Text) &lt; <span class="hljs-number">7</span> {<font></font>
				dbeParams = <span class="hljs-string">""</span>
			} <span class="hljs-keyword">else</span> {<font></font>
				dbeParams = strings.Replace(comment.Text, <span class="hljs-string">"// dbe:"</span>, <span class="hljs-string">""</span>, <span class="hljs-number">1</span>)<font></font>
			}<font></font>
		}<font></font>
	}<font></font>
	<span class="hljs-keyword">if</span> needCodegen {<font></font>
		targetStruct.Target = genD<font></font>
		genParams := &amp;DbeParam{}<font></font>
		<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(dbeParams) != <span class="hljs-number">0</span> {<font></font>
			err := json.Unmarshal([]<span class="hljs-keyword">byte</span>(dbeParams), genParams)
			<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
				fmt.Printf(<span class="hljs-string">"Error encoding DBE params for structure %s\n"</span>, targetStruct.Name)
				<span class="hljs-keyword">continue</span><font></font>
			}<font></font>
		} <span class="hljs-keyword">else</span> {<font></font>
			genParams.TableName = targetStruct.Name<font></font>
		}<font></font>
<font></font>
		targetStruct.GenParam = genParams<font></font>
		generateMethods(targetStruct, out)<font></font>
	}<font></font>
}</code></pre><br>
     ,  :<br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">type</span> DbeParam <span class="hljs-keyword">struct</span> {<font></font>
	TableName <span class="hljs-keyword">string</span> <span class="hljs-string">`json:"table"`</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">type</span> StructInfo <span class="hljs-keyword">struct</span> {<font></font>
	Name     <span class="hljs-keyword">string</span><font></font>
	GenParam *DbeParam<font></font>
	Target   *ast.GenDecl<font></font>
}</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæˆ‘ä»¬å°†å‡†å¤‡æœ‰å…³ç»“æ„å­—æ®µçš„ä¿¡æ¯ï¼Œä»¥ä¾¿æ ¹æ®æ”¶åˆ°çš„ä¿¡æ¯ç”Ÿæˆè¡¨åˆ›å»ºå‡½æ•°ï¼ˆcreateTableï¼‰å’ŒCRUDæ–¹æ³•ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨äºä»ç»“æ„è·å–å­—æ®µçš„ä»£ç </font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">generateMethods</span><span class="hljs-params">(reqStruct *StructInfo, out *os.File)</span></span> {
	<span class="hljs-keyword">for</span> _, spec := <span class="hljs-keyword">range</span> reqStruct.Target.Specs {<font></font>
		fmt.Fprintln(out, <span class="hljs-string">""</span>)<font></font>
		currType, ok := spec.(*ast.TypeSpec)<font></font>
		<span class="hljs-keyword">if</span> !ok {
			<span class="hljs-keyword">continue</span><font></font>
		}<font></font>
		currStruct, ok := currType.Type.(*ast.StructType)<font></font>
		<span class="hljs-keyword">if</span> !ok {
			<span class="hljs-keyword">continue</span><font></font>
		}<font></font>
<font></font>
		fmt.Printf(<span class="hljs-string">"\tgenerating createTable methods for %s\n"</span>, currType.Name.Name)<font></font>
<font></font>
		curTable := &amp;TableInfo{<font></font>
			TableName: reqStruct.GenParam.TableName,<font></font>
			Columns:   <span class="hljs-built_in">make</span>([]*ColInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(currStruct.Fields.List)),<font></font>
		}<font></font>
<font></font>
		<span class="hljs-keyword">for</span> _, field := <span class="hljs-keyword">range</span> currStruct.Fields.List {
			<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(field.Names) == <span class="hljs-number">0</span> {
				<span class="hljs-keyword">continue</span><font></font>
			}<font></font>
			tableCol := &amp;ColInfo{FieldName: field.Names[<span class="hljs-number">0</span>].Name}
			<span class="hljs-keyword">var</span> fieldIsPrimKey <span class="hljs-keyword">bool</span>
			<span class="hljs-keyword">var</span> preventThisField <span class="hljs-keyword">bool</span>
			<span class="hljs-keyword">if</span> field.Tag != <span class="hljs-literal">nil</span> {<font></font>
				tag := reflect.StructTag(field.Tag.Value[<span class="hljs-number">1</span> : <span class="hljs-built_in">len</span>(field.Tag.Value)<span class="hljs-number">-1</span>])<font></font>
				tagVal := tag.Get(<span class="hljs-string">"dbe"</span>)<font></font>
				fmt.Println(<span class="hljs-string">"dbe:"</span>, tagVal)<font></font>
				tagParams := strings.Split(tagVal, <span class="hljs-string">","</span>)<font></font>
			PARAMSLOOP:<font></font>
				<span class="hljs-keyword">for</span> _, param := <span class="hljs-keyword">range</span> tagParams {
					<span class="hljs-keyword">switch</span> param {
					<span class="hljs-keyword">case</span> <span class="hljs-string">"primary_key"</span>:
						<span class="hljs-keyword">if</span> curTable.PrimaryKey == <span class="hljs-literal">nil</span> {<font></font>
							fieldIsPrimKey = <span class="hljs-literal">true</span>
							tableCol.NotNull = <span class="hljs-literal">true</span>
						} <span class="hljs-keyword">else</span> {<font></font>
							log.Panicf(<span class="hljs-string">"Table %s cannot have more then 1 primary key!"</span>, currType.Name.Name)<font></font>
						}<font></font>
					<span class="hljs-keyword">case</span> <span class="hljs-string">"not_null"</span>:<font></font>
						tableCol.NotNull = <span class="hljs-literal">true</span>
					<span class="hljs-keyword">case</span> <span class="hljs-string">"-"</span>:<font></font>
						preventThisField = <span class="hljs-literal">true</span>
						<span class="hljs-keyword">break</span> PARAMSLOOP
					<span class="hljs-keyword">default</span>:<font></font>
						tableCol.ColName = param<font></font>
					}<font></font>
<font></font>
				}<font></font>
				<span class="hljs-keyword">if</span> preventThisField {
					<span class="hljs-keyword">continue</span><font></font>
				}<font></font>
			}<font></font>
			<span class="hljs-keyword">if</span> tableCol.ColName == <span class="hljs-string">""</span> {<font></font>
				tableCol.ColName = tableCol.FieldName<font></font>
			}<font></font>
			<span class="hljs-keyword">if</span> fieldIsPrimKey {<font></font>
				curTable.PrimaryKey = tableCol<font></font>
			}<font></font>
			<span class="hljs-comment">//Determine field type</span>
			<span class="hljs-keyword">var</span> fieldType <span class="hljs-keyword">string</span>
			<span class="hljs-keyword">switch</span> field.Type.(<span class="hljs-keyword">type</span>) {
			<span class="hljs-keyword">case</span> *ast.Ident:<font></font>
				fieldType = field.Type.(*ast.Ident).Name<font></font>
			<span class="hljs-keyword">case</span> *ast.SelectorExpr:<font></font>
				fieldType = field.Type.(*ast.SelectorExpr).Sel.Name<font></font>
			}<font></font>
			<span class="hljs-comment">//fieldType := field.Type.(*ast.Ident).Name</span>
			fmt.Printf(<span class="hljs-string">"%s- %s\n"</span>, tableCol.FieldName, fieldType)
			<span class="hljs-comment">//Check for integers</span>
			<span class="hljs-keyword">if</span> strings.Contains(fieldType, <span class="hljs-string">"int"</span>) {<font></font>
				tableCol.ColType = <span class="hljs-string">"integer"</span>
			} <span class="hljs-keyword">else</span> {
				<span class="hljs-comment">//Check for other types</span>
				<span class="hljs-keyword">switch</span> fieldType {
				<span class="hljs-keyword">case</span> <span class="hljs-string">"string"</span>:<font></font>
					tableCol.ColType = <span class="hljs-string">"text"</span>
				<span class="hljs-keyword">case</span> <span class="hljs-string">"bool"</span>:<font></font>
					tableCol.ColType = <span class="hljs-string">"boolean"</span>
				<span class="hljs-keyword">case</span> <span class="hljs-string">"Time"</span>:<font></font>
					tableCol.ColType = <span class="hljs-string">"TIMESTAMP"</span>
				<span class="hljs-keyword">default</span>:<font></font>
					log.Panicf(<span class="hljs-string">"Field type %s not supported"</span>, fieldType)<font></font>
				}<font></font>
			}<font></font>
			tableCol.FieldType = fieldType<font></font>
			curTable.Columns = <span class="hljs-built_in">append</span>(curTable.Columns, tableCol)<font></font>
			curTable.StructName = currType.Name.Name<font></font>
<font></font>
		}<font></font>
		curTable.generateCreateTable(out)<font></font>
<font></font>
		fmt.Printf(<span class="hljs-string">"\tgenerating CRUD methods for %s\n"</span>, currType.Name.Name)<font></font>
		curTable.generateCreate(out)<font></font>
		curTable.generateQuery(out)<font></font>
		curTable.generateUpdate(out)<font></font>
		curTable.generateDelete(out)<font></font>
	}<font></font>
}</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬éå†æ‰€éœ€ç»“æ„çš„æ‰€æœ‰å­—æ®µï¼Œç„¶åå¼€å§‹è§£ææ¯ä¸ªå­—æ®µçš„æ ‡ç­¾ã€‚ä½¿ç”¨åå°„ï¼Œæˆ‘ä»¬å¾—åˆ°æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ ‡ç­¾ï¼ˆæ¯•ç«Ÿï¼Œå­—æ®µä¸Šå¯èƒ½è¿˜æœ‰å…¶ä»–æ ‡ç­¾ï¼Œä¾‹å¦‚jsonï¼‰ã€‚æˆ‘ä»¬åˆ†ææ ‡ç­¾çš„å†…å®¹ï¼Œå¹¶ç¡®å®šè¯¥å­—æ®µæ˜¯å¦ä¸ºä¸»é”®ï¼ˆå¦‚æœæŒ‡å®šäº†å¤šä¸ªä¸»é”®ï¼Œè¯·å¯¹å…¶è¿›è¡Œè¯…å’’å¹¶åœæ­¢æ‰§è¡Œï¼‰ï¼Œæ˜¯å¦è¦æ±‚è¯¥å­—æ®µä¸ºéé›¶å€¼ï¼Œæ˜¯å¦éœ€è¦ä½¿ç”¨è¯¥å­—æ®µçš„æ•°æ®åº“å¹¶å®šä¹‰åˆ—åç§°ï¼ˆå¦‚æœåœ¨æ ‡è®°ä¸­è¢«è¦†ç›–ï¼‰ã€‚æˆ‘ä»¬è¿˜éœ€è¦æ ¹æ®ç»“æ„å­—æ®µçš„ç±»å‹ç¡®å®šè¡¨åˆ—çš„ç±»å‹ã€‚å­—æ®µç±»å‹æœ‰é™ï¼Œæˆ‘ä»¬åªä¼šä¸ºåŸºæœ¬ç±»å‹ç”Ÿæˆå­—æ®µï¼Œå°†æ‰€æœ‰è¡Œéƒ½å‡å°‘ä¸ºTEXTå­—æ®µç±»å‹ï¼Œå°½ç®¡é€šå¸¸å¯ä»¥å°†åˆ—ç±»å‹çš„å®šä¹‰æ·»åŠ åˆ°æ ‡ç­¾ä¸­ï¼Œä»¥ä¾¿è¿›è¡Œæ›´ç²¾ç»†çš„é…ç½®ã€‚å¦ä¸€æ–¹é¢ï¼Œæ²¡æœ‰äººæ„¿æ„äº‹å…ˆåœ¨æ•°æ®åº“ä¸­åˆ›å»ºæ‰€éœ€çš„è¡¨ï¼Œæˆ–è€…è‡ªåŠ¨æ›´æ­£æ‰€åˆ›å»ºçš„è¡¨ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è§£æç»“æ„åï¼Œæˆ‘ä»¬å¼€å§‹ä¸ºè¡¨åˆ›å»ºå‡½æ•°åˆ›å»ºä»£ç çš„æ–¹æ³•ä»¥åŠåˆ›å»ºCreateï¼ŒQueryï¼ŒUpdateï¼ŒDeleteå‡½æ•°çš„æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä¸ºæ¯ä¸ªå‡½æ•°å‡†å¤‡ä¸€ä¸ªSQLè¡¨è¾¾å¼ï¼Œå¹¶å‡†å¤‡è¦è¿è¡Œçš„ç»‘å®šã€‚</font><font style="vertical-align: inherit;">æˆ‘æ²¡æœ‰ç†ä¼šé”™è¯¯å¤„ç†ï¼Œåªæ˜¯ä»æ•°æ®åº“é©±åŠ¨ç¨‹åºä¸­ç»™å‡ºäº†é”™è¯¯ã€‚</font><font style="vertical-align: inherit;">å¯¹äºä»£ç ç”Ÿæˆï¼Œä½¿ç”¨æ–‡æœ¬/æ¨¡æ¿åº“ä¸­çš„æ¨¡æ¿å¾ˆæ–¹ä¾¿ã€‚</font><font style="vertical-align: inherit;">åœ¨ä»–ä»¬çš„å¸®åŠ©ä¸‹ï¼Œæ‚¨å¯ä»¥è·å¾—æ›´å¤šå—æ”¯æŒçš„å’Œå¯é¢„æµ‹çš„ä»£ç ï¼ˆè¯¥ä»£ç ç«‹å³å¯è§ï¼Œè€Œä¸ä¼šè¢«ç”Ÿæˆå™¨ä»£ç å¼„è„ï¼‰ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¡¨æ ¼åˆ›å»º</font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(tableD *TableInfo)</span> <span class="hljs-title">generateCreateTable</span><span class="hljs-params">(out *os.File)</span> <span class="hljs-title">error</span></span> {<font></font>
	fmt.Fprint(out, <span class="hljs-string">"func (in *"</span>+tableD.StructName+<span class="hljs-string">") createTable(db *sql.DB) (error) {\n"</span>)
	<span class="hljs-keyword">var</span> resSQLq = fmt.Sprintf(<span class="hljs-string">"\tsqlQ := `CREATE TABLE %s (\n"</span>, tableD.TableName)
	<span class="hljs-keyword">for</span> _, col := <span class="hljs-keyword">range</span> tableD.Columns {<font></font>
		colSQL := col.ColName + <span class="hljs-string">" "</span> + col.ColType
		<span class="hljs-keyword">if</span> col.NotNull {<font></font>
			colSQL += <span class="hljs-string">" NOT NULL"</span><font></font>
		}<font></font>
		<span class="hljs-keyword">if</span> col == tableD.PrimaryKey {<font></font>
			colSQL += <span class="hljs-string">" AUTO_INCREMENT"</span><font></font>
		}<font></font>
		colSQL += <span class="hljs-string">",\n"</span><font></font>
		resSQLq += colSQL<font></font>
	}<font></font>
	<span class="hljs-keyword">if</span> tableD.PrimaryKey != <span class="hljs-literal">nil</span> {<font></font>
		resSQLq += fmt.Sprintf(<span class="hljs-string">"PRIMARY KEY (%s)\n"</span>, tableD.PrimaryKey.ColName)<font></font>
	}<font></font>
	resSQLq += <span class="hljs-string">")`\n"</span><font></font>
	fmt.Fprint(out, resSQLq)<font></font>
	fmt.Fprint(out, <span class="hljs-string">"\t_, err := db.Exec(sqlQ)\n\t\tif err != nil {\n\t\t\treturn err\n\t\t}\n"</span>)<font></font>
	fmt.Fprint(out, <span class="hljs-string">"\t return nil\n}\n\n"</span>)
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ è®°å½•</font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs"><font></font>
<font></font>
	fmt.Fprint(out, <span class="hljs-string">"func (in *"</span>+tableD.StructName+<span class="hljs-string">") Create(db *sql.DB) (error) {\n"</span>)
	<span class="hljs-keyword">var</span> columns, valuePlaces, valuesListParams <span class="hljs-keyword">string</span>
	<span class="hljs-keyword">for</span> _, col := <span class="hljs-keyword">range</span> tableD.Columns {
		<span class="hljs-keyword">if</span> col == tableD.PrimaryKey {
			<span class="hljs-keyword">continue</span><font></font>
		}<font></font>
		columns += <span class="hljs-string">"`"</span> + col.ColName + <span class="hljs-string">"`,"</span>
		valuePlaces += <span class="hljs-string">"?,"</span>
		valuesListParams += <span class="hljs-string">"in."</span> + col.FieldName + <span class="hljs-string">","</span><font></font>
	}<font></font>
	columns = columns[:<span class="hljs-built_in">len</span>(columns)<span class="hljs-number">-1</span>]<font></font>
	valuePlaces = valuePlaces[:<span class="hljs-built_in">len</span>(valuePlaces)<span class="hljs-number">-1</span>]<font></font>
	valuesListParams = valuesListParams[:<span class="hljs-built_in">len</span>(valuesListParams)<span class="hljs-number">-1</span>]<font></font>
<font></font>
	resSQLq := fmt.Sprintf(<span class="hljs-string">"\tsqlQ := \"INSERT INTO %s (%s) VALUES (%s);\"\n"</span>,<font></font>
		tableD.TableName,<font></font>
		columns,<font></font>
		valuePlaces)<font></font>
	fmt.Fprintln(out, resSQLq)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"result, err := db.Exec(sqlQ, %s)\n"</span>, valuesListParams)<font></font>
	fmt.Fprintln(out, <span class="hljs-string">`if err != nil {
		return err
	}`</span>)
	<span class="hljs-comment">//Setting id if we have primary key</span>
	<span class="hljs-keyword">if</span> tableD.PrimaryKey != <span class="hljs-literal">nil</span> {<font></font>
		fmt.Fprintf(out, <span class="hljs-string">`lastId, err := result.LastInsertId()
		if err != nil {
			return nil
		}`</span>)<font></font>
		fmt.Fprintf(out, <span class="hljs-string">"\nin.%s = %s(lastId)\n"</span>, tableD.PrimaryKey.FieldName, tableD.PrimaryKey.FieldType)<font></font>
	}<font></font>
	fmt.Fprintln(out, <span class="hljs-string">"return nil\n}\n\n"</span>)
	<span class="hljs-comment">//in., _ := result.LastInsertId()`)</span>
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»è¡¨ä¸­æ£€ç´¢è®°å½•</font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(tableD *TableInfo)</span> <span class="hljs-title">generateQuery</span><span class="hljs-params">(out *os.File)</span> <span class="hljs-title">error</span></span> {<font></font>
	fmt.Fprint(out, <span class="hljs-string">"func (in *"</span>+tableD.StructName+<span class="hljs-string">") Query(db *sql.DB) ([]*"</span>+tableD.StructName+<span class="hljs-string">", error) {\n"</span>)<font></font>
<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"\tsqlQ := \"SELECT * FROM %s;\"\n"</span>, tableD.TableName)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"rows, err := db.Query(sqlQ)\n"</span>)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"results := make([]*%s, 0)\n"</span>, tableD.StructName)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">`for rows.Next() {`</span>)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"\t tempR := &amp;%s{}\n"</span>, tableD.StructName)
	<span class="hljs-keyword">var</span> valuesListParams <span class="hljs-keyword">string</span>
	<span class="hljs-keyword">for</span> _, col := <span class="hljs-keyword">range</span> tableD.Columns {<font></font>
		valuesListParams += <span class="hljs-string">"&amp;tempR."</span> + col.FieldName + <span class="hljs-string">","</span><font></font>
	}<font></font>
	valuesListParams = valuesListParams[:<span class="hljs-built_in">len</span>(valuesListParams)<span class="hljs-number">-1</span>]<font></font>
<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"\terr = rows.Scan(%s)\n"</span>, valuesListParams)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">`if err != nil {
		return nil, err
		}`</span>)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"\n\tresults = append(results, tempR)"</span>)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">`}
		return results, nil
	}`</span>)<font></font>
	fmt.Fprintln(out, <span class="hljs-string">""</span>)<font></font>
	fmt.Fprintln(out, <span class="hljs-string">""</span>)
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®°å½•æ›´æ–°ï¼ˆé€šè¿‡ä¸»é”®å·¥ä½œï¼‰</font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(tableD *TableInfo)</span> <span class="hljs-title">generateUpdate</span><span class="hljs-params">(out *os.File)</span> <span class="hljs-title">error</span></span> {<font></font>
	fmt.Fprint(out, <span class="hljs-string">"func (in *"</span>+tableD.StructName+<span class="hljs-string">") Update(db *sql.DB) (error) {\n"</span>)
	<span class="hljs-keyword">var</span> updVals, valuesListParams <span class="hljs-keyword">string</span>
	<span class="hljs-keyword">for</span> _, col := <span class="hljs-keyword">range</span> tableD.Columns {
		<span class="hljs-keyword">if</span> col == tableD.PrimaryKey {
			<span class="hljs-keyword">continue</span><font></font>
		}<font></font>
		updVals += <span class="hljs-string">"`"</span> + col.ColName + <span class="hljs-string">"`=?,"</span>
		valuesListParams += <span class="hljs-string">"in."</span> + col.FieldName + <span class="hljs-string">","</span><font></font>
	}<font></font>
	updVals = updVals[:<span class="hljs-built_in">len</span>(updVals)<span class="hljs-number">-1</span>]<font></font>
	valuesListParams += <span class="hljs-string">"in."</span> + tableD.PrimaryKey.FieldName<font></font>
<font></font>
	resSQLq := fmt.Sprintf(<span class="hljs-string">"\tsqlQ := \"UPDATE %s SET %s WHERE %s = ?;\"\n"</span>,<font></font>
		tableD.TableName,<font></font>
		updVals,<font></font>
		tableD.PrimaryKey.ColName)<font></font>
	fmt.Fprintln(out, resSQLq)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"_, err := db.Exec(sqlQ, %s)\n"</span>, valuesListParams)<font></font>
	fmt.Fprintln(out, <span class="hljs-string">`if err != nil {
		return err
	}`</span>)<font></font>
<font></font>
	fmt.Fprintln(out, <span class="hljs-string">"return nil\n}\n\n"</span>)
	<span class="hljs-comment">//in., _ := result.LastInsertId()`)</span>
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ é™¤è®°å½•ï¼ˆé€šè¿‡ä¸»é”®å·¥ä½œï¼‰</font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(tableD *TableInfo)</span> <span class="hljs-title">generateDelete</span><span class="hljs-params">(out *os.File)</span> <span class="hljs-title">error</span></span> {<font></font>
	fmt.Fprint(out, <span class="hljs-string">"func (in *"</span>+tableD.StructName+<span class="hljs-string">") Delete(db *sql.DB) (error) {\n"</span>)<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"sqlQ := \"DELETE FROM %s WHERE id = ?\"\n"</span>, tableD.TableName)<font></font>
<font></font>
	fmt.Fprintf(out, <span class="hljs-string">"_, err := db.Exec(sqlQ, in.%s)\n"</span>, tableD.PrimaryKey.FieldName)<font></font>
<font></font>
	fmt.Fprintln(out, <span class="hljs-string">`if err != nil {
		return err
	}
	return nil
}`</span>)<font></font>
	fmt.Fprintln(out)<font></font>
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç”Ÿæˆçš„ä»£ç ç”Ÿæˆå™¨çš„å¯åŠ¨æ˜¯é€šè¿‡é€šå¸¸çš„go runæ‰§è¡Œçš„ï¼Œæˆ‘ä»¬åœ¨-nameæ ‡å¿—ä¸­å°†è·¯å¾„ä¼ é€’åˆ°è¦ä¸ºå…¶ç”Ÿæˆä»£ç çš„æ–‡ä»¶ã€‚</font><font style="vertical-align: inherit;">ç»“æœï¼Œæˆ‘ä»¬è·å¾—äº†åç¼€_dbeçš„æ–‡ä»¶ï¼Œç”Ÿæˆçš„ä»£ç ä½äºè¯¥æ–‡ä»¶ä¸­ã€‚</font><font style="vertical-align: inherit;">å¯¹äºæµ‹è¯•ï¼Œè¯·ä¸ºä»¥ä¸‹ç»“æ„åˆ›å»ºæ–¹æ³•ï¼š</font></font><br>
<br>
<pre><code class="go hljs">
<span class="hljs-comment">// dbe:{"table": "users"}</span>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {<font></font>
	ID       <span class="hljs-keyword">int</span>    <span class="hljs-string">`dbe:"id,primary_key"`</span>
	Login    <span class="hljs-keyword">string</span> <span class="hljs-string">`dbe:"login,not_null"`</span>
	Email    <span class="hljs-keyword">string</span>
	Level    <span class="hljs-keyword">uint8</span>
	IsActive <span class="hljs-keyword">bool</span>
	UError   error <span class="hljs-string">`dbe:"-"`</span><font></font>
}<font></font>
</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»“æœä»£ç </font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> <span class="hljs-string">"database/sql"</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(in *User)</span> <span class="hljs-title">createTable</span><span class="hljs-params">(db *sql.DB)</span> <span class="hljs-title">error</span></span> {<font></font>
	sqlQ := <span class="hljs-string">`CREATE TABLE users (
	id integer NOT NULL AUTO_INCREMENT,
	login text NOT NULL,
	Email text,
	Level integer,
	IsActive boolean,
	PRIMARY KEY (id)
	)`</span><font></font>
	_, err := db.Exec(sqlQ)<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> err<font></font>
	}<font></font>
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(in *User)</span> <span class="hljs-title">Create</span><span class="hljs-params">(db *sql.DB)</span> <span class="hljs-title">error</span></span> {<font></font>
	sqlQ := <span class="hljs-string">"INSERT INTO users (`login`,`Email`,`Level`,`IsActive`) VALUES (?,?,?,?);"</span><font></font>
<font></font>
	result, err := db.Exec(sqlQ, in.Login, in.Email, in.Level, in.IsActive)<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> err<font></font>
	}<font></font>
	lastId, err := result.LastInsertId()<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
	}<font></font>
	in.ID = <span class="hljs-keyword">int</span>(lastId)
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(in *User)</span> <span class="hljs-title">Query</span><span class="hljs-params">(db *sql.DB)</span> <span class="hljs-params">([]*User, error)</span></span> {<font></font>
	sqlQ := <span class="hljs-string">"SELECT * FROM users;"</span><font></font>
	rows, err := db.Query(sqlQ)<font></font>
	results := <span class="hljs-built_in">make</span>([]*User, <span class="hljs-number">0</span>)
	<span class="hljs-keyword">for</span> rows.Next() {<font></font>
		tempR := &amp;User{}<font></font>
		err = rows.Scan(&amp;tempR.ID, &amp;tempR.Login, &amp;tempR.Email, &amp;tempR.Level, &amp;tempR.IsActive)<font></font>
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<font></font>
		}<font></font>
		results = <span class="hljs-built_in">append</span>(results, tempR)<font></font>
	}<font></font>
	<span class="hljs-keyword">return</span> results, <span class="hljs-literal">nil</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(in *User)</span> <span class="hljs-title">Update</span><span class="hljs-params">(db *sql.DB)</span> <span class="hljs-title">error</span></span> {<font></font>
	sqlQ := <span class="hljs-string">"UPDATE users SET `login`=?,`Email`=?,`Level`=?,`IsActive`=? WHERE id = ?;"</span><font></font>
<font></font>
	_, err := db.Exec(sqlQ, in.Login, in.Email, in.Level, in.IsActive, in.ID)<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> err<font></font>
	}<font></font>
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(in *User)</span> <span class="hljs-title">Delete</span><span class="hljs-params">(db *sql.DB)</span> <span class="hljs-title">error</span></span> {<font></font>
	sqlQ := <span class="hljs-string">"DELETE FROM users WHERE id = ?"</span><font></font>
	_, err := db.Exec(sqlQ, in.ID)<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> err<font></font>
	}<font></font>
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦æµ‹è¯•æ‰€ç”Ÿæˆä»£ç çš„æ“ä½œï¼Œè¯·åˆ›å»ºå…·æœ‰ä»»æ„æ•°æ®çš„å¯¹è±¡ï¼Œå¹¶ä¸ºå…¶åˆ›å»ºä¸€ä¸ªè¡¨ï¼ˆå¦‚æœè¯¥è¡¨å­˜åœ¨äºæ•°æ®åº“ä¸­ï¼Œåˆ™å°†è¿”å›é”™è¯¯ï¼‰ã€‚</font><font style="vertical-align: inherit;">å°†è¿™ä¸ªå¯¹è±¡æ”¾åœ¨è¡¨ä¸­ä¹‹åï¼Œä»è¡¨ä¸­è¯»å–æ‰€æœ‰å­—æ®µï¼Œæ›´æ–°çº§åˆ«å€¼å¹¶åˆ é™¤å¯¹è±¡ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è°ƒç”¨ç»“æœæ–¹æ³•</font></font></b>
                        <div class="spoiler_text"><pre><code class="go hljs">
<span class="hljs-keyword">var</span> err error<font></font>
db, err := sql.Open(<span class="hljs-string">"mysql"</span>, DSN)
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	fmt.Println(<span class="hljs-string">"Unable to connect to DB"</span>, err)
	<span class="hljs-keyword">return</span><font></font>
}<font></font>
err = db.Ping()<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	fmt.Println(<span class="hljs-string">"Unable to ping BD"</span>)
	<span class="hljs-keyword">return</span><font></font>
}<font></font>
newUser := &amp;User{<font></font>
	Login:    <span class="hljs-string">"newUser"</span>,<font></font>
	Email:    <span class="hljs-string">"new@test.com"</span>,<font></font>
	Level:    <span class="hljs-number">0</span>,<font></font>
	IsActive: <span class="hljs-literal">false</span>,<font></font>
	UError:   <span class="hljs-literal">nil</span>,<font></font>
}<font></font>
<font></font>
err = newUser.createTable(db)<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	fmt.Println(<span class="hljs-string">"Error creating table."</span>, err)<font></font>
<font></font>
}<font></font>
err = newUser.Create(db)<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	fmt.Println(<span class="hljs-string">"Error creating user."</span>, err)
	<span class="hljs-keyword">return</span><font></font>
}<font></font>
<font></font>
nU := &amp;User{}<font></font>
dbUsers, err := nU.Query(db)<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	fmt.Println(<span class="hljs-string">"Error selecting users."</span>, err)
	<span class="hljs-keyword">return</span><font></font>
}<font></font>
fmt.Printf(<span class="hljs-string">"From table users selected %d fields"</span>, <span class="hljs-built_in">len</span>(dbUsers))
<span class="hljs-keyword">var</span> DBUser *User
<span class="hljs-keyword">for</span> _, user := <span class="hljs-keyword">range</span> dbUsers {<font></font>
	fmt.Println(user)<font></font>
	DBUser = user<font></font>
}<font></font>
DBUser.Level = <span class="hljs-number">2</span><font></font>
err = DBUser.Update(db)<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	fmt.Println(<span class="hljs-string">"Error updating users."</span>, err)
	<span class="hljs-keyword">return</span><font></font>
}<font></font>
err = DBUser.Delete(db)<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	fmt.Println(<span class="hljs-string">"Error deleting users."</span>, err)
	<span class="hljs-keyword">return</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å½“å‰çš„å®ç°ä¸­ï¼Œå®¢æˆ·ç«¯å¯¹æ•°æ®åº“çš„åŠŸèƒ½éå¸¸æœ‰é™ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»…æ”¯æŒMySQLï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶éæ‰€æœ‰å­—æ®µç±»å‹éƒ½å—æ”¯æŒã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SELECTæ²¡æœ‰è¿‡æ»¤å’Œé™åˆ¶ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œä¿®å¤é”™è¯¯å·²ç»è¶…å‡ºäº†è§£æGoæºä»£ç å¹¶åŸºäºå®ƒç”Ÿæˆæ–°ä»£ç çš„èŒƒå›´ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ä»£ç ç”Ÿæˆå™¨å°†ä½¿æ‚¨å¯ä»¥ä»…åœ¨ä¸€ä¸ªåœ°æ–¹æ›´æ”¹åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„å­—æ®µå’Œç»“æ„ç±»å‹ï¼Œæ— éœ€è®°ä½ä¸ºä¸æ•°æ®åº“äº¤äº’è€Œå¯¹ä»£ç è¿›è¡Œæ›´æ”¹ï¼Œæ‚¨åªéœ€è¦æ¯æ¬¡è¿è¡Œä»£ç ç”Ÿæˆå™¨å³å¯ã€‚</font><font style="vertical-align: inherit;">å¯ä»¥å€ŸåŠ©åå°„æ¥è§£å†³æ­¤ä»»åŠ¡ï¼Œä½†è¿™ä¼šå½±å“æ€§èƒ½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æºä»£ç ç”Ÿæˆå™¨ä»¥åŠåœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Githubä¸Š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘å¸ƒçš„ç”Ÿæˆä»£ç çš„ç¤ºä¾‹</font><font style="vertical-align: inherit;">ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN500986/index.html">æ•°æ®ä¸­å¿ƒçš„ç›‘æ§ï¼šæˆ‘ä»¬å¦‚ä½•å°†æ—§çš„BMSæ›´æ”¹ä¸ºæ–°çš„BMSã€‚ç¬¬ä¸‰éƒ¨åˆ†</a></li>
<li><a href="../zh-CN500992/index.html">æœ€ä½³ITå…¬å¸çš„ç»©æ•ˆç®¡ç†å¦‚ä½•</a></li>
<li><a href="../zh-CN500994/index.html">è¿è¡Œèš‚èšã€‚è·‘</a></li>
<li><a href="../zh-CN500996/index.html">å¦‚ä½•åœ¨å…­ä¸ªæœˆç”šè‡³æ›´å¿«çš„æ—¶é—´å†…æˆä¸ºä¸€åDevOpså·¥ç¨‹å¸ˆã€‚ç¬¬1éƒ¨åˆ†ã€‚ç®€ä»‹</a></li>
<li><a href="../zh-CN500998/index.html">å·ç§¯ç¥ç»ç½‘ç»œåŠå…¶åœ¨iOSä¸­çš„é›†æˆï¼ˆç¬¬1éƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN501002/index.html">umkaï¼šæ–°çš„é™æ€ç±»å‹è„šæœ¬è¯­è¨€</a></li>
<li><a href="../zh-CN501004/index.html">åšå§ å·¥ä½œ</a></li>
<li><a href="../zh-CN501006/index.html">æˆ‘ä»¬æ˜¯STM32çš„æœ‹å‹ï¼Œåœ¨I2Cæ€»çº¿ä¸Šå¸¦æœ‰LCDæ˜¾ç¤ºå±1604ï¼ˆHALåº“ï¼‰</a></li>
<li><a href="../zh-CN501008/index.html">å¤šç±³è¯ºéª¨ç‰Œé“º</a></li>
<li><a href="../zh-CN501010/index.html">Linuxå†…æ ¸TLSå’ŒNginx</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>