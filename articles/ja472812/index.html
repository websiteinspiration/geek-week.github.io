<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤲🏾 🗼 🌊 データセンターの煙テストが「発砲」した場合、サーバーを「消火」する必要がありますか？ 👨🏾‍🏫 📵 🕌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ある夏の晴れた日に、設備を備えたデータセンターが次のようになったとしたらどう思いますか。
 
 
 
 みなさん、こんにちは！私の名前はドミトリーサムソノフです。私はオドノクラスニキの主任システム管理者として働いています。写真は、プロジェクトに役立つ機器が設置されている4つのデータセンターの1つです...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>データセンターの煙テストが「発砲」した場合、サーバーを「消火」する必要がありますか？</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/odnoklassniki/blog/472812/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ある夏の晴れた日に、設備を備えたデータセンターが次のようになったとしたらどう思いますか。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b4/5i/by/b45ibyn7ljfqivfhmjhqb-hyjmq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
みなさん、こんにちは！</font><font style="vertical-align: inherit;">私の名前はドミトリーサムソノフです。私は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オドノクラスニキの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主任システム管理者として働いてい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">写真は、プロジェクトに役立つ機器が設置されている4つのデータセンターの1つです。</font><font style="vertical-align: inherit;">これらの壁の背後には、サーバー、データストレージシステム、ネットワーク機器など、約4,000ユニットの機器があります。</font><font style="vertical-align: inherit;">-すべての機器のほぼ半分。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどのサーバーはLinuxです。</font><font style="vertical-align: inherit;">数十のWindowsサーバー（MS SQL）があります。これは、長年体系的に拒否されてきたレガシーです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、2019年6月5日14:35に、あるデータセンターのエンジニアが火災警報を報告しました。</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">否定</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
14:45。</font><font style="vertical-align: inherit;">データセンターでの小さな煙のようなインシデントは、見かけよりも一般的です。</font><font style="vertical-align: inherit;">ホール内のインジケーターは正常だったので、最初の反応は比較的穏やかでした：何かの修正に関連する作業を除いて、本番環境での作業、つまり構成変更、新しいバージョンのロールアウトなどの禁止を導入しました。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">怒り</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
消防士から屋根のどこに火があったのかを正確に調べようとしたり、燃えている屋根に乗って状況を調べたりしたことがありますか？</font><font style="vertical-align: inherit;">5人で受けた情報の信頼度は？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
14:50。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">火災が冷却システムに近づいているという情報を受け取りました</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">しかし、それは来るのでしょうか？</font><font style="vertical-align: inherit;">当直のシステム管理者は、このデータセンターの正面からの外部トラフィックを表示します。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現時点では、すべてのサービスの前面が3つのデータセンターに複製され、DNSレベルでの分散が使用されます。これにより、1つのデータセンターのアドレスをDNSから削除できるため、サービスへのアクセスに関する潜在的な問題からユーザーを保護できます。</font><font style="vertical-align: inherit;">データセンターですでに問題が発生している場合は、自動的にローテーションから離れます。</font><font style="vertical-align: inherit;">詳細については、こちらをご覧ください：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odnoklassnikiの負荷分散とフォールトトレランス。</font></font></a></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでのところ、火災による影響はありません。ユーザーも設備も影響を受けていません。</font><font style="vertical-align: inherit;">事故ですか？</font><font style="vertical-align: inherit;">文書「事故行動計画」の最初のセクションは「事故」の概念を定義し、セクションは次のように終了します：</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">疑いがある場合、事故であるかどうか、それは事故です！</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
14:53。</font><font style="vertical-align: inherit;">事故コーディネーターを任命。</font></font><br>
<blockquote> —  ,      ,   ,  «   »,   ,   ,   —   .  ,  ,      .</blockquote><br>
<h4></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:01。本番環境に関係のないサーバーの接続を解除します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:03。予約済みのサービスをすべて正しくオフにします。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これには、フロント（現時点ではユーザーがログオンしていない）とその補助サービス（ビジネスロジック、キャッシュなど）だけでなく、レプリケーションファクター2以上のさまざまなデータベース（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cassandra</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリデータストレージ）も含まれます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コールドストレージ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewSQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:06。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">火災によりデータセンターのホールの1つが脅かされているという情報を受け取りました。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このホールには設備はありませんが、屋根からホールに火が広がるという事実は、起こっていることの状況を大きく変えます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（後でそれは屋根から気密に隔離されたので、ホールへの物理的な脅威はなかったことが判明しました。脅威はこのホールの冷却システムにのみありました。）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:07。追加のチェック</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なしで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">お気に入りの計算機なし</font></a><font style="vertical-align: inherit;">で）加速モードでサーバー上でコマンドを実行できます</font><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:08。ホールの温度は正常範囲内です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:12。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ホールの温度上昇が記録されました。</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
15:13。データセンターのサーバーの半分以上がオフになっています。私たちは続けます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:16。すべての機器をオフにすることが決定されました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3:21 p.m.アプリケーションとOSを適切にシャットダウンせずに、ステートレスサーバーの電源をオフにし始めます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:23。</font><font style="vertical-align: inherit;">MS SQLの責任者のグループが特定されます（それらの数は少なく、サービスへの依存度は大きくありませんが、リカバリー手順は、例えば、Cassandraより長く、複雑です）。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">うつ病</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:25。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16部屋のうち4部屋（No.6、7、8、9）の電源を切ることに関する情報を受け取りました。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7ホールと8ホールには設備があります。私たちの2つの部屋（No. 1および3）に関する情報はありません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、火災が発生した場合はすぐに電源が切れますが、この場合は消防士とデータセンターの技術者の協調作業により、どこでもすぐではなく、必要に応じて電源を切りました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（後でホール8と9の電源がオフにならないことが</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わかりました</font><font style="vertical-align: inherit;">。）</font><font style="vertical-align: inherit;">15:28。他のデータセンターのバックアップからMS SQLデータベースの展開を開始します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのくらい時間がかかりますか？ルート全体に十分なネットワーク帯域幅がありますか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:37。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネットワークの一部をロックオフ。</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
管理ネットワークと本番ネットワークは、互いに物理的に分離されています。本番ネットワークが利用可能な場合は、サーバーにアクセスしてアプリケーションを停止し、OSをオフにすることができます。使用できない場合は、IPMIを実行し、アプリケーションを停止して、OSをオフにすることができます。ネットワークがない場合は、何もできません。 「ありがとうキャップ！」と思うでしょう。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「とにかく、多くの混乱があります」とあなたは思うかもしれません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題は、サーバーに火がなくても大量の熱が発生することです。より正確には、冷却があると熱が発生し、ない場合は地獄のような地獄が発生します。これは、せいぜい機器の一部を溶かし、他の部分をオフにします。最悪の場合、ホール内で火災が発生し、ほぼ確実にすべてが破壊されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/m6/zg/fpm6zg2uwewoewqfwgocfbkamky.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:39。 confデータベースの問題を修正します。</font></font><br>
<blockquote> conf     ,         .         ,       .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:41。コアネットワーク機器の温度センサーは、最大許容値に近い測定値を記録します。これはラック全体を占めるボックスであり、データセンター内のすべてのネットワークの動作を保証します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hk/pu/ju/hkpujukttnjdf651rnnhpof0qxw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:42。課題トラッカーとウィキは利用できません。スタンバイに切り替えてください。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは本番環境ではありませんが、事故では、ナレッジベースの可用性が重要になる可能性があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:50。監視システムの1つが切断されました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらのいくつかがあり、それらはサービスのさまざまな側面に責任があります。それらの一部は、各データセンター内で自律的に動作するように構成されています（つまり、データセンターのみを監視します）。他のコンポーネントは、データセンターの損失に透過的に耐える分散コンポーネントで構成されています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、機能しなくなりました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マスタースタンバイモードで動作する</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ビジネスロジックインジケーターの異常を検出するシステム</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">スタンバイに切り替えます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可決</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:51。</font><font style="vertical-align: inherit;">IPMIを介して、MS SQLを除くすべてのサーバーが、正しくシャットダウンせずにオフにされました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要に応じて、IPMIによるサーバーの一括管理の準備はできていますか？</font></font><br>
<br>
<hr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この段階でデータセンター内の機器の救助が完了するまさにその瞬間。</font><font style="vertical-align: inherit;">できることはすべて終わりました。</font><font style="vertical-align: inherit;">一部の同僚はリラックスできます。</font></font></i><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
16:13。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エアコンのフレオン管が屋根で破裂したという情報がありました。これは、火災をなくした後のデータセンターの立ち上げを遅らせます。</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
16:19。データセンターの技術スタッフから受け取ったデータによると、ホールの温度上昇は止まりました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
17:10。 confデータベースの作業を復元しました。これで、アプリケーション設定を変更できます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてがフォールトトレラントであり、1つのデータセンターがなくても機能することが重要なのはなぜですか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、すべてがフォールトトレラントであるとは限りません。データセンターの障害をまだ乗り越えられないさまざまなセカンダリサービスがあり、マスタースタンバイモードのベースがあります。設定を管理する機能により、困難な状況でもユーザーへの事故の影響の影響を最小限に抑えるために必要なすべてを行うことができます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、数時間後にはデータセンターが完全に回復しないことが明らかになりました。そのため、レプリカを長期間使用できないことが、残りのデータセンターでのディスクオーバーフローなどの追加のトラブルにつながらないように対策を講じる必要がありました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
17:29。</font><font style="vertical-align: inherit;">ピザタイム！</font><font style="vertical-align: inherit;">人はロボットではなく私たちのために働いています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3x/ft/hl/3xfthlpehimklv9yd_oua6phnis.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リハビリ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
18:02。</font><font style="vertical-align: inherit;">部屋番号8（私たち）、9、10、11で温度が安定しました。</font><font style="vertical-align: inherit;">未接続のまま（No.7）の1台に当社設備があり、温度上昇が続いています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
18:31。</font><font style="vertical-align: inherit;">彼らはホール1と3の設備の打ち上げに青信号を出しました-火はこれらのホールに影響を与えませんでした。</font></font><br>
<br>
<hr><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在、サーバーはホール1、3、8で最も重要なものから開始されています。</font><font style="vertical-align: inherit;">実行中のすべてのサービスの正しい動作を確認します。</font><font style="vertical-align: inherit;">部屋7にはまだ問題があります。</font></font></i><hr><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
18:44。データセンターの技術スタッフは、ホール7（当社の機器のみが配置されている）で、多くのサーバーの電源がオフになっていないことを発見しました。データによると、26台のサーバーが残っています。再確認後、58台のサーバーが見つかりました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
20:18。データセンターの技術スタッフは、廊下に敷設されたモバイルダクトを介して、空調なしで室内の空気を吹き込みます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
23:08。彼らは最初の管理者を家に帰らせました。明日仕事を続けるために誰かが夜寝る必要があります。次に、管理者と開発者の別の部分を解放します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
02:56。ローンチできるすべてのものをローンチしました。自動テストですべてのサービスの大きなチェックを行います。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/90/pq/ii/90pqii3vxt6p5hzomjdymkebp3a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
03:02 a.m.最後の7番ホールのエアコンが復旧。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
03:36 a.m.彼らは、データセンターの前面をDNSでローテーションさせました。この瞬間から、ユーザートラフィックが到着し始めます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはほとんどの住宅管理者チームを解散します。しかし、私たちは数人を残します。</font></font><br>
<blockquote> FAQ:<br>
Q:    18:31  02:56?<br>
A:  «   »,    ,    .         ,  ,   OS  ,   ,    .       ,  ,      .<br>
    .    OS     ,     -   , , .      .<br>
Q:      ,    ,    ?<br>
A:    ,      .     ,    —       ,    .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7:40 a.m.最後の管理者（コーディネーター）が就寝しました。初日の作業は完了です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8:09 a.m.最初の開発者、データセンターのエンジニア、および管理者（新しいコーディネーターを含む）が復旧作業を開始しました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
09:37。ホール番号7（ラスト）を引き上げ始めました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、他の部屋で完了しなかったものを復元し続けます。ディスク/メモリ/サーバーの交換、監視で発火しているすべての問題の修正、マスター/スタンバイ回路での役割の逆切り替えなど、それでもかなり多くのことです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
17:08。私たちはすべての通常の作業を許可します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
21:45。 ２日目の作業は完了です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
09:45。</font><font style="vertical-align: inherit;">今日は金曜日です。</font><font style="vertical-align: inherit;">監視にはまだかなりの数の小さな問題があります。</font><font style="vertical-align: inherit;">週末の前に、誰もがリラックスしたいです。</font><font style="vertical-align: inherit;">私たちは可能な限りすべてを大規模に修復し続けています。</font><font style="vertical-align: inherit;">延期される可能性のある通常の管理タスクは延期されます。</font><font style="vertical-align: inherit;">コーディネーターは新しいです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15:40。</font><font style="vertical-align: inherit;">別のOTHERデータセンターのネットワーク機器のコアスタックの半分が突然再起動しました。</font><font style="vertical-align: inherit;">リスクを最小限に抑えるため、ローテーションからフロントを削除しました。</font><font style="vertical-align: inherit;">ユーザーへの影響はありません。</font><font style="vertical-align: inherit;">後でそれは悪いシャーシであることがわかりました。</font><font style="vertical-align: inherit;">コーディネーターは、2つのクラッシュを同時に修正します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
17:17。</font><font style="vertical-align: inherit;">別のデータセンターのネットワークが復元され、すべてがチェックされます。</font><font style="vertical-align: inherit;">データセンターは回転しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
18:29。</font><font style="vertical-align: inherit;">３日目の作業、一般的には事故からの復旧は完了です。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あとがき</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2013年4月4日には、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第四百四エラーの日に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Odnoklassnikiは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大の事故を生き延び</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 3日間のポータルは、完全に、または部分的に利用できませんでした。この間、さまざまな都市のさまざまな企業の100人を超える人々（ありがとうございました！）データセンターでリモートから直接、手動で自動で数千台のサーバーを修復しました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論を出しました。これを再発防止するために、今日まで徹底した作業を実施し続けています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在の事故と404の主な違いは何ですか？</font></font><br>
<br>
<ul>
<li>   «   ».       —   ,    (  )  ,  «   ».        .</li>
<li>     - (  )   LAN  WAN,      .</li>
<li>  ,     :   ,     S.M.A.R.T.,</li>
<li>   BerkeleyDB —     ,        .</li>
<li>    MS SQL     .</li>
<li>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> — one-cloud</a>,           .        ,        , :<br>
 <ul>
<li>      ;</li>
<li>     ;</li>
<li>  (   )   -.</li>
</ul> </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事に記載されている事故は、404日以降最大となった。もちろん、すべてが順調に進んだわけではありません。たとえば、別のデータセンターのデータセンターバーナーにアクセスできないときに、サーバーの1つでディスクがクラッシュしました。つまり、Cassandraクラスターの3つのレプリカのうち1つだけが利用可能であり、モバイルアプリケーションユーザーの4.2％がログインできませんでした。 。同時に、すでに接続されているユーザーは引き続き作業を行いました。平凡なバグからサービスのアーキテクチャの欠陥まで、事故の結果によれば、合計で30を超える問題が特定されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、現在の事故と404番目の事故の最も重要な違いは、火災の影響を排除しながら、ユーザーは引き続き</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamtam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">対応してビデオ通話を</font><font style="vertical-align: inherit;">行い、ゲームをプレイし、音楽を聴き、お互いにプレゼントを提供し、ビデオ、テレビ番組、テレビチャンネルを視聴したことです。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、また、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OK Liveに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリーミングされ</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
事故はどうですか？</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja472792/index.html">NORバルブをベースにしたコンピューター：アポロ搭載制御コンピューター内</a></li>
<li><a href="../ja472796/index.html">YESは、FAANG *または[実用ガイド]をITスペシャリスト向けの米国/ヨーロッパでの就職活動に活用します</a></li>
<li><a href="../ja472798/index.html">タクシーアプリケーションのYandexマップ</a></li>
<li><a href="../ja472802/index.html">MIROはオープンな屋内ロボットプラットフォームです。パート2-ロボットの設計</a></li>
<li><a href="../ja472810/index.html">初心者のシステム管理者：無秩序から秩序を作る方法</a></li>
<li><a href="../ja472814/index.html">私の最初の仮想マシン：混乱しないようにする方法</a></li>
<li><a href="../ja472816/index.html">最新のJavaScriptのエレガントなパターン（Bill Sourourコンパイルサイクルの記事）</a></li>
<li><a href="../ja472818/index.html">集団運動：科学者アリコルクの研究方法</a></li>
<li><a href="../ja472822/index.html">ロシア科学アカデミーが無力であるとき</a></li>
<li><a href="../ja472826/index.html">マイクロインタラクションとユーザーインターフェイスでの使用</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>