<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎵 🏆 🙇🏼 Compétition VK Sup. Track ML. 4ème place. Comment? 🚙 🤾🏼 👨🏿‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans ce concours, qui s'est déroulé dans le cadre du tour de qualification de VK up 2020 , piste ML , il était nécessaire de prédire la proportion de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Compétition VK Sup. Track ML. 4ème place. Comment?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495678/"><img src="https://habrastorage.org/webt/5v/bg/be/5vbgbeyleluggqj6r0esih96-hu.png" alt="image"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce concours, qui s'est déroulé dans le cadre du tour de qualification de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VK up 2020</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , piste </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ML</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il était nécessaire de prédire la proportion de publics potentiels qui verraient des publicités affichées sur plusieurs plateformes publicitaires un nombre spécifique de fois: 1,2,3 à l'avenir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce n'était pas une compétition classique pour envoyer des prédictions finales à des données de test connues, mais une prédiction sur des données complètement inconnues soumises au modèle en docker lancée sur le site de la compétition.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, une telle solution égalise les chances des participants et ne permet pas à ceux qui aiment jeter un œil au test, d'enrichir l'ensemble de données de formation avec eux et d'adapter le modèle à la distribution des données du test. </font><font style="vertical-align: inherit;">Ici, tout le monde était sur un pied d'égalité, car on ne sait pas ce qui pourrait être dans les données: données «indésirables», valeurs aberrantes sporadiques, délimiteurs invalides, etc. </font><font style="vertical-align: inherit;">Mais toutes ces nuances en même temps nous font penser à la gestion des exceptions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce concours, j'ai pris une 4e place discrète et je veux dire comment c'était possible.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Présentation des données</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les données initiales ont été présentées sous la forme suivante:</font></font><br>
<br>
<ol>
<li> <i>users.tsv</i> –    : , ,  .      ,    ,    ,       .            (   ),      .</li>
<li> <i>history.tsv</i> —   "<i>-</i>",         (  )   .          ,      ,         .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un fichier de validation pour la formation du modèle, il contenait simplement des données sur à quel intervalle de temps et à quel prix une annonce a été diffusée pour un public spécifique (plateforme et utilisateur). </font><font style="vertical-align: inherit;">Les utilisateurs et les sites ont été donnés sous forme de chaîne du formulaire (1,5,7,3,14,6).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate_answers.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un fichier de réponses se compose de trois colonnes: quel pourcentage (valeurs de 0 à 1), l'audience semble classée 1, 2, 3 fois. </font><font style="vertical-align: inherit;">Par conséquent, ces séquences n'augmentent pas.</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le but du concours</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">prédire trois ensembles de valeurs </font><font style="vertical-align: inherit;">pour de nouvelles données du futur (au format de fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - quelle proportion de l'audience verra une annonce 1.2, 3 fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus de détails sur la tâche sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le site du concours</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prédicteurs</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les prédicteurs finaux que j'ai utilisés sont un ensemble de 2 complexes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prédicteurs basés sur l'historique et leur comparaison avec de nouvelles données</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prédicteurs uniquement sur les données de l'avenir</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parmi le premier complexe, basé sur le fichier historique, </font><font style="vertical-align: inherit;">des statistiques de base ont été générées </font><font style="vertical-align: inherit;">pour les paires </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisateur-site</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> regroupées </font><font style="vertical-align: inherit;">, puis leur agrégation à la paire </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisateur-site</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans les fichiers de validation et de test. Cela a été suivi par la sélection des prédicteurs de différentes manières - à la fois en fonction des fréquences d'utilisation des prédicteurs aux étapes de partitionnement et d'utilisation dans le modèle lui-même, et des validations, de haut en bas et de bas en haut. Malgré les différents schémas de sélection, en général, tout se résumait à environ un ensemble de prédicteurs et par conséquent il y en avait sept. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interprétation des prédicteurs du deuxième complexe (il y en avait également sept étonnamment) est généralement beaucoup plus simple: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- différence de temps. Est-ce logique? Logiquement: plus l'intervalle est grand, plus les vues sont probables. Bien sûr, il n'y a pas de dépendance directe, mais physiquement, il devrait en être ainsi; de plus, c'est l'un des prédicteurs les plus solides si nous les considérons séparément. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delta2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est également un décalage horaire, mais converti par jour (c'est-à-dire une division entière par 24). Autrement dit, nous transformons une dépendance linéaire en dépendance par morceaux. L'idée ici est simple: nous ne faisons pas de distinction entre les heures, mais de très longs intervalles (jours) détermineront leur propre tendance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cpm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le prix lui-même, de la même manière: plus le prix est élevé, plus il est probable qu'il s'affiche, encore une fois, bien sûr, il n'y a pas de dépendance directe, mais dans le «flirt» avec d'autres prédicteurs basés sur l'histoire, la dépendance est clairement tracée.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4-7. </font><font style="vertical-align: inherit;">Ce sont le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">péché</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos des</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> heures de début et de fin des annonces, qui sont également traduits dans la chronologie de 24 heures. </font><font style="vertical-align: inherit;">L'utilisation de ces fonctions, contrairement au temps linéaire, vous permet de prendre en compte les intervalles de temps qui traversent la journée. </font><font style="vertical-align: inherit;">L'utilisation de ces prédicteurs a immédiatement donné une amélioration de 1,5 point de pourcentage.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Métrique et réponse</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La métrique </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smoothed Mean Log Accuracy Ratio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ci-après </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMLAR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">présentée par les organisateurs </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/br/_p/xfbr_pwfjcbgbwddetsiwz7njvk.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque la réponse initiale est présentée dans la proportion de l'audience qui a vu l'annonce 1,2,3 fois, c'est-à-dire les valeurs dans la plage [0,1]. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDPV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique le comportement de cette métrique, ou plutôt, pas la métrique entière, mais sa partie ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour le logarithme des biais de prédiction) pour toutes les combinaisons de la prédiction et la vraie valeur sur toute la plage [0,1].</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous regardez attentivement la formule de la métrique, alors: d'une part, cette métrique correspond approximativement à la moyenne géométrique des ratios des prédictions et à la vraie valeur (avec biais), ce qui est clairement meilleur que la moyenne arithmétique (en raison du résultat final inférieur). D'un autre côté, si nous omettons l'exposant, qui à de faibles valeurs se comporte presque comme l'exposant de son degré, la métrique est transformée en MAE par le logarithme de la réponse avec un décalage. Ainsi, pour construire des modèles idéologiquement corrects, il était nécessaire d'utiliser la réponse initiale avec un décalage et la fonction de perte dans laquelle il existe un logarithme sous forme explicite, ou, à l'inverse, d'utiliser d'abord le logarithme de réponse de décalage et une fonction de perte linéaire ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eps</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Mais, compte tenu de mon modèle (dans lequel la fonction de perte n'est pas explicitement spécifiée), j'ai choisi la transformation optimale de la réponse en fonction des résultats du modèle de validation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai considéré les options de réponse suivantes - partages d'origine, logarithme des partages, transition vers les valeurs absolues du nombre d'utilisateurs, leur logarithme avec différents décalages (ici, il y a eu une tentative d'utiliser un décalage unifié lors du passage aux valeurs absolues, car le décalage de 0,005 est indiqué pour les partages et le public était différent, de 300 à 2500, donc le décalage doit être compris entre 1 et 12, mais je n'ai vérifié que les valeurs 1 et 10) et la racine de la valeur absolue des personnes consultées.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/3o/sw/di3oswingek2fdbkdx-rlmhjbji.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'image ci-dessus montre les résultats de deux modèles qui se sont entraînés pour une réponse différente: les parts d'audience initiales et le nombre absolu de participants.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le diagramme supérieur montre les valeurs triées de la vraie réponse (par fractions du premier balayage) et les valeurs prédites pour les deux modèles. Il est immédiatement clair que la plupart des valeurs de réponse sont assez petites, donc la valeur médiane est d'environ 5%, et ce n'est que pour le premier balayage (pour le deuxième balayage, la médiane est déjà inférieure à 1%, et pour le troisième balayage près de 0%, et pour cette métrique, de petites valeurs et des erreurs sur ils sont très désagréables). Il est également clairement visible dans ce diagramme que le modèle par valeurs absolues est qualitativement meilleur, la dispersion des estimations est assez minime, et malgré le fait que les écarts ne sont presque pas visibles sur le graphique à de petites valeurs, par conséquent, ce sont les erreurs à ces petites valeurs qui affectent fortement résultat final. La même chose peut être vue sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDPV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, courbure très nette à faibles valeurs, surtout proche de zéro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le diagramme moyen montre l'erreur de chaque prédiction triée; de ​​fortes erreurs à de petites valeurs et leur diminution avec l'augmentation des valeurs de réponse sont visibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le diagramme du bas, le diagramme de la métrique directement ciblée est déjà en cours de construction avec le total accumulé pour toutes les valeurs triées. Quelles sont les conclusions de tout cela? La première est que la réponse sélectionnée affecte fortement les résultats du modèle, mais plus sur celle ci-dessous, la deuxième conclusion, accordez une attention particulière aux petites valeurs, en particulier proches de zéro, il est évident que les modèles ne seront pas toujours en mesure de prédire un zéro pur, des corrections sont donc nécessaires. Et les erreurs aux grandes valeurs ne sont pas si importantes, premièrement, elles sont relativement petites, et deuxièmement, le pourcentage d'erreur aux grandes valeurs sera petit, et en même temps il apportera une contribution totale minimale à la métrique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, selon les résultats de nombreuses expériences, le gagnant avec une marge claire était la réponse - la racine des valeurs absolues des utilisateurs. Dans le même temps, sur des prédictions différentes (par 1, 2, 3 vues), parfois des modèles avec un logarithme de valeurs absolues ont également gagné, cela est dû à une nette prédominance de 0 dans les réponses, et, par conséquent, le logarithme avec un certain biais était meilleur. Mais si vous faites la moyenne, alors une racine simple sans aucun biais a montré de bons résultats stables, donc je ne voulais pas compliquer la décision, mais m'arrêter sur une méthode unifiée simple - juste la racine des gens. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelle est la raison du fait que la transition vers les personnes améliore considérablement le résultat par rapport aux parts (près de 2 fois)?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apparemment, le fait est qu'en se tournant vers les gens, en multipliant la part par le public, ou la même chose que de diviser tous les prédicteurs par le même public, nous entrons dans la dimension relative à "une personne", et considérant que la base de mon modèle est la régression, l'estimation finale est une sorte d'estimation de probabilité pondérée relative à chaque prédicteur. Il est possible que si nous normalisons seulement une partie des prédicteurs au public, par exemple, à partir des prédicteurs du premier groupe (la somme sur toutes les paires, par exemple), alors cette normalisation rapprocherait ainsi les dimensions de tous les prédicteurs d'un système de rapport unique (par personne), et de la régression finale , sa réponse, ne serait rien de plus que la somme moyenne pondérée des contributions de chaque prédicteur (qui caractérisent une personne) à la probabilité totale de visualisation, alors peut-être que le résultat serait meilleur.Mais au moment de la décision du concours, je ne me suis pas approché de ce côté et j'ai travaillé exclusivement avec une réponse transformée.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modèle</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, cette section devait être mise plus haut, car c'était à cause de ce modèle que nous devions sélectionner le type de réponse et les prédicteurs nécessaires utilisés pour cela (le modèle a été ajusté aux données) et, d'une manière ou d'une autre, il était possible d'atteindre une réponse acceptable sur différents prédicteurs le résultat est d'environ 15%. </font><font style="vertical-align: inherit;">Mais je voulais qu'en moyenne, il y ait une justification au choix de prédicteurs spécifiques, par conséquent, des combinaisons de prédicteurs ont été sélectionnées pour la validation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai utilisé un modèle issu d'une famille d'arbres modèles de régression, à savoir le modèle </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cubiste</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (modèle 1992!), Et sa mise en œuvre dans le package du même nom en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Le résultat final est plutôt la moyenne géométrique de deux ensembles de modèles, chacun composé de 3 modèles distincts, mais en cascade: la prédiction du modèle précédent (pour 1 vue) a été utilisée comme prédicteur pour les deuxième et troisième modèles, et la prédiction finale pour la deuxième vue comme prédicteur pour le troisième modèle. Les deux paires de modèles différaient légèrement dans les prédicteurs et les ajustements intermédiaires, et leur moyenne géométrique a été utilisée sur la base du bon sens (enfin, validations, avec un cours public), et le sens est simple: comme je l'ai écrit ci-dessus, une attention particulière est accordée à zéro prédictions, et généralement à minime , et la moyenne géométrique est exactement ce qu'elle fait: elle fait disparaître la prédiction si l'un d'eux est déjà nul (et cela est logique si l'un des modèles a montré zéro, alors laissez-le rester,que nous «retarderons» la prédiction à partir de zéro).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et grâce à la cascade de modèles, le modèle a indirectement «compris» (depuis les régressions) que chaque réponse subséquente «s'accroche» à cette réponse prédite précédemment de l'estimation précédente, et les prédicteurs restants corrigent la réponse, qui ne devrait pas être supérieure à la précédente. J'ai également testé trois modèles distincts qui prédisaient les réponses individuellement. Le résultat était plus faible en raison de l'abondance de zéros dans les deuxième et troisième balayages, la famille de régressions ne pouvait pas tout à fait aller à 0, et lorsque nous ajoutons un «guide» à l'estimation précédente, qui est déjà 0 ou proche de celle-ci, la famille de régressions résultante tombe également à proximité de cette valeurs et ajuste uniquement la réponse à la deuxième et troisième visualisation. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce qui est bien avec ce modèle?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quand j'ai vu la tâche, je me suis immédiatement souvenu de ce modèle, car lors d'une des compétitions précédentes dans un problème comparable (relations linéaires et leurs corrections) c'était aussi l'une des meilleures, et en général, nous avons des données assez linéaires ici, il y a une relation évidente entre les quantités vues (la seconde est inférieure à la première, la troisième est inférieure à la seconde), il y a peu de données - seulement 1008 observations, il y a un petit nombre de prédicteurs, probablement une sorte de dépendances linéaires brisées. </font><font style="vertical-align: inherit;">De plus, ce modèle est très rapide, la construction a pris plusieurs secondes, il lui a donc été pratique de tester de nombreuses hypothèses. </font><font style="vertical-align: inherit;">Et pourtant, elle n'a pas d'hyperparamètres (à l'exception des voisins (un autre paramètre est une prévision corrective), que je n'ai pas utilisé), sur lesquels je pourrais me recycler.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment est la prédiction dans ce modèle pour un arbre?</font></font></b><div class="spoiler_text">     ,       ,      100  (    ,     ,   10-20 ),          ,       ,      ,      :    (   ),     ,      ( ,  )        .<br>
<br>
    ,  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">  </a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">    </a>.<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajustements</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, de petits ajustements des prédictions ont été utilisés, à savoir: lors du passage du nombre absolu de personnes à leurs parts, des situations de très petites valeurs (positives, un peu plus de 0 ou plus de 1) se sont potentiellement produites, et si dans le cas de valeurs supérieures à 1, leur ajustement n'a pas joué un rôle plus important (il y avait probablement peu de vols de ce type, et s'ils l'étaient, alors non significatifs), mais dans le cas de petites valeurs, c'était relativement critique. Par raisonnement, il a été admis que si je prédis, par exemple, 1 personne (ou 0,5 personne, l'arrondissement n'a pas été effectué), puis avec une audience maximale de 2500 (ce qui est complètement inconnu avec les données connues dans le train, ce qui se passe vraiment sur les données de test), ce qui est 0,0004 (au fait, et dans le train, la valeur minimale est 0,0004),cela signifie quelque part au voisinage de cette valeur, il est nécessaire de ramener les valeurs inférieures à 0, et étant donné que mes modèles sont construits dans une chaîne, la construction du modèle suivant et ses prédictions dépendent du zéro prédit, etc. cela a beaucoup influencé.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela n'avait pas beaucoup de sens de sélectionner un seuil de validation (parce que le modèle s'adapte de toute façon à ces données, et je connais la distribution), alors j'ai jeté un coup d'œil au public (pour certaines valeurs sélectionnées), mais à la fin je suis parti pour l'un des trois modèles un beau seuil d'arrondi de 0,0005, et pour le second 0,0004 théorique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le réglage par le haut a été plus facile, des valeurs supérieures à 0,95 à payer en 0,95, 0,95 a été effectué sur la base de la part maximale des données de test utilisées avec </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec la plus grande marge (maximum 0,93 dans le train), cet ajustement n'a pratiquement pas eu d'effet sur le public (les départs uniques sont apparemment dans le public), il a été laissé exclusivement pour la sécurité en privé. </font><font style="vertical-align: inherit;">Et une correction liée aux zéros a été ajoutée, si la prédiction est nulle au premier scan, alors malgré les prédictions des modèles aux deuxième et troisième scan, leurs prédictions vont aussi à 0, cela n'a pas beaucoup affecté, quelque part le deuxième signe (le modèle est pratiquement toujours et donc lui-même (moins que le précédent et à zéro) l'a fait), mais est parti pour la sécurité en privé.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">résultats</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les résultats étaient très dépendants du type de réponse et des prédicteurs sélectionnés, par exemple, même si vous aviez prédit des fractions, ou même mieux que leur logarithme, vous pouviez sélectionner d'autres prédicteurs et le résultat serait d'environ 16%, et si vous allez à des valeurs absolues et aussi resélectionnez des prédicteurs, puis tout a commencé à environ 15%, donc c'était ma ligne de base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et d'ailleurs, ces résultats étaient déjà suffisants pour rester dans le top cinq, mais c'était intéressant de «booster» davantage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et alors, qu'est-ce qui a considérablement amélioré ces 15%?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, seulement l'ajout d'heures, seulement les heures (heures de début et de fin) a immédiatement donné 13,97%, les changer en sinus cosinus s'est amélioré à 13,44%, puis l'amélioration à 13,25% arrondissait les petites valeurs à zéro, et la moyenne géométrique la moyenne des deux modèles, c'est-à-dire qu'elle était déjà plus tuning pour le test (public), et pour cette raison, j'ai quand même eu un peu trop de plaisir avec le public. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce concours, il a fallu choisir une solution. Maintenant, en regardant dans la LC, je vois que ma solution choisie s'est également avérée être la meilleure en privé (l'endroit n'a pas changé) (la meilleure privat est inférieure à 0,02 point de pourcentage), mais si vous prenez des envois dans lesquels la réponse n'était pas si arrondie, puis en privé ils étaient légèrement pires - 13,6%, c'est-à-dire qu'il n'y avait pas de recyclage solide pour le public, mais ce post-réglage n'a pas joué un rôle très important non plus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, le principal succès de la réserve: les prédicteurs sélectionnés sous un modèle de réponse </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cubiste</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sélectionné </font><font style="vertical-align: inherit;">, les modèles en cascade (1-&gt; 2-&gt; 3) et les </font><font style="vertical-align: inherit;">prédicteurs </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font><font style="vertical-align: inherit;">temporels </font><font style="vertical-align: inherit;">( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgré le fait que les gagnants des cinq premières places ont utilisé divers modèles, y compris des modèles modernes (1 place - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 2 place - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">catboost</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 3 place - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neural net</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 5 place - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lightgbm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , bien que ces gagnants aient eu des prédicteurs beaucoup plus complexes) , J'ai pris la 4e place en utilisant l'un des modèles classiques les plus anciens de 1992 (même les idées </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont </font><font style="vertical-align: inherit;">apparues plus tard) sur des prédicteurs assez simples et évidents, ce qui confirme une fois de plus: il n'est pas toujours suffisant de fonctionner sur des prédicteurs générés (ces approches étaient beaucoup plus faibles dans la note finale, environ 20%), le bon sens des prédicteurs, la transformation de la réponse et le choix de la fonction de perte dans les modèles (le cas échéant) jouent ici un rôle important.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, le concours s'est avéré intéressant et créatif, avec des conclusions pertinentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'espère qu'à l'étape finale (à plein temps) de la compétition, la tâche n'en sera pas moins intéressante.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr495646/index.html">Quels podcasts non stressants à écouter le week-end</a></li>
<li><a href="../fr495658/index.html">Où obtenir de l'audio pour l'apprentissage automatique: une sélection de bibliothèques ouvertes sous licence Creative Commons</a></li>
<li><a href="../fr495670/index.html">Migration d'un Data Lake transparent vers un Data Mesh distribué</a></li>
<li><a href="../fr495674/index.html">Explorer les champs électromagnétiques à l'aide d'un récepteur SDR et d'OpenCV</a></li>
<li><a href="../fr495676/index.html">Processus ETL pour récupérer les données de messagerie dans Apache Airflow</a></li>
<li><a href="../fr495682/index.html">API reverse pour son application Android</a></li>
<li><a href="../fr495684/index.html">5 raisons pour lesquelles l'interaction avec vos utilisateurs finaux améliore votre code</a></li>
<li><a href="../fr495686/index.html">Las Vegas personnel, ou un jeu dans l'extension de navigateur</a></li>
<li><a href="../fr495688/index.html">Synchronisation des utilisateurs OSE basée sur Active Directory Collaboration Zimbra</a></li>
<li><a href="../fr495690/index.html">Concepts de l'API Web Audio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>