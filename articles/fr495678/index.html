<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéµ üèÜ üôáüèº Comp√©tition VK Sup. Track ML. 4√®me place. Comment? üöô ü§æüèº üë®üèø‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans ce concours, qui s'est d√©roul√© dans le cadre du tour de qualification de VK up 2020 , piste ML , il √©tait n√©cessaire de pr√©dire la proportion de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comp√©tition VK Sup. Track ML. 4√®me place. Comment?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495678/"><img src="https://habrastorage.org/webt/5v/bg/be/5vbgbeyleluggqj6r0esih96-hu.png" alt="image"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce concours, qui s'est d√©roul√© dans le cadre du tour de qualification de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VK up 2020</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , piste </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ML</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il √©tait n√©cessaire de pr√©dire la proportion de publics potentiels qui verraient des publicit√©s affich√©es sur plusieurs plateformes publicitaires un nombre sp√©cifique de fois: 1,2,3 √† l'avenir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce n'√©tait pas une comp√©tition classique pour envoyer des pr√©dictions finales √† des donn√©es de test connues, mais une pr√©diction sur des donn√©es compl√®tement inconnues soumises au mod√®le en docker lanc√©e sur le site de la comp√©tition.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, une telle solution √©galise les chances des participants et ne permet pas √† ceux qui aiment jeter un ≈ìil au test, d'enrichir l'ensemble de donn√©es de formation avec eux et d'adapter le mod√®le √† la distribution des donn√©es du test. </font><font style="vertical-align: inherit;">Ici, tout le monde √©tait sur un pied d'√©galit√©, car on ne sait pas ce qui pourrait √™tre dans les donn√©es: donn√©es ¬´ind√©sirables¬ª, valeurs aberrantes sporadiques, d√©limiteurs invalides, etc. </font><font style="vertical-align: inherit;">Mais toutes ces nuances en m√™me temps nous font penser √† la gestion des exceptions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce concours, j'ai pris une 4e place discr√®te et je veux dire comment c'√©tait possible.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©sentation des donn√©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les donn√©es initiales ont √©t√© pr√©sent√©es sous la forme suivante:</font></font><br>
<br>
<ol>
<li> <i>users.tsv</i> ‚Äì    : , ,  .      ,    ,    ,       .            (   ),      .</li>
<li> <i>history.tsv</i> ‚Äî   "<i>-</i>",         (  )   .          ,      ,         .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un fichier de validation pour la formation du mod√®le, il contenait simplement des donn√©es sur √† quel intervalle de temps et √† quel prix une annonce a √©t√© diffus√©e pour un public sp√©cifique (plateforme et utilisateur). </font><font style="vertical-align: inherit;">Les utilisateurs et les sites ont √©t√© donn√©s sous forme de cha√Æne du formulaire (1,5,7,3,14,6).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate_answers.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un fichier de r√©ponses se compose de trois colonnes: quel pourcentage (valeurs de 0 √† 1), l'audience semble class√©e 1, 2, 3 fois. </font><font style="vertical-align: inherit;">Par cons√©quent, ces s√©quences n'augmentent pas.</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le but du concours</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">pr√©dire trois ensembles de valeurs </font><font style="vertical-align: inherit;">pour de nouvelles donn√©es du futur (au format de fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - quelle proportion de l'audience verra une annonce 1.2, 3 fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus de d√©tails sur la t√¢che sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le site du concours</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©dicteurs</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les pr√©dicteurs finaux que j'ai utilis√©s sont un ensemble de 2 complexes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©dicteurs bas√©s sur l'historique et leur comparaison avec de nouvelles donn√©es</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©dicteurs uniquement sur les donn√©es de l'avenir</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parmi le premier complexe, bas√© sur le fichier historique, </font><font style="vertical-align: inherit;">des statistiques de base ont √©t√© g√©n√©r√©es </font><font style="vertical-align: inherit;">pour les paires </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisateur-site</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> regroup√©es </font><font style="vertical-align: inherit;">, puis leur agr√©gation √† la paire </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisateur-site</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans les fichiers de validation et de test. Cela a √©t√© suivi par la s√©lection des pr√©dicteurs de diff√©rentes mani√®res - √† la fois en fonction des fr√©quences d'utilisation des pr√©dicteurs aux √©tapes de partitionnement et d'utilisation dans le mod√®le lui-m√™me, et des validations, de haut en bas et de bas en haut. Malgr√© les diff√©rents sch√©mas de s√©lection, en g√©n√©ral, tout se r√©sumait √† environ un ensemble de pr√©dicteurs et par cons√©quent il y en avait sept. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interpr√©tation des pr√©dicteurs du deuxi√®me complexe (il y en avait √©galement sept √©tonnamment) est g√©n√©ralement beaucoup plus simple: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- diff√©rence de temps. Est-ce logique? Logiquement: plus l'intervalle est grand, plus les vues sont probables. Bien s√ªr, il n'y a pas de d√©pendance directe, mais physiquement, il devrait en √™tre ainsi; de plus, c'est l'un des pr√©dicteurs les plus solides si nous les consid√©rons s√©par√©ment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delta2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est √©galement un d√©calage horaire, mais converti par jour (c'est-√†-dire une division enti√®re par 24). Autrement dit, nous transformons une d√©pendance lin√©aire en d√©pendance par morceaux. L'id√©e ici est simple: nous ne faisons pas de distinction entre les heures, mais de tr√®s longs intervalles (jours) d√©termineront leur propre tendance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cpm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le prix lui-m√™me, de la m√™me mani√®re: plus le prix est √©lev√©, plus il est probable qu'il s'affiche, encore une fois, bien s√ªr, il n'y a pas de d√©pendance directe, mais dans le ¬´flirt¬ª avec d'autres pr√©dicteurs bas√©s sur l'histoire, la d√©pendance est clairement trac√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4-7. </font><font style="vertical-align: inherit;">Ce sont le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p√©ch√©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos des</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> heures de d√©but et de fin des annonces, qui sont √©galement traduits dans la chronologie de 24 heures. </font><font style="vertical-align: inherit;">L'utilisation de ces fonctions, contrairement au temps lin√©aire, vous permet de prendre en compte les intervalles de temps qui traversent la journ√©e. </font><font style="vertical-align: inherit;">L'utilisation de ces pr√©dicteurs a imm√©diatement donn√© une am√©lioration de 1,5 point de pourcentage.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©trique et r√©ponse</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√©trique </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smoothed Mean Log Accuracy Ratio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ci-apr√®s </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMLAR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">pr√©sent√©e par les organisateurs </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/br/_p/xfbr_pwfjcbgbwddetsiwz7njvk.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque la r√©ponse initiale est pr√©sent√©e dans la proportion de l'audience qui a vu l'annonce 1,2,3 fois, c'est-√†-dire les valeurs dans la plage [0,1]. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDPV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique le comportement de cette m√©trique, ou plut√¥t, pas la m√©trique enti√®re, mais sa partie ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour le logarithme des biais de pr√©diction) pour toutes les combinaisons de la pr√©diction et la vraie valeur sur toute la plage [0,1].</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous regardez attentivement la formule de la m√©trique, alors: d'une part, cette m√©trique correspond approximativement √† la moyenne g√©om√©trique des ratios des pr√©dictions et √† la vraie valeur (avec biais), ce qui est clairement meilleur que la moyenne arithm√©tique (en raison du r√©sultat final inf√©rieur). D'un autre c√¥t√©, si nous omettons l'exposant, qui √† de faibles valeurs se comporte presque comme l'exposant de son degr√©, la m√©trique est transform√©e en MAE par le logarithme de la r√©ponse avec un d√©calage. Ainsi, pour construire des mod√®les id√©ologiquement corrects, il √©tait n√©cessaire d'utiliser la r√©ponse initiale avec un d√©calage et la fonction de perte dans laquelle il existe un logarithme sous forme explicite, ou, √† l'inverse, d'utiliser d'abord le logarithme de r√©ponse de d√©calage et une fonction de perte lin√©aire ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eps</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Mais, compte tenu de mon mod√®le (dans lequel la fonction de perte n'est pas explicitement sp√©cifi√©e), j'ai choisi la transformation optimale de la r√©ponse en fonction des r√©sultats du mod√®le de validation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai consid√©r√© les options de r√©ponse suivantes - partages d'origine, logarithme des partages, transition vers les valeurs absolues du nombre d'utilisateurs, leur logarithme avec diff√©rents d√©calages (ici, il y a eu une tentative d'utiliser un d√©calage unifi√© lors du passage aux valeurs absolues, car le d√©calage de 0,005 est indiqu√© pour les partages et le public √©tait diff√©rent, de 300 √† 2500, donc le d√©calage doit √™tre compris entre 1 et 12, mais je n'ai v√©rifi√© que les valeurs 1 et 10) et la racine de la valeur absolue des personnes consult√©es.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/3o/sw/di3oswingek2fdbkdx-rlmhjbji.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'image ci-dessus montre les r√©sultats de deux mod√®les qui se sont entra√Æn√©s pour une r√©ponse diff√©rente: les parts d'audience initiales et le nombre absolu de participants.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le diagramme sup√©rieur montre les valeurs tri√©es de la vraie r√©ponse (par fractions du premier balayage) et les valeurs pr√©dites pour les deux mod√®les. Il est imm√©diatement clair que la plupart des valeurs de r√©ponse sont assez petites, donc la valeur m√©diane est d'environ 5%, et ce n'est que pour le premier balayage (pour le deuxi√®me balayage, la m√©diane est d√©j√† inf√©rieure √† 1%, et pour le troisi√®me balayage pr√®s de 0%, et pour cette m√©trique, de petites valeurs et des erreurs sur ils sont tr√®s d√©sagr√©ables). Il est √©galement clairement visible dans ce diagramme que le mod√®le par valeurs absolues est qualitativement meilleur, la dispersion des estimations est assez minime, et malgr√© le fait que les √©carts ne sont presque pas visibles sur le graphique √† de petites valeurs, par cons√©quent, ce sont les erreurs √† ces petites valeurs qui affectent fortement r√©sultat final. La m√™me chose peut √™tre vue sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDPV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, courbure tr√®s nette √† faibles valeurs, surtout proche de z√©ro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le diagramme moyen montre l'erreur de chaque pr√©diction tri√©e; de ‚Äã‚Äãfortes erreurs √† de petites valeurs et leur diminution avec l'augmentation des valeurs de r√©ponse sont visibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le diagramme du bas, le diagramme de la m√©trique directement cibl√©e est d√©j√† en cours de construction avec le total accumul√© pour toutes les valeurs tri√©es. Quelles sont les conclusions de tout cela? La premi√®re est que la r√©ponse s√©lectionn√©e affecte fortement les r√©sultats du mod√®le, mais plus sur celle ci-dessous, la deuxi√®me conclusion, accordez une attention particuli√®re aux petites valeurs, en particulier proches de z√©ro, il est √©vident que les mod√®les ne seront pas toujours en mesure de pr√©dire un z√©ro pur, des corrections sont donc n√©cessaires. Et les erreurs aux grandes valeurs ne sont pas si importantes, premi√®rement, elles sont relativement petites, et deuxi√®mement, le pourcentage d'erreur aux grandes valeurs sera petit, et en m√™me temps il apportera une contribution totale minimale √† la m√©trique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, selon les r√©sultats de nombreuses exp√©riences, le gagnant avec une marge claire √©tait la r√©ponse - la racine des valeurs absolues des utilisateurs. Dans le m√™me temps, sur des pr√©dictions diff√©rentes (par 1, 2, 3 vues), parfois des mod√®les avec un logarithme de valeurs absolues ont √©galement gagn√©, cela est d√ª √† une nette pr√©dominance de 0 dans les r√©ponses, et, par cons√©quent, le logarithme avec un certain biais √©tait meilleur. Mais si vous faites la moyenne, alors une racine simple sans aucun biais a montr√© de bons r√©sultats stables, donc je ne voulais pas compliquer la d√©cision, mais m'arr√™ter sur une m√©thode unifi√©e simple - juste la racine des gens. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelle est la raison du fait que la transition vers les personnes am√©liore consid√©rablement le r√©sultat par rapport aux parts (pr√®s de 2 fois)?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apparemment, le fait est qu'en se tournant vers les gens, en multipliant la part par le public, ou la m√™me chose que de diviser tous les pr√©dicteurs par le m√™me public, nous entrons dans la dimension relative √† "une personne", et consid√©rant que la base de mon mod√®le est la r√©gression, l'estimation finale est une sorte d'estimation de probabilit√© pond√©r√©e relative √† chaque pr√©dicteur. Il est possible que si nous normalisons seulement une partie des pr√©dicteurs au public, par exemple, √† partir des pr√©dicteurs du premier groupe (la somme sur toutes les paires, par exemple), alors cette normalisation rapprocherait ainsi les dimensions de tous les pr√©dicteurs d'un syst√®me de rapport unique (par personne), et de la r√©gression finale , sa r√©ponse, ne serait rien de plus que la somme moyenne pond√©r√©e des contributions de chaque pr√©dicteur (qui caract√©risent une personne) √† la probabilit√© totale de visualisation, alors peut-√™tre que le r√©sultat serait meilleur.Mais au moment de la d√©cision du concours, je ne me suis pas approch√© de ce c√¥t√© et j'ai travaill√© exclusivement avec une r√©ponse transform√©e.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®le</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, cette section devait √™tre mise plus haut, car c'√©tait √† cause de ce mod√®le que nous devions s√©lectionner le type de r√©ponse et les pr√©dicteurs n√©cessaires utilis√©s pour cela (le mod√®le a √©t√© ajust√© aux donn√©es) et, d'une mani√®re ou d'une autre, il √©tait possible d'atteindre une r√©ponse acceptable sur diff√©rents pr√©dicteurs le r√©sultat est d'environ 15%. </font><font style="vertical-align: inherit;">Mais je voulais qu'en moyenne, il y ait une justification au choix de pr√©dicteurs sp√©cifiques, par cons√©quent, des combinaisons de pr√©dicteurs ont √©t√© s√©lectionn√©es pour la validation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai utilis√© un mod√®le issu d'une famille d'arbres mod√®les de r√©gression, √† savoir le mod√®le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cubiste</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (mod√®le 1992!), Et sa mise en ≈ìuvre dans le package du m√™me nom en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Le r√©sultat final est plut√¥t la moyenne g√©om√©trique de deux ensembles de mod√®les, chacun compos√© de 3 mod√®les distincts, mais en cascade: la pr√©diction du mod√®le pr√©c√©dent (pour 1 vue) a √©t√© utilis√©e comme pr√©dicteur pour les deuxi√®me et troisi√®me mod√®les, et la pr√©diction finale pour la deuxi√®me vue comme pr√©dicteur pour le troisi√®me mod√®le. Les deux paires de mod√®les diff√©raient l√©g√®rement dans les pr√©dicteurs et les ajustements interm√©diaires, et leur moyenne g√©om√©trique a √©t√© utilis√©e sur la base du bon sens (enfin, validations, avec un cours public), et le sens est simple: comme je l'ai √©crit ci-dessus, une attention particuli√®re est accord√©e √† z√©ro pr√©dictions, et g√©n√©ralement √† minime , et la moyenne g√©om√©trique est exactement ce qu'elle fait: elle fait dispara√Ætre la pr√©diction si l'un d'eux est d√©j√† nul (et cela est logique si l'un des mod√®les a montr√© z√©ro, alors laissez-le rester,que nous ¬´retarderons¬ª la pr√©diction √† partir de z√©ro).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et gr√¢ce √† la cascade de mod√®les, le mod√®le a indirectement ¬´compris¬ª (depuis les r√©gressions) que chaque r√©ponse subs√©quente ¬´s'accroche¬ª √† cette r√©ponse pr√©dite pr√©c√©demment de l'estimation pr√©c√©dente, et les pr√©dicteurs restants corrigent la r√©ponse, qui ne devrait pas √™tre sup√©rieure √† la pr√©c√©dente. J'ai √©galement test√© trois mod√®les distincts qui pr√©disaient les r√©ponses individuellement. Le r√©sultat √©tait plus faible en raison de l'abondance de z√©ros dans les deuxi√®me et troisi√®me balayages, la famille de r√©gressions ne pouvait pas tout √† fait aller √† 0, et lorsque nous ajoutons un ¬´guide¬ª √† l'estimation pr√©c√©dente, qui est d√©j√† 0 ou proche de celle-ci, la famille de r√©gressions r√©sultante tombe √©galement √† proximit√© de cette valeurs et ajuste uniquement la r√©ponse √† la deuxi√®me et troisi√®me visualisation. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce qui est bien avec ce mod√®le?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quand j'ai vu la t√¢che, je me suis imm√©diatement souvenu de ce mod√®le, car lors d'une des comp√©titions pr√©c√©dentes dans un probl√®me comparable (relations lin√©aires et leurs corrections) c'√©tait aussi l'une des meilleures, et en g√©n√©ral, nous avons des donn√©es assez lin√©aires ici, il y a une relation √©vidente entre les quantit√©s vues (la seconde est inf√©rieure √† la premi√®re, la troisi√®me est inf√©rieure √† la seconde), il y a peu de donn√©es - seulement 1008 observations, il y a un petit nombre de pr√©dicteurs, probablement une sorte de d√©pendances lin√©aires bris√©es. </font><font style="vertical-align: inherit;">De plus, ce mod√®le est tr√®s rapide, la construction a pris plusieurs secondes, il lui a donc √©t√© pratique de tester de nombreuses hypoth√®ses. </font><font style="vertical-align: inherit;">Et pourtant, elle n'a pas d'hyperparam√®tres (√† l'exception des voisins (un autre param√®tre est une pr√©vision corrective), que je n'ai pas utilis√©), sur lesquels je pourrais me recycler.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment est la pr√©diction dans ce mod√®le pour un arbre?</font></font></b><div class="spoiler_text">     ,       ,      100  (    ,     ,   10-20 ),          ,       ,      ,      :    (   ),     ,      ( ,  )        .<br>
<br>
    ,  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">  </a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">    </a>.<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajustements</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, de petits ajustements des pr√©dictions ont √©t√© utilis√©s, √† savoir: lors du passage du nombre absolu de personnes √† leurs parts, des situations de tr√®s petites valeurs (positives, un peu plus de 0 ou plus de 1) se sont potentiellement produites, et si dans le cas de valeurs sup√©rieures √† 1, leur ajustement n'a pas jou√© un r√¥le plus important (il y avait probablement peu de vols de ce type, et s'ils l'√©taient, alors non significatifs), mais dans le cas de petites valeurs, c'√©tait relativement critique. Par raisonnement, il a √©t√© admis que si je pr√©dis, par exemple, 1 personne (ou 0,5 personne, l'arrondissement n'a pas √©t√© effectu√©), puis avec une audience maximale de 2500 (ce qui est compl√®tement inconnu avec les donn√©es connues dans le train, ce qui se passe vraiment sur les donn√©es de test), ce qui est 0,0004 (au fait, et dans le train, la valeur minimale est 0,0004),cela signifie quelque part au voisinage de cette valeur, il est n√©cessaire de ramener les valeurs inf√©rieures √† 0, et √©tant donn√© que mes mod√®les sont construits dans une cha√Æne, la construction du mod√®le suivant et ses pr√©dictions d√©pendent du z√©ro pr√©dit, etc. cela a beaucoup influenc√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela n'avait pas beaucoup de sens de s√©lectionner un seuil de validation (parce que le mod√®le s'adapte de toute fa√ßon √† ces donn√©es, et je connais la distribution), alors j'ai jet√© un coup d'≈ìil au public (pour certaines valeurs s√©lectionn√©es), mais √† la fin je suis parti pour l'un des trois mod√®les un beau seuil d'arrondi de 0,0005, et pour le second 0,0004 th√©orique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©glage par le haut a √©t√© plus facile, des valeurs sup√©rieures √† 0,95 √† payer en 0,95, 0,95 a √©t√© effectu√© sur la base de la part maximale des donn√©es de test utilis√©es avec </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec la plus grande marge (maximum 0,93 dans le train), cet ajustement n'a pratiquement pas eu d'effet sur le public (les d√©parts uniques sont apparemment dans le public), il a √©t√© laiss√© exclusivement pour la s√©curit√© en priv√©. </font><font style="vertical-align: inherit;">Et une correction li√©e aux z√©ros a √©t√© ajout√©e, si la pr√©diction est nulle au premier scan, alors malgr√© les pr√©dictions des mod√®les aux deuxi√®me et troisi√®me scan, leurs pr√©dictions vont aussi √† 0, cela n'a pas beaucoup affect√©, quelque part le deuxi√®me signe (le mod√®le est pratiquement toujours et donc lui-m√™me (moins que le pr√©c√©dent et √† z√©ro) l'a fait), mais est parti pour la s√©curit√© en priv√©.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les r√©sultats √©taient tr√®s d√©pendants du type de r√©ponse et des pr√©dicteurs s√©lectionn√©s, par exemple, m√™me si vous aviez pr√©dit des fractions, ou m√™me mieux que leur logarithme, vous pouviez s√©lectionner d'autres pr√©dicteurs et le r√©sultat serait d'environ 16%, et si vous allez √† des valeurs absolues et aussi res√©lectionnez des pr√©dicteurs, puis tout a commenc√© √† environ 15%, donc c'√©tait ma ligne de base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et d'ailleurs, ces r√©sultats √©taient d√©j√† suffisants pour rester dans le top cinq, mais c'√©tait int√©ressant de ¬´booster¬ª davantage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et alors, qu'est-ce qui a consid√©rablement am√©lior√© ces 15%?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, seulement l'ajout d'heures, seulement les heures (heures de d√©but et de fin) a imm√©diatement donn√© 13,97%, les changer en sinus cosinus s'est am√©lior√© √† 13,44%, puis l'am√©lioration √† 13,25% arrondissait les petites valeurs √† z√©ro, et la moyenne g√©om√©trique la moyenne des deux mod√®les, c'est-√†-dire qu'elle √©tait d√©j√† plus tuning pour le test (public), et pour cette raison, j'ai quand m√™me eu un peu trop de plaisir avec le public. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce concours, il a fallu choisir une solution. Maintenant, en regardant dans la LC, je vois que ma solution choisie s'est √©galement av√©r√©e √™tre la meilleure en priv√© (l'endroit n'a pas chang√©) (la meilleure privat est inf√©rieure √† 0,02 point de pourcentage), mais si vous prenez des envois dans lesquels la r√©ponse n'√©tait pas si arrondie, puis en priv√© ils √©taient l√©g√®rement pires - 13,6%, c'est-√†-dire qu'il n'y avait pas de recyclage solide pour le public, mais ce post-r√©glage n'a pas jou√© un r√¥le tr√®s important non plus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, le principal succ√®s de la r√©serve: les pr√©dicteurs s√©lectionn√©s sous un mod√®le de r√©ponse </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cubiste</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√©lectionn√© </font><font style="vertical-align: inherit;">, les mod√®les en cascade (1-&gt; 2-&gt; 3) et les </font><font style="vertical-align: inherit;">pr√©dicteurs </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font><font style="vertical-align: inherit;">temporels </font><font style="vertical-align: inherit;">( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgr√© le fait que les gagnants des cinq premi√®res places ont utilis√© divers mod√®les, y compris des mod√®les modernes (1 place - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 2 place - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">catboost</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 3 place - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neural net</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 5 place - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lightgbm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , bien que ces gagnants aient eu des pr√©dicteurs beaucoup plus complexes) , J'ai pris la 4e place en utilisant l'un des mod√®les classiques les plus anciens de 1992 (m√™me les id√©es </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont </font><font style="vertical-align: inherit;">apparues plus tard) sur des pr√©dicteurs assez simples et √©vidents, ce qui confirme une fois de plus: il n'est pas toujours suffisant de fonctionner sur des pr√©dicteurs g√©n√©r√©s (ces approches √©taient beaucoup plus faibles dans la note finale, environ 20%), le bon sens des pr√©dicteurs, la transformation de la r√©ponse et le choix de la fonction de perte dans les mod√®les (le cas √©ch√©ant) jouent ici un r√¥le important.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, le concours s'est av√©r√© int√©ressant et cr√©atif, avec des conclusions pertinentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'esp√®re qu'√† l'√©tape finale (√† plein temps) de la comp√©tition, la t√¢che n'en sera pas moins int√©ressante.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr495646/index.html">Quels podcasts non stressants √† √©couter le week-end</a></li>
<li><a href="../fr495658/index.html">O√π obtenir de l'audio pour l'apprentissage automatique: une s√©lection de biblioth√®ques ouvertes sous licence Creative Commons</a></li>
<li><a href="../fr495670/index.html">Migration d'un Data Lake transparent vers un Data Mesh distribu√©</a></li>
<li><a href="../fr495674/index.html">Explorer les champs √©lectromagn√©tiques √† l'aide d'un r√©cepteur SDR et d'OpenCV</a></li>
<li><a href="../fr495676/index.html">Processus ETL pour r√©cup√©rer les donn√©es de messagerie dans Apache Airflow</a></li>
<li><a href="../fr495682/index.html">API reverse pour son application Android</a></li>
<li><a href="../fr495684/index.html">5 raisons pour lesquelles l'interaction avec vos utilisateurs finaux am√©liore votre code</a></li>
<li><a href="../fr495686/index.html">Las Vegas personnel, ou un jeu dans l'extension de navigateur</a></li>
<li><a href="../fr495688/index.html">Synchronisation des utilisateurs OSE bas√©e sur Active Directory Collaboration Zimbra</a></li>
<li><a href="../fr495690/index.html">Concepts de l'API Web Audio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>