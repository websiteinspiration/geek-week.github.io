<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç≥ üé£ ü§õüèº Corre hormiga. correr üëßüèª üë®‚Äçüë¶ üÖ∞Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo analiza el proceso de creaci√≥n de un modelo de simulaci√≥n del comportamiento de una colonia de hormigas (se puede leer en Wikipedia ) en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Corre hormiga. correr</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500994/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este art√≠culo analiza el proceso de creaci√≥n de un modelo de simulaci√≥n del comportamiento de una colonia de hormigas (se puede leer en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) en el entorno de simulaci√≥n "AnyLogic". </font><font style="vertical-align: inherit;">Este art√≠culo es pr√°ctico. </font><font style="vertical-align: inherit;">Considerar√° el uso del algoritmo de hormigas para resolver el problema del vendedor ambulante (puede </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leer aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ca/-m/xy/ca-mxya2npzn6aynp21dpuepx2g.gif"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brevemente sobre la esencia.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La esencia del problema del vendedor ambulante es que el vendedor ambulante (vendedor) debe visitar N ciudades despu√©s de visitar cada una de ellas solo por la ruta m√°s corta. Dado que este problema es complejo NP y el n√∫mero de opciones para todas las rutas posibles entre N ciudades se calcula como ‚ÄúN!‚Äù, El tiempo de b√∫squeda de ruta m√°s corto aumentar√° exponencialmente con un aumento en N. Por consiguiente, el tiempo de b√∫squeda de ruta (soluci√≥n) m√°s corto usando el algoritmo La ‚Äúb√∫squeda exhaustiva‚Äù (que da una soluci√≥n exacta) con el n√∫mero de ciudades N&gt; 16 aumenta bruscamente (es exponencial). Por lo tanto, no buscaremos la ruta m√°s corta en longitud, sino que la acercaremos (racionalmente) en un tiempo finito utilizando el "algoritmo ant".</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algunas palabras sobre AnyLogic es una poderosa herramienta que le permite crear modelos de simulaci√≥n de diversa complejidad. </font><font style="vertical-align: inherit;">Implementa varios enfoques de simulaci√≥n. </font><font style="vertical-align: inherit;">Analizaremos solo uno de los enfoques, a saber, el modelado de "Agente". </font><font style="vertical-align: inherit;">Se implementa en el lenguaje de programaci√≥n Java, que complementa las herramientas existentes. </font><font style="vertical-align: inherit;">La principal desventaja de "AnyLogic" es la limitaci√≥n de la versi√≥n gratuita en el n√∫mero de agentes creados, su n√∫mero no puede exceder de 50,000. "Agente" es la unidad b√°sica del sistema de simulaci√≥n AnyLogic. </font><font style="vertical-align: inherit;">Se puede encontrar m√°s informaci√≥n en el sitio web </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.anylogic.ru</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herramientas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Anylogic: descargue la versi√≥n gratuita desde aqu√≠ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.anylogic.ru/downloads Conocimiento</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
inicial de </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AnyLogic </font><font style="vertical-align: inherit;">: la </font><font style="vertical-align: inherit;">interfaz de AnyLogic se muestra en la Figura 1. Incluye:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el √°rea verde es el espacio del agente en el que crearemos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√°rea roja: propiedades del objeto que est√° enfocado;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paleta: herramientas que puede usar al crear un modelo;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proyectos: la estructura del modelo desarrollado.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/ni/-d/kx/ni-dkxyorpukg5a6xkitxe7nwpm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">1- ventana emergente AnyLogic</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creaci√≥n de proyectos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo es simple aqu√≠. </font><font style="vertical-align: inherit;">Haga clic en el elemento del men√∫ "Archivo" junto a "Crear" y luego en "Modelo", ingrese el nombre del modelo y haga clic en el bot√≥n "Finalizar" (Fig. 2). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/5e/96/ej5e96ohohjgxmygsj2teeedt1q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">2- Creando un modelo</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear ciudades</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, empecemos. Lo primero que haremos es crear las llamadas ciudades (partes superiores del gr√°fico) que visitar√° la hormiga. ¬øPor qu√© abrimos la pesta√±a "Agente" en la paleta y arrastramos el c√≠rculo rojo con el hombrecito al agente "Principal" desde all√≠, como se muestra en la Figura 3. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v9/2x/nb/v92xnbu57t8ulh_cttg_i6p1e_0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 3- Crear ciudades</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Despu√©s de soltar el bot√≥n del mouse, aparece un cuadro de di√°logo ("Paso 1"), que le solicita que cree un agente. Donde ser√° necesario seleccionar el elemento "Poblaci√≥n de agentes" y hacer clic en el bot√≥n "Siguiente". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h5/bb/jm/h5bbjm3eyfyzggqc_ixb7bikqoi.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 4- Creaci√≥n de ciudades</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aparece el siguiente cuadro de di√°logo (Paso 2) donde deber√° ingresar el nombre del nuevo tipo de agente y el nombre de la poblaci√≥n de agentes. Ingrese el tipo "MyTown" y el nombre de la poblaci√≥n "myTowns" y haga clic en el bot√≥n "Siguiente". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0k/fi/ak/0kfiaknzozrmlyjkzpgnkdrtp2m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 4a - Ingrese el nombre del nuevo agente</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego aparecer√° la siguiente ventana (Paso 4). Aqu√≠ seleccionamos "Animaci√≥n de agente 2D" y el √≠cono con la inscripci√≥n "Planta" y hacemos clic en el bot√≥n "Finalizar" (Fig. 5). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/si/73/l7/si73l7efxqaj4-lsibjaq23bo5o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 5- Agregar animaci√≥n para el agente</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora cree una variable que determinar√° el n√∫mero inicial de ciudades en nuestro modelo. Por qu√©, desde la "Paleta", arrastre el icono con la inscripci√≥n "Variable" al agente "Principal" e ingrese su nombre "numberTown". Luego, haga clic en el icono de nuestra variable y en la pesta√±a Propiedades, ingrese su valor inicial igual a, por ejemplo, 10 y seleccione su tipo "int" (Fig. 6). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xg/ox/6o/xgox6ohlkcyugq_8bndgxeqe7pe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 6- Crear una variable</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora establecemos el valor inicial de nuestra poblaci√≥n de ciudad "myTowns", para lo cual hacemos clic en su icono y en la pesta√±a "Propiedades" en el campo "N√∫mero inicial de agentes" escribimos el nombre de la variable que creamos anteriormente (Fig. 7).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n2/wn/wr/n2wnwrzolah44a3oiblzp0uitvw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">7 - Cambiar las propiedades de la poblaci√≥n de "myTowns" A continuaci√≥n, sacaremos la</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
conclusi√≥n de nuestras ciudades en el agente "Principal" en un lugar aleatorio. </font><font style="vertical-align: inherit;">El espacio est√° limitado a un cuadrado de 400x400 p√≠xeles. </font><font style="vertical-align: inherit;">Por qu√©, en la pesta√±a "Proyectos", seleccione el agente "Principal" con el mouse y en la pesta√±a "Propiedades", en el campo "Al inicio", agregue el siguiente c√≥digo Java (Fig. 7a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {<font></font>
	myTowns.get(i).setXY(uniform(<span class="hljs-number">0</span>,<span class="hljs-number">400</span>), uniform(<span class="hljs-number">0</span>,<span class="hljs-number">400</span>));<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√≥nde:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.size () - el n√∫mero de ciudades creadas;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.get (i) .setXY (uniforme (0.400), uniforme (0.400)) - establece las coordenadas X e Y para la i-√©sima ciudad;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uniforme (0,400): una funci√≥n que devuelve un n√∫mero aleatorio en el rango de 0 a 400 de acuerdo con la ley de distribuci√≥n igualmente probable de una variable aleatoria. </font><font style="vertical-align: inherit;">El entorno AnyLogic tiene un extenso juego de herramientas para trabajar con varias distribuciones de variables aleatorias. </font><font style="vertical-align: inherit;">Hay un constructor incorporado de distribuciones de probabilidad, est√° disponible en la barra de herramientas.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√≥nde:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.size () - el n√∫mero de ciudades creadas;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.get (i) .setXY (uniforme (0.400), uniforme (0.400)) - establece las coordenadas X e Y para la i-√©sima ciudad;</font></font></li>
<li>uniform(0,400) ‚Äì ,        0  400      .   AnyLogic          .              . </li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/cx/9s/uh/cx9suhbif3brjkqje09vjpp0wos.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">7a - Organizamos las ciudades.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Entonces ya podemos ver lo que hicimos y comenzar nuestro modelo. </font><font style="vertical-align: inherit;">Para hacer esto, use la tecla "F5", haga clic y la ventana para iniciar el experimento se inicia como se muestra en la Figura 8. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/w9/0j/e7w90jfs3sz6flkkxvkmhksfysk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">8 - Inicie el experimento</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A continuaci√≥n, haga clic en el bot√≥n "Ejecutar" en la esquina inferior izquierda de la ventana y comenzar√° el experimento. </font><font style="vertical-align: inherit;">Deber√≠a obtener una ventana con el contenido en la pantalla como se muestra en la Figura 9. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h5/hj/rw/h5hjrw2oona5nb5oxamr7wk1kro.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">9 - El resultado del experimento</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Entonces, en este paso creamos 10 ciudades y las colocamos en un lugar aleatorio (estoc√°stico) en nuestra pantalla. </font><font style="vertical-align: inherit;">Ahora pasemos a la creaci√≥n de nuestras "hormigas"</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear una hormiga</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, la unidad de combate principal de nuestro modelo ser√° una hormiga. Primero debemos crearlo y luego modelar su comportamiento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear una hormiga es similar a crear una ciudad. En la "Paleta", seleccione "Agente" y arr√°strelo a "Principal". Seleccione ‚ÄúPoblaci√≥n de agentes‚Äù, luego ‚ÄúDeseo crear un nuevo tipo de agente‚Äù, luego ingrese ‚ÄúNombre del nuevo tipo‚Äù y ‚ÄúNombre de poblaci√≥n‚Äù ‚ÄúMyAnt‚Äù ‚ÄúmyAnts‚Äù y haga clic en ‚ÄúSiguiente‚Äù. Despu√©s de eso, seleccionamos la animaci√≥n "2D" y, por ejemplo, el icono con la inscripci√≥n "Luchador" presiona "Finalizar" y deber√≠a aparecer como se muestra en la Figura 10. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q-/pb/wj/q-pbwj-wzsom4meb0xjebt8f6e0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 10 - Crea hormigas</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acuerdo, el avi√≥n no parece una hormiga, as√≠ que lo arreglaremos. Entramos en el motor de b√∫squeda en busca de una imagen que representa una hormiga y cambiamos el avi√≥n a una hormiga. ¬øPor qu√© hacemos doble clic en el c√≠rculo rojo cerca de "myAnts"? Despu√©s de eso, la pesta√±a "myAnt" se abrir√° donde necesite quitar el avi√≥n y colocar la hormiga en su lugar (Fig. 11). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v-/5a/tp/v-5atplfehtp9oii49ogb4zarx4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 11 - Ficha MyAnt</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Seleccione el avi√≥n con el mouse y presione "Del". A continuaci√≥n, vaya a la pesta√±a "Presentaci√≥n" y arrastre el elemento "Imagen" desde all√≠. Despu√©s de eso, se abrir√° autom√°ticamente un cuadro de di√°logo para seleccionar un archivo. Seleccione el archivo con nuestra hormiga (Fig. 12) y haga clic en Aceptar. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3u/cv/jo/3ucvjoiromyqmon5c0gg8rnitps.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 12 - pesta√±a MyAnt con hormiga y ya sin avi√≥n</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siga adelante. </font><font style="vertical-align: inherit;">Escale la hormiga y mu√©vala al lugar donde sol√≠a estar el avi√≥n. </font><font style="vertical-align: inherit;">Deber√≠a resultar como se muestra en la Figura 12a. </font><font style="vertical-align: inherit;">Todas estas operaciones se realizan con el mouse. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/rr/n_/bhrrn_45uobnz9cpfxyxfmgpajm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">12a - pesta√±a MyAnt con hormiga</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Revivimos la hormiga</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora tenemos que ense√±arle a nuestra hormiga reci√©n horneada a gatear entre ciudades. </font><font style="vertical-align: inherit;">Es cierto, hasta ahora sin tener en cuenta el modelo matem√°tico, pero a√∫n as√≠ lo dejo correr. </font><font style="vertical-align: inherit;">Y as√≠, abra el diagrama "Diagrama de estado" en la "Paleta" y contin√∫e. </font><font style="vertical-align: inherit;">Transferimos los siguientes bloques y los conectamos:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El comienzo del diagrama de estado es el punto de partida del ciclo de vida de nuestra hormiga;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estado: este bloque caracterizar√° el estado del ciclo de vida de nuestra hormiga. </font><font style="vertical-align: inherit;">Tales bloques se requieren en piezas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transici√≥n: una flecha que conectar√° nuestros "Estados" entre s√≠ y realizar√° la transici√≥n de un "Estado" a otro "Estado" bajo ciertas condiciones.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, deber√≠a resultar algo as√≠ como se muestra en la Figura 13. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/xk/ry/rlxkrykh7gpd6ujcc5aetxfldxm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">13 - La l√≥gica del comportamiento de la hormiga</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora escribamos la l√≥gica inicial del diagrama de la hormiga. </font><font style="vertical-align: inherit;">Seleccionamos con el mouse la flecha que sale del bloque bajo el nombre "Seleccionar ciudad" y agregamos el siguiente c√≥digo en el campo "Acci√≥n" en la pesta√±a "Propiedades" (Fig. 14):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (randomTrue(<span class="hljs-number">0.5</span>)) {
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠, todo es muy simple, pasamos por el ciclo en todas las ciudades y lanzamos una moneda (generamos una variable aleatoria con probabilidad. 0.5) si su valor es verdadero (√°guila), luego enviamos la hormiga a esta ciudad dejando el ciclo. La expresi√≥n "this.moveTo (main.myTowns.get (i))" es una funci√≥n que env√≠a un agente a otro. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/ql/7y/scql7yplmodnhdrldsc6tvb3l2m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 14 - Establezca la l√≥gica inicial del movimiento de la hormiga.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A continuaci√≥n, haga clic en la flecha que sale del bloque "Movimiento" y en la pesta√±a "Propiedades", en el campo "Ocurre", establezca el valor "Al recibir un mensaje" y seleccione "Al recibir el mensaje especificado" en el campo "Ocurre". ¬ªComo se muestra en la Figura 15. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ks/hh/g9/kshhg9m8nyxvzqz9d1dj2xnrgtc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 15 - Establezca la l√≥gica para la transici√≥n entre "Movimiento" y "Omiti√≥ todo"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora configure la √∫ltima flecha que sale del bloque "Movimiento". </font><font style="vertical-align: inherit;">Lo seleccionamos con el mouse y en la pesta√±a "Propiedades", en el campo de transici√≥n, establecemos "Al llegar el agente". </font><font style="vertical-align: inherit;">La vista final del "diagrama de estado" debe ser como se muestra en la Figura 16. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/os/kv/af/oskvafwwsgpitd36rnozrirob9m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">16 - Diagrama de estado con transiciones configuradas entre bloques</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Entonces, veamos c√≥mo funciona el "Diagrama de estado" del comportamiento de las hormigas:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El primer estado en el que cae la hormiga es "Vybor_city", hasta ahora no se ha explicado ninguna acci√≥n.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luego pasa al siguiente estado despu√©s de la transici√≥n. </font><font style="vertical-align: inherit;">En esta transici√≥n, agregamos un c√≥digo que inicia un ciclo a trav√©s de todas las monta√±as y hace que las hormigas corran por las ciudades.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El bloque "Movimiento" es donde se encuentra la hormiga hasta que llega a la ciudad previamente seleccionada.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adem√°s, tiene dos formas. </font><font style="vertical-align: inherit;">Primero, regresa al bloque "City_Choice" y todo se repite nuevamente. </font><font style="vertical-align: inherit;">En el segundo camino tendr√° que ir cuando ya haya visitado todas las ciudades. </font><font style="vertical-align: inherit;">Hasta ahora, la segunda forma no est√° configurada con nosotros. </font><font style="vertical-align: inherit;">Nos ocuparemos de ellos un poco m√°s tarde.</font></font></li>
</ol><br>
<br>
<img src="https://habrastorage.org/webt/3z/aj/md/3zajmdqorvjpondmi8k03fmmz94.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">17 - Operaci√≥n del diagrama de estado</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora podemos presionar "F5" para ver qu√© sucedi√≥ (Fig. 18). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fr/cg/us/frcgusj3llqem0vaf8rxjngwwii.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">18 - El avivamiento de las hormigas</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definir los criterios.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øcu√°les son estos criterios (reglas):</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una hormiga debe visitar cada ciudad solo una vez.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ant, cuando visit√≥ todas las ciudades termina su movimiento en la √∫ltima ciudad.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estos criterios nos los dicta la condici√≥n del problema del vendedor ambulante. Cada hormiga estar√° con nosotros como una especie de vendedor ambulante que viaja por las ciudades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ense√±emos a la hormiga a cumplir con estas reglas. Por qu√©, desde la pesta√±a "Paleta", "Agente", transfiera la "Colecci√≥n" y la "Variable" a la pesta√±a "MiAnt" y ll√°melas la primera como "se ha visitado" y la segunda como "distancia". El primero tendr√° en cuenta las ciudades que ya hemos visitado, y el segundo la distancia recorrida por la hormiga. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-k/s-/a_/-ks-a_2igqbcyxzgzxiwlrbn9fe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 19 - Agregar variables</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Configure la colecci√≥n isVisited. ¬øPor qu√© lo seleccionamos con el mouse y establecemos el "Tipo" de los elementos "int" en la pesta√±a "Propiedades" como se muestra en la Figura 20. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la variable "distancia" en sus propiedades, en el campo "Valor inicial", establezca "0" y el tipo de variable "doble" ". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cm/2v/te/cm2vte4vjkzqycf0r58qz8itz7u.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 20 - Colecci√≥n del tipo "int"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora seleccione la flecha que sale del bloque "City_block" y cambie el c√≥digo en el campo "Acci√≥n" al siguiente:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (randomTrue(<span class="hljs-number">0.9</span>) &amp;&amp; isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));<font></font>
		distance=distance+<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i));<font></font>
		isVisited.add(i);<font></font>
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el c√≥digo anterior, agregamos un cheque para las ciudades en las que ya hemos logrado visitar, y teniendo en cuenta las ciudades que visitamos, y tambi√©n consideramos la distancia recorrida. </font><font style="vertical-align: inherit;">El c√≥digo es bastante simple, creo que no ser√° dif√≠cil de entender. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede intentar lanzar "F5" nuestro modelo y ver qu√© sucedi√≥. </font><font style="vertical-align: inherit;">Ahora las hormigas pasar√°n por todas las ciudades solo una vez y completar√°n su movimiento en el bloque.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cambiar la colocaci√≥n inicial de hormigas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este paso, determinaremos para cada hormiga que elegiremos al azar una ciudad desde la que comenzar√° su viaje. </font><font style="vertical-align: inherit;">Por qu√©, en la pesta√±a "Proyectos", seleccione el agente "Principal" con el mouse y luego en la pesta√±a "Propiedades" agregue el siguiente c√≥digo al campo "Al inicio" (Fig. 20a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myAnts.size(); i++) {
	<span class="hljs-comment">//        </span>
	<span class="hljs-keyword">int</span> startTown = uniform_discr(<span class="hljs-number">0</span>,myTowns-<span class="hljs-number">1</span>);
	<span class="hljs-comment">//     </span><font></font>
	myAnts.get(i).setPosition(myTowns.get(startTown));<font></font>
	<span class="hljs-comment">//      </span><font></font>
	myAnts.get(i).isVisited.add(startTown);<font></font>
}<font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/2i/et/cg/2ietcgzx9lkptrnj5rainnljcig.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">20a - Organizando hormigas por ciudad</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Apliqu√© una selecci√≥n aleatoria de la ciudad inicial. </font><font style="vertical-align: inherit;">Inicialmente puedes identificar todas las hormigas en una sola ciudad.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacer que las hormigas sean impredecibles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Presentemos la siguiente f√≥rmula en nuestro modelo: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kd/ld/xz/kdldxzse05ththx-oipffhru9oq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
donde Pi es la probabilidad de transici√≥n a lo largo de la ruta i-√©sima, li es la longitud de la transici√≥n i-√©sima, fi es la cantidad de feromona en la transici√≥n i-√©sima, q es el valor que determina la "codicia" del algoritmo, p - el valor que determina el "reba√±o" del algoritmo, con q + p = 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tom√© prestada esta f√≥rmula del </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sitio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En t√©rminos simples, esta f√≥rmula le permite calcular la probabilidad con la que la hormiga tendr√° que hacer la transici√≥n a una ciudad en particular. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora necesitamos agregar varias variables sin las cuales no podemos hacer. ¬øPor qu√© volver a la pesta√±a "Principal", figura 21. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/ba/cv/zkbacvaft1obpjrs1kw9hblkjos.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 21 - Pesta√±a "Principal"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, agregamos la variable "numberAnt", en la que almacenaremos el tama√±o de la colonia de hormigas. Establecemos su tipo en "int" y el valor inicial es 100. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/80/o2/w4/80o2w43ra-j_fwfabeunywmjkbm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 21 - Variable "numberAnt"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A continuaci√≥n, seleccione la poblaci√≥n "myAnts" y configure el campo "N√∫mero inicial de agentes" en "numberAnt". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La variable "p", que determinar√° el reba√±o del algoritmo. Su tipo es doble y el valor inicial es 0.5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La variable "q", que determinar√° la codicia del algoritmo. Su tipo es doble y el valor inicial es 0.5. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ge/m7/n0/gem7n0dj3rlhd_uu6aac3rrqyby.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 22 - Variables "q y p"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ahora estableceremos un valor de feromona aleatorio para cada borde (carretera) entre las ciudades. ¬øPor qu√© crear una variable (matriz bidimensional) "matrixF"? Aj√∫stelo en la pesta√±a ‚ÄúPropiedades‚Äù en el campo ‚ÄúTipo‚Äù, seleccione el valor ‚ÄúOtro‚Äù y escriba ‚Äúdoble [] []‚Äù en el campo el valor inicial ‚Äúnuevo doble [n√∫meroTown] [n√∫meroTown]‚Äù (Fig. 23). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/4d/oi/wq4doiphuc28xcg1a3vcveng4ms.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 23 - Crear una matriz bidimensional "matrixF". Matriz de feromonas</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A continuaci√≥n, necesitamos inicializar esta matriz. En otras palabras, ll√©nalo con valores aleatorios. Tomamos el valor de feromona al azar en el rango de 0.1 a </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Para esto, en la pesta√±a "Proyectos", seleccione el agente "Principal" con el mouse y luego en la pesta√±a "Propiedades" agregue el siguiente c√≥digo al campo "Al inicio" (Fig. 23a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;myTowns.size(); j++) {<font></font>
		matrixF[i][j]=uniform(<span class="hljs-number">0.1</span>,<span class="hljs-number">1</span>);<font></font>
	}<font></font>
} <font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/ob/an/ta/obanta0s5kb7vqnsc3wsn-qmbgg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">23a - C√≥digo de inicializaci√≥n de la matriz de feromonas</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora volvemos a la pesta√±a "MyAnt" y procedemos a calcular la probabilidad de transici√≥n de acuerdo con la f√≥rmula anterior. </font><font style="vertical-align: inherit;">Seleccione la transici√≥n entre "City_Choice" y "Motion" y cambie el c√≥digo en el campo Acci√≥n a lo siguiente (Fig. 24):</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//       </span>
<span class="hljs-keyword">double</span> denominator=<span class="hljs-number">0</span>; 
<span class="hljs-comment">//          </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {	<span class="hljs-comment">//     </span>
	    <span class="hljs-comment">//  i   </span>
		denominator=denominator+(Math.pow(<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i)), main.q)*Math.pow(main.myTowns.get(i).f, main.p));<font></font>
	} <font></font>
}<font></font>
<span class="hljs-comment">//      i </span>
<span class="hljs-keyword">double</span> Pi=<span class="hljs-number">0</span>;
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">double</span> probility=uniform(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-comment">//        Pi</span>
	<span class="hljs-keyword">if</span> (isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-comment">//     i-      </span>
		Pi=Pi+(Math.pow(<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i)), main.q)*Math.pow(main.myTowns.get(i).f, main.p))/denominator;<font></font>
	}<font></font>
	<span class="hljs-comment">//      Pi      probility</span>
	<span class="hljs-keyword">if</span> (probility&lt;Pi &amp;&amp; isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-comment">//       i  </span>
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));
		<span class="hljs-comment">//     </span>
		distance=distance+<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i));
		<span class="hljs-comment">//           </span><font></font>
		isVisited.add(i);<font></font>
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/7u/gr/re/7ugrreytqo1mjwh43xeaagissqm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">24 - Establecemos el comportamiento de la hormiga en funci√≥n de la expresi√≥n anal√≠tica de lo anterior.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As√≠ que ahora explicar√© un poco qu√© es qu√©:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">li - this.distanceTo (main.myTowns.get (i)), el valor de longitud entre la posici√≥n actual de la hormiga y la ciudad "i";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fi - main.matrixF [currentPos] [i], el valor del nivel de feromona entre la ciudad actual y la ciudad "i";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">denominador - denominador + (Math.pow (this.distanceTo (main.myTowns.get (i)), main.q) * Math.pow (main.matrixF [currentPos] [i], main.p));, denominador Pi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pi - Pi + (Math.pow (this.distanceTo (main.myTowns.get (i)), main.q) * Math.pow (main.myTowns.get (i) .f, main.p)) / denominador, La probabilidad de que la hormiga se mueva de la ciudad actual a la ciudad "i".</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuaci√≥n, seleccionamos la transici√≥n entre los bloques "Movimiento" y "Todos anulados" con el mouse y seleccionamos "Cuando se cumple la condici√≥n" en el campo "Ocurre", y en el campo condici√≥n escribimos la condici√≥n para que la hormiga pare "isVisited.size () == main.myTowns.size ()" (fig. 25). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1w/qz/ag/1wqzagqllmjga_yqm5a8-9c_crg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">25 - Determine las condiciones para detener la hormiga,</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
luego puede ejecutar el modelo "F5" y ver qu√© sucedi√≥. </font><font style="vertical-align: inherit;">Las hormigas viajar√°n entre ciudades con una probabilidad calculada de acuerdo con la expresi√≥n anal√≠tica anterior.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actualizaci√≥n del valor de feromona</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora hagamos dos cosas. La primera acci√≥n es aumentar el valor de feromona en el borde entre las ciudades a lo largo de las cuales pas√≥ la hormiga. El segundo es la evaporaci√≥n de feromonas en los bordes entre ciudades, que consiste en reducir el valor de las feromonas en relaci√≥n con el tiempo de simulaci√≥n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, para comenzar con la primera acci√≥n, actualizaremos el valor de la feromona de la costilla entre la ciudad en la que se encuentra la hormiga y a la que ir√°. El valor por el cual aumentaremos el valor actual de los bordes de feromonas entre ciudades se calcular√° de manera muy, muy simple. Tomamos nuestro valor inicial m√°ximo del valor de feromona = 1 cu y div√≠dalo por la distancia entre la ciudad en la que se encuentra la hormiga y la ciudad a la que ir√°. En consecuencia, cuanto menor sea la distancia, entre las ciudades, mayor ser√° el valor por el cual se incrementar√° el nivel de feromona de la costilla. ¬øPor qu√© seleccionamos el agente MyAnt en la pesta√±a Proyectos? Usamos el mouse para seleccionar la transici√≥n entre los bloques "City_title" y "Movimiento" y agregamos el siguiente c√≥digo al campo de acci√≥n: "main.matrixF [currentPos] [i] = main.matrixF [currentPos] [i ] + 1 / this.distanceTo (main.myTowns.get (i); ".El resultado debe ser como se muestra en la Figura 26</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wr/zi/jb/wrzijbuaavovmagcktbz4yrhkw0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 26 - Actualice el valor del nivel de feromonas de las costillas por las que pas√≥ la hormiga.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora procedemos al </font><i><font style="vertical-align: inherit;">paso</font></i><font style="vertical-align: inherit;"> 2 y creamos un evento que simular√° la evaporaci√≥n de la feromona en las costillas entre ciudades. Por qu√©, en la pesta√±a de proyectos, seleccione el agente "Principal" y cree all√≠ un par de variables m√°s. El primero es "intensidad": determinar√° la velocidad (intensidad) de evaporaci√≥n de feromona (valor inicial "0.5", tipo "doble"). La segunda "Parte" - caracterizar√° la fracci√≥n por la cual el valor de la feromona en el borde disminuir√° (Valor inicial "0.9", tipo "doble"). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/_8/ly/rh_8lydcrbmm7pkkitihtmsszi4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 27 - Crea las variables "intensidad" y "Parte"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego, tomamos el elemento "Evento" de la "Paleta" de la pesta√±a "Agente" y lo transferimos al agente "Principal" y lo llamamos "evaporaci√≥n": este elemento simular√° la evaporaci√≥n de feromona en los bordes. </font><font style="vertical-align: inherit;">Haga clic con el mouse y en "Propiedades" en el campo "Tipo de evento", seleccione el valor "Con una intensidad dada" en el campo "Intensidad", escriba el nombre de la variable que almacena el valor de intensidad "intensidad". </font><font style="vertical-align: inherit;">El tiempo de respuesta es segundos. </font><font style="vertical-align: inherit;">A continuaci√≥n, agregue el siguiente c√≥digo a la acci√≥n:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;myTowns.size(); j++) {<font></font>
		matrixF[i][j]=matrixF[i][j]*Part;<font></font>
		<span class="hljs-keyword">if</span> (matrixF[i][j]&lt;<span class="hljs-number">0.1</span>) matrixF[i][j]=<span class="hljs-number">0.1</span>;<font></font>
	}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se activa el evento de ‚Äúevaporaci√≥n‚Äù, se actualizar√°n los niveles de feromona en la matriz matrixF. </font><font style="vertical-align: inherit;">Como resultado, deber√≠a poder hacer lo que se muestra en la Figura 28. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qq/p9/dl/qqp9dljysgcl9xg7jvydl74oees.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">28 - Crear el evento de "evaporaci√≥n"</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Determina el ganador</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este paso, agregaremos un c√≥digo que determinar√° el ganador de nuestro marat√≥n de hormigas. El ganador ser√° una de las hormigas que corri√≥ la ruta m√°s corta. Adem√°s de todo, despu√©s del final del marat√≥n, dibujamos esta ruta en la pantalla. Para lograr esto, crearemos tres variables "bestAnt", "bestDistance" y "numberFinish" en el agente "Main". En la variable "bestAnt" almacenaremos el √≠ndice de la hormiga "m√°s r√°pida", el tipo de la variable ser√° "int" y el valor inicial se establecer√° en "-1". En la variable "bestDistance" almacenaremos el valor actual de la mejor longitud de ruta entre ciudades, el tipo de la variable ser√° "doble" y el valor inicial se establecer√° en infinito "infinito". En la variable "numberFinish" almacenaremos el n√∫mero de hormigas que han terminado en nuestro marat√≥n,el tipo de la variable ser√° "int" y el valor inicial es "0" (Fig. 29).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zd/2a/yw/zd2ayw0tmj6_wuft2sl2qz8tevu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">29 - Crear un evento de variables</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A continuaci√≥n, creamos una funci√≥n que, despu√©s de terminar todas las hormigas, dibujar√° las l√≠neas de la mejor ruta entre las ciudades. </font><font style="vertical-align: inherit;">Por qu√© desde la "Paleta" arrastramos al agente "Principal" un elemento con la funci√≥n de nombre. </font><font style="vertical-align: inherit;">Establezca el nombre de la funci√≥n en drawPath y, en la pesta√±a Propiedades, en el campo del cuerpo de la funci√≥n, agregue el siguiente c√≥digo:</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//        </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>; i++) {
	<span class="hljs-comment">//    </span>
	ShapeLine myLine = <span class="hljs-keyword">new</span> ShapeLine();
	<span class="hljs-comment">//            i</span><font></font>
	myLine.setX(myTowns.get(myAnts.get(bestAnt).isVisited.get(i)).getX());<font></font>
	myLine.setY(myTowns.get(myAnts.get(bestAnt).isVisited.get(i)).getY());<font></font>
	<span class="hljs-comment">//            i+1</span>
	myLine.setEndX(myTowns.get(myAnts.get(bestAnt).isVisited.get(i+<span class="hljs-number">1</span>)).getX());<font></font>
	myLine.setEndY(myTowns.get(myAnts.get(bestAnt).isVisited.get(i+<span class="hljs-number">1</span>)).getY());
	<span class="hljs-comment">//    ""</span><font></font>
	myLine.setColor(blue);<font></font>
	<span class="hljs-comment">//   </span><font></font>
	myLine.setLineStyle(LINE_STYLE_SOLID );<font></font>
	<span class="hljs-comment">//   </span>
	myLine.setLineWidth(<span class="hljs-number">1</span>);
	<span class="hljs-comment">//    </span><font></font>
	presentation.add(myLine);	<font></font>
}<font></font>
	<span class="hljs-comment">//           </span>
	ShapeLine myLine = <span class="hljs-keyword">new</span> ShapeLine();<font></font>
	myLine.setX(myTowns.get(myAnts.get(bestAnt).isVisited.get(myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>)).getX());<font></font>
	myLine.setY(myTowns.get(myAnts.get(bestAnt).isVisited.get(myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>)).getY());<font></font>
	myLine.setEndX(myTowns.get(myAnts.get(bestAnt).isVisited.get(<span class="hljs-number">0</span>)).getX());<font></font>
	myLine.setEndY(myTowns.get(myAnts.get(bestAnt).isVisited.get(<span class="hljs-number">0</span>)).getY());<font></font>
	myLine.setColor(blue);<font></font>
	myLine.setLineStyle(LINE_STYLE_SOLID );<font></font>
	myLine.setLineWidth(<span class="hljs-number">1</span>);<font></font>
	presentation.add(myLine);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, deber√≠a poder hacer lo que se muestra en la Figura 29a. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/am/eq/1b/ameq1bhejnkldupsbngygcqqndw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">29a - Crear la funci√≥n "dibujar Ruta"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora volvemos a nuestras hormigas y agregamos un c√≥digo que determinar√° la hormiga del ganador, la longitud de la mejor ruta y dibuja esta ruta entre ciudades. </font><font style="vertical-align: inherit;">Por qu√©, en la pesta√±a "Proyectos", seleccione el agente "MyAnt", luego seleccione el bloque "Todos anulados" y agregue el siguiente c√≥digo al campo "Acci√≥n de inicio de sesi√≥n":</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//    </span><font></font>
main.numberFinish++;<font></font>
<span class="hljs-comment">//      </span>
<span class="hljs-keyword">if</span> (main.bestDistance&gt;distance) {
	<span class="hljs-comment">//           </span>
	<span class="hljs-comment">//      </span><font></font>
	main.bestDistance=distance;<font></font>
	<span class="hljs-comment">//    </span>
	main.bestAnt = <span class="hljs-keyword">this</span>.getIndex();<font></font>
}<font></font>
<span class="hljs-comment">//         Main   </span>
<span class="hljs-keyword">if</span> (main.numberFinish==main.myAnts.size()) main.drawPath();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deber√≠a resultar como se muestra en la Figura 30. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/68/ss/7c/68ss7cvbvbfbwkz26u6abdvwit8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">30 - Agregar l√≥gica al bloque "Todos anulados".</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Luego puede presionar "F5" y ejecutar el modelo. </font><font style="vertical-align: inherit;">Las hormigas correr√°n en busca de rutas, y cuando las ciudades terminen, la l√≠nea azul se conectar√°, que es la mejor ruta.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agregar un histograma al modelo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que el modelo se vuelva m√°s cient√≠fico, debe agregar un gr√°fico. Por lo tanto, agregaremos no solo un gr√°fico y un histograma que nos mostrar√° la distribuci√≥n de la longitud de las rutas que las hormigas han superado. ¬øPor qu√© en la pesta√±a "Proyectos", seleccione el agente "Principal" y vaya a su espacio. Adem√°s, en la "Paleta" vamos a la pesta√±a "Estad√≠sticas" y de all√≠ al agente "Principal" transferimos el elemento "Datos de histograma" y directamente el "Histograma" mismo. Luego seleccionamos los histogramas con el mouse y en la pesta√±a "Propiedades", en el campo "Datos", especificamos el nombre de nuestros "Datos de histograma", es decir "Datos". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deber√≠a resultar como se muestra en la Figura 31 </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7v/bz/6i/7vbz6ikwgs7t0iintfnp2jz6wyw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. 31 - Construyendo un horario</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de lo cual nuevamente tendremos que volver a nuestra hormiga y hacer que llene el "Histograma" con los valores de la longitud de la ruta. </font><font style="vertical-align: inherit;">Por qu√©, en la pesta√±a de proyectos, seleccione el agente "MyAnt" y vaya a su espacio. </font><font style="vertical-align: inherit;">Luego, seleccione el bloque "All Bypass" y agregue una l√≠nea "main.data.add (distance);". </font><font style="vertical-align: inherit;">Deber√≠a resultar como se muestra en la Figura 32. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bf/wa/zl/bfwazly38mrpwolpx4awmowj10o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">32 - Construyendo un gr√°fico</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Luego, presione "F5" y proceda a estudiar el comportamiento del algoritmo de hormigas. </font><font style="vertical-align: inherit;">Deber√≠a resultar algo, algo como se muestra en la Figura 33. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3w/8w/is/3w8wissyoccebi-8ona5px-cop0.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">33 - Modelado</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y al final, recomiendo agregar m√°s imprevisibilidad al modelo. </font><font style="vertical-align: inherit;">Para esto, en la pesta√±a "Proyectos", seleccione el elemento "Simulaci√≥n: Principal" con el mouse y establezca el par√°metro "Aleatoriedad" en "N√∫mero inicial aleatorio (ejecuciones √∫nicas)" en la pesta√±a de propiedades; esto har√° que cada lanzamiento de modelo sea √∫nico (Fig. 34). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ie/ow/i6/ieowi6e32wykpsao8owpxbwzwzu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">34 - Hacer carreras aleatorias ¬°</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gracias por su atenci√≥n! </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El c√≥digo fuente se puede descargar desde GitHub</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es500978/index.html">Retrays retrasados ‚Äã‚Äãpor RabbitMQ</a></li>
<li><a href="../es500980/index.html">Brain rx</a></li>
<li><a href="../es500984/index.html">Bad Apple o Happy Radio Day, geeks</a></li>
<li><a href="../es500986/index.html">Monitoreo en el centro de datos: c√≥mo cambiamos el viejo BMS a uno nuevo. Parte 3</a></li>
<li><a href="../es500992/index.html">¬øC√≥mo es la gesti√≥n del rendimiento en las mejores empresas de TI?</a></li>
<li><a href="../es500996/index.html">C√≥mo convertirse en ingeniero de DevOps en seis meses o incluso m√°s r√°pido. Parte 1. Introducci√≥n</a></li>
<li><a href="../es501000/index.html">Generaci√≥n de c√≥digo en Go con el ejemplo de crear un cliente para la base de datos</a></li>
<li><a href="../es501002/index.html">Umka: nuevo lenguaje de script est√°ticamente tipado</a></li>
<li><a href="../es501004/index.html">Hazlo. Trabajo</a></li>
<li><a href="../es501006/index.html">Somos amigos STM32 con pantalla LCD 1604 en bus I2C (biblioteca HAL)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>