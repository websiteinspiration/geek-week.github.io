<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♓️ 🎥 🔒 Power BIでレポートを作成するときにエラーを回避し、ビッグデータのアップロードシステムを構築する方法 🙇🏾 🛬 🦈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="多くの場合、美しく理解しやすいPower BIダッシュボードの背後には、何週間もの準備とデータマイニングがあります。特に、毎月数千万人の訪問者がいる大規模な組織で有用なBIレポートを作成する場合は、
 
 この記事では、多くの企業（ロシアのeコマース、保険会社などの大規模な代表者）のWeb分析システ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Power BIでレポートを作成するときにエラーを回避し、ビッグデータのアップロードシステムを構築する方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/agima/blog/492204/"><img src="https://habrastorage.org/webt/2d/wo/vr/2dwovr1h5boyixwojsztgjctksk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの場合、美しく理解しやすいPower BIダッシュボードの背後には、何週間もの準備とデータマイニングがあります。</font><font style="vertical-align: inherit;">特に、毎月数千万人の訪問者がいる大規模な組織で有用なBIレポートを作成する場合は、</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、多くの企業（ロシアのeコマース、保険会社などの大規模な代表者）のWeb分析システムからのデータに基づいてBIレポートを作成するときに遭遇したいくつかの否定的な側面について説明します。</font><font style="vertical-align: inherit;">この記事は、特定のツールや決定を宣伝すること、またはその逆を宣伝することを目的としていません。</font><font style="vertical-align: inherit;">これは、他のユーザーにとって起こりうるネガティブな瞬間を回避し、解決策のオプションを示すために用意されています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免責事項</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は大量のデータについて話し、Googleアナリティクス360からのアップロードとサンプリングの例を示しています。データが少量のプロジェクトでは、そのような困難は存在しない可能性があります。</font><font style="vertical-align: inherit;">私は実際に特定されたすべての問題に遭遇し、記事では解決における私の経験のみを説明します-あなたの問題は完全に異なる可能性があります。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Metricaへのコネクター</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandex.Metricaは、Google Analyticsと比較して、より穏やかなサンプリング条件と直感的なインターフェースを備えています。したがって、多くのマーケティング担当者はYandex.Metricaを好み、そこからのデータアップロードに関するBIレポートを作成します。これを行うには</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Maxim Uvarov </font><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">コネクタを</font></a><font style="vertical-align: inherit;">使用し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。この方法は安全ではなく、複雑な要求を処理することはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大企業は機密情報が中傷者の手に渡らないことを保証する必要があり、財務指標は利害関係者にのみ使用され、社内でのみ使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の大きなマイナス点は、コネクタを使用するために、Power BIで[プライバシーレベルを無視する]設定を有効にする必要があることです。それ以外の場合は機能しません。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ty/pg/eb/typgebof8euu4d6s2pgljyfqs4k.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、機密データが不正なユーザーの手に渡る可能性があります。これは、Power BIヘルプからの抜粋によって確認されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/2j/86/xd2j860l6kp0j7wuswlge0jor3u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データ接続は匿名です。ただし、実際に許可されているユーザーに対して、このデータを使用するための許可やチェックはありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gd/b3/dn/gdb3dni9wi_kxd27btthfhuk5h0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのコネクタが機能するには、oauthアクセストークンを取得する必要があります。コネクタの説明には、アプリケーションにアカウントへのアクセス権を付与する方法に関するリンクがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-y/nq/gx/-ynqgxssteulef1kedj3smcflkk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、サードパーティのアプリケーションがあなたのアカウントにアクセスできるようになります。データの安全性を保証する人はいません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tm/ux/23/tmux237gyybnovyelwetareee4g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のマイナス点は、Yandex.Metrica APIが大規模なプロジェクトで大量のデータを処理できないため、コネクタが未処理のYandex.Metricaデータに対する複雑なクエリの処理を拒否することです。これらのデータはアンロードされません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、複雑なフィルターなしで1年間のデータをアップロードする必要があります。コネクタはエラーをスローします。「リクエストが複雑すぎます。日付間隔またはサンプリングを減らしてください。」</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xs/vx/fi/xsvxfi4zsihgayia1fo87_pbj88.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、これはYandex.Metrica API自体のエラーの翻訳です。ただし、この場合、月ごとまたは日ごとの内訳付きでデータをダウンロードすることはできません。たとえば、月ごとのデータを循環させ、それらをAPIエラーを克服する単一のデータセットに結合します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
期間を大幅に短縮すると、APIを使用してデータをポンプすることができますが、これは必要なもののほんの一部にすぎません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/gd/6q/xdgd6qonfgcyjthxhjj65_ophyu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大きなレポートを作成するには、短期間のアンロードは非現実的で不便です。</font><font style="vertical-align: inherit;">実際には、多くの場合、1日あたりの訪問数が非常に多い複雑なオープンサイトの目標到達プロセスを介してアンロードする必要があります。</font><font style="vertical-align: inherit;">特に複雑な訪問セグメントを使用する場合、必要なデータをアップロードすることは事実上不可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データをロードできたとしても、さまざまなロードエラーがときどきポップアップするため、データモデルにアップロードしてレポート自体を構築することは不可能ではありません。</font><font style="vertical-align: inherit;">何らかの理由で、正常にロードされたテーブルであっても、エラーが発生します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wk/9d/u8/wk9du8sdgpdqe1gb7cr-n2uk6_8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
社内のすべての関係者がYandex.Metrica APIコネクタで構築されたレポートを使用できるようにするには、PowerBIサービスでレポートを公開する必要があります。</font><font style="vertical-align: inherit;">この場合、プライバシーレベルも無視する必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qc/dg/i8/qcdgi8gck0lkcdp-t--vedkmuiw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
視覚化が構成され、レポートがMicrosoftクラウドで公開されると、コネクターは複合クエリエラーを表示し、Power BIサービスを通じて更新されません。レポートのスケジュールされた更新を構成することはできません。エラーは、最終的なアップロードテーブルを形成するクエリの1つに、外部クエリと内部クエリとの同時作業のロジックが含まれている場合に発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーでは、「呼び出された関数」の</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0-/ci/rt/0-cirtjh6ifdkpe-ajduldxstsc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表が</font><font style="vertical-align: inherit;">示されています。</font><font style="vertical-align: inherit;">この表は、外部データソース-Yandex.Metrica APIで機能するPQYM関数により取得されたものです。 Power BIのレポート更新メカニズムが機能せず、クエリの組み合わせをやり直すように求められます。これは、外部リクエストに接続する1つのリクエストの内部リンクと、関数自体の構造によるものです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/lv/mb/vvlvmbnqatqohghiivpcofsgxze.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レポートの作成時にこのようなコネクタを使用しないことを決定し、Pythonスクリプトを介してYandex.Metrica APIからデータをアンロードするように切り替えました。これについては、記事の後半で詳しく説明します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleアナリティクスコネクタ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Analyticsデータ（分析システムからの直接ダウンロードについて話している）のレポートを作成するために、</font><font style="vertical-align: inherit;">Maxim Uvarov </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コネクタ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もあり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、「プライバシーレベルを無視する」も設定する必要があります。オンライン販売に関するデータを含む分析システムのAPIへのアクセスは、匿名接続で行われます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/ke/x1/pwkex1vkvifxlkqne2kbvo0pvsy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
指示に従い、データのプライバシーに対する脅威が含まれているGoogleアカウントに対してのみ、サードパーティアプリケーションへのアクセスを開く必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/qr/0f/zxqr0fyqjpqp_6umz9y_o5_i83a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コネクタ自体の一部のデータを書き換えて、独自のアプリケーションで使用し始めることができます。これを行うには、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">cloud.google.comで</font></a><font style="vertical-align: inherit;">「OAuth 2.0クライアントID」を登録し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、アクセストークンを取得し、その動作メカニズムで必要なアクセスキーを入力します。ただし、これらのアクションでさえ、レポートのサンプリングと更新との戦いには役立ちません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Analytics APIの集計データに触れるたびに、常にサンプリングが発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コネクタには1日アンロードするオプションがありますが、常に保存されるとは限りません。コネクタに組み込まれているサンプリングインジケータは、1日でもあることを示しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/kj/5l/dkkj5lp-e3zi8drcbylxc1hzmjk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、ショッピングステージ別に分類されたセッションデータは、そのような量のデータをサンプリングしないとアップロードできません。これは、特にレポートを作成するとき、あるステップから別のステップへの遷移の変換を正確に計算する必要がある場合、またはセグメントの構造が複雑なファンネルにデータをアップロードする必要がある場合、データと測定で大きなエラーにつながります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データの損失が重要ではない場合でも、Power BIサービスを使用してレポートのスケジュールされた更新を構成することはできません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sh/5q/61/sh5q61niklucdiieoedjfltnp3c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作業メカニズムの同じエラーが干渉し、PQGA関数のみが干渉します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/k0/ft/uy/k0ftuyqfzkqptqvupuotawgo1my.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、このコネクタでの作業も拒否しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleアナリティクスネイティブコネクタ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GoogleとMicrosoftは互いに譲歩し合うことがあります。PowerBIには、標準のGoogleアナリティクスコネクタが付属しています。</font><font style="vertical-align: inherit;">残念ながら、Yandex.Metricaにはそのようなオプションはありません。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xl/hk/po/xlhkpo-a4h95gz-nksi6ws_613k.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、Google Analytics APIを使用するメカニズムがMaxim Uvarovコネクタよりも便利に実装されていますが、同時に多数のインジケーターがアンロードされ、データが過度にサンプリングされています。</font><font style="vertical-align: inherit;">スクリーンショットの繰り返し番号は、サンプリングされたデータです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lw/ba/n_/lwban_daksuitnrmfw5sihfjqpm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
日付と任意の1つのインジケーターのみで分類されたミニテーブルをアップロードすると、サンプリングを回避できます。たとえば、日付、セッション数、デバイスタイプなどです。そして、これらのテーブルから必要なレポートを収集します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何百万ものトラフィックがない場合は、これが役立つことがあります。ただし、レポートは有益ではなく、スケーラビリティに制限があります。データモデルには多数のミニテーブルがあるため、それらの間の関係を作成することは困難です。これは、フィルターとスライスの作成に制限を課します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
標準コネクタを書き換えて、毎日データをアップロードするように強制できます。その間、データはGAインターフェースの実際の数値に近くなりますが、サンプリングを回避することはできません。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/br/oc/fg/brocfgwihu2rpcqfjrdmhsvbsdc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の観察によれば、Shopping Stageセッションの詳細では、単一のコネクターが大量のデータをサンプリングせずにデータを正常にアップロードすることはできませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
標準コネクタでは、ダウンロード日をカスタマイズすることはできません。</font><font style="vertical-align: inherit;">これは、フォルダに配置されたGoogleアナリティクスAPIからのパラメータと指標の選択だけです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/he/_n/tt/he_ntt6qogkz6vm-3mjnbmn0rya.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコネクタは、トラフィックが少ない中小規模のインターネットプロジェクトに適しています。</font><font style="vertical-align: inherit;">ここでは、Yandex.Metricaからデータを取得するときに同様の状況が発生します。</font><font style="vertical-align: inherit;">正確さを失わずに必要なすべての情報は、スクリプトまたは特別なデータストリーミングサービスを使用してAPIを介してのみ直接ダウンロードできます。詳細については、記事の後半で説明します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GoogleによるWheels in Wheels</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近、奇妙なロックに気づきました。Googleアナリティクスの「ネイティブ」コネクタの更新を設定しようとすると、Power BIサービスインターフェイスのGoogleアカウントを通じて認証エラーが表示されました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o0/wt/yr/o0wtyrw-caxzwahcpjjb_pgfrbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような状況で何をすべきか、そしてアカウントの評判を「ホワイトウォッシュ」する方法をGoogleから見つけようとしましたが、私たちの試みは失敗しました。新しいアカウントを登録してさまざまなデバイスからログインしようとしました-Googleは承認の試みをブロックしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブロックの約1か月後も、同じアカウントを使用してログインできましたが、このようなインシデントにより、必要なBIレポートの予定どおりのリリースが大幅に妨げられ、顧客が厄介な立場に置かれる可能性があります。</font><font style="vertical-align: inherit;">ロックの直後、私たちは状況からの可能な方法を探し始めました。</font><font style="vertical-align: inherit;">予期しないロックを回避するために、BIレポートに必要なデータを使用して独自の制御された環境を作成することにしました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューションオプション</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
中規模から大規模の組織に必要なBIレポートを取得します。サンプリングを行わなくても可能です。</font><font style="vertical-align: inherit;">しかし、少し試して、いくつかの方法のいずれかを選択する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データのストリーミングに既製のサービスを使用できます。</font><font style="vertical-align: inherit;">主な目的は、分析システム、さまざまな広告システム、CRM、その他のサービスから任意のストレージにデータをアップロードすることです。</font><font style="vertical-align: inherit;">便利で高速かつ実用的ですが、無料ではありません。</font><font style="vertical-align: inherit;">大量のデータまたは複数のソースを持つデータでは、量は具体的です。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最も有名なサービス：</font></font></b><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renta.im</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OWOX BI Pipeline</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myBIコネクト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの各システムでは、Web分析システム（Yandex.MetricsおよびGoogle Analytics）からデータベース（BigQuery、Azure SQL Database、Microsoft SQL Server、ClickHouseなど）への非サンプリングデータの毎日のストリーミングを構成して、Power BI経由で接続し、レポートを作成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のツールで会社のコストが高すぎる場合は、データアップロードシステムを実装して、Power BI + Python +任意のクラウドサーバー（またはYandex.Cloud）+ PostgreSQLを使用してみてください。これは、BIレポートを作成するときに使用する方法です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システム相互作用スキーム：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kb/iu/um/kbiuumx6q6a_k5wxdq1g78ukehg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような作業スキームは、必要な保存、自律性、およびデータの集約を提供します。このようなスキームを一度確立すれば、情報収集に時間を無駄にする必要はありません。すべてがリポジトリにあり、接続してPower BIに関するレポートの作成を開始するだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pythonスクリプトは、必要なソースからAPIに従ってすべてのデータを「プル」し、データベースに書き込むか、フォームのアンロード（csv形式など）を行います。 APIからアップロードしてデータベースにロードするためのスクリプトは別の記事に値するので、いつか私はそれを書きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、インターネットには多くのテンプレートと既製のソリューションがありますが、さらにスケーリングするには、アンロード用のスクリプトが作成されるシステムの個々のニーズを知る必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データは、事前に作成および構成されたデータベース（この場合はPostgreSQL）に書き込まれます。</font><font style="vertical-align: inherit;">スクリプトは毎日のデータを取り出し、スケジュールに従ってテーブルに書き込みます。</font><font style="vertical-align: inherit;">これらは、当社の管理下またはクライアントのITセキュリティサービスの管理下にあるクラウドサーバー上にあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラウドストレージサービスを提供する企業は多数あります。</font><font style="vertical-align: inherit;">個人の好みに基づいて、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex。Cloud</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が選択されました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Cloudの利点：</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレインストールされたPostgreSQLによる便利な構成とサーバーのレンタル。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロシア語の詳細なドキュメント。明確に記述されており、サービスの使用方法をすばやく学ぶことができます。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">便利なサーバー管理。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">専門家の迅速なサポート。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さまざまな機器の設定と料金の柔軟性：既成の設定パッケージを誰も課さず、機器の設定を自分で選択し、さらにデータベースのプリセットをすぐに注文できます。</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yt/f6/_-/ytf6_-9xrfcobvmfbwaajwyl8bm.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果のアップロードは、PostgreSQLデータベースに書き込まれます。</font><font style="vertical-align: inherit;">このデータベースが選択されたのは、それがオブジェクトリレーショナルDBMSであるためです（「ボックス」からの多次元配列とJSONサポートの操作-複雑なデータ構造には必須）。</font><font style="vertical-align: inherit;">柔軟性があり、信頼性が高く、無料で、巨大なサポートコミュニティもあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Power BIには、PostgreSQLに直接コネクターが組み込まれています。</font><font style="vertical-align: inherit;">最初の接続時に、追加の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Npgsql</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をインストールする必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Power BIはこれを通知し、リンクを提供します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ju/n_/wf/jun_wfcjtsnm0khj3wf9pzj8h2s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラウドストレージの使用時にレポートの更新を構成するには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BI Gatewayを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成する必要があります</font><font style="vertical-align: inherit;">。組織の内部IT回路または安全なクラウドサーバーに配置する必要があるデータベースからデータを転送するときに、BIレポートの更新を構成し、機密データのセキュリティを確保する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲートウェイは、組織の内部ネットワークにあるデータストアとMicrosoftクラウドサービスとの間の高速で安全なデータ転送を提供します。 Power BIとゲートウェイ間のデータ転送は安全であり、ゲートウェイ管理者によって提供されるすべての資格情報はクラウド内の情報を保護するために暗号化され、ゲートウェイコンピューター上でのみ復号化されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mm/hd/re/mmhdrebvglgmfz1zfbncjck835w.png"></div><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BI Gateway</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">
ダウンロード</font><font style="vertical-align: inherit;">して起動すると、ダイアログボックスが表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/or/q7/4z/orq74zn_gyemebomwqxzfxcwkfu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲートウェイを登録して操作するには、Power BI Serviceクラウドサービスの資格情報が必要です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/4z/pq/ft/4zpqft8l1urixndm8dfndrrje4s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての設定が完了すると、稼働中のゲートウェイに関するウィンドウが表示されます。</font><font style="vertical-align: inherit;">次に、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">追加の設定</font></a><font style="vertical-align: inherit;">を行う必要があり</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/mb/t2/swmbt2b7ldkzf42k56px-ucc4re.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PostgreSQLをカスタマイズするより簡単な方法は、Google BigQueryです。</font><font style="vertical-align: inherit;">Power BIには、Google BigQueryに組み込みのコネクタがあります。</font><font style="vertical-align: inherit;">この場合、「費用を計算するために7回、要求を満たすために1回」という原則に従う必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3m/gv/7a/3mgv7a-1zf0i3g8oxj-jiabgke4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BigQueryは、サービスの使用に同意して銀行カードを結ぶだけで、1年間無料で使用できます。</font><font style="vertical-align: inherit;">あなたの知識のない締め切り後のお金は引き落とされません。</font><font style="vertical-align: inherit;">追加料金-システム自体の料金によるが、いくつかの楽しい「プラス」があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムからダウンロードしたデータが1か月あたり10 GB（！）に達しない場合、ダウンロードは無料です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bg/il/hj/bgilhj19p3rswgrnp5co7lw75dq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
毎月のデータ処理が1 TBを超えない場合も、この料金はかかりません。</font><font style="vertical-align: inherit;">それ以上の場合、治療ごとに5ドル1 TB。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ff/gk/4l/ffgk4l0whznxxacywqupqmuht1i.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1か月あたり10 GBを超える容量を保存する必要がある場合、後続のギガバイトごとに0.010ドルかかります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lh/bn/7z/lhbn7zv038ot99ogeahedobx5bc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
料金については</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、BigQueryページで</font></a><font style="vertical-align: inherit;">詳しく説明し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ています。</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまな分析システムからのデータが必要であり、同時に安全性、セキュリティ、継続的な集計、使いやすさ、サンプリングの欠如が基本である場合、2つの方法があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つはストリーミングサービスです。</font><font style="vertical-align: inherit;">それらは使いやすく、継続的な技術サポートとデータウェアハウスとの既製の統合があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短所：</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大量のデータに対する具体的なコスト。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限定されたタイプの統合が提供されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリーミングサービスプロバイダー側​​の制御されていないプロセスで、情報を操作します。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つ目は、独自のデータアップロードおよび集約ストリームです。データのセキュリティを備えた、スケーラブルで管理された。実装するのは複雑で時間がかかるようです。会社がBIレポートの効果的な組織、そのさらなる拡張性とデータセキュリティを必要とする場合、このオプションが最も受け入れられます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本格的なBIレポートについて考えているだけの人は、「これらのデータを若者から蓄積、構造化、保護する」というモットーを企業文化に加える必要があります。定期的なバックアップと、さまざまなカテゴリの利害関係者にそれを使用する差別化された権限を備えた、本格的なフォールトトレラントデータベースに勝るものはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析システム、モバイルアプリケーション、および他のクライアントサービスからのデータを蓄積、構造化、集約する必要があります。</font><font style="vertical-align: inherit;">将来的には、これはすべてのセクションでオーディエンスと製品の両方を分析するのに役立ちます。</font><font style="vertical-align: inherit;">情報とデータは今や世界を支配し、時にはお金以上のコストがかかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事に記載されているアプローチをPythonスクリプトを使用してPostgreSQLデータベースに転送する方法と実装の詳細を実装する方法については、次の記事で説明します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja492190/index.html">ロシアのSaaS 2019-結果</a></li>
<li><a href="../ja492192/index.html">ポケットエクセレンスを求めて</a></li>
<li><a href="../ja492194/index.html">すぐに高級車を盗むためにワイヤレスデバイスを売っている男に会います</a></li>
<li><a href="../ja492200/index.html">テストの自動化：JavaまたはPython？</a></li>
<li><a href="../ja492202/index.html">コロナウイルスCOVID-19：事実のみ、パニックなし</a></li>
<li><a href="../ja492210/index.html">Infinidatストレージアーキテクチャの技術概要</a></li>
<li><a href="../ja492212/index.html">オープンソースソフトウェア上のポータルのフロントエンド開発：経験を共有する</a></li>
<li><a href="../ja492214/index.html">歩きながら会議をする価値があるのはなぜですか？マフィアによって確認された、科学によって証明された</a></li>
<li><a href="../ja492216/index.html">ビルド段階で.Netアプリケーションに値を保存する</a></li>
<li><a href="../ja492218/index.html">覚えておくべきアイコンのデザインルール</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>