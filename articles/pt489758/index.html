<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçü§ù‚Äçüë®üèΩ ü§ó üëàüèΩ Angular: um exemplo de uso do NGRX üë©üèª‚Äçü§ù‚Äçüë®üèΩ üë©üèæ‚Äçüé® üôéüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo √© uma continua√ß√£o do post "Angular: uma introdu√ß√£o √† NGRX".
 
 Exemplo NGRX
 No nosso exemplo, haver√° uma lista de usu√°rios, uma p√°gina de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Angular: um exemplo de uso do NGRX</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489758/"><img src="https://habrastorage.org/webt/rz/7h/ee/rz7heen5ey-lo47udm7sn4owfzg.png" alt="imagem"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artigo √© uma continua√ß√£o do post </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Angular: uma introdu√ß√£o √† NGRX".</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo NGRX</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No nosso exemplo, haver√° uma lista de usu√°rios, uma p√°gina de detalhes do usu√°rio e algumas informa√ß√µes de configura√ß√£o inicial que voc√™ deve obter ao iniciar o aplicativo. </font><font style="vertical-align: inherit;">Vamos implementar alguns threads importantes do NGRX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plano de a√ß√£o:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instala√ß√£o da biblioteca</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando uma estrutura de pastas para armazenamento </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cria√ß√£o de armazenamento e valores iniciais</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando a√ß√µes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando caixas de engrenagens (redutores)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando efeitos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando seletores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configura√ß√£o final</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando armazenamento em componentes</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, vamos faz√™-lo ...</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instala√ß√£o da biblioteca</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos usar o Angle Cli para criar o projeto e, em seguida, adicionaremos as bibliotecas do ngrx. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crie um projeto:</font></font><br>
<br>
<pre><code class="bash hljs">ng new angular-ngrx --style=scss</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicione as bibliotecas NGRX necess√°rias:</font></font><br>
<br>
<pre><code class="bash hljs">npm install @ngrx/core @ngrx/store @ngrx/effects @ngrx/store-devtools @ngrx/router-store --save</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instalamos quase todas as bibliotecas do ecossistema ngrx. </font><font style="vertical-align: inherit;">A maioria deles descreve claramente seu objetivo: n√∫cleo, armazenamento, efeitos, mas h√° alguns para os quais voc√™ pode se perguntar por que eles s√£o necess√°rios?</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">store-devtools</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Uma poderosa ferramenta de depura√ß√£o.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router-store</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Salva o estado do roteador angular no armazenamento.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estrutura de pastas para armazenamento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar discutindo a estrutura de arquivos do reposit√≥rio. </font><font style="vertical-align: inherit;">Essa estrutura de arquivos e toda a configura√ß√£o de armazenamento devem existir no m√≥dulo principal do seu aplicativo, mas no nosso exemplo ele est√° ausente, portanto o armazenamento existir√° no m√≥dulo principal do nosso aplicativo (as etapas s√£o quase as mesmas se voc√™ fizer isso no m√≥dulo principal). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j2/pu/w_/j2puw_y4zbz0o1n1yemhvo9_ie0.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A estrutura da pasta √© uma representa√ß√£o da composi√ß√£o de armazenamento real. </font><font style="vertical-align: inherit;">Voc√™ ter√° uma pasta principal com o nome "loja" e cinco subpastas que representam cada um dos principais players da loja: "A√ß√µes", "Efeitos", "Efeitos", "Redurs", "Seletores" e "Estado".</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cria√ß√£o de armazenamento e valores iniciais</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como mencionamos anteriormente, teremos duas se√ß√µes principais: nosso aplicativo, usu√°rios e configura√ß√£o. </font><font style="vertical-align: inherit;">Para os dois, precisamos criar um estado e um estado inicial e tamb√©m fazer o mesmo para o estado do aplicativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criamos duas interfaces para defini√ß√£o e configura√ß√£o do usu√°rio. </font><font style="vertical-align: inherit;">Tamb√©m temos um para a resposta HTTP do usu√°rio, √© apenas uma matriz IUser. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/by/u-/01byu-tmzaa4tzpxzbr6ezfax5y.jpeg" alt="imagem"><br>
<br>
<img src="https://habrastorage.org/webt/hp/m7/l1/hpm7l1osf9nrlyjesvju9c33mxm.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar com o estado do usu√°rio (store / state / user.state.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i9/pl/l-/i9pll-liw2wtmhlnuas8b1n0dzy.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que estamos fazendo aqui:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criamos e exportamos uma interface com uma estrutura de ambiente do usu√°rio.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazemos o mesmo com o estado inicial do usu√°rio, que implementa a interface rec√©m-criada.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o estado de configura√ß√£o, fazemos o mesmo (store / states / config.state.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/88/tb/xm/88tbxmezhb0cau7fbbrzv6kevi8.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, precisamos gerar o estado do aplicativo (store / states / app.state.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/in/mt/-t/inmt-tcdv5300xnatjpq9bix9os.jpeg" alt="imagem"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O estado do aplicativo cont√©m o estado e a configura√ß√£o do usu√°rio, bem como o estado do roteador.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, definimos o estado inicial do aplicativo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por fim, exporta a fun√ß√£o para obter o estado inicial (vamos us√°-lo mais tarde).</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando a√ß√µes</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia a defini√ß√£o de a√ß√£o que discutimos no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Precisamos criar a√ß√µes para usu√°rios e configura√ß√µes. </font><font style="vertical-align: inherit;">Vamos come√ßar com as a√ß√µes do usu√°rio (store / actions / user.actions.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bj/34/rb/bj34rbgqv70s0mbqidrxbadtchk.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos percorrer um pouco o c√≥digo:</font></font><br>
<br>
<ol>
<li>  Enum,     .  ,          , ,     .</li>
<li>          .      Action  ngrx. ,        ,        ,      .</li>
<li>,   ,    .     ,    , ,   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E √© tudo ... criar a√ß√µes √© f√°cil. </font><font style="vertical-align: inherit;">Vamos ver como s√£o as a√ß√µes de configura√ß√£o (store / actions / config.actions.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/ay/ew/lcayewp9ls8yumaflh3wybi2tuc.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nada de novo aqui, voc√™ provavelmente agora se sente confort√°vel com tudo o que acontece neste arquivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√ìtimo, j√° determinamos o status e as a√ß√µes ... vamos criar engrenagens!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando caixas de velocidades</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certifique-se de ler a defini√ß√£o de caixas de velocidades que discutimos em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teremos caixas de velocidades que respondem a algumas a√ß√µes, porque outras ser√£o tratadas pelos efeitos que iremos implementar mais tarde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos precisar de um redutor para usu√°rios e outro para configura√ß√£o, mas tamb√©m precisamos gerar redutores de aplicativos. Vamos come√ßar examinando redutores de usu√°rios (store / redurs / user.reducers.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ju/4j/7y/ju4j7ytjci0hkzq9zeceffolc-s.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos discutir a implementa√ß√£o:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma declara√ß√£o redutora recebe um estado e, nesse caso, uma a√ß√£o do usu√°rio e retorna um IUserState.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando a instru√ß√£o switch, geramos observa√ß√µes para cada tipo de a√ß√£o poss√≠vel.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada caso retorna um novo objeto, que √© o resultado da fus√£o do estado antigo e do novo valor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todas as caixas de velocidades t√™m um resultado padr√£o, que simplesmente retorna o estado sem nenhuma altera√ß√£o.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E √© tudo. </font><font style="vertical-align: inherit;">Voc√™ n√£o encontrar√° mais nada na caixa de velocidades. </font><font style="vertical-align: inherit;">Vamos dar uma olhada nos redutores de configura√ß√£o (state / redurs / config.reducers.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/ky/3m/ouky3m_fpspiahaj5j4sgf5owvk.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, vamos dar uma olhada nos redutores de aplicativos (loja): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/66/hg/ej66hgbbt97ljvpbqs728feti9g.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui, adicionamos todos os redutores ao mapa de redutores do aplicativo. </font><font style="vertical-align: inherit;">Usamos um mapa redutor de a√ß√£o para verifica√ß√£o de tipo adicional. </font><font style="vertical-align: inherit;">Mais tarde, forneceremos a esse aplicativo redutores para o m√≥dulo de armazenamento.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicionar efeitos</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia a defini√ß√£o de "Efeitos", discutida em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ provavelmente j√° percebeu que nas caixas de velocidades n√£o processamos todas as a√ß√µes. </font><font style="vertical-align: inherit;">Isso ocorre porque vamos lidar com a√ß√µes perdidas em efeitos, porque essas a√ß√µes t√™m efeitos colaterais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar com efeitos personalizados (store / effects / user.effects.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2n/bk/2c/2nbk2cyc2d_rlrasu6cdi0qjyps.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muito do que acontece neste arquivo. </font><font style="vertical-align: inherit;">Vamos tentar explic√°-los:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Declaramos nossos efeitos personalizados usando um decorador de inje√ß√£o.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Declaramos nossos efeitos usando o decorador de efeitos fornecido pelo ngrx / Effects.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando as a√ß√µes fornecidas pelo ngrx / Effects, iniciaremos o pipeline do nosso operador para esse efeito.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A pr√≥xima etapa √© definir o tipo de a√ß√£o de efeito usando o operador ofType.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As partes a seguir s√£o os operadores rxjs que usamos para obter o que precisamos (j√° temos um link para a documenta√ß√£o rxjs neste artigo).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente, na √∫ltima declara√ß√£o, o Effect enviar√° outra a√ß√£o.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No construtor, implementamos os servi√ßos que vamos usar, a√ß√µes para o ngrx / Effects e, neste caso, tamb√©m o reposit√≥rio (observe que esta √© uma demonstra√ß√£o e obtemos o usu√°rio selecionado da lista de usu√°rios em nosso reposit√≥rio).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta √© quase a mesma estrutura que voc√™ ver√° com qualquer efeito. </font><font style="vertical-align: inherit;">Nesse caso, enviamos apenas uma a√ß√£o bem-sucedida, mas podemos enviar erros ou qualquer outro estado que desejemos processar em nossos redutores de aplicativos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere os efeitos de configura√ß√£o (store / effects / config.effects.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/vy/xo/rgvyxoxw13yif9tlsok083hyfhu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora √© hora de falar sobre seletores ...</font></font><br>
<br>
<h3> </h3><br>
<blockquote>   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>.</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o faz sentido repetir as fatias do nosso estado em todos os lugares, ent√£o vamos criar alguns seletores que podemos reutilizar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como sempre, vejamos primeiro os seletores de usu√°rio (store / selectors / user.selectors.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h9/ki/nj/h9kinj8iveawvqfcy2ax6cbi_wu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
isso √© realmente compreens√≠vel, porque n√£o fazemos nenhuma transforma√ß√£o de dados em nossos seletores, mas simplesmente retornamos a fatia da loja referenciada pelo seletor usando a fun√ß√£o createSelector a partir do ngrx / store. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro par√¢metro √© um fragmento do armazenamento que ser√° usado para receber dados (pode ser uma matriz com v√°rias partes do estado), o segundo par√¢metro √© uma fun√ß√£o an√¥nima que decide o que o seletor retornar√°.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vejamos os seletores de configura√ß√£o (store / selectors / config.selectors.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rf/x3/sy/rfx3syjbo0zah5fkr3d5lyxm-6o.png" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configura√ß√£o final</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, criamos tudo o que nosso armazenamento precisa, mas ainda falta uma coisa: juntar tudo. </font><font style="vertical-align: inherit;">Eu vou fazer isso no m√≥dulo de aplicativo, mas voc√™ pode aplicar o mesmo no m√≥dulo principal do seu aplicativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos adicionar um m√≥dulo de aplica√ß√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/bv/op/afbvopehkmcitmm2xps9ch8mwdy.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que fizemos aqui:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importamos nossas caixas de velocidades e as fornecemos no m√≥dulo de armazenamento forRoot.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importamos nossos efeitos e os fornecemos dentro da matriz no m√≥dulo de efeitos forRoot.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definimos a configura√ß√£o do m√≥dulo de estado do roteador que fornece o roteador stateKey.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E adicionamos ferramentas de desenvolvedor de loja se o ambiente n√£o for produ√ß√£o.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os dois primeiros passos s√£o necess√°rios, enquanto os passos 3 e 4 s√£o altamente recomendados, mas n√£o s√£o necess√°rios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora finalmente terminamos ... podemos usar nosso armazenamento em componentes!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uso de armazenamento em alguns componentes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos chegando ao fim! </font><font style="vertical-align: inherit;">Vamos ver como usar nosso armazenamento ... </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro, vamos obter a configura√ß√£o quando o aplicativo iniciar:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/-w/kx/sq/-wkxsqjesnv939hqsrqu4w9aqoq.png" alt="imagem"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estamos adicionando armazenamento ao nosso app.component.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definimos a propriedade component como o valor do seletor na configura√ß√£o, porque queremos exibir algumas dessas informa√ß√µes em HTML.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No onInit, enviamos a a√ß√£o para obter a configura√ß√£o.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso √© tudo ... J√° estamos codificando um efeito que controlar√° essa a√ß√£o e um redutor que manipular√° esse efeito. </font><font style="vertical-align: inherit;">Assim que a loja entrar em um novo estado, o seletor alterar√° o valor de nossa propriedade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como associar isso ao HTML: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wx/us/db/wxusdb0f2gbleczgbej7qiquuvk.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que config $ tiver um valor, n√≥s o veremos em HTML. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ver a lista de usu√°rios (containers / users / users.component.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-s/xe/oi/-sxeoitbesiozalk-fx2apletno.png" alt="imagem"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim como gerenciamos a configura√ß√£o, obteremos uma lista de usu√°rios. </font><font style="vertical-align: inherit;">Primeiro, injetamos o reposit√≥rio no componente do usu√°rio.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No onInit, publicamos uma a√ß√£o para obter usu√°rios.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criamos uma propriedade para o componente e atribu√≠mos a ele uma lista de usu√°rios usando o seletor de lista de usu√°rios.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O HTML fica assim: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/2p/a2/rg2pa2kcp1kzmwzdcm3u1cjg89y.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exibimos a lista de usu√°rios no componente de apresenta√ß√£o, enviando a lista e associando o usu√°rio selecionado √† fun√ß√£o de navega√ß√£o, que pode ser vista no componente de cont√™iner de usu√°rio acima. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vejamos o componente do cont√™iner personalizado:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/af/do/ge/afdogebu_sm4girkz_pheed6768.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
este componente recebe o identificador de par√¢metro da rota ativada e voc√™ provavelmente j√° conhece o restante, envia o identificador como par√¢metro, seleciona o usu√°rio selecionado ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ estiver depurando o aplicativo, poder√° ver as ferramentas do desenvolvedor, que s√£o bastante simples para usar ... mas neste artigo, estudamos o suficiente, e espero que voc√™ possa descobrir facilmente essas ferramentas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, tentei fornecer uma introdu√ß√£o clara e compreens√≠vel ao NGRX, fornecendo tudo o que voc√™ precisa saber para iniciar o desenvolvimento usando esta ferramenta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu realmente espero que o artigo o ajude a entender o modelo de a√ß√£o e recomende que voc√™ fa√ßa o download e brinque um pouco com o c√≥digo.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489744/index.html">Converter nota√ß√£o infix em postfix</a></li>
<li><a href="../pt489746/index.html">Na maioria dos casos, a serializa√ß√£o no Android n√£o √© necess√°ria</a></li>
<li><a href="../pt489750/index.html">Gerenciando um cluster de enxame do Docker usando o Swarmpit</a></li>
<li><a href="../pt489754/index.html">20 sistemas de gerenciamento de projetos, vis√£o geral de 100 chips</a></li>
<li><a href="../pt489756/index.html">Criar um efeito de l√°pis no SVG</a></li>
<li><a href="../pt489760/index.html">Consci√™ncia e exist√™ncia. Mec√¢nica qu√¢ntica sem paradoxos</a></li>
<li><a href="../pt489762/index.html">Um exemplo simples de an√°lise e an√°lise de dados para o World of Tanks</a></li>
<li><a href="../pt489764/index.html">"O destino tem muitas formas ..." ou automatizamos o controle de uma l√¢mpada usando CANNY 3 tiny e um fotorresistor</a></li>
<li><a href="../pt489768/index.html">Como œÄ combina blocos de colis√£o e um algoritmo de pesquisa qu√¢ntica</a></li>
<li><a href="../pt489770/index.html">V√≠deo do MinskJS mitap: meu relat√≥rio sobre extens√µes do navegador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>