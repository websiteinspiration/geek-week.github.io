<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👨🏽 🤗 👈🏽 Angular: um exemplo de uso do NGRX 👩🏻‍🤝‍👨🏽 👩🏾‍🎨 🙎🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo é uma continuação do post "Angular: uma introdução à NGRX".
 
 Exemplo NGRX
 No nosso exemplo, haverá uma lista de usuários, uma página de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Angular: um exemplo de uso do NGRX</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489758/"><img src="https://habrastorage.org/webt/rz/7h/ee/rz7heen5ey-lo47udm7sn4owfzg.png" alt="imagem"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artigo é uma continuação do post </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Angular: uma introdução à NGRX".</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo NGRX</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No nosso exemplo, haverá uma lista de usuários, uma página de detalhes do usuário e algumas informações de configuração inicial que você deve obter ao iniciar o aplicativo. </font><font style="vertical-align: inherit;">Vamos implementar alguns threads importantes do NGRX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plano de ação:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalação da biblioteca</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando uma estrutura de pastas para armazenamento </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criação de armazenamento e valores iniciais</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando ações</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando caixas de engrenagens (redutores)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando efeitos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando seletores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuração final</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando armazenamento em componentes</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, vamos fazê-lo ...</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalação da biblioteca</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos usar o Angle Cli para criar o projeto e, em seguida, adicionaremos as bibliotecas do ngrx. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crie um projeto:</font></font><br>
<br>
<pre><code class="bash hljs">ng new angular-ngrx --style=scss</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicione as bibliotecas NGRX necessárias:</font></font><br>
<br>
<pre><code class="bash hljs">npm install @ngrx/core @ngrx/store @ngrx/effects @ngrx/store-devtools @ngrx/router-store --save</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instalamos quase todas as bibliotecas do ecossistema ngrx. </font><font style="vertical-align: inherit;">A maioria deles descreve claramente seu objetivo: núcleo, armazenamento, efeitos, mas há alguns para os quais você pode se perguntar por que eles são necessários?</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">store-devtools</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Uma poderosa ferramenta de depuração.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router-store</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Salva o estado do roteador angular no armazenamento.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estrutura de pastas para armazenamento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos começar discutindo a estrutura de arquivos do repositório. </font><font style="vertical-align: inherit;">Essa estrutura de arquivos e toda a configuração de armazenamento devem existir no módulo principal do seu aplicativo, mas no nosso exemplo ele está ausente, portanto o armazenamento existirá no módulo principal do nosso aplicativo (as etapas são quase as mesmas se você fizer isso no módulo principal). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j2/pu/w_/j2puw_y4zbz0o1n1yemhvo9_ie0.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A estrutura da pasta é uma representação da composição de armazenamento real. </font><font style="vertical-align: inherit;">Você terá uma pasta principal com o nome "loja" e cinco subpastas que representam cada um dos principais players da loja: "Ações", "Efeitos", "Efeitos", "Redurs", "Seletores" e "Estado".</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criação de armazenamento e valores iniciais</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como mencionamos anteriormente, teremos duas seções principais: nosso aplicativo, usuários e configuração. </font><font style="vertical-align: inherit;">Para os dois, precisamos criar um estado e um estado inicial e também fazer o mesmo para o estado do aplicativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criamos duas interfaces para definição e configuração do usuário. </font><font style="vertical-align: inherit;">Também temos um para a resposta HTTP do usuário, é apenas uma matriz IUser. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/by/u-/01byu-tmzaa4tzpxzbr6ezfax5y.jpeg" alt="imagem"><br>
<br>
<img src="https://habrastorage.org/webt/hp/m7/l1/hpm7l1osf9nrlyjesvju9c33mxm.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos começar com o estado do usuário (store / state / user.state.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i9/pl/l-/i9pll-liw2wtmhlnuas8b1n0dzy.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que estamos fazendo aqui:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criamos e exportamos uma interface com uma estrutura de ambiente do usuário.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazemos o mesmo com o estado inicial do usuário, que implementa a interface recém-criada.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o estado de configuração, fazemos o mesmo (store / states / config.state.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/88/tb/xm/88tbxmezhb0cau7fbbrzv6kevi8.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, precisamos gerar o estado do aplicativo (store / states / app.state.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/in/mt/-t/inmt-tcdv5300xnatjpq9bix9os.jpeg" alt="imagem"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O estado do aplicativo contém o estado e a configuração do usuário, bem como o estado do roteador.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, definimos o estado inicial do aplicativo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por fim, exporta a função para obter o estado inicial (vamos usá-lo mais tarde).</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando ações</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia a definição de ação que discutimos no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Precisamos criar ações para usuários e configurações. </font><font style="vertical-align: inherit;">Vamos começar com as ações do usuário (store / actions / user.actions.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bj/34/rb/bj34rbgqv70s0mbqidrxbadtchk.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos percorrer um pouco o código:</font></font><br>
<br>
<ol>
<li>  Enum,     .  ,          , ,     .</li>
<li>          .      Action  ngrx. ,        ,        ,      .</li>
<li>,   ,    .     ,    , ,   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E é tudo ... criar ações é fácil. </font><font style="vertical-align: inherit;">Vamos ver como são as ações de configuração (store / actions / config.actions.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/ay/ew/lcayewp9ls8yumaflh3wybi2tuc.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nada de novo aqui, você provavelmente agora se sente confortável com tudo o que acontece neste arquivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ótimo, já determinamos o status e as ações ... vamos criar engrenagens!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando caixas de velocidades</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certifique-se de ler a definição de caixas de velocidades que discutimos em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teremos caixas de velocidades que respondem a algumas ações, porque outras serão tratadas pelos efeitos que iremos implementar mais tarde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos precisar de um redutor para usuários e outro para configuração, mas também precisamos gerar redutores de aplicativos. Vamos começar examinando redutores de usuários (store / redurs / user.reducers.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ju/4j/7y/ju4j7ytjci0hkzq9zeceffolc-s.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos discutir a implementação:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma declaração redutora recebe um estado e, nesse caso, uma ação do usuário e retorna um IUserState.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando a instrução switch, geramos observações para cada tipo de ação possível.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada caso retorna um novo objeto, que é o resultado da fusão do estado antigo e do novo valor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todas as caixas de velocidades têm um resultado padrão, que simplesmente retorna o estado sem nenhuma alteração.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E é tudo. </font><font style="vertical-align: inherit;">Você não encontrará mais nada na caixa de velocidades. </font><font style="vertical-align: inherit;">Vamos dar uma olhada nos redutores de configuração (state / redurs / config.reducers.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/ky/3m/ouky3m_fpspiahaj5j4sgf5owvk.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, vamos dar uma olhada nos redutores de aplicativos (loja): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/66/hg/ej66hgbbt97ljvpbqs728feti9g.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui, adicionamos todos os redutores ao mapa de redutores do aplicativo. </font><font style="vertical-align: inherit;">Usamos um mapa redutor de ação para verificação de tipo adicional. </font><font style="vertical-align: inherit;">Mais tarde, forneceremos a esse aplicativo redutores para o módulo de armazenamento.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicionar efeitos</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia a definição de "Efeitos", discutida em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você provavelmente já percebeu que nas caixas de velocidades não processamos todas as ações. </font><font style="vertical-align: inherit;">Isso ocorre porque vamos lidar com ações perdidas em efeitos, porque essas ações têm efeitos colaterais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos começar com efeitos personalizados (store / effects / user.effects.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2n/bk/2c/2nbk2cyc2d_rlrasu6cdi0qjyps.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muito do que acontece neste arquivo. </font><font style="vertical-align: inherit;">Vamos tentar explicá-los:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Declaramos nossos efeitos personalizados usando um decorador de injeção.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Declaramos nossos efeitos usando o decorador de efeitos fornecido pelo ngrx / Effects.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando as ações fornecidas pelo ngrx / Effects, iniciaremos o pipeline do nosso operador para esse efeito.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A próxima etapa é definir o tipo de ação de efeito usando o operador ofType.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As partes a seguir são os operadores rxjs que usamos para obter o que precisamos (já temos um link para a documentação rxjs neste artigo).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente, na última declaração, o Effect enviará outra ação.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No construtor, implementamos os serviços que vamos usar, ações para o ngrx / Effects e, neste caso, também o repositório (observe que esta é uma demonstração e obtemos o usuário selecionado da lista de usuários em nosso repositório).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta é quase a mesma estrutura que você verá com qualquer efeito. </font><font style="vertical-align: inherit;">Nesse caso, enviamos apenas uma ação bem-sucedida, mas podemos enviar erros ou qualquer outro estado que desejemos processar em nossos redutores de aplicativos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere os efeitos de configuração (store / effects / config.effects.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/vy/xo/rgvyxoxw13yif9tlsok083hyfhu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora é hora de falar sobre seletores ...</font></font><br>
<br>
<h3> </h3><br>
<blockquote>   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>.</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não faz sentido repetir as fatias do nosso estado em todos os lugares, então vamos criar alguns seletores que podemos reutilizar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como sempre, vejamos primeiro os seletores de usuário (store / selectors / user.selectors.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h9/ki/nj/h9kinj8iveawvqfcy2ax6cbi_wu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
isso é realmente compreensível, porque não fazemos nenhuma transformação de dados em nossos seletores, mas simplesmente retornamos a fatia da loja referenciada pelo seletor usando a função createSelector a partir do ngrx / store. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro parâmetro é um fragmento do armazenamento que será usado para receber dados (pode ser uma matriz com várias partes do estado), o segundo parâmetro é uma função anônima que decide o que o seletor retornará.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vejamos os seletores de configuração (store / selectors / config.selectors.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rf/x3/sy/rfx3syjbo0zah5fkr3d5lyxm-6o.png" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuração final</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, criamos tudo o que nosso armazenamento precisa, mas ainda falta uma coisa: juntar tudo. </font><font style="vertical-align: inherit;">Eu vou fazer isso no módulo de aplicativo, mas você pode aplicar o mesmo no módulo principal do seu aplicativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos adicionar um módulo de aplicação: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/bv/op/afbvopehkmcitmm2xps9ch8mwdy.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que fizemos aqui:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importamos nossas caixas de velocidades e as fornecemos no módulo de armazenamento forRoot.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importamos nossos efeitos e os fornecemos dentro da matriz no módulo de efeitos forRoot.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definimos a configuração do módulo de estado do roteador que fornece o roteador stateKey.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E adicionamos ferramentas de desenvolvedor de loja se o ambiente não for produção.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os dois primeiros passos são necessários, enquanto os passos 3 e 4 são altamente recomendados, mas não são necessários. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora finalmente terminamos ... podemos usar nosso armazenamento em componentes!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uso de armazenamento em alguns componentes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos chegando ao fim! </font><font style="vertical-align: inherit;">Vamos ver como usar nosso armazenamento ... </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro, vamos obter a configuração quando o aplicativo iniciar:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/-w/kx/sq/-wkxsqjesnv939hqsrqu4w9aqoq.png" alt="imagem"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estamos adicionando armazenamento ao nosso app.component.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definimos a propriedade component como o valor do seletor na configuração, porque queremos exibir algumas dessas informações em HTML.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No onInit, enviamos a ação para obter a configuração.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso é tudo ... Já estamos codificando um efeito que controlará essa ação e um redutor que manipulará esse efeito. </font><font style="vertical-align: inherit;">Assim que a loja entrar em um novo estado, o seletor alterará o valor de nossa propriedade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como associar isso ao HTML: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wx/us/db/wxusdb0f2gbleczgbej7qiquuvk.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que config $ tiver um valor, nós o veremos em HTML. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ver a lista de usuários (containers / users / users.component.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-s/xe/oi/-sxeoitbesiozalk-fx2apletno.png" alt="imagem"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim como gerenciamos a configuração, obteremos uma lista de usuários. </font><font style="vertical-align: inherit;">Primeiro, injetamos o repositório no componente do usuário.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No onInit, publicamos uma ação para obter usuários.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criamos uma propriedade para o componente e atribuímos a ele uma lista de usuários usando o seletor de lista de usuários.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O HTML fica assim: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/2p/a2/rg2pa2kcp1kzmwzdcm3u1cjg89y.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exibimos a lista de usuários no componente de apresentação, enviando a lista e associando o usuário selecionado à função de navegação, que pode ser vista no componente de contêiner de usuário acima. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vejamos o componente do contêiner personalizado:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/af/do/ge/afdogebu_sm4girkz_pheed6768.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
este componente recebe o identificador de parâmetro da rota ativada e você provavelmente já conhece o restante, envia o identificador como parâmetro, seleciona o usuário selecionado ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você estiver depurando o aplicativo, poderá ver as ferramentas do desenvolvedor, que são bastante simples para usar ... mas neste artigo, estudamos o suficiente, e espero que você possa descobrir facilmente essas ferramentas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusão</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, tentei fornecer uma introdução clara e compreensível ao NGRX, fornecendo tudo o que você precisa saber para iniciar o desenvolvimento usando esta ferramenta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu realmente espero que o artigo o ajude a entender o modelo de ação e recomende que você faça o download e brinque um pouco com o código.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489744/index.html">Converter notação infix em postfix</a></li>
<li><a href="../pt489746/index.html">Na maioria dos casos, a serialização no Android não é necessária</a></li>
<li><a href="../pt489750/index.html">Gerenciando um cluster de enxame do Docker usando o Swarmpit</a></li>
<li><a href="../pt489754/index.html">20 sistemas de gerenciamento de projetos, visão geral de 100 chips</a></li>
<li><a href="../pt489756/index.html">Criar um efeito de lápis no SVG</a></li>
<li><a href="../pt489760/index.html">Consciência e existência. Mecânica quântica sem paradoxos</a></li>
<li><a href="../pt489762/index.html">Um exemplo simples de análise e análise de dados para o World of Tanks</a></li>
<li><a href="../pt489764/index.html">"O destino tem muitas formas ..." ou automatizamos o controle de uma lâmpada usando CANNY 3 tiny e um fotorresistor</a></li>
<li><a href="../pt489768/index.html">Como π combina blocos de colisão e um algoritmo de pesquisa quântica</a></li>
<li><a href="../pt489770/index.html">Vídeo do MinskJS mitap: meu relatório sobre extensões do navegador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>