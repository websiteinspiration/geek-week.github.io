<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👡 👨🏿‍🎓 💂🏼 什么是适用于Nordic的新nRF Connect SDK？进化，革命还是另类？ 🐆 🌖 👩🏿‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="上周，Nordic Semiconductor 向 nRF Connect SDK 添加了 nRF52系列支持。
 
 
 
 大多数人的主要问题是它是什么，为什么它很重要？对于拥有nRF5 SDK经验的人来说，这个问题尤为重要，其中有很多。
 
 我马上注意到，该文章主要是为那些在Cortex-M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>什么是适用于Nordic的新nRF Connect SDK？进化，革命还是另类？</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497034/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上周，Nordic Semiconductor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nRF Connect SDK </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">添加了</font></a><font style="vertical-align: inherit;"> nRF52系列支持。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6l/rn/68/6lrn68dbbfqzq7nvalyoaq6zcrg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大多数人的主要问题是它是什么，为什么它很重要？</font><font style="vertical-align: inherit;">对于拥有nRF5 SDK经验的人来说，这个问题尤为重要，其中有很多。</font></font><br>
<a name="habracut"></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我马上注意到，该文章主要是为那些在Cortex-M级或封闭式设备开发中使用传统方法的人撰写的。</font><font style="vertical-align: inherit;">因此，从高水平工作的人员（看一下Linux方面正在发生的事情）的角度来看，某些定义和类比可能看起来并不完全正确，但是对于那些刚开始使用这种方法的人来说，它更容易理解。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总是欢迎提出评论和澄清。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于谁是北欧人以及他们现在的状况如何</font></font></b>
                        <div class="spoiler_text">    Nordic     . ,   ,    Bluetooth Low Energy,  90%     .         : Starline, Pandora, Scher-Khan      .         Redmond,   Ready4Sky.             .         2     .<br>
<br>
    Nordic Semiconductor   40%,  2.5  ,     (TI). ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"></a>.   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">Samsung</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">Xiaomi</a>   Nordic   ,   ,        .<br>
 <br>
   ,      Nordic,   ,         .      nRF5x   STM   (   ).<br>
<br>
   :<br>
<br>
<ul>
<li>    </li>
<li>   (       )</li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"></a>  SDK </li>
<li>  (    )</li>
<li>  Altium   </li>
<li> </li>
</ul><br>
 ,  Nordic Semiconductor       .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这里出现了一个主要问题，为什么要发布新的SDK，它与当前的SDK有何不同？</font><font style="vertical-align: inherit;">如果是这样，那么使用当前解决方案就可以了。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当前的</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF5 SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在一个简单的队列基础上工作，并且在大多数情况下，这足以执行几乎所有任务（尽管某些公司仍在使用自己的SDK，但这是规则的例外）。</font><font style="vertical-align: inherit;">新的</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF Connect SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用基于Zephyr RTOS的根本不同的方法。</font><font style="vertical-align: inherit;">更详细地考虑差异。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RTOS（RTOS）具有某些优点和已知的缺点。</font><font style="vertical-align: inherit;">后者包括：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">维护操作系统的额外开销</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单项目的开发非常复杂</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建复杂性增加</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
其余的RTOS是：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于对单个流程的控制，提高了可靠性</font></font></li>
<li>           </li>
<li>     </li>
<li>  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在北欧框架内，自从引入具有LTE Cat-M / NB-IoT / GPS的新包装（SIP）的新系统（nRF91系列）以来，这已变得有趣而有意义。由于新的Cortex-M33内核以及网络组件的其他要求（由于从BLE到蜂窝网络的过渡），该SIP具有更高的性能。这里的另一项创新是SDR调制解调器，该调制解调器工作在单独的内核上，必须与之组织核间交互作用。第一次在此出现了基于RTOS的SDK，对于那些首先遇到新方法的人，从准备阶段开始就提出了许多问题。还发布了一个特殊的助手，用于正确组装开发环境- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入门助手</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。他告诉您需要安装哪些组件（其中有很多，请参见下文），并检查是否正确安装了所有组件。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b04/168/443/b04168443c2e299b22756b152308d774.gif" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从这个角度来看，我们可以将向Zephyr的过渡与第一个大规模ARM Cortex-M的外观以及向32位的过渡进行比较。现在，大多数人使用32位MK作为主要对象，有关</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此文的文章</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">刊登</font></a><font style="vertical-align: inherit;">在Habré上。它还说明了过渡，这种过渡最初看起来不必要地复杂。但是随着时间的流逝，几乎每个人都得出结论，这已成为标准。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值得注意的是，Zephyr OS不是唯一在北欧芯片上运行的RTOS。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">FreeRTOS</font></a><font style="vertical-align: inherit;">的项目示例</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从2016年开始在SDK v.11中可用，甚至在SDK v.9中更早的版本中，对nRF51系列（2015）都有Keil RTX支持。</font><font style="vertical-align: inherit;">但是，早期这些是更多的实验功能，RTOS制造商在更大程度上提供了支持。</font><font style="vertical-align: inherit;">从原则上讲，现在是正确的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对nRF5x系列的非官方Zephyr支持出现</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在2016年</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zephyr Nordic决定仅在RTOS上制作一个全新的SDK。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有许多先决条件：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Linux继承了许多技术：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时处理流，队列（对于与时间相关的协议（例如BLE）尤其重要） </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络和安全性库</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有能源优化功能的灵活硬件描述模型</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于外围设备（传感器等）的库</font></font></li>
</ul><br>
 </li>
<li>  : <br>
<br>
<ul>
<li>     </li>
<li>   </li>
<li>   </li>
</ul><br>
 </li>
<li>      <br>
<br>
<ul>
<li>  ,   Nordic,    </li>
</ul><br>
 </li>
<li>    (       )</li>
<li>   ( )         .    ,     ,      .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要了解变化是如何发生的，官方文档中的结构图非常适合。</font><font style="vertical-align: inherit;">灰色表示Zephyr的组成部分。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/362/736/89c/36273689c10a66b97f33142745dc7f22.jpg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，在实施这种方法时，会出现许多认知问题。</font><font style="vertical-align: inherit;">习惯产品和解决方案的开发人员会因大量更改而感到不协调。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
考虑一下Windows上的开发版本，因为它会引起与那些习惯于Linux上开发的人有关的更多问题。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
需要以下软件包：</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（包装经理）</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Git</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（版本控制系统）</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">忍者</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（面向速度的构建系统）</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（高级构建系统）</font></font></li>
<li><b>DTC-MSYS2</b> (   (device tree))</li>
<li><b>GPerf</b> ( )</li>
<li><b>west</b> (          )</li>
<li><b>pip</b> (  Python)</li>
<li><b>Python3</b></li>
<li><b>GNU Arm Embedded Toolchain</b> (GCC, GDB      ARM)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于第一次面对相似的实用程序集的人来说，似乎所有事情都不必要地复杂了，可以使用旧的范例，现有的开发方法相当有效。</font><font style="vertical-align: inherit;">但是，如果您看得更深，那么一切都会变得更加有趣。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例如，</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pip</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许您分别通过OS和Python控制台安装所有必需的软件包。</font><font style="vertical-align: inherit;">像大多数相关软件一样，Python本身也放在一个命令中：</font></font><br>
<br>
<pre><code class="bash hljs">hoco install python xxx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
它也用一个命令更新：</font></font><br>
<br>
<pre><code class="bash hljs">choco upgrade all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于Windows用户而言，对于熟悉Linux中的控制台软件包管理器（apt，zypper等）的用户而言，这种方法有点不寻常。我经常注意到这样的情况：仅当在PC上重新安装OS时，MK的软件开发人员才会更新软件。关于它为什么不好的问题，我们不再讨论，我只在这里指出此问题已自动解决。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
项目配置和组装领域的创新更加有趣。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninja的</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设计和定位是替代make并专注于构建速度。当需要使用一堆没有更改的小文件重建项目时，在应用程序中尤其有用。效果可以是一个数量级，甚至两个数量级，请参见</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">麦克马</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反过来，它允许以高级（脚本）语言为将在其上进行组装的平台生成Ninja的配置文件。关于Cmake的信息可以在Habré上阅读，例如，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPerf会</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成一个指针表，以节省内存，请参见下面程序集的第3步。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们还应注意描述铁的新方法。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devicetree</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现了</font><font style="vertical-align: inherit;">，描述了设备的硬件结构。这是Linux基金会对Zephyr支持的直接结果。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
优点在于，硬件描述现在位于单独的.dts文件中，该文件具有简单的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它很容易修改，因此可以在不同系列的芯片之间移植代码。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为一个例子，据我所知，我将在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF52840上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出基本的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">dtsi</font></a><font style="vertical-align: inherit;">，然后在nRF52840-DK </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nrf52840dk_nrf52840.dts</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
板</font><font style="vertical-align: inherit;">的描述中使用</font><font style="vertical-align: inherit;">Zephyr支持的主板数量已经</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">超过200个</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如前所述，Nordic首先在nRF91系列上发布Zephyr，然后在nRF53上发布，现在终于达到了最大的nRF52。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
切换到RTOS可以依次解决为新硬件适配代码的问题。即使是在一个系列的芯片之间，如果要伴随着向另一软设备（预编译的BLE库）的过渡，则过渡也需要开发方面的某些资源。更不用说从51或91系列到52的过渡，此时硬件平台本身发生了巨大变化。现在，将轻松，快速地解决此任务。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">北欧的Iron不断得到改进，但这必须单独编写。在本文的框架中，我们只能指出，重点是与RTOS集成，安全性，能源效率和无线电信道（BLE 5.2）的改进。谢谢你能说的双核Cortex-M33，ARM Cryptocell和ARM的TrustZone。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
要构建的DeviceTree使用</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备树编译器</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它是MSYS2（基于Cygwin和MinGW-64的改进的构建系统）的一部分。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
项目配置的第二部分在</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（内核配置）中，它也从Linux继承。它允许您通过图形界面选择必要的块并设置用于特定任务的装配参数，这在片上系统资源有限的情况下尤其重要。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可以使用传统的实用程序（例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menuconfig），</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以在Segger Embedded Studio（官方推荐的IDE）的框架内，通过相应的菜单项启动内置的界面：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目&gt;配置nRF Connect SDK项目</font></font></b> <br>
<br>
<img src="https://habrastorage.org/webt/cv/sz/bq/cvszbqtv9frwur8ss1hncds-b2k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下面介绍了基于nRF9160的SSL / TLS的示例项目配置。</font><font style="vertical-align: inherit;">如您所见，您可以配置项目的硬件功能（平台，线程数，插件内核模块）和软件（键，地址等）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/mm/f9/b-mmf98mpjwxi_ts0tlwopujgfm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/nk/7e/qu/nk7equjwisyaxyzknpyyxwplbys.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
考虑项目组装的各个阶段：共有五个：</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -所有配置（devicetree，KConfig）的初步处理，在输出处，我们获得描述Ninja硬件和配置的头文件</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预组装（I）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -高层处理结构，编译系统文件和偏移量（偏移量），创建调用表</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始汇编（II）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -编译主要源代码并将其打包到档案中，链接</font></font></li>
<li><b>  (III)</b> —             (GPerf),         </li>
<li><b>- (IV)</b> —  hex, bin  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可以在官方</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读有关带图片的Zephyr组装系统的更多信息</font><font style="vertical-align: inherit;">。文本和图片很多，因此我们不会在本文的框架中考虑细节。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要的是要了解，此处使用的工具不能替代C预处理程序（cpp）和C链接程序（ld）。两者都用于除后期处理之外的所有阶段。但是，他们的工作成果还有待进一步改进，这可以大大减少组装时间和内存需求。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您不能直接比较在两个SDK上创建的程序的结果。由于库和方法非常不同，因此尚无此类测试。可以肯定地说，该解决方案在生产线中的中高端芯片（nRF52832及更高版本）上感觉很好，并且仍然有大量的资源储备。但是，不能说新的SDK不适用于nRF52810等较年轻的芯片。有必要更详细地考虑该问题。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回到文章标题的问题，我们可以说这种范例肯定是一个新现实。乍看之下带来了重大改进。来自世界上最大的BLE制造商的至少2个新芯片系列可以精确地工作，并且仅使用此技术，并且不会带来任何回报。我认为，这是一场事先准备的革命。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：5月14日，Nordic举行了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关新SDK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">网络研讨会</font></a><font style="vertical-align: inherit;">，在该</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">研讨会中</font></a><font style="vertical-align: inherit;">，Nordic </font><font style="vertical-align: inherit;">宣布所有低于5.0的BLE版本仅在nRF Connect SDK中可用。</font><font style="vertical-align: inherit;">因此，</font><font style="vertical-align: inherit;">许多人都在等待的</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Directino Finding</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aka AoA / AoD（BLE 5.1）和</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LE Audio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（BLE 5.2）今年将带来新工具，并且开发变更的速度将比预期的更快。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
发现：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所做的更改非常重大，与当前nRF5 SDK兼容的代码与新版（nRF Connect SDK）不兼容</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Devicetree和KConfig切换到RTOS可以使您获得更高的硬件抽象级别，从而大大加快了项目的开发和向新平台的转移</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切换到Zephyr即可提供对大量协议和库的支持；对于IoT设备，最有趣的是网络和安全功能，而Linux在传统上是强大的</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zephyr OS在组装过程中使用了许多工具，可以大大减少组装时间和内存需求，这对于嵌入式应用程序尤为重要</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新的SDK允许使用高级开发人员，这些开发人员在市场上比低级开发人员更多。</font><font style="vertical-align: inherit;">这解决了人员问题并增加了市场份额。</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN497022/index.html">更新公司网络访问。新的ExtremeSwitching X435千兆交换机</a></li>
<li><a href="../zh-CN497024/index.html">为什么要超融合？思科HyperFlex概述和测试</a></li>
<li><a href="../zh-CN497028/index.html">欢迎来到机器人操作系统聚会</a></li>
<li><a href="../zh-CN497030/index.html">基于EVPN VXLAN和Cisco ACI实施网络工厂的经验以及较小的比较</a></li>
<li><a href="../zh-CN497032/index.html">服务业务与危机：成功案例。开箱即用的思维如何为您服务？</a></li>
<li><a href="../zh-CN497036/index.html">什么时候停止视频序列识别过程？</a></li>
<li><a href="../zh-CN497040/index.html">产品主导的增长战略。米罗如何每年增长x3</a></li>
<li><a href="../zh-CN497046/index.html">如何在不了解SEO的情况下将网站带入TOP10的西部</a></li>
<li><a href="../zh-CN497050/index.html">TeamLead Conf 2020：主要报告</a></li>
<li><a href="../zh-CN497052/index.html">安全周16：xHelper-Android Survival木马</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>