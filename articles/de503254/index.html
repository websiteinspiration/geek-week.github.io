<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍❤️‍👩 👨🏽‍🎓 🤵 Streaming und Casting von Youtube und mehr ... über Himbeer-Pi mit Gotubecast und KODI TubeCast 🍻 💭 ⛔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie schwierig ist es, YouTube-Musik oder -Videos über ein Telefon oder ein anderes tragbares mobiles Gerät auf Ihren Raspberry Pi zu übertragen? Und w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Streaming und Casting von Youtube und mehr ... über Himbeer-Pi mit Gotubecast und KODI TubeCast</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503254/"><img src="https://habrastorage.org/getpro/habr/post_images/e5b/c48/771/e5bc487717d8386f7eef96fc2459569d.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie schwierig ist es, YouTube-Musik oder -Videos über ein Telefon oder ein anderes tragbares mobiles Gerät auf Ihren Raspberry Pi zu übertragen? </font><font style="vertical-align: inherit;">Und wenn nicht tragbar? </font><font style="vertical-align: inherit;">Ist es einfach, Medieninhalte über Windows oder Linux zu verwalten? </font><font style="vertical-align: inherit;">Es stellt sich heraus, dass nein. </font><font style="vertical-align: inherit;">Ich möchte in Betracht ziehen, mehrere Anwendungen auf Ihrer Himbeere zu installieren und einzurichten, mit deren Hilfe wir dies tun können.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir gehen davon aus, dass beim Streaming in dieser Situation Medieninhalte übertragen werden, die sich irgendwo auf Websites im Internet oder beispielsweise auf einem lokalen Server mit unserer Medienbibliothek befinden, um sie auf Himbeer-Pi abzuspielen. Und Casting kommt wiederum von dem Wort Casting, wenn wir die Kontrolle über den Medieninhalt eines externen Geräts auf unseren Fernseher übertragen, genauer gesagt auf unseren Himbeer-Pi, der mit einem Fernseh- oder Musikzentrum verbunden ist. In dieser Situation leiten wir über das Mobiltelefon durch Starten Ihrer YouTube-Anwendung die Ausgabe von Video oder Musik über unsere Malinka an den Fernseher weiter. Denken Sie daran, Ihren Himbeer-Pi über HDMI an den Fernseher anzuschließen.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt zwei Möglichkeiten, diese Anwendungen zu berücksichtigen. </font><font style="vertical-align: inherit;">Die erste Option, wir haben alles in unserem Projekt ViaMyBox konfiguriert und Sie können sich nicht mit verschiedenen Nuancen der Linux-Konfiguration beschäftigen, in dieser Version des Raspbian Buster und laden Sie die Distribution </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://viamybox.com/downloadpage/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder direkt von Himbeer-Pi aus dem Repository </font><font style="vertical-align: inherit;">herunter </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi<font></font>
git <span class="hljs-built_in">clone</span> https://github.com/viatc/viamybox.git
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
und starte das Skript -&gt; Heimkino -&gt; Youtube besetzen:</font></font><br>
<br>
<pre><code class="bash hljs">sudo /home/pi/viamybox/scripts/via-setup.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oder konfigurieren Sie alles selbst, wie Sie möchten. Befolgen Sie dazu die folgenden Beispiele. </font><font style="vertical-align: inherit;">Ich werde die Funktionen in diesem Artikel dieser Anwendungen nicht vergleichen und detailliert beschreiben, sondern lediglich die Erfahrungen mit Konfiguration und Installation sowie die Nuancen, auf die ich gestoßen bin, teilen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir treffen! </font><font style="vertical-align: inherit;">Gotubecast</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Projektseite: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/CBiX/gotubecast</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gotubecast ist ein kleines Programm, mit dem Sie Ihren eigenen TV-Player auf YouTube erstellen können. </font><font style="vertical-align: inherit;">Mit anderen Worten, durch Starten von gotubecast auf Himbeer-Pi können wir die YouTube-Anwendung des Telefons oder anderer Geräte verwenden, um eine Verbindung zu Himbeer-Pi herzustellen und den YouTube-Film auf dem Fernseher zu starten. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zj/94/wa/zj94wa_wczvtm9mzob49owc-59i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dazu müssen Sie jedoch mehrere Maßnahmen ergreifen ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses Programm ist in Go geschrieben. </font><font style="vertical-align: inherit;">Daher müssen Sie es installieren:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi
<span class="hljs-comment"># </span><font></font>
wget https://dl.google.com/go/go1.13.7.linux-armv6l.tar.gz<font></font>
<span class="hljs-comment"># </span>
sudo tar -C /usr/<span class="hljs-built_in">local</span>/ -xvzf go1.13.7.linux-armv6l.tar.gz
<span class="hljs-comment">#    </span><font></font>
mkdir -p projects/{src,pkg,bin}<font></font>
<span class="hljs-comment"># </span><font></font>
nano /home/pi/.profile<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und schreiben Sie unsere Umgebungsvariablen hinein:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:/usr/<span class="hljs-built_in">local</span>/go/bin
<span class="hljs-built_in">export</span> GOBIN=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/projects/bin"</span>
<span class="hljs-built_in">export</span> GOPATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/projects/src"</span>
<span class="hljs-built_in">export</span> GOROOT=<span class="hljs-string">"/usr/local/go"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Überprüfen Sie dieses Paket:</font></font><br>
<br>
<pre><code class="bash hljs">go version
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann installieren Sie unseren gotubecast:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi<font></font>
go get github.com/CBiX/gotubecast<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dem Projekt, das sich in unserem erstellten Ordner /home/pi/projects/src/src/github.com/CBiX/gotubecast/examples befindet, hat der Autor das Skript raspi.sh für Himbeere umsichtig geschrieben, was den Start von gotubecast vereinfacht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir starten es und jetzt ist die Magie nahe ...</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi/projects/src/src/github.com/CBiX/gotubecast/examples<font></font>
./raspi.sh<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Starten des Skripts sehen wir eine Zeile, etwa </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ihren Pairing-Code: 901-900-123-183. Dadurch </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
können wir unseren Fernseher über das Telefon finden. </font><font style="vertical-align: inherit;">Wir gehen zur YouTube-Anwendung auf dem Telefon und dann über das Kontosymbol in den Einstellungen -&gt; fernsehen und unseren Code eingeben. </font><font style="vertical-align: inherit;">Danach erscheint ein Symbol, über das YouTube über unseren Himbeer-Pi angezeigt wird. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uw/z3/yi/uwz3yixy5djjkybbr_py53trfrc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/uc/bu/rz/ucburzh2j1gvkh04aev9rse0rty.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Fernsehgerät kann jedoch verloren gehen, wenn für längere Zeit keine Verbindung zwischen dem Himbeer-Pi und der Google-Anwendung usw. besteht. Daher ist es neben dem Pairing-Code möglich, Ihr Fernsehgerät mithilfe der Bildschirm-ID für immer mit Ihrer Brillenanwendung zu verknüpfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden es auf unserem Himbeer-Pi erzeugen:</font></font><br>
<br>
<pre><code class="bash hljs">wget https://www.youtube.com/api/lounge/pairing/generate_screen_id<font></font>
cat generate_screen_id<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und fügen Sie es der Datei hinzu:</font></font><br>
<br>
<pre><code class="bash hljs">nano /home/pi/projects/src/src/github.com/CBiX/gotubecast/examples/raspi.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
in eine Variable in der folgenden Zeile: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
export SCREEN_ID = "aauaju8Example5539vbb" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dies alles beim Start auf einmal zu starten, </font><font style="vertical-align: inherit;">erstellen </font><font style="vertical-align: inherit;">Sie sich einen kleinen Service-Daemon im Ordner:</font></font><br>
<br>
<pre><code class="bash hljs">sudo nano /lib/systemd/system/gotubecast.service
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
und darin:</font></font><br>
<br>
<pre><code class="bash hljs">[Unit]<font></font>
Description=Cast youtube<font></font>
Wants=network-online.target<font></font>
After=network.target network-online.target<font></font>
<font></font>
[Service]<font></font>
Type=simple<font></font>
ExecStart=/bin/bash /home/pi/projects/src/src/github.com/CBiX/gotubecast/examples/raspi.sh<font></font>
Restart=on-abort<font></font>
User=pi<font></font>
Group=pi<font></font>
<font></font>
[Install]<font></font>
WantedBy=multi-user.target<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes initialisieren Sie es im System:</font></font><br>
<br>
<pre><code class="bash hljs">systemctl <span class="hljs-built_in">enable</span> gotubecast.service
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und es startet, wenn das System startet. </font><font style="vertical-align: inherit;">Wie sich herausstellte, stürzt der Dämon ab, wenn kein Netzwerk vorhanden ist. </font><font style="vertical-align: inherit;">Genauer gesagt findet raspi.sh das Netzwerk nicht. </font><font style="vertical-align: inherit;">Sie können die Einstellungen der Netzwerkdienste über sudo raspi-config.sh warten lassen, aber es ist im Allgemeinen angenehmer, wenn raspbian schnell heruntergeladen wird.) Lassen Sie daher das Skript das Netzwerk selbst überprüfen. </font><font style="vertical-align: inherit;">Fügen Sie der Datei raspi.sh eine Warteprüfung hinzu:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">while</span> ! ping -q -c 1 8.8.8.8 &gt;/dev/null ; <span class="hljs-keyword">do</span> sleep 1; <span class="hljs-keyword">done</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kopieren Sie gotubecast in einen Ordner für unsere ausführbaren Dateien</font></font><br>
<br>
<pre><code class="bash hljs">sudo cp /home/pi/projects/bin/gotubecast /usr/bin/
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und alles ist fertig :-) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, wenn Sie kein Linuxoid sind und Wellen in den Augen der Teams haben, habe ich den gesamten oben im Skript beschriebenen Prozess automatisiert und es sieht folgendermaßen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/eu/jf/op/eujfopwrzn1-phdewf9nnsuhvki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um es zu verwenden, laden Sie das Projekt über die Site oder über Github herunter:</font></font><br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> https://github.com/viatc/viamybox.git</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Führen Sie das Skript /home/pi/viamybox/scripts/via-setup.sh aus und rufen Sie das Heimkino-Menü auf:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi<font></font>
git <span class="hljs-built_in">clone</span> https://github.com/viatc/viamybox.git<font></font>
sudo /home/pi/viamybox/scripts/via-setup.sh<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Getestet unter Raspbian Buster OS.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Starten Sie Youtube über KODI</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie KODI haben, ist es viel einfacher, einen YouTube-Film über KODI zu starten. </font><font style="vertical-align: inherit;">Dazu müssen Sie nur das TubeCast-Plugin installieren. </font><font style="vertical-align: inherit;">Von den Vorteilen erfordert dieses Kodi-Plugin keine Erstkonfiguration und das Plugin „sieht“ unseren Himbeer-Pi perfekt, ohne den Code manuell zu koppeln. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ug/gj/tk/uggjtkur86e1zdxqbmznqswmxqe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und nach der Installation des Plugins sehen Sie sofort das Besetzungssymbol in Ihrer andriod youtube-Anwendung oder auf der youtube-Seite im Browser.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k2/qy/ll/k2qyllrend6ieyebb3nwhd9yxq8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus der Beschreibung folgt, dass dies eine Implementierung des Cast V1-Protokolls für mobile Youtube-Anwendungen ist, das wiederum auf dem DIAL-Protokoll über SSDP basiert. Mit dieser Technologie kannst du dich als externer Dienst über das Internet mit deinem YouTube-Kanal verbinden. Auf diese Weise können Sie Ihr Gerät mit KODI an Bord finden, ohne sich mit ihm im selben Netzwerk zu befinden. Aktualisieren Sie einfach Ihren Pairing-Code auf dem Streaming-Gerät. Auf diese Weise verbinden wir zwei Geräte und übertragen die Kontrolle über ein Gerät auf ein anderes, nicht jedoch den Medieninhalt selbst. Daher muss sich das Sende- und Empfangsgerät (in diesem Fall unser Himbeer-Pi) im Internet befinden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe es war interessant. Wenn ja, schreibe Kommentare!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im nächsten Teil möchte ich darüber sprechen, wie Youtube und andere Medieninhalte vom Konsolenterminal mit den MPS-Youtube- und Stroh-Viewer- und Raspicast-Medienkombinationen abgespielt werden.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de503242/index.html">Braucht ein Programmierer Ethik?</a></li>
<li><a href="../de503244/index.html">Bewusstsein und These von Max Fry</a></li>
<li><a href="../de503246/index.html">Einfache Serviceerkennung in Prometheus über Consul</a></li>
<li><a href="../de503248/index.html">Codeüberprüfung Terminator. Bewertung, für die Sie gedankt werden</a></li>
<li><a href="../de503250/index.html">Welche Programmiersprache soll man 2020 lernen?</a></li>
<li><a href="../de503260/index.html">Über Startups und Startups</a></li>
<li><a href="../de503262/index.html">Warum „Angina“ nicht „Halsschmerzen“ ist, sondern „Harz“ nicht „Gummi“ oder falsche Übersetzerfreunde</a></li>
<li><a href="../de503264/index.html">Wie instagram Anti-Impfstoffe ihre Verschwörungstheorien fördern</a></li>
<li><a href="../de503268/index.html">Es gibt alles, aber nicht das, wonach Sie suchen</a></li>
<li><a href="../de503280/index.html">Auf der Startup Village Livestream'20-Konferenz wurden schnelle Lösungen für das digitale Umfeld von Stadt und Wirtschaft diskutiert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>