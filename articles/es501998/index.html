<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç∂ üõÉ üïö Precio caro de los estilos. Informe Yandex üö¥üèø üöÇ üö£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cargar CSS en una p√°gina es una operaci√≥n de bloqueo. Si la carga asincr√≥nica de JavaScript puede no ser visible para el usuario, la apariencia lenta ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Precio caro de los estilos. Informe Yandex</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/501998/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cargar CSS en una p√°gina es una operaci√≥n de bloqueo. </font><font style="vertical-align: inherit;">Si la carga asincr√≥nica de JavaScript puede no ser visible para el usuario, la apariencia lenta de los estilos puede conducir a un invitado impaciente desde el sitio. </font><font style="vertical-align: inherit;">¬øC√≥mo cargar CSS de la manera m√°s eficiente y transparente posible para los usuarios? </font><font style="vertical-align: inherit;">Nikita Dubko est√° tratando de descubrir</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DarkMeFoDy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del grupo de interfaz de b√∫squeda Yandex en Minsk.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/kATRlMrtaaY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Hola a todos. </font><font style="vertical-align: inherit;">Te contar√© sobre los estilos. </font><font style="vertical-align: inherit;">Todos hablan de TypeScript y TypeScript hoy. </font><font style="vertical-align: inherit;">Y hablar√© sobre el gui√≥n de estilo Cascade.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poco sobre m√≠. </font><font style="vertical-align: inherit;">Soy un desarrollador bielorruso. Despu√©s de la pel√≠cula Dudya, lo dir√© en todas partes. </font><font style="vertical-align: inherit;">Es posible que haya escuchado mi voz en el podcast de Web Standards, y si ve errores tipogr√°ficos en las noticias de Web Standards, probablemente sea yo tambi√©n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peque√±o descargo de responsabilidad. </font><font style="vertical-align: inherit;">Habr√° varias locuras en el informe: trate todo lo que digo con gran cr√≠tica. </font><font style="vertical-align: inherit;">Piense por qu√© puede usar tales t√©cnicas y por qu√© no las necesita. </font><font style="vertical-align: inherit;">Algunas cosas ser√°n realmente locas. </font><font style="vertical-align: inherit;">Vamos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPara qu√©?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para empezar, ¬øpor qu√© hablar de optimizaci√≥n CSS? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si comienzas a buscar en los motores de b√∫squeda descargas r√°pidas de JS, hay muchos resultados. Si busca una carga r√°pida de CSS, la parte superior ni siquiera muestra el CSS que necesita. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fd/fy/mh/fdfymhsjiglvpavgqbzxrczyqo8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nos fijamos en Google, hay 111 millones de resultados sobre JS, y sobre CSS solo 26 millones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øtal vez esto no importa? ¬øPor qu√© hablar de eso? Si busca informes de rendimiento de JS, encontrar√° muchos de ellos. Hay sobre React, sobre todo tipo de otros frameworks, sobre Vanilla, etc. Pero sobre CSS, encontr√© solo un informe. Harry Roberts en 2018 ley√≥ un excelente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre el rendimiento de CSS. Pens√© que encontr√© un segundo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por Roma Dvornova, "Parsim CSS: consejos y trucos de rendimiento". Pero result√≥ ser un informe JS que analiza CSS. No es exactamente lo que necesitamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resulta que no piensan mucho en CSS. Es una pena. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero cuando voy a la web, generalmente veo HTML. Y tambi√©n veo CSS que estiliza la p√°gina. Pero no veo a JS. JS es una cosa que mueve CSS y HTML en una p√°gina para que todo se vea hermoso. Este es un gui√≥n. Y si JS no se carga, no es tan malo como si CSS no se carga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los errores en JS caen silenciosamente en la consola. Y es poco probable que el usuario promedio ingrese a DevTools para mirar: "Oh, lo tienes ah√≠, un error en la consola". Pero si CSS no se carga, es posible que no vea todo lo que necesita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por cierto, hay estudios sobre el hecho de que lo principal es causar una primera impresi√≥n.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El 38% de los</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usuarios pueden ir al sitio, y si ven que es directamente desagradable, se ir√°n de inmediato. Y el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88%</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lo tolerar√°, lo usar√° una vez, y luego nunca volver√°n y es poco probable que aconsejen a su sitio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora que todos estamos sentados en casa, el tr√°fico de Internet ha crecido especialmente. Y debemos pensar en c√≥mo entregar eficientemente los recursos a los usuarios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tratemos de contar desde el punto de vista de Yandex. Si podemos optimizar cada entrega de Yandex por 100 ms y dar, digamos, 200 millones de p√°ginas por d√≠a (no s√© el n√∫mero exacto), entonces este d√≠a ahorraremos 0.1 s * 200 millones = 232 d√≠as-persona. Simplemente optimizando la salida para 100 milisegundos. Y CSS hace eso tambi√©n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juguemos un poco a los detectives y descubramos c√≥mo aprovechar al m√°ximo los estilos de carga.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Medida!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El primer consejo es medir siempre todo. No tiene sentido hacer optimizaciones te√≥ricamente. Puede suponer que la optimizaci√≥n funciona en su caso, pero las mediciones reales mostrar√°n que nada de eso. Esta es la regla m√°s importante de cualquier optimizaci√≥n. </font><font style="vertical-align: inherit;">Andrei Prokopyuk del equipo SERP Velocity en HolyJS </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habl√≥</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> muy bien </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">sobre</font></a><font style="vertical-align: inherit;"> c√≥mo hacemos esto </font><font style="vertical-align: inherit;">, no me repetir√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© herramientas de medici√≥n hay? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Si desea medir en dispositivos m√°s o menos reales, lentos, no tan geniales como los suyos, use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPageTest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Usualmente tomo medidas all√≠. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Tienes Lighthouse si usas navegadores basados ‚Äã‚Äãen Chromium. √âl, como las mediciones locales, muestra cosas bastante buenas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Si est√° seguro de que puede hacer todo usted mismo, vaya a DevTools, a la pesta√±a Rendimiento. Tiene muchos detalles, puede comenzar sus propias m√©tricas y analizarlas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vx/xl/jl/vxxljlbogdfjvd0v2kyqedewfxy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturalmente, en Performance es necesario establecer condiciones reales. Est√°s sentado en tu port√°til genial con Internet genial en la oficina, todo es incre√≠ble aqu√≠ mismo, pero vienen a ti y te dicen: "Soy lento". Y usted dice: "Todo funciona para m√≠". No hagas as√≠. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siempre trate de verificar c√≥mo el usuario en las condiciones del metro o en otro lugar utilizar√° su sitio. Para hacer esto, necesita configurar un Internet muy lento. Tambi√©n es aconsejable reducir la velocidad de la CPU, ya que alguien puede acudir a usted desde alg√∫n Nokia 3110. Tambi√©n debe mostrar el sitio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo m√°s importante: medir en usuarios reales. Existe una m√©trica de este tipo, m√°s precisamente, un conjunto completo de m√©tricas: RUM, Real User Monitoring. Esto es cuando mide no lo que sucede sint√©ticamente en su c√≥digo, sino las m√©tricas de usuarios reales en producci√≥n. Por ejemplo, desde cargar una p√°gina hasta una acci√≥n. Una acci√≥n es, por ejemplo, algo que funciona en el navegador o incluso un clic en alg√∫n elemento importante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recuerda que no est√°s desarrollando para robots. Sotka en Lighthouse: es genial, es realmente bueno. Por lo tanto, cumple al menos los requisitos que establece el Faro. Pero hay usuarios reales, y si el usuario no puede ver la p√°gina cuando est√° en Lighthouse, est√° haciendo algo mal.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/z-/fy/cn/z-fycndvddxfylx_s_ahdxjolpc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay m√©tricas en las que es importante enfocarse. </font><font style="vertical-align: inherit;">Esta es la primera pintura con contenido, cuando aparece el primer contenido en su p√°gina con el que puede hacer algo, lea. </font><font style="vertical-align: inherit;">Esta m√©trica se env√≠a en los navegadores Chromium, puede obtenerla. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/xi/mi/mtximitp8tflgksudiaaporikko.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recientemente, a√∫n puede ver la pintura m√°s grande y contenta. </font><font style="vertical-align: inherit;">A menudo sucede que tiene una p√°gina de medios, y es importante, por ejemplo, mirar una foto en ella. </font><font style="vertical-align: inherit;">Entonces necesitas esta m√©trica particular.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carga de CSS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pasemos finalmente a CSS, c√≥mo se carga CSS. </font><font style="vertical-align: inherit;">Las recepciones se conocen desde hace mucho tiempo. </font><font style="vertical-align: inherit;">Hay una ruta de representaci√≥n cr√≠tica, una ruta de representaci√≥n cr√≠tica. </font><font style="vertical-align: inherit;">Se trata de lo que hace el navegador desde el momento en que env√≠a la solicitud del recurso hasta el momento en que los p√≠xeles se muestran en la pantalla del usuario. </font><font style="vertical-align: inherit;">Sobre esto, tambi√©n, hay un mont√≥n de art√≠culos e informes. </font><font style="vertical-align: inherit;">Pero echemos un vistazo r√°pido a c√≥mo lo hace este navegador.</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ru"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>CSS ‚Äî  <span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/main.ac74gsac.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comienza a descargar HTML, ve las etiquetas. </font><font style="vertical-align: inherit;">Poco a poco los analiza, comprende qu√© hacer con ellos. </font><font style="vertical-align: inherit;">Cargas </font><font style="vertical-align: inherit;">Encontr√© enlace. </font><font style="vertical-align: inherit;">Debe ser usado. </font><font style="vertical-align: inherit;">¬øPero c√≥mo? </font><font style="vertical-align: inherit;">Primero necesitas descargarlo. </font><font style="vertical-align: inherit;">La descarga es lenta. </font><font style="vertical-align: inherit;">Cuando se carga, comienza a analizar m√°s la p√°gina.</font></font><br>
<br>
<pre><code class="html hljs xml"> <span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ru"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>CSS ‚Äî  <span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/main.ac74gsac.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>-!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si se topa con otro enlace, se bloquea nuevamente y no permite la ejecuci√≥n. </font><font style="vertical-align: inherit;">Bloques JS, bloques de an√°lisis. </font><font style="vertical-align: inherit;">Y hasta que arranque, no hace nada. </font><font style="vertical-align: inherit;">Pero luego comienza a trabajar m√°s.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;enlace&gt;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Profundicemos: ¬øqu√© sucede cuando accede al enlace? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3w/eb/cs/3webcs2yte1_pqw5nzwvmj_epy4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grabar a d√≥nde vamos es est√°ndar. </font><font style="vertical-align: inherit;">Hay un estilo CSS que se encuentra en alguna parte. </font><font style="vertical-align: inherit;">Ahora est√° de moda poner todas las estad√≠sticas en el CDN.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øD√≥nde ir?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero, el navegador necesita entender a d√≥nde ir. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u8/me/ix/u8meixyugzfctlaocm2xzo862po.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âl ve la URL y necesita entender esta URL: ¬øde qu√© se trata? Estamos acostumbrados al hecho de que la URL es un identificador de sitio. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/26/2m/6b/262m6bmfjupam-ega9z7tmpibzk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero f√≠sicamente necesitamos obtener la direcci√≥n IP de esta URL e ir a la m√°quina f√≠sica real en la direcci√≥n IP. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/nq/ah/ysnqah21cz075zefg6khjupdm-w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para su CDN, recibir√° un registro en DNS y en realidad ir√° directamente a la direcci√≥n IP. ¬øC√≥mo se puede acelerar en este caso? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lz/cl/sn/lzclsnosywf5yaqi0fihvdefism.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una idea descabellada es reducir la distancia del usuario al servidor DNS. Tomar y trasplantar al usuario. Por ejemplo, para mostrar el mensaje: "Si√©ntate m√°s cerca" o "Ac√©rcate". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede especificar inmediatamente la direcci√≥n IP en el enlace. ¬øPor qu√© necesitamos buscar DNS, resolver dominios, si puede dar el resultado inmediatamente por direcci√≥n IP? Esta es una forma loca, pero en el caso de los servidores DNS globales DDoS, incluso puede salvarte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y podemos deshacernos de obtener una direcci√≥n IP. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/s4/i0/1v/s4i01v9rasbbahddidnteghzu8a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Volviendo a su index.html u otro archivo, ya sabe la direcci√≥n de dominio donde va. Este es solo el caso cuando, en lugar de almacenar estad√≠sticas en un dominio o subdominio separado, puede colocar las estad√≠sticas m√°s cerca de su dominio, es decir, este dominio en s√≠. Entonces DNS no necesita ser resuelto, ya lo est√°. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zn/l1/gg/znl1ggztpsl37dgk1cmfo0ob8c8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descubrimos a d√≥nde ir. Pero podemos hacer tales cosas por adelantado para el navegador. Si, por ejemplo, su hoja de estilo se carga mucho m√°s tarde a trav√©s del √°rbol DOM, puede decirle al navegador usando &lt;link rel = "dns-prefetch"&gt; que "a√∫n no voy all√≠, pero calentar√° los recursos, definitivamente los necesitar√© m√°s tarde ".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con esta entrada, le dice al navegador que baje y obtenga este DNS. </font><font style="vertical-align: inherit;">Cuando aparece un enlace en el c√≥digo, el navegador ya sabr√° la direcci√≥n IP de este dominio. </font><font style="vertical-align: inherit;">Puedes hacer esas cosas preliminares. </font><font style="vertical-align: inherit;">Lo mismo, por ejemplo, antes de ingresar a la siguiente p√°gina, donde definitivamente ir√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, el navegador sabe a d√≥nde ir. </font><font style="vertical-align: inherit;">Necesita entender c√≥mo ir.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como ir</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos viendo el protocolo. Ahora, por supuesto, https es un requisito directo. La inclusi√≥n de motores de b√∫squeda marcar√° sus sitios que no est√°n en https con formularios como no totalmente seguros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encontr√© una incre√≠ble </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://howhttps.works/why-do-we-need-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">serie de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c√≥mics sobre c√≥mo funciona el tablero https. Pero somos personas de TI, nos encantan los diagramas complejos y geniales, y los c√≥mics divertidos son demasiado f√°ciles. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/hh/p1/jqhhp1dzstopvkbbsf70gnkxwpw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ he formulado en mis propias palabras c√≥mo funciona https. Primero obtienes un certificado SSL de tu servidor. Luego debe verificar el certificado en una autoridad de certificaci√≥n. Estos son servidores especiales que saben qu√© es v√°lido y qu√© no, y pueden solicitar navegadores: "s√≠, todo est√° bien aqu√≠, use este certificado".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo siguiente es la generaci√≥n de claves para la comunicaci√≥n entre el servidor y el cliente, cifrado, descifrado utilizando diferentes claves. El proceso es interesante si lo miras en t√©rminos de criptograf√≠a. Pero queremos acelerar. ¬øC√≥mo? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pq/g1/ue/pqg1ueqmruwadkjjb7ff5sstwu0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuevamente podemos transferir al usuario m√°s cerca de los servidores. Ya tenemos un DNS, ahora podemos acercarlo a la autoridad de certificaci√≥n. Y poner entre estos servidores ser√° perfecto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede optar por no recibir https, ¬øpor qu√© lo necesitamos? Dedicamos tiempo a obtener un certificado, cifrarlo, descifrarlo. Realmente no. Este es el consejo m√°s da√±ino en el informe, no lo hagas. https es protecci√≥n de datos del usuario, y http / 2 no funcionar√° sin https, y http / 2 es otra forma de acelerar.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/hh/p1/jqhhp1dzstopvkbbsf70gnkxwpw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n hay tecnolog√≠a de grapado OCSP. Puede verificar un certificado sin una autoridad de certificaci√≥n. Esto probablemente est√© m√°s cerca de DevOps. Debe configurar su servidor de cierta manera para que pueda almacenar en cach√© la respuesta de la Autoridad de Certificaci√≥n y emitir al usuario: "Cr√©ame, mi certificado es realmente real". Por lo tanto, podemos guardar al menos el paso en el que vamos a la Autoridad de Certificaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero hay un matiz: en Chrome esto no funciona, y durante mucho tiempo. Pero para el usuario de otros navegadores, puede acelerar este proceso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya he dicho dos veces que es necesario trasplantar al usuario, y la idea se est√° disparando en el aire: acercar el servidor al usuario. No he descubierto nada nuevo para ti. Esta es una CDN, una red de distribuci√≥n de contenido distribuido. La idea es que puede usar sidienki ya preparado, crear de forma independiente su propia infraestructura y poner un mont√≥n de servidores en todo el mundo, en la medida en que el dinero y las oportunidades lo permitan. Pero debe organizar el servidor para que un usuario de Australia vaya a los servidores australianos. Aqu√≠ la velocidad de la luz juega contigo, cuanto m√°s peque√±a es la distancia, m√°s r√°pido pasan los electrones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos a cavar m√°s profundo. ¬øQu√© m√°s est√° pasando en la solicitud? De hecho, https es solo un contenedor sobre http. No solo un envoltorio genial. Y si es a√∫n m√°s profundo, entonces http es una solicitud de la familia TCP / IP.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wl/be/sf/wlbesfr8mnsmulrqrlgazdwxa_4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo se env√≠an los paquetes y bytes en la red para que todos los navegadores, clientes y servidores se comuniquen entre s√≠? </font><font style="vertical-align: inherit;">Lo primero que hace un cliente / servidor a trav√©s de una conexi√≥n TCP / IP es un apret√≥n de manos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero en 2020, la OMS recomienda evitar los apretones de manos. </font><font style="vertical-align: inherit;">Existe una tecnolog√≠a TCP Fast Open tan genial. </font><font style="vertical-align: inherit;">Puede, en el momento del apret√≥n de manos, evitar toda la cadena "Hola, soy un cliente" - "Hola, soy un servidor" - "Te creo" - "Y te creo. </font><font style="vertical-align: inherit;">Vamos". </font><font style="vertical-align: inherit;">Ya puede enviar datos √∫tiles en este momento. </font><font style="vertical-align: inherit;">Y si el apret√≥n de manos fue exitoso, entonces una parte de los datos √∫tiles ha pasado. </font><font style="vertical-align: inherit;">Esto es TCP Fast Open.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© recoger?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos qu√© debe recoger el cliente del servidor. </font><font style="vertical-align: inherit;">Lo principal no es que el cliente toma algo del servidor, sino que el servidor entrega los datos al cliente. </font><font style="vertical-align: inherit;">Entonces podr√≠as pensar: User-Agent. </font><font style="vertical-align: inherit;">Puedo obtener el User-Agent del cliente, averiguar en qu√© navegador ha iniciado sesi√≥n el usuario. </font><font style="vertical-align: inherit;">Averig√ºe aproximadamente si no me enga√±a, este navegador.</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.example</span> {
    <span class="hljs-attribute">display</span>: -ms-grid;
    <span class="hljs-attribute">display</span>: grid;
    <span class="hljs-attribute">-webkit-transition</span>: all .<span class="hljs-number">5s</span>;
    <span class="hljs-attribute">-o-transition</span>: all .<span class="hljs-number">5s</span>;
    <span class="hljs-attribute">transition</span>: all .<span class="hljs-number">5s</span>;
    <span class="hljs-attribute">-webkit-user-select</span>: none;
       <span class="hljs-attribute">-moz-user-select</span>: none;
        <span class="hljs-attribute">-ms-user-select</span>: none;
            <span class="hljs-attribute">user-select</span>: none;
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">-webkit-gradient</span>(linear, left top, left bottom, from(white), <span class="hljs-built_in">to</span>(black));
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">-o-linear-gradient</span>(top, white, black);
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, white, black);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digamos que inici√≥ sesi√≥n desde Firefox. </font><font style="vertical-align: inherit;">Yo, como de costumbre, tengo un ensamblaje en el que el corrector autom√°tico est√° conectado de forma cursi, ha generado un mont√≥n de c√≥digo para m√≠. </font><font style="vertical-align: inherit;">S√≠, este es un enfoque genial de que todo funcionar√° en todas partes. </font><font style="vertical-align: inherit;">Pero ya s√© que el usuario ha iniciado sesi√≥n desde Firefox. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√© no apagar todo el exceso? </font><font style="vertical-align: inherit;">De acuerdo, hay muchas menos l√≠neas, enviamos menos bytes, esto es genial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenemos una versi√≥n lite de SERP, Granny. </font><font style="vertical-align: inherit;">Vitaly Kharisov habl√≥ de ella</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vithar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informe de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> clase </font><font style="vertical-align: inherit;">sobre los d√≠as de est√°ndares web. Utiliza exactamente este enfoque. Podemos generar varios paquetes y d√°rselos a diferentes clientes de diferentes maneras. Pesan mucho menos, porque Firefox tiene el suyo, WebKit tiene el suyo y funciona, est√° verificado. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/av/3l/rj/av3lrjwxk0h7r1uvu2soqygili8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√°s lejos. Lo m√°s probable es que procesemos las solicitudes de los usuarios, sabemos que la persona est√° autorizada y usamos cierta informaci√≥n personal para √©l. Es l√≥gico que obtengamos algo de la base de datos. ¬°Pero no todos! Hay cosas est√°ticas que no difieren para ninguno de los usuarios, son exactamente lo mismo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
James Akvuh ley√≥ un excelente </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">informe al</font></a><font style="vertical-align: inherit;"> respecto</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Representaci√≥n del lado del servidor. </font><font style="vertical-align: inherit;">Hazlo tu mismo". </font><font style="vertical-align: inherit;">¬øCual es el punto? </font><font style="vertical-align: inherit;">Ya sabe que tiene HTML y alg√∫n tipo de CSS que es igual para todos los usuarios. </font><font style="vertical-align: inherit;">Antes de buscar cualquier dato, puede generar la salida de estos datos est√°ticos, enviar de inmediato el m√°s √∫til en una secuencia desde el servidor. </font><font style="vertical-align: inherit;">Y despu√©s de eso, busque los datos, rec√≠balos r√°pidamente, convi√©rtalos en plantillas y d√©selos al cliente. </font><font style="vertical-align: inherit;">Y el usuario ya ver√° algo √∫til.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://mefody.dev/talks/css-cost/images/screencast-yandex-prerender.mp4" type="video/mp4"></video></div></div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hemos implementado esto hace mucho tiempo. Tenemos en SERP, en la p√°gina de b√∫squeda principal, dos fases: b√∫squeda previa y b√∫squeda posterior. La b√∫squeda previa es cuando enviamos todas las piezas que no necesitan conocimiento sobre qu√© usuario ha iniciado sesi√≥n. Ya podemos darle, por ejemplo, un sombrero. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es decir, tenemos una barra de b√∫squeda que el usuario puede comenzar a usar antes de que todo lo dem√°s se cargue. Esto es √∫til en una conexi√≥n lenta. Lo hacemos, funciona. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y tambi√©n habl√© sobre http / 2. Esto es totalmente compatible con los navegadores modernos, por lo que si a√∫n no lo ha configurado en su servidor, al menos descubra c√≥mo configurarlo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server Push es una tecnolog√≠a genial que dice: ‚ÄúNavegador, todav√≠a no te he dado el conocimiento de que necesitas alg√∫n tipo de CSS. Pero s√© exactamente lo que se necesita. As√≠ que sostenlo, precargalo ‚Äù. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6b/hr/do/6bhrdomeghpruxrhggwss8lpe4a.png"><br>
<br>
<img src="https://habrastorage.org/webt/0_/h-/eo/0_h-eognhuhs4pp55sj0rzltkly.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No es dificil. Debe configurar un par de encabezados en el servidor y todo comenzar√° a funcionar. Si el navegador no conoce este t√≠tulo, nada se romper√°, este es el m√°s hermoso. Vamos a cavar a√∫n m√°s. TCP Ya hablamos sobre esto: un apret√≥n de manos, se env√≠an bytes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/f4/gy/htf4gytrvdio_te6zyz5wsevhn8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L√°vese las manos despu√©s de un apret√≥n de manos. Pero en t√©rminos de TCP, comenzamos a reenviar bytes, y los algoritmos est√°n lo suficientemente optimizados para que el servidor del cliente no permanezca inactivo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, se env√≠a primero un determinado segmento de datos. Por defecto, (esto puede cambiar en la configuraci√≥n) es 1460 bytes. El servidor no env√≠a informaci√≥n sobre un segmento. √âl env√≠a ventanas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera ventana es 14600 bytes, diez segmentos. Luego, si la conexi√≥n es buena, comienza a agrandar las ventanas. Si la conexi√≥n es deficiente, puede reducir la ventana. ¬øQu√© es importante entender? Existe la primera ventana de diez segmentos, en la que debe ajustar todo el sitio, si lo desea. Y luego habr√° una velocidad m√°xima de aparici√≥n del contenido. </font><font style="vertical-align: inherit;">Vitaliy Kharisov </font><font style="vertical-align: inherit;">tambi√©n ley√≥ un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre esto </font><font style="vertical-align: inherit;">. Y s√≠, es posible ajustar un sitio con todo lo que necesita en una ventana si desactiva, por ejemplo, JS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un matiz importante. </font><font style="vertical-align: inherit;">Cuando llena un segmento completo, es un segmento. </font><font style="vertical-align: inherit;">Pero si env√≠a solo un byte adicional, el servidor a√∫n enviar√° un segmento adicional completo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h4/8v/ut/h48vut1nv1yldqqdo2ubbe3miai.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede hacer una buena optimizaci√≥n, reducir la producci√≥n en un kilobyte completo, pero no ver√° nada en sus mediciones, tal vez debido a esto. </font><font style="vertical-align: inherit;">Intente hacer la optimizaci√≥n normalmente en varios segmentos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Extra√±o: soy un tipogr√°fico, y le digo cosas tan complejas al servidor. </font><font style="vertical-align: inherit;">Acerqu√©monos a√∫n m√°s al CSS real.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enviar menos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, enviamos menos al usuario, menos segmentos, llega m√°s r√°pido, el usuario est√° contento. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/76/hb/6l/76hb6lkb_giyi6iwvnfvaui4yuk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minificaci√≥n Ella estaba preparada para sus proyectos. Hay un mont√≥n de herramientas geniales, complementos de paquete web, configuraciones de trago; en general, lo descubrir√° usted mismo. Puede personalizarlo a mano, pero parece solo cuando est√° seguro de que puede comprimir su enfriador CSS que cualquier CSSO. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recuerde habilitar la compresi√≥n. Si al menos gzip no est√° activado en 2020, definitivamente est√° haciendo algo mal, porque esta es una antigua t√©cnica de compresi√≥n. En general, en 2020, es hora de usar brotli. Esta es una buena manera de reducir ligeramente la salida en los navegadores Chromium. O, si no desea admitir brotli, al menos puede probar zopfli.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es un algoritmo de compresi√≥n bastante lento para gzip, que simplemente proporciona los mejores resultados de compresi√≥n y se descomprime tan r√°pido como gzip normal. Por lo tanto, zopfli debe configurarse sabiamente y usarse solo cuando no necesite generar datos sobre la marcha. Puede configurar los archivadores gzip para que se recopilen durante el ensamblaje utilizando el algoritmo zopfli y se env√≠en est√°ticamente, de hecho, no se ejecutan al vuelo. Esto te puede ayudar. Pero tambi√©n mida los resultados.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pu/f6/sm/puf6smovgfumpzw6cdrj4nxvjzo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos estos algoritmos utilizan alg√∫n tipo de diccionario: un diccionario se construye sobre la base de fragmentos de c√≥digo repetidos. Pero a veces dicen: es necesario alinearse, si lo hacemos, nos deshacemos de la solicitud. Vincular todo el CSS en HTML ser√° muy r√°pido. El truco es que gzip funciona un poco m√°s eficientemente cuando desglosa estilos y HTML, porque los diccionarios son diferentes, m√°s eficientes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mi caso, simplemente tom√© la p√°gina de arranque, vincul√© all√≠ y compar√© las dos versiones. Gzip sobre recursos individuales es 150 bytes menos. S√≠, la ganancia es muy peque√±a. Aqu√≠ tambi√©n debes medir todo. Pero en su caso, esto puede, por ejemplo, reducir el n√∫mero de segmentos en uno.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo optimizar el c√≥digo? No estoy hablando de minificaci√≥n. Quite lo que no est√° usando en el proyecto. Lo m√°s probable es que tenga un c√≥digo que nunca se ejecutar√° en el cliente. ¬øPara qu√©? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oc/qy/i3/ocqyi32nsmaifhfwjtobuhbfyt0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que pueda automatizar esto, hay pesta√±as especiales integradas en el navegador, por ejemplo, en Chrome DevTools, esto es Cobertura, que le dice: "No utilic√© este CSS o este JS, puede cortarlo". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero es posible que tengas un elemento emergente, foco, activo, algo instalado usando JS. Debe simular todas las acciones posibles en el sitio, solo entonces estar√° seguro de que este CSS se puede cortar. Chris Coyer tiene un buen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">art√≠culo de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> revisi√≥n </font><font style="vertical-align: inherit;">sobre herramientas autom√°ticas que intentan hacer todo con el mouse y el enfoque. Pero lleg√≥ a la conclusi√≥n de que era imposible automatizar esto. A√∫n no funciona.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay un buen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informe de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anton Kholkin de Booking.com, donde tambi√©n intentaron eliminar un mont√≥n de c√≥digo heredado. </font><font style="vertical-align: inherit;">Pero ten√≠an una peculiaridad: un c√≥digo heredado que proven√≠a de proyectos externos. </font><font style="vertical-align: inherit;">Era necesario quitarlo. </font><font style="vertical-align: inherit;">Vea qu√© soluciones interesantes encontraron. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usted mismo puede intentar jugar con el mismo Titiritero, que es como Chrome. </font><font style="vertical-align: inherit;">Puede hacer pruebas que pasan autom√°ticamente por todo, tratar de hacer flotar, concentrarse. </font><font style="vertical-align: inherit;">Y use esta misma cobertura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mi colega Vitya Khomyakov</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">victor-homyakov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hice mi propio </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">script</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , como encontrar duplicados y estilos en una p√°gina. Solo toma, copia y pega. √âl te escribir√° en la consola: "este selector, al parecer, no lo necesitas". Hasta el punto que solo ingrese en DevTools. Es impresionante. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5q/4i/4g/5q4i4gjomb59s7ry5xcukiqi0zc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una caracter√≠stica que realmente me gusta de las herramientas de los desarrolladores de Firefox: una oportunidad para ver estilos que parecen ser utilizados, pero de hecho el navegador no los aplica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, puede establecer display: inline, y parece que esta pantalla: inline no tiene sentido establecer tama√±os. O alineaci√≥n vertical, solo funciona en l√≠nea o celda de tabla. Hasta ahora, solo he visto en Firefox que puede resaltar: "no necesita esta l√≠nea".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ tambi√©n debes tener cuidado: quiz√°s uses este estilo para luego pegar la clase. Pero en mi opini√≥n, una caracter√≠stica genial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√°gase la pregunta ahora mismo: ¬ønecesita todo el Bootstrap en el proyecto? Coloque cualquier marco CSS que use en lugar de Bootstrap. Lo m√°s probable es que use Bootstrap para cuadr√≠culas y elementos m√°s o menos comunes, y la mitad de Bootstrap que no necesita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intente usar el ensamblaje correctamente. Casi todos los marcos CSS modernos le permiten usar el c√≥digo fuente para el ensamblaje y seleccionar solo lo que necesita. Esto puede reducir dr√°sticamente el tama√±o del paquete CSS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No regalar sin usar. En lugar de buscar mi legado, puede usar la comprensi√≥n de nivel de compilaci√≥n de que esta p√°gina no usar√° este CSS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, una pila BEM completa le permite realizar el ensamblaje para que usted, ya dando la p√°gina, pueda construir un √°rbol de todos los componentes de los bloques BEM que estar√°n en la p√°gina. BEM le permite determinar que si este bloque no est√° en la p√°gina, no hay necesidad de cargar este CSS. Enviar solo lo necesario. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Incluso los chicos de Google </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dicen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : use BEM, realmente puede ayudarlo para la optimizaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No creo que lo diga en voz alta, pero en este caso CSS-in-JS parece ser un buen enfoque. Cuando escribe componentes independientes independientes y configura cuidadosamente el ensamblaje o determina en tiempo de ejecuci√≥n qu√© bloques se usan y cu√°les no, puede deshacerse del problema de encontrar un c√≥digo heredado simplemente no enviando este c√≥digo al cliente. Suena f√°cil, pero se necesita disciplina. Pi√©nselo de antemano al comienzo del proyecto.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/he/na/zrhenay2u6hrppvi4jx-ams_njo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© otra opci√≥n hay? Un poco loco. En este c√≥digo, parece que el estilo no es necesario, porque usamos un div; el valor predeterminado ya se muestra: block. ¬øY eliminemos todos los valores predeterminados? Si en su proyecto sabe con certeza que el marcado HTML nunca volver√° a cambiar, revise los valores predeterminados que el navegador ya proporciona y elim√≠nelos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menos estilos, ¬°genial! Pero esta es otra vez una idea loca. CSS no tiene que saber sobre HTML, porque es un estilo. Es bastante independiente, debe conectarlo a otro proyecto, deber√≠a funcionar all√≠. Y s√≠, es dif√≠cil de mantener. Cambia la etiqueta: todo se rompe. Idea loca como se prometi√≥. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utiliza variables. CSS tiene variables muy antiguas como currentColor.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vh/eg/om/vhegomyxszcuft3mc8rloetjmio.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A menudo hay un patr√≥n: desea, por ejemplo, hacer un bot√≥n cuyo texto y borde tengan el mismo color. Y al pasar el rat√≥n los cambiamos a ambos. ¬øPara qu√©? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-v/-5/jl/-v-5jle8hdyn94asbckxmh0ev_i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay una variable currentColor que toma un valor del color, y lo coloca, por ejemplo, en el borde, representa esta propiedad y cambia solo una l√≠nea al pasar el mouse, al enfocar, al activar, lo que desee. Esto parece ser conveniente, y el c√≥digo se ha convertido en una l√≠nea menos. Puedes optimizar. Por cierto, en este ejemplo, no puede usar la tarea de color de borde en absoluto, porque de forma predeterminada ya toma un valor de la propiedad de color. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A veces es muy triste ver c√≥mo se usa base64. En CSS, se recomend√≥ activamente antes: use base64 para inyectar iconos peque√±os. Si cabe en un segmento a trav√©s de TCP, es bueno para usted. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/95/uu/rb/95uurb_rsvp6_xjhnolso-ftl-o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero Harry Roberts tambi√©n</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Llev√≥ a cabo un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estudio con clase sobre c√≥mo base64 afecta la carga de la p√°gina. S√≠, hay menos solicitudes, pero estos estilos se analizan a veces m√°s lentamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acuerdo, el an√°lisis es una operaci√≥n muy r√°pida, el usuario probablemente no lo notar√°. Pero tenemos una m√©trica importante: la primera representaci√≥n, para que el usuario vea algo en la p√°gina. En tel√©fonos m√≥viles, la primera representaci√≥n, seg√∫n un estudio de Harry Roberts, ocurre diez veces m√°s tarde. ¬øPiensa si necesita base64? S√≠, hay menos solicitudes, pero ¬øtuvo alg√∫n efecto? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y por favor no use base64 para SVG. Porque SVG es excelente para usar el codificador de URL. Julia Bukhvalova tiene una </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">herramienta</font></a><font style="vertical-align: inherit;"> genial</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Entre, pegue su SVG y le dar√° CSS en un formulario listo para pegar. Puede notar que no hay base64, pero se escapan algunas cosas que en CSS pueden no percibirse correctamente. Es mucho m√°s eficiente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En promedio, base64 le da un plus del 30% al tama√±o de lo que comprime. ¬øPara qu√©? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utiliza tecnolog√≠a moderna. Es posible que debamos admitir Internet Explorer, los argumentos habituales cuando hablamos de cuadr√≠culas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pe/mg/xu/pemgxutjaqos0iq67ch7qdzudnc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero pi√©nselo: si no tiene soporte para IE y todav√≠a est√° escribiendo en flotante o tablas, puede usar cuadr√≠culas para hacer un dise√±o de tres columnas con un espacio de 20 p√≠xeles: esta es la distancia entre las columnas. Tres lineas. Bueno, cinco, considerando el anuncio en s√≠.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prueba esto en un flotador. Y quiero decir que cambiamos tres l√≠neas, incluido el nombre de las clases, si tocas HTML. No encontr√© una manera de hacer lo mismo genial en un flotador. Desecha tus decisiones. Pero usa la tecnolog√≠a moderna. Le permiten indicar de forma m√°s compacta el marcado. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ji/vb/ze/jivbzezcoj7ou78zj5ylexaxd8i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puedes probar Atomic CSS. ¬øQu√© es? Escribes estos nombres de clase un poco locos. Y despu√©s de un tiempo, comienza a comprender que es usted quien establece el color de fondo o simplemente el color. Estas son las "caracter√≠sticas" para CSS. Pero tiene un conjunto de CSS fijo que luego usa en HTML como una indicaci√≥n de estilo. Y CSS de repente se est√° volviendo m√°s peque√±o. Para proyectos grandes, realmente se har√° m√°s peque√±o, porque hay menos estilos √∫nicos. Pero est√°s creciendo HTML.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gy/77/fl/gy77flr72xq4fuxlgz0jq3etfcu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede mirar en la direcci√≥n de Tailwind CSS, que ahora est√° ganando popularidad. No es Atomic CSS, se trata de clases de utilidad, similares a Bootstrap, solo que m√°s utilitarias. Puedes usar un conjunto espec√≠fico. Suficiente parece ser suficiente para ti. Un conjunto de clases que realizan sus funciones. Tambi√©n puedes intentarlo, pero no exageres demasiado. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kn/ir/8j/knir8jsxsmezohd8gouoba98pk4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra idea loca: ¬øpor qu√© necesitamos nombres completos de clase en el cliente? S√≠, es conveniente para el desarrollo y la depuraci√≥n, pero tomemos todos los nombres de clase y hag√°moslos con una sola letra. Ser√° menos </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un art√≠culo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre c√≥mo hacer esto. Puede configurar webpack u otro complemento al compilar. Pero no despeg√≥ de nosotros. Nosotros tratamos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Result√≥ que gzip es tan genial que todo estaba bastante bien optimizado para nosotros, y BEM y gzip son incre√≠blemente amigables. </font><font style="vertical-align: inherit;">Porque las construcciones de texto se repiten para describir bloques y elementos en el c√≥digo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En general, esto casi no nos dio ganancias. </font><font style="vertical-align: inherit;">Pero si, por ejemplo, no tiene BEM y un mont√≥n de clases diferentes, puede intentarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Importante: medida. </font><font style="vertical-align: inherit;">Mida todas esas piezas experimentales. </font><font style="vertical-align: inherit;">Tal vez ahora funcione para usted, y luego cambi√≥ ligeramente la arquitectura del proyecto, comenz√≥ a ensamblarse de manera diferente y todo se ralentiz√≥.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Descargalo!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasta ahora, solo he hablado sobre c√≥mo descargar un archivo. Lo descargamos. ¬øQu√© ha visto el usuario todo este tiempo? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hv/0l/8e/hv0l8e1uk89lmfqategu9yux-je.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vio una pantalla tan asombrosa. Mientras est√°bamos descargando, la pantalla estaba en blanco. Lo descargamos y el navegador comienza seis pasos m√°s. Tenga paciencia un poco, hablar√© sobre ellos un poco m√°s r√°pido que sobre la descarga. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4c/zj/yy/4czjyy-8-jl4c4qdm9dzgczmfes.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos con el an√°lisis. El an√°lisis se produce cuando un navegador ha descargado una secuencia de bytes y comienza a dividirlo en entidades que comprende.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/709/df0/50d/709df050daf8e241e96c31e73c720fad.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, se encontr√≥ con la importaci√≥n. Esto nuevamente debe ser descargado. ¬øLeer de nuevo la primera parte del informe? importar es una operaci√≥n de bloqueo. Pero los navegadores son inteligentes. Tienen un esc√°ner de precarga. Dije que todo est√° bloqueado all√≠, esto no es cierto. Los navegadores saben que, por ejemplo, si hay tres etiquetas de enlace seguidas que siguen el estilo, cuando descargue el primero, puede comenzar a descargar el segundo y el tercero. No se puede analizar, porque toda la estructura del an√°lisis se rompe. Pero descargue por adelantado, puede. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/yw/qw/abywqwqotl2uyae8y67kpx_-6ky.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces importar es algo malo. Si los estilos son consistentes en HTML, el navegador ver√° que iremos m√°s all√° para otro archivo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/zb/-k/xfzb-kzu_zycogs1kilkjp73rsy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y si lo inserta directamente en la importaci√≥n, primero debe descargar su style.css, luego ver la importaci√≥n en √©l. √âl comienza a analizar este CSS ... ¬°S√≠, bloqueamos todo de una manera nueva y buscamos el archivo! Para que pueda hacer una cascada fresca con desoptimizaci√≥n en el sitio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Olv√≠date de la importaci√≥n o config√∫ralo para que no haya importaci√≥n despu√©s de la compilaci√≥n. Para el entorno de desarrollo, ok, pero no para el usuario. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/le/2g/lx/le2glxus3towgrovquopecvq1nu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuaci√≥n, pasamos por las etapas de construcci√≥n de √°rboles, usando Cascade. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/g-/q8/qog-q84eqwq9dszmfw3zlo7f__0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo esto tambi√©n se describe durante mucho tiempo. Se construye el modelo de objetos CSS: un √°rbol especial de c√≥mo el navegador asigna etiquetas, clases a estilos. Lo vincula todo al DOM y hace estas conexiones muy r√°pidamente. Cuando cambias algo, es suficiente para que √©l lo cambie dentro del √°rbol.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cp/kv/b1/cpkvb1obn0v0kwyr1ijpgmc3vmc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuanto m√°s grande sea el selector, m√°s dif√≠cil ser√° para el navegador dibujar un √°rbol. Necesita analizar el selector, convertirlo en estructuras de √°rbol. Y si insert√≥! Importante all√≠, entonces deber√≠a tener esto en cuenta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/z_/ld/abz_ldlw6yhtfzvfiak5pjnnjem.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que es hora de hablar de BEM nuevamente. Pero BEM no es necesario si sabe c√≥mo usar las clases de utilidad, si una clase es responsable de una funcionalidad y no interfieren entre s√≠. Entonces construir un √°rbol es muy simple. Tiene una estructura bastante plana y luego el navegador debe vincularla correctamente al DOM.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w3/tt/fd/w3ttfdtaor_cd7m8e4gikrch4po.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si hace esto, entonces dicen que tales selectores ralentizan el an√°lisis CSS. Pero estas son leyendas hace mucho tiempo, la diferencia es tan peque√±a para el navegador que en el proyecto promedio no lo notar√° si optimiza los selectores con asteriscos. ¬øPero le gustar√≠a desarrollar y mantener ese c√≥digo? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/83/1d/po831d3idqqnykaw8ieprtg5eoo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sol√≠a ‚Äã‚Äãescuchar consejos: intente poner todo en un atajo. El fondo es un acceso directo para muchas otras propiedades. Ponemos todo en una propiedad, y se vuelve √≥ptimo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por bytes, s√≠, se est√° volviendo m√°s peque√±o. Pero si desea optimizar la composici√≥n de CSS OM, entonces el navegador seguir√° sacando todas estas propiedades del fondo. Los navegadores para cada elemento DOM crean una tabla de todas las propiedades que puede tener. Cuando observa los valores calculados de DevTools, no est√°n all√≠ porque el navegador los calcul√≥ de acuerdo con sus requisitos. Almacena esto en la memoria, porque es mucho m√°s f√°cil reescribir una propiedad y todo funciona. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este tambi√©n es un consejo muy extra√±o, pero si desea que CSS OM sea m√°s r√°pido, puede establecer de inmediato todas las propiedades de una en una. Aquello podr√≠a funcionar. Pero el tama√±o del paquete aumentar√° considerablemente. Necesitas medir. Dudo que d√© ganancias, ¬°pero de repente!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se construye CSS OM, JS tambi√©n est√° bloqueado en este punto. Si construir OM CSS toma dos segundos, JS falla. Aunque no puedo imaginar c√≥mo lograste escribir tanto en CSS que el √°rbol se construye durante dos segundos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/25/0e/un/250eunwpu4yepgffhza-6g1u2dg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s el navegador hace dise√±o. Esta es la ubicaci√≥n de todos los elementos DOM, el uso de posiciones. √âl entiende d√≥nde debe ubicarse el elemento y con qu√© dimensiones. Parece que en esta etapa el usuario ya deber√≠a ver alg√∫n tipo de imagen. Pero √©l ve todo en la ventana gr√°fica, puede mirar a trav√©s de una ventana limitada. Si algo no est√° bien desde abajo, simplemente no lo ver√°.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hg/af/_r/hgaf_racfuoqjcan8wci-i94miu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La idea se llama CSS cr√≠tico, y tambi√©n es bastante antigua. Inserta algunas cosas importantes para la primera pantalla al comienzo de la descarga. Por ejemplo, en l√≠nea en su HTML, elimine cualquier solicitud adicional. El usuario ve primero esta pantalla y luego la descarga como desee. Lo m√°s probable es que comience a desplazarse cuando tenga tiempo de cargarlo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hb/nk/0u/hbnk0uuz7vgkbubstjoqnfwgsus.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto se hace simplemente. Hay herramientas que automatizan todo esto, incluidos los complementos para webpack y React. Solo busca y configura correctamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/addyosmani/critical</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/pocketjoso/penthouse</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/anthonygore/html-critical-webpack-plugin</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/GoogleChromeLabs/critters</font></font></a><br>
<br>
<img src="https://habrastorage.org/webt/1p/pi/qp/1ppiqpkakke_gsbhxo1cybumlgo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tenga un buen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enfoque</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de Filament Group: c√≥mo cargar de forma asincr√≥nica sin bloquear CSS. Todo es bastante simple. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando ponga &lt;link rel = preload&gt;, d√≠gale al navegador: "Necesitar√© este estilo, pero ahora no estamos bloqueando nada. Lo descargas ahora, lo guardas en cach√© y, cuando lo reviso, empiezo a construir CSS OM ". Y solo necesita poner onload y procesar eso "ok, desde que lo descargu√©, h√°galo rel = stylesheet, enable parsing". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un enfoque bastante simple, pero √∫salo sabiamente tambi√©n. Si tiene demasiada precarga, puede hacerlo peor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j1/ny/ri/j1nyrizteczgvkx5dwd78_fy1yy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n puedes jugar con expresiones multimedia. P√©guelos y d√≠gale al navegador: "este estilo no es necesario ahora, pero cuando esta expresi√≥n multimedia funcione, ser√° necesario". El navegador tambi√©n se descargar√° de manera proactiva, pero con menor prioridad y sin bloqueo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ie/m3/go/iem3golzhy8qq3fulda1iwn8d0u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro enfoque loco, pero no tan loco, cuando tienes http / 2 push. Puede incrustar CSS justo en frente del bloque. Sin CSS, su bloque no se ver√° muy bien. Entonces, ¬øpor qu√© no alinear el CSS que necesita para el siguiente bloque antes de este bloque? Esto es l√≥gico, y la inserci√≥n http / 2 le permitir√° optimizarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un enfoque simple. Si lo expande, use carga diferida. ¬øPor qu√© un usuario debe descargar algo que no usar√°? Puede configurar los componentes React para que si nunca ha alcanzado el √°rea de visibilidad de la p√°gina, ¬øpor qu√© deber√≠a descargar estilos por s√≠ mismo? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Explore la API de Intersection Observer y podr√° acelerar dr√°sticamente su p√°gina. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-v/ag/dz/-vagdzf0qqu3mmpabixf1rw9_ss.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El √∫ltimo paso es dibujar y aplicar a capas compuestas, pegarlas, etc.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/be/1v/bc/be1vbcsui3hmenm-0ryzhadzrjs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El navegador crea capas compuestas en una gran cantidad de casos. </font><font style="vertical-align: inherit;">En mi opini√≥n, solo una cuarta parte del </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo fuente de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chromium </font><font style="vertical-align: inherit;">encaja aqu√≠ </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Puedes ver por ti mismo cuando crea capas compuestas en el c√≥digo del navegador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La memoria de video es limitada, especialmente en tel√©fonos m√≥viles. </font><font style="vertical-align: inherit;">Si lleva todo a nuevas capas para optimizar las animaciones usando will-change: transform u otra cosa, entonces puede estar peor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cree menos capas, exactamente la cantidad que necesita para la optimizaci√≥n actual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Genial, todos analizamos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øY si vuelvo?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øY si regreso a la p√°gina? Esta es solo la primera vez que fui. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al volver a la p√°gina, parece que puedo descargar todo al instante. Ya descargu√© todos los recursos, ¬øpor qu√© no usarlos por segunda vez? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8v/di/1l/8vdi1lapv3i9ka0lb-swsysnhms.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si el servidor no proporciona el encabezado Cache-Control, el navegador intentar√° almacenar en cach√© su archivo para reutilizarlo. Puede configurar su servidor de manera predeterminada, por ejemplo: "guarde en cach√© este archivo durante todo un a√±o". No cambiar√°. Pero si es as√≠, debe lidiar con el problema de invalidaci√≥n de cach√© global. Pero este es el tema de un informe separado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Use trabajadores de servicio! 2020, es hora, aplicaciones web progresivas! Kirill Chugainov tuvo un buen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre c√≥mo se pueden usar los Service Workers para diferentes ocasiones. En este caso, intercepta la solicitud CSS, gu√°rdela y, si el navegador sigue este estilo por segunda vez, ret√≠rela del cach√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero el navegador no te promete nada. Siempre puede enfrentar el hecho de que el navegador se ha quedado sin memoria. Intentar√° almacenar en cach√©, pero no hay memoria. El almacenamiento en cach√© no es cien por ciento. Siempre maneja tales situaciones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puedes intentar usar el almacenamiento local. Pero √©l es muy lento. La descarga de un archivo a veces es m√°s r√°pida que ir a la API de almacenamiento local. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede probar la base de datos del navegador incorporada. Pero m√≠delo. Quiz√°s un viaje a JS te llevar√° m√°s tiempo debido a un procesador d√©bil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n puede decirle al navegador de antemano que descargar√° algo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7a/_f/oq/7a_foqb9hzh_ycjaddhrkarqhia.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;link rel&gt;: aprenda c√≥mo funciona este atributo. Hay una preconexi√≥n, una captaci√≥n previa, una rendici√≥n previa. Quiero hablar de ello por separado. √âl dice: ‚ÄúEstoy en esta p√°gina ahora, y luego ir√© a la siguiente. Descargue todo para esta p√°gina en la pesta√±a de fondo y dibuje ". Cosas interesantes. No funciona en ning√∫n lado. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iy/ca/ql/iycaqlaidexf0urgnjv05zpjskg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cierto sentido, es compatible con IE y Edge. En Chrome, realmente no hace esto, no se procesa. Funciona como captaci√≥n previa: descarga estos archivos y cach√©s. Desafortunadamente, una representaci√≥n completa no funciona en ning√∫n lado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero puedes desarrollar esta idea. Por ejemplo, en la aplicaci√≥n Yandex, naturalmente, sin usar CSS, se realiza una representaci√≥n previa. Cuando est√° buscando algo, es probable que pueda obtener sus resultados al instante. Nosotros </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">podemos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> predecir donde va a ir, y por adelantado por nuestros propios m√©todos de ir a buscar todos los recursos necesarios.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQue sigue? </font><font style="vertical-align: inherit;">Hab√≠a muchos enlaces. </font><font style="vertical-align: inherit;">Tambi√©n te aconsejo que mires una incre√≠ble </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colecci√≥n de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> optimizaci√≥n de todo, desde Vanya Akulov</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iamakulov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Vea c√≥mo optimizar tanto HTML como JS y el ensamblaje. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y no te olvides de ordenar. </font><font style="vertical-align: inherit;">Ahora mi consejo realmente funciona, sugiriendo c√≥mo hacerlo r√°pidamente, pero lo m√°s probable es que, despu√©s de cinco a√±os, incluso sean da√±inos. </font><font style="vertical-align: inherit;">Habr√° alg√∫n tipo de tecnolog√≠a que ser√° incompatible con ellos. </font><font style="vertical-align: inherit;">Haga un seguimiento de esto e intente mantener su c√≥digo √≥ptimo, incluso despu√©s de un tiempo. </font><font style="vertical-align: inherit;">Gracias por la atenci√≥n.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es501988/index.html">¬øC√≥mo se visualiza la pantalla del mensaje VK?</a></li>
<li><a href="../es501990/index.html">Publicaci√≥n √∫til: 4 eventos para resolver los problemas del segundo d√≠a en OpenShift y crear operadores</a></li>
<li><a href="../es501992/index.html">C√≥mo organizar las pruebas para acelerar y estabilizar los lanzamientos de productos. Parte 1</a></li>
<li><a href="../es501994/index.html">Orchestrator for MySQL: por qu√© no se puede construir un proyecto a prueba de fallas sin √©l</a></li>
<li><a href="../es501996/index.html">Zen Go (versi√≥n de bolsillo)</a></li>
<li><a href="../es502000/index.html">12 cursos en l√≠nea de ingenier√≠a de datos</a></li>
<li><a href="../es502004/index.html">M√©todo Kanban: Entendiendo su proceso como un proceso de construcci√≥n de conocimiento colectivo - Parte 1 (recetas)</a></li>
<li><a href="../es502008/index.html">Programaci√≥n a las masas.</a></li>
<li><a href="../es502012/index.html">Azure para todos: curso de introducci√≥n</a></li>
<li><a href="../es502028/index.html">Vanya va a la abuela o JavaScript din√°mico adaptativo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>