<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤²ğŸ¼ ğŸš© ğŸ• Stasiun cuaca saku ğŸ‘ğŸ¾ ğŸ‘©ğŸ¾â€ğŸ’» ğŸ‘¨ğŸ¿â€âœˆï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ya, stasiun cuaca adalah tentang sesuatu yang mengukur sejumlah besar parameter dari arah dan kekuatan angin ke tingkat radiasi matahari, tetapi tidak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Stasiun cuaca saku</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486988/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ya, stasiun cuaca adalah tentang sesuatu yang mengukur sejumlah besar parameter dari arah dan kekuatan angin ke tingkat radiasi matahari, tetapi tidak ada istilah yang lebih cocok, jadi Anda harus menyesatkan. </font><font style="vertical-align: inherit;">Tapi soal ukuran, semuanya adil.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sb/vf/yl/sbvfylae2jg5ca22n6incvh0_le.jpeg"></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perangkat itu, mungkin, tidak memiliki banyak nilai komersial, karena </font><font style="vertical-align: inherit;">bahkan dalam jumlah komponen, itu lebih rendah daripada banyak Cina, dan tidak hanya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang memiliki fungsi serupa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DIY juga sulit untuk disebutkan karena hal-hal seperti kebutuhan untuk memesan papan sirkuit tercetak dengan penyolderan berikutnya komponen kecil / bebas timah, yang sangat mengurangi jumlah orang yang ingin mengulangi perangkat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stasiun cuaca itu sendiri diciptakan sebagai sesuatu, saya ingin berpikir, estetika, kompak dan dapat dengan cepat menilai suhu + kelembaban di sekitar, dan begitu sensor yang dipilih juga dapat mengetahui tentang tekanan, maka ini juga. </font><font style="vertical-align: inherit;">Semuanya terlihat seperti ini (dapat diklik):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/xy/6q/1n/xy6q1n0mungrju5uff3k_qznrhw.jpeg"></div></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/pa/ur/8t/paur8tgioddbzxqzwbkywgcr9pg.jpeg"></div><br>
</a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dibandingkan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/on/6z/bi/on6zbi8c1riuymare1htfaoy3gy.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentang besi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai sensor, BOSCH-BME280 dipilih, yang memberikan parameter lingkungan yang diperlukan bahkan menurut I2C, bahkan menurut SPI, delapan kaki dalam casing LGA tanpa timbel berukuran 2,5 x 2,5 mm - relatif murah, kecil. Awalnya, sensor yang lebih canggih direncanakan dari seri BME680 yang sama, yang, selain suhu, kelembaban dan tekanan atmosfer, menurut lembar data, juga dapat mengevaluasi kualitas udara dengan apa yang disebut Index for Air Quality (IAQ). Tampaknya tidak buruk, tetapi ternyata IAQ hanya dapat diperoleh dengan menggunakan BSEC: Bosch Software Environmental Cluster, yang, berdasarkan pembacaan sensor dan mengubah pembacaan ini, menghitung IAQ. Tampaknya Anda dapat mengambil kesaksian sendiri dan menghitung semuanya; Tidak tentu seperti itu. Atas permintaan untuk mengukur kualitas udara, sensor memberikan ketahanan, dalam ohm.Ini memanaskan bagian dalam area sensitif kecil yang bereaksi dengan konduktivitas terhadap keberadaan zat organik yang mudah menguap - Volatile Organic Compounds (VOC), dan memberikan hasil yaitu: resistensi terhadap area ini. Pada dasarnya,</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beberapa pengrajin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menawarkan algoritme mereka sendiri untuk menafsirkan bacaan ini tanpa BSEC, tetapi, antara lain, biaya berganda, dibandingkan dengan BME280, tidak punya pilihan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xm/6f/ua/xm6fuaet6jexqzojp2ijibwk8yg.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Layar terdiri dari dua TOS-F2101, ini adalah indikator tujuh-segmen biasa warna hijau dengan katoda umum. </font><font style="vertical-align: inherit;">Yang penting, ini adalah ukuran dan rumah untuk pemasangan permukaan, memungkinkan Anda untuk menempatkannya dengan cara yang tidak konvensional. </font><font style="vertical-align: inherit;">By the way, ini adalah indikator planar terkecil yang ditemukan dijual, dan mereka, untuk sebagian besar, menentukan ukuran seluruh perangkat.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mv/s2/ur/mvs2urkyspmxu99dx60ynxqs0ju.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengelola semua STM32F072 dalam paket QFPN 48-pin. </font><font style="vertical-align: inherit;">Dipilih, sekali lagi, berdasarkan ukuran, ketersediaan periferal dan jumlah kesimpulan yang diperlukan untuk mengendalikan indikator, yang, dalam versi ganda, untuk beberapa alasan, tidak terjadi dan kesimpulan harus sopan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dd/1q/ph/dd1qph6m-u11ozvyb8nudzl1mf0.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sisanya adalah resistor, kapasitor, konverter tegangan 3,3 V, semakin sedikit - semakin baik, dalam batas wajar dan komponen TTX, tentu saja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konektor USB dibuat di papan tulis. Untuk kontak yang andal, ketebalan PCB harus sekitar 2 mm. Jika Anda dipandu oleh gambar pada USB Tipe-A, maka ada sedikit lebih, tetapi jika Anda memperhitungkan topeng di kedua sisi, ternyata cukup lumayan. Tentu saja, format konektor ini menyisakan lebih banyak peluang untuk kerusakan mekanis pada outlet USB, tetapi, pada umumnya, ini dapat diatasi dengan menggunakan flash drive biasa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tombol sentuh adalah poligon bulat di bawah gambar di papan, tombol merespons sentuhan pendek dan panjang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain tampilan, papan memiliki tiga LED yang menunjukkan bacaan mana yang saat ini ditampilkan pada indikator.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adapun perangkat lunaknya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Program ini ditulis menggunakan CMSIS, frekuensi operasi 48 MHz dan dari sumber internal; ada satu di sini, Anda bahkan dapat menggunakan USB tanpa menggunakan kuarsa eksternal. Untuk fleksibilitas dan, mungkin, perluasan fungsi, FreeRTOS ditambahkan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tombol sentuh ditangani oleh pengontrol Sentuh sentuh (TSC). Karena tidak ada keyboard dari tombol sentuh di papan, atau slider, ketika bantalan sentuh digabungkan dalam satu garis, dan ada satu sensor yang menangkap sentuhan pendek dan panjang, tidak ada gunanya menggunakan perpustakaan komprehensif dari ST. Prinsip kerja sensor sensor sederhana, ada beberapa kesimpulan yang digabungkan dalam kelompok, kapasitor (Capling kapasitor) Cs terhubung ke salah satunya, kesimpulan ini menjadi contoh, kesimpulan yang tersisa dari kelompok dapat dihubungkan ke poligon sensor, yang sebenarnya juga kapasitor Cx . Pengontrol mengisi kapasitansi kapasitor TPA Cx dan kemudian muatan ini didistilasi ke dalam model Cs, operasi diulangi hingga batas tegangan tertentu pada Cs. Kapasitas sensor biasanya kecil,oleh karena itu, banyak operasi seperti itu akan diperlukan dan ada register terpisah (TSC_IOGxCR) untuk penghitungan. Jika Anda menyentuh sensor, maka kapasitansi Cx akan menjadi lebih dan siklus pengisian Cs akan lebih sedikit, maka segera diperbaiki dan sentuhan dilaporkan ke atas. Omong-omong, kapasitansi sensor mulai meningkat ketika tidak ada sentuhan langsung, sehingga sensor dapat dilindungi dari kontak fisik, misalnya dengan masker, atau Anda dapat merekam berbagai tingkat perkiraan.atau memperbaiki berbagai tingkat perkiraan.atau memperbaiki berbagai tingkat perkiraan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk berkomunikasi dengan BME280, antarmuka I2C digunakan. </font><font style="vertical-align: inherit;">Implementasi I2C di STM32F072 lebih sederhana daripada di STM32F103 yang populer, antara lain, Anda tidak perlu melacak secara terpisah 1/2 / banyak byte yang diterima, cukup untuk menentukan jumlah mereka di muka (I2C_CR2.NBYTES [7: 0]). </font><font style="vertical-align: inherit;">Pustaka yang sama untuk bekerja dengan sensor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disediakan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan direkomendasikan untuk digunakan oleh pabrikan sensor. </font><font style="vertical-align: inherit;">Untuk membaca bacaan menggunakan perpustakaan, Anda perlu membuat dua struktur - untuk pengaturan dan data. </font><font style="vertical-align: inherit;">Dalam pengaturan yang perlu Anda lakukan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alamat sensor pada bus I2C</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fungsi baca / tulis I2C serta fungsi penundaan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jumlah pembacaan indikasi untuk rata-rata (Oversmpling) x1, x2, dll., untuk masing-masing parameter suhu / kelembaban / tekanan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">koefisien penyaringan untuk ADC</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">periode penghapusan nilai parameter</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">secara umum, yang mana dari parameter dapat dibaca, misalnya, Anda dapat meninggalkan satu suhu</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode operasi, "normal" - dengan pembacaan berkala, "terpaksa" - mengambil pembacaan berdasarkan permintaan</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada prinsipnya, jika mode "normal" dipilih, maka nilai aktual dari bacaan dapat diperoleh dengan menjalankan fungsi "bme280_get_sensor_data", itu akan melihat register sensor yang sesuai, membaca bacaan langsung, dan kemudian memprosesnya sesuai dengan faktor koreksi yang dicatat dalam mikrosirkuit di pabrik. </font><font style="vertical-align: inherit;">Akibatnya, struktur data output akan mengandung suhu dalam derajat Celcius, kelembaban relatif dalam persen, tekanan atmosfer di Pascal. </font><font style="vertical-align: inherit;">Dalam mode "paksa", hal yang sama, hanya setiap kali sebelum membaca bacaan, Anda perlu menjalankan konversi "bme280_set_sensor_mode".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prinsip umum perangkat adalah sebagai berikut: terhubung ke USB, atau ke Power Bank dalam versi seluler. Untuk tampilan awal dan pergantian pembacaan - sentuhan singkat sensor, untuk menonaktifkan - sentuhan panjang. Pertama, suhu dalam derajat Celcius ditampilkan, kemudian kelembaban relatif dalam persen dan tekanan atmosfer dalam milimeter air raksa, karena hanya ada dua indikator, dan indikator tekanan jarang melampaui tujuh ratus, maka angka tujuh adalah virtual di sini. Jika Anda tidak menyentuh sensor untuk sementara waktu, indikator akan mati sehingga, misalnya, Anda tidak melepaskan Power Bank. Konsumsi rata-rata perangkat adalah ~ 50 mA, dan konsumen utama hanyalah indikator, jika Anda mematikannya, hitungannya masuk ke microamps.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/os/yc/m4/osycm4d_nxftmdscyosimsmxyqu.jpeg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9g/of/6q/9gof6qylzgjq2zeba4rkgumqvze.jpeg"></div><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/n91MdTEM7X4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, total biaya komponen pada Januari 2020 ternyata sekitar 850 rubel, ini tanpa memperhitungkan papan, itu mudah, karena </font><font style="vertical-align: inherit;">pabrikan memiliki diskon Tahun Baru, dan saya memiliki kupon, tetapi ini tidak mungkin terjadi lagi dalam waktu dekat, setidaknya sampai Desember mendatang. </font><font style="vertical-align: inherit;">Nah, mereka yang ingin membiasakan diri dengan sumber dapat melakukannya di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id486988/">https://habr.com/ru/post/id486988/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id486976/index.html">Masalah pendidikan informasi Rusia dan kemungkinan solusinya</a></li>
<li><a href="../id486978/index.html">Catatan Lapangan: Salah satu Konferensi OpenSource Terbesar FOSDEM 2020</a></li>
<li><a href="../id486980/index.html">Kim Dotcom: Tertangkap, orang yang paling dicari online. Bagian 1</a></li>
<li><a href="../id486982/index.html">Cara belajar pengembangan front-end, mencari pekerjaan pertama Anda dan tidak mendapatkan gundukan</a></li>
<li><a href="../id486984/index.html">Python Gateway di InterSystems IRIS</a></li>
<li><a href="../id486994/index.html">Angular: Integration Testing (pengujian Dangkal)</a></li>
<li><a href="../id486998/index.html">Pencetakan printer thermal yang murah dan cepat</a></li>
<li><a href="../id487000/index.html">Citrus: Style Set untuk AvaloniaUI</a></li>
<li><a href="../id487002/index.html">Augmented Reality Marketing: Apa Artinya dan Bagaimana Cara Kerjanya</a></li>
<li><a href="../id487004/index.html">Mengapa semakin banyak negara bagian AS mengembalikan netralitas jaringan - diskusikan jalannya acara</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>