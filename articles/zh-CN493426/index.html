<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“´ ğŸ¯ ğŸ†– å¾®æœåŠ¡ä¸­çš„ä»£ç ç»„ç»‡ä»¥åŠæˆ‘ä½¿ç”¨å…­è§’å½¢ä½“ç³»ç»“æ„å’ŒDDDçš„æ–¹æ³• â—ï¸ ğŸ¿ï¸ ğŸ–•ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼åœ¨Monolithä¸­ï¼Œæ‰€æœ‰ä»£ç åº”é‡‡ç”¨ç›¸åŒçš„æ ·å¼ï¼Œå¹¶ä¸”åœ¨ä¸åŒçš„å¾®æœåŠ¡ä¸­å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–¹æ³•ï¼Œç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ã€‚å¯¹äºå…·æœ‰1åˆ°2ä¸ªæ§åˆ¶å™¨å’Œ1åˆ°10ä¸ªåŠ¨ä½œçš„ç®€å•å¾®æœåŠ¡ï¼Œé˜»å¡æŠ½è±¡å±‚æ²¡æœ‰ç‰¹åˆ«çš„æ„ä¹‰ã€‚ç›¸åï¼Œå¯¹äºå…·æœ‰ä¸åŒçŠ¶æ€ä»¥åŠå®ƒä»¬ä¹‹é—´è½¬æ¢é€»è¾‘çš„å¤æ‚å¾®æœåŠ¡ï¼Œæœ€å¥½ä¸è¦ä¸€å¼€å§‹å°±æ‡’æƒ°ã€‚æˆ‘æƒ³è°ˆè°ˆæˆ‘åœ¨ä¸¤ç§æƒ…å†µä¸‹ç»„ç»‡ä»£ç ä»¥...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>å¾®æœåŠ¡ä¸­çš„ä»£ç ç»„ç»‡ä»¥åŠæˆ‘ä½¿ç”¨å…­è§’å½¢ä½“ç³»ç»“æ„å’ŒDDDçš„æ–¹æ³•</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493426/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ak/h6/c_/akh6c_safonprea6vtagzdaoy58.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å“ˆHaï¼åœ¨Monolithä¸­ï¼Œæ‰€æœ‰ä»£ç åº”é‡‡ç”¨ç›¸åŒçš„æ ·å¼ï¼Œå¹¶ä¸”åœ¨ä¸åŒçš„å¾®æœåŠ¡ä¸­å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–¹æ³•ï¼Œç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ã€‚å¯¹äºå…·æœ‰1åˆ°2ä¸ªæ§åˆ¶å™¨å’Œ1åˆ°10ä¸ªåŠ¨ä½œçš„ç®€å•å¾®æœåŠ¡ï¼Œé˜»å¡æŠ½è±¡å±‚æ²¡æœ‰ç‰¹åˆ«çš„æ„ä¹‰ã€‚ç›¸åï¼Œå¯¹äºå…·æœ‰ä¸åŒçŠ¶æ€ä»¥åŠå®ƒä»¬ä¹‹é—´è½¬æ¢é€»è¾‘çš„å¤æ‚å¾®æœåŠ¡ï¼Œæœ€å¥½ä¸è¦ä¸€å¼€å§‹å°±æ‡’æƒ°ã€‚æˆ‘æƒ³è°ˆè°ˆæˆ‘åœ¨ä¸¤ç§æƒ…å†µä¸‹ç»„ç»‡ä»£ç ä»¥åŠä½¿ç”¨DDDï¼ŒPortså’ŒAdaptersæ–¹æ³•çš„ç»éªŒã€‚è¯¥æ–‡ç« æœ‰ä¸€ä¸ªç®€çŸ­æ‘˜è¦ï¼šJune-åœ¨æ§åˆ¶å™¨ä¸­ç¼–å†™ä»£ç ã€‚ä¸­-å†™ä¸€å †æŠ½è±¡ã€‚é«˜çº§-çŸ¥é“ä½•æ—¶åœ¨æ§åˆ¶å™¨ä¸­ç¼–å†™ä»£ç ï¼Œä»¥åŠä½•æ—¶éœ€è¦æŠ½è±¡ã€‚</font></font><a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨è¿™é‡Œï¼Œæ‚¨éœ€è¦ç«‹å³ç»“æŸI-Cï¼ƒä¸­çš„ç«¯å£æ˜¯æ¥å£æˆ–æŠ½è±¡ï¼Œè€Œé€‚é…å™¨æ˜¯å…·ä½“çš„å®ç°ï¼ˆç±»ï¼Œç»“æ„ï¼‰ã€‚</font><font style="vertical-align: inherit;">ä½œä¸ºå‚è€ƒï¼Œæˆ‘å»ºè®®é˜…è¯»</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDDï¼Œå…­è§’å½¢ï¼Œæ´‹è‘±å½¢ï¼Œæ¸…æ´ï¼ŒCQRSçš„ç¿»è¯‘â€¦â€¦æˆ‘å¦‚ä½•å°†å®ƒä»¬ç»¼åˆåœ¨ä¸€èµ·ï¼Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥åŠè¿™ç¯‡æœ‰å…³</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…æ´å»ºç­‘çš„è¯¯è§£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™é‡Œï¼Œè¯·è®°ä½ï¼Œè¯¥æ–¹æ³•æ˜¯é’ˆå¯¹å¤§å‹ä¸”å¤æ‚çš„æ•´ä½“æè¿°çš„ã€‚</font><font style="vertical-align: inherit;">æˆ‘æƒ³è°ˆè°ˆè¿™ç§æ–¹æ³•åœ¨å¾®æœåŠ¡ä¸­çš„å˜åŒ–ï¼Œå…¶ä¸­80ï¼…æ˜¯ç®€å•çš„ï¼Œè€Œ20ç§æ˜¯ä¸­å¤æ‚çš„ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ¯è¯­</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1ï¼‰ä¸»é€‚é…å™¨ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»‹ç»ç”¨äºå¤–éƒ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘¼å«</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç³»ç»Ÿ</font><font style="vertical-align: inherit;">çš„ç”¨æˆ·å‹å¥½ç•Œé¢</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è°ƒç”¨å¹¶ä½¿ç”¨SecondaryApdapterså’ŒLogicã€‚</font><font style="vertical-align: inherit;">ä»–ä»¬å‘Šè¯‰åº”ç”¨ç¨‹åºåšæŸäº‹ã€‚</font><font style="vertical-align: inherit;">å…¥å£æŒ‡å‘æ‚¨çš„ä»£ç ã€‚</font><font style="vertical-align: inherit;">å…¸å‹ä»£è¡¨ï¼šItemsServiceï¼ŒCreateItemCommandHandlerã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨Logicå’ŒSecondaryAdaptersè¿›è¡Œå·¥ä½œã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2ï¼‰SecondaryAdapters </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æä¾›ä¸å¤–éƒ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è°ƒç”¨</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç³»ç»Ÿ</font><font style="vertical-align: inherit;">çš„æ¥å£ï¼Œ</font><font style="vertical-align: inherit;">æ–¹ä¾¿æˆ‘ä»¬çš„ç³»ç»Ÿä½¿ç”¨ã€‚</font><font style="vertical-align: inherit;">ä»–ä»åº”ç”¨ç¨‹åºæ¥æ”¶å‘½ä»¤ã€‚</font><font style="vertical-align: inherit;">å…¸å‹ä»£è¡¨ï¼šItemsRepositoryï¼ŒEmailSenderï¼ŒLoggerï¼ŒDistributedCacheã€‚</font><font style="vertical-align: inherit;">ä»–ä»¬ä½¿ç”¨è¯¸å¦‚EntityFrameworkä¹‹ç±»çš„åº“å’Œæ¡†æ¶è¿›è¡Œå·¥ä½œã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ï¼‰é€»è¾‘</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1ï¼‰å®ä½“</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“åˆæ•°æ®å’Œé€»è¾‘ã€‚</font><font style="vertical-align: inherit;">å…¸å‹çš„OOPå¯¹è±¡ã€‚</font><font style="vertical-align: inherit;">é¡¹ç›®ï¼Œé‡‘é’±ï¼Œç”¨æˆ·ã€‚</font><font style="vertical-align: inherit;">ä¹Ÿæœ‰ValueObjectså’ŒEventsã€‚</font><font style="vertical-align: inherit;">ä»…ä½¿ç”¨â€œå®ä½“â€å±‚ä¸­çš„å…¶ä»–å¯¹è±¡ã€‚</font><font style="vertical-align: inherit;">ä»ç†è®ºä¸Šè®²ï¼Œè¯¥å±‚æ˜¯ä¸ä¾èµ–ä»»ä½•äººçš„åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒã€‚</font><font style="vertical-align: inherit;">ä¸€åˆ‡éƒ½å–å†³äºä»–ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2ï¼‰DomainServices</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è£¸è®¡ç®—ã€‚</font><font style="vertical-align: inherit;">å®ƒä»¬æ˜¯æ— æ³•é™„åŠ åˆ°ä¸€ä¸ªç‰¹å®šå®ä½“çš„é€»è¾‘æ‰€å¿…éœ€çš„ã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨å®ä½“æˆ–å…¶ä»–DomainServicesã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸è¦</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨PrimaryAdaptersï¼ˆå®ƒä»¬æ€»æ˜¯è‡ªå·±ä½¿ç”¨ï¼‰å’ŒSecondaryAdaptersã€‚</font><font style="vertical-align: inherit;">é€šå¸¸ï¼Œè¿™æ˜¯å„ç§AmountCalculatorï¼ŒValidatorç­‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»£ç è°ƒç”¨æµåº”å§‹ç»ˆæ²¿ä¸€ä¸ªæ–¹å‘è®¾ç½®PrimaryAdapters-&gt; Logicå’ŒSecondaryAdaptersã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸŸ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯ç³»ç»Ÿæ­£åœ¨å¼€å‘çš„ä¸»é¢˜é¢†åŸŸã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚å¯¹äºåŸŸåœ¨çº¿å•†åº—ï¼Œè¿™æ˜¯ç”µå­å•†åŠ¡ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰ç•Œä¸Šä¸‹æ–‡</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BoundedContextç”¨äºå°†ç³»ç»Ÿåˆ’åˆ†ä¸ºå…·æœ‰ä¸€å®šè´£ä»»çš„éš”ç¦»éƒ¨åˆ†ã€‚åœ¨ç³»ç»Ÿè®¾è®¡ä¸­æˆåŠŸçš„æ–¹æ³•ä¹‹ä¸€æ˜¯åœ¨å…¶ä¸­æ‰¾åˆ°å¹¶çªå‡ºæ˜¾ç¤ºå…¶æ‰€æœ‰BoundedContextã€‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œ1ä¸ªå¾®æœåŠ¡= 1 BoundedContextã€‚ä¾‹å¦‚ï¼šåœ¨çº¿å•†åº—å¯èƒ½æœ‰ä¸€ä¸ªBoundedContextè´­ç‰©è½¦å’ŒBoundedContextå¤„ç†è®¢å•ï¼ŒBoundedContextå¤„ç†æ–‡ä»¶ã€‚ä¸€ä¸ªå¤§çš„BoundedContextå¯ä»¥åˆ†è§£æˆå°å—ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ç¯®å­å•†å“çš„BoundedContextï¼Œæ‚¨å¯ä»¥å°†æ·»åŠ å•†å“åˆ°è´­ç‰©ç¯®çš„ä¸Šä¸‹æ–‡å’Œä»ç¯®å­ä¸­åˆ é™¤å•†å“çš„ä¸Šä¸‹æ–‡è¿›è¡Œåˆ’åˆ†ã€‚åœ¨æ•´ä½“1ä¸­ï¼Œå¤§çš„BoundedContextæ˜¯ä¸€ä¸ªæ¨¡å—ã€‚åœ¨è¿™é‡Œæœ‰å¿…è¦è¯´æ˜æ‰€æœ‰å®ä½“éƒ½ç”Ÿæ´»åœ¨ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œå³ä»è´­ç‰©ç¯®ä¸­çš„ç‰©å“å’Œä»é™ˆåˆ—æŸœä¸­çš„ç‰©å“æ¥çœ‹ï¼Œè¿™äº›ç‰©å“å¯ä»¥æ˜¯å…·æœ‰ä¸åŒå­—æ®µå’Œæ–¹æ³•çš„ä¸åŒç±»åˆ«ã€‚åœ¨æ•´ä½“ä¸­ï¼Œå®ƒä»¬ç®€å•åœ°ç›¸äº’æ˜ å°„ï¼Œå¹¶ä½¿ç”¨EFä¼ é€’ç»™æ•°æ®åº“ä½¿ç”¨çš„ä¸€äº›ItemDtoæ¥ä½¿ç”¨ï¼Œå¹¶ä¸”è¯¥å­—æ®µå…·æœ‰æ‰€æœ‰äººå…±åŒçš„å­—æ®µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ¥è‡ªè´­ç‰©ç¯®ä¸Šä¸‹æ–‡ï¼ˆæ¨¡å—ï¼‰çš„Itemå…·æœ‰å±æ€§Property1ï¼Œè€Œæ¥è‡ªåº—é¢ä¸Šä¸‹æ–‡çš„Itemçš„å•†å“å…·æœ‰å±æ€§Property2ï¼Œåˆ™ItemDtoå°†åŒæ—¶å…·æœ‰Property1å’ŒProperty2ã€‚åœ¨æ¯ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œå°†æœ‰å…¶è‡ªå·±çš„å­˜å‚¨åº“ï¼Œè¯¥å­˜å‚¨åº“å°†ä»æ•°æ®åº“ä¸­æå–è¯¥ä¸Šä¸‹æ–‡å·²å…·æœ‰çš„Itemã€‚åœ¨å¾®æœåŠ¡ä¸­ï¼Œè¿™å¾ˆå®¹æ˜“ã€‚æ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„æ•°æ®åº“å’Œæœ¬è´¨ã€‚æ¯ä¸ªä¸–ç•ŒæœåŠ¡éƒ½æœ‰è‡ªå·±çš„ç±»ã€‚åªæ˜¯åœ¨æ•´ä½“ä¸­ï¼Œå®ƒä»¬ç®€å•åœ°ç›¸äº’æ˜ å°„ï¼Œå¹¶ä½¿ç”¨EFä¼ é€’ç»™æ•°æ®åº“å·¥ä½œçš„ItemDtoï¼Œè¯¥ItemDå…·æœ‰æ‰€æœ‰äººéƒ½é€šç”¨çš„å­—æ®µï¼Œå³ï¼Œå¦‚æœBasketçš„ä¸Šä¸‹æ–‡ï¼ˆæ¨¡å—ï¼‰ä¸­çš„Itemå…·æœ‰å±æ€§Property1ï¼Œè€Œåº—é¢çš„ä¸Šä¸‹æ–‡ä¸­çš„Itemçš„å•†å“å…·æœ‰å±æ€§Property2ï¼Œåˆ™ItemDtoå°†åŒæ—¶å…·æœ‰Property1å’ŒProperty2ã€‚åœ¨æ¯ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œå°†æœ‰å…¶è‡ªå·±çš„å­˜å‚¨åº“ï¼Œè¯¥å­˜å‚¨åº“å°†ä»æ•°æ®åº“ä¸­æå–è¯¥ä¸Šä¸‹æ–‡å·²å…·æœ‰çš„Itemã€‚åœ¨å¾®æœåŠ¡ä¸­ï¼Œè¿™å¾ˆå®¹æ˜“ã€‚æ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„æ•°æ®åº“å’Œæœ¬è´¨ã€‚æ¯ä¸ªä¸–ç•ŒæœåŠ¡éƒ½æœ‰è‡ªå·±çš„ç±»ã€‚åªæ˜¯åœ¨æ•´ä½“ä¸­ï¼Œå®ƒä»¬ç®€å•åœ°ç›¸äº’æ˜ å°„ï¼Œå¹¶ä½¿ç”¨EFä¼ é€’ç»™æ•°æ®åº“ä½¿ç”¨çš„ä¸€äº›ItemDtoæ¥ä½¿ç”¨ï¼Œå¹¶ä¸”è¯¥å­—æ®µå…·æœ‰æ‰€æœ‰äººå…±åŒçš„å­—æ®µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ¥è‡ªè´­ç‰©ç¯®ä¸Šä¸‹æ–‡ï¼ˆæ¨¡å—ï¼‰çš„Itemå…·æœ‰å±æ€§Property1ï¼Œè€Œæ¥è‡ªåº—é¢ä¸Šä¸‹æ–‡çš„Itemçš„å•†å“å…·æœ‰å±æ€§Property2ï¼Œåˆ™ItemDtoå°†åŒæ—¶å…·æœ‰Property1å’ŒProperty2ã€‚åœ¨æ¯ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œå°†æœ‰å…¶è‡ªå·±çš„å­˜å‚¨åº“ï¼Œè¯¥å­˜å‚¨åº“å°†ä»æ•°æ®åº“ä¸­æå–è¯¥ä¸Šä¸‹æ–‡å·²å…·æœ‰çš„Itemã€‚åœ¨å¾®æœåŠ¡ä¸­ï¼Œè¿™å¾ˆå®¹æ˜“ã€‚æ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„æ•°æ®åº“å’Œæœ¬è´¨ã€‚æ¯ä¸ªä¸–ç•ŒæœåŠ¡éƒ½æœ‰è‡ªå·±çš„ç±»ã€‚åªæ˜¯åœ¨æ¯ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œå°†æœ‰å…¶è‡ªå·±çš„å­˜å‚¨åº“ï¼Œè¯¥å­˜å‚¨åº“å°†ä»æ•°æ®åº“ä¸­æå–è¯¥ä¸Šä¸‹æ–‡å·²å…·æœ‰çš„Itemã€‚åœ¨å¾®æœåŠ¡ä¸­ï¼Œè¿™å¾ˆå®¹æ˜“ã€‚æ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„æ•°æ®åº“å’Œæœ¬è´¨ã€‚æ¯ä¸ªä¸–ç•ŒæœåŠ¡éƒ½æœ‰è‡ªå·±çš„ç±»ã€‚åªæ˜¯åœ¨æ¯ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œå°†æœ‰å…¶è‡ªå·±çš„å­˜å‚¨åº“ï¼Œè¯¥å­˜å‚¨åº“å°†ä»æ•°æ®åº“ä¸­æå–è¯¥ä¸Šä¸‹æ–‡å·²å…·æœ‰çš„Itemã€‚åœ¨å¾®æœåŠ¡ä¸­ï¼Œè¿™å¾ˆå®¹æ˜“ã€‚æ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„æ•°æ®åº“å’Œæœ¬è´¨ã€‚æ¯ä¸ªä¸–ç•ŒæœåŠ¡éƒ½æœ‰è‡ªå·±çš„ç±»ã€‚åªæ˜¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯·è®°ä½</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œæ¥è‡ªä¸åŒBoundedContextçš„Itemå’ŒItemsRepositoryå¯ä»¥æ˜¯å…·æœ‰ä¸åŒæ–¹æ³•å’Œå±æ€§çš„ä¸åŒå¯¹è±¡ã€‚</font><font style="vertical-align: inherit;">é€šå¸¸ï¼Œå¾®æœåŠ¡ä¸­çš„BoundedContextè¢«å¼•å…¥ä¸€äº›å¸¸è§çš„åº“è€Œè¢«è¿åã€‚</font><font style="vertical-align: inherit;">ç»“æœæ˜¯ä¸€ä¸ªç±»å…·æœ‰æ•°åç§æ–¹æ³•æˆ–å±æ€§ï¼Œå¹¶ä¸”æ¯ä¸ªå¾®æœåŠ¡ä»…ä½¿ç”¨æ‰€éœ€çš„1-2ï¼Œå› æ­¤æ‚¨åœ¨ä½¿ç”¨å¾®æœåŠ¡ä¸­çš„å…±äº«åº“æ—¶è¦æ ¼å¤–å°å¿ƒã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å±‚ä¹‹é—´çš„ä¾èµ–æ€§</font></font></h3><br>
<img src="https://habrastorage.org/webt/8g/kb/4y/8gkb4yjeoduvybjcxsyo77apjre.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¸•ç´¯æ‰˜æ³•åˆ™80ï¼…çš„ç®€å•å¾®æœåŠ¡é€‰é¡¹</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸¢å¼ƒå±‚PrimaryAdatapterså’ŒSecondaryAdaptersã€‚ä»…ä¿ç•™é€»è¾‘å±‚ã€‚æ›´ç¡®åˆ‡åœ°è¯´ï¼Œåœ¨å…¸å‹çš„ASP.NETåº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨-PimaryAdateræ˜¯Controllerï¼Œè€ŒSecondaryAdapteræ˜¯EFä¸­çš„DbContextã€‚å¦‚æœControllerçªç„¶å˜å¾—å¤ªå¤§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å±€éƒ¨å°†å…¶åˆ‡æˆç¢ç‰‡ã€‚è¿™æ¯”ç¹æ®–ä¸å¿…è¦çš„æŠ½è±¡å¹¶èŠ±ä¸€äº›æ—¶é—´æ¥æ›´å¥½ã€‚ä¾‹å¦‚ï¼ŒMicrosoftåœ¨dockerå®¹å™¨ä¸Šçš„EShopåº”ç”¨ç¨‹åºç¤ºä¾‹ä¸­é’ˆå¯¹BasketMicrotserviceåšåˆ°äº†è¿™ä¸€ç‚¹ã€‚æ˜¯çš„ï¼Œåªéœ€å°†ä»£ç å†™å…¥æ§åˆ¶å™¨å³å¯ã€‚åªæ˜¯ä¸è¦å†™æ„ç²‰ä»£ç ã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡è¦</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯·è®°ä½ï¼Œé€»è¾‘å±‚ä»ç„¶å­˜åœ¨ï¼Œæˆ‘ä»¬ä»ç„¶å°†å®ä½“ä¸å®ƒä»¬çš„é€»è¾‘ç»“åˆä½¿ç”¨ï¼Œå¹¶å°†DomainServicesä¸å®ƒä»¬çš„è®¡ç®—ç»“åˆä½¿ç”¨ï¼Œè€Œä¸ä»…ä»…æ˜¯åœ¨æ§åˆ¶å™¨ä¸­ç¼–å†™æ„å¤§åˆ©é¢æ¡å¼ä»£ç å¢™ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬åªæ˜¯ä¸¢å¼ƒäº†å…¸å‹çš„ItemServiceå’ŒItemRepositoryã€‚</font><font style="vertical-align: inherit;">æœ¬ç€è¿™ç§ç²¾ç¥ï¼Œå¥½çš„æ—§çš„ItemValidatorï¼ŒItemMapperï¼ŒAmountCalculatorç­‰ä»ç„¶å­˜åœ¨ã€‚</font><font style="vertical-align: inherit;">ç”±äºæˆ‘ä»¬ä»ç„¶å…·æœ‰é€»è¾‘å±‚ï¼Œå› æ­¤å¯ä»¥éšæ—¶é€šè¿‡ä½¿ç”¨ItemsServiceï¼ŒItemsRepositoryåŒ…è£…å…¶ä»–æŠ½è±¡æ¥åˆ‡æ¢åˆ°æ›´å¤æ‚çš„é€‰é¡¹ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾‹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥æŠ˜æ‰£ä»·è®¡ç®—äº§å“æœ€ç»ˆä»·æ ¼çš„æœåŠ¡ã€‚</font><font style="vertical-align: inherit;">ä»ç†è®ºä¸Šè®²ï¼Œå®ƒæ˜¯Domain Online Storeçš„ä¸€éƒ¨åˆ†ï¼Œä»£è¡¨å…¶BoundedContextäº§å“ç›®å½•ã€‚</font><font style="vertical-align: inherit;">ä¸ºç®€å•èµ·è§ï¼Œæˆ‘è·³è¿‡äº†æ‰€æœ‰éªŒè¯é€»è¾‘ã€‚</font><font style="vertical-align: inherit;">å¯ä»¥ç”¨æŸç§ItemValidatorå’ŒDiscountValidatoræ¥æè¿°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1ï¼‰é€»è¾‘æ–‡ä»¶å¤¹ï¼š</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.1ï¼‰å®ä½“æ–‡ä»¶å¤¹ï¼š</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æŠ˜æ‰£ï¼š</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Discount</span><font></font>
    {<font></font>
        [<span class="hljs-meta">Key</span>]
        <span class="hljs-keyword">public</span> Guid Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é’±ï¼š</font></font><br>
<br>
<pre><code class="cs hljs">    [<span class="hljs-meta">Owned</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Money</span><font></font>
    {<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> Money <span class="hljs-title">Apply</span>(<span class="hljs-params">Discount discount</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> amount = Amount * (<span class="hljs-number">1</span> - discount.Value);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Money()<font></font>
            {<font></font>
                Amount = amount<font></font>
            };<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
äº§å“ï¼š</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Item</span><font></font>
    {<font></font>
        [<span class="hljs-meta">Key</span>]
        <span class="hljs-keyword">public</span> Guid Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> Money Price { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">new</span> Money();<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.2ï¼‰DomainServicesæ–‡ä»¶å¤¹äº§å“</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»·æ ¼è®¡ç®—å™¨ï¼ŒåŒ…æ‹¬æŠ˜æ‰£ï¼š</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IPriceCalculator</span><font></font>
    {<font></font>
        <span class="hljs-function">Money <span class="hljs-title">WithDiscounts</span>(<span class="hljs-params">Item item, IEnumerable&lt;Discount&gt; discounts</span>)</span>;<font></font>
    }<font></font>
<font></font>
     <span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PriceCalculator</span>:<span class="hljs-title">IPriceCalculator</span><font></font>
    {<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> Money <span class="hljs-title">WithDiscounts</span>(<span class="hljs-params">Item item, IEnumerable&lt;Discount&gt; discounts</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">return</span> discounts.Aggregate(item.Price, (m, d) =&gt; m.Apply(d));<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2ï¼‰DbContext </font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ItemsDbContext</span> : <span class="hljs-title">DbContext</span><font></font>
    {<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ItemsDbContext</span>(<span class="hljs-params">DbContextOptions&lt;ItemsDbContext&gt; options</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">options</span>)</span><font></font>
        {<font></font>
<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> DbSet&lt;Item&gt; Items { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> DbSet&lt;Discount&gt; Discounts { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3ï¼‰æ§åˆ¶å™¨</font></font><br>
<br>
<pre><code class="cs hljs">    [<span class="hljs-meta">ApiController</span>]<font></font>
    [<span class="hljs-meta">Route(<span class="hljs-meta-string">"api/v1/items"</span>)</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ItemsController</span> : <span class="hljs-title">ControllerBase</span><font></font>
    {<font></font>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ItemsDbContext _context;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IPriceCalculator _priceCalculator;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ItemsController</span>(<span class="hljs-params">ItemsDbContext context, IPriceCalculator priceCalculator</span>)</span><font></font>
        {<font></font>
            _context = context;<font></font>
            _priceCalculator = priceCalculator;<font></font>
        }<font></font>
<font></font>
        [<span class="hljs-meta">HttpGet(<span class="hljs-meta-string">"{id}/price-with-discounts"</span>)</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-keyword">decimal</span>&gt; <span class="hljs-title">GetPriceWithDiscount</span>(<span class="hljs-params">Guid id</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">await</span> _context.Items.FindAsync(id);
            <span class="hljs-keyword">var</span> discounts = <span class="hljs-keyword">await</span> _context.Discounts.ToListAsync();
            <span class="hljs-keyword">return</span> _priceCalculator.WithDiscounts(item, discounts).Amount;<font></font>
        }<font></font>
    }<font></font>
</code></pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¢å‘20ï¼…çš„å¤æ‚å¾®æœåŠ¡ä»¥åŠå¤§å¤šæ•°æ•´ä½“çš„é€‰é¡¹</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ç§æ ‡å‡†æ–¹æ³•ï¼Œå°†å„å±‚ä¹‹é—´çš„éš”ç¦»ç¨‹åº¦æœ€å¤§åŒ–ã€‚</font><font style="vertical-align: inherit;">ä¸ºPrimaryAdapterï¼ˆItemServiceï¼‰å’ŒSecondaryAdapterï¼ˆItemRepositoryï¼‰æ·»åŠ ä¸€ä¸ªç±»ã€‚</font><font style="vertical-align: inherit;">åœ¨Logicæ–‡ä»¶å¤¹ä¸­ï¼Œæ‰€æœ‰å†…å®¹å‡ä¿æŒä¸å˜ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾‹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1ï¼‰SecondaryAdaptersæ–‡ä»¶å¤¹</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IItemsRepository</span><font></font>
    {<font></font>
        <span class="hljs-function">Task&lt;Item&gt; <span class="hljs-title">Get</span>(<span class="hljs-params">Guid id</span>)</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ItemsRepository</span> : <span class="hljs-title">IItemsRepository</span><font></font>
    {<font></font>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ItemsDbContext _context;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ItemsRepository</span>(<span class="hljs-params">ItemsDbContext context</span>)</span><font></font>
        {<font></font>
            _context = context;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;Item&gt; <span class="hljs-title">Get</span>(<span class="hljs-params">Guid id</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">await</span> _context.Items.FindAsync(id);
            <span class="hljs-keyword">return</span> item;<font></font>
        }<font></font>
    }<font></font>
</code></pre><br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IDiscountsRepository</span><font></font>
    {<font></font>
        Task&lt;List&lt;Discount&gt;&gt; Get();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DiscountsRepository</span> : <span class="hljs-title">IDiscountsRepository</span><font></font>
    {<font></font>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ItemsDbContext _context;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DiscountsRepository</span>(<span class="hljs-params">ItemsDbContext context</span>)</span><font></font>
        {<font></font>
            _context = context;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> Task&lt;List&lt;Discount&gt;&gt; Get()<font></font>
        {<font></font>
            <span class="hljs-keyword">return</span> _context.Discounts.ToListAsync();<font></font>
        }<font></font>
    }<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2ï¼‰PrimaryAdaptersæ–‡ä»¶å¤¹</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IItemService</span><font></font>
    {<font></font>
        <span class="hljs-function">Task&lt;<span class="hljs-keyword">decimal</span>&gt; <span class="hljs-title">GetPriceWithDiscount</span>(<span class="hljs-params">Guid id</span>)</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ItemService</span> : <span class="hljs-title">IItemService</span><font></font>
    {<font></font>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IItemsRepository _items;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IDiscountsRepository _discounts;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IPriceCalculator _priceCalculator;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ItemService</span>(<span class="hljs-params">IItemsRepository items, IDiscountsRepository discounts, IPriceCalculator priceCalculator</span>)</span><font></font>
        {<font></font>
            _items = items;<font></font>
            _discounts = discounts;<font></font>
            _priceCalculator = priceCalculator;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-keyword">decimal</span>&gt; <span class="hljs-title">GetPriceWithDiscount</span>(<span class="hljs-params">Guid id</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">await</span> _items.Get(id);
            <span class="hljs-keyword">var</span> discounts = <span class="hljs-keyword">await</span> _discounts.Get();
            <span class="hljs-keyword">return</span> _priceCalculator.WithDiscounts(item, discounts).Amount;<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬çš„æ§åˆ¶å™¨ç°åœ¨ä½¿ç”¨IItemService</font></font><br>
<br>
<pre><code class="cs hljs">    [<span class="hljs-meta">ApiController</span>]<font></font>
    [<span class="hljs-meta">Route(<span class="hljs-meta-string">"api/v1/items"</span>)</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ItemsController</span> : <span class="hljs-title">ControllerBase</span><font></font>
    {<font></font>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IItemService _service;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ItemsController</span>(<span class="hljs-params">IItemService service</span>)</span><font></font>
        {<font></font>
            _service = service;<font></font>
        }<font></font>
<font></font>
        [<span class="hljs-meta">HttpGet(<span class="hljs-meta-string">"{id}/price-with-discounts"</span>)</span>]
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-keyword">decimal</span>&gt; <span class="hljs-title">GetPriceWithDiscount</span>(<span class="hljs-params">Guid id</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">await</span> _service.GetPriceWithDiscount(id);
            <span class="hljs-keyword">return</span> result;<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ·»åŠ äº†å¾ˆå¤šå…¶ä»–ä»£ç ã€‚ç›¸åï¼Œå¢åŠ äº†ç³»ç»Ÿçµæ´»æ€§ã€‚ç°åœ¨ï¼Œå°†Contollerï¼ˆé€šå¸¸æ˜¯ASP.NET Coreï¼‰æ›´æ”¹ä¸ºå…¶ä»–åç§°ï¼Œæˆ–å°†DbContextå’ŒEntityFramework Coreæ›´æ”¹ä¸ºå…¶ä»–åç§°ï¼Œæˆ–å°†ç¼“å­˜æ·»åŠ åˆ°Rediså˜å¾—æ›´åŠ å®¹æ˜“ã€‚ç¬¬ä¸€ç§æ–¹æ³•åœ¨ç®€å•çš„å¾®æœåŠ¡ä»¥åŠéå¸¸ç®€å•å’Œå°çš„æ•´ä½“ä¸­è·èƒœã€‚åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œç¬¬äºŒä¸ªåˆ™éœ€è¦æ‚¨æ·»åŠ å¹¶å®Œæˆæ­¤ä»£ç ä¸€å¹´ä»¥ä¸Šã€‚å¥½å§ï¼Œåœ¨ç¬¬äºŒç§æ–¹æ³•ä¸­ï¼Œé™¤äº†å®ä½“é¡¹ç›®å’ŒæŠ˜æ‰£ä¹‹å¤–ï¼Œåˆ¶ä½œå°†ä½¿ç”¨DbContex EFçš„å•ç‹¬çš„DTOå’ŒASP.NET Controllerå°†ä½¿ç”¨çš„å•ç‹¬çš„DTOï¼ˆæ¨¡å‹ï¼‰ä¹Ÿå¾ˆæœ‰ç”¨ã€‚ ItemDtoå’ŒItemModelã€‚è¿™å°†ä½¿åŸŸæ¨¡å‹æ›´åŠ ç‹¬ç«‹ã€‚æœ€åï¼Œæ˜¯æˆ‘ä½¿ç”¨ç¬¬äºŒæ¬¡</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">TestRuvds</font></a><font style="vertical-align: inherit;">æ–¹æ³•ç¼–å†™çš„ä¸€ä¸ªç®€å•åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å®é™…ä¸Šï¼Œä»–åœ¨è¿™é‡Œæ˜¯å¤šä½™çš„ï¼Œæ‰€æœ‰è¿™äº›æŠ½è±¡éƒ½åœ¨æ­¤å¤„ä½œä¸ºç¤ºä¾‹ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®æ–½å®ä¾‹</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è™šæ‹ŸæœåŠ¡å™¨æ¨¡å—</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡´è°¢</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è°¢è°¢ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canxes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å’Œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®‰å¾·é²Â·ç™»å¸ƒ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å¯¹äºå‘ç°çš„è¯­æ³•é”™è¯¯ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN493412/index.html">åœ¨ESP32ä¸Šä½¿ç”¨Wifiç©æ¸¸æˆ</a></li>
<li><a href="../zh-CN493416/index.html">IDA Proå’Œé€†å‘å·¥ç¨‹æŠ€æœ¯</a></li>
<li><a href="../zh-CN493418/index.html">ä¸ºä»€ä¹ˆæœºå™¨å­¦ä¹ ä½¿ç”¨â€œåˆæˆâ€æ•°æ®</a></li>
<li><a href="../zh-CN493420/index.html">å‘åˆä¸­ç”Ÿä»‹ç»Pythonçš„æ–¹å¼</a></li>
<li><a href="../zh-CN493424/index.html">æˆ‘ä»¬å®ç°Pythonä»£ç è½¬æ¢</a></li>
<li><a href="../zh-CN493428/index.html">â€œæˆ‘ä»¬ä¸ä¼šäº§ç”Ÿé˜´è°‹è®ºã€‚â€ ä¸æ¥è‡ªç§‘å­¦å’ŒITå…¬å¸çš„äººè®¨è®ºMLä¼šè®®</a></li>
<li><a href="../zh-CN493430/index.html">Webåº”ç”¨ç¨‹åºçš„ç½‘ç»œä½“ç³»ç»“æ„</a></li>
<li><a href="../zh-CN493432/index.html">ä¸ºä»€ä¹ˆä¸åœ¨å°å‹éITå…¬å¸ä¸­å¼€å§‹èŒä¸š</a></li>
<li><a href="../zh-CN493436/index.html">ç”¨äºåœ¨Bashä¸Šæ›´æ”¹è®¿é—®æƒé™å’Œæ³¨å†Œæ–‡ä»¶/ç›®å½•åç§°çš„ç¨‹åº</a></li>
<li><a href="../zh-CN493438/index.html">æ˜¾ç¤ºæœç´¢ç»“æœå’Œæ€§èƒ½é—®é¢˜</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>