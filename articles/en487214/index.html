<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èπÔ∏è üè¥‚Äç‚ò†Ô∏è üë®üèº‚Äçüîß Dark Launch at Istio: Secret Services üëñ üì® üßëüèø‚Äçü§ù‚ÄçüßëüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚ÄúDanger is my middle name,‚Äù said Austin Powers, a mystery man on an international scale. But what is held in high esteem by super-agents and special s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Dark Launch at Istio: Secret Services</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/487214/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúDanger is my middle name,‚Äù said Austin Powers, a mystery man on an international scale. </font><font style="vertical-align: inherit;">But what is held in high esteem by super-agents and special services is not at all suitable for computer services, where boring things are much better than dangers. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wp/r1/0r/wpr10ryyfvsbrwoocqwshmfw8vq.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And Istio, together with OpenShift and Kubernetes, make micro-service deployments truly boring and predictable ‚Äî and that's great. </font><font style="vertical-align: inherit;">We will talk about this and much more in the fourth and last post of the Istio series.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When boredom is right</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In our case, boredom occurs only in the final phase, when it remains only to sit and watch the process. But for this you need to pre-configure everything, and here you will find a lot of interesting things. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When deploying a new version of your software, you should consider all options for minimizing risks. Working in parallel mode is a very powerful and proven way of testing, and Istio allows you to use the ‚Äúsecret service‚Äù (a version of your microservice hidden from prying eyes) for this without interfering with the production system. There is even a special term for this - ‚ÄúSecret Launch‚Äù (Dark Launch), which in turn is activated by a function with the least spyware name ‚Äútraffic mirroring‚Äù.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note that the first sentence of the previous paragraph uses the term ‚Äúdeploy‚Äù rather than ‚Äúrelease‚Äù. </font><font style="vertical-align: inherit;">You really should be able to deploy - and, of course, use - your microservice as often as you wish. </font><font style="vertical-align: inherit;">This service should be able to receive and process traffic, produce results, as well as write to logs and monitor. </font><font style="vertical-align: inherit;">But at the same time, this service itself does not have to be released into production at all. </font><font style="vertical-align: inherit;">Software deployment and release are not always the same thing. </font><font style="vertical-align: inherit;">You can perform deployment whenever you want, but release only when you are completely ready.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organizing boredom is interesting</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Take a look at the following Istio routing rule, which routes all HTTP requests to recommendation v1 microservice (all examples are taken from the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Istio Tutorial GitHub repo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), while mirroring them to recommendation v2 microservice:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/lo/mc/drlomco1x_qx4vrqa1_5ny__0ns.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pay attention to the label </font></font><code>mirror:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at the bottom of the screen - it is it that sets traffic mirroring. </font><font style="vertical-align: inherit;">Yes, that‚Äôs so simple! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result of this rule will be that your production system (v1) will continue to process incoming requests, but the requests themselves will mirror asynchronously on v2, that is, their full duplicates will go there. </font><font style="vertical-align: inherit;">Thus, you can test the work of v2 in real conditions - on real data and traffic - without interfering with the work of the production system. </font><font style="vertical-align: inherit;">Does this make testing organization boring? </font><font style="vertical-align: inherit;">Yes, of course. </font><font style="vertical-align: inherit;">But this is being done interestingly.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Add drama</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Please note that in the v2 code, it is necessary to provide for situations when incoming requests can lead to data changes. </font><font style="vertical-align: inherit;">The queries themselves are mirrored easily and transparently, but the choice of the processing method in the test is yours - and this is already a little exciting.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repeat the important point </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A secret launch with traffic mirroring (Dark Launch / Request Mirroring) can be performed without affecting the code.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Food for thought</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But what if the place to mirror the requests is to send some of them not to v1, but to v2? </font><font style="vertical-align: inherit;">For example, one percent of all requests or only requests from a specific user group. </font><font style="vertical-align: inherit;">And then, already looking at how v2 works, gradually transfer all requests to the new version. </font><font style="vertical-align: inherit;">Or vice versa, return everything to v1 if something goes wrong with v2. </font><font style="vertical-align: inherit;">It seems to be called Canary Deployment (‚Äúcanary deployment‚Äù - the term </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">goes back to mining</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and if it was of Russian origin, it would probably contain a reference to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cats</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), and now we will examine this in more detail.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canary Deployment at Istio: simplifying commissioning</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caution and gradually</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The essence of the Canary Deployment deployment model is extremely simple: when you start a new version of your software (in our case, microservice), you first give access to it to a small group of users. </font><font style="vertical-align: inherit;">If everything goes well, you slowly increase this group until the new version starts to junk, or - if this does not happen - eventually transfer all users to it. </font><font style="vertical-align: inherit;">Thoughtfully and gradually introducing a new version into operation and switching users to it in a controlled manner, you can reduce risks and maximize feedback. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, Istio simplifies Canary Deployment by offering several good options for intelligent query routing. </font><font style="vertical-align: inherit;">And yes, all of this can be done without touching your source code.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filter the browser</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of the simplest routing criteria is browser-based redirection. </font><font style="vertical-align: inherit;">Suppose you want v2 to only send requests from Safari browsers. </font><font style="vertical-align: inherit;">Here's how to do it:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/iw/af/ca/iwafcaw6eic0prnsylpv5-_qb4u.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We apply this routing rule and then with the command </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">we will simulate real requests to the microservice in a loop. </font><font style="vertical-align: inherit;">As you can see in the screenshot, they all go to v1:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/np/yc/fi/npycfikddqlvdsaayjgv7q9wiq4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And where is the traffic on v2? </font><font style="vertical-align: inherit;">Since in our example all the requests came only from our own command line, it simply does not exist. </font><font style="vertical-align: inherit;">But pay attention to the bottom lines in the screenshot above: this is a reaction to the fact that we executed the request from the Safari browser, which in turn issued this:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1y/lx/fu/1ylxfuljfqriqjnho0xti883np4.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unlimited power</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We already wrote that regular expressions provide very powerful capabilities for routing queries. </font><font style="vertical-align: inherit;">Take a look at the following example (we think you yourself will understand what it does):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qg/zm/2n/qgzm2njck952jv0hnpofstseljc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now you probably already know what regular expressions are capable of.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Act smart</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Smart routing, in particular processing packet headers using regular expressions, allows you to drive traffic the way you want. </font><font style="vertical-align: inherit;">And this greatly simplifies the commissioning of new code - it's simple, it does not require changing the code itself, and if necessary, everything can be quickly returned as it was.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interested in?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Are you eager to experiment with Istio, Kubernetes and OpenShift on your computer? </font><font style="vertical-align: inherit;">The </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Red Hat Developer Team has</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prepared an excellent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on this topic and shared all the related files. </font><font style="vertical-align: inherit;">So go ahead, and do not deny yourself anything.</font></font><br>
‚ÄÉ<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Istio Egress: exit through the gift shop</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using Istio with Red Hat OpenShift and Kubernetes can greatly simplify your life with microservices. The Istio utility grid is hidden inside Kubernetes pods, and your code is executed (mostly) in isolation. Performance, ease of change, tracing and more - all this is easy to use precisely through the use of sidecar-containers. But what if your microservice needs to communicate with other services that are located outside of your OpenShift-Kubernetes system?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is where Istio Egress comes to the rescue. In a nutshell, it simply allows you to access resources (read: ‚Äúservices‚Äù) that are not included in your Kubernetes pod system. If you do not perform additional configuration, then in the Istio Egress environment, traffic is routed only inside the cluster of pods and between such clusters based on internal IP tables. And this kind of pupping works great until you need access to services from the outside. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Egress allows you to bypass the aforementioned IP tables, either based on Egress rules, or for a range of IP addresses. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suppose we have a Java program that executes a GET request to httpbin.org/headers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(httpbin.org is just a convenient resource for testing outgoing service requests.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you type at the command prompt</font></font><code>curl http://httpbin.org/headers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">we will see the following:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rt/k2/uw/rtk2uw9b4vifwpb53kyuwejqsxk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or you can open the same address in a browser:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tz/do/xk/tzdoxkr-xlm2hak5birhlldkhxw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, the service located there simply returns the headers passed to it.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Import substitution in the forehead</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now, let's take the Java code of this service external to our system and run it at home, where, recall, Istio stands. </font><font style="vertical-align: inherit;">(You can do this yourself by referring to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">our Istio tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .) After assembling the corresponding image and running it on the OpenShift platform, we will call this service with a command </font></font><code>curl egresshttpbin-istioegress.$(minishift ip).nip.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, after which we will see on the screen this:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ri/uu/fy/riuufy_oroj1ncon-vuzsa4lq0u.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oops, what happened? </font><font style="vertical-align: inherit;">Still, it just worked. </font><font style="vertical-align: inherit;">What does Not Found mean? </font><font style="vertical-align: inherit;">We just did it for him </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extend IP tables to the entire Internet</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blame (or thank) Istio for this. </font><font style="vertical-align: inherit;">After all, Istio is just sidecar containers that are responsible for detection and routing (well, for a lot of other things that we talked about earlier). </font><font style="vertical-align: inherit;">For this reason, IP tables only know what is inside your cluster system. </font><font style="vertical-align: inherit;">And httpbin.org is located outside and therefore unavailable. </font><font style="vertical-align: inherit;">And here Istio Egress comes to the rescue - without the slightest change in your source code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Egress rule below makes Istio search (if necessary, then on the entire Internet) for the desired service, in this case, httpbin.org. </font><font style="vertical-align: inherit;">As you can see from this file (egress_httpbin.yml), the functionality here is pretty simple:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/7a/g0/dt7ag0yvazqigxahzkvaghy6q9a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It remains only to apply this rule:</font></font><br>
<br>
<pre><code class="plaintext hljs">istioctl create -f egress_httpbin.yml -n istioegress
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can view the Egress rules with the command </font></font><code>istioctl get egressrules</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-c/5w/ta/-c5wtafzvbioqrq5fmm-ftewjls.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And finally, run the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command again </font><font style="vertical-align: inherit;">- and see that everything works:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ry/5n/ts/ry5ntsmb11fe3roghccyt8k-tj8.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We think openly</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, Istio allows you to organize interaction with the outside world. </font><font style="vertical-align: inherit;">In other words, you can still create OpenShift services and steer them through Kubernetes, holding everything in pods that scale up and down as needed. </font><font style="vertical-align: inherit;">And at the same time, you can safely access services external to your environment. </font><font style="vertical-align: inherit;">And yes, we repeat once again that all this can be done without touching your code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This was the last post in the Istio series. </font><font style="vertical-align: inherit;">Stay with us - there is a lot of interesting things ahead!</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en487198/index.html">Attention! Homo Consciousness. I</a></li>
<li><a href="../en487200/index.html">6 reasons to hate a radar detector</a></li>
<li><a href="../en487206/index.html">How developers make games honest</a></li>
<li><a href="../en487208/index.html">Analytics for Telegram bots written in Python</a></li>
<li><a href="../en487210/index.html">How to configure Elasticsearch so that there are no leaks</a></li>
<li><a href="../en487216/index.html">Kim Dotcom: Caught, the most wanted person online. Part 2</a></li>
<li><a href="../en487218/index.html">Botzees - a robot designer for the smallest with augmented reality and kind eyes</a></li>
<li><a href="../en487220/index.html">Review of Remez E27 and E14 LED bulbs on new generation Korean LEDs</a></li>
<li><a href="../en487224/index.html">How long can a long-term construction, which is destined to become a masterpiece</a></li>
<li><a href="../en487226/index.html">Make your badge: Shitty Add-On doesn't mind OFFZONE</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>