<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👉🏽 ☠️ 🚃 Pourquoi (pas) besoin de getters? 🚵🏽 👨🏼‍⚕️ 🤹🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'article précédent sur les setters / getters comme moyen de travailler avec une entité (en utilisant Symfony en PHP comme exemple) a fait l'objet d'u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pourquoi (pas) besoin de getters?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500416/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'article précédent sur les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setters / getters</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comme moyen de travailler avec une entité (en utilisant Symfony en PHP comme exemple) a fait l'objet d'une discussion animée. </font><font style="vertical-align: inherit;">Dans cet article, je vais essayer d'exprimer séparément mes réflexions sur les getters: pourquoi et quand obtenir quelque chose, quelle responsabilité ils décident et quand il est approprié de les utiliser, quand ce n'est pas approprié. </font><font style="vertical-align: inherit;">J'ai essayé de rassembler les pensées en un seul endroit et de les formaliser avec vous.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getHumanFactory (). getHuman (). getDoneWork (). getWorkTime ()</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des getters sont nécessaires pour obtenir un état de l'objet courant. </font><font style="vertical-align: inherit;">Dans les langages POO, il s'agit de la valeur d'une variable de classe, généralement privée.</font></font><br>
<br>
<pre><code class="java">class Article {<font></font>
     private String name<font></font>
<font></font>
     public function getName(): String {<font></font>
          return this.name<font></font>
     }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La valeur de la variable de classe elle-même peut être obtenue comme vous le souhaitez. Nous demandons simplement à l'objet de nous donner ce qu'il est, le nom même de la méthode nous dit "donne": mais ne "fais" pas, "n'envoie" pas, ne "crée" pas, "ne compte pas". Dit donner - donner ce qui est. Cela fonctionne tout à fait normalement dans toutes sortes d'objets de données, dont la responsabilité consiste simplement à donner / transporter des informations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il ne peut pas y avoir de logique dans le getter, car la sémantique du mot est simple. "Maman, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">donne-moi une tarte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ne contient pas "Maman, achète de la farine, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fais</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cuire une tarte et enfin </font><b><font style="vertical-align: inherit;">donne-moi une tarte</font></b><font style="vertical-align: inherit;"> ." Peut-être que la phrase «donnez-moi un gâteau» peut en quelque sorte résumer toutes ces actions, mais ce n'est certainement pas «donner».</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous serez surpris, mais j'ai rencontré cette façon de nommer toutes les méthodes plus d'une fois. </font><font style="vertical-align: inherit;">La complexité du code augmente en même temps beaucoup, car dans les chaînes getter, il n'est pas toujours clair ce qui se passe exactement dans les couches d'application et quel type de connexions sont impliquées, en règle générale, tout n'est pas en ordre avec la conception et la connivence de ce type est une source d'erreurs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getValue () throw WhyDoYouNeedIt? </font><font style="vertical-align: inherit;">{}</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le but de l'objet de données est compréhensible - c'est le caporal du film de 1917, qui fuit quelque part pour transmettre un message sur la nécessité de battre en retraite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais que faire des objets métier? </font><font style="vertical-align: inherit;">Pourquoi l'entité «Document» donne-t-elle à quelqu'un une liste de ses champs? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il s'agit d'un objet métier, le document peut être enregistré, rejeté, vérifié (y compris dans ces champs), rempli ou confirmé.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il est nécessaire de "donner" le champ, ce document ne fait pas partie du processus métier. </font><font style="vertical-align: inherit;">Pourquoi dois-je donner un champ à quelqu'un? </font><font style="vertical-align: inherit;">Peut-être pour publication? </font><font style="vertical-align: inherit;">Ou extraire, archiver ou envoyer une copie par courrier ou rapport? </font><font style="vertical-align: inherit;">Il n'est pas tout à fait clair pourquoi et à qui - il existe une responsabilité distincte de «donner» comme celle d'un bon ancien objet de données, vous pouvez clairement voir l'utilisation sous la forme d'une source de lecture dans le contexte d'un autre processus métier qui n'est pas fondamental pour comprendre le document lui-même.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">doEverythingEverywhere (world.getGod ())</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenons aux entités commerciales. Si vous laissez des getters dans des entités, la tentation est grande d'utiliser ses getters exactement partout et comme vous le souhaitez. Nous sommes liés à l'état d'un certain objet et nous inversons absolument toute logique de la campagne. Il peut même sembler que nous n'avons pas rompu l'encapsulation. Mais qu'en est-il? Énoncer à un endroit, comportement à un autre - une violation d'encapsulation classique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, il existe une entité:</font></font><br>
<br>
<pre><code class="java">class Order<font></font>
{<font></font>
     private Status status<font></font>
     private Boolean closed<font></font>
<font></font>
     public function getStatus(): Status {<font></font>
          return this.status<font></font>
     }<font></font>
<font></font>
     public function setClosed(Boolean closed): void {<font></font>
           this.closed = closed<font></font>
     }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certes, avec une telle architecture, vous demanderez un statut dans une dizaine / centaine de places. Il peut s'agir de toutes sortes de services, contrôleurs, autres modules. Je n'ai vu qu'une seule fois lorsque des restrictions ont été créées artificiellement pour la distribution de ce code par un ensemble de règles pour les développeurs, pas par du code ... L'encapsulation a été fournie par des normes de codage, et non par la conception de code :). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous aviez besoin de faire quelque chose comme ça quelque part:</font></font><br>
<br>
<pre><code class="java">if(order.getStatus() == input.getStatus()) {<font></font>
      order.setClosed(true)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est fort probable que l'entité ne contienne pas de machine d'état. </font><font style="vertical-align: inherit;">Cela signifie que les invariants de l'objet de l'intérieur ne sont en aucun cas contrôlés - il n'y a pas de vérification des données pour chaque opération de l'intérieur. </font><font style="vertical-align: inherit;">En conséquence - une connectivité élevée, des tests fonctionnels complexes, car il ne suffit pas de vérifier la logique unitaire du code qui modifie l'état de l'entité, vous devez vérifier que l'état de l'entité externe au code est valide. </font><font style="vertical-align: inherit;">Et en conséquence: complexité accrue, probabilité de bogues, code plus et tests complexes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bottom line:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'espère que mes collègues et vous utiliserez moins les getters comme n'importe quelle méthode qui fonctionne avec le résultat qui reviendra. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et j'espère que plus de développeurs prêteront attention au concept CQRS, où les responsabilités de lecture et les opérations commerciales sont divisées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bon à tous!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr500404/index.html">Comment se faire des amis Electron et Webix. Partie 2. Créez une application avec votre vue</a></li>
<li><a href="../fr500406/index.html">L'histoire de la première paralysie d'Internet: la malédiction du signal occupé</a></li>
<li><a href="../fr500408/index.html">Le bonheur dans la pauvreté</a></li>
<li><a href="../fr500410/index.html">Création de jeu *</a></li>
<li><a href="../fr500414/index.html">Machine CNC 3D ou tout est déjà fait avant nous</a></li>
<li><a href="../fr500418/index.html">De nouveaux calculs sismiques prédisent leur destructivité probable</a></li>
<li><a href="../fr500420/index.html">sMock - Cadre de simulation rapide pour les tests unitaires (merci à gMock pour ses idées)</a></li>
<li><a href="../fr500422/index.html">Débogueur visuel pour Jupyter</a></li>
<li><a href="../fr500424/index.html">Utilisation différée de la fonctionnalité de directive dans Angular</a></li>
<li><a href="../fr500426/index.html">Python, pandas et résolution de trois problèmes du monde d'Excel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>