<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßîüèº üéë üìô WebAuthn im wirklichen Leben üé® ‚õèÔ∏è üå§Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im September 2019 unterst√ºtzte das Mail.ru Mail-Team die WebAuthn-Technologie. Wir waren der erste E-Mail-Dienst der Welt, der die M√∂glichkeit impleme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>WebAuthn im wirklichen Leben</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/489270/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im September 2019 unterst√ºtzte das Mail.ru Mail-Team die WebAuthn-Technologie. </font><font style="vertical-align: inherit;">Wir waren der erste E-Mail-Dienst der Welt, der die M√∂glichkeit implementiert hat, sich mit elektronischen Schl√ºsseln anstelle von Passw√∂rtern in Ihrem Konto anzumelden. </font><font style="vertical-align: inherit;">Jetzt steht diese M√∂glichkeit allen unseren Benutzern zur Verf√ºgung. Sie k√∂nnen den elektronischen Schl√ºssel in den Einstellungen an Ihr Konto binden und ihn anschlie√üend frei zur Eingabe verwenden. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/ke/6l/dfke6l6d7u73ncpy-xvhnyq3lro.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben </font><font style="vertical-align: inherit;">hier auf Habr√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bereits</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Neuigkeiten zu diesem Ereignis geschrieben. </font><font style="vertical-align: inherit;">In diesem Artikel m√∂chte ich mehr √ºber die Gr√ºnde f√ºr die Implementierung von WebAuthn in unseren Diensten und √ºber die technischen Aspekte der Arbeit mit dieser Technologie sprechen.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist WebAuthn und warum wird es ben√∂tigt?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der modernen Welt verwenden die meisten Internetdienste Kennw√∂rter, um Benutzer zu authentifizieren. </font><font style="vertical-align: inherit;">Der Vorteil von Passw√∂rtern ist ihre Einfachheit: Um auf die erforderliche Ressource zuzugreifen, m√ºssen Sie nur das Passwort kennen und es korrekt eingeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Nachteile von Passw√∂rtern √ºberwiegen jedoch h√§ufig ihre Vorteile:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn das Passwort einfach ist, k√∂nnen Sie es abholen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn in mehreren Diensten dasselbe Kennwort verwendet wird, erh√§lt der Angreifer Zugriff auf alle anderen Dienste.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passw√∂rter sind anf√§llig f√ºr Phishing-Angriffe.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Starke und eindeutige Passw√∂rter sind schwer zu merken, daher muss der Benutzer das Passwort auf den Aufkleber schreiben und auf den Monitor kleben, von wo aus es leicht ausspioniert, gestohlen oder verloren werden kann.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die M√§ngel von Kennw√∂rtern zu beseitigen und den Authentifizierungsprozess sicherer zu machen, werden verschiedene M√∂glichkeiten zum Ersetzen von Kennw√∂rtern angezeigt. Dies ist die Verwendung von Einmalcodes, die per SMS oder PUSH-Benachrichtigungen an den Benutzer gesendet werden, oder die Verwendung spezieller TOTP-Codegeneratoranwendungen, mit denen sich der Benutzer anmelden kann Konto ohne Eingabe Ihres Passworts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unternehmen wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yahoo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> denken √ºber die Verwendung kennwortloser Authentifizierungsmethoden nach und verzichten vollst√§ndig auf die Verwendung von Kennw√∂rtern in ihren Diensten. Mail.ru Mail ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keine Ausnahme</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir unterst√ºtzen seit langem die Anmeldung mit Einmalcodes, sodass Benutzer sich nicht an komplexe und sichere Kennw√∂rter erinnern und schnell auf ihr Konto zugreifen k√∂nnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine weitere Alternative zu Passw√∂rtern ist die Authentifizierung mit elektronischen Schl√ºsseln (Sicherheitsschl√ºssel, ein anderer Name - elektronische Authentifikatoren). Das Funktionsprinzip basiert auf der Verwendung asymmetrischer Kryptographie und ist in der FIDO2-Protokollfamilie beschrieben, die von der FIDO-Allianz (Fast IDentity Online) entwickelt wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im M√§rz 2019 ver√∂ffentlichte W3C die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erste Version des Standards.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier wird eine browserbasierte JS-API beschrieben, mit der Sie mit elektronischen Schl√ºsseln interagieren k√∂nnen. </font><font style="vertical-align: inherit;">Der Standard erhielt den Empfehlungsstatus und den Namen Webauthentifizierung: API f√ºr den Zugriff auf Anmeldeinformationen mithilfe eines √∂ffentlichen Schl√ºssels: Ebene 1 (Webauthentifizierung: Eine API f√ºr den Zugriff auf Anmeldeinformationen f√ºr √∂ffentliche Schl√ºssel Ebene 1) - kurz WebAuthn.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie WebAuthn funktioniert</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgenden Hauptakteure im Authentifizierungsprozess mit WebAuthn werden identifiziert:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client (WebAuthn Client) - ein Browser, der die WebAuthn-API unterst√ºtzt;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webanwendung - Eine Anwendung, die auf dem Client ausgef√ºhrt wird und die WebAuthn-API verwendet, um mit Anmeldeinformationen zu interagieren.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anmeldeinformationen (Public Key Credential) - ein Paar √∂ffentlicher und privater kryptografischer Schl√ºssel, die einem Benutzerkonto zugeordnet sind;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authenticator - ein Ger√§t oder Programm - erstellt Benutzeranmeldeinformationen und signiert Anforderungen der vertrauenden Partei mit diesen Anmeldeinformationen (ein anderer Name ist ein elektronischer Schl√ºssel).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die vertrauende Partei (WebAuthn Relying Party) - der Webserver - speichert den dem Benutzerkonto zugeordneten √∂ffentlichen Schl√ºssel und √ºberpr√ºft die G√ºltigkeit der Signatur ihrer Anforderungen mit dem im Authentifikator gespeicherten privaten Schl√ºssel.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit der WebAuthn-API k√∂nnen Sie nur zwei Vorg√§nge ausf√ºhren. </font><font style="vertical-align: inherit;">Sie k√∂nnen neue Anmeldeinformationen erstellen und Anforderungen vom Server mit bereits erstellten Anmeldeinformationen signieren.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellung von Anmeldeinformationen ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MakeCredential</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e11/a8f/005/e11a8f00507aed6df55fcb77c12e4775.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schema der B√ºhne mit der Erstellung von Anmeldeinformationen, entnommen aus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w3.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu diesem Zeitpunkt ist der elektronische Schl√ºssel im Benutzerkonto registriert. </font><font style="vertical-align: inherit;">Im Authentifikator wird ein neues Paar √∂ffentlicher und privater Schl√ºssel generiert, und der √∂ffentliche Schl√ºssel wird gesendet und im Benutzerkonto auf dem Server gespeichert.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> credential = <span class="hljs-keyword">await</span> navigator.credentials.create({
    <span class="hljs-attr">publicKey</span>: publicKeyMakeCredentialOptions<font></font>
});<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signieren einer Anfrage mit bereits erstellten Anmeldeinformationen ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetAssertion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ebd/794/f7f/ebd794f7f7c8a8de080696e412b71ad9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schema der B√ºhne mit √úberpr√ºfung der Anmeldeinformationen, entnommen aus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w3.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In diesem Schritt wird gepr√ºft, ob der Benutzer √ºber einen Authentifikator verf√ºgt, dessen √∂ffentlicher Schl√ºssel im Benutzerkonto gespeichert ist. Ein zuf√§lliges Token wird mit dem privaten Schl√ºssel im Authentifikator signiert und an den Server gesendet, wo der Server √ºberpr√ºft, ob die Signatur korrekt ist. Wenn die Signatur korrekt ist, schlie√üen wir dementsprechend, dass der Benutzer wirklich √ºber diesen Authentifikator verf√ºgt.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> assertion = <span class="hljs-keyword">await</span> navigator.credentials.get({
    <span class="hljs-attr">publicKey</span>: publicKeyGetAssertionOptions<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem Video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sehen Sie eine Demonstration der Eingabe von Mail.ru Mail mit WebAuthn </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Informationen zur WebAuthn-API selbst finden Sie in der WebAuthn-Spezifikation und beispielsweise in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem Medium-Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Arbeit von WebAuthn basiert also auf der Verwendung elektronischer Schl√ºssel. </font><font style="vertical-align: inherit;">Was ist es?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elektronische Schl√ºssel</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elektronische Schl√ºssel (ich nenne sie manchmal auch "WebAuthn-Schl√ºssel", Sicherheits-Sicherheitsschl√ºssel) sind Ger√§te oder Programme, die FIDO2-Interaktionsprotokolle implementieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der WebAuthn-Spezifikation und auf Haushaltsebene werden alle elektronischen Schl√ºssel in eine von zwei Kategorien eingeteilt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plattformunabh√§ngige Schl√ºssel (Roaming-Authentifikatoren);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plattformauthentifizierer</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plattformunabh√§ngige Schl√ºssel sind externe physische Ger√§te wie Yubikey von Yubico oder Titan Security Key von Google. In der Regel werden solche Authentifikatoren √ºber USB, NFC oder BLE mit dem Computer oder Smartphone des Benutzers verbunden. Die Kommunikation mit solchen Ger√§ten erfolgt √ºber das spezielle CTAP-Protokoll (Client to Authenticator Protocol). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um mit physischen elektronischen Schl√ºsseln arbeiten zu k√∂nnen, muss der Benutzer ihn einmal an sein Konto binden. Danach hat der Benutzer die M√∂glichkeit, mit diesem elektronischen Schl√ºssel auf jedem anderen Ger√§t und in jedem Browser einzugeben. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ic/9d/5o/ic9d5oypb1role8nor03olfthbk.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiele f√ºr verschiedene plattformunabh√§ngige Schl√ºssel von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">theverge.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Funktionsmechanismus des ersten Schl√ºsseltyps mehr oder weniger klar ist, m√∂chte ich n√§her auf die zweite Kategorie eingehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im zweiten Fall werden √∂ffentliche und private kryptografische Schl√ºssel nicht in einem externen physischen Ger√§t, sondern mit einem Softwaremodul in einem Computer oder Smartphone generiert und gespeichert. Dieses Softwaremodul kann auf der spezifischen Anwendungsebene oder auf Betriebssystemebene implementiert werden. Zum Beispiel in einem sicheren Chip in einem Computer, auf den Ihr Betriebssystem nur Zugriff gew√§hrt, wenn Sie angemeldet sind und bewiesen haben, dass Sie wirklich Sie sind.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den meisten modernen Implementierungen in verschiedenen Browsern muss sich der Benutzer vom Betriebssystem entweder mit einem Fingerabdruck oder durch Eingabe des Kennworts f√ºr das Benutzerkonto best√§tigen. Es ist wichtig zu verdeutlichen, dass der Benutzer zwar seinen Finger auf den Fingerabdruckscanner legen muss, um solche Tasten zu verwenden, der Fingerabdruck selbst jedoch nirgendwo gespeichert und nirgendwo √ºbertragen wird. Dies ist nur die Art und Weise, wie das Betriebssystem oder der Browser den Benutzer validiert. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/su/qo/to/suqotot9w3zjsggmzahoazkpise.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwendung plattformspezifischer Authentifikatoren.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nur verschl√ºsselte Informationen zu √∂ffentlichen Schl√ºsseln oder ein signiertes zuf√§lliges Token werden von der WebAuthn-API an den Webdienst zur√ºckgegeben, der dann auf der Serverseite gespeichert und √ºberpr√ºft wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher ist es im Fall des integrierten Authentifikators m√∂glich, ihn nur in dem Browser und auf dem Ger√§t zu verwenden, auf dem er an das Konto angeh√§ngt wurde. Mit anderen Worten, plattformabh√§ngige Schl√ºssel m√ºssen auf jedem Ger√§t / Browser, in dem Sie sich bei Ihrem Konto anmelden m√∂chten, separat registriert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Zukunft werden weitere M√∂glichkeiten erwartet, mit denen der Benutzer die Verwendung plattformspezifischer Authentifikatoren aktivieren kann, z. B. durch Verwendung eines Gesichts-Scans oder durch Eingabe eines PIN-Codes vom Ger√§t. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie Anmeldeinformationen erstellen oder die Signatur berechnen, k√∂nnen Sie den bevorzugten Authentifizierungstyp in einem speziellen Parameter angeben, der zwei Werte annimmt - </font></font><code>cross-platform</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>platform</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. In diesem Fall wird der Benutzer aufgefordert, nur einen der elektronischen Schl√ºsseltypen zu verwenden.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> credential = <span class="hljs-keyword">await</span> navigator.credentials.create({
    <span class="hljs-attr">publicKey</span>: {
        <span class="hljs-attr">authenticatorSelection</span>: {
            <span class="hljs-attr">authenticatorAttachment</span>: <span class="hljs-string">'cross-platform'</span>,<font></font>
        },<font></font>
        ...,<font></font>
    },<font></font>
});<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebAuthn-Vorteile</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sind die Vorteile der WebAuthn-Technologie f√ºr Benutzer und Entwickler?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Benutzer muss sich keine Kennw√∂rter merken und eingeben, und der Server speichert keine Benutzerkennw√∂rter. Alle M√§ngel, die die Kennw√∂rter hatten, sind verschwunden. </font><font style="vertical-align: inherit;">Das Stehlen eines physischen Authentifikators von einem Benutzer ist viel schwieriger als das Abfangen eines Kennworts, das elektronisch √ºber eine unsichere Verbindung √ºbertragen wird, und ein Leck √∂ffentlicher Schl√ºssel auf der Site √∂ffnet den im Ger√§t versteckten privaten Schl√ºssel nicht.</font></font></li>
<li>       origin ,       .         origin  .   ,      (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">thesslstore.com</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">yubico.com</a>)       .</li>
<li>  WebAuthn      -   . -     web-    ,   .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebAuthn selbst als API bietet Entwicklern eine Abstraktion √ºber die Implementierung von Authentifikatoren und erm√∂glicht es Ihnen, Code einmal zu schreiben, der dann mit allen Arten und Typen von elektronischen Schl√ºsseln funktioniert. </font><font style="vertical-align: inherit;">Somit ist WebAuthn eine skalierbare L√∂sung f√ºr die Benutzerauthentifizierung.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Noch mehr dar√ºber, warum WebAuthn sicherer ist als ein Passwort - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebAuthn f√ºr Entwickler: 5 Schritte zur besseren Authentifizierung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erste </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Schritte </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">mit Sicherheitsschl√ºsseln</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebAuthn-Support</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ob die Dongle-Authentifizierung auf Ihrem Ger√§t funktioniert oder nicht, h√§ngt von verschiedenen Faktoren ab. Angefangen davon, ob Ihr Browser die WebAuthn-API unterst√ºtzt, bis hin zu den Konnektoren auf Ihrem Computer und den von Ihrem Authentifikator unterst√ºtzten Kommunikationsmethoden. Die Leistung von WebAuthn h√§ngt auch stark davon ab, welches Ger√§t und Betriebssystem Sie verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laut </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caniuse.com wird die WebAuthn-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> API </font><font style="vertical-align: inherit;">zum Zeitpunkt des Schreibens </font><font style="vertical-align: inherit;">von 80,5% der Benutzer unterst√ºtzt. Laut Statistiken √ºber Benutzer von Mail.ru hat diese Zahl die gleiche Reihenfolge - 79,8%. Um WebAuthn in all diesen Browsern verwenden zu k√∂nnen, ben√∂tigen Sie jedoch auf jeden Fall einen externen elektronischen Schl√ºssel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nicht alle Browser, die die WebAuthn-API unterst√ºtzen, k√∂nnen mit plattformabh√§ngigen Schl√ºsseln arbeiten (der Einfachheit halber werde ich diese Schl√ºssel sp√§ter als "Fingerabdr√ºcke" bezeichnen). </font><font style="vertical-align: inherit;">Um mit solchen Schl√ºsseln arbeiten zu k√∂nnen, reicht es nicht aus, einen Browser zu installieren, der mit ihnen arbeiten kann. </font><font style="vertical-align: inherit;">Es ist auch erforderlich, dass Ihr Ger√§t und Ihr Betriebssystem √ºber ein geeignetes Modul / einen geeigneten Sensor verf√ºgen und mit diesem interagieren k√∂nnen. </font><font style="vertical-align: inherit;">Von allen Mail.ru-Benutzern k√∂nnen nur 9,0% plattformspezifische Schl√ºssel hinzuf√ºgen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde Ihnen kurz die Unterst√ºtzung von WebAuthn durch verschiedene Betriebssysteme und Browser erl√§utern.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die WebAuthn-Unterst√ºtzung unter Windows ist sehr gut. </font><font style="vertical-align: inherit;">Das Windows Hello-Authentifizierungssubsystem kann mit elektronischen Schl√ºsseln arbeiten. </font><font style="vertical-align: inherit;">Daher unterst√ºtzen alle neuesten Browserversionen f√ºr dieses Betriebssystem - Microsoft Edge, Google Chrome, Opera und Mozilla Firefox - das Arbeiten mit Fremdschl√ºsseln und Fingerabdr√ºcken. </font><font style="vertical-align: inherit;">Internet Explorer API WebAuthn wird nicht unterst√ºtzt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/je/nz/tj/jenztjxnptpkhabd0igycdbqex4.jpeg" width="300"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Externe Authentifikatoren werden normalerweise von modernen Linux-Distributionen sowie von Browsern wie Google Chrome, Chromium und Mozilla Firefox unterst√ºtzt. </font><font style="vertical-align: inherit;">Auf einigen Systemen sind jedoch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√∂glicherweise zus√§tzliche Einstellungen erforderlich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um mit Fremdschl√ºsseln arbeiten zu k√∂nnen </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die WebAuthn-Unterst√ºtzung f√ºr Android ist ebenfalls gut. </font><font style="vertical-align: inherit;">Google Chrome, Opera und Mozilla Firefox - Unterst√ºtzung beim Arbeiten mit Fremdschl√ºsseln und Fingerabdr√ºcken. </font><font style="vertical-align: inherit;">Microsoft Edge f√ºr Android unterst√ºtzt die WebAuthn-API jedoch √ºberhaupt nicht. </font><font style="vertical-align: inherit;">Es gibt auch einen Fehler in Firefox - die Angabe des bevorzugten Authentifizierungstyps mithilfe der Option funktioniert nicht </font></font><code>authenticatorAttachment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bl/pn/if/blpnifvrarbh3sfzryufr5fyyha.jpeg"><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter allen Browsern f√ºr das iOS-Betriebssystem unterst√ºtzt WebAuthn nur Mobile Safari Version 13.3. </font><font style="vertical-align: inherit;">Au√üerdem kann er nur mit externen elektronischen Schl√ºsseln arbeiten. </font><font style="vertical-align: inherit;">Andere Browser f√ºr iOS unterst√ºtzen WebAuthn noch √ºberhaupt nicht.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mac OS</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Microsoft Edge, Google Chrome, Opera und Mozilla Firefox unterst√ºtzen das Arbeiten mit Fremdschl√ºsseln unter macOS. </font><font style="vertical-align: inherit;">Google Chrome unterst√ºtzt auch Fingerabdr√ºcke, sodass Sie WebAuthn mit Touch ID verwenden k√∂nnen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/211/b1e/845/211b1e8455b92f5d340a298f4eee9818.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn in Edge, Opera und Chrome die Benutzeroberfl√§che f√ºr die Interaktion mit WebAuthn identisch ist, hat sich Firefox hier ausgezeichnet. Anstelle eines h√ºbschen Popups in Firefox wird bei Verwendung von WebAuthn eine kleine Benachrichtigung in der Ecke des Bildschirms angezeigt. Wenn Sie versehentlich auf eine Seite klicken, wird diese einfach ausgeblendet, sodass der Benutzer nicht wei√ü, was gerade passiert. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/re/1t/7c/re1t7crwl47zhqytg9egntqcmlg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Safari hat WebAuthn jedoch noch nicht unterst√ºtzt. Die Unterst√ºtzung von WebAuthn wurde in Safari 13 angek√ºndigt, das unter macOS 10.15 Catalina verf√ºgbar sein wird. Zum Zeitpunkt des Schreibens zeigten meine √úberpr√ºfungen jedoch, dass die WebAuthn-API in Safari, obwohl vorhanden, √§u√üerst instabil ist und nicht mit allen Authentifikatoren funktioniert. Wie seine mobile Version funktioniert Safari nicht mit integrierten elektronischen Schl√ºsseln. Dar√ºber hinaus werden noch keine elektronischen Fremdschl√ºssel unterst√ºtzt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher haben wir festgestellt, dass WebAuthn neben Support-Problemen noch gr√∂√üere Unterschiede in der Benutzeroberfl√§che aufweist. </font><font style="vertical-align: inherit;">Diese Unterschiede f√ºhren dazu, dass Sie dem Benutzer genauer erkl√§ren m√ºssen, was von ihm verlangt wird, um den Eingang √ºber elektronische Schl√ºssel nutzen zu k√∂nnen. </font><font style="vertical-align: inherit;">Dar√ºber hinaus k√∂nnen sich diese Popups mit jeder neuen Browserversion √§ndern, und der heutige Prozess der Verwendung von WebAuthn kann sich stark von dem von gestern unterscheiden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist klar, warum dies geschieht. </font><font style="vertical-align: inherit;">Die WebAuthn-Technologie ist noch recht jung und Browserentwickler experimentieren noch mit verschiedenen Arten der Implementierung. </font><font style="vertical-align: inherit;">Man kann nur hoffen, dass sich die Unterst√ºtzung f√ºr WebAuthn in Browsern im Laufe der Zeit stabilisiert und wir sie ohne Einschr√§nkungen verwenden k√∂nnen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authenticator-Registrierung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir dem Benutzer die M√∂glichkeit geben, verschiedene elektronische Schl√ºssel in seinem Konto zu registrieren, sollte er die M√∂glichkeit haben, deren Liste anzuzeigen und veraltete oder unn√∂tige aus dieser zu entfernen. Dies kann beispielsweise im Falle eines Kompromisses eines der Schl√ºssel n√ºtzlich sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die WebAuthn-API ist so konzipiert, dass dem Client beim Erstellen und Verwenden von Anmeldeinformationen keine Informationen zu Typ, Typ und Name der verwendeten Authentifikatoren zur Verf√ºgung stehen. Dementsprechend haben wir keine Daten, anhand derer wir einen Schl√ºssel von einem anderen unterscheiden k√∂nnten. Alle Schl√ºssel in der Liste werden gleicherma√üen angezeigt, ohne dass Merkmale unterschieden werden. Frage: Was tun?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/504/c74/948/504c7494832c0f8dfadb7c5c05d44a20.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen einige Informationen √ºber den verwendeten Authentifikator erhalten, wenn Sie beim Erstellen von Anmeldeinformationen die sogenannten Anmeldeinformationen anfordern. Zertifizierung. Die Zertifizierung ist eine M√∂glichkeit f√ºr einen Authentifizierer, seine Authentizit√§t gegen√ºber einem Server nachzuweisen. In einigen F√§llen erhalten Sie Informationen √ºber den Schl√ºsselhersteller aus der Zertifizierung. Im allgemeinen Fall reichen die verwendeten Daten jedoch immer noch nicht aus, um einen mit einem Konto verkn√ºpften elektronischen Schl√ºssel klar von einem anderen zu unterscheiden.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> credential = <span class="hljs-keyword">await</span> navigator.credentials.create({
    <span class="hljs-attr">publicKey</span>: {
        <span class="hljs-attr">attestation</span>: <span class="hljs-string">'direct'</span>,<font></font>
         ...,<font></font>
    },<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher geben wir dem Benutzer nach dem Verbinden des Schl√ºssels mit dem Konto in Mail die M√∂glichkeit, dem neu erstellten Datensatz einen Namen zuzuweisen. Und schon weiter kann der Benutzer einen Schl√ºssel durch diesen Namen von einem anderen unterscheiden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Tatsache, dass die Informationen, die dem Client und dem Server zur Verf√ºgung stehen, keine Daten √ºber den Typ des Authentifikators enthalten, f√ºhrt zu einer weiteren unangenehmen Funktion von WebAuthn. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich einen Benutzer vor, der seinem Konto beispielsweise in seinem Smartphone nur einen Fingerabdruck hinzugef√ºgt hat. Wenn wir uns mit der WebAuthn-API anmelden m√∂chten, √ºbergeben wir einen Funktionsaufruf</font></font><code>navigator.credentials.get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste aller mit einem Konto verkn√ºpften Schl√ºssel. Der Browser kann anhand dieser Liste jedoch nicht feststellen, welche der Authentifikatoren auf dem Ger√§t vorhanden sind und welche nicht. Daher ist er gezwungen, dem Benutzer immer die Verwendung von WebAuthn anzubieten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selbst wenn Sie versuchen, sich bei einem Konto auf einem Computer anzumelden, der die Authentifizierung durch Fingerabdr√ºcke nicht unterst√ºtzt, wird dem Benutzer daher weiterhin die Verwendung von WebAuthn angeboten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um in solchen Situationen das richtige Verhalten zu implementieren, m√ºssen Sie den WebAuthn-Standard selbst verfeinern. Zum Beispiel, um Informationen dar√ºber zu verschl√ºsseln, ob ein plattform√ºbergreifender Schl√ºssel oder ein Fingerabdruck zum Erstellen verwendet wurde, und um dem WebAuthn-Benutzer keine Informationen anzubieten, wenn im Voraus bekannt ist, dass er ihn nicht verwenden kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In einigen Situationen gibt es M√∂glichkeiten, dieses Verhalten zu umgehen. </font><font style="vertical-align: inherit;">Erm√∂glichen Sie dem Benutzer beispielsweise, Fingerabdr√ºcke und physische Schl√ºssel nur einzeln zu registrieren. </font><font style="vertical-align: inherit;">Filtern Sie bei der Verwendung von Schl√ºsseln Fingerabdr√ºcke auf Ger√§ten, die diese offensichtlich nicht unterst√ºtzen. </font><font style="vertical-align: inherit;">Diese Methode l√∂st das Problem jedoch nicht vollst√§ndig. </font><font style="vertical-align: inherit;">Und es gibt keinen zuverl√§ssigen Weg, um dieses Problem zu l√∂sen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere Benutzer haben noch keine Beschwerden √ºber dieses Verhalten erhalten. Daher untersuchen wir derzeit diese Funktion und entscheiden, was in Zukunft zu tun ist.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebAuthn arbeitet an verschiedenen Subdomains</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie ich bereits sagte, bietet WebAuthn einen sofortigen Schutz vor Phishing. Bei der Registrierung elektronischer Schl√ºssel werden Informationen gespeichert, </font></font><code>origin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf denen dieser Schl√ºssel registriert wurde. WebAuthn erlaubt nicht die Verwendung dieses elektronischen Schl√ºssels f√ºr Ressourcen mit anderen </font></font><code>origin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gro√üe Webdienste wie Mail.ru verwenden h√§ufig mehrere unterschiedliche Dom√§nen f√ºr ihre Arbeit. Zum Beispiel haben wir eine Domain </font></font><code>e.mail.ru</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f√ºr Mail und </font></font><code>cloud.mail.ru</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f√ºr die Cloud. Und f√ºr jeden von ihnen haben wir eine gemeinsame Form der Autorisierung. In diesem Fall reichen die Standardeinstellungen f√ºr WebAuthn nicht aus. Damit wir die </font></font><code>origin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf der anderen Seite registrierten Schl√ºssel auf einer verwenden k√∂nnen </font></font><code>origin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, m√ºssen diese beiden Dom√§nen ein gemeinsames Suffix haben (eine gemeinsame Unterdom√§ne von mehr als der ersten Ebene). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel bei Domains</font></font><code>e.mail.ru</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und das </font></font><code>cloud.mail.ru</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gemeinsame Suffix ist </font></font><code>mail.ru</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall k√∂nnen wir bei der Registrierung und Verwendung elektronischer Schl√ºssel einen </font></font><code>rpId</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gleichen </font><font style="vertical-align: inherit;">Parameter in den Anforderungsoptionen angeben </font></font><code>mail.ru</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und dann denselben Schl√ºssel f√ºr den Unterschl√ºssel selbst </font></font><code>https://mail.ru</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und f√ºr jede seiner Unterdom√§nen verwenden.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> credential = <span class="hljs-keyword">await</span> navigator.credentials.create({
    <span class="hljs-attr">publicKey</span>: {
        <span class="hljs-attr">rp</span>: {
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Mail.ru Group'</span>,
            <span class="hljs-attr">id</span>: <span class="hljs-string">'mail.ru'</span>,<font></font>
        },<font></font>
        ...,<font></font>
    },<font></font>
});<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebAuthn arbeitet im Iframe</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus Sicherheitsgr√ºnden ist das Aufrufen von WebAuthn-Methoden aus originen√ºbergreifenden Iframes verboten. Unsere Projekte verwenden ein einziges Autorisierungsformular, das sich unter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://account.mail.ru/login</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> befindet. Wenn wir das Autorisierungsformular f√ºr ein anderes Projekt anzeigen m√∂chten, z. B. in Mail oder in der Cloud, wird der Seite tats√§chlich ein Iframe hinzugef√ºgt innerhalb dessen sich diese URL √∂ffnet. Mit dieser L√∂sung k√∂nnen wir das Formular selbst f√ºr alle Projekte, die es verwenden, gleichzeitig aktualisieren, die Erfassung von Statistiken vereinfachen und die Benutzeroberfl√§che des Benutzers verbessern, sodass er auf demselben Dienst bleiben kann, auf dem er urspr√ºnglich war.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/su/tr/khsutrku62gmcaetj4nbi73orl4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem Fall haben wir aufgrund der Einschr√§nkung der Aufrufe von WebAuthn-Methoden innerhalb des Iframes nach M√∂glichkeiten gesucht, dies zu umgehen, da wir die M√∂glichkeit geben wollten, uns √ºber WebAuthn √ºberall dort anzumelden, wo wir das Autorisierungsformular anzeigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was haben wir getan. </font><font style="vertical-align: inherit;">Um das Autorisierungsformular f√ºr alle Dienste zu √∂ffnen, verwenden wir eine kleine Bibliothek, die im Wesentlichen nur einen Iframe auf der Seite mit der richtigen URL erstellt und nach dem Laden des Inhalts den Iframe auf der Seite anzeigt. </font><font style="vertical-align: inherit;">Diese Bibliothek unterst√ºtzt die Kommunikation mit Iframes √ºber </font></font><code>postMessage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und verwendet sie beispielsweise, um die Gr√∂√üe von Iframes zu √§ndern, wenn die Gr√∂√üe des Inhalts ge√§ndert wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben den folgenden Mechanismus entwickelt und implementiert:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der Autorisierungsanwendung bestimmen wir bei Verwendung von WebAuthn, ob wir jetzt im iframe ge√∂ffnet sind oder nicht.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir innerhalb des Iframes ge√∂ffnet sind, serialisieren wir die Aufrufparameter, anstatt die Browser-API WebAuthn aufzurufen, und senden sie √ºber das </font></font><code>postMessage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ºbergeordnete Fenster.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im √ºbergeordneten Fenster deserialisieren wir diese Parameter und rufen die WebAuthn-Methoden auf.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir eine Antwort erhalten, serialisieren wir sie auf die gleiche Weise und senden sie durch das </font></font><code>postMessage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Innere eines Iframes, wo wir diese Antwort akzeptieren und die weitere Verarbeitung durchf√ºhren.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher haben wir dieses Verbot umgangen und die M√∂glichkeit erkannt, bei der Autorisierung in allen Diensten des Unternehmens denselben Schl√ºssel zu verwenden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebAuthn Test Automation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem Team f√ºr alle neuen Projekte und Funktionen schreiben wir immer Autotests f√ºr die Integrations-Benutzeroberfl√§che mit selen√§hnlichen L√∂sungen und dem WebDriver-Protokoll. W√§hrend der Entwicklung von WebAuthn stellte sich daher die Frage, wie die Benutzeroberfl√§che f√ºr Autotests darauf geschrieben werden soll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Schwierigkeit beim Schreiben solcher Autotests besteht darin, dass das WebDriver-Protokoll noch keine Methoden zur Automatisierung der Interaktion mit WebAuthn enth√§lt. Und im Standard selbst gibt es immer noch keine Unterst√ºtzung f√ºr das Testen der WebAuthn-API f√ºr die Automatisierung (es gibt jedoch ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu diesem Thema). Die ersten Ideen, wie diese Automatisierung organisiert werden kann, werden in einem Entwurf der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webauthentifizierung beschrieben: Eine API f√ºr den Zugriff auf Anmeldeinformationen f√ºr √∂ffentliche Schl√ºssel der Stufe 2,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die noch nicht ver√∂ffentlicht wurde, ganz zu schweigen davon, dass sie an anderer Stelle unterst√ºtzt wird. Deshalb musste ich alternative L√∂sungen finden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
weil </font><font style="vertical-align: inherit;">Wir k√∂nnen nicht mit der nativen Implementierung von WebAuthn-Funktionen in Autotests arbeiten (es gibt keine Methoden zur Steuerung des Browsers), dann mussten wir Folgendes tun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor wir versuchen, WebAuthn zu verwenden, patchen wir irgendwo im Autotest die globalen Hostobjekte des Browsers und ersetzen die nativen Funktionen durch unsere Implementierungen. </font><font style="vertical-align: inherit;">Hier speichern wir die Argumente, mit denen die nativen Funktionen aufgerufen wurden, in einer Variablen und geben das Versprechen zur√ºck.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//    WebAuthn   </span>
navigator.credentials.create = <span class="hljs-function">(<span class="hljs-params">options</span>) =&gt;</span> {
    <span class="hljs-built_in">window</span>.credentialsCreateArgs = options;<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-built_in">window</span>.credentialsCreateSuccess = resolve;
        <span class="hljs-built_in">window</span>.credentialsCreateFail = reject;<font></font>
    });<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als n√§chstes m√ºssen wir irgendwie das Ergebnis der Funktion erhalten, um es zur√ºckzugeben und die Arbeit von WebAuthn in den Tests zu emulieren. </font><font style="vertical-align: inherit;">Wir k√∂nnen immer eine Art konstante fest codierte Antwort zur√ºckgeben.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// -    </span>
<span class="hljs-keyword">const</span> credentialsCreateResponse = { <span class="hljs-comment">/* constant object */</span> };<font></font>
<font></font>
<span class="hljs-built_in">window</span>.credentialsCreateSuccess(credentialsCreateResponse);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall m√ºssen wir unserem Server beibringen, diese Antwort zu akzeptieren und nicht zu validieren, sondern sie automatisch als korrekt zu betrachten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sind die Nachteile solcher Tests? </font><font style="vertical-align: inherit;">In diesem Fall k√∂nnen wir nicht:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberpr√ºfen Sie, ob der Client Parameter korrekt formt und in WebAuthn-Funktionen einf√ºgt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberpr√ºfen Sie die Richtigkeit der Backend-√Ñnderungen, wenn Sie Backend-Releases rollen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher sind solche Tests nicht zuverl√§ssig genug, und dies passt nicht zu uns. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben uns f√ºr den schwierigeren Weg entschieden und deshalb unsere eigene Implementierung von FIDO2-Protokollen und -Algorithmen auf Node.js geschrieben, mit deren Hilfe wir es geschafft haben, diese Funktionen so nah wie m√∂glich an den nativen Implementierungen zu sperren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das hei√üt, wir haben eine Funktion geschrieben, die basierend auf den Anforderungsparametern die Antwort f√ºr die gesperrten WebAuthn-Funktionen berechnet, sodass der Server sie als vollst√§ndig korrekt betrachtet.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// -    </span>
<span class="hljs-keyword">const</span> credentialsCreateResponse =<font></font>
    calcCredentialsCreateResponse(<span class="hljs-built_in">window</span>.credentialsCreateArgs);<font></font>
 <font></font>
<span class="hljs-built_in">window</span>.credentialsCreateSuccess(credentialsCreateResponse);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen lautet das Autotest-Betriebsschema wie folgt:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Holen Sie sich die Argumente, mit denen die WebAuthn-Methoden aufgerufen wurden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir f√ºhren diese Argumente durch eine Funktion, die dieselben Algorithmen wie in echten Authentifikatoren implementiert.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir erhalten das Ergebnis und geben es von unseren ersetzten Funktionen zur√ºck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der gesamte Rest des Codes in unserem Service verarbeitet diese Antworten im √ºblichen Modus. Infolgedessen unterscheidet sich das gesamte Verhalten des Service nicht von seinem Verhalten f√ºr echte Benutzer.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Quellen eines solchen Autotests und die Implementierung des verdecktesten Authentifikators befinden sich im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github-Repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sie k√∂nnen ihre Arbeit sp√§ter starten und untersuchen. </font><font style="vertical-align: inherit;">Beim Schreiben des Authentifikators wurden wir nur von der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w3.org-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Spezifikation </font><font style="vertical-align: inherit;">und der Node.js-Dokumentation geleitet.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Gegenwart und Zukunft von WebAuthn</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also was haben wir im Moment. </font><font style="vertical-align: inherit;">Ende September 2019 haben </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> voll funktionsf√§hige elektronische Schl√ºsseleingabe eingef√ºhrt. Jetzt machen wir keine Werbung f√ºr diese Art von Eintrag und sie wird nicht sehr aktiv verwendet - weniger als hundert eindeutige Benutzer pro Tag. Wir sind jedoch zuversichtlich, dass ihre Anzahl mit der Zeit nur noch zunehmen wird und fr√ºher oder sp√§ter die elektronische Schl√ºsselprotokollierung zu einer der Hauptarten der Protokollierung in Ihrem Konto wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was uns davon abh√§lt, einen solchen Eintrag aktiv zu bewerben, ist, dass WebAuthn selbst in Browsern immer noch nicht zuverl√§ssig und stabil genug ist und es viele Nuancen hinsichtlich seiner Unterst√ºtzung und Funktionsweise gibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum ist WebAuthn jetzt eine Funktion, die nicht f√ºr ein breites Publikum geeignet ist?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der grundlegendste Faktor hierbei ist, dass der Benutzer ein spezielles Ger√§t haben muss - einen elektronischen Schl√ºssel. Jetzt ist die Notwendigkeit daf√ºr von den Benutzern nicht so akut zu sp√ºren. Viele Benutzer sind sich ihrer Existenz nicht bewusst. Mit der Zeit wird jedoch auch die Anzahl der Benutzer mit solchen Schl√ºsseln zunehmen, wenn immer mehr Dienste diese Art der Anmeldung unterst√ºtzen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein bedeutender Fortschritt in der Popularit√§t von WebAuthn kann eintreten, wenn Google-Ingenieure die Entwicklung und Erprobung der M√∂glichkeit der Verwendung von Smartphones unter Android und iOS als externe physische elektronische Schl√ºssel f√ºr WebAuthn abschlie√üen und diese M√∂glichkeit f√ºr alle Internetdienste er√∂ffnen. </font><font style="vertical-align: inherit;">In diesem Fall hat jeder Besitzer eines modernen Smartphones im Wesentlichen die M√∂glichkeit, es als WebAuthn-Schl√ºssel zu verwenden, und die Anzahl der WebAuthn-Benutzer steigt dramatisch an. </font><font style="vertical-align: inherit;">Diese Funktion </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">steht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jetzt </font><font style="vertical-align: inherit;">nur Nutzern des Google-E-Mail-Dienstes zur Verf√ºgung.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bc0/124/3d8/bc01243d824383bfcd014b5891526db7.gif"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie k√∂nnen Sie WebAuthn sonst noch verwenden?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mail.ru verwendet WebAuthn jetzt als Alternative zu Passw√∂rtern f√ºr die Eingabe des Kontos. Im Wesentlichen kann WebAuthn jedoch wie jeder der Autorisierungsfaktoren verwendet werden. Es kann anstelle des ersten Faktors bei der Ein-Faktor-Authentifizierung verwendet werden. Also statt der zweiten - als zus√§tzlicher Passwortschutz mit Zwei-Faktor. Dar√ºber hinaus kann die Best√§tigung √ºber einen elektronischen Schl√ºssel verwendet werden, um beispielsweise den Zugriff auf ein Konto wiederherzustellen, wenn der Benutzer sein Passwort verloren oder vergessen hat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WebAuthn kann als zus√§tzliche Sicherheitsma√ünahme beim Bearbeiten kritischer Einstellungen Ihres Kontos verwendet werden. </font><font style="vertical-align: inherit;">Stellen Sie sich vor, wie bequem es ist - Sie gehen zu den Profileinstellungen in Ihrem bevorzugten Dienst und m√ºssen sich kein Passwort merken und eingeben, um sie zu √§ndern! </font><font style="vertical-align: inherit;">Legen Sie einfach Ihren Finger auf den Fingerabdruckscanner und Sie werden weitergeleitet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> finden Sie noch mehr verschiedene Szenarien f√ºr die Verwendung von WebAuthn </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beliebte Fragen und Antworten</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wo kann ich einen elektronischen Schl√ºssel kaufen?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bisher gibt es in Russland nicht viele Orte, an denen Sie elektronische Schl√ºssel erwerben k√∂nnen, die mit FIDO2-Protokollen kompatibel sind. </font><font style="vertical-align: inherit;">Die meisten Lieferanten verkaufen sie nur in loser Sch√ºttung, in Chargen von 10 oder mehr. </font><font style="vertical-align: inherit;">Sie k√∂nnen elektronische Schl√ºssel St√ºck f√ºr St√ºck in folgenden Gesch√§ften kaufen:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenverkehrssicherheit</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sanfte Linie</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solche Schl√ºssel k√∂nnen auch in freundlichen Online-Shops bestellt werden, beispielsweise bei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gibt es vergleichende Eigenschaften von Modellen mit elektronischen Schaltern 10 mit Links zu Gesch√§ften, in denen sie gekauft werden k√∂nnen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist, wenn ich meinen elektronischen Schl√ºssel verliere?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit elektronischen Schl√ºsseln sollten Sie sie mit der gleichen Aufmerksamkeit behandeln wie mit den Schl√ºsseln f√ºr die Wohnung oder das Auto. </font><font style="vertical-align: inherit;">Wenn wir die Schl√ºssel f√ºr die Wohnung verlieren, √§ndern wir normalerweise das Schloss und bekommen neue Schl√ºssel. </font><font style="vertical-align: inherit;">Das Gleiche gilt f√ºr elektronische Schl√ºssel: Wenn sie verloren gehen, sollten Sie sie sofort von allen Konten entfernen, mit denen sie verkn√ºpft waren, und allen Konten einen neuen Authentifikator hinzuf√ºgen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Falle des Verlusts des elektronischen Hauptschl√ºssels sollten Sie √ºber mehrere zus√§tzliche Authentifizierungsmethoden verf√ºgen. </font><font style="vertical-align: inherit;">Verwenden Sie beispielsweise die Anwendung zum Generieren von Codes oder einen Ersatzschl√ºssel, der an einem besonders gesch√ºtzten Ort aufbewahrt werden kann: in einem Safe oder in einer Bankzelle.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was soll ich tun, wenn jemand anderes Zugriff auf meinen elektronischen Schl√ºssel erh√§lt?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Zwei-Faktor-Authentifizierung in Ihrem Konto enthalten ist und der elektronische Schl√ºssel nur einer der Faktoren ist, ist Ihr Konto in diesem Fall vor Hacking gesch√ºtzt. Es sei denn, der Angreifer hat Zugriff auf den zweiten Faktor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der elektronische Schl√ºssel der einzige Faktor ist, der ausreicht, um das Konto zu betreten, muss der Angreifer auch in diesem Fall den Namen des Kontos kennen, in dem dieser elektronische Schl√ºssel registriert ist. Diese Informationen werden nicht im elektronischen Schl√ºssel gespeichert, und daher ist ein versehentlich verlorener elektronischer Schl√ºssel mit hoher Wahrscheinlichkeit f√ºr einen Passanten, der ihn gefunden hat, v√∂llig nutzlos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt jedoch Schemata, bei denen elektronische Schl√ºssel nicht nur als Ersatz f√ºr ein Passwort, sondern auch f√ºr ein Login verwendet werden k√∂nnen. In diesem Szenario stellt der Server nur Anmeldeinformationen bereit, wenn Anmeldeinformationen angefordert werden.</font></font><i><code>origin</code></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und die Anmeldeinformationen selbst werden vollst√§ndig im Authentifikator gespeichert. In diesem Fall kann der verlorene elektronische Schl√ºssel bereits problemlos zur Eingabe Ihres Kontos verwendet werden. Dann sollten Sie mit Ihrem Authentifikator vorsichtiger sein. Zum Schutz in solchen Szenarien k√∂nnen Sie elektronische Schl√ºssel mit zus√§tzlichen Sicherheitsma√ünahmen verwenden, z. B. Schl√ºssel, f√ºr deren Aktivierung Sie einen PIN-Code eingeben m√ºssen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sobald Sie den Verlust Ihres Schl√ºssels bemerken, sollten Sie ihn in jedem Fall sofort von allen Konten in allen Diensten trennen, in die Sie ihn eingeben k√∂nnen. Aus diesem Grund sollten alle Dienste die M√∂glichkeit bieten, eine Liste gebundener Authentifikatoren zu verwalten. Je schneller Sie den Verlust bemerken, desto weniger Zeit haben die Angreifer, um auf Ihre Daten zuzugreifen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetzt werden meine biometrischen Daten auf Mail.ru/Google/Microsoft-Servern gespeichert?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn WebAuthn mit integrierten Authentifikatoren arbeitet (z. B. mit Touch ID unter Mac OS), haben nur der entsprechende Sensor und das Betriebssystem selbst Zugriff auf Ihre biometrischen Daten. </font><font style="vertical-align: inherit;">Der Webdienst empf√§ngt oder verarbeitet keine biometrischen Informationen, sondern arbeitet nur mit dem √∂ffentlichen kryptografischen Schl√ºssel und mit Daten, die mit dem privaten Schl√ºssel signiert sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf dem Server selbst werden nur Informationen zum √∂ffentlichen Schl√ºssel gespeichert. </font><font style="vertical-align: inherit;">Daher verwendet WebAuthn Ihre biometrischen Daten in keiner Weise, um mit integrierten Authentifikatoren zu arbeiten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wir herausgefunden haben, hat WebAuthn viele wichtige Vorteile gegen√ºber Passw√∂rtern:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei Verwendung von WebAuthn ist es nicht erforderlich, sich Kennw√∂rter zu merken und einzugeben.</font></font></li>
<li>WebAuthn    - ,             ;</li>
<li>WebAuthn     ;</li>
<li>WebAuthn ‚Äî     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passw√∂rter sollten jedoch nicht verworfen werden. </font><font style="vertical-align: inherit;">Ein physischer Schl√ºssel kann immer noch gestohlen werden oder verloren gehen, genau wie ein Passwort. </font><font style="vertical-align: inherit;">Passw√∂rter haben jedoch einen wichtigen Vorteil. </font><font style="vertical-align: inherit;">Solange sie </font></font><i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nur</font></font></strong></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> im Kopf </font><font style="vertical-align: inherit;">gespeichert sind </font><font style="vertical-align: inherit;">, k√∂nnen sie sie ohne Wissen des Eigent√ºmers nicht erkennen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusammenfassend m√∂chte ich sagen, dass die WebAuthn-Technologie eine sehr vielversprechende Technologie ist, die ein so grundlegendes und wichtiges Element der Funktionsweise aller modernen Webdienste wie die Authentifizierung ver√§ndert. </font><font style="vertical-align: inherit;">Es ist auch eine ziemlich junge Technologie und die Benutzer sind noch nicht daran gew√∂hnt. </font><font style="vertical-align: inherit;">Aber es liegt in unserer Macht, es popul√§rer und bequemer zu machen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe, unsere Erfahrung mit der Implementierung von WebAuthn in Mail.ru Mail wird Ihnen helfen, es in Ihren Diensten zu unterst√ºtzen, und gemeinsam werden wir das Internet sicherer und moderner machen!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zus√§tzliche Materialien</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Web Authentication: An API for accessing Public Key Credentials Level 1</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">herrjemand/awesome-webauthn: A curated list of awesome WebAuthn/FIDO2 resources</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">artifact-project/webauthn: A set of tools for building an API and interacts with WebAuthn</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Getting started with security keys</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4 Password Authentication Risk &amp; How to Avoid Them</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WebAuthn   ,  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Getting Started with WebAuthn with Nick Steele</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Key generation in Yubico U2F Keys</a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de489256/index.html">Foundation Fieldbus Automation Systems</a></li>
<li><a href="../de489258/index.html">Wie werden sehr lange Ganzzahltypen in Python implementiert?</a></li>
<li><a href="../de489260/index.html">Entwerfen eines automatisierten Gro√üsystems f√ºr ein gro√ües Unternehmen in sieben Schritten</a></li>
<li><a href="../de489262/index.html">Warum es nicht einfach ist, Entwicklern Wahlfreiheit zu geben</a></li>
<li><a href="../de489268/index.html">Implementierung des Prozesses zum Hochladen einer Datei aus einem Container mit einem Browser in ein Testframework</a></li>
<li><a href="../de489272/index.html">Augen, Gehirn, Videoqualit√§t: Reflexionen auf 120 fps, 8K, HDR, Zauberst√§ben, Zapfen und dem ‚ÄûSeifenoper-Effekt‚Äú</a></li>
<li><a href="../de489274/index.html">Best√§tigen Sie Nachrichten in Tests</a></li>
<li><a href="../de489276/index.html">Bluttest auf Eisen - wie man den Spiegel kontrolliert, die Gr√ºnde diagnostiziert, warum es wichtig ist</a></li>
<li><a href="../de489280/index.html">Pingen Sie alle IPv6-Hosts auf dem Kanal an</a></li>
<li><a href="../de489282/index.html">DirectX 12 - Von Leonardo da Vinci zur zeitgen√∂ssischen Kunst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>