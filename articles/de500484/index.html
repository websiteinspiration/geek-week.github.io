<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌒 😃 🔢 Webkomponenten statt zu reagieren - ein weiterer Versuch 😁 🐍 🤷🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 
 
 Ich habe vor kurzem beschlossen, herauszufinden, wie eine clientseitige Webanwendung, die vollständig auf Vanilla-Webkomponenten gesch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Webkomponenten statt zu reagieren - ein weiterer Versuch</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500484/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo Habr! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe vor kurzem beschlossen, herauszufinden, wie eine clientseitige Webanwendung, die vollständig auf Vanilla-Webkomponenten geschrieben ist, ohne Verwendung von Frameworks aussehen sollte. </font><font style="vertical-align: inherit;">Es stellte sich als ziemlich funktionierend heraus. Am Ende skizzierte ich </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die mobile PWA-Vorlage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die ich jetzt in Prototypen verwende. </font><font style="vertical-align: inherit;">Ausgehend von folgenden Räumlichkeiten:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOM ist ein Staat. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da wir keinen Rahmen haben, vergessen wir sofort den Funktionalismus und kehren zum imperativen OOP zurück. </font><font style="vertical-align: inherit;">Webkomponenten sind langlebige DOM-Knoten, die ihren Status kapseln und über eine öffentliche API verfügen. </font><font style="vertical-align: inherit;">Sie werden nicht neu erstellt, sondern geändert. </font><font style="vertical-align: inherit;">Dies bedeutet, dass wir das DOM nicht nur als Repräsentation, sondern auch als Repository für Geschäftsobjekte betrachten sollten. Daher müssen wir eine Hierarchie von Komponenten erstellen, die die Bequemlichkeit ihrer Interaktion berücksichtigt.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Zusammenspiel der Komponenten. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponenten können über direkte Anrufe, Rückrufaustausch oder über Benutzer-DOM-Ereignisse nach oben / unten interagieren. </font><font style="vertical-align: inherit;">Die letztere Methode ist am meisten vorzuziehen, da sie das gegenseitige Eingreifen (Koppeln) verringert und das Diagramm der Bindungen anordnet (siehe Beispiel unten).</font></font><a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DOM-Ereignisse funktionieren nur innerhalb der Hierarchie. Sie können von unten in der Ahnenkette angezeigt oder an alle Nachkommen gesendet werden. </font><font style="vertical-align: inherit;">In anderen Fällen wird die Standard-Browser-API verwendet, um die Komponente zu adressieren: document.querySelector ('page-home'), und einige Komponenten können sich im Fenster registrieren und global verwendet werden: APP.route ('page-login').</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Innere Stile. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shadow DOM wird nicht verwendet, daher erben Komponenten globale Stile, können aber auch eigene Stile haben. </font><font style="vertical-align: inherit;">Da es unwahrscheinlich ist, dass &lt;style scoped&gt; in naher Zukunft implementiert wird, müssen Sie das Präfix des Komponentennamens verwenden, um den internen Stil zu deklarieren. Dies ist jedoch stillschweigend und funktioniert einwandfrei (siehe Beispiel unten).</font></font></li>
<li><b>  HTML/DOM.</b>  DOM —  ,        HTML (value, checked, innerHTML  contenteditable=«true»  ..).   JS  ,        —     / ,       (    ).           , , this.pass —  ,     &lt;input&gt;  .  ,     DOM,   ,         ,        ,     .</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Seitenkomponenten befinden sich im &lt;main&gt; -Container und werden nach ihrer Erstellung nicht gelöscht, sondern einfach ausgeblendet. </font><font style="vertical-align: inherit;">Auf diese Weise können Sie die Navigation mit location.hash implementieren, und die Standardbrowser-Schaltflächen funktionieren ordnungsgemäß. </font><font style="vertical-align: inherit;">Wenn Sie zu einer vorhandenen Komponente navigieren, wird die Methode onRoute () aufgerufen, mit der Sie die Daten aktualisieren können.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsstruktur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere Anwendung besteht aus:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Root-Komponente &lt;app-app&gt;, auf die über window.APP zugegriffen werden kann und die einen Seitenrouter und globale Funktionen enthält;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bedienfelder mit Kontextschaltflächen (ich habe sie nicht in eine separate Komponente eingefügt, sondern zur Vereinfachung der Ereignisbehandlung in das &lt;app-app&gt; -Layout aufgenommen);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dropdown-Menü (separate Komponente);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der &lt;main&gt; -Container, in den die Seitenkomponenten eingefügt werden: &lt;page-home&gt;, &lt;page-login&gt;, &lt;page-work&gt; beim Öffnen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Seiten sind mit Hin- und Her-Navigation gestapelt. </font><font style="vertical-align: inherit;">Darüber hinaus zeigen wir Datenflüsse von unten nach oben und von oben nach unten:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Autorisierungsstatus und der aktuelle Benutzername werden in der Komponente &lt;app-app&gt; gespeichert, kommen jedoch über ein Popup-Ereignis von der Komponente &lt;page-login&gt;.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Timer tickt in der &lt;app-app&gt; -Komponente, die den aktuellen Wert über ein Broadcast-Ereignis nach unten sendet, das nur vom Nachkommen von &lt;page-work&gt; abgefangen wird.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch Popup-Ereignisse wird auch die Installation kontextsensitiver Schaltflächen im Anwendungsbereich implementiert. Die Schaltflächen selbst werden zusammen mit den Handlern in den Seitenkomponenten erstellt und dann nach oben gesendet, wo sie auf App-Ebene abgefangen und in das Bedienfeld eingefügt werden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementierung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um mit dem internen DOM der Komponente zu arbeiten und nachgelagerte Ereignisse zu senden, wird die winzige Bibliothek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WcMixin.js verwendet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - weniger als 200 Codezeilen, von denen die Hälfte (Vereinheitlichung von Benutzereingabeereignissen) auch verworfen werden kann. </font><font style="vertical-align: inherit;">Alles andere ist reine Vanille. </font><font style="vertical-align: inherit;">Eine typische Komponente (Autorisierungsseite) sieht folgendermaßen aus:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> wcmixin <span class="hljs-keyword">from</span> <span class="hljs-string">'./WcMixin.js'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> me = <span class="hljs-string">'page-login'</span>
customElements.define(me, <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{<font></font>
   _but = <span class="hljs-literal">null</span><font></font>
<font></font>
   connectedCallback() {<font></font>
      <span class="hljs-keyword">this</span>.innerHTML = <span class="hljs-string">`
         &lt;style scoped&gt;
            <span class="hljs-subst">${me}</span> {
               height: 90%; width: 100%;
               display: flex; flex-direction: column;
               justify-content: center; align-items: center;
            }
            <span class="hljs-subst">${me}</span> input { width: 60%; }
         &lt;/style&gt;
         &lt;input w-id='userInp/user' placeholder='user'/&gt;&nbsp;
         &lt;input w-id='passInp/pass' type='password' placeholder='password'/&gt;
      `</span>
      wcmixin(<span class="hljs-keyword">this</span>)<font></font>
<font></font>
      <span class="hljs-keyword">this</span>.userInp.oninput = <span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
         <span class="hljs-keyword">this</span>.bubbleEvent(<span class="hljs-string">'login-change'</span>, {<span class="hljs-attr">logged</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">user</span>: <span class="hljs-keyword">this</span>.user})<font></font>
      }<font></font>
<font></font>
      <span class="hljs-keyword">this</span>.passInp.onkeypress = <span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
         <span class="hljs-keyword">if</span> (ev.key === <span class="hljs-string">'Enter'</span>) <span class="hljs-keyword">this</span>.login()<font></font>
      }<font></font>
   }<font></font>
<font></font>
   onRoute() {<font></font>
      <span class="hljs-keyword">this</span>.userInp.focus()
      <span class="hljs-keyword">this</span>._but = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'button'</span>)
      <span class="hljs-keyword">this</span>._but.innerHTML = <span class="hljs-string">'Log in&lt;br&gt;⇒'</span>
      <span class="hljs-keyword">this</span>._but.onclick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.login()
      <span class="hljs-keyword">this</span>.bubbleEvent(<span class="hljs-string">'set-buts'</span>, { <span class="hljs-attr">custom</span>: [<span class="hljs-keyword">this</span>._but] })<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">async</span> login() {<font></font>
      APP.msg = <span class="hljs-string">'Authorization...'</span>
      <span class="hljs-keyword">this</span>._but.disabled = <span class="hljs-literal">true</span>
      setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
         <span class="hljs-keyword">this</span>._but.disabled = <span class="hljs-literal">false</span>
         <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.user) {
            <span class="hljs-keyword">this</span>.bubbleEvent(<span class="hljs-string">'login-change'</span>, {<span class="hljs-attr">logged</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">user</span>: <span class="hljs-keyword">this</span>.user})<font></font>
            APP.route(<span class="hljs-string">'page-work'</span>)<font></font>
         } <span class="hljs-keyword">else</span> {<font></font>
            APP.msg = <span class="hljs-string">'Empty user !'</span>
            <span class="hljs-keyword">this</span>.userInp.focus()<font></font>
         }<font></font>
      }, <span class="hljs-number">1500</span>)<font></font>
   }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst sehen wir hier die lokalen Stile der Komponente. Zweitens wurde dem HTML-Markup das einzige nicht standardmäßige Attribut w-id = `` userInp / user '' hinzugefügt. Die Funktion wcmixin () verarbeitet alle mit diesem Attribut gekennzeichneten Elemente und fügt der aktuellen Komponente Variablen hinzu: this.userInp bezieht sich auf das &lt;input&gt; -Element selbst (mit dem Sie den Handler aufhängen können), und this.user ist der Wert des Elements (Benutzername). Wenn kein Zugriff auf das Element erforderlich ist, können Sie w-id = `` / user '' angeben, und nur der Wert wird erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Eingabe eines Benutzernamens senden wir den aktuellen Wert über ein Popup-Ereignis nach oben, erstellen eine kontextsensitive Schaltfläche in der onRoute () -Methode und senden ihn auch nach oben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist wichtig, dass die Autorisierungskomponente nichts über die höheren Komponenten der Anwendung / des Panels weiß, dh, sie ist nicht angeschlossen. </font><font style="vertical-align: inherit;">Er sendet einfach Ereignisse nach oben, und wer sie abfängt, ist dem Entwickler überlassen. </font><font style="vertical-align: inherit;">Der Empfang von Ereignissen aus der Anwendung &lt;app-app&gt; in der Komponente &lt;page-work&gt; wird auf folgende Weise implementiert:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> wcmixin <span class="hljs-keyword">from</span> <span class="hljs-string">'./WcMixin.js'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> me = <span class="hljs-string">'page-work'</span>
customElements.define(me, <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{<font></font>
<font></font>
   connectedCallback() {<font></font>
      <span class="hljs-keyword">this</span>.innerHTML = <span class="hljs-string">`
         &lt;p w-id='/msg'&gt;Enter text:&lt;/p&gt;
         &lt;p w-id='textDiv/text' contenteditable='true'&gt;1)&lt;br&gt;2)&lt;br&gt;3)&lt;/p&gt;
      `</span>
      wcmixin(<span class="hljs-keyword">this</span>)<font></font>
<font></font>
      <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">'notify-timer'</span>, (ev) =&gt; {
         <span class="hljs-keyword">this</span>.msg = <span class="hljs-string">`Enter text (elapsed <span class="hljs-subst">${ev.val}</span>s):`</span><font></font>
      })<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">async</span> onRoute() {
      <span class="hljs-keyword">this</span>.textDiv.focus()
      <span class="hljs-built_in">document</span>.execCommand(<span class="hljs-string">'selectAll'</span>,<span class="hljs-literal">false</span>,<span class="hljs-literal">null</span>)
      <span class="hljs-keyword">const</span> but = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'button'</span>)<font></font>
      but.innerHTML = <span class="hljs-string">'Done&lt;br&gt;⇒'</span>
      but.onclick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> alert(<span class="hljs-keyword">this</span>.text)
      <span class="hljs-keyword">this</span>.bubbleEvent(<span class="hljs-string">'set-buts'</span>, { <span class="hljs-attr">custom</span>: [but] })<font></font>
   }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und in die &lt;app-app&gt; -Komponente schreiben wir:</font></font><br>
<br>
<pre><code class="javascript hljs">setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
   <span class="hljs-keyword">this</span>._elapsed += <span class="hljs-number">1</span>
   <span class="hljs-keyword">this</span>.drownEvent(<span class="hljs-string">'notify-timer'</span>, <span class="hljs-keyword">this</span>._elapsed)<font></font>
}, <span class="hljs-number">1000</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die &lt;app-app&gt; -Komponente weiß auch nichts über Seitenkomponenten, die ihren Zähler verwenden möchten, dh sie ist nicht an ihre Nachkommen gebunden. </font><font style="vertical-align: inherit;">Es reicht aus, wenn sich der Entwickler auf die Ereignissignaturen einigt. </font><font style="vertical-align: inherit;">DOM-Ereignisse sind leichtgewichtig, absteigende Ereignisse werden nur an Webkomponenten (und nicht an einfache Elemente) gesendet, und aufsteigende Ereignisse durchlaufen standardmäßig die gesamte Ahnenkette. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist eigentlich alles, was ich sagen wollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vollständiger Projektcode</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einwände und Vorschläge</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird mir oft widersprochen, dass ein solcher Ansatz Geschäftslogik und Anzeige in einer „dicken“ Komponente mischt, was gegen allgemein akzeptierte Muster verstößt. Wir sprechen jedoch nur über die Logik zum Anzeigen und Überprüfen von Benutzereingaben. Der Rest der Geschäftslogik kann problemlos in separate JS-Klassen oder sogar Dienste verschoben werden - mit eigenen Hierarchien und Interaktionsmethoden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum ist das notwendig? Es gibt immer noch ein Rendering-Leistungsproblem (Garbage Collection ist nicht kostenlos), und ein zwingender Ansatz mit nativen Tools ist immer schneller und weniger ressourcenintensiv als deklarativ / funktional mit JS-Bibliotheken und VDOM. Wenn Sie möchten, bin ich bereit, mit einem Vertreter eines beliebigen Frameworks über eine vereinbarte TOR zu konkurrieren, wenn Sie die Benchmarking-Funktion übernehmen (ich kann dies schlecht tun).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank für Ihre Aufmerksamkeit.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500468/index.html">Java-Funktionshandbuch 8-14</a></li>
<li><a href="../de500470/index.html">Anpassung Ihrer vorhandenen Geschäftslösung an SwiftUI. Teil 3. Arbeiten mit Architektur</a></li>
<li><a href="../de500472/index.html">Python ist Zeit, Platz zu schaffen. Über die Aussichten von Julia</a></li>
<li><a href="../de500476/index.html">Unsicherheit</a></li>
<li><a href="../de500478/index.html">Tetris an der Hülse: gasdurchlässiges Material für tragbare Elektronik</a></li>
<li><a href="../de500486/index.html">Wie man die binäre Notation erklärt</a></li>
<li><a href="../de500488/index.html">Dispersion und die Methode der dynamischen Lichtstreuung: ein großer Schritt in der Medizin und Forensik</a></li>
<li><a href="../de500492/index.html">Anpassung Ihrer vorhandenen Geschäftslösung an SwiftUI. Teil 4. Navigation und Konfiguration</a></li>
<li><a href="../de500494/index.html">Rechtschreibprüfung Online VS Datenschutz</a></li>
<li><a href="../de500498/index.html">Erstellen Sie einen Python Flask-Dienst mit aktuellen COVID-19-Daten aus Wikipedia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>