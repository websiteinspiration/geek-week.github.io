<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“» ğŸ‘†ğŸ¾ ğŸ¥¢ Bagaimana Gatsby menghindari Next.js ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ½ ğŸ’Ÿ âª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penulis artikel, terjemahan yang kami terbitkan hari ini, bekerja sebagai programmer di Antler. Perusahaan ini adalah generator startup global. Ada be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bagaimana Gatsby menghindari Next.js</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/500228/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penulis artikel, terjemahan yang kami terbitkan hari ini, bekerja sebagai programmer di Antler. </font><font style="vertical-align: inherit;">Perusahaan ini adalah generator startup global. </font><font style="vertical-align: inherit;">Ada beberapa hari demo di Antler beberapa kali dalam setahun, menyatukan banyak pembuat startup dan investor dari seluruh dunia. </font><font style="vertical-align: inherit;">Situasi sekitar COVID-19 memaksa Antler menerjemahkan acara-acaranya ke dalam format online.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/hq/r9/an/hqr9anmkfyicv4znlhi2ynk16rm.jpeg"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perusahaan ingin memastikan bahwa pengunjung ke acara virtual mereka, tanpa terganggu oleh apa pun, dan tidak terjebak di mana pun, akan melihat hal yang paling penting. </font><font style="vertical-align: inherit;">Yakni, ide-ide startup yang dihadirkan kepada publik, dinyatakan sebagai konten halaman web. </font><font style="vertical-align: inherit;">Hari demonstrasi virtual mungkin menarik bagi audiens yang cukup luas. </font><font style="vertical-align: inherit;">Beberapa anggota audiens ini mungkin berpartisipasi untuk pertama kalinya dalam hal seperti ini. </font><font style="vertical-align: inherit;">Oleh karena itu, perusahaan harus melakukan segala cara sebaik mungkin dan menyediakan pemuatan halaman dengan kecepatan tinggi yang mewakili para pemula. </font><font style="vertical-align: inherit;">Mereka memutuskan bahwa ini adalah kasus ketika aplikasi web progresif berkinerja tinggi (PWA, Aplikasi Web Progresif) dapat berguna. </font><font style="vertical-align: inherit;">Masalah utama adalah menemukan teknologi yang tepat untuk mengembangkan PWA.</font></font><br>
<a name="habracut"></a><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f54/6f9/1fa/f546f91fa52e40c139cc78fe26b1ad06.gif"></div><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server rendering atau generator situs statis?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulai, saya akan memperkenalkan Anda sedikit ke kursus. Semua proyek kami didasarkan pada React dan perpustakaan Material-UI. Sebagai hasilnya, kami awalnya memutuskan untuk tidak pindah dari tumpukan teknologi ini, yang akan memungkinkan kami untuk memastikan kecepatan pengembangan yang tinggi dan membuat proyek baru itu kompatibel dengan apa yang sudah kami miliki. Perbedaan utama antara proyek baru ini dan aplikasi Bereaksi kami yang lain adalah bahwa database untuk mereka dibuat menggunakan aplikasi create-react-app, dan bahwa mereka sepenuhnya ditampilkan pada klien (CSR, Rendering Sisi Klien). Ini, khususnya, mengarah pada fakta bahwa ketika aplikasi awalnya dimuat, pengguna dipaksa untuk mengamati layar putih kosong sementara proyek kode JavaScript memuat, memproses dan mengeksekusi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membutuhkan tingkat kinerja tanpa kompromi. Oleh karena itu, kami mulai berpikir untuk menggunakan rendering sisi-server (SSR, Server-Side Rendering) atau generator situs statis (SSG, Static Site Generator) sehingga pemuatan awal aplikasi akan secepat mungkin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data kami disimpan di Cloud Firestore, dan kami mengaksesnya menggunakan Algolia. Ini memungkinkan kami untuk mengontrol, di tingkat bidang basis data, akses publik ke data dengan kunci API terbatas. Ini juga meningkatkan kinerja kueri. Dari pengalaman, kita tahu bahwa permintaan Algolia lebih cepat dari biasanya, dan Firestore JavaScript SDK yang dikompresi berukuran </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">86 KB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dalam kasus Algolia, ini adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7,5 Kb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, kami ingin membuat data yang kami berikan kepada pelanggan sesegar mungkin. Ini akan membantu kami untuk dengan cepat memperbaiki data yang salah yang dapat dipublikasikan secara tidak sengaja. Sementara praktik standar SSG menyediakan untuk implementasi permintaan yang relevan untuk data selama perakitan proyek, kami berharap bahwa dalam database kami data akan ditulis cukup sering. Secara khusus, kita berbicara tentang perekaman data yang diprakarsai oleh administrator menggunakan antarmuka yang dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diaktifkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan atas inisiatif pendiri proyek menggunakan portal web. Ini mengarah pada perakitan kompetitif proyek. Selain itu, karena fitur struktural dari basis data kami, perubahan kecil dapat menyebabkan operasi perakitan proyek baru. Ini membuat pipa CI / CD kami sangat tidak efisien. Oleh karena itu, kami membutuhkan permintaan untuk menerima data dari repositori untuk dieksekusi setiap kali pengguna meminta halaman untuk memuat. Sayangnya, ini berarti bahwa solusi kami tidak akan menjadi contoh proyek SSG "bersih".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Awalnya, aplikasi kami dibuat berdasarkan Gatsby, karena kami sudah menggunakan halaman arahan yang dibangun di Gatsby, dan di salah satu dari mereka perpustakaan Material-UI sudah digunakan. </font><font style="vertical-align: inherit;">Versi pertama proyek membentuk halaman yang, saat data sedang dimuat, menampilkan "kerangka". </font><font style="vertical-align: inherit;">Pada saat yang sama, cat konten pertama (FCP) berada di wilayah 1 detik.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d75/578/718/d7557871834d0d244f8501327d68810d.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengunduh "kerangka" halaman dengan pemuatan data berikutnya</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Solusi ini ternyata menarik, tetapi ada kekurangannya, karena data untuk output halaman tersebut diunduh atas inisiatif klien:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk melihat konten halaman, pengguna harus menunggu unduhan halaman ini sendiri dan data yang ditampilkan di dalamnya, diperoleh melalui 4 permintaan ke Algolia.</font></font></li>
<li>    JS-    .   ,  React   Â«Â»      .         DOM.</li>
<li>         .  ,  ,    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, selama akhir pekan yang panjang, saya memutuskan untuk bereksperimen dengan versi SSR dari proyek yang dibuat menggunakan Next.js. Beruntung bagi saya, dokumentasi untuk Material-UI memiliki contoh proyek untuk Next.js. Karena itu, saya tidak perlu mempelajari semua kerangka ini dari awal. Saya hanya perlu melihat beberapa bagian tutorial dan dokumentasi. Saya mengonversi aplikasi ke proyek yang diberikan di server. Ketika pengguna meminta memuat halaman, server mengeksekusi permintaan untuk data yang diperlukan untuk mengisi halaman. Langkah ini memungkinkan kami untuk menyelesaikan ketiga masalah di atas. Berikut adalah hasil pengujian untuk dua opsi aplikasi.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b60/0da/cda/b600dacda702f25e97808ed9f762ff8c.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hasil meneliti aplikasi menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google PageSpeed â€‹â€‹Insights</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Di sebelah kiri adalah Gatsby (SSG), di sebelah kanan adalah Next.js (SSR) ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar asli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
FCP untuk versi Next.js dari proyek ini sekitar 3 kali lebih tinggi daripada versi yang didasarkan pada Gatsby. Versi Gatsby proyek memiliki Indeks Kecepatan 3,3 detik, sedangkan versi Next.js memiliki 6,2 detik. Waktu ke byte pertama (TTFB, Time To First Byte) adalah 2,56 detik saat menggunakan Next.js, dan 10-20 ms saat menggunakan Gatsby.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu dicatat bahwa versi situs Next.js dikerahkan ke layanan lain (di sini kami menggunakan layanan ZEIT Now dan Firebase Hosting - ini juga dapat memengaruhi peningkatan TTFB). Tetapi, meskipun demikian, jelas bahwa transfer operasi pengunggahan data ke server membuat situs tampak lebih lambat, terlepas dari kenyataan bahwa semua materi halaman dimuat dalam waktu yang hampir bersamaan. Faktanya adalah bahwa dalam proyek Next.js-versi pengguna untuk beberapa waktu hanya melihat halaman putih kosong.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e0/8a2/ab3/6e08a2ab3bcb4c06471cc92545848d8a.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tangkapan layar menunjukkan memuat dua versi aplikasi. </font><font style="vertical-align: inherit;">Pengunduhan tidak selesai secara bersamaan. </font><font style="vertical-align: inherit;">Catatan disinkronkan saat Anda menekan tombol Enter.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Semua ini memberi kami pelajaran penting dari bidang pengembangan web: Anda perlu memberikan umpan balik visual kepada pengguna. </font><font style="vertical-align: inherit;">Satu</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> studi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menemukan bahwa aplikasi yang menggunakan layar kerangka tampaknya memuat lebih cepat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil ini, apalagi, tidak sesuai dengan suasana hati yang mungkin Anda tangkap jika Anda membaca artikel tentang pengembangan web dalam beberapa tahun terakhir. </font><font style="vertical-align: inherit;">Yaitu, kita berbicara tentang fakta bahwa tidak ada yang salah dengan menggunakan sumber daya klien, dan bahwa RSK bukanlah solusi komprehensif untuk masalah kinerja.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kinerja Pembuatan Situs Statis: Membandingkan Gatsby dan Next.js</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sementara dua kerangka kerja yang dipertimbangkan, Gatsby dan Next.js, masing-masing dikenal, karena kemampuan mereka untuk menghasilkan situs statis dan rendering server, </font><font style="vertical-align: inherit;">dukungan untuk SSG ditingkatkan </font><font style="vertical-align: inherit;">di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next.js 9.3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang menjadikannya pesaing untuk Gatsby. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada saat penulisan ini, kemampuan Next.js 'untuk menghasilkan situs statis masih sangat segar. Dia sedikit lebih dari sebulan. Dia masih dilaporkan di halaman pertama proyek. Sekarang tidak ada banyak perbandingan kemampuan SSG dari Gatsby dan Next.js (atau mungkin belum ada perbandingan seperti itu sama sekali). Akibatnya, saya memutuskan untuk melakukan percobaan sendiri.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya mengembalikan versi proyek Gatsby ke status ketika data diunduh pada klien, dan membuatnya agar kedua versi aplikasi memiliki set fitur yang persis sama. Yaitu, saya harus menghapus apa yang bertanggung jawab atas plugin Gatsby: fungsi SEO, menghasilkan favicons, manifes PWA. Untuk membandingkan secara eksklusif bundel JavaScript yang dibuat oleh kerangka kerja, saya tidak menyertakan gambar dan konten lain yang diunduh dari sumber eksternal dalam proyek. Kedua versi aplikasi dikerahkan di platform Firebase Hosting. Untuk referensi, dua versi aplikasi dibuat berdasarkan Gatsby 2.20.9 dan Next.js 9.3.4. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menjalankan Lighthouse di komputer saya 6 kali untuk setiap versi. Hasilnya menunjukkan sedikit keuntungan bagi Gatsby.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/82a/522/059/82a522059afba13a70e62df76144b6e6.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nilai rata-rata yang diperoleh setelah 6 Mercusuar diluncurkan untuk setiap kerangka kerja ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar asli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dalam hal penilaian kinerja secara keseluruhan, versi Next.js hanya sedikit di belakang versi Gatsby. Hal yang sama berlaku untuk FCP dan Indeks Kecepatan. Versi Next Potential First Delay untuk Next.js aplikasi sedikit lebih tinggi daripada versi Gatsby.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk lebih memahami apa yang terjadi, saya membuka tab Network di alat pengembang Chrome. Ternyata, dalam versi proyek Next.js, jumlah fragmen di mana kode JavaScript dibagi adalah 3 lebih banyak daripada dalam versi Gatsby (tidak termasuk file manifes), tetapi kode yang dikompresi adalah 20 KB lebih kecil. Dapatkah permintaan tambahan yang diperlukan untuk mengunduh file-file ini melebihi manfaat dari bundel yang lebih kecil sehingga sangat mengganggu kinerja?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/27b/d84/d9a/27bd84d9aad10ae1f3421a0f829c3fa2.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam versi proyek Gatsby, 7 permintaan dieksekusi untuk mengunduh 379 KB data. Dalam versi proyek Next.js - 12 permintaan untuk mengunduh 359 KB data ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar asli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika Anda menganalisis kinerja JavaScript, maka alat pengembang mengatakan bahwa versi proyek Next.js memerlukan 300 ms tambahan untuk rendering pertama, dan bahwa versi ini menghabiskan lebih banyak waktu pada tugas Evaluate Script. Dalam alat pengembang, tugas ini bahkan ditandai sebagai "tugas panjang".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24b/1be/11c/24b1be11c62fc6a1561a413555e53c0f.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analisis kinerja berbagai opsi proyek menggunakan tab Kinerja alat pengembang Chrome ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar asli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Saya membandingkan kode proyek untuk mengetahui apakah ada perbedaan dalam penerapannya yang dapat mempengaruhi kinerja. Dengan pengecualian menghapus kode yang tidak perlu dan koreksi yang terkait dengan jenis-jenis TypeScript yang hilang, satu-satunya perbedaan adalah penerapan pengguliran halaman yang mulus saat pindah ke bagian-bagiannya masing-masing. Fitur ini sebelumnya diperkenalkan oleh file</font></font><code>gatsby-browser.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan dipindahkan ke</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> komponen yang diimpor secara dinamis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Akibatnya, kode ini hanya akan berjalan di browser. (Kami menggunakan paket npm</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gulir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> halus</font><font style="vertical-align: inherit;">, dan ketika mengimpornya, ia membutuhkan objek</font></font><code>window</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.) Masalah ini mungkin penyebabnya, tapi saya tidak tahu bagaimana cara mengatasinya di Next.js.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gatsby lebih nyaman dari sudut pandang pengembang</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, saya memutuskan untuk memilih versi proyek Gatsby. Selain itu, di sini saya tidak memperhitungkan keunggulan kinerja yang sangat kecil yang ditunjukkan Gatsby dibandingkan dengan mekanisme SSG Next.js (saya tidak akan secara serius berpegang pada keunggulan 0,6 detik?). Faktanya adalah bahwa dalam versi Gatsby proyek banyak fitur PWA sudah diimplementasikan, dan saya tidak melihat gunanya menerapkannya lagi dalam versi aplikasi Next.js. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika saya baru saja membuat versi Gatsby proyek yang pertama, saya dapat dengan cepat menambahkan beberapa fitur PWA yang berguna untuk proyek tersebut. Misalnya, untuk menambahkan ke setiap halaman tag meta saya sendiri yang diperlukan untuk SEO, saya hanya perlu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membaca manual</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Untuk melengkapi proyek dengan manifes PWA, saya hanya perlu menggunakan </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">plugin yang</font></a><font style="vertical-align: inherit;"> sesuai</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Untuk melengkapi proyek dengan favicons yang akan mendukung semua platform yang tersedia (dan dalam hal ini masih ada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kekacauan yang mengerikan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), saya bahkan tidak perlu melakukan apa-apa, karena dukungan favicon adalah bagian dari plugin yang bertanggung jawab atas manifes. Sangat nyaman!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menerapkan fitur yang sama dalam versi aplikasi Next.js akan membutuhkan lebih banyak pekerjaan. Saya harus mencari manual pelatihan, semua jenis "praktik terbaik". Dan fakta bahwa saya akan berhasil, bagaimanapun, tidak akan memberi saya keuntungan apa pun. Bagaimanapun, versi Next.js dari proyek ini tidak berbeda dalam kinerja yang lebih tinggi daripada versi Gatsby-nya. Ini, sebagai tambahan, adalah alasan mengapa saya memutuskan untuk menonaktifkan fitur yang sesuai dari versi Gatsby proyek, membandingkannya dengan versi Next.js. Dokumentasi Next.js lebih ringkas daripada dokumentasi Gatsby (mungkin faktanya adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih kecil daripada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gatsby</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Saya benar-benar menyukai tutorial Next.js. yang di-gamified </font><font style="vertical-align: inherit;">Tetapi dokumentasi Gatsby yang lebih luas lebih bernilai dengan perkembangan PWA yang sebenarnya, meskipun pada pandangan pertama terlihat sangat besar.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/010/138/800/0101388008c84ce2dda5f6f8f522cf6d.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentasi Gatsby</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Benar, saya tidak bisa diam tentang kekuatan Next.js:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berkat tutorial dan dokumentasi singkat dari Next.js, rasanya kerangka ini bisa dipelajari lebih cepat daripada Gatsby.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistem pemuatan data yang digunakan dalam Next.js didasarkan pada fungsi asinkron dan API Ambil. </font><font style="vertical-align: inherit;">Akibatnya, ketika mengembangkan Next.js, pengembang tidak memiliki perasaan bahwa ia perlu belajar GraphQL untuk mengambil keuntungan penuh dari kemampuan framework.</font></font></li>
<li> Next.js    TypeScript,      Gatsby        ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">   </a> (    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>).     Next.js      ,     ,        ,        .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berkat fakta bahwa Next.js telah meningkatkan dukungan SSG, kerangka kerja ini telah menjadi alat yang ampuh yang memungkinkan, pada tingkat setiap halaman individu, untuk memilih metode bekerja dengannya. </font><font style="vertical-align: inherit;">Itu bisa SSR, SSG atau CSR. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan, jika saya dapat membuat aplikasi ini dalam bentuk yang benar-benar statis, maka Next.js akan lebih cocok untuk saya, karena saya bisa menggunakan Algolia JS-API standar dan dapat menyimpan kode untuk memuat data </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam file yang sama</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan dan kode komponen. </font><font style="vertical-align: inherit;">Karena Algolia tidak memiliki API GraphQL bawaan, dan tidak ada plugin Gatsby untuk Algolia, menerapkan mekanisme seperti itu di Gatsby akan memerlukan penambahan kode ini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke file baru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dan ini bertentangan dengan cara deklaratif intuitif untuk mendeskripsikan halaman.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentang Cara Tambahan untuk Meningkatkan Kinerja Proyek</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah kami menyelesaikan masalah dalam memilih kerangka kerja, dapat dicatat bahwa ada cara tambahan untuk meningkatkan kinerja proyek yang tidak terkait dengan kerangka kerja tersebut. </font><font style="vertical-align: inherit;">Perbaikan-perbaikan ini mungkin membuat peringkat proyek Lighthouse menjadi 100.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">milis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Algolia </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">bulan Maret,</font></a><font style="vertical-align: inherit;"> disarankan untuk menambahkan petunjuk </font></font><code>preconnect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk lebih meningkatkan kecepatan eksekusi permintaan. </font><font style="vertical-align: inherit;">(Benar, sayangnya, fragmen kode yang salah diberikan dalam buletin. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kode yang benar.)</font></font></li>
<li>    .   JS-  CSS-,  webpack- Gatsby.   Gatsby  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>   .  ,       ,   Netlify  Amazon S3. ,  Firebase Hosting,  ,    .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menggunakan gambar JPEG dan PNG yang diunggah oleh pembuat startup di aplikasi. </font><font style="vertical-align: inherit;">Kami tidak mengompres dan mengoptimalkannya. </font><font style="vertical-align: inherit;">Memperbaiki aspek aplikasi kami ini cukup sulit dan berada di luar cakupan proyek ini. </font><font style="vertical-align: inherit;">Selain itu, alangkah baiknya jika semua gambar ini dikonversi ke format WebP. </font><font style="vertical-align: inherit;">Akibatnya, kita harus menyimpan gambar hanya menggunakan satu format grafik yang sangat efisien. </font><font style="vertical-align: inherit;">Sayangnya, seperti banyak fitur PWA lainnya, tim pengembangan Safari WebKit kecanduan dengan dukungan WebP. </font><font style="vertical-align: inherit;">Sekarang ini adalah satu-satunya peramban utama yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak mendukung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> format ini.</font></font></li>
</ul><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ringkasan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kita meringkas secara singkat apa yang kita bicarakan di sini, maka kita dapat mengatakan yang berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Output dari versi "kerangka" dari halaman selama pemuatan data oleh klien membuat pengguna merasa operasi situs web lebih cepat daripada ketika pengguna melihat halaman kosong saat server memuat data.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versi gatsby situs hanya sedikit lebih cepat daripada versi Next.js. </font><font style="vertical-align: inherit;">Namun, sistem plug-in Gatsby dan dokumentasi proyek berkualitas tinggi meningkatkan kegunaan kerangka kerja ini untuk pengembang.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaca yang budiman! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah Anda menggunakan generator situs statis atau sistem rendering sisi server untuk mempercepat proyek Anda?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/a_/bs/aa/a_bsaactpbr8fltzymtkhqbw1d4.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id500216/index.html">Lupakan Anthropocene: kita telah memasuki zaman sintetis</a></li>
<li><a href="../id500218/index.html">Model epidemiologis Covid-19</a></li>
<li><a href="../id500220/index.html">Rekaman vinil dan kaset tepat di Android Anda</a></li>
<li><a href="../id500222/index.html">Telepon Nirkabel dari Biplan WWI Inggris</a></li>
<li><a href="../id500224/index.html">Hidung elektronik DIY</a></li>
<li><a href="../id500232/index.html">Belajar Akka.NET: Server game online yang sederhana</a></li>
<li><a href="../id500234/index.html">Mengapa saya membuat proyek akuntansi pengeluaran pribadi untuk Git + JS</a></li>
<li><a href="../id500238/index.html">Katakan padaku apa yang mengganggumu</a></li>
<li><a href="../id500244/index.html">Di luar array</a></li>
<li><a href="../id500246/index.html">Melindungi dan Meretas Xbox 360 (Bagian 3)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>