<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔑 👜 👩‍🚒 Tri des arbres cartésiens 🙅🏿 👨🏼‍🚒 🚶🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Un regard neuf sur les concepts traditionnels. Aujourd'hui, il y aura un tel «cartésien» que l'école n'a pas réussi.
 
 
 L'essence de l'algorithme es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Tri des arbres cartésiens</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/edison/blog/505744/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un regard neuf sur les concepts traditionnels. </font><font style="vertical-align: inherit;">Aujourd'hui, il y aura un tel «cartésien» que l'école n'a pas réussi.</font></font></i><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><div style="text-align:center;"><img width="700" height="525" src="https://habrastorage.org/webt/hx/f6/fp/hxf6fphv_nedheqxyqyom6qugw4.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'essence de l'algorithme est que, sur la base du tableau, l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arbre</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dit </font><b><font style="vertical-align: inherit;">cartésien est construit</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Et à partir de l'arbre cartésien construit, il est très facile d'obtenir tous les éléments dans l'ordre croissant ou décroissant.</font></font><a name="habracut"></a><blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Logiciel EDISON - développement web"><img align="left" width="153" height="75" src="https://habrastorage.org/webt/w0/zl/to/w0zltoxvysbr0yeinstkfvw1wbg.png" alt="Logiciel EDISON - développement web"></a><br clear="right">
 EDISON     .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img align="right" width="340" height="227" src="https://habrastorage.org/webt/84/rh/rr/84rhrrsxgdeqa8xxpf5b2dub_wk.png"></a><br clear="left">
     — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   Vivaldi</a>,             .<br>
<br>
    , , ! ;-)<div style="text-align:center;"><img width="770" height="1" src="https://habrastorage.org/webt/mw/wy/cu/mwwycuqpta7m96dxifyx9if7mu8.gif"></div></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le cadre de cet article, j'ai décidé de m'abstenir d'une théorie détaillée et ne vais pas expliquer ce qu'est un arbre cartésien, comment le construire, et quelles opérations sont possibles avec lui. Cela a déjà été fait parfaitement bien avant moi - il y a un excellent matériel sur Habré, où tous ces moments ont été couverts avec succès et en profondeur - à la fin de cette conférence, il y a une section "Liens" où vous pouvez aller à ces harastrastam. À l'avenir, je couvrirai certains points qui sont caractéristiques de cette structure, mais il est entendu que vous comprenez ses spécificités ou, si vous êtes intéressé, êtes prêt à l'étudier en utilisant les liens ci-dessous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un arbre cartésien est une structure hybride qui combine les propriétés d'un tas et d'un arbre de recherche binaire. Il existe des synonymes pour cet arbre qui seront utilisés dans l'article: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deramide</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Revaux + fête </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bromure</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trip</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">treap</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ee + h </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eap</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
et même </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Duch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Erevo + à l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enseignement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons ce tableau comme exemple: </font></font><br>
<br>
<img width="421" height="42" src="https://habrastorage.org/webt/qe/8j/nq/qe8jnql9ux0yjhtgddkd5zg35ts.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
et regardons à quoi ressemblent l'arbre de recherche binaire, le tas et le déramide.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbre de recherche binaire</font></font></h3><br>
<img width="421" height="42" src="https://habrastorage.org/webt/qe/8j/nq/qe8jnql9ux0yjhtgddkd5zg35ts.png"><br>
<img align="left" width="211" height="414" src="https://habrastorage.org/webt/tq/o9/k0/tqo9k0oscidinobj1inalmaelea.png"><br clear="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'apparence de l'arborescence dépend grandement de la façon dont les éléments du tableau sont initialement situés. Sur la base de données aléatoires, un arbre avec un haut degré de probabilité se révélera déséquilibré, avec un nombre de niveaux beaucoup plus élevé que celui optimal. Dans notre exemple, 7 niveaux se sont formés. Si les éléments du tableau étaient disposés, par exemple, dans cet ordre: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
25, 28, 29, 23, 30, 27, 24, 22, 21, 26 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, l'arborescence de recherche serait équilibrée, avec le nombre minimum possible de niveaux (= 4). Le tri à l'aide d'un arbre équilibré aurait une complexité temporelle: </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> log </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mais dans le cas d'un arbre déséquilibré, il peut se dégrader en </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les habrastaties précédentes, le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tri par un arbre de recherche binaire était</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> considéré </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">, ainsi que sa modification intéressante</font></a><font style="vertical-align: inherit;"> , qui permet un tri garanti avec une complexité temporelle de </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> log </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus l'arbre de recherche est déséquilibré, plus il sera coûteux de le parcourir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'un autre côté, le stockage des données dans l'arborescence de recherche est très pratique d'un point de vue organisationnel, il vous permet d'effectuer de nombreuses opérations avec ces données, y compris le tri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un parent dans un arbre de recherche binaire n'est pas nécessairement plus qu'un enfant. Mais en même temps, l'enfant gauche est toujours plus petit que le parent, l'enfant droit est toujours plus grand que le parent (ou égal à lui).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'élément maximal du tableau lors de la construction de l'arbre de recherche se situe quelque part dans le sous-arbre droit. </font><font style="vertical-align: inherit;">Pour extraire ce maximum, l'arborescence de recherche doit être complètement contournée.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tas binaire</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un tas ordinaire, les relations parent-enfant sont très simplement organisées; elles sont liées aux indices des éléments eux-mêmes. </font></font><br>
<br>
<div style="text-align:center;"><img width="589" height="270" src="https://habrastorage.org/webt/e1/tw/um/e1twumtre1o-wzh5etq-qpkun10.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La figure n'est pas encore un tas, car un tel arbre, construit à l'origine sur un tableau aléatoire, n'est pas encore trié. </font><font style="vertical-align: inherit;">Vous devez faire le tour de chaque élément et le filtrer. </font><font style="vertical-align: inherit;">Par conséquent, les éléments du tableau sont reconstruits de sorte que chaque parent soit plus grand que son descendant:</font></font><br>
<br>
<div style="text-align:center;"><img width="589" height="270" src="https://habrastorage.org/webt/qb/p3/tt/qbp3ttzf2za1g0xqvznq9azoxzm.png"></div> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'élément maximum est à la racine de l'arbre. </font><font style="vertical-align: inherit;">Son emplacement est connu, vous n'avez pas besoin de le rechercher. </font><font style="vertical-align: inherit;">D'un autre côté, si vous extrayez le maximum du tas (et que vous devez plutôt placer un autre élément du tableau à la racine de l'arbre), le tas cesse d'être un arbre de tri, il doit être à nouveau tamisé.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbre cartésien</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, l'arbre cartésien. </font><font style="vertical-align: inherit;">Les relations sont établies de telle manière que, d'une part, c'est un groupe si vous regardez les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valeurs des</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> éléments. </font><font style="vertical-align: inherit;">Tous les parents sont plus que leurs descendants:</font></font><br>
<br>
<div style="text-align:center;"><img width="421" height="290" src="https://habrastorage.org/webt/cq/f9/xr/cqf9xrcsibbvwoxs3ygawzrrszk.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'un autre côté, une structure est un arbre de recherche binaire lorsque vous regardez les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indices des</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> éléments. </font><font style="vertical-align: inherit;">Pour plus de clarté, les valeurs des éléments dans les nœuds ont été supprimées de l'image dans l'arborescence, seuls les index ont été laissés. </font><font style="vertical-align: inherit;">Chaque descendant gauche est plus petit que le parent, chaque descendant droit est plus grand que le parent:</font></font><br>
<br>
<div style="text-align:center;"><img width="421" height="280" src="https://habrastorage.org/webt/in/rk/fq/inrkfq0kqfx6ha3b1q8r276xlpm.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'une part, nous avons un accès rapide à l'élément maximum. Puisqu'il s'agit d'un groupe, le maximum est à la racine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'un autre côté, vous pouvez facilement supprimer le maximum de la structure et travailler davantage avec les données restantes. Comme il s'agit d'un arbre de recherche binaire, la suppression de la racine n'est pas coûteuse. Des changements relativement faibles se produisent dans les relations parent-enfant, un nouveau maximum atteint la racine de l'arborescence cartésienne et vous pouvez continuer à travailler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque élément est caractérisé par deux nombres - la valeur de l'élément et l'indice de l'élément dans le tableau. L'index peut être considéré comme la coordonnée </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la valeur comme </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et l'élément lui </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">même </font><font style="vertical-align: inherit;">peut être </font><font style="vertical-align: inherit;">interprété comme un point sur le plan de coordonnées. Si les parents et les descendants sont connectés par des flèches, nous obtenons quelque chose comme ceci:</font></font><br>
<br>
<div style="text-align:center;"><img width="435" height="404" src="https://habrastorage.org/webt/bh/rg/pv/bhrgpviw4kai2rkn_hfysb_kwv8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La figure sur le graphique est complètement isomorphe à l'arbre cartésien juste au-dessus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tri des arbres cartésiens :: Tri des arbres cartésiens</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme final:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I. Sur la base d'un tableau non trié, nous construisons un arbre cartésien:</font></font></b><ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I.1. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Itérer sur les éléments du tableau de gauche à droite.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I.1. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S'il s'agit du premier élément du tableau, il s'agit simplement du tout premier nœud de l'arbre cartésien.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I.2. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si ce n'est pas le premier élément du tableau, considérez qu'il s'agit d'un arbre cartésien composé d'un élément. </font><font style="vertical-align: inherit;">Nous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">effectuons l'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> opération de </font><b><font style="vertical-align: inherit;">fusion</font></b><font style="vertical-align: inherit;"> de </font><font style="vertical-align: inherit;">cet arbre avec l'arbre qui est construit à partir des éléments précédents.</font></font></li>
</ul></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">II. </font><font style="vertical-align: inherit;">Nous supprimons l'élément maximal actuel de l'arbre, après quoi nous restaurons l'arbre cartésien.</font></font></b><ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">II.1. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'élément maximal actuel est la racine de l'arbre.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">II.2. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous supprimons la racine de l'arbre, nous transférons l'élément maximum dans un tableau supplémentaire.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">II.3. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Après avoir supprimé la racine, la structure s'est divisée en deux arbres cartésiens.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">II.4. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ces deux arborescences, nous effectuons l'opération de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fusion</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le nouveau maximum actuel est l'une des racines des arbres joints.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">II.5. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour un nouveau sommet, répétez à nouveau les étapes II.1 à II.4.</font></font></li>
</ul></li>
</ul><br>
<br>
<div style="text-align:center;"><img width="759" height="406" src="https://habrastorage.org/webt/wu/ev/zx/wuevzx7thmypyyovaldixw5xxa0.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Implémentation en C ++:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">/*
 * c++ 11 code to construct a Cartesian tree. The method cartesianTreeSort
 * will sort the contents of the array.
 */</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>{</span>
    <span class="hljs-keyword">int</span> value;<font></font>
    Node *left, *right;<font></font>
    Node *parent;<font></font>
<font></font>
    Node(){<font></font>
        value = <span class="hljs-number">0</span>;<font></font>
        parent = <span class="hljs-literal">NULL</span>;<font></font>
        left = <span class="hljs-literal">NULL</span>;<font></font>
        right = <span class="hljs-literal">NULL</span>;<font></font>
    }<font></font>
};<font></font>
<font></font>
<span class="hljs-comment">// Used by priority queue</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">compare</span>{</span>
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(Node *left, Node *right)</span></span>{
        <span class="hljs-keyword">return</span> left-&gt;value &gt; right-&gt;value;<font></font>
    }<font></font>
};<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CartesianTree</span>{</span>
<span class="hljs-keyword">private</span>:
    <span class="hljs-comment">// last pointer to keep track of last node added</span><font></font>
    Node *root, *last;<font></font>
<font></font>
    <span class="hljs-function">Node * <span class="hljs-title">findLowestNode</span><span class="hljs-params">(Node *node, <span class="hljs-keyword">int</span> x)</span></span>{
        <span class="hljs-keyword">if</span>(node-&gt;value &lt; x)
            <span class="hljs-keyword">return</span> node;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(node-&gt;parent != <span class="hljs-literal">NULL</span>)
            <span class="hljs-keyword">return</span> findLowestNode(node-&gt;parent, x);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<font></font>
    }<font></font>
<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">Node * <span class="hljs-title">getRoot</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> root;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addNode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>{<font></font>
        Node *new_node = <span class="hljs-keyword">new</span> Node;<font></font>
        new_node-&gt;value = x;<font></font>
        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">NULL</span>){<font></font>
            last = new_node;<font></font>
            root = new_node;<font></font>
            <span class="hljs-keyword">return</span>;<font></font>
        }<font></font>
        Node *z = findLowestNode(last, x);<font></font>
        <span class="hljs-keyword">if</span>(z == <span class="hljs-literal">NULL</span>){<font></font>
            new_node-&gt;left = root;<font></font>
            root-&gt;parent = new_node;<font></font>
            root = new_node;<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span>{<font></font>
            new_node-&gt;left = z-&gt;right;<font></font>
            z-&gt;right = new_node;<font></font>
            new_node-&gt;parent = z;<font></font>
        }<font></font>
        last = new_node;<font></font>
    }<font></font>
<font></font>
    CartesianTree(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ar){<font></font>
        root = <span class="hljs-literal">NULL</span>;<font></font>
        last = <span class="hljs-literal">NULL</span>;
        <span class="hljs-comment">// Call addNode function for each element of the array</span>
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> x : ar){<font></font>
            addNode(x);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">InorderTraversal</span><span class="hljs-params">(Node *node)</span></span>{
        <span class="hljs-comment">// To print inorder traversal of the tree</span>
        <span class="hljs-keyword">if</span>(node == <span class="hljs-literal">NULL</span>)
            <span class="hljs-keyword">return</span>;<font></font>
        InorderTraversal(node-&gt;left);<font></font>
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; node-&gt;value &lt;&lt; <span class="hljs-string">' '</span>;<font></font>
        InorderTraversal(node-&gt;right);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// Function to sort and store values in array</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">cartesianTreeSort</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp;sorted_ar)</span></span>{
        <span class="hljs-comment">// Initialize input array</span>
        sorted_ar.assign(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<font></font>
<font></font>
        <span class="hljs-comment">// Initialize priority queue</span>
        <span class="hljs-built_in">std</span>::priority_queue&lt;Node *, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;Node *&gt;, compare&gt; p_queue;<font></font>
        p_queue.push(root);<font></font>
        Node *temp = <span class="hljs-literal">NULL</span>;
        <span class="hljs-keyword">while</span>(!p_queue.empty()){<font></font>
            temp = p_queue.top();<font></font>
            p_queue.pop();<font></font>
            sorted_ar.push_back(temp-&gt;value);<font></font>
            <span class="hljs-keyword">if</span>(temp-&gt;left){<font></font>
                p_queue.push(temp-&gt;left);<font></font>
            }<font></font>
            <span class="hljs-keyword">if</span>(temp-&gt;right){<font></font>
                p_queue.push(temp-&gt;right);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
};<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ar = {<span class="hljs-number">1</span>, <span class="hljs-number">14</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>};<font></font>
<font></font>
    <span class="hljs-function">CartesianTree <span class="hljs-title">tree</span><span class="hljs-params">(ar)</span></span>;
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Inorder Traversal\n"</span>;<font></font>
    tree.InorderTraversal(tree.getRoot());<font></font>
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">'\n'</span>;<font></font>
<font></font>
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; sorted;<font></font>
    tree.cartesianTreeSort(sorted);<font></font>
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Sorted array is\n"</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> x : sorted)
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">' '</span>;
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">'\n'</span>;<font></font>
}</code></pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Complexité</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un arbre cartésien avec des coûts minimes traite les sections triées et presque triées (et cela n'a pas d'importance, en ordre croissant ou décroissant) du tableau. </font><font style="vertical-align: inherit;">Voici, par exemple, le processus pour un tableau en ordre inverse:</font></font><br>
<br>
<div style="text-align:center;"><img width="594" height="521" src="https://habrastorage.org/webt/_6/7a/tt/_67attvixuawod4utn7wblzpzey.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La partie la plus coûteuse de l'algorithme est l'opération de fusion, qui </font><font style="vertical-align: inherit;">doit être effectuée deux fois </font><font style="vertical-align: inherit;">pour chacun des </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> éléments - d'abord lors de la construction du déramide, puis lors de son démontage. Sur des données aléatoires, une opération de fusion ponctuelle coûte </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O (log </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais pour les éléments situés dans des régions ordonnées du tableau, le coût de l'opération O (1). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, la complexité temporelle moyenne et la pire du tri est </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> log </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et la meilleure est O ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon la mémoire supplémentaire, les choses sont pires - O ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Si l'arbre cartésien n'était qu'une sorte de tas, alors le coût serait O (1). </font><font style="vertical-align: inherit;">Mais l'arbre cartésien est également un arbre de recherche binaire, c'est pourquoi pour tous les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> éléments, il est nécessaire de stocker séparément les relations parent-enfant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, l'implémentation sous cette forme signifie qu'il s'agit d'un tri externe - les éléments triés sont collectés dans un tableau séparé. </font><font style="vertical-align: inherit;">Et ceci est O ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) pour la mémoire supplémentaire.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Références</font></font></h2><br>
<img width="30" height="30" src="https://habrastorage.org/webt/3y/wq/mh/3ywqmhuo7fv68jggkc416kbzuw4.png"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><br>
<br>
<img width="30" height="30" src="https://habrastorage.org/webt/jw/w-/qu/jww-queszzqnwmoa2hm-kfwu-9o.png"> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbre </font></font></b> <font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">cartésien </font></a><b><font style="vertical-align: inherit;">cartésien: </font></b></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 3</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Articles de série:</font></font></h3><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Application Excel AlgoLab.xlsm</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exchange Sorts</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tri d'insertion</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trier par sélection</font></font></a><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classes de tas: N-Pyramides</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heap Sorts: Leonardo Numbers</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tri par tas: tas faible</font></font></a></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Torts de bouquet: arbre cartésien</font></font></b></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autres tri de tas: tas miroir, mini tas, tamisage de bas en haut</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classes de tas: Jung Heap</font></font></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fusionner les tris</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trier par distribution</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tri hybride</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le tri arborescent cartésien d'aujourd'hui a été ajouté à l'application AlgoLab, qui l'utilise - mettez à jour le fichier Excel avec des macros. </font><font style="vertical-align: inherit;">Je recommande de prendre des tableaux avec une petite dispersion dans les valeurs des éléments - sinon le plan cartésien ne rentrera pas à l'écran.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr505710/index.html">WebSockets et Spring WebFlux</a></li>
<li><a href="../fr505720/index.html">Spring Boot + Apache Kafka et SSL dans le conteneur Docker</a></li>
<li><a href="../fr505724/index.html">Usage loyal russe: où est la frontière du droit d'auteur?</a></li>
<li><a href="../fr505736/index.html">Run, PHPUnit, run: comment j'ai optimisé le temps d'exécution des tests</a></li>
<li><a href="../fr505738/index.html">Un peu sur les périodogrammes des séries chronologiques</a></li>
<li><a href="../fr505746/index.html">Le condensé de matières fraîches du monde du front-end de la dernière semaine n ° 418 (1 - 7 juin 2020)</a></li>
<li><a href="../fr505752/index.html">Commentaires sur l'exactitude des informations contenues dans la base de données de Rosreestr et FSIS USRN</a></li>
<li><a href="../hi486176/index.html">कॉर्पोरेट ईमेल पत्राचार मेमो</a></li>
<li><a href="../hi486178/index.html">FOSS News No. 1 - 27 जनवरी - 2 फरवरी, 2020 के लिए स्वतंत्र और मुक्त स्रोत समाचार की समीक्षा</a></li>
<li><a href="../hi486180/index.html">सर्वर रहित एप्लिकेशन बनाने के लिए सुझाव और स्रोत</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>