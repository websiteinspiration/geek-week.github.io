<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéâ üè™ üôãüèø Le projet Talking Head, ou l'histoire du d√©veloppement de logiciels pour un robot de t√©l√©pr√©sence üòò üí´ üÖ±Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mon travail chez T-Systems a commenc√© avec un projet assez inhabituel. En fait, en grande partie √† cause de ce projet, je suis venu dans l'entreprise....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Le projet Talking Head, ou l'histoire du d√©veloppement de logiciels pour un robot de t√©l√©pr√©sence</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tsystems/blog/502718/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mon travail chez T-Systems a commenc√© avec un projet assez inhabituel. En fait, en grande partie √† cause de ce projet, je suis venu dans l'entreprise. Lors de notre premi√®re conversation t√©l√©phonique, la t√¢che m'a √©t√© d√©crite comme suit: il est n√©cessaire de d√©velopper un syst√®me de traduction vocale pour un robot de t√©l√©pr√©sence. J'ai entendu parler du robot de t√©l√©pr√©sence pour la premi√®re fois, mais quoi de plus excitant que de d√©velopper pour les robots? Par cons√©quent, j'ai accept√© presque imm√©diatement.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/994/30b/6d5/99430b6d50dcc913d4ce745e20da2478.jpg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon premier appel au client. La t√¢che se pose √† peu pr√®s comme ceci - nous voulons que le syst√®me de traduction vocale fonctionne pendant la conversation √† travers ce robot de t√©l√©pr√©sence, c'est-√†-dire que la personne parle russe, et √† l'autre extr√©mit√© du ¬´fil¬ª, le robot reproduit son discours en allemand et vice versa. Imm√©diatement apr√®s une telle d√©claration du probl√®me a √©t√© suivie par la question de combien de personnes et de temps il faut pour d√©velopper cela, et combien cela co√ªtera. Nous avons convenu que je regarderai la documentation sur le robot (le robot lui-m√™me n'√©tait pas dans notre bureau), j'√©tudierai les syst√®mes de traduction et donnerai des estimations approximatives dans un mois, mais pour l'instant nous appellerons deux fois par semaine pour clarifier les d√©tails.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La documentation du robot √©tait pour le moins assez rare. Il √©tait impossible de trouver autre chose que du mat√©riel de marketing, alors j'ai √©crit aux d√©veloppeurs. Le syst√®me existant permettait de passer un appel vid√©o √† un robot de t√©l√©pr√©sence √† partir d'un navigateur Web et de contr√¥ler ses mouvements dans un endroit √©loign√©, et l'id√©e √©vidente que j'avais √©tait: est-il possible d'int√©grer en quelque sorte un syst√®me de traduction vocale dans le syst√®me actuel?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En parall√®le, il fallait comprendre comment le syst√®me de traduction peut √™tre r√©alis√©, et surtout, quelle sera la qualit√© de cette traduction, sera-t-elle acceptable pour le client? Par cons√©quent, en m√™me temps que la correspondance avec les d√©veloppeurs du robot, j'ai d√©cid√© de passer un appel avec le client et de communiquer avec lui via Translator. Translator est une application mobile de Microsoft qui peut traduire et traduire la voix dans diff√©rentes langues. L'application est gratuite, install√©e sur Android ou iOS et utilise le service appropri√© de Microsoft. Pendant l'appel, nous avons d√ª d√©terminer s'il √©tait possible de mener une conversation de cette mani√®re. Pour la puret√© de l'exp√©rience, je parlais russe et le client en allemand, c'est-√†-dire qu'ils ne connaissaient absolument pas la deuxi√®me langue, appel√© par conf√©rence t√©l√©phonique et parlant d'abord leur langue maternelle dans Translator,puis amen√© le mobile sur le combin√© de la conf√©rence.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, cela ne semblait pas tr√®s pratique, mais une id√©e g√©n√©rale de la qualit√© de la traduction a donn√© (un lecteur curieux dirait qu'il √©tait plus facile de t√©l√©phoner via Skype avec la traduction activ√©e, mais pour une raison quelconque, cela ne nous √©tait pas venu √† l'esprit √† l'√©poque). </font><font style="vertical-align: inherit;">Apr√®s la conversation, nous avons d√©cid√© que le projet devait √™tre et que la qualit√© pour le client √©tait acceptable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, selon les r√©sultats du premier mois de travail sur le projet, ce qui suit a √©t√© r√©v√©l√©. </font><font style="vertical-align: inherit;">Le syst√®me existant pour le robot de t√©l√©pr√©sence ne peut pas √™tre modifi√©, car les d√©veloppeurs du robot ne fournissent pas d'API pour cela. </font><font style="vertical-align: inherit;">Cependant, il s'est av√©r√© que le robot est une sorte de Segway auquel l'iPad se connecte, et il existe un SDK pour iOS, avec lequel vous pouvez contr√¥ler le Segway. </font><font style="vertical-align: inherit;">Autrement dit, vous devez √©crire compl√®tement votre propre syst√®me, sans compter sur l'int√©gration avec le syst√®me existant. </font><font style="vertical-align: inherit;">La premi√®re repr√©sentation sch√©matique d'un futur produit est apparue.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0e0/bb9/bbe/0e0bb9bbe36876dc82235d7b0a78373e.png">&nbsp;<br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s discussion avec le client, il a √©t√© d√©cid√© que 3 personnes travailleraient sur le projet - d√©veloppeur iOS, d√©veloppeurs backend et frontend. Nous diviserons le projet lui-m√™me en √©tapes de 2 √† 3 mois et fixerons un objectif pour chaque √©tape avec la conclusion d'un contrat s√©par√©. √Ä la fin de l'√©tape - une d√©monstration des r√©sultats au client et √† l'investisseur du projet. Il √©tait important pour le client qu'√† la nouvelle ann√©e, il y ait d√©j√† un POC fonctionnel. Depuis que j'ai rejoint l'entreprise en juillet, les d√©lais √©taient assez serr√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objectif de la premi√®re √©tape de 2 mois √©tait de trouver deux autres d√©veloppeurs, de choisir des services pour les appels vid√©o et la traduction. √Ä la fin de l'√©tape, il fallait montrer une application web simple qui vous permet de passer un appel vid√©o avec un service de traduction int√©gr√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WebRTC est d√©sormais largement utilis√© pour passer des appels vid√©o, ce qui est actuellement pris en charge par la plupart des navigateurs Web. Cependant, compte tenu des ressources limit√©es, nous n'avons pas os√© √©crire sur le WebRTC nu et avons choisi un fournisseur qui fournit le service en plus du WebRTC. Nous avons consid√©r√© deux services - TokBox et Voxeet. En cons√©quence, ils ont choisi TokBox. Il faut tenir compte du fait que ces services sont payants, donc, avec la description de l'architecture de l'application, nous avons effectu√© des calculs de co√ªt pour une minute d'un appel vid√©o avec traduction.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bdc/1ab/14d/bdc1ab14da6d21042d7c800e5cdd7b5b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons √©galement envisag√© plusieurs services de traduction: TranslateYourWorld.com (il fournit une seule API qui unit plusieurs fournisseurs de traduction √† la fois, y compris Google et Microsoft, mais la soci√©t√© est tr√®s petite et peu fiable, leur site ne s'est pas ouvert au moment de la r√©daction de cet article), traduction Google Cloud, Microsoft Speech. En cons√©quence, nous avons opt√© pour le service MS Speech, car il dispose d'une API plus pratique, nous pouvons diffuser le flux audio vers le service via websocket et recevoir imm√©diatement des enregistrements audio avec traduction, ainsi qu'une bonne qualit√© de traduction. De plus, Microsoft est partenaire de notre entreprise, ce qui facilite la coop√©ration avec eux.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un d√©veloppeur exp√©riment√© et talentueux (Misha, bonjour!) Full stack m'a rejoint, et d√©but octobre, notre petite √©quipe a cl√¥tur√© avec succ√®s l'√©tape suivante et a d√©montr√© une application Web simple qui, √† l'aide des services TokBox et MS Speech, a permis d'organiser des appels vid√©o avec traduction en plusieurs langues. y compris le russe et l'allemand. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©tape suivante a √©t√© con√ßue pour 3 mois et son objectif √©tait MVP avec un robot. A ce stade, le troisi√®me et dernier d√©veloppeur nous a rejoint. La pile technologique suivante a √©t√© choisie pour le projet: le backend - NodeJS + MongoDB, le web frontend sur ReactJS et Swift pour l'application iOS qui interagit avec le robot. Une histoire m√©rite une histoire distincte sur la fa√ßon dont j'ai conduit un robot d'Allemagne √† Saint-P√©tersbourg et expliqu√© d'abord √† l'allemand, puis √† nos agents des douanes, quel type d'appareil se trouve dans la bo√Æte.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/265/eef/3aa/265eef3aaee9258e004e83448e995da4.png"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/472/877/f5d/472877f5d568cdb19327362bf67d0988.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©but, alors que nous n'avions pas de robot, l'application iOS nous permettait uniquement de passer un appel vid√©o avec traduction. Lorsque le robot √©tait avec nous, d√©but d√©cembre, nous avons rapidement ajout√© l'envoi de signaux de contr√¥le au robot via une connexion d'appel d√©j√† d√©bogu√©e, et il est devenu possible de contr√¥ler le robot en appuyant sur les fl√®ches du clavier. Ainsi, en janvier, nous avons cl√¥tur√© la troisi√®me √©tape et montr√© ses r√©sultats au client.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©sultat de l'avant-derni√®re √©tape a √©t√© un syst√®me d√©bogu√© avec la correction de tous les bogues critiques. Lors de l'appel d'un robot, l'op√©rateur peut voir la pi√®ce √† travers la cam√©ra principale et le sol √† travers la cam√©ra secondaire (pour faciliter le contournement des obstacles). Le visage de l'op√©rateur est affich√© sur l'√©cran du robot. Dans ce cas, la conversation peut √™tre men√©e avec traduction dans l'une des 7 langues prises en charge, notamment le russe, l'allemand et certaines autres langues. Pendant la traduction, deux lignes de texte sont ex√©cut√©es: la premi√®re est la parole reconnue et la seconde traduction dans une autre langue avec √©clairage karaok√©, de sorte qu'il est clair quelle partie de la phrase est actuellement jou√©e √† l'autre extr√©mit√© de la connexion.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/009/a69/c5d/009a69c5d7e8e404d70812e4a06464a7.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, √† la derni√®re √©tape, nous avons ajout√© un syst√®me de gestion des utilisateurs, des groupes d'utilisateurs, des statistiques et des rapports sur le nombre et la dur√©e des appels. </font><font style="vertical-align: inherit;">Ainsi, un an plus tard, nous avons men√© √† bien le projet et l'avons transf√©r√© au client.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours des travaux sur le projet, de nouvelles id√©es int√©ressantes sont n√©es. </font><font style="vertical-align: inherit;">Par exemple, portez des lunettes de r√©alit√© virtuelle sur l'op√©rateur afin qu'il ait le plein effet d'immersion et la capacit√© de contr√¥ler le robot en tournant la t√™te.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons √©galement men√© une √©tude sur le th√®me de la cr√©ation d'un robot autonome en utilisant le cadre ROS afin de ¬´lui apprendre¬ª √† √©viter les obstacles par lui-m√™me et √† se rendre du point A au point B ou rencontrer des invit√©s √† l'entr√©e du bureau. </font><font style="vertical-align: inherit;">En g√©n√©ral, le projet s'est av√©r√© assez fascinant, et qui sait quelles autres fonctionnalit√©s int√©ressantes nous ajouterons au syst√®me √† l'avenir.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/1fe/a1c/2ef/1fea1c2ef8947730c4f33ef4919a2f50.jpg"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr502704/index.html">Comment nous avons recycl√© le soutien pour parler humainement et ce qui s'est pass√©</a></li>
<li><a href="../fr502706/index.html">L'√©tat des comp√©tences g√©n√©rales</a></li>
<li><a href="../fr502712/index.html">Comment fonctionne une bande d'adresse LED?</a></li>
<li><a href="../fr502714/index.html">Exportez les donn√©es OpenStreetMap √† l'aide de l'√©diteur visuel sur rete.js</a></li>
<li><a href="../fr502716/index.html">Vous ne pouvez pas partager votre ordinateur personnel? Faites un sur deux</a></li>
<li><a href="../fr502720/index.html">Tendances des tests √† examiner en 2020</a></li>
<li><a href="../fr502722/index.html">Silicon Valley en russe. Comment fonctionne # ITX5 √† Innopolis</a></li>
<li><a href="../fr502726/index.html">WebRTC Faire une application avec blackjack et appels vid√©o</a></li>
<li><a href="../fr502728/index.html">Astuces int√©ressantes et astuces SSH</a></li>
<li><a href="../fr502730/index.html">Que savent les designers industriels des appareils que vous utilisez quotidiennement. Ou 50 ans de transformation d'une souris d'ordinateur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>