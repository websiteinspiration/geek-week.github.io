<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🔧 👇🏼 🧔🏾 Escribir autotests de manera efectiva - Pruebas subcutáneas 🖕 🐥 🐮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imaginemos una situación hipotética (en la que nos sumergimos regularmente). Se le ha asignado a un proyecto para automatizar la "falla". Le dan un gr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Escribir autotests de manera efectiva - Pruebas subcutáneas</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502154/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imaginemos una situación </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hipotética</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (en la que nos sumergimos regularmente). </font><font style="vertical-align: inherit;">Se le ha asignado a un proyecto para automatizar la "falla". </font><font style="vertical-align: inherit;">Le dan un gran plan de prueba con un gran número (¡miles de ellos!) De pruebas "manuales", y dicen que debe hacer algo, y allí mismo. </font><font style="vertical-align: inherit;">Y también, de forma rápida y estable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es </font><font style="vertical-align: inherit;">demasiado tarde para </font><font style="vertical-align: inherit;">escribir pruebas unitarias, o incluso pensar en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TDD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , el código del producto se ha escrito durante mucho tiempo. </font><font style="vertical-align: inherit;">Su palabra, camarada autotester! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/c6/l-/p9/c6l-p9jm_r8j9ix3dpkptsalx3i.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afortunadamente, hay un pequeño truco que aumentará la cobertura y hará que las pruebas sean estables y rápidas: las pruebas subcutáneas ("pruebas subcutáneas"), pero lo primero es lo primero.</font></font><br>
<a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La esencia del problema</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El primer reflejo condicional del automatizador es tomar Selenio (bueno, ya sea allí, Selenide o algún otro prodigio para las pruebas de IU). </font><font style="vertical-align: inherit;">Este es un estándar de la industria, pero hay muchas razones por las que no despega:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las pruebas de IU son lentas. </font><font style="vertical-align: inherit;">No hay escapatoria de esto. </font><font style="vertical-align: inherit;">Pueden ejecutarse en paralelo, archivarse y hacerse un poco más rápido, pero permanecerán lentos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las pruebas de IU son inestables. </font><font style="vertical-align: inherit;">En parte porque son lentos. </font><font style="vertical-align: inherit;">Y también porque el navegador web y la interfaz de usuario no fueron creados para ser controlados por una computadora (esta tendencia está cambiando actualmente, pero no el hecho de que sea buena).</font></font></li>
<li>UI- —        .    <i> </i>. (   , , ,   «» -      ,        ).</li>
<li> , , , UI-   . <b>  . </b>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">ID  XPath </a>.       ,   «»  -       -  .   ,      ,      —  - ,    .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alguien dirá que alguna funcionalidad simplemente no se puede probar de otra manera. </font><font style="vertical-align: inherit;">Diré que si hay una funcionalidad que solo puede probarse mediante pruebas de interfaz de usuario (con la excepción de la lógica de la interfaz de usuario), esto puede ser una buena señal de problemas arquitectónicos en el producto.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La única ventaja real de las pruebas de UI es que le permiten "lanzar" controles más o menos útiles sin la necesidad de sumergirse y estudiar el código del producto en sí. </font><font style="vertical-align: inherit;">Lo cual no es una ventaja a largo plazo. </font><font style="vertical-align: inherit;">Una explicación más detallada de por qué esto se puede escuchar en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta presentación</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solución alternativa</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como un caso muy simple, consideremos una aplicación que consiste en un formulario donde puede ingresar un nombre de usuario válido. </font><font style="vertical-align: inherit;">Si ingresa un nombre de usuario que coincida con las reglas, el usuario se creará en el sistema y se registrará en la base de datos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ef/sx/qs/efsxqs-1l5hrlvozwlt78knzps8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El código fuente de la aplicación se puede encontrar aquí: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/senpay/login-form</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se le advirtió: en la aplicación hay muchos errores y no hay herramientas y marcos de moda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si intenta "arrojar" una hoja de verificación para esta aplicación, puede obtener algo como:</font></font><br>
<div class="scrollable-table"><table border="1">
<tbody>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Número</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pasos</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultados previstos</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Ingrese un nombre de usuario válido </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Haga clic en el botón "Iniciar sesión"</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Se crea un nuevo usuario.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Ingrese un nombre de usuario vacío </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Haga clic en el botón "Iniciar sesión"</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Se muestra el mensaje de error.</font></font></td>
</tr>
</tbody>
</table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Se ve simple? ¡Simplemente! ¿Puedo escribir pruebas de IU? Lata. </font><font style="vertical-align: inherit;">Puede encontrar </font><font style="vertical-align: inherit;">un ejemplo de las pruebas escritas (junto con un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">marco</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> completo de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">tres niveles</font></a><font style="vertical-align: inherit;"> ) en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoginFormTest.java</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si va a la </font><font style="vertical-align: inherit;">etiqueta </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uitests</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git checkout uitests</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginFormTest</span> </span>{<font></font>
<font></font>
    SelenideMainPage sut = SelenideMainPage.INSTANCE;<font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String APPLICATION_URL = <span class="hljs-string">"http://localhost:4567/index"</span>;<font></font>
<font></font>
    <span class="hljs-meta">@BeforeClass</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUpClass</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">final</span> String[] args = {};<font></font>
        Main.main(args);<font></font>
        Configuration.browser = <span class="hljs-string">"firefox"</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Before</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUp</span><span class="hljs-params">()</span> </span>{<font></font>
        open(APPLICATION_URL);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@After</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tearDown</span><span class="hljs-params">()</span> </span>{<font></font>
        close();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldBeAbleToAddNewUser</span><span class="hljs-params">()</span> </span>{<font></font>
        sut.setUserName(<span class="hljs-string">"MyCoolNewUser"</span>);<font></font>
        sut.clickSubmit();<font></font>
        Assert.assertEquals(<span class="hljs-string">"Status: user MyCoolNewUser was created"</span>, sut.getStatus());<font></font>
        Assert.assertTrue(sut.getUsers().contains(<span class="hljs-string">"Name: MyCoolNewUser"</span>));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldNotBeAbleToAddEmptyUseName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> numberOfUsersBeforeTheTest = sut.getUsers().size();<font></font>
        sut.clickSubmit();<font></font>
        Assert.assertEquals(<span class="hljs-string">"Status: Login cannot be empty"</span>, sut.getStatus());<font></font>
        Assert.assertEquals(numberOfUsersBeforeTheTest, sut.getUsers().size());<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algunas métricas para este código:</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tiempo de ejecución: ~ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 segundos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (12 segundos 956 milisegundos la última vez que ejecuté estas pruebas) </font></font><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cobertura del código</font></font></u><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Clase: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100%</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Método: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">93.8% (30/32)</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Línea: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">97.4% (75/77 )</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora supongamos que las Pruebas automáticas funcionales se pueden escribir en el nivel "inmediatamente debajo" de la IU. Esta técnica se llama </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pruebas subcutáneas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ("pruebas subcutáneas" - pruebas que prueban inmediatamente por debajo del nivel de la lógica de visualización) y fue propuesta por Martin Fowler hace bastante tiempo [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ].</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando las personas piensan en autotests "no UI", a menudo piensan inmediatamente en REST / SOAP o su API. </font><font style="vertical-align: inherit;">Pero la API (interfaz de programación de aplicaciones) es un concepto mucho más amplio, que no necesariamente afecta a HTTP y otros protocolos pesados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si elegimos un código de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">producto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , podemos encontrar algo interesante:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserApplication</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> IUserRepository repository = <span class="hljs-keyword">new</span> InMemoryUserRepository();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> UserService service = <span class="hljs-keyword">new</span> UserService(); {<font></font>
        service.setUserRepository(repository);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">getUsersList</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getUsersList(<span class="hljs-string">"N/A"</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">addUser</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String username)</span> </span>{
        <span class="hljs-keyword">final</span> String status = service.addUser(username);
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; model = getUsersList(status);
        <span class="hljs-keyword">return</span> model;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title">getUsersList</span><span class="hljs-params">(String status)</span> </span>{
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; model = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<font></font>
        model.put(<span class="hljs-string">"status"</span>, status);<font></font>
        model.put(<span class="hljs-string">"users"</span>, service.getUserInfoList());
        <span class="hljs-keyword">return</span> model;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando hacemos clic en una IU, se llama a uno de estos métodos, o se agrega un nuevo objeto Usuario, o se devuelve una lista de objetos Usuario ya creados. </font><font style="vertical-align: inherit;">¿Qué pasa si usamos estos métodos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directamente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font><font style="vertical-align: inherit;">Después de todo, ¡esta es una API real! </font><font style="vertical-align: inherit;">Y lo más importante, REST y otras API también funcionan con el mismo principio: llaman a un cierto método de "nivel de controlador". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando estos métodos directamente, podemos escribir una prueba más simple y mejor:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserApplicationTest</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> UserApplication sut;<font></font>
<font></font>
    <span class="hljs-meta">@Before</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUp</span><span class="hljs-params">()</span> </span>{<font></font>
       sut = <span class="hljs-keyword">new</span> UserApplication();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldBeAbleToAddNewUser</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; myCoolNewUser = sut.addUser(<span class="hljs-string">"MyCoolNewUser"</span>);<font></font>
        Assert.assertEquals(<span class="hljs-string">"user MyCoolNewUser was created"</span>, myCoolNewUser.get(<span class="hljs-string">"status"</span>));<font></font>
        Assert.assertTrue(((List) myCoolNewUser.get(<span class="hljs-string">"users"</span>)).contains(<span class="hljs-string">"Name: MyCoolNewUser"</span>));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldNotBeAbleToAddEmptyUseName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; usersBeforeTest = sut.getUsersList();
        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> numberOfUsersBeforeTheTest = ((List) usersBeforeTest.get(<span class="hljs-string">"users"</span>)).size();
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; myCoolNewUser = sut.addUser(<span class="hljs-string">""</span>);<font></font>
        Assert.assertEquals(<span class="hljs-string">"Login cannot be empty"</span>, myCoolNewUser.get(<span class="hljs-string">"status"</span>));<font></font>
        Assert.assertEquals(numberOfUsersBeforeTheTest, ((List) myCoolNewUser.get(<span class="hljs-string">"users"</span>)).size());<font></font>
    }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este código está disponible bajo las </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subpruebas de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> etiquetas </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">git checkout subctests</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Intentamos recopilar métricas? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tiempo de ejecución: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~ 21 milisegundos </font></font></b><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cobertura del código</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clase: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77.8%</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Método: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78.1 (30/32)</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Línea: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78.7 (75/77)</font></font></b><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perdimos un poco de cobertura, ¡pero la velocidad de las pruebas aumentó 600 veces!</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Qué tan importante / importante es la pérdida de cobertura en este caso? </font><font style="vertical-align: inherit;">Depende de la situación. </font><font style="vertical-align: inherit;">Perdimos un pequeño código de pegamento, que puede ser (o no) importante (recomiendo determinar qué código se pierde como ejercicio). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Esta pérdida de cobertura justifica la introducción de pruebas de peso pesado en el nivel de IU? </font><font style="vertical-align: inherit;">También depende de la situación. </font><font style="vertical-align: inherit;">Podemos, por ejemplo:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agregue una prueba de IU para verificar el código de pegamento, o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si no esperamos cambios frecuentes en el código de pegamento, déjelo sin pruebas automáticas, o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si tenemos algún tipo de prueba "manual", existe una gran posibilidad de que el probador note problemas con el código de pegamento, o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proponer algo más (mismo despliegue de Canarias)</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente</font></font></h3><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No se requiere que las pruebas automáticas funcionales se escriban a nivel de UI o REST / SOAP API. </font><font style="vertical-align: inherit;">El uso de "Pruebas subcutáneas" en muchas situaciones probará la misma funcionalidad con mayor velocidad y estabilidad.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una de las desventajas del enfoque es una cierta pérdida de cobertura.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una forma de evitar perder la cobertura es el " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelo de pruebas de características</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero incluso con la pérdida de cobertura, el aumento de la velocidad y la estabilidad es significativo.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una versión en inglés del artículo está disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es502134/index.html">Lo suficiente como para temer las decisiones subjetivamente hermosas en el código: no son robots</a></li>
<li><a href="../es502136/index.html">Compresión de datos en Apache Ignite. Experiencia Sberbank</a></li>
<li><a href="../es502146/index.html">Mesa redonda en línea "Quiero gamedev"</a></li>
<li><a href="../es502148/index.html">Uso de componentes de terceros en el almacenamiento usando Qsan como ejemplo</a></li>
<li><a href="../es502150/index.html">Escalando una red de alta carga con Nutanix: características y desafíos con un caso personal</a></li>
<li><a href="../es502156/index.html">Caso Rambler v. NGINX: Mesa de Riesgos Criminales de Digitalización 16 de mayo</a></li>
<li><a href="../es502158/index.html">Cómo organizar las pruebas para acelerar y estabilizar los lanzamientos de productos. Parte 2</a></li>
<li><a href="../es502160/index.html">El desarrollo de aplicaciones móviles personalizadas es económico: realidad o ilusión</a></li>
<li><a href="../es502166/index.html">Fantasmas Windows 3.1</a></li>
<li><a href="../es502176/index.html">Ir: deserialización JSON con tipeo incorrecto, o cómo evitar errores de desarrollador de API</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>