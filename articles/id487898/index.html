<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ” ğŸ¤°ğŸ¼ ğŸ›… Mengukur bandwidth memori pada lutut ğŸ›„ ğŸ ğŸ˜³</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beberapa minggu yang lalu dalam percakapan saat makan malam, seorang kolega mengeluh tentang semacam proses yang lambat. Dia menghitung jumlah byte ya...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mengukur bandwidth memori pada lutut</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487898/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beberapa minggu yang lalu dalam percakapan saat makan malam, seorang kolega mengeluh tentang semacam proses yang lambat. Dia menghitung jumlah byte yang dihasilkan, jumlah siklus pemrosesan, dan akhirnya, jumlah RAM. Seorang kolega mengatakan bahwa GPU modern dengan bandwidth memori lebih dari 500 GB / s akan menghabiskan tugasnya dan tidak tersedak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampak bagi saya bahwa ini adalah pendekatan yang menarik. Secara pribadi, saya belum pernah mengevaluasi tujuan kinerja dari perspektif ini. Ya, saya tahu tentang perbedaan kinerja prosesor dan memori. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2de/d86/182/2ded861823d832e2e382d1e97e0ec147.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tahu cara menulis kode yang banyak menggunakan cache. Saya tahu perkiraan angka keterlambatan. Tetapi ini tidak cukup untuk segera menilai bandwidth memori.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah eksperimen pemikiran. </font><font style="vertical-align: inherit;">Bayangkan dalam memori array terus menerus dari satu miliar bilangan bulat 32-bit. </font><font style="vertical-align: inherit;">Ini 4 gigabytes. </font><font style="vertical-align: inherit;">Berapa lama untuk mengulangi array ini dan menambahkan nilainya? </font><font style="vertical-align: inherit;">Berapa banyak byte per detik yang dapat dibaca CPU dari RAM? </font><font style="vertical-align: inherit;">Data kontinu? </font><font style="vertical-align: inherit;">Akses acak? </font><font style="vertical-align: inherit;">Seberapa baik proses ini dapat diparalelkan? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda akan mengatakan bahwa ini adalah pertanyaan yang tidak berguna. </font><font style="vertical-align: inherit;">Program nyata terlalu kompleks untuk membuat tengara naif seperti itu. </font><font style="vertical-align: inherit;">Dan disana! </font><font style="vertical-align: inherit;">Jawaban sebenarnya adalah "tergantung pada situasinya." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, saya pikir masalah ini perlu ditelusuri. </font><font style="vertical-align: inherit;">Saya tidak berusaha menemukan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jawabannya</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tapi saya pikir kita bisa mendefinisikan beberapa batas atas dan bawah, beberapa poin menarik di tengah dan belajar sesuatu dalam proses.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Angka yang harus diketahui oleh setiap programmer</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda membaca blog pemrograman, Anda mungkin menemukan "angka yang harus diketahui oleh setiap programmer." </font><font style="vertical-align: inherit;">Mereka terlihat seperti ini:</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan ke L1 cache 0,5 ns</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prediksi 5 ns salah</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tautan ke L2 cache 7 ns 14x ke L1 cache</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menangkap / Melepaskan Mutex 25 ns</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tautan ke memori utama 100 ns 20x ke L2 cache, 200x ke L1 cache</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kompres 1000 byte dengan Zippy 3000 ns 3 Î¼s</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengirim 1000 byte melalui jaringan 1 Gbps 10.000 ns 10 Î¼s</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baca Acak 4000 dengan SSD 150.000 ns 150 Î¼s ~ 1GB / s SSD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baca 1 MB secara berurutan dari 250.000 ns 250 Î¼s</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paket pulang-pergi di dalam pusat data 500.000 ns 500 Î¼s</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 MB dibaca berurutan dalam SSD 1.000.000 ns 1.000 Î¼s 1 ms ~ 1 GB / s SSD, memori 4x</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pencarian disk 10.000.000 ns 10.000 Î¼s 10 ms 20x ke pusat data</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baca 1 MB secara berurutan dari disk 20.000.000 ns 20.000 Î¼s 20 ms 80x ke memori, 20x ke SSD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paket Mengirim CA-&gt; Belanda-&gt; CA 150.000.000 ns 150.000 Î¼s 150 ms</font></font></pre> <br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber:</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Daftar hebat</font><i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"> Jonas Boner</font></a></font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dia muncul di HackerNews setidaknya setahun sekali. </font><font style="vertical-align: inherit;">Setiap programmer harus mengetahui angka-angka ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi angka-angka ini adalah tentang sesuatu yang lain. </font><font style="vertical-align: inherit;">Latensi dan bandwidth bukan hal yang sama.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keterlambatan pada tahun 2020</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar itu disusun pada tahun 2012, dan artikel ini tahun 2020, waktunya telah berubah. </font><font style="vertical-align: inherit;">Berikut adalah angka untuk Intel i7 dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StackOverflow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hit dalam cache L1, ~ 4 siklus (2.1 - 1.2 ns)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hit di cache L2, ~ 10 siklus (5,3 - 3,0 ns)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tekan dalam cache L3, untuk satu inti ~ 40 siklus (21,4 - 12,0 ns)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hit dalam cache L3, bersama-sama untuk kernel lain ~ 65 siklus (34,8 - 19,5 ns)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tekan L3 cache, dengan perubahan untuk kernel lain ~ 75 siklus (40.2 - 22.5 ns)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RAM lokal ~ 60 ns</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menarik! </font><font style="vertical-align: inherit;">Apa yang berubah?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L1 menjadi lebih lambat; </font></font><code>0,5 â†’ 1,5 </code><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L2 lebih cepat; </font></font><code>7 â†’ 4,2 </code><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rasio L1 dan L2 jauh berkurang; </font></font><code>2,5x  14</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Wow!)</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3 cache kini telah menjadi standar; </font></font><code> 12  40 </code><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM menjadi lebih cepat; </font></font><code>100 â†’ 60 </code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami tidak akan menarik kesimpulan yang luas. </font><font style="vertical-align: inherit;">Tidak jelas bagaimana angka-angka asli dihitung. </font><font style="vertical-align: inherit;">Kami tidak akan membandingkan apel dengan jeruk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah beberapa angka dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wikichip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada bandwidth dan ukuran cache prosesor saya.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memory Bandwidth: 39,74 Gigabytes per detik</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cache L1: 192 kilobyte (32 KB per inti)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L2 Cache: 1,5 megabytes (256 KB per core)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L3 Cache: 12 megabyte (dibagi; 2 MB per inti)</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang ingin saya ketahui:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batas atas kinerja RAM</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">batasan yang lebih rendah</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batas Cache L1 / L2 / L3</font></font></li>
</ul><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benchmark naif</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lakukan beberapa tes. </font><font style="vertical-align: inherit;">Untuk mengukur bandwidth, saya menulis program C ++ sederhana. </font><font style="vertical-align: inherit;">Sangat kira-kira dia terlihat seperti ini.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Generate random elements</span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; nums;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>; ++i) <span class="hljs-comment">// one billion ints</span>
    nums.push_back(rng() % <span class="hljs-number">1024</span>); <span class="hljs-comment">// small nums to prevent overflow</span><font></font>
<font></font>
<span class="hljs-comment">// Run test with 1 to 12 threads</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> thread_count = <span class="hljs-number">1</span>; thread_count &lt;= MAX_THREADS; ++thread_count) {
    <span class="hljs-keyword">auto</span> slice_len = nums.size() / thread_count;<font></font>
    <font></font>
    <span class="hljs-comment">// for-each thread</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> thread = <span class="hljs-number">0</span>; thread &lt; thread_count; ++thread) {<font></font>
        <font></font>
        <span class="hljs-comment">// partition data</span>
        <span class="hljs-keyword">auto</span> begin = nums.begin() + thread * slice_len;
        <span class="hljs-keyword">auto</span> end = (thread == thread_count - <span class="hljs-number">1</span>)<font></font>
            ? nums.end() : begin + slice_len;<font></font>
<font></font>
        <span class="hljs-comment">// spawn threads</span>
        futures.push_back(<span class="hljs-built_in">std</span>::async([begin, end] { <font></font>
            <font></font>
            <span class="hljs-comment">// sum ints sequentially</span>
            <span class="hljs-keyword">int64_t</span> sum = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> ptr = begin; ptr &lt; end; ++ptr)<font></font>
                sum += *ptr;<font></font>
            <span class="hljs-keyword">return</span> sum;<font></font>
        }));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// combine results</span>
    <span class="hljs-keyword">int64_t</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; <span class="hljs-built_in">future</span> : futures)<font></font>
        sum += <span class="hljs-built_in">future</span>.get();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa detail dihilangkan. Tapi Anda mengerti idenya. Buat array besar elemen yang berkelanjutan. Bagilah array menjadi fragmen yang terpisah. Proses setiap fragmen dalam utas terpisah. Akumulasi hasil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga perlu mengukur akses acak. Ini sangat sulit. Saya mencoba beberapa cara, akhirnya memutuskan untuk mencampur indeks yang sudah dihitung sebelumnya. Setiap indeks ada tepat satu kali. Kemudian loop dalam berulang atas indeks dan menghitung </font></font><code>sum += nums[index]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; nums = <span class="hljs-comment">/* ... */</span>;
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">uint32_t</span>&gt; indices = <span class="hljs-comment">/* shuffled */</span>;<font></font>
<font></font>
<span class="hljs-comment">// random access</span>
<span class="hljs-keyword">int64_t</span> sum = <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> ptr = indices.begin(); ptr &lt; indices.end(); ++ptr) {
    <span class="hljs-keyword">auto</span> idx = *ptr;<font></font>
    sum += nums[idx];<font></font>
}<font></font>
<span class="hljs-keyword">return</span> sum;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam menghitung throughput, saya </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mempertimbangkan memori array indeks. </font><font style="vertical-align: inherit;">Hanya byte yang berkontribusi terhadap total yang dihitung </font></font><code>sum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Saya tidak membuat tolok ukur perangkat keras saya, tetapi menilai kemampuan untuk bekerja dengan kumpulan data ukuran yang berbeda dan dengan skema akses yang berbeda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan melakukan tes dengan tiga tipe data: </font></font><br>
<br>
<code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- integer 32-bit utama </font></font><br>
<code>matri4x4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- berisi </font></font><code>int[16]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">cocok dalam garis cache 64-byte </font></font><br>
<code>matrix4x4_simd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- menggunakan alat bawaan</font></font><code>__m256i</code><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blok besar</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tes pertama saya bekerja dengan blok memori yang besar. Blok 1 GB </font></font><code>N</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">item disorot dan diisi dengan nilai acak kecil. Perulangan sederhana berulang di atas array N kali, sehingga mengakses memori dengan volume </font></font><code>N </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menghitung jumlah </font></font><code>int64_t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Beberapa utas memecah array, dan masing-masing mendapat akses ke jumlah elemen yang sama. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d36/45d/2d1/d3645d2d119e28f1306945258d1b422b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TA-dah! Dalam grafik ini, kami mengambil waktu eksekusi rata-rata operasi penjumlahan dan mengubahnya dari </font></font><code>runtime_in_nanoseconds</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menjadi </font></font><code>gigabytes_per_second</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil yang cukup bagus. </font></font><code>int32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">secara berurutan dapat membaca 11 GB / s dalam satu aliran. Timbangan ini linier hingga mencapai 38 GB / s. Tes </font></font><code>matrix4x4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>matrix4x4_simd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lebih cepat, tetapi bersandar pada langit-langit yang sama.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada batas yang jelas dan jelas tentang berapa banyak data yang dapat kita baca dari RAM per detik. </font><font style="vertical-align: inherit;">Di sistem saya, ini sekitar 40 GB / s. </font><font style="vertical-align: inherit;">Ini sesuai dengan spesifikasi terkini yang tercantum di atas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dilihat oleh tiga grafik terbawah, akses acak lambat. </font><font style="vertical-align: inherit;">Sangat, sangat lambat. </font><font style="vertical-align: inherit;">Kinerja single-threaded </font></font><code>int32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat diabaikan 0,46 GB / s. </font><font style="vertical-align: inherit;">Ini 24 kali lebih lambat dari susun berurutan pada 11,03 GB / s! </font><font style="vertical-align: inherit;">Tes ini </font></font><code>matrix4x4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menunjukkan hasil terbaik, karena ini berjalan pada baris cache penuh. </font><font style="vertical-align: inherit;">Tetapi masih empat sampai tujuh kali lebih lambat dari akses berurutan, dan mencapai puncaknya hanya 8 GB / s.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blok kecil: baca berurutan</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sistem saya, ukuran cache L1 / L2 / L3 untuk setiap aliran adalah 32 KB, 256 KB, dan 2 MB. Apa yang terjadi jika Anda mengambil blok elemen 32-kilobyte dan mengulanginya sebanyak 125.000 kali? Ini adalah memori 4 GB, tetapi kami akan selalu pergi ke cache. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2bd/662/3dd/2bd6623dd63d0eae81548f4b5e6d4599.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luar biasa! Kinerja single-threaded mirip dengan membaca blok besar, sekitar 12 GB / s. Kecuali saat ini, multithreading menerobos langit-langit 40 GB / s. Masuk akal. Data tetap dalam cache, sehingga bottleneck RAM tidak muncul. Untuk data yang tidak cocok dengan L3 cache, batas yang sama sekitar 38 GB / s berlaku. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tes ini </font></font><code>matrix4x4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menunjukkan hasil yang serupa dengan sirkuit, tetapi bahkan lebih cepat; 31 GB / s dalam mode single-threaded, 171 GB / s dalam multi-threaded. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/929/9ab/ceb/9299abceb2e779406f598b76c00beba5.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita lihat </font></font><code>matrix4x4_simd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Perhatikan sumbu y.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f96/7b2/9c6/f967b29c6f839f0536667b9918fabd70.png"><br>
<br>
<code>matrix4x4_simd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dilakukan dengan sangat cepat. </font><font style="vertical-align: inherit;">Ini 10 kali lebih cepat dari </font></font><code>int32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pada blok 16 KB, bahkan dapat menembus 1000 GB / s! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jelas, ini adalah tes sintetis permukaan. </font><font style="vertical-align: inherit;">Sebagian besar aplikasi tidak melakukan operasi yang sama dengan data yang sama jutaan kali berturut-turut. </font><font style="vertical-align: inherit;">Tes tidak menunjukkan kinerja di dunia nyata. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi pelajarannya jelas. </font><font style="vertical-align: inherit;">Di dalam cache, data diproses </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan cepat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dengan plafon yang sangat tinggi saat menggunakan SIMD: lebih dari 100 GB / s dalam mode single-threaded, lebih dari 1000 GB / s dalam multi-threaded. </font><font style="vertical-align: inherit;">Menulis data ke cache lambat dan dengan batas keras sekitar 40 GB / s.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blok kecil: baca acak</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lakukan hal yang sama, tetapi sekarang dengan akses acak. </font><font style="vertical-align: inherit;">Ini adalah bagian favorit saya dari artikel ini. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/983/854/ef8/983854ef856e17e37493e9c8b928d318.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membaca nilai acak dari RAM lambat, hanya 0,46 GB / s. </font><font style="vertical-align: inherit;">Membaca nilai acak dari cache L1 sangat cepat: 13 GB / s. </font><font style="vertical-align: inherit;">Ini lebih cepat daripada membaca data serial </font></font><code>int32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari RAM (11 GB / s). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/59a/7bf/b72/59a7bfb728445b69a7947523ab9b0900.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tes </font></font><code>matrix4x4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menunjukkan hasil yang sama untuk templat yang sama, tetapi sekitar dua kali lebih cepat </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d99/bc2/f70/d99bc2f70c2f7bda177f70ec166bd74a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akses acak </font></font><code>matrix4x4_simd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sangat cepat.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temuan Akses Acak</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membaca bebas dari memori lambat. </font><font style="vertical-align: inherit;">Sangat lambat. </font><font style="vertical-align: inherit;">Kurang dari 1 GB / s untuk kedua kasus uji </font></font><code>int32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pada saat yang sama, pembacaan acak dari cache sangat cepat. </font><font style="vertical-align: inherit;">Ini sebanding dengan </font><font style="vertical-align: inherit;">pembacaan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berurutan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari RAM. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/dde/0a4/52b/dde0a452b8f293758c2efe1760115306.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu dicerna. </font><font style="vertical-align: inherit;">Akses acak ke cache sebanding dalam kecepatan dengan akses sekuensial ke RAM. </font><font style="vertical-align: inherit;">Penurunan dari L1 16 KB ke L2 256 KB hanya setengah atau kurang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya pikir ini akan memiliki konsekuensi besar.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daftar tertaut dianggap berbahaya</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengejar pointer (melompat pada pointer) buruk. </font><font style="vertical-align: inherit;">Sangat sangat buruk. </font><font style="vertical-align: inherit;">Berapa penurunan kinerja? </font><font style="vertical-align: inherit;">Lihat diri mu sendiri. </font><font style="vertical-align: inherit;">Saya melakukan tes tambahan yang membungkus </font></font><code>matrix4x4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di </font></font><code>std::unique_ptr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Setiap akses melewati pointer. </font><font style="vertical-align: inherit;">Ini adalah hasil yang mengerikan, hanya bencana.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">     1 utas | </font><font style="vertical-align: inherit;">matrix4x4 | </font><font style="vertical-align: inherit;">unique_ptr | </font><font style="vertical-align: inherit;">diff |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------- | --------------- | ------------ | -------- |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok Besar - Seq | </font><font style="vertical-align: inherit;">14,8 GB / s | </font><font style="vertical-align: inherit;">0,8 GB / s | </font><font style="vertical-align: inherit;">19x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
16 KB - Seq | </font><font style="vertical-align: inherit;">31,6 GB / s | </font><font style="vertical-align: inherit;">2.2 GB / s | </font><font style="vertical-align: inherit;">14x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
256 KB - Seq | </font><font style="vertical-align: inherit;">22.2 GB / s | </font><font style="vertical-align: inherit;">1.9 GB / s | </font><font style="vertical-align: inherit;">12x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Large Block - Rand | </font><font style="vertical-align: inherit;">2.2 GB / s | </font><font style="vertical-align: inherit;">0,1 GB / s | </font><font style="vertical-align: inherit;">22x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
16 KB - Rand | </font><font style="vertical-align: inherit;">23.2 GB / s | </font><font style="vertical-align: inherit;">1,7 GB / s | </font><font style="vertical-align: inherit;">14x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
256 KB - Rand | </font><font style="vertical-align: inherit;">15.2 GB / s | </font><font style="vertical-align: inherit;">0,8 GB / s | </font><font style="vertical-align: inherit;">19x |</font></font><font></font>
<font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
     6 utas | </font><font style="vertical-align: inherit;">matrix4x4 | </font><font style="vertical-align: inherit;">unique_ptr | </font><font style="vertical-align: inherit;">diff |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------- | --------------- | ------------ | -------- |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok Besar - Seq | </font><font style="vertical-align: inherit;">34,4 GB / s | </font><font style="vertical-align: inherit;">2,5 GB / s | </font><font style="vertical-align: inherit;">14x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
16 KB - Seq | </font><font style="vertical-align: inherit;">154,8 GB / s | </font><font style="vertical-align: inherit;">8.0 GB / s | </font><font style="vertical-align: inherit;">19x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
256 KB - Seq | </font><font style="vertical-align: inherit;">111,6 GB / s | </font><font style="vertical-align: inherit;">5,7 GB / s | </font><font style="vertical-align: inherit;">20x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Large Block - Rand | </font><font style="vertical-align: inherit;">7.1 GB / s | </font><font style="vertical-align: inherit;">0,4 GB / s | </font><font style="vertical-align: inherit;">18x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
16 KB - Rand | </font><font style="vertical-align: inherit;">95.0 GB / s | </font><font style="vertical-align: inherit;">7,8 GB / s | </font><font style="vertical-align: inherit;">12x |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
256 KB - Rand | </font><font style="vertical-align: inherit;">58,3 GB / s | </font><font style="vertical-align: inherit;">1,6 GB / s | </font><font style="vertical-align: inherit;">36x |</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penjumlahan berurutan dari nilai-nilai di belakang pointer dilakukan pada kecepatan kurang dari 1 GB / s. </font><font style="vertical-align: inherit;">Kecepatan akses acak cache ganda hanya 0,1 GB / s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengejar pointer memperlambat eksekusi kode 10-20 kali. </font><font style="vertical-align: inherit;">Jangan biarkan teman Anda menggunakan daftar tertaut. </font><font style="vertical-align: inherit;">Tolong pikirkan cache.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estimasi Anggaran untuk Bingkai</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sudah umum bagi pengembang game untuk menetapkan batas (anggaran) untuk beban pada CPU dan memori. Tapi saya belum pernah melihat anggaran bandwidth. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam game modern, FPS terus berkembang. Sekarang berada di 60 FPS. VR beroperasi pada frekuensi 90 Hz. Saya memiliki monitor gaming 144 Hz. Ini luar biasa, jadi 60 FPS sepertinya omong kosong. Saya tidak akan pernah kembali ke monitor lama. Esports dan pita monitor Twitch 240 Hz. Tahun ini, Asus memperkenalkan monster 360 Hz di CES. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prosesor saya memiliki batas atas sekitar 40 GB / s. Itu sepertinya jumlah yang besar! Namun, pada frekuensi 240 Hz, hanya 167 MB per frame diperoleh. Aplikasi realistis dapat menghasilkan lalu lintas 5 GB / s pada 144 Hz, yang hanya 69 MB per frame. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah tabel dengan beberapa angka.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        | </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">10 | </font><font style="vertical-align: inherit;">30 | </font><font style="vertical-align: inherit;">60 | </font><font style="vertical-align: inherit;">90 | </font><font style="vertical-align: inherit;">144 | </font><font style="vertical-align: inherit;">240 | </font><font style="vertical-align: inherit;">360 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------- | ------- | -------- | -------- | -------- | ------ - | -------- | -------- | -------- |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
40 GB / s | </font><font style="vertical-align: inherit;">40 GB | </font><font style="vertical-align: inherit;">4 GB | </font><font style="vertical-align: inherit;">1,3 GB | </font><font style="vertical-align: inherit;">667 MB | </font><font style="vertical-align: inherit;">444 MB | </font><font style="vertical-align: inherit;">278 MB | </font><font style="vertical-align: inherit;">167 MB | </font><font style="vertical-align: inherit;">111 MB |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
10 GB / s | </font><font style="vertical-align: inherit;">10 GB | </font><font style="vertical-align: inherit;">1 GB | </font><font style="vertical-align: inherit;">333 MB | </font><font style="vertical-align: inherit;">166 MB | </font><font style="vertical-align: inherit;">111 MB | </font><font style="vertical-align: inherit;">69 MB | </font><font style="vertical-align: inherit;">42 MB | </font><font style="vertical-align: inherit;">28 MB |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 1 GB / s | </font><font style="vertical-align: inherit;">1 GB | </font><font style="vertical-align: inherit;">100 MB | </font><font style="vertical-align: inherit;">33 MB | </font><font style="vertical-align: inherit;">17 MB | </font><font style="vertical-align: inherit;">11 MB | </font><font style="vertical-align: inherit;">7 MB | </font><font style="vertical-align: inherit;">4 MB | </font><font style="vertical-align: inherit;">3 MB |</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut saya berguna untuk menilai masalah dari perspektif ini. </font><font style="vertical-align: inherit;">Ini memperjelas bahwa beberapa ide tidak layak. </font><font style="vertical-align: inherit;">Mencapai 240 Hz tidak mudah. </font><font style="vertical-align: inherit;">Ini tidak akan terjadi dengan sendirinya.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Angka yang harus diketahui oleh setiap programmer (2020)</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar sebelumnya kedaluwarsa. </font><font style="vertical-align: inherit;">Sekarang perlu diperbarui dan dipatuhi pada tahun 2020. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah beberapa angka untuk komputer di rumah saya. </font><font style="vertical-align: inherit;">Ini adalah campuran dari AIDA64, Sandra dan tolok ukur saya. </font><font style="vertical-align: inherit;">Angka-angka tidak memberikan gambaran lengkap dan hanya titik awal.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Latency L1: 1 ns</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L2 Delay: 2,5 ns</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keterlambatan L3: 10 ns</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RAM Latency: 50 ns</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(per utas)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L1 band: 210 GB / s</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L2 band: 80 GB / s</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L3 Band: 60 GB / s</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(sistem keseluruhan)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pita RAM: 45 GB / s</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akan menyenangkan untuk membuat tolok ukur sumber terbuka kecil dan sederhana. </font><font style="vertical-align: inherit;">Beberapa file C yang dapat dijalankan di komputer desktop, server, perangkat seluler, konsol, dll. Tapi saya bukan tipe orang yang menulis alat seperti itu.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penolakan tanggung jawab</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengukur bandwidth memori sulit. </font><font style="vertical-align: inherit;">Sangat sulit. </font><font style="vertical-align: inherit;">Mungkin ada kesalahan dalam kode saya. </font><font style="vertical-align: inherit;">Banyak faktor yang tidak terhitung. </font><font style="vertical-align: inherit;">Jika Anda memiliki kritik untuk teknik saya, Anda mungkin benar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, saya pikir ini normal. </font><font style="vertical-align: inherit;">Artikel ini bukan tentang kinerja tepat desktop saya. </font><font style="vertical-align: inherit;">Ini adalah pernyataan masalah dari sudut pandang tertentu. </font><font style="vertical-align: inherit;">Dan tentang cara belajar bagaimana melakukan perhitungan matematika kasar.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seorang kolega berbagi pendapat menarik dengan saya tentang bandwidth memori GPU dan kinerja aplikasi. </font><font style="vertical-align: inherit;">Ini mendorong saya untuk mempelajari kinerja memori pada komputer modern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk perkiraan perhitungan, berikut adalah beberapa angka untuk desktop modern:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kinerja RAM</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maksimum: </font></font><code>45 /</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rata-rata, sekitar: </font></font><code>5 /</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimum: </font></font><code>1 /</code></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performa Cache L1 / L2 / L3 (per inti)</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maksimum (c simd): </font></font><code>210 /</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>80 /</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><code>60 /</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rata-rata, sekitar: </font></font><code>25 /</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>15 /</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><code>9 /</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimal: </font></font><code>13 /</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>8 /</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><code>3,5 /</code></li>
</ul></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peringkat sampel terkait dengan kinerja </font></font><code>matrix4x4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kode nyata tidak akan pernah sesederhana itu. </font><font style="vertical-align: inherit;">Tetapi untuk perhitungan pada serbet, ini adalah titik awal yang masuk akal. </font><font style="vertical-align: inherit;">Anda perlu menyesuaikan angka ini berdasarkan pola akses memori dalam program Anda, karakteristik peralatan dan kode Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, yang terpenting adalah cara baru untuk memikirkan masalah. </font><font style="vertical-align: inherit;">Menyajikan masalah dalam byte per detik atau byte per frame adalah lensa lain untuk dilihat. </font><font style="vertical-align: inherit;">Ini adalah alat yang berguna untuk berjaga-jaga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terima kasih sudah membaca.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benchmark C ++ </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python Graph </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data.json</font></font></a><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penelitian lebih lanjut</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel ini hanya sedikit menyentuh topik. </font><font style="vertical-align: inherit;">Saya mungkin tidak akan membahasnya. </font><font style="vertical-align: inherit;">Tetapi jika dia melakukannya, maka dia dapat mencakup beberapa aspek berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merekam kinerja</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berbagi salah</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performa </font></font><code>std::atomic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(atau ketiadaan)</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penghitung kinerja</font></font><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kinerja TLB</font></font></a><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protokol Cache</font></font></a></li>
</ul><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spesifikasi sistem</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tes dilakukan di PC rumah saya. </font><font style="vertical-align: inherit;">Hanya pengaturan stok, tidak ada overclocking.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OS: Windows 10 v1903 build 18362</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU: Intel i7-8700k @ 3,70 GHz</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM: 2x16 GSkill Ripjaw DDR4-3200 (16-18-18-38 @ 1600 MHz)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motherboard: Asus TUF Z370-Plus Gaming</font></font></li>
</ul></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id487884/index.html">5 hal yang ingin saya ketahui sebelum mengembangkan pertukaran</a></li>
<li><a href="../id487888/index.html">CSRF di Umbraco CMS</a></li>
<li><a href="../id487890/index.html">Terjemahkan pidato ke teks di iOS menggunakan kerangka kerja Speech</a></li>
<li><a href="../id487894/index.html">BarsUP.AM: bagaimana kami mengembangkan alat untuk melindungi informasi aplikasi web</a></li>
<li><a href="../id487896/index.html">Ketika kematian berubah menjadi seni: lambang orang-orang terkenal dengan makna mendalam dalam bahasa Inggris</a></li>
<li><a href="../id487900/index.html">pyqtdeploy, atau kita kemas program Python di exe'shnik ... dengan cara yang sulit</a></li>
<li><a href="../id487902/index.html">Dari api ke api: elektrolit solid-state refraktori untuk baterai lithium-ion</a></li>
<li><a href="../id487906/index.html">Buku "Jaringan Komputer. Prinsip, Teknologi, Protokol: Edisi Peringatan Â»</a></li>
<li><a href="../id487908/index.html">Awal perang proses teknologi: 5 nm dan 3 nm</a></li>
<li><a href="../id487910/index.html">Hukum alam dan matematika elegan: masalah dan solusi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>