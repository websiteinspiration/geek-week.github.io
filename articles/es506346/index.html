<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧖 💼 👘 Millones en un mes: cómo lanzar una startup en Europa por tu cuenta ✒️ 👨‍👨‍👦‍👦 👨🏻‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¡Hola a todos! 
 
 Hace dos meses, mi amigo y yo (para abreviar, llamémosle Ilya) lanzamos su startup. 
 Pffff ... tú dices. Todos los días alguien co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Millones en un mes: cómo lanzar una startup en Europa por tu cuenta</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506346/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¡Hola a todos! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hace dos meses, mi amigo y yo (para abreviar, llamémosle Ilya) lanzamos su startup. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pffff ... tú dices. </font><font style="vertical-align: inherit;">Todos los días alguien comienza algo. </font><font style="vertical-align: inherit;">Alguien se lanza solo. </font><font style="vertical-align: inherit;">Algunos se agrupan en equipos. </font><font style="vertical-align: inherit;">Alguien tiene dinero para el desarrollo \ marketing, alguien ofrece una acción, pago posterior, opciones. </font><font style="vertical-align: inherit;">Todos giran como pueden y también buscan socios.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fi/8a/yt/fi8ayt5fc0g2zt4l7ws_dd4luzk.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No teníamos dinero, solo había experiencia y 2 semanas antes de las primeras ventas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bajo el corte, hablaré sobre lo que enfrentamos y cómo ganamos un millón durante la crisis</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo quiero compartir la experiencia que hemos ganado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Más precisamente, para compartir la experiencia que permitió lanzarlo todo en 2 semanas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¡Seriamente! </font><font style="vertical-align: inherit;">No estoy bromeando. </font><font style="vertical-align: inherit;">Desde la primera reunión hasta el lanzamiento del proyecto: ¡2 semanas! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una semana para el desarrollo y promoción en lo social. </font><font style="vertical-align: inherit;">redes y una semana en rebajas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el curso de la narración, extrañaré los detalles insignificantes (u obvios, que se pueden encontrar en la documentación) y me centraré solo en ciertas sutilezas. </font><font style="vertical-align: inherit;">También se encontrarán configuraciones y ejemplos de código.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Quienes somos? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando comenzó la cuarentena, muchas áreas de negocios comenzaron a ceder lentamente. </font><font style="vertical-align: inherit;">Esto también afectó la esfera de Ilya, a saber, "baile y coreografía". </font><font style="vertical-align: inherit;">Posee una gran cantidad de escuelas de baile. </font><font style="vertical-align: inherit;">La misma desgracia superó el estado físico. </font><font style="vertical-align: inherit;">Y allí, la gente comenzó a salir a través de la capacitación en línea. </font><font style="vertical-align: inherit;">Entonces tuvo la idea de llevar a cabo un campamento de baile en línea (en total analogía con los campamentos fuera de línea). </font><font style="vertical-align: inherit;">Con lo que vino a mí. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al final, el equipo estaba formado por solo 2 personas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parte (s) técnica (s)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marketing + Gestión (Ilya)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no es para disimular, esta lista puede ser complementada por empleados contratados (diseñador, cmm, traductor, abogado), pero esto ya son las pequeñas cosas en la vida. </font><font style="vertical-align: inherit;">Atribuimos esto a gastos únicos. </font><font style="vertical-align: inherit;">Y estos costos son pequeños.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Qué hicimos?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El significado del campamento de baile era simple. Hay 12 profesores y un evento de 3 días. 4 clases por día. Era necesario crear una plataforma donde el usuario pudiera registrarse, comprar el acceso al campamento. También hubo información sobre los maestros, alineación \ horario, algún formulario para comentarios. Bueno, y lo más interesante: fue necesario organizar una transmisión de artistas que también se sientan en cuarentena en casa. ¿Por qué no elegimos soluciones de Instagram? Prohibición de la música de fondo. Decisiones como Zoom hicieron caso omiso de la interacción innecesaria + demasiado costosa + la necesidad de instalar software. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un matiz separado es que los maestros de Europa y Estados Unidos también están en cuarentena. Esto impuso ciertas restricciones en la parte técnica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y un matiz más: este debería ser un producto terminado. </font><font style="vertical-align: inherit;">La gente tenía que ver algo hermoso y entender lo que estaban comprando, lo que obtendrían. </font><font style="vertical-align: inherit;">Por qué lo necesitan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Qué queremos?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Queríamos hacer MVP para lanzar el primer campamento y continuar llevándolos a cabo cada vez más. </font><font style="vertical-align: inherit;">Es necesario probar la hipótesis de que las personas necesitan este servicio. </font><font style="vertical-align: inherit;">Y no es solo cuarentena. </font><font style="vertical-align: inherit;">Como adultos, presentamos una serie de requisitos para ello:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La solución debe ser estable. </font><font style="vertical-align: inherit;">No se congela la transacción número 500. </font><font style="vertical-align: inherit;">No necesitamos tickets de soporte. </font><font style="vertical-align: inherit;">Todo debería funcionar sin nuestra participación.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La solución debe ser flexible y escalable. </font><font style="vertical-align: inherit;">Hoy tenemos 100 personas. </font><font style="vertical-align: inherit;">Mañana 10 000. Las cartas deben irse. </font><font style="vertical-align: inherit;">La transmisión puede soportar cualquier carga. </font><font style="vertical-align: inherit;">En el caso de un cambio en la pasarela de pago, por ejemplo, no debe haber retraso en la aceptación del pago</font></font></li>
<li>      ,            </li>
<li>         . ..     </li>
</ol><br>
<h3>  ?</h3><br>
<ul>
<li>backend  symfony</li>
<li>frontend  jquery + vue</li>
<li>   webpack</li>
<li> nats</li>
<li>   Go   </li>
<li> Minio   </li>
<li>redis   </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El panel de administración se realizó con el paquete de administración de Sonata. </font><font style="vertical-align: inherit;">Esta bestia se configura rápidamente, conveniente para usar. </font><font style="vertical-align: inherit;">No es necesario perder tiempo desarrollando ningún panel personalizado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora detengámonos un poco más en diferentes matices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo quiero tener en cuenta que las cosas que se describen a continuación son solo una lista de recomendaciones (consejos) sobre cómo hacerlo de manera rápida y económica. </font><font style="vertical-align: inherit;">Gran parte de lo que está escrito para alguien será obvio, pero para alguien no.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iniciar sesión</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La autorización por SMS es la aspiradora más grande para su dinero. Si ejecuta una startup, piense 10 veces si la necesita. Imagine que 1000 usuarios vinieron a usted. Ahora multiplique por el precio promedio de SMS en Europa \ USA y agregue esto al costo de su proyecto. También experimentará una serie de problemas que coinciden con el nombre del remitente. Además, también es mucho tiempo (en algunos países este proceso dura de 2 a 3 semanas o más). Y en el nombre estándar del remitente, muchos operadores móviles bloquean los SMS. Un poco agradable Por lo tanto, utilizamos la autorización a través del correo \ social. red. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muy rápidamente, la autorización a través de las redes sociales puede integrarse agregando la biblioteca LexikJWTAuthenticationBundle al proyecto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estoy más que seguro de que otros lenguajes y marcos también tienen otros similares.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Está bien documentado y hay varios ejemplos.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La puedes encontrar aquí</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github.com/lexik/LexikJWTAuthenticationBundle</a><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inmediatamente comenzamos a enviar cartas a través de la cola. </font><font style="vertical-align: inherit;">Creo que incluso para proyectos pequeños esto debería tomarse como base. </font><font style="vertical-align: inherit;">Esto se hace muy rápido. </font><font style="vertical-align: inherit;">Y quién sabe, tal vez en un mes tu startup se disparará y habrá x10 usuarios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sobre NATS hay artículos sobre un habr incluidos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay bibliotecas listas para php y Go (y muchos otros idiomas), </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
es decir </font><font style="vertical-align: inherit;">resultó un montón de PHP -&gt; NATS -&gt; GO -&gt; Amazon SES </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando docker-compose, instalamos NATS:</font></font><br>
<br>
<pre><code class="plaintext hljs">version: "2"<font></font>
<font></font>
services:<font></font>
 nats:<font></font>
  container_name: nats-mq<font></font>
  image: nats<font></font>
  networks:<font></font>
    - "back"<font></font>
  ports:<font></font>
    - "127.0.0.1:4222:4222"<font></font>
    - "127.0.0.1:6222:6222"<font></font>
    - "127.0.0.1:8222:8222"<font></font>
  entrypoint: "/gnatsd -c gnatsd.conf --auth SECRET --debug"<font></font>
  restart: always<font></font>
<font></font>
networks:<font></font>
  back:<font></font>
    driver: "bridge"<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agregue un paquete para trabajar con él en composer.json:</font></font><br>
<br>
<pre><code class="plaintext hljs">...<font></font>
"repejota/nats": "^0.8.6"<font></font>
...<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí hay una función de ejemplo para enviar correo:</font></font><br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">email</span>(<span class="hljs-params">$emails, $body, $subject</span>)
</span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($emails)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
    }<font></font>
<font></font>
    $prefix = getenv(<span class="hljs-string">'NATS_PREFIX'</span>);<font></font>
    $encoder = <span class="hljs-keyword">new</span> JSONEncoder();<font></font>
    $options = <span class="hljs-keyword">new</span> ConnectionOptions([
        <span class="hljs-string">'token'</span> =&gt; getenv(<span class="hljs-string">'NATS_TOKEN'</span>)<font></font>
    ]);<font></font>
    $client = <span class="hljs-keyword">new</span> EncodedConnection($options, $encoder);<font></font>
<font></font>
    <span class="hljs-keyword">try</span> {<font></font>
        $client-&gt;connect();<font></font>
        $client-&gt;publish(<font></font>
            $prefix . <span class="hljs-string">'email'</span>,<font></font>
            [<font></font>
                <span class="hljs-string">'Emails'</span> =&gt; $emails,
                <span class="hljs-string">'HtmlBody'</span> =&gt; $body,
                <span class="hljs-string">'TextBody'</span> =&gt; strip_tags($body),
                <span class="hljs-string">'Subject'</span> =&gt; $subject,
                <span class="hljs-string">'Sender'</span> =&gt; <span class="hljs-string">'info@'</span> . getenv(<span class="hljs-string">'DOMAIN_NAME'</span>)<font></font>
            ]<font></font>
        );<font></font>
    } <span class="hljs-keyword">catch</span> (\<span class="hljs-built_in">Exception</span> $exception) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mis proyectos, tomé el hábito de escribir muchos métodos de fábrica y llamar a la función de envío desde la superclase de notificaciones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto agrega flexibilidad. </font><font style="vertical-align: inherit;">Pero una startup debe cumplir con esto cuando se desarrolla. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
También es conveniente para la depuración. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después de todo, puede agregar una cierta clase Dummy con una función:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">email</span>(<span class="hljs-params">$emails, $body, $subject</span>)
</span>{<font></font>
    $time = time();<font></font>
    file_put_contents(SRC_PATH . <span class="hljs-string">'../var/dummy/email'</span> . $time . <span class="hljs-string">'.html'</span>, $body);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dejaré la interfaz general aquí</font></font></b>
                        <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">NotificationInterface</span>
</span>{<font></font>
<font></font>
    <span class="hljs-comment">/**
     *  
     *
     * init storage
     * <span class="hljs-doctag">@void</span>
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     *   
     *
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSync</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     *  
     *
     * <span class="hljs-doctag">@param</span> $phone
     * <span class="hljs-doctag">@param</span> $message
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sms</span>(<span class="hljs-params">$phone, $message</span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     *  
     *
     * <span class="hljs-doctag">@param</span> $email
     * <span class="hljs-doctag">@param</span> $body
     * <span class="hljs-doctag">@param</span> $subject
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">email</span>(<span class="hljs-params">$email, $body, $subject</span>)</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En Go, puede suscribirse a una cola como esta:</font></font><br>
<pre><code class="go hljs">opts := nats.Options{<font></font>
	Url:   ...,<font></font>
	Token: ...,<font></font>
}<font></font>
<font></font>
nc, err := opts.Connect()<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	log.Error(<span class="hljs-string">"error in nats connection"</span>, err)<font></font>
}<font></font>
<font></font>
c, err := nats.NewEncodedConn(nc, nats.JSON_ENCODER)<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	log.Error(<span class="hljs-string">"error in nats encoding"</span>, err)<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">defer</span> c.Close()
<span class="hljs-keyword">defer</span> nc.Close()<font></font>
<font></font>
c.Subscribe(<span class="hljs-string">"email"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(p *EmailInput)</span></span> {<font></font>
	p.sendEmail()<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
declarando antes de esto:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">type</span> EmailInput <span class="hljs-keyword">struct</span> {<font></font>
	Emails   []*<span class="hljs-keyword">string</span> <span class="hljs-string">`json:"Emails"`</span>
	HtmlBody <span class="hljs-keyword">string</span>    <span class="hljs-string">`json:"HtmlBody"`</span>
	TextBody <span class="hljs-keyword">string</span>    <span class="hljs-string">`json:"TextBody"`</span>
	Subject  <span class="hljs-keyword">string</span>    <span class="hljs-string">`json:"Subject"`</span>
	Sender   <span class="hljs-keyword">string</span>    <span class="hljs-string">`json:"Sender"`</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(email *EmailInput)</span> <span class="hljs-title">sendEmail</span><span class="hljs-params">()</span></span> {<font></font>
	...<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para el envío, como escribí anteriormente, utilizamos Amazon SES. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Por qué?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">administrar su servidor de correo es muy costoso y llevará tiempo</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es una solución llave en mano con un buen límite libre</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DKIM + SPF se configuran fácilmente (de lo contrario, las letras volarán a spam, la conversión caerá)</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manual de configuración de SPF aquí</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-authentication-spf.html</a><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro matiz muy importante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como no teníamos un departamento de soporte separado, de inmediato agregamos redireccionamientos del correo de soporte a nuestros personales. </font><font style="vertical-align: inherit;">Esto nos permitió responder rápidamente a las preguntas de los usuarios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora sus usuarios pueden iniciar sesión rápida y fácilmente. </font><font style="vertical-align: inherit;">Es hora de obtener el preciado dinero de ellos para las entradas para su evento.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facturación</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde el punto de vista del código, el sistema de pago es bastante simple. </font><font style="vertical-align: inherit;">Hay una superclase para la generación de enlaces, y nuevamente muchos métodos de fábrica. </font><font style="vertical-align: inherit;">Saben cómo generar un enlace para el pago y procesar una devolución de llamada. </font><font style="vertical-align: inherit;">Y también lanzar ganchos posteriores a la venta (notificación por correo + agregar acceso al evento).</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aquí dejo las interfaces generales para ganchos y sistemas de pago.</font></font></b>
                        <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">HookInterface</span>
</span>{<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> Transaction $transaction
     * <span class="hljs-doctag">@param</span> array $params
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span>(<span class="hljs-params">Transaction $transaction, <span class="hljs-keyword">array</span> $params</span>)</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">SystemInterface</span>
</span>{<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> Transaction $transaction
     * <span class="hljs-doctag">@param</span> string|null $redirect
     * <span class="hljs-doctag">@return</span> null
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLink</span>(<span class="hljs-params">Transaction $transaction, $redirect = <span class="hljs-literal">null</span></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> Transaction $transaction
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createWidget</span>(<span class="hljs-params">Transaction $transaction</span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createWidgetAssets</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> $request
     * <span class="hljs-doctag">@param</span> $em
     * <span class="hljs-doctag">@return</span> PayResponse
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleCallback</span>(<span class="hljs-params">Request $request, ObjectManager $em</span>)</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuestro producto estaba orientado a Europa, por lo tanto, los precios estaban en euros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Qué dificultades encontramos?</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puede contar con las pasarelas de pago de los dedos que tienen terminales de divisas. </font><font style="vertical-align: inherit;">¿Qué es? </font><font style="vertical-align: inherit;">Esto es algo que le permite aceptar pagos en euros, no rublos. </font><font style="vertical-align: inherit;">¿Por qué es esto tan importante? </font><font style="vertical-align: inherit;">Sí, porque los europeos desconfían de los rusos, hay muchos estafadores. </font><font style="vertical-align: inherit;">Al pagar, los rublos reducirán la conversión y agregarán tickets para el soporte, donde tendrá que explicar quién es y qué es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La coordinación de la terminal monetaria lleva tiempo. </font><font style="vertical-align: inherit;">Prepárese para que sea a partir de 5 días o más. </font><font style="vertical-align: inherit;">En la práctica, alrededor de 10. Porque lo revisarán cuidadosamente, y los europeos se mostraron reacios a la cuarentena. </font><font style="vertical-align: inherit;">Además, surgirán preguntas de nuestro banco nacional, ¿por qué lo necesita?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D Secure no se ha cancelado (SMS, que viene con un código de confirmación de pago). </font><font style="vertical-align: inherit;">Por lo tanto, si un banco en Europa no admite esta posibilidad para un cliente en Europa, entonces no podrá pagar. </font><font style="vertical-align: inherit;">En este caso, tienes que vencer al cliente con bolígrafos en PayPal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La coordinación del sitio ocurre solo cuando todo el contenido ya está presente en él. </font><font style="vertical-align: inherit;">Aquellos. </font><font style="vertical-align: inherit;">el sitio está completamente listo, incluidos todos los documentos legales, como una oferta. </font><font style="vertical-align: inherit;">Porque </font><font style="vertical-align: inherit;">no teníamos una tienda en línea y, en general, una solución atípica: recurrimos a abogados para elaborar una oferta para nuestro producto y su posterior traducción</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sucedió que primero aceptamos pagos en rublos. </font><font style="vertical-align: inherit;">Después de acordar una pasarela de pago, cambiaron a euros. </font><font style="vertical-align: inherit;">Esto redujo ligeramente la conversión al comienzo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organización de transmisión</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si todo es simple con autorización, y la facturación se puede atornillar por su cuenta. </font><font style="vertical-align: inherit;">Tales tareas a menudo se encuentran en el desarrollador estadístico promedio. </font><font style="vertical-align: inherit;">Pero con la transmisión, todo no es tan claro como parece a primera vista. </font><font style="vertical-align: inherit;">¿Qué está mal?</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nunca hemos tratado con él. </font><font style="vertical-align: inherit;">Necesitaba un servidor + cliente para profesores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La imagen debe reflejarse, es decir </font><font style="vertical-align: inherit;">hacer visualización vertical (características de videos de baile)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No sabíamos exactamente cuántos participantes habría en el campamento. </font><font style="vertical-align: inherit;">Y todavía no pudimos comprar una cuenta para el mes \ año \ número de tráfico en ninguna parte (en soluciones de transmisión listas para usar). </font><font style="vertical-align: inherit;">Eso engulliría todas las ganancias</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Necesitaba protección de iframe contra el robo de contenido al menos por referencia</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como solución, elegimos un montón de aplicaciones larix broadcastr -&gt; nginx + rtmp -&gt; cdn -&gt; client </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante la búsqueda, la aplicación Larix Broadcaster para transmitir RTMP desde dispositivos móviles resultó ser la más confiable y estable. </font><font style="vertical-align: inherit;">En un pequeño servidor virtual separado, planteamos nginx + rtmp para transmitir más a CDN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este esquema es el más barato. </font><font style="vertical-align: inherit;">Mucho más barato que usar los servicios de plataformas de transmisión listas para usar. </font><font style="vertical-align: inherit;">No necesita comprar ninguna cuenta premium \ gold \ super por un mes \ año. </font><font style="vertical-align: inherit;">Solo paga por el tráfico gastado. </font><font style="vertical-align: inherit;">Esta fue la solución perfecta en nuestra situación. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Allí, desplegaron una imagen especular.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La configuración de restricción está aquí</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">worker_processes  1;<font></font>
<font></font>
events {<font></font>
    worker_connections  1024;<font></font>
}<font></font>
<font></font>
http {<font></font>
    include       mime.types;<font></font>
    default_type  application/octet-stream;<font></font>
<font></font>
    sendfile        on;<font></font>
    <font></font>
    keepalive_timeout  65;<font></font>
    <font></font>
    include _root.conf;<font></font>
    include _stat.conf;<font></font>
}<font></font>
include _rtmp.conf;<font></font>
</code></pre><br>
<pre><code class="plaintext hljs">server {<font></font>
<font></font>
    listen       80;<font></font>
    server_name  localhost;<font></font>
    location / {<font></font>
        root   html;<font></font>
        index  index.html index.htm;<font></font>
    }<font></font>
<font></font>
    error_page   500 502 503 504  /50x.html;<font></font>
    location = /50x.html {<font></font>
        root   html;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<pre><code class="plaintext hljs">server {<font></font>
    listen      8080;<font></font>
<font></font>
    auth_basic "Restricted Area";<font></font>
    auth_basic_user_file .htpasswd;<font></font>
<font></font>
    location / {<font></font>
        root www;<font></font>
    }<font></font>
<font></font>
    location /stat {<font></font>
        rtmp_stat all;<font></font>
        rtmp_stat_stylesheet stat.xsl;<font></font>
    }<font></font>
<font></font>
    location /stat.xsl {<font></font>
        root www;<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
<pre><code class="plaintext hljs">rtmp {<font></font>
    server {<font></font>
<font></font>
        listen 1935;<font></font>
        chunk_size 4096;<font></font>
<font></font>
        application your-custom-hash-here {<font></font>
            live on;<font></font>
            record off;<font></font>
<font></font>
            allow publish all;<font></font>
            allow play all;<font></font>
<font></font>
            push rtmp://localhost/cdn;<font></font>
        }<font></font>
<font></font>
        application cdn {<font></font>
            allow publish 127.0.0.1;<font></font>
            deny publish all;<font></font>
<font></font>
            live on;<font></font>
            record off;<font></font>
<font></font>
            exec ffmpeg -i rtmp://localhost/cdn/$name -vf "hflip" -crf 30 -preset ultrafast -acodec aac -strict experimental -ar 44100 -ac 2 -b:a 128k -vcodec libx264 -x264-params keyint=60:no-scenecut=1 -r 30 -b:v 2000k -f flv rtmp://rtmp.cdnhost.abc;<font></font>
        }<font></font>
<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al frente de la parte, utilizamos un reproductor html5 simple, configurado teniendo en cuenta los dispositivos móviles y sus características:</font></font><br>
<br>
<pre><code class="javascript hljs">videojs($(<span class="hljs-string">'#video'</span>)[<span class="hljs-number">0</span>], {
    <span class="hljs-attr">controls</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">autoplay</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">preload</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-attr">poster</span>: <span class="hljs-string">'/static/splash-en.jpg'</span>,
    <span class="hljs-attr">language</span>: <span class="hljs-string">'en'</span>,
    <span class="hljs-attr">muted</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">html5</span>: {
        <span class="hljs-attr">hls</span>: {
            <span class="hljs-attr">overrideNative</span>: !videojs.browser.IS_SAFARI<font></font>
        }<font></font>
    }<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solución resultó ser muy estable y conveniente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después del evento, calculamos el porcentaje de quejas de calidad: fue del 2%. </font><font style="vertical-align: inherit;">Y en su mayoría personas que tienen computadoras estacionarias viejas o software obsoleto (navegadores).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusión</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cual es el resultado? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pasamos 2 campamentos en línea. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recibió solo comentarios positivos de los primeros usuarios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el difícil tiempo de cuarentena, esto era exactamente lo que la gente necesitaba en casa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los ingresos totales ascendieron a más de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,000,000 de rublos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si hablamos un poco sobre castdev, y luego nos centramos en los comentarios del primer campamento, finalizamos el sistema</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permitieron comprar un boleto por un día (y no solo un boleto completo); esto aumentó los ingresos, porque </font><font style="vertical-align: inherit;">muchos no querían comprar un boleto completo, pero solo querían comprar una clase magistral de uno o dos maestros</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hicimos un chat simple cerca del reproductor de video en socket.io: esto agregó interactividad a las lecciones y nos permitió obtener comentarios en tiempo real</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Porque </font><font style="vertical-align: inherit;">El campamento internacional y muchas personas se confundieron en las zonas horarias: agregamos la posibilidad de cambiar la zona horaria en el horario y ver el horario de acuerdo con nuestra zona horaria</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qué conclusiones se pueden hacer:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No es necesario tener una inversión inicial y un gran equipo para probar la idea</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lidere el desarrollo de manera flexible, escuche a sus usuarios. </font><font style="vertical-align: inherit;">Agregue solo lo que la gente realmente necesita</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No escriba de inmediato un gran monolito con un montón de funciones, no es necesario probar una hipótesis. </font><font style="vertical-align: inherit;">No los guardes. </font><font style="vertical-align: inherit;">deuda. </font><font style="vertical-align: inherit;">Aprenda a lograr un equilibrio entre el código "incorrecto" y la funcionalidad "redundante". </font><font style="vertical-align: inherit;">Use cada herramienta para su propósito previsto.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usa la experiencia de tus amigos. </font><font style="vertical-align: inherit;">Después de todo, la mayoría de las tareas ya han sido resueltas. </font><font style="vertical-align: inherit;">Es suficiente encontrar las herramientas necesarias, realizar investigaciones, combinarlas en un solo sistema.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que este artículo le parezca útil a alguien, pero motive a alguien.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es506332/index.html">El aspecto moral del parche de Barmin</a></li>
<li><a href="../es506334/index.html">¿Qué hacer si siloviki vino a tu hoster?</a></li>
<li><a href="../es506338/index.html">Oro contra el cáncer: nanopartículas de oro biocompatibles para oncoterapia individual recibidas</a></li>
<li><a href="../es506340/index.html">Cómo se ven las nuevas salvaguardas de Amazon</a></li>
<li><a href="../es506342/index.html">Cómo un sistema de automatización resuelve los problemas de un club deportivo</a></li>
<li><a href="../es506358/index.html">3 opciones para el comportamiento de la corte cuando reciben casos de bloqueos fiscales</a></li>
<li><a href="../es506362/index.html">Cómo hicimos un baile en línea</a></li>
<li><a href="../es506370/index.html">Compare el rendimiento de la restricción de verificación y la clave externa en SQL Server</a></li>
<li><a href="../es506372/index.html">El instinto de reproducción se encuentra en la inteligencia artificial.</a></li>
<li><a href="../es506380/index.html">Software gratis o doméstico. Matrícula estándar o gratuita</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>