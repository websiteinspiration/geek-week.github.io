<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç¥ üë©üèº‚Äçü§ù‚Äçüë®üèΩ üöÅ NodeJS: quick start üòÖ üë©üèΩ‚Äçüíª üë®üèæ‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone! Very soon, the Node.js Developer course will start , in connection with which we conducted a traditional open lesson . The webinar exa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>NodeJS: quick start</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/493872/"><img src="https://habrastorage.org/webt/s-/7a/cf/s-7acfzhsw55rupodlj9zl6_3m8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hello everyone! </font><font style="vertical-align: inherit;">Very soon, the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js Developer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> course will start </font><font style="vertical-align: inherit;">, in connection with which we conducted a traditional </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open lesson</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">The webinar examined the strengths and weaknesses of Node, and also discussed for what tasks this software platform is best suited, and for which other languages ‚Äã‚Äãand frameworks should be chosen. </font><font style="vertical-align: inherit;">And, of course, not without practice. </font><font style="vertical-align: inherit;">To run the examples and software needed to install </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lecturer - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alexander Korzhikov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Dev IT Engineer at ING Group (Netherlands).</font></font><br>
<br>
<hr><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/gy/xr/it/gyxritf2vnerlxqhnevsput7s4q.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A few words about Node.js</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node.js is an asynchronous JavaScript runtime based on concepts such as Event Loop and event-oriented architecture. </font><font style="vertical-align: inherit;">The Node.js platform and the standard NPM package manager allow you to create effective applications for various subject areas - from the Web to Machine Learning. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The simplest web server example ( </font></font><code>node server.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)
<span class="hljs-keyword">const</span> hostname = <span class="hljs-string">'127.0.0.1'</span>
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>
<span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
server.listen(port, hostname, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Server running at http://<span class="hljs-subst">${hostname}</span>:<span class="hljs-subst">${port}</span>/`</span>)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Looking at the code above, the following features of Node.js can be noted:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We can run JavaScript code directly on the server, that is, it is possible to execute JavaScript files using the node command. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The CommonJS-format of modules for loading dependencies and ES Modules is supported, and both formats can be used.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A standard module library is supported, of which HTTP is a part.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The API is based on the asynchronous Callbacks pattern, but Promise is also supported. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ES2015 syntax is supported. </font><font style="vertical-align: inherit;">By the way, here is a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">useful link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with which you can always see </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in which version of Node which JS features are supported</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">If something goes wrong, you can compare and understand what the problem is.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do not miss the small demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (VSCode + Chrome Debug).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A brief excursion into history</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Node.js platform appeared in 2009, the main developer and creator of the project was Ryan Dahl. </font><font style="vertical-align: inherit;">His main idea was to create a non-blocking I / O (input-output) for the server, moreover, using JavaScript. </font><font style="vertical-align: inherit;">At that time, such approaches were not very common, and JavaScript was one of the best solutions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node.js uses the Chromium engine inside itself, or rather, that part of it that interprets JavaScript - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Due to the fact that the interpreter at one time separated into a separate V8 project, it became possible to simply create an ecosystem around it. </font><font style="vertical-align: inherit;">Strictly speaking, this is exactly what the creator of Node.js Ryan Dahl did. </font><font style="vertical-align: inherit;">By the way, today there is the Node.js Foundation, an organization that supports the project.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sy/ia/yr/syiayrq85tpdajr8whmtfysla6c.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Structure</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firstly, the library is written in C ++ and JavaScript. </font><font style="vertical-align: inherit;">The project itself </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lies on GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , so if you are curious, you can familiarize yourself with its source code. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">delve into its study for a</font></a><font style="vertical-align: inherit;"> very long time)). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secondly, as already mentioned, it includes V8 (the JavaScript execution platform from Google) and libuv as part of the Event Loop (asynchronous event loop). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, of course, there are various modules for working with the operating system that allow you to perform those business tasks that you need. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is also worth mentioning the main design patterns that are commonly used in Node.js:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Callback (it was already mentioned);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observer (simpler event pattern);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Module (although it is now organized in the JavaScript language itself, in Node.js it is still relevant);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reactor (pattern of asynchronous interaction with some resources when you do not block the main stream of code). </font><font style="vertical-align: inherit;">This pattern is familiar to JS developers. </font><font style="vertical-align: inherit;">For example, if we work in a browser and write a frontend, we do not block all browser work, but simply subscribe to events from the user, and when an event occurs (after a ‚Äúclick‚Äù, ‚Äúenter‚Äù, etc.), we execute our code.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By the way, here's a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">little competition</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> that we had at the webinar)). </font><font style="vertical-align: inherit;">And move on.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node Standard Distribution Modules</font></font></h3><br>
<img src="https://habrastorage.org/webt/lz/vc/dt/lzvcdthe1hqpmlr_jhnltxu2ewi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do you know which modules are included in the standard Node distribution? </font><font style="vertical-align: inherit;">That is, we are talking about modules that are already built-in, therefore, they can not be installed. </font><font style="vertical-align: inherit;">In general, there are about 50 of them, let's list the main ones. </font><font style="vertical-align: inherit;">For ease of perception, we conventionally divide them into 5 points: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Main (for ordinary operations):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fs;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">timers;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">streams (for working with streams).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Utilities:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path (for working with paths);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zlib (archiving and unzipping);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crypto (for cryptographic functions).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Processes (everything related to multiprocessing and parallelism):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">child_process (the main module for launching minor modules, provides great opportunities for starting and monitoring processes);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cluster (similar to the first, but allows you to parallelize tasks on the cores of your processor);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker_threads (implementation of threads or threads, but it is not completely thread-safe, but why, it is better to read in the documentation).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Protocols (all kinds of protocols):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http (s);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">net;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dns.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. System (respectively, system modules, including debugging):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v8;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">async_hooks;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perf_hooks;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trace_events</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What else to add: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- globals object - analogue of window; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- all JavaScript objects that are available in the browser are also available in Node.js; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- timeouts - almost like in a browser; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- process - representation of the current process; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- console is available.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Callbacks</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Callback - a function passed as an argument to the code, which involves executing it at some point in time. </font><font style="vertical-align: inherit;">By the way, people rarely think that their execution can be synchronous or asynchronous.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
server.listen(port, hostname, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Server running at http://<span class="hljs-subst">${hostname}</span>:<span class="hljs-subst">${port}</span>/`</span>)<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Node, by default, callback is executed with an ‚Äúerror‚Äù and the result is asynchronous:</font></font><br>
<br>
<pre><code class="javascript hljs">fs.readFile(<span class="hljs-string">'/etc/passwd'</span>, (err, data) =&gt; {
<span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err
<span class="hljs-built_in">console</span>.log(data)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And here is what the antipattern looks like - a good example of how to use Callbacks incorrectly. </font><font style="vertical-align: inherit;">As they say, the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classic Callback Hell</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs">fs.readdir(source, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, files</span>) </span>{
<span class="hljs-keyword">if</span> (err) {
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error finding files: '</span> + err)<font></font>
} <span class="hljs-keyword">else</span> {<font></font>
files.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">filename, fileIndex</span>) </span>{
<span class="hljs-built_in">console</span>.log(filename)<font></font>
gm(source + filename).size(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, values</span>) </span>{
<span class="hljs-keyword">if</span> (err) {
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error identifying file size: '</span> + err)<font></font>
} <span class="hljs-keyword">else</span> {
<span class="hljs-built_in">console</span>.log(filename + <span class="hljs-string">' : '</span> + values)<font></font>
aspect = (values.width / values.height)<font></font>
widths.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">width, widthIndex</span>) </span>{<font></font>
height = <span class="hljs-built_in">Math</span>.round(width / aspect)
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'resizing '</span> + filename + <span class="hljs-string">'to '</span> + height + <span class="hljs-string">'x'</span> + height)
<span class="hljs-keyword">this</span>.resize(width, height).write(dest + <span class="hljs-string">'w'</span> + width + <span class="hljs-string">'_'</span> + filename, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
<span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error writing file: '</span> + err)<font></font>
})<font></font>
}.bind(<span class="hljs-keyword">this</span>))<font></font>
}<font></font>
})<font></font>
})<font></font>
}<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now let's see how </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to create a simple web server</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and render the HTML index as a client response:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)
<span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To read the local html file:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)<font></font>
fs.readFile(<span class="hljs-string">'./index.html'</span>, (err, text) =&gt; {
<span class="hljs-built_in">console</span>.log(text)<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finishing the topic of callbacks, I would like to mention Callback Types. </font><font style="vertical-align: inherit;">There are callbacks that return only an error if there is an error:</font></font><br>
<br>
<pre><code class="plaintext hljs">fs.access('/etc/passwd', fs.constants.R_OK, (err) =&gt; {<font></font>
console.log(err ? 'no access!' : 'read')<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also now, more and more modules and APIs use Promises out of the box, which is good. </font><font style="vertical-align: inherit;">Node supports Promises:</font></font><br>
<br>
<pre><code class="javascript hljs">util.promisify()<font></font>
fs.promises.*<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Return Type:</font></font><br>
<br>
<pre><code class="javascript hljs">http.request(<span class="hljs-string">'https://example.com'</span>, (error, response, body) =&gt; {<font></font>
...<font></font>
})</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node Q&amp;A</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When writing web servers, Express is often used, although there are many other libraries and frameworks that implement similar functionality. </font><font style="vertical-align: inherit;">Nevertheless, Express is the most popular and stable. </font><font style="vertical-align: inherit;">You could say this is the standard for writing servers.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">"express"</span>;
<span class="hljs-keyword">const</span> app = express();
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>;<font></font>
app.get(<span class="hljs-string">"/"</span>, (req, res) =&gt; {<font></font>
res.send(<span class="hljs-string">"Hello World!"</span>);<font></font>
});<font></font>
app.listen(port, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Example app listening
});</span></code></pre><br>
<img src="https://habrastorage.org/webt/1x/ml/lo/1xmllok6fpyj1q_82zod2tzl5du.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, now you can try to create a web server with an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Express-generator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yourself </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">using jade, cookie-session;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">making a naive login logout.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or just look at how the teacher did it, who </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prepared the ready-made solution</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in TypeScript. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That's all. </font><font style="vertical-align: inherit;">Finally - a couple of useful links:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Official documentation</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guide</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js frameworks: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ExpressJS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NestJS</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And see you </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">on the course</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en493858/index.html">10 useful books on IT service management</a></li>
<li><a href="../en493862/index.html">The updated model Sauber Alfa Romeo F1 is equipped with 143 parts printed on a 3D printer</a></li>
<li><a href="../en493864/index.html">Letter to startups from Sequoia Capital regarding coronavirus</a></li>
<li><a href="../en493866/index.html">Build your flow for git from scratch</a></li>
<li><a href="../en493870/index.html">Biogelx and the role of its bio-ink in modern bioprinting</a></li>
<li><a href="../en493880/index.html">BPF for the little ones, part zero: classic BPF</a></li>
<li><a href="../en493882/index.html">Roboculture: Onboarding, Mentoring, and Burnout</a></li>
<li><a href="../en493884/index.html">STM32MP1 - kernels + Linux = perfect microcontroller</a></li>
<li><a href="../en493890/index.html">The history of the roguelike genre: from Rogue to Binding of Isaac</a></li>
<li><a href="../en493892/index.html">How to work from home. Deletedman's Checklist</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>