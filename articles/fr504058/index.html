<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ›ï¸ ğŸ› Comme si nous n'avions pas de blockchain ğŸ“® ğŸŒ† ğŸ•¡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comment avons-nous utilisÃ© le smart-contract pour construire un systÃ¨me de sÃ©lection des meilleurs projets technologiques en IT MTS? Et dans quels Â«pi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comme si nous n'avions pas de blockchain</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/504058/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment avons-nous utilisÃ© le smart-contract pour construire un systÃ¨me de sÃ©lection des meilleurs projets technologiques en IT MTS? </font><font style="vertical-align: inherit;">Et dans quels Â«piÃ¨gesÂ» nous sommes tombÃ©s, mais nous avons pu en sortir, prouvant au final qu'il est possible de maintenir un registre distribuÃ© sur les appareils mobiles!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3b/1v/ze/3b1vzeubkfgosjf5aiumj_xfre0.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi un systÃ¨me basÃ© sur la blockchain Ã©tait-il nÃ©cessaire?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CommenÃ§ons par le tout dÃ©but. </font><font style="vertical-align: inherit;">MTS a une longue tradition - choisir le meilleur projet technologique rÃ©alisÃ© en un an et rÃ©compenser son Ã©quipe. </font><font style="vertical-align: inherit;">L'Ã©quipe reÃ§oit des prix, du respect et de la renommÃ©e. </font><font style="vertical-align: inherit;">Au fil des ans, divers projets sont devenus gagnants: des systÃ¨mes de tÃ©lÃ©communications trÃ¨s chargÃ©s aux systÃ¨mes d'intelligence artificielle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La sÃ©lection du meilleur projet s'est toujours dÃ©roulÃ©e en plusieurs Ã©tapes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les Ã©quipes postulent </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le vote d'experts techniques respectÃ©s a lieu </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AprÃ¨s experts, les projets sont sÃ©lectionnÃ©s par les managers </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã€ la fin de toutes les Ã©tapes, le grand patron choisit le meilleur projet. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons dÃ©cidÃ© que ce schÃ©ma n'Ã©tait pas suffisamment transparent pour les participants et nous avons pensÃ©: pourquoi ne pas donner Ã  tous les experts de l'entreprise la possibilitÃ© de choisir le meilleur projet technologique? â€¨ </font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous mettons en Å“uvre cette opportunitÃ© directement par tÃ©lÃ©phone, nous verrons la notation actuelle des projets et qui votera pour qui - cela garantira une transparence totale du processus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons lu plusieurs articles sur la blockchain et l'idÃ©e de construire un systÃ¨me de registre distribuÃ© fermement ancrÃ© dans nos tÃªtes. </font><font style="vertical-align: inherit;">Mais que se passe-t-il si nous appliquons le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smart-contract ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons Ã©tÃ© attirÃ©s par les propriÃ©tÃ©s suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ouverture - il n'y a pas de serveur unique oÃ¹ vous pouvez manipuler les informations;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les informations placÃ©es dans un registre distribuÃ© y restent pour toujours;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'information ne peut pas Ãªtre truquÃ©e (enfin ... pratiquement) </font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pas de blockchain </font></font></h2><br>
<img src="https://habrastorage.org/webt/sl/7o/g9/sl7og9sx7arxqn4m70nh4icfsja.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La blockchain elle-mÃªme ne devrait pas Ãªtre utilisÃ©e pour de telles Ã©lections. </font><font style="vertical-align: inherit;">Mais que se passe-t-il si nous prenons les protocoles pour construire un consensus dans les systÃ¨mes distribuÃ©s et les appliquons Ã  la construction d'un consensus dans les relations humaines? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã‰tant donnÃ© que nous devrons travailler dans un rÃ©seau ouvert, nous devons </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> protÃ©ger des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">attaques non byzantines</font></a><font style="vertical-align: inherit;"> et de la substitution d'informations sur les appareils des utilisateurs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelles sont les alternatives </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le protocole le plus cÃ©lÃ¨bre est PAXOS. Il manque un leader explicite et tous les changements passent par un commit en deux phases. Au dÃ©but de chaque changement, Proposer se produit. S'il a rÃ©ussi, alors Accepter est envoyÃ©.â€¨  </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une caractÃ©ristique de l'algorithme peut Ãªtre appelÃ©e le fait qu'il utilise des temporisateurs globaux pour dÃ©terminer quelle requÃªte est gÃ©nÃ©rÃ©e plus tÃ´t et que le nÅ“ud effectuant les modifications doit communiquer avec tous les nÅ“uds du rÃ©seau. En savoir plus sur l'algorithme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme est utilisÃ© Ã  de nombreux endroits, par exemple dans le SGBD Cassandra. Nous n'avons pas aimÃ© ce protocole en termes de complexitÃ© de sa mise en Å“uvre pour la tÃ¢che. Mais la deuxiÃ¨me option nous est venue - c'est RAFT. En fait, il s'agit d'une Ã©volution du protocole PAXOS avec un leader clair. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le protocole simplifiÃ© peut Ãªtre dÃ©crit comme suit:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Â· Un rÃ©seau d'appareils est en cours de construction qui se connaissent les uns les autres; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Â· Les appareils choisissent entre eux un leader qui prend des Â«dÃ©cisions importantesÂ» (par exemple, ajouter une entrÃ©e au registre ou changer la composition du rÃ©seau); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Â· L'appareil leader est responsable de la diffusion des informations Ã  travers le rÃ©seau afin que partout elles soient identiques; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Â· DÃ¨s que le leader cesse de s'acquitter de ses fonctions - choisissez un nouveau leader. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lisez le protocole </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notre implÃ©mentation </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que faisons-nous et pourquoi le monde est-il un autre vÃ©lo? â€¨ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Presque tous les utilisateurs de notre registre ont des appareils mobiles qui sont presque toujours allumÃ©s et presque toujours en ligne, et les utilisent en fait presque toujours, nous avons donc dÃ©cidÃ© d'exÃ©cuter l'algorithme de registre de distribution sur les appareils mobiles, et non sur l'infrastructure du serveur, comme d'autres implÃ©mentations bien connues . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voyons dans quels Â«piÃ¨gesÂ» nous sommes entrÃ©s, mais nous avons rÃ©ussi Ã  en sortirâ€¦</font></font></b><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiÃ¨ge numÃ©ro 1: "Mon adresse n'est pas la maison et pas la rue"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Â«Tout Ã  coupÂ», il s'est avÃ©rÃ© que pour construire un rÃ©seau P2P qui implÃ©mente un registre distribuÃ© utilisant le protocole RAFT pour la rÃ©plication des donnÃ©es, chaque appareil peut communiquer entre eux, ce qui signifie qu'il est Ã  la fois un client et un serveur. Par consÃ©quent, nous avons besoin d'une adresse IP publique Â«blancheÂ» pour chaque tÃ©lÃ©phone mobile (ce n'est peut-Ãªtre pas le cas). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nombre de vÃ©ritables IPv4 est trÃ¨s limitÃ©, donc les opÃ©rateurs de tÃ©lÃ©communications utilisent la technologie NAT (Network Address Translation) en mode PAT (Port Address Translation), traduisant plusieurs adresses IP du rÃ©seau interne (qui sont distribuÃ©es aux abonnÃ©s) en une seule adresse IP publique externe. Ainsi, la possibilitÃ© d'accepter les connexions entrantes Ã  partir d'Internet est exclue. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La bonne nouvelle, c'est qu'il y a beaucoup d'IPv6! â€¨ </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons un support IPv6 inclus dans le package de base. </font><font style="vertical-align: inherit;">De plus, tous les tÃ©lÃ©phones modernes prennent en charge IPv6 et l'opÃ©rateur attribue Ã  l'abonnÃ© une adresse v6 Â«blancheÂ» publique. </font><font style="vertical-align: inherit;">Notre choix est IPv6.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiÃ¨ge numÃ©ro 2: tout le monde s'est endormi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contrairement aux serveurs, les tÃ©lÃ©phones mobiles s'Ã©teignent parfois encore. Nous l'avons trouvÃ© lors du test du premier prototype. De plus, l'adresse IPv6 fournie par l'opÃ©rateur est publique, mais pas statique, chaque nouvelle session de communication est une nouvelle adresse. L'adresse de l'appareil mobile peut changer Ã  tout moment. Et s'il n'y a pas un seul tÃ©lÃ©phone avec l'adresse que nous connaissons sur le rÃ©seau, il cesse tout simplement d'exister (il n'y a rien Ã  se connecter pour Â«l'augmenterÂ»). Par consÃ©quent, nous avons dÃ» violer notre rÃ¨gle Â«pas de serveurÂ» dans une certaine mesure. Nous avons crÃ©Ã© un nÅ“ud spÃ©cial dans le cloud avec une adresse statique connue. Sa tÃ¢che consiste Ã  mÃ©moriser / mettre Ã  jour la composition du rÃ©seau et Ã  ne pas l'Ã©teindre. C'est-Ã -dire que c'est un site ordinaire, personne ne vote que de lui, et en y tournant, vous pouvez toujours obtenir la liste actuelle des adresses de tous les participants du rÃ©seau.</font></font><br>
<br>
<h2>  3:    â€¨</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il Ã©tait nÃ©cessaire de rÃ©soudre le problÃ¨me d'une maniÃ¨re ou d'une autre, afin que tout le monde ne puisse voter pour des projets, mais ceux qui en avaient besoin. La premiÃ¨re idÃ©e Ã©tait la suivante: maintenir une base de donnÃ©es de numÃ©ros de tÃ©lÃ©phone d'experts. Mais ils l'ont refusÃ©, car ils ne voulaient pas donner Ã  l'application le droit d'accÃ©der Ã  ces informations. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En consÃ©quence, ils ont rendu tout simple: ils ont dÃ©cidÃ© de fournir Ã  chaque voix, chaque entrÃ©e de registre une signature numÃ©rique sur des courbes elliptiques Ã  la mode, qui dÃ©termineront l'authenticitÃ© de l'enregistrement. Un service WEB a Ã©tÃ© placÃ© sur le rÃ©seau de l'entreprise, qui, par autorisation de domaine, a dÃ©terminÃ© l'expert et a gÃ©nÃ©rÃ© pour lui un QR code unique avec les clÃ©s de chiffrement publiques et privÃ©es (bien sÃ»r, cÃ´tÃ© client). L'expert a scannÃ© le code de l'application et s'est connectÃ©. AprÃ¨s cela, la version actuelle actuelle du registre a Â«roulÃ©Â» sur son tÃ©lÃ©phone et la possibilitÃ© de voter est apparue.</font></font><br>
<br>
<h2>  4:  Android  â€¨ â€¨</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours des tests, il a Ã©tÃ© presque Â«soudainementÂ» rÃ©vÃ©lÃ© que certains utilisateurs Ã©taient propriÃ©taires de modÃ¨les bien connus d'appareils mobiles exÃ©cutant le systÃ¨me d'exploitation iOS. Et il est devenu clair que notre logiciel de registre devrait fonctionner sur diffÃ©rentes plateformes. Nous nous sommes tournÃ©s vers le langage de programmation Kotlin, qui est non seulement Â«branchÃ©, Ã©lÃ©gant, jeuneÂ», mais Ã©galement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multi-plateforme</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le concept de multi-plateforme dans Kotlin implique qu'il existe une partie du code commun et spÃ©cifique Ã  la plate-forme, mais comme les ressources de notre Ã©quipe sont limitÃ©es, nous nous sommes fixÃ© la tÃ¢che odieuse d'utiliser une seule version du code source pour toutes les plates-formes! Bien entendu, le module exÃ©cutable doit Ãªtre natif pour chaque plateforme. Kotlin Ã©tait </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capable de cela</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã€ peine dit que c'Ã©tait fait! </font><font style="vertical-align: inherit;">Nous avons un seul SourceSet avec le code source, Ã  partir duquel nous collectons des binaires pour toutes les plates-formes (!), En utilisant le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fitOn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Â«dÃ©pendÂ» </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cool? </font><font style="vertical-align: inherit;">TrÃ¨s cool!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiÃ¨ge numÃ©ro 5: le trafic mobile n'est pas gratuit â€¨</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment mettre en Å“uvre le plus efficacement possible l'interaction entre les nÅ“uds du rÃ©seau afin de ne pas dÃ©penser tout le trafic de l'abonnÃ© et de ne pas vider la batterie de l'appareil mobile? Nous supposons que le rÃ©seau peut comprendre 1000 appareils ou plus! L'option la plus Ã©vidente consiste Ã  utiliser UDP au lieu de TCP, par exemple, dans la procÃ©dure de sÃ©lection Â«leaderÂ» ou lors de l'envoi de Heartbeats sans donnÃ©es. UDP est plus Ã©conomique car il utilise un modÃ¨le de transfert de donnÃ©es simple, sans Â«poignÃ©e de mainÂ» et sans confirmations. Bien! Quoi d'autre? Bien sÃ»r, les E / S asynchrones! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous lisons attentivement la documentation de Kotlin Native.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour toutes les cibles basÃ©es sur Unix ou Windows (y compris Android et iPhone), nous fournissons la plate-forme posix lib. Il contient des liaisons Ã  l'implÃ©mentation de la plate-forme de la norme POSIX.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous lisons Ã©galement attentivement la documentation standard POSIX et trouvons </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une fonction Ã©tonnante</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui nous permet de traiter les Ã©vÃ©nements de socket en mode non bloquant! </font><font style="vertical-align: inherit;">AprÃ¨s avoir plongÃ© tÃªte baissÃ©e dans le monde merveilleux de la coroutine, des prises et du C Interop, nous avons pu rÃ©aliser un transport trÃ¨s efficace. </font><font style="vertical-align: inherit;">Super! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et sous quelle forme envoyer des donnÃ©es? â€¨â€¨ </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sÃ»r </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CBOR! </font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un format de donnÃ©es binaires compact, qui, par chance, est implÃ©mentÃ© dans la bibliothÃ¨que multi-plateforme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kotlinx.serialization</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tout simplement gÃ©nial!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiÃ¨ge numÃ©ro 6: sÃ©rialisation â€¨</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette fois, il s'est avÃ©rÃ© que kotlinx.serialization n'est pas sous androidNative (sous androidJvm, bien sÃ»r, il y en a un). </font><font style="vertical-align: inherit;">Chers collÃ¨gues de JetBrains ont confirmÃ© qu'ils ne sont pas en train de construire une bibliothÃ¨que pour androidNative, et avant la sortie de Kotlin 1.4, il n'y a plus de place pour cette tÃ¢che dans la feuille de route. â€¨ </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que faire? </font><font style="vertical-align: inherit;">Si la montagne ne va pas Ã  Mohammed, Mohammed va Ã  la montagne! </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons nous-mÃªmes compilÃ© kotlinx.serialization pour toutes les plateformes, y compris androidNative! </font><font style="vertical-align: inherit;">Le plus Ã©tonnant, c'est que Ã§a a marchÃ©! â€¨ </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiÃ¨ge numÃ©ro 7: oÃ¹ stocker le journal? â€¨ </font></font></h2>â€¨ <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De toute Ã©vidence, dans le stockage de valeurs-clÃ©s intÃ©grÃ©, mais dans lequel? </font><font style="vertical-align: inherit;">Nous avons choisi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lmdbx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour la compacitÃ© du code, la vitesse, la multiplateforme et l'absence de fichier WAL. </font><font style="vertical-align: inherit;">Cette bibliothÃ¨que est dÃ©veloppÃ©e par les gars de Positive Techlologies et provient de la lÃ©gendaire bibliothÃ¨que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LMDB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de l'un des auteurs d'OpenLDAP Howard Chu. </font><font style="vertical-align: inherit;">Et cela, Ã  son tour, est enracinÃ© dans la mise en Å“uvre de l'arbre B + de Martin Hedenfalk. </font><font style="vertical-align: inherit;">Soit dit en passant, prÃªte Ã  l'emploi, la bibliothÃ¨que n'a pas Ã©tÃ© conÃ§ue pour androidNative. </font><font style="vertical-align: inherit;">Nous avons soigneusement collectÃ© toutes les erreurs, et les auteurs ont rapidement fourni des correctifs - pour lesquels un merci spÃ©cial Ã  eux!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiÃ¨ge numÃ©ro 8: C Interop â€¨</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mettre tout cela ensemble s'est avÃ©rÃ© Ãªtre une tÃ¢che trÃ¨s simple. En plus des sockets lmdbx et posix, nous avons intÃ©grÃ© des bibliothÃ¨ques pour gÃ©nÃ©rer / valider des signatures numÃ©riques sur des courbes elliptiques et calculer SHA256 en utilisant l'incroyable mÃ©canisme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C Interop</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En termes simples - Ã  partir d'une application native sur Kotlin, vous pouvez appeler la fonction de bibliothÃ¨que C, y compris avec des pointeurs vers des pointeurs et d'autres magie, tout cela semble un peu Ã©trange. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, appeler getaddrinfo pour obtenir sockaddr. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vg/ej/pc/vgejpcyxkdvbkk8exlpafiml_e0.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment tu trouves Ilon Mask?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lier la bibliothÃ¨que C Ã  l'exÃ©cutable natif de Kotlin est une quÃªte distincte, que nous avons Ã©galement rÃ©ussi Ã  traverser, mais pas sans bÃ©quilles. </font><font style="vertical-align: inherit;">Nous formons dynamiquement le fichier def directement dans le script de construction pour indiquer le chemin correct vers les bibliothÃ¨ques par rapport au rÃ©pertoire racine du projet, puis substituons son descripteur (fichier def) dans la section cinterops. </font><font style="vertical-align: inherit;">Dans le fichier def lui-mÃªme, seul le chemin absolu est dÃ©terminÃ©, qui peut non seulement avoir un format diffÃ©rent si l'assemblage est effectuÃ© sous un systÃ¨me d'exploitation diffÃ©rent, mais en fait sur les machines locales des dÃ©veloppeurs, bien sÃ»r, peut Ã©galement diffÃ©rer, ce qui conduit Ã©videmment Ã  une erreur lors du lien.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã€ propos de l'Ã©lection</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les principales Ã©lections que nous avons tenues dans la journÃ©e. </font><font style="vertical-align: inherit;">Un peu plus de 20 experts ont participÃ© aux tests sur notre rÃ©seau. </font><font style="vertical-align: inherit;">21 projets ont Ã©tÃ© Ã©valuÃ©s dans 5 catÃ©gories, soit plus de 100 entrÃ©es avec votes pour des projets ont Ã©tÃ© ajoutÃ©es au registre.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GrÃ¢ce Ã  ce petit projet de recherche, nous avons pu prouver que le maintien d'un registre distribuÃ© sur les appareils mobiles est possible! </font><font style="vertical-align: inherit;">Cela ouvre de nombreuses possibilitÃ©s d'utilisation de cette technologie sur les appareils IoT pour organiser l'informatique Edge-computing. </font><font style="vertical-align: inherit;">Nous attendons toujours des tests de charge, une vulnÃ©rabilitÃ© aux attaques et une tolÃ©rance aux pannes. </font><font style="vertical-align: inherit;">Mais nous pensons que nous rÃ©ussirons! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auteurs de l'article: architectes et dÃ©veloppeurs du Centre R&amp;D de MTS Dmitry Dzyuba, Alexey Vasilenko et Semen Nevrev</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504044/index.html">GÃ©rez des clusters PostgreSQL hautement disponibles Ã  l'aide de Patroni. A. Klyukin, A. Kukushkin</a></li>
<li><a href="../fr504048/index.html">Levez la main ou roulette de traduction russe</a></li>
<li><a href="../fr504050/index.html">Ce qui est bon et ce qui est mauvais. La carriÃ¨re de dÃ©veloppeur Ã  travers les yeux de son leader</a></li>
<li><a href="../fr504054/index.html">Nous fabriquons une machine d'arcade avec un accepteur de billets et un accepteur de piÃ¨ces</a></li>
<li><a href="../fr504056/index.html">Ã€ propos de regarder un film en anglais avec des sous-titres, le simplifier avec des sous-titres bilingues et sous-titreur bilingue</a></li>
<li><a href="../fr504060/index.html">"Masque du jour d'Ilona." Premier vol des astronautes de la NASA sur le Crew Dragon de SpaceX</a></li>
<li><a href="../fr504064/index.html">Comment nous avons abandonnÃ© l'utilisation du Styled-System pour crÃ©er des composants et inventÃ© notre propre vÃ©lo</a></li>
<li><a href="../fr504066/index.html">Comment Amazon va regagner des clients</a></li>
<li><a href="../fr504068/index.html">Un Ã©tudiant diplÃ´mÃ© a rÃ©solu le problÃ¨me du Â«nÅ“ud ConwayÂ», sur lequel ils se sont battus pendant des dÃ©cennies</a></li>
<li><a href="../fr504070/index.html">Un Ã©tudiant diplÃ´mÃ© a rÃ©solu un problÃ¨me topologique il y a un demi-siÃ¨cle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>