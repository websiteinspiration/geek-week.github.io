<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚺 👙 ✊🏽 Kubernetes, Microservices, CI / CDs and Dockers for Retrogrades: Learning Tips 👨🏿‍🔧 🔪 📉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It seems that the topic “why do we need Kubernetes” is already annoying. I want to say: “everyone who needs it has long understood”, but I would divid...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kubernetes, Microservices, CI / CDs and Dockers for Retrogrades: Learning Tips</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/499102/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It seems that the topic “why do we need Kubernetes” is already annoying. I want to say: “everyone who needs it has long understood”, but I would divide the technical (and near-technical) workers into those who “understood and know how to use”, and those who “understood, but want to know how to make knowledge relevant ".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhaps you are a manager who has been working on the same stack for the past 10 years; </font><font style="vertical-align: inherit;">you may be a developer who supports the old solution or writes in a familiar language in a familiar environment. </font><font style="vertical-align: inherit;">Perhaps you just switched from technical to organizational management and suddenly found out that everything that you knew was no longer relevant, and I want to understand if there is any relatively simple scenario of how this can be caught up. </font><font style="vertical-align: inherit;">I will try to give advice based on my own experience - from a person who realized that being in organizational management will soon be expressed by the words “Kubernetes is an effective technology, we must strive for its application”, not fully understanding what lies behind with these words and behind all the technical culture that has developed recently.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Why do I find it important to be able to change the paradigm of technological thinking?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The most difficult thing for those who have been working in technology for a long time is to accept that the new trend has become permanent. Over 20 years of work, I saw how different technologies came and went, and some of them were “super-relevant” for several months. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I read Joel Spolsky about how Microsoft systematically invents a new stack for developers in order to generally prevent them from looking at something else. Like SRE, I was doubly afraid of every new technology: everything new is raw, everything raw is unstable. Well, everything unstable will lead to problems in production, and production stability is the main thing.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a programmer and an entrepreneur, I wanted to create a product faster - I need to learn everything new, change the usual approaches, which means - roll out features more slowly. If some new technologies were adopted quickly, then everything related to microservice-oriented development (let's call it the whole modern stack) needed to be taught. And every year to learn longer; it’s much easier to write in the old familiar way and deliver the product faster.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But the fact remains: sometimes new technologies remain and change the whole paradigm entirely. </font><font style="vertical-align: inherit;">And here a choice arises: to remain in the old paradigm or to move into a new one. </font><font style="vertical-align: inherit;">Cobol-programmers can still get a job, perl-developers remember about booking, but alternative ways for these people are becoming less and less. </font><font style="vertical-align: inherit;">And then “retrograde” in the name of stability becomes a limitation. </font><font style="vertical-align: inherit;">With the whole modern stack, if you don’t want to limit yourself, the time is not what has come, but we are already behind. </font><font style="vertical-align: inherit;">And, if we do not want to get stuck in perl, we need to learn. </font><font style="vertical-align: inherit;">It takes a long time. </font><font style="vertical-align: inherit;">I will try to tell my step-by-step experience in learning.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diving directions</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Understand how to run applications in docker.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> First of all, veterans should understand that the way to “store” and “launch” applications has changed forever. Most likely, a developer who has learned to develop in recent years has no idea how to run an application in production without a docker. In the head of such a developer, there is probably no concept of “store files locally”, except for rare cases of shared storage, but the main thing that a “veteran” needs to understand is: docker is a new exe. The exe format may have its drawbacks, but no one really thinks about it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yes, the microservice approach has become the standard. As once OOP appeared to make it easier for large teams to write large software; now microservices have become the same standard. They are even cultivated by the same people (see </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fowler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) This is reasonable: if the application API is versioned, it is easier for individual teams to write stand-alone applications than one large one. One can argue why small applications should be written microservice, but at some point everyone began to write them in OOP-style - it’s just so familiar (see exe above). There is much to argue that interprocess communication (especially that built on the TCP stack) has a million performance flaws (one service will go to the other over TCP instead of just making an assembler-call - you can imagine what the difference is in productivity?), but the fact remains that microservices have the advantages of developing medium and large projects, and they have also become the standard. Understand how microservices interact with each other (HTTP API, grpc,asynchronous interaction through the queue - a million ways), as a bonus - understand what a service mesh is. (A moment of angry humor: God, guys, they came up with the idea of ​​sharing the application, and it turned out that the communication between the divided applications is a difficult joke, so they added another layer to ease interprocess horror, what is this for us?)</font></font><br>
<br>
<b>,       .</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So, we reconciled that we are now launching the applications in the docker and that we share the application into microservices. Now we need to somehow manage the running dockers. You can do it yourself on dedicated servers (and steer, for example, Docker Swarm, or build Kubernetes), or you can use the services that clouds provide - container services from AWS or Kubernetes. There is one very big advantage to using clouds. You, in fact, stop thinking about the layer running below the container manager (SRE now laughs, but let's admit - when everything is stable, we don’t climb on GKE nodes in most cases). Thus, in fact, the container manager, whose standard Kubernetes has become, is turning into an operating system. It has package managers, you can “install software” in it, you can run “exe-shniki” in it - dockers,it has kronjoby. Kubernetes is a new OS.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Understand how docker containers will need to be delivered.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Layout of a simple site now takes 5 minutes, and people consider this the norm. We need to collect the docker, test it, put it in the registry and put it in the docker manager (let's talk more about Kubernetes). This is the savagery (?) That everyone is used to, it is optimized and this is the standard. CI / CD systems have become the standard layout, and you need to figure them out. Just like with GitOps. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Understand that on-premise hosting for most applications will be a thing of the past (in the West - already gone).</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Once upon a time, it was the norm to buy servers, assemble them, bring them to DC, put in colocation and switch. Even for a small project. Then came Dedicated servers. How many people are now thinking of tormenting, buying and collecting iron on small and medium-sized projects? Dedicated - in the West now, and in the Russian Federation soon - will be replaced by clouds. This has been talked about for a hundred years, I have been using AWS since 2008, and it has problems, but when we talk about the service that takes over the management of Kubernetes (EKS, GKE, Kubernetes from Yandex or Selectel), I don’t understand why to manage Kubernetes and Dediks themselves, if other guys do it? I don’t change coolers in Dediks anymore ... The question of the prevalence of on-premise Kubernetes distributions in the Russian Federation is a question of the dollar exchange rate,the law on persdans and "youth" of Russian cloud hosting. Sooner or later, this will be decided and on-premise will become the wildness that enterprises and large loaded projects want. With bases the same. If we are talking about most applications that do not require super-high load or super powerful tuning, then cloud-based PostreSQL / MongoDB / MySQL provides a huge number of advantages. No need to think about tuning, no need to think about backups. Create a dev server from a production server - a couple of commands in the cloud console. I understand that this whole idea can cause anger in the admin: guys, I’m the admin myself, but for most non-bad tasks, database management, however, is not needed. Perhaps AWS and GKE are expensive and inaccessible to us because of the Persian law, but this is only additional time to lag: sooner or later, Yandex or Selectel will have the same features,and the paradigm will change.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Understand what infrastructure is now written. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I did not like IaaC when he was Chef and Puppet, but, thank God, they were replaced by more adequate Terraform and Pulumi to describe what you want to raise in the cluster, and Ansible to work inside. </font><font style="vertical-align: inherit;">Go in and put something in the shell - now absolute savagery. </font><font style="vertical-align: inherit;">Yes, it’s faster and more convenient, but in the new paradigm it’s wildness: remember about exe.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deep dive course</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How do I see a specific technical way in order to understand how to work with a modern stack? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) Make a trial account on cloud hosting. All hosting providers provide them. I started with GKE, but you can, for example, take an account on Russian hosting services, if you expect that you will work, most likely, in this territory. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If Terraform / Pulumi supports your cloud, describe the infrastructure that you want to create in them. If you have programming skills, I recommend Pulumi: instead of your own Terraform SDL, you can write in familiar languages ​​and constructs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) Find the application and pack it in the docker. What is there to pack - the choice is yours. I suddenly discovered for myself how NodeJS became widespread, and decided to take a deep study of its operation, so I continue to work with the node. Here, for example, is a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog on NodeJS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which can be raised, but in general everything is at your discretion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3) Deal with the basic constructs (for, deployment, service) of K8S and deploy the application with your hands in the K8S cluster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4) Deal with Helm, write a Helm chart, deploy a Helm application. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Take a free plan on CircleCI as a CI-ke, which does not need to be set, and configure: the configs will be similar to other systems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5) Fix the application through CI-ku.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Separate CI (what the application builds) and CD. </font><font style="vertical-align: inherit;">Make a CD by GitOps (see, for example, ArgoCD).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What's next</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somewhere from now on, you, in principle, will be aware of the main bases of the modern stack. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Where can I go digging further?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you are looking for a job / want to work in the West, you can go to a deeper knowledge of cloud computing: submit a Google certificate or equivalent from AWS to Cloud Architect (we </font><font style="vertical-align: inherit;">recently received 3 of these certificates </font><font style="vertical-align: inherit;">at </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITSumma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">This will give an idea of ​​the features that give Cloud, and help them navigate. </font><font style="vertical-align: inherit;">Good course on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linuxacademy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hand over to CKA: this is a difficult topic, but worth it. </font><font style="vertical-align: inherit;">Preparation for the exam will provide a huge package of knowledge.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Learn to program if you do not know how. </font><font style="vertical-align: inherit;">Now I went to study the front and am amazed at how everything has changed. </font><font style="vertical-align: inherit;">My knowledge ended somewhere in 2012 or even earlier, back in jQuery, people laugh. </font><font style="vertical-align: inherit;">The front has now become more complicated than the backend, there is a huge amount of application logic and at the same time paradigms that are completely unusual for me. </font><font style="vertical-align: inherit;">Very interesting!</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And I’m a little more regular than the blog here, I keep </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my telegram channel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , subscribe :-)</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499086/index.html">Dask Home Cluster</a></li>
<li><a href="../en499088/index.html">Flexible markup without media queries: min (), max (), clamp () functions</a></li>
<li><a href="../en499090/index.html">Complication of console commands, 1979−2020</a></li>
<li><a href="../en499092/index.html">Reference model BIAN. What new and useful for the corporate architecture of the bank does it offer?</a></li>
<li><a href="../en499096/index.html">Fuzzy logic in beautiful pictures. Response surfaces for different membership functions</a></li>
<li><a href="../en499104/index.html">IoT to your wounds: why the Internet of things is most welcome in the era of coronavirus</a></li>
<li><a href="../en499106/index.html">Advanced HTML</a></li>
<li><a href="../en499108/index.html">Rust. Borrow checker through iterators</a></li>
<li><a href="../en499110/index.html">The Big Brother is trying to serve the good. How data collectors and program companies are involved in the fight against coronavirus</a></li>
<li><a href="../en499112/index.html">Advanced resource authorization system in Laravel. Part 3. Reading / writing attributes, own models</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>