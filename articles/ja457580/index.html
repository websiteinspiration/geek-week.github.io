<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤜🏾 🛒 🐪 JavaScript：単純なMEVNアプリケーションの作成 🐥 🔈 ♿️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="記事の内容はなんですか
 この記事の目的は、基本的なMEVNアプリケーションを作成する方法を示すことです。頭字語MEVN 
 は、MongoDB + Express.js + Vue.js + Node.jsの略です。例として、
 複数のテキスト
 フィールドで構成されるフォームを含む1ページのアプ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>JavaScript：単純なMEVNアプリケーションの作成</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457580/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事の内容はなんですか</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事の目的は、基本的なMEVNアプリケーションを作成する方法を示すことです。</font><font style="vertical-align: inherit;">頭字語MEVN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
は、MongoDB + Express.js + Vue.js + Node.jsの略です。</font><font style="vertical-align: inherit;">例として、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複数のテキスト</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フィールドで</font><font style="vertical-align: inherit;">構成されるフォームを含む1ページのアプリケーション</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">作成し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">フォームに入力してデータを送信すると、サーバーはそれらをデータベースに書き込み</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、クライアントを「ありがとう」ページにリダイレクトします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オペレーティングシステムとしてUbuntu 18.10が使用されています。すべてのコンポーネントのインストールは</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、それに対して相対的に示されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要な要件</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML、CSSの知識;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScriptの基本的な知識。</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出口にあるもの</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本格的なFullstackアプリケーション。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Express.jsを使用したCRUD操作とREST API。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDBに接続します。</font></font></li>
</ul><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワークスペースの準備</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションの開発を開始するには、いくつかのツールをインストールする必要があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクト全体の基礎はNode.jsとそのNPMパッケージマネージャーです。</font><font style="vertical-align: inherit;">Node.jsは</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript </font><font style="vertical-align: inherit;">ランタイム</font><font style="vertical-align: inherit;">環境であり、その環境には</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、JavaScriptで記述され</font><font style="vertical-align: inherit;">たプログラムを実行するために必要なすべてが含ま</font><font style="vertical-align: inherit;">れています。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらからインストールできます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリーンショットに</font><font style="vertical-align: inherit;">示されているように、「安定」バージョンを選択する必要</font></font><br>
<br>
<img src="https://lh6.googleusercontent.com/LVUbea-6pxKlD6j_8thlg29Mvut08PzmxSs5uHP0CvnM-i8Za8IRL0hphKs6bUynBZ8qEQVAaXp9y_9DZytccnNa0W5jnvo-kr3mRSOzQ7MiqHnE7B-kpnp6-l5-HXMuD9IwXLI" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
があります。NVM（ノードバージョンマネージャー）を使用することもできます。これは、Node.jsのバージョン管理に便利なツールです。</font><font style="vertical-align: inherit;">次のコマンドでターミナルからインストールできます：</font></font><br>
<br>
<pre><code class="bash hljs">env VERSION=`python tools/getnodeversion.py` make install DESTDIR=`nvm_version_path v<span class="hljs-variable">$VERSION</span>` PREFIX=<span class="hljs-string">""</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、nvm use * version *を実行します。次に例を示します。</font></font><br>
<br>
<pre><code class="bash hljs">nvm use 10
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これでNode.jsがインストールされました。これを確認するには、node -vコマンドを使用します。</font></font><br>
<br>
<pre><code class="bash hljs">node -v<font></font>
&gt; 10.14.2<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次はMongoDBです。</font><font style="vertical-align: inherit;">このDBMSはNoSQLとして分類され、JSONのようなドキュメントとデータベーススキーマを使用します。</font></font><br>
<br>
<img src="https://lh6.googleusercontent.com/IHEUkwZfElwvH67iVktqA_teQRmXfh8ad_XrLRPKu8dr8S60HRcKfZkLYPdvG6NMOzjCCAMSp6F3EphBX8fb7q-aCjWaJQDrs3YSkZmHZmeyopQfJDbr0qx0x4rlKtcL6AstTio" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストールするには、一連のコマンドを実行する必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4<font></font>
<font></font>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/4.0 multiverse"</span> | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list<font></font>
<font></font>
sudo apt-get update<font></font>
<font></font>
sudo apt-get install -y mongodb-org<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MongoDBをインストールすると、次のようにバックグラウンドで実行できます。</font></font><br>
<br>
<pre><code class="bash hljs">sudo systemctl start mongod
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vue.jsは、ユーザーインターフェイスを作成するためのフロントエンドフレームワークです。 Vueは、単一ページアプリケーション（SPA）の作成に完全に適しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vue.jsを使用するには、公式のCLI（コマンドラインインターフェイス）があります。これは、Vue.jsでの迅速な開発のための完全なシステムです。これは、プロジェクトをインタラクティブに作成する機会を提供するだけでなく、フレームワークを操作するための更新および最適な設定を行う機能を提供します。 -g（グローバル）フラグを指定してNPMを使用してインストールできます。これにより、依存関係がグローバルにインストールされ、特定のプロジェクトの外部で使用できるようになります。グローバルに：</font></font><br>
<br>
<pre><code class="bash hljs">npm install -g @vue/cli
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、DBMS MongoDBとNode.js + NPMがインストールされたので、引き続きテキストエディターを決定します。</font><font style="vertical-align: inherit;">VS Codeをテキストエディタとして使用します。</font><font style="vertical-align: inherit;">Sublime、Atom、Notepad ++など、好みに合わせて任意のエディターを選択できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトの初期化</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいVue.jsアプリケーションを作成するには、以前にインストールしたVue CLIを使用します。</font><font style="vertical-align: inherit;">createコマンドは、vue create * app_name *のようになります。</font></font><br>
<br>
<pre><code class="bash hljs">vue create mevn-app
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいアプリケーションの設定を構成できるインターフェイスがターミナルに表示されます。</font><font style="vertical-align: inherit;">詳細な設定について「手動で機能を選択」を選択し、次のリストを作成します。</font></font><br>
<br>
<img src="https://lh3.googleusercontent.com/wtzjnqmRztmVWLd8r4eNG4tJsJVI-T-e2irElOFklFV0WYyvgyM738scLsQyVQzpwAzAN8BY4OvgfzLhV6CtvvOJfMiitVwQA3vOt6iSckzKH-8UAe60bpsiZAizWpXt_hMZj3c" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションの生成が完了すると、同様のメッセージが表示され</font></font><br>
<br>
<img src="https://lh4.googleusercontent.com/mFieSeJ-DNjfyWwda_stOx1p0I8n9lLOIkcW-N3hGyCvZSvF8wQqK4ca73MJVwKvN-AjBHbQD2vZ8iTi6B5VGC63-la5mIdMHoClhUzPw4j9cxFw-t9BJ094-M4wEuGvUNSMQxo" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。上記のnpm run serveコマンドを使用してアプリケーションを起動し、Vue CLIが生成したものを確認できます。</font></font><br>
<br>
<img src="https://lh6.googleusercontent.com/2CgDnBRbJz_HTOYUQe6wxCJipk4p5dypZH3toMthql4VIeYYK-Ujivg30PJJcW94dMRYZcSM9QYzLxdlGmGsU6LnLQ98m-MVoqHaOGo4szyrPP5T5DYmy8Gnxlf6zPRnI43dS_0" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この開始ページにVueルーター機能があります（上部の2つのリンク）、インストール済みのCLIプラグイン、ドキュメント、Vueエコシステムプロジェクト、ソーシャルネットワークへのリンク。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、作成されたプロジェクトの階層は次のようになります。</font></font><br>
<br>
<img src="https://lh5.googleusercontent.com/OucrSInemeeX2x7yyV4iv2jSCHvkieatn-z3_wojH6nleGTXoqtMR216nw63O3kssfPCnYaKYmmZ5yEfqORMkcW9NVooTMCPunUZCt_2th5AjDfg7BgnS3llJMu1JQSFWtjkh5c" alt="画像"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">node_modules-プロジェクトが機能するために必要なインストール済みの依存関係のディレクトリ </font><font style="vertical-align: inherit;">通常、gitではインデックス化されていません。</font><font style="vertical-align: inherit;">ボリュームが非常に大きくなることがあります。</font></font></li>
<li>package.json —    ,       node_modules.       (, , ),    NPM,     ,      node_modules.     “dependencies” (   )  “devDependencies” (,   ). ..       ,        ,    npm i.     node_modules,     npm i   :      ,    package.json.</li>
<li>package-lock.json —     .   ,      .     ,      package-lock.json. , ,  bootstrap        jquery. Jquery     package.json,    ,   bootstrap, ..     jquery  “dependencies”    bootstrap.</li>
<li>babel.config.js —  ,   (),   Babel ,    . Babel —   .   JavaScript  ,   ,      .            ,       .     Babel:         ,   . ..      , ,  Babel,    .       — '@vue/app'.</li>
<li>postcss.config.js —   PostCSS.   - CSS,     CSS   , ,   ,        .    Vue CLI        ,    . </li>
<li>browserslist.rc — , ,      .   ,   2  ,   5%    ,  Internet Explorer  8  .</li>
<li>README.md —     ,   Markdown —   ,           . ,       ,     ,     ..</li>
<li>src (source) — ,     .     ,    assets/,    scss/css, js, ,   .. Vue.js  Webpack  :  ,     ,      vendor.js   dist/.      .gitignor, ..       .   node_modules, dist/       NPM.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public-完成したアプリケーションを生成するための基本的なhtmlテンプレートと、通常はそのアイコン（favicon.ico）を含むディレクトリ。</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発の開始（フロントエンド）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vue CLIを使用するため、コードを個別のhtml、css、jsに分割する代わりに、vueファイルが作成されます。</font><font style="vertical-align: inherit;">これには奇妙なことは何もありません。vueファイルは次の構造を意味します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><font></font>
  * HTML *<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><font></font>
  * JavaScript *<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><font></font>
  * Stylesheet *<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、Vueコンポーネントをより便利に設計するために行われ、単なる構文上の砂糖です。このフォーマットのファイルで、Babelによって処理されて、本番環境にリリースされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
src /ディレクトリーには、Vueコンポーネントに加えて、main.jsおよびrouter.jsファイルもあります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
main.jsで、Vueは必要なすべてのパッケージをインポートしてから、新しいVueインスタンスを作成し、Vueクラスメソッド-。$ Mount（ "＃app"）を使用して、仮想DOMレベルで指定された要素にマウントします。メソッド内では、ベースのhtmlテンプレートで指定されたhtml要素のIDを含む行を指定する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
router.jsで、Vueは、プロジェクトの作成時にVue CLIがインストールしたvue-routerパッケージと、ルーティングに関連するすべてのコンポーネントをインポートします。</font><font style="vertical-align: inherit;">ルーティングは、インスタンスを作成するときに、引数としてオブジェクトの配列をルータークラスに渡すことによって行われます。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">new</span> Router({
  <span class="hljs-attr">routes</span>: [<font></font>
   {<font></font>
     <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
     <span class="hljs-attr">name</span>: <span class="hljs-string">'home'</span>,
     <span class="hljs-attr">component</span>: Home<font></font>
   },<font></font>
   ...<font></font>
  ]<font></font>
)<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のステップは、App.vueからデフォルトのVueスタイルを削除することです。</font><font style="vertical-align: inherit;">次に、HelloWorld.vueとともにコンポーネント/ディレクトリを削除する必要があります。これらは不要になります。</font><font style="vertical-align: inherit;">ディレクトリとコンポーネント自体に加えて、views / Home.vue内のインポートを削除する必要があります</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"home"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Vue logo"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"../assets/logo.png"</span>&gt;</span>
-    <span class="hljs-tag">&lt;<span class="hljs-name">HelloWorld</span> <span class="hljs-attr">msg</span>=<span class="hljs-string">"Welcome to Your Vue.js App"</span>/&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
- <span class="hljs-keyword">import</span> HelloWorld <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/HelloWorld.vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 <span class="hljs-attr">name</span>: <span class="hljs-string">'home'</span>,
 <span class="hljs-attr">components</span>: {
-    HelloWorld
 }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、いくつかのリンクとその表現のみがアプリケーションから残されます。</font><font style="vertical-align: inherit;">これらのページのコンテンツも不要ですが、削除する必要はありません。変更するだけですが、最初にルーティングファイル</font><i><font style="vertical-align: inherit;">router.js</font></i><font style="vertical-align: inherit;">を編集する必要があります</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> Router <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">'./views/Home.vue'</span>
+ <span class="hljs-keyword">import</span> Thanks <span class="hljs-keyword">from</span> <span class="hljs-string">'./views/Thanks.vue'</span><font></font>
<font></font>
Vue.use(Router)<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> Router({
 <span class="hljs-attr">routes</span>: [<font></font>
   {<font></font>
     <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
     <span class="hljs-attr">name</span>: <span class="hljs-string">'home'</span>,
     <span class="hljs-attr">component</span>: Home<font></font>
   },<font></font>
-    {<font></font>
-      path: <span class="hljs-string">'/about'</span>,<font></font>
-      name: <span class="hljs-string">'about'</span>,<font></font>
-      component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: "about" */</span> <span class="hljs-string">'./views/About.vue'</span>)<font></font>
-    }<font></font>
+    {<font></font>
+      path: <span class="hljs-string">'/thanks'</span>,<font></font>
+      name: <span class="hljs-string">'thanks'</span>,<font></font>
+      component: Thanks<font></font>
+    }<font></font>
 ]<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ルーティングシステムに依存してコンポーネントに渡します。</font><font style="vertical-align: inherit;">新しいThanksコンポーネントが必要です。</font><font style="vertical-align: inherit;">新しいものを作成する代わりに、About.vueを編集して名前をThanks.vueに変更します。views </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ About.vue&gt; views / Thanks.vue：</font></font></i><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
-  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"about"</span>&gt;</span>
+  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"thanks"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Thank you for your record!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、Home.vueを変更します。名前、電子メール、住所、性別などのデータを送信するフォームを追加し</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。views/ Home.vue：</font></font></i><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"home"</span>&gt;</span>
-    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Vue logo"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"../assets/logo.png"</span>&gt;</span>
+    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> @<span class="hljs-attr">submit.prevent</span>=<span class="hljs-string">"sendData"</span>&gt;</span>
+      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
+      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
+      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"email"</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span>&gt;</span>
+      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
+      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"address"</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"address"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"address"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
+      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
+      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"gender"</span>&gt;</span>Gender<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Male <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"male"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
+        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Female <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"female"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
+      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
+      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"send"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Send"</span>&gt;</span>
+    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'home'</span>,
-   components: {}
+   data: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
+     <span class="hljs-keyword">return</span> {
+       name: <span class="hljs-string">''</span>,
+       email: <span class="hljs-string">''</span>,
+       address: <span class="hljs-string">''</span>,
+       gender: <span class="hljs-string">''</span>,
+     
+   },
+   methods: {
+     sendData() {
+       <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.email, <span class="hljs-keyword">this</span>.address, <span class="hljs-keyword">this</span>.gender);
+     
+   
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
+ <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><font></font>
+   .form-control {<font></font>
+     padding: 5px;<font></font>
+   } <font></font>
+   .form-control label {<font></font>
+     display: block;<font></font>
+   <font></font>
+   .send {<font></font>
+     margin: 5px<font></font>
+   <font></font>
+ <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誤解を招く可能性がある最初のことは、@ submit.prevent = "sendData"です。</font><font style="vertical-align: inherit;">Vueでは、イベントはv-on：属性を使用して聞こえますが、この属性は開発中に頻繁に使用されるため、その省略形@が発明されました。</font><font style="vertical-align: inherit;">それら。</font><font style="vertical-align: inherit;">この行はv-onとして表すことができます：submit.prevent = "sendData"。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが一般的に何を意味するか見てみましょう：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v-onまたは@は、イベントをリッスンするようにVueに指示します。 </font></font></li>
<li>submit —     (submit    .  ,     click,    — input  change); </li>
<li>.prevent —  ,   js- preventDefault(),       —   , .     —      ,   .    ,  .stop (   ), .once (    )  .</li>
<li>sendData —  (  ),      .    ,   ()        ,    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、各入力にはv-model属性があります。フォーム要素（input、select、textarea）をデータと双方向にバインドします。つまり、v-model = "someText"である入力に書き込まれた値は、someTextデータプロパティが存在する場合、すぐに書き込まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エクスポートされたオブジェクトでは、componentsプロパティを削除します。 Home.vueには子コンポーネントはありませんが、dataメソッドを追加します。データにはVueデータオブジェクトが含まれます。データの値をデータ付きのオブジェクトとして単に書き込むことはできないことに注意してください。値を返す関数として値を書き込む必要があります。これはVueコンポーネントの機能です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの場合、データは入力値の名前、メール、住所、性別です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データに加えて、データを操作するためのすべてのメソッドを含むメソッドプロパティが表示されています。そこに記述されているメソッドは、sendDataの1つだけです。これはフォームの送信に関連付けられており、現時点ではコンソールに入力値を表示するだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、コンポーネントの最後の部分はスタイルです。スタイルはフォームが正しく表示されるようにここに記述されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでアプリケーションを開きましょう。私たちの前には、「送信」ボタンを使用してデータを送信する必要のあるフォームがあります。</font></font><br>
<br>
<img src="https://lh3.googleusercontent.com/05o6HnTKnrpJeqyh5n-z0B_XMHHCcK80FKW-FflwKI37WMZAyxLDphFOrwvU_VfkbLo4O3_n6klRTQMBAMUyZkJSF6WdoalZADA_tG3JZ0csi_1L-dTo8xmDD2edX68biacbtMw" alt="画像"><br>
<br>
<img src="https://lh3.googleusercontent.com/cSVfP3EqZmgvAf-PnUcz89tNmq64Z3S-u1ZrTn55hKDgIWNRLr8gHJILBeg_VzdlAgZmDd9kWw-Mm_0f7Gft0ciItuu7Wq2KlPRjOyynFCvNriDFaEo9dIVvUi0is2UYJLsmAuA" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
送信すると、ページは再読み込みされず、フォームの値はリセットされません。ブラウザコンソールを確認する時が来ました（Ctrl + Shift + I）：</font></font><br>
<br>
<img src="https://lh5.googleusercontent.com/OWrwITZ3dyG6PMXaKCa0G3YDAEp71IDOFC09aEU7zXy-6XOVDOgymkSfAuG51PkgrW_KL-l8mHzjf5mxG1p6E0ARmXc7RLw2B0PimSDjPNS1wi-UgPGRdK76mOJ4KyZcLRTBCWg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンソールに同じことが表示され、指定した値のみが表示されている場合-おめでとうございます。最初の本格的なVueアプリケーションを作成しました。</font><font style="vertical-align: inherit;">そうでない場合は、各ステップの正しさを確認して、肯定的な結果を得る必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
とりあえず、Vueアプリケーションはそのままにして、Node.jsでサーバーを開発して、アプリケーションでデータを交換できるようにしましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">継続的な開発（バックエンド）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、サーバー操作に必要なnpmパッケージをインストールする必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">npm install -S express morgan mongoose
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-Sスイッチは、npmにこれらのパッケージを依存関係配列の要素としてpackage.jsonに追加するように指示します。</font><font style="vertical-align: inherit;">出力は同様のメッセージになります：</font></font><br>
<br>
<img src="https://lh6.googleusercontent.com/Z6cmVcW1qmwcYiGFdi_KyOO9VK6Tpvn0G7F-rVY3tq5jWteokEszsfMzFz_LTFwMiInfUkcgMFbK_mPpJD1G_r7nnsigAYhJERB2UOfryOnKdKWeS8izZ4nPfFadLrrsDXzXOxY" alt="画像"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Express.jsは、WebアプリケーションとAPIを作成するために設計されたNode.js用のWebアプリケーションフレームワークです。</font><font style="vertical-align: inherit;">これは最小限のものであり、多数のプラグインが含まれています。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Morgan-サーバーへのHTTPリクエストを記録するためのパッケージ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mongooseは、Node.jsで作成されたMongoDBのORM（オブジェクトリレーショナルマッピング）です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、プロジェクトルートに別のディレクトリを追加します。次の階層のサーバーです</font></font><br>
<br>
<img src="https://lh4.googleusercontent.com/VLjGc952NcZI5h0fhCztAkFG9sjhAvNu_tXHTENDjPPj1zsHt1RekxAk4LDRIXQQYSaV7hxVWoMCVGZj8Wh-Mr0sZNRfOaNWb9-VH-4MFBs6iwdKvrhGIO3mLuwHBH8DzD99a1M" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。server.js-これはNode.jsサーバーであり、Node環境を使用して起動されます。</font><font style="vertical-align: inherit;">ここに簡単なコードを記述してNodeを試すことができ</font><i><font style="vertical-align: inherit;">ます。</font></i><font style="vertical-align: inherit;">例：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server / server.js</font></font></i><br>
<pre><code class="javascript hljs"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hello, world!'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、プロジェクトのルートからnodeコマンドを使用してserver.jsを起動し、ファイルへのパスとその名前を指定します。</font></font><br>
<br>
<pre><code class="bash hljs">node server/server.js<font></font>
&gt; Hello, world!<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
server.jsファイルをクリアして開発を開始します。</font><font style="vertical-align: inherit;">まず、以前にインストールされたすべてのパッケージ（express、morgan、mongoose）をインポートし、Expressアプリケーションを初期化します：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server / server.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">+ <span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);<font></font>
+ <span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mongoose'</span>);<font></font>
+ <span class="hljs-keyword">const</span> morgan = <span class="hljs-built_in">require</span>(<span class="hljs-string">'morgan'</span>);<font></font>
+ <span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);<font></font>
+<font></font>
+ <span class="hljs-keyword">const</span> app = express();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでにconst：constに遭遇したことがない場合は、2つの変数宣言ステートメントの1つ（2番目のlet）がES6標準であるvarに置き換わりました。その特徴は、変数に割り当てられた値を変更できないことです。さらに変数値を持つ変数の場合は、letを使用することをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
require（）はNode.js環境の関数であり、さまざまなモジュール（ネイティブとnpmの両方）を接続する機能を実装しています。パスパッケージはインストールしなかったが、インポートしたことに注意してください。これはすでに環境依存関係に含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
const app = express（）-Expressアプリケーションの初期化。次に、app変数を操作します。これがサーバーになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Expressアプリケーションの設定を行う必要がありますが、小さいため、設定する必要があるパラメーターは1つだけです。ポートです。たとえば、値3000（または使用可能な任意のポート）を取ります。ポートのリスニングを開始した後、つまりサーバーを起動します：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server / server.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">...<font></font>
+ app.set(<span class="hljs-string">'port'</span>, <span class="hljs-number">3000</span>);<font></font>
+ <font></font>
+ app.listen(app.get(<span class="hljs-string">'port'</span>), () =&gt; {<font></font>
+    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`[OK] Server is running on localhost:<span class="hljs-subst">${app.get(<span class="hljs-string">'port'</span>)}</span>`</span>);<font></font>
+ });<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
setメソッドは、指定されたプロパティを指定された値で指定されたオブジェクトに追加するだけです。これは、getメソッドでプロパティ名にアクセスすることで取得できます。これは、アプリケーションをリッスンするように設定した場合の動作です。app.get（ 'port'）は、以前に設定された値3000を返します。ポートを受信すると、矢印のコールバック関数が実行されます。これまでにアロー関数に遭遇したことがない場合：アロー関数は（）=&gt; {}として示され、関数（）{}とほぼ完全に類似していますが、1つを除いて：アロー関数は（this）関数を呼び出すためのコンテキストとしてグローバルオブジェクトを持っています（グローバルNode.js環境とブラウザ環境のウィンドウ）、および通常の機能自体、つまり関数この状況では、矢印関数は記録を単純化します。これは決して使用しません。そう、コールバック関数として、サーバーがlocalhost：3000で実行されていることを示すメッセージがコンソールに単純に実行されます。文字列内に$ {...}を書き込むと、計算された値を挿入できます。この例では、app.get（）関数の戻り値です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブラウザでlocalhost：3000アドレスを開くと、「Cannot GET /」というメッセージが表示されます。これは、サーバーが起動し、正常に動作していることを意味します。後で、このメッセージの代わりにVue.jsアプリケーションを表示しますが、ここではMongoDBデータベースとミドルウェアへの接続を確立します：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server / server.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">...<font></font>
app.set(<span class="hljs-string">'port'</span>, <span class="hljs-number">3000</span>);<font></font>
+ <font></font>
+ mongoose.connect(<span class="hljs-string">'mongodb://localhost:27017/mevn-course'</span>, { <span class="hljs-attr">useNewUrlParser</span>: <span class="hljs-literal">true</span> })<font></font>
+    then(<span class="hljs-function"><span class="hljs-params">db</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'[OK] DB is connected'</span>))<font></font>
+    <span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-built_in">console</span>.error(err));<font></font>
+ <font></font>
+ app.use(express.json());<font></font>
+ app.use(express.urlencoded({<span class="hljs-attr">extended</span>: <span class="hljs-literal">false</span>}));<font></font>
+ app.use(morgan(<span class="hljs-string">'dev'</span>));<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mongoose.connect（）はデータベースに接続します。 MongoDB自体に再度接続する前に、MongoDB自体をアクティブにする必要があることに注意してください。このメソッドには2つのパラメーターが渡されます。ベースアドレスと、オブジェクトの形式の一連の設定です。私たちの場合、これは文字列「mongodb：// localhost：27017 / mevn-course」とオブジェクト{useNewUrlParser：true}です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
useNewUrlParserは、MongoDBバージョン3.1.0以降での作業に使用されます。何らかの理由で3.1.0より前のバージョンを使用している場合は、このパラメーターを指定しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
.thenと.catchは、それぞれ履行と失敗時にPromiseを返すメソッドです。これらのメソッド内でコールバック関数が呼び出され、.thenの場合はPromiseの結果としてデータベースオブジェクトdbが返され、.catchの場合はエラーが返されます。これらの方法はどちらも、接続の成功またはエラーに関する情報をコンソールに出力します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
app.use（）を使用すると、アプリケーションにミドルウェアがインストールされます。これらは、要求オブジェクト（req）、応答オブジェクト（res）、およびアプリケーションの「要求-応答」サイクルの次の中間処理関数（次）にアクセスできる関数です。ミドルウェアとして、データ要求（この場合はjsonとurlencoded）に付属するExpressに組み込まれたパーサーと、「dev」パラメーターを使用して以前にインストールされたmorganパッケージを使用します。これは、「開発」モードでのロギングを意味します。これでサーバーは、jsonおよびurlencoded形式のリクエストを含む着信データを受信し、すべての着信リクエストをログに記録できます。アプリケーションを再度実行します</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。nodeserver / server.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">&gt; [OK] Server is running on localhost:<span class="hljs-number">3000</span><font></font>
&gt; [OK] DB is connected<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、ブラウザーでlocalhost：3000アドレスにアクセスすると、すべての要求がコンソールに記録されます。この場合は、GET要求です</font></font><br>
<br>
<img src="https://lh6.googleusercontent.com/tv0X08K4bS6AmSqhFVtPpTfXKDZyocelnKKVvEl-Nppl-UapJchIZ3xFX4h7lk2F-KKy1oyJL5gdkqYXEI4df4PQxq_GRkg0AbcCQS1oYA3NJUM7xWZcXqvebrdLO747xOqCHis" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。Recordモデルを開発しましょう。これは、データを目的の形式でデータベースに送信するために必要です（この形式はスキーマと呼ばれます）。 Vueアプリケーションからのフォームは、名前、電子メール、アドレス、および性別を送信します。これらはすべて文字列として表すことができます。したがって、データベース内のレコードには、「文字列」タイプの4つのフィールドが含まれている必要があります。モデルを作成する：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server / models / Record.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">+ <span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mongoose'</span>);<font></font>
+ <span class="hljs-keyword">const</span> { Schema } = mongoose;<font></font>
+ <font></font>
+ <span class="hljs-keyword">const</span> Record = <span class="hljs-keyword">new</span> Schema({<font></font>
+    name: <span class="hljs-built_in">String</span>,<font></font>
+    email: <span class="hljs-built_in">String</span>,<font></font>
+    address: <span class="hljs-built_in">String</span>,<font></font>
+    gender: <span class="hljs-built_in">String</span>,<font></font>
+ });<font></font>
+ <font></font>
+ <span class="hljs-built_in">module</span>.exports = mongoose.model(<span class="hljs-string">'Record'</span>, Record);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mongooseパッケージをインポートして、Schema変数をmongooseパッケージのSchemaクラスの値に設定します。 「const {Schema} = mongoose」という表記は、ES6では分解と呼ばれ、「const Schema = mongoose.Schema」と同等です。次に、Schemaクラスのインスタンスが作成されます。そのパラメーターは、レコードプロパティの名前とそのデータ型を持つオブジェクトです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「Module.exports = ...」はエクスポートエントリです。それら。このモジュールをインポートすると、インポートの結果はmongoose.model（ 'Record'、Record）になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルが作成されたら、APIルーティングファイルを作成する必要があります。 RESTは、コンポーネントの相互作用のアーキテクチャスタイルとして使用されます。 REST APIは、開発者がリクエストを作成し、回答を受け取ることができる一連の関数を定義します。対話はHTTPプロトコルを介して行われます。 REST API呼び出しメソッドはCRUD（作成、読み取り、更新、削除）方法論です。 GET、POST、PUT、DELETE。コードをルーティングファイルに追加します：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server / models / Record.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">+ <span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);<font></font>
+ <span class="hljs-keyword">const</span> router = express.Router();<font></font>
+ <font></font>
+ <span class="hljs-keyword">const</span> Record = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../models/Record'</span>);<font></font>
+ <font></font>
+ router.get(<span class="hljs-string">'/'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {<font></font>
+    res.json(<span class="hljs-keyword">await</span> Record.find());<font></font>
+ });<font></font>
+ <font></font>
+ router.post(<span class="hljs-string">'/'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {<font></font>
+    <span class="hljs-keyword">const</span> record = <span class="hljs-keyword">new</span> Record(req.body);<font></font>
+    <span class="hljs-keyword">await</span> record.save();<font></font>
+    res.json({<span class="hljs-attr">state</span>: <span class="hljs-string">'success'</span>});<font></font>
+ });<font></font>
+ <font></font>
+ router.get(<span class="hljs-string">'/:id'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {<font></font>
+    res.json(<span class="hljs-keyword">await</span> Record.findById(req.params.id));<font></font>
+ });<font></font>
+ <font></font>
+ router.put(<span class="hljs-string">'/:id'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {<font></font>
+    <span class="hljs-keyword">await</span> Record.findByIdAndUpdate(req.params.id, req.body);<font></font>
+    res.json({<span class="hljs-attr">state</span>: <span class="hljs-string">'updated'</span>});<font></font>
+ });<font></font>
+ <font></font>
+ router.delete(<span class="hljs-string">'/:id'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {<font></font>
+    <span class="hljs-keyword">await</span> Record.findByIdAndRemove(req.params.id);<font></font>
+    res.json({<span class="hljs-attr">state</span>: <span class="hljs-string">'deleted'</span>});<font></font>
+ });<font></font>
+ <font></font>
+ <span class="hljs-built_in">module</span>.exports = router;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Expressパッケージをインポートし、ルーターオブジェクトを作成します。</font><font style="vertical-align: inherit;">データベースと対話するために、レコードモデルモジュールもインポートします。</font><font style="vertical-align: inherit;">以下では、ルーティングについて簡単に説明します。</font><font style="vertical-align: inherit;">async / await構文は、非同期コードを作成する比較的新しい方法です。</font><font style="vertical-align: inherit;">以前は、コールバック関数とpromiseを使用して同様のコードが記述されていました。</font><font style="vertical-align: inherit;">async / awaitのおかげで、非同期コードは同期コードに似たものになり、その動作には、さまざまな理由で使用の約束が不便な状況で非常に役立つコードの機能があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
代わりに：</font></font><br>
<br>
<pre><code class="javascript hljs">router.get(<span class="hljs-string">'/'</span>, req, res) =&gt; {<font></font>
  res.json(Record.find()<font></font>
    .then(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> data;<font></font>
    }));<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我々は持っています：</font></font><br>
<br>
<pre><code class="javascript hljs">router.get(<span class="hljs-string">'/'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {<font></font>
  res.json(<span class="hljs-keyword">await</span> Record.find());<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
.get（）、. post（）、. put（）、. delete（）などのルーターメソッドを使用すると、特定のリクエストの処理方法をサーバーに理解させることができます。メソッドの内部には、非同期に実行されるコールバック関数があり、2つのパラメーターreq-要求オブジェクトとres-応答オブジェクトがあります。 POSTメソッドを除くすべてのメソッドで、データベースは、find（）、findById（）、findByIdAndUpdate（）、findByIdAndRemove（）などのRecordモデルのメソッドを使用して非同期的にアクセスされます。次に、サーバーからの応答がJSON形式で返されます（例：res.json（{state： 'success'}））。 POSTメソッドの処理は異なります。最初に、Recordクラスのインスタンスが作成されます。そのパラメーターは、Vueアプリケーションからの要求本体です。次に、インスタンスは、save（）メソッドを使用してデータベースに非同期で保存され、その後、応答はフォーマットで送信されます。 JSONまた、最後の3つのクエリに注意してください：get、put、delete-それらが持っているアドレス：id。これは、「/」の後のアドレスに書き込まれるすべてがreq.params.idの値として使用可能であり、文字列として提示されることを意味します。 IDでアクセスできます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく問題が発生します。スキーマにフィールド名、電子メール、住所、性別のみが含まれている場合、データベースのレコードにアクセスするIDはどれですか。回答：MongoDB自体が各レコードの識別子を作成し、_idという名前になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルとルーティングが記述されていますが、目的のモジュールをserver.jsにインポートするためだけに残っています：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server / server.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">...<font></font>
app.use(morgan(<span class="hljs-string">'dev'</span>));<font></font>
+ <font></font>
+ app.use(<span class="hljs-string">'/api/records'</span>, <span class="hljs-built_in">require</span>(<span class="hljs-string">'./routes/records'</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このエントリは、記述したルーティングが/ api / recordsで始まることを意味します。つまり、新しいエントリを追加するには、有効なデータ（名前、電子メール、アドレス、性別）を含む本文を含むPOSTリクエストを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：3000 / api / records </font><font style="vertical-align: inherit;">に送信する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーが動作していることを確認します-サーバーを実行してAPIをテストします。これにはPostmanを使用します。これは完全なAPIテストツールです。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">localhost</font></a><font style="vertical-align: inherit;">：3000 / api / records </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
でのGETリクエスト</font><font style="vertical-align: inherit;">は、空の配列を返すようになりました。</font><font style="vertical-align: inherit;">
この場合、同じアドレスでPOSTリクエストを実行します。本文では、データベースに書き込むための有効なデータを示します。</font><font style="vertical-align: inherit;">
サーバーからの応答はJSON形式であることがわかります私たちが指摘したように、このメッセージ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://lh4.googleusercontent.com/kKN3SkOgJkY1tC-iXqrwdzUJ6P5klY47X6Oyvrp3B6Ontxrzsurh2BPPbtkDFTl7gviU9l12bwfs-XmDcNDrgHnTKTL0E3wm8Zf0TSfeT3skkFfyC9tKXxiJmLcBDep2zJYIwnY" alt="画像"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://lh4.googleusercontent.com/rWW1boMrnyKzajtNCohbqQMgbn6w1ovYMKmsRQTm3Ahz2Cg692HPkWHf67Wv0s5lvD6cs4SQse4Aw8An_BKsP2Ozs5vG4SUrZgWUa4y3FbljWWw-DeS3A9si9Pc9KGFxjuLXyPg" alt="画像"><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{「状態」：「成功」}。</font><font style="vertical-align: inherit;">前のGET要求を再度実行し</font></font><br>
<br>
<img src="https://lh3.googleusercontent.com/SM3pvg7U9ajmj2Cj0X7p0IE_VoZ79_-Gcni1usyxWIfrHGYSsjdtzWyG6RCUurDHxbr-AeTJiipHIdg4sRtUDthrI4kGJy8KLYi85TnIxs6kkx43nVq081_pmnGQiSQTcYkpd5o" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">すべて</font><font style="vertical-align: inherit;">が判明</font><font style="vertical-align: inherit;">したので、データに対する残りの操作（UPDATE、DELETE、またはGET 1）を個別にテストできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バックエンド部分の開発は終わりました、それは最後の仕上げをするために残ります</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：3000 / </font><font style="vertical-align: inherit;">で表示する静的ファイルを指定します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">コードを追加します：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server / server.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">...<font></font>
app.use(<span class="hljs-string">'/api/records'</span>, <span class="hljs-built_in">require</span>(<span class="hljs-string">'./routes/records'</span>));<font></font>
+ app.use(<span class="hljs-string">'/'</span>, express.static(path.join(__dirname, <span class="hljs-string">'../dist'</span>)));</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">継続的な開発（フロントエンド）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vueアプリケーションに戻ると、相互作用できるAPIがあります。</font><font style="vertical-align: inherit;">したがって、時間を無駄にすることなく、以前に記述したsendDataメソッドを変更しますが、最初にnpmを使用して、axiosパッケージ-npm i -S axiosをインストールします。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビュー/ Home.vue</font></font></i><br>
<br>
<pre><code class="xml hljs">...
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
+ <span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>;
...
methods: {
+   <span class="hljs-keyword">async</span> sendData() {
-     <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.email, <span class="hljs-keyword">this</span>.address, <span class="hljs-keyword">this</span>.gender);
+     <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">await</span> axios({
+       url: <span class="hljs-string">'http://localhost:3000/api/records'</span>,
+       method: <span class="hljs-string">'post'</span>,
+       data: {
+         name: <span class="hljs-keyword">this</span>.name,
+         email: <span class="hljs-keyword">this</span>.email,
+         address: <span class="hljs-keyword">this</span>.address,
+         gender: <span class="hljs-keyword">this</span>.gender
+       
+     }));
  }
}</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Axiosは、デフォルトのpromiseを使用するサーバーにリクエストを送信するためのクライアントライブラリです。ここでは、おなじみのasync / await構文を使用しています。オブジェクトはaxios関数に渡されます-オプションのセット（url、メソッド、データ）。メソッドが実行されると、リクエストが送信されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、npm run buildコマンドを実行します。これにより、Vueは完成したアプリケーションを、サーバーの静的ファイルとして指定したdistディレクトリーにアセンブルします。</font></font><br>
<br>
<pre><code class="bash hljs">npm run build
</code></pre><br>
<img src="https://lh4.googleusercontent.com/l4j-sXAGJc8irL_RE3dYK0DmjPQnKl94OBZD39aKcMia6LDJlOLk82AAoP9VUi0j1LxXuIgddLVFO_p8p82hpQfSR7xLTRD_zM6kv9IXjUpgyd34ythwUFe7wUgjfQJtayevpiY" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、サーバーを再起動し、ブラウザーで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：3000 /に移動します。</font><font style="vertical-align: inherit;">まさに、Vueアプリケーションがここに表示されます。</font><font style="vertical-align: inherit;">フォームに記入し、[送信]をクリックしてデータを送信します。</font><font style="vertical-align: inherit;">コンソールを見てみましょう</font></font><br>
<br>
<img src="https://lh4.googleusercontent.com/hrk33ugolES8DgLIcEnWTfMO5538U3MqnW7sCK7VE2xBSr-t-eerCHmSyDQKdJGtxkaqDPBsKoKimyuNLS_rpQrVExobrPCA7UCehk8-eigm4UkcDMn-gH--cjyUsf6HjpdQspk" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。サーバーからの応答はデータとして返されます。</font><font style="vertical-align: inherit;">これは、レコードが追加され、アプリケーションが正常に機能することを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、アプリケーションの最後の仕上げを行います。フォームをお礼ページに送信するときにリダイレクトします。</font><font style="vertical-align: inherit;">感謝のページからメインのページに移動したり、ナビゲーションバーのリンクを削除したり、console.log（）を削除したりする機能：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">views / Thanks.vue</font></font></i><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"thanks"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Thank you for your record!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
+    router-link to="/"&gt;Home<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビュー/ Home.vue</font></font></i><br>
<br>
<pre><code class="javascript hljs">...<font></font>
async sendData() {<font></font>
-    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">await</span> axios({<font></font>
+    <span class="hljs-keyword">await</span> axios({
      <span class="hljs-attr">url</span>: <span class="hljs-string">'http://localhost:3000/api/records'</span>,
      <span class="hljs-attr">method</span>: <span class="hljs-string">'post'</span>,
      <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-keyword">this</span>.name,
      <span class="hljs-attr">email</span>: <span class="hljs-keyword">this</span>.email,
      <span class="hljs-attr">address</span>: <span class="hljs-keyword">this</span>.address,
      <span class="hljs-attr">gender</span>: <span class="hljs-keyword">this</span>.gender<font></font>
    }<font></font>
-   }));<font></font>
+   });<font></font>
+   <span class="hljs-keyword">this</span>.$router.push(<span class="hljs-string">'thanks'</span>);<font></font>
}<font></font>
...</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App.vue</font></font></i><br>
<br>
<pre><code class="xml hljs">...
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
-   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nav"</span>&gt;</span>
-     <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span> |<font></font>
-     <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/thanks"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
-   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vueアプリケーションは完全に準備が整っています。npmrun buildを使用してそれを収集し、サーバーを再起動し、操作性をチェックします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発完了（バックエンド）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各クライアントがそれぞれの新しいレコードをデータベースに追加したときに、サーバーが電子メールで通知を送信すると便利です。これを行うには、サービスを使用してNode.js-Nodemailerに手紙を送信します。インストール：npm install -S nodemailer。 Nodemailerがインストールされたので、server.jsに機能を追加します</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。server/ routes / records.js</font></font></i><br>
<br>
<pre><code class="javascript hljs">...<font></font>
const router = express.Router();<font></font>
+ <span class="hljs-keyword">const</span> nodemailer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'nodemailer'</span>);<font></font>
...<font></font>
router.post(<span class="hljs-string">'/'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">const</span> record = <span class="hljs-keyword">new</span> Record(req.body);
  <span class="hljs-keyword">await</span> record.save();<font></font>
+   <span class="hljs-keyword">const</span> output = <span class="hljs-string">`
+     &lt;p&gt;You have a new message from MEVN-course:&lt;/p&gt;
+     &lt;ul&gt;
+       &lt;li&gt;name: <span class="hljs-subst">${req.body.name}</span>&lt;/li&gt;
+       &lt;li&gt;email: <span class="hljs-subst">${req.body.email}</span>&lt;/li&gt;
+       &lt;li&gt;address: <span class="hljs-subst">${req.body.address}</span>&lt;/li&gt;
+       &lt;li&gt;gender: <span class="hljs-subst">${req.body.gender}</span>&lt;/li&gt;
+     &lt;/ul&gt;
+   `</span>;<font></font>
+   <span class="hljs-keyword">let</span> transporter = nodemailer.createTransport({<font></font>
+     host: <span class="hljs-string">'smtp.gmail.com'</span>,<font></font>
+     port: <span class="hljs-number">587</span>,<font></font>
+     secure: <span class="hljs-literal">false</span>,<font></font>
+     auth: {<font></font>
+       user: <span class="hljs-string">'your_email@gmail.com'</span>,<font></font>
+       pass: <span class="hljs-string">'your_password'</span><font></font>
+     <font></font>
+   });<font></font>
+   <span class="hljs-keyword">let</span> mailOptions = {<font></font>
+     <span class="hljs-keyword">from</span>: <span class="hljs-string">'"MEVN-course " &lt;your_email@gmail.com&gt;'</span>,<font></font>
+     to: <span class="hljs-string">'some_email@gmail.com'</span>,<font></font>
+     subject: <span class="hljs-string">`MEVN-course | New message`</span>,<font></font>
+     text: req.body.name,<font></font>
+     html: output<font></font>
+   };<font></font>
+   transporter.sendMail(mailOptions, (error, info) =&gt; {<font></font>
+     <span class="hljs-keyword">if</span> (error) {<font></font>
+       <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(error);<font></font>
+     <font></font>
+     <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Message sent: %s'</span>, info.messageId);<font></font>
+     <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Preview URL: %s'</span>, nodemailer.getTestMessageUrl(info));<font></font>
+   });<font></font>
  res.json({<span class="hljs-attr">state</span>: <span class="hljs-string">'success'</span>});<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで何が起こるか見てみましょう。最初に、以前にインストールされたnodemailerパッケージがインポートされます。次に、postメソッドが変更され、レコードをデータベースに保存するだけでなく、サーバーもメールに通知を送信します。まず、htmlマークアップが書き​​込まれる出力変数が作成されます。次に、オブジェクトが転送されるnodemailerオブジェクトのcreateTransportメソッドを使用してトランスポーター変数が作成されます-メールアカウントを認証するためのオプションのセット：ホスト名、ポート、ログインとパスワード。 Gmailを使用する場合、認証だけでなく、サードパーティのアプリケーションがGmailアカウント設定のメールボックスを使用できるようにする必要があることに注意してください。次に、変数mailOptionsが作成され、そこにオブジェクトが書き込まれます-レターオプション：メッセージの送信元、送信先、レターの件名と本文。そして最後にトランスポーターオブジェクトのsendMailメソッドを使用して、手紙が送信されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーを再起動してテストします。</font><font style="vertical-align: inherit;">認証情報が正しく、アカウント設定でサードパーティのアプリケーションによるメールボックスの使用が許可されている場合、メッセージが送信され、送信が成功したことを示すメッセージがコンソールに送信されます。そうでない場合は、コンソールにもエラーが表示されます。</font><font style="vertical-align: inherit;">送信は成功したように見えます：</font></font><br>
<br>
<img src="https://lh5.googleusercontent.com/X75bTitSyqIIOjn8YSCBrZ4KI6HTq9GGz5GQR1YwglpoXdbe6vtdpQXBqNPtOYzb9thwHB3W39f_hCydf31jhQdEEiKPkK8ghOGmNGeb3eGbcbYPpDJX4lKP-J-gbW1xQpEtTUg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして失敗</font><font style="vertical-align: inherit;">した送信</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://lh5.googleusercontent.com/tXnsqWcXvn5ecECr10V9qBSU4RwY3klQJkRtOHNvFaUGrlQI6zi_Ekl6v3PUGHSpgTkGL-yO00fHOGoDD0phiuYK1gRPFrKBFKt9QnSUjcU5HZYSrtMRpch4nCdRUJCbN_57gJ4" alt="画像"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合計</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプリケーション開発は終わりました。</font><font style="vertical-align: inherit;">私たちが持っているもの：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vueアプリケーションの開発経験;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node + Expressサーバーの開発経験;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDBの経験;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npmの経験;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダイレクトページを整理する機能。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーからメールニュースレターを整理する機能。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアントから送信し、サーバーでhttp要求を受信する機能。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRUDおよびREST APIの理解</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja457564/index.html">会社のITシステムコストの見積もり</a></li>
<li><a href="../ja457566/index.html">圧力は問題ありません：なぜデータセンターは気圧制御が必要なのですか？ </a></li>
<li><a href="../ja457568/index.html">未来の議会：未来の伝道者のアカウントの選択</a></li>
<li><a href="../ja457576/index.html">KnowledgeConf-離陸したかどうか？</a></li>
<li><a href="../ja457578/index.html">ニューロモーフィックシステム：人間の脳に触発されたコンピューター</a></li>
<li><a href="../ja457582/index.html">汗、涙、時間の追跡-会社の収益性を向上させる方法</a></li>
<li><a href="../ja457588/index.html">Barcamp-村での最初の公開イベント</a></li>
<li><a href="../ja457592/index.html">あなたの後に残っているのはそれだけです：Troldeshランサムウェア（シェード）のフォレンジックアーティファクト</a></li>
<li><a href="../ja457596/index.html">OSDay 19またはC言語がまだ生きている理由</a></li>
<li><a href="../ja457600/index.html">ヘッドセットの概要Snom A150、Snom A100MおよびD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>