<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСитАНтЪЦя╕П ЁЯТп ЁЯСг рдХрдг рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрди-рдЧреЗрдо рд╕рдВрджреЗрд╢ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ ЁЯЫАЁЯП┐ ЁЯРД ЁЯСНЁЯП╜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХрд╛рд░реНрдп
 рдЬрдм рд╣рдорд╛рд░реЗ рдЧреЗрдо рдж рдЕрдирд▓рд╛рдЗрд╡рд┐рдВрдЧ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рддреЛ рд╣рдордиреЗ рдХрдг рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдХрд╛рдо рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рдЬреИрд╕реЗ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдХрдг рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрди-рдЧреЗрдо рд╕рдВрджреЗрд╢ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486260/"><img src="https://habrastorage.org/getpro/habr/post_images/74b/904/6a5/74b9046a520d2199cfc062791bdc1cc5.jpg" alt="рдЫрд╡рд┐"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реНрдп</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм рд╣рдорд╛рд░реЗ рдЧреЗрдо рдж рдЕрдирд▓рд╛рдЗрд╡рд┐рдВрдЧ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рддреЛ рд╣рдордиреЗ рдХрдг рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдХрд╛рдо рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдиреБрдХрд╕рд╛рди, рд╕реНрд╡рд╛рд╕реНрдереНрдп рдпрд╛ рдКрд░реНрдЬрд╛ рдХреА рдХрдореА, рдЗрдирд╛рдо рдореВрд▓реНрдп, рдмрд╣рд╛рд▓ рдХрд┐рдП рдЧрдП рд╕реНрд╡рд╛рд╕реНрдереНрдп рдмрд┐рдВрджреБрдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЖрджрд┐ред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд╕реНрд╡рд░реВрдк рдФрд░ рдЖрдЧреЗ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдЕрд╡рд╕рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдРрд╕рд╛ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдпреВрдирд┐рдЯреА рдпреВрдЖрдИ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдорд╛рдирдХ рддрддреНрд╡реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рд╕рдорд╕реНрдпрд╛рдЧреНрд░рд╕реНрдд рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рдВрджреЗрд╢ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдПрдХ рдХрдг рдкреНрд░рдгрд╛рд▓реА рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдПрдХрддрд╛ рдпреВрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдорд╛рди рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЙрддреНрдкрд╛рджрдХрддрд╛ рдореЗрдВ рднрд╛рд░реА рд╡реГрджреНрдзрд┐ рджреЗрддрд╛ рд╣реИред</font></font><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд╖рддрд┐ рд░рд┐рдкреЛрд░реНрдЯ</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/597/961/b10/597961b10d0ca2e3e8fcd56c2cefb824.gif" alt="рдЫрд╡рд┐"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдкрд╛рда рд╕рдВрджреЗрд╢</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/79a/b45/e90/79ab45e904a5c648f9c62fb66a7c5049.gif" alt="рдЫрд╡рд┐"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд░реНрдгрдп рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╢реЗрдбрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╣рдо рд╕рд╣реА рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреВрд░реНрд╡-рддреИрдпрд╛рд░ рдмрдирд╛рд╡рдЯ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">UV-рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рд╕рд╛рде рдЬрд╛рдирдХрд╛рд░реА рджреЛ рдзрд╛рд░рд╛рдУрдВ (рдХреНрд░рд┐рдпрд╛ рдзрд╛рд░рд╛рдУрдВ) рджреНрд╡рд╛рд░рд╛ ParticleSystem рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ ParticleSystem.etCustomParticleData рдореЗрдВ рдПрдХ рд╡реЗрдХреНрдЯрд░ 4 рд╕реВрдЪреА рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░реЗрд╖рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ 10 рдкрдВрдХреНрддрд┐рдпреЛрдВ рдФрд░ рд╡рд░реНрдгреЛрдВ рдХреЗ 10 рдХреЙрд▓рдо рд╡рд╛рд▓реЗ рдмрдирд╛рд╡рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢рд╛рдорд┐рд▓ рд╣реИред </font><font style="vertical-align: inherit;">рдХрд┐рд╕реА рднреА рдореЛрдиреЛрд╕реНрдкреЗрд╕ рдлрд╝реЙрдиреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдлрд╝реЙрдиреНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рд╕рдВрджреЗрд╢ рд╡рд░реНрдгреЛрдВ рдХреЗ рдмреАрдЪ рд╡рд┐рднрд┐рдиреНрди рдЕрдВрддрд░ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
тЖТ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSD рдореЗрдВ рдмрдирд╛рд╡рдЯ рд╕реНрд░реЛрдд</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрджрдо рд╕реЗ рдХрджрдо рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд░реНрдЯреЗрдХреНрд╕ рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХреЗ рд▓рд┐рдП рд╡реЗрдХреНрдЯрд░ 4 рдмрдирд╛рдирд╛</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЪрд░рд┐рддреНрд░ рд╕реЗрдЯ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо SymbolsTextureData рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд░реНрдг рд╕рд░рдгреА рдХреЛ рдКрдкрд░реА рдмрд╛рдПрдВ рдХреЛрдиреЗ рд╕реЗ рдкреНрд░рд╛рд░рдВрдн рдХрд░рдХреЗ рд╕рднреА рдлрд╝реЙрдиреНрдЯ рдмрдирд╛рд╡рдЯ рдкреНрд░рддреАрдХреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдХрд░, рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рднрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Serializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> SymbolsTextureData<font></font>
{<font></font>
    <span class="hljs-comment">//   </span>
    <span class="hljs-keyword">public</span> Texture texture;
    <span class="hljs-comment">//    ,   - </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">char</span>[] chars;<font></font>
    <font></font>
    <span class="hljs-comment">//Dictionary     -    </span>
    <span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-keyword">char</span>, Vector2&gt; charsDict;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Initialize</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        charsDict = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">char</span>, Vector2&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; chars.Length; i++)<font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">char</span>.ToLowerInvariant(chars[i]);
            <span class="hljs-keyword">if</span> (charsDict.ContainsKey(c)) <span class="hljs-keyword">continue</span>;
            <span class="hljs-comment">//  ,    </span>
            <span class="hljs-comment">//    , ,     10.</span>
            <span class="hljs-keyword">var</span> uv = <span class="hljs-keyword">new</span> Vector2(i % <span class="hljs-number">10</span>, <span class="hljs-number">9</span> - i / <span class="hljs-number">10</span>);<font></font>
            charsDict.Add(c, uv);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Vector2 <span class="hljs-title">GetTextureCoordinates</span>(<span class="hljs-params"><span class="hljs-keyword">char</span> c</span>)</span><font></font>
    {<font></font>
        c = <span class="hljs-keyword">char</span>.ToLowerInvariant(c);
        <span class="hljs-keyword">if</span> (charsDict == <span class="hljs-literal">null</span>) Initialize();<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (charsDict.TryGetValue(c, <span class="hljs-keyword">out</span> Vector2 texCoord))
            <span class="hljs-keyword">return</span> texCoord;
        <span class="hljs-keyword">return</span> Vector2.zero;<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╣рдореЗрдВ TextRendererParticleSystem рд╡рд░реНрдЧ рдорд┐рд▓рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЬрдм рдЖрдк рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕реНрдкреЙрдирдкрд╛рд░реНрдЯрд┐рдХрд▓ рд╡рд┐рдзрд┐ рдХрд╣рддреЗ рд╣реИрдВ, рддреЛ рдХрдг рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдПрдХ рдХрдг рд╡рд╛рдВрдЫрд┐рдд рдорд╛рди, рд░рдВрдЧ рдФрд░ рдЖрдХрд╛рд░ рдХреЗ рд╕рд╛рде рд╡рд╛рдВрдЫрд┐рдд рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЖ рдЬрд╛рдПрдЧрд╛ред</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">RequireComponent(typeof(ParticleSystem))</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TextRendererParticleSystem</span> : <span class="hljs-title">MonoBehaviour</span><font></font>
{<font></font>
    <span class="hljs-keyword">private</span> ParticleSystemRenderer particleSystemRenderer;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">new</span> ParticleSystem particleSystem;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SpawnParticle</span>(<span class="hljs-params">Vector3 position, <span class="hljs-keyword">string</span> message, Color color, <span class="hljs-keyword">float</span>? startSize = <span class="hljs-literal">null</span></span>)</span><font></font>
    {<font></font>
        <span class="hljs-comment">//  </span><font></font>
     }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХрддрд╛ рдореЗрдВ рдХрдг рдкреНрд░рдгрд╛рд▓реА рдЖрдкрдХреЛ 2 рд╡реЗрдХреНрдЯрд░ 4 рдзрд╛рд░рд╛рдУрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╕реНрдЯрдо рдбреЗрдЯрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gw/bm/dc/gwbmdcxpmyhh2ogwebrz4i9qjjm.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рдЬрд╛рдирдмреВрдЭрдХрд░ UV2 рдХреЗ рд╕рд╛рде рд╕реНрдЯреНрд░реАрдо рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдореЗрдВ рдПрдХ рдмрджрд▓рд╛рд╡ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдзрд╛рд░рд╛ рдЬреЛрдбрд╝реА рд╣реИред рдпрджрд┐ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ C # рдореЗрдВ Custom1-рд╡реЗрдХреНрдЯрд░ рдХреЗ X рдФрд░ Y рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ Z рдФрд░ W TEXCOORD0 рд╢реЗрдб рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрдВрдЧреЗред рдФрд░ рддрджрдиреБрд╕рд╛рд░, Custom1.z = TEXCOORD1.x, Custom1.w = TEXCOORD1.yред рдЬрд┐рд╕рд╕реЗ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдХрд╛рдлреА рдЕрд╕реБрд╡рд┐рдзрд╛ рд╣реЛрдЧреАред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/c5/re/vu/c5revuuurt5nlhhrtpj8qr4wqsu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╣рдо рджреЛ рд╡реЗрдХреНрдЯрд░ 4 рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рдВрджреЗрд╢ рдХреА рд▓рдВрдмрд╛рдИ рдФрд░ рдкрд╛рддреНрд░реЛрдВ рдХреЗ рдпреВрд╡реА-рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ рд╡реНрдпрдХреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗред рдЪреВрдВрдХрд┐ рд╡реЗрдХреНрдЯрд░ 4 рдореЗрдВ 4 рдкреНрд░рдХрд╛рд░ рдХреЗ рдлреНрд▓реЛрдЯ рдХреЗ рддрддреНрд╡ рд╣реИрдВ, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╣рдо рдЗрд╕рдореЗрдВ 4 * 4 = 16 рдмрд╛рдЗрдЯреНрд╕ рдбреЗрдЯрд╛ рдкреИрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЪреВрдВрдХрд┐ рдЪреВрдВрдХрд┐ рд╣рдорд╛рд░реЗ рд╕рдВрджреЗрд╢ рдореЗрдВ рдХреЗрд╡рд▓ рд╕рдВрджреЗрд╢ рдХреА рд▓рдВрдмрд╛рдИ (рджреЛ-рдЕрдВрдХреАрдп рд╕рдВрдЦреНрдпрд╛) рдФрд░ рд╡рд░реНрдгреЛрдВ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ (рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдг рдХреЗ рд▓рд┐рдП рджреЛ-рдЕрдВрдХреАрдп рд╕рдВрдЦреНрдпрд╛) рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗ, рдлрд┐рд░ рдкреНрд░рдХрд╛рд░ рдмрд╛рдЗрдЯ (0-255) рдХреА рд╕реАрдорд╛ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдирд┐рд░рд░реНрдердХ рд╣реИред рджрд╢рдорд▓рд╡ рд╕реНрдерд╛рдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдмрд╕ рдареАрдХ рд╣реЛрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлреНрд▓реЛрдЯ рд╕рдЯреАрдХрддрд╛ 6-9 рд╡рд░реНрдг рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рд╡реЗрдХреНрдЯрд░ 4 рдХреЗ 6 рдмрд┐рдЯреНрд╕ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдбреЗрдЯрд╛ рдХреА рдЕрдЦрдВрдбрддрд╛ рдФрд░ рд╕рдЯреАрдХрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред рджрд░рдЕрд╕рд▓, рд╣рдордиреЗ 7, 8 рдФрд░ 9 рдЕрдХреНрд╖рд░ рдкреИрдХ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рд▓реЗрдХрд┐рди рдлреНрд▓реЛрдЯ рдХреА рд╕рдЯреАрдХрддрд╛ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдлреНрд▓реЛрдЯ рдореЗрдВ, рджрд╢рдорд▓рд╡ рд╕реНрдерд╛рдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╣рдо рдЪрд╛рд░ рдЕрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдорд╛рдирдХ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╡рд┐рдкрд░реАрдд 6 рдЕрдВрдХреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдкреИрдХ рдХрд░реЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рдХреБрд▓, рдПрдХ рд╡реЗрдХреНрдЯрд░ 4 рдореЗрдВ 24 рдПрдХрд▓-рдЕрдВрдХреАрдп рд╕рдВрдЦреНрдпрд╛рдПрдБ рд╣реЛрдВрдЧреАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рд╕реНрдЯреНрд░реАрдо рдореЗрдВ 2 рд╡реИрдХреНрдЯрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо 23 рдЕрдХреНрд╖рд░реЛрдВ рддрдХ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рджреЛрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Custom1.xyzw - рд╕рдВрджреЗрд╢ рдХреЗ рдкрд╣рд▓реЗ 12 рд╡рд░реНрдгред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Custom2.xyzw - рд╕рдВрджреЗрд╢ рдХреЗ рдЕрдиреНрдп 11 рд╡рд░реНрдг + рд╕рдВрджреЗрд╢ рдХреА рд▓рдВрдмрд╛рдИ (рдЕрдВрддрд┐рдо 2 рд╡рд░реНрдг)ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕рдВрджреЗрд╢ "рд╣реИрд▓реЛ" рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/g3/nm/tj/g3nmtjvqme40jjcrw-ear7hwnoo.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд░реНрдг рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдмрдирд╛рд╡рдЯ рдореЗрдВ рд╡рд░реНрдг рд╕реНрдерд┐рддрд┐ рд░реЗрдЦрд╛ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/47/9h/d6/479hd6qetusenhgjdafodmsgk7u.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЛрдб рдореЗрдВ, рджреЛ рд╡реЗрдХреНрдЯрд░ 4 рдореЗрдВ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд▓рдкреЗрдЯрдирд╛ рдЗрд╕ рддрд░рд╣ рд╣реЛрдЧрд╛:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">//   Vector2     float</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> <span class="hljs-title">PackFloat</span>(<span class="hljs-params">Vector2[] vecs</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (vecs == <span class="hljs-literal">null</span> || vecs.Length == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;            
    <span class="hljs-comment">//      float</span>
    <span class="hljs-keyword">var</span> result = vecs[<span class="hljs-number">0</span>].y * <span class="hljs-number">10000</span> + vecs[<span class="hljs-number">0</span>].x * <span class="hljs-number">100000</span>;
    <span class="hljs-keyword">if</span> (vecs.Length &gt; <span class="hljs-number">1</span>) result += vecs[<span class="hljs-number">1</span>].y * <span class="hljs-number">100</span> + vecs[<span class="hljs-number">1</span>].x * <span class="hljs-number">1000</span>;
    <span class="hljs-keyword">if</span> (vecs.Length &gt; <span class="hljs-number">2</span>) result += vecs[<span class="hljs-number">2</span>].y + vecs[<span class="hljs-number">2</span>].x * <span class="hljs-number">10</span>;            
        <span class="hljs-keyword">return</span> result;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//  Vector4    CustomData</span>
<span class="hljs-function"><span class="hljs-keyword">private</span> Vector4 <span class="hljs-title">CreateCustomData</span>(<span class="hljs-params">Vector2[] texCoords, <span class="hljs-keyword">int</span> offset = <span class="hljs-number">0</span></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">var</span> data = Vector4.zero;            
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<font></font>
    {<font></font>
        <span class="hljs-keyword">var</span> vecs = <span class="hljs-keyword">new</span> Vector2[<span class="hljs-number">3</span>];                
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++)<font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> ind = i * <span class="hljs-number">3</span> + j + offset;
            <span class="hljs-keyword">if</span> (texCoords.Length &gt; ind)<font></font>
            {<font></font>
                vecs[j] = texCoords[ind];<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span><font></font>
            {<font></font>
                data[i] = PackFloat(vecs);<font></font>
                i = <span class="hljs-number">5</span>; 
                <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">4</span>) data[i] = PackFloat(vecs);<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> data;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SpawnParticle</span>(<span class="hljs-params">Vector3 position, <span class="hljs-keyword">string</span> message, Color color, <span class="hljs-keyword">float</span>? startSize = <span class="hljs-literal">null</span></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">var</span> texCords = <span class="hljs-keyword">new</span> Vector2[<span class="hljs-number">24</span>]; <span class="hljs-comment">//  24  - 23  +  </span>
    <span class="hljs-keyword">var</span> messageLenght = Mathf.Min(<span class="hljs-number">23</span>, message.Length);<font></font>
    texCords[texCords.Length - <span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, messageLenght);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; texCords.Length; i++)<font></font>
    {<font></font>
        <span class="hljs-keyword">if</span> (i &gt;= messageLenght) <span class="hljs-keyword">break</span>;
        <span class="hljs-comment">//  GetTextureCoordinates()  SymbolsTextureData    </span><font></font>
        texCords[i] = textureData.GetTextureCoordinates(message[i]);<font></font>
    }<font></font>
		<font></font>
    <span class="hljs-keyword">var</span> custom1Data = CreateCustomData(texCords);
    <span class="hljs-keyword">var</span> custom2Data = CreateCustomData(texCords, <span class="hljs-number">12</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CustomData рдХреЗ рд╕рд╛рде рд╡реЗрдХреНрдЯрд░ рддреИрдпрд╛рд░ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рд╡рд╛рдВрдЫрд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдирдпрд╛ рдХрдг рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдлреИрд▓рд╛рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрдг</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рд╕реНрдкреЙрди рдкрд╣рд▓реА рдЪреАрдЬ рдЬреЛ рд╣рдореЗрдВ рдХрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ рд╡рд╣ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ CustomData рдзрд╛рд░рд╛рдПрдБ рдХрдг рдХреЗ рд░реЗрдВрдбрд░рд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рд╕рдХреНрд░рд┐рдп рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">//   ParticleSystem</span>
<span class="hljs-keyword">if</span> (particleSystem == <span class="hljs-literal">null</span>) particleSystem = GetComponent&lt;ParticleSystem&gt;();<font></font>
<font></font>
<span class="hljs-keyword">if</span> (particleSystemRenderer == <span class="hljs-literal">null</span>)<font></font>
{<font></font>
    <span class="hljs-comment">//   ParticleSystemRenderer,       </span><font></font>
    particleSystemRenderer = particleSystem.GetComponent&lt;ParticleSystemRenderer&gt;();<font></font>
    <span class="hljs-keyword">var</span> streams = <span class="hljs-keyword">new</span> List&lt;ParticleSystemVertexStream&gt;();<font></font>
    particleSystemRenderer.GetActiveVertexStreams(streams);<font></font>
    <span class="hljs-comment">//   Vector2(UV2, SizeXY, etc.),        </span>
    <span class="hljs-keyword">if</span> (!streams.Contains(ParticleSystemVertexStream.UV2)) streams.Add(ParticleSystemVertexStream.UV2);
    <span class="hljs-keyword">if</span> (!streams.Contains(ParticleSystemVertexStream.Custom1XYZW)) streams.Add(ParticleSystemVertexStream.Custom1XYZW);
    <span class="hljs-keyword">if</span> (!streams.Contains(ParticleSystemVertexStream.Custom2XYZW)) streams.Add(ParticleSystemVertexStream.Custom2XYZW);<font></font>
    particleSystemRenderer.SetActiveVertexStreams(streams);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдХрдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдХрдг рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдПрдорд┐рдЯ () рдкрджреНрдзрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">//  </span>
<span class="hljs-comment">//      </span>
<span class="hljs-comment">// startSize3D  X,       </span>
<span class="hljs-comment">//   </span>
<span class="hljs-keyword">var</span> emitParams = <span class="hljs-keyword">new</span> ParticleSystem.EmitParams<font></font>
{<font></font>
    startColor = color,<font></font>
    position = position,<font></font>
    applyShapeToPosition = <span class="hljs-literal">true</span>,<font></font>
    startSize3D = <span class="hljs-keyword">new</span> Vector3(messageLenght, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
};<font></font>
<span class="hljs-comment">//      ,    SpawnParticle </span>
<span class="hljs-comment">//   startSize</span>
<span class="hljs-keyword">if</span> (startSize.HasValue) emitParams.startSize3D *= startSize.Value * particleSystem.main.startSizeMultiplier;
<span class="hljs-comment">//  </span>
particleSystem.Emit(emitParams, <span class="hljs-number">1</span>);<font></font>
<font></font>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">var</span> customData = <span class="hljs-keyword">new</span> List&lt;Vector4&gt;();
<span class="hljs-comment">//  ParticleSystemCustomData.Custom1  ParticleSystem</span><font></font>
particleSystem.GetCustomParticleData(customData, ParticleSystemCustomData.Custom1);<font></font>
<span class="hljs-comment">//   , ..  ,     </span>
customData[customData.Count - <span class="hljs-number">1</span>] = custom1Data;
<span class="hljs-comment">//   ParticleSystem</span><font></font>
particleSystem.SetCustomParticleData(customData, ParticleSystemCustomData.Custom1);<font></font>
<font></font>
<span class="hljs-comment">//  ParticleSystemCustomData.Custom2</span><font></font>
particleSystem.GetCustomParticleData(customData, ParticleSystemCustomData.Custom2);            <font></font>
customData[customData.Count - <span class="hljs-number">1</span>] = custom2Data;<font></font>
particleSystem.SetCustomParticleData(customData, ParticleSystemCustomData.Custom2);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреЛрдиреЛрдВ рдмреНрд▓реЙрдХ рдХреЛ рд╕реНрдкреЙрдирдкрд╛рд░реНрдЯрд┐рдХрд▓ () рд╡рд┐рдзрд┐ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ рдФрд░ C # рднрд╛рдЧ рддреИрдпрд╛рд░ рд╣реИ: рд╕рдВрджреЗрд╢ рдХреЛ рд╡рд░реНрдЯреЗрдХреНрд╕ рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рджреЛ рд╡реЗрдХреНрдЯрд░ 4 рдХреЗ рд░реВрдк рдореЗрдВ GPU рджреНрд╡рд╛рд░рд╛ рдкреИрдХ рдФрд░ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдирд╛ рдФрд░ рдЗрд╕реЗ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рд╣реИред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢реЗрдбрд░ рдХреЛрдб</font></font></b><br>
<br>
<pre><code class="plaintext hljs">Shader "Custom/TextParticles"<font></font>
{<font></font>
    Properties<font></font>
    {<font></font>
        _MainTex ("Texture", 2D) = "white" {}<font></font>
        //         10,    <font></font>
        _Cols ("Columns Count", Int) = 10<font></font>
        _Rows ("Rows Count", Int) = 10<font></font>
    }<font></font>
    SubShader<font></font>
    {            <font></font>
        Tags { "RenderType"="Opaque" "PreviewType"="Plane" "Queue" = "Transparent+1"}<font></font>
        LOD 100<font></font>
        ZWrite Off<font></font>
        Blend SrcAlpha OneMinusSrcAlpha<font></font>
<font></font>
        Pass<font></font>
        {<font></font>
            CGPROGRAM<font></font>
            #pragma vertex vert<font></font>
            #pragma fragment frag<font></font>
            <font></font>
            #include "UnityCG.cginc"<font></font>
            <font></font>
            struct appdata<font></font>
            {<font></font>
                float4 vertex : POSITION;<font></font>
                fixed4 color : COLOR;<font></font>
                float4 uv : TEXCOORD0;<font></font>
                //    customData<font></font>
                float4 customData1 : TEXCOORD1;<font></font>
                float4 customData2 : TEXCOORD2;<font></font>
            };           <font></font>
<font></font>
            struct v2f<font></font>
            {<font></font>
                float4 vertex : SV_POSITION;<font></font>
                fixed4 color : COLOR;<font></font>
                float4 uv : TEXCOORD0;<font></font>
                float4 customData1 : TEXCOORD1;<font></font>
                float4 customData2 : TEXCOORD2;<font></font>
            };<font></font>
            <font></font>
            uniform sampler2D _MainTex;<font></font>
            uniform uint _Cols;<font></font>
            uniform uint _Rows;<font></font>
            <font></font>
            v2f vert (appdata v)<font></font>
            {<font></font>
                v2f o;<font></font>
                //        w- ?<font></font>
                //       .<font></font>
                //      100.<font></font>
                float textLength = ceil(fmod(v.customData2.w, 100));<font></font>
<font></font>
                o.vertex = UnityObjectToClipPos(v.vertex);<font></font>
                //  UV ,   -   <font></font>
                o.uv.xy = v.uv.xy * fixed2(textLength / _Cols, 1.0 / _Rows);<font></font>
                o.uv.zw = v.uv.zw;<font></font>
                o.color = v.color;                <font></font>
                o.customData1 = floor(v.customData1);<font></font>
                o.customData2 = floor(v.customData2);<font></font>
                return o;<font></font>
            }<font></font>
            <font></font>
            fixed4 frag (v2f v) : SV_Target<font></font>
            {<font></font>
                fixed2 uv = v.uv.xy;<font></font>
                //   <font></font>
                uint ind = floor(uv.x * _Cols);<font></font>
<font></font>
                uint x = 0;<font></font>
                uint y = 0;<font></font>
<font></font>
                //  ,   <font></font>
                //0-3 - customData1<font></font>
                //4-7 - customData2<font></font>
                uint dataInd = ind / 3;<font></font>
                //   6     float<font></font>
                uint sum = dataInd &lt; 4 ? v.customData1[dataInd] : v.customData2[dataInd - 4];<font></font>
<font></font>
                //  float      <font></font>
                for(int i = 0; i &lt; 3; ++i)<font></font>
                {<font></font>
                    if (dataInd &gt; 3 &amp; i == 3) break;<font></font>
                    //  ,   10^2 = 99  ..<font></font>
                    uint val = ceil(pow(10, 5 - i * 2));<font></font>
                    x = sum / val;<font></font>
                    sum -= x * val;<font></font>
<font></font>
                    val = ceil(pow(10, 4 - i * 2));<font></font>
                    y = sum / val;<font></font>
                    sum -= floor(y * val);<font></font>
<font></font>
                    if (dataInd * 3 + i == ind) i = 3;<font></font>
                }                <font></font>
<font></font>
                float cols = 1.0 / _Cols;<font></font>
                float rows = 1.0 / _Rows;<font></font>
                // UV-,  - , , <font></font>
                //     <font></font>
                uv.x += x * cols - ind * rows;<font></font>
                uv.y += y * rows;<font></font>
                <font></font>
                return tex2D(_MainTex, uv.xy) * v.color;<font></font>
            }<font></font>
            ENDCG<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХрддрд╛ рд╕рдВрдкрд╛рджрдХ</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рд╕рд╛рдордЧреНрд░реА рдмрдирд╛рдПрдБ рдФрд░ рдЗрд╕реЗ рд╣рдорд╛рд░реЗ shader рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВред </font><font style="vertical-align: inherit;">рджреГрд╢реНрдп рдкрд░, ParticleSystem рдШрдЯрдХ рдХреЗ рд╕рд╛рде рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВ, рдмрдирд╛рдИ рдЧрдИ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВред </font><font style="vertical-align: inherit;">рдлрд┐рд░ рд╣рдо рдХрдг рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ Play On Awake рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдмрдВрдж рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдХрд┐рд╕реА рднреА рд╡рд░реНрдЧ рд╕реЗ, рд╣рдо RendererParticleSystem.SpawnParticle () рд╡рд┐рдзрд┐ рдХреЛ рдХрд╣рддреЗ рд╣реИрдВ рдпрд╛ рд╕реМрджреЗрдмрд╛рдЬреА рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">ContextMenu(<span class="hljs-meta-string">"TestText"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestText</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    SpawnParticle(transform.position, <span class="hljs-string">"Hello world!"</span>, Color.red);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реНрд░реЛрдд рдХреЛрдб, рд╕рдВрд╕рд╛рдзрди рдФрд░ рдЙрдкрдпреЛрдЧ рдХреЗ рдЙрджрд╛рд╣рд░рдг </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреЗрдЦреЗ рдЬрд╛ рд╕рдХрддреЗ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рд╣реИрдВ</font></a><font style="vertical-align: inherit;"> ред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрджреЗрд╢ рдкреНрд░рдгрд╛рд▓реА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f8d/91e/a20/f8d91ea20610d787563e72398802cccd.gif" alt="рдЫрд╡рд┐"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмрд╕ рдЗрддрдирд╛ рд╣реАред </font><font style="vertical-align: inherit;">рд╕рдВрджреЗрд╢ рдЙрддреНрдкрд╛рджрди рдХрдг рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рддреИрдпрд╛рд░! </font><font style="vertical-align: inherit;">рд╣рдореЗрдВ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдЗрд╕ рд╕рдорд╛рдзрд╛рди рд╕реЗ рдПрдХрддрд╛ рдЦреЗрд▓ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдлрд╛рдпрджрд╛ рд╣реЛрдЧрд╛ред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD: рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рд╕рдорд╛рдзрд╛рди рдХрд╛ рдкреНрд░рджрд░реНрд╢рди</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдХрдИ рд▓реЛрдЧреЛрдВ рдХреА рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ, рдЗрд╕ рдкрджреНрдзрддрд┐ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдкреНрд░рд╢реНрди рдЙрддреНрдкрдиреНрди рд╣реБрдЖред </font><font style="vertical-align: inherit;">рдПрдХрддрд╛ рдХреЗ рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рджреНрд╡рд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХрд┐рдП рдЧрдП рдорд╛рдкред </font><font style="vertical-align: inherit;">рд╕реНрдерд┐рддрд┐рдпрд╛рдВ рд╕рдорд╛рди рд╣реИрдВ - 1000 рдЪрд▓рддреА, рд░рдВрдЧ рдмрджрд▓рдиреЗ рд╡рд╛рд▓реА рд╡рд╕реНрддреБрдПрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдорд╛рдирдХ UI (рдХреЗрд╡рд▓ рдХреИрдирд╡рд╛рд╕ рдЬрд┐рд╕ рдкрд░ рдХреЗрд╡рд▓ 1000 UI рдкрд╛рда рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкрд░рд┐рдгрд╛рдо: </font></font><br>
<img src="https://habrastorage.org/webt/p6/un/5f/p6un5fkfn-qnhmz6uwusisggwsq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреБрд▓ рдлреНрд░реЗрдо рд╕рдордп рдХрдо рд╕реЗ рдХрдо 50ms рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕реЗ 40ms рдХреИрдирд╡рд╛рд╕ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдкрд░ рдЦрд░реНрдЪ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ, рдСрдмреНрдЬреЗрдХреНрдЯ рднреА рд╕реНрдкреЙрди рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдмрд╕ рдЪрд▓рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ 1000 рдХрдгреЛрдВ рдХреА рдПрдХ рд╕реНрдкреЙрди рдХрд╛ рдкрд░рд┐рдгрд╛рдо:</font></font><br>
<img src="https://habrastorage.org/webt/-p/bf/ga/-pbfga8pj7nj5oi7sssvu9ch9pw.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рднреА рдЬрд╛рджреВ GPU рдкрд░ рд╣реЛрддреЗ рд╣реИрдВ, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ 1000 рдХрдгреЛрдВ рдХреЗ рд╕реНрдкреЙрди рдХреЗ рд╕рдордп рдореЗрдВ, рдлреНрд░реЗрдо рдХреА рдЧрдгрдирд╛ 5ms рд╕реЗ рдХрдо рдореЗрдВ рдХреА рдЬрд╛рддреА рд╣реИред</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi486260/">https://habr.com/ru/post/hi486260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi486242/index.html">рдкрд╛рдЗрдирдмреБрдХ рдкреНрд░реЛ: рд╡реНрдпрдХреНрддрд┐рдЧрдд рд▓реИрдкрдЯреЙрдк рдЕрдиреБрднрд╡</a></li>
<li><a href="../hi486246/index.html">рдкрд╛рдпрдерди рдореЗрдВ рдПрдХ рдмрд╛рд░ рдХреА рд╕реНрдХреНрд░реИрдкрдмреБрдХ рд╕реЗрд╡рд╛ рд▓рд┐рдЦрдирд╛</a></li>
<li><a href="../hi486252/index.html">рдбреЗрдврд╝ рдЧреБрдирд╛ рддреЗрдЬреА рд▓рд╛рдиреЗ рд╕реЗ рдХреНрдпрд╛ рд╣реЛрдЧрд╛?</a></li>
<li><a href="../hi486256/index.html">рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдкрд╣рдЪрд╛рди рдкрддреНрд░</a></li>
<li><a href="../hi486258/index.html">PIndastrial рдврд╛рд▓ - рд░рд╛рд╕реНрдкрдмреЗрд░реА PI рдХреЗ рд▓рд┐рдП рдмрд┐рдЬрд▓реА рдХреА рдЖрдкреВрд░реНрддрд┐ рдФрд░ RS-485 рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЙрдбреНрдпреВрд▓</a></li>
<li><a href="../hi486262/index.html">5G рдиреЗрдЯрд╡рд░реНрдХ рдХрдордЬреЛрд░рд┐рдпрд╛рдБ</a></li>
<li><a href="../hi486264/index.html">PostgreSQL 13: рд╕рдорд╛рдирд╛рдВрддрд░ VACUUM</a></li>
<li><a href="../hi486268/index.html">рдЬрдВрдЧ 1.41.0 рд░рд┐рд▓реАрдЬ: рдПрдлрдПрдлрдЖрдИ рдореЗрдВ рдмреЙрдХреНрд╕ <рдЯреА> рдХреЗ рд▓рд┐рдП рдирдИ рдЧрд╛рд░рдВрдЯреА, рдХрд╛рд░реНрдЧреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдореЗрдВ рд╕реБрдзрд╛рд░, рд▓рдХреНрд╖рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдореЗрдВ рдвреАрд▓</a></li>
<li><a href="../hi486274/index.html">рдмрд╛рдЬрд╛рд░ рдХреЗ рдмрд╛рдж рдИрд░рд╛рди рдФрд░ рд╕рдВрдпреБрдХреНрдд рд░рд╛рдЬреНрдп рдЕрдореЗрд░рд┐рдХрд╛ рдХреЗ рдмреАрдЪ рд╕рдВрдШрд░реНрд╖ рдкрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХрд░рддрд╛ рд╣реИ, рдХреНрдпрд╛ рдмрд┐рдЯрдХреЙрдЗрди рдХреЛ рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рд╕рдВрдкрддреНрддрд┐ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ?</a></li>
<li><a href="../hi486278/index.html">Kafka mitap рд╕реЗ рд╕рд╛рдордЧреНрд░реА: ╨бDC рдХрдиреЗрдХреНрдЯрд░, рд╡рд┐рдХрд╛рд╕ рд╕рдорд╕реНрдпрд╛рдПрдВ, Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>