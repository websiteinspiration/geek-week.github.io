<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õ©Ô∏è üë©üèº‚Äç‚úàÔ∏è üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® Python console menu ü¶á üíú üàÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, colleagues. My name is Rustam, I work for a small company that is engaged in web-development and website promotion. 
 
 Very often, when wo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Python console menu</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488946/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Greetings, colleagues. My name is Rustam, I work for a small company that is engaged in web-development and website promotion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Very often, when working on a project, tasks arise that require entering several commands into the console, such as, for example, rebuilding the frontend, starting / stopping several docker containers, deploying the environment on a new development computer, and the like. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is generally not difficult, but often such tasks arise very regularly, require repetition, turning into a routine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And now, in fact, once the idea came up how to reduce the time for this, that's it, simplifying the process as much as possible, implementing a small utility that allows you to wrap sets of frequently performed actions in items of a convenient menu displayed in the console.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decided to implement in Python since Out of the box, it is installed on most Linux distributions, and you won‚Äôt need to install additional packages to use it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It turned out something very convenient available for cloning with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All settings (namely, what item should be performed) are stored in the menu.yml file. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The settings file given as an example in the repository is equipped with all the necessary comments, but in order to make everything even clearer there is a working example on the github ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/hrustbb2/env-example</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An example is an application consisting of three docker containers (php, mysql, nginx) with separate configs for development and production environments and two separate deployment scripts in these environments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, clone, run ./env and see a menu of three items:</font></font><br>
<br>
<pre><code class="plaintext hljs">0. Exit<font></font>
1. Develop<font></font>
2. Production<font></font>
Chose action: _<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We‚Äôll expand our application in development mode, for this we select item 1, fail in the submenu:</font></font><br>
<br>
<pre><code class="plaintext hljs">0. Exit<font></font>
1. Build<font></font>
2. Deploy and Up<font></font>
3. Up<font></font>
4. Stop<font></font>
5. Remove<font></font>
Chose action: _<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here, first we create our containers by selecting 1, after which you need to come up with and enter the name of the application. </font><font style="vertical-align: inherit;">Here I want to draw your attention to the fact that the parameters necessary for the execution of certain commands are required to be entered only once, then they are saved in the env.ini file and you do not need to enter them when you restart it. </font><font style="vertical-align: inherit;">Then, after waiting a while until the creation of the containers is completed, we will run the script for the deployment of the application itself, choosing 2.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this example, the script clones the Laravel startup application into ./app, installs the necessary composer packages, rolls migrations, and creates the .env configuration file. This is done only once at the very beginning, after which the environment is started by selecting item 3. Item 5 serves to delete the created containers after they become no longer needed, for example, when work on the project is completed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That's probably all, now open </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the browser </font><font style="vertical-align: inherit;">and continue working. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes on production there is a need to run some commands automatically on the crown, for example, updating SSL certificates, backup, etc. In this case, run, for example ./env -e 1-2-3, where 1-2-3 is the path to the desired command in the menu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I and my colleagues brought a lot of benefits, making their work a little easier, I hope the tool will be useful to you. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Good luck to all.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en488918/index.html">Data Engineer or die: a single developer story</a></li>
<li><a href="../en488920/index.html">Determine the appropriate size for the Kafka cluster in Kubernetes</a></li>
<li><a href="../en488926/index.html">5 Free Courses for Microsoft AI Engineers</a></li>
<li><a href="../en488942/index.html">Artifacts for UX eaters and teams: what is it, why are they needed and how to choose</a></li>
<li><a href="../en488944/index.html">How coronavirus affects biotechnology stocks</a></li>
<li><a href="../en488948/index.html">UPD. Testing the REST API on Golang. 120 000 [# / sec] is not the limit?</a></li>
<li><a href="../en488950/index.html">Time in a cellular machine</a></li>
<li><a href="../en488952/index.html">Phrase sentiment analysis using neural networks</a></li>
<li><a href="../en488954/index.html">How to explain your point of view to the robot</a></li>
<li><a href="../en488956/index.html">Organization of documentation and translation, for example, iondv. framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>