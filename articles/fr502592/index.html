<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüíª üå¶Ô∏è üí™üèº N√©omorphisme utilisant SwiftUI. Partie 1 ‚õπÔ∏è ü•• üë®‚Äçüë©‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut, Khabrovites! En pr√©vision du lancement du cours avanc√© ¬´D√©veloppeur IOS¬ª, nous avons pr√©par√© une autre traduction int√©ressante.
 
 
 
 Le desig...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>N√©omorphisme utilisant SwiftUI. Partie 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/502592/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salut, Khabrovites! </font><font style="vertical-align: inherit;">En pr√©vision du lancement du cours avanc√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´D√©veloppeur IOS¬ª,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous avons pr√©par√© une autre traduction int√©ressante.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/nr/7d/ml/nr7dmlj7ru0rbnazf8ce8wox3ra.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le design non morphique est peut-√™tre la tendance la plus int√©ressante de ces derniers mois, bien qu'en r√©alit√© Apple l'ait utilis√© comme motif de design lors de la WWDC18. </font><font style="vertical-align: inherit;">Dans cet article, nous verrons comment vous pouvez impl√©menter une conception non morphique √† l'aide de SwiftUI, pourquoi vous voudrez peut-√™tre le faire et - plus important encore - comment nous pouvons affiner cette conception pour augmenter son accessibilit√©.</font></font><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Important</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : le n√©omorphisme - √©galement parfois appel√© neuromorphisme - a de graves cons√©quences sur l'accessibilit√©, donc malgr√© la tentation de lire la premi√®re partie de cet article et de sauter le reste, je vous invite √† lire l'article jusqu'au bout et √† √©tudier les avantages et les inconv√©nients afin que vous puissiez voir l'image compl√®te .</font></font><br>
</blockquote><a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/z3tJdxwlo_Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bases du n√©omorphisme</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de passer au code, je voudrais bri√®vement d√©crire deux principes de base de cette direction dans la conception, car ils seront pertinents au fur et √† mesure:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le n√©omorphisme utilise l'√©blouissement et l'ombre pour d√©terminer les formes des objets √† l'√©cran.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le contraste a tendance √† diminuer; </font><font style="vertical-align: inherit;">compl√®tement blanc ou noir ne sont pas utilis√©s, ce qui vous permet de mettre en √©vidence les hautes lumi√®res et les ombres.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©sultat final est un look qui rappelle le ¬´plastique extrud√©¬ª - une conception d'interface utilisateur qui a certainement l'air fra√Æche et int√©ressante sans vous heurter les yeux. </font><font style="vertical-align: inherit;">Je ne peux que r√©p√©ter encore une fois que la r√©duction du contraste et l'utilisation des ombres pour mettre en √©vidence les formes affectent s√©rieusement l'accessibilit√©, et nous y reviendrons plus tard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, je pense toujours que le temps pass√© √† apprendre sur le n√©omorphisme dans SwiftUI en vaut la peine - m√™me si vous ne l'utilisez pas dans vos propres applications, c'est comme un kata d'√©criture de code pour vous aider √† perfectionner vos comp√©tences. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, assez de bavardages - passons au code.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Construire une carte non morphique</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le point de d√©part le plus simple est de cr√©er une carte non morphique: un rectangle arrondi qui contiendra des informations. Ensuite, nous verrons comment nous pouvons transf√©rer ces principes √† d'autres parties de SwiftUI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commen√ßons par cr√©er un nouveau projet iOS √† l'aide du mod√®le d'application Single View. Assurez-vous que vous utilisez SwiftUI pour l'interface utilisateur, puis nommez le projet Neumorphism. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Astuce: si vous avez acc√®s √† l'aper√ßu de SwiftUI dans Xcode, je vous recommande de l'activer imm√©diatement - il vous sera beaucoup plus facile d'exp√©rimenter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons commencer par d√©finir une couleur qui repr√©sente une teinte cr√©meuse. </font><font style="vertical-align: inherit;">Ce n'est pas du gris pur, mais plut√¥t une nuance tr√®s subtile qui ajoute un peu de chaleur ou de fra√Æcheur √† l'interface. </font><font style="vertical-align: inherit;">Vous pouvez l'ajouter au r√©pertoire des ressources si vous le souhaitez, mais maintenant c'est plus facile √† faire en code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez ceci en </font></font><code>Color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dehors de la structure </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Color</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> offWhite = <span class="hljs-type">Color</span>(red: <span class="hljs-number">225</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">225</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">235</span> / <span class="hljs-number">255</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, il est presque blanc, mais il est assez sombre pour donner au vrai blanc une lueur quand nous en avons besoin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous pouvons remplir le corps </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en le fournissant </font></font><code>ZStack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui occupe tout l'√©cran, en utilisant notre nouvelle couleur quasi-blanche pour remplir tout l'espace:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>{
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-type">Color</span>.offWhite<font></font>
        }<font></font>
        .edgesIgnoringSafeArea(.all)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour repr√©senter notre carte, nous utiliserons un rectangle arrondi dans la r√©solution de 300x300 pour la rendre belle et claire √† l'√©cran. </font><font style="vertical-align: inherit;">Ajoutez donc ceci √† </font></font><code>ZStack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sous la couleur:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">25</span>)<font></font>
    .frame(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par d√©faut, il sera noir, mais pour la mise en ≈ìuvre du n√©omorphisme, nous voulons r√©duire fortement le contraste, nous allons donc le remplacer par la m√™me couleur que nous utilisons pour l'arri√®re-plan, ce qui rend en fait la forme invisible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors changez-le comme ceci:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">25</span>)<font></font>
    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
    .frame(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>)</code></pre><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un point important:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous d√©terminons la forme en utilisant des ombres, une sombre et une claire, comme si la lumi√®re projetait des rayons depuis le coin sup√©rieur gauche de l'√©cran.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SwiftUI nous permet d'appliquer plusieurs fois des modificateurs, ce qui facilite l'impl√©mentation du n√©omorphisme. </font><font style="vertical-align: inherit;">Ajoutez les deux modificateurs suivants √† votre rectangle arrondi:</font></font><br>
<br>
<pre><code class="swift hljs">.shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
.shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils repr√©sentent le d√©calage de l'ombre sombre dans le coin inf√©rieur droit et le d√©calage de l'ombre claire dans le coin sup√©rieur gauche. </font><font style="vertical-align: inherit;">L'ombre claire est visible car nous avons utilis√© un fond quasi blanc, et maintenant la carte devient visible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous n'avons √©crit que quelques lignes de code, mais nous avons d√©j√† une carte non morphique - j'esp√®re que vous conviendrez que SwiftUI facilite √©tonnamment le processus!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/_z/0h/he_z0hdu4zlhtftzxwsvxo5k9t8.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation d'un simple bouton non morphique</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De tous les √©l√©ments d'une interface utilisateur, le n√©omorphisme pr√©sente un risque assez faible pour les cartes - si l'interface utilisateur √† l'int√©rieur de vos cartes est claire, la carte peut ne pas avoir de bordure claire, et cela n'affectera pas l'accessibilit√©. Les boutons sont une autre affaire, car ils sont con√ßus pour interagir, donc r√©duire leur contraste peut faire plus de mal que de bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Traitons cela en cr√©ant notre propre style de bouton, car c'est ainsi que SwiftUI permet aux configurations de bouton d'√™tre distribu√©es √† de nombreux endroits. C'est beaucoup plus pratique que d'ajouter de nombreux modificateurs √† chaque bouton que vous cr√©ez - nous pouvons simplement d√©finir le style une fois et l'utiliser √† de nombreux endroits.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons d√©finir un style de bouton qui sera en fait vide: SwiftUI nous donnera le libell√© du bouton, qui peut √™tre du texte, une image ou autre chose, et nous le renverrons sans modifications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez cette structure quelque part √† l'ext√©rieur </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SimpleButtonStyle</span>: <span class="hljs-title">ButtonStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {<font></font>
        configuration.label<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est </font></font><code>configuration.label</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">celui-ci qui contient le contenu du bouton, et bient√¥t nous ajouterons autre chose. </font><font style="vertical-align: inherit;">D√©finissons d'abord un bouton qui l'utilise pour que vous puissiez voir comment le design √©volue:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Button</span>(action: {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Button tapped"</span>)<font></font>
}) {<font></font>
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.gray)<font></font>
}<font></font>
.buttonStyle(<span class="hljs-type">SimpleButtonStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous ne verrez rien de sp√©cial √† l'√©cran, mais nous pouvons y rem√©dier en ajoutant notre effet non morphique au style du bouton. Cette fois, nous n'utiliserons pas de rectangle arrondi, car pour les ic√¥nes simples, le cercle est meilleur, mais nous devons ajouter une indentation pour que la zone de clic du bouton soit grande et belle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modifiez votre m√©thode </font></font><code>makeBody()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en ajoutant une indentation, puis en pla√ßant notre effet non morphique comme arri√®re-plan du bouton:</font></font><br>
<br>
<pre><code class="swift hljs">configuration.label<font></font>
    .padding(<span class="hljs-number">30</span>)<font></font>
    .background(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
    )</code></pre><br>
<img src="https://habrastorage.org/webt/nm/-x/yp/nm-xyp4klovncqtomhthav-za7y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela nous rapproche suffisamment de l'effet souhait√©, mais si vous ex√©cutez l'application, vous verrez qu'en pratique, le comportement n'est toujours pas parfait - le bouton ne r√©agit pas visuellement lorsqu'il est enfonc√©, ce qui semble juste bizarre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour r√©soudre ce probl√®me, nous devons lire la propri√©t√© </font></font><code>configuration.isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans notre style de bouton personnalis√©, qui indique si le bouton est actuellement enfonc√© ou non. Nous pouvons l'utiliser pour am√©liorer notre style et donner une indication visuelle de la pression du bouton. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commen√ßons par un simple: nous utiliserons des </font></font><code>Group</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">boutons pour l'arri√®re-plan, puis v√©rifierons </font></font><code>configuration.isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et retournerons soit un cercle plat si le bouton est enfonc√©, soit notre cercle sombre actuel sinon:</font></font><br>
<br>
<pre><code class="swift hljs">configuration.label<font></font>
    .padding(<span class="hljs-number">30</span>)<font></font>
    .background(<font></font>
        <span class="hljs-type">Group</span> {
            <span class="hljs-keyword">if</span> configuration.isPressed {
                <span class="hljs-type">Circle</span>()<font></font>
                    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-type">Circle</span>()<font></font>
                    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
            }<font></font>
        }<font></font>
    )</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisqu'un </font></font><code>isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cercle avec une couleur quasi-blanche est utilis√© </font><font style="vertical-align: inherit;">dans l'√©tat </font><font style="vertical-align: inherit;">, il rend notre effet invisible lorsque le bouton est enfonc√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avertissement: en raison de la fa√ßon dont SwiftUI calcule les zones enregistrables, nous avons involontairement rendu la zone de clic pour notre bouton tr√®s petite - vous devez maintenant appuyer sur l'image elle-m√™me, et non sur la conception non morphologique qui l'entoure. </font><font style="vertical-align: inherit;">Pour r√©soudre ce probl√®me, ajoutez un modificateur </font></font><code>.contentShape(Circle())</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imm√©diatement apr√®s </font></font><code>.padding(30)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, for√ßant SwiftUI √† utiliser tout l'espace disponible du robinet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous pouvons cr√©er l'effet de la concavit√© artificielle en inversant l'ombre - en copiant deux modificateurs </font></font><code>shadow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de l'effet de base, en √©changeant les valeurs X et Y pour le blanc et le noir, comme indiqu√© ici:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> configuration.isPressed {
    <span class="hljs-type">Circle</span>()<font></font>
        .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-type">Circle</span>()<font></font>
        .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estimez le r√©sultat.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bk/nz/gv/bknzgvars2r0e4anrdqngo12wr4.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©er des ombres internes pour un clic de bouton</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre code actuel, en principe, fonctionne d√©j√†, mais les gens interpr√®tent l'effet diff√©remment - certains le voient comme un bouton concave, d'autres voient que le bouton n'est toujours pas enfonc√©, juste la lumi√®re vient d'un angle diff√©rent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'id√©e de l'am√©lioration est de cr√©er une ombre int√©rieure qui simulera l'effet d'appuyer sur le bouton vers l'int√©rieur. Cela ne fait pas partie du kit SwiftUI standard, mais nous pouvons l'impl√©menter assez facilement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La cr√©ation d'une ombre int√©rieure n√©cessite deux d√©grad√©s lin√©aires, et ils ne seront que le premier des nombreux d√©grad√©s internes que nous utiliserons dans cet article, nous allons donc ajouter imm√©diatement une petite extension d'assistance pour </font></font><code>LinearGradient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simplifier la cr√©ation de d√©grad√©s standard:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">LinearGradient</span> </span>{
    <span class="hljs-keyword">init</span>(<span class="hljs-number">_</span> colors: <span class="hljs-type">Color</span>...) {
        <span class="hljs-keyword">self</span>.<span class="hljs-keyword">init</span>(gradient: <span class="hljs-type">Gradient</span>(colors: colors), startPoint: .topLeading, endPoint: .bottomTrailing)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec cela, nous pouvons simplement fournir une liste variable de couleurs pour r√©cup√©rer leur d√©grad√© lin√©aire dans la direction diagonale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, sur le point important: au lieu d'ajouter deux ombres invers√©es √† notre cercle press√©, nous allons superposer un nouveau cercle avec un flou (trait), puis appliquer un autre cercle avec un d√©grad√© comme masque. </font><font style="vertical-align: inherit;">C'est un peu plus compliqu√©, mais permettez-moi de l'expliquer au coup par coup:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notre cercle de base est notre cercle actuel avec un effet n√©omorphique, rempli d'une couleur quasi blanche.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous pla√ßons un cercle dessus, encadr√© par un cadre gris, et floutons l√©g√®rement pour adoucir ses bords.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, nous appliquons un masque avec un autre cercle √† ce cercle superpos√© en haut, cette fois rempli d'un d√©grad√© lin√©aire.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous appliquez une vue en tant que masque pour une autre, SwiftUI utilise le canal alpha du masque pour d√©terminer ce qui doit √™tre affich√© dans la vue de base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, si nous dessinons un trait gris flou, puis le masquons avec un d√©grad√© lin√©aire du noir au transparent, le trait flou sera invisible d'un c√¥t√© et augmentera progressivement de l'autre - nous obtiendrons un d√©grad√© interne lisse. Pour rendre l'effet plus prononc√©, nous pouvons l√©g√®rement d√©placer les cercles ombr√©s dans les deux sens. Apr√®s avoir exp√©riment√© un peu, j'ai trouv√© que dessiner une ombre claire avec une ligne plus √©paisse qu'une sombre aide √† maximiser l'effet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N'oubliez pas que deux ombres sont utilis√©es pour cr√©er un sentiment de profondeur dans le n√©omorphisme: une claire et une sombre, nous ajouterons donc cet effet de l'ombre int√©rieure deux fois avec des couleurs diff√©rentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modifiez le cercle </font></font><code>configuration.isPress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comme suit:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Circle</span>()<font></font>
    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
    .overlay(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .stroke(<span class="hljs-type">Color</span>.gray, lineWidth: <span class="hljs-number">4</span>)<font></font>
            .blur(radius: <span class="hljs-number">4</span>)<font></font>
            .offset(x: <span class="hljs-number">2</span>, y: <span class="hljs-number">2</span>)<font></font>
            .mask(<span class="hljs-type">Circle</span>().fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.black, <span class="hljs-type">Color</span>.clear)))<font></font>
    )<font></font>
    .overlay(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .stroke(<span class="hljs-type">Color</span>.white, lineWidth: <span class="hljs-number">8</span>)<font></font>
            .blur(radius: <span class="hljs-number">4</span>)<font></font>
            .offset(x: -<span class="hljs-number">2</span>, y: -<span class="hljs-number">2</span>)<font></font>
            .mask(<span class="hljs-type">Circle</span>().fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.clear, <span class="hljs-type">Color</span>.black)))<font></font>
    )</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous ex√©cutez √† nouveau l'application, vous verrez que l'effet d'appuyer sur un bouton est beaucoup plus prononc√© et semble meilleur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1r/f1/ha/1rf1hanjn-9zhj0xhglha6e4lr0.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur ce point, la premi√®re partie de la traduction a pris fin. </font><font style="vertical-align: inherit;">Dans les prochains jours nous publierons la suite, et maintenant nous vous invitons √† en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">savoir plus sur le cours √† venir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr502576/index.html">Apple Watch pour pas cher: comment ils voulaient me "reproduire" sur Avito et Yulia</a></li>
<li><a href="../fr502578/index.html">Sur la r√©volution des radars, les d√©lais et l'entr√©e dans la quatri√®me dimension</a></li>
<li><a href="../fr502580/index.html">Vous vous engagez en open source en tant que d√©veloppeur? Nous nous occupons des droits (salut, nginx)</a></li>
<li><a href="../fr502584/index.html">Le fabricant Mi Band publiera un masque transparent auto-d√©sinfectant pour se prot√©ger contre le COVID-19</a></li>
<li><a href="../fr502588/index.html">L'histoire incroyable de PowerPoint</a></li>
<li><a href="../fr502594/index.html">7 raisons pour lesquelles les projets Web ne sont pas interrompus et comment y faire face</a></li>
<li><a href="../fr502596/index.html">Cours √©ducatifs de quarantaine gratuits: conception</a></li>
<li><a href="../fr502598/index.html">Semaine de s√©curit√© 21: vuln√©rabilit√© du service d'impression Windows</a></li>
<li><a href="../fr502604/index.html">Une introduction √† TLS pour Patrik Patrick (Partie 1)</a></li>
<li><a href="../fr502608/index.html">Comment nous avons lanc√© le march√© des applications dans le service SaaS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>