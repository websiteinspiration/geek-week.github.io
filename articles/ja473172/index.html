<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🤝‍👨🏿 🎞️ 🤺 .NET Core 3.0でのBlazorサーバーの使用シナリオとパフォーマンス 👩🏼‍🤝‍👨🏻 🤴🏼 👗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="先月の.NET Core 3.0を備えたBlazor Serverのリリース以来、多くの人々が.NETとC＃のみを使用してWebベースのクライアントインターフェースを作成する可能性に対する熱意を私たちと共有してきました。同時に、Blazor Serverとは何か、Blazor WebAssembly...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>.NET Core 3.0でのBlazorサーバーの使用シナリオとパフォーマンス</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/473172/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">先月の.NET Core 3.0を備えたBlazor Serverのリリース以来、多くの人々が.NETとC＃のみを使用してWebベースのクライアントインターフェースを作成する可能性に対する熱意を私たちと共有してきました。</font><font style="vertical-align: inherit;">同時に、Blazor Serverとは何か、Blazor WebAssemblyとどのように関連付けられているか、およびどのシナリオにBlazor Serverが最も適しているかについても多くの質問がありました。</font><font style="vertical-align: inherit;">クライアント側のWebインターフェイスにBlazor Serverを選択するか、Blazor WebAssemblyを待つ必要がありますか？</font><font style="vertical-align: inherit;">この投稿は、これらの質問に答え、Blazor Serverが大規模に機能する仕組み、および将来のBlazorの開発をどのように見ているかについてのアイデアを提供することを目的としています。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bd4/263/f04/bd4263f0488ccf3d62fb15472b161bc3.png"><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blazor Serverとは何ですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazorサーバーアプリケーションは、サーバー上のBlazorコンポーネントをホストし、SignalR接続を介してリアルタイムでユーザーインターフェイスの相互作用を処理します。ユーザーがアプリケーションとやり取りすると、ユーザーインターフェイスイベントが、アプリケーションを構成するさまざまなコンポーネントによって処理される接続を介してサーバーに送信されます。コンポーネントがユーザーインターフェイスイベントを処理すると、更新された状態に基づいて表示されます。 Blazorは最近レンダリングされた出力を以前にレンダリングされたものと比較し、変更をブラウザーに送信してDOMに適用します。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/825/6b4/829/8256b4829c0d6a9087c316bb6cc52a05.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazorサーバーアプリケーションはサーバー上の.NET Coreで実行されるため、優れたランタイムパフォーマンスや高度なツールの使用など、.NET Coreの実行を最大限に活用します。</font><font style="vertical-align: inherit;">Blazorサーバーアプリケーションは、ブラウザーの制限なしに.NET標準ライブラリのエコシステム全体を使用できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いつBlazor Serverを使用する必要がありますか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor Serverを使用すると、JavaScriptを使用せずに、.NETアプリケーションに豊富なインタラクティブインターフェイスを追加できます。 .NETアプリケーションで1ページのアプリケーションの対話性が必要な場合、Blazor Serverは優れたソリューションです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor Serverを使用して、完全に新しいアプリケーションを作成したり、既存のMVCおよびRazor Pagesアプリケーションを補完したりできます。既存のアプリケーションロジックを書き換える必要はありません。 Blazorは、MVCおよびRazorページで動作するように設計されており、それらを置き換えるものではありません。クライアント側のユーザーインターフェイスの操作にはBlazorが使用されますが、サーバーレンダリングのニーズには引き続きMVCおよびRazorページを使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor Serverは、クライアントとサーバーが地理的に同じ大陸に配置されている場合に通常達成される、信頼性が高く遅延の少ないネットワーク接続があるシナリオに最適です。リアルタイムゲームや描画アプリケーションなど、マウスをわずかにクリックするたびに非常に高い忠実度で即時更新が必要なアプリケーションは、Blazor Serverには適していません。 Blazor Serverアプリケーションはアクティブなネットワーク接続を必要とするため、スタンドアロンスクリプトはサポートされていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor Serverは、クライアントからサーバーに作業を転送するときにも役立ちます。</font><font style="vertical-align: inherit;">Blazorサーバーアプリケーションは、サーバーへの接続を確立し、ユーザーインターフェイスの操作を処理するために、小さなダウンロードのみを必要とします。</font><font style="vertical-align: inherit;">アプリケーションロジックの実行とユーザーインターフェースの視覚化のハードワークはすべてサーバー上で行われます。</font><font style="vertical-align: inherit;">つまり、アプリケーションの機能が増大しても、Blazor Serverアプリケーションはすばやくロードされます。</font><font style="vertical-align: inherit;">Blazor Serverアプリケーションのクライアント側は非常に軽量であるため、低電力デバイスで実行する必要があるアプリケーションに最適なソリューションです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blazor Serverを使用したスケーリング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor Serverは、小規模な内部ビジネスアプリケーションから大規模なインターネットアプリケーションまで拡張できます。 .NET Core 3.0はまだプレビュー段階でしたが、スケーリングの仕組みを理解するためにBlazor Serverをテストしました。 Blazor Serverアプリケーションをアクティブなクライアントの負荷の下に置き、ユーザーインタラクションの遅延を監視しました。今回のテストでは</font><font style="vertical-align: inherit;">&nbsp;、Azure </font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard_D1_v2の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1つのインスタンス&nbsp; </font><font style="vertical-align: inherit;">（1 vCPU、3.5 GBのメモリ）で、遅延を減らすことなく5000人を超える同時ユーザーを処理できました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インスタンス&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard_D3_V2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（4 vCPU、14 GBのメモリ）は、同時に動作する2万を超えるクライアントを処理しました。</font><font style="vertical-align: inherit;">ロードをさらに処理するための主なボトルネックは、使用可能なメモリでした。</font><font style="vertical-align: inherit;">自分のアプリケーションでこのスケールを達成していますか？</font><font style="vertical-align: inherit;">これは、アプリケーションがユーザーごとに必要とする追加のメモリ量に大きく依存します。</font><font style="vertical-align: inherit;">しかし、ほとんどのアプリケーションでは、このレベルのスケーリングは非常に妥当であることがわかります。</font><font style="vertical-align: inherit;">今後数週間のうちに、Blazor Serverのスケーラビリティを向上させるための追加のアップデートを公開する予定です。</font><font style="vertical-align: inherit;">引き続きご期待ください！</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blazor WebAssemblyとは何ですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazorは、さまざまな環境で機能するユーザーインターフェイスフレームワークです。 Blazorを使用してユーザーインターフェイスコンポーネントを作成すると、それらを配置および起動する方法と場所を柔軟に選択できます。 Blazor Serverがインストールされたサーバーでユーザーインターフェイスコンポーネントを実行するだけでなく、Blazor WebAssemblyを使用してクライアントで同じコンポーネントを実行できます。この柔軟性により、ユーザーのニーズに適応し、特定のアプリケーションホスティングモデルに関連付けられるリスクを回避できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor WebAssemblyアプリケーションは、WebAssemblyに基づく.NETランタイムを使用してブラウザーでコンポーネントをホストします。</font><font style="vertical-align: inherit;">コンポーネントはユーザーインターフェイスイベントを処理し、ブラウザーで直接レンダリングロジックを実行します。</font><font style="vertical-align: inherit;">Blazor WebAssemblyアプリケーションは、オープンなWeb標準のみを使用して.NETクライアントコードを実行します。ブラウザーのプラグインやコードの移植は必要ありません。</font><font style="vertical-align: inherit;">Blazorサーバーアプリケーションと同様に、Blazorプラットフォームは以前に表示されたものと比較された出力を処理し、それに応じてDOMを更新しますが、Blazor WebAssemblyでは、ユーザーインターフェイスのレンダリングはクライアント側で処理されます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bd4/263/f04/bd4263f0488ccf3d62fb15472b161bc3.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blazor WebAssemblyはいつ使用する必要がありますか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor WebAssemblyはまだプレビュー段階であり、まだ使用する準備ができていません。すぐに使用できるソリューションを探している場合は、Blazor Serverをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor WebAssembly（2020年5月）のリリース後、Razorコンポーネントと.NETコードをユーザーのデバイスのブラウザーで実行できるようになります。 Blazor WebAssemblyアプリケーションは、サーバーからクライアントへの作業の転送を支援します。 Blazor WebAssemblyアプリケーションは、クライアントデバイスのコンピューティングリソース、メモリ、ストレージリソースだけでなく、標準のブラウザーAPIを通じて利用可能な他のリソースも使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor WebAssemblyアプリケーションはサーバーに.NETを必要とせず、静的サイトの作成に使用できます。 Blazor WebAssemblyアプリケーションは、GitHubページやAzure Webサイトの静的ホスティングなどの静的ホスティングサービスを使用してホストできる静的ファイルのコレクションです。 Service Workerと組み合わせることで、Blazor WebAssemblyは完全にオフラインで作業できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazorサーバー上の.NETと組み合わせて、WebAssemblyは完全なWebスタック開発を提供します。コードを共有し、.NETエコシステムを使用して、既存の.NETスキルとインフラストラクチャを再利用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webアプリケーションに.NETランタイムを含めると、アプリケーションのサイズが大きくなり、ロード時間に影響します。この問題を軽減するにはさまざまな方法（サーバーでの事前レンダリング、HTTPキャッシング、IL接続など）がありますが、Blazor WebAssemblyは、ロードサイズと時間に非常に敏感なアプリケーションには最適な選択ではない場合があります。ダウンロード。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor WebAssemblyアプリケーションには、WebAssemblyをサポートするブラウザーも必要です。 WebAssemblyは、モバイルブラウザーやデスクトップブラウザーを含むすべての最新ブラウザーでサポートされています。ただし、WebAssemblyをサポートしていない古いブラウザーのサポートが必要な場合は、Blazor WebAssemblyは適していません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor WebAssemblyは、ユーザーインターフェイスのレンダリングシナリオ用に最適化されていますが、現在、重いプロセッサ負荷の実行には適していません。</font><font style="vertical-align: inherit;">今日、Blazor WebAssemblyアプリケーションは.NET ILインタープリターを使用して、JITコンパイルを行うネイティブ.NETランタイムと同じパフォーマンスではない.NETコードを実行します。</font><font style="vertical-align: inherit;">インタープリターを使用する代わりに、.NETコードを直接WebAssemblyにコンパイルするためのサポートを追加することにより、将来的にこのシナリオをより適切に処理できるよう取り組んでいます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">後で気分を変えることができます</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor ServerとBlazor WebAssemblyのどちらを選択しても、後からいつでも気が変わります。</font><font style="vertical-align: inherit;">すべてのBlazorアプリケーションは、共通のコンポーネントモデルであるRazorコンポーネントを使用します。</font><font style="vertical-align: inherit;">同じコンポーネントをBlazorサーバーアプリケーションまたはBlazor WebAssemblyアプリケーションでホストできます。</font><font style="vertical-align: inherit;">したがって、1つのBlazorホスティングモデルから始めて、別のモデルに切り替える場合は、非常に簡単です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blazorの次の予定は？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blazor WebAssemblyのリリースに伴い、Webアプリケーションだけでなく、プログレッシブWebアプリ（PWA）、ハイブリッドアプリケーション、さらには完全にネイティブなアプリケーションもサポートするようにBlazorを拡張する予定です。</font></font><br>
<br>
<ul>
<li>Blazor PWA: PWA —  -,   -     . PWA    , push-    ,            «» Windows.</li>
<li>Blazor Hybrid:   —   ,  -   .    Electron   ,    -.   Blazor    WebAssembly,        .NET,  .NET Core  Xamarin.    &nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  Blazor  Electron</a>&nbsp; GitHub.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blazor Native：今日のBlazorアプリケーションはHTMLをレンダリングしますが、代わりにレンダラーをネイティブコントロールを表示することで置き換えることができます。</font><font style="vertical-align: inherit;">Blazor Nativeアプリケーションは、最初にデバイスで起動され、一般的なユーザーインターフェイスの抽象化を使用して、このデバイスのネイティブコントロールをレンダリングします。</font><font style="vertical-align: inherit;">これは、Xamarin FormsやReact Nativeのようなフレームワークが今日どのように機能するかと非常に似ています。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これら3つの新製品は現在実験段階です。</font><font style="vertical-align: inherit;">.NET 5期間中（2020年11月）、Electronを使用したBlazor PWAおよびBlazor Hybridアプリケーションのサポートが正式に発表される予定です。</font><font style="vertical-align: inherit;">Blazor Nativeをサポートするロードマップはまだありませんが、これは私たちが積極的に検討している領域です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合計</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
.NET Core 3.0では、Blazor Serverを使用して、リッチでインタラクティブなクライアント側ユーザーインターフェイスを今すぐ作成できます。</font><font style="vertical-align: inherit;">Blazor Serverは、既存の.NETスキルとリソースを使用して、既存および新規のWebアプリケーションにクライアント側の機能を追加する優れた方法です。</font><font style="vertical-align: inherit;">Blazor Serverは、Webアプリケーションのすべてのニーズを満たすように設計されています。</font><font style="vertical-align: inherit;">Blazor WebAssemblyはまだプレビュー段階ですが、来年5月にリリースされる予定です。</font><font style="vertical-align: inherit;">今後、PWA、ハイブリッドアプリケーション、ネイティブアプリケーションをサポートするBlazorの継続的な開発を期待しています。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、.NET Core 3.0を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インストールしてBlazor Serverを試してみてください</font><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja473158/index.html">従業員の75％が自閉症であるときの様子</a></li>
<li><a href="../ja473160/index.html">ビジネスに役立つパーソナルブランド：コン​​セプトを作成するための8つのステップ</a></li>
<li><a href="../ja473166/index.html">FFmpegをWebAssembly（= ffmpeg.js）にコンパイルする：パート3-aviをmp4に変換する</a></li>
<li><a href="../ja473168/index.html">ASP.NETおよびASP.NET Coreでの今後のSameSite Cookieの変更</a></li>
<li><a href="../ja473170/index.html">注釈の技術：Javaに適したKotlinコードの記述</a></li>
<li><a href="../ja473174/index.html">バリデーターゲームとは何か、または「証明のブロックチェーンを実行する方法」</a></li>
<li><a href="../ja473176/index.html">新しいWindowsターミナルプロファイルを作成します。json</a></li>
<li><a href="../ja473182/index.html">現代の自動車用ICEの特性の柔軟性を高めるという原則</a></li>
<li><a href="../ja473184/index.html">Docker + php-fpm + PhpStorm + Xdebug</a></li>
<li><a href="../ja473186/index.html">メディアクエリのないflexboxでのアイテムの重要なレイアウト</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>