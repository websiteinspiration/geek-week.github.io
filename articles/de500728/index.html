<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèä üå∞ ‚úçüèæ Kubernetes: Open Source gegen Anbieter üë©‚Äç‚ù§Ô∏è‚Äçüë® üë©üèæ‚Äçüîß üñ®Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo, ich hei√üe Dmitry Krasnov. Seit √ºber f√ºnf Jahren verwalte ich Kubernetes-Cluster und erstelle komplexe Microservice-Architekturen. Anfang dieses...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kubernetes: Open Source gegen Anbieter</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/500728/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo, ich hei√üe Dmitry Krasnov. </font><font style="vertical-align: inherit;">Seit √ºber f√ºnf Jahren verwalte ich Kubernetes-Cluster und erstelle komplexe Microservice-Architekturen. </font><font style="vertical-align: inherit;">Anfang dieses Jahres haben wir den auf Containerum basierenden Kubernetes-Clusterverwaltungsdienst gestartet. </font><font style="vertical-align: inherit;">Bei dieser Gelegenheit werde ich Ihnen sagen, was diese Kubernetes sind und wie sich die Integration mit dem Anbieter von Open Source unterscheidet. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr den Anfang, was ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dies ist ein System zum Verwalten von Containern auf einer gro√üen Anzahl von Hosts. </font><font style="vertical-align: inherit;">Aus dem Griechischen wird es √ºbrigens als "Pilot" oder "Steuermann" √ºbersetzt. </font><font style="vertical-align: inherit;">Urspr√ºnglich von Google entwickelt, wurde die Cloud Native Computing Foundation, eine internationale gemeinn√ºtzige Organisation, die weltweit f√ºhrende Entwickler, Endbenutzer und Containertechnologieanbieter zusammenbringt, als technologischer Beitrag √ºbertragen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jj/lu/gn/jjlugngazzbnhu-fyxvlpchazjw.jpeg"><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine gro√üe Anzahl von Containern steuern </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun wollen wir sehen, um welche Art von Containern es sich handelt. </font><font style="vertical-align: inherit;">Diese Anwendung mit all ihrer Umgebung - haupts√§chlich Bibliotheken, von denen das Programm abh√§ngt. </font><font style="vertical-align: inherit;">All dies ist in Archiven verpackt und in Form eines Images dargestellt, das unabh√§ngig vom Betriebssystem ausgef√ºhrt, getestet und nicht nur getestet werden kann. </font><font style="vertical-align: inherit;">Es gibt jedoch ein Problem: Die Verwaltung von Containern auf einer gro√üen Anzahl von Hosts ist sehr schwierig. </font><font style="vertical-align: inherit;">Daher wurde Kubernetes erstellt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Container-Image ist eine Anwendung mit ihren Abh√§ngigkeiten. Die Anwendung, ihre Abh√§ngigkeiten und das Image des OS-Dateisystems befinden sich in verschiedenen Teilen des Images, den sogenannten Layern. Ebenen k√∂nnen f√ºr verschiedene Container wiederverwendet werden. Beispielsweise kann f√ºr alle Anwendungen im Unternehmen die Ubuntu-Basisschicht verwendet werden. Beim Starten von Containern m√ºssen nicht mehrere Kopien einer Basisschicht auf dem Host gespeichert werden. Auf diese Weise k√∂nnen Sie die Speicherung und Bereitstellung von Bildern optimieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir die Anwendung vom Container aus starten m√∂chten, werden die erforderlichen Ebenen √ºbereinandergelegt und ein Overlay-Dateisystem gebildet. Oben wird eine Ebene f√ºr die Aufzeichnung √ºberlagert, die beim Stoppen des Containers gel√∂scht wird. Dadurch wird sichergestellt, dass die Anwendung beim Starten des Containers immer dieselbe Umgebung hat, die nicht ge√§ndert werden kann. Dies stellt die Reproduzierbarkeit der Umgebung auf verschiedenen Host-Betriebssystemen sicher. Ob Ubuntu oder CentOS, die Umgebung wird immer dieselbe sein. Dar√ºber hinaus wird der Container mithilfe der im Linux-Kernel integrierten Mechanismen vom Host isoliert. Anwendungen im Container sehen keine Dateien, Prozesse des Hosts und benachbarter Container. Diese Isolierung von Anwendungen vom Host-Betriebssystem bietet eine zus√§tzliche Sicherheitsebene.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt viele Tools zum Verwalten von Containern auf dem Host. </font><font style="vertical-align: inherit;">Das beliebteste davon ist Docker. </font><font style="vertical-align: inherit;">Damit k√∂nnen Sie den gesamten Lebenszyklus von Containern sicherstellen. </font><font style="vertical-align: inherit;">Es funktioniert jedoch nur auf einem Host. </font><font style="vertical-align: inherit;">Wenn Sie Container auf mehreren Hosts verwalten m√ºssen, kann Docker das Leben von Ingenieuren in die H√∂lle verwandeln. </font><font style="vertical-align: inherit;">Deshalb wurde Kubernetes erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Nachfrage nach Kubernetes beruht genau auf der F√§higkeit, Gruppen von Containern auf mehreren Hosts als einzelne Einheiten zu steuern. </font><font style="vertical-align: inherit;">Die Popularit√§t des Systems bietet die M√∂glichkeit, DevOps oder Entwicklungsvorg√§nge zu erstellen, in denen Kubernetes verwendet wird, um die Prozesse dieses DevOps selbst zu starten. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l1/4k/fm/l14kfmzc4n0ohovryr9sb0m1pbc.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 1. Schematische Darstellung der Funktionsweise von Kubernetes</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vollautomatisierung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DevOps ist im Prinzip eine Automatisierung des Entwicklungsprozesses. Grob gesagt schreiben Entwickler Code, der in das Repository eingegossen wird. Dann kann dieser Code automatisch sofort in einem Container mit allen Bibliotheken gesammelt, getestet und f√ºr die n√§chste Stufe - Staging - und dann sofort f√ºr die Produktion bereitgestellt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusammen mit Kubernetes k√∂nnen Sie mit DevOps diesen Prozess so automatisieren, dass die Entwickler selbst kaum oder gar nicht daran teilnehmen. Aus diesem Grund wird die Assembly erheblich beschleunigt, da der Entwickler dies nicht auf seinem Computer ausf√ºhren muss. Er schreibt lediglich einen Code, schiebt den Code in das Repository und startet dann die Pipeline, die die Assembly, das Testen und den Rollout-Prozess umfassen kann. Und dies geschieht bei jedem Commit, sodass die Tests noch nicht abgeschlossen sind.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig k√∂nnen Sie durch die Verwendung des Containers sicherstellen, dass die gesamte Umgebung dieses Programms genau in der Form in Produktion geht, in der es getestet wurde. </font><font style="vertical-align: inherit;">Das hei√üt, es wird keine Probleme aus der Kategorie "Beim Test gab es einige Versionen in der Produktion - andere, aber wenn eingestellt - alles fiel". </font><font style="vertical-align: inherit;">Und seit heute haben wir einen Trend zur Microservice-Architektur, wenn anstelle einer gro√üen Anwendung Hunderte kleiner Anwendungen vorhanden sind, um sie manuell zu verwalten, ben√∂tigen Sie ein gro√ües Personal. </font><font style="vertical-align: inherit;">Deshalb verwenden wir Kubernetes.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorteile, Vorteile, Vorteile</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir √ºber die Vorteile von Kubernetes als Plattform sprechen, hat dies erhebliche Vorteile hinsichtlich der Verwaltung der Microservice-Architektur. </font></font><br>
<br>
<ul>
<li> <b>  .</b>   ‚Äî      .    , ‚Äî         .          .     ,  Kubernetes      . </li>
<li> <b> .</b>   Kubernetes         .       .       ,     .     Kubernetes  ,        Service Discovery.       IP-       Kubernetes.   health check`         .</li>
<li> <b> . </b>         .    Kubernetes    ConfigMap`.             .         ,     . </li>
<li> <b>Persistent Volumes. </b>          ,    ,  .        .      Kubernetes      ‚Äî Persistent Volumes.       ,      ,   .        ,        .</li>
<li> <b>Load Balancer.</b>   ,   Kubernetes      Deployment, StatefulSet  ..,            .         . Kubernetes         .     ,   ?        ,        .      Kubernetes    Load Balancer.             .              .       ,     .        Kubernetes.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes eignet sich am besten zum Starten von Microservice-Architekturen. </font><font style="vertical-align: inherit;">Die Implementierung eines Systems in klassischer Architektur ist m√∂glich, aber sinnlos. </font><font style="vertical-align: inherit;">Wenn die Anwendung nicht in mehreren Replikaten funktionieren kann, was ist dann der Unterschied - in Kubernetes oder nicht?</font></font><br>
 <br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open Source Kubernetes</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Open Source Kubernetes ist eine gro√üartige Sache: Es ist installiert und funktioniert. </font><font style="vertical-align: inherit;">Sie k√∂nnen auf Ihren Eisenservern, in Ihrer Infrastruktur, Assistenten und Worker bereitstellen, auf denen alle Anwendungen ausgef√ºhrt werden. </font><font style="vertical-align: inherit;">Und vor allem - das alles ist kostenlos. </font><font style="vertical-align: inherit;">Es gibt jedoch Nuancen.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das erste ist die Genauigkeit des Wissens und der Erfahrung von Administratoren und Ingenieuren, die all dies bereitstellen und begleiten werden. </font><font style="vertical-align: inherit;">Da der Client im Cluster vollst√§ndige Handlungsfreiheit erh√§lt, tr√§gt er die Verantwortung f√ºr die Funktionsf√§higkeit des Clusters. </font><font style="vertical-align: inherit;">Und hier alles zu brechen ist sehr einfach.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das zweite ist die mangelnde Integration. </font><font style="vertical-align: inherit;">Wenn Sie Kubernetes ohne eine beliebte Virtualisierungsplattform ausf√ºhren, erhalten Sie nicht alle Vorteile des Programms. </font><font style="vertical-align: inherit;">B. die Verwendung von Persistent Volumes und Load Balancer-Diensten.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/yl/qy/s-/ylqys-vszsb7e9t4pmjylyhhh0u.png"> <br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 2. Die k8s-Architektur</font></font></i><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes vom Verk√§ufer</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Integration mit einem Cloud-Anbieter bietet zwei Optionen: </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Erstens kann eine Person einfach auf die Schaltfl√§che ‚ÄûCluster erstellen‚Äú klicken und einen Cluster abrufen, der bereits konfiguriert und betriebsbereit ist.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zweitens richtet der Anbieter selbst einen Cluster ein und konfiguriert die Integration in die Cloud.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie passiert das bei uns? Der Techniker, der den Cluster startet, gibt an, wie viele Mitarbeiter er ben√∂tigt und mit welchen Parametern (z. B. 5 Mitarbeiter mit jeweils 10 CPUs, 16 GB RAM und beispielsweise 100 GB Festplatte). Dann erh√§lt es Zugriff auf den bereits gebildeten Cluster. Gleichzeitig werden die Mitarbeiter, auf denen die Last gestartet wird, vollst√§ndig an den Kunden √ºbergeben, aber die gesamte Managementebene bleibt im Verantwortungsbereich des Anbieters (wenn der Service gem√§√ü dem Managed Service-Modell bereitgestellt wird).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein solches Schema hat jedoch seine Nachteile. </font><font style="vertical-align: inherit;">Aufgrund der Tatsache, dass die Verwaltungsebene beim Anbieter verbleibt, gew√§hrt der Anbieter dem Client keinen vollst√§ndigen Zugriff, was die Flexibilit√§t bei der Arbeit mit Kubernetes verringert. </font><font style="vertical-align: inherit;">Manchmal kommt es vor, dass der Client bestimmte Funktionen an Kubernetes binden m√∂chte, z. B. die Authentifizierung √ºber LDAP, und die Konfiguration der Verwaltungsebene l√§sst dies nicht zu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/me/xi/lp/mexilpixodhnuve_i3i2kop5rko.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 3. Ein Beispiel f√ºr einen Kubernetes-Cluster von einem Cloud-Anbieter</font></font></i><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was zu w√§hlen: Open Source oder Anbieter</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, Open Source Kubernetes oder Anbieter? </font><font style="vertical-align: inherit;">Wenn wir Open Source Kubernetes verwenden, m√∂chte der Benutzer das tun, was er tut. </font><font style="vertical-align: inherit;">Aber eine gute Chance, sich ins Bein zu schie√üen. </font><font style="vertical-align: inherit;">Bei Anbietern ist dies komplizierter, da alles f√ºr das Unternehmen durchdacht und konfiguriert ist. </font><font style="vertical-align: inherit;">Der gr√∂√üte Nachteil von Open Source Kubernetes ist die Anforderung an Spezialisten. </font><font style="vertical-align: inherit;">Bei einem Anbieter bleibt das Unternehmen von diesen Kopfschmerzen verschont, muss jedoch entscheiden, ob es seine Spezialisten oder den Anbieter bezahlt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/te/g1/uu/teg1uu2nmmwdork-m0khn56_3ru.png"><br>
<br>
<img src="https://habrastorage.org/webt/-2/fi/vf/-2fivf91q1hgvh5j515dccobviy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, die Vor- und Nachteile liegen auf der Hand. </font><font style="vertical-align: inherit;">Ausnahmslos eines: Kubernetes l√∂st viele Probleme, indem es die Verwaltung mehrerer Container automatisiert. </font><font style="vertical-align: inherit;">Und welche Wahl, Open Source oder Anbieter - jeder entscheidet f√ºr sich. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Artikel wurde von Dmitry Krasnov, leitender Architekt des Containerum-Dienstes des Anbieters #CloudMTS, erstellt</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500712/index.html">Digital Coronavirus - Eine Kombination aus Ransomware und Infostealer</a></li>
<li><a href="../de500718/index.html">EPAM im Remote-Modus: wie es funktioniert</a></li>
<li><a href="../de500720/index.html">Neue Standards f√ºr Informationssicherheit: Machen Sie Angreifern das Leben schwerer</a></li>
<li><a href="../de500722/index.html">"Backen bis fertig": Wer speichert seltene Tonbandaufnahmen auf so ungew√∂hnliche Weise</a></li>
<li><a href="../de500724/index.html">Wie die US-Finanzbeh√∂rden die negativen Auswirkungen des Spiels auf den R√ºckgang begrenzen</a></li>
<li><a href="../de500732/index.html">K√ºnstliche Intelligenz und die Krise der Bewusstseins-Theorien</a></li>
<li><a href="../de500734/index.html"># GitLab 12.10 mit Anforderungsmanagement und automatischer CI-Skalierung unter AWS Fargate ver√∂ffentlicht</a></li>
<li><a href="../de500742/index.html">Bewertung der Clusterqualit√§t: Eigenschaften, Metriken, GitHub-Code</a></li>
<li><a href="../de500744/index.html">"Um besser zu h√∂ren als Sie, mein Sprecher": wie man besser von zu Hause aus sendet</a></li>
<li><a href="../de500746/index.html">Boxing Rack f√ºr SMD und andere Kleinigkeiten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>