<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§‘ğŸ» ğŸ”“ ğŸ‘ Jiraãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼šæˆåŠŸã—ãŸè‡ªè»¢è»Šç™ºæ˜ã®ã„ãã¤ã‹ã®ä¾‹ ğŸ‘²ğŸ¼ ğŸ“‰ ğŸ‘ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mail.ru Groupã§ã¯ã€ã‚¢ãƒˆãƒ©ã‚·ã‚¢ãƒ³è£½å“ã€ç‰¹ã«Jiraã®é–‹ç™ºã«å¤šå¤§ãªåŠªåŠ›ã‚’å‚¾ã‘ã¦ãã¾ã—ãŸã€‚ç§ãŸã¡ã®åŠªåŠ›ã®ãŠã‹ã’ã§ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³MyGroovyã€JsIncluderã€My Calendarã€My ToDoãªã©ãŒãƒ©ã‚¤ãƒˆã‚’ç›®ã«ã—ã¾ã—ãŸã€‚ç§ãŸã¡ã¯ç¤¾å†…ã§ã“ã‚Œã‚‰ã™ã¹ã¦ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é–‹ç™ºã—ã€ç©æ¥µçš„ã«ä½¿ç”¨ã—...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Jiraãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼šæˆåŠŸã—ãŸè‡ªè»¢è»Šç™ºæ˜ã®ã„ãã¤ã‹ã®ä¾‹</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/476446/"><img src="https://habrastorage.org/webt/zk/qc/ts/zkqcts9wiogkowchg77ul7e3xqi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mail.ru Groupã§ã¯ã€ã‚¢ãƒˆãƒ©ã‚·ã‚¢ãƒ³è£½å“ã€ç‰¹ã«Jiraã®é–‹ç™ºã«å¤šå¤§ãªåŠªåŠ›ã‚’å‚¾ã‘ã¦ãã¾ã—ãŸã€‚ç§ãŸã¡ã®åŠªåŠ›ã®ãŠã‹ã’ã§ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³MyGroovyã€JsIncluderã€My Calendarã€My ToDoãªã©</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŒ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ©ã‚¤ãƒˆã‚’ç›®ã«ã—ã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚ç§ãŸã¡ã¯ç¤¾å†…ã§ã“ã‚Œã‚‰ã™ã¹ã¦ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é–‹ç™ºã—ã€ç©æ¥µçš„ã«ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é–¢ä¿‚éƒ¨ç½²ã‹ã‚‰æ–°æ©Ÿèƒ½ã®å°å…¥ä¾é ¼ãŒå¤šãå¯„ã›ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯æ–°ã—ã„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«å¤‰æ›ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã»ã¨ã‚“ã©ã®å ´åˆã€æ—¢å­˜ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã‚¿ã‚¹ã‚¯ã‚’è§£æ±ºã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã»ã¨ã‚“ã©ã®æ—¥å¸¸çš„ãªã‚¿ã‚¹ã‚¯ãŒãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ç°¡å˜ã«ã‚«ãƒãƒ¼ã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ªãƒ•ã‚£ã‚¹ã§å°æ—…è¡Œã‚’å®Ÿæ–½ã™ã‚‹ã«ã¯ã€äº¤å·®ã™ã‚‹å°æ—…è¡Œã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä½œæˆã‚’æä¾›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãƒ†ã‚¹ã‚¿ãƒ¼å‘ã‘-å®Ÿè£…ã®è²¬ä»»è€…ã¨ä¸€ç·’ã«ãƒ†ã‚¹ãƒˆã®æ®µéšã‚’è¿½è·¡ã™ã‚‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ä½œæˆã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚µãƒãƒ¼ãƒˆã¯ã€ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã«è‡ªå‹•çš„ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»Šæ—¥ã¯ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ã“ã‚Œã‚‰ã®å•é¡Œã‚’ã©ã†ã‚„ã£ã¦è§£æ±ºã—ãŸã‹ã‚’ãŠè©±ã—ã—ã¾ã™ã€‚</font></font><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Œã‚¬ã‚¤ãƒ‰ã€ã‹ã‚‰ã®ãŠé¡˜ã„ </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ„ãƒ¼ãƒ«ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ€ãƒ¼</font></font><br>
</li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å•é¡Œ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mail.ru Groupã®ã‚ªãƒ•ã‚£ã‚¹ã«ã¯ã€ã‚²ã‚¹ãƒˆã«åŒæ„ã—ã¦AXOã®ã‚¿ã‚¹ã‚¯ã‚’è¨­å®šã™ã‚‹å¤šãã®ã€Œã‚¬ã‚¤ãƒ‰ã€ãŒã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ™‚ã«ã¯ã€ã„ãã¤ã‹ã®é è¶³ãŒåŒæ™‚ã«è¡Œã‚ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™-ãã®å¾Œã€ã„ãã¤ã‹ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒåŒæ™‚ã«ã‚ªãƒ•ã‚£ã‚¹ã«è¡Œãã‹ã€1äººã®ã‚¬ã‚¤ãƒ‰ãŒæ‹’å¦ã•ã‚Œã€å½¼ã¯ã‚²ã‚¹ãƒˆã¨äº¤æ¸‰ã—ã«è¡Œãã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ±ºå®š</font></font></h2><br>
<ol>
<li>   Â«Â» (      )          â€” 3 . :<br>
<br>
<ul>
<li>9:00-10:00<br>
</li>
<li>17:30-18:30<br>
</li>
<li>20:00-21:00<br>
</li>
</ul><br>
      ,       .         ( , ,       ).</li>
<li> ,      ,     .</li>
</ol><br>
<h2></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ†ãƒƒãƒ—1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šå¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆç”»é¢ã«è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€æ—¥ä»˜ã‚¿ã‚¤ãƒ—ã®ã€Œæ—¥ä»˜ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã‚¿ã‚¤ãƒ—ã®ã€Œãƒ„ã‚¢ãƒ¼æ™‚é–“ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆã—ã¦ã€3ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆ9ï¼š00-10ï¼š00; 17ï¼š30-18ï¼š30; 20ï¼š00-21ï¼š00ï¼‰ã‹ã‚‰1ã¤ã®å€¤ã‚’é¸æŠã—ã¾ã™ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ†ãƒƒãƒ—2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ–°ã—ã„ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ä½œã‚‹ã€‚ JQLã‚’é€šã˜ã¦ã‚¨ã‚¯ã‚¹ã‚«ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç…§æº–ã‚’åˆã‚ã›ã€</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¤ãƒ™ãƒ³ãƒˆã®é–‹å§‹ã‚’å‰ã«ä½œæˆã—ãŸã€Œæ—¥ä»˜ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</font><font style="vertical-align: inherit;">ã«</font><font style="vertical-align: inherit;">ç¤ºã—ã€å‰ã«ä½œæˆã—ãŸã€Œã‚¨ã‚¯ã‚¹ã‚«ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¡¨ç¤ºã«è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/dad/dc5/487/daddc5487b6b205cd687a872c1736694.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ä¿å­˜ã—ã¾ã™ã€‚ã“ã‚Œã§ãƒ„ã‚¢ãƒ¼ã‚’ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b04/cbf/0f9/b04cbf0f948315ea51b06a240aad90c3.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ†ãƒƒãƒ—3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šãƒ„ã‚¢ãƒ¼ã®ä½œæˆã‚’åˆ¶é™ã—ã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¸ã®ãƒªãƒ³ã‚¯ã‚’å«ã‚€ãƒãƒŠãƒ¼ã‚’è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã€æ—¥ä»˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¤‰æ›´ã‚’è¿½è·¡ã™ã‚‹JSãŒå¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">æ—¥ä»˜ã‚’é¸æŠã—ãŸã‚‰ã€jqlé–¢æ•°ã§ãã‚Œã‚’ç½®ãæ›ãˆã¦ã€ã“ã®æ—¥ä»˜ã®ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ¬¡ã«ã€æ‰€è¦æ™‚é–“ã‚’ç¢ºèªã—ã€ã“ã‚Œã‚‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç”»é¢ä¸Šã§éè¡¨ç¤ºã«ã—ã¦ã€æ‰€è¦æ™‚é–“ã‚’é¸æŠã§ããªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/602/4d2/f46/6024d2f46d629821518c82f42da7e6a5.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒãªã„</font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5c1/ed5/7b5/5c1ed57b57361925498de2f40666d8d9.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å ´åˆåˆå‰9æ™‚ã¨åˆå¾Œ20æ™‚ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒ2å›ã‚ã‚‹å ´åˆ</font></font></i><br>
<br>
<pre><code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>)</span>{
<span class="hljs-comment">/*
   :

    â€” customfield_19620
     â€” customfield_52500
     Â« Â»:
   9:00-10:00 â€” 47611
   17:30-18:30 â€” 47612
   20:00-21:00 â€” 47613
*/</span><font></font>
<font></font>
<span class="hljs-comment">/*
         .
         .
*/</span>
   $(<span class="hljs-string">"input[name=customfield_19620]"</span>).on(<span class="hljs-string">"click change"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
       <span class="hljs-keyword">var</span> idOptions = [];
       <span class="hljs-keyword">var</span> url = <span class="hljs-string">"/rest/api/latest/search"</span>;<font></font>
<font></font>
<span class="hljs-comment">/*
    Â«Â»  ,    .
*/</span>
       <span class="hljs-keyword">if</span> (!$(<span class="hljs-string">"#customfield_19620"</span>).val()) {<font></font>
           $(<span class="hljs-string">'input:radio[name=customfield_52500]'</span>).closest(<span class="hljs-string">'.group'</span>).hide();<font></font>
       }<font></font>
<span class="hljs-comment">/*
                jql ,        .
*/</span>
       <span class="hljs-keyword">else</span> {
           <span class="hljs-keyword">var</span> temp = $(<span class="hljs-string">"#customfield_19620"</span>).val();
           <span class="hljs-keyword">var</span> arrDate = temp.split(<span class="hljs-string">'.'</span>);
           <span class="hljs-keyword">var</span> result = <span class="hljs-string">""</span> + arrDate[<span class="hljs-number">2</span>].trim() + <span class="hljs-string">"-"</span> + arrDate[<span class="hljs-number">1</span>].trim() + <span class="hljs-string">"-"</span> + arrDate[<span class="hljs-number">0</span>].trim();<font></font>
           $(<span class="hljs-string">'input:radio[name=customfield_52500][value="-1"]'</span>).parent().remove();<font></font>
           $(<span class="hljs-string">'input:radio[name=customfield_52500]'</span>).closest(<span class="hljs-string">'.group'</span>).show();<font></font>
           $(<span class="hljs-string">'input:radio[name=customfield_52500][value="47611"]'</span>).parent().show();<font></font>
           $(<span class="hljs-string">'input:radio[name=customfield_52500][value="47612"]'</span>).parent().show();<font></font>
           $(<span class="hljs-string">'input:radio[name=customfield_52500][value="47613"]'</span>).parent().show();
<span class="hljs-comment">/*
      jql.
*/</span>
           <span class="hljs-keyword">var</span> params = {
               <span class="hljs-attr">jql</span>: <span class="hljs-string">"issuetype = Events and cf[52500] is not EMPTY and cf[19620] = 20"</span> + result,
               <span class="hljs-attr">fields</span>: <span class="hljs-string">"customfield_52500"</span><font></font>
           };<font></font>
<span class="hljs-comment">/*
      JSON           .
*/</span>
           $.getJSON(url, params, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
               <span class="hljs-keyword">var</span> issues = data.issues
               <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; issues.length; i++) {<font></font>
                   idOptions.push(issues[i].fields.customfield_52500.id)<font></font>
               }<font></font>
               <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k = <span class="hljs-number">0</span>; k &lt; idOptions.length; k++) {<font></font>
                   $(<span class="hljs-string">'input:radio[name=customfield_52500][value='</span> + idOptions[k] + <span class="hljs-string">']'</span>).parent().hide();<font></font>
               }<font></font>
           });<font></font>
       }<font></font>
   });<font></font>
<span class="hljs-comment">/*
        .
*/</span>
   $(<span class="hljs-string">'div.field-group:has(#customfield_19620)'</span>).last().before(<span class="hljs-string">`
       &lt;div id="bannerWithInfo" class="aui-message info"&gt;
           &lt;p class="title"&gt;
              
           &lt;/p&gt;
           &lt;p&gt;   &lt;/p&gt;
           &lt;p&gt;      &lt;/p&gt;
           &lt;p&gt;         &lt;/p&gt;
       &lt;p&gt;&lt;a href='https://jira.ru/secure/MailRuCalendar.jspa#calendars=492' target="_blank"&gt; &lt;/a&gt;&lt;/p&gt;
       &lt;/div&gt;
           `</span>);<font></font>
})(AJS.$);<font></font>
</code></pre><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ†ã‚¹ã‚¿ãƒ¼ã‹ã‚‰ã®ãŠé¡˜ã„</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ„ãƒ¼ãƒ«ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã®ã‚°ãƒ«ãƒ¼ãƒ´ã‚£ãƒ¼</font></font><br>
</li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å•é¡Œ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã¯ã€ã‚¿ã‚¹ã‚¯ã‚’æ‹…å½“ã™ã‚‹å¾“æ¥­å“¡ã®æŒ‡ç¤ºã§ãƒ†ã‚¹ãƒˆæ®µéšã®è¡¨ç¤ºã‚’æ§‹æˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¹ãƒ†ãƒ¼ã‚¸ãŒã¾ã å®Œäº†ã—ã¦ã„ãªã„ã‹ã€ã‚¹ãƒ†ãƒ¼ã‚¸ãŒå®Œäº†ã—ã¦ã„ã‚‹ï¼ˆãŠã‚ˆã³ãã‚Œã‚’èª°ãŒå®Ÿæ–½ã—ãŸã‹ï¼‰ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ±ºå®š</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒ–ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ§‹æˆã—ã¦ã€ãƒ†ã‚¹ãƒˆã®æ®µéšã‚’è¡¨ç¤ºã—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«é–¢é€£ä»˜ã‘ã€ä½œæˆè€…ã®æ®µéšã‚’æ‹…å½“ã™ã‚‹é·ç§»ã«è¨˜éŒ²ã—ã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Ÿè£…</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ—ã®ã€ŒProgressã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ†ã‚¹ãƒˆã®æ®µéšã«å¯¾å¿œã™ã‚‹UserPickerã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã¨ãˆã°ã€æ¬¡ã®æ‰‹é †ã‚’å®šç¾©ã—ã€åŒã˜åå‰ã®UserPickerãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åé›†ã•ã‚ŒãŸåŸºæœ¬æƒ…å ±</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸ</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åé›†ã•ã‚ŒãŸãƒ­ã‚°</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ—ãƒ¬ã‚¤ã—ãŸ</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è²¬ä»»è€…ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ</font></font><br>
</li>
</ul><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è²¬ä»»è€…ãŒç§»è¡Œã‚’è¨˜å…¥ã™ã‚‹ã‚ˆã†ã«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ§‹æˆã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã¨ãˆã°ã€ã€Œãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸã€é·ç§»ã¯ã€ã€Œãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚ºã•ã‚ŒãŸã€UserPickerãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«currentUserã‚’æ›¸ãè¾¼ã¿ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½¿ç”¨ã—ã¦è¡¨ç¤ºã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã™ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚°ãƒ«ãƒ¼ãƒ´ã‚£ãƒ¼ãªãƒ–ãƒ­ãƒƒã‚¯ã‚’åŸ‹ã‚ã‚‹ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> com.atlassian.jira.component.ComponentAccessor
<span class="hljs-keyword">import</span> com.atlassian.jira.config.properties.APKeys<font></font>
<font></font>
baseUrl = ComponentAccessor.getApplicationProperties().getString(APKeys.JIRA_BASEURL)<font></font>
colorApprove = <span class="hljs-string">"#D2F0C2"</span>
colorNotApprove = <span class="hljs-string">"#FDACAC"</span>
<span class="hljs-keyword">return</span> getHTMLApproval()<font></font>
<font></font>
def getHTMLApproval(){<font></font>
   def approval = getApproval()<font></font>
   def html = <span class="hljs-string">"&lt;table class='aui'&gt;"</span><font></font>
   approval.each{k,v-&gt;<font></font>
       html += <span class="hljs-string">""</span><span class="hljs-string">"&lt;tr&gt;
           &lt;td ${v?"</span>bgcolor=<span class="hljs-string">'${colorApprove}'</span><span class="hljs-string">":"</span>bgcolor=<span class="hljs-string">'${colorNotApprove}'</span><span class="hljs-string">"}&gt;${k}&lt;/td&gt;
                       &lt;td ${v?"</span>bgcolor=<span class="hljs-string">'${colorApprove}'</span><span class="hljs-string">":"</span>bgcolor=<span class="hljs-string">'${colorNotApprove}'</span><span class="hljs-string">"}&gt;${v?displayUser(v):"</span><span class="hljs-string">"}&lt;/td&gt;
                       &lt;/tr&gt;"</span><span class="hljs-string">""</span><font></font>
   }<font></font>
   html += <span class="hljs-string">"&lt;/table&gt;"</span>
   <span class="hljs-keyword">return</span> html<font></font>
}<font></font>
<font></font>
def displayUser(user){<font></font>
   <span class="hljs-string">"&lt;a href=${baseUrl}/secure/ViewProfile.jspa?name=${user.name}&gt;${user.displayName}&lt;/a&gt;"</span><font></font>
}<font></font>
<font></font>
def getApproval(){<font></font>
   def approval = [:] <span class="hljs-keyword">as</span> LinkedHashMap
   <span class="hljs-keyword">if</span> (issue.getIssueTypeId() == <span class="hljs-string">'10001'</span>){ <span class="hljs-comment">//  - </span>
       approval.put(<span class="hljs-string">"  "</span>, getCfValue(<span class="hljs-number">54407</span>))<font></font>
       approval.put(<span class="hljs-string">" "</span>, getCfValue(<span class="hljs-number">54409</span>))<font></font>
       approval.put(<span class="hljs-string">""</span>, getCfValue(<span class="hljs-number">54410</span>))<font></font>
       approval.put(<span class="hljs-string">" "</span>, getCfValue(<span class="hljs-number">54411</span>))<font></font>
       approval.put(<span class="hljs-string">""</span>, getCfValue(<span class="hljs-number">54408</span>))<font></font>
   }<font></font>
   <span class="hljs-keyword">return</span> approval<font></font>
}<font></font>
<font></font>
def getCfValue(id){<font></font>
   ComponentAccessor.customFieldManager.getCustomFieldObject(id).getValue(issue)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€Ÿåº¦ãƒ–ãƒ­ãƒƒã‚¯ã§ã€$å€¤ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã®çµæœãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e97/47c/0fe/e9747c0fe4fa0077c378e049d5f5643c.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚µãƒãƒ¼ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ„ãƒ¼ãƒ«ï¼š </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ€ãƒ¼</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã®ã‚°ãƒ«ãƒ¼ãƒ´ã‚£ãƒ¼</font></font><br>
</li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å•é¡Œ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚µãƒãƒ¼ãƒˆã«ã¯ã€Confluenceã«é–¢ã™ã‚‹ç‹¬è‡ªã®çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">Jiraã‚¯ã‚¨ãƒªã§å•é¡Œé–¢é€£ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹è¨˜äº‹ã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ãŒå¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æœ€æ–°ã®çŠ¶æ…‹ã«ä¿ã¤ãŸã‚ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚‚å¿…è¦ã§ã™ã€‚è¨˜äº‹ãŒå½¹ã«ç«‹ãŸãªã‹ã£ãŸå ´åˆã¯ã€Jiraã®ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãƒ©ã‚¤ã‚¿ãƒ¼ã«ç¾åœ¨ã®è¨˜äº‹ã®åŸ·ç­†ã‚’ä¾é ¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é–‰ã˜ã‚‹ã¨ãã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«é–¢é€£ã™ã‚‹è¨˜äº‹ã®ã¿ã‚’æ®‹ã—ã¦ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">ãƒªãƒ³ã‚¯ã¯ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚µãƒãƒ¼ãƒˆã«ã®ã¿è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ±ºå®š</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jiraï¼ˆã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰ã§ç‰¹å®šã®ã‚¿ã‚¤ãƒ—ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’é¸æŠã™ã‚‹ã¨ã€ã‚¯ã‚¨ãƒªã¯ã€ãã‚Œã«å¯¾å¿œã™ã‚‹Confluenceã®è¨˜äº‹ã‚’wikiãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ã®åˆ¥ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«è¡¨ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­£å¸¸ã«ä½¿ç”¨ã•ã‚ŒãŸå ´åˆã€è¨˜äº‹ã¯ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãƒãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ã¦é–¢é€£ã¨ã—ã¦é¸æŠã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å•é¡Œã‚’è§£æ±ºã™ã‚‹éš›ã«ã€æ·»ä»˜ã®è¨˜äº‹ã«è¨˜è¼‰ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ç¾åœ¨ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸã€ŒDocumentationã€ã‚¿ã‚¤ãƒ—ã®ã‚¿ã‚¹ã‚¯ã‚’Jiraã§ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Ÿè£…</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ†ãƒƒãƒ—1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šæº–å‚™</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikiãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ä»˜ãã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆè¤‡æ•°è¡Œï¼‰ã‚’ä½œæˆã—ã¾ã™-ãƒªãƒ³ã‚¯ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¿ã‚¤ãƒ—ã€Œé¸æŠãƒªã‚¹ãƒˆï¼ˆã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ï¼‰ã€ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆã—ã¾ã™-ã€Œã‚³ãƒ¼ãƒ«ã‚¿ã‚¤ãƒ—ã€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã¨ãˆã°ã€æ¬¡ã®å€¤ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ </font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ </font></font><br>
</li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Confluenceã®è¨˜äº‹ã¨Jiraã®ã‚¯ã‚¨ãƒªã‚’é–¢é€£ä»˜ã‘ã‚‹è¨˜äº‹ã®ãƒ©ãƒ™ãƒ«ã‚’æº–å‚™ã—ã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li>    AD â€” officeit_jira_____ad<br>
</li>
<li>/   â€” officeit_jira____<br>
</li>
<li>    â€” officeit_jira____<br>
</li>
<li>     â€” officeit_jira_____<br>
</li>
<li>    â€” officeit_jira____<br>
</li>
<li>   â€” officeit_jira___<br>
</li>
<li>   â€” officeit_jira___<br>
</li>
<li>        â€” officeit_jira________<br>
</li>
<li>      â€” officeit_jira______<br>
</li>
<li> /  â€” officeit_jira____<br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€Confluenceã§è¨˜äº‹ã‚’ä½œæˆã—ã€ãƒ©ãƒ™ãƒ«ã‚’ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æº–å‚™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½œæˆæ™‚ã«ã‚¢ãƒ”ãƒ¼ãƒ«ã®ç¨®é¡ãŒå…¥åŠ›ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒªãƒ³ã‚¯ã¯åˆ¥ã®ç”»é¢ã«è¿½åŠ ã•ã‚Œã€ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã®è¿‘ãã«é…ç½®ã•ã‚Œã¾ã™ï¼ˆã“ã®ä¾‹ã§ã¯ã€ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã¯ã€Œå®Ÿéš›ã®ãƒªãƒ³ã‚¯ã‚’ãƒã‚§ãƒƒã‚¯ã€ã¨å‘¼ã°ã‚Œã¾ã™ï¼‰ã€‚ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³IDã‚’è¨˜æ†¶ã—ã¦ã„ã¾ã™ï¼ˆjsã‚’æ§‹æˆã™ã‚‹ãŸã‚ã«å°†æ¥å¿…è¦ã§ã™ï¼‰ã€‚</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ†ãƒƒãƒ—2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šMyGroovyãƒã‚¹ãƒˆãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã«è¨˜äº‹ã‚’è¿½åŠ ï¼‰</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">/*
:

  â€” customfield_40001
Links â€” customfield_50001
*/</span><font></font>
<font></font>
<span class="hljs-comment">/*
 ,      .
*/</span><font></font>
<font></font>
def usr = <span class="hljs-string">"bot"</span>
def pas = <span class="hljs-string">"qwerty"</span>
def url = <span class="hljs-string">"https://confluence.ru"</span>
def browse = <span class="hljs-string">"/pages/viewpage.action?pageId="</span><font></font>
<font></font>
<span class="hljs-comment">/*
 
*/</span><font></font>
<font></font>
def updateCustomFieldValue(issue, Long customFieldId, newValue) {<font></font>
   def customField = ComponentAccessor.customFieldManager.getCustomFieldObject(customFieldId)<font></font>
   customField.updateValue(<span class="hljs-literal">null</span>, issue, <span class="hljs-keyword">new</span> ModifiedValue(customField.getValue(issue), newValue), <span class="hljs-keyword">new</span> DefaultIssueChangeHolder())
   <span class="hljs-keyword">return</span> issue<font></font>
}<font></font>
def getCustomFieldObject(Long fieldId) {<font></font>
   ComponentAccessor.customFieldManager.getCustomFieldObject(fieldId)<font></font>
}<font></font>
def parseText(text) {<font></font>
   def jsonSlurper = <span class="hljs-keyword">new</span> JsonSlurper()
   <span class="hljs-keyword">return</span> jsonSlurper.parseText(text)<font></font>
}<font></font>
def getCustomFieldValue(issue, Long fieldId) {<font></font>
   issue.getCustomFieldValue(ComponentAccessor.customFieldManager.getCustomFieldObject(fieldId))<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">/*
 ,      .
*/</span><font></font>
<font></font>
def getLabelFromMap(<span class="hljs-built_in">String</span> main, <span class="hljs-built_in">String</span> sub){<font></font>
   def mapLabels = [<font></font>
           <span class="hljs-string">"ACCOUNT"</span>: [
                   <span class="hljs-string">"    AD"</span>        :[<span class="hljs-string">"officeit_jira_____ad"</span>],
                   <span class="hljs-string">"/  "</span>        :[<span class="hljs-string">"officeit_jira____"</span>],
                   <span class="hljs-string">"   "</span>        :[<span class="hljs-string">"officeit_jira____"</span>],
                   <span class="hljs-string">"    "</span>            :[<span class="hljs-string">"officeit_jira_____"</span>],
                   <span class="hljs-string">"   "</span>                :[<span class="hljs-string">"officeit_jira____"</span>]<font></font>
           ],<font></font>
           <span class="hljs-string">"HARDWARE"</span>: [
                   <span class="hljs-string">"  "</span>        :[<span class="hljs-string">"officeit_jira___"</span>],
                   <span class="hljs-string">"  "</span>                :[<span class="hljs-string">"officeit_jira___"</span>],
                   <span class="hljs-string">"       "</span>:[<span class="hljs-string">"officeit_jira________"</span>],
                   <span class="hljs-string">"     "</span>:[<span class="hljs-string">"officeit_jira______"</span>],
                   <span class="hljs-string">" / "</span>:[<span class="hljs-string">"officeit_jira____"</span>]<font></font>
           ]<font></font>
   ]<font></font>
   def labels = mapLabels[main][sub]<font></font>
   def result = <span class="hljs-string">""</span><font></font>
<font></font>
   <span class="hljs-keyword">if</span>(!labels){
       <span class="hljs-keyword">return</span> <span class="hljs-string">""</span><font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">for</span> (def i=<span class="hljs-number">0</span>;i&lt;labels.size;i++){
       <span class="hljs-keyword">if</span>(i&lt;labels.size<span class="hljs-number">-1</span>){<font></font>
           result += <span class="hljs-string">"\""</span> +labels[i]+ <span class="hljs-string">"\","</span>
       }<span class="hljs-keyword">else</span>{<font></font>
           result += <span class="hljs-string">"\""</span> +labels[i]+ <span class="hljs-string">"\""</span><font></font>
       }<font></font>
   }<font></font>
   result = URLEncoder.encode(result, <span class="hljs-string">"utf-8"</span>)
   <span class="hljs-keyword">return</span> result<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">/*
   â€”  .
*/</span><font></font>
<font></font>
def wikiLinkFieldId = <span class="hljs-number">50001</span>L<font></font>
def requestTypeFieldValue = getCustomFieldValue(issue, <span class="hljs-number">40001</span>)<font></font>
<font></font>
<span class="hljs-keyword">if</span>(!requestTypeFieldValue){
   <span class="hljs-keyword">return</span> <span class="hljs-string">"required field is empty"</span><font></font>
}<font></font>
<font></font>
def mainType = requestTypeFieldValue.getAt(<span class="hljs-literal">null</span>).toString()<font></font>
def subType = requestTypeFieldValue.getAt(<span class="hljs-string">'1'</span>).toString()<font></font>
<font></font>
<span class="hljs-comment">/*
    ,       : [TEST    1 (    AD)|https://confluence.ru/pages/viewpage.action?pageId=500001].
*/</span><font></font>
<font></font>
<span class="hljs-built_in">String</span> labels = getLabelFromMap(mainType,subType)<font></font>
<font></font>
<span class="hljs-keyword">if</span>(labels==<span class="hljs-string">""</span>){
   <span class="hljs-keyword">return</span> <span class="hljs-string">"no avalible position on LabelMap"</span><font></font>
}<font></font>
<font></font>
def api = <span class="hljs-string">"/rest/api/content/search?cql=label%20in(${labels})"</span><font></font>
def URL = (url+api)<font></font>
<font></font>
def wikiString = <span class="hljs-string">""</span><font></font>
<font></font>
def resp = <span class="hljs-string">"curl -u ${usr}:${pas} -X GET ${URL}"</span>.execute().text<font></font>
def result = parseText(resp)<font></font>
def ids = result.results.id<font></font>
def title = result.results.title<font></font>
<font></font>
<span class="hljs-keyword">for</span> (def i=<span class="hljs-number">0</span>;i&lt;ids.size;i++){<font></font>
   wikiString += <span class="hljs-string">"[${title[i]}|${url+browse+ids[i]}]\n"</span><font></font>
}<font></font>
<font></font>
updateCustomFieldValue(issue,wikiLinkFieldId,wikiString)<font></font>
<span class="hljs-keyword">return</span> <span class="hljs-string">"Done"</span>
</code></pre><br>
<img src="https://habrastorage.org/getpro/habr/post_images/959/a98/eac/959a98eac782a2e53bf6a8c37d7b9a12.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ†ãƒƒãƒ—3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šJSã‚¹ã‚¯ãƒªãƒ—ãƒˆ</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">/*
:

 â€” Check actual Links
id  â€” 10
Links â€” customfield_50001
*/</span><font></font>
<font></font>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>)</span>{<font></font>
  <font></font>
   <span class="hljs-comment">/*
     ,    ,                .
   */</span><font></font>
  <font></font>
   <span class="hljs-keyword">var</span> buttonNewArticle = <span class="hljs-string">'  '</span>;
   <span class="hljs-keyword">var</span> buttonDeleteUnchecked = <span class="hljs-string">' '</span>;
   <span class="hljs-keyword">var</span> buttonNewArticleTitle = <span class="hljs-string">'      '</span>;
   <span class="hljs-keyword">var</span> buttonDeleteUncheckedTitle = <span class="hljs-string">'    .'</span>;
   <span class="hljs-keyword">var</span> avalibleTransitions = [<span class="hljs-number">10</span>];
   <span class="hljs-keyword">var</span> currentTransition = <span class="hljs-built_in">parseInt</span>(AJS.$(<span class="hljs-string">'.hidden input[name^="action"]'</span>).val());<font></font>
  <font></font>
   <span class="hljs-keyword">if</span>(avalibleTransitions.indexOf(currentTransition)==<span class="hljs-number">-1</span>){
       <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error: transition '</span> + currentTransition + <span class="hljs-string">' is not avalible'</span>);
       <span class="hljs-keyword">return</span>;<font></font>
   }<font></font>
  <font></font>
   <span class="hljs-keyword">var</span> customFieldId = <span class="hljs-number">50001</span>;
   <span class="hljs-keyword">var</span> labelTxt = <span class="hljs-string">'  '</span>;
   <span class="hljs-keyword">var</span> idname = <span class="hljs-string">'cblist'</span>;
   <span class="hljs-keyword">var</span> checkboxCounter = <span class="hljs-string">'cbsq'</span>;
   <span class="hljs-keyword">var</span> text = <span class="hljs-string">'&lt;div class="field-group"&gt;&lt;label for="'</span>+idname+<span class="hljs-string">'"&gt;'</span> + labelTxt +<span class="hljs-string">'&lt;/label&gt;&lt;div id="'</span>+idname+<span class="hljs-string">'"&gt;&lt;/div&gt;&lt;/div&gt;'</span>
   AJS.$(<span class="hljs-string">'.field-group label[for^="customfield_'</span>+customFieldId+<span class="hljs-string">'"]'</span>).parent().hide();<font></font>
   AJS.$(<span class="hljs-string">'.field-group label[for^="comment"]'</span>).parent().hide();<font></font>
   $(<span class="hljs-string">'.jira-dialog-content div.form-body'</span>).prepend(text);<font></font>
  <font></font>
   <span class="hljs-comment">/*
      :
   */</span><font></font>
  <font></font>
   <span class="hljs-comment">/*
   renameButtonNeedNewArticle  renameButtonDeleteUnchecked â€”   Â« Â»           
   addCheckbox â€”     .
   */</span><font></font>
  <font></font>
   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">arrayToString</span>(<span class="hljs-params">arrays</span>) </span>{
       <span class="hljs-keyword">return</span> arrays.join(<span class="hljs-string">'\n'</span>);<font></font>
   }<font></font>
  <font></font>
   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renameButtonNeedNewArticle</span>(<span class="hljs-params"></span>) </span>{<font></font>
       $(<span class="hljs-string">'#issue-workflow-transition-submit'</span>).val(buttonNewArticle);<font></font>
       $(<span class="hljs-string">'#issue-workflow-transition-submit'</span>).attr(<span class="hljs-string">"title"</span>,buttonNewArticleTitle);<font></font>
   }<font></font>
  <font></font>
   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renameButtonDeleteUnchecked</span>(<span class="hljs-params"></span>) </span>{<font></font>
       $(<span class="hljs-string">'#issue-workflow-transition-submit'</span>).val(buttonDeleteUnchecked);<font></font>
       $(<span class="hljs-string">'#issue-workflow-transition-submit'</span>).attr(<span class="hljs-string">"title"</span>,buttonDeleteUncheckedTitle);<font></font>
   }<font></font>
  <font></font>
   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addCheckbox</span>(<span class="hljs-params">array</span>) </span>{
       <span class="hljs-keyword">var</span> value = array.join(<span class="hljs-string">'|'</span>);
       <span class="hljs-keyword">var</span> name = array[<span class="hljs-number">0</span>].replace(<span class="hljs-string">'['</span>,<span class="hljs-string">''</span>);
       <span class="hljs-keyword">var</span> link = array[<span class="hljs-number">1</span>].replace(<span class="hljs-string">']'</span>,<span class="hljs-string">''</span>);
       <span class="hljs-keyword">var</span> container = $(<span class="hljs-string">'#'</span>+idname);
       <span class="hljs-keyword">var</span> inputs = container.find(<span class="hljs-string">'input'</span>);
       <span class="hljs-keyword">var</span> id = inputs.length+<span class="hljs-number">1</span>;<font></font>
       $(<span class="hljs-string">'&lt;input /&gt;'</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">'checkbox'</span>, <span class="hljs-attr">id</span>: checkboxCounter+id, <span class="hljs-attr">value</span>: value }).appendTo(container);<font></font>
       $(<span class="hljs-string">'&lt;label /&gt;'</span>, { <span class="hljs-attr">for</span>: checkboxCounter+id, <span class="hljs-attr">text</span>: <span class="hljs-string">' '</span>  }).appendTo(container);<font></font>
       $(<span class="hljs-string">'&lt;a /&gt;'</span>, { <span class="hljs-attr">href</span>: link, <span class="hljs-attr">text</span>: name,<span class="hljs-attr">target</span>: <span class="hljs-string">"_blank"</span> }).appendTo(container);<font></font>
       $(<span class="hljs-string">'&lt;br&gt;'</span>).appendTo(container);<font></font>
   }<font></font>
  <font></font>
   <span class="hljs-comment">/*
         ,   :
   */</span><font></font>
  <font></font>
   renameButtonNeedNewArticle();<font></font>
  <font></font>
   $(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
       <span class="hljs-keyword">var</span> val = AJS.$(<span class="hljs-string">'#customfield_'</span>+customFieldId+<span class="hljs-string">''</span>).val();<font></font>
       AJS.$(<span class="hljs-string">'#customfield_'</span>+customFieldId+<span class="hljs-string">''</span>).val(<span class="hljs-string">''</span>);
       <span class="hljs-keyword">if</span>(val==<span class="hljs-string">""</span>){<span class="hljs-keyword">return</span>;}
       <span class="hljs-keyword">var</span> i = val.split(<span class="hljs-string">'\n'</span>);<font></font>
       i.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> index </span>) </span>{
           <span class="hljs-keyword">if</span>(index == <span class="hljs-string">""</span>){<span class="hljs-keyword">return</span>;}
           <span class="hljs-keyword">var</span> link = index.split(<span class="hljs-string">'|'</span>);<font></font>
           addCheckbox(link);<font></font>
       });<font></font>
   });<font></font>
  <font></font>
   <span class="hljs-comment">/*
            Links.
   */</span><font></font>
  <font></font>
   $(<span class="hljs-string">'#'</span>+idname+<span class="hljs-string">' input[type="checkbox"]'</span>).change(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
       <span class="hljs-keyword">var</span> prevalue = [];<font></font>
       AJS.$(<span class="hljs-string">'#'</span>+idname+<span class="hljs-string">' input:checkbox:checked'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<font></font>
           prevalue.push(<span class="hljs-keyword">this</span>.value);<font></font>
       });<font></font>
       AJS.$(<span class="hljs-string">'#customfield_'</span>+customFieldId+<span class="hljs-string">''</span>).val(arrayToString(prevalue));
       <span class="hljs-keyword">if</span>(prevalue.length&lt;<span class="hljs-number">1</span>){<font></font>
           renameButtonNeedNewArticle();<font></font>
       }<span class="hljs-keyword">else</span>{<font></font>
           renameButtonDeleteUnchecked();<font></font>
       }<font></font>
   });<font></font>
})(AJS.$);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã¯ã€JSå‡¦ç†å‰ã®é·ç§»ã§ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/662/deb/79f/662deb79f92137320bc5135130ccefdb.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚ŒãŒå‡¦ç†å¾Œã®é·ç§»ã§ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d4d/71e/c1f/d4d71ec1f7ccef66c8d659b2c250a6de.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ãŸãŒã£ã¦ã€1ã¤ä»¥ä¸Šã®è¨˜äº‹ãŒé¸æŠã•ã‚ŒãŸå ´åˆã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cdc/703/ef9/cdc703ef953ed3247eaa66b8c0cbb37f.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§»è¡ŒãŒå®Œäº†ã™ã‚‹ã¨ã€[ãƒªãƒ³ã‚¯]ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæ–°ã—ã„å€¤ã§ä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ†ãƒƒãƒ—4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šMyGroovyãƒã‚¹ãƒˆãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆæ–°ã—ã„è¨˜äº‹ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ï¼‰[ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Ÿéš›ã®ãƒªãƒ³ã‚¯ã®ç¢ºèª]é·ç§»ã§ã€[ãƒªãƒ³ã‚¯]ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å€¤ãŒãªã„å ´åˆã«ã€Œãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ã‚¿ã‚¤ãƒ—ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€çµ‚çš„ã«</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚‰ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ä¸»ã«æ—¢è£½ã®ãƒ„ãƒ¼ãƒ«ã‚’ç©æ¥µçš„ã«ä½¿ç”¨ã—ãŸã‚Šã€è‡ªå‹•åŒ–ã™ã‚‹å¿…è¦ã®ã‚ã‚‹ã‚¿ã‚¹ã‚¯ã«ç›´é¢ã—ã¦ã„ã‚‹åŒåƒšã®ç©æ¥µçš„ãªå‚åŠ ãªã—ã«ã¯ç¾ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">å¤šãã®å ´åˆã€èˆˆå‘³æ·±ã„ã‚¿ã‚¹ã‚¯ã¯ã™ã§ã«è§£æ±ºç­–ã®åŠåˆ†ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚æ¬¡ã«ã€æœ€ã‚‚åŠ¹ç‡çš„ã€ç°¡å˜ã‹ã¤ç°¡å˜ã«ï¼ˆã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦ï¼‰ãƒ‹ãƒ¼ã‚ºã‚’æº€ãŸã™ãƒ„ãƒ¼ãƒ«ã‚’é¸æŠã™ã‚‹ã ã‘ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã•ã¦ã€ãŠãã‚‰ãã€ã‚ãªãŸã¯æç¤ºã•ã‚ŒãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã•ã‚‰ã«è‰¯ãã™ã‚‹ã“ã¨ãŒã§ãã‚‹è³ªå•ã¨ææ¡ˆã‚’æŒã£ã¦ã„ã¾ã™-ã‚³ãƒ¡ãƒ³ãƒˆã«æ›¸ãè¾¼ã‚“ã§ãã ã•ã„ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja476430/index.html">å®Œç’§ãªæŠ€è¡“ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ä½œæˆã™ã‚‹æ–¹æ³•</a></li>
<li><a href="../ja476434/index.html">æ”¾æ£„ã•ã‚ŒãŸãƒ‡ãƒã‚¤ã‚¹ç”¨ã®USBãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®ä½œæˆ</a></li>
<li><a href="../ja476436/index.html">ãƒ­ãƒœãƒƒãƒˆã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã«é–¢ã™ã‚‹ãƒ­ãƒœãƒƒãƒˆé–‹ç™ºè€…ã®ãƒ­ã‚·ã‚¢ã§ã®æœ€åˆã®ä¼šè­°ã‹ã‚‰ã®ãƒ¬ãƒãƒ¼ãƒˆ</a></li>
<li><a href="../ja476442/index.html">ã„ãã¤ã‹ã®ã‚¹ãƒšãƒ¼ã‚¹ã¾ãŸã¯å‘¨æ³¢æ•°è¨ˆã®ã‚ˆã†ãªãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’ä¸ãˆã‚‹</a></li>
<li><a href="../ja476444/index.html">é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®åŸç†ã®è§£æ˜</a></li>
<li><a href="../ja476448/index.html">ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã‚²ãƒ¼ãƒ ã®ã‚µãƒ³ãƒ‰ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã®æ¢ç´¢</a></li>
<li><a href="../ja476450/index.html">cPanelã®æ¦‚è¦-ã‚µã‚¤ãƒˆã®ç®¡ç†ã¨ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã®ãŸã‚ã®Webãƒ™ãƒ¼ã‚¹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«</a></li>
<li><a href="../ja476452/index.html">Key-Valueã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€ã¾ãŸã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ˆã‚Šä¾¿åˆ©ã«ãªã£ãŸæ–¹æ³•</a></li>
<li><a href="../ja476454/index.html">5Gã®åˆ°æ¥ï¼š2020å¹´ã«æ–°æŠ€è¡“ã®å°å…¥ã‚’ç¢ºå®Ÿã«ã™ã‚‹ä¼æ¥­</a></li>
<li><a href="../ja476456/index.html">ä¸­å›½ã®ç¤¾ä¼šçš„ä¿¡ç”¨ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ã¾ãšç¬¬ä¸€ã«ã€å¸‚æ°‘è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ãªãã€å¤§è¦æ¨¡ãªAPIã§ã™ã€‚</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>