<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëØ üíÖüèæ üèùÔ∏è Trampas de hackers. Detecta hackear temprano con Canarytokens üë®üèæ‚Äç‚öñÔ∏è ‚ÜòÔ∏è ü§∏üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Honey Tokens (en ingl√©s: "signos / signos / identificadores de miel") es una de las variedades de la idea Honeypot, un cebo para que los intrusos dete...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Trampas de hackers. Detecta hackear temprano con Canarytokens</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495466/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Honey Tokens (en ingl√©s: "signos / signos / identificadores de miel") es una de las variedades de la idea Honeypot, un cebo para que los intrusos detecten el hecho de un hack o identifiquen su origen. </font><font style="vertical-align: inherit;">Cuando el atacante ya ha ingresado al sistema, es probable que realice acciones inusuales para el usuario com√∫n. </font><font style="vertical-align: inherit;">Esto se puede usar como una forma de detectar pirater√≠a. </font><font style="vertical-align: inherit;">En este art√≠culo, veremos qu√© f√°cil es hacer sus propios disparadores para detectar pirater√≠a en una etapa temprana. </font><font style="vertical-align: inherit;">Tales trampas son √∫tiles para los administradores del sistema e incluso para los usuarios comunes que est√°n preocupados por la privacidad de sus datos.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/xq/wk/ks/xqwkksjf6adatsv3lhu-am4ph6w.jpeg"></div></a><br>
<font color="#999999"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de la invenci√≥n de los analizadores de gas, los mineros llevaron un canario con ellos a la mina. </font><font style="vertical-align: inherit;">Debido al cuerpo peque√±o y al r√°pido metabolismo, las aves reaccionaron a gases peligrosos en el aire mucho antes y advirtieron a los mineros.</font></font></i></font><a name="habracut"></a><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPor qu√© se necesita esto?</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/ji/uf/cb/jiufcbwkepg-izswuadwxjkerxe.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El pirata inform√°tico, una vez en el nuevo sistema, comienza a mirar a su alrededor, mientras un ladr√≥n, al haber penetrado en el apartamento, comienza a abrir todas las cajas en busca de joyas. </font><font style="vertical-align: inherit;">El atacante no sabe de antemano qu√© datos particulares son valiosos, pero con una alta probabilidad verificar√° todas las opciones posibles. </font><font style="vertical-align: inherit;">Por lo tanto, es importante que las trampas se vean como datos reales y sean lo m√°s atractivas posible para el atacante. </font><font style="vertical-align: inherit;">Cuanto antes se d√© cuenta el propietario de que se dispara la trampa, m√°s pronto se dar√° cuenta de que fue pirateado y podr√° responder.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servicio Canarytokens</font></font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canarytokens.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un servicio en l√≠nea para crear convenientemente sus propios marcadores (hanitokens) para hackear. </font><font style="vertical-align: inherit;">Admite varias opciones de activaci√≥n y le permite generar un activador listo para usar con el correo adjunto, donde se enviar√° una notificaci√≥n si el activador funcion√≥. </font></font><br>
<img src="https://habrastorage.org/webt/dt/as/lm/dtaslm6-vs_4c-cl6h5nqzlqh70.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El servicio es completamente gratuito y se puede generar un desencadenante al instante sin registrarse. </font><font style="vertical-align: inherit;">Tambi√©n hay una versi√≥n autohospedada para aquellos que prefieren guardar secretos en su infraestructura. </font><font style="vertical-align: inherit;">A continuaci√≥n, veremos c√≥mo funciona cada uno de los desencadenantes y, al final, implementaremos nuestro propio servidor canarytokens en el contenedor Docker.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se dispara al abrir un archivo .doc y pdf</font></font></font></h3><br>
<img width="300" src="https://habrastorage.org/webt/x9/mw/tn/x9mwtnlqxhixsnu5o6fod1tgwao.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Funcionar√° si el programa abri√≥ el documento para verlo. </font><font style="vertical-align: inherit;">Yo uso este truco muy a menudo. </font><font style="vertical-align: inherit;">En cada computadora y unidad flash, tengo documentos con nombres atractivos como Passwords.pdf o Bitcoins.doc. </font><font style="vertical-align: inherit;">Me encanta ver c√≥mo los contadores con curiosidad examinan todos los archivos de la unidad flash que se les transfiere. </font></font><br>
 &nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Considero que este disparador es el m√°s efectivo y √∫til para todas las categor√≠as de usuarios, desde profesionales de seguridad de la informaci√≥n hasta principiantes. </font><font style="vertical-align: inherit;">Casi nadie sabe que un visor de PDF puede transmitir el hecho de abrir un archivo al propietario del documento. </font><font style="vertical-align: inherit;">Todos se encuentran con esto.</font></font><br>
 &nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Hay varias formas de detectar el hecho de abrir un documento. </font><font style="vertical-align: inherit;">Canarytokens utiliza una URL espec√≠fica del documento incrustada en el documento para verificar los certificados SSL revocados (Lista de revocaci√≥n de certificados). </font><font style="vertical-align: inherit;">Como resultado, el programa va a esta direcci√≥n y se dispara el disparador.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desencadenar mediante resoluci√≥n DNS</font></font></font></h3><br>
<img width="500" src="https://habrastorage.org/webt/am/i1/wh/ami1whax3utfizv4zfgxuerxc9g.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es un desencadenante muy interesante, cuyos beneficios no son evidentes de inmediato. </font><font style="vertical-align: inherit;">Funcionar√° si alguien solicita la direcci√≥n IP del subdominio generado, que se genera especialmente para que no se pueda adivinar por casualidad o torcer. </font><font style="vertical-align: inherit;">Por lo tanto, se excluyen las operaciones accidentales. </font><font style="vertical-align: inherit;">Este activador se utiliza para muchas de las t√©cnicas descritas a continuaci√≥n, incluso para detectar el hecho de abrir una carpeta y como activador en la base de datos MS SQL. </font><font style="vertical-align: inherit;">De hecho, hay muchas opciones para usar este disparador.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparador de URL</font></font></font></h3><br>
<img width="500" src="https://habrastorage.org/webt/60/mk/dn/60mkdnqqsqvla-5cc7-2nbkotrs.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este caso, es suficiente que una solicitud GET, POST o HEAD se ejecute por referencia. </font><font style="vertical-align: inherit;">Esto activar√° el activador. </font><font style="vertical-align: inherit;">Adem√°s de su uso habitual, tambi√©n se puede usar en scripts para verificar analizadores que siguen enlaces para mostrar vistas previas de contenido. </font><font style="vertical-align: inherit;">Tambi√©n lo hacen, por ejemplo, los mensajeros instant√°neos: simplemente escriba un enlace en el campo de entrada en el que hizo clic desde los servidores de mensajer√≠a.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imagen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La imagen cl√°sica de 1x1 p√≠xeles es conocida por todos los que rastrean la publicidad en l√≠nea. </font><font style="vertical-align: inherit;">El disparador funcionar√° si se ha cargado un archivo de imagen. </font><font style="vertical-align: inherit;">Tal p√≠xel se puede insertar en cualquier p√°gina html o en una letra. </font><font style="vertical-align: inherit;">Es conveniente llamarlo desde scripts JS en la p√°gina si la condici√≥n necesaria ha funcionado. </font><font style="vertical-align: inherit;">Tambi√©n puede reemplazar el p√≠xel est√°ndar con su propia imagen.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparador de correo electr√≥nico</font></font></font></h3><br>
<img width="300" src="https://habrastorage.org/webt/mo/4e/sm/mo4esmyilw_y8lzwqhhw2-kaemq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si llega alguna carta al buz√≥n generado, el disparador funcionar√°. </font><font style="vertical-align: inherit;">Es conveniente usar direcciones de correo electr√≥nico, listas de contactos, etc. para monitorear la fuga de bases de datos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, puede agregar esta direcci√≥n a su lista de contactos y averiguar cu√°ndo su computadora port√°til se fusionar√° con alguna aplicaci√≥n que solicite acceso a su lista de contactos. . </font><font style="vertical-align: inherit;">Tambi√©n es posible para todos los empleados agregar diferentes direcciones de activaci√≥n a las computadoras port√°tiles en una computadora, tel√©fono, cliente de correo electr√≥nico y realizar un seguimiento de d√≥nde provienen los contactos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se genera especialmente una direcci√≥n de correo electr√≥nico que no es predecible, por lo tanto, se excluye la probabilidad de selecci√≥n y activaci√≥n accidental de un activador.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Activador de apertura de carpeta de Windows</font></font></font></h3><br>
<img width="100" src="https://habrastorage.org/webt/fp/zd/hx/fpzdhxc0olbpomnpgglqlhrd9f4.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seguramente, muchos vieron un archivo desktop.ini oculto que est√° en cada carpeta de Windows. </font><font style="vertical-align: inherit;">Resulta que no es tan simple. </font><font style="vertical-align: inherit;">En √©l, puede especificar la direcci√≥n del icono en el servidor remoto, utilizando rutas UNC (estas son las que se utilizan para las unidades de red y comienzan con \\), mientras que Windows realizar√° la resoluci√≥n DNS en el dominio especificado en el enlace al icono y activar√° el disparador. </font><font style="vertical-align: inherit;">El archivo desktop.ini se puede empaquetar con otros archivos en el archivo, y funcionar√° si el archivo est√° desempaquetado.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparador de clonaci√≥n del sitio</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un script simple para p√°ginas web que funciona si la p√°gina no est√° abierta desde su dominio. </font><font style="vertical-align: inherit;">Puede ser √∫til para detectar phishing.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.domain != <span class="hljs-string">"mydomain.com"</span>) {
    <span class="hljs-keyword">var</span> l = location.href;
    <span class="hljs-keyword">var</span> r = <span class="hljs-built_in">document</span>.referrer;
    <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> Image();<font></font>
    m.src = <span class="hljs-string">"http://canarytokens.com/"</span>+
            <span class="hljs-string">"blablabla.jpg?l="</span>+
            <span class="hljs-built_in">encodeURI</span>(l) + <span class="hljs-string">"&amp;r="</span> + <span class="hljs-built_in">encodeURI</span>(r);<font></font>
}</code></pre><br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparador para ejecutar un archivo EXE o DLL</font></font></font></h3><br>
<img width="300" src="https://habrastorage.org/webt/co/3f/q5/co3fq5b-ivp-imere3zbbdcmmfe.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permita pegar el disparador con un archivo ejecutable o una biblioteca existente. </font><font style="vertical-align: inherit;">No es detectado por los antivirus. </font><font style="vertical-align: inherit;">Debe tenerse en cuenta que tal pegado puede romper algunos programas, por lo que es mejor usar algo simple. </font><font style="vertical-align: inherit;">De hecho, este es un m√©todo conocido desde hace mucho tiempo que se usa para propagar troyanos y virus, solo que en nuestro caso la funcionalidad oculta es completamente inofensiva. </font><font style="vertical-align: inherit;">Sin embargo, debe tenerse en cuenta que el archivo ejecutable puede causar una mayor alerta para el atacante y tampoco ejecutarse en su sistema operativo.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparador para MS SQL</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MS SQL le permite agregar un activador para realizar INSERT, SELECT, DELETE, etc. Para activar un activador, utilice el mismo m√©todo que para un archivo desktop.ini, es decir, resuelva un nombre DNS a trav√©s de rutas UNC.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejemplo de disparador para MS SQL</font></font></b><div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--create un procedimiento almacenado que va a hacer ping canarytokens </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 CREATE proc ping_canarytoken </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 COMO </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EMPEZAR </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 declarar</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombre de usuario</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> varchar (max), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> varchar (max), @tokendomain varchar (128), @unc varchar (128), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Talla</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En t </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hecho</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En t </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aleatorio</font></font></a> varchar(3);<br>
<br>
--setup the variables<br>
 set @tokendomain = 'qo2dd6tftntl1pej9j68v31k6.canarytokens.com';<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">size</a> = 128;<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">done</a> = 0;<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">random</a> = cast(round(rand()*100,0) as varchar(2));<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">random</a> = concat(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">random</a>, '.');<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">username</a> = SUSER_SNAME();<br>
<br>
--loop runs until the UNC path is 128 chars or less<br>
 while <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">done</a> &lt;= 0<br>
 begin<br>
 --convert username into base64<br>
 select <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">base64</a> = (SELECT<br>
 CAST(N'' AS XML).value(<br>
 'xs:base64Binary(xs:hexBinary(sql:column(¬´bin¬ª)))'<br>
, 'VARCHAR(MAX)'<br>
 ) Base64Encoding<br>
 FROM (<br>
 SELECT CAST(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">username</a> AS VARBINARY(MAX)) AS bin<br>
 ) AS bin_sql_server_temp);<br>
<br>
--replace base64 padding as dns will choke on =<br>
 select <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">base64</a> = replace(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">base64</a>,'=','-')<br>
<br>
--construct the UNC path<br>
 select @unc = concat('\\',@base64,'.',@random,@tokendomain,'\a')<br>
<br>
 ‚Äî if too big, trim the username and try again<br>
 if len(@unc) &lt;= <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">size</a><br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">done</a> = 1<br>
 else<br>
 --trim from the front, to keep the username and lose domain details<br>
 select <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">username</a> = substring(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">username</a>, 2, len(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">username</a>)-1)<br>
 end<br>
 exec master.dbo.xp_fileexist @unc;<br>
 END<br>
<br>
--add a trigger if data is altered<br>
 CREATE TRIGGER TRIGGER1<br>
 ON TABLE1<br>
 AFTER INSERT<br>
 AS<br>
 BEGIN<br>
 exec ping_canarytoken<br>
 end<br>
</div></div><br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Activador de inicio de sesi√≥n de Amazon Web Services</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La clave API de los servicios de Amazon deber√≠a atraer a un atacante para que compruebe qu√© hay all√≠. </font><font style="vertical-align: inherit;">Si esta clave API se usa para iniciar sesi√≥n, se disparar√° el desencadenador. </font><font style="vertical-align: inherit;">En este caso, por supuesto, no hay datos all√≠.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otros disparadores</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El servicio canarytokens.org tambi√©n admite otros desencadenantes, como un enlace SVN, redireccionamiento web, lectura de un c√≥digo QR, clave de API Slack y otros. </font><font style="vertical-align: inherit;">Todos usan un principio similar, y si lo desea, puede crear de forma independiente su propio disparador, teniendo en su arsenal un nombre DNS, un enlace con una imagen, una direcci√≥n postal y claves API para servicios populares. </font><font style="vertical-align: inherit;">Adem√°s de las notificaciones por correo electr√≥nico, Canarytokens puede tirar de un enlace web si se dispara un disparador. </font><font style="vertical-align: inherit;">Los mecanismos de operaci√≥n se describen en la documentaci√≥n.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servidor nativo de Canarytokens</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un cracker experimentado, al ver en el c√≥digo fuente la direcci√≥n canarytokens.org inmediatamente adivina todo. </font><font style="vertical-align: inherit;">Por lo tanto, para su uso en la empresa, es mejor implementar su propia instancia de canarytokens para que todas las direcciones de activaci√≥n vayan a los dominios internos de la empresa y no se puedan distinguir de los servicios internos reales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los desarrolladores proporcionan una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagen Docker lista para usar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">El proceso de instalaci√≥n es bastante t√≠pico para cualquier imagen, por lo que no tocaremos este tema. </font><font style="vertical-align: inherit;">Deteng√°monos solo en puntos no obvios. </font><font style="vertical-align: inherit;">Antes de instalar, deber√° editar el archivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">frontend.env</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">switchboard.env</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># ()       </span>
<span class="hljs-comment">#     IP-    Docker.        SSL-.</span><font></font>
CANARY_DOMAINS=example1.com,example2.com<font></font>
<font></font>
<span class="hljs-comment">#            PDF-</span>
<span class="hljs-comment">#    NS-          .</span>
<span class="hljs-comment">#   example3.com     example1.com  example2.com</span><font></font>
CANARY_NXDOMAINS=example3.com<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para enviar correo, recomiendo usar el servicio Mailgun, porque Sendgrid es inestable.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tales trampas son realmente efectivas. </font><font style="vertical-align: inherit;">En mi caso, los disparadores con archivos PDF son especialmente √∫tiles. </font><font style="vertical-align: inherit;">El servicio ser√° √∫til tanto para usuarios comunes como para experimentados pentesters. </font><font style="vertical-align: inherit;">Incluso un atacante sofisticado que conozca la existencia de Hanipots y Hanitokens no podr√° resistir la tentaci√≥n de al menos sobrio el subdominio que se encuentra en la documentaci√≥n. </font><font style="vertical-align: inherit;">Si usa trampas con cuidado y prudencia, puede detectar una galleta en una etapa temprana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estas t√©cnicas se pueden usar en servidores, computadoras de escritorio, almacenamiento de archivos e incluso en tel√©fonos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si desea implementar canarytokens en su propia instancia de Docker, en nuestras m√°quinas virtuales Docker se instala con un solo clic desde el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mercado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Adem√°s, ofrecemos un descuento del 15% en todos los servidores que utilizan el c√≥digo de promoci√≥n </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DONTPANIC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es495456/index.html">Revisi√≥n de 14 complementos nuevos para Figma que ayudar√°n a aumentar la productividad mientras todos</a></li>
<li><a href="../es495458/index.html">C√≥mo escribir c√≥digo cuando los ni√±os corren a tu alrededor y te preguntan: "¬øPara qu√© trabajar√°s?"</a></li>
<li><a href="../es495460/index.html">Una burbuja de gas 22,000 veces el tama√±o de la Tierra explot√≥ en Urano</a></li>
<li><a href="../es495462/index.html">.NET Core: intr√≠nseca x86_64 en m√°quinas virtuales</a></li>
<li><a href="../es495464/index.html">Mensaje de informaci√≥n 404: no solo un error, sino tambi√©n un feriado</a></li>
<li><a href="../es495468/index.html">Algoritmo de reconocimiento de etiqueta de precio que funciona incluso en terminales de recopilaci√≥n de datos</a></li>
<li><a href="../es495472/index.html">Cambiar al vegetarianismo no evitar√° que las personas se infecten por enfermedades como COVID-19</a></li>
<li><a href="../es495474/index.html">DataGrip 2020.1: iniciar configuraciones, exportar a Excel, resultados en el editor y m√°s</a></li>
<li><a href="../es495476/index.html">¬øPor qu√© el √©xito de Atari DeepMind AI es decepcionante?</a></li>
<li><a href="../es495478/index.html">Probador de datos grandes y peque√±os: tendencias, teor√≠a, mi historia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>