<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍹 🗼 📔 Infraestructura de monitoreo de Lifehacks utilizando PRTG Network Monitor de Paessler AG 🆘 🤠 ♟️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Control de nivel de tóner
 A muchos administradores les resultaría muy práctico controlar el nivel de tóner en los cartuchos de todas las impresoras q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Infraestructura de monitoreo de Lifehacks utilizando PRTG Network Monitor de Paessler AG</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/softline/blog/493996/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Control de nivel de tóner</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A muchos administradores les resultaría muy práctico controlar el nivel de tóner en los cartuchos de todas las impresoras que utilizan el Monitor de red PRTG. </font><font style="vertical-align: inherit;">Pero no todos los dispositivos admiten identificadores de objetos (OID) que utilizan el sensor SNMP. </font><font style="vertical-align: inherit;">Sin embargo, hay una opción para monitorear el nivel de tóner usando PRTG.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0m/qr/fc/0mqrfc21y4khm7-a1ayiiu0cob0.jpeg"><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algunas impresoras no son compatibles con los identificadores de objeto (OID) integrados en el sensor de la impresora PRTG, por lo tanto, al intentar solicitar datos, aparece un mensaje de error SNMP No. 222. En tales casos, el sensor SNMP PRTG incorporado (tabla personalizada) ayudará a resolver el problema. En instalaciones en inglés, se designa como Sensor de tabla personalizado SNMP. Para hacer esto, necesita los OID de la tabla SNMP. Para mostrar el nivel de llenado, se utiliza el OID "1.3.6.1.2.1.43.11.1". Ingrese en el primer paso de la configuración. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ia/xe/el/iaxeelpc0xtyqkc3c655pxta2iy.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando la tabla SNMP, PRTG muestra los niveles de tóner actuales en una lista.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego cambie la columna para identificación a OID "1.3.6.1.2.1.43.11.1.1.6". Refleja el color del cartucho. Ahora configure el nombre del canal. Se muestra junto al resultado del sensor, por ejemplo, "nivel de llenado". Entonces necesitas unir la columna del canal sensorial. Para esto, se introduce el OID "1.3.6.1.2.1.43.11.1.1.9", que refleja el nivel actual de llenado en porcentaje. Para configurar las unidades de este canal, seleccione el elemento "porcentaje" en la lista desplegable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuación, el PRTG lee todos los sensores de su impresora y le muestra una tabla con los valores disponibles. </font><font style="vertical-align: inherit;">Marque todos los canales que desea agregar y complete la configuración haciendo clic en Guardar. </font><font style="vertical-align: inherit;">Ahora el PRTG ajusta el sensor para cada registro resaltado y establece el nombre del sensor en función de la información leída. </font><font style="vertical-align: inherit;">A partir de este momento, se muestra el nivel de tóner del cartucho y los cambios se registran continuamente. </font><font style="vertical-align: inherit;">Para obtener instrucciones detalladas paso a paso con ilustraciones, consulte la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base de conocimiento de PRTG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumen del inventario de PRTG</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con PRTG Network Monitor, la estructura del árbol de dispositivos se ha vuelto más compleja a lo largo de los años. Por lo tanto, tiene sentido comprobar de vez en cuando todas las dependencias de intervalo y la herencia activa entre hosts. Además, debe enumerar todos los sensores y canales en los que se han introducido restricciones. Al saber cómo hacer esto, puede crear rápidamente revisiones relevantes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ed/yq/fo/edyqfozgjmmw51fixcd-sqi0kca.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De vez en cuando, los sistemas de monitoreo sobredimensionados requieren un inventario.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La información requerida se puede leer sin problemas desde el PRTG. </font><font style="vertical-align: inherit;">Para hacer esto, recomendamos utilizar la herramienta PrtgAPI: la interfaz C # / PowerShell, adaptada individualmente al Monitor de red PRTG. </font><font style="vertical-align: inherit;">La interfaz del programa de aplicación (API) le permite leer casi cualquier información sobre el sensor de PRTG y luego procesarla en una hoja de cálculo. </font><font style="vertical-align: inherit;">Para obtener todas las características del canal, incluido el identificador del sensor, se ejecuta el siguiente comando en la API:</font></font><br>
<br>
<pre><code class="plaintext hljs">Get-Sensor *cpu* | Get-Channel | <font></font>
 Export-Csv C:\channelLimits.csv -NoType</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si desea incluir el nombre del sensor en la tabla, puede agregarlo usando el objeto Seleccionar. </font><font style="vertical-align: inherit;">La línea de comando podría verse así:</font></font><br>
<br>
<pre><code class="plaintext hljs">$sensors = get-sensor *cpu*<font></font>
$sensors|foreach {<font></font>
$s = $_ $s|Get-Channel|select @{l="SensorName";e={$s.Name}},<font></font>
 SensorId,Name,Id, *limit*<font></font>
}|Export-Csv C:\channelLimits.csv -NoType</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si desea crear un informe de dependencias del sensor, el objeto Get-ObjectProperty lo ayudará. </font><font style="vertical-align: inherit;">Le permite analizar las propiedades DependencyType y DependentObjectId del objeto SensorSettings. </font><font style="vertical-align: inherit;">Para obtener instrucciones detalladas, incluida información adicional sobre PrtgAPI, consulte la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base de conocimiento de Paessler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comprobación de la conexión al sensor MQTT</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muchas empresas manufactureras medianas están incluyendo gradualmente sus máquinas en la red. Están conectados en un área especialmente definida y envían información al agente central MQTT, donde se lleva a cabo el procesamiento de datos posterior. Es importante que la empresa controle si el corredor MQTT es totalmente accesible. Hay recomendaciones separadas sobre este puntaje. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/kb/n9/htkbn9g6dczefrlxeeze9jaj2zg.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El sensor de relé MQTT comprueba si puede conectarse a un corredor.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
PRTG Network Monitor ofrece un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">transpondedor MQTT</font></a><font style="vertical-align: inherit;"> especial para este propósito.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Comprueba si es posible conectarse al intermediario y si el intermediario acepta mensajes a través de Publicar. Además, el sensor monitorea si el agente transmite el mensaje al participante relevante y, por un lado, mide el tiempo de una conexión individual y, por otro lado, el tiempo total requerido para que la señal vaya y venga desde el momento en que se emitió el mensaje hasta que se reciba nuevamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configurar el MQTT es muy simple e implica solo unos pocos pasos. </font><font style="vertical-align: inherit;">El sensor BETA de ida y vuelta MQTT se agrega al PRTG. </font><font style="vertical-align: inherit;">En la configuración del sensor, se asigna un nombre para el sensor y se guarda la sección MQTT (Tema MQTT). </font><font style="vertical-align: inherit;">El valor predeterminado es PRTG / ida y vuelta /% sensorid, donde PRTG toma el lugar de% sensorid con el identificador de sensor correspondiente. </font><font style="vertical-align: inherit;">Para permitir que el sensor acceda a la sección MQTT, guarde sus credenciales MQTT en la configuración del dispositivo principal. </font><font style="vertical-align: inherit;">Después de iniciar el sensor, muestra el tiempo que el mensaje pasó de un lado a otro, el estado del pasaje, el tiempo de conexión del editor y el tiempo de conexión del suscriptor en diferentes canales del sensor.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acceso remoto al servidor PRTG principal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PRTG Network Monitor es utilizado por muchas compañías para monitorear la infraestructura de TI. A menudo surge la pregunta de cómo acceder al servidor PRTG principal fuera de la red corporativa. En la siguiente recomendación se presenta lo que el administrador debe tener en cuenta en este caso y qué precauciones son importantes para evitar el acceso no autorizado de terceros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ha configurado PRTG en su red interna con su dirección IP personal, por ejemplo, 192.168.0.100. Todo funciona bien, pero ahora también desea acceder al servidor PRTG principal a través de Internet desde otra computadora. Puede usar las aplicaciones móviles PRTG para esto. Sin embargo, antes de que esto sea posible, debe asegurarse de poder acceder al servidor PRTG principal desde el exterior, incluso a través del firewall.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que la seguridad es alfa y omega, primero debe ocuparse de la imposibilidad de que otra persona ingrese a su cuenta PRTG. Para hacer esto, debe cambiar la contraseña predeterminada para la cuenta de administrador si aún no lo ha hecho. Para verificar si usa la contraseña predeterminada, simplemente vaya a "Configuración / Configuración de cuenta / Mi cuenta, sección Cuenta de usuario" en la interfaz web de PRTG.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Además, no debe acceder a la instancia PRTG desde el exterior a través de HTTP inseguro. Por lo tanto, asegúrese de que el programa PRTG esté configurado para usar HTTPS para todas las conexiones a la interfaz web de PRTG. Para hacerlo, seleccione "Servidor HTTPS seguro como el puerto del protocolo de control de transmisión (TCP) para las solicitudes entrantes del servidor web" en la sección "Configuración / Administración del sistema / Interfaz web, Servidor web". Para acceder a la instalación del servidor principal desde el exterior, debe abrir los puertos necesarios en el firewall o redirigirlos. Para hacer esto, cree reglas NAT para estos puertos. Establecer reglas NAT en el firewall puede variar mucho según el fabricante. Por lo tanto, lea la documentación de su dispositivo o modelo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestro ejemplo, si el programa PRTG se ejecuta en un servidor con una dirección IP de 192.168.0.100, las reglas NAT pueden verse como se muestra en la ilustración. La regla para HTTP es opcional, pero simplifica enormemente el proceso. Si ingresa "prtgserver. &lt;Mydomain.tld&gt;" en su navegador, primero se intentará acceder al sitio web a través de HTTP. Si no desea crear una regla NAT para HTTP, debe ingresar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prtgserver</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . &lt;Mydomain.tld&gt; </font><font style="vertical-align: inherit;">cada vez </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dt/mh/dt/dtmhdtqwkmrprpecxmdbghhevgw.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esto puede parecer reglas NAT en el firewall para proporcionar acceso remoto a PRTG.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
También debe asegurarse de que el Firewall de Windows esté deshabilitado en el servidor PRTG o de que haya creado las reglas apropiadas. </font><font style="vertical-align: inherit;">Ahora puede controlar de forma remota la instalación de PRTG a través de las aplicaciones móviles de PRTG o acceder a la interfaz web de PRTG a través de Internet desde otros clientes. </font><font style="vertical-align: inherit;">Para obtener más información sobre cómo configurar el acceso al Monitor de red PRTG a través del firewall, incluida la configuración avanzada útil, consulte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cómo hacerlo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede conocer las capacidades de Paessler PRTG, descargar la versión de prueba, hacer una pregunta a un especialista de Softline (socio clave de Paessler en Rusia y la CEI) en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paessler.softline.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es493972/index.html">El ultracondensador de la NASA se ha convertido ... en un medidor de humedad</a></li>
<li><a href="../es493974/index.html">Bricolaje y código abierto para combatir Covid-19: ventiladores</a></li>
<li><a href="../es493978/index.html">SSD Kingston A2000 1TB y A2000R 500GB: similar en el exterior, pero diferente en el interior</a></li>
<li><a href="../es493982/index.html">Impulso de Lego</a></li>
<li><a href="../es493986/index.html">Cómo encontrar objetos celestes de las cartas estelares de Stellarium usando un telescopio</a></li>
<li><a href="../es493998/index.html">¿Quién es DevOps y cuándo no es necesario?</a></li>
<li><a href="../es494000/index.html">Introducción a la seguridad de hardware de pila (Windows 10)</a></li>
<li><a href="../es494006/index.html">Bajar las barreras para el reconocimiento del habla.</a></li>
<li><a href="../es494020/index.html">Más de 30 analizadores para recopilar datos de cualquier sitio</a></li>
<li><a href="../es494024/index.html">Firefox presenta solo HTTPS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>