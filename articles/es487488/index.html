<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>  锔 Casos para aplicar herramientas de an谩lisis de anomal铆as de red: detectar la propagaci贸n de c贸digo malicioso   猸锔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuar茅 revisando casos relacionados con el uso de soluciones de monitoreo IS utilizando la soluci贸n de clase NTA (Network Traffic Analysis). La 煤l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Casos para aplicar herramientas de an谩lisis de anomal铆as de red: detectar la propagaci贸n de c贸digo malicioso</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cisco/blog/487488/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Continuar茅 revisando casos relacionados con el uso de soluciones de monitoreo IS utilizando la soluci贸n de clase NTA (Network Traffic Analysis). </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La 煤ltima vez</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le mostr茅 c贸mo puede detectar fugas de informaci贸n, pero esta vez hablaremos sobre la identificaci贸n de c贸digo malicioso dentro de una red corporativa o departamental.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d_/5y/zy/d_5yzys5bncf4bq3_xft3ekqchw.png" alt="imagen"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
驴Qu茅 tiene de dif铆cil detectar c贸digo malicioso? Pusieron un antivirus y atrapa cualquier malware. 隆Pobre de m铆! Si fuera as铆 de simple, entonces probablemente podr铆a haberse olvidado de este problema para siempre, pero no ... La cantidad de infecciones de malware exitosas no disminuye, y todo porque los atacantes cambian constantemente sus t茅cnicas y t谩cticas, modifican el malware, usan malware incorp贸reo, usan utilidades legales para la administraci贸n (el mismo PowerShell) ... Y esto es si no considera situaciones en las que en nodos individuales no hay ning煤n antivirus (los especialistas de TI no quieren instalarlo porque se ralentiza), o para esta plataforma Simplemente no existe. Y tal vez haya una situaci贸n con la que tuve que lidiar repetidamente en diferentes compa帽铆as.El gerente superior recoge el malware en la computadora port谩til o tableta de su casa y lo arrastra a la empresa para que los especialistas locales de TI lo descubran. El dispositivo se conecta a Wi-Fi local y as铆 es como comienza la epidemia interna; incluso en una red aislada de Internet. En cualquier caso, el antivirus est谩 lejos de ser siempre una salvaci贸n del c贸digo malicioso moderno, y necesitamos otros m茅todos para detectar a los malos en nuestra red.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
驴Qu茅 se caracteriza por el c贸digo malicioso moderno? </font><font style="vertical-align: inherit;">驴Hay alguna se帽al que nos diga que algo anda mal en nuestra red y que todav铆a tenemos alg煤n tipo de infecci贸n? </font><font style="vertical-align: inherit;">Si no tiene en cuenta los virus cl谩sicos que no tienen la funci贸n de distribuci贸n independiente a trav茅s de la red (y ha visto virus cl谩sicos durante mucho tiempo), entonces, entre los signos que pueden caracterizar la presencia de c贸digo malicioso en la red, nombrar铆a lo siguiente:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escanear nodos internos en busca de vulnerabilidades en sistemas operativos o aplicaciones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escanear nodos internos en busca de puertos abiertos a trav茅s de los cuales puede conectarse al sistema</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interacci贸n con servidores de comandos conocidos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tr谩fico at铆pico desde el host (protocolos previamente no satisfechos, que exceden la cantidad t铆pica de tr谩fico, protocolos de servidor en estaciones de trabajo, etc.).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estos son signos de red, que son casi independientes del c贸digo malicioso que se utiliza. Por lo tanto, puede intentar identificarlos y las herramientas de monitoreo de anomal铆as y amenazas basadas en Netflow (u otros protocolos de flujo) son los mejores candidatos para esto. Veamos c贸mo se puede hacer esto usando la soluci贸n Cisco Stealthwatch como ejemplo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
驴Cu谩l es la diferencia entre un escaneo convencional, por ejemplo, un esc谩ner de seguridad y un escaneo realizado por c贸digo malicioso? En el primer caso, en la mayor铆a de las situaciones, itera a trav茅s de puertos abiertos en una computadora, luego en otra, en la tercera y as铆 sucesivamente. Tales intentos de identificar con bastante facilidad. Es f谩cil determinar cu谩ndo el esc谩ner simplemente busca un solo puerto abierto en el rango de direcciones. El c贸digo malicioso tiene un principio de funcionamiento diferente: escanea los nodos, encuentra los vulnerables, los detecta, los escanea nuevamente, encuentra los vulnerables nuevamente, etc. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pm/hf/th/pmhfthynsrnygqtlv6gvir_8i0e.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es un desarrollo que podemos reconocer con la ayuda de algoritmos especiales integrados en el NTA.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ob/oh/vz/obohvzsbaod2spmwmmz1leviudk.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una pista adicional para nosotros es el papel de las computadoras desde las que se grab贸 el escaneo; en todos los casos, se trata de estaciones de trabajo de empleados de ventas y marketing que escanean subredes enteras, que tambi茅n est谩n l贸gicamente relacionadas con la divisi贸n de ventas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rt/4q/co/rt4qcocbyepsz3vlfb2f9dydiw0.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habiendo encontrado un punto de infecci贸n con la propagaci贸n posterior de c贸digo malicioso: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tx/hw/gj/txhwgjcmlbonfgosfqbjondeyo0.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
podemos intentar encontrar otras v铆ctimas potenciales del c贸digo malicioso: una vez </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rc/xv/z9/rcxvz9dxkrffxays3hou3zg1rr0.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
configurado correctamente el sistema de an谩lisis de anomal铆as, la pr贸xima vez ya no podremos realizar investigaciones separadas que respondan a la pregunta de si tenemos un escaneo de red o no ? Bastar谩 con ver el indicador de alarma correspondiente (reconocimiento) en la consola principal:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sr/vu/gb/srvugbzem5sfprr-qlqn_zdga-g.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y haciendo clic en 茅l, para obtener una lista de todos los que han sido notados en actividades inform谩ticas "ilegales" (por cierto, la primera ilustraci贸n de este art铆culo muestra otra forma de visualizar la escala de distribuci贸n de c贸digo malicioso). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yw/hv/sh/ywhvshjiohdvtjjhpjjnf4y1vma.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale la pena recordar que un escaneo aparentemente simple puede ser la primera se帽al para problemas m谩s serios. Si los correos electr贸nicos de phishing son uno de los primeros pasos por los cuales los atacantes comienzan sus actividades, al infectar una computadora, expanden su cabeza de puente y la forma principal de hacerlo comienza con un escaneo. As铆 fue como WannaCry actu贸, as铆 actu贸 Shamoon, por lo que cientos de otros programas maliciosos act煤an, lo que resulta en incidentes graves.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w6/-d/wc/w6-dwcrq1labj-rymczqy43o6na.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habiendo registrado el hecho de escanear y difundir c贸digo malicioso, nos enfrentamos a la tarea de llevar a cabo una investigaci贸n m谩s detallada y comprender si un nodo ya estaba infectado, de lo que estaba infectado, cu谩ndo, etc. La soluci贸n de clase NTA por s铆 sola no puede hacer esto, ya que no puede responder estas preguntas solo por telemetr铆a. Pero en el caso de Cisco Stealthwatch, una soluci贸n gratuita de Cisco Threat Response vendr谩 en nuestra ayuda, de la que ya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habl茅</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre integraci贸n </font><font style="vertical-align: inherit;">. Es suficiente para que hagamos clic en el nodo que nos interesa y en el men煤 contextual desplegable veremos la posibilidad de iniciar CTR, que a su vez puede recopilar informaci贸n sobre el nodo que nos interesa desde varios sistemas: Cisco AMP para puntos finales, Cisco Umbrella, Cisco Talos, etc.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gn/64/wo/gn64woga66tkwkd5vedz1gucauo.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As铆 es como se ver铆a la imagen que muestra la respuesta gratuita a amenazas de Cisco en funci贸n de sus capacidades para enriquecer y visualizar eventos de seguridad: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/bp/zq/htbpzqxctri84ercsdvfpbj_ryq.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CTR puede mostrarnos archivos maliciosos asociados con el sitio que nos interesa, que podemos verificar a trav茅s del entorno limitado de Cisco Threat Grid o el servicio VirusTotal. Al tener datos en un nodo, podemos ver con qui茅n interactu贸 o con qui茅n interact煤a en el marco del incidente, d贸nde comenz贸 el ataque, qu茅 c贸digo malicioso estuvo involucrado en 茅l, c贸mo penetr贸 la red y respondi贸 muchas otras preguntas que son de inter茅s para los analistas de seguridad.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tp/hu/mt/tphumth99yiy9qlefo59mxcrycw.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y luego ya podemos realizar una verificaci贸n adicional de los artefactos recibidos utilizando servicios externos de Inteligencia de amenazas, lo que nos puede proporcionar m谩s indicadores de compromiso, m谩s informaci贸n sobre los atacantes, m谩s informaci贸n sobre las t茅cnicas y t谩cticas que utilizan. </font><font style="vertical-align: inherit;">Todo comenz贸 con un simple escaneo de red detectado por la soluci贸n para analizar anomal铆as usando Netflow (u otro protocolo de flujo).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3b/w3/qz/3bw3qzewibdfgyj8xwijzag10t8.png" alt="imagen"></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es487488/">https://habr.com/ru/post/es487488/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es487454/index.html">驴Quienes son esas personas? 驴Por qu茅 me necesitan? y otros problemas de scrum master</a></li>
<li><a href="../es487460/index.html">Delta: sincronizaci贸n de datos y plataforma de enriquecimiento</a></li>
<li><a href="../es487462/index.html">Biblioteca JavaScript de Webix a trav茅s de los ojos de un principiante. Parte 4. Trabajar con datos. CRUDO</a></li>
<li><a href="../es487470/index.html">Calibry: avance del precio de avance 3D</a></li>
<li><a href="../es487486/index.html">Sega Dreamcast Anatomy: Console Second Life</a></li>
<li><a href="../es487490/index.html">Transformaci贸n XSL en MS SQL sin CLR</a></li>
<li><a href="../es487498/index.html">Elegir una base de datos para an谩lisis</a></li>
<li><a href="../es487502/index.html">Sondeo de dispositivos de impresi贸n utilizando SNMP mientras la impresora est谩 imprimiendo</a></li>
<li><a href="../es487504/index.html">Para el d铆a de la ciencia rusa, los mejores logros de los cient铆ficos nacionales de 2019 se nombran</a></li>
<li><a href="../es487508/index.html">Medici贸n de distancia a objetos con RealSense D435</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>