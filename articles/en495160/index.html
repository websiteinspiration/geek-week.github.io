<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç• üö∂üèæ üÉè From monolith to distributed system üëåüèΩ ‚ùóÔ∏è ü§ûüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Constant growth of competition among the Banks makes it necessary to adapt to different categories of Customers. So, one is easier to go to the site a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>From monolith to distributed system</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/homecredit/blog/495160/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Constant growth of competition among the Banks makes it necessary to adapt to different categories of Customers. </font><font style="vertical-align: inherit;">So, one is easier to go to the site and apply for a bank product online, while others are used to choosing new products and services directly during live communication with a bank representative. </font><font style="vertical-align: inherit;">In September 2019 </font><font style="vertical-align: inherit;">Home Credit Bank decided to launch a new process for the Client, the main purpose of which was to maintain the ‚ÄúClient - Bank Operator‚Äù contact and to refuse physical connection of the operator to the Bank‚Äôs office or counter in the shopping center. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The launch date of the pilot project was set for early December 2019. </font><font style="vertical-align: inherit;">For its implementation, as soon as possible, it was necessary to develop a system with functionality for registering a personal and non-personal debit card for new and existing Bank customers.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On the way to a new platform</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
They began to look towards the tablet solution. The implementation of a new process on a tablet based on the architecture of the Bank‚Äôs current front-office system for Operators to work with the Client seemed irrational due to an outdated technological stack, as The current front office is a monolithic web application written 8 years ago in Silverlight. Attempts to work with the current front on the tablet were unsuccessful due to the overloaded ui-part of the application and the lack of adaptive layout. In addition, Microsoft's lack of Silverlight support subtly hinted that the life cycle of our current application was coming to an end and that there was a moment of radical redesign and the transition to new technologies. We came to the decision to implement microservice architecture. Why was it necessary to abandon the monolith? Firstly,due to the scalability of the solution, improved overall fault tolerance and independent component updates. Secondly, in the Bank, the tendency to distribute functionality between product teams and the microservice approach in this case gives greater flexibility and independence of teams.</font></font><a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the first stages, the following domains (microservices) were allocated for the pilot project: user, client, debit card, and incident. </font><font style="vertical-align: inherit;">To create the back part of the application, they used the .Net Core 2.2 platform (recently switched to 3.0), borrowing elements of business logic from the system legacy. </font><font style="vertical-align: inherit;">It was decided to build the front part using react.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI / UX</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In parallel with the definition of architecture, the application interface and process business logic were discussed. It was required to determine how the Operator will interact with the Client, what package of documents is needed, what information the Operator needs at each specific sale step. The goal was to simplify the current business process, rather than simply copying functionality to a new platform. So, in the new decision, the number of fields was reduced when a debit card application was opened and the questionnaire for the Client was excluded (collecting information about how the Client found out about Home Credit Bank). A function for quick access to registration of priority debit products has been added to the main page with customer data. And at the stage of approval, applications displayed detailed information about the tariffs and conditions for the product, which also helped the Operator.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For 8 years on a productive environment, the front page home page with Customer data and the functionality for connecting products and services has become too overloaded due to endless icons and fields. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gp/mx/kp/gpmxkpedipp74od9q7t7irzprog.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I wanted to add ‚Äúair‚Äù to the interface. </font><font style="vertical-align: inherit;">Here, I had to prioritize, determining what functionality Operators needed first of all for access on the main page, which can be displayed on the side panel, and which can be abandoned due to uselessness (yes, yes! Such fields were found). </font><font style="vertical-align: inherit;">As a result of the team‚Äôs fruitful work with the designer, the first thumbnails of the page with customer data and the page with the stages of creating an application for a debit card were designed.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/i3/zq/8s/i3zq8sxd86hufatfcvsjmf9qpnk.png"><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The knowledge base for the current front-office ‚Äúlives‚Äù in Word with co-editing in SharePoint. </font><font style="vertical-align: inherit;">The new project decided to pilot a new documentation process in Confluence in conjunction with Swagger for self-documentation. </font><font style="vertical-align: inherit;">Our transition path, the pros and cons of the selected solution will be described in a separate article. </font><font style="vertical-align: inherit;">I can only say that the topic of choosing a requirements management tool is still open, we are at the stage of searching for the optimal solution for keeping documentation up to date with a minimum investment of resources.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's hit the road!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, our roadmap on the way to launch the coveted pilot looked like this. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-r/ry/67/-rry67vnfxgmwuvy6bie2lyaygq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The built-in team interaction system was able to catch the pilot deadline. </font><font style="vertical-align: inherit;">At the start of the project, the team had to abandon waterfall and set foot on the Agile trail. </font><font style="vertical-align: inherit;">It was an Agile adapted by our team. </font><font style="vertical-align: inherit;">We parallelized: the developers started at the stage of agreement with the team on the implementation, which is usually reflected in the requirements before the start of development and agreed with all participants in the process. </font><font style="vertical-align: inherit;">Open questions were discussed at meetings. </font><font style="vertical-align: inherit;">Decisions were made by a team together. </font><font style="vertical-align: inherit;">At any time, each team member could talk about the status of the project, everyone felt involved in the process and looked forward to the pilot according to the results of our work.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pilot</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The pilot took place in one of the largest shopping centers in Moscow on the eve of the New Year. For the pilot project, new sales specialists were hired who did not know banking products and had not previously worked with our current front-office system. The pilot‚Äôs results showed that new Users easily figured out the necessary sequence of actions in our new application, which meant that such a scheme could be launched at other sites, recruiting new specialists with minimal requirements.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the new application, we looked towards constant updating of functionality on the product, based on the needs of Operators and Customers. </font><font style="vertical-align: inherit;">So in the first week of launch, 25 small improvements were released based on the pilot's results. </font><font style="vertical-align: inherit;">For example, in the package of documents when concluding the contract, a printed form with product tariffs was added, because </font><font style="vertical-align: inherit;">Most Customers, having viewed the tariffs on the tablet from the Operator, expressed a desire to receive printed tariffs ‚Äúon hand‚Äù. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sales activity through the new platform was monitored online through a report on Graphana and rejoiced at each new signing of the contract.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/q2/89/feq2897nwtygyhxpu-08hvrersy.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mistakes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is a problem in the current front office when analyzing product errors - it is not always possible to restore the sequence of actions of the Operator, especially in cases where there are unpredictable transitions between application screens (identified ex-post) that are not embedded in the business logic of the process. The appeal to the User is usually inconclusive, because due to the large client flow, it is impossible to restore the sequence of actions performed in the application with a specific Client at a particular point in time. The new system also wanted to solve these problems. End-to-end logging for all microservices within the framework of the Session of the Client and the Operator, additional recording in the log of text messages for each action of the Operator (created a new Client, signed an agreement,connected sms-informing) and a full screen shot helped to quickly restore the picture of the business process, speeding up the analysis of product errors when viewing logs in GrayLog.</font></font><br>
<br>
<h3>  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The pilot's goal was not only to implement a tablet solution, but also to lay the foundations for our future platform of the Home Credit Bank front-office system. </font><font style="vertical-align: inherit;">Now we continue to improve. </font><font style="vertical-align: inherit;">We are working on the addition of a new module ‚ÄúCredits‚Äù for working with the Bank's loan products. </font><font style="vertical-align: inherit;">And also in the process of researching the use of new technologies (graphql, the purpose of which is not to drive extra data from the back to the front; camunda for flexible configuration of the business process; Prometheus for collecting business metrics for building reports). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the future, we see the advancement of the tablet solution by adding the sales functionality of various types of banking products. </font><font style="vertical-align: inherit;">Now the priority is to create the process of issuing a Bank credit card. </font><font style="vertical-align: inherit;">Plus, expanding the area of ‚Äã‚Äãapplication of the tablet to electronics stores and representative offices of pension funds.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495148/index.html">Dell XPS 13 7390 "2 in 1": a lightweight metal transformer with a bright screen and Intel Ice Lake</a></li>
<li><a href="../en495150/index.html">Docker and VMWare Workstation on the same Windows machine</a></li>
<li><a href="../en495154/index.html">Eternal server - how to get rid of monthly hosting payments</a></li>
<li><a href="../en495156/index.html">Amazing your product still works</a></li>
<li><a href="../en495158/index.html">Developers Perekrestok.ru. What we do and who we are looking for in teams</a></li>
<li><a href="../en495162/index.html">What you need to know about the impact of news on stock prices</a></li>
<li><a href="../en495164/index.html">VPS as a cure for quarantine boredom</a></li>
<li><a href="../en495166/index.html">The subtleties of communication on the remote: 5 worldly wisdom from the Team VKontakte</a></li>
<li><a href="../en495168/index.html">An alternate form of the Python ternary operator</a></li>
<li><a href="../en495170/index.html">What sounds temporarily disappeared from our lives, and whose return is not worth waiting for - a discussion</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>