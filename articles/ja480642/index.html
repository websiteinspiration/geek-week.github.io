<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆖 🐣 🌝 Linux ELFの概要：理解と分析 👑 👩🏽‍🤝‍👩🏼 🙏🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本当の傑作ですが、世の中には当たり前のものがあります。そのようなものの1つは、lsやpsなどのLinuxユーティリティです。それらは通常単純であると認識されていますが、内部を見るとこれは遠い状況です。ELF、実行可能およびリンク可能な形式も同様です。普遍的に使用されるファイル形式ですが、それを理解す...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Linux ELFの概要：理解と分析</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480642/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本当の傑作ですが、世の中には当たり前のものがあります。</font><font style="vertical-align: inherit;">そのようなものの1つは、lsやpsなどのLinuxユーティリティです。</font><font style="vertical-align: inherit;">それらは通常単純であると認識されていますが、内部を見るとこれは遠い状況です。</font><font style="vertical-align: inherit;">ELF、実行可能およびリンク可能な形式も同様です。</font><font style="vertical-align: inherit;">普遍的に使用されるファイル形式ですが、それを理解する人はほとんどいません。</font><font style="vertical-align: inherit;">このクイックガイドは、理解に役立ちます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ka/0m/em/ka0memy9zppvjiut58hua0_cyt8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このガイドを読むと、次のことがわかります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELF形式が必要な理由とそれが使用するファイルの種類</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFファイルの構造と形式の詳細</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFファイルのバイナリコンテンツを読み取って分析する方法</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイルの分析にはどのツールを使用しますか？</font></font></li>
</ul><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFファイルとは？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFは、Executable and Linkable Formatの略で、バイナリファイル、ライブラリ、コアファイルの構造を定義します。</font><font style="vertical-align: inherit;">形式の仕様により、オペレーティングシステムはファイルに含まれる機械語命令を正しく解釈できます。</font><font style="vertical-align: inherit;">ELFファイルは通常、コンパイラーまたはリンカーの出力ファイルであり、バイナリー形式です。</font><font style="vertical-align: inherit;">適切なツールを使用して、分析および調査できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFを詳しく研究する理由</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的な詳細に入る前に、ELF形式を理解することがなぜ有用であるかを説明するのは間違いありません。</font><font style="vertical-align: inherit;">まず、オペレーティングシステムの内部動作を調べることができます。</font><font style="vertical-align: inherit;">何かがうまくいかなかったとき、この知識はあなたが正確に何が起こったのか、そしてどのような理由で起こったかをよりよく理解するのに役立ちます。</font><font style="vertical-align: inherit;">また、ELFファイルを検査する機能は、セキュリティホールの発見や不審なファイルの検出に役立つ場合があります。</font><font style="vertical-align: inherit;">そして最後に、開発プロセスをよりよく理解するために。</font><font style="vertical-align: inherit;">Goのような高級言語でプログラミングしたとしても、舞台裏で何が行われているのかがよくわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では、なぜELFを勉強するのでしょうか？</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オペレーティングシステムの一般的な理解</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソフトウェア開発用</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デジタルフォレンジックとインシデントレスポンス（DFIR）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マルウェア調査（バイナリ分析）</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースからプロセスへ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちが使用しているオペレーティングシステムが何であれ、ソースコードの関数を何らかの方法でCPU言語に変換する必要があります。</font><font style="vertical-align: inherit;">関数は最も基本的なものです。たとえば、ディスク上のファイルを開いたり、画面に何かを表示したりできます。</font><font style="vertical-align: inherit;">CPU言語を直接使用する代わりに、標準機能を備えたプログラミング言語を使用します。</font><font style="vertical-align: inherit;">次に、コンパイラーはこれらの関数をオブジェクトコードに変換します。</font><font style="vertical-align: inherit;">このオブジェクトコードは、リンカーを使用して完全なプログラムにリンクされます。</font><font style="vertical-align: inherit;">結果は、特定のプラットフォームおよび特定のタイプのCPUで実行できるバイナリファイルです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始める前に</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この投稿には多くのチームが含まれています。</font><font style="vertical-align: inherit;">テストマシンで実行することをお勧めします。</font><font style="vertical-align: inherit;">これらのコマンドを実行する前に、既存のバイナリをコピーしてください。</font><font style="vertical-align: inherit;">また、コンパイルできる小さなCプログラムも作成します。</font><font style="vertical-align: inherit;">最終的には、練習は何かを学ぶための最良の方法です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFファイルの構造</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的な誤解は、ELFファイルはバイナリファイルまたは実行可能ファイル専用であることです。</font><font style="vertical-align: inherit;">実行可能ファイル（オブジェクトコード）の一部に使用できると既に述べました。</font><font style="vertical-align: inherit;">別の例は、ライブラリファイルとコアダンプ（コアファイルとa.outファイル）です。</font><font style="vertical-align: inherit;">ELF仕様は、カーネルお​​よびカーネルモジュールのLinuxでも使用されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dt/5y/vq/dt5yvqm-oju3s6todxbbd6ivzw0.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構造</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFファイルの拡張性により、ファイルごとに構造が異なる場合があります。</font><font style="vertical-align: inherit;">ELFファイルは以下で構成されます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFヘッダー</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
readelfコマンドを使用すると、ファイル構造を確認できます。これは次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vo/ng/w-/vongw-d8cy_mvkf9jgcizbdpq0c.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFヘッダー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリーンショットでわかるように、ELFヘッダーは「マジックナンバー」で始まります。</font><font style="vertical-align: inherit;">この「マジックナンバー」は、ファイルに関する情報を提供します。</font><font style="vertical-align: inherit;">最初の4バイトは、それがELFファイルであることを決定します（45 = E、4c = L、46 = F、それらの前に7f）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFヘッダーは必須です。</font><font style="vertical-align: inherit;">リンクおよび実行中にデータが正しく解釈されるために必要です。</font><font style="vertical-align: inherit;">ELFファイルの内部操作をよりよく理解するには、この情報の用途を知っておくと役立ちます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラス</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFタイプを宣言した後、クラスフィールドが続きます。</font><font style="vertical-align: inherit;">この値は、ファイルの対象となるアーキテクチャを意味します。</font><font style="vertical-align: inherit;">01（32ビットアーキテクチャ）または02（64ビット）のいずれかです。</font><font style="vertical-align: inherit;">ここでは、readelfコマンドによってELF64ファイルとして変換された02を確認します。つまり、このファイルは64ビットアーキテクチャを使用しています。</font><font style="vertical-align: inherit;">これは当然のことですが、私の車には最新のプロセッサーが搭載されています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の「データ」フィールドには2つのオプションがあります。01-LSB（Least Significant Bit）、別名リトルエンディアン、または02-MSB（Most Significant Bit、big-endian）。</font><font style="vertical-align: inherit;">これらの値は、ファイル内の残りのオブジェクトを解釈するのに役立ちます。</font><font style="vertical-align: inherit;">異なるタイプのプロセッサがデータ構造を異なる方法で処理するため、これは重要です。</font><font style="vertical-align: inherit;">この例では、プロセッサにAMD64アーキテクチャが採用されているため、LSBが使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バイナリファイルでhexdumpユーティリティを使用すると、LSB効果が表示されます。</font><font style="vertical-align: inherit;">/ bin / psのELFヘッダーを見てみましょう。</font></font><br>
<br>
<pre><code class="bash hljs">$ hexdump -n 16 /bin/ps<font></font>
0000000 457f 464c 0102 0001 0000 0000 0000 0000<font></font>
<font></font>
0000010</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データの順序の解釈により、値のペアが異なることがわかります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、バージョン番号である別の魔法の値「01」が続きます。</font><font style="vertical-align: inherit;">現在、バージョン01のみが使用可能であるため、この番号は興味深いものを意味しません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OS / ABI</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各オペレーティングシステムには独自の関数呼び出し方法があり、多くの共通点がありますが、各システムには小さな違いがあります。</font><font style="vertical-align: inherit;">関数が呼び出される順序は、アプリケーションバイナリインターフェイス（ABI）によって決定されます。</font><font style="vertical-align: inherit;">OS / ABIフィールドは、使用されるABIとそのバージョンを示します。</font><font style="vertical-align: inherit;">この例では、値は00です。これは、特定の拡張子が使用されないことを意味します。</font><font style="vertical-align: inherit;">出力では、これはSystem Vとして示されています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ABIバージョン</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要に応じて、ABIバージョンが示される場合があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機械</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイトルには、予想されるマシンのタイプ（AMD64）も示されています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイプフィールドは、ファイルの目的を示します。</font><font style="vertical-align: inherit;">一般的なファイルの種類をいくつか示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CORE（値4）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DYN（共有オブジェクトファイル）、ライブラリ（値3）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EXEC（実行可能ファイル）、実行可能ファイル（値2）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
REL（再配置可能ファイル）、リンク前のファイル（値1）</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイトル全体を見る</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のフィールドはreadelfを介して表示できますが、実際にはそれ以上です。</font><font style="vertical-align: inherit;">たとえば、ファイルの対象となるプロセッサを見つけることができます。</font><font style="vertical-align: inherit;">hexdumpを使用して、完全なELFヘッダーとすべての値を確認します。</font></font><br>
<br>
<pre><code class="bash hljs">7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 |.ELF............|<font></font>
02 00 3e 00 01 00 00 00 a8 2b 40 00 00 00 00 00 |..&gt;......+@.....|<font></font>
40 00 00 00 00 00 00 00 30 65 01 00 00 00 00 00 |@.......0e......|<font></font>
00 00 00 00 40 00 38 00 09 00 40 00 1c 00 1b 00 |....@.8...@.....|</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（出力hexdump -C -n 64 / bin / ps）強調表示された</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フィールドは、マシンのタイプを決定します。</font><font style="vertical-align: inherit;">値3eは、AMD64に対応する10進数の62です。</font><font style="vertical-align: inherit;">すべてのファイルタイプのアイデアを取得するには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘッダーファイルを</font><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべてを16進ダンプで行うことができますが、作業を行うツールを使用することは理にかなっています。</font><font style="vertical-align: inherit;">dumpelfユーティリティが役立つ場合があります。</font><font style="vertical-align: inherit;">ELFヘッダーに一致するフォーマットされた出力を示します。</font><font style="vertical-align: inherit;">どのフィールドが使用されているか、およびそれらの典型的な値は何かを検討するとよいでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのフィールドの意味を説明したところで、それらの背後にある本当の魔法を見て、次の見出しに移りましょう！</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルデータ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヘッダーに加えて、ELFファイルは3つの部分で構成されます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムのヘッダーまたはセグメント</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクションまたはセクションヘッダー</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのヘッダーについて詳しく説明する前に、ELFファイルに2つの異なる「タイプ」があることを知っておくと便利です。</font><font style="vertical-align: inherit;">それらの1つはリンカを対象としており、コードの実行（セグメント）を許可します。</font><font style="vertical-align: inherit;">もう1つはコマンドとデータ（セクション）用です。</font><font style="vertical-align: inherit;">目的に応じて、適切なヘッダータイプが使用されます。</font><font style="vertical-align: inherit;">ELF実行可能ファイルにあるプログラムヘッダーから始めましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムのタイトル</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFファイルは0個以上のセグメントで構成され、ランタイムで実行するためのメモリイメージであるプロセスの作成方法を記述します。</font><font style="vertical-align: inherit;">カーネルがこれらのセグメントを検出すると、mmap（2）システムコールを使用して仮想アドレス空間に配置します。</font><font style="vertical-align: inherit;">つまり、事前に準備された命令をメモリ内のイメージに変換します。</font><font style="vertical-align: inherit;">ELFファイルが通常のバイナリの場合、これらのプログラムヘッダーが必要です。それ以外の場合は機能しません。</font><font style="vertical-align: inherit;">これらのヘッダーは、対応するデータ構造とともにプロセスを形成するために使用されます。</font><font style="vertical-align: inherit;">共有ライブラリの場合、プロセスは似ています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p4/ja/c_/p4jac_lojwvn9movhy8w5rad1g0.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バイナリELFファイルの</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムヘッダーこの例では、9つのプログラムヘッダーが表示されます。</font><font style="vertical-align: inherit;">最初は、それらの意味を理解するのは困難です。</font><font style="vertical-align: inherit;">詳細を見てみましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNU_EH_FRAME</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、GCCコンパイラが使用するソートされたキューです。</font><font style="vertical-align: inherit;">例外ハンドラを格納します。</font><font style="vertical-align: inherit;">問題が発生した場合は、状況を正しく処理するために使用されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNU_STACK</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このヘッダーは、スタック情報を保存するために使用されます。</font><font style="vertical-align: inherit;">興味深い機能は、スタックが実行可能である必要がないことです。これは、セキュリティの脆弱性を伴う可能性があるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GNU_STACKセグメントがない場合は、実行可能スタックが使用されます。</font><font style="vertical-align: inherit;">scanelfおよびexecstackユーティリティは、スタックデバイスの詳細を表示します。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># scanelf -e /bin/ps</span><font></font>
 TYPE   STK/REL/PTL FILE <font></font>
ET_EXEC RW- R-- RW- /bin/ps<font></font>
<font></font>
<span class="hljs-comment"># execstack -q /bin/ps</span>
- /bin/ps</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムヘッダーを表示するコマンド：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dumpelf（pax-utils）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elfls -S / bin / ps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eu-readelf –プログラムヘッダー/ bin / ps</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFセクション</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクションヘッダー</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セクションヘッダーは、ファイルのすべてのセクションを定義します。</font><font style="vertical-align: inherit;">すでに述べたように、この情報はリンクと再配置に使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GNU CコンパイラがCコードをアセンブラに変換し、GNUアセンブラがオブジェクトを作成すると、セクションがELFファイルに表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上の図に示すように、セグメントには0以上のセクションを含めることができます。</font><font style="vertical-align: inherit;">実行可能ファイルには、.text、.data、.rodata、および.bssの4つのメインセクションがあります。</font><font style="vertical-align: inherit;">これらの各セクションは、readelf -Sで表示できる異なる権限で起動します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。テキスト</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実行可能コードが含まれています。</font><font style="vertical-align: inherit;">読み取り権と実行権を持つセグメントにパッケージ化されます。</font><font style="vertical-align: inherit;">それは一度ダウンロードされ、その内容は変更されません。</font><font style="vertical-align: inherit;">これは、objdumpユーティリティで確認できます。</font></font><br>
<br>
<pre><code class="bash hljs">12 .text 0000a3e9 0000000000402120 0000000000402120 00002120 2**4<font></font>
CONTENTS, ALLOC, LOAD, READONLY, CODE</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。データ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読み取りおよび書き込み権限を持つ初期化データ。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.rodata</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読み取り専用権限で初期化されたデータ。</font><font style="vertical-align: inherit;">（= A）。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.bss</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読み取り/書き込み権限を持つ初期化されていないデータ。</font><font style="vertical-align: inherit;">（= WA）</font></font><br>
<br>
<pre><code class="bash hljs">[24] .data PROGBITS 00000000006172e0 000172e0<font></font>
0000000000000100 0000000000000000 WA 0 0 8<font></font>
[25] .bss NOBITS 00000000006173e0 000173e0<font></font>
0000000000021110 0000000000000000 WA 0 0 32</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セクションとタイトルを表示するためのコマンド。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダンプエルフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elfls -p / bin / ps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eu-readelf –section-headers / bin / ps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">readelf -S / bin / ps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objdump -h / bin / ps</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクショングループ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のセクションは、1つの全体を形成するかのようにグループ化できます。</font><font style="vertical-align: inherit;">新しいリンカーはこの機能をサポートしています。</font><font style="vertical-align: inherit;">しかし、これは一般的ではありませんが。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># readelf -g /bin/ps</span>
There are no section groups <span class="hljs-keyword">in</span> this file.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはあまり面白くないかもしれませんが、ELFファイル分析ツールの知識は大きな利点を提供します。</font><font style="vertical-align: inherit;">このため、これらのツールとその目的の概要は、記事の最後に記載されています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静的および動的バイナリ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFバイナリを扱う場合、これら2つのタイプのファイルがどのようにリンクされているかを知っておくと役に立ちます。</font><font style="vertical-align: inherit;">それらは静的および動的にすることができ、これは使用するライブラリに適用されます。</font><font style="vertical-align: inherit;">バイナリが「動的」である場合は、ファイルを開く、ネットワークソケットを作成するなど、いくつかの一般的な機能を含む外部ライブラリを使用することを意味します。</font><font style="vertical-align: inherit;">対照的に、静的バイナリには、必要なすべてのライブラリが含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルが静的か動的かを確認する場合は、fileコマンドを使用します。</font><font style="vertical-align: inherit;">彼女はこのようなものを表示します：</font></font><br>
<br>
<pre><code class="bash hljs">$ file /bin/ps<font></font>
/bin/ps: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), &lt;b&gt;dynamically linked (uses shared libs)&lt;/b&gt;, <span class="hljs-keyword">for</span> GNU/Linux 2.6.24, BuildID[sha1]=2053194ca4ee8754c695f5a7a7cff2fb8fdd297e, stripped</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用されている外部ライブラリを確認するには、同じバイナリでlddを使用します。</font></font><br>
<br>
<pre><code class="bash hljs">$ ldd /bin/ps<font></font>
linux-vdso.so.1 =&gt; (0x00007ffe5ef0d000)<font></font>
libprocps.so.3 =&gt; /lib/x86_64-linux-gnu/libprocps.so.3 (0x00007f8959711000)<font></font>
libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f895934c000)<font></font>
/lib64/ld-linux-x86-64.so.2 (0x00007f8959935000)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヒント：他の依存関係を確認するには、lddtreeユーティリティを使用することをお勧めします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリ分析ツール</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFファイルを分析する場合は、既存のツールを最初に確認すると便利です。</font><font style="vertical-align: inherit;">バイナリと実行可能コードをリバースエンジニアリングするためのツールキットがあります。</font><font style="vertical-align: inherit;">ELFファイルの分析に慣れていない場合は、静的分析から始めます。</font><font style="vertical-align: inherit;">静的分析は、ファイルを開始せずに検査することを意味します。</font><font style="vertical-align: inherit;">彼らの仕事をよりよく理解し始めたら、動的分析に移ります。</font><font style="vertical-align: inherit;">例を実行して、実際の動作を確認してください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人気のツール</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Radare2</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Radare2ツールキットはSergi Alvarezによって作成されました。</font><font style="vertical-align: inherit;">番号2は、コードが最初のバージョンと比較して完全に書き換えられたことを意味します。</font><font style="vertical-align: inherit;">現在、多くの研究者がコードの操作を研究するために使用しています。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソフトウェアパッケージ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどのLinuxシステムにはbinutilsがインストールされています。その他のパッケージは、より多くの情報を表示するのに役立ちます。特にELFファイルを分析する場合は、正しいツールキットを使用すると作業が簡単になります。 ELFファイルを分析するためのパッケージとユーティリティのリストをここにまとめました。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elfutils</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
/ usr / bin / eu-addr2line </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bin / eu-ar- </font><font style="vertical-align: inherit;">アーカイブファイルを作成および処理するためのarの代替</font><font style="vertical-align: inherit;">/ usr / bin / eu-elfcmp </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-elflint-gABI仕様への準拠の確認およびpsABI </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-findtextrel-テキストの再配置を検索/ usr / bin / eu-ld- </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オブジェクトとアーカイブファイルを結合</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-make-debug-archive </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-nm-文字を表示オブジェクトと実行可能ファイル</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-objdump-オブジェクトファイルの情報を表示します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-ranlib-アーカイブファイルのインデックスを作成します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-readelf-ELFファイルを読み取り可能な形式で表示します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu- size-各セクションのサイズ（テキスト、データ、bssなど）を</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
示します/ usr / bin / eu-stack-現在のプロセスまたはカーネルダンプのスタックを示します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-strings-テキスト文字列（stringsユーティリティのような）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usrを</font><font style="vertical-align: inherit;">示します</font><font style="vertical-align: inherit;">/ bin / eu-strip-ELFファイルからシンボルテーブルを削除します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / eu-unstrip-シンボルとデバッグ情報をバイナリに追加します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注：elfutilsパッケージは良いスタートです</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。elfkickers</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
/ usr / bin / ebfc </font><font style="vertical-align: inherit;">を分析するためのほとんどのユーティリティが含まれています</font><font style="vertical-align: inherit;">-Brainfuck言語コンパイラ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / elfls-フラグ付きのプログラムヘッダーとセクションヘッダーを表示します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / elftoc-バイナリをCのプログラムに変換します/ usr / bin / infect- </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドロッパーを挿入するユーティリティが/ tmp </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / binに</font><font style="vertical-align: inherit;">setuidファイルを作成します</font><font style="vertical-align: inherit;">/ objres-通常またはバイナリデータからオブジェクトを作成し</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / rebind- </font><font style="vertical-align: inherit;">ELFファイルの文字のバインドと可視性を変更します</font><font style="vertical-align: inherit;">/ usr / bin / sstrip-ELFファイルから不要なコンポーネントを削除します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注：ELFKickersパッケージの作成者は</font><font style="vertical-align: inherit;">ELFの</font><font style="vertical-align: inherit;">操作に焦点を当てています-ファイル。これにより、「間違った」ELFバイナリを操作するときに詳細情報を取得できます</font><font style="vertical-align: inherit;">
。pax </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-utils</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / usr / bin / dumpelf-ELFの内部構造をダンプします</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / lddtree-lddのように、表示される依存関係のレベルを設定します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / pspax-実行中のプロセスに関するELF / PaX情報を表示します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / scanelf-PaXの詳細を含む幅広い情報</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / scanmacho-Mach-Oバイナリ（Mac OS X）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / </font><font style="vertical-align: inherit;">の詳細を表示します</font><font style="vertical-align: inherit;">bin / symtree-シンボルをツリー形式で表示します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注：このパッケージの一部のユーティリティは、ディレクトリを再帰的にスキャンでき、ディレクトリの内容全体を分析するのに最適です。</font><font style="vertical-align: inherit;">焦点はPaX研究ツールにあります。</font><font style="vertical-align: inherit;">ELFのサポートに加えて、Mach-Oバイナリから情報を抽出できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出力例</font></font><br>
<pre><code class="bash hljs">scanelf -a /bin/ps<font></font>
 TYPE    PAX   PERM ENDIAN STK/REL/PTL TEXTREL RPATH BIND FILE <font></font>
ET_EXEC PeMRxS 0755 LE RW- R-- RW-    -      -   LAZY /bin/ps</code></pre><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prelink</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
/ usr / bin / execstack-スタックが実行可能かどうかの情報を表示または変更できます</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ usr / bin / prelink-ELFファイル内の呼び出しを再配置してプロセスを高速化します</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">よくある質問</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ABIとは何ですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ABIはアプリケーションバイナリインターフェイスであり、オペレーティングシステムと実行可能コード間の低レベルのインターフェイスを定義します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFとは</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFは実行可能でリンク可能な形式です。</font><font style="vertical-align: inherit;">これは、実行可能コードでの命令の記述方法を定義するフォーマット仕様です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルの種類を確認するにはどうすればよいですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析の最初の段階でfileコマンドを使用します。</font><font style="vertical-align: inherit;">このコマンドは、「マジック」番号と見出しから抽出された詳細を表示できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFファイルは実行およびリンク用です。目的に応じて、必要なセグメントとセクションが含まれています。 OSカーネルはセグメントをスキャンし、それらをメモリにマップします（mmapを使用）。セクションは、実行可能ファイルまたは共有オブジェクトを作成するリンカーによって表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFファイルは非常に柔軟で、さまざまなタイプのCPU、マシンアーキテクチャ、およびオペレーティングシステムをサポートしています。また、拡張可能であり、必要なパーツに応じて、各ファイルの設計が異なります。適切なツールを使用して、ファイルの目的を理解し、バイナリファイルの内容を調べることができます。ファイルに含まれる関数と行を表示できます。マルウェアを研究する人にとって、またはプロセスが特定の方法で動作する（または動作しない）理由を理解するための良いスタートです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらなる研究のためのリソース</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ELFとリバースエンジニアリングについて詳しく知りたい場合は、Linux Security Expertで行っている作業をご覧ください。</font><font style="vertical-align: inherit;">カリキュラムの一部として、</font><font style="vertical-align: inherit;">実践的なラボ作業</font><font style="vertical-align: inherit;">を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行うリバースエンジニアリングモジュールがあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読むのが大好きな方のために、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELFフォーマット</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、</font><font style="vertical-align: inherit;">Brian Raiterが執筆したELFkickersとしても知られる</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">論文</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">である、優れた詳細なドキュメント</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ソースを理解したい方は、</font><font style="vertical-align: inherit;">Appleの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文書化されたELFヘッダーをご覧ください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヒント：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルの分析を改善したい場合</font><font style="vertical-align: inherit;">は、現在利用可能な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般的な分析ツール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用してください。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja480622/index.html">利用可能なストレージ容量を正しく使用する方法</a></li>
<li><a href="../ja480626/index.html">レガシーシステムとプロセスの継承またはCTOの役割における最初の90日間</a></li>
<li><a href="../ja480628/index.html">最初の15万件の本番インシデントを処理したときに、SREについて何を学びましたか</a></li>
<li><a href="../ja480630/index.html">コンテナは安全ですか？</a></li>
<li><a href="../ja480632/index.html">セキュリティ部門なしでどのように（あなたが）生活しているか</a></li>
<li><a href="../ja480644/index.html">刑法の146の廃止に関するマニフェスト、およびSberbankと著作権者-寄生虫のボイコット。オープンソースとnginxの場合</a></li>
<li><a href="../ja480650/index.html">髪が強い人：髪の形態</a></li>
<li><a href="../ja480652/index.html">250メートルを超えるPoEカメラ-可能</a></li>
<li><a href="../ja480654/index.html">JuliaはPythonがJavaを倒すのと同じ方法でPythonを倒しますか</a></li>
<li><a href="../ja480658/index.html">1C-善と悪。1Cあたりのホリーバーでのポイントの配置</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>