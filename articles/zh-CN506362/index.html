<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🚀 👩🏼‍🌾 🙍🏾 我们如何在网上制作舞会 😱 👩🏿‍🤝‍👨🏽 🎀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="莫斯科大剧院塞瓦斯托波尔高官舞会通常在6月举行，但是这次准备工作没有进行。组织者决定启动塞瓦斯托波尔球在线。由于我们已经连续数年对该事件进行了广播，因此无处可退。在Facebook，vkontakte和YouTube上的观众中，有35对夫妇在家里跳舞。
 
 通常，在从事在线广播一段时间后，我们注意...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>我们如何在网上制作舞会</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506362/"><img src="https://habrastorage.org/webt/r5/ac/7i/r5ac7iy_cxktzepbq9f02bdsweq.jpeg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
莫斯科大剧院塞瓦斯托波尔高官舞会通常在6月举行，但是这次准备工作没有进行。</font><font style="vertical-align: inherit;">组织者决定启动塞瓦斯托波尔球在线。</font><font style="vertical-align: inherit;">由于我们已经连续数年对该事件进行了广播，因此无处可退。</font><font style="vertical-align: inherit;">在Facebook，vkontakte和YouTube上的观众中，有35对夫妇在家里跳舞。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常，在从事在线广播一段时间后，我们注意到一种趋势，即几乎每个项目都需要（或者我们需要我们自己）某种创新。</font><font style="vertical-align: inherit;">首先，我们使用SDI，然后使用视频发送器，然后使用海上的几个4G调制解调器，新的遥控器，信号矩阵，从直升机上拾取视频，限制为25个VC组等来传输信号。</font><font style="vertical-align: inherit;">每个新项目都会使您更深入地深入溪流世界。</font><font style="vertical-align: inherit;">我们在VidMK YouTube上讨论了这一点，因此决定在Habr上撰写。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所以任务...</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在线上流行的跳舞球。有一对领先的情侣，其余的参与者跳舞，跟着他们重复，也就是说，他们必须看到并听到主要的情侣以及音乐。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zi/le/m7/zilem75qo6iakbpyybhq8dqumg8.jpeg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
开始时，塞瓦斯托波尔的州长就被打开了。现成的定向广播转至YouTube，Facebook和VK。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/td/e-/ks/tde-ksp-4qv10sdzlgyxnoqnsfo.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最明显的方法是在视频聊天中给所有人打电话。我想到的第一个是Zoom，但我通常不尝试立即抓住我所听到的内容，而是寻找替代方法。也许他们的市场营销很好，即使工具不错，也可能还有其他东西。在聊天中，AVstream多次谈论TrueConf，我决定尝试一下。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里重要的是要说我们在克里米亚，许多受欢迎的服务在这里都行不通。您必须看一下，通常情况下其他方法更好。因此，例如，我们开始使用功能强大的Planfix，而不是锁定的Trello。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TrueConf立即提高了其服务器的能力。从理论上讲，这意味着我们不依赖于自我隔离期间数据中心整体负载的增加，我们静静地坐在塞瓦斯托波尔，我们主要连接本地用户和其他城市的用户，并且一切运行稳定。此外，使用服务器更可获利。对于我们的客户来说，它也是免费提供的，因为舞会的组织者都有NPO。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总的来说，我们测试了该产品并意识到它适合我们。</font><font style="vertical-align: inherit;">尽管他们没有在测试中完成35个人的全部工作，但旧计算机如何充当服务器还是有点令人恐惧。</font><font style="vertical-align: inherit;">在这样的负载下，对系统的要求非常高，因此他们拖动了基于AMD Ryzen 7 2700的计算机，计算机变得更加安静。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
服务器实际位于广播球的位置。</font><font style="vertical-align: inherit;">视频通信的主要应用程序与服务器连接在同一网络上。</font><font style="vertical-align: inherit;">这增加了人们的信心，即图片肯定会到达服务器，然后才可以联机到其他参与者。</font><font style="vertical-align: inherit;">顺便说一句，互联网应该很好。</font><font style="vertical-align: inherit;">对于我们的35位参与者，返回速度达到了120 Mbit，也就是说，普通的100 Mbit互联网还远远不够。</font><font style="vertical-align: inherit;">总的来说，服务器正在工作，让我们继续直播...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摄像头信号</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
任何视频聊天都提供选择网络摄像头作为图像源和麦克风的声音。如果我们需要一台专业的摄像机并从两个带有留声机的麦克风中获取声音怎么办？简而言之，我们使用了NDI。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们必须指导整个广播并在社交网络上进行流式传输。为此，我们有一台主计算机充当mini-TCP（移动电视演播室）的角色。所有工作均使用vMix程序完成。这是一个功能强大的软件，用于组织各种类型和复杂程度的广播。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kn/tt/rw/knttrwjaoeoay65nbb0nvwa2yac.jpeg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们的舞伴是用一台照相机拍摄的，根本不再需要了。我们使用内置的BlackMagic Intensity Pro卡捕获了相机信号。在我看来，这是用于捕获一个HDMI信号的当前卡。该信号还必须作为网络摄像头发送到TrueConf。您可以立即使用vMix将流转换为网络摄像头，但不想将所有内容都堆放在一台计算机上。因此，一个单独的笔记本电脑用于电话。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如何从笔记本电脑上的摄像头获取信号？您可以在一台计算机上创建虚拟视频信号，然后在局域网上的任何其他计算机上捕获该虚拟视频信号，次数不限。这是NDI（网络设备接口）。实际上，不需要以任何特殊方式巧妙地管理一种虚拟电缆。 1080p25的一个流的宽度几乎为100 Mbit，因此，为了稳定运行，您肯定需要1 Gbit网络或超过150 Mbit的Wi-Fi。但是电缆更好。如果仅信道宽度足够，则在一个局域网中可以有许多这样的NDI信号。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，在vMix的主计算机上，我们看到来自摄像机的信号，并将其作为NDI信号发送到网络。</font><font style="vertical-align: inherit;">在笔记本电脑拨号器上，我们使用NDI工具包中的NDI虚拟输入程序（免费）捕获了此信号。</font><font style="vertical-align: inherit;">这个小程序创建一个虚拟的网络摄像头，其中包含所需的NDI信号。</font><font style="vertical-align: inherit;">实际上，所有通过NDI的HDMI摄像机都出现在TrueConf中。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">什么声音</font></font></h2><br>
<img src="https://habrastorage.org/webt/5v/lc/ei/5vlceisfjup8w_keruygyoulnoy.jpeg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们使用良好的音频遥控器从两个无线电麦克风和一个录音机中收集声音，并在vMix中启动外部音频卡。</font><font style="vertical-align: inherit;">正是这个音频总和，我们发送到了Trukonf的空中和NDI流中。</font><font style="vertical-align: inherit;">在这里，我们选择NewTek NDI Audio，而不是笔记本电脑的麦克风。</font><font style="vertical-align: inherit;">现在，我们所有的舞者都可以在通话中看到和听到我们美丽的画面和高品质的声音。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空灵的图片</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当每个人看到所有人时，TrueConf选择了通常的打电话方式。</font><font style="vertical-align: inherit;">当我们看到所有人，并且每个人仅看到领导者时，还有另一种选择。</font><font style="vertical-align: inherit;">这是更有效的方法，但是不会产生质量效应。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/gw/yt/bhgwyt231u4btanw1-gt4w7agza.jpeg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在“每个人都能看到所有人”的呼叫格式中，您可以选择需要放大的任何窗口。</font><font style="vertical-align: inherit;">因此，参与者看到了一对新人，我们创建了另一个用户，该用户从该用户的帐户中广播图像并在两对之间切换。</font><font style="vertical-align: inherit;">我们单击所需的一对，并放大其屏幕，其余的则在下方较小。</font><font style="vertical-align: inherit;">有时会显示所有屏幕，以显示有多少人同步跳舞。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在关于同步</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可能想知道延迟。是的，她在两个方向上大约1-2秒。在这里我们播放音乐，声音稍后传给参与者，他们按照这种节奏跳舞，他们的形象甚至在以后回到我们身边。我们决定在格式的框架内忽略它，但它看起来仍然是大规模且有趣的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可以通过人为延迟社交网络中播放的声音来解决观众的同步问题。然后，视频流的观众可以看到参与者随着音乐的节奏而舞动。但是，并非每个人都以相同的延迟获得图像。这是以太方案的另一个复杂之处，我们下次一定会做。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顺便说一句，在NDI工具包中还有另一个小程序-扫描转换器。</font><font style="vertical-align: inherit;">它会创建一个NDI信号，以捕获您的屏幕或网络摄像头。</font><font style="vertical-align: inherit;">这很容易组织一个以太坊，例如，只有该网络和网络摄像头的局域网内部的网络竞争。</font><font style="vertical-align: inherit;">无需更多设备。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j_/qo/tk/j_qotkmfhackaibgynkxlzruylc.jpeg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对我们来说，这是另一个项目，有必要尝试业务中尚未遇到的新解决方案。</font><font style="vertical-align: inherit;">如果您知道如何做得更好，我将很乐意仔细，感兴趣地回答您的所有意见和建议。</font><font style="vertical-align: inherit;">流的世界是无限的，许多技术出现在我们的眼前，您可以更快地一起学习。</font><font style="vertical-align: inherit;">您可以在下面看到该站点的概述视频。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RemrkGwDP2g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN506338/index.html">金抗癌：获得了用于个体肿瘤治疗的生物相容性金纳米颗粒</a></li>
<li><a href="../zh-CN506340/index.html">亚马逊的新保障措施是什么样的</a></li>
<li><a href="../zh-CN506342/index.html">自动化系统如何解决体育俱乐部的问题</a></li>
<li><a href="../zh-CN506346/index.html">一个月内赚百万美元：如何自行在欧洲创办创业公司</a></li>
<li><a href="../zh-CN506358/index.html">他们收到检察官锁定案件时的3种法院行为选择</a></li>
<li><a href="../zh-CN506370/index.html">比较SQL Server中检查约束和外键的性能</a></li>
<li><a href="../zh-CN506372/index.html">在人工智能中发现了复制的本能</a></li>
<li><a href="../zh-CN506380/index.html">免费或家用软件。标准或免费学费</a></li>
<li><a href="../zh-CN506384/index.html">神经网络-在没有老师的情况下进行培训。政策梯度法</a></li>
<li><a href="../zh-CN506386/index.html">如何辍学并将孩子转移到偏远地区</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>