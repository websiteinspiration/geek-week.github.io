<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëêüèæ üéõÔ∏è üé™ The last day of the working week was ending ... üìé üë®üèº‚Äçüé§ üßöüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The last day of the work week ended. I made myself coffee in the office kitchen, wondering how we would be able to reduce the queue of the request poo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>The last day of the working week was ending ...</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503236/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The last day of the work week ended. </font><font style="vertical-align: inherit;">I made myself coffee in the office kitchen, wondering how we would be able to reduce the queue of the request pool, which has grown greatly after the introduction of the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">review guide</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">It seems that simple rules caused a long correspondence in the comments to the pool of requests between members of the review team and the developers of the framework.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-k/ba/po/-kbapoxswypiw76az7hgkl11gao.png" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nothing foreshadowed. </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It was getting dark.</font></font></s><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suddenly, a working chat rustled with messages: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Why was my pull request removed? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- And my pull requests banged! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- And mine! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After just a few minutes of investment, we found out that this happened because someone deleted the Bootstrap work branch, where more than 40 people smuggled in for more than three months. Once again, in order to be able to realize the full extent of the problem, forty people poured code there for more than three months. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ag/8d/fj/ag8dfjgg-h6uurkeeqspq6ehfis.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Colleagues immediately began to gush with ideas that we all have local copies of this branch, and let's create this branch from scratch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
From my own experience, I know that hasty decisions and improvisation do not lead to anything good, so I asked everyone not to take any action and literally "take their hands off the keyboard."</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oi/-q/qa/oi-qqa12sbi0pzr7e0qv7hdfycw.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, the disposition is Friday, evening, an almost empty office, a lost branch with a huge code base. If you do not solve this problem here and now, then there is a chance that the situation will become worse if other developers who do not know the current situation get connected to the weekend (we all read the working chat carefully, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">right?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I politely asked in the chat who deleted the Bootstrap branch, and one young developer, who was recently included in the work, admitted that he did it by mistake. "Sorry". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ws/et/v_/wsetv_qqhecr929dft5kdpguynw.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I grab a specialist who has successfully turned up by the arm, and we rush to a young developer who at this moment is experiencing an existential crisis, and whose workplace, by a lucky chance, is in the same office as us.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, we restored the branch - a bit of git magic, and everything worked out. You can not say about more than 20 pull requests that have disappeared in the bowels of GitHub. Unpleasant, but not fatal. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Time to take a breath, figure out what happened and draw some conclusions. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q6/5x/bi/q65xbicceq5nhhf_hbdp20uu3ge.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main question is why? The answer, in general, is trivial - by accident. Something was wrong with the code that was committed to its own working branch - nothing criminal, it was just ugly code, and even if you reverse the commit, it still remains in history. Therefore, the developer decided to demolish his entire working branch and recreate it. From scratch. And the Bootstrap branch came under a hot hand. Friday. Evening. Misklik, yes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k3/hp/zn/k3hpzn1do31vf_edxsawm9_97es.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GitHub allows you to cancel the delete operation, but only until the page is updated, and this chance was not used. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Could this situation have been avoided? </font><font style="vertical-align: inherit;">Yes you can. </font><font style="vertical-align: inherit;">By default, anyone with write access to your repository can delete any branch. </font><font style="vertical-align: inherit;">However, GitHub allows you to create a Branch protection rule for one or more branches. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kz/gg/gp/kzgggps4z3nciotommka65_f8ny.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Where it is important to make sure that the corresponding check box is not checked. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ze/6i/k8/ze6ik8zt88zxwet3fobnxyo4nwy.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This was not done for the bootstrap branch, and it caught up with us. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the dry residue:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They saved the branch.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now, on any branch in which more than one person contributes, we install the Protection rule. </font><font style="vertical-align: inherit;">What I recommend not to forget to do everything.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Support for the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BootStrap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> package </font><font style="vertical-align: inherit;">in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDI Light,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> we eventually implemented and rolled out. </font><font style="vertical-align: inherit;">But what it is and why - that's another story ...</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en503226/index.html">What is stopping business from moving into a ‚Äúnumber", and what does it have to do with reputation</a></li>
<li><a href="../en503228/index.html">Heart rate control while jogging through musical feedback - or ‚Äútesters who like to run are looking for‚Äù</a></li>
<li><a href="../en503230/index.html">Incident Response Platform class systems: application and main functions</a></li>
<li><a href="../en503232/index.html">How to become a DevOps engineer in six months or even faster. Part 6. Launching the application</a></li>
<li><a href="../en503234/index.html">Tech Talks Delivery Club at RIT ++</a></li>
<li><a href="../en503238/index.html">Architectural methods: what is it and why are they needed</a></li>
<li><a href="../en503240/index.html">Tree - a single AST to rule all</a></li>
<li><a href="../en503242/index.html">Does a programmer need ethics?</a></li>
<li><a href="../en503244/index.html">Consciousness and thesis of Max Fry</a></li>
<li><a href="../en503246/index.html">Simple service discovery in Prometheus via Consul</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>