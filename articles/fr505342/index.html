<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëäüèø üàπ üçû L'injection de d√©pendance et le principe d'inversion de d√©pendance NE SONT PAS UN ET M√äME ü§® üöÅ üë®‚Äçüë®‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La traduction de l'article a √©t√© pr√©par√©e avant le d√©but du cours "D√©veloppeur C ++" .
 
 
 
 Il √©tait une fois, quand j'ai commenc√© √† bloguer sur Los...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>L'injection de d√©pendance et le principe d'inversion de d√©pendance NE SONT PAS UN ET M√äME</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/505342/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La traduction de l'article a √©t√© pr√©par√©e avant le d√©but du cours </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"D√©veloppeur C ++"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sa/sl/j7/saslj70zbwjvfx4rubfcof0jouo.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il √©tait une fois, quand j'ai commenc√© √† bloguer sur LosTechies, j'ai √©crit plusieurs articles sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dependency Inversion (DI)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Dependency Injection (√©galement DI), et, bien s√ªr, sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fa√ßon dont j'ai finalement J'ai commenc√© √† comprendre l'essence de l'injection de d√©pendance</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">√Ä cette √©poque, je pensais que les deux DI n'√©taient que des variations du nom de la m√™me technique - que vous l'appeliez ¬´injection¬ª ou ¬´inversion¬ª.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Injection! = Inversion</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Environ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
un an apr√®s ces deux publications, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">j'ai √©crit un article pour Code Magazine sur les principes du d√©veloppement logiciel SOLID</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En cours d'√©criture, j'ai demand√© √† mon ancien collaborateur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derek Greer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soyez un critique de cet article. Cela s'est av√©r√© √™tre la meilleure chose que j'ai jamais faite pour ma compr√©hension de SOLID, car Derek a eu la gentillesse (et la patience avec mon ent√™tement) de me montrer o√π ma compr√©hension de l'inversion de d√©pendance √©tait diff√©rente de la bonne. Il a pris le temps de me guider √† travers les articles originaux de l'oncle Bob, d'expliquer o√π j'ai m√©lang√© l'injection de d√©pendance et l'inversion, et a finalement clarifi√© ce sujet pour moi. En cons√©quence, j'ai re√ßu un excellent article, qui est toujours tr√®s populaire - et je suis tr√®s reconnaissant √† Derek pour son aide √† corriger ma compr√©hension. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, √† ce jour, je continue de voir comment d'autres personnes font la m√™me erreur - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√™me en rubis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Par cons√©quent, pour aider les autres √† comprendre ce qu'est l'inversion de d√©pendance et ce qu'elle n'est pas, je republie une section √† ce sujet ici dans mon article SOLID. </font><font style="vertical-align: inherit;">Je comprends qu'une partie du texte n'aura pas de sens en dehors du contexte du reste de l'article. </font><font style="vertical-align: inherit;">Cependant, le principe g√©n√©ral doit √™tre √©vident, et vous avez la possibilit√© √† tout moment de suivre le lien vers l'article pour clarifier vos points. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Formalit√© l√©gale: le texte suivant est initialement paru dans le num√©ro de </font><font style="vertical-align: inherit;">janvier / f√©vrier 2010 </font><font style="vertical-align: inherit;">du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CODE Magazine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et est reproduit ici avec leur autorisation)</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Principe d'inversion de d√©pendance</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principe d'inversion de d√©pendance (DIP) se compose de deux parties:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les modules de niveau sup√©rieur ne doivent pas d√©pendre de modules de niveau inf√©rieur. </font><font style="vertical-align: inherit;">Ceux-ci et les autres devraient d√©pendre des abstractions.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les abstractions ne devraient pas d√©pendre des d√©tails. </font><font style="vertical-align: inherit;">Les d√©tails doivent d√©pendre des abstractions.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rafra√Æchissez votre m√©moire la derni√®re fois que vous avez voulu allumer la lampe pour √©clairer une partie de la pi√®ce. </font><font style="vertical-align: inherit;">√âtait-il n√©cessaire de percer un trou dans le mur, de creuser √† la recherche de c√¢blage, de l'exposer et de souder la lampe directement dans le c√¢blage de la maison? </font><font style="vertical-align: inherit;">Bien s√ªr que non (du moins j'esp√®re que non!). </font><font style="vertical-align: inherit;">Une prise √©lectrique fournit une interface standard pour cela. </font><font style="vertical-align: inherit;">Personne dans la plupart des pays industrialis√©s ne s'attend √† ce qu'une lampe conventionnelle la soude directement dans le c√¢blage √©lectrique d'un b√¢timent. </font><font style="vertical-align: inherit;">De plus, personne ne s'attend √† pouvoir ins√©rer une seule lampe dans la prise. </font><font style="vertical-align: inherit;">Nous sommes habitu√©s √† connecter des lampes, des ordinateurs, des t√©l√©viseurs, des aspirateurs et d'autres appareils. </font><font style="vertical-align: inherit;">Aux √âtats-Unis, une prise √©lectrique standard de 120 volts et 60 hertz est devenue omnipr√©sente dans la soci√©t√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le m√™me principe s'applique au d√©veloppement de logiciels. </font><font style="vertical-align: inherit;">Au lieu de travailler avec un ensemble de classes √©troitement interconnect√©es, vous souhaitez travailler avec une interface standard. </font><font style="vertical-align: inherit;">De plus, vous souhaitez garantir que vous pouvez remplacer l'impl√©mentation sans violer les attentes de cette interface, selon le LSP (Liskov Substitution Principle - Liskov Substitution Principle). </font><font style="vertical-align: inherit;">Ainsi, si vous travaillez avec une interface et souhaitez pouvoir la remplacer, vous devez vous assurer que vous ne travaillez qu'avec l'interface, et non avec une impl√©mentation sp√©cifique. </font><font style="vertical-align: inherit;">Autrement dit, le code qui repose sur une interface ne doit conna√Ætre que les d√©tails de cette interface. </font><font style="vertical-align: inherit;">Il ne devrait pas √™tre au courant de classes sp√©cifiques qui impl√©mentent cette interface.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relations des politiques, des d√©tails et des abstractions</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En paraphrasant un peu le principe de l'inversion, nous pouvons dire que la politique (haut niveau) ne devrait pas d√©pendre du d√©tail (mise en ≈ìuvre), et le d√©tail devrait d√©pendre de la politique. Une politique de niveau sup√©rieur doit d√©finir l'abstraction √† laquelle elle se r√©f√®re, o√π une certaine mise en ≈ìuvre de la partie ex√©cute l'action demand√©e. Cette perspective permet d'illustrer pourquoi c'est le principe de l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inversion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><font style="vertical-align: inherit;">d√©pendance, et pas seulement le principe d'abstraction de d√©pendance.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour illustrer pourquoi la d√©pendance d'une pi√®ce √† l'√©gard d'une strat√©gie est l'inverse d'une d√©pendance, consid√©rons le code que nous avons √©crit dans FormatReaderService. </font><font style="vertical-align: inherit;">Le service de lecture de fichiers format√©s est une politique. </font><font style="vertical-align: inherit;">Il d√©finit ce que l'interface IFileFormatReader doit faire - le comportement attendu de ces m√©thodes. </font><font style="vertical-align: inherit;">Cela vous permet de vous concentrer sur la politique elle-m√™me, en d√©terminant le fonctionnement du service de lecture, sans prendre en compte la mise en ≈ìuvre des d√©tails - lecteurs de formats individuels. </font><font style="vertical-align: inherit;">Ainsi, les lecteurs d√©pendent de l'abstraction fournie par le service de lecture. </font><font style="vertical-align: inherit;">En fin de compte, le service et les lecteurs individuels d√©pendent de l'abstraction de l'interface du lecteur de format.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©duire la connectivit√© en inversant les d√©pendances</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous savez que l'absence de d√©pendances (ayant une connectivit√© nulle) n'est pas pratique pour une classe. Vous n'auriez pas un ensemble de classes utilisable si vous n'aviez aucune connectivit√©. Cependant, vous souhaitez √©galement vous d√©barrasser de la connectivit√© directe chaque fois que possible. Vous souhaitez diviser votre syst√®me afin qu'il vous permette de changer ses parties individuelles sans rien changer d'autre que ces m√™mes parties. Le principe de l'inversion de d√©pendance est la cl√© de ce concept. En vous appuyant uniquement sur une abstraction, telle qu'une interface ou une classe de base, vous pouvez r√©duire la connectivit√© entre les diff√©rentes parties de votre syst√®me. Cela vous permet de reconstruire le syst√®me avec diff√©rentes impl√©mentations.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consid√©rez les nombreuses classes qui doivent √™tre instanci√©es dans une hi√©rarchie claire afin que vous puissiez obtenir certaines des fonctionnalit√©s dont vous avez besoin. Le moyen le plus simple consiste √† cr√©er une instance de la classe un niveau inf√©rieur en utilisant la classe du niveau le plus √©lev√© (celle que vous souhaitez appeler), en l'utilisant pour instancier la classe encore plus bas, etc. La figure 14 montre un graphique d'objets dont d√©pend un objet de niveau sup√©rieur (politique) et est directement connect√© √† un objet de niveau inf√©rieur (d√©tail). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7i/zd/jv/7izdjvplld2jiet956hwk3ttlte.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 14: Politique associ√©e √† la pi√®ce.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela impl√©mente la hi√©rarchie n√©cessaire, mais lie directement les classes. Vous ne pouvez pas utiliser Foo sans faire glisser Bar. Si vous souhaitez s√©parer ces classes, vous pouvez facilement entrer une interface que Bar impl√©mentera et dont Foo d√©pendra. La figure 15 montre une interface IBar simple que vous pouvez cr√©er en fonction de l'API publique de la classe Bar. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/ed/cx/giedcxlbprh_liaxhbew-59rggg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 15: S√©paration par abstraction.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans ce sc√©nario, vous pouvez s√©parer l'impl√©mentation de Bar de son utilisation dans Foo en introduisant une interface. Cependant, vous ne s√©parez l'impl√©mentation qu'en s√©lectionnant l'interface de celle-ci. Vous n'avez pas encore invers√© la structure de d√©pendance et n'avez pas r√©solu tous les probl√®mes de connectivit√© dans ce sch√©ma.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que se passe-t-il lorsque, dans ce sc√©nario, vous souhaitez modifier la barre? Selon les modifications que vous souhaitez effectuer, vous pouvez provoquer une r√©action en cha√Æne qui vous oblige √† modifier l'interface IBar. Foo d√©pend de l'interface IBar, vous devez donc √©galement modifier l'impl√©mentation de Foo. Vous avez peut-√™tre s√©par√© l'impl√©mentation de Bar, mais laiss√© Foo d√©pendant des modifications apport√©es √† Bar. Autrement dit, la politique d√©pend toujours des d√©tails. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez inverser la structure des d√©pendances afin que la partie devienne d√©pendante de la strat√©gie, vous devez tout d'abord changer votre perspective. Le d√©veloppeur travaillant avec ce syst√®me doit comprendre que vous avez non seulement extrait l'impl√©mentation de l'interface. Oui, cette s√©paration est n√©cessaire, mais pas suffisante. Vous devez comprendre √† qui appartient l'abstraction - Politique ou D√©tails.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principe d'inversion de d√©pendance stipule que les d√©tails doivent d√©pendre des politiques. Cela signifie que vous devez avoir une strat√©gie qui d√©finit et poss√®de l'abstraction que la pi√®ce impl√©mente. Dans le script Foo-&gt; IBar-&gt; Bar, vous devez consid√©rer IBar comme faisant partie de Foo, et pas seulement comme un wrapper pour Bar. Bien que rien n'ait chang√© structurellement, la perspective de la propri√©t√© a chang√©, comme le montre la figure 16. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dv/x8/13/dvx813ddp0l2nuaqdj6z_nsm5sm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 16: La politique est propri√©taire de l'abstraction. Les d√©tails d√©pendent de la politique.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si Foo a une abstraction IBar, vous pouvez placer ces deux constructions dans un package ind√©pendant de Bar. Vous pouvez les placer dans votre propre espace de noms, dans votre propre assembly, etc. Cela peut augmenter consid√©rablement la visibilit√© de quelle classe ou module d√©pend de celui-l√†. Si vous voyez que AssemblyA contient Foo et IBar et que AssemblyB fournit une impl√©mentation de IBar, il est plus facile pour vous de remarquer que la granularit√© de Bar d√©pend de la strat√©gie d√©finie par Foo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous inversez correctement la structure des d√©pendances, la r√©action en cha√Æne aux changements de strat√©gie et / ou de d√©tails sera d√©sormais √©galement correcte. </font><font style="vertical-align: inherit;">Lorsque vous modifiez l'impl√©mentation de Bar, vous n'observez plus une cha√Æne de changements ascendante. </font><font style="vertical-align: inherit;">En effet, Bar doit se conformer √† l'abstraction fournie par Foo - les d√©tails ne dictent plus un changement de politique. </font><font style="vertical-align: inherit;">Ensuite, lorsque vous modifiez les besoins de Foo, provoquant des changements dans l'interface IBar, vos changements se r√©pandront dans toute la structure. </font><font style="vertical-align: inherit;">La barre (d√©tail) sera forc√©e de changer en fonction des changements de politique.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√©paration et inversion des d√©pendances du syst√®me d'envoi d'e-mails</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En parcourant notre base de code, vous remarquerez peut-√™tre que IFileFormatReader est d√©j√† un exemple d'inversion de d√©pendance. La classe FormatReaderService poss√®de une d√©finition d'interface de lecteur de format. Si les besoins du service de lecteur de fichiers format√©s changent, vous verrez tr√®s probablement une cha√Æne de modifications qui descendra pour formater les lecteurs. Toutefois, si le lecteur d'un format de fichier sp√©cifique change, il est peu probable que ces modifications affectent le service de lecture des fichiers format√©s. Cela vous fait vous demander o√π vous pouvez inverser les d√©pendances du syst√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re chose que vous voulez faire est de s√©parer la logique de r√©ception des messages de log et de leur envoi par e-mail du formulaire d'envoi. Cela ne vous d√©range pas les liens vers les deux services de lecture et d'envoi d'emails, mais la question de quand et de quelles causes est douteuse. Vous vous rendez compte que le processus est en fait dupliqu√© sous la forme: une fois pour l'envoi depuis un fichier et une fois pour l'envoi depuis une base de donn√©es. Et puis vous vous souvenez de tous les autres minist√®res qui utilisent √©galement cela, et commencez √† vous interroger sur l'√©tendue r√©elle du processus de duplication. De plus, certains de vos amis ont r√©cemment parl√© de ¬´tests unitaires¬ª. Ils disent que vous devez vous assurer que la vraie logique du processus que vous testez est encapsul√©e dans des objets qui ne font pas r√©f√©rence √† des syst√®mes externes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et avec tout cela √† l'esprit, vous d√©cidez de cr√©er un objet appel√© ProcessingService. Apr√®s quelques minutes de m√©lange du code dans les deux sens pour essayer de consolider le processus, vous vous rendez compte que vous ne voulez pas que le service de traitement soit directement connect√© au lecteur de base de donn√©es ou aux services de lecture de fichiers. Apr√®s une petite r√©flexion, vous remarquez un mod√®le entre eux: la m√©thode GetMessageBody. En utilisant cette m√©thode comme base, vous cr√©ez une nouvelle interface IMessageInfoRetriever et l'impl√©mentez √† la fois en tant que lecteur de base de donn√©es et en tant que lecteur de fichiers.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">public</span> interface IMessageInfoRetriever<font></font>
{ <font></font>
  <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span></span>; <font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileReaderService</span>:</span> IMessageInfoRetriever<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span> </span>{<span class="hljs-comment">/* ... */</span>}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseReaderService</span>:</span> IMessageInfoRetriever<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span> </span>{<span class="hljs-comment">/* ... */</span>}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette interface vous permet de fournir n'importe quelle impl√©mentation pour les services de traitement dont vous avez besoin. </font><font style="vertical-align: inherit;">Ensuite, vous faites attention au service de messagerie, qui est actuellement directement li√© au service de traitement. </font><font style="vertical-align: inherit;">L'interface simple IEmailService r√©sout ce probl√®me. </font><font style="vertical-align: inherit;">La figure 17 montre la structure r√©sultante. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nv/np/aa/nvnpaagcxk8lp-aupfuydbylwu0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 17: inversion des d√©pendances du service de traitement et du service de lecture de fichiers. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La transmission d'interfaces de r√©cup√©ration de messages et de services de messagerie au service de traitement garantit qu'il existe une instance de toute classe qui impl√©mente ces interfaces, sans qu'il soit n√©cessaire de conna√Ætre des types sp√©cifiques d'instances.</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En savoir plus sur le cours.</font></font></a><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr505314/index.html">Synchronisation de l'heure Linux: NTP, Chrony et systemd-timesyncd</a></li>
<li><a href="../fr505322/index.html">R√©partiteur du futur: comment va √©voluer son r√¥le dans l'entreprise de services?</a></li>
<li><a href="../fr505330/index.html">Comment ne pas cr√©er une crypto-monnaie √† partir de z√©ro en 3 ans</a></li>
<li><a href="../fr505336/index.html">Comment: Manet ou Monet? Le r√©seau neuronal r√©pond</a></li>
<li><a href="../fr505340/index.html">Les employ√©s de Walmart tentent de prouver que l'IA antivol ne fonctionne pas</a></li>
<li><a href="../fr505362/index.html">Vite - D√©veloppement de leads sans bundles sur Vue</a></li>
<li><a href="../fr505378/index.html">Tout ce marketing: comment travailler avec des points de contact dans une entreprise informatique?</a></li>
<li><a href="../fr505386/index.html">Installer Debian sur Netgear Stora</a></li>
<li><a href="../fr505388/index.html">Treezor - Leader des services bancaires √† la Soci√©t√© G√©n√©rale</a></li>
<li><a href="../fr505390/index.html">Fondateur de la communaut√© F #: ¬´OOP et AF du cerveau doivent mourir¬ª // Nous sommes condamn√©s # 7</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>