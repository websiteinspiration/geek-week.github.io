<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧔 🧔🏼 👨‍👩‍👧‍👧 NoVerify: un linter PHP qui fonctionne rapidement 👩🏼‍🤝‍👨🏿 👨🏼‍🍳 🏮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il existe de bons utilitaires d'analyse statique pour PHP: PHPStan, Psalm, Phan, Exakat. Les linters font bien leur travail, mais très lentement, car ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>NoVerify: un linter PHP qui fonctionne rapidement</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/487260/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe de bons utilitaires d'analyse statique pour PHP: PHPStan, Psalm, Phan, Exakat. </font><font style="vertical-align: inherit;">Les linters font bien leur travail, mais très lentement, car presque tous sont écrits en PHP (ou Java). </font><font style="vertical-align: inherit;">Pour un usage personnel ou un petit projet, c'est normal, mais pour un site avec des millions d'utilisateurs, c'est un facteur critique. </font><font style="vertical-align: inherit;">Un linter lent ralentit le pipeline CI et rend impossible son utilisation en tant que solution pouvant être intégrée dans un éditeur de texte ou un IDE. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/of/zg/kr/ofzgkrouigpm_lqdgdxepukek4q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un site avec des millions d'utilisateurs est VKontakte. </font><font style="vertical-align: inherit;">Développement et ajout de nouvelles fonctions, test et correction de bugs, revues - tout cela devrait aller vite, dans des conditions de délais serrés. </font><font style="vertical-align: inherit;">Par conséquent, un bon et rapide linter qui peut vérifier la base de code pour 5 millions de lignes en 5-10 secondes est une chose irremplaçable.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a pas de linters appropriés sur le marché, donc Yuri Nasretdinov (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tu gères</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) de VKontakte a écrit son aide aux équipes de développement - NoVerify. </font><font style="vertical-align: inherit;">Il s'agit d'un linter pour PHP, qui est écrit en Go. </font><font style="vertical-align: inherit;">Il fonctionne 10 à 30 fois plus rapidement que ses homologues, peut trouver quelque chose que PhpStorm ne prévient pas, étend facilement et s'intègre bien dans des projets qui n'ont jamais entendu parler de l'analyse statique auparavant.&nbsp;</font><strong><font style="vertical-align: inherit;">Iskander Sharipov</font></strong></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
parlera de ce linter </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sous le chat: comment choisir un linter et préférez écrire le vôtre, pourquoi NoVerify est si rapide et comment il est organisé à l'intérieur, pourquoi il est écrit en Go, ce qu'il peut trouver et comment il se développe, quels compromis vous avez dû faire pour lui et ce qui peut être construit sur cette base.</font></font><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dlcDvUTQ5Lk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iskander Sharipov</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quasilyte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) travaille dans l'infrastructure dorsale de VKontakte et connaît bien NoVerify. </font><font style="vertical-align: inherit;">Dans le passé, il était engagé dans le Go-compiler de l'équipe Intel. </font><font style="vertical-align: inherit;">Il n'écrit pas en PHP, mais c'est son langage préféré pour l'analyse statique - il y a beaucoup de choses qui peuvent mal tourner. </font></font><br>
<br>
<i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque. </font></font></strong></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour comprendre le contexte, lisez l'article de Yuri Nasretdinov, l'auteur de NoVerify sur </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habré,</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec un contexte et une comparaison avec certains linters existants, qui sont généralement écrits en PHP. </font><font style="vertical-align: inherit;">Toutes les déclarations en direction de PHP (dans l'article de Yuri et ici) sont une blague. </font><font style="vertical-align: inherit;">Iskander aime PHP, tout le monde aime PHP.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Développement de produits</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans VKontakte, il s'agit d'un développement de site Web sur KPHP. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La vitesse est importante pour VKontakte:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> correction de bugs, ajout et développement de nouvelles fonctions de la première phase à la dernière. Mais la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vitesse s'accompagne d'erreurs</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , surtout quand les délais sont durs - nous sommes pressés, nerveux et faisons plus d'erreurs que dans une situation calme. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les erreurs affectent les utilisateurs</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous ne voulons pas qu'ils souffrent, nous contrôlons donc la qualité. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais le contrôle de la qualité ralentit le développement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cela nous ne voulons pas non plus, donc l'effet doit être minimisé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, nous pourrions effectuer </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus de révisions de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> code sans faute, embaucher </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus de testeurs</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et écrire plus de tests. </font><font style="vertical-align: inherit;">Mais tout cela est mal automatisé: l'examen doit être fait et les tests doivent être écrits. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les tâches principales de mon équipe sont différentes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Collectez des métriques, analysez et réparez rapidement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si quelque chose ne va pas, nous voulons le restaurer rapidement, comprendre ce qui ne va pas, le corriger et ajouter rapidement le code de travail à la production. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surveillez la rigueur du pipeline</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> afin que le code non fonctionnel ne soit pas du tout mis en production - vous n'avez pas besoin de le restaurer. </font><font style="vertical-align: inherit;">Ici, les linters viennent à la rescousse - les analyseurs de code statique. </font><font style="vertical-align: inherit;">Nous en parlerons.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choisissez un linter</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Choisissons un linter que nous ajoutons au pipeline. Nous adoptons une approche simple - nous formulons les exigences. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linter devrait fonctionner rapidement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il y a plusieurs étapes dans notre pipeline: le fonctionnement du linter ne devrait pas prendre beaucoup de temps et beaucoup de temps pour le développeur, alors qu'il attend des commentaires. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prise en charge de "leurs" chèques</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Très probablement, le linter n'a pas tout ce dont nous avons besoin - nous devrons ajouter nos propres chèques. Ils devraient trouver des problèmes typiques de notre base de code, vérifier le code du point de vue de notre projet. Tout cela ne peut pas être (ou commodément) couvert par des tests. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prise en charge des chèques «propres»</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nous pouvons écrire de nombreux tests, mais seront-ils bien pris en charge? </font><font style="vertical-align: inherit;">Par exemple, si nous écrivons sur des expressions régulières, elles deviendront plus compliquées lorsque vous devrez prendre en compte le contexte, la sémantique et la syntaxe du langage. </font><font style="vertical-align: inherit;">Par conséquent, les tests ne sont pas une option. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart des linters que nous avons examinés sont écrits en PHP. </font><font style="vertical-align: inherit;">Mais ils ne passent pas à la demande. </font><font style="vertical-align: inherit;">Les linters en PHP (il n'y a pas encore de compilation AOT) fonctionnent 10 à 20 fois plus lentement que dans d'autres langues - notre plus gros fichier peut être analysé pendant des dizaines de secondes. </font><font style="vertical-align: inherit;">Cela ralentit trop et trop le flux de travail - c'est une </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faille fatale</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Que font les développeurs dans ce cas? </font><font style="vertical-align: inherit;">Ils écrivent le leur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, nous avons écrit notre linter PHP NoVerify sur Go. </font><font style="vertical-align: inherit;">Pourquoi? </font><font style="vertical-align: inherit;">Spoiler: pas seulement parce que Jura en a décidé ainsi.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noverify</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go est un bon compromis entre vitesse de développement et productivité.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La première "preuve" de l'image avec des "infographies": bonne vitesse d'exécution, support facile. </font><font style="vertical-align: inherit;">Nous perdons en vitesse de développement, mais les deux premiers points sont plus importants pour nous.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c67/bfb/e53/c67bfbe537c7b8996cc429cef661c377.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les chiffres sont pris de la tête, ils ne sont étayés par rien. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le deuxième «élément de preuve», il a plaidé plus simplement.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c10/6e7/2e9/c106e72e9b04791cd5abd3097664c875.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP est plus lent, Go est plus rapide, etc.&nbsp;</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nous avons choisi Go pour trois raisons. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aller comme une langue pour les utilitaires est facile à apprendre au niveau de base</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans l'équipe de développeurs PHP, bien sûr, quelqu'un a entendu parler de Go, a regardé Docker, sait qu'il est écrit en Go, peut-être même a vu la source. Avec une compréhension de base, après une ou deux semaines d'apprentissage intensif de Go, ils pourront écrire du code dessus. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go est assez efficace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Même un débutant ne pourra pas faire beaucoup d'erreurs, car Go a un bon réglage et beaucoup de linter. Dans Go, le code moyen est légèrement meilleur que dans d'autres langues, car il y a beaucoup moins de façons de tirer sur sa propre jambe. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les applications Go sont faciles à entretenir.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go est un langage de programmation assez mature pour lequel presque tous les outils de développement que vous pouvez souhaiter sont disponibles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous vérifierons NoVerify avec nos exigences.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NoVerify est </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plusieurs fois plus rapide que les alternatives</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour cela, vous pouvez </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">écrire des extensions</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , à la fois Open Source et les vôtres. </font><font style="vertical-align: inherit;">Il est important que nous puissions séparer ces chèques, et vous pouvez écrire les vôtres.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facile à tester et à développer. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En partie, parce que la distribution Go standard a un cadre standard avec profilage et tests. </font><font style="vertical-align: inherit;">Il est principalement utilisé pour les tests unitaires. </font><font style="vertical-align: inherit;">Particulièrement habile peut être utilisé pour l'intégration, comme nous le faisons - nous avons des tests d'intégration écrits via des tests Go.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compromis d'intégration</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commençons par le problème. </font><font style="vertical-align: inherit;">Lorsque vous démarrez un linter pour la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">première fois</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur un ancien projet qui n'utilisait aucune analyse, vous le verrez très probablement. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rx/yu/qz/rxyuqz6edr8po3uc7xo87byzgpu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oh mon code! </font><font style="vertical-align: inherit;">Personne ne corrigera jamais autant d'erreurs. </font><font style="vertical-align: inherit;">Je veux fermer le projet, supprimer le linter et ne plus l'exécuter. </font><font style="vertical-align: inherit;">Que faire pour éviter cela?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intégrer</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exécuter en mode diff</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous ne voulons pas exécuter tous les contrôles sur l'ensemble du projet avec un million d'erreurs à chaque étape du CI. Peut-être connaissez-vous la base de référence: dans NoVerify, cela est prêt à l'emploi, vous n'avez pas besoin d'incorporer un utilitaire distinct. Nous avons immédiatement considéré qu'un tel régime était nécessaire. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez l'héritage (fournisseurs) aux exceptions</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il est plus facile de ne pas toucher à certaines choses, de les laisser de côté même avec un défaut, afin de ne pas le modifier vous-même et de ne pas laisser de trace dans l’histoire. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous commençons par un sous-ensemble de contrôles</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Vous ne pouvez pas connecter tout ce qui inclut le style. Pour commencer, il trouve de vrais bugs: nous allons trouver, corriger et passer à quelque chose de nouveau. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous collectons les commentaires des collègues</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Comment comprendre quand il est temps d'activer autre chose? </font><font style="vertical-align: inherit;">Demandez à vos collègues. </font><font style="vertical-align: inherit;">Dès qu'ils sont contents que les erreurs aient disparu et que presque rien ne soit trouvé, allumez autre chose - il est temps de travailler.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration de Git</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mode Diff signifie que vous avez un système de contrôle de version - Git. Si vous avez SVN, alors l'instruction n'aidera pas, allez dans Git. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous installons un crochet de pré-poussée avec un linter</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et vérifions avant de commencer le code. Nous vérifions la machine locale </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une </font><strong><font style="vertical-align: inherit;">option </font></strong></font><code>--no-verify</code><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour contourner le linter</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il serait probablement plus pratique d'utiliser un hook de pré-réception et de désactiver le linter côté serveur, mais pour des raisons historiques, beaucoup de choses se produisent dans VK dans un hook de pré-push, donc NoVerify a également été intégré. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après le push, les contrôles CI sont lancés. NoVerify a deux modes de fonctionnement: avec analyse complète et sans elle. Sur CI, vous voulez (et pouvez) exécuter</font></font><code>--git-full-diff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- les machines dans CI peuvent être chargées plus durement et vérifier même les fichiers qui n'ont pas changé. </font><font style="vertical-align: inherit;">Sur les machines locales, nous pouvons exécuter une analyse moins stricte, mais plus rapide, des fichiers modifiés uniquement (5 à 15 secondes plus rapidement).&nbsp;</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faux positifs</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5c8/508/9c9/5c85089c909c79ed02c4c72f25bb9850.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons l'exemple ci-dessous: dans cette fonction, quelque chose contenant un champ est accepté, mais le type n'est décrit en aucune façon. </font><font style="vertical-align: inherit;">Ce n'est pas un fait qu'il existe un champ du tout lorsqu'une fonction est appelée à partir de différents contextes. </font><font style="vertical-align: inherit;">Dans une version stricte, le linter pourrait se plaindre: "On ne sait pas de quel type il s'agit, comment puis-je retourner un champ sans vérification?" </font><font style="vertical-align: inherit;">Mais ce n'est pas nécessairement une erreur.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get_foo</span>(<span class="hljs-params">$obj</span>) </span>{
    <span class="hljs-keyword">return</span> $obj-&gt;foo;<font></font>
    ^^^<font></font>
}<font></font>
<font></font>
Warning:<font></font>
Property <span class="hljs-string">"foo"</span> does not exist</code></pre><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les faux positifs interfèrent.&nbsp;</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est la principale raison de l'abandon du linter. </font><font style="vertical-align: inherit;">Les gens choisissent d'autres options qui trouvent moins d'erreurs, mais produisent moins de faux positifs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils se bousculent souvent lorsque quelque chose fonctionne, mais ce n'est pas une erreur. </font><font style="vertical-align: inherit;">Beaucoup ont un mécanisme pour contourner le linter - pour fonctionner avec le drapeau sans vérifier le linter. </font><font style="vertical-align: inherit;">Dans notre pays, ce drapeau s'appelait </font></font><code>no-verify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un crochet de pré-poussée. </font><font style="vertical-align: inherit;">Nous l'avons souvent utilisé et le nom a été immortalisé au nom du linter.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pickiness</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre propriété de linter. </font><font style="vertical-align: inherit;">Par exemple, beaucoup ne comprennent pas les alias. </font><font style="vertical-align: inherit;">En PHP, </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il s'agit d'un analogue </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: il ne calcule pas la taille, mais renvoie le nombre d'éléments. </font><font style="vertical-align: inherit;">Le modèle mental des développeurs C a une </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signification différente. </font><font style="vertical-align: inherit;">Si dans la base de code il y a </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, très probablement, une moyenne </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mais c'est tatillon.</font></font><br>
<br>
<pre><code class="php hljs">$len = sizeof($x);<font></font>
    ^^^^^^<font></font>
<font></font>
Warning:<font></font>
<span class="hljs-keyword">use</span> "<span class="hljs-title">count</span>" <span class="hljs-title">instead</span> <span class="hljs-title">of</span> "<span class="hljs-title">sizeof</span>"</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que dois-je faire avec ça?</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soyez strict et forcez à tout gouverner sans exception</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Imposer des règles, exiger, observer et ne pas les laisser contourner - ça ne marche jamais. Pour qu'une telle rigidité fonctionne, l'équipe doit être composée des mêmes personnes: caractère, niveau de culture, pédanterie et perception de la qualité du code. Si ce n'est pas le cas, il y aura une émeute. Il est plus facile de constituer une équipe à partir de vos clones que de forcer à suivre toutes les règles.&nbsp; </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne pas bloquer push / engager des commentaires comme la </font><font style="vertical-align: inherit;">fixation </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Très probablement, ce n'est pas une erreur, mais une pioche et n'affecte pas le code. Mais alors 99% des réponses seront ignorées (par l'équipe) et il y aura toujours des réponses supplémentaires dans le code </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autorisez un certain niveau de configuration pour différentes équipes et développeurs.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez configurer la configuration de chaque commande afin que ceux qui ne souhaitent pas passer </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne puissent pas le faire. </font><font style="vertical-align: inherit;">Laissez tout le monde suivre les règles. </font><font style="vertical-align: inherit;">Une bonne option, mais la cohérence s'affaissera et dans certains répertoires, le code sera légèrement pire. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exécutez de tels contrôles une fois par mois, sur les subbotniks</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les contrôles peuvent être effectués non pas à chaque fois sur le CI ou le crochet de pré-poussée, mais dans la routine Cron une fois par mois. </font><font style="vertical-align: inherit;">Exécutez et modifiez tout ce que vous trouvez après un développement actif. </font><font style="vertical-align: inherit;">Mais ce travail nécessite des ressources d'automatisation et de vérification. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne fais rien. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La désactivation des vérifications stylistiques est également une option.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faire des compromis</font></font></h3><br>
<img src="https://habrastorage.org/webt/-l/jq/ao/-ljqaougomtrtjxnr_kl_b6rgyk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y aura toujours un compromis entre un développeur heureux et un linter heureux. </font><font style="vertical-align: inherit;">Il est facile de faire plaisir à un linter: le mode le plus strict et le manque de solutions de contournement. </font><font style="vertical-align: inherit;">Peut-être qu'après cela, personne ne restera dans l'équipe, donc si le linter interfère avec le travail, c'est un problème.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action utile avant tout.</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Détails techniques de NoVerify</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chèques privés VKontakte.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Noverify est écrit quelque chose comme ça. Dans GitHub, le référentiel NoVerify est divisé en deux parties: le cadre utilisé pour implémenter le linter et des contrôles séparés, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vklints</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ceci est fait pour que le linter charge des vérifications tierces: vous pouvez écrire un module séparé sur Go et ils s'enregistrent dans le framework. Après avoir démarré à partir du binaire NoVerify, le framework charge tous les ensembles de contrôles enregistrés et ils fonctionnent dans leur ensemble.&nbsp; </font></font><br>
<br>
<img src="https://habrastorage.org/webt/s8/jj/5z/s8jj5zbegovtmxkg8ydhezx2mfw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NoVerify est à la fois une bibliothèque et un binaire (linter). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos chèques sont appelés </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vklints</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ils constatent qu'ils ne voient pas PhpStorm et Open Source NoVerify - des erreurs importantes qui ne conviennent pas à un usage général. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que vklints?</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vérifier les spécificités de l'utilisation de certaines fonctions</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , classes et même variables globales qui ne respectent pas nos conventions. C'est quelque chose qui ne peut pas être utilisé dans des endroits spéciaux pour diverses raisons décrites dans le guide de style. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vérifications de style supplémentaires.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ils ne correspondent pas à ce qui est accepté dans la communauté PHP, ne sont pas décrits dans la Recommandation Standard PHP ni même le contredisent, mais pour nous c'est le standard. Il est inutile de les ajouter à l'Open Source car vous ne voulez pas les suivre. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exigences de comparaison strictes pour certains types</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Par exemple, nous avons une vérification qui nécessite de comparer des chaînes avec un opérateur de comparaison </font></font><code>===</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. En particulier, cela nécessite de passer un drapeau pour une comparaison stricte des fonctions afin de comparer les chaînes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clés de tableau suspectes.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autre erreur intéressante: parfois, lorsque les développeurs s'engagent, ils peuvent appuyer sur des combinaisons de touches avant d'enregistrer le fichier. </font><font style="vertical-align: inherit;">Ces caractères restent parfois dans une chaîne ou dans un morceau de code. </font><font style="vertical-align: inherit;">Une fois, dans la clé du tableau se trouvait la lettre russe «Y». </font><font style="vertical-align: inherit;">Très probablement, le développeur a appuyé sur CTRL-S dans la disposition russe, a enregistré le fichier et l'a validé. </font><font style="vertical-align: inherit;">Parfois, nous trouvons de telles clés dans des tableaux, mais de nouvelles erreurs ne passeront plus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les règles dynamiques sont un mécanisme d'extension NoVerify plus simple décrit en PHP. </font><font style="vertical-align: inherit;">Un article séparé a été écrit à ce sujet: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comment ajouter des chèques à NoVerify sans écrire une seule ligne de code Go</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment fonctionne NoVerify</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour analyser PHP, vous avez besoin d'un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analyseur</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nous ne pouvons pas utiliser l'analyseur PHP en PHP: il est lent, à partir de Go, il ne peut être utilisé que via un wrapper en C. Par conséquent, nous utilisons l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analyseur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans Go. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet analyseur a plusieurs problèmes. </font><font style="vertical-align: inherit;">Malheureusement, il ne peut travailler qu'avec UTF-8 et nous devons faire la distinction entre UTF-8 et </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">non UTF-8</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En plus de UTF-8, Windows-1251 se trouve souvent dans les projets PHP russes. </font><font style="vertical-align: inherit;">Nous avons également de tels fichiers. </font><font style="vertical-align: inherit;">Comment les reconnaissons-nous?&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fichier </font></font><code>encodings.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">répertorie tous les chemins d'accès aux fichiers avec UTF-8. </font><font style="vertical-align: inherit;">Si nous rencontrons un fichier en dehors de ces chemins, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diffusons à </font><strong><font style="vertical-align: inherit;">la volée</font></strong><font style="vertical-align: inherit;"> en UTF-8 en streaming (sans conversion à l'avance).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c47/ace/5aa/c47ace5aa12a572a201925c6be5e522a.jpg"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyse et analyse</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminé en quelques étapes. </font><font style="vertical-align: inherit;">Sur le premier - nous </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chargeons les métadonnées de phpstorm-stubs</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ce sont des données qui ressemblent à du code PHP, mais qui ne sont jamais exécutées et décrivent les types d'entrées / sorties des fonctions standard. </font><font style="vertical-align: inherit;">Les métadonnées phpStorm ont une directive de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remplacement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utile pour le linter </font><font style="vertical-align: inherit;">... Elle nous permet de décrire, par exemple, que nous acceptons un tableau de type </font></font><code>T[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et retournons le type </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(utile pour les fonctions </font></font><code>array_pop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c62/a79/6a6/c62a796a6fc623a27e92633d80de56c2.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Phpstorm-stubs est chargé en premier. </font><font style="vertical-align: inherit;">Nous utilisons les métadonnées comme information de type initiale - la fondation. </font><font style="vertical-align: inherit;">Cette fondation est absorbée par le linter et nous commençons à analyser les sources. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous chargeons le maître actuel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avant absorption. </font><font style="vertical-align: inherit;">Nous vérifions le code en deux modes:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">changements locaux</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : concernant la ligne de base, nous trouvons de nouvelles erreurs dans le code;</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous indiquons la gamme des révisions</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : la première et la dernière révision, et entre elles tout est inclusif - c'est le nouveau code, et tout ce qui «avant» est ancien.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vient ensuite l'étape de l'analyse.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e4/d05/03b/3e4d0503b0d2932b765ba30c6d8ef698.jpg"></div><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyse AST</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nous avons maintenant des métadonnées, tapez des informations. </font><font style="vertical-align: inherit;">Nous prenons toutes les sources PHP, analysons et analysons directement au-dessus de l'AST - nous n'avons pas de représentation intermédiaire pour le moment. </font><font style="vertical-align: inherit;">L'analyse d'un AST brut n'est pas très pratique, surtout si vous dépendez des bibliothèques et des types de données qu'il représente.&nbsp;</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43c/864/84c/43c86484c14609526fb5db5228bb7f67.jpg"></div><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les résultats de l'analyse sont stockés dans le cache</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il est utilisé en réanalyse, ce qui est beaucoup plus rapide. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rapports et filtrage</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ensuite, nous générons deux fois des </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rapports ou des avertissements</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : nous trouvons d'abord des avertissements pour l'ancienne version du code (avant la ligne de base), puis pour la nouvelle. Les rapports sont filtrés par comparaison (diff) - nous recherchons les avertissements apparus dans la nouvelle version du code et les transmettons à l'utilisateur. Dans certains analyseurs statiques, cela s'appelle le «mode de base».</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0c/469/a6d/b0c469a6d2d66eb821b38a37fdd4b828.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'analyse de code double (en mode diff) est très lente. </font><font style="vertical-align: inherit;">Mais nous pouvons nous le permettre - NoVerify est toujours des dizaines de fois plus rapide que les autres éditeurs de liens PHP. </font><font style="vertical-align: inherit;">Dans le même temps, il dispose d'une réserve d'accélération supplémentaire, d'au moins 30%. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment analysons-nous les fichiers? </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En PHP, vous pouvez appeler une fonction avant qu'elle ne soit définie - vous devez connaître les informations sur cette fonction avant de l'analyser. </font><font style="vertical-align: inherit;">Par conséquent, nous parcourons d'abord l'intégralité du fichier dans AST, indexons, identifions les types de toutes les fonctions, enregistrons les classes, puis analysons-le.&nbsp;</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a6/5f2/844/9a65f2844b9ba3cf78e8b4dee2616430.jpg"></div><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'analyse est le deuxième passage dans le fichier</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La plupart des interprètes et des compilateurs travaillent également avec deux passes et plus. </font><font style="vertical-align: inherit;">Afin de ne pas «scanner» le fichier une seconde fois, vous devez avoir des déclarations avant utilisation, comme en C par exemple.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inférence de type</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La partie la plus intéressante est que les erreurs sont le plus souvent rencontrées ici. </font><font style="vertical-align: inherit;">Elle ne correspond toujours pas à l'exactitude du système de type PHP, difficile à définir formellement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À quoi ressemble le modèle.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8ae/8ec/ca9/8ae8ecca980c79343d149b8b1f15bb15.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modèle sémantique (démo). </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Types de types:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attendu</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est ce que nous décrivons dans les commentaires. Nous nous attendons à </font><font style="vertical-align: inherit;">certains types dans le programme, mais cela ne veut pas dire qu'ils sont vraiment utilisés en elle.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - les vrais qui sont dans le programme. </font><font style="vertical-align: inherit;">Par exemple, si nous attribuons un numéro à quelque chose, alors il est évident que </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>float</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(s'il s'agit d'un nombre à virgule flottante) seront des types réels.&nbsp;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les types réels semblent être "plus forts" - ils sont réels, vrais. </font><font style="vertical-align: inherit;">Mais parfois, nous pouvons obtenir un type uniquement par annotation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les annotations (dans les types attendus) peuvent être divisées en deux catégories: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confiance</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méfiance</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Par exemple, les stubs phpstorm appartiennent à la première catégorie. </font><font style="vertical-align: inherit;">Ils sont considérés comme modérés (sans erreurs) avant de les utiliser. </font><font style="vertical-align: inherit;">Ceux qui ne sont pas fiables sont ceux que les autres développeurs écrivent, car ils peuvent contenir des erreurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les types réels peuvent également être divisés en plusieurs parties: valeurs, assertion, prédicats et indice de type, ce qui étend les capacités de PHP 7. Mais il existe un problème que l'indice de type ne résout pas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attendu vs réel</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disons qu'une classe </font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a un héritier. A partir de la classe descendante, nous pouvons appeler des méthodes qui ne sont pas dans Foo, car le descendant étend le parent. Mais si nous obtenons l'héritier </font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de </font></font><code>new static()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cette annotation du type de retour (de </font></font><code>self</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), un problème se posera. Nous pouvons appeler cette méthode, mais l'EDI ne vous le demandera pas - vous devez le spécifier </font></font><code>static()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il s'agit d'une </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">liaison statique</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tardive </font><strong><font style="vertical-align: inherit;">en PHP</font></strong><font style="vertical-align: inherit;"> , lorsque l' </font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">héritier de classe </font><font style="vertical-align: inherit;">ne peut pas retourner </font><font style="vertical-align: inherit;">.&nbsp;</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> static */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newStatic</span>(<span class="hljs-params"></span>) : <span class="hljs-title">self</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">static</span>();<font></font>
    }<font></font>
}<font></font>
<span class="hljs-comment">// actual = Foo</span>
<span class="hljs-comment">// expected = static</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous écrivons </font></font><code>new static()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, non seulement la classe peut revenir </font></font><code>new Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Par exemple, si une </font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe est héritée </font><font style="vertical-align: inherit;">de </font></font><code>bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, alors il peut y en avoir </font></font><code>new bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Par conséquent, nous avons besoin d'au moins deux informations de type. </font><font style="vertical-align: inherit;">Aucun d'entre eux n'est redondant - les deux sont nécessaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, le type réel ici sera </font></font><code>self</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- pour l'interpréteur PHP. </font><font style="vertical-align: inherit;">Mais pour l'IDE et pour que les linters fonctionnent, nous avons besoin </font></font><code>static</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Si nous appelons ce code à partir du contexte de la classe héritière, nous devons savoir que ce n'est pas la même classe de base et qu'il a plus de méthodes.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> static */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newStatic</span>(<span class="hljs-params"></span>) : <span class="hljs-title">self</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">static</span>();<font></font>
    }<font></font>
}<font></font>
<span class="hljs-comment">// actual -  PHP </span>
<span class="hljs-comment">// expected -   IDE/</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indice de type</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La saisie statique et l'indication de type ne sont pas la même chose.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous avez peut-être entendu dire que vous ne pouvez vérifier que les limites des fonctions. </font><font style="vertical-align: inherit;">Aux frontières, nous vérifions les entrées et les sorties, où l'entrée correspond aux arguments de la fonction. </font><font style="vertical-align: inherit;">Dans la fonction, vous pouvez faire n'importe quel non-sens: attribuer une </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valeur </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, bien que vous ayez décrit ce qu'elle est </font></font><code>T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Vous pouvez vous plaindre d'avoir violé les types que vous avez déclarés, mais pour PHP il n'y a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas d'erreur</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .&nbsp;</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">T $foo</span>) </span>{<font></font>
        $foo = <span class="hljs-number">10</span>; <span class="hljs-comment">//  int</span>
        <span class="hljs-keyword">return</span> $foo;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple est plus difficile - on revient </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? </font><font style="vertical-align: inherit;">Au début de la fonction, nous avons déterminé que </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c'était le cas </font></font><code>T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et il n'y a aucune information sur le retour.&nbsp;</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">T $foo</span>) </span>{<font></font>
    $foo = <span class="hljs-number">10</span>; <span class="hljs-comment">//  int</span>
    <span class="hljs-keyword">return</span> $foo;<font></font>
}<font></font>
<span class="hljs-comment">// ? 1. f -&gt; int</span>
<span class="hljs-comment">// ? 2. f -&gt; T|int</span>
<span class="hljs-comment">// ? 3. f -&gt; T</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quel type est correct? </font><font style="vertical-align: inherit;">Les deux premiers, nous analyserons la différence entre eux. </font><font style="vertical-align: inherit;">PhpStorm et linter produisent la deuxième option. </font><font style="vertical-align: inherit;">Malgré le fait qu'il revient toujours </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le type </font></font><code>T|int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est </font><font style="vertical-align: inherit;">déduit </font><font style="vertical-align: inherit;">- "l'union" des types. </font><font style="vertical-align: inherit;">Il s'agit d'un type auquel peuvent être affectées ces deux valeurs: d'abord, nous avions des informations sur le type T, puis nous les avons attribuées </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, donc le type de la variable </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">doit être compatible avec ces deux types.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Annotations</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les commentaires et les annotations peuvent mentir.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans l'exemple ci-dessous, nous avons écrit que nous retournons un nombre, mais retournons une chaîne. </font><font style="vertical-align: inherit;">Si le linter ne fonctionnait qu'au niveau des annotations et du type hint, alors nous considérerions qu'il revient toujours </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mais les types réels aident simplement à s'en éloigner: ici, le type attendu est celui </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ci et le type réel est une chaîne. </font><font style="vertical-align: inherit;">Linter sait que la chaîne est retournée et peut vous avertir que vous avez promis de revenir </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cette séparation est importante pour nous.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-comment">/** <span class="hljs-doctag">@return</span> int */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"I lied!"</span>; }</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Héritage d'annotations. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ici, je veux dire qu'une classe qui implémente une sorte d'interface a une méthode. </font><font style="vertical-align: inherit;">La méthode a de bons commentaires, une bonne documentation, des types - elle est nécessaire pour implémenter l'interface. </font><font style="vertical-align: inherit;">Mais il n'y a pas de commentaires dans l'implémentation: il n'y a que </font></font><code>@inheritdoc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou rien du tout.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IFoo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> int */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>)</span>;<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Fooer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IFoo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@inheritdoc</span> */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"10"</span>; }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que renvoie cette méthode? Il semble que ce qui est décrit dans l'interface - soit retourné </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais en fait une chaîne. Ce n'est pas bon: PHP est tout de même, mais la convergence est importante pour nous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe deux options pour corriger ce code. L'évidence est de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revenir</font></font></strong><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mais vous devrez peut-être renvoyer un type différent. Que faire? Écrivez que nous </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renvoyons la chaîne</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans ce cas, des informations de type explicites sont nécessaires pour l'IDE et le linter afin d'analyser correctement le code.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IFoo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> int */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>)</span>;<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Fooer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IFoo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> string */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"10"</span>; }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette information ne serait pas du tout nécessaire si les gens écrivaient des commentaires, non </font></font><code>@inheritdoc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Il n'est pas nécessaire que PhpStorm comprenne quels types vous possédez. </font><font style="vertical-align: inherit;">Mais si les types ne sont pas décrits correctement, il y aura un problème. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PhpStorm et le linter ont des ensembles de bogues disjoints lorsque nous utilisons les mêmes fichiers pour les métadonnées (types). </font><font style="vertical-align: inherit;">Si nous corrigeons tout ce dont nous avons besoin dans phpstorm-stubs à partir du référentiel JetBrains, l'IDE se cassera très probablement. </font><font style="vertical-align: inherit;">Si vous laissez tout par défaut, tout ne fonctionnera pas correctement </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pour nous. Par conséquent, nous avons un petit fork -&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VKCOM / phpstorm-stubs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Quelques correctifs ont été ajoutés pour corriger quelque chose qui ne va pas. </font><font style="vertical-align: inherit;">Je ne peux pas le recommander pour PhpStorm, mais il est nécessaire que le linter fonctionne.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open source</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Noverify est un projet open source. Il est publié sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brèves instructions "en cas de problème". </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si quelque chose est cassé ou ne démarre pas.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La mauvaise réaction est de renvoyer et de supprimer NoVerify. La bonne réaction: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://github.com/login%3Freturn_to%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">émettre un ticket</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur GitHub et parler de votre problème. Très probablement, il sera résolu en 1-2 jours. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il vous manque une fonctionnalité.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mauvaise réaction: supprimez NoVerify et écrivez votre propre linter (bien qu'écrire votre propre linter soit toujours cool). La réaction correcte: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://github.com/login%3Freturn_to%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour émettre un ticket</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur GitHub et, peut-être, nous ajouterons une nouvelle fonction. C'est plus compliqué avec des fonctionnalités qu'avec des erreurs - une discussion s'ensuit, et chaque personne a une vision différente de la mise en œuvre dans l'équipe. Mais à la fin, ils sont toujours en cours de mise en œuvre.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous êtes intéressé par le développement du projet ou si vous voulez simplement parler d'analyse statique, rendez-vous dans notre salle de chat - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noverify_linter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<blockquote>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  PHP-</a>,   ,  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    </a>,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PHP Russia</a>.<br>
 <br>
     ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>.       ,    ,     .         telegram- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@PHPRussiaConfChannel</a>.   ,  . <br>
</blockquote></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487248/index.html">Un peu plus sur les tests incorrects</a></li>
<li><a href="../fr487250/index.html">Mélange Alpha retardé</a></li>
<li><a href="../fr487254/index.html">Comment utiliser les caméras de vidéosurveillance non seulement pour surveiller les intrus</a></li>
<li><a href="../fr487256/index.html">Brûlez et revenez des cendres ou des Phoenix</a></li>
<li><a href="../fr487258/index.html">PHP asynchrone</a></li>
<li><a href="../fr487262/index.html">Conférence ouverte PHP Russia Online</a></li>
<li><a href="../fr487266/index.html">GitLab 12.7 publié avec les pipelines Parent-Child et la version bêta des gestionnaires de travaux courants pour Windows</a></li>
<li><a href="../fr487270/index.html">Les pérovskites peuvent prolonger la durée de vie des écrans de gadgets</a></li>
<li><a href="../fr487272/index.html">Signets - le décompte est terminé</a></li>
<li><a href="../fr487274/index.html">Comment faire une revue de code?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>