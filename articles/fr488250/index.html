<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✋🏿 👰🏼 🚽 À la question de Linux (L) 🤹 🕺🏼 👨‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous partons du fait que vous obtenez un système d'exploitation à part entière, en payant immédiatement tout pour tout. (Bill Gates en réponse à une q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>À la question de Linux (L)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488250/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous partons du fait que vous obtenez un système d'exploitation à part entière, en payant immédiatement tout pour tout. </font><font style="vertical-align: inherit;">(Bill Gates en réponse à une question sur la concurrence avec L.)</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus j'en apprends sur Linux, moins je déteste B.G.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, en fait, je n'ai jamais ressenti de sentiments aussi forts pour lui, je commence juste à mieux comprendre pourquoi la société qui produit Windows prend de l'argent. </font><font style="vertical-align: inherit;">Et il devient plus clair pourquoi les consommateurs préfèrent payer Bill (il y a, bien sûr, des options ici, vous comprenez), au lieu d'utiliser l'alternative gratuite («c'est-à-dire gratuite»). </font><font style="vertical-align: inherit;">Mais commençons dans l'ordre et considérons deux épisodes d'interaction avec L.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Récemment, L fonctionnait sur les appareils que je développe (sous l'une ou l'autre de ses formes, eh bien, vous comprenez ...), dans le cadre desquels un logiciel spécifique est exécuté. </font><font style="vertical-align: inherit;">Et donc, au cours de l'interaction avec des périphériques externes (claviers spécialisés), des artefacts intéressants du comportement du système d'exploitation ont été découverts, ce qui a conduit aux pensées énoncées dans l'épigraphe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Épisode 1 - lors de la correction du programme du clavier USB, un défaut «accidentel, involontaire» a été introduit, ce qui a entraîné la défaillance du descripteur de chaîne de l'appareil. Pour ceux qui ne sont pas très connectés avec USB, l'explication nécessaire - un descripteur de chaîne - est une partie facultative de la description de l'appareil, qui est destinée uniquement à visualiser le type d'appareil et le fabricant des utilitaires système. Néanmoins, ce n'est pas une excuse pour les programmeurs et de telles erreurs ne devraient pas être faites, mais tout se passe dans la vie. Comment un hôte exécutant un système d'exploitation sain peut-il réagir si un tel périphérique incorrect lui est connecté? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Personnellement, je vois 3 stratégies possibles:</font></font><br>
<br>
<ol>
<li>      ,  ,       —   ,   ,   7,    ;</li>
<li> ,  ,          —      ;</li>
<li>    ,     ,        —    ,    ,         USB (    ).</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PNP: Il convient de noter que la norme pour l'interface ne prévoit que le besoin (figure 8.31 à la page 223), en attendant le message d'entrée, de contrôler l'heure et de traiter le délai d'attente, comme l'une des erreurs possibles - répétez la demande 3 fois, puis donnez un signal sur l'échec de la transaction. Les autres actions de l'hôte sont déterminées par la mise en œuvre. Eh bien, au moins, je n'ai pas trouvé de telles informations dans la norme, bien que ce ne soit pas définitif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, les développeurs de L ne se sont pas limités aux solutions qui se trouvaient à la surface et sont allés plus loin, ayant trouvé une manière inhabituellement intéressante et, nous n'aurons pas peur de ce mot, </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">idiot</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> très créatif: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. répétez la demande un certain nombre de fois, après l'épuisement de laquelle marquer l'appareil comme défectueux puis l'éteindre .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jusqu'à présent, rien de criminel, si ce n'est pour un petit détail («et tout le reste est des nuances») - tandis que l'hôte L répète la demande ci-dessus, il monopolise l'accès via le bus (très probablement le délai d'attente dans le matériel ne démarre pas ou l'interruption de celui-ci n'est pas traitée) et tous (!!!) les autres périphériques USB sont inactifs. Ce processus prend environ une douzaine de secondes, pendant lesquelles tous les appareils ne sont pas disponibles - déjà pas mal. Et voici la cerise sur le gâteau - après des tentatives épuisantes de lire le descripteur de chaîne à partir du mauvais clavier, les paquets cessent généralement de lui arriver, après 2 minutes, il comprend "quelque chose s'est mal passé" et essaie de se présenter à l'hôte à nouveau en se reconnectant, provoquant la répétition du processus. Les résultats sont compréhensibles - travailler avec le bus n'est tout simplement pas possible si vous n'êtes pas prêt à utiliser le mode hoquet.Une solution inhabituellement originale, mais cela (originalité) est son seul avantage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mes connaissances Linux, après avoir démontré ce phénomène, ont d'abord essayé de l'expliquer dans le style de "ce n'est pas un bug, c'est une telle fonctionnalité" (ou plutôt, au début, comme ils l'ont accepté, ont suggéré de reconstruire le noyau avec les derniers correctifs, c'est généralement une réponse universelle à tout message dans la communauté L à propos d'une erreur possible), puis ils ont dit que, oui, le comportement est incorrect, mais, probablement, quelque part dans les fichiers de configuration de l'assemblage, il y a un indicateur, une réinitialisation ou un paramètre qui, vous pouvez désactiver ce comportement du système. Si cela est vrai, alors le seul nom pour le drapeau que je peux offrir est (en russe): "Je veux vraiment_OS_be_being_being_something_failing_string_descriptor_as_hysterichka", dans le style "Jusqu'à ce que cette garce me dise son nom, je ne demanderai à personne de vous parler", Désolé pour mon français. Eh bien, même si c'est le cas, il y a un tel drapeau,Par défaut, le système d'exploitation ne doit-il pas être collecté en mode normal et non perverti? Pour une raison quelconque, Windows fait exactement cela. Bien sûr, vous devez regarder le texte source de l'hôte L (très probablement, un pilote USB spécifique) et déterminer s'il existe un tel indicateur et comment obtenir un comportement système similaire, mais pour les raisons énumérées ci-dessous, cela n'a pas été fait, nous nous limitons donc à déclarer le fait .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxième fonctionnalité (beaucoup plus comme une erreur, car dans le premier cas, l'appareil était incorrect, ce que j'ai immédiatement souligné) a été détectée après la correction de l'erreur de programme de l'appareil et nous avons commencé à travailler plus loin.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fait est que sur l'appareil conçu, il y avait deux contrôleurs qui implémentaient chacun les fonctions du joystick et du clavier, tandis qu'un traitait le côté gauche du clavier et le second le droit. Mais un bouton sur le panneau avant était connecté aux deux contrôleurs, car il y avait le marquage "FEU" dessus et les résultats d'une défaillance d'un contrôleur seraient très désagréables. Lorsque vous avez cliqué sur ce bouton, les deux contrôleurs ont produit un symbole «espace» et tout allait bien jusqu'à ce que nous remarquions que parfois (~ 10% des cas) après avoir relâché le bouton A, il continue d'être considéré comme appuyé et l'application passe en mode de tir continu. En même temps, appuyer et abaisser à nouveau le bouton ramène le système en mode normal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a été suggéré que des événements rapprochés (dans le temps) du clavier puissent être ignorés, dans ce cas un message sur la libération d'un bouton. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En outre, diverses mesures ont été prises pour déterminer la cause du dysfonctionnement, mais leur description va au-delà de la portée et du sujet de cet article et sera (j'espère) décrite séparément. Mais le processus de découverte des causes d'une erreur si simple (à première vue) en soi nécessitait des efforts tels que tout désir de comprendre la raison du premier bogue décrit dans le message a été perdu. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenant à l'épigraphe, je dois dire que sur Windows 7 ce défaut n'a pas été observé pendant au moins 100 clics, ce qui indique la stabilité de cet OS sur ce facteur. Encore une fois, je n'ai pas vu le code source, mais le comportement du programme parle de lui-même.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est peu probable que les qualifications des développeurs Windows dépassent considérablement celles de la communauté open source et la question, apparemment, ne concerne que les tests, qui sont effectués sans ambiguïté dans un plus grand volume (et avec une qualité supérieure), lorsque des personnes qui reçoivent de l'argent pour leur travail y participent ( outre la satisfaction morale). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je dois admettre que le comportement de A, au moins dans les situations décrites, est mieux défini par l'expression `` ça marche '', qui ne peut pas être considérée comme acceptable pour un système d'exploitation qui prétend être fiable et répandu, c'est pourquoi mon attitude envers B.G. </font><font style="vertical-align: inherit;">À la suite de cet épisode, il s'est amélioré, car il n'est certainement pas à blâmer pour ce qui se passe (bien qu'il puisse y avoir des opinions différentes).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr488234/index.html">Utilisation de QubesOS pour Windows 7</a></li>
<li><a href="../fr488240/index.html">Un cycle sans fin qui n'était pas: l'histoire du bug du Saint Graal</a></li>
<li><a href="../fr488242/index.html">Intégration du projet VueJS + TS avec SonarQube</a></li>
<li><a href="../fr488244/index.html">Comment réduire la surcharge lors de la gestion des exceptions en C ++</a></li>
<li><a href="../fr488246/index.html">VoiceOver sur iOS: chaque contrôle se comporte différemment</a></li>
<li><a href="../fr488252/index.html">Comment réduire le coût de développement de nouveaux produits à l'aide de SLS</a></li>
<li><a href="../fr488254/index.html">Modèle de répartition des responsabilités de sécurité cloud</a></li>
<li><a href="../fr488256/index.html">Самодельный рекуператор для загородного дома с КПД 80%</a></li>
<li><a href="../fr488258/index.html">"Attention, FAS!": Où essayer le menu gueule de bois, est-il possible de croire Trump et comment obtenir un rôle dans le film Tarantino</a></li>
<li><a href="../fr488260/index.html">Planification des threads sous Windows. Partie 1 de 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>