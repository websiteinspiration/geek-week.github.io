<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíπ ‚õ¥Ô∏è üîí Cr√©ez une architecture √©volutive et r√©siliente avec des microservices dynamiques üå´Ô∏è üíí üë©üèΩ‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Rebonjour. Comme vous le savez, en mars, OTUS lance un tout nouveau cours sur l'architecture et les mod√®les de conception . Avant le d√©but du cours, b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cr√©ez une architecture √©volutive et r√©siliente avec des microservices dynamiques</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/492642/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rebonjour. </font><font style="vertical-align: inherit;">Comme vous le savez, en mars, OTUS lance un tout nouveau cours </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur l'architecture et les mod√®les de conception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Avant le d√©but du cours, beaucoup de mat√©riel a √©t√© traduit pour vous sur la cr√©ation d'une architecture √©volutive et r√©siliente √† l'aide de microservices dynamiques. </font><font style="vertical-align: inherit;">Bonne lecture!</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/aw/ws/kg/awwskgrciq1fkykr-snivzihfds.png"><br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">annotation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des tendances les plus importantes de l'architecture industrielle est l'utilisation de microservices au d√©triment des architectures monolithiques qui perdent en popularit√©. </font><font style="vertical-align: inherit;">Gr√¢ce √† l'architecture cloud, le d√©ploiement de syst√®mes de microservices est plus productif, flexible et rentable. </font><font style="vertical-align: inherit;">Quoi qu'il en soit, de nombreuses entreprises ont d√©j√† commenc√© √† passer d'un type d'architecture √† un autre, mais ce n'est encore qu'√† ses balbutiements. </font><font style="vertical-align: inherit;">Dans cet article, nous r√©solvons les probl√®mes r√©sultant de la n√©cessit√© de d√©velopper un syst√®me √©volutif et tol√©rant aux pannes bas√© sur des microservices. </font><font style="vertical-align: inherit;">Dans nos exp√©riences, nous consid√©rons deux types de microservices, simples et avanc√©s, et montrons que la solution propos√©e est innovante par son comportement dynamique.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Introduction</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours des derni√®res d√©cennies, l'histoire des langages de programmation et des paradigmes informatiques a √©t√© caract√©ris√©e par une attention accrue √† la distribution et √† la modularisation pour am√©liorer la r√©utilisation et la fiabilit√© du code.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il √©tait n√©cessaire d'augmenter la quantit√© et la qualit√© des logiciels [1]. L'un des facteurs cl√©s pour clarifier les divers d√©saccords associ√©s √† la conception innovante est l'ad√©quation de l'utilisation de divers outils pour la conception et le d√©veloppement de syst√®mes logiciels plus avanc√©s [2]. Un grand succ√®s dans ce processus a r√©cemment √©t√© d√©montr√© par des syst√®mes bas√©s sur des microservices [3], qui sont un paradigme architectural ax√© sur diverses applications (par exemple, pour les personnes handicap√©es) [3]. Sous les auspices des microservices, l'int√©r√™t pour l'architecture et le design ne cesse de cro√Ætre. Attributs de qualit√© (par exemple, √©volutivit√©, performances et tol√©rance aux erreurs) ou s√©lection de mod√®le, tels que ¬´contrat de service¬ª [5] ou API Gateway,ne violent plus le principe YAGNI (¬´Vous n'en aurez pas besoin¬ª - ¬´souffrant d'erreurs BDUF¬ª (¬´Big Design Up Front¬ª - ¬´Design √† grande √©chelle d'abord¬ª)). La principale question de recherche √† laquelle cet article entend r√©pondre est de savoir comment d√©velopper un syst√®me bas√© sur des microservices avec la m√™me simplicit√© qu'un syst√®me monolithique? De plus, √† partir du sujet pr√©c√©dent, comment pouvons-nous cr√©er un environnement qui fournit une distribution dynamique de la puissance de calcul entre les clients? Notre hypoth√®se de recherche sugg√®re d'utiliser une architecture syst√®me client-serveur qui combine l'informatique distribu√©e et les microservices pour r√©soudre ces probl√®mes.La principale question de recherche √† laquelle cet article entend r√©pondre est de savoir comment d√©velopper un syst√®me bas√© sur des microservices avec la m√™me simplicit√© qu'un syst√®me monolithique? De plus, √† partir du sujet pr√©c√©dent, comment pouvons-nous cr√©er un environnement qui fournit une distribution dynamique de la puissance de calcul entre les clients? Notre hypoth√®se de recherche sugg√®re d'utiliser une architecture syst√®me client-serveur qui combine l'informatique distribu√©e et les microservices pour r√©soudre ces probl√®mes.La principale question de recherche √† laquelle cet article entend r√©pondre est de savoir comment d√©velopper un syst√®me bas√© sur des microservices avec la m√™me simplicit√© qu'un syst√®me monolithique? De plus, √† partir du sujet pr√©c√©dent, comment pouvons-nous cr√©er un environnement qui fournit une distribution dynamique de la puissance de calcul entre les clients? Notre hypoth√®se de recherche sugg√®re d'utiliser une architecture syst√®me client-serveur qui combine l'informatique distribu√©e et les microservices pour r√©soudre ces probl√®mes.qui assure une r√©partition dynamique de la puissance de calcul entre les clients? Notre hypoth√®se de recherche sugg√®re d'utiliser une architecture syst√®me client-serveur qui combine l'informatique distribu√©e et les microservices pour r√©soudre ces probl√®mes.qui assure une r√©partition dynamique de la puissance de calcul entre les clients? Notre hypoth√®se de recherche sugg√®re d'utiliser une architecture syst√®me client-serveur qui combine l'informatique distribu√©e et les microservices pour r√©soudre ces probl√®mes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La structure du document est la suivante: la section 2 fournit un bref aper√ßu de la litt√©rature actuelle expliquant l'importance des microservices, y compris deux services bien connus offerts par Azure, et la section 3 traite de l'architecture propos√©e. </font><font style="vertical-align: inherit;">La section 4 discute de l'√©valuation de ce syst√®me avant de tirer des conclusions dans la derni√®re section.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Analyse documentaire des microservices</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gr√¢ce √† l'architecture cloud, le d√©ploiement de syst√®mes de microservices est plus productif, flexible et rentable [6]. Cependant, Zimmermann note que les microservices sont un sujet sensible qui est √©tudi√© principalement dans le milieu universitaire [7] et l'industrie. Le terme ¬´microservices¬ª a √©t√© abord√© pour la premi√®re fois lors d'un s√©minaire d'architectes logiciels en Italie en mai 2011 pour d√©crire ce que les participants consid√©raient comme un style architectural commun r√©cemment explor√© par beaucoup d'entre eux. Un an plus tard, le m√™me groupe a confirm√© que le terme ¬´microservices¬ª √©tait le nom le plus appropri√©. En fait, les microservices ont √©t√© d√©velopp√©s pour r√©pondre aux probl√®mes des applications monolithiques ou des architectures orient√©es services qui compliquent l'√©volutivit√©, la complexit√© et les d√©pendances de l'application en cours de d√©veloppement,ainsi que l'utilisation de m√©canismes de communication l√©gers [8-9]. Le monolith √©tant une application logicielle dont les modules ne peuvent pas √™tre ex√©cut√©s ind√©pendamment, nous devrions envisager une solution bas√©e sur des microservices, car elle est la seule capable d'ex√©cuter des instructions ind√©pendamment les unes des autres [10-11]. Les grands monolithes deviennent difficiles √† entretenir au fil du temps et sont difficiles √† √©valuer en raison de leur complexit√©, mais le principal inconv√©nient est qu'ils limitent l'√©volutivit√© du produit. Un autre probl√®me est qu'ils ne fournissent pas de tol√©rance aux pannes et ne permettent pas √† un composant individuel du syst√®me de fonctionner lorsqu'un autre composant ne fonctionne pas, ce qui est possible dans les architectures orient√©es microservices.Le monolith √©tant une application logicielle dont les modules ne peuvent pas √™tre ex√©cut√©s ind√©pendamment, nous devrions envisager une solution bas√©e sur des microservices, car elle est la seule capable d'ex√©cuter des instructions ind√©pendamment les unes des autres [10-11]. Les grands monolithes deviennent difficiles √† entretenir au fil du temps et sont difficiles √† √©valuer en raison de leur complexit√©, mais le principal inconv√©nient est qu'ils limitent l'√©volutivit√© du produit. Un autre probl√®me est qu'ils ne fournissent pas de tol√©rance aux pannes et ne permettent pas √† un composant individuel du syst√®me de fonctionner lorsqu'un autre composant ne fonctionne pas, ce qui est possible dans les architectures orient√©es microservices.Le monolith √©tant une application logicielle dont les modules ne peuvent pas √™tre ex√©cut√©s ind√©pendamment, nous devrions envisager une solution bas√©e sur des microservices, car elle est la seule capable d'ex√©cuter des instructions ind√©pendamment les unes des autres [10-11]. Les grands monolithes deviennent difficiles √† entretenir au fil du temps et sont difficiles √† √©valuer en raison de leur complexit√©, mais le principal inconv√©nient est qu'ils limitent l'√©volutivit√© du produit. Un autre probl√®me est qu'ils ne fournissent pas de tol√©rance aux pannes et ne permettent pas √† un composant individuel du syst√®me de fonctionner lorsqu'un autre composant ne fonctionne pas, ce qui est possible dans les architectures orient√©es microservices.capable d'ex√©cuter des instructions ind√©pendamment les unes des autres [10-11]. Les grands monolithes deviennent difficiles √† entretenir au fil du temps et sont difficiles √† √©valuer en raison de leur complexit√©, mais le principal inconv√©nient est qu'ils limitent l'√©volutivit√© du produit. Un autre probl√®me est qu'ils ne fournissent pas de tol√©rance aux pannes et ne permettent pas √† un composant individuel du syst√®me de fonctionner lorsqu'un autre composant ne fonctionne pas, ce qui est possible dans les architectures orient√©es microservices.capable d'ex√©cuter des instructions ind√©pendamment les unes des autres [10-11]. Les grands monolithes deviennent difficiles √† entretenir au fil du temps et sont difficiles √† √©valuer en raison de leur complexit√©, mais le principal inconv√©nient est qu'ils limitent l'√©volutivit√© du produit. Un autre probl√®me est qu'ils ne fournissent pas de tol√©rance aux pannes et ne permettent pas √† un composant individuel du syst√®me de fonctionner lorsqu'un autre composant ne fonctionne pas, ce qui est possible dans les architectures orient√©es microservices.et ils ne permettent pas √† un composant individuel du syst√®me de fonctionner lorsqu'un autre composant ne fonctionne pas, ce qui est possible dans les architectures orient√©es microservices.et ils ne permettent pas √† un composant individuel du syst√®me de fonctionner lorsqu'un autre composant ne fonctionne pas, ce qui est possible dans les architectures orient√©es microservices.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans SOA (Service Oriented Architecture), les principaux services sont coordonn√©s √† l'aide de deux m√©thodes: l'orchestration (o√π il existe un microservice central qui enverra des demandes √† d'autres services et contr√¥lera l'ensemble du processus en envoyant et recevant des r√©ponses) et la chor√©graphie (qui n'implique aucune centralisation, mais chaque service sait √† l'avance ce qu'il doit faire) [1]. Comme dans le cas des architectures monolithiques et des architectures SOA, le probl√®me le plus difficile reste la partition du syst√®me en services [12]. En outre, vous ne devez en aucun cas n√©gliger la question de la fourniture d'informations confidentielles par le biais d'une distribution incontr√¥l√©e de services [13].</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre architecture combine l'informatique distribu√©e avec des microservices pour cr√©er un environnement qui permet une distribution dynamique de l'informatique entre les clients. Par informatique distribu√©e, nous entendons la disponibilit√© du traitement et du stockage de grandes quantit√©s de donn√©es dans le cloud, qui est un √©l√©ment cl√© de l'industrie moderne √† l'int√©rieur et √† l'ext√©rieur du domaine informatique. Les syst√®mes de stockage distribu√©s sont con√ßus pour r√©pondre aux exigences des applications distribu√©es et avanc√©es en mati√®re de calcul avec une large applicabilit√©, √©volutivit√© et hautes performances. Une solution bien connue est MapReduce [14], qui orchestre les calculs en triant les serveurs distribu√©s, tout en g√©rant simultan√©ment diverses t√¢ches, toutes les communications et le transfert de donn√©es entre les parties du syst√®me,redondance et tol√©rance aux pannes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Azure Batch est un autre mod√®le de programmation utilis√© pour ex√©cuter efficacement des applications informatis√©es en mode parall√®le ou √† grande √©chelle, sans configuration manuelle ni gestion d'infrastructure, avec des clusters plus puissants de calcul haute performance (HPC - calcul haute performance) [15]. Pour illustrer ces id√©es, rappelons-nous le SaaS (logiciel en tant que service) ou les applications clientes qui n√©cessitent une large ex√©cution [16]. En fait, diverses soci√©t√©s informatiques manifestent un int√©r√™t accru pour le SaaS, souhaitant r√©duire leurs d√©penses d'exploitation et, par cons√©quent, accro√Ætre la flexibilit√© de leur entreprise [17]. Azure Functions est un autre service propos√© par les principaux fournisseurs de services cloud,qui permet un lancement √† la demande sans avoir besoin de fournir ou de g√©rer explicitement l'infrastructure [18].</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela augmente √©galement l'int√©r√™t des applications √† lancer facilement de petits morceaux de code ou de ¬´fonctions¬ª dans le cloud. </font><font style="vertical-align: inherit;">L'int√©r√™t croissant pour l'Internet des objets (IoT) fait d'Azure Functions [19] une excellente solution pour le traitement des donn√©es, l'int√©gration de syst√®mes et la cr√©ation d'API et de microservices simples.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. M√©thodologie</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le syst√®me propos√© structurellement peut √™tre divis√© en 3 domaines diff√©rents: (1) le client - qui effectuera les t√¢ches assign√©es par le serveur; (2) serveur - une interface avec un client, le cerveau des applications monolithiques; (3) une zone de gestion de communication client-serveur qui encapsule tous les d√©tails associ√©s au transfert d'ex√©cution du serveur vers le client. Toutes les informations transmises sur le r√©seau entre le client et le serveur sont crypt√©es √† l'aide de l'algorithme DES (Data Encryption Standard), et la cl√© est modifi√©e √† l'aide du protocole Diffie-Hellman [20], qui, bien qu'il soit vuln√©rable dans certaines conditions, encore mis en ≈ìuvre dans une vari√©t√© de solutions de s√©curit√© Internet. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1. Architecture du syst√®me</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre syst√®me est fortement bas√© sur l'architecture des syst√®mes de microservices dynamiques. L'architecture prend comme base le client-serveur, dans lequel le serveur correspond √† un plus grand nombre de clients. Le serveur et le client effectuent tous deux des microservices Web, le protocole de communication est HTTP, le format de donn√©es est JSON. Cette architecture est utile pour distribuer et redistribuer dynamiquement les ressources entre les clients. Un tel mod√®le architectural est utilis√© pour cr√©er de grandes applications complexes et √©volutives horizontalement compos√©es de petits processus ind√©pendants et s√©par√©s qui interagissent les uns avec les autres √† l'aide de l'API [21].</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En figue. La figure 1 montre comment un serveur distribue des packages de fonctionnalit√©s pour ses clients. Selon le nombre de clients, il peut y avoir des instructions qui ne seront attribu√©es √† aucun client, ou le m√™me ensemble d'instructions affect√© √† plusieurs clients. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yd/-j/hk/yd-jhkvmw4m4mjb0lskder-k9bg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 1. Distribution des services aux clients.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
L'architecture de l'application a √©t√© construite √† l'aide du cadre ASP.NET MVC de Microsoft. Dans la partie centrale, nous voyons des microservices de serveur sur le serveur lui-m√™me, et √† gauche et √† droite, de nombreux clients attendent de d√©marrer des t√¢ches √† partir du serveur. Le composant de service d'orchestration fournit, d'une part, la communication entre le serveur et les clients, l'envoi de t√¢ches aux clients, et d'autre part, il surveille l'√©tat de ces demandes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette architecture permet √† un microservice d'appeler un autre microservice (ainsi nous obtenons un microservice √©tendu (√©tendu)) ou de s'appeler les uns les autres, ce qui peut conduire √† une d√©pendance circulaire, qui devrait √™tre √©vit√©e au niveau de l'utilisateur. </font><font style="vertical-align: inherit;">Le protocole de communication client-serveur s'effectue selon les √©tapes suivantes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le client se connecte au serveur et lance un protocole d'√©change de cl√©s. </font><font style="vertical-align: inherit;">Il les fournira √©galement au serveur et au port auxquels ils correspondront.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le serveur informe le client de la prochaine t√¢che √† effectuer (la t√¢che est repr√©sent√©e par une paire (microservice, donn√©es d'entr√©e)).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le client re√ßoit le travail, puis informe le serveur que le transfert et le t√©l√©chargement se sont termin√©s avec succ√®s ou sans succ√®s.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√®s que la connexion entre les deux objets est √©tablie, le serveur envoie les donn√©es au format JSON, chiffr√©es √† l'aide de DES, au client pour traitement.</font></font></li>
<li>      ( ,       )    JSON,    DES.</li>
<li>      ,         .</li>
<li>         ‚Äî            .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un cas particulier de cette interaction est un sc√©nario o√π un client ex√©cute une t√¢che pour laquelle le r√©sultat d'un autre client est requis. </font><font style="vertical-align: inherit;">Pour ce cas, deux possibilit√©s existantes ont √©t√© √©valu√©es: l'orchestration et la chor√©graphie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas de la chor√©graphie, nous avons identifi√© plusieurs obstacles: (a) une liste de clients disponibles pour effectuer une t√¢che externe devait √™tre envoy√©e par le serveur au client, et le maintien de cette liste de valeurs mises √† jour entra√Ænerait souvent une charge accrue sur le r√©seau d'√©change d'informations; </font><font style="vertical-align: inherit;">(b) la communication entre les deux clients √©tait vuln√©rable aux attaques. </font><font style="vertical-align: inherit;">Deux situations ont √©t√© r√©solues gr√¢ce √† l'orchestration. </font><font style="vertical-align: inherit;">En fait, tous les soins de gestion incombent au serveur, et les clients ne sont que des objets simples avec lesquels il est facile de travailler.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'option de microservices √©tendus, les phases d'interaction client-client seront les suivantes:</font></font><br>
<br>
<ol>
<li>          .    ,     .      ,     DES.</li>
<li>  , ,   .   ,    ,  ,    ,         .     ,     (  . .).</li>
<li>      ,       (   ),   ,        .</li>
<li>        .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le client d√©chiffre le r√©sultat avec un mot de passe √† usage unique et poursuit l'ex√©cution.</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2. </font><font style="vertical-align: inherit;">Application</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour tester et √©valuer cette architecture, nous avons impl√©ment√© plusieurs microservices que nous avons sollicit√©s pour ce que nous voulions v√©rifier √† la fois. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_l/ye/uc/_lyeucntwjhoj0xlbenxz4nygjs.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">2. L'interface. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la premi√®re exp√©rience, nous avons utilis√© 3 microservices comme suit: (1) un microservice qui effectue une op√©ration math√©matique sur deux nombres (√† l'aide de LibraryMath), (2) un microservice qui nous indique si le nombre est positif (MasterOfNumbers) et (3) un microservice √©tendu, qui appellera le premier microservice lorsqu'il recevra deux num√©ros, et le r√©sultat sera envoy√© au deuxi√®me microservice pour extraire des informations sur ce num√©ro (UniverseOfSuperMath).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La figure 2 montre comment nous obtenons des calculs math√©matiques √† l'aide des microservices pr√©sent√©s. Au niveau de l'interface, seul le r√©sultat d'une op√©ration math√©matique est affich√©, le reste des informations peut √™tre vu comme le r√©sultat de la r√©ception par le serveur d'un appel AJAX en appuyant sur la touche √©gale (les deux r√©sultats sont positifs). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous consid√©rerons la fonctionnalit√© principale de l'application, qui se concentre sur ce qui se passe lorsqu'il y a un, deux ou plusieurs clients connect√©s. Dans la figure 3, nous voyons comment, dans nos exp√©riences, nous avons lanc√© plus de clients sur l'ordinateur local, en utilisant diff√©rents ports pour chacun d'eux. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/94/nq/a9/94nqa9rzhinodyiixedizjaul8m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 3. L'interface.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons 6 champs: ClientToken - un jeton unique associ√© √† chaque client (lorsque l'appel est local et a une valeur localhost); Date - le moment o√π la demande a √©t√© faite; IP &amp; Port = adresse IP du client et le port par lequel la communication est √©tablie; Fonction - nom de la fonction appel√©e; Succ√®s - un indicateur bool√©en indiquant le succ√®s de l'appel. Par exemple, nous remarquons que lors du premier appel (h: 8:38:21 le client n'est pas connect√© au serveur, le processus est effectu√© par le serveur). Lors du deuxi√®me appel, nous observons le comportement dynamique du syst√®me, dont l'une des t√¢ches est effectu√©e par l'un des clients et les deux autres par le serveur. Plus pr√©cis√©ment, UniverserOfSuperMath est appel√© (localement - le client n'est pas disponible pour cette t√¢che), qui, √† son tour, appelle deux autres microservices, un local et un via un client d√©l√©gu√© pour utiliser une instruction sp√©cifique, etc.r√©.</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tol√©rance aux pannes</font></font></b></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Une autre fonctionnalit√© que j'ai prise en compte lors de la cr√©ation de cette architecture √©tait li√©e √† la tol√©rance aux pannes du syst√®me. Sur la base du sc√©nario pr√©c√©dent, nous pouvons observer ce qui se passe si un ou plusieurs clients choisissent de quitter le syst√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la figure 3 √† droite, l'appel √† 8:46 illustre ce sc√©nario. Les clients sur les ports 8390 et 8827 ont un probl√®me local ou de r√©seau ou fermez simplement la connexion au serveur et le serveur ne re√ßoit pas de notification √† temps pour les supprimer de la liste. Le serveur essaiera de contacter les clients et d'ex√©cuter des commandes, mais s'ils ne r√©pondent pas en temps opportun, le serveur assume leurs t√¢ches et renvoie le r√©sultat demand√©. Pour confirmation, les clients seront √† nouveau sollicit√©s apr√®s un certain temps, et s'ils ne r√©pondent toujours pas, ils seront supprim√©s de la liste des clients disponibles. Le prochain appel (8:47) ne demandera plus inutilement des clients qui ne sont plus disponibles et les t√¢ches ignor√©es par les clients disponibles seront ex√©cut√©es par le serveur. </font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avantages et inconv√©nients de la solution propos√©e</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les avantages de cette architecture sont √©vidents: les faibles co√ªts d'h√©bergement, les microservices propos√©s dans un r√©seau distribu√© sont dynamiques et √©volutifs automatiquement (lorsque les clients offrent √©galement une puissance de calcul √† mesure qu'ils augmentent, la puissance de calcul du syst√®me augmente).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les limites doivent √™tre soulign√©es √©galement: lorsque la courbe de puissance de calcul ne correspond pas √† la courbe de puissance client. Nous avons √©galement une restriction sur la possibilit√© d'ex√©cuter cette application sur n'importe quel syst√®me d'exploitation. Pour ce faire, nous avons d√©cid√© de convertir une solution abordable de .NET en Java. Mais cette solution pr√©sente certains inconv√©nients par rapport √† la solution d'origine (Java offre une vitesse de traitement des donn√©es plus faible et un transfert de paquets moins dynamique que nous le faisons en .NET). Nous utilisons actuellement cette solution car .Net Core, propos√© par Microsoft pour fonctionner sur plusieurs plateformes, n'est pas encore une solution mature et n'offre pas toutes les fonctionnalit√©s de la plateforme .NET standard). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3. Composants client-serveur </font></font></b><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.1. Client</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette architecture, le client est une application de bureau Windows Presentation Foundation (WPF) sp√©cialement con√ßue pour communiquer avec le serveur et effectuer diverses t√¢ches re√ßues de celui-ci. √âtant donn√© que l'application est un fichier ex√©cutable qui ne n√©cessite pas d'installation, le syst√®me d'exploitation doit fonctionner avec .Net Framework. Essentiellement, un microservice Web interagira avec un autre microservice Web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, le client d√©marre le planificateur de t√¢ches dans un thread parall√®le, qui chaque minute tentera de notifier le serveur de sa pr√©sence. Une t√¢che peut prendre deux √©tats: (1) soit il y a une t√¢che √† ex√©cuter (l'initialisation du package de code est d√©j√† termin√©e) - dans ce cas, elle ne notifie au serveur que sa pr√©sence; (2) ou n√©cessite une initialisation avec le serveur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'initialisation avec le serveur comprend, tout d'abord, un choix arbitraire de code et de port qui d√©marrera le serveur, qui √† son tour lui seront envoy√©s en utilisant le protocole d'√©change de cl√©s Diffie-Hellman (IKE). D√®s que la connexion entre les deux objets est √©tablie, le serveur notifie au client un package d'instructions d'installation. Le r√¥le principal du client est de recevoir un package d'instructions du serveur, de le charger en m√©moire, de traiter les informations re√ßues du serveur, puis de renvoyer le r√©sultat obtenu en ex√©cutant ce package d'instructions. La premi√®re √©tape effectu√©e par le client consiste √† contacter le serveur pour un ensemble d'instructions. Ce paquet d'instructions se pr√©sente sous la forme d'une archive ZIP.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant d'extraire ce package, supprimez le r√©pertoire pr√©c√©dent avec les instructions du dossier ¬´process¬ª (s'il existe), puis extrayez le nouveau contenu dans ce dossier et chargez-le en m√©moire. Le chargement de la m√©moire d√©marre une fois, quel que soit le nombre d'appels re√ßus par le client. Cela est possible car trois propri√©t√©s restent inchang√©es dans la session: assembly, methodInfo et type. L'assembly stocke un lien vers la DLL charg√©e, la propri√©t√© methodInfo contient la m√©thode appel√©e √† partir de la DLL et type d√©crit le type de la DLL. Le fichier install.zip est un ensemble d'instructions re√ßues d'un serveur qui contient des DLL, du XML, des images, des fichiers de configuration, etc., et tout le code compil√© qui sera ex√©cut√© dans un processus futur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette √©tape marque le d√©but de la communication entre le client et le serveur pour effectuer une t√¢che sp√©cifique. </font><font style="vertical-align: inherit;">D√®s que le client est correctement initialis√© pour effectuer une t√¢che sp√©cifique, le serveur n'enverra que le paquet de donn√©es sous forme crypt√©e, qui doit √™tre trait√©, et attendra √©galement une r√©ponse sous forme crypt√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ex√©cutant le code re√ßu du serveur, le syst√®me est ¬´verrouill√©¬ª, le client peut se connecter √† des bases de donn√©es, appeler d'autres API, en particulier, appeler d'autres clients qui ex√©cutent des instructions identiques ou diff√©rentes. </font><font style="vertical-align: inherit;">La connexion est √©tablie dans le syst√®me d'orchestration, o√π le serveur recherche le prochain client disponible, demande le r√©sultat et sa r√©ponse est redirig√©e par le serveur vers le client. </font><font style="vertical-align: inherit;">Cette orchestration de microservices est appel√©e ¬´ExtendedService¬ª, et la seule diff√©rence au niveau du client est que le chiffrement est optimis√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le probl√®me technique √©tait de r√©initialiser le client avec un autre paquet d'instructions √† ex√©cuter. √âtant donn√© que le chargement de la m√©moire est statique dans un contexte sp√©cial (serveur Web), cela n'a √©t√© possible qu'en red√©marrant l'ensemble du processus pour traiter les DLL charg√©es en m√©moire. Pour ce faire, nous avons cr√©√© des √©v√©nements dans Windows que nous ex√©cutons √† partir d'une application Web ex√©cut√©e dans une application de bureau. Cela est n√©cessaire car nous avons affaire √† deux contextes diff√©rents dans deux threads d'ex√©cution diff√©rents. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3.2. Serveur</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le microservice int√©gr√© a une interface ILibraryMath, qui fournit la m√©thode SimpleMath, et l'interface est impl√©ment√©e par la classe LibraryMath. La classe LibraryMath √©tend la classe abstraite universelle MicroCore, qui a deux param√®tres correspondants pour l'entr√©e et la sortie. En √©tendant cette classe abstraite, la m√©thode ProcessTask doit √™tre impl√©ment√©e l√† o√π tout le code √† ex√©cuter est √©crit, et la fonction Run est appel√©e dans la classe abstraite √©tendue pour ex√©cuter ce code dans la m√©thode SimpleMath. Ainsi, il est possible de d√©finir des interfaces et des m√©thodes, non limit√©es √† un nom sp√©cifique, mais, en passant le code √† travers une classe abstraite, nous obtiendrons un contr√¥le total sur le code, que nous pouvons distribuer entre diff√©rents clients. Dans cette classe, nous pouvons facilement avoir plus de fonctions et de biblioth√®ques import√©es,s'ils sont regroup√©s dans un seul package.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©tape suivante consiste √† √©crire cette interface dans SimpleInjector, une biblioth√®que qui facilite le d√©ploiement d'un mod√®le d'injection de d√©pendance avec des composants √† couplage l√¢che. En plus d'enregistrer des classes entrelac√©es dans le conteneur Simple Injector, afin de rompre la d√©pendance entre les niveaux d'application (introduction de d√©pendances de mod√®le), nous devons enregistrer la classe dans le conteneur de stockage de microservices, qui sera mis √† l'√©chelle par l'application. Apr√®s cette √©tape, nous pourrons utiliser la fonction fournie par l'interface pour le but cr√©√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Service1 impl√©mente IService1 et √©tend la classe MicroCore abstraite, puis s'inscrit aupr√®s de MicroContainer.RegisterMicro dans ce conteneur. Il convient de mentionner l'existence d'API disponibles dans localohst / DynamicMicros / {Service} via lesquelles les clients communiquent avec le serveur. Actions importantes disponibles via ces API: le client se connecte, le client informe le serveur de son activit√©, les microservices se d√©veloppent, etc. Ensuite, nous pr√©sentons les classes MicroCore et MicroContainer, qui forment ensemble la base de notre application.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La classe MicroCore est une classe abstraite et universelle et est responsable de l'appel de code √† partir de la m√©thode virtuelle ProcessTask. </font><font style="vertical-align: inherit;">Cela se fait en appelant la m√©thode Run, qui √† son tour appelle la m√©thode publique TaskManager. </font><font style="vertical-align: inherit;">Notez que le microservice, √† son tour, appellera √©galement cette m√©thode. </font><font style="vertical-align: inherit;">Lorsqu'un package ZIP est envoy√© au client pour √™tre charg√© en m√©moire et ex√©cut√©, il est envoy√© avec toutes ses d√©pendances, y compris cette classe, qui est utilis√©e pour g√©rer le microservice du client. </font><font style="vertical-align: inherit;">Le contr√¥le d'ex√©cution comprend la d√©s√©rialisation / s√©rialisation du paquet de donn√©es √† envoyer, l'appel du code lui-m√™me, l'appel d'autres API, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenant du c√¥t√© serveur, le contr√¥le de l'ex√©cution du code comprend les √©tapes suivantes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S'il s'agit d'un appel ExtendedService, le serveur sera appel√© pour r√©pondre.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si un client est disponible pour la demande, celle-ci lui sera envoy√©e pour traiter le r√©sultat; </font><font style="vertical-align: inherit;">dans le cas n√©gatif, le serveur lui-m√™me traitera les donn√©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous demandons un client pour le traitement des donn√©es. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si le client a des probl√®mes, nous demandons √† nouveau la confirmation de la disponibilit√©, mais envoyons une r√©ponse du serveur (pour √©viter les temps d'arr√™t et les longs d√©lais d'attente).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous enregistrons l'activit√© en cours.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La classe MicroContainer est l'espace de gestion de l'ensemble du microsyst√®me int√©gr√©. </font><font style="vertical-align: inherit;">Ici, les clients qui connectent l'application (serveur) se connectent, et il existe des appels de fonction qui √©tendent la classe abstraite MicroCore pour les ¬´services avanc√©s¬ª. </font><font style="vertical-align: inherit;">Il s'agit d'une classe statique dans laquelle la liste des t√¢ches effectu√©es sur les microservices, la liste des clients connect√©s et la liste des t√¢ches client qui effectuent ces t√¢ches sont stock√©es dans le dictionnaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois lanc√©e, la classe sera enregistr√©e pour int√©gration dans le microservice √† l'aide de RegisterMicro. Cela ne se produira qu'une seule fois lors de l'initialisation. La m√©thode AddNewClient nous fournit l'enregistrement d'un nouveau client, l'√©change de cl√©s, l'enregistrement de l'adresse IP du serveur et le port sur lequel il fonctionnera. Le jeton re√ßu par le nouveau client sera v√©rifi√© avant d'√™tre ins√©r√© dans la liste des clients pour confirmer son unicit√©. Une fois la connexion avec le client √©tablie, le serveur appellera la m√©thode InstallService, qui compresse les donn√©es, les envoie et apr√®s que le client a r√©pondu, elles seront ajout√©es au dictionnaire pour cette t√¢che. Le temps de service qui sera allou√© √† chaque client d√©pend de la strat√©gie utilis√©e. Lorsque vous d√©marrez le microservice abstrait MicroCore, appel√© √† la fois sur le serveur et sur le client (avec ExtendedService),une demande est faite pour les clients disponibles pour la t√¢che demand√©e √† l'aide de la fonction GetNextClient. Cette op√©ration sera effectu√©e tr√®s souvent et sa complexit√© affectera directement le temps de r√©ponse de l'application. C'est pourquoi notre approche √©tait de s√©lectionner au hasard un client. Cela se fait rapidement et √† partir de nos exp√©riences assure une distribution uniforme des appels.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre option √©tait d'impl√©menter une liste de tourniquet - une solution qui a l'inconv√©nient que dans le cas d'un flux d'E / S client important, la mise √† jour de la liste de tourniquet n√©cessitera plus de temps et de complexit√©, ce que nous avons essay√© d'√©viter. La m√©thode RecordClientError est appel√©e lorsque le client ne r√©pond pas √† la demande re√ßue. Apr√®s avoir r√©pondu √† cette question, une d√©cision est prise pour enregistrer ou supprimer ce client. Les clients sont identifi√©s de mani√®re unique par le code de jeton envoy√© par le client lors de l'initialisation, et chaque microservice est identifi√© par un espace de noms et un nom de classe. Toutes les ressources (clients, code) sont g√©r√©es par cette unit√© unitaire qui assure le support des op√©rations n√©cessaires.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ce qui concerne la s√©curit√© du syst√®me, des mesures ont √©t√© prises pour emp√™cher les attaques, les interceptions et la protection des donn√©es. Tous les messages envoy√©s entre le serveur et les clients sont chiffr√©s √† l'aide de l'algorithme de cl√© DES sym√©trique et de l'√©change de cl√©s Diffie-Hellman entre le client et le serveur, qui se produit lors de l'initialisation du client. Les clients disponibles et les programmes en cours d'ex√©cution sont stock√©s dans la m√©moire du serveur. Nous avons choisi cette solution car, √† notre avis, c'√©tait la meilleure option, car elle fournit un acc√®s haut d√©bit aux donn√©es, les informations peuvent changer tr√®s souvent et la zone m√©moire est tr√®s difficile √† attaquer. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4. Comportement dynamique d'un syst√®me de microservices</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, tous les ordinateurs sur lesquels les clients travailleront peuvent √™tre sur le m√™me r√©seau ou sur des r√©seaux diff√©rents. Deux √©l√©ments sont prioritaires: a) le temps consacr√© au transfert de donn√©es; et (b) les frais g√©n√©raux ajout√©s par le syst√®me pour la gestion des donn√©es (par exemple, recherche de clients, chiffrement, d√©chiffrement, traitement des erreurs, etc.). Nous nous sommes principalement int√©ress√©s au comportement de notre syst√®me dans les r√©seaux locaux (LAN) et mondiaux (WAN) (Fig. 4). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1p/lc/fe/1plcfehcmqd4zkcgmuuuvd07cgq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 4. Enregistrement du syst√®me fonctionnant dans un r√©seau local (la premi√®re colonne de journaux) et global (la deuxi√®me colonne de journaux).</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La colonne Nom de la t√¢che contient toutes les inscriptions effectu√©es par l'appel client pour chaque t√¢che, et les colonnes Journaux sont les heures et la dur√©e en ms pour chaque traitement de t√¢che (√† gauche dans le r√©seau local et √† droite dans le r√©seau global). Notez que les t√¢ches ont le temps de r√©ponse le plus long au premier appel, apr√®s quoi il diminue. Naturellement, car tous les t√©l√©chargements de m√©moire, les adresses de sauvegarde, etc. sont g√©n√©ralement effectu√©s lors du premier appel. Les trois premi√®res t√¢ches sont de simples op√©rations math√©matiques qui sont g√©n√©ralement effectu√©es en quelques millisecondes - le temps qui est √©galement requis pour notre syst√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un r√©seau local, nous avons en moyenne 20 √† 30 millisecondes par t√¢che, ce qui provient du chiffrement, de la journalisation et de la transmission sur le r√©seau (m√™me s'il est local). Ce mod√®le de communication LAN est √©galement utilis√© dans le cloud, o√π les ordinateurs sont situ√©s au m√™me endroit (centre de donn√©es), et la communication entre eux se fait via la fibre optique, le retard du r√©seau est minime. Les r√©sultats sont pr√©sent√©s sur la fig. 4 dans la colonne de gauche des journaux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour tester notre application WAN, nous avons configur√© le routeur pour acheminer un appel du port 80 vers:</font></font><code>http://192.168.1.160/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(adresse r√©seau) et IIS (Internet Information Services) ont lanc√© l'application et elle √©tait accessible de n'importe o√π en dehors du r√©seau local. </font><font style="vertical-align: inherit;">Pour ex√©cuter l'application au niveau du client, le droit d'utiliser les ports 8000: 9000 (ports arbitraires) √©tait requis. </font><font style="vertical-align: inherit;">Les clients sont dispos√©s √† des </font><font style="vertical-align: inherit;">points arbitraires, la </font><font style="vertical-align: inherit;">connexion √† l'adresse IP publique via l' </font><font style="vertical-align: inherit;">API √©t√© √©tablie: </font></font><code>https://api.ipify.org/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Les r√©sultats sont pr√©sent√©s sur la fig. </font><font style="vertical-align: inherit;">4 dans la colonne du journal √† droite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les r√©sultats pr√©sent√©s sur la fig. </font><font style="vertical-align: inherit;">4, les valeurs dans la colonne de droite du journal sont 16 √† 17% sup√©rieures aux valeurs de la colonne de gauche du journal pour les trois premi√®res t√¢ches (sans communication avec d'autres microservices) et ¬± 10% pour les microservices qui ont t√©l√©charg√© des documents √† partir d'Internet ou interagi avec la base de donn√©es sur serveur sp√©cifique.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. √âvaluation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette √©tude, nous avons surveill√© le comportement du syst√®me √† la fois dans le r√©seau local (connexion de 5 ordinateurs via un r√©seau sans fil) et dans le r√©seau mondial (en utilisant l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> noms </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">mihaidm.ddns.net</font></a><font style="vertical-align: inherit;"> ), en comparant notre syst√®me avec un syst√®me monolithique, ces op√©rations sont effectu√©es sur le m√™me ordinateur (voir tableau 1). </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 1. √âvaluation du syst√®me pour les r√©seaux.</font></font></i><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">calcul (ms)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©crire dans la base de donn√©es (ms)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g√©n√©ration de pdf (ms)</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4,458</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.449</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lan</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.408</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.415</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bl√™me</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.826</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29.309</font></font></td>
</tr>
</tbody></table></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les tests ont √©t√© effectu√©s s√©quentiellement sur un appareil avec 5 clients connect√©s pour les tests de r√©seau. </font><font style="vertical-align: inherit;">Chaque t√¢che a √©t√© ex√©cut√©e 100 fois, √©valuant le nombre total de millisecondes dans tous les appels.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'√©tait un produit de deux nombres comme calcul num√©rique. Un microservice n'interagit pas avec d'autres microservices, la quantit√© d'informations transmises sur le r√©seau est faible et la complexit√© est minimis√©e pour √©tudier strictement le temps pass√© sur les t√¢ches de gestion du serveur, du client et du r√©seau. Si le calcul est effectu√© par le serveur (localhost), il est d'abord v√©rifi√© s'il y a un client disponible, et puisque le client n'est pas connect√©, le serveur traite le r√©sultat. Dans le cas suivant, la pr√©sence de clients sur le r√©seau local montre la fin de la t√¢che dans des conditions de fonctionnement tr√®s rapide du r√©seau, et du c√¥t√© traitement, chiffrement / d√©chiffrement, recherche de la r√©ponse du client. Pour 100 ex√©cutions, le temps moyen n√©cessaire pour terminer l'op√©ration √©tait de 25 ms, ce qui est une valeur prometteuse compte tenu du rapport flexibilit√© / vitesse. En cas de WAN, le temps est deux fois plus longque dans le r√©seau local (54 ms), cela est d√ª au processus de chiffrement, aux co√ªts de transport, mais pour l'ex√©cution r√©elle, il faut une demi-milliseconde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre t√¢che que nous avons √©tudi√©e consiste √† √©crire dans la base de donn√©es. En particulier, le mot qui sera √©crit dans la base de donn√©es est pris comme param√®tre. Nous souhaitons savoir √† quelle vitesse le client contactera une base de donn√©es situ√©e en dehors de la zone locale (pour cette √©tude, la base de donn√©es √©tait situ√©e sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.my.gearhost.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Notez que les valeurs d'ex√©cution sur LAN et localhost sont proches. Dans le r√©seau mondial, la diff√©rence est notable, car le traitement, la gestion des donn√©es et des clients ne prennent pas autant de temps que la plage de clients qui se connecte √† la base de donn√©es pour ins√©rer la valeur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La derni√®re t√¢che r√©alis√©e dans cette √©tude a √©t√© la cr√©ation d'un fichier PDF, notre objectif √©tait d'estimer le temps de transmission des donn√©es dans le syst√®me. </font><font style="vertical-align: inherit;">Pour ce faire, nous t√©l√©chargeons le fichier PDF sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.pdf-archive.com/2018/05/14/diploma/diploma.pdf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est charg√© en m√©moire. </font><font style="vertical-align: inherit;">Le syst√®me √©crit le nom √† une position sp√©cifique et renvoie le r√©sultat (sous la forme de vecteurs d'octets) au serveur. </font><font style="vertical-align: inherit;">Pour un h√¥te local et un r√©seau local, une diff√©rence d'environ 1 000 ms repr√©sente le temps requis pour chiffrer et transf√©rer des fichiers PDF localement. </font><font style="vertical-align: inherit;">Pour le WAN, la valeur r√©sultante est plus √©lev√©e car le co√ªt de transmission du vecteur d'octets est tr√®s √©lev√©.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Conclusions et travaux futurs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La nature g√©n√©rale et abstraite de l'architecture du syst√®me, pr√©sent√©e dans ce travail c√¥t√© serveur, a rendu la conception difficile, car le m√™me code est ex√©cut√© √† la fois par le serveur et le client. Nous pouvons affirmer que l'architecture actuelle est compacte, simple, facile √† comprendre et √† √©tendre; le client peut effectuer les t√¢ches assign√©es par le serveur, le serveur est un monolithe et l'interface client.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'architecture propos√©e permet de cr√©er tr√®s facilement de nouveaux microservices, qui sont ensuite automatiquement int√©gr√©s au syst√®me embarqu√©. √âl√©ments innovants de cette architecture: √©volutive tr√®s facilement, chaque nouveau client re√ßoit une t√¢che du serveur en fonction de la strat√©gie poursuivie (les t√¢ches les plus ch√®res, les plus courantes, une combinaison des deux pr√©c√©demment list√©es ou simplement une strat√©gie arbitraire). En fait, nous avons un monolithe avec la flexibilit√© d'un syst√®me de microservices. Le serveur traite la distribution dynamique des t√¢ches entre les clients, fournissant une mise √† l'√©chelle dynamique bas√©e sur un certain nombre de param√®tres (le nombre d'appels √† la t√¢che, son temps d'ex√©cution ou une combinaison de ceux-ci).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des orientations futures tient compte du fait que ce syst√®me peut √™tre int√©gr√© avec succ√®s dans un site Web ou un syst√®me API avec un caract√®re applicatif prononc√©. </font><font style="vertical-align: inherit;">L'architecture propos√©e peut √™tre am√©lior√©e et √©tendue √† tout moment en raison de la disponibilit√© de plusieurs plates-formes (par exemple, pour les t√©l√©phones mobiles). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre direction √† l'avenir que nous envisageons est consid√©r√©e comme extr√™mement int√©ressante aujourd'hui - est que l'utilisateur fournit une puissance de calcul en √©change d'une redevance (par exemple, le syst√®me BITCOIN), notre application est d√©velopp√©e pour ex√©cuter des microservices sur certains ordinateurs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lien source</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette √©tude a √©t√© publi√©e avec le soutien du programme POC-A1-A1.2.3-G-2015, dans le cadre du projet PrivateSky (P_40_371 / 13/01/01/2016) et du projet README ¬´Application interactive et innovante pour √©valuer la lisibilit√© des textes roumains et am√©liorer l'utilisateur styles d'√©criture ¬ª, contrat n ¬∞ </font><font style="vertical-align: inherit;">114 / 09.15.2017, MySMIS 2014 code 119286.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©f√©rences</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[1] Dragoni, N., Giallorenzo, S., Lluch-Lafuente, AL, Mazzara, M., Montesi, F., Mustafin, R. (2017a) "Microservices: hier, aujourd'hui et demain". Mazzara M., Meyer B. (√©d.), Present and Ulterior Software Engineering. Springer </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[2] Mazzara, M., Khanda, K., Mustafin, R., Rivera, V., Safina, L. et Silitti, A. (2018) ¬´Microservices Science and Engineering¬ª. Dans: P. Ciancarini, S.Litvinov, A. Messina, A., Sillitti, G. Succi (√©d.) Actes de la 5e Conf√©rence internationale en g√©nie logiciel pour les applications de d√©fense, SEDA 2016, Springer, 10-20.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[3] Dragoni, N., Lanese, I., Larsen, ST, Mazzara, M., Mustafin, R. et Safina, L. (2017b) ¬´Microservices: How To Make Your Application Scale¬ª. Dans: Petrenko A., Voronkov A. (√©d.) Perspectives of System Informatics. PSI 2017. Notes de cours en informatique, 10742. Springer, Cham. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[4] Melis, A., Mirri, S., Prandi, C., Prandini, M., Salomoni, P. et Callegati, F. (2016) ¬´Un cas d'utilisation de l'architecture de microservices pour les personnes handicap√©es¬ª. √Ä la 2e conf√©rence internationale EAI sur les objets intelligents et les technologies pour le bien social, DOI: 10.1007 / 978-3-319-61949-1_5. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[5] Zimmermann, O. (2017) ¬´Micro-services Tenets: Agile Approach to Service Development and Deployment, Computer Science - Research and Development¬ª, 32 (3-4): 301-310.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[6] Xia, C., Zhang, Y., Wang, L, Coleman, S. et Liu, Y. (2018) ¬´Syst√®me de robotique en nuage bas√© sur les microservices pour l'espace intelligent¬ª. Dans: Robotics and Autonomous Systems 110, DOI: 10.1016 / j.robot.2018.10.001. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[7] Bogner, J., Fritzsch, J., Wagner, S. et Zimmermann, A. (2019) ¬´Microservices in Industry: Insights in Technologies, Characteristics and Software Quality¬ª. Lors de la conf√©rence internationale IEEE 2019 sur les ateliers d'architecture logicielle (ICSAW) √†: Hambourg, Allemagne. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[8] Akentev, E., Tchitchigin, A., Safina, L. et Mzzara, M. (2017) ¬´V√©rificateur de type v√©rifi√© pour le langage de programmation Jolie¬ª, https: // arXiv.org/pdf/1703.05186.pdf.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[9] ƒåern√Ω, T., Donahoo, MJ et Trnka, M. (2018) ¬´Compr√©hension contextuelle de l'architecture des microservices: orientations actuelles et futures¬ª. ACM SIGAPP Applied Computing Review 17 (4): 29-45, DOI: 10.1145 / 3183628.3183631. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[10] Larucces, X., Santamaria, I., Colomo-Palacios, R. et Ebert, C. (2018) ¬´Microservices¬ª. Dans: IEEE Software, 35/3: 96-100. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[11] Kalske, M. (2017) ¬´Transformer l'architecture monolithique vers l'architecture de microservices¬ª. M.Sc. Th√®se, Univ. d'Helsinki. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[12] Lenarduzzi, V., et Taibi, D. (2016) ¬´MVP Explained: A Systematic Mapping Study on the Definitions of Minimal Viable Product¬ª. Lors de la 42e conf√©rence Euromicro sur le g√©nie logiciel et les applications avanc√©es (SEAA), 112-119.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[13] Taibi, D., Lenarduzzi, V., Janes, A., Liukkunen, K. et Ahmad, MO (2017) ¬´Comparing Requirements Decomposition within the Scrum, Scrum with Kanban, XP, and Banana Development Process¬ª. Dans: Baumeister H., Lichter H., Riebisch M. (√©d.) Agile Processes in Software Engineering and Extreme Programming. Notes de cours sur le traitement de l'information commerciale, 283. Springer, Cham. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[14] G√≥mez, A., Benelallam, A. et Tisi, M. (2015) ¬´Persistance du mod√®le d√©centralis√© pour le calcul distribu√©¬ª. Au 3e atelier BigMDE, L'Aquila, Italie. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[15] Kandave, KR (2018) ¬´Calcul haute performance sur Azure¬ª. Nanette Ray (√©d.), AzureCAT, Microsoft Corporation.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[16] Sreenivas, V., SriHarsha, S. et Narasimham, C. (2012) ¬´Un mod√®le cloud pour mettre en ≈ìuvre le SaaS¬ª. Dans: Advanced Materials Research 341-342, Trans Tech Publications, Suisse, 499-503. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[17] Badidi, E. (2013) ¬´A Framework for Software-As-A-Service Selection and Provisioning¬ª. Dans: International Journal of Computer Networks &amp; Communications (IJCNC), 5 (3): 189-200. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[18] Lynn, T., Rosati, P., Lejeune, A. et Emeakaroha, V. (2017) ¬´A Preliminary Review of Enterprise Serverless Cloud Computing (Functionas-a-Service) Platforms¬ª. Lors de la 9e conf√©rence internationale IEEE 2017 sur les technologies et les sciences du cloud computing, 162-169. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[19] Adzic, G. et Chatley, R. (2017) ¬´Serverless Computing: Economic and Architectural Impact¬ª. √Ä: ESEC / FSE'17, 4-8 septembre 2017, Paderborn, Allemagne, ACM.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[20] Diffie, W. et Hellman, M. (1976) ¬´New directions in cryptography¬ª. </font><font style="vertical-align: inherit;">Dans: IEEE Transactions on, Information Theory, 22 (6): 644‚Äì654. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[21] Kratzke, N. (2015) ¬´√Ä propos des microservices, des conteneurs et de leur impact sous-estim√© sur les performances du r√©seau¬ª. </font><font style="vertical-align: inherit;">Au CLOUD Comput. </font><font style="vertical-align: inherit;">2015, 180 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arxiv.org/abs/1710.04049</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En savoir plus sur le cours</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492616/index.html">Packer, Terraform et Ansible: d√©ploiement du cluster Kubernetes en une heure</a></li>
<li><a href="../fr492628/index.html">Intervalle de confiance pour le nombre de patients atteints de coronavirus (calcul de la mortalit√©)</a></li>
<li><a href="../fr492632/index.html">Petites entreprises en quarantaine: la panique est l'ennemi de la raison</a></li>
<li><a href="../fr492636/index.html">Que signifie √™tre efficace?</a></li>
<li><a href="../fr492638/index.html">Faire √©voluer une application Redux avec des canards</a></li>
<li><a href="../fr492652/index.html">Jeu de cartes "Fool" sur deux M5Stack</a></li>
<li><a href="../fr492658/index.html">Je suis all√© √† une t√©l√©commande - lanc√© un podcast: que lire pour les d√©butants - 5 livres √©prouv√©s</a></li>
<li><a href="../fr492660/index.html">Le monde entier contre le coronavirus. Intel Stories</a></li>
<li><a href="../fr492662/index.html">Comment j'ai diffus√© une conf√©rence universitaire pour la premi√®re fois</a></li>
<li><a href="../fr492666/index.html">Maltego Part 4. VK, Instagram, LinkedIN et autres cr√©atures fantastiques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>