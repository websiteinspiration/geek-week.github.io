<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍂 🌎 🌊 Schlangenzucker oder schreiben Sie Ihr Sortiment in JavaScript 👩🏼‍⚕️ 🛌🏽 👩🏽‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Viele Menschen lieben Python ... Anfänger werden durch das Fehlen von Semikolons bewundert, und Fortgeschrittene genießen echte Einfachheit. Heute wer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Schlangenzucker oder schreiben Sie Ihr Sortiment in JavaScript</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505254/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Viele Menschen lieben Python ... Anfänger werden durch das Fehlen von Semikolons bewundert, und Fortgeschrittene genießen echte Einfachheit. Heute werden wir darüber sprechen, wie man in JavaScript einen Anschein der Einfachheit von Python und insbesondere der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereichsfunktion</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> implementiert </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Python kann die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereichsfunktion</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> iteriert oder beispielsweise in eine Array- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste (Bereich (Anfang, Ende))</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> konvertiert werden </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Frage ist jedoch, ob JavaScript etwas Ähnliches erstellen und gleichzeitig die Lösung nativ und einfach aussehen lässt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das erste, was mir in den Sinn kommt, ist, eine ähnliche Klasse zu schreiben:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">range</span>(<span class="hljs-params">from, to, step = <span class="hljs-number">1</span></span>)</span>{
    <span class="hljs-keyword">this</span>.current = <span class="hljs-keyword">from</span>
    <span class="hljs-keyword">this</span>.to = to
    <span class="hljs-keyword">this</span>.step = step<font></font>
<font></font>
    <span class="hljs-keyword">this</span>.next = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.current++ % to<font></font>
}<font></font>
</code></pre><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, ich habe geschrieben, dass </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">next</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> den getrimmten Wert zurückgibt, aber dies ist auch ein Problem, das herausgefunden werden muss, wie es zu lösen ist - einen Fehler auslösen, wenn das Maximum erreicht ist, oder etwas anderes tun? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der </font><font style="vertical-align: inherit;">Regel ist eine solche Lösung nicht Bequemlichkeit überhaupt hinzufügen und es wird einfacher sein , </font><font style="vertical-align: inherit;">einen Standard zu schreiben </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , zum Beispiel, können Sie das Add </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ende</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funktion </font><font style="vertical-align: inherit;">und nach jeder Iteration zu </font><font style="vertical-align: inherit;">überprüfen , </font><font style="vertical-align: inherit;">ob wir ins Ausland gegangen sind, aber diese Lösung ist nicht sinnvoll zu entwickeln. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ES6 führt den neuen primitiven Datentyp Symbol ein. Er öffnet vor uns die Türen zur Metaprogrammierung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um unser Problem mit der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reichweite</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu lösen </font><b><font style="vertical-align: inherit;">, verwenden</font></b><font style="vertical-align: inherit;"> wir </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Symbol.iterator</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es ermöglicht das Erstellen eines Iteratorobjekts unter Verwendung eines bestimmten Protokolls.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit ein Objekt ein Iterator wird, müssen Sie die Funktion </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Symbol.iterator] ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> darin definieren. </font><font style="vertical-align: inherit;">Da wir jedoch eine gemeinsame Funktion und keine Klasse erstellen möchten, verfügen wir über eine Funktion, die ein Iteratorobjekt zurückgibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So sieht es aus:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">range</span>(<span class="hljs-params">from, to, step = <span class="hljs-number">1</span></span>)</span>{
    <span class="hljs-keyword">return</span> {<font></font>
        [<span class="hljs-built_in">Symbol</span>.iterator](){
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">current</span>: <span class="hljs-keyword">from</span>,
                <span class="hljs-attr">to</span>: to,
                <span class="hljs-attr">from</span>: <span class="hljs-keyword">from</span>,<font></font>
                step,<font></font>
                next(){<font></font>
                    <span class="hljs-keyword">const</span> it = { <span class="hljs-attr">done</span>: <span class="hljs-keyword">this</span>.current &gt;= <span class="hljs-keyword">this</span>.to, <span class="hljs-attr">value</span>: <span class="hljs-keyword">this</span>.current }
                    <span class="hljs-keyword">this</span>.current += <span class="hljs-keyword">this</span>.step
                    <span class="hljs-keyword">return</span> it<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist los? </font><font style="vertical-align: inherit;">Wir haben eine </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereichsfunktion</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trotzdem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unser Iteratorobjekt zurückgibt, in dem die Funktion </font><b><font style="vertical-align: inherit;">[Symbol.iterator] ()</font></b><font style="vertical-align: inherit;"> ein Objekt zurückgibt. </font><font style="vertical-align: inherit;">Das Wichtigste ist, dass dieses Objekt die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nächste</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funktion enthält, </font><font style="vertical-align: inherit;">da das Objekt sonst nicht iterierbar ist und beim Versuch, es zu verwenden, ein Fehler auftritt. </font><font style="vertical-align: inherit;">Die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nächste</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funktion </font><font style="vertical-align: inherit;">sollte (!) Ein Objekt mit den Eigenschaften </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">done</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">value zurückgeben</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wobei </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">done</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (bool) das Ende der Iteration signalisiert und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">value</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> den aktuellen Wert enthält. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Prinzip funktioniert alles und Sie können bereits etwas Pythonartiges schreiben:</font></font><br>
<br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> range(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>))
        <span class="hljs-built_in">console</span>.log(i)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fazit:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-number">0</span>
<span class="hljs-number">2</span>
<span class="hljs-number">4</span>
<span class="hljs-number">6</span>
<span class="hljs-number">8</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir könnten hier aufhören ... Aber Sie können eine elegantere Lösung mit Generatorfunktionen schreiben:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">range</span>(<span class="hljs-params">from, to, step = <span class="hljs-number">1</span></span>)</span>{
    <span class="hljs-keyword">return</span> {<font></font>
        *[<span class="hljs-built_in">Symbol</span>.iterator](){
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> val = <span class="hljs-keyword">from</span>; val &lt; to; val += step){
                <span class="hljs-keyword">yield</span> val;<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein zusätzliches Plus wird die Tatsache sein, dass wir andere Möglichkeiten für Iteratoren haben. </font><font style="vertical-align: inherit;">Zum Beispiel können Sie unser </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sortiment</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sehr einfach </font><font style="vertical-align: inherit;">in ein Array </font><font style="vertical-align: inherit;">konvertieren </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs">[...range(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>)]
<span class="hljs-comment">// [ 0, 2, 4, 6, 8 ]</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abschließend möchte ich sagen, dass ich ursprünglich geplant hatte, einen Artikel mit einer Liste ähnlicher Implementierungen von Analogien zu schreiben, aber mir fiel nichts anderes ein. </font><font style="vertical-align: inherit;">Und wenn plötzlich Ideen auftauchen, werde ich dies als Zyklus fortsetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viel Glück</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de505220/index.html">Tipps zur Auswahl eines 2G / 3G / 4G / 5G-Signalverstärkers</a></li>
<li><a href="../de505226/index.html">Überlagern Sie eine 3D-Textur mit p5.js auf einem 3D-Objekt (Teil 1 - Erstellen eines Musters)</a></li>
<li><a href="../de505240/index.html">Die dunkle Seite der Arbeit in Yandex.Market</a></li>
<li><a href="../de505246/index.html">Drucken Sie die erste Tranche mit Upwork</a></li>
<li><a href="../de505252/index.html">Avokado-Projekt</a></li>
<li><a href="../de505256/index.html">Erfolgreicher Start. 39. seit Jahresbeginn. 14. aus den USA. Starlink SpaceX-Satelliten</a></li>
<li><a href="../de505258/index.html">Zahnmedizin: Erwartung und Realität</a></li>
<li><a href="../de505260/index.html">Messung der Verzögerung von der Tastatur zum Photon mit einem optischen Sensor</a></li>
<li><a href="../de505264/index.html">Als ich den HTML-Parser in PHP schrieb, und was daraus wurde. Teil eins</a></li>
<li><a href="../de505268/index.html">Persönliche Erfahrung: vom Frontend-Entwickler zum Leader</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>