<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎌 💿 🤱 Detail tentang paket Penyedia untuk Flutter 👩🏾‍🤝‍👩🏻 👨🏼‍🔬 🆓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! 
 
 Rencana jangka menengah kami meliputi rilis buku Flutter. Mengenai bahasa Dart sebagai topik, kami masih mengambil posisi yang lebih h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Detail tentang paket Penyedia untuk Flutter</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/503074/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo, Habr! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rencana jangka menengah kami meliputi rilis buku Flutter. </font><font style="vertical-align: inherit;">Mengenai bahasa Dart sebagai topik, kami masih mengambil posisi yang lebih hati-hati, jadi kami akan mencoba mengevaluasi relevansinya sesuai dengan hasil artikel ini. </font><font style="vertical-align: inherit;">Ini akan fokus pada paket </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan, karenanya, pada manajemen negara di Flutter.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penyedia adalah paket manajemen negara yang ditulis oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remy Rusle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan diadopsi oleh Google dan komunitas Flutter. </font><font style="vertical-align: inherit;">Tapi apa itu manajemen negara? </font><font style="vertical-align: inherit;">Sebagai permulaan, apa syaratnya? </font><font style="vertical-align: inherit;">Biarkan saya mengingatkan Anda bahwa negara hanyalah data untuk mewakili UI di aplikasi Anda. </font><font style="vertical-align: inherit;">Manajemen negara adalah pendekatan untuk membuat data ini, mengakses, menangani, dan membuangnya. </font><font style="vertical-align: inherit;">Untuk lebih memahami paket Penyedia, kami secara singkat menguraikan sejarah manajemen negara di Flutter.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. StatefulWidget</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StatelessWidget</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah komponen UI sederhana yang hanya menampilkan ketika memiliki data. Tidak </font></font><code>StatelessWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ada "memori"; itu dibuat dan dihancurkan seperlunya. Flutter juga memiliki </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StatefulWidget</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , di mana ada memori, berkat satelit yang berumur panjang - objek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">State</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Kelas ini memiliki metode </font></font><code>setState()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ketika dipanggil, widget diluncurkan yang membangun kembali negara dan menampilkannya dalam bentuk baru. Ini adalah bentuk paling sederhana manajemen negara Flutter yang disediakan di luar kotak. Ini adalah contoh dengan tombol yang selalu menampilkan waktu terakhir kali ditekan:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyWidget</span>&gt; </span>{
  <span class="hljs-built_in">DateTime</span> _time = <span class="hljs-built_in">DateTime</span>.now();  <span class="hljs-meta">@override</span><font></font>
  Widget build(BuildContext context) {<font></font>
    <span class="hljs-keyword">return</span> FlatButton(<font></font>
      child: Text(_time.toString()),<font></font>
      onPressed: () {<font></font>
        setState(() =&gt; _time = <span class="hljs-built_in">DateTime</span>.now());<font></font>
      },<font></font>
    );<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi apa masalahnya dengan pendekatan ini? </font><font style="vertical-align: inherit;">Misalkan aplikasi Anda memiliki beberapa status global yang disimpan di root </font></font><code>StatefulWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini berisi data yang dimaksudkan untuk digunakan di berbagai bagian UI. </font><font style="vertical-align: inherit;">Data ini dibagikan dan diteruskan ke setiap widget anak dalam bentuk parameter. </font><font style="vertical-align: inherit;">Setiap peristiwa yang direncanakan untuk mengubah data ini kemudian muncul dalam bentuk panggilan balik. </font><font style="vertical-align: inherit;">Dengan demikian, melalui semua widget perantara, banyak parameter dan panggilan balik ditransmisikan, yang segera dapat menyebabkan kebingungan. </font><font style="vertical-align: inherit;">Lebih buruk lagi, setiap pembaruan ke root yang disebutkan di atas akan menyebabkan pembangunan kembali seluruh pohon widget, yang tidak efisien.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Warisan Warisan</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InheritedWidget</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah widget khusus yang turunannya dapat mengaksesnya tanpa tautan langsung. </font><font style="vertical-align: inherit;">Hanya dengan beralih ke </font></font><code>InheritedWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, widget yang digunakan dapat mendaftar untuk membangun kembali otomatis, yang akan terjadi ketika membangun kembali widget leluhur. </font><font style="vertical-align: inherit;">Teknik ini memungkinkan Anda untuk mengatur pembaruan UI secara lebih efisien. </font><font style="vertical-align: inherit;">Alih-alih membangun kembali aplikasi dalam jumlah besar sebagai respons terhadap perubahan kecil dalam kondisi, Anda dapat memilih hanya widget tertentu yang perlu dibangun kembali. </font><font style="vertical-align: inherit;">Anda sudah bekerja dengan </font></font><code>InheritedWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setiap kali Anda menggunakan </font></font><code>MediaQuery.of(context)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau </font></font><code>Theme.of(context)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Benar, kecil kemungkinannya Anda telah mengimplementasikan InheritedWidget Anda sendiri dengan pelestarian negara. </font><font style="vertical-align: inherit;">Faktanya adalah bahwa mengimplementasikannya dengan benar tidaklah mudah.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. ScopedModel</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScopedModel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah paket yang dibuat pada tahun 2017 oleh Brian Egan, yang membuatnya mudah digunakan </font></font><code>InheritedWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menyimpan status aplikasi. </font><font style="vertical-align: inherit;">Pertama, Anda perlu membuat objek keadaan yang mewarisi dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan kemudian menyebutnya </font></font><code>notifyListeners()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ketika propertinya berubah. </font><font style="vertical-align: inherit;">Situasi ini mengingatkan pada implementasi antarmuka </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PropertyChangeListener</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di Jawa.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span> </span>{<font></font>
  String _foo;  String get foo =&gt; _foo;<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">void</span> set <span class="hljs-title">foo</span><span class="hljs-params">(String value)</span> </span>{<font></font>
    _foo = value;<font></font>
    notifyListeners();  <font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memberikan objek keadaan kita, kita membungkus objek ini dalam widget </font></font><code>ScopedModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di root aplikasi kita:</font></font><br>
<br>
<pre><code class="java hljs">ScopedModel&lt;MyModel&gt;(<font></font>
  model: MyModel(),<font></font>
  child: MyApp(...)<font></font>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang setiap widget turunan akan dapat diakses </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan widget </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScopedModelDescendant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Contoh model diteruskan ke parameter </font></font><code>builder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span><font></font>
  Widget build(BuildContext context) {<font></font>
    <span class="hljs-keyword">return</span> ScopedModelDescendant&lt;MyModel&gt;(<font></font>
      builder: (context, child, model) =&gt; Text(model.foo),<font></font>
    );<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap widget turunan juga akan dapat memperbarui model, yang secara otomatis akan memprovokasi pembangunan kembali apa pun </font></font><code>ScopedModelDescendants</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(asalkan model kami memanggil dengan benar </font></font><code>notifyListeners()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OtherWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span><font></font>
  Widget build(BuildContext context) {<font></font>
    <span class="hljs-keyword">return</span> FlatButton(<font></font>
      child: Text(<span class="hljs-string">'Update'</span>),<font></font>
      onPressed: () {<font></font>
        <span class="hljs-keyword">final</span> model = ScopedModel.of&lt;MyModel&gt;(context);<font></font>
        model.foo = <span class="hljs-string">'bar'</span>;<font></font>
      },<font></font>
    );<font></font>
  }<font></font>
}</code></pre><br>
<code>ScopedModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mendapatkan popularitas di Flutter sebagai alat untuk manajemen negara, tetapi penggunaannya terbatas pada penyediaan objek yang mewarisi kelas </font></font><code>Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan menggunakan pola pemberitahuan perubahan ini.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. BLoC</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada konferensi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google I / O '18</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pola </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponen Logika Bisnis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (BLoC) </font><font style="vertical-align: inherit;">diperkenalkan </font><font style="vertical-align: inherit;">, yang berfungsi sebagai alat lain untuk menarik status dari widget. Kelas BLoC adalah komponen non-UI berumur panjang yang mempertahankan status dan mengeksposnya sebagai aliran dan penerima. Mengambil logika negara dan bisnis di luar UI, Anda dapat mengimplementasikan widget sesederhana </font></font><code>StatelessWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StreamBuilder</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk pembangunan kembali otomatis. Akibatnya, widget "menjadi bodoh", dan menjadi lebih mudah untuk diuji. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh kelas BLoC:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBloc</span> </span>{
  <span class="hljs-keyword">final</span> _controller = StreamController&lt;MyType&gt;();  Stream&lt;MyType&gt; <span class="hljs-keyword">get</span> stream =&gt; _controller.stream;<font></font>
  StreamSink&lt;MyType&gt; <span class="hljs-keyword">get</span> sink =&gt; _controller.sink;<font></font>
  <font></font>
  myMethod() {<font></font>
    <span class="hljs-comment">//  </span><font></font>
    sink.add(foo);<font></font>
  }  dispose() {<font></font>
    _controller.close();<font></font>
  }<font></font>
}<font></font>
 ,   BLoC:<font></font>
<span class="hljs-meta">@override</span><font></font>
Widget build(BuildContext context) {<font></font>
 <span class="hljs-keyword">return</span> StreamBuilder&lt;MyType&gt;(<font></font>
  stream: myBloc.stream,<font></font>
  builder: (context, asyncSnapshot) {<font></font>
    <span class="hljs-comment">//  </span><font></font>
 });<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah dengan pola BLoC adalah tidak jelas bagaimana membuat dan menghancurkan objek BLoC. </font><font style="vertical-align: inherit;">Bagaimana instance dibuat </font></font><code>myBloc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam </font><font style="vertical-align: inherit;">contoh </font><font style="vertical-align: inherit;">di atas? </font><font style="vertical-align: inherit;">Bagaimana kita menelepon </font></font><code>dispose()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menyingkirkannya? </font><font style="vertical-align: inherit;">Streaming memerlukan penggunaan </font></font><code>StreamController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang harus dilakukan </font></font><code>closed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segera setelah tidak diperlukan - ini dilakukan untuk mencegah kebocoran memori. </font><font style="vertical-align: inherit;">(Tidak ada yang namanya destruktor kelas di Dart; hanya kelas </font></font><code>State</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di yang </font></font><code>StatefulWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memiliki metode </font></font><code>dispose()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Selain itu, tidak jelas cara membagikan BLoC ini di antara banyak widget. </font><font style="vertical-align: inherit;">Seringkali sulit bagi pengembang untuk menguasai BLoC. </font><font style="vertical-align: inherit;">Ada beberapa paket yang berusaha menyederhanakan ini.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Penyedia</font></font></h4><br>
<code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adalah paket yang ditulis pada tahun 2018 oleh Remy Rusle, mirip dengan </font></font><code>ScopedModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi yang fungsinya tidak terbatas, menyediakan subkelas Model. Ini juga pembungkus yang menyimpulkan </font></font><code>InheritedWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi penyedia dapat menyediakan objek negara apa pun, termasuk BLoC, stream, futures, dan lainnya. Karena penyedia ini sangat sederhana dan fleksibel, Google mengumumkan pada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">konferensi Google I / O '19</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bahwa di masa depan itu </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan menjadi paket pilihan untuk mengelola negara. Tentu saja, paket lain juga diperbolehkan, tetapi jika Anda ragu, Google merekomendasikan untuk berhenti </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dibangun "dengan widget, untuk widget."</font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memungkinkan Anda untuk menempatkan objek apa pun dengan status di pohon widget dan membuka akses ke sana untuk widget lainnya (anak). </font><font style="vertical-align: inherit;">Ini juga </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membantu mengelola masa objek negara dengan menginisialisasi mereka dengan data dan melakukan pembersihan setelah dihapus dari pohon widget. </font><font style="vertical-align: inherit;">Oleh karena itu, </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sangat cocok bahkan untuk menerapkan komponen BLoC atau dapat berfungsi sebagai dasar untuk solusi manajemen negara lainnya! </font><font style="vertical-align: inherit;">Atau hanya digunakan untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengimplementasikan dependensi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - istilah mewah yang berarti mentransfer data ke widget dengan cara yang memungkinkan Anda untuk melonggarkan koneksi dan meningkatkan testabilitas kode. </font><font style="vertical-align: inherit;">Akhirnya,</font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hadir dengan sekumpulan kelas khusus, berkat yang bahkan lebih nyaman digunakan. </font><font style="vertical-align: inherit;">Selanjutnya, kita akan melihat lebih dekat pada masing-masing kelas ini.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyedia Dasar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ChangeNotifierProvider</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StreamProvider</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Futureprovider</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ValueListenableProvider</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MultiProvider</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proxyprovider</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalasi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menggunakannya </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pertama-tama tambahkan dependensi ke file kami </font></font><code>pubspec.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<code>provider: ^3.0.0</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian kami mengimpor paket di </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tempat yang dibutuhkan: </font></font><br>
<br>
<code>import 'package:provider/provider.dart';</code><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyedia basis</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Membuat basis </font></font><code>Provide</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r di root aplikasi kami; </font><font style="vertical-align: inherit;">ini akan berisi contoh dari model kami:</font></font><br>
<br>
<pre><code class="dart hljs">Provider&lt;MyModel&gt;(<font></font>
  builder: (context) =&gt; MyModel(),<font></font>
  child: MyApp(...),<font></font>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parameter </font></font><code>builder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menciptakan instance </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jika Anda ingin memberikan contoh yang ada padanya, gunakan konstruktor di sini </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Provider.value</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian Anda dapat menggunakan instance model ini di mana saja </font></font><code>MyApp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, menggunakan widget </font></font><code>Consumer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span><font></font>
  Widget build(BuildContext context) {<font></font>
    <span class="hljs-keyword">return</span> Consumer&lt;MyModel&gt;(<font></font>
      builder: (context, value, child) =&gt; Text(value.foo),<font></font>
    );<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam contoh di atas, kelas </font></font><code>MyWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mendapat instance </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan widget </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konsumen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Widget ini memberi kami </font></font><code>builder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berisi objek kami di parameter </font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, apa yang harus kita lakukan jika kita ingin memperbarui data dalam model kita? Katakanlah kita memiliki widget lain di mana, ketika sebuah tombol diklik, properti harus diperbarui </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OtherWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span><font></font>
  Widget build(BuildContext context) {<font></font>
    <span class="hljs-keyword">return</span> FlatButton(<font></font>
      child: Text(<span class="hljs-string">'Update'</span>),<font></font>
      onPressed: () {<font></font>
        <span class="hljs-keyword">final</span> model = Provider.of&lt;MyModel&gt;(context);<font></font>
        model.foo = <span class="hljs-string">'bar'</span>;<font></font>
      },<font></font>
    );<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhatikan sintaksis khusus yang digunakan untuk mengakses instance </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Secara fungsional, ini setara dengan mengakses widget </font></font><code>Consumer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Widget </font></font><code>Consumer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berguna dalam kasus-kasus ketika kode tidak dapat dengan mudah mendapatkan tautan </font></font><code>BuildContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut Anda apa yang akan terjadi dengan widget asli </font></font><code>MyWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang kami buat sebelumnya? Akankah makna baru ditampilkan di dalamnya </font></font><code>bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sayangnya tidak</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tidak dimungkinkan untuk mendengarkan perubahan pada objek Dart tradisional lama (setidaknya tanpa refleksi, yang tidak disediakan dalam Flutter). Dengan demikian, </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak akan dapat "melihat" bahwa kami telah memperbarui properti dengan benar </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan memerintahkan widget untuk </font></font><code>MyWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diperbarui sebagai tanggapan. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ChangeNotifierProvider</font></font></i></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi ada harapan! </font><font style="vertical-align: inherit;">Anda dapat membuat kelas kami </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menerapkan kenajisan </font></font><code>ChangeNotifier</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dibutuhkan sedikit waktu untuk mengubah implementasi model kami dan memanggil metode khusus </font></font><code>notifyListeners()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setiap kali salah satu properti kami berubah. </font><font style="vertical-align: inherit;">Ini bekerja dengan cara yang kira-kira sama </font></font><code>ScopedModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi dalam hal ini bagus bahwa Anda tidak perlu mewarisi dari kelas model tertentu. </font><font style="vertical-align: inherit;">Sudah cukup untuk mewujudkan pencampuran </font></font><code>ChangeNotifier</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Begini tampilannya:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyModel</span> <span class="hljs-title">with</span> <span class="hljs-title">ChangeNotifier</span> </span>{
  <span class="hljs-built_in">String</span> _foo;  <span class="hljs-built_in">String</span> <span class="hljs-keyword">get</span> foo =&gt; _foo;<font></font>
  <font></font>
  <span class="hljs-keyword">void</span> <span class="hljs-keyword">set</span> foo(<span class="hljs-built_in">String</span> value) {<font></font>
    _foo = value;<font></font>
    notifyListeners();  <font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, kami mengganti properti kami </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan </font></font><code>getter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>setter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, didukung oleh variabel pribadi _foo. </font><font style="vertical-align: inherit;">Dengan cara ini kita dapat "mencegat" setiap perubahan yang dilakukan pada properti foo dan membiarkan pendengar kita tahu bahwa objek kita telah berubah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, dari luar </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kita dapat mengubah implementasi kita sehingga menggunakan kelas yang berbeda yang disebut </font></font><code> ChangeNotifierProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="dart hljs">ChangeNotifierProvider&lt;MyModel&gt;(<font></font>
  builder: (context) =&gt; MyModel(),<font></font>
  child: MyApp(...),<font></font>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti ini! </font><font style="vertical-align: inherit;">Sekarang, ketika kami </font></font><code>OtherWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memperbarui properti </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam instance </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, itu </font></font><code>MyWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan secara otomatis memperbarui untuk mencerminkan perubahan ini. </font><font style="vertical-align: inherit;">Keren kan? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ngomong-ngomong. </font><font style="vertical-align: inherit;">Anda mungkin memperhatikan penangan tombol </font></font><code>OtherWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang dengannya kami menggunakan sintaks berikut:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-keyword">final</span> model = Provider.of&lt;MyModel&gt;(context);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara default, sintaks ini secara otomatis akan menyebabkan pembangunan kembali instance </font></font><code>OtherWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segera setelah model berubah </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mungkin kita tidak membutuhkan ini. </font><font style="vertical-align: inherit;">Pada akhirnya, itu </font></font><code>OtherWidget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hanya berisi tombol yang tidak berubah sama sekali ketika nilainya berubah </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Untuk menghindari pembangunan kembali, Anda dapat menggunakan sintaks berikut untuk mengakses model kami tanpa mendaftar untuk membangun kembali:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-keyword">final</span> model = Provider.of&lt;MyModel&gt;(context, listen: <span class="hljs-keyword">false</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah pesona lain yang disediakan dalam paket </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">begitu saja. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StreamProvider</font></font></i></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sekilas, tidak jelas mengapa itu diperlukan </font></font><code>StreamProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pada akhirnya, Anda bisa menggunakan yang biasa saja </font></font><code>StreamBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jika Anda perlu mengonsumsi streaming di Flutter. </font><font style="vertical-align: inherit;">Misalnya, di sini kita mendengarkan aliran yang </font></font><code>onAuthStateChanged</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disediakan oleh </font></font><code>FirebaseAuth</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-meta">@override</span><font></font>
Widget build(BuildContext context {<font></font>
  <span class="hljs-keyword">return</span> StreamBuilder(<font></font>
   stream: FirebaseAuth.instance.onAuthStateChanged, <font></font>
   builder: (BuildContext context, AsyncSnapshot snapshot){ <font></font>
     ...<font></font>
   });<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melakukan hal yang sama dengan bantuan </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kami dapat menyediakan streaming melalui </font></font><code>StreamProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akar dari aplikasi kami:</font></font><br>
<br>
<pre><code class="dart hljs">StreamProvider&lt;FirebaseUser&gt;.value(<font></font>
  stream: FirebaseAuth.instance.onAuthStateChanged,<font></font>
  child: MyApp(...),<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian konsumsilah widget anak, seperti yang biasa dilakukan dengan </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-meta">@override</span><font></font>
Widget build(BuildContext context) {<font></font>
  <span class="hljs-keyword">return</span> Consumer&lt;FirebaseUser&gt;(<font></font>
    builder: (context, value, child) =&gt; Text(value.displayName),<font></font>
  );<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode widget kami tidak hanya menjadi lebih bersih, tetapi juga mengabstraksi fakta bahwa data berasal dari aliran. Jika kita memutuskan untuk mengubah implementasi basis, misalnya, menjadi </font></font><code>FutureProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka tidak diperlukan perubahan pada kode widget. Seperti yang akan Anda lihat, ini berlaku untuk semua penyedia lain yang ditunjukkan di bawah ini. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FutureProvider</font></font></i></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mirip dengan contoh di atas, ini </font></font><code>FutureProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah alternatif dari standar </font></font><code> FutureBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">saat bekerja dengan widget. Berikut ini sebuah contoh:</font></font><br>
<br>
<pre><code class="plaintext hljs">FutureProvider&lt;FirebaseUser&gt;.value(<font></font>
  value: FirebaseAuth.instance.currentUser(),<font></font>
  child: MyApp(...),<font></font>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menggunakan nilai ini di widget anak, kami menggunakan implementasi yang sama </font></font><code>Consumer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seperti pada contoh di </font></font><code>StreamProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atas. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ValueListenableProvider </font></font></i><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ValueListenable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah antarmuka Dart yang diimplementasikan oleh kelas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ValueNotifier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang mengambil nilai dan memberi tahu pendengar ketika ia berubah ke nilai lain. </font><font style="vertical-align: inherit;">Sebagai contoh, dimungkinkan untuk membungkus bilangan bulat bilangan dalam kelas model sederhana:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyModel</span> </span>{
  <span class="hljs-keyword">final</span> ValueNotifier&lt;<span class="hljs-built_in">int</span>&gt; counter = ValueNotifier(<span class="hljs-number">0</span>);  <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat bekerja dengan tipe kompleks, ia </font></font><code>ValueNotifier</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan operator dari </font></font><code>==</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objek yang disimpan di dalamnya untuk menentukan apakah nilainya telah berubah. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita buat yang paling sederhana </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang akan berisi model utama kita, dan itu akan diikuti oleh </font><font style="vertical-align: inherit;">properti mendengarkan </font></font><code>Consumer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bersarang </font><font style="vertical-align: inherit;">:</font></font><code>ValueListenableProvider</code><font style="vertical-align: inherit;"></font><code>counter</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="dart hljs">Provider&lt;MyModel&gt;(<font></font>
  builder: (context) =&gt; MyModel(),<font></font>
  child: Consumer&lt;MyModel&gt;(builder: (context, value, child) {<font></font>
    <span class="hljs-keyword">return</span> ValueListenableProvider&lt;<span class="hljs-built_in">int</span>&gt;.value(<font></font>
      value: value.counter,<font></font>
      child: MyApp(...)<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harap dicatat bahwa penyedia bersarang ini bertipe </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mungkin ada yang lain. </font><font style="vertical-align: inherit;">Jika Anda memiliki beberapa penyedia dari jenis yang sama terdaftar, Penyedia akan mengembalikan "terdekat" (leluhur terdekat). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut cara mendengarkan properti </font></font><code>counter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari widget anak apa pun:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span><font></font>
  Widget build(BuildContext context) {<font></font>
    <span class="hljs-keyword">return</span> Consumer&lt;<span class="hljs-built_in">int</span>&gt;(<font></font>
      builder: (context, value, child) {<font></font>
        <span class="hljs-keyword">return</span> Text(value.toString());<font></font>
      },<font></font>
    );<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi di sini cara memperbarui properti </font></font><code>counter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari widget lain. </font><font style="vertical-align: inherit;">Harap dicatat: kami membutuhkan akses ke salinan asli </font></font><code>MyModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OtherWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span><font></font>
  Widget build(BuildContext context) {<font></font>
    <span class="hljs-keyword">return</span> FlatButton(<font></font>
      child: Text(<span class="hljs-string">'Update'</span>),<font></font>
      onPressed: () {<font></font>
        <span class="hljs-keyword">final</span> model = Provider.of&lt;MyModel&gt;(context);<font></font>
        model.counter.value++;<font></font>
      },<font></font>
    );<font></font>
  }<font></font>
}</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MultiProvider</font></font></i></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika Anda menggunakan banyak widget</font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka di root aplikasi Anda mendapatkan struktur jelek dari banyak lampiran:</font></font><br>
<br>
<pre><code class="dart hljs">Provider&lt;Foo&gt;.value( <font></font>
  value: foo, <font></font>
  child: Provider&lt;Bar&gt;.value( <font></font>
    value: bar, <font></font>
    child: Provider&lt;Baz&gt;.value( <font></font>
      value: baz , <font></font>
      child: MyApp(...)<font></font>
    ) <font></font>
  ) <font></font>
)</code></pre><br>
<code>MultiProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memungkinkan Anda mendeklarasikan semuanya pada tingkat yang sama. </font><font style="vertical-align: inherit;">Ini hanya gula sintaksis: pada level intra-sistem, mereka semua tetap bersarang.</font></font><br>
<br>
<pre><code class="dart hljs">MultiProvider( <font></font>
  providers: [ <font></font>
    Provider&lt;Foo&gt;.value(value: foo), <font></font>
    Provider&lt;Bar&gt;.value(value: bar), <font></font>
    Provider&lt;Baz&gt;.value(value: baz), <font></font>
  ], <font></font>
  child: MyApp(...), <font></font>
)<font></font>
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProxyProvider</font></font></i></a><br>
<br>
<code>ProxyProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah kelas menarik yang ditambahkan dalam rilis paket ketiga</font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Hal ini memungkinkan Anda untuk menyatakan penyedia bahwa mereka sendiri tergantung pada penyedia lain, hingga enam pada satu. </font><font style="vertical-align: inherit;">Dalam contoh ini, kelas Bar spesifik-instance</font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini berguna ketika mengkompilasi kumpulan root dari layanan yang saling bergantung satu sama lain.</font></font><br>
<br>
<pre><code class="dart hljs">MultiProvider ( <font></font>
  providers: [ <font></font>
    Provider&lt;Foo&gt; ( <font></font>
      builder: (context) =&gt; Foo(),<font></font>
    ), <font></font>
    ProxyProvider&lt;Foo, Bar&gt;(<font></font>
      builder: (context, value, previous) =&gt; Bar(value),<font></font>
    ), <font></font>
  ], <font></font>
  child: MyApp(...),<font></font>
)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Argumen tipe generik pertama adalah tipe yang menjadi sandaran Anda </font></font><code>ProxyProvider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan yang kedua adalah tipe yang dikembalikan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cara mendengarkan banyak penyedia sekaligus</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana jika kita ingin satu widget untuk mendengarkan banyak penyedia dan membangun kembali ketika salah satu dari mereka berubah? </font><font style="vertical-align: inherit;">Anda dapat mendengarkan hingga 6 penyedia sekaligus menggunakan opsi widget </font></font><code>Consumer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kami akan menerima contoh sebagai parameter metode tambahan </font></font><code>builder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="dart hljs">Consumer2&lt;MyModel, <span class="hljs-built_in">int</span>&gt;(<font></font>
  builder: (context, value, value2, child) {<font></font>
    <span class="hljs-comment">//value  MyModel</span>
    <span class="hljs-comment">//value2  int</span><font></font>
  },<font></font>
);</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat digunakan, </font></font><code>InheritedWidget</code> <code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini memungkinkan </font><font style="vertical-align: inherit;">Anda </font><font style="vertical-align: inherit;">untuk mengelola negara seperti biasa di Flutter. </font><font style="vertical-align: inherit;">Ini memungkinkan widget untuk mengakses objek negara dan mendengarkannya sedemikian rupa sehingga mekanisme notifikasi yang mendasarinya diabstraksikan. </font><font style="vertical-align: inherit;">Lebih mudah untuk mengatur masa pakai objek negara dengan membuat titik jangkar untuk membuat objek ini sesuai kebutuhan dan menyingkirkannya saat diperlukan. </font><font style="vertical-align: inherit;">Mekanisme ini dapat digunakan untuk dengan mudah mengimplementasikan dependensi dan bahkan sebagai dasar untuk opsi manajemen negara yang lebih maju. </font><font style="vertical-align: inherit;">Dengan restu Google dan dukungan yang semakin besar di komunitas Flutter, paket ini </font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telah menjadi layak untuk dicoba tanpa penundaan!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id503062/index.html">Biaya nyata hidup di Lembah Silikon untuk pengembang</a></li>
<li><a href="../id503064/index.html">IOT di mana Anda tidak menunggu (bagian 3). Membangun model simulasi</a></li>
<li><a href="../id503068/index.html">Di persimpangan teknologi dan bisnis: Para pemimpin TI membuka universitas baru di Swiss</a></li>
<li><a href="../id503070/index.html">Mug listrik. Bangun skuter listrik / sepeda listrik yang gila</a></li>
<li><a href="../id503072/index.html">Hanya alat lain: mengenal konfigurasi layanan dengan Desired State Configuration </a></li>
<li><a href="../id503082/index.html">Telegram sebagai NAS / FTP</a></li>
<li><a href="../id503084/index.html">Ulasan Kursus Lightbend Academy - Arsitektur Reaktif</a></li>
<li><a href="../id503086/index.html">Apakah layanan transkripsi online aman dan rahasia?</a></li>
<li><a href="../id503088/index.html">Bagaimana kami memilih kargo untuk operator</a></li>
<li><a href="../id503096/index.html">Mengapa manajer ingin pekerja mendaur ulang?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>