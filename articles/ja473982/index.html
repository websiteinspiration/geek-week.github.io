<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🏭 👲🏽 👩🏾‍💼 NB-IoT：それはどのように機能しますか？パート3：SCEF-オペレーターサービスへの単一のアクセスウィンドウ 🐢 🕚 🐦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="記事「NB-IoT：どのように機能するのか？」パート2」では、NB-IoTネットワークのパケットコアのアーキテクチャについて説明し、新しいSCEFノードの外観について説明しました。3番目の部分で説明します。それは何で、なぜ必要なのですか。
 
 
 
 M2Mサービスを作成するとき、アプリケーション...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>NB-IoT：それはどのように機能しますか？パート3：SCEF-オペレーターサービスへの単一のアクセスウィンドウ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/473982/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NB-IoT：どのように機能するのか？」</font><font style="vertical-align: inherit;">パート2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」では、NB-IoTネットワークのパケットコアのアーキテクチャについて説明し、新しいSCEFノードの外観について説明しました。</font><font style="vertical-align: inherit;">3番目の部分で説明します。それは何で、なぜ必要なのですか。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/76/cr/em/76cremp-e3xgn0thazxk_jvws8k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M2Mサービスを作成するとき、アプリケーション開発者は次の質問に直面します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスを識別する方法</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用する認証と認証アルゴリズム。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスとの対話に使用するトランスポートプロトコル。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データを確実にデバイスに配信する方法</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それらとデータを交換するためのルールを整理して確立する方法</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オンラインでのステータスに関する情報を監視および受信する方法。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスのグループに同時にデータを配信する方法。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つのデバイスから複数のクライアントに同時にデータを送信する方法。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスを管理するための追加のオペレーターサービスへの統合アクセスを取得する方法。 </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらを解決するには、独自の技術的に「重い」ソリューションを作成する必要があります。これにより、人件費と市場投入までのサービスが増加します。</font><font style="vertical-align: inherit;">これは、新しいSCEFノードが役に立ちます。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3GPPの定義によれば、SCEF（サービス機能公開機能）は3GPPアーキテクチャの完全に新しいコンポーネントであり、その機能は、APIを介して3GPPネットワークインターフェイスによって提供されるサービスと機能を安全に公開することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
簡単に言えば、SCEFはネットワークとアプリケーションサーバー（AS）の間の仲介者であり、直感的な標準化されたAPIを介してNB-IoTネットワークでM2Mデバイスを管理するためのオペレーターのサービスへの単一のアクセスウィンドウです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEFは、オペレーターのネットワークの複雑さを隠し、アプリケーション開発者がデバイスと対話するための複雑な特定のメカニズムから抽象化できるようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEF APIは、ネットワークプロトコルをアプリケーション開発者にとって使い慣れたものに変換することで、新しいサービスの作成を容易にし、市場投入までの時間を短縮します。また、新しいノードには、モバイルデバイスの識別/認証の機能、デバイスとAS間のデータ交換のルールの決定、アプリケーション開発者側からのこれらの機能の実装の必要性の排除、これらの機能のオペレーターへのシフトが含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEFは、アプリケーションサーバーの認証と承認に必要なインターフェースを閉じ、UEモビリティ、データ転送、デバイストリガー、追加サービスへのアクセス、オペレーターネットワーク機能をサポートします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ASに向けて、単一のT8インターフェイス、API（HTTP / JSON）、標準化された3GPPがあります。 T8を除くすべてのインターフェースは、DIAMETERプロトコルに基づいて動作します（図1）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/gv/ej/zrgvejwzuyyxg2jegzpavpkjzbk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T6aはSCEFとMME間のインターフェイスです。モビリティ/セッション管理手順、非IPデータ送信、監視イベントのプロビジョニング、およびそれらに関するレポートの受信に使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S6tはSCEFとHSS間のインターフェースです。これは、サブスクライバーの認証、アプリケーションサーバーの承認、一連の外部IDとIMSI / MSISDNの取得、監視イベントの提供とそれらに関するレポートの受信に必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S6m / T4-SCEFからHSSおよびSMS-Cへのインターフェース（MTC-IWFノードは3GPPで定義され、NB-IoTネットワークでデバイスをトリガーしてSMSを送信するために使用されます。ただし、すべての実装で、このノードの機能はSCEFに統合されているため、スキームの簡略化、私たちはそれを個別に検討しません）。</font><font style="vertical-align: inherit;">SMSを送信し、SMSセンターと対話するためのルーティング情報を取得するために使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T8-アプリケーションサーバーとのSCEF相互作用のためのAPI。</font><font style="vertical-align: inherit;">制御コマンドとトラフィックの両方がこのインターフェイスを介して送信されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*実際には、より多くのインターフェースがあり、最も基本的なインターフェースのみがここにリストされています。</font><font style="vertical-align: inherit;">完全なリストは3GPP 23.682（4.3.2参照ポイントのリスト）に記載されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEFの主な機能とサービスを以下に示します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIMカード識別子（IMSI）を外部IDにバインドする。 </font></font></li>
<li> non-IP  (Non-IP Data Delivery, NIDD);</li>
<li> ,   external group ID;</li>
<li>     ;</li>
<li> MO (Mobile Originated)  MT (Mobile Terminated) ;</li>
<li>      ;</li>
<li>    UE  AS;</li>
<li>     UE (MONTE – Monitoring Events);</li>
<li> ;</li>
<li>  non-IP .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ASとSCEF間の相互作用の基本原理は、いわゆるサブスクリプション。特定のUEのSCEFサービスにアクセスする必要がある場合、アプリケーションサーバーは、要求されたサービスの特定のAPIにコマンドを送信し、一意の識別子の受信に応答してサブスクリプションを作成する必要があります。その後、このサービスのフレームワーク内でのすべてのアクションとUEとの通信は、この識別子を使用して実行されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部ID：ユニバーサルデバイス識別子</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEFを介して作業する場合のASとデバイス間の相互作用のスキームにおける最も重要な変更の1つは、ユニバーサルIDの出現です。従来の2G / 3G / LTEネットワークのように、電話番号（MSISDN）またはIPアドレスの代わりに、アプリケーションサーバーのデバイス識別子が「外部ID」になります。これは、アプリケーション開発者によく知られているフォーマット「&lt;ローカル識別子&gt; @ &lt;ドメイン識別子&gt;」で標準によって定義されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者はデバイス認証アルゴリズムを実装する必要がなくなり、ネットワークがこの機能を完全に引き受けます。 IMSIには外部IDが添付されており、開発者は特定の外部IDを参照して、特定のSIMカードとやり取りすることができます。 SIMチップを使用する場合、外部IDが特定のデバイスを一意に識別すると、一般的に一意の状況になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、1つのIMSIに複数の外部IDをアタッチできます。外部IDが特定のデバイスの特定のサービスを担当する特定のアプリケーションを一意に識別すると、さらに興味深い状況が得られます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グループ識別子も表示されます-外部グループID。これには、一連の個別の外部IDが含まれます。これで、SCEFへの単一の要求で、ASはグループ操作を開始できます。単一の論理グループに結合された複数のデバイスにデータまたは制御コマンドを送信します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AS開発者にとって、新しいデバイス識別子への移行は瞬時にはできないため、SCEFは標準番号-MSISDNを通じてASとUEとの通信の可能性を残しました。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非IPデータ配信（NIDD）</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NB-IoTでは、IPv4、IPv6、IPv4v6などの既存のタイプのPDNに加えて、少量のデータを転送するメカニズムを最適化する一環として、別のタイプの非IPが登場しました。この場合、デバイス（UE）にはIPアドレスが割り当てられず、データはIPプロトコルを使用せずに送信されます。このような接続のトラフィックは、2つの方法でルーティングできます。クラシック-MME-&gt; SGW-&gt; PGW、次にPtPトンネルを経由してAS（図2）またはSCEF（図3）を使用します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2j/zy/7v/2jzy7vfxlilxzphit8uegwa9r6e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
従来の方法には、IPヘッダーがないために送信されるパケットのサイズが小さくなることを除いて、IPトラフィックに比べて特別な利点はありません。 SCEFを使用すると、多くの新しい機会が開かれ、デバイスとの対話手順が大幅に簡略化されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEFを介してデータを転送する場合、従来のIPトラフィックに比べて2つの非常に重要な利点</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> があります。外部IDによるMTトラフィックのデバイスへの配信</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メッセージを従来のIPデバイスに送信するには、ASはそのIPアドレスを知っている必要があります。</font><font style="vertical-align: inherit;">ここで問題が発生します。デバイスは通常「グレー」のIPアドレスで登録されるため、グレーアドレスが白に変換されるNATノードを介して、インターネット上にあるアプリケーションサーバーと通信します。</font><font style="vertical-align: inherit;">グレーとホワイトのIPアドレスの束は、NAT設定に応じて、限られた時間続きます。</font><font style="vertical-align: inherit;">TCPまたはUDPの場合、平均して5分以内。</font><font style="vertical-align: inherit;">つまり、5分以内にこのデバイスとのデータ交換がなかった場合、バンドルは壊れ、ASとのセッションが開始された白いアドレスでデバイスにアクセスできなくなります。</font><font style="vertical-align: inherit;">いくつかの解決策があります：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.ハートビートを使用します。接続を1回確立すると、デバイスは数分ごとにASパケットと交換する必要があり、NAT変換が終了しないようにします。しかし、エネルギー効率に疑問の余地はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.必要に応じて、毎回、AS上のデバイスのパッケージを確認します-アップリンクにメッセージを送信します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.アプリケーションサーバーとデバイスが同じサブネット上にあるプライベートAPN（VRF）を作成し、静的IPアドレスをデバイスに割り当てます。それは機能しますが、数千、数万のデバイスのフリートに関してはほとんど不可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.最後に、最も適切なオプション：IPv6を使用します。IPv6アドレスはインターネットから直接アクセスできるため、NATは必要ありません。ただし、この場合でも、デバイスを再登録すると、デバイスは新しいIPv6アドレスを受け取り、以前のアドレスでは使用できなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、デバイスの新しいIPアドレスを報告するには、デバイス識別子を含む特定の初期化パケットをサーバーに送信する必要があります。次に、ASからの確認パッケージを待ちます。これは、エネルギー効率にも影響します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの方法は2G / 3G / LTEデバイスに適しています。デバイスには自律性に関する厳密な要件がなく、その結果、航空と交通の時間制限がありません。 NB-IoTの場合、これらの方法はエネルギー消費が高いため、適していません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEFはこの問題を解決します。ASの唯一のデバイス識別子は外部IDであるため、ASは特定の外部IDのSCEFにデータパケットを送信するだけでよく、残りはSCEFが処理します。デバイスが省電力モードのPSMまたはeDRXの場合、データはバッファリングされ、デバイスが使用可能になると配信されます。デバイスがトラフィックに使用できる場合、データはすぐに配信されます。管理チームにも同じことが言えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ASはいつでも、バッファリングされたメッセージをUEに引き出すか、新しいメッセージに置き換えることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バッファリングメカニズムは、MOデータをUEからAS側に転送するときにも適用できます。 SCEFがデータをASにすぐに配信できなかった場合、たとえば、ASサーバーでサービス作業が進行中の場合、これらのパケットはバッファリングされ、ASが利用可能になるとすぐに配信されることが保証されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のように、特定のサービスおよびUE for AS（およびNIDDはサービス）へのアクセスは、SCEF側のルールおよびポリシーによって規制されます。これにより、1つのUEのデータを複数のASで同時に使用する独自の機能を実現できます。それら。複数のASが1つのUEにサブスクライブしている場合、UEからデータを受信した後、SCEFはそれらを署名したすべてのASに送信します。これは、特殊なデバイスのフリートの作成者が複数のクライアント間でデータをあちこちに使用する場合に適しています。たとえば、NB-IoTで動作する気象ステーションのネットワークを作成すると、それらのステーションからのデータを同時に多くのサービスに販売できます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保証されたメッセージ配信メカニズム</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
信頼性の高いデータサービス-TCPのハンドシェイクなど、プロトコルレベルで特殊なアルゴリズムを使用せずに、MOおよびMTメッセージの配信を保証するメカニズム。これは、UEとSCEF間の交換中にメッセージのサービス部分に特別なフラグを含めることで機能します。トラフィックの送信時にこのメカニズムをアクティブにするかどうかは、ASによって決定されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メカニズムがアクティブ化されている場合、UEは、必要に応じて、MOトラフィックの保証された配信にパケットのサービス部分に特別なフラグを含めます。このようなパケットを受信すると、SCEFは確認を使用してUEに応答します。 UEが確認パケットを受信して​​いない場合、パケットはSCEFに転送されます。 MTトラフィックでも同じことが起こります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスの監視（イベントの監視-MONTE）</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のように、SCEF機能には、とりわけ、UEの状態を監視する機能、いわゆるデバイスの監視。また、新しい識別子とデータ転送メカニズムが既存の手順の（非常に深刻ではあるものの）最適化である場合、MONTEは2G / 3G / LTEネットワークでは利用できない完全に新しい機能です。 MONTEにより、ASは接続ステータス、通信の可用性、場所、ローミングステータスなどのデバイスパラメータを監視できます。それぞれについては後で詳しく説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスまたはデバイスグループの監視イベントをアクティブにする必要がある場合、ASは、対応するMONTE APIコマンドをSCEFに送信することにより、対応するサービスにサブスクライブします。これには、外部IDまたは外部グループID、AS ID、監視タイプ、レポート数などのパラメーターが含まれます。 ASが受信したいもの。 ASがリクエストの実行を許可されている場合、SCEFはタイプに応じて、HSSまたはMMEでイベントをトリガーします（図4）。イベントが発生すると、MMEまたはHSSがSCEF側にレポートを生成し、それがASに送信されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「地理的エリアに存在するUEの数」を除くすべてのイベントは、HSSを通じて提供されます。 2つのイベント「IMSI-IMEIアソシエーションの変更」と「ローミングステータス」はHSSで直接追跡され、残りのHSSはMMEでプロビジョニングされます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントは1回限りまたは定期的で、タイプによって決定されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rx/o_/px/rxo_pxe6tfzeoj0eeuue2s0s8gi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントレポート（レポート）は、イベント追跡ノードから直接SCEFに送信されます（図5）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jw/oz/-7/jwoz-70hshog3zslpoh21-8n-m8.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要なポイント：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">監視イベントは、SCEFを介して接続されている非IPデバイスと、MME-SGW-PGWを介して従来の方法でデータを送信するIPデバイスの両方に適用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各監視イベントを詳しく見てみましょう：</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続の喪失</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-UEがデータトラフィックまたはシグナリングのいずれにも使用できなくなったことをASに通知します。イベントは、UEの「モバイル到達可能性タイマー」がMMEで期限切れになったときに発生します。このタイプの監視のリクエストでは、ASは「最大検出時間」の値を示すことがあります。この時間中にUEがアクティビティを示さない場合、ASはUEが利用できないことを通知され、理由を示します。このイベントは、何らかの理由でUEがネットワークによって強制的に削除された場合にも発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*デバイスがまだ使用可能であることをネットワークに知らせるために、定期的に更新手順（トラッキングエリア更新（TAU））を開始します。この手順の頻度は、タイマーT3412または（PSMの場合はT3412_extended）を使用してネットワークによって設定されます。この値は、接続手順または次のTAU中にデバイスに送信されます。モバイル到達可能性タイマーは通常、T3412よりも数分長くなります。モバイル到達可能性タイマーの期限が切れる前にUEがTAUを作成しない場合、ネットワークはそれが使用できなくなったと見なします。</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UEの到達可能性</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -UEがDLトラフィックまたはSMSで利用可能になる時期を示します。これは、UEがページング（eDRXモードのUEの場合）に利用できるようになったとき、またはUEがECM-CONNECTEDモード（PSMまたはeDRXモードのUEの場合）に切り替わったときに発生します。 TAUを作成するか、アップリンクパケットを送信します。</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロケーションレポート</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-このタイプのモニタリングイベントにより、ASはUEロケーションデータをリクエストできます。現在の場所（最後の場所）または最後の既知（最後の既知の場所、デバイスが最後にTAUまたは送信されたトラフィックを送信したセルIDによって決定される）のいずれかを要求できます。これは、PSMまたはeDRX省電力モードのデバイスにとって重要です。 「現在の場所」の場合、ASは繰り返しの繰り返しを要求し、デバイスの場所が変更されるたびにMMEがASに通知します。</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IMSI-IMEI協会の変更</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-このイベントがアクティブ化されると、SCEFはIMSI（SIMカード識別子）とIMEI（デバイス識別子）の間の接続の変化の追跡を開始します。イベントが発生したとき-ASに通知します。予定されている交換作業中に外部IDをデバイスに自動的に再割り当てしたり、デバイスの盗難の識別子として使用したりするために使用できます。</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローミングステータス</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -このタイプのモニタリングは、UEがホームネットワークにあるのか、ローミングパートナーのネットワークにあるのかを判断するためにASによって使用されます。オプションで、デバイスが登録されているオペレーターのPLMN（Public Land Mobile Network）を転送できます。</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通信障害</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-このタイプの監視は、無線アクセスネットワーク（プロトコルS1-AP）から受信した接続障害の理由（解放原因コード）に基づいて、デバイスとの通信障害をASに通知します。このイベントは、通信障害の理由を判別するのに役立ちます。たとえば、eNodeb（無線リソースを利用できない）が過負荷になっている場合や、デバイス自体（UEとの無線接続が失われた）が失敗した場合など、ネットワークの問題が原因です。</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDN障害後の可用性</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-このイベントは、通信障害後にデバイスが使用可能になったことをASに通知します。データをデバイスに転送する必要があるが、UEがネットワークからの通知に応答せず（ページング）、データが配信されなかったため、前回の試行が成功しなかった場合に使用できます。このタイプの監視がUEに要求された場合、デバイスが着信通信を行う、TAUを行う、またはデータをアップリンクに送信するとすぐに、デバイスが利用可能になったことがASに通知されます。 DDN（ダウンリンクデータ通知）手順はMMEとS / P-GWの間で機能するため、このタイプの監視はIPデバイスでのみ使用できます。</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDN接続ステータス</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-デバイスステータス（PDN接続ステータス）の変更時にASに通知します-接続（PDNのアクティブ化）または切断（PDNの削除）。 ASはこれを使用してUEとの通信を開始したり、その逆を行ったりして、通信が不可能であることを理解できます。このタイプの監視は、IPデバイスと非IPデバイスで使用できます。</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地理的領域に存在するUEの数</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -このタイプのモニタリングは、特定の地理的領域にあるUEの数を決定するためにASによって使用されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスのトリガー（デバイストリガー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2G / 3Gネットワ​​ークでは、ネットワークでの登録手順は2段階でした。最初に、デバイスがSGSNに登録され（接続手順）、次に、必要に応じて、データがPDPコンテキストによってアクティブ化されました-パケットゲートウェイ（GGSN）への接続。 3Gネットワ​​ークでは、これら2つの手順は順番に行われました。デバイスは、データを転送する必要がある瞬間を待たずに、アタッチ手順が完了した直後にPDPをアクティブにしました。 LTEでは、これらの2つの手順が1つに統合されました。つまり、接続すると、デバイスはeNodeBを介してMME-SGW-PGWへのPDN接続（2G / 3GのPDPのアナログ）のアクティブ化をすぐに要求しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NB-IoTは、「PDNなしの接続」などの接続方法を定義します。つまり、UEはPDN接続を確立せずに接続を行います。この場合、トラフィックの送信には使用できず、SMSの送受信のみが可能です。コマンドを送信してPDNをアクティブにし、ASにそのようなデバイスに接続するために、「デバイストリガー」機能が開発されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ASからそのようなUEを接続するコマンドを受信すると、SMSセンターを介してSCEFがデバイスへの制御SMSの送信を開始します。 SMSを受信すると、デバイスはPDNをアクティブにし、ASに接続して後続の命令を受信したり、データを転送したりします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEFでデバイスへのサブスクリプションが期限切れになる場合があります。はい、サブスクリプションには独自の有効期間があり、オペレーターが設定するか、ASと合意します。その有効期限が切れると、PDNはMMEで非アクティブ化され、デバイスはASで使用できなくなります。この場合、「デバイストリガー」機能も役立ちます。 AS SCEFから新しいデータを受信すると、デバイスの接続ステータスを検出し、SMS経由でデータを配信します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
もちろん、SCEF機能は上記のサービスに限定されず、常に進化および拡張しています。現在までに、SCEF向けにすでに12を超えるサービスが標準化されています。これで、開発者が要求する主な機能のみに触れましたが、残りについては今後の記事で説明します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すぐに問題が発生します。予備のテストと可能なケースのデバッグのために、この「奇跡」ノードへのテストアクセスを取得する方法は？</font><font style="vertical-align: inherit;">すべてが非常に簡単です。</font><font style="vertical-align: inherit;">開発者は誰でもリクエストをnidd_scef@mts.ruに送信できます。このリクエストでは、接続の目的、考えられるケースの説明、および連絡用の連絡先情報を示すだけで十分です。</font></font><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また近いうちにお会いしましょう！</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">収束ソリューションおよびマルチメディアサービス部門の上級専門家、セルゲイノビコフ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サノフ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">収束ソリューションおよびマルチメディアサービス部門の専門家Alexey Lapshin </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aslapsh</font></font></a></li>
</ul></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja473962/index.html">ダークモードは今どこにでもあります。とても便利ですか？（投稿の最後の投票）</a></li>
<li><a href="../ja473972/index.html">組み込み開発者の注文：Amazon FreeRTOSでバグを探す</a></li>
<li><a href="../ja473974/index.html">Intercom'19-Voximplantの通信自動化に関する会議が11月14日に開催されます</a></li>
<li><a href="../ja473976/index.html">AWS Elasticsearch：根本的に欠陥のある製品</a></li>
<li><a href="../ja473978/index.html">そのような痛み、そのような痛み、サービスとしてのレジ2：0</a></li>
<li><a href="../ja473984/index.html">データサイエンスダイジェスト（2019年10月）</a></li>
<li><a href="../ja473986/index.html">「私の夢は、木々の間から人を見ることです」-現代の検索技術に関する「Lisa Alert」の創設者</a></li>
<li><a href="../ja473990/index.html">OpenGLを学んでください。レッスン7.2-テキストの描画</a></li>
<li><a href="../ja473992/index.html">産業オートメーションシステムの最新プロトコルの概要</a></li>
<li><a href="../ja473994/index.html">最新のスクリプトの読み込み</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>