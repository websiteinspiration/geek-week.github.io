<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌄 🏐 🤝 WinForms：エラー、ホームズ 👨🏿‍🌾 ⚒️ 🕐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="マイクロソフトプロジェクトのバグを探すのが大好きです。どうして？シンプルです。プロジェクトは通常簡単にチェックでき（PVS-Studioに便利なプラグインがあるVisual Studio環境ですぐに作業できます）、エラーもほとんどありません。したがって、通常の作業アルゴリズムは次のとおりです。MSか...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>WinForms：エラー、ホームズ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/462807/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/71b/aeb/a84/71baeba847a8865aef0cc8148effbb8c.png" alt="写真5"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロソフトプロジェクトのバグを探すのが大好きです。どうして？シンプルです。プロジェクトは通常簡単にチェックでき（PVS-Studioに便利なプラグインがあるVisual Studio環境ですぐに作業できます）、エラーもほとんどありません。したがって、通常の作業アルゴリズムは次のとおりです。MSから開いているプロジェクトを見つけてダウンロードします。彼をチェックしてください。興味深い間違いを選択してください。それらが少ないことを確認してください。開発者を称賛することを忘れずに記事を書いてください。豪華に！ Win-win-win：少し時間がかかりました、マニュアルはブログで新しい資料を見てうれしいです、そしてカルマは完全な順序です。しかし、今回は何かがおかしくなりました。 Windowsフォームのソースコードで興味深い点が何であったか、また今回Microsoftを称賛すべきかどうかを見てみましょう。</font></font><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はじめに</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
2018年12月初旬、マイクロソフト</font><font style="vertical-align: inherit;">は.NET Core 3 Preview 1のリリースを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">発表しまし</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">た。少し早い時期（およそ10月中旬から）に、GitHubは</font><font style="vertical-align: inherit;">Windowsデスクトップアプリケーションを作成するための.NET Core UIプラットフォームである</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Formsの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースコードの公開に積極的に取り組み始めました</font><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コミット統計を見ることができ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。これで、誰でもWinFormsソースコードをダウンロードして確認できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、PVS-Studioを使用してエラーを探すためにソースをダウンロードしました。チェックは問題を引き起こさなかった。必須：Visual Studio 2019、.NET Core 3.0 SDK Preview、PVS-Studio。そして、これが受信したアナライザー警告ログです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studioログを受け取ったので、通常は診断番号の昇順でログを並べ替えます（Visual StudioのPVS-Studioメッセージログのウィンドウには、リストの並べ替えとフィルター処理のためのさまざまなオプションがあります）。これにより、同じタイプのエラーのグループを処理できるようになり、ソースコードの分析が大幅に簡略化されます。リスト内の興味深いエラーにアスタリスクを付けてから、ログ全体を分析した後、コードフラグメントを書き出して説明を作成します。また、通常はエラーがほとんどないため、記事の最初と最後に最も興味深いエラーを配置するように、それらを混同しています。しかし、今回はエラーが少し多いことがわかりました（ああ、長い間陰謀を保存することは不可能でした）。診断番号の順にそれらを提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何が見つかりましたか？ 1670のcsファイル内の540,000行のコード（空のものを除く）に対して、高および中の信頼レベル（それぞれ249および584）の833警告が発行されました。そして、はい、伝統に従って、私はテストをチェックせず、低信頼レベルの警告を考慮しませんでした（215が発行されました）。以前の私の観察によれば、MSからのプロジェクトに対する警告が多すぎます。ただし、すべての警告がエラーであるとは限りません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプロジェクトでは、誤検知の数は約30％でした。ケースの約20％では、コードに精通していないため、これが間違いであるかどうかについて正確な結論を出すことができませんでした。まあ、私が見逃したエラーの少なくとも20％は、人間の要因に起因する可能性があります：急ぎ、疲労など。ちなみに、逆の効果も考えられます。同じ種類のトリガーのいくつかを調べたところ、その数は70〜80に達し、実際のエラーの数が増加する場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いずれの場合でも、アナライザーが事前構成されていない場合、警告の30％は実際のエラーを示します。これは非常に大きな割合です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、検出できたエラーの数は約240であり、統計の範囲内です。私の考えでは、MSのプロジェクトについては繰り返しますが、これは最も顕著な結果ではありません（ただし、これは1000行のコードあたり0.44のエラーにすぎません）。WinFormsコードには、実際のエラーがおそらくもっとあります。記事の最後で理由を説明することを提案しますが、ここで最も興味深いエラーを見てみましょう。</font><font style="vertical-align: inherit;">
PVS-Studio </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エラー</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3003</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 'if（A）{...} else if（A）{...}'パターンの使用が検出されました。論理エラーが存在する可能性があります。チェック行：213、224。ButtonStandardAdapter.cs 213</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">PaintWorker</span><span class="hljs-params">(PaintEventArgs e, <span class="hljs-keyword">bool</span> up, CheckState state)</span>
</span>{<font></font>
  up = up &amp;&amp; state == CheckState.Unchecked;<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (up &amp; IsHighContrastHighlighted())<font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (up &amp; IsHighContrastHighlighted())<font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span><font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あれば</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そうでない場合</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ブロック、</font><font style="vertical-align: inherit;">同じ条件がチェックされています。</font><font style="vertical-align: inherit;">コピー＆ペーストのようです。</font><font style="vertical-align: inherit;">これは間違いですか？</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IsHighContrastHighlighted</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドの宣言を見ると、</font><font style="vertical-align: inherit;">疑問があります。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">IsHighContrastHighlighted</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">return</span> SystemInformation.HighContrast &amp;&amp; <font></font>
    Application.RenderWithVisualStyles &amp;&amp;<font></font>
    (Control.Focused || Control.MouseIsOver || <font></font>
      (Control.IsDefault &amp;&amp; Control.Enabled));<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッドは、連続する呼び出しで異なる値を返す可能性があります。</font><font style="vertical-align: inherit;">もちろん、呼び出しメソッドで行われる処理は奇妙に見えますが、生きる権利があります。</font><font style="vertical-align: inherit;">しかし、私は著者にこのコードの断片を見てみるようアドバイスします。</font><font style="vertical-align: inherit;">念のため。</font><font style="vertical-align: inherit;">それでも、これは、なじみのないコードを分析するときに結論を出すことがいかに難しいかを示す良い例です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3004</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「then」ステートメントは「else」ステートメントと同等です。</font><font style="vertical-align: inherit;">RichTextBox.cs 1018</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> SelectionCharOffset<font></font>
{<font></font>
  get<font></font>
  {<font></font>
    <span class="hljs-keyword">int</span> selCharOffset = <span class="hljs-number">0</span>;<font></font>
    ....<font></font>
    NativeMethods.CHARFORMATA cf = GetCharFormat(<span class="hljs-literal">true</span>);
    <span class="hljs-comment">// if the effects member contains valid info</span>
    <span class="hljs-keyword">if</span> ((cf.dwMask &amp; RichTextBoxConstants.CFM_OFFSET) != <span class="hljs-number">0</span>)<font></font>
    {<font></font>
      selCharOffset = cf.yOffset;  <span class="hljs-comment">// &lt;=</span><font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
      <span class="hljs-comment">// The selection contains characters of different offsets,</span>
      <span class="hljs-comment">// so we just return the offset of the first character.</span>
      selCharOffset = cf.yOffset;  <span class="hljs-comment">// &lt;=</span><font></font>
    }<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、ここでコピー貼り付けエラーは間違いなく行われます。</font><font style="vertical-align: inherit;">条件に関係なく、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selCharOffset</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数</font><i><font style="vertical-align: inherit;">は</font></i><font style="vertical-align: inherit;">常に同じ値を取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WinFormsコードにはさらに2つの同様のエラーがありました。</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3004「then」ステートメントは「else」ステートメントと同等です。</font><font style="vertical-align: inherit;">SplitContainer.cs 1700</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3004「then」ステートメントは「else」ステートメントと同等です。</font><font style="vertical-align: inherit;">ToolstripProfessionalRenderer.cs 371</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3008</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数には、2回続けて値が割り当てられます。</font><font style="vertical-align: inherit;">おそらくこれは間違いです。</font><font style="vertical-align: inherit;">チェック行：681、680。ProfessionalColorTable.cs 681</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function">internal <span class="hljs-keyword">void</span> <span class="hljs-title">InitSystemColors</span><span class="hljs-params">(ref Dictionary&lt;KnownColors, Color&gt; rgbTable)</span>
</span>{<font></font>
  ....<font></font>
  rgbTable[ProfessionalColorTable.KnownColors.msocbvcrCBBdrOuterDocked] = <font></font>
    buttonFace;<font></font>
  rgbTable[ProfessionalColorTable.KnownColors.msocbvcrCBBdrOuterDocked] =<font></font>
    buttonShadow;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッドは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rgbTable</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディクショナリを生成し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">アナライザーは、2つの異なる値が同じキーに連続して書き込まれるコードフラグメントを指しています。</font><font style="vertical-align: inherit;">そして、すべてがうまくいきますが、このメソッドにはそのような場所がさらに16個ありました。これは、もはや単一のエラーのようには見えません。</font><font style="vertical-align: inherit;">しかし、なぜこれをするのか、私にとってそれは謎のままです。</font><font style="vertical-align: inherit;">自動生成されたコードの兆候は見つかりませんでした。</font><font style="vertical-align: inherit;">エディターでは、次のようになります。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/006/f68/827/006f688275da3701f28abe7918835ce9.png" alt="写真3"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の10の操作をリストで示します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3008変数には、2回続けて値が割り当てられます。</font><font style="vertical-align: inherit;">おそらくこれは間違いです。</font><font style="vertical-align: inherit;">チェック行：785、784。ProfessionalColorTable.cs 785</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3008変数には、2回続けて値が割り当てられます。</font><font style="vertical-align: inherit;">おそらくこれは間違いです。</font><font style="vertical-align: inherit;">チェック行：787、786。ProfessionalColorTable.cs 787</font></font></li>
<li>V3008 The variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 789, 788. ProfessionalColorTable.cs 789</li>
<li>V3008 The variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 791, 790. ProfessionalColorTable.cs 791</li>
<li>V3008 The variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 797, 796. ProfessionalColorTable.cs 797</li>
<li>V3008 The variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 799, 798. ProfessionalColorTable.cs 799</li>
<li>V3008 The variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 807, 806. ProfessionalColorTable.cs 807</li>
<li>V3008 The variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 815, 814. ProfessionalColorTable.cs 815</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3008変数には、2回続けて値が割り当てられます。</font><font style="vertical-align: inherit;">おそらくこれは間違いです。</font><font style="vertical-align: inherit;">チェック行：817、816。ProfessionalColorTable.cs 817</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3008変数には、2回続けて値が割り当てられます。</font><font style="vertical-align: inherit;">おそらくこれは間違いです。</font><font style="vertical-align: inherit;">チェック行：823、822。ProfessionalColorTable.cs 823</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3011</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2つの反対の条件が発生しました。</font><font style="vertical-align: inherit;">2番目の条件は常にfalseです。</font><font style="vertical-align: inherit;">チェック行：5242、5240。DataGrid.cs 5242</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckHierarchyState</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">if</span> (checkHierarchy &amp;&amp; listManager != null &amp;&amp; myGridTable != null)<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> (myGridTable == null)  <span class="hljs-comment">// &lt;=</span><font></font>
    {<font></font>
      <span class="hljs-comment">// there was nothing to check</span>
      <span class="hljs-keyword">return</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; myGridTable.GridColumnStyles.Count; j++)<font></font>
    {<font></font>
      DataGridColumnStyle gridColumn = myGridTable.GridColumnStyles[j];<font></font>
    }<font></font>
    checkHierarchy = <span class="hljs-literal">false</span>;  <font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">return文が</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行されることはありません。ほとんどの場合、条件</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myGridTable！=</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">ヌル</font></i><font style="vertical-align: inherit;">は、</font><font style="vertical-align: inherit;">リファクタリング中に後で追加されました。そして今</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myGridTable == nullを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チェックして</font><i><font style="vertical-align: inherit;">も</font></i><font style="vertical-align: inherit;">意味</font><i><font style="vertical-align: inherit;">がありません</font></i><font style="vertical-align: inherit;">。コードの品質を向上させるには、このチェックを削除します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">おそらく、「as」キーワードを使用して型変換した後、不正な変数がnullと比較されます。変数「左」、「cscLeft」を確認します。 TypeCodeDomSerializer.cs 611 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">おそらく、「as」キーワードを使用して型変換した後、不正な変数がnullと比較されます。変数「right」、「cscRight」を確認します。 TypeCodeDomSerializer.cs 615</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Compare</span><span class="hljs-params">(object left, object right)</span>
</span>{<font></font>
  OrderedCodeStatementCollection cscLeft = <font></font>
    left as OrderedCodeStatementCollection;<font></font>
  OrderedCodeStatementCollection cscRight = <font></font>
    right as OrderedCodeStatementCollection;<font></font>
  <span class="hljs-keyword">if</span> (left == null)<font></font>
  {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (right == null)<font></font>
  {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (right == left)<font></font>
  {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> cscLeft.Order - cscRight.Order;  <span class="hljs-comment">// &lt;=</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アナライザーは、すぐに</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compare</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドに対して2つの警告を発行しました</font><font style="vertical-align: inherit;">。何が問題ですか？それは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cscLeft</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cscRightの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nullの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等価性について</font><font style="vertical-align: inherit;">チェックさ</font><font style="vertical-align: inherit;">れ</font><font style="vertical-align: inherit;">ないこと</font><font style="vertical-align: inherit;">です</font><font style="vertical-align: inherit;">。タイプ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OrderedCodeStatementCollection</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へのキャストに失敗した後、この値を取得できます</font><font style="vertical-align: inherit;">。次に、最後の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">returnステートメント</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">例外がスローさ</font><font style="vertical-align: inherit;">れ</font><font style="vertical-align: inherit;">ます。このような状況は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">右の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのチェックが</font><font style="vertical-align: inherit;">パスし、メソッドからの予備的な出口につながらない</font><font style="vertical-align: inherit;">場合に発生する可能性</font><font style="vertical-align: inherit;">があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードを修正するには</font><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">左</font></i><font style="vertical-align: inherit;"> / </font><i><font style="vertical-align: inherit;">右</font></i><font style="vertical-align: inherit;">で</font><i><font style="vertical-align: inherit;">は</font></i><font style="vertical-align: inherit;">なく、</font><i><font style="vertical-align: inherit;">どこでも</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cscLeft</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cscRightを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用します</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3020</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ループ内の無条件の「ブレーク」。 SelectionService.cs 421</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">void</span> ISelectionService.SetSelectedComponents(<font></font>
  ICollection components, SelectionTypes selectionType)<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-comment">// Handle the click case</span><font></font>
  object requestedPrimary = null;<font></font>
  <span class="hljs-keyword">int</span> primaryIndex;<font></font>
  <font></font>
  <span class="hljs-keyword">if</span> (fPrimary &amp;&amp; <span class="hljs-number">1</span> == components.Count)<font></font>
  {<font></font>
    foreach (object o in components)<font></font>
    {<font></font>
      requestedPrimary = o;<font></font>
      <span class="hljs-keyword">if</span> (o == null)<font></font>
      {<font></font>
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(nameof(components));<font></font>
      }<font></font>
      <span class="hljs-keyword">break</span>;<font></font>
    }<font></font>
  }<font></font>
  ....            <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このフラグメントは、むしろ「匂い付き」コードを指します。ここに間違いはありません。しかし、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foreach</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイクルの編成方法に疑問が生じ</font><font style="vertical-align: inherit;">ます。ここでなぜそれが必要なのか-それは明らかです：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ICollection</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として渡されたコレクションの要素を抽出する必要があるため</font><i><font style="vertical-align: inherit;">です</font></i><font style="vertical-align: inherit;">。しかし、もともと単一の反復のために設計されたループで（前提条件は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネント</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コレクションに</font><font style="vertical-align: inherit;">単一の要素</font><font style="vertical-align: inherit;">が存在することです</font><font style="vertical-align: inherit;">）、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブレーク</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の形の追加のセーフティネット</font><i><font style="vertical-align: inherit;">が</font></i><font style="vertical-align: inherit;">必要</font><i><font style="vertical-align: inherit;">だったの</font></i><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">なぜですか。おそらく、答えは「歴史的に発展した」と考えることができます。コードは醜く見えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3022</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">式「ocxState！= Null」は常にtrueです。 AxHost.cs 2186</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">public</span> State OcxState<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-built_in">set</span><font></font>
  {<font></font>
    ....<font></font>
    <span class="hljs-keyword">if</span> (value == null)<font></font>
    {<font></font>
        <span class="hljs-keyword">return</span>;<font></font>
    }<font></font>
    ....<font></font>
    ocxState = value;<font></font>
    <font></font>
    <span class="hljs-keyword">if</span> (ocxState != null)  <span class="hljs-comment">// &lt;=</span><font></font>
    {<font></font>
      axState[manualUpdate] = ocxState._GetManualUpdate();<font></font>
      licenseKey = ocxState._GetLicenseKey();<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
      axState[manualUpdate] = <span class="hljs-literal">false</span>;<font></font>
      licenseKey = null;<font></font>
    } <font></font>
    ....<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
論理エラーのため、このフラグメントに「デッドコード」が形成されました。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロックの式は</font><font style="vertical-align: inherit;">実行されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3027</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数 'e'は、同じ論理式のnullに対して検証される前に論理式で使用されました。</font><font style="vertical-align: inherit;">ImageEditor.cs 99</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> object <span class="hljs-title">EditValue</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  ImageEditor e = ....;<font></font>
  Type myClass = GetType();<font></font>
  <span class="hljs-keyword">if</span> (!myClass.Equals(e.GetType()) &amp;&amp; e != null &amp;&amp;<font></font>
      myClass.IsInstanceOfType(e))<font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件</font><font style="vertical-align: inherit;">
の変数</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が最初に使用され、次に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">null</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不等式がチェックされ</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">こんにちは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NullReferenceException</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の同様のエラー：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3027</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数 'dropDownItem'は、同じ論理式のnullに対して検証される前に論理式で使用されました。</font><font style="vertical-align: inherit;">ToolStripMenuItemDesigner.cs 1351</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function">internal <span class="hljs-keyword">void</span> <span class="hljs-title">EnterInSituEdit</span><span class="hljs-params">(ToolStripItem toolItem)</span>
</span>{<font></font>
  ....<font></font>
  ToolStripDropDownItem dropDownItem = toolItem as ToolStripDropDownItem;<font></font>
  <span class="hljs-keyword">if</span> (!(dropDownItem.Owner is ToolStripDropDownMenu) &amp;&amp; <font></font>
      dropDownItem != null &amp;&amp; <font></font>
      dropDownItem.Bounds.Width &lt; commitedEditorNode.Bounds.Width)<font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dropDownItem</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のみが含まれる、前の状況と同様の状況</font><font style="vertical-align: inherit;">。そのようなエラーは、リファクタリング中の不注意の結果として発生すると思います。おそらく条件の一部</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です！（DropDownItem.OwnerはToolStripDropDownMenuです）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は後でコードに追加されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3030</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定期チェック。 「columnCount&gt; 0」条件は、3900行目ですでに確認されています。ListView.cs3903</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function">internal ColumnHeader <span class="hljs-title">InsertColumn</span><span class="hljs-params">(
  <span class="hljs-keyword">int</span> index, ColumnHeader ch, <span class="hljs-keyword">bool</span> refreshSubItems)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-comment">// Add the column to our internal array</span>
  <span class="hljs-keyword">int</span> columnCount = (columnHeaders == null ? <span class="hljs-number">0</span> : columnHeaders.Length);
  <span class="hljs-keyword">if</span> (columnCount &gt; <span class="hljs-number">0</span>)<font></font>
  {<font></font>
    ColumnHeader[] newHeaders = <span class="hljs-keyword">new</span> ColumnHeader[columnCount + <span class="hljs-number">1</span>];
    <span class="hljs-keyword">if</span> (columnCount &gt; <span class="hljs-number">0</span>)<font></font>
    {<font></font>
        System.Array.Copy(columnHeaders, <span class="hljs-number">0</span>, newHeaders, <span class="hljs-number">0</span>, columnCount);<font></font>
    }<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
無害に見えるかもしれない間違い。実際、まあ、作業のロジックに影響を与えない追加のチェックが実行されます。また、リスト内のエントリ数を取得するなどして、ビジュアルコンポーネントのステータスを再確認する必要がある場合にも、これを実行します。この場合のみ、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカル</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">columnCountを再</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認し</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。これは非常に疑わしいです。別の変数をチェックしたいか、チェックの1つで間違った条件を使用しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3061</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメーター 'lprcClipRect'は、使用前にメソッド本体で常に書き換えられます。 WebBrowserSiteBase.cs 281</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> UnsafeNativeMethods.IOleInPlaceSite.GetWindowContext(<font></font>
  out UnsafeNativeMethods.IOleInPlaceFrame ppFrame, <font></font>
  out UnsafeNativeMethods.IOleInPlaceUIWindow ppDoc,<font></font>
  NativeMethods.COMRECT lprcPosRect, <font></font>
  NativeMethods.COMRECT lprcClipRect,<font></font>
  NativeMethods.tagOIFI lpFrameInfo)<font></font>
{<font></font>
  ppDoc = null;<font></font>
  ppFrame = Host.GetParentContainer();<font></font>
  <font></font>
  lprcPosRect.left = Host.Bounds.X;<font></font>
  lprcPosRect.top = Host.Bounds.Y;<font></font>
  ....<font></font>
  <font></font>
  lprcClipRect = WebBrowserHelper.GetClipRect();  <span class="hljs-comment">// &lt;=</span>
  <span class="hljs-keyword">if</span> (lpFrameInfo != null)<font></font>
  {<font></font>
    lpFrameInfo.cb = Marshal.SizeOf&lt;NativeMethods.tagOIFI&gt;();<font></font>
    lpFrameInfo.fMDIApp = <span class="hljs-literal">false</span>;<font></font>
    ....<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> NativeMethods.S_OK;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
明らかでない間違い。はい、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lprcClipRect</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータ</font><i><font style="vertical-align: inherit;">は</font></i><font style="vertical-align: inherit;">実際には新しい値で初期化され</font><font style="vertical-align: inherit;">ます</font><i><font style="vertical-align: inherit;">が</font></i><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">まったく</font></i><font style="vertical-align: inherit;">使用されません。しかし、これは結局何につながるのでしょうか？呼び出しコードのどこかで、このパラメーターを介して渡されたリンクは、意図は異なりましたが、変更されないままになると思います。確かに、このメソッドで他の変数を操作することを見てください。その名前（ "Get"プレフィックス）でさえ、渡されたパラメーターを通じてメソッド内で初期化が行われることを示唆しています。そしてそうです。最初の2つのパラメーター（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ppFrame</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ppDoc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">out</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修飾子とともに渡され、</font><font style="vertical-align: inherit;">新しい値を取得します。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lprcPosRect</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><i><font style="vertical-align: inherit;">lpFrameInfoを</font></i><font style="vertical-align: inherit;">リンク</font><font style="vertical-align: inherit;">し</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスのフィールドとその初期化にアクセスするために使用されます。</font><font style="vertical-align: inherit;">そして、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lprcClipRect</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のみ</font><font style="vertical-align: inherit;">が一般的なリストから除外されます。</font><font style="vertical-align: inherit;">ほとんどの場合、このパラメータには</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">out</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ref</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修飾子が必要です</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3066</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「AdjustCellBorderStyle」メソッドに渡される引数の順序が誤っている可能性があります：「isFirstDisplayedRow」および「isFirstDisplayedColumn」。</font><font style="vertical-align: inherit;">DataGridViewComboBoxCell.cs 1934</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseMove</span><span class="hljs-params">(DataGridViewCellMouseEventArgs e)</span>
</span>{<font></font>
  ....<font></font>
  dgvabsEffective = AdjustCellBorderStyle(<font></font>
    DataGridView.AdvancedCellBorderStyle,<font></font>
    dgvabsPlaceholder,<font></font>
    singleVerticalBorderAdded,<font></font>
    singleHorizontalBorderAdded,<font></font>
    isFirstDisplayedRow,      <span class="hljs-comment">// &lt;=</span>
    isFirstDisplayedColumn);  <span class="hljs-comment">// &lt;=</span><font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アナライザは、最後の2つの引数が混同されていると疑っていました。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AdjustCellBorderStyle</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドの宣言を見てみましょう</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> DataGridViewAdvancedBorderStyle <span class="hljs-title">AdjustCellBorderStyle</span><span class="hljs-params">(
  DataGridViewAdvancedBorderStyledataGridViewAdvancedBorderStyleInput,
  DataGridViewAdvancedBorderStyle dataGridViewAdvancedBorderStylePlaceholder,
  <span class="hljs-keyword">bool</span> singleVerticalBorderAdded,
  <span class="hljs-keyword">bool</span> singleHorizontalBorderAdded,
  <span class="hljs-keyword">bool</span> isFirstDisplayedColumn,
  <span class="hljs-keyword">bool</span> isFirstDisplayedRow)</span>
</span>{<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
間違いのようです。はい、多くの場合、いくつかの引数は意図的に逆の順序で渡されます。たとえば、いくつかの変数を交換するためにです。しかし、私はこれが正確にそうであるとは思いません。呼び出しメソッドまたは呼び出されたメソッドの中で、そのような使用パターンを示しているものはありません。まず、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブール</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型の変数が混乱してい</font><font style="vertical-align: inherit;">ます。次に、メソッドの名前も一般的です。「スワップ」や「リバース」はありません。また、そのような間違いをすることはそれほど難しくありません。人々はしばしば行/列のペアの順序を異なって認識します。たとえば、私にとっては「行/列」だけがなじみがあります。ただし、呼び出された</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AdjustCellBorderStyle</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドの</font><i><font style="vertical-align: inherit;">作成</font></i><font style="vertical-align: inherit;">者にとって、</font><font style="vertical-align: inherit;">より身近な順序は「列/行」です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3070</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期化されていない変数「LANG_USER_DEFAULT」は、「LOCALE_USER_DEFAULT」変数を初期化するときに使用されます。</font><font style="vertical-align: inherit;">NativeMethods.cs 890</font></font><br>
<br>
<pre><code class="cpp hljs">internal <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NativeMethods</span>
{</span><font></font>
  ....<font></font>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> readonly <span class="hljs-keyword">int</span> LOCALE_USER_DEFAULT =<font></font>
    MAKELCID(LANG_USER_DEFAULT);<font></font>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> readonly <span class="hljs-keyword">int</span> LANG_USER_DEFAULT = <font></font>
    MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT);<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まれな間違い。</font><font style="vertical-align: inherit;">クラスフィールドの初期化順序が混乱しています。</font><font style="vertical-align: inherit;">値を計算するには</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LOCALE_USER_DEFAULTの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールドを</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LANG_USER_DEFAULTの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分野</font><font style="vertical-align: inherit;">はまだ初期化され、ちなみに0の値を持っていないされ、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LANG_USER_DEFAULTの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数がされ</font><font style="vertical-align: inherit;">たコードのどこにも使用されていません。</font><font style="vertical-align: inherit;">私は怠惰ではなく、状況をシミュレートする小さなコンソールプログラムを書きました。</font><font style="vertical-align: inherit;">WinFormsコードで使用されるいくつかの定数の値の代わりに、実際の値を代入しました：</font></font><br>
<br>
<pre><code class="cpp hljs">internal <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NativeMethods</span>
{</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> readonly <span class="hljs-keyword">int</span> LOCALE_USER_DEFAULT = <font></font>
    MAKELCID(LANG_USER_DEFAULT);<font></font>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> readonly <span class="hljs-keyword">int</span> LANG_USER_DEFAULT = <font></font>
    MAKELANGID(<span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>);<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">MAKELANGID</span><span class="hljs-params">(<span class="hljs-keyword">int</span> primary, <span class="hljs-keyword">int</span> sub)</span>
  </span>{
    <span class="hljs-keyword">return</span> ((((ushort)(sub)) &lt;&lt; <span class="hljs-number">10</span>) | (ushort)(primary));<font></font>
  }<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">MAKELCID</span><span class="hljs-params">(<span class="hljs-keyword">int</span> lgid)</span>
  </span>{
    <span class="hljs-keyword">return</span> MAKELCID(lgid, <span class="hljs-number">0x0</span>);<font></font>
  }<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">MAKELCID</span><span class="hljs-params">(<span class="hljs-keyword">int</span> lgid, <span class="hljs-keyword">int</span> sort)</span>
  </span>{
    <span class="hljs-keyword">return</span> ((<span class="hljs-number">0xFFFF</span> &amp; lgid) | (((<span class="hljs-number">0x000f</span>) &amp; sort) &lt;&lt; <span class="hljs-number">16</span>));<font></font>
  }<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{</span>
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span><span class="hljs-params">()</span>
  </span>{<font></font>
    System.Console.WriteLine(NativeMethods.LOCALE_USER_DEFAULT);<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
打ち上げの結果、次のようにコンソールに表示されます：0は、今、私たちは宣言スワップ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LOCALE_USER_DEFAULT</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LANG_USER_DEFAULTフィールドを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この形式でのプログラムの結果：1024。ここでこれ以上コメントすることは何もないと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3080</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能性のあるnull逆参照。</font><font style="vertical-align: inherit;">「ces」の検査を検討してください。</font><font style="vertical-align: inherit;">CodeDomSerializerBase.cs 562</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DeserializeStatement</span><span class="hljs-params">(
  IDesignerSerializationManager manager, CodeStatement statement)</span>
</span>{<font></font>
  ....<font></font>
  CodeExpressionStatement ces = statement as CodeExpressionStatement;<font></font>
  <span class="hljs-keyword">if</span> (ces != null)<font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span><font></font>
  {<font></font>
    ....<font></font>
    DeserializeExpression(manager, null, ces.Expression);  <span class="hljs-comment">// &lt;=</span><font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">ces</font></i><font style="vertical-align: inherit;">参照が</font><i><font style="vertical-align: inherit;">nullの</font></i><font style="vertical-align: inherit;">ときにだけ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ブランチに</font><font style="vertical-align: inherit;">入る</font><font style="vertical-align: inherit;">こと</font><font style="vertical-align: inherit;">ができるため</font><font style="vertical-align: inherit;">、「落下」するはずのコードは十分に安定して</font><i><font style="vertical-align: inherit;">い</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
同様の別の例：</font><font style="vertical-align: inherit;">
PVS-Studio：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">V3080</font></a><font style="vertical-align: inherit;"> null逆参照の可能性。</font><font style="vertical-align: inherit;">「comboBox」の検査を検討してください。</font><font style="vertical-align: inherit;">ComboBox.cs 6610</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ValidateOwnerDrawRegions</span><span class="hljs-params">(ComboBox comboBox, ....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (comboBox != null)<font></font>
  { <span class="hljs-keyword">return</span>; }<font></font>
  Rectangle topOwnerDrawArea = <font></font>
    <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, comboBox.Width, innerBorder.Top);<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
逆説的なコード。どうやら、彼ら</font><font style="vertical-align: inherit;">は</font><i><font style="vertical-align: inherit;">if（comboBox == null）</font></i><font style="vertical-align: inherit;">ではなく</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if（comboBox！= Null）と</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">書くことでテストを混同しました</font><font style="vertical-align: inherit;">。そして、次の</font><i><font style="vertical-align: inherit;">NullReferenceException</font></i><font style="vertical-align: inherit;">を受け取り</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">メソッド内でnull参照が使用される可能性がある状況を視覚的に追跡できる</font><font style="vertical-align: inherit;">
2つのかなり明白な</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">V3080</font></a><font style="vertical-align: inherit;">エラーを調べました</font><font style="vertical-align: inherit;">。しかし、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">V3080</font></a><font style="vertical-align: inherit;">診断</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">は</font></a><font style="vertical-align: inherit;">はるかにインテリジェントであり、メソッド呼び出しのチェーンについて同様のエラーを探すことができます。少し前まで、データフローと手続き間分析のメカニズムを大幅に強化しました。これについては、「</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">C＃8.0の静的な参照型と静的分析</font></a><font style="vertical-align: inherit;">」を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">参照</font></a><font style="vertical-align: inherit;">してください</font><font style="vertical-align: inherit;">。そして、WinFormsで検出された同様のエラーがここにあります：</font><font style="vertical-align: inherit;">
PVS-Studio：</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3080</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「reader.NameTable」でのメソッド内のnull逆参照の可能性があります。</font><font style="vertical-align: inherit;">最初の引数contentReaderを調べることを検討してください。</font><font style="vertical-align: inherit;">ResXResourceReader.cs 267</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">EnsureResData</span><span class="hljs-params">()</span>
</span>{<font></font>
  ....<font></font>
  XmlTextReader contentReader = null;<font></font>
  <font></font>
  <span class="hljs-keyword">try</span><font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> (fileContents != null)<font></font>
    {<font></font>
      contentReader = <span class="hljs-keyword">new</span> XmlTextReader(....);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (reader != null)<font></font>
    {<font></font>
      contentReader = <span class="hljs-keyword">new</span> XmlTextReader(....);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fileName != null || stream != null)<font></font>
    {<font></font>
      ....  <font></font>
      contentReader = <span class="hljs-keyword">new</span> XmlTextReader(....);<font></font>
    }<font></font>
    <font></font>
    SetupNameTable(contentReader);  <span class="hljs-comment">// &lt;=</span><font></font>
    ....<font></font>
  }<font></font>
  finally<font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド本体の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contentReader</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
変数で何が起こるかを見てください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">null参照で初期化した後、いずれかのチェックの結果として、リンクが初期化されます。</font><font style="vertical-align: inherit;">ただし、一連のチェックは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロックで終了しません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">まれに（または将来的にリファクタリングの結果として）まだリンクしていることを、この手段が</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゼロのまま。</font><font style="vertical-align: inherit;">次に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SetupNameTable</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドに渡され、</font><font style="vertical-align: inherit;">検証なしで使用されます。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetupNameTable</span><span class="hljs-params">(XmlReader reader)</span>
</span>{<font></font>
  reader.NameTable.Add(ResXResourceWriter.TypeStr);<font></font>
  reader.NameTable.Add(ResXResourceWriter.NameStr);<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは潜在的に安全でないコードです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、アナライザーが問題を特定するために一連の呼び出しを実行する必要があったもう1つのエラー：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3080</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考えられるnull逆参照。</font><font style="vertical-align: inherit;">「レイアウト」の検査を検討してください。</font><font style="vertical-align: inherit;">DockAndAnchorLayout.cs 156</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Rectangle <span class="hljs-title">GetAnchorDestination</span><span class="hljs-params">(
  IArrangedElement element, Rectangle displayRect, <span class="hljs-keyword">bool</span> measureOnly)</span>
</span>{<font></font>
  ....<font></font>
  AnchorInfo layout = GetAnchorInfo(element);<font></font>
<font></font>
  <span class="hljs-keyword">int</span> left = layout.Left + displayRect.X;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アナライザーは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetAnchorInfo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドから</font><font style="vertical-align: inherit;">null参照を取得する</font><font style="vertical-align: inherit;">ことが</font><font style="vertical-align: inherit;">可能であり、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値を計算するときに例外をスローすると</font><font style="vertical-align: inherit;">主張してい</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">呼び出しのチェーン全体を調べて、これがそうであるかどうかを確認しましょう。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> AnchorInfo <span class="hljs-title">GetAnchorInfo</span><span class="hljs-params">(IArrangedElement element)</span>
</span>{
  <span class="hljs-keyword">return</span> (AnchorInfo)element.Properties.GetObject(s_layoutInfoProperty);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> object <span class="hljs-title">GetObject</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>=&gt; GetObject(key, out _);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> object <span class="hljs-title">GetObject</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key, out <span class="hljs-keyword">bool</span> found)</span>
</span>{
  <span class="hljs-keyword">short</span> keyIndex = SplitKey(key, out <span class="hljs-keyword">short</span> element);
  <span class="hljs-keyword">if</span> (!LocateObjectEntry(keyIndex, out <span class="hljs-keyword">int</span> index))<font></font>
  {<font></font>
    found = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> null;<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-comment">// We have found the relevant entry. See if</span>
  <span class="hljs-comment">// the bitmask indicates the value is used.</span>
  <span class="hljs-keyword">if</span> (((<span class="hljs-number">1</span> &lt;&lt; element) &amp; s_objEntries[index].Mask) == <span class="hljs-number">0</span>)<font></font>
  {<font></font>
    found = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> null;<font></font>
  }<font></font>
  <font></font>
  found = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">switch</span> (element)<font></font>
  {<font></font>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
      <span class="hljs-keyword">return</span> s_objEntries[index].Value1;<font></font>
    ....<font></font>
    <span class="hljs-keyword">default</span>:<font></font>
      Debug.Fail(<span class="hljs-string">"Invalid element obtained from LocateObjectEntry"</span>);
      <span class="hljs-keyword">return</span> null;<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、場合によっては、</font><font style="vertical-align: inherit;">呼び出しチェーンを閉じる</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetObject</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">null</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を返し</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。これは、追加のチェックなしで呼び出しメソッドに渡されます。おそらく、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetAnchorDestination</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">がそのような状況に</font><i><font style="vertical-align: inherit;">対応</font></i><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">はずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WinFormsコードでは、そのようなエラーがかなり</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多く、70を超えていました</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。それらはすべて類似しており、記事では説明しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3091</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実証分析。タイプミスが文字列リテラル「ShowCheckMargin」内に存在する可能性があります。 「ShowCheckMargin」という単語は疑わしいものです。 PropertyNames.cs 136</font></font><br>
<br>
<pre><code class="cpp hljs">internal <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PropertyNames</span>
{</span><font></font>
  ....<font></font>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> readonly <span class="hljs-built_in">string</span> ShowImageMargin = <span class="hljs-string">"ShowCheckMargin"</span>;<font></font>
  ...<font></font>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> readonly <span class="hljs-built_in">string</span> ShowCheckMargin = <span class="hljs-string">"ShowCheckMargin"</span>;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
検出がそれほど容易ではないエラーの良い例。</font><font style="vertical-align: inherit;">クラスのフィールドを初期化するとき、それらは同じ値を使用しますが、コードの作成者は明らかにそう考えていませんでした（コピーと貼り付けは責任があるためです）。</font><font style="vertical-align: inherit;">アナライザーは、変数の名前と割り当てられた文字列の値を比較することにより、この結論を下しました。</font><font style="vertical-align: inherit;">エラー行のみを示しましたが、コードエディターでどのように表示されるかを確認します。</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/313/196/4de/3131964de8f3f5161678c44086ed2e40.png" alt="写真2"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
静的分析ツールの能力と無限のケアを示すのは、このようなエラーの検出です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3095</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nullに対して検証される前に 'currentForm'オブジェクトが使用されました。</font><font style="vertical-align: inherit;">チェック行：3386、3404。Application.cs 3386</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RunMessageLoopInner</span><span class="hljs-params">(<span class="hljs-keyword">int</span> reason, ApplicationContext context)</span>
</span>{<font></font>
  ....<font></font>
  hwndOwner = <span class="hljs-keyword">new</span> HandleRef(<font></font>
    null, <font></font>
    UnsafeNativeMethods.GetWindowLong(<font></font>
      <span class="hljs-keyword">new</span> HandleRef(currentForm, currentForm.Handle),  <span class="hljs-comment">// &lt;=</span><font></font>
    NativeMethods.GWL_HWNDPARENT));<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (currentForm != null &amp;&amp; ....)<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラシック。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">currentForm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数</font><i><font style="vertical-align: inherit;">は</font></i><font style="vertical-align: inherit;">チェックなし</font><i><font style="vertical-align: inherit;">で</font></i><font style="vertical-align: inherit;">使用されます。しかし、さらにコードには</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nullの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等価性のチェックがあり</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。この場合、参照型を扱うときはより注意深く、静的アナライザーを使用するようにアドバイスできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の同様のエラー：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3095</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nullに対して検証される前に 'backgroundBrush'オブジェクトが使用されました。チェック行：2331、2334。DataGrid.cs 2331</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">public</span> Color BackgroundColor<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-built_in">set</span><font></font>
  {<font></font>
    ....<font></font>
    <span class="hljs-keyword">if</span> (!value.Equals(backgroundBrush.Color))  <span class="hljs-comment">// &lt;=</span><font></font>
    {<font></font>
      <span class="hljs-keyword">if</span> (backgroundBrush != null &amp;&amp; <font></font>
          BackgroundBrush != DefaultBackgroundBrush)<font></font>
      ....<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WinFormsコードでは、</font><font style="vertical-align: inherit;">このようなエラー</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が60</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">件以上</font><font style="vertical-align: inherit;">発生しました。私の意見では、それらはすべて非常に重要であり、開発者の注意を必要とします。しかし、記事ではそれらについて話すのはそれほど面白くないので、私は上記の2つに限定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3125</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「_propInfo」オブジェクトが使用され、さまざまな実行ブランチでnullに対して検証されました。チェック行：996、982。Binding.cs 996</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetPropValue</span><span class="hljs-params">(object value)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (....)<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> ....
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (_propInfo != null) ....<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span><font></font>
  {<font></font>
    _propInfo.SetValue(_control, value);<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
絵を完成させるためにも-一種の古典的なバグ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3125</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。逆の状況。まず、nullの可能性がある参照が安全に使用され、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nullの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等価性</font><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">チェックされ</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">が、コードではこれを行わなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、別の同様のエラー：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3125</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nullに対して検証された後、「所有者」オブジェクトが使用されました。チェック行：64、60。FlatButtonAppearance.cs 64</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> BorderSize<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-built_in">set</span><font></font>
  {<font></font>
    ....<font></font>
    <span class="hljs-keyword">if</span> (owner != null &amp;&amp; owner.ParentInternal != null)<font></font>
    {<font></font>
        LayoutTransaction.DoLayoutIf(....);<font></font>
    }<font></font>
    owner.Invalidate();  <span class="hljs-comment">// &lt;=</span><font></font>
    ....<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
美しさ。しかし、これは外部の研究者の視点からです。実際、これら2つの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3125</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に加えて</font><font style="vertical-align: inherit;">、アナライザー</font><font style="vertical-align: inherit;">はWinFormsコードで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50を超える</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同様のパターンを</font><font style="vertical-align: inherit;">検出しました</font><font style="vertical-align: inherit;">。開発者にはやらなければならない仕事があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に-私の意見では、かなり興味深いエラーです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V3137</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 'hCurrentFont'変数が割り当てられていますが、関数の最後では使用されません。 DeviceContext2.cs 241</font></font><br>
<br>
<pre><code class="cpp hljs">sealed partial <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DeviceContext</span> :</span> ....<font></font>
{<font></font>
  WindowsFont selectedFont;<font></font>
  ....<font></font>
  <span class="hljs-function">internal <span class="hljs-keyword">void</span> <span class="hljs-title">DisposeFont</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> disposing)</span>
  </span>{
    <span class="hljs-keyword">if</span> (disposing)<font></font>
    {<font></font>
        DeviceContexts.RemoveDeviceContext(<span class="hljs-keyword">this</span>);<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-keyword">if</span> (selectedFont != null &amp;&amp; selectedFont.Hfont != IntPtr.Zero)<font></font>
    {<font></font>
      IntPtr hCurrentFont = IntUnsafeNativeMethods.GetCurrentObject(<font></font>
        <span class="hljs-keyword">new</span> HandleRef(<span class="hljs-keyword">this</span>, hDC), IntNativeMethods.OBJ_FONT);
      <span class="hljs-keyword">if</span> (hCurrentFont == selectedFont.Hfont)<font></font>
      {<font></font>
        <span class="hljs-comment">// select initial font back in</span>
        IntUnsafeNativeMethods.SelectObject(<span class="hljs-keyword">new</span> HandleRef(<span class="hljs-keyword">this</span>, Hdc),
          <span class="hljs-keyword">new</span> HandleRef(null, hInitialFont));<font></font>
<font></font>
        hCurrentFont = hInitialFont;  <span class="hljs-comment">// &lt;=</span><font></font>
      }<font></font>
      <font></font>
      selectedFont.Dispose(disposing);<font></font>
      selectedFont = null;<font></font>
    }<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アナライザーが警告した内容と、変数に値が割り当てられているが、メソッドでそれ以上使用されていないという事実が問題を示している理由を見てみましょう。</font><font style="vertical-align: inherit;">部分的なクラスは</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、ファイル</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeviceContext2.csで</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宣言さ</font><font style="vertical-align: inherit;">れます</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposeFont</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><i><font style="vertical-align: inherit;">は</font></i><font style="vertical-align: inherit;">、グラフィック（デバイスコンテキストとフォント）を操作した後にリソースを解放するために使用されます。よりよく理解するために、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposeFont</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">全体</font><font style="vertical-align: inherit;">を提供しました</font><font style="vertical-align: inherit;">。ローカル変数</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hCurrentFontに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意して</font><i><font style="vertical-align: inherit;">ください</font></i><font style="vertical-align: inherit;">。問題は、メソッドでこの変数を宣言すると、同じ名前のクラスフィールドが非表示になることです。私は二つの方法見つけ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeviceContextの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラス</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールド</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれる</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hCurrentFontが用いられます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> IntPtr <span class="hljs-title">SelectFont</span><span class="hljs-params">(WindowsFont font)</span>
</span>{<font></font>
  ....<font></font>
  hCurrentFont = font.Hfont;<font></font>
  ....<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ResetFont</span><span class="hljs-params">()</span>
</span>{<font></font>
  ....<font></font>
  hCurrentFont = hInitialFont;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ResetFont</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
メソッドを見てください</font><font style="vertical-align: inherit;">。そこの最後の行は</font><font style="vertical-align: inherit;">、ネストされた</font><i><font style="vertical-align: inherit;">if</font></i><font style="vertical-align: inherit;">ブロックで</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposeFont</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><i><font style="vertical-align: inherit;">が行う</font></i><font style="vertical-align: inherit;">こととまったく同じ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（アナライザーはこの場所を指します）。そして、同じ名前のこの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hCurrentFont</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールドは</font><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeviceContext.cs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルの部分クラスの別の部分で</font><i><font style="vertical-align: inherit;">宣言</font></i><font style="vertical-align: inherit;">されています</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs">sealed partial <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DeviceContext</span> :</span> ....<font></font>
{<font></font>
  ....<font></font>
  IntPtr hInitialFont;<font></font>
  ....<font></font>
  IntPtr hCurrentFont;  <span class="hljs-comment">// &lt;=</span><font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、明らかな間違いがありました。別の問題はその重要性です。これで、</font><font style="vertical-align: inherit;">「select initial font back in」というコメントが付いたセクションで</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposeFont</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドが</font><i><font style="vertical-align: inherit;">機能</font></i><font style="vertical-align: inherit;">し</font><font style="vertical-align: inherit;">た結果</font><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hCurrentFont</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールドに</font><font style="vertical-align: inherit;">初期値</font><font style="vertical-align: inherit;">が割り当てられなくなりました</font><font style="vertical-align: inherit;">。正確な判断を下せるのはコード作成者だけだと思います。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
それで、今回は少しMSを「叱る」必要があります。 WinFormsには、開発者の注意を必要とする多くのエラーがありました。おそらくこれは、MSが.NET Core 3とWinFormsを含むコンポーネントに取り組んでいるラッシュが原因です。私の意見では、WinFormsのコードはまだ「湿っています」が、状況がすぐに良くなることを願っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーが多数発生する2番目の理由は、アナライザーがエラーを探すのが改善されたためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ところで、同僚のセルゲイヴァシリエフによる記事がまもなく公開され、.NET Coreライブラリのコードでかなりの数の問題が検索および発見されます。</font><font style="vertical-align: inherit;">私たちは常に彼らのプロジェクトの分析結果を開発者に伝えようとしているので、彼の仕事が.NETプラットフォームのパフォーマンスの向上にも貢献することを願っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、自分で製品を改善したり、他の人のプロジェクトのエラーを見つけるために調査をしたい人のために、</font><font style="vertical-align: inherit;">PVS-Studioを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロードして試してみる</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ことをお勧めし</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてきれいなコード！</font></font><br>
<br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事を英語を話す視聴者と共有したい場合は、翻訳へのリンクを使用してください：Sergey Khrenov。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WinForms：エラー、ホームズ</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja462793/index.html">象と馬のマット。循環法「コーカサスの囚人」</a></li>
<li><a href="../ja462797/index.html">雲についても、プロだけでなく</a></li>
<li><a href="../ja462799/index.html">開始時のRAVISとDAB。DRMは気分を害しました。ロシア連邦のデジタルラジオの奇妙な未来</a></li>
<li><a href="../ja462803/index.html">あるERPシステムから別のシステムへの移行</a></li>
<li><a href="../ja462805/index.html">分析：取引所での取引時に実際にお金が保護される方法</a></li>
<li><a href="../ja462811/index.html">Goでジェネリックが必要なのはなぜですか？</a></li>
<li><a href="../ja462813/index.html">エカテリンブルク、8月14日-アトラシアンユーザーグループのミタップ</a></li>
<li><a href="../ja462815/index.html">私の俳句3日目：全体像が形になり始めます</a></li>
<li><a href="../ja462817/index.html">Kotlin / Everywhere Report-ショーケースプラクティス：7月31日</a></li>
<li><a href="../ja462819/index.html">CISにおける言語教育の欠陥：ポリグロットビュー</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>