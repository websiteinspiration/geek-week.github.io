<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍💻 👹 👂🏻 Automação de rede. Caso da vida ♑️ 🛀🏽 👩‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Olá Habr! 
 
 Neste artigo, gostaríamos de falar sobre automação da infraestrutura de rede. Um diagrama de rede em funcionamento será apresentado, que...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Automação de rede. Caso da vida</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496152/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Olá Habr! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, gostaríamos de falar sobre automação da infraestrutura de rede. </font><font style="vertical-align: inherit;">Um diagrama de rede em funcionamento será apresentado, que opera em uma empresa pequena, mas muito orgulhosa. </font><font style="vertical-align: inherit;">Todas as correspondências com o hardware de rede real são aleatórias. </font><font style="vertical-align: inherit;">Consideraremos um caso que ocorreu nesta rede, o que pode levar a um desligamento dos negócios por um longo tempo e a graves perdas financeiras. </font><font style="vertical-align: inherit;">A solução deste caso se encaixa muito bem no conceito de "Automação da infraestrutura de rede". </font><font style="vertical-align: inherit;">Usando ferramentas de automação, mostraremos como você pode efetivamente resolver problemas complexos em um curto espaço de tempo e refletiremos sobre o motivo pelo qual essas tarefas são mais promissoras para serem resolvidas dessa maneira e não de outra forma </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(através do console)</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aviso Legal</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nossas principais ferramentas de automação são o Ansible (como uma ferramenta de automação) e o Git (como um repositório do Ansible playbook). Quero imediatamente fazer uma reserva de que este não é um artigo de apuração de fatos, em que falamos sobre a lógica do Ansible ou do Git e explico coisas básicas (por exemplo, o que são funções \ tarefas \ módulos \ arquivos de inventário \ variáveis ​​no Ansible ou o que acontece quando você insere comandos git push ou git commit). Esta história não é sobre como você pode praticar no Ansible, configurá-lo em equipamentos NTP ou SMTP. Esta é uma história sobre como você pode rapidamente e de preferência sem erros resolver um problema de rede. Também é desejável ter uma boa idéia de como a rede funciona, em particular, qual é a pilha de protocolos TCP / IP, OSPF, BGP. A escolha de Ansible e Git também está fora de questão. Se você ainda tem a opção de escolher uma solução específica,é altamente recomendável ler o livro Programabilidade e automação de rede. Habilidades para o engenheiro de rede de última geração ”de Jason Edelman, Scott S. Lowe e Matt Oswalt.</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora ao ponto.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formulação do problema</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagine uma situação: às 3 da manhã, você dorme profundamente e sonha. </font><font style="vertical-align: inherit;">A ligação para o telefone. </font><font style="vertical-align: inherit;">O diretor técnico </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 está </font><font style="vertical-align: inherit;">ligando: </font><font style="vertical-align: inherit;">- Sim? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - ###, ####, #####, o cluster de firewalls caiu e não aumenta !!! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você esfrega os olhos, tenta perceber o que está acontecendo e imagina como isso poderia ter acontecido. </font><font style="vertical-align: inherit;">No tubo, você pode ouvir os cabelos arrancando a cabeça do diretor, e ele pede para ligar de volta, porque o general liga para ele na segunda linha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de meia hora, você coletou as primeiras notas introdutórias do turno de plantão e acordou todo mundo com quem podia acordar. </font><font style="vertical-align: inherit;">Como resultado, o diretor técnico não mentiu, tudo está correto, o principal cluster de firewalls caiu e nenhum gesto básico o levou a um juízo. </font><font style="vertical-align: inherit;">Todos os serviços que a empresa oferece não funcionam.</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escolha um problema para o seu gosto, todos se lembrarão de algo diferente. </font><font style="vertical-align: inherit;">Por exemplo, após uma atualização noturna, na ausência de uma carga pesada, tudo funcionou bem e todos os satisfeitos foram para a cama. </font><font style="vertical-align: inherit;">O tráfego foi passando e os buffers da interface começaram a transbordar devido a um erro no driver da placa de rede. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A situação pode muito bem descrever Jackie Chan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/nm/20/ltnm203hcpvq05tb8uq3ke6e1qm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obrigado, Jackie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A situação não é muito agradável, é? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos sair para o tempo da nossa rede mano com seus pensamentos tristes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Discutiremos como os eventos se desenvolverão ainda mais. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oferecemos a seguinte ordem de apresentação do material</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Considere o diagrama de rede e analise como ele funciona;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos descrever como transferimos as configurações de um roteador para outro usando o Ansible;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos falar sobre a automação da infraestrutura de TI em geral.</font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagrama de rede e sua descrição</font></font></h4><br>
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquema</font></font></b></p><br>
<br>
<img src="https://habrastorage.org/webt/wp/0f/zp/wp0fzp8bvlwmylrn-pl7knbplga.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere a lógica da nossa organização. </font><font style="vertical-align: inherit;">Não nomearemos fabricantes específicos de equipamentos, isso não importa no artigo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(o próprio leitor atento vai adivinhar que</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tipo de </font><i><font style="vertical-align: inherit;">equipamento é usado)</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Essa é apenas uma das boas vantagens de trabalhar com a Ansible, ao configurar, em geral, não nos importamos com o tipo de equipamento. </font><font style="vertical-align: inherit;">Só para entender, este equipamento é conhecido por fornecedores como Cisco, Juniper, Check Point, Fortinet, Palo Alto ... você pode substituir sua própria versão. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos duas tarefas principais para mover o tráfego:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Garantir a publicação de nossos serviços, que são os negócios da empresa;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Forneça comunicação com filiais, um data center remoto e organizações de terceiros (parceiros e clientes), bem como acesso à Internet através do escritório central.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos começar com os elementos básicos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dois roteadores de borda (BRD-01, BRD-02);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster de firewall (FW-CLUSTER);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chave do Kernel (L3-CORE);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um roteador que se tornará uma tábua de salvação (no processo de solução do problema, transferiremos as configurações de rede do FW-CLUSTER para EMERGENCY) (EMERGENCY);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Switches para gerenciamento de infraestrutura de rede (L2-MGMT);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Máquina virtual com Git e Ansible (VM-AUTOMATION);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um laptop que testa e desenvolve manuais para o Ansible (automação de laptops).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um protocolo de roteamento OSPF dinâmico é configurado na rede com as seguintes áreas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Área 0 - a área na qual estão incluídos os roteadores responsáveis ​​pela movimentação de tráfego na zona de INTERCÂMBIO;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Área 1 - a área na qual estão incluídos os roteadores responsáveis ​​pelo trabalho dos serviços da empresa;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Área 2 - a área na qual os roteadores responsáveis ​​pelo roteamento do tráfego de gerenciamento estão incluídos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Área N - áreas da rede de agências.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos roteadores de borda, ele é criado em um roteador virtual (VRF-INTERNET), no qual a visualização completa do eBGP com o AS atribuído correspondente é aumentada. Entre os VRFs, o iBGP está configurado. A empresa possui um conjunto de endereços brancos publicados nessas VRF-INTERNETs. Alguns dos endereços brancos são roteados diretamente para o FW-CLUSTER (endereços nos quais os serviços da empresa operam), outros são roteados pela zona EXCHANGE (serviços internos da empresa que exigem endereços IP externos e endereços NAT externos para escritórios). Além disso, o tráfego chega aos roteadores virtuais criados no L3-CORE com endereços branco e cinza (zonas de segurança). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As redes de gerenciamento usam comutadores dedicados e são uma rede fisicamente dedicada. A rede de gerenciamento também é dividida em zonas de segurança.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O roteador de EMERGÊNCIA duplica física e logicamente o FW-CLUSTER. </font><font style="vertical-align: inherit;">Todas as interfaces estão desabilitadas, exceto aquelas que examinam a rede de gerenciamento.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automação e sua descrição</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nós descobrimos como a rede funciona. </font><font style="vertical-align: inherit;">Agora, vamos dar uma olhada nas etapas, o que faremos para transferir o tráfego do FW-CLUSTER para EMERGENCY:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desative as interfaces no comutador do kernel (L3-CORE) que o conectam ao FW-CLUSTER;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desative as interfaces no switch principal L2-MGMT que o conectam ao FW-CLUSTER;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure o roteador EMERGENCY (por padrão, todas as interfaces estão desabilitadas nele, exceto aquelas associadas ao L2-MGMT):</font></font></li>
</ol><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nós incluímos interfaces em EMERGÊNCIA;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure o endereço IP externo (para NAT), que estava no FW-Cluster;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geramos solicitações de gARP para que, nas tabelas arp L3-CORE, os endereços de papoula mudem de FW-Cluster para EMERGENCY;</font></font></li>
<li>      BRD-01, BRD-02;</li>
<li>  NAT;</li>
<li>  EMERGENCY OSPF Area 1;</li>
<li>  EMERGENCY OSPF Area 2;</li>
<li>    Area 1  10;</li>
<li>     Area 1  10;</li>
<li> ip-,   L2-MGMT ( ,    FW-CLUSTER);</li>
<li> gARP ,   arp- L2-MGMT  -  FW-CLUSTER  EMERGENCY.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Novamente, voltamos à formulação original do problema. Três da manhã, um estresse enorme, um erro em qualquer estágio pode levar a novos problemas. Pronto para digitar comandos através da CLI? Sim? Ok, vá pelo menos lavar o rosto, tomar café e reunir sua vontade em um punho. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bruce, por favor ajude os caras. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0v/sh/qe/0vshqe7g7ngkcgdjrl4lxvdif4g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, continuamos cortando nossa automação. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abaixo está um diagrama da pasta de trabalho em termos de Ansible. Este diagrama reflete o que descrevemos logo acima, apenas uma implementação concreta no Ansible. </font></font><br>
<img src="https://habrastorage.org/webt/yg/oa/hu/ygoahutrkrtb-q7qqteifyuejp0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse estágio, percebemos o que precisava ser feito, desenvolvemos um manual, realizamos testes, agora estamos prontos para lançá-lo.</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outra pequena digressão. A facilidade da narração não deve enganá-lo. O processo de escrever playbooks não foi tão simples e rápido quanto parece. Os testes levaram bastante tempo, um suporte virtual foi criado, a solução foi lançada várias vezes e foram realizados cerca de 100 testes.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Começamos ... Há uma sensação de que tudo acontece muito lentamente, em algum lugar há um erro, algo não funcionará no final. A sensação de um salto de pára-quedas, e o pára-quedas não quer abrir de uma vez ... isso é normal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, lemos o resultado das operações do manual do Ansible (substituímos os endereços IP para fins de conspiração):</font></font><br>
<br>
<pre><code class="plaintext hljs">[xxx@emergency ansible]$ ansible-playbook -i /etc/ansible/inventories/prod_inventory.ini /etc/ansible/playbooks/emergency_on.yml <font></font>
<font></font>
PLAY [-------&gt;Emergency on VCF] ********************************************************<font></font>
<font></font>
TASK [vcf_junos_emergency_on : Disable PROD interfaces to FW-CLUSTER] *********************<font></font>
changed: [vcf]<font></font>
<font></font>
PLAY [-------&gt;Emergency on MGMT-CORE] ************************************************<font></font>
<font></font>
TASK [mgmt_junos_emergency_on : Disable MGMT interfaces to FW-CLUSTER] ******************<font></font>
changed: [m9-03-sw-03-mgmt-core]<font></font>
<font></font>
PLAY [-------&gt;Emergency on] ****************************************************<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Enable EXT-INTERNET interface] **************************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Generate gARP for EXT-INTERNET interface] ****************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Enable static default route to EXT-INTERNET] ****************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Change NAT rule to EXT-INTERNET interface] ****************<font></font>
changed: [m9-04-r-04] =&gt; (item=12)<font></font>
changed: [m9-04-r-04] =&gt; (item=14)<font></font>
changed: [m9-04-r-04] =&gt; (item=15)<font></font>
changed: [m9-04-r-04] =&gt; (item=16)<font></font>
changed: [m9-04-r-04] =&gt; (item=17)<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Enable OSPF Area 1 PROD] ******************************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Enable OSPF Area 2 MGMT] *****************************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Change OSPF Area 1 interfaces costs to 10] *****************<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1001)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1002)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1003)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1004)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1005)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1006)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1007)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1008)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1009)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1010)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1011)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1012)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1013)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1100)<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Change OSPF area1 default cost for to 10] ******************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Change MGMT interfaces ip addresses] ********************<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n.254', u'name': u'VLAN-803'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+1.254', u'name': u'VLAN-805'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+2.254', u'name': u'VLAN-807'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+3.254', u'name': u'VLAN-809'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+4.254', u'name': u'VLAN-820'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+5.254', u'name': u'VLAN-822'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+6.254', u'name': u'VLAN-823'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+7.254', u'name': u'VLAN-824'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+8.254', u'name': u'VLAN-850'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+9.254', u'name': u'VLAN-851'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+10.254', u'name': u'VLAN-852'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+11.254', u'name': u'VLAN-853'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+12.254', u'name': u'VLAN-870'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+13.254', u'name': u'VLAN-898'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+14.254', u'name': u'VLAN-899'})<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Generate gARPs for MGMT interfaces] *********************<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n.254', u'name': u'VLAN-803'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+1.254', u'name': u'VLAN-805'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+2.254', u'name': u'VLAN-807'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+3.254', u'name': u'VLAN-809'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+4.254', u'name': u'VLAN-820'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+5.254', u'name': u'VLAN-822'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+6.254', u'name': u'VLAN-823'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+7.254', u'name': u'VLAN-824'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+8.254', u'name': u'VLAN-850'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+9.254', u'name': u'VLAN-851'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+10.254', u'name': u'VLAN-852'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+11.254', u'name': u'VLAN-853'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+12.254', u'name': u'VLAN-870'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+13.254', u'name': u'VLAN-898'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+14.254', u'name': u'VLAN-899'})<font></font>
<font></font>
PLAY RECAP ************************************************************************</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feito! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, ele não está totalmente pronto, não se esqueça da convergência de protocolos de roteamento dinâmico e do carregamento de um grande número de rotas no FIB. Não podemos influenciar isso de forma alguma. Nós esperamos. Isso veio junto. Agora está pronto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E na vila de Vilabaggio (que não deseja automatizar a configuração da rede), eles continuam lavando a louça. Bruce (embora já seja diferente, mas não menos legal) está tentando descobrir quanto mais deve reconfigurar manualmente o equipamento. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/4y/hc/zr4yhcq2zpqmjjbjp7lx37rxibg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu também gostaria de me debruçar sobre um ponto importante. Como recuperamos tudo? Depois de algum tempo, daremos vida ao nosso FW-CLUSTER. Este é o equipamento principal, não o backup, a rede deve trabalhar nele.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sinta-se como começar a queimar em redes? O diretor técnico ouvirá mil argumentos por que isso não é necessário, por que isso pode ser feito posteriormente. Infelizmente, é assim que a rede funciona com um monte de patches, peças e restos de ex-luxo. Acontece uma colcha. Nossa tarefa como um todo, não nessa situação específica, mas geralmente, em princípio, como especialistas em TI, é levar a rede à bela palavra em inglês "consistência", é muito multifacetada, pode ser traduzida como: consistência, consistência, consistência, coerência, consistência, comparabilidade, conectividade. Isso é tudo sobre ele. Somente nesse estado a rede é gerenciável, entendemos claramente o que e como funciona, entendemos claramente o que precisa ser alterado, se necessário, sabemos claramente onde procurar em caso de problemas.E somente nessa rede você pode fazer truques como os que acabamos de descrever.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, outro manual foi preparado, que retornou as configurações ao seu estado original. </font><font style="vertical-align: inherit;">A lógica de seu trabalho é a mesma (é importante lembrar, a ordem das tarefas é muito importante). Para não estender o artigo já extenso, decidimos não publicar a listagem do manual. </font><font style="vertical-align: inherit;">Após a realização desses exercícios, você se sentirá muito mais calmo e confiante no futuro; além disso, todas as muletas que você empilhou lá se encontrarão imediatamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos podem escrever para nós e obter o código fonte de todo o código escrito, junto com todos os livros da paly. </font><font style="vertical-align: inherit;">Contatos no perfil.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">achados</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em nossa opinião, processos que podem ser automatizados ainda não se cristalizaram. </font><font style="vertical-align: inherit;">Com base no que encontramos e no que nossos colegas ocidentais estão discutindo, os seguintes tópicos ainda são visíveis:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Provisionamento de dispositivos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Coleção de dados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comunicando</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Solução de problemas;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Conformidade</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se houver interesse, podemos continuar a discussão sobre um dos tópicos indicados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu também quero especular um pouco sobre automação. </font><font style="vertical-align: inherit;">O que deveria ser em nosso entendimento:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O sistema deve viver sem um homem, enquanto melhora o homem. </font><font style="vertical-align: inherit;">O sistema não deve depender da pessoa;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A operação deve ser especialista. </font><font style="vertical-align: inherit;">Não há classe de especialistas que realizam tarefas de rotina. </font><font style="vertical-align: inherit;">Existem especialistas que automatizaram toda a rotina e resolvem apenas problemas complexos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rotina \ tarefas padrão são feitas automaticamente "por botão", os recursos não são desperdiçados. </font><font style="vertical-align: inherit;">O resultado de tais tarefas é sempre previsível e compreensível.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E o que esses pontos devem levar a:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transparência da infraestrutura de TI (menos riscos de operação, modernização, implementação. Menos tempo de inatividade por ano);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A capacidade de planejar recursos de TI (sistema de planejamento de capacidade - você pode ver quanto é consumido, pode ver quantos recursos são necessários em um único sistema, e não por cartas e visitas aos principais departamentos);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Capacidade de reduzir o número de funcionários de TI.</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autores do artigo: Alexander Manov (CCIE RS, CCIE SP) e Pavel Kirillov. </font><font style="vertical-align: inherit;">Estamos interessados ​​em discutir e propor soluções sobre o tópico de automação da infraestrutura de TI.</font></font><br>
</i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt496136/index.html">Usando a biblioteca ColorPicker no Android para implementar a seleção de cores flexível</a></li>
<li><a href="../pt496138/index.html">Participe da programação musical - idiomas que ajudarão a fazer isso</a></li>
<li><a href="../pt496144/index.html">Os frutos do isolamento: Mapa interativo COVID-19 com gráficos históricos e restrições de migração</a></li>
<li><a href="../pt496146/index.html">Lua no STM32</a></li>
<li><a href="../pt496148/index.html">Padrões de design estrutural no ES6 + no exemplo de Game of Thrones</a></li>
<li><a href="../pt496154/index.html">Automação de atendimento ao cliente: uma solução completa da DeepPavlov</a></li>
<li><a href="../pt496156/index.html">Como os sistemas de análise de tráfego detectam táticas de hackers por MITRE ATT & CK, parte 3</a></li>
<li><a href="../pt496160/index.html">Estudamos o mecanismo VoIP do Mediastreamer2. Parte 5</a></li>
<li><a href="../pt496162/index.html">Terraform, repositórios mono e conformidade como código</a></li>
<li><a href="../pt496164/index.html">Durante a crise, perdi meu emprego e agora tenho medo de escrever um código inteligente para não assustar as últimas vagas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>