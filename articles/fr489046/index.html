<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµ üéê üë®üèΩ‚Äç‚öñÔ∏è GAZ66 Monster Truck sans conducteur 1/16 üÜö üìè üë®‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr, bonjour! 
 
 Je veux vous raconter comment j'ai fait et cr√©√© une machine autog√©r√©e :) 
 
 Je pourrais dire tout de suite comment le faire en att...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>GAZ66 Monster Truck sans conducteur 1/16</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489046/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habr, bonjour! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux vous raconter comment j'ai fait et cr√©√© une machine autog√©r√©e :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pourrais dire tout de suite comment le faire en attachant s√®chement les circuits et les commandes bash, mais ce sera tellement ennuyeux. </font><font style="vertical-align: inherit;">Je vous propose une histoire int√©ressante (j'esp√®re) sur la fa√ßon dont je suis personnellement all√© dans cette direction et o√π je suis venu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces endroits o√π il y avait de quoi prendre des photos avec des photos. </font><font style="vertical-align: inherit;">O√π en est-il des logiciels - probablement sans photo </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sera vraiment une histoire dans un format narratif, comme je vous le dirais autour d'une tasse de caf√©. </font><font style="vertical-align: inherit;">Il ne s‚Äôagit pas de commandes bash, de scripts python, et c‚Äôest tout. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commen√ßons par des photos et des vid√©os de ce qui s'est pass√©, puis toute l'histoire sous la coupe.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/ws/eb/utwsebnltcbcoi7_0gxxrenuusq.jpeg"><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'histoire suivra ce sc√©nario.</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi je le voulais</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnement d'une machine autonome (vue de dessus)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Çge 1 - Gelendwagen du monde des enfants + Raspberry Pi Zero W + cam√©ra</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age 2 - GAZ66 + NVIDIA Jetson Nano + Camera pour RaspberryPi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 ans - Remo Hobby SMAX</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 ans - Connexion SMAX et GAZ66</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 ans - Montage de composants sur un Monster Truck</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 ans - Installer Donkey Car et ses environs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 ans - Montage des rails, voyages</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 ans - Voyager avec le joystick</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 ans - Formation aux neurones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 ans - Tout fonctionne, enfin!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et apr√®s?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©fi de bataille</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Communaut√©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'image de la carte SD de ma machine √† √©crire</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versez du caf√©, nous partons!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi je le voulais</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout a commenc√© avec le fait que j'√©tais frustr√© par le fait que dans une grande entreprise informatique en Russie, ils fabriquent des drones tr√®s cool, c'est incroyablement cool, mais je suis sans travail :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Non, eh bien, c'est vraiment trop cool - les voitures autonomes) Un excellent alliage de m√©canique et algorithmes :) La </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
frustration a continu√© jusqu'√† ce que je combine dans ma t√™te diff√©rents faits sur moi-m√™me, √† savoir:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je peux √©crire en python</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je comprends (approximativement) le fonctionnement de l'apprentissage automatique</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je sais comment travailler avec Linux sur la console</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai pass√© mon enfance avec un fer √† souder</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai une bo√Æte enti√®re avec des composants DIY (Raspberry Pi, Arduino, capteurs, etc.)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quand tout a fonctionn√© dans ma t√™te, j'ai d√©cid√© - que la voiture autonome (sdc) soit! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, j'ai d√©cid√© qu'il valait la peine de comprendre comment fonctionne sdc, et ce sera la prochaine section.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnement d'une machine autonome (vue de dessus)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que la voiture marche seule, elle a besoin de quatre composants - un chariot, des capteurs, un ordinateur, un algorithme.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voyons √ßa</font></font></h4><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chariot</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Qu'est-ce qui conduira r√©ellement. Roues, moteurs, la batterie qui fait tout fonctionner. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a deux cohortes conditionnelles de voitures que j'ai nomm√©es pour moi - des voitures du monde des enfants et des voitures pour un passe-temps. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N'essayez m√™me pas de flirter avec les voitures du monde des enfants, j'ai essay√©, c'est un √©chec. Leur inconv√©nient est qu'ils ont des moteurs faibles sans r√©troaction. Cela signifie que vous pourrez probablement arr√™ter n'importe quel tapis de maison et que vous ne pourrez pas tourner avec la pr√©cision indiqu√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les voitures du monde des loisirs sont ce dont vous avez besoin. Ils ont des moteurs puissants, de bonnes batteries, des servos avant pour les virages. Consid√©rez cela comme un seuil d'entr√©e. La chose la moins ch√®re et normale que j'ai pu trouver √©tait Remo Hobby SMAX. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteurs</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il recueille des informations sur le monde qui l'entoure et les transf√®re sur un ordinateur pour la prise de d√©cision. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fondamentalement, un ensemble gentleman pour la DDC est:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cam√©ra. </font><font style="vertical-align: inherit;">Les fondements des bases de la DDC. </font><font style="vertical-align: inherit;">Il regarde un espace devant lui, transf√®re l'image vers un ordinateur qui reconna√Æt ce qui se passe et d√©cide quoi faire. </font><font style="vertical-align: inherit;">Il semble que je n'ai pas vu d'impl√©mentations SDC sans cam√©ra.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteur IMU. </font><font style="vertical-align: inherit;">Une pi√®ce montrant l'acc√©l√©ration et l'angle d'inclinaison le long des axes. </font><font style="vertical-align: inherit;">Cela aide √† comprendre o√π nous allons r√©ellement et comment notre emplacement a chang√© par rapport au point de d√©part. </font><font style="vertical-align: inherit;">Utilis√© dans presque tous les h√©licopt√®res.</font></font></li>
<li>.      ,     ,    ,      .   ,    SDC,   ,     .  ,     75$,      SDC  Velodyne    4K$.      ,     3D ,          2D.</li>
<li>GPS.     ,         ,     ,     SDC  .</li>
<li> .        ‚Äî    ,    .   3D   .</li>
</ul><br>
<img src="https://habrastorage.org/webt/iy/93/sd/iy93sdbvfijudiwjfaepopyxkkc.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ordinateur</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ce qui re√ßoit les valeurs des capteurs analyse la situation, nous transf√©rons les commandes de contr√¥le au chariot. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le monde des ordinateurs pour l'√©lectronique embarqu√©e, les processeurs ARM √©conomes en √©nergie (comme dans votre t√©l√©phone) et les ordinateurs √† carte unique bas√©s sur eux, gouvernent la balle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aujourd'hui, il existe deux des options de carte unique les plus populaires - RaspberryPi et NVIDIA Jetson. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RaspberryPi a un prix inf√©rieur, une grande vari√©t√© de projets, une grande communaut√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NVIDIA a un prix plus √©lev√©, moins de projets, mais plus de productivit√© dans les t√¢ches d'apprentissage automatique. Il dispose de 128 c≈ìurs CUDA (comme dans votre grande carte graphique NVIDIA), qui sont utilis√©s pour acc√©l√©rer les algorithmes d'apprentissage automatique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a trois morceaux de Raspberry Pi (ZeroW, 3, 4) et NVIDIA Jetson Nano dans ma collection. J'ai d√©cid√© d'assembler la machine, bien s√ªr, sur Jetson. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algorithme</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
qui d√©cide des actions bas√©es sur les lectures du capteur. Habituellement, une combinaison de vision par ordinateur et de r√©seaux de neurones est utilis√©e pour cela. Dans la version la plus basique, vous conduisez vous-m√™me sur votre machine √† √©crire le long de certains marquages, enregistrez des vid√©os de ces trajets avec suivi de gaz / frein / virage, puis entra√Ænez-vous sur ce r√©seau de neurones pour qu'il vous trouve la d√©pendance des signaux du moteur sur les images de la cam√©ra. C'est tout simplement la t√¢che de reconna√Ætre le balisage et d'essayer d'y rester. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez rafra√Æchir le fonctionnement du r√©seau de neurones, je vous sugg√®re de regarder cette vid√©o:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RJCIYBAAiEI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, j'ai d√©crit l'option la plus simple, o√π il n'y a qu'un appareil photo et un trajet de marquage. </font><font style="vertical-align: inherit;">Mais il existe des options avec plus de capteurs et une logique de travail diff√©rente - il y aura un article s√©par√© √† ce sujet ici. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le niveau est tr√®s √©lev√©, alors c'est tout. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il ne reste que:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assembler le chariot</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">accrocher les capteurs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">connecter un ordinateur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dessiner le balisage</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">monter dessus</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour former un r√©seau de neurones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aller</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous avons compris ce qu'est une voiture autonome, passons √† l'√®re de la mise en ≈ìuvre que j'avais sp√©cifiquement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Çge 1 - Gelendwagen du monde des enfants + Raspberry Pi Zero W + cam√©ra</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, ma toute premi√®re approche √©tait juste cela. C'est arriv√© parce qu'il y avait un monde d'enfants pr√®s de chez moi dans lequel j'allais, dans lequel j'aimais Gelik, et je l'ai achet√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bon, je pensais, il y a une h√©lice, maintenant j'ai besoin d'un ordinateur et d'un capteur. Pens√©e - fait. Command√© un RPi Zero W et une cam√©ra pour elle. Pendant que j'attendais l'ordinateur et l'appareil photo, je suis entr√© et j'ai achet√© une banque d'alimentation pour cette entreprise. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, tout est en place, il est temps de collecter. J'ai trouv√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un tel projet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , j'ai d√©cid√© de le suivre. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gelik a d√©mont√©, retir√© ses cerveaux natifs, les a transf√©r√©s au contr√¥leur du moteur, √† son tour, les a transf√©r√©s √† RPi, y a connect√© une cam√©ra, a aliment√© le tout avec une banque d'alimentation et a √©t√© satisfait.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de passer √† l'autonomie gouvernementale, j'ai d√©cid√© de traverser la console pour le plaisir, pourchassant un chat, diffusant l'image de la cam√©ra sur mon ordinateur portable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est alors que quelques √©checs m'attendaient. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, le Raspberry Pi Zero W est tr√®s faible en termes de performances. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deuxi√®me - La viabilit√© du gelik du monde des enfants est presque nulle, il a √©t√© arr√™t√© par presque n'importe quel obstacle minimal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©j√†, il est devenu clair que le projet √©tait mort-n√©, mais pour des raisons d'int√©r√™t, j'ai essay√© d'assembler la vision par ordinateur (OpenCV) pour Raspberry Pi Zero directement dessus. </font><font style="vertical-align: inherit;">Cela a pris, sans blagues, plus d'une journ√©e, et a √©t√© le dernier clou dans le couvercle du cercueil de cette mise en ≈ìuvre de la DDC. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est devenu clair que vous devez changer √† la fois l'ordinateur pour de meilleures performances et le chariot pour une plus grande capacit√© de ski de fond.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela s'est av√©r√© assez dr√¥le:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/bt/dg/vlbtdgde7-nhfcsowsypz6nrcay.jpeg"><br>
<br>
<h3> 2 ‚Äî 66 + NVIDIA Jetson Nano +   RaspberryPi</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, √† ce stade, il est devenu clair que vous avez besoin d'une voiture plus passable, et de pr√©f√©rence d'un camion, pour mettre tous les composants dans la carrosserie. Apr√®s avoir √©tudi√© un service pour la s√©lection des produits, il est devenu clair que le mod√®le de notre GAZ66 natif me convient, c'est aussi un shishiga parmi les gens. D'accord, je l'ai command√©, attendez, il est temps de penser √† l'ordinateur. √Ä ce moment-l√†, NVIDIA √©tait en train de pr√©parer le d√©but des ventes de son Jetson Nano, et j'ai pass√© une commande le premier jour de vente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un camion est arriv√©, j'ai continu√© d'attendre Jetson, j'ai roul√© avec impatience un shishiga autour de la maison, roul√© les chatons que le chat mentionn√© ci-dessus a mis au monde. Pour ne pas dire que les chatons ont aim√© - ont d√ª s'arr√™ter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant ce temps, Jetson conduisait toujours et j'ai command√© un lidar sous vide en provenance de Chine - je ne savais pas comment l'utiliser sp√©cifiquement, mais j'ai compris que je le voulais.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un jour, un coursier d'affaires est apparu √† l'entr√©e du bureau, m'a remis une assez grande bo√Æte de NVIDIA √† paiement unique, j'ai sign√© sur la facture et je me sentais comme un d√©veloppeur passionn√© - wow, l'appareil achet√© au d√©but des ventes m'est venu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est temps de collecter! Mais d'abord, vous devez comprendre, lol. D√©mont√© le shishigu, jet√© son cerveau natal, lubrifi√© les m√©canismes, commenc√© √† se r√©unir d√©j√† sur la base d'un ordinateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai connect√© la cam√©ra, le contr√¥leur de moteur, le moteur rotatif, le moteur √† essence / frein, j'ai commenc√© les scripts Python pour le test - encore une fois! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette fois, l'histoire est la suivante: un shishigi utilise un moteur conventionnel pour tourner, pas un servomoteur. Donc, il n'a aucune r√©troaction. Donc, je ne peux pas les contr√¥ler √† coup s√ªr, ce qui signifie qu'il ne convient pas √† SDC.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, encore une fois, vous devez r√©soudre ce probl√®me, faire quelque chose. </font><font style="vertical-align: inherit;">Nous passons √† l'√®re suivante.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/86/uv/ib86uv8xom4zf9yxa44-r6ikopi.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 ans - Remo Hobby SMAX</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisqu'√† ce moment-l√†, il √©tait clair que la machine avait besoin non seulement de passable, mais aussi d'une qualit√© minimale en composants, le choix s'est port√© sur les magasins pour ceux qui ont une RC, c'est un passe-temps. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sans plus tarder, je suis arriv√© dans un de ces magasins, et sans me cacher, il m'a dit ce que je faisais et quel type de machine j'avais besoin. </font><font style="vertical-align: inherit;">Le vendeur, soyez gentil, m'a dit quelle machine correspond √† mes exigences minimales, et c'√©tait un Remo Hobby SMAX. </font><font style="vertical-align: inherit;">Je l'ai achet√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis rentr√© √† la maison, j'ai eu un shishigu, j'ai tout retir√©, je me suis assis pour me connecter au SMAX. </font><font style="vertical-align: inherit;">Et qu'en penses-tu? </font><font style="vertical-align: inherit;">C'est vrai - l'√©chec encore!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fondamentalement, les voitures RC sont con√ßues pour que le moteur se connecte au contr√¥leur du moteur et que, √† son tour, se connecte au module radio qui communique avec la t√©l√©commande. Et c'est SMAX qui a √©t√© con√ßu pour que le contr√¥leur de moteur et le module radio soient combin√©s - je n'ai litt√©ralement pas eu l'occasion de me connecter au contr√¥leur de moteur au lieu du module radio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, vous devez refaire quelque chose. Je reviens sur le site des voitures RC, je monte dans les composants. En fouillant l√†-bas, et applaudissements, je trouve un contr√¥leur de moteur qui a un fil s√©par√© pour le module radio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je commande, apporte, ramasse tout √† nouveau - √ßa marche, mais √ßa tourne seulement. Mais il n'y a pas de gaz et inversez! Eh bien, bon sang, je pense, mais je continue de le choisir.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette fois, cela n'a pas fonctionn√© pour que le moteur SMAX se r√©veille, la console doit lui envoyer une certaine valeur (360) via le module radio. Mais je ne le savais pas et j'ai entr√© les valeurs directement pour le gaz de frein. Et le moteur n'a pas r√©agi, partant de la logique que personne ne lui a demand√© de se r√©veiller. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä un moment donn√©, je me suis assis pour trier litt√©ralement tout dans une rang√©e, m'attendant √† ce qu'il r√©agisse √† au moins quelque chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©but, j'ai d√©pass√© les 100 ans. Puis 50 par. Et quand j'ai atteint la recherche de 10, j'ai entendu un cri de bienvenue en 360 - cheers! Travaux! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai test√© gaz / marche arri√®re / gauche / droite depuis la console, tout fonctionne. C'est du feu, ici je suis programmeur =)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semble qu'il est temps de monter, mais il y a un probl√®me - il n'y a absolument nulle part o√π mettre les composants. </font><font style="vertical-align: inherit;">Les voitures RC sont con√ßues pour que leur toit soit une chose tr√®s conditionnelle. </font><font style="vertical-align: inherit;">Premi√®rement, le haut est en plastique tr√®s fin, et deuxi√®mement, c'est une jeep, et il n'y a nulle part o√π mettre tout. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä ce moment, j'ai d√©cid√© de chercher, et comment, en fait, d'autres le font. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai trouv√© le projet de voiture d'√¢ne, qui a tout sur une base cl√© en main pour assembler votre SDC - √† la fois des exemples de mat√©riel et un cadre logiciel. </font><font style="vertical-align: inherit;">Cela semblerait cool, prenez-le et utilisez-le, mais il y a des nuances:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ils impriment le haut de la voiture sur une imprimante 3D, puis cela rappelle la voiture tr√®s loin. </font><font style="vertical-align: inherit;">moche, bref, pas esth√©tique</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leurs mod√®les 3D sont compatibles avec les machines que nous ne vendons pas.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, souvenez-vous de Donkey Car, alors nous prendrons leur framework logiciel, mais pour l'instant nous devons penser au mat√©riel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un jour, tournant la t√™te dans mon appartement, j'ai regard√© le shishigu d√©mont√©, au SMAX sans le haut, et j'ai pens√© - hmmm, et ils semblent √™tre de la m√™me √©chelle (1/16). </font><font style="vertical-align: inherit;">Il a pris un shishiga, a pris un SMAX, a juste mis un par un sur l'autre - et vraiment, √ßa le fait! </font><font style="vertical-align: inherit;">Et √ßa a l'air cool! </font><font style="vertical-align: inherit;">OK, je dois le faire! </font><font style="vertical-align: inherit;">Nous passons √† l'√®re suivante.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5u/_9/xz/5u_9xz8-xext5xxw1gl_u61f_au.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zp/f1/8v/zpf18v4bqoormzdbaqlvh5wg0ks.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 ans - Connexion SMAX et GAZ66</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, au d√©but de cette √®re, j'ai un objectif interne - connecter le haut d'une machine au bas d'une autre. √âtant donn√© que mes coll√®gues et moi avons pris une puce dans une imprimante 3D et que je suis son copropri√©taire (un investisseur s√©rieux), il a √©t√© d√©cid√© d'√©tablir une connexion dans un programme de CAO, d'imprimer et donc de les connecter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec cette id√©e, j'ai march√© pendant environ 2 mois, pensant que j'√©tais sur le point de m'asseoir pour comprendre les syst√®mes de CAO. Lol, non. Ayant admis que je ne voulais pas comprendre les syst√®mes de CAO, j'ai commenc√© √† penser √† d'autres options. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis retourn√© dans le monde des enfants, j'ai d√©cid√© de voir les cr√©ateurs, soudain ils m'ont aid√©. J'ai achet√© un constructeur de m√©tal classique, qui √©tait avec moi quand j'√©tais √† l'√©cole (vieille √©cole de fr√™ne r√©unie).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il l'a ramen√© chez lui, a mis deux pi√®ces de la machine c√¥te √† c√¥te et a commenc√© √† leur appliquer toutes sortes d'√©l√©ments de conception. </font><font style="vertical-align: inherit;">Combien de temps, bri√®vement, une sorte de compr√©hension a commenc√© √† appara√Ætre, comment, au moins en th√©orie, cela pourrait √™tre fait. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commenc√© √† faire. </font><font style="vertical-align: inherit;">J'ai pass√© plus d'une journ√©e avec une cl√© pour b√©b√©, des noix et une r√©flexion spatiale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant que je me connectais, j'ai appris √† percer le plastique avec un tournevis, √† d√©chirer soigneusement les pi√®ces en exc√®s afin de ne pas endommager le bo√Ætier, √† bloquer les √©crous avec d'autres √©crous (mais sans rondelles de toute fa√ßon). </font><font style="vertical-align: inherit;">En g√©n√©ral, mon Trudovik serait fier de moi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s environ trois modifications et trois jours, j'ai vu ce monstre camion devant moi - le GAZ66 SMAX Edition de Beslan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semble donc que la base mat√©rielle soit pr√™te, passez √† l'√®re suivante.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ae/1e/uy/ae1euyqkwmcpa8g1kkfetnfafg0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/3v/ve/_u/3vve_ujwex5gar6kpbo5zynlddc.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 ans - Montage de composants sur un Monster Truck</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai un chariot avec de bons composants</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai une tige esth√©tique et spacieuse</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gaz / frein / tours fonctionnent normalement sur ce chariot</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le haut et le bas sont m√™me connect√©s ensemble =)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est temps de monter des composants sur cette beaut√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arm√© d'un tournevis comme perceuse pour le plastique et d'un ruban adh√©sif double face comme support universel pour tout, je me suis mis au travail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai fait un support pour la cam√©ra sur la cabine, ce qui vous permet de r√©gler l'angle de la cam√©ra. </font><font style="vertical-align: inherit;">Jet√© un long train de la cam√©ra √† Jetson, qui, √† son tour, s'est install√© dans le dos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus de Jetson, les personnes suivantes se sont install√©es √† l'arri√®re:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powerbank pour alimenter l'ordinateur (a fait don de son alimentation principale, cool, avec une alimentation USB pour que jetson ne tombe pas en panne)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PCA9685 (contr√¥leur PWM) pour la commande du moteur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">batterie pour alimenter le moteur de la machine</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que le projet √©tait d√©j√† consid√©r√© comme √©tant √† long terme √† ce moment-l√†, j'ai d√©cid√© de ne pas encore jouer avec le lidar et de faire MVP au moins sur la cam√©ra et le logiciel de Donkey Car. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le plaisir, j'ai connect√© mes phares natifs de GAZ66 pour le rendre plus beau et plus confiant dans l'obscurit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, ma machine s'allume, les moteurs r√©pondent aux commandes du python, la cam√©ra donne une image, les lumi√®res sont allum√©es, tout va bien, il est temps d'installer le logiciel.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/6l/hn/vi6lhndoodzafm9jsbdkp36thkc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qj/bo/wz/qjbowztgjt1jocusuhducwkpxme.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 ans - Installer Donkey Car et ses environs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heureusement, dans les derni√®res √©tapes, j'ai trouv√© le projet Donkey Car, et cela m'a beaucoup simplifi√© la vie, m'√©vitant d'√©crire tout moi-m√™me. </font><font style="vertical-align: inherit;">Autrement dit, DonkeyCar est un framework qui a d√©j√† tout ce dont vous avez besoin pour SDC. </font><font style="vertical-align: inherit;">Et ils ont m√™me des guides sur la fa√ßon d'installer des logiciels. </font><font style="vertical-align: inherit;">Mais, comme c'est g√©n√©ralement le cas avec OpenSource, les guides sont obsol√®tes et se contredisent par moments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, je dois le comprendre. </font><font style="vertical-align: inherit;">Pour le fonctionnement normal du framework, les biblioth√®ques suivantes sont n√©cessaires:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opencv</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tensorflow-gpu (gpu est pour jetson, car il y a un noyau cuda. ‚Äã‚Äãpour rpi il y a tensorflow-lite)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tensorrt (biblioth√®que pour acc√©l√©rer l'inf√©rence des neurones)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et tout ce qui est d√©fini automatiquement en fonction de la liste des environnements</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commen√ßons par OpenCV. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le guide DonkeyCar dit que vous devez le construire √† partir de la source elle-m√™me, car pour ARM il n'y a pas d'OpenCV dans pip. J'ai m√™me fait cela, compil√© OpenCV, mais avant de l'installer, j'ai d√©cid√© de v√©rifier, tout √† coup, le syst√®me a une ancienne version d'OpenCV, et elle doit √™tre d√©molie. J'ai appel√© un python, import√© cv2, demand√© une version, mais c'est bam et pertinent. Rapidement recherch√© et d√©couvert que dans les derni√®res versions de linux4tegra (qui est en jetson), les gars de NVIDIA ont commenc√© √† installer OpenCV. Cool, j'ai moins √† faire. Bravo, que j'ai pu compiler moi-m√™me :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, tensorflow-gpu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le guide DonkeyCar indique, d'une part, une branche de version obsol√®te (1.xx), et d'autre part, m√™me pas la derni√®re version des versions obsol√®tes. J'ai d√©cid√© de ne pas les √©couter et de mettre la derni√®re version actuelle (2.0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La prochaine √©tape est la tension.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le guide d'installation de tensrort sur jetson est √©crit dans une page wiki s√©par√©e, et il ressort clairement que l'auteur n'a pas lu le guide principal =) Parce que dans le guide tensorrt, les variables d'environnement sont r√©affect√©es et OpenCV cesse de fonctionner. Je l'ai tordu de cette fa√ßon et cela, j'ai tout annul√© et j'ai d√©cid√© de marteler l'environnement et les variables d'environnement - de les rouler directement dans l'environnement principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Satisfait de lui-m√™me, il ouvrit le python, √† son tour appel√© cv2, tensorflow, tensorrt, puis demanda au python leur version - ils √©taient tous import√©s, montraient tous les derni√®res versions. Cool! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le processus d'installation de la voiture d'√¢ne elle-m√™me est assez simple, je ne le d√©crirai pas, je sugg√®re de lire leur guide. La seule chose que je note maintenant est que dans la configuration de l'√¢ne, vous pouvez augmenter la r√©solution de l'image de 86x86 pour RPi √† 224x224 pour Jetson (car il y aura plus de performances et de pr√©cision sera plus √©lev√©e).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, tout est pr√™t, il est temps de courir et de tester! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ma machine s'allume vraiment, elle d√©marre le serveur Web sur cette IP, √† laquelle le routeur a √©mis la machine. </font><font style="vertical-align: inherit;">Et vous pouvez vraiment y aller, et √† partir du navigateur, pilotez le joystick, en regardant l'image de l'appareil photo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai √©galement d√ª calibrer les valeurs fournies au PWM (PCA9685) pour trouver un virage maximal vers l'avant, vers l'arri√®re et vers les c√¥t√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, en passant, j'ai d√©couvert que mon moteur n'√©tait pas connect√© correctement - la machine a recul√© beaucoup plus √©nergiquement qu'avant - j'ai exp√©rimentalement trouv√© les fils, les ai jet√©s dans l'autre sens. </font><font style="vertical-align: inherit;">Il √©tait dispos√© de fa√ßon √† ce que tous les fils du moteur soient de la m√™me couleur, et vous ne vous souvenez plus comment c'√©tait. </font><font style="vertical-align: inherit;">Mais je l'ai connect√© correctement, et j'ai mis un thermor√©tractable sur chaque fil, afin de pouvoir les distinguer plus tard.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cool, il est temps de passer √† la pr√©paration de la piste!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 ans - Montage des rails, voyages</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme Donkey Car est con√ßu de telle sorte qu'il existe un neurone form√© par un enseignant. </font><font style="vertical-align: inherit;">Et cela signifie que l'image de la cam√©ra suit, et un fichier json appara√Æt √† c√¥t√© de chaque image dans laquelle le nom de l'image, l'acc√©l√©ration, la rotation, l'horodatage est √©crit. </font><font style="vertical-align: inherit;">Et pour former un neurone, ces paires image + json ont besoin d'au moins 5K. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a √©t√© d√©cid√© d'assembler la piste √† la maison, ils disent que l'appartement est grand, il y a o√π se retourner. </font><font style="vertical-align: inherit;">Mais en commen√ßant √† se rassembler, il est devenu clair qu'il n'y avait pas de tour dans l'appartement - le sol est de diff√©rentes couleurs, le contraste sera diff√©rent et le mod√®le ne peut pas sortir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, j'ai d√©cid√© de le mettre dans une pi√®ce. </font><font style="vertical-align: inherit;">J'ai achet√© 4 rouleaux de ruban adh√©sif et je les ai coll√©s √† la piste au sol.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai mis la voiture, l'ai d√©marr√©e, je suis partie et j'ai encore √©chou√© - il s'av√®re qu'une pi√®ce est trop petite et ma voiture est ringarde et n'est pas incluse dans les virages. Plus pr√©cis√©ment, c'est inclus, mais √† une vitesse telle que ce sera dommage alors =) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, nous devons faire la deuxi√®me it√©ration, et nous avons besoin d'une grande pi√®ce. Le choix s'est port√© sur le bureau - il y a beaucoup d'endroits, les sols sont monophoniques, ouverts 24h / 24 et 7j / 7. Le seul probl√®me est que les nettoyeurs fonctionnent la nuit, et la piste devra √™tre enlev√©e. Autrement dit, vous devez tout faire en une seule fois - rouler avec vos mains pour √™tre enseignant, former le mod√®le, le remettre dans la machine √† √©crire et aller d√©j√† sans commande manuelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, le jour X, apr√®s l'√©v√©nement sur les exp√©riences A / B, il a √©t√© d√©cid√© de rester au bureau et de faire la piste. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'endroit est choisi, la bande est pr√™te, l'√©quipe de constructeurs de la piste dans le jeu. Juste une heure, et dans le couloir du bureau, il y a une excellente piste.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai mis la voiture dedans, je l'ai allum√©e, j'ai essay√© de rouler - hourra, elle entre dans les virages et j'ai d√ª limiter la vitesse √† seulement 80%.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/px/be/7t/pxbe7tj2qrtw7o0yekqk4lneiue.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 ans - Voyager avec le joystick</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, j'ai une piste, j'ai une voiture et j'ai besoin de 5K paires photo + json. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empiriquement, j'ai d√©couvert qu'un tour de ma piste fait 250 paires de photo + json, ce qui signifie que je dois laisser au moins 20 tours. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De pr√©f√©rence dans une rang√©e. Vous pouvez, bien s√ªr, de fa√ßon intermittente, mais le gaz projet√© est alors secou√© par le mod√®le, et il peut commencer √† ralentir, mais je ne veux pas cela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai commenc√© √† essayer de faire 20 tours sans interruption, et cela, je dois le dire, n'est pas une t√¢che facile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re difficult√© est survenue car il y avait une colonne lourde au centre de l'itin√©raire, et lorsque la machine roulait apr√®s, la connexion avec l'ordinateur portable √† partir duquel elle √©tait contr√¥l√©e est devenue retard√©e, et ce petit d√©calage m'a fait sortir des limites de l'itin√©raire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, vous devez donc vous assurer que la connexion se fait √† partir de l'appareil avec lequel je vais moi-m√™me √† la machine √† √©crire lorsque je conduis. Et cela signifie que vous devez conduire √† partir du navigateur du t√©l√©phone. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il y a toujours un joystick, et je le tiens √† deux mains, o√π puis-je obtenir le t√©l√©phone? Porter une machine √† √©crire n'est pas une option, cela le ralentira, puis, sans t√©l√©phone, cela ira plus vite et peut se confondre dans les coins en raison d'une acc√©l√©ration excessive. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hmm, alors vous devez en quelque sorte combiner le t√©l√©phone et le joystick. D'accord, j'ai un lecteur, il est assez grand, il s'adaptera √† la fois √† un t√©l√©phone et √† un joystick - √ßa ira. Il a pris la cassette et a coll√© le t√©l√©phone au lecteur avec de la cassette et juste en dessous du joystick. J'ai regard√© ce miracle et j'ai pens√© - qu'√™tes-vous, en g√©n√©ral? :-)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais √ßa a march√© :) Avec cette chose, j'ai r√©ussi √† laisser 20 tours. </font><font style="vertical-align: inherit;">Mais en fait, m√™me 25, parce que j'ai go√ªt√© quelque part autour de 15 cercles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teckel, pr√™t, j'ai un jeu de donn√©es pour entra√Æner un neurone, il est temps de m'entra√Æner!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 ans - Formation aux neurones</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ce moment, j'ai une voiture, une piste, un jeu de donn√©es - oui, je suis √† un pas du r√©sultat! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä la maison, le PC tournait au ralenti, avec le NVIDIA RTX 2070, sur lequel j'avais l'intention d'√©tudier. Heureusement, pour une maison intelligente, j'ai une adresse IP externe et je n'ai eu qu'√† obtenir le port 22 d'Internet vers un PC. C'est bien qu'il y ait des assistants qui ont fait √ßa pour moi pendant que j'√©tais au bureau. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, je vais sur ssh sur l'ordinateur avec ubuntu, surveille le dossier d'accueil pour sshfs, t√©l√©charge des fichiers. Il semblerait que seulement 40 m√©gaoctets, mais cela a dur√© environ 30 minutes. C'est arriv√©, si je comprends bien, parce qu'il y en avait beaucoup. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fichiers sur votre ordinateur, tensorflow-gpu install√©, logiciel DonkeyCar install√©, il est temps de vous entra√Æner. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'appelle un script de DonkeyCar pour entra√Æner un neurone, je le pointe vers les dossiers avec le jeu de donn√©es - il a fonctionn√©.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant que le neurone fonctionne, nvtop (moniteur de chargement de carte vid√©o) affiche une utilisation de 1406%, htop normal affiche une charge de 100% cpu pour les 16 c≈ìurs, √ßa va). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s environ 20 minutes, j'ai un mod√®le form√© pour conduire une voiture. </font><font style="vertical-align: inherit;">Il semblerait, prenez-le, utilisez-le. </font><font style="vertical-align: inherit;">Mais non :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rappelez-vous, j'ai √©crit ci-dessus √† propos de tensorrt, qui optimise l'inf√©rence des neurones et les ex√©cute sur des noyaux de cuda? </font><font style="vertical-align: inherit;">Bien s√ªr, je veux le parcourir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et cela signifie ce dont j'ai besoin:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">figer le mod√®le (vous devez tout emballer pour le mod√®le dans un fichier)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">convertir le r√©sultat de la frise au format tensorrt</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'essaie de figer le mod√®le, j'appelle le script depuis DonkeyCar, √©chec. En attendant, c'est jusqu'√† la nuit, bient√¥t les nettoyeurs d√©montent ma piste, je dois vite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'hypoth√®se est n√©e que c'est parce que j'ai pris le mauvais tensorflow que DonkeyCar avait. D'accord, je tire tensorflow 2.0, je fixe 1.15, j'essaie √† nouveau - succ√®s, bravo! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, la conversion, et encore la panne - l'√©quipe n'a pas √©t√© trouv√©e. D'accord, je vais chercher quel est le probl√®me. Il s'est av√©r√© que NVIDIA a marqu√© cette fonctionnalit√© comme obsol√®te et a supprim√© le support. Maintenant, disent-ils, vous devez vous convertir √† la main. Heureusement, j'ai trouv√© le d√©p√¥t git, o√π il y avait une demande similaire, et l'utilisateur a trouv√© l'endroit o√π se trouve r√©ellement le script python, qui convertit les mod√®les. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'appelle le script de cet endroit, et la v√©rit√© r√©pond. Mais, dit-il, pas de troisi√®me python pour vous, venez en deuxi√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, j'appelle le deuxi√®me python. Il me dit - je n'ai pas de tensorflow. Eh bien, je lui demande de mettre tensorflow-gpu 1.15, et il me dit qu'il n'y a pas une telle version, il n'y en a que 1.14. D'accord, je suis d'accord, prenons une chance et mettons les diff√©rentes versions dans diff√©rents environnements python. Mettez tensorflow dans le second python, appel√© √† la conversion - cheers, √ßa a march√©! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, j'ai des mod√®les pour tensorrt et pour tensorflow-gpu ordinaire, je le laisse tomber dans la machine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je d√©marre la machine avec le mod√®le pour tensorrt, un √©norme trackback d'erreur, le temps presse - ok, je vais essayer le mod√®le habituel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je recommence l'erreur habituelle, mais cette fois, c'est assez clair - la taille de votre image est 224X224, alors que 86X86 est attendue. Rappelez-vous, quelque part beaucoup plus haut, j'ai √©crit que les r√®gles de configuration ont chang√© la r√©solution d'image de la cam√©ra?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, sur la machine √† √©crire, j'ai corrig√©, mais pas sur l'ordinateur h√¥te. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je reviens √† l'ordinateur h√¥te, corrige les configs l√†-bas, me r√©entra√Æne, refais la frise, reconvertis, rejette. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ga/wn/uw/gawnuwyx7iobukme4h_zrqkgcvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je d√©marre la machine avec un mod√®le pour tensorrt, et ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 ans - Tout fonctionne, enfin!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hourra! </font><font style="vertical-align: inherit;">Ma voiture est partie! </font><font style="vertical-align: inherit;">Lui-m√™me, sans moi. </font><font style="vertical-align: inherit;">Tr√®s cool. </font><font style="vertical-align: inherit;">Je suis incroyablement heureux)</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant presque un an, j'ai fait tout √ßa, et maintenant)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et apr√®s?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a un certain nombre de projets de d√©veloppement, je vais passer du simple au complexe.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez un capteur IMU au mod√®le pour augmenter √©ventuellement la pr√©cision. </font><font style="vertical-align: inherit;">Par exemple, lors de la mont√©e, plus d'efforts sont n√©cessaires sur le moteur.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transformez la logique en d√©placements non pas sur l'autoroute, mais contournez simplement les obstacles</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter du lidar et en prendre des lectures</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©fi de bataille</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous-m√™me ou avec une compagnie d'amis vous sentez que vous voulez courir, alors √©crivez-moi, organisons des comp√©titions =)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Communaut√©</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai √©galement mis en place une salle de chat d'int√©r√™t et je pr√©pare une cha√Æne. </font><font style="vertical-align: inherit;">Je ne suis pas s√ªr que, selon les r√®gles de Habr, c'est possible, donc j'enverrai au PM sur demande.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'image de la carte SD de ma machine √† √©crire</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur demande √©galement, je vous enverrai une image img de ma voiture, si vous voulez le faire sur une base similaire, et ne voulez pas vous baigner avec le r√©glage.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr489034/index.html">La nouvelle application mobile de l'ISU pour le salut ou le salut pour ceux qui cherchent des march√©s publics?</a></li>
<li><a href="../fr489038/index.html">Le livre "Java Concurrency in Practice"</a></li>
<li><a href="../fr489040/index.html">Contact Center AI: un tiers dans une conversation est tr√®s bien</a></li>
<li><a href="../fr489042/index.html">Grande r√©ouverture de la boutique: chargement de donn√©es dans Android √† l'aide de coroutine</a></li>
<li><a href="../fr489044/index.html">Physique du texte. Partie 1. Symboles</a></li>
<li><a href="../fr489048/index.html">La journalisation et le suivi des requ√™tes sont les meilleures pratiques. Rapport Yandex</a></li>
<li><a href="../fr489050/index.html">Windows vs Sysmon</a></li>
<li><a href="../fr489058/index.html">Ensembles de r√©seaux de neurones avec PyTorch et Sklearn</a></li>
<li><a href="../fr489060/index.html">Analyse: quelle est la diff√©rence entre les investissements √† haut risque et les investissements √† faible risque</a></li>
<li><a href="../fr489062/index.html">Incroyable performances parall√®les d'E / S Apache Parquet en Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>