<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öΩÔ∏è ‚úíÔ∏è üíö Erstellen eines dunklen Themas f√ºr den Stapel√ºberlauf üë∞üèæ üê¥ üßë‚Äçü§ù‚Äçüßë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Am 30. M√§rz 2020 gaben Stack Overflow-Entwickler Website-Besuchern die M√∂glichkeit, eine Beta-Version des dunklen Themas zu verwenden. Das Material, d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Erstellen eines dunklen Themas f√ºr den Stapel√ºberlauf</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495998/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Am 30. M√§rz 2020 gaben Stack Overflow-Entwickler Website-Besuchern die M√∂glichkeit, eine Beta-Version des dunklen Themas zu verwenden. </font><font style="vertical-align: inherit;">Das Material, dessen √úbersetzung wir ver√∂ffentlichen, ist der Geschichte gewidmet, wie das dunkle Thema von Stack Overflow erstellt wurde.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/9d2/662/61f9d2662c30a95f29c885ac6c3180ee.png"></div></a><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Banner on Stack Overflow, mit dem Sie ein dunkles Thema</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
einf√ºgen k√∂nnen. Mein Name ist Aaron Sheki. Ich bin der Designleiter bei Stack Overflow. Ich beteilige mich an der Gestaltung der Schnittstellenkomponenten, die den neuen Funktionen des Projekts zugrunde liegen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zun√§chst ein wenig Ironie. Pers√∂nlich bin ich kein Fan von dunklen Interface-Themen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich sehe oft, dass der Kontrast von dunklen Schnittstellen zu niedrig ist. Bei der Gestaltung solcher Schnittstellen ist es schwierig, eine vollst√§ndige Farbpalette zu verwenden. Gleiches gilt f√ºr die Simulation der Lautst√§rke mithilfe von Schatten und f√ºr die Anwendung anderer visueller Effekte. Wenn ich einen hellen Text auf einem dunklen Hintergrund lese, werden meine Augen m√ºde. Es ist schwierig, mit Ph√§nomenen wie dem gleichzeitigen Kontrast umzugehen, wenn helle Themen verwendet werden. Wenn ein dunkles Thema verwendet wird, wird alles komplizierter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber ich bin die Person, deren Bem√ºhungen ein dunkles Thema auf Stack Overflow angesprochen haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Arbeit, √ºber die ich sprechen m√∂chte, war nie speziell auf die Entwicklung eines dunklen Themas ausgerichtet, obwohl viele Benutzer lange darum gebeten haben, die Ressource mit einem solchen Thema auszustatten. </font><font style="vertical-align: inherit;">Aber im Zuge eines dunklen Themas mussten wir viele Probleme l√∂sen. </font><font style="vertical-align: inherit;">Insbesondere wurde der Front-End-Code f√ºr den Stapel√ºberlauf aktualisiert und die Zug√§nglichkeit von Inhalten verbessert. </font><font style="vertical-align: inherit;">Die Arbeit an einem dunklen Thema haben wir einen Anreiz , </font><font style="vertical-align: inherit;">unsere nutzen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Designsystem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mehr weit in das Projekt </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
K√∂nnen wir den Benutzern ein dunkles Thema geben und gleichzeitig den Weg zur Verbesserung der Zug√§nglichkeit des Projekts ebnen? </font><font style="vertical-align: inherit;">Wir haben diese Frage bejaht, nachdem wir alles getan haben, wor√ºber ich jetzt erz√§hlen werde.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Farbforschung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Erstellung der urspr√ºnglichen Farbskalen f√ºr das Projekt haben wir, wahrscheinlich ein wenig naiv, einen bestimmten Farbwert verwendet und ihn mithilfe von Transformationen ge√§ndert, die mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Less</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> implementiert wurden </font><font style="vertical-align: inherit;">. So k√∂nnten wir beispielsweise eine Less-Variable deklarieren </font></font><code>@red</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und die Farbe mithilfe des Designs mehrmals dunkler machen </font></font><code>darken(@red, 10%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Gleiches gilt f√ºr die Mehrfachfarbenkl√§rung mit </font></font><code>tint(@red, 10%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Dies kann eine Farbskala ergeben, in der die Farben im Bereich von </font></font><code>@red-050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bis </font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in Schritten von 10% liegen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als ich zum ersten Mal versuchte zu verstehen, wie die Stapel√ºberlaufressource im Dunkelmodus aussehen k√∂nnte, entschied ich mich, einfach den wei√üen Hintergrund in Schwarz zu √§ndern und die Farbskalen umzudrehen. Bei diesem Ansatz wird Farbe </font></font><code>@red-050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zu Farbe</font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Farben √§ndern sich entsprechend zwischen der Anfangs- und der Endfarbe der Skala. </font><font style="vertical-align: inherit;">Diese Farben selbst bleiben jedoch die gleichen wie zuvor.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4de/c02/321/4dec023214649262a2a743d8e32e6de0.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helle und dunkle Farbskalen f√ºr Rot.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bei diesem Ansatz hat der Kontrast der Elemente gelitten. </font><font style="vertical-align: inherit;">Es stellte sich heraus, dass das, was passierte, etwas enthielt, das mir an dunklen Themen im Allgemeinen nicht gefiel. </font><font style="vertical-align: inherit;">Wenn Sie sich beispielsweise die dunkelste Version von Rot auf dunklem Hintergrund genau ansehen, werden Sie feststellen, dass die Farbe kaum zu unterscheiden ist. </font><font style="vertical-align: inherit;">Wir werden weiter unten mehr dar√ºber sprechen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3dd/aa4/7fc/3ddaa47fcedcb5bc32c10e43d2079a7b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir m√ºssen uns definitiv etwas Besseres einfallen lassen.</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçErste Schritte: Layout-Design</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nur beim Versuch, die Farbskalen zu zeichnen, habe ich eigentlich nichts erreicht. </font><font style="vertical-align: inherit;">Dieser Schritt kann nicht als der eigentliche Beginn der Arbeit an einem dunklen Thema bezeichnet werden. </font><font style="vertical-align: inherit;">Aus diesem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grund habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich beschlossen, ein Layout zu entwickeln und Farben in </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Figma</font></a><font style="vertical-align: inherit;"> manuell auszuw√§hlen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ich habe die Farben ausgew√§hlt, wobei ich mich darauf konzentrierte, wie Stack Overflow meiner Meinung nach aussehen sollte, und nicht dar√ºber nachdachte, wie sich die neuen Farben auf vorhandene beziehen. </font><font style="vertical-align: inherit;">Die Reduzierung des Gesamtkontrasts war der Schl√ºssel zum Erhalt des Tiefeneffekts in der Benutzeroberfl√§che, zur Unterst√ºtzung der Schatten von Elementen und zur Anwendung des gesamten Farbspektrums.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f6/abf/d73/7f6abfd73f890a0c221fafada3eefa8b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die ersten Schritte mit der Gestaltung des Layouts erm√∂glichten es uns zun√§chst zu verstehen, welchen √§sthetischen Effekt wir anstreben, ohne die technischen Anforderungen f√ºr das Projekt zu ber√ºcksichtigen</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçAuswahl eines verbesserten Algorithmus f√ºr die Arbeit mit Farben</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich einen helleren Hintergrund f√ºr das dunkle Thema aufgenommen hatte, hatte ich die Gelegenheit, die Farbskalen genauer zu untersuchen. Zuerst musste ich mich mit einigen Farbproblemen des vorhandenen Designsystems befassen, die bei der Anwendung des Lichtthemas auftraten. Am hellen Ende des Spektrums sahen die roten und gelben Farben nicht so aus, wie ich es gerne h√§tte. Einige Farben hatten die hellsten Werte, zu nahe an Wei√ü. Es gab Farben, deren hellste Werte zu dunkel waren.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/554/d5f/86c/554d5f86ce75ada85b706b3604bb904b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die hellste Version von Gelb war nicht von Wei√ü zu unterscheiden, und die dunkelste Version war nicht von Schwarz zu unterscheiden</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. Wir hatten Probleme am dunklen Ende des Spektrums. </font><font style="vertical-align: inherit;">Verwendung als Hintergrund, Farben</font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und</font></font><code>@blue-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bemerkten wir</font><font style="vertical-align: inherit;">dass diese Farben von Schwarz nicht</font><font style="vertical-align: inherit;">unterscheiden sind und voneinander. </font><font style="vertical-align: inherit;">Wir brauchten einen Algorithmus, der uns Farben liefert, deren Hauptton sowohl f√ºr die hellste als auch f√ºr die dunkelste Version unterscheidbar ist. </font><font style="vertical-align: inherit;">Dies w√ºrde die Erstellung von Komponenten unter Verwendung dieser Farbwerte erm√∂glichen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/570/4e5/9bd/5704e59bdc120461244c34f4dc678bea.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die dunkelsten Variationen unserer Farben waren nicht von Schwarz und voneinander zu unterscheiden. Bei der</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Erstellung von Komponenten, die Benachrichtigungen implementieren, konnten wir die Farben aus unserem Designsystem nicht verwenden. </font><font style="vertical-align: inherit;">Stattdessen mussten wir unsere eigenen Farben f√ºr das Auge ausw√§hlen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3fc/1e4/a56/3fc1e4a5627c6bec05aefae3de608e15.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Farben sind wundersch√∂n, basieren jedoch nicht auf den Farbwerten unserer Farbskalen.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ich habe das wunderbare</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ColorBox-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tool</font><font style="vertical-align: inherit;">von Lyft Design verwendet</font><font style="vertical-align: inherit;">, um die Farben zu normalisieren</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Anstatt die Farben auf einfachste Weise linear in Schritten von 10% zu √§ndern, habe ich Bezier-Kurven angewendet. </font><font style="vertical-align: inherit;">Dadurch konnten wir die extremen Positionen der Farbskalen deutlich verbessern.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e9/58e/6ff/3e958e6ffcf012c47397c0a67afb58a3.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachdem ich die Farben im hellen Teil des Spektrums normalisiert hatte, konnte ich Benachrichtigungen erstellen, deren Farben den Farben unseres Designsystems entnommen sind</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Dunkle Farben</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir die helle Version der Website bestellt haben, ist es Zeit, neue Farben vor einem dunklen Hintergrund auszuprobieren. </font><font style="vertical-align: inherit;">Infolgedessen habe ich auf manuelle Einstellungen des Farbanpassungsalgorithmus zur√ºckgegriffen, um die Unternehmensfarben zu erhalten, die seit sehr langer Zeit verwendet werden. </font><font style="vertical-align: inherit;">Dadurch konnte ich neue Farben in der Produktion verwenden und gleichzeitig auf zu drastische √Ñnderungen im Erscheinungsbild des Projekts verzichten.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb1/8f0/00f/eb18f000f7742e215c90a7c9be062795.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voll normalisierter Farbumfang</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementieren eines dunklen Themas in der Stacks-Oberfl√§che</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich irgendwie hoffen w√ºrde, Stack Overflow mit einem dunklen Thema auszustatten, m√ºsste ich zuerst ein dunkles Thema in unser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stacks-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Design-System implementieren </font><font style="vertical-align: inherit;">und es als Testgel√§nde zum Testen neuer Technologien verwenden.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçVariablen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich musste statische, weniger kompilierte hexadezimale Farbwerte in benutzerdefinierte CSS-Eigenschaften konvertieren, die f√ºr die Verwendung w√§hrend der Ausf√ºhrung des Programms entwickelt wurden. Der Punkt ist, dass Farbwerte mithilfe von Ansichtsstrukturen </font></font><code>var(--red-500)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und nicht mithilfe statischer Ansichtsstrukturen </font><font style="vertical-align: inherit;">gespeichert werden sollten </font></font><code>@red-500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Es war eine interessante Aufgabe - sowohl innerhalb unseres Systemdesigns als auch innerhalb des gesamten Standorts. Normalerweise haben wir einen einzelnen Farbwert verwendet </font></font><code>@red-500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und ihn heller oder dunkler gemacht, um verschiedene Zust√§nde der Elemente hervorzuheben (wie die Zust√§nde, die die Elemente annehmen, wenn sie √ºber ihnen schweben oder wenn sie fokussiert werden), um sie als Hintergrundfarbe oder Farbe der R√§nder der Elemente zu verwenden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir √ºber die Farben jeder der Schaltfl√§chen sprechen, die wir viel haben, √ºber die Farben jedes Zustands jeder Schaltfl√§che, dann k√∂nnen wir sagen, dass diese Farben im Verlauf einer Reihe von Transformationen eines einzelnen kompilierten Farbwerts erhalten wurden. Es erinnerte mich an eine Szene aus dem Film "Das Spiel f√ºr einen Sturz". Dort sprachen sie √ºber die M√∂glichkeit, eine zehnmillionste Investition in Milliarden Dollar umzuwandeln. Es ist nicht verwunderlich, dass solche ‚ÄûTransformationen‚Äú zur Finanzkrise gef√ºhrt haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem mit regul√§ren CSS-Variablen besteht darin, dass Sie keine Less-Transformationen auf sie anwenden k√∂nnen. CSS-Variablenwerte werden zur Laufzeit berechnet, sodass ein solches Konstrukt </font></font><code>darken(var(--red-500), 5%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zu einem Kompilierungsfehler f√ºhrt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All dies bedeutete, dass ich den Code √ºberarbeiten musste, der zum Beispiel f√ºr das Stylen von Schaltfl√§chen verantwortlich war. Zuerst sah er so aus:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.s-btn</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">color</span>: @white;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: @blue-<span class="hljs-number">600</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">5%</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;:hover {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">5%</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">10%</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich musste fortfahren, um die genauen Farbwerte anzugeben, die in unserem Farbsystem beschrieben sind. </font><font style="vertical-align: inherit;">Infolgedessen musste ich zu dieser Version des Codes kommen:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.s-btn</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--white);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">600</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">700</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;:hover {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">700</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">800</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig war klar, dass nicht alles auf Kn√∂pfe beschr√§nkt war. </font><font style="vertical-align: inherit;">Daher musste ich die Stile aller in Stacks verf√ºgbaren Komponenten √ºberarbeiten. </font><font style="vertical-align: inherit;">Gleiches gilt f√ºr Benachrichtigungen, Popup-Men√ºs, modale Fenster, Links und viele andere Komponenten.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Browserkompatibilit√§t</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir √ºber CSS-Variablen sprechen, bedeutete ihre Anwendung, dass ihre Unterst√ºtzung durch Browser in Betracht gezogen werden musste. </font><font style="vertical-align: inherit;">Insbesondere werden sie von Internet Explorer 11 nicht unterst√ºtzt - einem Browser, den wir nie vergessen haben. </font><font style="vertical-align: inherit;">Aus diesem Grund haben wir beschlossen, die IE11-Unterst√ºtzung aufzugeben und all die CSS-Hacks zu entfernen, die wir im Laufe der Jahre des Systems unter Ber√ºcksichtigung der Funktionen dieses Browsers zum System hinzugef√ºgt haben. </font><font style="vertical-align: inherit;">Dar√ºber hinaus haben wir beschlossen, Benachrichtigungen an IE11-Benutzer mit dem Vorschlag zur Installation eines neuen Browsers zu senden. </font><font style="vertical-align: inherit;">Diese Entscheidung war f√ºr uns nicht einfach. </font><font style="vertical-align: inherit;">Die Implementierung erforderte wochenlanges Refactoring.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçBedingte Klassen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IE11 hat mich nicht mehr eingeschr√§nkt und ich konnte mit Farben in Stacks arbeiten. Ich habe beschlossen, dem Element eine </font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font><font style="vertical-align: inherit;">hinzuzuf√ºgen </font></font><code>.theme-system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nachdem dies geschehen war, konnte ich helle Farben durch ihre dunklen Entsprechungen durch die entsprechende Medienabfrage ersetzen. Dar√ºber hinaus k√∂nnten wir die Medienanfrage vollst√§ndig ablehnen, indem wir sie einfach zur </font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font><font style="vertical-align: inherit;">hinzuf√ºgen </font></font><code>.theme-dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Auf diese Weise k√∂nnen Benutzer das dunkle Thema der Site unabh√§ngig von ihren Systemeinstellungen verwenden. Folgendes habe ich als Ergebnis erhalten:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">body</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">--red-600</span>: <span class="hljs-number">#c02d2e</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.theme-system</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;@media (<span class="hljs-attribute">prefers-color-scheme</span>: dark) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--red-<span class="hljs-number">600</span>: <span class="hljs-number">#d25d5d</span>;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.theme-dark</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">--red-600</span>: <span class="hljs-number">#d25d5d</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um volle Flexibilit√§t zu erreichen, erm√∂glicht Stacks die Arbeit mit atomaren Farbklassen, die nur gelten, wenn ein dunkles Thema aktiviert ist. Details zur CSS-Unterst√ºtzung in Stacks finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Beispiel: Hinzuf√ºgen einer Klasse zu einem Element. </font></font><code>d:bg-green-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Designer dr√ºckt den folgenden Gedanken aus: "Im dunklen Modus m√ºssen Sie Gr√ºn als Hintergrund verwenden </font></font><code>bg-green-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">." Zus√§tzliche bedingte Klassen f√ºr den Dunkelmodus erm√∂glichen es uns, die R√§nder von Elementen zu entfernen, Hintergr√ºnde zu √§ndern und die Farbe des Texts anzupassen. In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tweet sehen Sie ein interessantes Beispiel f√ºr die Farbanpassung. Eine solche Einstellung ist im Dunkelmodus manchmal erforderlich. Ich m√∂chte darauf hinweisen, dass eine der Inspirationsquellen bei der Arbeit am dunklen Modus der Website f√ºr mich das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tailwind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CSS-Framework war </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçVerwenden Sie ein dunkles Thema in Stacks</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem das dunkle Thema in Stacks implementiert wurde, haben wir beschlossen, oben auf der Systemoberfl√§che eine Schaltfl√§che hinzuzuf√ºgen, mit der Sie zwischen Themen wechseln k√∂nnen. </font><font style="vertical-align: inherit;">Die Mitarbeiter des Unternehmens sollten schnell und bequem zwischen verschiedenen Farbthemen der Website wechseln k√∂nnen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/577/bd3/cef577bd304db402329b23ee9aa740e4.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wechseln Sie in Stapeln zwischen hellen und dunklen Themen</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementieren eines dunklen Themas auf der Stack Overflow-Hauptseite</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe die Aufgaben im Zusammenhang mit der Implementierung des dunklen Themas in der Oberfl√§che des Stacks-Design-Systems relativ einfach gel√∂st. Das Refactoring, das √úberlegungen zur zuk√ºnftigen Entwicklung des Systems ber√ºcksichtigt, erleichtert es Stacks, aufgrund der Folgen fehlerhafter Entscheidungen in der Vergangenheit kleiner als der Hauptstandort zu sein. Um den Stapel√ºberlauf mit einem dunklen Thema auszustatten, musste ich weniger Variablen unterst√ºtzen, um die Abw√§rtskompatibilit√§t der L√∂sung zu gew√§hrleisten. Dies erm√∂glichte es uns, die Anwendung des dunklen Themas schrittweise in separaten Teilen der Benutzeroberfl√§che zu organisieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da der gr√∂√üte Teil unserer nach 2018 erstellten Benutzeroberfl√§che auf Stacks basiert, erh√§lt dieser Teil der Benutzeroberfl√§che ohne unser Zutun ein dunkles Thema und ansprechende Layouts. Was ist mit dem Hauptteil der Benutzeroberfl√§che? Alles hier ist alles andere als einfach.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçHauptfarben der Site</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zun√§chst musste ich die gr√∂√üten √Ñnderungen an der Site vornehmen, die vorgenommen werden konnten, ohne das Standard-Lichtthema Stapel√ºberlauf zu verletzen. </font><font style="vertical-align: inherit;">Die Aufgaben, die ich l√∂sen musste, bestanden haupts√§chlich darin, statische Less-Variablen durch entsprechende CSS-Variablen zu ersetzen. </font><font style="vertical-align: inherit;">Zuerst habe ich den Stil </font></font><code>background-color: var(--white)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf den Hintergrund der Site </font><font style="vertical-align: inherit;">angewendet </font><font style="vertical-align: inherit;">und ihn durch den Stil ersetzt </font></font><code>background-color: @white</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dank dessen konnte der Hauptbereich der D√∂rfer nun leicht in der dunklen Hintergrundfarbe neu gestrichen werden. </font><font style="vertical-align: inherit;">Dann habe ich den gleichen Vorgang mit den Farben der Schriftarten und einigen anderen Elementen durchgef√ºhrt. </font><font style="vertical-align: inherit;">Diese Arbeit bestand haupts√§chlich darin, eine gro√üe Menge an CSS-Code zu entfernen, da wir zum Beispiel h√§ufig √ºberm√§√üig detaillierte Stile mochten und die Schriftfarben untergeordneter Elemente festlegten, obwohl wir mit Farbwerten auskommen konnten, die von √ºbergeordneten Elementen geerbt wurden.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Demonstration eines neuen Designs f√ºr die Mitarbeiter des Unternehmens</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich an gro√üen Bl√∂cken der Site gearbeitet hatte, bat ich unsere Programmierer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adam Lear</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nick Craver,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mir </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">zu</font></a><font style="vertical-align: inherit;"> helfen, den Mitarbeitern von Stack Overflow eine vorl√§ufige Version des dunklen Themas zu zeigen. </font><font style="vertical-align: inherit;">Dies w√ºrde es den Mitarbeitern erm√∂glichen, ein dunkles Thema aufzunehmen, das noch weit davon entfernt ist, zu erkennen, welche Bereiche der Website noch verbessert werden m√ºssen. </font><font style="vertical-align: inherit;">Dies, dachte ich, w√ºrde sie ermutigen, Teile der Website mit dem meisten Verkehr zu verfeinern. </font><font style="vertical-align: inherit;">Dies w√ºrde es mir erm√∂glichen, die Haupthindernis f√ºr ein neues Design zu √ºberwinden. </font><font style="vertical-align: inherit;">Dies w√ºrde n√§mlich dazu beitragen, das neue Design in die vorhandene Codebasis zu integrieren.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UttTasten</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Bereich der Site, an dem ich gearbeitet habe, mit Stacks erstellt wurde, mussten nicht sehr viele Probleme gel√∂st werden, um ihn f√ºr die Verwendung des Dunkelmodus vorzubereiten. Nehmen wir an, im Verlauf der Arbeit konnte entschieden werden, dass irgendwo der Rand nicht ben√∂tigt wurde oder dass irgendwo ein spezieller Grauton als Hintergrundfarbe ben√∂tigt wurde. Diese Vorbereitung f√ºr die Verwendung des Dunkelregimes k√∂nnte begrenzt sein. Leider wurde der gr√∂√üte Teil der Website ohne Verwendung von Stacks erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies zeigte sich am deutlichsten bei den Kn√∂pfen. Im Laufe der Jahre der Arbeit an der Site wurden viele Button-Implementierungen verwendet. Dies war besonders frustrierend, da wir die Elemente selbst stilisiert haben </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Dies bedeutet, dass jedes Element </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder Element, das als dekoriert ist</font></font><code>input type=¬´button¬ª</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wurde der Standardstil zugewiesen. Dieser Stil weist ein sehr hohes Ma√ü an Spezifit√§t auf und basiert auf einem veralteten Regelwerk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die oben genannte Tatsache hat dazu gef√ºhrt, dass viele Umgestaltungen erforderlich sind, die noch andauern. Ziel ist es, CSS-Stile auf Elementebene zu entfernen </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und durch Entsprechungen aus Stacks zu ersetzen. Insbesondere sprechen wir √ºber die Tatsache, dass Hunderte von Elementen </font></font><code>input type=¬´submit¬ª</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durch ersetzt werden m√ºssen </font></font><code>&lt;button type="submit" class="s-btn s-btn__primary"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Neben dem Hinzuf√ºgen von Arbeit stelle ich fest, dass wir h√§ufig JavaScript-Funktionen mit visuellen Selektoren verkn√ºpft haben. Wenn Sie die Klassen √§ndern, die sich auf das Erscheinungsbild des Elements auswirken, kann dies die Funktionalit√§t der Schaltfl√§che beeintr√§chtigen. Daher musste ich w√§hrend der Verarbeitung von Tausenden von Schaltfl√§chen zuerst Klassen hinzuf√ºgen</font></font><code>js-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbinden Sie Handler mit ihnen, und entfernen Sie dann alte Stile, die das Erscheinungsbild von Schaltfl√§chen definieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies f√ºhrte letztendlich dazu, dass ich die meisten alten Schaltfl√§chenklassen entfernte, wodurch die Schaltfl√§chen beim Einschalten eines dunklen Themas die Farben korrekt √§ndern konnten.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Website-Titel</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Aufgabe zu verkomplizieren, kann der auf der gesamten Site verwendete Header in verschiedenen Modi arbeiten. Wir sprechen √ºber Hell- und Dunkelmodi und √ºber den Unterst√ºtzungsmodus f√ºr ein spezielles Thema. Die Site-Option f√ºr Teams (Stapel√ºberlauf f√ºr Teams) und f√ºr Unternehmenssysteme verwendet zwangsweise ein dunkles Header-Thema. Dar√ºber hinaus verwendet die Befehlsversion die Farbe, die durch die Farbe des Team-Avatars angegeben wird. Wie viele unserer anderen Komponenten bietet CSS f√ºr den Site-Titel eine einzige Farbe, die bestimmt, ob der Titel hell oder dunkel ist. Diese Farbe wird dann mithilfe komplexer Less-Anweisungen transformiert, sodass Sie die verschiedenen Optionen erhalten. Wir konnten jedoch nicht das tun, was wir getan haben, als wir den Code des Entwurfssystems verarbeitet haben. Das hei√üt, sie konnten nicht einfach das gesamte alte CSS wegwerfen und durch Code ersetzen.welches CSS-Variablen verwendet. Tatsache ist, dass unsere Firmenkunden das Erscheinungsbild des Headers mithilfe von Themen vollst√§ndig anpassen. In diesem Fall werden Farboptionen basierend auf einer einzelnen Farbe generiert.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac9/46c/185/ac946c185fca67ca872cbba06ebf01e7.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leichte √úberschrift</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a3/4b0/c9c/1a34b0c9c3f233b0ce09f1ee3a304f26.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dunkler Titel</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/444/297/a58/444297a5852500a5e4279b783619e1b3.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Befehls√ºberschrift</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Im Fall der hellen √úberschrift "Stapel√ºberlauf" mussten wir einen Mechanismus finden, um herauszufinden, ob eine bestimmte Farbe mithilfe einer CSS-Variablen oder eines statischen Hex-Werts festgelegt wurde. </font><font style="vertical-align: inherit;">Wenn die Farbe mithilfe einer CSS-Variablen festgelegt wurde, k√∂nnen wir die Less-Transformation vollst√§ndig √ºberspringen und eine √úberschrift erstellen, die die Farben basierend auf den Parametern des dunklen Themas √§ndern kann. </font><font style="vertical-align: inherit;">Wenn stattdessen eine statische Variable Less verwendet wurde, mussten Sie die Farbe bewerten, um festzustellen, ob sie hell oder dunkel ist, und eine entsprechende √úberschrift erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis kamen wir zu diesem Ansatz:</font></font><br>
<br>
<pre><code class="css hljs">&amp; <span class="hljs-selector-tag">when</span> ( <span class="hljs-selector-tag">iscolor</span>(<span class="hljs-keyword">@theme-topbar-background-color</span>) ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">@theme-topbar-style</span>: if(luma(@theme-topbar-background-color) &gt;= <span class="hljs-number">50%</span>, light, dark);<font></font>
&nbsp;}<font></font>
&nbsp;&amp; <span class="hljs-selector-tag">when</span> <span class="hljs-selector-tag">not</span> ( <span class="hljs-selector-tag">iscolor</span>(<span class="hljs-keyword">@theme-topbar-background-color</span>) ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">@theme-topbar-style</span>: automatic;<font></font>
&nbsp;}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann wird basierend auf dem empfangenen Wert ( </font></font><code>automatic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>light</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder </font></font><code>dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), wird die richtigen Header erstellt.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçTags</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich denjenigen, die am Entwurf von Komponenten beteiligt sind, nur einen Rat geben k√∂nnte, w√ºrde dieser lauten: "Beschreiben Sie in Komponenten nicht, was sich auf ihre Position auf der Seite auswirkt." Mit anderen Worten, welche Art von Raum die Komponenten trennt, sollte den Kontext bestimmen, in dem sie angewendet werden. Es ist nicht erforderlich, solche Dinge in der Komponente selbst festzulegen. In fr√ºheren Versionen von Stack Overflow wurde entschieden, dass </font></font><code>post-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">externe Polster </font><font style="vertical-align: inherit;">auf Komponenten </font><font style="vertical-align: inherit;">angewendet </font><font style="vertical-align: inherit;">werden sollten </font><font style="vertical-align: inherit;">. Gleichzeitig stellte sich heraus, dass Tags wie Schaltfl√§chen einem JavaScript-Problem unterliegen. Um die Sache noch schwieriger zu machen, wurden die meisten Tags mit einer einzigen Hilfsmethode generiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Tag-Refactoring wurden </font></font><code>post-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponenten durch ersetzt</font></font><code>s-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Komponenten f√ºr verschiedene Themen. </font><font style="vertical-align: inherit;">Diese Arbeit beinhaltete auch √Ñnderungen an JavaScript unter Ber√ºcksichtigung der Verwendung </font></font><code>js-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dar√ºber hinaus musste die f√ºr die Generierung von Tags verantwortliche Methode so ge√§ndert werden, dass beliebige Klassen akzeptiert werden, die sich auf die Platzierung von Elementen auswirken. </font><font style="vertical-align: inherit;">Tatsache ist, dass in bestimmten Kontexten m√∂glicherweise Tags im Flex-Layout platziert werden m√ºssen, anstatt sich auf vordefinierte externe Einr√ºckungen zu verlassen (oder sich mit solchen Einr√ºckungen zu befassen).</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Styling-Ver√∂ffentlichungen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Gro√üteil des Stapel√ºberlaufs besteht aus Benutzerpublikationen. Diese Ver√∂ffentlichungen, n√§mlich Fragen, Antworten, Kommentare, werden mit Hilfe des Markdown-Markups erstellt. W√§hrend des Starts von Stack Overflow war Markdown Markup eine relativ neue Technologie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Laufe der Jahre hat das Web einige Standardmethoden entwickelt, um √úberschriften und Zitate anzuzeigen. Die Einf√ºhrung des dunklen Themas war ein ausgezeichneter Moment, um unseren Ansatz zur Formatierung von Ver√∂ffentlichungen zu √ºberpr√ºfen. Das umstrittenste Thema in dieser Angelegenheit war die Formatierung von Anf√ºhrungszeichen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anf√§nglich wurden Zitate mit einer kr√§ftigen gelben Hintergrundfarbe gerahmt, wodurch der Kontrast des Zitats selbst verringert wurde. </font><font style="vertical-align: inherit;">Die gelbe Farbe verursacht au√üerdem bestimmte Probleme, wenn sie auf einem dunklen Hintergrund angezeigt wird. </font><font style="vertical-align: inherit;">Infolgedessen gingen wir zu der allgemein akzeptierten Methode zur Anzeige von Anf√ºhrungszeichen √ºber und verwendeten einen schmalen grauen vertikalen Balken, um sie hervorzuheben.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Code-Styling</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf den Seiten von Stack Overflow, die durchaus verst√§ndlich sind, werden viele Codeteile angezeigt. </font><font style="vertical-align: inherit;">Die Farben, mit denen wir die Syntax hervorhoben, hatten nichts mit unseren Signaturfarben zu tun. </font><font style="vertical-align: inherit;">Ich habe den starken Verdacht, dass diese Farben das Erbe der ersten Bibliothek sind, die im Projekt zur Hervorhebung der Syntax verwendet wird. </font><font style="vertical-align: inherit;">Nachdem ich diese Farben analysiert hatte, beschloss ich, das Syntax-Highlight einer tiefgreifenden Neugestaltung zu unterziehen. </font><font style="vertical-align: inherit;">Infolgedessen wurden die Farben der Hintergrundbeleuchtung durch Farben aus unserem Designsystem ersetzt. </font><font style="vertical-align: inherit;">Dies gilt sowohl f√ºr helle als auch f√ºr dunkle Themen. </font><font style="vertical-align: inherit;">Und dies geschieht, damit sich das, was passiert ist, nicht radikal von dem unterscheidet, was es vorher war.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4df/a80/f44/4dfa80f44153364564dae8eef53c2b44.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das helle Thema und die Beta-Version des dunklen Themas, die am 30. M√§rz ver√∂ffentlicht wurden.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aufgrund des Umfangs der Refactoring-Arbeiten, die wir beim √úbergang zum dunklen Thema durchgef√ºhrt haben, konnten wir das Aussehen des Projekts ohne Schwierigkeiten ziemlich stark √§ndern. Basierend auf dem, was wir jetzt haben, k√∂nnen wir beispielsweise ein kontrastreiches Website-Thema entwickeln, das die Zug√§nglichkeit erh√∂ht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Erstellung des dunklen Themas war das Ergebnis einer grundlegenden √Ñnderung des Ansatzes f√ºr das Stack Overflow-Design. Insbesondere sprechen wir √ºber die Verwendung eines</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Designsystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das ich seit einem Jahr bewerbe. Das Erstellen eines dunklen Themas war f√ºr mich eine hervorragende Gelegenheit, viele Teile der Website neu zu erstellen. Dies ist das erste von vielen Projekten, die die Verf√ºgbarkeit von Stack Overflow erh√∂hen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Ablehnung der Unterst√ºtzung f√ºr IE11 nicht ber√ºcksichtigen, begannen die Arbeiten zum dunklen Thema im Juli 2019 mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PR, um die Situation zu untersuchen. </font><font style="vertical-align: inherit;">Zuvor gab es im April 2019 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diskussionen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu einem dunklen Thema. </font><font style="vertical-align: inherit;">Im Oktober 2019 ging eine experimentelle Version eines dunklen Themas in Produktion. </font><font style="vertical-align: inherit;">Nachdem mindestens 60 PRs erstellt worden waren, wurde den Benutzern eine Beta-Version des dunklen Themas pr√§sentiert. </font><font style="vertical-align: inherit;">Es geschah am 30. M√§rz 2020. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liebe Leser! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie Stack Overflow? </font><font style="vertical-align: inherit;">Magst du ihr neues dunkles Thema?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495984/index.html">Reaktion, Leistung und -500 Millisekunden zu Beginn - die Geschichte unserer Optimierungen in Zahlen</a></li>
<li><a href="../de495986/index.html">Analyse internationaler Dokumente zum Informationssicherheits-Risikomanagement. Teil 2</a></li>
<li><a href="../de495990/index.html">Offenlegung von Telefonnummer und Geolokalisierung durch Sicherheitsl√ºcke in Telegramm</a></li>
<li><a href="../de495994/index.html">Beginn des akademischen Quartals oder wie ich zum Koordinator des Fernunterrichts wurde</a></li>
<li><a href="../de495996/index.html">Raspberry Pi, Python und Bew√§sserung von Zimmerpflanzen</a></li>
<li><a href="../de496004/index.html">Neue Modelle der Datensuche und -analyse. WSDM 2020 mit den Augen des Yandex.Tolki-Teams</a></li>
<li><a href="../de496006/index.html">Herauswachsender Reverse Proxy - Technologie f√ºr Fernschutz und Standortoptimierung ohne √Ñnderung der DNS-A-Eintr√§ge</a></li>
<li><a href="../de496010/index.html">Was passiert mit dem Transport w√§hrend der Krise (erste Aprilwoche)</a></li>
<li><a href="../de496014/index.html">IBM w√∂chentliche Seminare - April 2020</a></li>
<li><a href="../de496020/index.html">Sommer MVP. Wie flexibel ist Kotlin?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>