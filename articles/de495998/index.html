<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚽️ ✒️ 💚 Erstellen eines dunklen Themas für den Stapelüberlauf 👰🏾 🐴 🧑‍🤝‍🧑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Am 30. März 2020 gaben Stack Overflow-Entwickler Website-Besuchern die Möglichkeit, eine Beta-Version des dunklen Themas zu verwenden. Das Material, d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Erstellen eines dunklen Themas für den Stapelüberlauf</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495998/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Am 30. März 2020 gaben Stack Overflow-Entwickler Website-Besuchern die Möglichkeit, eine Beta-Version des dunklen Themas zu verwenden. </font><font style="vertical-align: inherit;">Das Material, dessen Übersetzung wir veröffentlichen, ist der Geschichte gewidmet, wie das dunkle Thema von Stack Overflow erstellt wurde.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/9d2/662/61f9d2662c30a95f29c885ac6c3180ee.png"></div></a><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Banner on Stack Overflow, mit dem Sie ein dunkles Thema</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
einfügen können. Mein Name ist Aaron Sheki. Ich bin der Designleiter bei Stack Overflow. Ich beteilige mich an der Gestaltung der Schnittstellenkomponenten, die den neuen Funktionen des Projekts zugrunde liegen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst ein wenig Ironie. Persönlich bin ich kein Fan von dunklen Interface-Themen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich sehe oft, dass der Kontrast von dunklen Schnittstellen zu niedrig ist. Bei der Gestaltung solcher Schnittstellen ist es schwierig, eine vollständige Farbpalette zu verwenden. Gleiches gilt für die Simulation der Lautstärke mithilfe von Schatten und für die Anwendung anderer visueller Effekte. Wenn ich einen hellen Text auf einem dunklen Hintergrund lese, werden meine Augen müde. Es ist schwierig, mit Phänomenen wie dem gleichzeitigen Kontrast umzugehen, wenn helle Themen verwendet werden. Wenn ein dunkles Thema verwendet wird, wird alles komplizierter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber ich bin die Person, deren Bemühungen ein dunkles Thema auf Stack Overflow angesprochen haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Arbeit, über die ich sprechen möchte, war nie speziell auf die Entwicklung eines dunklen Themas ausgerichtet, obwohl viele Benutzer lange darum gebeten haben, die Ressource mit einem solchen Thema auszustatten. </font><font style="vertical-align: inherit;">Aber im Zuge eines dunklen Themas mussten wir viele Probleme lösen. </font><font style="vertical-align: inherit;">Insbesondere wurde der Front-End-Code für den Stapelüberlauf aktualisiert und die Zugänglichkeit von Inhalten verbessert. </font><font style="vertical-align: inherit;">Die Arbeit an einem dunklen Thema haben wir einen Anreiz , </font><font style="vertical-align: inherit;">unsere nutzen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Designsystem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mehr weit in das Projekt </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Können wir den Benutzern ein dunkles Thema geben und gleichzeitig den Weg zur Verbesserung der Zugänglichkeit des Projekts ebnen? </font><font style="vertical-align: inherit;">Wir haben diese Frage bejaht, nachdem wir alles getan haben, worüber ich jetzt erzählen werde.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Farbforschung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Erstellung der ursprünglichen Farbskalen für das Projekt haben wir, wahrscheinlich ein wenig naiv, einen bestimmten Farbwert verwendet und ihn mithilfe von Transformationen geändert, die mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Less</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> implementiert wurden </font><font style="vertical-align: inherit;">. So könnten wir beispielsweise eine Less-Variable deklarieren </font></font><code>@red</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und die Farbe mithilfe des Designs mehrmals dunkler machen </font></font><code>darken(@red, 10%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Gleiches gilt für die Mehrfachfarbenklärung mit </font></font><code>tint(@red, 10%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Dies kann eine Farbskala ergeben, in der die Farben im Bereich von </font></font><code>@red-050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bis </font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in Schritten von 10% liegen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als ich zum ersten Mal versuchte zu verstehen, wie die Stapelüberlaufressource im Dunkelmodus aussehen könnte, entschied ich mich, einfach den weißen Hintergrund in Schwarz zu ändern und die Farbskalen umzudrehen. Bei diesem Ansatz wird Farbe </font></font><code>@red-050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zu Farbe</font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Farben ändern sich entsprechend zwischen der Anfangs- und der Endfarbe der Skala. </font><font style="vertical-align: inherit;">Diese Farben selbst bleiben jedoch die gleichen wie zuvor.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4de/c02/321/4dec023214649262a2a743d8e32e6de0.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helle und dunkle Farbskalen für Rot.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bei diesem Ansatz hat der Kontrast der Elemente gelitten. </font><font style="vertical-align: inherit;">Es stellte sich heraus, dass das, was passierte, etwas enthielt, das mir an dunklen Themen im Allgemeinen nicht gefiel. </font><font style="vertical-align: inherit;">Wenn Sie sich beispielsweise die dunkelste Version von Rot auf dunklem Hintergrund genau ansehen, werden Sie feststellen, dass die Farbe kaum zu unterscheiden ist. </font><font style="vertical-align: inherit;">Wir werden weiter unten mehr darüber sprechen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3dd/aa4/7fc/3ddaa47fcedcb5bc32c10e43d2079a7b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir müssen uns definitiv etwas Besseres einfallen lassen.</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍Erste Schritte: Layout-Design</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nur beim Versuch, die Farbskalen zu zeichnen, habe ich eigentlich nichts erreicht. </font><font style="vertical-align: inherit;">Dieser Schritt kann nicht als der eigentliche Beginn der Arbeit an einem dunklen Thema bezeichnet werden. </font><font style="vertical-align: inherit;">Aus diesem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grund habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich beschlossen, ein Layout zu entwickeln und Farben in </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Figma</font></a><font style="vertical-align: inherit;"> manuell auszuwählen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ich habe die Farben ausgewählt, wobei ich mich darauf konzentrierte, wie Stack Overflow meiner Meinung nach aussehen sollte, und nicht darüber nachdachte, wie sich die neuen Farben auf vorhandene beziehen. </font><font style="vertical-align: inherit;">Die Reduzierung des Gesamtkontrasts war der Schlüssel zum Erhalt des Tiefeneffekts in der Benutzeroberfläche, zur Unterstützung der Schatten von Elementen und zur Anwendung des gesamten Farbspektrums.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f6/abf/d73/7f6abfd73f890a0c221fafada3eefa8b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die ersten Schritte mit der Gestaltung des Layouts ermöglichten es uns zunächst zu verstehen, welchen ästhetischen Effekt wir anstreben, ohne die technischen Anforderungen für das Projekt zu berücksichtigen</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍Auswahl eines verbesserten Algorithmus für die Arbeit mit Farben</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich einen helleren Hintergrund für das dunkle Thema aufgenommen hatte, hatte ich die Gelegenheit, die Farbskalen genauer zu untersuchen. Zuerst musste ich mich mit einigen Farbproblemen des vorhandenen Designsystems befassen, die bei der Anwendung des Lichtthemas auftraten. Am hellen Ende des Spektrums sahen die roten und gelben Farben nicht so aus, wie ich es gerne hätte. Einige Farben hatten die hellsten Werte, zu nahe an Weiß. Es gab Farben, deren hellste Werte zu dunkel waren.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/554/d5f/86c/554d5f86ce75ada85b706b3604bb904b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die hellste Version von Gelb war nicht von Weiß zu unterscheiden, und die dunkelste Version war nicht von Schwarz zu unterscheiden</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. Wir hatten Probleme am dunklen Ende des Spektrums. </font><font style="vertical-align: inherit;">Verwendung als Hintergrund, Farben</font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und</font></font><code>@blue-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bemerkten wir</font><font style="vertical-align: inherit;">dass diese Farben von Schwarz nicht</font><font style="vertical-align: inherit;">unterscheiden sind und voneinander. </font><font style="vertical-align: inherit;">Wir brauchten einen Algorithmus, der uns Farben liefert, deren Hauptton sowohl für die hellste als auch für die dunkelste Version unterscheidbar ist. </font><font style="vertical-align: inherit;">Dies würde die Erstellung von Komponenten unter Verwendung dieser Farbwerte ermöglichen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/570/4e5/9bd/5704e59bdc120461244c34f4dc678bea.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die dunkelsten Variationen unserer Farben waren nicht von Schwarz und voneinander zu unterscheiden. Bei der</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Erstellung von Komponenten, die Benachrichtigungen implementieren, konnten wir die Farben aus unserem Designsystem nicht verwenden. </font><font style="vertical-align: inherit;">Stattdessen mussten wir unsere eigenen Farben für das Auge auswählen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3fc/1e4/a56/3fc1e4a5627c6bec05aefae3de608e15.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Farben sind wunderschön, basieren jedoch nicht auf den Farbwerten unserer Farbskalen.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ich habe das wunderbare</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ColorBox-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tool</font><font style="vertical-align: inherit;">von Lyft Design verwendet</font><font style="vertical-align: inherit;">, um die Farben zu normalisieren</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Anstatt die Farben auf einfachste Weise linear in Schritten von 10% zu ändern, habe ich Bezier-Kurven angewendet. </font><font style="vertical-align: inherit;">Dadurch konnten wir die extremen Positionen der Farbskalen deutlich verbessern.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e9/58e/6ff/3e958e6ffcf012c47397c0a67afb58a3.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachdem ich die Farben im hellen Teil des Spektrums normalisiert hatte, konnte ich Benachrichtigungen erstellen, deren Farben den Farben unseres Designsystems entnommen sind</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Dunkle Farben</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir die helle Version der Website bestellt haben, ist es Zeit, neue Farben vor einem dunklen Hintergrund auszuprobieren. </font><font style="vertical-align: inherit;">Infolgedessen habe ich auf manuelle Einstellungen des Farbanpassungsalgorithmus zurückgegriffen, um die Unternehmensfarben zu erhalten, die seit sehr langer Zeit verwendet werden. </font><font style="vertical-align: inherit;">Dadurch konnte ich neue Farben in der Produktion verwenden und gleichzeitig auf zu drastische Änderungen im Erscheinungsbild des Projekts verzichten.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb1/8f0/00f/eb18f000f7742e215c90a7c9be062795.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voll normalisierter Farbumfang</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementieren eines dunklen Themas in der Stacks-Oberfläche</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich irgendwie hoffen würde, Stack Overflow mit einem dunklen Thema auszustatten, müsste ich zuerst ein dunkles Thema in unser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stacks-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Design-System implementieren </font><font style="vertical-align: inherit;">und es als Testgelände zum Testen neuer Technologien verwenden.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍Variablen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich musste statische, weniger kompilierte hexadezimale Farbwerte in benutzerdefinierte CSS-Eigenschaften konvertieren, die für die Verwendung während der Ausführung des Programms entwickelt wurden. Der Punkt ist, dass Farbwerte mithilfe von Ansichtsstrukturen </font></font><code>var(--red-500)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und nicht mithilfe statischer Ansichtsstrukturen </font><font style="vertical-align: inherit;">gespeichert werden sollten </font></font><code>@red-500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Es war eine interessante Aufgabe - sowohl innerhalb unseres Systemdesigns als auch innerhalb des gesamten Standorts. Normalerweise haben wir einen einzelnen Farbwert verwendet </font></font><code>@red-500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und ihn heller oder dunkler gemacht, um verschiedene Zustände der Elemente hervorzuheben (wie die Zustände, die die Elemente annehmen, wenn sie über ihnen schweben oder wenn sie fokussiert werden), um sie als Hintergrundfarbe oder Farbe der Ränder der Elemente zu verwenden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir über die Farben jeder der Schaltflächen sprechen, die wir viel haben, über die Farben jedes Zustands jeder Schaltfläche, dann können wir sagen, dass diese Farben im Verlauf einer Reihe von Transformationen eines einzelnen kompilierten Farbwerts erhalten wurden. Es erinnerte mich an eine Szene aus dem Film "Das Spiel für einen Sturz". Dort sprachen sie über die Möglichkeit, eine zehnmillionste Investition in Milliarden Dollar umzuwandeln. Es ist nicht verwunderlich, dass solche „Transformationen“ zur Finanzkrise geführt haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem mit regulären CSS-Variablen besteht darin, dass Sie keine Less-Transformationen auf sie anwenden können. CSS-Variablenwerte werden zur Laufzeit berechnet, sodass ein solches Konstrukt </font></font><code>darken(var(--red-500), 5%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zu einem Kompilierungsfehler führt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All dies bedeutete, dass ich den Code überarbeiten musste, der zum Beispiel für das Stylen von Schaltflächen verantwortlich war. Zuerst sah er so aus:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.s-btn</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">color</span>: @white;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: @blue-<span class="hljs-number">600</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">5%</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;:hover {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">5%</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">10%</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich musste fortfahren, um die genauen Farbwerte anzugeben, die in unserem Farbsystem beschrieben sind. </font><font style="vertical-align: inherit;">Infolgedessen musste ich zu dieser Version des Codes kommen:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.s-btn</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--white);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">600</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">700</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;:hover {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">700</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">800</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig war klar, dass nicht alles auf Knöpfe beschränkt war. </font><font style="vertical-align: inherit;">Daher musste ich die Stile aller in Stacks verfügbaren Komponenten überarbeiten. </font><font style="vertical-align: inherit;">Gleiches gilt für Benachrichtigungen, Popup-Menüs, modale Fenster, Links und viele andere Komponenten.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Browserkompatibilität</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir über CSS-Variablen sprechen, bedeutete ihre Anwendung, dass ihre Unterstützung durch Browser in Betracht gezogen werden musste. </font><font style="vertical-align: inherit;">Insbesondere werden sie von Internet Explorer 11 nicht unterstützt - einem Browser, den wir nie vergessen haben. </font><font style="vertical-align: inherit;">Aus diesem Grund haben wir beschlossen, die IE11-Unterstützung aufzugeben und all die CSS-Hacks zu entfernen, die wir im Laufe der Jahre des Systems unter Berücksichtigung der Funktionen dieses Browsers zum System hinzugefügt haben. </font><font style="vertical-align: inherit;">Darüber hinaus haben wir beschlossen, Benachrichtigungen an IE11-Benutzer mit dem Vorschlag zur Installation eines neuen Browsers zu senden. </font><font style="vertical-align: inherit;">Diese Entscheidung war für uns nicht einfach. </font><font style="vertical-align: inherit;">Die Implementierung erforderte wochenlanges Refactoring.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍Bedingte Klassen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IE11 hat mich nicht mehr eingeschränkt und ich konnte mit Farben in Stacks arbeiten. Ich habe beschlossen, dem Element eine </font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font><font style="vertical-align: inherit;">hinzuzufügen </font></font><code>.theme-system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nachdem dies geschehen war, konnte ich helle Farben durch ihre dunklen Entsprechungen durch die entsprechende Medienabfrage ersetzen. Darüber hinaus könnten wir die Medienanfrage vollständig ablehnen, indem wir sie einfach zur </font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font><font style="vertical-align: inherit;">hinzufügen </font></font><code>.theme-dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Auf diese Weise können Benutzer das dunkle Thema der Site unabhängig von ihren Systemeinstellungen verwenden. Folgendes habe ich als Ergebnis erhalten:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">body</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">--red-600</span>: <span class="hljs-number">#c02d2e</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.theme-system</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;@media (<span class="hljs-attribute">prefers-color-scheme</span>: dark) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--red-<span class="hljs-number">600</span>: <span class="hljs-number">#d25d5d</span>;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.theme-dark</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">--red-600</span>: <span class="hljs-number">#d25d5d</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um volle Flexibilität zu erreichen, ermöglicht Stacks die Arbeit mit atomaren Farbklassen, die nur gelten, wenn ein dunkles Thema aktiviert ist. Details zur CSS-Unterstützung in Stacks finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Beispiel: Hinzufügen einer Klasse zu einem Element. </font></font><code>d:bg-green-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Designer drückt den folgenden Gedanken aus: "Im dunklen Modus müssen Sie Grün als Hintergrund verwenden </font></font><code>bg-green-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">." Zusätzliche bedingte Klassen für den Dunkelmodus ermöglichen es uns, die Ränder von Elementen zu entfernen, Hintergründe zu ändern und die Farbe des Texts anzupassen. In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tweet sehen Sie ein interessantes Beispiel für die Farbanpassung. Eine solche Einstellung ist im Dunkelmodus manchmal erforderlich. Ich möchte darauf hinweisen, dass eine der Inspirationsquellen bei der Arbeit am dunklen Modus der Website für mich das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tailwind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CSS-Framework war </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍Verwenden Sie ein dunkles Thema in Stacks</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem das dunkle Thema in Stacks implementiert wurde, haben wir beschlossen, oben auf der Systemoberfläche eine Schaltfläche hinzuzufügen, mit der Sie zwischen Themen wechseln können. </font><font style="vertical-align: inherit;">Die Mitarbeiter des Unternehmens sollten schnell und bequem zwischen verschiedenen Farbthemen der Website wechseln können.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/577/bd3/cef577bd304db402329b23ee9aa740e4.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wechseln Sie in Stapeln zwischen hellen und dunklen Themen</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementieren eines dunklen Themas auf der Stack Overflow-Hauptseite</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe die Aufgaben im Zusammenhang mit der Implementierung des dunklen Themas in der Oberfläche des Stacks-Design-Systems relativ einfach gelöst. Das Refactoring, das Überlegungen zur zukünftigen Entwicklung des Systems berücksichtigt, erleichtert es Stacks, aufgrund der Folgen fehlerhafter Entscheidungen in der Vergangenheit kleiner als der Hauptstandort zu sein. Um den Stapelüberlauf mit einem dunklen Thema auszustatten, musste ich weniger Variablen unterstützen, um die Abwärtskompatibilität der Lösung zu gewährleisten. Dies ermöglichte es uns, die Anwendung des dunklen Themas schrittweise in separaten Teilen der Benutzeroberfläche zu organisieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da der größte Teil unserer nach 2018 erstellten Benutzeroberfläche auf Stacks basiert, erhält dieser Teil der Benutzeroberfläche ohne unser Zutun ein dunkles Thema und ansprechende Layouts. Was ist mit dem Hauptteil der Benutzeroberfläche? Alles hier ist alles andere als einfach.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍Hauptfarben der Site</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst musste ich die größten Änderungen an der Site vornehmen, die vorgenommen werden konnten, ohne das Standard-Lichtthema Stapelüberlauf zu verletzen. </font><font style="vertical-align: inherit;">Die Aufgaben, die ich lösen musste, bestanden hauptsächlich darin, statische Less-Variablen durch entsprechende CSS-Variablen zu ersetzen. </font><font style="vertical-align: inherit;">Zuerst habe ich den Stil </font></font><code>background-color: var(--white)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf den Hintergrund der Site </font><font style="vertical-align: inherit;">angewendet </font><font style="vertical-align: inherit;">und ihn durch den Stil ersetzt </font></font><code>background-color: @white</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dank dessen konnte der Hauptbereich der Dörfer nun leicht in der dunklen Hintergrundfarbe neu gestrichen werden. </font><font style="vertical-align: inherit;">Dann habe ich den gleichen Vorgang mit den Farben der Schriftarten und einigen anderen Elementen durchgeführt. </font><font style="vertical-align: inherit;">Diese Arbeit bestand hauptsächlich darin, eine große Menge an CSS-Code zu entfernen, da wir zum Beispiel häufig übermäßig detaillierte Stile mochten und die Schriftfarben untergeordneter Elemente festlegten, obwohl wir mit Farbwerten auskommen konnten, die von übergeordneten Elementen geerbt wurden.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Demonstration eines neuen Designs für die Mitarbeiter des Unternehmens</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich an großen Blöcken der Site gearbeitet hatte, bat ich unsere Programmierer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adam Lear</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nick Craver,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mir </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">zu</font></a><font style="vertical-align: inherit;"> helfen, den Mitarbeitern von Stack Overflow eine vorläufige Version des dunklen Themas zu zeigen. </font><font style="vertical-align: inherit;">Dies würde es den Mitarbeitern ermöglichen, ein dunkles Thema aufzunehmen, das noch weit davon entfernt ist, zu erkennen, welche Bereiche der Website noch verbessert werden müssen. </font><font style="vertical-align: inherit;">Dies, dachte ich, würde sie ermutigen, Teile der Website mit dem meisten Verkehr zu verfeinern. </font><font style="vertical-align: inherit;">Dies würde es mir ermöglichen, die Haupthindernis für ein neues Design zu überwinden. </font><font style="vertical-align: inherit;">Dies würde nämlich dazu beitragen, das neue Design in die vorhandene Codebasis zu integrieren.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UttTasten</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Bereich der Site, an dem ich gearbeitet habe, mit Stacks erstellt wurde, mussten nicht sehr viele Probleme gelöst werden, um ihn für die Verwendung des Dunkelmodus vorzubereiten. Nehmen wir an, im Verlauf der Arbeit konnte entschieden werden, dass irgendwo der Rand nicht benötigt wurde oder dass irgendwo ein spezieller Grauton als Hintergrundfarbe benötigt wurde. Diese Vorbereitung für die Verwendung des Dunkelregimes könnte begrenzt sein. Leider wurde der größte Teil der Website ohne Verwendung von Stacks erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies zeigte sich am deutlichsten bei den Knöpfen. Im Laufe der Jahre der Arbeit an der Site wurden viele Button-Implementierungen verwendet. Dies war besonders frustrierend, da wir die Elemente selbst stilisiert haben </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Dies bedeutet, dass jedes Element </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder Element, das als dekoriert ist</font></font><code>input type=«button»</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wurde der Standardstil zugewiesen. Dieser Stil weist ein sehr hohes Maß an Spezifität auf und basiert auf einem veralteten Regelwerk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die oben genannte Tatsache hat dazu geführt, dass viele Umgestaltungen erforderlich sind, die noch andauern. Ziel ist es, CSS-Stile auf Elementebene zu entfernen </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und durch Entsprechungen aus Stacks zu ersetzen. Insbesondere sprechen wir über die Tatsache, dass Hunderte von Elementen </font></font><code>input type=«submit»</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durch ersetzt werden müssen </font></font><code>&lt;button type="submit" class="s-btn s-btn__primary"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Neben dem Hinzufügen von Arbeit stelle ich fest, dass wir häufig JavaScript-Funktionen mit visuellen Selektoren verknüpft haben. Wenn Sie die Klassen ändern, die sich auf das Erscheinungsbild des Elements auswirken, kann dies die Funktionalität der Schaltfläche beeinträchtigen. Daher musste ich während der Verarbeitung von Tausenden von Schaltflächen zuerst Klassen hinzufügen</font></font><code>js-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbinden Sie Handler mit ihnen, und entfernen Sie dann alte Stile, die das Erscheinungsbild von Schaltflächen definieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies führte letztendlich dazu, dass ich die meisten alten Schaltflächenklassen entfernte, wodurch die Schaltflächen beim Einschalten eines dunklen Themas die Farben korrekt ändern konnten.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Website-Titel</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Aufgabe zu verkomplizieren, kann der auf der gesamten Site verwendete Header in verschiedenen Modi arbeiten. Wir sprechen über Hell- und Dunkelmodi und über den Unterstützungsmodus für ein spezielles Thema. Die Site-Option für Teams (Stapelüberlauf für Teams) und für Unternehmenssysteme verwendet zwangsweise ein dunkles Header-Thema. Darüber hinaus verwendet die Befehlsversion die Farbe, die durch die Farbe des Team-Avatars angegeben wird. Wie viele unserer anderen Komponenten bietet CSS für den Site-Titel eine einzige Farbe, die bestimmt, ob der Titel hell oder dunkel ist. Diese Farbe wird dann mithilfe komplexer Less-Anweisungen transformiert, sodass Sie die verschiedenen Optionen erhalten. Wir konnten jedoch nicht das tun, was wir getan haben, als wir den Code des Entwurfssystems verarbeitet haben. Das heißt, sie konnten nicht einfach das gesamte alte CSS wegwerfen und durch Code ersetzen.welches CSS-Variablen verwendet. Tatsache ist, dass unsere Firmenkunden das Erscheinungsbild des Headers mithilfe von Themen vollständig anpassen. In diesem Fall werden Farboptionen basierend auf einer einzelnen Farbe generiert.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac9/46c/185/ac946c185fca67ca872cbba06ebf01e7.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leichte Überschrift</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a3/4b0/c9c/1a34b0c9c3f233b0ce09f1ee3a304f26.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dunkler Titel</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/444/297/a58/444297a5852500a5e4279b783619e1b3.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Befehlsüberschrift</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Im Fall der hellen Überschrift "Stapelüberlauf" mussten wir einen Mechanismus finden, um herauszufinden, ob eine bestimmte Farbe mithilfe einer CSS-Variablen oder eines statischen Hex-Werts festgelegt wurde. </font><font style="vertical-align: inherit;">Wenn die Farbe mithilfe einer CSS-Variablen festgelegt wurde, können wir die Less-Transformation vollständig überspringen und eine Überschrift erstellen, die die Farben basierend auf den Parametern des dunklen Themas ändern kann. </font><font style="vertical-align: inherit;">Wenn stattdessen eine statische Variable Less verwendet wurde, mussten Sie die Farbe bewerten, um festzustellen, ob sie hell oder dunkel ist, und eine entsprechende Überschrift erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis kamen wir zu diesem Ansatz:</font></font><br>
<br>
<pre><code class="css hljs">&amp; <span class="hljs-selector-tag">when</span> ( <span class="hljs-selector-tag">iscolor</span>(<span class="hljs-keyword">@theme-topbar-background-color</span>) ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">@theme-topbar-style</span>: if(luma(@theme-topbar-background-color) &gt;= <span class="hljs-number">50%</span>, light, dark);<font></font>
&nbsp;}<font></font>
&nbsp;&amp; <span class="hljs-selector-tag">when</span> <span class="hljs-selector-tag">not</span> ( <span class="hljs-selector-tag">iscolor</span>(<span class="hljs-keyword">@theme-topbar-background-color</span>) ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">@theme-topbar-style</span>: automatic;<font></font>
&nbsp;}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann wird basierend auf dem empfangenen Wert ( </font></font><code>automatic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>light</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder </font></font><code>dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), wird die richtigen Header erstellt.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍Tags</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich denjenigen, die am Entwurf von Komponenten beteiligt sind, nur einen Rat geben könnte, würde dieser lauten: "Beschreiben Sie in Komponenten nicht, was sich auf ihre Position auf der Seite auswirkt." Mit anderen Worten, welche Art von Raum die Komponenten trennt, sollte den Kontext bestimmen, in dem sie angewendet werden. Es ist nicht erforderlich, solche Dinge in der Komponente selbst festzulegen. In früheren Versionen von Stack Overflow wurde entschieden, dass </font></font><code>post-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">externe Polster </font><font style="vertical-align: inherit;">auf Komponenten </font><font style="vertical-align: inherit;">angewendet </font><font style="vertical-align: inherit;">werden sollten </font><font style="vertical-align: inherit;">. Gleichzeitig stellte sich heraus, dass Tags wie Schaltflächen einem JavaScript-Problem unterliegen. Um die Sache noch schwieriger zu machen, wurden die meisten Tags mit einer einzigen Hilfsmethode generiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Tag-Refactoring wurden </font></font><code>post-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponenten durch ersetzt</font></font><code>s-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Komponenten für verschiedene Themen. </font><font style="vertical-align: inherit;">Diese Arbeit beinhaltete auch Änderungen an JavaScript unter Berücksichtigung der Verwendung </font></font><code>js-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Darüber hinaus musste die für die Generierung von Tags verantwortliche Methode so geändert werden, dass beliebige Klassen akzeptiert werden, die sich auf die Platzierung von Elementen auswirken. </font><font style="vertical-align: inherit;">Tatsache ist, dass in bestimmten Kontexten möglicherweise Tags im Flex-Layout platziert werden müssen, anstatt sich auf vordefinierte externe Einrückungen zu verlassen (oder sich mit solchen Einrückungen zu befassen).</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Styling-Veröffentlichungen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Großteil des Stapelüberlaufs besteht aus Benutzerpublikationen. Diese Veröffentlichungen, nämlich Fragen, Antworten, Kommentare, werden mit Hilfe des Markdown-Markups erstellt. Während des Starts von Stack Overflow war Markdown Markup eine relativ neue Technologie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Laufe der Jahre hat das Web einige Standardmethoden entwickelt, um Überschriften und Zitate anzuzeigen. Die Einführung des dunklen Themas war ein ausgezeichneter Moment, um unseren Ansatz zur Formatierung von Veröffentlichungen zu überprüfen. Das umstrittenste Thema in dieser Angelegenheit war die Formatierung von Anführungszeichen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anfänglich wurden Zitate mit einer kräftigen gelben Hintergrundfarbe gerahmt, wodurch der Kontrast des Zitats selbst verringert wurde. </font><font style="vertical-align: inherit;">Die gelbe Farbe verursacht außerdem bestimmte Probleme, wenn sie auf einem dunklen Hintergrund angezeigt wird. </font><font style="vertical-align: inherit;">Infolgedessen gingen wir zu der allgemein akzeptierten Methode zur Anzeige von Anführungszeichen über und verwendeten einen schmalen grauen vertikalen Balken, um sie hervorzuheben.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ Code-Styling</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf den Seiten von Stack Overflow, die durchaus verständlich sind, werden viele Codeteile angezeigt. </font><font style="vertical-align: inherit;">Die Farben, mit denen wir die Syntax hervorhoben, hatten nichts mit unseren Signaturfarben zu tun. </font><font style="vertical-align: inherit;">Ich habe den starken Verdacht, dass diese Farben das Erbe der ersten Bibliothek sind, die im Projekt zur Hervorhebung der Syntax verwendet wird. </font><font style="vertical-align: inherit;">Nachdem ich diese Farben analysiert hatte, beschloss ich, das Syntax-Highlight einer tiefgreifenden Neugestaltung zu unterziehen. </font><font style="vertical-align: inherit;">Infolgedessen wurden die Farben der Hintergrundbeleuchtung durch Farben aus unserem Designsystem ersetzt. </font><font style="vertical-align: inherit;">Dies gilt sowohl für helle als auch für dunkle Themen. </font><font style="vertical-align: inherit;">Und dies geschieht, damit sich das, was passiert ist, nicht radikal von dem unterscheidet, was es vorher war.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4df/a80/f44/4dfa80f44153364564dae8eef53c2b44.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das helle Thema und die Beta-Version des dunklen Themas, die am 30. März veröffentlicht wurden.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aufgrund des Umfangs der Refactoring-Arbeiten, die wir beim Übergang zum dunklen Thema durchgeführt haben, konnten wir das Aussehen des Projekts ohne Schwierigkeiten ziemlich stark ändern. Basierend auf dem, was wir jetzt haben, können wir beispielsweise ein kontrastreiches Website-Thema entwickeln, das die Zugänglichkeit erhöht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Erstellung des dunklen Themas war das Ergebnis einer grundlegenden Änderung des Ansatzes für das Stack Overflow-Design. Insbesondere sprechen wir über die Verwendung eines</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Designsystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das ich seit einem Jahr bewerbe. Das Erstellen eines dunklen Themas war für mich eine hervorragende Gelegenheit, viele Teile der Website neu zu erstellen. Dies ist das erste von vielen Projekten, die die Verfügbarkeit von Stack Overflow erhöhen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Ablehnung der Unterstützung für IE11 nicht berücksichtigen, begannen die Arbeiten zum dunklen Thema im Juli 2019 mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PR, um die Situation zu untersuchen. </font><font style="vertical-align: inherit;">Zuvor gab es im April 2019 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diskussionen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu einem dunklen Thema. </font><font style="vertical-align: inherit;">Im Oktober 2019 ging eine experimentelle Version eines dunklen Themas in Produktion. </font><font style="vertical-align: inherit;">Nachdem mindestens 60 PRs erstellt worden waren, wurde den Benutzern eine Beta-Version des dunklen Themas präsentiert. </font><font style="vertical-align: inherit;">Es geschah am 30. März 2020. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liebe Leser! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie Stack Overflow? </font><font style="vertical-align: inherit;">Magst du ihr neues dunkles Thema?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495984/index.html">Reaktion, Leistung und -500 Millisekunden zu Beginn - die Geschichte unserer Optimierungen in Zahlen</a></li>
<li><a href="../de495986/index.html">Analyse internationaler Dokumente zum Informationssicherheits-Risikomanagement. Teil 2</a></li>
<li><a href="../de495990/index.html">Offenlegung von Telefonnummer und Geolokalisierung durch Sicherheitslücke in Telegramm</a></li>
<li><a href="../de495994/index.html">Beginn des akademischen Quartals oder wie ich zum Koordinator des Fernunterrichts wurde</a></li>
<li><a href="../de495996/index.html">Raspberry Pi, Python und Bewässerung von Zimmerpflanzen</a></li>
<li><a href="../de496004/index.html">Neue Modelle der Datensuche und -analyse. WSDM 2020 mit den Augen des Yandex.Tolki-Teams</a></li>
<li><a href="../de496006/index.html">Herauswachsender Reverse Proxy - Technologie für Fernschutz und Standortoptimierung ohne Änderung der DNS-A-Einträge</a></li>
<li><a href="../de496010/index.html">Was passiert mit dem Transport während der Krise (erste Aprilwoche)</a></li>
<li><a href="../de496014/index.html">IBM wöchentliche Seminare - April 2020</a></li>
<li><a href="../de496020/index.html">Sommer MVP. Wie flexibel ist Kotlin?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>