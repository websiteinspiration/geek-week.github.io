<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧜🏽 👘 🕺🏿 Cómo establecer un acceso seguro a los servidores en modo remoto 🆓 🤽🏻 📐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aquí en Habré ya hay docenas de artículos que cuentan cómo las personas experimentaron la transición a un lugar remoto, cómo experimentaron los primer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cómo establecer un acceso seguro a los servidores en modo remoto</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/497384/"><img src="https://habrastorage.org/webt/bz/yf/1i/bzyf1iwo4u_rvwjplqeghc7pige.jpeg"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí en Habré ya hay docenas de artículos que cuentan cómo las personas experimentaron la transición a un lugar remoto, cómo experimentaron los primeros días de un sitio remoto, luego cómo fue la primera semana, y así sucesivamente. A veces, algunos consejos prácticos se deslizaron entre la descripción de las emociones. Nosotros, como personas con 12 años de experiencia en la administración remota de servidores, decidimos hablar sobre una herramienta sin la cual el servidor remoto se convierte en un evento bastante peligroso para su negocio. ¿Por qué? - Porque la gente piensa en cualquier cosa (en primer lugar, por supuesto, en los malditos 40 minutos libres en el "zoom"), pero no en la seguridad. Más precisamente, por supuesto, usted pensó en este tema, pero ¿apostamos a que no fue el primero en la fila?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y la contrapregunta: me pregunto a qué condujeron tus pensamientos. </font><font style="vertical-align: inherit;">Después de todo, sus colegas, sentados en acogedores apartamentos y casas, van con equipos desprotegidos a través de canales desprotegidos y literalmente tocan todos los servidores de la compañía ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Queremos compartir con ustedes una versión de código abierto de la herramienta utilizada en nuestra compañía como servidor de bastión. </font><font style="vertical-align: inherit;">Se llama </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DevOpsProdigy Isolate Authentication Server</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cómo funciona</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Isolate agrega una contraseña de un solo uso y autenticación de dos factores al inicio de sesión SSH. Puede usar el equipo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YubiKey</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o la aplicación </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Authenticator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para esto </font><font style="vertical-align: inherit;">. Incluso si un usuario ha perdido la contraseña de su cuenta, sin una clave OTP, un atacante no puede usarla y acceder al servidor Isolate. Para implementar la autenticación de dos factores, utilizamos el módulo pam. Puedes leer más sobre esto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en este viejo artículo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Los usuarios no obtienen acceso directo a los servidores finales: la conexión pasa a través del servidor Isolate y el sistema monitorea y registra toda su actividad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas las acciones del usuario se reducen al uso de dos comandos:</font></font><br>
<br>
<b><code>s &lt;search-str&gt;</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- para buscar información por nombre de proyecto o nombre de servidor, la información se almacena en la base de datos incorporada de Redis, que se cierra por autorización. </font></font><br>
<br>
<b><code>g &lt;ip-address&gt; / g &lt;project-name&gt; &lt;server-name&gt;</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- comienza una llamada a este comando </font></font><code>/usd/bin/ssh </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Los argumentos para la llamada (por ejemplo, nombre de usuario, dirección IP, puerto, proxy) se toman de la base de datos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Es fácil administrar el acceso al servidor de autenticación: agregar / eliminar usuarios, etc. Puede encontrar una gran cantidad de ejemplos sobre el uso de comandos en el archivo Léame </font></font><b><code>auth-add-user</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><b><code>auth-add-host</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etc. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Técnicamente, necesita generar y colocar la clave del servidor Isolate en los servidores de destino, y sus usuarios deben obtener acceso regular al servidor Isolate de sudo a ssh.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y cuando quieran conectarse al servidor de destino, el sistema ejecutará el comando ssh. A continuación, el cliente ssh, lanzado desde un usuario privilegiado, recibirá una clave, mediante la cual el sistema, a su vez, obtendrá acceso al servidor deseado. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eso es todo. Isolate se ejecuta en la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configuración de CentOS 7 / Ubuntu 16.04 / Debian 9</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . También se necesita </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible 2.3+</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No puedo dejar de notar que </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DevOpsProdigy Isolate</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">También es útil en "tiempo de paz": puede estar tranquilo con él para sus servidores, incluso si alguien pierde una computadora portátil con una clave SSH. </font><font style="vertical-align: inherit;">Y cuando un empleado que tenía acceso deja la empresa, no tendrá que apresurarse para cambiar todas las contraseñas y claves. </font><font style="vertical-align: inherit;">Ahora estamos preparando una lista de mejoras y características para la versión actual de esta herramienta, que se implementan en nuestro sistema interno. </font><font style="vertical-align: inherit;">Estamos esperando deseos, problemas, relaciones públicas en nuestro </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositorio de github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para discusiones y preguntas, también hay un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chat de telegramas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chat en Slack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Así que ahora el trabajo remoto en su empresa puede ser un poco más fácil. </font><font style="vertical-align: inherit;">Y seguro, mucho más seguro. </font><font style="vertical-align: inherit;">Buena suerte</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es497368/index.html">Hackintosh en Powermac G5 o cómo ensamblar una estación de trabajo</a></li>
<li><a href="../es497370/index.html">Invertir en PPC, aumentar el LTV y la conversión móvil, que reúne a compañías de rápido crecimiento</a></li>
<li><a href="../es497372/index.html">Alexander Zeynalov: "Puede que ni siquiera sepas que tienes OpenStreetMap, pero lo será"</a></li>
<li><a href="../es497376/index.html">Qué hacer con las mejillas rojas para que no te crezca la nariz</a></li>
<li><a href="../es497382/index.html">8 dificultades de los equipos ágiles durante la pandemia: "Ndagwurugwu nke anya mmiri", ụjọ, oke iwe, agọnar, COVID-19</a></li>
<li><a href="../es497386/index.html">Los becarios VK Fellowship hablan sobre el futuro del aprendizaje a distancia, la disciplina y la socialización</a></li>
<li><a href="../es497388/index.html">Un millonésimo tirador desde cero: una ruta de desarrollador independiente</a></li>
<li><a href="../es497390/index.html">Cómo aprendimos a recomendar películas y por qué no debes confiar solo en las calificaciones</a></li>
<li><a href="../es497392/index.html">¿Cómo pasar de ser estudiante a ingeniero de software?</a></li>
<li><a href="../es497394/index.html">Diez recursos con cursos de informática disponibles de forma gratuita en abril</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>