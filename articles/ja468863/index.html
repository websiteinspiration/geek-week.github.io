<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛀🏼 👵🏾 🧚🏽 内部移動：ループ変数をクロージャーでラップする 👨‍👧‍👦 📞 👩🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="closures. , Go , / . . , !
 

 Golang Conf 2019, 7 . , , . , !
 

 .
 
 

 Go « ». , : (goroutines):
 

for _, val := range values { go func() { fmt.P...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>内部移動：ループ変数をクロージャーでラップする</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/468863/"><p><img src="https://habrastorage.org/webt/a2/v0/es/a2v0es8qfgkdntuzeattfznxanq.jpeg"></p><br>
<p><em>               closures.      ,  Go   ,    /     .      .        ,   !</em></p><br>
<p><em>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Golang Conf 2019</a>,   7   .     ,           ,   . ,   !</em></p><br>
<p><em>    .</em></p><a name="habracut"></a><br>
<br>
<p> Go      «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>». ,      :        (goroutines):</p><br>
<pre><code class="go hljs"><span class="hljs-keyword">for</span> _, val := <span class="hljs-keyword">range</span> values {
  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {<font></font>
    fmt.Println(val)<font></font>
  }()<font></font>
}</code></pre><br>
<p>       values len(values) .    :</p><br>
<pre><code class="go hljs"><span class="hljs-comment">// assume the type of each value is string</span>
<span class="hljs-keyword">for</span> _, val := <span class="hljs-keyword">range</span> values {
  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(val <span class="hljs-keyword">string</span>)</span></span> {<font></font>
    fmt.Println(val)<font></font>
  }(val)<font></font>
}</code></pre><br>
<p>  ,         .       ,        ,   .</p><br>
<h1 id="bazovye-veschi-peredacha-po-znacheniyu-i-peredacha-po-ssylke"> :       </h1><br>
<p> Go           [1].   <strong> 1</strong> [2]:</p><br>
<pre><code class="go hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">foobyval</span><span class="hljs-params">(n <span class="hljs-keyword">int</span>)</span></span> {<font></font>
  fmt.Println(n)<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ {
    <span class="hljs-keyword">go</span> foobyval(i)<font></font>
  }<font></font>
<font></font>
  time.Sleep(<span class="hljs-number">100</span> * time.Millisecond)<font></font>
}<font></font>
</code></pre><br>
<p>  ,  ,  ,        0  4. ,  -  . </p><br>
<p>   <strong> 2</strong>.</p><br>
<pre><code class="go hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">foobyref</span><span class="hljs-params">(n *<span class="hljs-keyword">int</span>)</span></span> {<font></font>
  fmt.Println(*n)<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ {
    <span class="hljs-keyword">go</span> foobyref(&amp;i)<font></font>
  }<font></font>
<font></font>
  time.Sleep(<span class="hljs-number">100</span> * time.Millisecond)<font></font>
}</code></pre><br>
<p>    :</p><br>
<p>5<br>
5<br>
5<br>
5<br>
5</p><br>
<p> ,     ,    80%   .        .</p><br>
<p>  —   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  Go</a>.  :</p><br>
<blockquote>,    ,    .</blockquote><p> , ,   ,          i,       .        .</p><br>
<p>        [3]     1  2.    1.</p><br>
<pre><code class="plaintext hljs">0x0026 00038 (go-func-byval.go:14)      MOVL    $8, (SP)<font></font>
0x002d 00045 (go-func-byval.go:14)      LEAQ    "".foobyval·f(SB), CX<font></font>
0x0034 00052 (go-func-byval.go:14)      MOVQ    CX, 8(SP)<font></font>
0x0039 00057 (go-func-byval.go:14)      MOVQ    AX, 16(SP)<font></font>
0x003e 00062 (go-func-byval.go:14)      CALL    runtime.newproc(SB)<font></font>
0x0043 00067 (go-func-byval.go:13)      MOVQ    "".i+24(SP), AX<font></font>
0x0048 00072 (go-func-byval.go:13)      INCQ    AX<font></font>
0x004b 00075 (go-func-byval.go:13)      CMPQ    AX, $5<font></font>
0x004f 00079 (go-func-byval.go:13)      JLT     33</code></pre><br>
<p>Go-     runtime.newproc.     ,      .    ,     i.     AX,          foobyval [4]    . « »         AX  .   AX      ,     foobyval.</p><br>
<p>     2:</p><br>
<pre><code class="plaintext hljs">0x0040 00064 (go-func-byref.go:14)      LEAQ    "".foobyref·f(SB), CX<font></font>
0x0047 00071 (go-func-byref.go:14)      MOVQ    CX, 8(SP)<font></font>
0x004c 00076 (go-func-byref.go:14)      MOVQ    AX, 16(SP)<font></font>
0x0051 00081 (go-func-byref.go:14)      CALL    runtime.newproc(SB)<font></font>
0x0056 00086 (go-func-byref.go:13)      MOVQ    "".&amp;i+24(SP), AX<font></font>
0x005b 00091 (go-func-byref.go:13)      INCQ    (AX)<font></font>
0x005e 00094 (go-func-byref.go:13)      CMPQ    (AX), $5<font></font>
0x0062 00098 (go-func-byref.go:13)      JLT     57</code></pre><br>
<p>   —   ,   , .   AX   i,    .  ,         (AX),   AX.  ,    AX  , , ,     i.  (AX)       .</p><br>
<p> .   ,        foobyref.<br>
     ,       .    ,         i,    .      i   ?  5.  ,      .       5.</p><br>
<h1 id="metody-so-znacheniem-vs-metody-s-ukazatelem">   VS   </h1><br>
<p>      ,   - .       -.   <strong> 3</strong>:</p><br>
<pre><code class="go hljs"><span class="hljs-keyword">type</span> MyInt <span class="hljs-keyword">int</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(mi MyInt)</span> <span class="hljs-title">Show</span><span class="hljs-params">()</span></span> {<font></font>
  fmt.Println(mi)<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
  ms := []MyInt{<span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">70</span>, <span class="hljs-number">80</span>, <span class="hljs-number">90</span>}
  <span class="hljs-keyword">for</span> _, m := <span class="hljs-keyword">range</span> ms {
    <span class="hljs-keyword">go</span> m.Show()<font></font>
  }<font></font>
<font></font>
  time.Sleep(<span class="hljs-number">100</span> * time.Millisecond)<font></font>
}</code></pre><br>
<p>     ms.   ,    .   <strong> 4</strong>       Show:</p><br>
<pre><code class="go hljs"><span class="hljs-keyword">type</span> MyInt <span class="hljs-keyword">int</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(mi *MyInt)</span> <span class="hljs-title">Show</span><span class="hljs-params">()</span></span> {<font></font>
  fmt.Println(*mi)<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
  ms := []MyInt{<span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">70</span>, <span class="hljs-number">80</span>, <span class="hljs-number">90</span>}
  <span class="hljs-keyword">for</span> _, m := <span class="hljs-keyword">range</span> ms {
    <span class="hljs-keyword">go</span> m.Show()<font></font>
  }<font></font>
<font></font>
  time.Sleep(<span class="hljs-number">100</span> * time.Millisecond)<font></font>
}</code></pre><br>
<p> ,   : 90,   .   ,       2.     -    Go     .        1   2   i  &amp;i,     ! m.Show()   ,   .</p><br>
<p>      Go,   .          .         Show,  ,      ( ,  ,        ). </p><br>
<p>     .     .          .</p><br>
<h1 id="zamykaniya"></h1><br>
<p>-    .   <strong> 5</strong>:</p><br>
<pre><code class="go hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">foobyval</span><span class="hljs-params">(n <span class="hljs-keyword">int</span>)</span></span> {<font></font>
  fmt.Println(n)<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ {
    <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {<font></font>
      foobyval(i)<font></font>
    }()<font></font>
  }<font></font>
<font></font>
  time.Sleep(<span class="hljs-number">100</span> * time.Millisecond)<font></font>
}</code></pre><br>
<p>  :</p><br>
<p>5<br>
5<br>
5<br>
5<br>
5</p><br>
<p>    ,  i     foobyval  .   1.  ?      :</p><br>
<pre><code class="plaintext hljs">0x0040 00064 (go-closure.go:14) LEAQ    "".main.func1·f(SB), CX<font></font>
0x0047 00071 (go-closure.go:14) MOVQ    CX, 8(SP)<font></font>
0x004c 00076 (go-closure.go:14) MOVQ    AX, 16(SP)<font></font>
0x0051 00081 (go-closure.go:14) CALL    runtime.newproc(SB)<font></font>
0x0056 00086 (go-closure.go:13) MOVQ    "".&amp;i+24(SP), AX<font></font>
0x005b 00091 (go-closure.go:13) INCQ    (AX)<font></font>
0x005e 00094 (go-closure.go:13) CMPQ    (AX), $5<font></font>
0x0062 00098 (go-closure.go:13) JLT     57</code></pre><br>
<p>     2: ,  i     AX.     i  .     ,   foobyval.      runtime.newproc,     ?</p><br>
<p>Func1  ,     .            main.      ,    ,   ,      .</p><br>
<p>    func1:</p><br>
<pre><code class="plaintext hljs">0x0000 00000 (go-closure.go:14) MOVQ    (TLS), CX<font></font>
0x0009 00009 (go-closure.go:14) CMPQ    SP, 16(CX)<font></font>
0x000d 00013 (go-closure.go:14) JLS     56<font></font>
0x000f 00015 (go-closure.go:14) SUBQ    $16, SP<font></font>
0x0013 00019 (go-closure.go:14) MOVQ    BP, 8(SP)<font></font>
0x0018 00024 (go-closure.go:14) LEAQ    8(SP), BP<font></font>
0x001d 00029 (go-closure.go:15) MOVQ    "".&amp;i+24(SP), AX<font></font>
0x0022 00034 (go-closure.go:15) MOVQ    (AX), AX<font></font>
0x0025 00037 (go-closure.go:15) MOVQ    AX, (SP)<font></font>
0x0029 00041 (go-closure.go:15) CALL    "".foobyval(SB)<font></font>
0x002e 00046 (go-closure.go:16) MOVQ    8(SP), BP<font></font>
0x0033 00051 (go-closure.go:16) ADDQ    $16, SP<font></font>
0x0037 00055 (go-closure.go:16) RET</code></pre><br>
<p> ,       24(SP),     int:    MOVQ (AX), AX,   ,      foobyval.   func1  - :</p><br>
<pre><code class="go hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">func1</span><span class="hljs-params">(i *<span class="hljs-keyword">int</span>)</span></span> {<font></font>
  foobyval(*i)<font></font>
}<font></font>
<font></font>
   main   - :<font></font>
<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ {
  <span class="hljs-keyword">go</span> func1(&amp;i)<font></font>
}<font></font>
</code></pre><br>
<p>   2,     .     ,  i             Go.</p><br>
<p>    ?  ,  “”.        .    :</p><br>
<pre><code class="go hljs"><span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ {<font></font>
        ii := i<font></font>
        <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {<font></font>
                foobyval(ii)<font></font>
        }()<font></font>
}</code></pre><br>
<p>   0, 1, 2, 3, 4   .        5?</p><br>
<p>,      ,   Go ,    . </p><br>
<h1 id="smotrim-pod-kapot">  </h1><br>
<p>       Go,          : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> 1</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> 2</a>.</p><br>
<p> (  )  ,     ,  :</p><br>
<pre><code class="go hljs"><span class="hljs-number">0</span>: *syntax.CallStmt {<font></font>
.  Tok: <span class="hljs-keyword">go</span><font></font>
.  Call: *syntax.CallExpr {<font></font>
.  .  Fun: *syntax.FuncLit {<font></font>
.  .  .  Type: *syntax.FuncType {<font></font>
.  .  .  .  ParamList: <span class="hljs-literal">nil</span>
.  .  .  .  ResultList: <span class="hljs-literal">nil</span><font></font>
.  .  .  }<font></font>
.  .  .  Body: *syntax.BlockStmt {<font></font>
.  .  .  .  List: []syntax.Stmt (<span class="hljs-number">1</span> entries) {<font></font>
.  .  .  .  .  <span class="hljs-number">0</span>: *syntax.ExprStmt {<font></font>
.  .  .  .  .  .  X: *syntax.CallExpr {<font></font>
.  .  .  .  .  .  .  Fun: foobyval @ <span class="hljs-keyword">go</span>-closure.<span class="hljs-keyword">go</span>:<span class="hljs-number">15</span>:<span class="hljs-number">4</span>
.  .  .  .  .  .  .  ArgList: []syntax.Expr (<span class="hljs-number">1</span> entries) {<font></font>
.  .  .  .  .  .  .  .  <span class="hljs-number">0</span>: i @ <span class="hljs-keyword">go</span>-closure.<span class="hljs-keyword">go</span>:<span class="hljs-number">15</span>:<span class="hljs-number">13</span><font></font>
.  .  .  .  .  .  .  }<font></font>
.  .  .  .  .  .  .  HasDots: <span class="hljs-literal">false</span><font></font>
.  .  .  .  .  .  }<font></font>
.  .  .  .  .  }<font></font>
.  .  .  .  }<font></font>
.  .  .  .  Rbrace: syntax.Pos {}<font></font>
.  .  .  }<font></font>
.  .  }<font></font>
.  .  ArgList: <span class="hljs-literal">nil</span>
.  .  HasDots: <span class="hljs-literal">false</span><font></font>
.  }<font></font>
}</code></pre><br>
<p>    FuncLit —  .       AST (  ),         .     noder.funcLit,    gc/closure.go.</p><br>
<p>    ,         AST:</p><br>
<pre><code class="go hljs">main.func1:<font></font>
.   DCLFUNC l(<span class="hljs-number">14</span>) tc(<span class="hljs-number">1</span>) FUNC-<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span><font></font>
.   DCLFUNC-body<font></font>
.   .   CALLFUNC l(<span class="hljs-number">15</span>) tc(<span class="hljs-number">1</span>)<font></font>
.   .   .   NAME-main.foobyval a(<span class="hljs-literal">true</span>) l(<span class="hljs-number">8</span>) x(<span class="hljs-number">0</span>) class(PFUNC) tc(<span class="hljs-number">1</span>) used FUNC-<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(<span class="hljs-keyword">int</span>)</span></span><font></font>
.   .   CALLFUNC-list<font></font>
.   .   .   NAME-main.i l(<span class="hljs-number">15</span>) x(<span class="hljs-number">0</span>) class(PAUTOHEAP) tc(<span class="hljs-number">1</span>) used <span class="hljs-keyword">int</span></code></pre><br>
<p> ,     foobyval —  NAME-main.i,         ,   .</p><br>
<p>          capturevars,   « ».   — ,   « » (   ,   ).      ,    :</p><br>
<p>// capturevars        .<br>
//  ,         .<br>
//        &lt;= 128 ,        (  ).</p><br>
<p> capturevars    5,  ,    i     ,     addrtaken  .    AST :</p><br>
<pre><code class="go hljs">FOR l(<span class="hljs-number">13</span>) tc(<span class="hljs-number">1</span>)<font></font>
.   LT l(<span class="hljs-number">13</span>) tc(<span class="hljs-number">1</span>) <span class="hljs-keyword">bool</span>
.   .   NAME-main.i a(<span class="hljs-literal">true</span>) g(<span class="hljs-number">1</span>) l(<span class="hljs-number">13</span>) x(<span class="hljs-number">0</span>) class(PAUTOHEAP) esc(h) tc(<span class="hljs-number">1</span>) addrtaken assigned used <span class="hljs-keyword">int</span></code></pre><br>
<p>       « »,         (            ).   i   .<br>
    ,     ii := i, ii         [5].</p><br>
<p> ,           .        , Go    . ,   ,         ,      . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Go FAQ</a> ,   , ,   .</p><br>
<blockquote>  (   ) — ,    .       ,  -         Go  1.</blockquote><p>    , ,  ,     .    ,         .   , ,   read-only     .    -    -.</p><br>
<hr><br>
<p>[1]    ,  ,    «  »  Go, . .    ,    .   ,    «  »,     «  »       (   &amp;n  ,   *int),    ,     .</p><br>
<p>[2]      time.Sleep         .   main   ,    .        -  WaitGroup  done .</p><br>
<p>[3]             go tool compile -l -S.  -l         .</p><br>
<p>[4] Foobyval   ,      go.        (16(SP))  runtime.newproc,    foobyval (i   )    .</p><br>
<p>[5]     ii = 10     for  (  go).    ? ?</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja468847/index.html">他の国での公共調達：法律にフレームワークが必要な理由</a></li>
<li><a href="../ja468849/index.html">単一のプログラムでの不明なプロセッサリバースエンジニアリング</a></li>
<li><a href="../ja468851/index.html">React Nativeでのアニメーションの実装</a></li>
<li><a href="../ja468853/index.html">レガシープロジェクトにおけるSRPの1つの成功したアプリケーションのストーリー</a></li>
<li><a href="../ja468859/index.html">「ポンピング用ルーター」：インターネットプロバイダー向けのTP-Link機器チューニング </a></li>
<li><a href="../ja468873/index.html">かつて利便性を破った私鉄</a></li>
<li><a href="../ja468875/index.html">崩壊したハッシュレートと減価償却のエピソード</a></li>
<li><a href="../ja468877/index.html">ページネーション中に負荷を表示する別の方法</a></li>
<li><a href="../ja468879/index.html">コンピュータメモリの黎明期</a></li>
<li><a href="../ja468883/index.html">Natalya Kozlovskaya：「OpenStreetMapの描画を誰が気にするか：男性か女性か？」</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>