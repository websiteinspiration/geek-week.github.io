<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§úüèº ü•ä ü§´ C√≥mo evitar errores al crear informes en Power BI y llegar a la construcci√≥n de un sistema de carga para big data üíí üö≠ ‚õπüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Detr√°s de los hermosos y comprensibles paneles de Power BI a menudo hay semanas de preparaci√≥n y miner√≠a de datos. Especialmente cuando se trata de cr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>C√≥mo evitar errores al crear informes en Power BI y llegar a la construcci√≥n de un sistema de carga para big data</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/agima/blog/492204/"><img src="https://habrastorage.org/webt/2d/wo/vr/2dwovr1h5boyixwojsztgjctksk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Detr√°s de los hermosos y comprensibles paneles de Power BI a menudo hay semanas de preparaci√≥n y miner√≠a de datos. </font><font style="vertical-align: inherit;">Especialmente cuando se trata de crear informes de BI √∫tiles en una organizaci√≥n grande con un volumen de tr√°fico de decenas de millones de visitantes cada mes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este art√≠culo, quiero describir una serie de aspectos negativos que encontr√© al crear informes de BI basados ‚Äã‚Äãen datos de sistemas de an√°lisis web en varias compa√±√≠as (grandes representantes del comercio electr√≥nico ruso, compa√±√≠as de seguros, etc.). </font><font style="vertical-align: inherit;">El art√≠culo no pretende hacer publicidad, o viceversa, la publicidad de ciertas herramientas o decisiones. </font><font style="vertical-align: inherit;">Est√° preparado para ayudar a evitar posibles momentos negativos para otros usuarios e indicar opciones para soluciones.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descargo de responsabilidad</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estoy hablando de grandes cantidades de datos y mostrando ejemplos de carga y muestreo de Google Analytics 360. En proyectos con una peque√±a cantidad de datos, tales dificultades pueden no existir. </font><font style="vertical-align: inherit;">Conoc√≠ todos los problemas identificados en la pr√°ctica y en el art√≠culo describo solo mi experiencia en la resoluci√≥n: la suya puede ser completamente diferente.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conector a Yandex.Metrica</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandex.Metrica tiene condiciones de muestreo m√°s suaves y una interfaz intuitiva en comparaci√≥n con Google Analytics. Por lo tanto, muchos especialistas en marketing prefieren Yandex.Metrica y crean informes de BI sobre la carga de datos desde all√≠. Para hacer esto, use el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conector de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Maxim Uvarov. Este m√©todo no es seguro y no permite procesar solicitudes complejas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las grandes empresas necesitan una garant√≠a de que la informaci√≥n confidencial no caer√° en manos de los detractores, y los indicadores financieros se utilizar√°n solo para las partes interesadas y exclusivamente dentro de la empresa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El primer gran inconveniente es que para usar el conector, en Power BI debe habilitar la configuraci√≥n "Ignorar niveles de privacidad", de lo contrario, simplemente no funcionar√°.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ty/pg/eb/typgebof8euu4d6s2pgljyfqs4k.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, los datos confidenciales pueden caer en manos de cualquier usuario no autorizado. Esto se confirma con un extracto de la Ayuda de Power BI. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/2j/86/xd2j860l6kp0j7wuswlge0jor3u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conexi√≥n de datos es an√≥nima. Sin embargo, no hay autorizaci√≥n o verificaci√≥n de permiso para usar estos datos para aquellos usuarios que realmente est√°n autorizados a hacerlo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gd/b3/dn/gdb3dni9wi_kxd27btthfhuk5h0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que estos conectores funcionen, debe obtener un token de acceso oauth. La descripci√≥n del conector proporciona un enlace sobre c√≥mo dar acceso a la aplicaci√≥n a su cuenta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-y/nq/gx/-ynqgxssteulef1kedj3smcflkk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, una aplicaci√≥n de terceros obtendr√° acceso a su cuenta. Nadie tiene una garant√≠a para la seguridad de sus datos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tm/ux/23/tmux237gyybnovyelwetareee4g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El segundo inconveniente es que la API Yandex.Metrica no puede procesar grandes cantidades de datos en proyectos grandes y, como resultado, el conector tambi√©n se niega a trabajar con consultas complejas en datos Yandex.Metrica sin procesar, no los descarga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, debe cargar datos durante un a√±o, sin filtros complejos. El conector arroja un error: "La solicitud es demasiado compleja. Reduzca el espaciado de fecha o el muestreo ". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xs/vx/fi/xsvxfi4zsihgayia1fo87_pbj88.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, esta es una traducci√≥n del error de la API Yandex.Metrica. Sin embargo, en este caso, no tenemos otra opci√≥n para descargar datos con un desglose por mes o d√≠a, por ejemplo, para completar los datos de cada mes y combinarlos en un solo conjunto de datos que supere un error de API. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si reduce significativamente el per√≠odo, la API le permite bombear datos, pero esto es solo una peque√±a parte de lo que necesitamos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/gd/6q/xdgd6qonfgcyjthxhjj65_ophyu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para generar informes de gran tama√±o, la descarga por per√≠odos cortos no es pr√°ctica ni conveniente. </font><font style="vertical-align: inherit;">En la pr√°ctica, a menudo necesita descargar a trav√©s de embudos complejos de sitios abiertos con una gran cantidad de visitas por d√≠a. </font><font style="vertical-align: inherit;">Especialmente cuando se utilizan segmentos complejos de visitas, es pr√°cticamente imposible cargar los datos necesarios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Incluso si pudo cargar los datos, no es un hecho que sea posible cargarlos en el modelo de datos para generar el informe en s√≠, porque de vez en cuando aparecen varios errores de carga. </font><font style="vertical-align: inherit;">Por alguna raz√≥n, incluso con una tabla cargada normalmente, se producen errores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wk/9d/u8/wk9du8sdgpdqe1gb7cr-n2uk6_8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que todas las partes interesadas dentro de la empresa puedan usar el informe creado en el conector API Yandex.Metrica, debe publicar el informe en el servicio PowerBI. </font><font style="vertical-align: inherit;">En este caso, los niveles de privacidad tambi√©n deber√°n ignorarse.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qc/dg/i8/qcdgi8gck0lkcdp-t--vedkmuiw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se configura la visualizaci√≥n y el informe se publica en la nube de Microsoft, el conector mostrar√° un error de consulta combinado y no se actualizar√° a trav√©s del servicio Power BI; no podr√° configurar la actualizaci√≥n programada de su informe. El error ocurre cuando una de las consultas, que forma la tabla de carga final, contiene la l√≥gica del trabajo simult√°neo con la consulta externa e interna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el error, la </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0-/ci/rt/0-cirtjh6ifdkpe-ajduldxstsc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tabla </font><font style="vertical-align: inherit;">"Funci√≥n llamada" solo se indica: </font><font style="vertical-align: inherit;">esta tabla se obtiene debido a la funci√≥n PQYM, que funciona con una fuente de datos externa: Yandex.Metrica API. El mecanismo de actualizaci√≥n de informes en Power BI no funciona y solicita rehacer la combinaci√≥n de consultas. Esto se debe a los enlaces internos de una solicitud para conectarse a una solicitud externa, as√≠ como a la estructura de la funci√≥n misma.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/lv/mb/vvlvmbnqatqohghiivpcofsgxze.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidimos no usar dicho conector al crear informes y cambiamos a descargar datos de la API Yandex.Metrica a trav√©s de scripts de Python, m√°s sobre esto m√°s adelante en el art√≠culo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conector de Google Analytics</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para generar informes sobre los datos de Google Analytics (estamos hablando de descargas directas desde el sistema de an√°lisis), tambi√©n hay un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conector</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Maxim Uvarov. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ tambi√©n deber√° establecer "Ignorar los niveles de privacidad". El acceso a la API de su sistema de an√°lisis, que contiene datos sobre ventas en l√≠nea, se realiza mediante una conexi√≥n an√≥nima. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/ke/x1/pwkex1vkvifxlkqne2kbvo0pvsy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acuerdo con las instrucciones, nuevamente tendr√° que abrir el acceso a una aplicaci√≥n de terceros, solo para una cuenta de Google, que contiene una amenaza para la privacidad de sus datos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/qr/0f/zxqr0fyqjpqp_6umz9y_o5_i83a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede reescribir algunos datos en el conector y comenzar a usarlos para su propia aplicaci√≥n. Para hacer esto, registre "OAuth 2.0 Client ID" en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud.google.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, obtenga tokens de acceso e ingrese las claves de acceso necesarias en su mecanismo de trabajo. Pero incluso estas acciones no ayudar√°n en la lucha contra el muestreo y la actualizaci√≥n de sus informes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siempre que toque los datos agregados de la API de Google Analytics, siempre encontraremos muestras. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El conector tiene la opci√≥n de descargar un d√≠a, pero incluso no siempre se guarda. El indicador de muestreo incorporado en el conector muestra que est√° all√≠ incluso en un d√≠a. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/kj/5l/dkkj5lp-e3zi8drcbylxc1hzmjk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, los datos de sesi√≥n desglosados ‚Äã‚Äãpor Shopping Stage no se pueden cargar sin tomar muestras de tales cantidades de datos. Esto generar√° grandes errores en los datos y las medidas al crear informes, especialmente cuando sea necesario calcular con precisi√≥n la conversi√≥n de la transici√≥n de un paso a otro, o cargar datos en embudos con una estructura compleja de segmentos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Incluso si la p√©rdida de datos no es cr√≠tica para usted, a√∫n no puede configurar la actualizaci√≥n programada de sus informes a trav√©s del servicio Power BI. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sh/5q/61/sh5q61niklucdiieoedjfltnp3c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El mismo error del mecanismo de trabajo interfiere, solo las funciones PQGA.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/k0/ft/uy/k0ftuyqfzkqptqvupuotawgo1my.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n nos negamos a trabajar con este conector.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conector nativo de Google Analytics</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A veces, Google y Microsoft hacen concesiones entre s√≠: Power BI tiene un conector est√°ndar de Google Analytics. </font><font style="vertical-align: inherit;">Desafortunadamente, no existe tal opci√≥n para Yandex.Metrica.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xl/hk/po/xlhkpo-a4h95gz-nksi6ws_613k.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El mecanismo para trabajar con la API de Google Analytics se implementa m√°s convenientemente aqu√≠ que en el conector de Maxim Uvarov, pero al descargar una gran cantidad de indicadores, los datos se muestrean demasiado. </font><font style="vertical-align: inherit;">Los n√∫meros que se repiten en la captura de pantalla son los datos muestreados.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lw/ba/n_/lwban_daksuitnrmfw5sihfjqpm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede evitar el muestreo si descarga mini-tablas desglosadas solo por fecha y cualquier indicador. Por ejemplo, fecha, n√∫mero de sesiones y tipo de dispositivo. Y luego de estas tablas para recopilar los informes necesarios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no tiene millones de tr√°fico, esto puede ayudar. Sin embargo, los informes no ser√°n informativos y con limitaciones en la escalabilidad: debido a las muchas mini-tablas en el modelo de datos, es dif√≠cil crear relaciones entre ellas. Esto impone una restricci√≥n en la creaci√≥n de filtros y sectores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede volver a escribir el conector est√°ndar y obligarlo a cargar datos para cada d√≠a, mientras que los datos estar√°n cerca de los n√∫meros reales en la interfaz de GA, pero no podr√° evitar el muestreo.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/br/oc/fg/brocfgwihu2rpcqfjrdmhsvbsdc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seg√∫n mis observaciones, en el desglose de las sesiones de la Etapa de compras, ni un solo conector ha podido cargar datos normalmente sin muestrear grandes cantidades de datos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el conector est√°ndar, no puede personalizar las fechas de descarga. </font><font style="vertical-align: inherit;">Todo lo que se trata es simplemente una selecci√≥n de par√°metros y m√©tricas de las API de Google Analytics organizadas en carpetas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/he/_n/tt/he_ntt6qogkz6vm-3mjnbmn0rya.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este conector es adecuado para proyectos de Internet peque√±os y medianos con poco tr√°fico. </font><font style="vertical-align: inherit;">Aqu√≠, surge una situaci√≥n similar con la obtenci√≥n de datos de Yandex.Metrica. </font><font style="vertical-align: inherit;">Toda la informaci√≥n necesaria sin p√©rdida de precisi√≥n solo se puede descargar directamente a trav√©s de la API mediante scripts o servicios especiales de transmisi√≥n de datos, m√°s sobre esto m√°s adelante en el art√≠culo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sticks in Wheels de Google</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recientemente, notamos un bloqueo extra√±o: al intentar configurar la actualizaci√≥n para el conector "nativo" de Google Analytics, apareci√≥ un error de autorizaci√≥n a trav√©s de una cuenta de Google en la interfaz del Servicio Power BI. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o0/wt/yr/o0wtyrw-caxzwahcpjjb_pgfrbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intentamos averiguar de Google qu√© hacer en tal situaci√≥n y c√≥mo "blanquear" la reputaci√≥n de la cuenta, pero nuestros intentos fallaron. Intentamos registrar nuevas cuentas e iniciar sesi√≥n a trav√©s de diferentes dispositivos: Google bloque√≥ cualquier intento de autorizaci√≥n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aproximadamente un mes despu√©s del bloqueo, todav√≠a logramos iniciar sesi√≥n a trav√©s de la misma cuenta, pero tal incidente puede interferir seriamente con la publicaci√≥n de los informes de BI necesarios de manera oportuna y poner al cliente en una posici√≥n inc√≥moda. </font><font style="vertical-align: inherit;">Inmediatamente despu√©s de la cerradura, comenzamos a buscar una posible salida de la situaci√≥n. </font><font style="vertical-align: inherit;">Para evitar bloqueos inesperados, decidimos crear nuestro propio entorno controlado con los datos necesarios para los informes de BI.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones de solucion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obtenga los informes de BI necesarios para organizaciones medianas y grandes, e incluso sin muestreo es posible. </font><font style="vertical-align: inherit;">Pero debe probar un poco y elegir una de varias maneras. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede usar servicios listos para transmitir datos. </font><font style="vertical-align: inherit;">Su objetivo principal es cargar datos desde el sistema de an√°lisis, varios sistemas de publicidad, CRM y otros servicios a cualquier almacenamiento. </font><font style="vertical-align: inherit;">Conveniente, r√°pido y pr√°ctico, pero no gratuito. </font><font style="vertical-align: inherit;">En grandes vol√∫menes de datos o datos con m√∫ltiples fuentes, las cantidades son tangibles. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los servicios m√°s famosos:</font></font></b><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renta.im</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OWOX BI Pipeline</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myBI Connect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada uno de estos sistemas le permite configurar la transmisi√≥n diaria de datos no muestreados desde sistemas de an√°lisis web (Yandex.Metrics y Google Analytics) a bases de datos (por ejemplo, BigQuery, Azure SQL Database, Microsoft SQL Server o ClickHouse) para conectarse a trav√©s de Power BI y generar informes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si las herramientas enumeradas son demasiado caras para la empresa, puede intentar implementar su sistema de carga de datos y usar Power BI + Python + Any Cloud Server (o Yandex.Cloud) + PostgreSQL. Este es el m√©todo que utilizamos al crear informes de BI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esquema de interacci√≥n del sistema:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kb/iu/um/kbiuumx6q6a_k5wxdq1g78ukehg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tal esquema de trabajo proporciona la seguridad necesaria, la autonom√≠a y la agregaci√≥n de datos. Una vez que haya establecido dicho esquema una vez, no necesitar√° perder tiempo recopilando informaci√≥n: todo est√° en el repositorio, solo tiene que conectarse y comenzar a hacer un informe sobre Power BI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los scripts de Python "extraen" todos los datos de acuerdo con la API de las fuentes necesarias, escriben en la base de datos o descargan formularios (por ejemplo, en formato csv). Las secuencias de comandos para cargar desde la API y cargar en la base de datos merecen un art√≠culo separado, y alg√∫n d√≠a lo escribir√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, hay muchas plantillas y soluciones preparadas en Internet, pero para una mayor ampliaci√≥n es necesario conocer las necesidades individuales del sistema bajo el cual se crean los scripts para la descarga.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los datos se escriben en una base de datos pre-creada y configurada, en nuestro caso, PostgreSQL. </font><font style="vertical-align: inherit;">Los scripts extraen datos de cada d√≠a y los escriben en tablas seg√∫n un cronograma. </font><font style="vertical-align: inherit;">Est√°n ubicados en un servidor en la nube bajo nuestro control o bajo el control del servicio de seguridad de TI del cliente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay una gran cantidad de empresas que brindan servicios de almacenamiento en la nube. </font><font style="vertical-align: inherit;">Basado en preferencias personales, se seleccion√≥ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Cloud</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ventajas de Yandex.Cloud:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraci√≥n conveniente y alquiler de servidores con PostgreSQL preinstalado.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amplia documentaci√≥n en ruso, que est√° claramente establecida y le permite aprender r√°pidamente c√≥mo usar el servicio. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conveniente gesti√≥n del servidor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soporte r√°pido de especialistas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flexibilidad de varias configuraciones y tarifas de equipos: nadie impone ning√∫n paquete de configuraci√≥n listo para usar, usted elige la configuraci√≥n de su equipo usted mismo, adem√°s puede solicitar de inmediato la configuraci√≥n predeterminada de cualquier base de datos.</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yt/f6/_-/ytf6_-9xrfcobvmfbwaajwyl8bm.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las cargas resultantes se escriben en la base de datos PostgreSQL. </font><font style="vertical-align: inherit;">Se eligi√≥ esta base de datos porque es un DBMS relacional de objetos (que funciona con matrices multidimensionales y soporte JSON desde el "cuadro", por lo que deben tener estructuras de datos complejas). </font><font style="vertical-align: inherit;">Es flexible, confiable, gratuito y tambi√©n tiene una gran comunidad de soporte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Power BI tiene un conector directo incorporado en PostgreSQL. </font><font style="vertical-align: inherit;">En la primera conexi√≥n, debe instalar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Npgsql</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adicional </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Power BI le notifica esto y proporciona un enlace.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ju/n_/wf/jun_wfcjtsnm0khj3wf9pzj8h2s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para configurar las actualizaciones de informes cuando se usa el almacenamiento en la nube, debe configurar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BI Gateway</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es necesario configurar la actualizaci√≥n de los informes de BI y garantizar la seguridad de los datos confidenciales al transferirlos desde una base de datos, que debe ubicarse en el circuito interno de TI de su organizaci√≥n o en un servidor seguro en la nube. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La puerta de enlace proporciona una transferencia de datos r√°pida y segura entre los almacenes de datos ubicados en la red interna de la organizaci√≥n y los servicios en la nube de Microsoft. La transferencia de datos entre Power BI y la puerta de enlace es segura, y todas las credenciales proporcionadas por los administradores de la puerta de enlace se cifran para proteger la informaci√≥n en la nube y se descifran solo en la computadora de la puerta de enlace.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mm/hd/re/mmhdrebvglgmfz1zfbncjck835w.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de descargar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BI Gateway</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e iniciarlo, aparece un cuadro de di√°logo.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/or/q7/4z/orq74zn_gyemebomwqxzfxcwkfu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para registrar y operar la puerta de enlace, se requieren las credenciales del servicio en la nube del Servicio Power BI.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/4z/pq/ft/4zpqft8l1urixndm8dfndrrje4s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de todas las configuraciones, aparecer√° una ventana sobre la puerta de enlace en funcionamiento. </font><font style="vertical-align: inherit;">A continuaci√≥n, debe realizar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configuraciones adicionales.</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/mb/t2/swmbt2b7ldkzf42k56px-ucc4re.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una alternativa m√°s simple para personalizar PostgreSQL es Google BigQuery. </font><font style="vertical-align: inherit;">Power BI tiene un conector incorporado en Google BigQuery. </font><font style="vertical-align: inherit;">En este caso, es necesario seguir el principio de "siete veces para calcular el costo, una vez para cumplir con la solicitud".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3m/gv/7a/3mgv7a-1zf0i3g8oxj-jiabgke4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BigQuery se puede utilizar de forma gratuita durante un a√±o, simplemente atando una tarjeta bancaria a un acuerdo para usar el servicio. </font><font style="vertical-align: inherit;">El dinero despu√©s de la fecha l√≠mite sin su conocimiento no ser√° cargado. </font><font style="vertical-align: inherit;">Nuevas tarifas: de acuerdo con las tarifas del sistema en s√≠, pero con algunas "ventajas" agradables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si los datos descargados de sus sistemas no alcanzan los 10 GB por mes (!), No habr√° ning√∫n cargo por la descarga.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bg/il/hj/bgilhj19p3rswgrnp5co7lw75dq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si el procesamiento de datos mensual no excede 1 TB, tampoco se cobrar√° ninguna tarifa por esto. </font><font style="vertical-align: inherit;">Si es m√°s, entonces $ 5 por cada tratamiento 1 TB.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ff/gk/4l/ffgk4l0whznxxacywqupqmuht1i.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si necesita almacenar m√°s de 10 GB por mes, cada gigabyte posterior costar√° $ 0.010.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lh/bn/7z/lhbn7zv038ot99ogeahedobx5bc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las tarifas se describen con m√°s detalle en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la p√°gina BigQuery.</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si necesita datos de varios sistemas de an√°lisis y, al mismo tiempo, la seguridad, la agregaci√≥n continua, la usabilidad y la falta de muestreo son fundamentales para usted, tiene dos formas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El primero es la transmisi√≥n de servicios. </font><font style="vertical-align: inherit;">Son f√°ciles de usar, cuentan con soporte t√©cnico continuo e integraci√≥n lista para usar con almacenes de datos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desventajas</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Costos tangibles en grandes cantidades de datos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipo limitado de integraci√≥n proporcionada.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procesos no controlados del lado del proveedor de servicios de transmisi√≥n para trabajar con su informaci√≥n.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El segundo es su propia secuencia de carga y agregaci√≥n de datos. Escalable, controlado, con seguridad de datos. Puede parecer complicado y llevar mucho tiempo implementarlo. Si la empresa necesita una organizaci√≥n efectiva de informes de BI, su mayor escalabilidad y seguridad de datos, entonces esta opci√≥n es la m√°s aceptable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos aquellos que solo piensan en informes de BI completos deben agregar el lema "Acumular, estructurar y proteger estos datos de los j√≥venes" en la cultura corporativa. No hay nada mejor que una base de datos tolerante a fallas completa con una copia de seguridad regular y con derechos diferenciados para usarla para diferentes categor√≠as de partes interesadas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es necesario acumular, estructurar y agregar sus datos desde sistemas anal√≠ticos, y desde una aplicaci√≥n m√≥vil, y desde otros servicios al cliente. </font><font style="vertical-align: inherit;">Todo esto en el futuro ayudar√° a analizar tanto su audiencia como sus productos en cualquier secci√≥n. </font><font style="vertical-align: inherit;">La informaci√≥n y los datos ahora gobiernan el mundo y a veces cuestan m√°s que el dinero. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√≥mo implementar el enfoque descrito en el art√≠culo para transferir datos anal√≠ticos a una base de datos PostgreSQL usando scripts Python y detalles de implementaci√≥n, lo analizar√© en los siguientes art√≠culos.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es492190/index.html">SaaS ruso 2019 - resultados</a></li>
<li><a href="../es492192/index.html">En busca de la excelencia de bolsillo</a></li>
<li><a href="../es492194/index.html">Conoce a un chico que vende dispositivos inal√°mbricos para robar r√°pidamente autos de lujo</a></li>
<li><a href="../es492200/index.html">Prueba de automatizaci√≥n: Java o Python?</a></li>
<li><a href="../es492202/index.html">–ö–æ—Ä–æ–Ω–∞–≤–∏—Ä—É—Å COVID-19: —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã, –±–µ–∑ –ø–∞–Ω–∏–∫–∏</a></li>
<li><a href="../es492210/index.html">Descripci√≥n t√©cnica de la arquitectura de almacenamiento Infinidat</a></li>
<li><a href="../es492212/index.html">Desarrollo frontal de portales en software de c√≥digo abierto: comparta experiencia</a></li>
<li><a href="../es492214/index.html">¬øPor qu√© vale la pena hacer reuniones mientras camina? Probado por la ciencia, confirmado por la mafia.</a></li>
<li><a href="../es492216/index.html">Guardar valores en la aplicaci√≥n .Net en la fase de construcci√≥n</a></li>
<li><a href="../es492218/index.html">Reglas de dise√±o de iconos para recordar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>