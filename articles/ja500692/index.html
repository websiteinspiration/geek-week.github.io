<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤙🏾 ♨️ 😷 3Dゲームのレンダリング：はじめに 💲 💌 🏟️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="完璧なゲーミングPCで新鮮なCall of Mario：Deathduty Battleyardをプレイします。壮大な景色と複雑な細部を眺めながら、美しく超ワイドな4Kモニターをご覧ください。グラフィックスがどのように画面に表示されるのか疑問に思ったことはありませんか？このゲームでコンピューターがこ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>3Dゲームのレンダリング：はじめに</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/500692/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/dq/hw/gw/dqhwgwxgezi8q8erzwy94bjwst0.jpeg" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完璧なゲーミングPCで新鮮なCall of Mario：Deathduty Battleyardをプレイします。壮大な景色と複雑な細部を眺めながら、美しく超ワイドな4Kモニターをご覧ください。グラフィックスがどのように画面に表示されるのか疑問に思ったことはありませんか？このゲームでコンピューターがこれをすべて表示する方法を考えたことはありますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Dゲームレンダリングのツアーへようこそ：初心者向けの旅。画面から基本的なフレームを1つ作成する方法を学びます。</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/getpro/habr/post_images/d50/b40/462/d50b40462a4a18cef3e522b236f52c99.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
毎年、スマートフォン、コンソール、PC向けの数百もの新しいゲームがリリースされています。さまざまなフォーマットとジャンルが非常に多いですが、そのうちの1つはおそらく、最もよくマスターされています-これらは3Dゲームです。どのゲームが最初でしたか-議論の余地のある質問、そして</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ギネスブックのベースを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ざっと見たところ、</font><font style="vertical-align: inherit;">いくつかの結果が出ました。これは1984年にリリースされた最初のUltimate Knight Loreゲームと見なすことができますが、厳密に言えば、このゲームの画像は2次元であり、情報は完全な3次元で使用されていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、現代の3Dゲームが画像を形成する方法を本当に理解したい場合は、別の例から始める必要があり</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。WinningRun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1988年にリリースされたナムコ。おそらくこれは、現代のものとそれほど変わらないテクノロジを使用した最初の完全な3次元ゲームでした。もちろん、年齢が30年を超えたゲームは、たとえば、2018年にリリースされたCodemasters F1とまったく同じではありません。しかし、回路図は似ています。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/512/06c/a91/51206ca91484780f2fd5c73deffd796b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、3Dゲームを使用してモニターまたはテレビの基本的な画像を生成するプロセスについて説明します。</font><font style="vertical-align: inherit;">最終結果から始めて、「私は何を見ていますか？」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、表示される画像の形成の各段階を分析します。</font><font style="vertical-align: inherit;">アクションの過程で、頂点とピクセル、テクスチャとパス、バッファとシェーディング、ソフトウェアと命令などの概念を検討します。</font><font style="vertical-align: inherit;">ビデオカードがプロセスにどのように関与しており、なぜそれが必要なのかを確認します。</font><font style="vertical-align: inherit;">その後、ゲームやPCを新しい視点から見ることができ、ビデオグラフィックスをさらに楽しむことができます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームオプション：ピクセルと色</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Dゲームを始めましょう。サンプルとして、2007 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crysisで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リリースされた</font><font style="vertical-align: inherit;">Crytek会社</font><font style="vertical-align: inherit;">を取り上げ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">以下は、ゲームが表示されているディスプレイの写真です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/142/b40/5c4/142b405c4f4583d032427b7513391735.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この写真は通常</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレーム</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">しかし、正確には何を見ていますか？</font><font style="vertical-align: inherit;">マクロレンズを使用します：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/593/f64/712/593f64712c5065a03fcbca1c90649938.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、まぶしさとモニターの外部バックライトは写真を台無しにしますが、少し改善すると、</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/915/b4f/3df/915b4f3dff7fdfb77917465635d64610.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モニターのフレームは、色分けされた個別の要素のグリッドで構成されていることがわかります。これらの要素をさらに増やすと、各要素が3つのピースのブロックであることがわかります。このようなブロックは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセル</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（ピクセル、ピクセルの略）</font><font style="vertical-align: inherit;">と呼ばれ</font><font style="vertical-align: inherit;">ます。ほとんどのモニターでは、ピクセルは赤、緑、青（RGB、赤、緑、青）の3色でペイントされます。新しいフレームを表示するには、数百万ではないにしても、数千のRGB値のリストを処理し、モニターがアクセスできるメモリに保存する必要があります。このようなメモリの断片は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バッファ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれ</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。つまり、モニタは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームバッファの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容を受け取り</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがプロセス全体の最後のポイントなので、最初とは反対の方向に移動します。</font><font style="vertical-align: inherit;">このプロセスは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レンダリング</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（レンダリング）</font><font style="vertical-align: inherit;">という用語で説明されることがよくあります</font><font style="vertical-align: inherit;">が、実際には、互いに接続された一連の個別のステップであり、本質的に大きく異なります。</font><font style="vertical-align: inherit;">あなたがミシュランの星を獲得したレストランのシェフであると想像してみてください。最終的には美味しい料理がたくさん出てきますが、これを達成するにはどれだけのことをする必要があるでしょう。</font><font style="vertical-align: inherit;">料理と同様に、レンダリングには基本的な材料が必要です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要な構築要素：モデルとテクスチャ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Dゲームの主な構成要素は、描かれる世界を埋めるビジュアルリソースです。</font><font style="vertical-align: inherit;">映画、テレビ番組、劇場には、俳優、衣装、小道具、セット、照明が必要です。リストは非常に長くなります。</font><font style="vertical-align: inherit;">3Dゲームでも同じです。</font><font style="vertical-align: inherit;">生成されたフレームに表示されるものはすべて、アーティストとモデリングの専門家によって開発されました。</font><font style="vertical-align: inherit;">より明確にするために、古い学校に戻って、id Software社のQuake IIモデルを見てみましょう。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/938/10b/28f/93810b28f68f5e90d272480b2effbf97.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームは20年以上前に発売されました。</font><font style="vertical-align: inherit;">当時、Quake IIは技術的な傑作でしたが、当時のどのゲームでもそうであるように、ここのモデルは非常に原始的に見えます。</font><font style="vertical-align: inherit;">しかし、それらが何で構成されているかを示すのは簡単です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a04/5f2/834/a045f2834673247daedbaaf24b3f33e9.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の図では、相互に接続された三角形で構成される角のある男が見えます。各コーナーは、頂点または頂点と呼ばれます。各頂点は空間内の点として機能し、少なくとも3つの数値（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">座標x、y、z）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって記述され</font><font style="vertical-align: inherit;">ます。ただし、これは3Dゲームには十分ではありません。したがって、各頂点には追加の値があります。色、前面の方向（はい、ポイントは前面を持つことはできません...そのまま読んでください！）、明るさ、透明度などです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c42/4ff/db3/c424ffdb3f95d9758bc1a8eeb5c4a870.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
頂点には常に、テクスチャマップに関連付けられた一連の値があります。モデルが着用している「服」の写真です。ただし、画像はフラットであるため、モデルにはモデルを見ることができるあらゆる方向からのビューがマップに含まれている必要があります。 Quake IIの例は、正面、背面、側面（腕）からの画像という単純なアプローチを示しています。また、最新の3Dゲームは、多数のテクスチャマップを備えたモデルで既に動作しており、それぞれに多くの詳細が含まれており、間に空白スペースはありません。一部のマップはマテリアルやプロパティのようには見えませんが、代わりに、表面からの光の反射に関する情報を提供します。各頂点には、モデルに関連付けられたテクスチャマップ内の座標のセットがあるため、頂点上で「ストレッチ」できます。つまり、頂点を移動すると、テクスチャも一緒に移動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レンダリングされた3次元の世界では、表示されるものはすべて、一連の頂点とテクスチャマップから始まります。それらは互いに接続されたメモリバッファにロードされます。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頂点バッファ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（頂点バッファ）には、テクスチャと、後続のレンダリングに割り当てられたメモリの一部が含まれています。</font><font style="vertical-align: inherit;">コマンドバッファは、これらのリソースをどうするかの指示のリストが含まれています。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべてが、色付きピクセルの最終グリッドを作成するために使用される必要なフレームワークを形成します。</font><font style="vertical-align: inherit;">一部のゲームでは、新しいフレームごとにバッファを再作成するには時間がかかりすぎるため、これは大量のデータです。</font><font style="vertical-align: inherit;">また、ゲームは、プレイヤーが見ることができる全世界を形成するために必要な情報、または必要に応じて更新される十分に大きな部分をバッファに格納します。</font><font style="vertical-align: inherit;">たとえば、F1 2018のようなレーシングゲームでは、すべてが1つの大きなバッファーコレクションに格納されます。</font><font style="vertical-align: inherit;">また、Skyrimのようなオープンワールドゲームでは、カメラが世界中を移動すると、データがバッファーに読み込まれ、バッファーから削除されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シーン設定：頂点</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての視覚情報を取得すると、ゲームは視覚表示のプロセスを開始します。デフォルトでは、シーンは特定の位置から始まり、モデルや光源などの基本配置が行われます。これが「ゼロ」画面、つまりグラフィックスの開始点になります。多くの場合、表示されず、システムによって処理されるだけです。レンダリングの最初の段階で何が起こるかを説明するために、オンラインツールの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リアルタイムレンダリング</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用します</font><font style="vertical-align: inherit;">。最も単純な「ゲーム」を作成しましょう。地面に立っているボックスです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6eb/6c2/84a/6eb6c284ac1f6dbfd1d88b80ccce1e7b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このオブジェクトには8つの頂点が含まれ、各頂点は数値のリストによって記述されます。</font><font style="vertical-align: inherit;">頂点は、12個の三角形で構成されるモデルを形成します。</font><font style="vertical-align: inherit;">各三角形、さらにオブジェクト自体も、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プリミティブ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">プリミティブが移動、回転、スケーリングされると、数値は一連の数学的演算を通過して更新されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/683/dfb/2cf/683dfb2cf7936d1ae5d7150ee5e3691a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルポイント番号は変更されないことに注意してください。</font><font style="vertical-align: inherit;">これらの数値は、モデルが仮想世界のどこに配置されているかを正確に示しています。</font><font style="vertical-align: inherit;">対応する数学的計算の考察はこの記事の範囲を超えています。最初にすべてのオブジェクトが本来あるべき場所に配置されるとだけ言います。</font><font style="vertical-align: inherit;">そして、着色が始まります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/245/ab4/c10/245ab4c109ab76e81bb20fb9dab7bab4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のボックスの10倍の頂点を持つ別のモデルを取り上げます。</font><font style="vertical-align: inherit;">最も単純なペイントプロセスでは、各頂点の色が取得され、表面から表面への色の変化が計算されます。</font><font style="vertical-align: inherit;">これは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">補間</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれ</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6bb/54f/3b7/6bb54f3b70c60c558dfbe029e3361207.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルの頂点の数を増やすと、より現実的なオブジェクトを作成できるだけでなく、色補間の結果も向上します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/682/c4e/d4d/682c4ed4d29b1d3e7bd03302783c9057.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レンダリングのこの段階で、シーン内の光源の効果を詳細に計算できます。</font><font style="vertical-align: inherit;">たとえば、モデルマテリアルが色をどのように反映するかなどです。</font><font style="vertical-align: inherit;">このような計算では、カメラの位置と方向、および光源の位置と方向を考慮する必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e9/044/b91/0e9044b9132d022e5a19e490cfe36091.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、単純なものもあれば、非常に複雑なものもある、いくつかの異なる数学的方法があります。上の図では、右側のオブジェクトの方が見栄えがよく、より現実的ですが、それを描くにはさらに多くの作業が必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少数のピークを持つオブジェクトを最新のゲームと比較することに注意してください。上にスクロールして、Crysisの画像を注意深く調べます。この1つのシーンには、100万を超える三角形が表示されています。例</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">としてUnigine Valleyベンチマークを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用すると、最新のゲームで使用される三角形の数を理解できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/486/232/4ec/4862324ec5749273f8b64dd9ad463386.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この画像の各オブジェクトは、三角形で構成されるプリミティブによって形成される、互いに接続された頂点で構成されています。</font><font style="vertical-align: inherit;">ベンチマークは、各三角形のエッジが白い線で示されるワイヤーフレームモードで実行できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/636/687/f15/636687f15006991fcf278df6af74227e.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、オブジェクトは三角形で構成されており、各三角形について、位置、方向、色が計算されます。</font><font style="vertical-align: inherit;">これは、光源の位置だけでなく、カメラの位置と方向も考慮に入れます。</font><font style="vertical-align: inherit;">次のフレームを描画するために必要なすべての情報が含まれるように、頂点に関連付けられたすべての変更をゲームに転送する必要があります。これは、頂点バッファーを更新することによって行われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
驚くべきことに、これはレンダリングの最も難しい部分ではありません。適切なハードウェアを使用すると、すべての計算が数千分の1秒で実行されます。</font><font style="vertical-align: inherit;">進め。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失われた次元：ラスタライズ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての頂点を処理し、3次元シーン内のすべてのオブジェクトの配置を完了すると、レンダリングプロセスは非常に重要な段階に進みます。</font><font style="vertical-align: inherit;">この時点まで、ゲームは本当に3次元でしたが、最終的なフレームはそうではありません。一連の変更の過程で、表示された世界は、何千もの接続されたポイントからなる3D空間から、色付きのピクセルからなる2次元画像に変換されます。</font><font style="vertical-align: inherit;">ほとんどのゲームでは、この手順は少なくとも2つのフェーズで構成されています：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投影画面スペース</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（画面スペース投影）と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラスター化</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/17f/b9b/264/17fb9b264f727fefbc583b0768b0619b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webベースのレンダリングツールに戻ると、仮想世界のボリュームがフラットイメージにどのように変化するかがわかります。左側にカメラを示します。カメラから発せられる線</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、視界の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">円錐台（錐台）</font><i><font style="vertical-align: inherit;">を</font></i><font style="vertical-align: inherit;">作成し、カメラ</font><font style="vertical-align: inherit;">に入るすべてのものを最後のフレームに表示できます。ピラミッドの垂直断面は</font><font style="vertical-align: inherit;">ビューポート</font><font style="vertical-align: inherit;">と呼ばれ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -これがモニターに表示されます。カメラの遠近法を考慮して、ピラミッドの内容全体を表示領域に投影するために、多数の数学的計算が使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表示領域のグラフィックは2次元ですが、データは実際には3次元であり、後でこの情報を使用して、どのプリミティブが表示され、どのプリミティブが非表示になるかを計算します。プリミティブ自体が私たちから隠されている場合でも、プリミティブは私たちに見える影を投じることができるため、これを行うのは驚くほど難しい場合があります。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドロップ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（カリング）</font><font style="vertical-align: inherit;">と呼ばれるプリミティブを非表示にし</font><font style="vertical-align: inherit;">ます。この操作は、フレーム全体のレンダリング速度に大きな影響を与える可能性があります。可視プリミティブと非表示プリミティブへのソートが完了し、可視性のピラミッドの範囲外で三角形が削除された後、3次元の最終段階が完了し、ラスタライズを使用してフレームが完全に2次元になります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6db/645/fe9/6db645fe9bd2138481a6f502c1ca8eda.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上の図は、1つのプリミティブを含むフレームの非常に単純な例を示しています。</font><font style="vertical-align: inherit;">ピクセルグリッドは幾何学的形状に重ね合わされ、対応するピクセルは後続の処理のためにマークされます。</font><font style="vertical-align: inherit;">十分なピクセルを使用していないため、最終結果は元の三角形とあまり似ていません。</font><font style="vertical-align: inherit;">この点で、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エイリアシング</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（エイリアシング、ステッピングライン）</font><font style="vertical-align: inherit;">の問題が発生し</font><font style="vertical-align: inherit;">、さまざまな方法で解決されます。</font><font style="vertical-align: inherit;">したがって、ゲームの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解像度</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（フレーム内のピクセルの総数）を変更すると、最終結果に大きな影響を与えます。ピクセルを増やすと、フォームの表示が改善されるだけでなく、不要なエイリアシングの影響も減少します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レンダリングのこの部分を完了したら、次の大きなステップに進みます。フレーム内のすべてのピクセルの最終的なカラーリングです。 </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">光を運ぶ：ピクセルステージ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レンダリングの最も難しい段階に達しました。</font><font style="vertical-align: inherit;">ピクセル情報（元々は頂点から取得）を使用して服（テクスチャ）モデルを引っ張ることになったら。</font><font style="vertical-align: inherit;">ただし、テクスチャとフレーム自体は2次元ですが、頂点処理段階の仮想世界は歪んでシフトし、変化しているのが実情です。</font><font style="vertical-align: inherit;">これらすべてを説明するために、追加の数学的計算が使用されますが、新しい問題が結果の特徴である場合があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0f/3f4/f2b/c0f3f4f2b83db10efd3058fec26c27fe.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この図では、チェッカーボードテクスチャが平面に適用されています。不快な視覚的な波紋があり、エイリアシングによって悪化します。この問題を解決するには、より小さいバージョンのテクスチャマップ（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">複数のマッピング</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ミップマップ）、これらのテクスチャからの情報の再利用（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィルタリング</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、フィルタリング）、および追加の数学的計算を使用します。効果は顕著です：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e8d/a5b/bcd/e8da5bbcd3bf8fc8e9e75c7a9614d2eb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのゲームにとっても、これは本当に難しいステージでしたが、反射や影などの他の視覚効果が広く使用されているため、テクスチャ処理はレンダリングプロセスの比較的小さなステージになっているため、現在はそうではありません。高解像度で再生する場合、ラスタライズとピクセル処理の段階での負荷は増加しますが、これは頂点の処理に比較的影響を与えません。光源による一次色付けは頂点段階で行われますが、より洗練された照明効果を適用できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a62/0bc/a60/a620bca60aa98557848fd500e30f3d94.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の図では、異なる三角形間で色の変化が見られなくなったため、滑らかなシームレスなオブジェクトの感覚が得られます。この例では、球は上の図の緑の球と同じ数の三角形で構成されていますが、ピクセルの色付け手順の結果、より多くの三角形が使用されているように見えます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/321/204/fa2/321204fa222c1a25b1f6197b04c30f52.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くのゲームでは、ピクセルフェーズを数回実行する必要があります。たとえば、鏡や水の表面が周囲の世界を反映するには、まずこの世界を描く必要があります。各実行は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（パス）</font><font style="vertical-align: inherit;">と呼ばれ</font><font style="vertical-align: inherit;">、各フレームの最終画像を取得するために、4つ以上のパスを簡単に使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、別のポイントから世界を再描画し、プレーヤーに表示されるシーンでこのイメージを使用するために、頂点ステージを再度実行する必要がある場合もあります。これを行うには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シングルバッファーレンダリング</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（レンダーターゲット）を使用します。フレームの最終的なストレージとして機能するバッファーを使用しますが、異なるパスを持つテクスチャーとしても機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ピクセルステージの複雑さを評価するには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Doom 2016のフレーム分析</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">1つのフレームを作成するために必要な操作の数にショックを受けます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4fc/618/e79/4fc618e791b417e9359ca81948ae187f.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームを作成するために行われたすべての作業は、それが最終結果であろうと中間結果であろうと、バッファに保存する必要があります。</font><font style="vertical-align: inherit;">一般的に、ゲームは最終表示に少なくとも2つのバッファーを使用します。1つは「現在の作業」用で、2番目のバッファーはモニターへのアクセスを待機しているか、表示中です。</font><font style="vertical-align: inherit;">レンダリング結果が保存される画面バッファーが常に必要であり、すべてのバッファーがいっぱいになったら、先に進んで新しいバッファーを作成する必要があります。</font><font style="vertical-align: inherit;">フレームでの作業が完了すると、簡単なコマンドが与えられ、最後のフレームバッファーが交換され、モニターは最後にレンダリングされたフレームを受け取り、次のフレームのレンダリングプロセスが開始されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/925/e6e/c4d/925e6ec4d1593ec473c0660ffa555969.jpg"></div><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アサシンクリードオデッセイの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このフレームに</font><font style="vertical-align: inherit;">は、完成したフレームバッファーの内容が表示されています。</font><font style="vertical-align: inherit;">このコンテンツは、数値のみを含むテーブルで表すことができます。</font><font style="vertical-align: inherit;">それらは電気信号の形でモニターまたはテレビに送信され、画面のピクセルはその値を変更します。</font><font style="vertical-align: inherit;">私たちの目は平らでしっかりしたイメージを見るが、私たちの脳はそれを三次元と解釈している。</font><font style="vertical-align: inherit;">多くの作業がゲームの1ショットの舞台裏に隠されているため、プログラマーがそれをどのように処理できるかを検討する価値があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセス管理：APIと手順</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームを実行し、すべての計算、頂点、テクスチャ、ライティング、バッファなどを管理する方法を理解するため。 -これは大きな仕事です。幸い、この</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラミングインターフェイス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（アプリケーションプログラミングインターフェイス、API）で</font><font style="vertical-align: inherit;">私たちを助けてください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レンダリングAPIは、ハードウェアに依存しない簡略化された命令を可能にする構造、ルール、およびソフトウェアライブラリを提供することにより、全体的な複雑さを軽減します。過去3年間にPC用にリリースされた3Dゲームを取り上げます。これは、Direct3D、OpenGL、またはVulkanの3つの人気のあるAPIの1つを使用して作成されました。特にモバイルセグメントには他にも同様の開発がありますが、この記事では、前述の3つについて説明します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/383/aea/228/383aea228f8c09089472da334107b6e2.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
命令と操作の名前の違いにもかかわらず（たとえば、DirectXでピクセルを処理するためのコードブロックはピクセルシェーダーと呼ばれ、Vulkanではフラグメントシェーダーと呼ばれます）、最終的な結果に違いはなく、正確には違いません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
違いは、レンダリングに使用される機器に現れます。 APIによって生成された命令は、デバイスドライバーによって処理されるハードウェアフレンドリーなコマンドに変換する必要があります。また、機器メーカーは、ドライバーがこの変換をできるだけ迅速かつ正確に実行するために、多くのリソースと時間を費やす必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8df/431/c77/8df431c7781e07219bfaab3829f209df.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Talos Principle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（2014）</font><font style="vertical-align: inherit;">の初期ベータ版で</font><font style="vertical-align: inherit;">は、前述の3つのAPIがすべてサポートされていました。</font><font style="vertical-align: inherit;">ドライバーとインターフェイスのさまざまな組み合わせの結果がどのように異なるかを示すために、解像度を1080pに設定し、最高品質の設定を行うことにより、標準の組み込みベンチマークを実行しました。</font><font style="vertical-align: inherit;">Intel Core i7-9700Kプロセッサーはオーバークロックなしで動作し、Nvidia Titan X（Pascal）ビデオカード、RAM-32 GB DDR4 RAM。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectX 9 = 188.4フレーム/秒の平均。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectX 11 =平均202.3フレーム/秒。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenGL =平均87.9フレーム/秒。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vulkan =平均189.4フレーム/秒。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果を分析することはありませんし、一部のAPIが他のAPIよりも「優れている」とは明らかにしていません（ゲームのベータ版がテストされたことを忘れないでください）。異なるAPIのプログラミングはさまざまな困難に関連付けられていると言うだけで、いつでもパフォーマンスも異なります。一般に、ゲーム開発者は経験の豊富なAPIを選択し、コードを最適化します。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エンジン</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という用語</font><i><font style="vertical-align: inherit;">は</font></i><font style="vertical-align: inherit;">、レンダリングを担当するコードを表すために使用されることもあります</font><font style="vertical-align: inherit;">が、厳密に言えば、エンジンはグラフィックだけでなくゲームのすべての側面を処理する完全なツールセットです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Dゲームをレンダリングするプログラムを最初から作成するのはそれほど簡単ではありません。したがって、今日では非常に多くのゲームでライセンスされたサードパーティシステムが使用されています（たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unreal Engine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">それらの複雑さを評価するには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quakeの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オープンソースエンジンを開い</font><font style="vertical-align: inherit;">てgl_draw.cファイルを表示します。このファイルには、さまざまなレンダリング操作の指示が含まれており、エンジン全体のごく一部しか反映されていません。</font><font style="vertical-align: inherit;">しかし、Quakeは20年以上前にリリースされ、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲーム全体</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（すべてのビジュアルリソース、サウンド、音楽などを含む）には55 MBが必要です。</font><font style="vertical-align: inherit;">比較として、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Far Cry 5では、</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 62 MBを占めるの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シェーダー</font><i><font style="vertical-align: inherit;">のみ</font></i><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時間は最も重要です：適切な機器を使用する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のすべては、任意のコンピュータシステムのプロセッサで計算および処理できます。 x86-64ファミリの最新のプロセッサは、必要なすべての数学的演算をサポートし、さらにこれのための個別のサブシステムを含んでいます。ただし、単一のフレームをレンダリングするタスクには、多数の繰り返し計算と作業の大幅な並列化が必要です。中央処理装置は、可能な限り広い範囲のタスクを解決するために作成されているため、これには適合していません。グラフィックスコンピューティング専用のプロセッサは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（グラフィックスプロセッシングユニット）</font><font style="vertical-align: inherit;">と呼ばれ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。 DirectX、OpenGL、Vulkan向けに作成されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
中央処理装置または専用装置を使用してフレームをレンダリングできるベンチマークを使用します</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-V-ray NEXT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カオスグループ会社。</font><font style="vertical-align: inherit;">実際、レンダリングではなくレイトレーシングを行いますが、ここでの数値演算のほとんどはハードウェアに依存しています。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc6/4be/7bd/dc64be7bd6494f79cec1f01c501b7502.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
中央プロセッサのみ、グラフィックプロセッサのみ、および両方のプロセッサの組み合わせの3つのモードでベンチマークを渡します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPUのみ= 5300万光線</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPUのみ= 2億5100万レイ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">両方のプロセッサの組み合わせ= 2億9900万光線</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
測定の単位は無視できます、本質は違いの5倍です。</font><font style="vertical-align: inherit;">しかし、それでも、このテストはゲームとあまり関係がないので、昔ながらのベンチマーク</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Futuremark 3DMark03に移りましょう</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">中央処理装置を使用して、すべての頂点シェーダーの強制計算（つまり、三角形の移動とカラーリングのための完全な操作セット）を使用して、単純なWings of Furyテストを実行してみましょう。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9f3/f30/609/9f3f30609c33987cb25f2e10c4aff602.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果はあなたを驚かせるべきではありません：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央処理装置=平均77フレーム/秒。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU =平均1,580フレーム/秒。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
頂点を使用したすべての計算が中央プロセッサによって実行されると、各フレームのレンダリングと表示に平均13ミリ秒かかります。また、グラフィックプロセッサを使用すると、この数値は0.6ミリ秒に低下し、20倍以上速くなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も難しいベンチマークテストである大自然を実行すると、その差はさらに大きくなります。中央プロセッサはわずかな3.1フレーム/秒を生成しました！そして、グラフィックスプロセッサは1388フレーム/秒でショットアップしました。ほぼ450倍高速です。注：3DMark03は16度前に出ました。中央プロセッサでのテストでは、頂点のみが処理され、グラフィックプロセッサは引き続きラスタライズとピクセルステージを実行します。ベンチマークがモダンで、ほとんどの操作がプログラムで実行されたとしたらどうでしょうか。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ec/85a/87f/7ec85a87fbffad6ef27cf88d08970aea.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでもう一度</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unigine Valley</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベンチマークを試してみましょう。</font><font style="vertical-align: inherit;">処理するグラフィックは、Far Cry 5などのゲームで使用されるものと非常によく似ています。標準のDirectX 11に加えて、完全なソフトウェアレンダリングエンジンもあります。ビデオプロセッサで実行すると、平均196フレーム/秒の結果が得られました。 。ソフトウェアのバージョンはどうですか？数回のクラッシュの後、強力なテストPCは平均0.1フレーム/秒を生成しました。 -ほぼ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2000倍</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遅い。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような大きな違いの理由は、数学的計算と3Dレンダリングで使用されるデータ形式にあります。 CPUの各コアには</font><i><font style="vertical-align: inherit;">浮動小数点モジュール</font></i><font style="vertical-align: inherit;">が搭載され</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ています</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 i7-9700Kには8つのコアがあり、それぞれに2つのモジュールがあります。 Titan Xのモジュールのアーキテクチャは異なりますが、どちらのタイプも同じ形式のデータで同じ計算を実行できます。このビデオカードには、同等の計算を実行するための3500以上のモジュールがあり、それらのクロック周波数は中央プロセッサ（1.5 GHzおよび4.7 GHz）よりもはるかに低いですが、ビデオプロセッサはモジュールの数を使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Titan Xは大容量のグラフィックカードではありませんが、予算モデルでさえ、あらゆる中央処理装置を追い越します。したがって、すべての3DゲームとAPIは特殊な機器用に設計されています。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V-ray</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3DMark、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意の</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Unigine </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベンチマーク</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をダウンロードできます</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> そして、システムをテストします-ビデオプロセッサがゲームでグラフィックスをレンダリングするのにどれだけうまく適合しているかを自分で確認してください。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後の言葉</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、3Dゲームで1つのフレームを作成するプロセスの簡単な説明です。空間内のポイントから、モニター上のカラフルなイメージまでです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、プロセス全体が数値を処理しているだけです。ただし、記事の範囲外に多くが残っています。ユークリッド線形代数、三角法、および頂点シェーダーとピクセルシェーダーによって実行される微分計算からの特定の数学的計算は考慮しませんでした。また、統計的サンプリングを使用してテクスチャを処理する方法についても触れませんでした。拡張ダイナミックレンジと時間的スムージングを使用して、スクリーンスペースでの周辺光の遮断、レイトレーシングへの干渉の低減などのクールな視覚効果を省略しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次回、最新の3Dゲームをリリースするときは、グラフィックスを別の目で見るだけでなく、それについてもっと知りたいと思っています。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja500670/index.html">製品の作成方法。パート1、研究</a></li>
<li><a href="../ja500672/index.html">テスターだけでなく、テスターのためのストリームの継続</a></li>
<li><a href="../ja500676/index.html">テスト自動化に関するオンラインワークショップの発表</a></li>
<li><a href="../ja500678/index.html">質問と回答の上級ユーザー向けClickHouse</a></li>
<li><a href="../ja500688/index.html">Flaskでデータベースを操作する：6月から6月</a></li>
<li><a href="../ja500694/index.html">68の一方的なヒント</a></li>
<li><a href="../ja500696/index.html">ランニングシューズが女性の足に順応しようとしている方法</a></li>
<li><a href="../ja500698/index.html">Evgeny Katyshev：「OpenStreetMapはいかなる情報にも適していません」</a></li>
<li><a href="../ja500700/index.html">TLS1.3のサポートと個人アカウントの拡張：2020年の第1四半期に行われたこと</a></li>
<li><a href="../ja500704/index.html">ユニコーン（Airbnb、Uber、Lyft、Careem）は、コロナウイルスのパンデミックの際の問題の中で何千人もの従業員を解雇</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>