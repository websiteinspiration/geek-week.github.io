<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📮 👨‍🎨 📃 CANスニファー 👩🏼‍🚀 🍉 ✌🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CANバス自体はすでに多く使用されていますが、この領域に制限はありませんが、車での使用に興味があります。さらに、数年前にこの機会が現れました。私は一般的な仕様を見ました-特に複雑なものは何もないようです。インターネットで見つかるプログラムを見てみたところ、どれも気に入らず、それぞれに当時必要であると...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CANスニファー</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479672/"><img src="https://habrastorage.org/webt/xr/pc/l1/xrpcl1nludukziojbjxlsuqxgaa.png" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CANバス自体はすでに多く使用されていますが、この領域に制限はありませんが、車での使用に興味があります。</font><font style="vertical-align: inherit;">さらに、数年前にこの機会が現れました。</font><font style="vertical-align: inherit;">私は一般的な仕様を見ました-特に複雑なものは何もないようです。</font><font style="vertical-align: inherit;">インターネットで見つかるプログラムを見てみたところ、どれも気に入らず、それぞれに当時必要であると思われるものが欠けていました。</font><font style="vertical-align: inherit;">自転車を再発明します。</font><font style="vertical-align: inherit;">カットの下でCANスニファーをさらに作成します。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CANバス</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CANバスの技術的な詳細を詳細に説明することは、ドキュメントの一部です。</font><font style="vertical-align: inherit;">この記事では、それを知っていれば十分です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2線式の物理的接続がある</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さまざまなデータレートがあります</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">既製のチップ、およびはんだ付けされた部品を備えた既製のボードでさえ、すでに接続可能です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
中王国の有名なオンラインストアのページをめくった後、シールドのいくつかの異なるオプションを注文し、車の電気信号の機能を調べました。</font><font style="vertical-align: inherit;">127番目のエンジンを搭載したLADA Kalina CrossとITELMA M74.5 CAN電子制御ユニットが実験車を作りました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OBD診断コネクタ（ピン6と14）に接続し、そこにあるオシロスコープを見ます。</font><font style="vertical-align: inherit;">イグニッションキーを回した後、最大2.5 Vの振幅を持つパケットが実行を開始するので、オシロスコープで一時停止してパケットを確認します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kh/zv/qy/khzvqyvzr478w0czmr_otgc9ars.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開始ビットと停止ビットが目立ち、パケット内の一部のデータ。当時、モーターCANバスで最も頻繁に発生するデータ転送速度が500 kbit / sになると予想されていました。パケットの持続時間は約230μsであり、パケットの前に、データ送信にかなり長い休止があります。時間を計測し、3つのパケットとそれらの間の一時停止を確認します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ox/2z/js/ox2zjs6yvmfvfvtvw9zmklvidrw.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データ転送の継続時間とパケット間の休止時間を追加すると、1つのデータの転送に約1 msかかることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜこれをすべて推論するのですか？</font><font style="vertical-align: inherit;">そして、問題は純粋に実用的です：すべてのデータを転送するのに十分なシリアルポート速度がありますか？</font><font style="vertical-align: inherit;">そして、私たちが見たものに基づいて、500 kbit / sの速度がパケット内で発生し、送信に約4分の1の時間がかかると結論付けることができます。</font><font style="vertical-align: inherit;">したがって、平均転送速度は4分の1になります。</font><font style="vertical-align: inherit;">当時、私はまだArduinoシリアルインターフェイスの速度テストを行っていませんでした。今後、最も一般的なSerial to USB CH340コンバーターでも、2 Mbpsの速度は安定して動作すると言えます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArduinoのCANスキャナー</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
古典的なArduino UNOの最初に到着したシールド。</font><font style="vertical-align: inherit;">はい、それはその小さな対応物よりも大幅に高価ですが、それはあなたが必要とするすべてのものと2つのボタンさえ搭載しています。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/4x/cr/fd/4xcrfd8lgpvb32iclqrayod83nu.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私がすべての実験を始めたのは彼と一緒でした。</font><font style="vertical-align: inherit;">このシールドと液晶2ラインスクリーンでシンプルな回路を組み立てました。</font><font style="vertical-align: inherit;">目標は、画面に少なくとも一部のデータを表示することでした。</font><font style="vertical-align: inherit;">ArduinoでCANバスを操作するためにさまざまなライブラリを調べました（正しい動作するライブラリはmcp_can.hヘッダーファイルを含むSeeed StudioではCAN-BUSシールドと呼ばれています）、16 MHzシールドの水晶振動子を変更しました（当初は8 MHzでした）-データはありませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シールドには、CANバスコントローラーMCP2515とCANバスドライバーTJA1050の2つのマイクロ回路が取り付けられています。</font><font style="vertical-align: inherit;">ドキュメントとさまざまなフォーラムを読んだ後、TJA1050をより標準的なドライバーMCP2551に変更することを決定し、データが表示されました。</font><font style="vertical-align: inherit;">TJA1050は、2本のワイヤーで接続するのを間違えるのが非常に困難であったため、最初に欠陥があったのかもしれません。さらに、接続にはOBDおよびDB9コネクタを使用しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数時間で、簡単なCANスキャナーが作成され、キャプチャされたパケットの数、そのID、およびこのパケットの最大8バイトのデータがLCDに表示されました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/eo/cm/e7/eocme7jad_kkhb1wpyqyurjirom.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シールドのボタンが重宝したのはここで、表示されたパッケージの数を切り替えるために使用しました。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボタンについて</font></font></b>
                        <div class="spoiler_text">,       .          .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
初めに、もっと興味深い実装に移らなければなりません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArduinoのCANスニファー</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスクは非常に簡単でした：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CANバスからのパケットを受け付ける</font></font></li>
<li>     </li>
<li>    </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の2つのタスクには何の問題もありませんでした。ライブラリは、次のデータパケットを受信するときに割り込みを提供し、データを受信するための便利な関数を提供しました。しかし、Cyber​​Libライブラリを介してコンピューターにデータを送信することにしました。これにより、Arduinoプラットフォーム全体のオーバーヘッドの一部が排除されるため、データを処理するためにプロセッサーの負荷をわずかに減らすことができます。その後、このライブラリーは破棄されなければなりませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データがコンピューター側で正しく送信されるように処理するために、4バイトのプレフィックス0xAA55AA55が次の各データの前にストリームに挿入されます（何らかの理由で、これらのバイトはDOSブートセクターの最後の2バイトで記憶されていましたが、そこでは順序が異なっていました）。ロジックはこれです：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンピューターはシリアルポートからストリーム全体を読み取り、その中から目的のプレフィックスシーケンス0xAA55AA55を見つけます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレフィックスの直後に4バイトのパケット識別子があります</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらにこのパケットのデータ長、それはパケット全体の長さを制御します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大8バイトのデータ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、当時Arduinoのソフトウェア部分が完成しました。</font><font style="vertical-align: inherit;">後でそれは大幅にやり直されましたが、一般的な概念は変わっていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、自宅でデバッグするために、デバッグ用のデータパケットの簡単なジェネレーターを作成しました。ランダムなデータを含むパケットをシリアルポートに送信するだけで、快適な条件でコンピューター上のアプリケーションをデバッグできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時期に、Arduino NanoおよびMini CANシールドの小型コンポーネントが到着しました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kn/rj/2n/knrj2nbgse4ch__x9h-43vc7qeo.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小さなケースをデザインして印刷し、すべてのコンポーネントを中に入れました。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/bm/2p/rc/bm2prc7jdp1ofibuawzorlkuggy.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外には、片側にOBDコネクタがあり、反対側にミニUSBがあります。</font><font style="vertical-align: inherit;">内部には、終端抵抗用のスイッチがあります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wxWidgetsを使用してPCでCANスニファー</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
受信したデータをグリッドに表示するプログラムの簡単なドラフトをC＃でスケッチしました。そして彼は車にチェックインしに行きました。彼のバッテリーは私に長い間生きるように命じ、据え置き型のコンピューターとして使われていたので、私は私のラップトップを持っていなかっただけですが、非常に弱いプロセッサーを搭載したネットブックを持っていました。私が見たもの...私は何も見ませんでした。両方のコアが100％読み込まれ、アプリケーションインターフェイスは応答しません。しかし、ネットブックよりもはるかに高速な私のコンピューターでは、アプリケーションはランダムパケットジェネレーターで正常に動作し、データを表示しました。このことから、当時はそのネットブックでしかフィールドでデバッグできなかったので、弱いコンピューター上の.NETプラットフォームは私にとっては機能しないと結論付けました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前、私はいくつかのプロジェクトでwxWidgetsライブラリを使用しましたが、それについては楽しい経験しかありません。</font><font style="vertical-align: inherit;">軽量で、さまざまなライブラリを持ち運ぶ必要がなく、クロスプラットフォームでさえ実行できるため、コードのインターフェイス部分を他のプラットフォームに大幅な変更を加えることなく転送できることを期待できます。</font><font style="vertical-align: inherit;">記事の最後に、これらすべてに煩わされたくない場合は、コンパイルされたプログラムへのリンクがあります。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual Studio用のwxWidgetsをインストールしてコンパイルする方法</font></font></b>
                        <div class="spoiler_text">    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a> (  ),    6    .<br>
<br>
<b>   wxWidgets:</b><br>
<br>
1.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">wxWidgets</a>   ,  ,   <br>
<br>
2.    WXWIN   ,     ( C:\wxWidgets):<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;  -&gt;    -&gt;   -&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;WXWIN = C:\wxWidgets<br>
<br>
3.   C:\wxWidgets\build\msw      Visual Studio (wx_vc16.sln  Visual Studio 2019)<br>
<br>
4.  Solution Expolorer,    Shift,   ,  _custom_build    Properties .<br>
<br>
5.   C/C++ -&gt; Code Generation   Runtime Library:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;  Debug  /MTd<br>
&nbsp;&nbsp;&nbsp;&nbsp;  Release  /MT<br>
<br>
6.   wxWidgets    Debug  Release .<br>
<br>
<b>      Visual Studio ( )</b><br>
<br>
1.  Visual Studio  Empty Project     Desktop Application (.exe)<br>
<br>
2.   View -&gt; Property Manager        Add existing property sheet…   :<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\wxWidgets\wxwidgets.props<br>
<br>
3.   main.cpp      :<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;C:\wxWidgets\samples\minimal\minimal.cpp<br>
<br>
4.    C/C++ -&gt; Code Generation  (    —   ):<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Runtime Library   Debug: /MTd<br>
&nbsp;&nbsp;&nbsp;&nbsp;Runtime Library   Release: /MT<br>
<br>
5. ,    UAC,   Linker -&gt; Manifest File:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;UAC Execution Level: requireAdministrator<br>
<br>
6.    exe-       :<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;#include «wx\msw\wx.rc»<br>
&nbsp;&nbsp;&nbsp;&nbsp;wxicon icon app_icon.ico<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++とwxWidgetsで最初に実装されたプロトタイプは、ネットブックでもデータをテーブルに表示することで対応できることを示し、私は自分が計画したものを開発し始めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーキテクチャ上、プログラムは2つのストリームで構成されています。インターフェースとシリアルポートを使用したワークフローです。</font><font style="vertical-align: inherit;">信じられないほど興味深いアルゴリズムは適用されませんでした。</font><font style="vertical-align: inherit;">コードは豊富にコメントされており、非常に簡単です。</font><font style="vertical-align: inherit;">ソースへのリンクは記事の最後にあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に行われたのは、このデータを取得する際の制限に従って、テーブルのデータセルに色を付けることでした。</font><font style="vertical-align: inherit;">最初のプロトタイプでは、値が連続的に変化する17行のデータを見て、新鮮なデータと変化しないかほとんど変化しないデータを何らかの方法で区別する必要があることに気付きました。</font><font style="vertical-align: inherit;">2段階でカラーリングしました：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初回データは緑色のセルの背景で強調表示されます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">繰り返し到着するデータは赤で強調表示されます。このデータが変化しなくなった場合、データは徐々に白にフェードします。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐに、どのセルがまったく使用されていないか、どのセルがカウンター信号を含んでいるかが明らかになりました。</font><font style="vertical-align: inherit;">関心のある変数値の検索は大幅に簡素化されています。</font><font style="vertical-align: inherit;">以下では、すべての画像がアニメーション化されます。</font><font style="vertical-align: inherit;">記事でアニメーションが機能しない場合（一部のモバイルブラウザー）-画像をクリックして、アニメーションの完全版を開きます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ks/uy/tt/ksuytt2hifbv5ft8qr2kq27ybrc.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、シリアルポートがデータストリームに対応しているかどうかを確認したいと思います。これを行うために、私はArduino側で、受信パケット数のカウンターとパケット内のバイトカウンターを追加しました。これらのカウンターは、識別子0x000のパケットでコンピューターに送信されます。このデータを受け取ると、プログラムはそれらを表に表示せず、上部の個別の情報フィールドに表示します。結果は非常に楽しいものでした。平均して、最大750パケット/秒が最大9.5 kB /秒の速度で受信されます。これは、80 kbit /秒までの領域で、シリアルポートに十分対応できます。ただし、すべて同じように、データ交換はデフォルトで500 kbpsに設定されているため、より良い在庫を確保できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELM327診断アダプターをOBDインターフェイスと並列に接続して電話に接続し、さまざまなデータを読み取ろうとした後、ログにデータを書き込む機能が追加されました。データは非常に高速で実行されたため、表示することは不可能でした。これらすべてをジャーナルに書き込んだら、落ち着いて座って、送信されたデータを確認できます。これを行うには、ASCIIテキストデータでもログに書き込むことができます。テーブルで指定されたパケット識別子をクリックし、すべてのデータが冗長である場合は[フィルターにIDを追加]ボタン（デフォルトではすべてのデータが書き込まれます）をクリックして、ファイルタイプ、区切り文字を選択し、パケットフィルターを構成することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、ELM327バンドルを介してあらゆる種類の「診断」を実行するすべての電話アプリケーションと電話が車両のCANバスと直接通信しないことが実現しました。 CAN ID 0x7E0にアクセスして、CANバス経由でOBD診断機能を使用するだけです。通常、これはモーターコントローラー（ECU）のアドレスです。応答は、識別子0x7E8のパケットで送られます。しかし、他のすべてのデータパケットはいわゆるベンダー固有であり、単一の製造元がそれらを簡単に開くことはできません（例はありますが、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fordがその自動車用のSDKをリリースしました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのパッケージで何が送信されているかを調べ続けると、私は別のアイデアを思いつきました：テーブルのセルをクリックすると、右側のプログラムウィンドウで、このバイトの2進数と10進数の値を表示し、次のバイトを取得して単語に追加します。次に、この単語に特定の係数を掛けて、10進数の結果を取得します。はっきりとは聞こえませんが、何が行われたかに関連して、エンジン速度は最初の2バイトのCAN ID 0x180パケットで提供されます。これらの2バイトは、ターンに比例する特定のワードを提供します。この単語の意味を8で割ると、現在の勢いが得られます。したがって、0.125の係数は8の逆数として示されます。次に、この単語は、振幅が動的に調整されるグラフで視覚化されます。原則として、乗数は逆の順序で検索できます：見つかったセル、これは、スケジュールに従って、エンジン速度または他の望ましいものに非常に似ています。その後、乗数が調整されて実際の値が取得されます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/6b/qi/zq/6bqizqt20bcvmk352hikydeeg1s.gif"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バイナリ表現では、さまざまなビットインジケーターを検索できます。たとえば、方向インジケーターインジケーターの検索は、オンにして、どのセルが変化し始めるかを監視するように削減されます。以下の例では、CAN ID 0x481バイト2です。その後、セルをクリックすると、対応するフィールドにバイナリ値が表示されます。ビット（左、右、および一緒の場合-アラーム）。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/g8/gk/hx/g8gkhx7xxaf5kevdhelzbqom6p0.gif"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、制御データをCANバスに送信して、これらのコマンドに対する反応を確認する必要がありました。</font><font style="vertical-align: inherit;">コンピューターからデータを受信して​​CANバスに転送するコードがArduinoプログラムに追加されました。</font><font style="vertical-align: inherit;">シリアルポートバッファーでのデータの受信を中断するためのサポートがなかったため、この段階でCyber​​Libを放棄する必要がありました。</font><font style="vertical-align: inherit;">コンピューター上のプログラムに、さまざまなパラメーターを入力できるいくつかのテキストフィールドと、アクチュエーターの応答を表示するためのテーブルを追加しました。</font><font style="vertical-align: inherit;">以下の例は、制御コマンドが冷却ファンの最初の速度（0x0A）を有効/無効にし、エアコンのクラッチ（0x0B）を有効/無効にすることを示しています。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ha/ba/kv/habakvdaggg7tw0z0ak9kdz2wd4.gif"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合計</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
製造業者のデータ、特に公式のデータの完全な解読を見つける場所はほとんどありません。</font><font style="vertical-align: inherit;">最良のケースでは、いくつかの追加機能の実装のフレームワークにおける他の誰かの研究になります。</font><font style="vertical-align: inherit;">CANスニファーは、このデータを見つけるのに役立ちます。</font><font style="vertical-align: inherit;">約40種類の車のパラメータを見つけることができ、実験のために、受け取ったデータに基づいて、冷却ファンを自分で制御しました。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CANバススニファー（Arduino側）</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wxCANバススニファー（PC側）</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wxCANバススニファー（Windows実行可能ファイル）</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このすべてが私だけでなく役に立つことを願っています。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja479660/index.html">3. Check Pointフォレンジックを使用したマルウェア分析。サンドブラストモバイル</a></li>
<li><a href="../ja479662/index.html">Yandexがニュースの誤りを見つけるために人工知能を教えた方法</a></li>
<li><a href="../ja479664/index.html">マネージドkubernetesとマネージドOpenShiftがIBM Cloudでどのように機能するか。パート1-アーキテクチャとセキュリティ</a></li>
<li><a href="../ja479666/index.html">Golang：Goスペシャリストは、IT専門の海で何に依存していますか？</a></li>
<li><a href="../ja479668/index.html">初心者のためのQA：ロケットや飛行機をテストする方法は？</a></li>
<li><a href="../ja479676/index.html">ExtJS 7およびSpring Boot 2. APIおよび外部ReactJSプラグインと相互作用するSPAを構築する方法は？</a></li>
<li><a href="../ja479678/index.html">2019年11月のモバイルデバイスのウイルス活動のレビュー</a></li>
<li><a href="../ja479680/index.html">癌細胞をより容易に薬を吸収させる方法</a></li>
<li><a href="../ja479682/index.html">Sysdigコンテナー使用レポート2019：新しいKubernetesとセキュリティの詳細</a></li>
<li><a href="../ja479684/index.html">SEOの低頻度キーを収集する方法：4つの重要な方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>