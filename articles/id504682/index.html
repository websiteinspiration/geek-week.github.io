<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👦 🚫 🤦🏿 Nostalgia Post: j2me, Gravity Defied, 64kb 🏄 💭 🐘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini tidak mengejar tujuan praktis - Saya hanya ingin tahu bagaimana sekitar 15 tahun yang lalu, pengembang berhasil membuat aplikasi dan game ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Nostalgia Post: j2me, Gravity Defied, 64kb</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504682/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini tidak mengejar tujuan praktis - Saya hanya ingin tahu bagaimana sekitar 15 tahun yang lalu, pengembang berhasil membuat aplikasi dan game yang berfungsi penuh untuk ponsel yang lemah saat itu.</font></font></p><br>
<p><img src="https://habrastorage.org/webt/6-/yf/a1/6-yfa157nsjad4jhzrle2pr1cwm.png"></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika ada, saya tidak ada hubungannya dengan game ini.</font></font></li>
</ul><br>
<p>,       floating-point ,       . "3"   —    fixed-point    .   ,        .        , j2me          Android.</p><br>
<p> , j2me —   java   (, 1.3),         .jar      PC.   — .  ,     -  —  API  j2me       .</p><a name="habracut"></a><br>
<h2 id="telefony-togo-vremeni">  .</h2><br>
<p>       ,    ,   ,        .</p><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Nokia 5200</a>,    "   "    :</p><br>
<ul>
<li>  2006 </li>
<li> 128x160     1.8 </li>
<li>   262  . (  ,   6   R, G, B ).</li>
<li>-  bluetooth      .</li>
<li>     (  ,     7 )</li>
<li>  microSd ,  , ,   256 .</li>
<li>   -    opera mini (, ,     )</li>
<li> 640x480 .</li>
<li> MIDP 2.0 (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">wiki</a>)</li>
<li>       usb</li>
<li>   -  </li>
<li>  ,     ,       —   100  , ,      floating-point .  ,      -      .</li>
</ul><br>
<p>    ,      —  ,     50-200       .</p><br>
<h2 id="write-once-run-everywhere">Write once, run everywhere</h2><br>
<p> java       .         ,           . ,  platform- ,         .</p><br>
<p>  ,  — .           —        .         .  ,  .jar  j2me     .class    java.     ,           Canvas, MIDlet     javax.microedition.</p><br>
<p>  ,   . Android       :    .class ,    .dex ( , ..  dex     65 ),   apk,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">ART</a>.</p><br>
<p> ,    .    ,        .  ,       . ,    Vector    synchronized.  Vector  ,     ArrayList        ArrayList  ,      .</p><br>
<p>   —   java   .      (int, boolean, ...)  .    Vector         Object,         .</p><br>
<p>,    go      ,   java 1.3.  go -   ,     java   2004    1.5   .        1.3.</p><br>
<p>   j2me  —    .jar   .class   (    1.3,   20 ),      Gravity defied   PC.  "" java   javax.microedition ,     .   ,          : , <code>java.awt.Image</code>  <code>javax.microedition.lcdui.Image</code>.</p><br>
<h2 id="arhitektura-j2me-prilozheniy"> J2ME </h2><br>
<p><img src="https://habrastorage.org/webt/om/j7/fx/omj7fxxrxzwek5u3yvf3hrvzbym.jpeg"></p><br>
<p>        <code>javax.microedition</code>. , -   ,  ,  -    ,    ,    —  .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">javax.microedition.lcdui</a>.</p><br>
<p>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">MIDlet</a>.</p><br>
<p>       <code>startApp()</code>.<br>
   —  <code>pauseApp()</code>   <code>startApp()</code>   .     <code>destroyApp()</code>.</p><br>
<p> ,      <code>notifyPaused()</code>  <code>notifyDestroyed()</code> —    ,       .<br>
 ,    "  "  <code>resumeRequest()</code></p><br>
<p> ,      <code>notifyPaused()</code>,        ,    .</p><br>
<p> ,      lifecycle   .</p><br>
<p>   ,      Runnable    - :</p><br>
<pre><code class="java hljs">Thread thread;
<span class="hljs-keyword">boolean</span> isRunning;
<span class="hljs-keyword">boolean</span> needToDestroy = <span class="hljs-keyword">false</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">startApp</span><span class="hljs-params">()</span> </span>{<font></font>
    isRunning = <span class="hljs-keyword">true</span>;
    <span class="hljs-keyword">if</span> (thread != <span class="hljs-keyword">null</span>) {<font></font>
        thread = <span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">this</span>);<font></font>
        thread.start();<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">pauseApp</span><span class="hljs-params">()</span> </span>{<font></font>
    isRunning = <span class="hljs-keyword">false</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroyApp</span><span class="hljs-params">(<span class="hljs-keyword">boolean</span> unconditional)</span> </span>{<font></font>
    needToDestroy = <span class="hljs-keyword">true</span>;<font></font>
}</code></pre><br>
<p> ,      .</p><br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">while</span>(!needToDestroy) {
        <span class="hljs-comment">//   </span>
        <span class="hljs-comment">//     - .</span>
        <span class="hljs-keyword">while</span> (!isRunning) {<font></font>
            Thread.sleep(<span class="hljs-number">100</span>);<font></font>
        }<font></font>
    }<font></font>
    notifyDestroyed();<font></font>
}</code></pre><br>
<p> ,    100  —  ,           . ,        <code>pauseApp()</code>     <code>startApp()</code></p><br>
<h3 id="canvas">Canvas</h3><br>
<p>        — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Canvas</a>.     Canvas  java.</p><br>
<p>      <code>repaint()</code>,   ,     .    UI-   <code>paint(Graphics g)</code>. ,  -    ,      Canvas     —        .   —      <code>repaint()</code>    <code>paint(...)</code>  .</p><br>
<p> ,     :  <br>
<code>hasPointerEvents(), hasPointerMotionEvents(), hasRepeatEvents()</code>,      true.      <code>pointerDragged(int x, int y)</code> ( ),      <code>pressed</code>( )  <code>released</code>( ).<br>
   —   ,      .</p><br>
<h3 id="shrifty-i-menyu">  </h3><br>
<p> ,       — ,   .     . ,    ,    .   ,    240360     .   —     — .</p><br>
<p>  - ,    ""      ,   .  j2me  -   ,      ,    ..,       . ,  nokia 5800      ,         .</p><br>
<h2 id="midlet-pascal">MIDlet Pascal</h2><br>
<p>-    ,        .     java2me     ,    ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">MIDlet pascal</a>           .    j2me      —     ,   ,    java.</p><br>
<h2 id="chto-zhe-vnutri">  ?</h2><br>
<p> ,  ,  ,   Gravity Defied      64 .</p><br>
<p>-, .jar —  zip ,    122.1 kB</p><br>
<ul>
<li>  META-INF  MANIFEST.MF  3.8 kB,       SHA-1  MD5   .           .</li>
<li> levels.mrg  5.1 kB         30  .   170    .         .</li>
<li>11 .    10.8 kB.        </li>
<li>.class ,   98.3 kB, 15 .   — 127 ,   24.3 kB.       :<br>
<ul>
<li> , (4   ), 127  174 .</li>
<li>        — 470 .</li>
<li>9    —  1.6  6 kB.</li>
<li>god-like :<br>
<ul>
<li>m (     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">MenuManager</a>) — 24.3kB,         .  layout.xml  strings.txt :).      .</li>
<li>i (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">GameCanvas</a>) 15.2 kB:  ,   , ,   ,  .</li>
<li>b (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">GamePhysics</a>) 20.6 kB:     -  ,   .</li>
</ul></li>
</ul></li>
</ul><br>
<h2 id="dekompilyaciya"></h2><br>
<p>  .   fernflower —  ,    intelliJ IDEA.     —    ,     .           .</p><br>
<p>  IDEA        —     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"></a>,     .</p><br>
<p>  : <code>/gradlew jar</code>,   build   .jar<br>
  : <code>mkdir decompiled &amp;&amp; java -jar fernflower.jar -ren=1 GravityDefied_java decompiled</code></p><br>
<p>   <code>ren</code>       ,           <code>if</code>  <code>for</code>.     ,   java   .  <code>ren=1</code>       <code>field_42</code>  <code>method_135</code> —    ,    .</p><br>
<p>    2004  — ,  ,    :</p><br>
<ul>
<li>  -    ,   .           .class .</li>
<li>       <code>else</code>, <code>int</code>  ..</li>
<li>          .   ""     Micro,        .</li>
<li>,  fixed-point   ,   .  ,       <code>(int)((long)a * b &gt;&gt; 16)</code></li>
<li>  ,           ,        .</li>
</ul><br>
<h2 id="sobiraem-obratno"> </h2><br>
<p>   —  ,  .    , ,      -.       ,   .</p><br>
<p>-       Netbeans,    j2me      SDK.  , ,  ant.   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"> .</a></p><br>
<p>     ,               Linux.     gradle     .    —     <code>javax.microedition.*</code>.  —     PC- java.             .         ,        .</p><br>
<p>      <code>watch ./gradlew run</code>        .       <code>ctrl+S</code>  .</p><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"></a>.<br>
   19 :</p><br>
<ul>
<li>8    javax.microedition.rms.</li>
<li>10  .lcdui,    , , Canvas  ..).</li>
<li>MIDlet —  ,     .</li>
</ul><br>
<p>      ,       .</p><br>
<p>    Micro,      .  - ,   startApp   MIDlet    .</p><br>
<p> :</p><br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">pauseApp</span><span class="hljs-params">()</span> </span>{<font></font>
    c = <span class="hljs-keyword">true</span>;
    <span class="hljs-keyword">if</span> (!b) {
        <span class="hljs-keyword">this</span>.gameToMenu();<font></font>
    }<font></font>
    System.gc();<font></font>
}</code></pre><br>
<p>  ,   <code>c</code>    <code>isPaused</code>.</p><br>
<p> ""       :</p><br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">a</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.recordStore != <span class="hljs-keyword">null</span>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.e.closeRecordStore();
            <span class="hljs-keyword">return</span>;<font></font>
        } <span class="hljs-keyword">catch</span> (RecordStoreException var1) {<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br>
<p>   -  <code>closeMethodStore</code>.</p><br>
<p> ,  intelliJ IDEA     - .  — ,     ,  <code>Image.loadImage(name)</code>:</p><br>
<pre><code class="java hljs"><span class="hljs-keyword">this</span>.p = Image.createImage(<span class="hljs-string">"/splash.png"</span>);</code></pre><br>
<p> ,  p    splashImage.</p><br>
<p> -        —   ,      .     ,   …    Jetbrains —        ,     —      . ,          ,    .</p><br>
<p> -    .        —       loadImage()…  null    .      .</p><br>
<p>     : ,  Image:</p><br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Image</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> java.awt.Image image;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Image</span><span class="hljs-params">(java.at.Image image)</span> </span>{
        <span class="hljs-keyword">this</span>.image = image;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Graphics <span class="hljs-title">getGraphics</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getWidth</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> image.getWidth(<span class="hljs-keyword">null</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Image <span class="hljs-title">createImage</span><span class="hljs-params">(<span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> h)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Image(<span class="hljs-keyword">new</span> BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB));<font></font>
    }<font></font>
    ...<font></font>
}</code></pre><br>
<p>, API   ,      .</p><br>
<p>     CanvasImpl,    JPanel.               Canvas.<br>
        ,    c   :</p><br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">paintComponent</span><span class="hljs-params">(Graphics g)</span> </span>{
    <span class="hljs-keyword">if</span> (upscale == <span class="hljs-number">1</span>) {<font></font>
        canvas.paint(<span class="hljs-keyword">new</span> javax.microedition.lcdui.Graphics(g));<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        canvas.paint(<span class="hljs-keyword">new</span> javax.microedition.lcdui.Graphics(screen.getGraphics()));<font></font>
        g.drawImage(screen, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width * upscale, height * upscale, Color.WHITE, <span class="hljs-keyword">null</span>);<font></font>
    }<font></font>
}</code></pre><br>
<p><code>javax.microedition.lcdui.Graphics(g)</code> —     awt.Graphics,   .</p><br>
<p>     ,             .    "" ,    .</p><br>
<p>,       ,   ,    ,  — .    PC.  ? -      <code>64 * 64</code>,     ,     <code>1 * 1</code> ,       <code>240 * 320</code>    . ,            ,    ,   ,     .</p><br>
<p> ,     . ,     ,    ,          ,   ,     .</p><br>
<p> ,   ,     j2me  PC.    —    2010   -,  -      .       -         -  —   .</p><br>
<h2 id="zarabotalo">!</h2><br>
<p>          ,   .</p><br>
<p>        .jar  .   . ,        ,          . -    Alert  Canvas  Displayable     ,      Canvas.   ,       .</p><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">gradle </a>  :</p><br>
<ul>
<li> emulator  , ,   .    ,     ,      .</li>
<li> app-original,      .jar    </li>
<li> app-from-sources      -   .  .</li>
</ul><br>
<h2 id="privodim-kod-k-krasivomu-vidu">    </h2><br>
<p> ,        ,     .      ""  ,  ,    .</p><br>
<p>,       .</p><br>
<h2 id="fixed-point-physics">Fixed-point physics</h2><br>
<p>     .       ,   16  —   .  ,  ,     <code>-32768.0</code>  <code>32767.999984</code> c   <code>1.0 / 65536</code>.</p><br>
<p>      —          .</p><br>
<p>            int.</p><br>
<p>:    int,     ,   "".       long.      64      32 .      16      16-       int.</p><br>
<p>:      .       long,    16    .   -  ,    32   —   16.</p><br>
<p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"></a>  <code>sin</code>, <code>cos</code>  <code>atan2</code>.</p><br>
<p>   —     64  —   0  90 .          ,    —       .       . ,    .</p><br>
<h2 id="sensornyy-vvod"> </h2><br>
<p><img src="https://habrastorage.org/webt/dq/wq/tf/dqwqtfhdco_sovz-0jpjqmx41ng.png"></p><br>
<p> ,          .   <code>Canvas.hasPointerEvents()</code>  <code>true</code>,        ,    .      —       " ", " ", " "   - ""  . ,     ,      .</p><br>
<h2 id="level-format">Level format</h2><br>
<p>  ,       — 170 .   ?   —        .</p><br>
<p>,    —       / ..,     .      .    0xff,        int   ,     ,    —  dx   ,       dy.</p><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; pointsCount; ++i) {
    <span class="hljs-keyword">byte</span> modeOrDx;
    <span class="hljs-keyword">if</span> ((modeOrDx = var1.readByte()) == -<span class="hljs-number">1</span>) {<font></font>
        offsetY = <span class="hljs-number">0</span>;<font></font>
        offsetX = <span class="hljs-number">0</span>;<font></font>
        pointX = var1.readInt();<font></font>
        pointY = var1.readInt();<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        pointX = modeOrDx;<font></font>
        pointY = var1.readByte();<font></font>
    }<font></font>
    offsetX += pointX;<font></font>
    offsetY += pointY;<font></font>
    <span class="hljs-keyword">this</span>.addPointSimple(offsetX, offsetY);<font></font>
}</code></pre><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"> </a></p><br>
<p>  .</p><br>
<h2 id="teksturnye-atlasy"> </h2><br>
<p>      GPU  full hd ,         (<code>128*160</code>  <code>240*320</code>).      3  -  ,   api       . ,       —    90-180-270    .</p><br>
<p> ,        —              .<br>
      ,        32   16 .        48*48     1091 .</p><br>
<p>,  ,       -   API  3    3       - 3-.      ,       -   .</p><br>
<p>   —           2     3.</p><br>
<h2 id="keshirovanie-strok"> </h2><br>
<p>         .   —           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">   </a>  100   "23"  "64".</p><br>
<pre><code class="java hljs"><span class="hljs-keyword">if</span> (time10MsToStringCache[time10MsPart] == <span class="hljs-keyword">null</span>) {<font></font>
    String zeroPadding;<font></font>
    <span class="hljs-keyword">if</span> (time10MsPart &gt;= <span class="hljs-number">10</span>) {<font></font>
        zeroPadding = <span class="hljs-string">""</span>;<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        zeroPadding = <span class="hljs-string">"0"</span>;<font></font>
    }<font></font>
    time10MsToStringCache[time10MsPart] = zeroPadding + time10Ms % <span class="hljs-number">100L</span>;<font></font>
}</code></pre><br>
<p> ,   ,        . ,        -.</p><br>
<h2 id="no-mvp-arhitektura">No-MVP </h2><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">MenuManager</a>         (       )     .  -    ,     —     -     ,   .</p><br>
<p>, - ,             .    :         Android:</p><br>
<ul>
<li> layout    .    .</li>
<li>        stings.txt.</li>
<li> Activity,     .</li>
<li> LifecycleObserver,        Adapter ,    Activity        .</li>
<li>Adapter    DataSource.</li>
<li>      " ",       Bundle     DataSource  .</li>
<li> DataSouce          SQLite  .</li>
</ul><br>
<p>:     ,       ?     ,      .</p><br>
<h2 id="neskolko-klassov-skleeny-v-odin">    </h2><br>
<p>  ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">TimerOrMotoPartOrMenuElem</a>     .<br>
 ,        ,            :</p><br>
<ul>
<li>     </li>
<li>   - </li>
<li>,     " "   </li>
</ul><br>
<p>,      ,     ,     — .</p><br>
<p> ,    ,         64 . ,  -   ,    ""  .</p><br>
<h2 id="dolgaya-zagruzka"> </h2><br>
<p> ,  ,     ,   ,    . ", " —       .</p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">   </a>:</p><br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">long</span> timeToLoading = <span class="hljs-number">3000L</span>;<font></font>
    Thread.yield();<font></font>
    <span class="hljs-keyword">this</span>.gameCanvas = <span class="hljs-keyword">new</span> GameCanvas(<span class="hljs-keyword">this</span>);<font></font>
    Display.getDisplay(<span class="hljs-keyword">this</span>).setCurrent(<span class="hljs-keyword">this</span>.gameCanvas);
    <span class="hljs-keyword">this</span>.gameCanvas.requestRepaint(<span class="hljs-number">1</span>);<font></font>
<font></font>
    <span class="hljs-keyword">while</span> (!<span class="hljs-keyword">this</span>.gameCanvas.isShown()) {
        <span class="hljs-keyword">this</span>.goLoadingStep();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">long</span> deltaTimeMs;
    <span class="hljs-keyword">while</span> (timeToLoading &gt; <span class="hljs-number">0L</span>) {<font></font>
        deltaTimeMs = <span class="hljs-keyword">this</span>.goLoadingStep();<font></font>
        timeToLoading -= deltaTimeMs;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">this</span>.gameCanvas.requestRepaint(<span class="hljs-number">2</span>);<font></font>
<font></font>
    <span class="hljs-keyword">for</span> (timeToLoading = <span class="hljs-number">3000L</span>; timeToLoading &gt; <span class="hljs-number">0L</span>; timeToLoading -= deltaTimeMs) {<font></font>
        deltaTimeMs = <span class="hljs-keyword">this</span>.goLoadingStep();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">while</span> (gameLoadingStateStage &lt; <span class="hljs-number">10</span>) {
        <span class="hljs-keyword">this</span>.goLoadingStep();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">this</span>.gameCanvas.requestRepaint(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">this</span>.isInited = <span class="hljs-keyword">true</span>;<font></font>
}</code></pre><br>
<p>       <code>goLoadingStep()</code>       .                <code>goLoadingStep()</code>.     <code>goLoadingStep</code>   ,    .</p><br>
<p> <code>goLoadingStep()</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">   </a>:</p><br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> <span class="hljs-title">goLoadingStep</span><span class="hljs-params">()</span> </span>{<font></font>
    ++gameLoadingStateStage;<font></font>
    <span class="hljs-keyword">this</span>.gameCanvas.repaint();
    <span class="hljs-keyword">long</span> startTimeMillis = System.currentTimeMillis();
    <span class="hljs-keyword">switch</span> (gameLoadingStateStage) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            <span class="hljs-keyword">this</span>.levelLoader = <span class="hljs-keyword">new</span> LevelLoader();
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            <span class="hljs-keyword">this</span>.gamePhysics = <span class="hljs-keyword">new</span> GamePhysics(<span class="hljs-keyword">this</span>.levelLoader);
            <span class="hljs-keyword">this</span>.gameCanvas.init(<span class="hljs-keyword">this</span>.gamePhysics);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            <span class="hljs-keyword">this</span>.menuManager = <span class="hljs-keyword">new</span> MenuManager(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">this</span>.menuManager.initPart(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">break</span>;<font></font>
            .... <span class="hljs-comment">///   5-8</span>
        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
            <span class="hljs-keyword">this</span>.menuManager.initPart(<span class="hljs-number">7</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:
            <span class="hljs-keyword">this</span>.gameCanvas.setMenuManager(<span class="hljs-keyword">this</span>.menuManager);
            <span class="hljs-keyword">this</span>.gameCanvas.setViewPosition(-<span class="hljs-number">50</span>, <span class="hljs-number">150</span>);
            <span class="hljs-keyword">this</span>.setMode(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:<font></font>
            --gameLoadingStateStage;<font></font>
<font></font>
            <span class="hljs-keyword">try</span> {<font></font>
                Thread.sleep(<span class="hljs-number">100L</span>);<font></font>
            } <span class="hljs-keyword">catch</span> (InterruptedException var3) {<font></font>
            }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">return</span> System.currentTimeMillis() - startTimeMillis;<font></font>
}</code></pre><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">MenuManager.initPart()</a>    <code>switch case</code>    .</p><br>
<p> ,   ,    .                  ,        .</p><br>
<h2 id="istoriya-sozdaniya"> </h2><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"> </a>    2004 .      Excitera Mobile Awards 2004 (EMA04)     best-in-show.   Codebrew Software    :</p><br>
<ul>
<li>Tors Björn Henrik Johansson — system/game logic/interface, testing, levels design</li>
<li>Set Elis Norman — graphics/physics/mathematics/system/tools programming, levels design</li>
<li>Per David Jacobsson — physics programming, game graphics, levels design</li>
</ul><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selain itu, ada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">porta dari game ini untuk android yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dibuat oleh rekan kami, tetapi hanya menggunakan kode yang di-decompile.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Karena tidak ada keluhan tentang kode itu selama lima tahun, saya pikir upaya saya untuk mendekompilasi aplikasi asli dan memahaminya tidak akan membahayakan. </font><font style="vertical-align: inherit;">Sekarang gim ini menarik sejarah dan memungkinkan Anda untuk melihat lebih dekat era smartphone kecil yang mereka bisa.</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id504672/index.html">DEVOXX UK. Kubernetes dalam produksi: penyebaran Biru / Hijau, autoscaling, dan otomatisasi penyebaran. Bagian 2</a></li>
<li><a href="../id504674/index.html">Dasar untuk SPA modular besar pada Laravel + Vue + ElementUI dengan generator CRUD</a></li>
<li><a href="../id504676/index.html">Tambahkan sedikit keacakan ke gim Anda</a></li>
<li><a href="../id504678/index.html">ITMO Research_ podcast: cara mendekati sinkronisasi konten AR dengan pertunjukan pada skala seluruh stadion</a></li>
<li><a href="../id504680/index.html">Gambaran Umum Perpustakaan NLP SpaL</a></li>
<li><a href="../id504686/index.html">Cara menggambar kucing</a></li>
<li><a href="../id504688/index.html">Topeng tidak berguna: kritik ilmiah terhadap kebijakan sosial di KOVID-19</a></li>
<li><a href="../id504690/index.html">Kisah Bagaimana Saya Mengkonfigurasi Azure AD B2C pada Bereaksi dan Bereaksi Asli Bagian 3 (Tutorial)</a></li>
<li><a href="../id504692/index.html">Dasar-Dasar ZFS: Penyimpanan dan Kinerja</a></li>
<li><a href="../id504694/index.html">Cara mengkompilasi dekorator - C ++, Python dan implementasinya sendiri. Bagian 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>