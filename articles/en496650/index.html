<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçü§ù‚Äçüë®üèø üê° üö£üèæ FarSee-Net article review - a new approach to real-time semantic segmentation üë¨ üë©üèª‚Äçü§ù‚Äçüë®üèº üôáüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this paper, the authors propose the Cascaded Factorized Atrous Spatial Pyramid Pooling (CF-ASPP) architecture for real-time semantic segmentation. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>FarSee-Net article review - a new approach to real-time semantic segmentation</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/496650/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this paper, the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> authors propose the Cascaded Factorized Atrous Spatial Pyramid Pooling (CF-ASPP) architecture for real-time semantic segmentation. </font><font style="vertical-align: inherit;">The new CF-ASPP module and the use of super-resolution improve latency-accuracy trade-off. </font><font style="vertical-align: inherit;">The review was prepared by the leading developer of MTS Andrey Lukyanenko.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/e8/kt/jy/e8ktjyx6mmvnkdjy5lz1w9jhe3k.jpeg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Real-time semantic segmentation is essential for many tasks performed on limited resources. One of the big difficulties is working with objects of different sizes and using context. In this paper, the authors propose the Cascaded Factorized Atrous Spatial Pyramid Pooling (CF-ASPP) architecture. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nowadays, a common approach is to quickly reduce the size of images in the initial stages, and then the mask of the original size is obtained using upsampling. The authors propose using super-resolution approaches instead of simple upsampling. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The new module and the use of super-resolution can improve latency-accuracy trade-off.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the authors' terminology, the trained network for feature extraction is called the front-end network, and the rest is called the back-end network. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g7/t7/jy/g7t7jymhyxezedc8kwwg5yzhmsw.jpeg" alt="image"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Justification for improvements</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Since the same object in different pictures may have different sizes, it is very important to be able to effectively use contextual information, especially for small and narrow objects. The front-end typically does context aggregation from multiple scales. But usually these modules work at deep levels of neural networks, where the number of channels is high. As a result, even convolutional layers with a kernel size of 3 require quite a lot of computing resources. Therefore, the authors propose their own module, which makes it more effective.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another back-end problem for semantic segmentation is that feature maps have a significantly smaller spatial dimension after front-end. Plus, many approaches use images with a reduced size to increase speed. As a result, the size is even smaller. The authors suggest using an original size mask for supervision during training. Super-resolution allows you to efficiently restore a high-resolution mask from a low-resolution mask. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The essence of the improvements</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Any trained mesh can be used as the front-end, for example, VGG, ResNet, MobileNet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The whole point is back-end: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-n/bc/_5/-nbc_5hcivx4rewdnc-cdgqu36y.jpeg" alt="image"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cascaded Factorized ASPP</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atrous convolutions are often used in semantic segmentation - their difference from the standard approach is that r - 1 zeros are added between the filters. This allows you to significantly increase the visibility of each filter without increasing computational costs. But since atrous convolutions apply to large feature maps, computing is still costly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The authors suggest decomposing a 3 √ó 3 atrous convolution into 2 parts: point-wise convolution to reduce the number of channels, and then depth-wise and atrous convolution to reduce computational overhead. As a result, approximately 8.8 times less calculations are required.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, the ASPP module is applied twice in cascade. On the one hand, the model receives more contexts of different scales, on the other hand, smaller images come to the second ASPP, so the grid does not slow down very much, but the accuracy increases. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feature Space Super-resolution</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As a result of the front-end operation, the image size is greatly reduced, and we need to obtain a high-resolution result based on this reduced image. The authors use the super-resolution approach for this. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the training stage, a thumbnail is used as input, and the original image is used as ground truth. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the module back-end upsampling is done using sub-pixel convolution, which is just used in super-resolution tasks. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rp/zk/_y/rpzk_ydacygg2q8zgf3nvwfxeii.jpeg" alt="image"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Experiments</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a dataset, cityscapes were used. </font><font style="vertical-align: inherit;">The code was written in Pytorch 1.1, CuDNN v7.0. </font><font style="vertical-align: inherit;">The interference was done on Nvidia Titan X (Maxwell). </font><font style="vertical-align: inherit;">Used ResNet-18 as a trained mesh. </font><font style="vertical-align: inherit;">Features were taken from the last layer before average pooling and from conv3_x layer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SGD, 400 eras and many augmentations. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ablation Study on Network Structure</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/xb/md/5v/xbmd5vwh59rowec0yepkhnlknbs.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tested 4 approaches:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Front-end - ResNet-18, back-end - ASPP, decoder - DeeplabV3 +</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Front-end - ResNet-18, back-end - one F-ASPP, decoder - DeeplabV3 +</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Front-end - ResNet-18, back-end - CF-ASPP (without feature space resolution)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The full approach.</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparison with other approaches.</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/dm/iv/es/dmivescyhpw_z_vp01vgezzrbwu.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The quality is really high and the rate of inference is almost the best.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r2/wa/lj/r2waljaev-sr4viw05zljztlf6k.jpeg" alt="image"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en496630/index.html">Interface Bikes Toxic Grandfather. ‚ÄúArtifacts my ass!‚Äù (s1 e5)</a></li>
<li><a href="../en496634/index.html">School 21 for the applicant</a></li>
<li><a href="../en496638/index.html">F #, marking algorithm for connected image components</a></li>
<li><a href="../en496640/index.html">Covid-19: what will happen to the business in Russia [and when will it all end]</a></li>
<li><a href="../en496642/index.html">Comparison of modern static and rotary UPS. Static UPSs have reached their limit?</a></li>
<li><a href="../en496652/index.html">How to add real-time notifications to Laravel using Pusher</a></li>
<li><a href="../en496654/index.html">Issue # 35: IT training - current issues and challenges from leading companies</a></li>
<li><a href="../en496664/index.html">Different jobs, black, white, red</a></li>
<li><a href="../en496666/index.html">We study the Mediastreamer2 VoIP engine. Part 8</a></li>
<li><a href="../en496670/index.html">Will society change after a pandemic?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>