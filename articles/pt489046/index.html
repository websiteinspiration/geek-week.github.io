<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧙🏻 🕵🏻 🕺🏽 Monster Truck GAZ66 autônomo 1/16 👩🏿‍🏭 🍚 👨🏿‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr, olá! 
 
 Quero falar sobre como eu fiz e criei uma máquina de autogerenciamento :) 
 
 Eu poderia dizer imediatamente como fazê-lo anexando seca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Monster Truck GAZ66 autônomo 1/16</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489046/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habr, olá! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quero falar sobre como eu fiz e criei uma máquina de autogerenciamento :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu poderia dizer imediatamente como fazê-lo anexando secamente os circuitos e os comandos do bash, mas será muito chato. </font><font style="vertical-align: inherit;">Eu ofereço a você uma história interessante (espero) sobre como eu pessoalmente fui por esse caminho e de onde vim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqueles lugares onde havia algo para tirar fotos com fotos. </font><font style="vertical-align: inherit;">Onde sobre o software - provavelmente sem uma foto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Será realmente uma história em formato narrativo, como eu diria a você durante uma xícara de café. </font><font style="vertical-align: inherit;">Não se trata de comandos bash, scripts python, e é tudo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos começar com fotos e vídeos do que aconteceu e, em seguida, a história completa.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/ws/eb/utwsebnltcbcoi7_0gxxrenuusq.jpeg"><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O histórico seguirá esse cenário.</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que eu queria isso</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como funciona uma máquina autônoma (vista superior)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 1 - Gelendwagen do mundo infantil + câmera Raspberry Pi Zero W +</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age 2 - Câmera GAZ66 + NVIDIA Jetson Nano + para RaspberryPi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 3 - Remo Hobby SMAX</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 4 - Conexão SMAX e GAZ66</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 5 - Montagem de componentes em um Monster Truck</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 6 - Instalando o Donkey Car e arredores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 7 - Montagem de trilhas, viagens</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 8 - Viajar com o Joystick</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 9 - Treinamento em Neurônios</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 10 - Tudo funciona, finalmente!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual é o próximo?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desafio de batalha</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comunidade</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A imagem do cartão SD da minha máquina de escrever</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despeje café, estamos saindo!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que eu queria isso</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo começou com o fato de eu estar frustrado pelo fato de que em uma grande empresa de TI na Rússia eles produzem drones muito legais, isso é incrivelmente legal, mas estou sem trabalho :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Não, bem, é realmente muito legal - carros autônomos) Uma excelente liga da mecânica e algoritmos :) A </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
frustração continuou até eu combinar na minha cabeça diferentes fatos sobre mim, a saber:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu posso escrever em python</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compreendo (aproximadamente) como o aprendizado de máquina funciona</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu sei trabalhar com Linux no console</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passei minha infância com um ferro de soldar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tenho uma caixa inteira com componentes de bricolage (raspberry pi, arduino, sensores, etc.)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando tudo deu certo na minha cabeça, eu decidi - carro autônomo (sdc)! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para começar, decidi, vale a pena descobrir como o sdc funciona, e esta será a próxima seção.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como funciona uma máquina autônoma (vista superior)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que o carro funcione sozinho, ele precisa de quatro componentes - um carrinho, sensores, um computador, um algoritmo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos descobrir</font></font></h4><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trole</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O que realmente vai dirigir. Rodas, motores, a bateria que alimenta tudo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Há duas coortes condicionais de carros que eu nomeei para mim - carros do mundo infantil e carros para um hobby. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nem tente flertar com carros do mundo infantil, tentei, isso é um fracasso. O ponto negativo é que eles têm motores fracos sem feedback. Isso significa que você poderá parar qualquer tapete doméstico e não poderá girar com a precisão fornecida. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Carros do mundo do hobby são o que você precisa. Eles têm motores potentes, boas baterias, servos nas rodas dianteiras para voltas. Considere isso um limite de entrada. A coisa mais barata e normal que pude encontrar foi o Remo Hobby SMAX. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensores</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele coleta algumas informações sobre o mundo ao seu redor e as transfere para um computador para tomada de decisão. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basicamente, um conjunto cavalheiro para SDC é:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Câmera. </font><font style="vertical-align: inherit;">A base do básico do SDC. </font><font style="vertical-align: inherit;">Ele olha para um pedaço de espaço à sua frente, transfere a imagem para um computador que reconhece o que está acontecendo e decide o que fazer. </font><font style="vertical-align: inherit;">Parece que eu não vi implementações SDC sem uma câmera.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor IMU. </font><font style="vertical-align: inherit;">Uma peça mostrando a aceleração e o ângulo de inclinação ao longo dos eixos. </font><font style="vertical-align: inherit;">Ajuda a entender para onde estamos indo e como nossa localização mudou em relação ao ponto de partida. </font><font style="vertical-align: inherit;">Usado em quase todos os helicópteros.</font></font></li>
<li>.      ,     ,    ,      .   ,    SDC,   ,     .  ,     75$,      SDC  Velodyne    4K$.      ,     3D ,          2D.</li>
<li>GPS.     ,         ,     ,     SDC  .</li>
<li> .        —    ,    .   3D   .</li>
</ul><br>
<img src="https://habrastorage.org/webt/iy/93/sd/iy93sdbvfijudiwjfaepopyxkkc.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computador</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O que recebe valores dos sensores analisa a situação, transferimos os comandos de controle para o carrinho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No mundo dos computadores para eletrônicos embarcados, os processadores ARM com eficiência de energia (como no telefone) e os computadores de placa única baseados neles são os que dominam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoje existem duas das opções de placa única mais populares - RaspberryPi e NVIDIA Jetson. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RaspberryPi tem um preço mais baixo, uma grande variedade de projetos, uma grande comunidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A NVIDIA tem um preço mais alto, menos projetos, mas mais produtividade nas tarefas de aprendizado de máquina. Possui 128 núcleos CUDA integrados (como em sua grande placa gráfica NVIDIA), que são usados ​​para acelerar os algoritmos de aprendizado de máquina.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem três peças de Raspberry Pi (ZeroW, 3, 4) e NVIDIA Jetson Nano na minha coleção. Decidi montar a máquina, é claro, na Jetson. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Que decide ações com base nas leituras do sensor. Geralmente, uma combinação de visão computacional e redes neurais é usada para isso. Na versão mais básica, você dirige sua máquina de escrever ao longo de algumas marcações, grava vídeos dessas viagens com rastreamento de aceleração / freio / volta e depois treina nessa rede neural para encontrar a dependência dos sinais do motor nas fotos da câmera. Simplesmente, essa é a tarefa de reconhecer a marcação e tentar permanecer nela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você deseja atualizar o funcionamento da rede neural, sugiro que assista a este vídeo:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RJCIYBAAiEI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui descrevi a opção mais simples, onde há apenas uma câmera e um passeio de marcação. </font><font style="vertical-align: inherit;">Mas existem opções com mais sensores e uma lógica de trabalho diferente - haverá um post separado sobre isso aqui. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o nível for muito alto, é isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resta apenas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">montar carrinho</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sensores pendurados</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conectar computador</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desenhar marcação</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">andar nele</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">treinar uma rede neural</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ir</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que descobrimos em que consiste um carro autônomo, vamos para qual era de implementação eu tinha especificamente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 1 - Gelendwagen do mundo infantil + câmera Raspberry Pi Zero W +</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, minha primeira abordagem foi exatamente isso. Aconteceu porque havia um mundo infantil perto da minha casa, no qual eu gostava de Gelik, e o comprei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, pensei, há uma hélice, agora preciso de um computador e sensor. Pensamento - feito. Pedi uma RPi Zero W e uma câmera para ela. Enquanto esperava o computador e a câmera, entrei e comprei um banco de potência para esse negócio. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, tudo está no lugar, é hora de coletar. Eu encontrei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esse projeto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , decidi segui-lo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gelik desmontou, retirou seus cérebros nativos, transferiu-os para o controlador do motor, por sua vez, transferiu-os para o RPi, conectou uma câmera a ele, alimentou tudo com um banco de potência e ficou satisfeito.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de prosseguir com o governo autônomo, decidi andar pelo console por diversão, perseguindo um gato, transmitindo a imagem da câmera para o meu laptop. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi então que algumas falhas me aguardaram. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, o Raspberry Pi Zero W é muito fraco em termos de desempenho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segundo - A passibilidade do gelik do mundo infantil é quase inexistente, foi interrompida por quase qualquer obstáculo mínimo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Já ficou claro que o projeto era natimorto, mas por uma questão de interesse, tentei montar a visão computacional (OpenCV) para o Raspberry Pi Zero diretamente nele. </font><font style="vertical-align: inherit;">Demorou, sem piadas, mais de um dia e foi o último prego na tampa do caixão dessa implementação do SDC. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tornou-se claro que você precisa alterar o computador para obter melhor desempenho e o carrinho para obter maior capacidade entre países.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acabou bem engraçado:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/bt/dg/vlbtdgde7-nhfcsowsypz6nrcay.jpeg"><br>
<br>
<h3> 2 — 66 + NVIDIA Jetson Nano +   RaspberryPi</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, nesse ponto, ficou claro que você precisa de um carro mais aceitável e, de preferência, de um caminhão, para colocar todos os componentes no corpo. Depois de estudar um serviço para a seleção de mercadorias, ficou claro que o modelo da nossa GAZ66 nativa combina comigo, também é uma shishiga entre as pessoas. Ok, eu pedi, espere, é hora de pensar no computador. A essa altura, a NVIDIA estava apenas preparando o início das vendas do seu Jetson Nano, e fiz um pedido no primeiro dia de vendas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chegou um caminhão, continuei esperando Jetson, impacientemente andava de shishiga pela casa, rolava os gatinhos que o gato mencionado acima deu à luz. Para não dizer que os gatinhos gostaram - tiveram que parar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enquanto isso, Jetson ainda estava dirigindo, e pedi um lid lidar a vácuo da China - não sabia como usá-lo especificamente, mas entendi que queria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dia, um correio comercial apareceu na entrada do escritório, me entregou uma caixa bastante grande de pagador único da NVIDIA, assinei a fatura e me senti como um entusiasta do desenvolvedor - uau, um dispositivo comprado no início das vendas veio até mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É hora de colecionar! Mas primeiro, você precisa se beijar, lol. Desmontou o shishigu, jogou fora seu cérebro nativo, lubrificou os mecanismos, começou a se reunir já com base em um computador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conectei a câmera, o controlador do motor, o motor rotativo, o motor a gás / freio, iniciei os scripts Python para o teste - novamente uma chatice! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desta vez, a história é a seguinte: um shishigi usa um motor convencional para girar, não um servo. Então, ele não tem feedback. Portanto, não posso controlá-los com certeza, o que significa que não é adequado para SDC.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, novamente, você precisa resolver de alguma forma isso, fazer alguma coisa. </font><font style="vertical-align: inherit;">Passamos para a próxima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/86/uv/ib86uv8xom4zf9yxa44-r6ikopi.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 3 - Remo Hobby SMAX</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como, naquele momento, estava claro que a máquina precisava não apenas de componentes aceitáveis, mas também minimamente bons, a escolha caiu nas lojas para quem tem RC, este é um hobby. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sem mais delongas, cheguei a uma dessas lojas e, sem me esconder, me disse o que estava fazendo e que tipo de máquina precisava. </font><font style="vertical-align: inherit;">O vendedor, seja gentil, me disse qual máquina atende meus requisitos mínimos e era um Remo Hobby SMAX. </font><font style="vertical-align: inherit;">Eu comprei isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cheguei em casa, peguei um shishigu, tirei tudo dele, sentei-me para me conectar ao SMAX. </font><font style="vertical-align: inherit;">E o que você acha? </font><font style="vertical-align: inherit;">Está certo - falha novamente!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basicamente, os carros RC são projetados para que o motor se conecte ao controlador do motor e que, por sua vez, se conecte ao módulo de rádio que se comunica com o controle remoto. E foi o SMAX que foi projetado para que o controlador do motor e o módulo de rádio fossem combinados - eu literalmente não tive a oportunidade de conectar-me ao controlador de motor em vez do módulo de rádio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, você tem que fazer algo novamente. Volto ao local dos carros de RC, subo nos componentes. Bisbilhotando por lá e aplaudindo, encontro um controlador de motor que tem um fio separado para o módulo de rádio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu ordeno, trago, coleciono tudo de novo - funciona, mas apenas vira. Mas não há gás e vice-versa! Por que diabos, eu acho, mas continuo escolhendo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desta vez, não funcionou que, para que o mecanismo SMAX seja ativado, o console deve enviar a ele um determinado valor (360) através do módulo de rádio. Mas eu não sabia e inseri os valores diretamente para o gás de freio. E o motor não reagiu, partindo da lógica de que ninguém lhe pediu para acordar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em algum momento, sentei-me para examinar literalmente tudo em uma fila, esperando que ele reagisse a pelo menos alguma coisa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No começo eu passei dos 100 - passados. Então 50 por. E quando cheguei na busca de 10, ouvi um grito de boas-vindas em 360 gritos! Trabalho! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testei gás / ré / esquerda / direita no console, tudo funciona. Isso é fogo, aqui eu sou um programador =)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que é hora de montar, mas há um problema - não há absolutamente nenhum lugar para colocar os componentes. </font><font style="vertical-align: inherit;">Os carros de RC são projetados para que seu topo seja uma coisa muito condicional. </font><font style="vertical-align: inherit;">Primeiro, o topo é composto de plástico muito fino e, segundo, é um jipe, e não há onde colocar tudo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse momento, decidi pesquisar e como os outros fazem isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encontrei o projeto carro de burro, que tem tudo pronto para montar seu SDC - exemplos de hardware e estrutura de software. </font><font style="vertical-align: inherit;">Parece legal, pegue e use, mas existem nuances:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eles imprimem a parte superior do carro em uma impressora 3D e, em seguida, lembra o carro muito distante. </font><font style="vertical-align: inherit;">feio, em suma, não esteticamente agradável</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os modelos 3D deles são compatíveis com máquinas que não vendemos.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, lembre-se de Donkey Car, então usaremos a estrutura de software deles, mas por enquanto precisamos pensar em hardware. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dia, virando a cabeça no meu apartamento, olhei para o shishigu desmontado, no SMAX sem a parte superior, e pensei - hmmm, e eles parecem ter a mesma escala (1/16). </font><font style="vertical-align: inherit;">Ele pegou um shishiga, pegou um SMAX, apenas colocou um por um no outro - e realmente faz! </font><font style="vertical-align: inherit;">E parece legal! </font><font style="vertical-align: inherit;">OK, eu tenho que fazer isso! </font><font style="vertical-align: inherit;">Passamos para a próxima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5u/_9/xz/5u_9xz8-xext5xxw1gl_u61f_au.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zp/f1/8v/zpf18v4bqoormzdbaqlvh5wg0ks.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 4 - Conexão SMAX e GAZ66</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, no início desta era, tenho um objetivo interno - conectar a parte superior de uma máquina ao fundo de outra. Como meus colegas e eu pegamos um chip em uma impressora 3D e sou seu co-proprietário (um investidor sério), foi decidido estabelecer uma conexão em um programa CAD, imprimir e, assim, conectá-los. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com essa ideia, caminhei por cerca de 2 meses, pensando que estava prestes a me sentar para entender os sistemas CAD. Lol não. Tendo admitido para mim mesmo que não quero entender os sistemas CAD, comecei a pensar em outras opções. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voltei ao mundo das crianças, decidi ver os designers, de repente eles de alguma forma me ajudaram. Eu comprei um construtor de metal clássico, que estava comigo quando eu estava na escola (a velha escola reunida).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele o arrastou para casa, colocou duas partes da máquina lado a lado e começou a aplicar todos os tipos de elementos de design nelas. </font><font style="vertical-align: inherit;">Por quanto tempo, brevemente, algum tipo de entendimento começou a aparecer, como, pelo menos em teoria, isso poderia ser feito. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Começou a fazer. </font><font style="vertical-align: inherit;">Passou mais de um dia com uma chave inglesa, nozes e pensamentos espaciais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enquanto eu estava conectado, aprendi a perfurar o plástico com uma chave de fenda, rasgue cuidadosamente as peças em excesso para não danificar a caixa, trave as porcas com outras porcas (mas sem arruelas de qualquer maneira). </font><font style="vertical-align: inherit;">Em geral, meu Trudovik ficaria orgulhoso de mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de três alterações e três dias, vi esse caminhão monstro na minha frente - o GAZ66 SMAX Edition de Beslan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, parece que a base de hardware está pronta, passe para a próxima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ae/1e/uy/ae1euyqkwmcpa8g1kkfetnfafg0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/3v/ve/_u/3vve_ujwex5gar6kpbo5zynlddc.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 5 - Montagem de componentes em um Monster Truck</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tenho um carrinho com bons componentes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tenho uma estética e espaço superior</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gás / freio / voltas funcionam normalmente neste carrinho</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">superior e inferior estão conectados juntos =)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É hora de montar componentes nessa beleza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Armado com uma chave de fenda como broca para plástico e fita dupla face como suporte universal para tudo, comecei a trabalhar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fiz uma montagem para a câmera na cabine, que permite ajustar o ângulo da câmera. </font><font style="vertical-align: inherit;">Jogou um longo trem da câmera para Jetson, que, por sua vez, se estabeleceu nas costas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além de Jetson, as seguintes pessoas se estabeleceram nas costas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powerbank para alimentar o computador (doou o seu principal, legal, com entrega de energia USB para que o jetson não falhe na alimentação)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PCA9685 (controlador PWM) para controle do motor</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bateria para alimentar o motor da máquina</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o projeto já era considerado de longo prazo naquele momento, decidi não mexer no lidar ainda e fazer MVP pelo menos na câmera e no software da Donkey Car. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por diversão, conectei meus faróis nativos do GAZ66 para torná-lo mais bonito e mais confiante no escuro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, minha máquina liga, os mecanismos respondem aos comandos do python, a câmera dá uma imagem, as luzes estão acesas, tudo está bem, é hora de instalar o software.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/6l/hn/vi6lhndoodzafm9jsbdkp36thkc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qj/bo/wz/qjbowztgjt1jocusuhducwkpxme.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 6 - Instalando o Donkey Car e arredores</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, nos últimos estágios, encontrei o projeto Donkey Car, que facilitou muito minha vida e me salvou de escrever tudo sozinho. </font><font style="vertical-align: inherit;">Simplificando, o DonkeyCar é uma estrutura que já possui tudo o que você precisa para SDC. </font><font style="vertical-align: inherit;">E eles ainda têm guias sobre como instalar software. </font><font style="vertical-align: inherit;">Mas, como é geralmente o caso do OpenSource, os guias estão desatualizados e se contradizem em instantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, tem que descobrir isso. </font><font style="vertical-align: inherit;">Para o funcionamento normal da estrutura, são necessárias as seguintes bibliotecas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opencv</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tensorflow-gpu (gpu é para jetson, pois existe um kernel cuda. ​​para rpi existe tensorflow-lite)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tensorrt (biblioteca para acelerar a inferência de neurônios)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e tudo o que é definido automaticamente com base na lista de ambiente</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos começar com o OpenCV. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O guia DonkeyCar diz que você precisa compilá-lo a partir da própria fonte, porque para o ARM não há OpenCV no pip. Até fiz isso, compilei o OpenCV, mas antes de instalá-lo, decidi verificar, de repente o sistema possui uma versão antiga do OpenCV e precisa ser demolido. Chamei um python, cv2 importado, solicitei uma versão, mas é bam e relevante. Pesquisou rapidamente e descobriu que nas versões mais recentes do linux4tegra (que está em jetson), os caras da NVIDIA começaram a instalar o OpenCV. Legal, tenho menos o que fazer. Bem feito, que eu poderia me compilar :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, tensorflow-gpu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O guia DonkeyCar indica, em primeiro lugar, uma ramificação de versão desatualizada (1.xx) e, em segundo lugar, nem mesmo a versão mais recente das desatualizadas. Decidi não ouvi-los e coloquei a versão atual mais recente (2.0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O próximo passo é tensorrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O guia para instalar o tensrort no jetson está escrito em uma página wiki separada, e é claro que o autor não leu o guia principal =) Como no guia tensorrt, as variáveis ​​de ambiente são reatribuídas e o OpenCV para de funcionar. Eu torci dessa maneira e daquilo, revirei tudo e decidi atacar o ambiente e as variáveis ​​de ambiente - enrolei diretamente no ambiente principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Satisfeito, ele abriu o python, chamado cv2, tensorflow, tensorrt e, em seguida, pediu a versão do python - todos eles foram importados, todos mostraram as versões mais recentes. Legal! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O processo de instalação do carro de burro é bastante simples, não vou descrevê-lo, sugiro ler o guia deles. A única coisa que observarei agora é que, na configuração do carro de burro, você pode aumentar a resolução da imagem de 86x86 para RPi para 224x224 para Jetson (porque haverá mais desempenho e precisão será maior).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, está tudo pronto, é hora de executar e testar! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minha máquina realmente liga, inicia o servidor da Web nesse IP, para o qual o roteador emitiu a máquina. </font><font style="vertical-align: inherit;">E você pode realmente ir até lá e, a partir do navegador, dirija o joystick, olhando a foto da câmera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu também tive que calibrar os valores fornecidos ao PWM (PCA9685) para encontrar voltas máximas para a frente, para trás e para as laterais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aliás, descobri que meu motor estava conectado incorretamente - a máquina voltava com muito mais energia do que a frente - encontrei experimentalmente os fios e os joguei ao contrário. </font><font style="vertical-align: inherit;">Estava tão organizado ali que todos os fios do motor são da mesma cor e você não consegue se lembrar de como era. </font><font style="vertical-align: inherit;">Mas eu o conectei corretamente e coloquei um psiquiatra em cada fio, para poder distingui-los mais tarde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Legal, é hora de começar a preparar a pista!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 7 - Montagem de trilhas, viagens</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O algoritmo Donkey Car foi projetado para que exista um neurônio treinado por um professor. </font><font style="vertical-align: inherit;">E isso significa que a imagem da câmera está rastreando, e um arquivo json aparece ao lado de cada imagem na qual o nome da imagem, aceleração, rotação, carimbo de data e hora está gravado. </font><font style="vertical-align: inherit;">E, para treinar um neurônio, esses pares imagem + json precisam de pelo menos 5K. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi decidido montar a pista em casa, eles dizem que o apartamento é grande, há para onde se virar. </font><font style="vertical-align: inherit;">Mas, começando a se reunir, ficou claro que não havia passeio pelo apartamento - o piso é de cores diferentes, o contraste será diferente e o modelo não pode ser retirado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, eu decidi colocá-lo em um quarto. </font><font style="vertical-align: inherit;">Comprei 4 rolos de fita adesiva e colei na pista no chão.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu coloquei o carro, liguei, parti e novamente falhei - acontece que um quarto é muito pequeno e meu carro é brega não incluído nas curvas. Mais precisamente, está incluído, mas a uma velocidade que será uma pena =) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, precisamos fazer a segunda iteração e precisamos de uma sala grande. A escolha caiu no escritório - há muitos lugares, o piso é monofônico, aberto 24X7. O único problema é que os limpadores trabalham à noite e a pista precisa ser removida. Ou seja, você precisa fazer tudo de uma só vez - andar com as mãos para ser professor, treinar o modelo, jogá-lo de volta na máquina de escrever e ficar sem o controle das mãos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, dia X, após o evento sobre os experimentos A / B, foi decidido ficar no escritório e fazer a pista. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O local é escolhido, a fita está pronta, a equipe de construtores no jogo. Apenas uma hora, e no corredor do escritório há uma ótima pista.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu coloco o carro, ligo, tento dirigir - viva, ele entra em curvas e tive que limitar a velocidade a apenas 80%.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/px/be/7t/pxbe7tj2qrtw7o0yekqk4lneiue.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 8 - Viajar com o Joystick</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, eu tenho uma pista, tenho um carro e preciso de 5K pares de imagens + json. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empiricamente, descobri que uma volta da minha pista é de 250 pares de foto + json, o que significa que preciso deixar pelo menos 20 voltas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De preferência em uma fileira. Você pode, é claro, de forma intermitente, mas o gás jogado é sacudido pelo modelo e pode começar a desacelerar, mas eu não quero isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comecei a tentar fazer 20 voltas sem interrupção, e isso, devo dizer, não é uma tarefa fácil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira dificuldade surgiu porque havia uma coluna pesada no centro da rota e, quando a máquina estava dirigindo atrás dela, a conexão com o laptop do qual era controlada ficou atrasada, e esse atraso raso me tirou dos limites da rota.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, então você precisa ter certeza de que a conexão é do dispositivo com o qual eu mesmo vou à máquina de escrever quando dirijo. E isso significa que você precisa dirigir a partir do navegador do telefone. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas ainda existe um joystick, e eu o seguro com as duas mãos. Onde mais posso obter o telefone? Carregar uma máquina de escrever não é uma opção, ela diminui a velocidade e, sem telefone, fica mais rápido e pode ficar confuso nos cantos devido à aceleração excessiva. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hmm, então você precisa de alguma forma combinar o telefone e o joystick. Ok, eu tenho um leitor, é grande o suficiente, cabe em um telefone e em um joystick - serve. Ele pegou a fita e colocou o telefone no leitor com fita adesiva, e logo abaixo do joystick. Eu olhei para esse milagre e pensei - o que você é, em geral? :-)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas funcionou :) Com isso consegui deixar 20 voltas. </font><font style="vertical-align: inherit;">Mas na verdade, até 25, porque eu tenho um gosto em torno de 15 círculos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dachshund, pronto, eu tenho um conjunto de dados para treinar um neurônio, é hora de treinar!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 9 - Treinamento em Neurônios</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste momento, tenho um carro, uma pista, um conjunto de dados - sim, estou a um passo do resultado! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em casa, o PC estava girando no modo inativo, com o NVIDIA RTX 2070, no qual eu planejava estudar. Felizmente, para uma casa inteligente, eu tenho um IP externo e só precisava obter a porta 22 da Internet para um PC. É bom que tenha havido assistentes que fizeram isso por mim enquanto eu estava no escritório. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, eu vou no ssh para o computador com o ubuntu, monitore a pasta home para sshfs, carregue arquivos. Parece que apenas 40 megabytes, mas durou cerca de 30 minutos. Aconteceu, como eu o entendo, porque havia muitos deles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos no seu computador, tensorflow-gpu instalado, software DonkeyCar instalado, é hora de treinar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estou chamando um script da DonkeyCar para treinar um neurônio, aponto para as pastas com o conjunto de dados - ele foi executado.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enquanto o neurônio está em execução, o nvtop (monitor de carga da placa de vídeo) mostra 1406% ​​de utilização, o htop regular mostra 100% de carga da cpu para todos os 16 núcleos, está ativado). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de uns 20 minutos, tenho um modelo treinado para dirigir um carro. </font><font style="vertical-align: inherit;">Parece, pegue, use. </font><font style="vertical-align: inherit;">Mas não :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se, escrevi acima sobre tensorrt, que otimiza a inferência de neurônios e os executa em núcleos cuda? </font><font style="vertical-align: inherit;">Claro, eu quero passar por isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E isso significa o que eu preciso:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">congelar o modelo (você precisa compactar tudo para o modelo em um arquivo)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">converter resultado de friso para o formato tensorrt</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estou tentando congelar o modelo, eu chamo o script de DonkeyCar, falha. Enquanto isso, é noite, logo os produtos de limpeza estão desmontando minha pista, preciso fazer isso rapidamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nasceu a hipótese de que isso ocorreu porque tomei o fluxo tensor errado que o DonkeyCar tinha. Ok, estou puxando o tensorflow 2.0, ligo 1,15, tento novamente - sucesso, felicidades! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora a conversão e novamente a repartição - a equipe não foi encontrada. Ok, vou pesquisar qual é o problema. Aconteceu que a NVIDIA marcou esse recurso como obsoleto e interrompeu o suporte. Agora, eles dizem, você precisa converter à mão. Felizmente, encontrei um repositório git, onde havia uma solicitação semelhante, e o usuário encontrou o local onde o script python realmente se encontra, que converte os modelos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu chamo o script daquele lugar, e a verdade responde. Mas, ele diz, nenhum terceiro pitão para você, venha em segundo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, eu estou chamando o segundo python. Ele me diz - eu não tenho fluxo tensor. Bem, peço a ele para colocar tensorflow-gpu 1.15, e ele me diz que não existe essa versão, há apenas 1,14. Ok, concordo, vamos dar uma chance e colocar as diferentes versões em diferentes ambientes python. Coloque tensorflow no segundo python, chamado de conversão - saúde, funcionou! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, eu tenho modelos para tensorrt e, para tensorflow-gpu comum, largo na máquina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu inicio a máquina com o modelo tensens, um trackback de erro enorme, o tempo pressiona - ok, vou tentar o modelo usual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu inicio o erro usual novamente, mas desta vez é bem claro: o tamanho da sua foto é 224X224, enquanto 86X86 é esperado. Lembre-se, em algum lugar muito mais alto eu escrevi que as regras de configuração mudaram a resolução da imagem da câmera?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, na máquina de escrever que corrigi, mas não no computador host. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Volto ao computador host, corrijo as configurações lá, treine novamente, refaça o friso, reconverta e jogue de volta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ga/wn/uw/gawnuwyx7iobukme4h_zrqkgcvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu inicio a máquina com um modelo para tensorrt e ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 10 - Tudo funciona, finalmente!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viva! </font><font style="vertical-align: inherit;">Meu carro foi! </font><font style="vertical-align: inherit;">Si mesmo, sem mim. </font><font style="vertical-align: inherit;">Muito legal. </font><font style="vertical-align: inherit;">Estou incrivelmente feliz)</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por quase um ano eu fiz tudo isso, e agora)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual é o próximo?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem vários planos para um maior desenvolvimento: vou do simples ao complexo.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicione um sensor IMU ao modelo para aumentar possivelmente a precisão. </font><font style="vertical-align: inherit;">Por exemplo, ao dirigir em subidas, é necessário mais esforço no motor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transforme a lógica em viagens não na estrada, mas apenas contorne obstáculos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicione o lidar e faça leituras dele</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desafio de batalha</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você, ou com uma companhia de amigos, sente que deseja correr, escreva para mim, vamos organizar competições =)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comunidade</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também montei uma sala de bate-papo interessante e estou preparando um canal. </font><font style="vertical-align: inherit;">Não tenho certeza de que, de acordo com as regras da Habr, é possível, por isso enviarei à PM, mediante solicitação.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A imagem do cartão SD da minha máquina de escrever</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mediante solicitação, também enviarei uma imagem do meu carro, se você quiser fazê-lo de forma semelhante e não quiser se banhar com a configuração.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489034/index.html">O novo aplicativo móvel UIS - tormento ou salvação para quem procura contratos públicos?</a></li>
<li><a href="../pt489038/index.html">O livro "Concorrência Java na Prática"</a></li>
<li><a href="../pt489040/index.html">AI do Contact Center: boa conversa com terceiros</a></li>
<li><a href="../pt489042/index.html">Grande reabertura da loja: carregamento de dados no Android usando corotina</a></li>
<li><a href="../pt489044/index.html">Física do texto. Parte 1. Símbolos</a></li>
<li><a href="../pt489048/index.html">Log e rastreamento de consultas são práticas recomendadas. Relatório Yandex</a></li>
<li><a href="../pt489050/index.html">Windows vs Sysmon</a></li>
<li><a href="../pt489058/index.html">Conjuntos de redes neurais com PyTorch e Sklearn</a></li>
<li><a href="../pt489060/index.html">Análise: qual a diferença entre investimentos de alto e baixo risco</a></li>
<li><a href="../pt489062/index.html">Incrível desempenho paralelo de E / S do Apache Parquet em Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>