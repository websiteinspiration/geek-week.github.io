<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßôüèª üïµüèª üï∫üèΩ Monster Truck GAZ66 aut√¥nomo 1/16 üë©üèø‚Äçüè≠ üçö üë®üèø‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr, ol√°! 
 
 Quero falar sobre como eu fiz e criei uma m√°quina de autogerenciamento :) 
 
 Eu poderia dizer imediatamente como faz√™-lo anexando seca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Monster Truck GAZ66 aut√¥nomo 1/16</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489046/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habr, ol√°! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quero falar sobre como eu fiz e criei uma m√°quina de autogerenciamento :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu poderia dizer imediatamente como faz√™-lo anexando secamente os circuitos e os comandos do bash, mas ser√° muito chato. </font><font style="vertical-align: inherit;">Eu ofere√ßo a voc√™ uma hist√≥ria interessante (espero) sobre como eu pessoalmente fui por esse caminho e de onde vim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqueles lugares onde havia algo para tirar fotos com fotos. </font><font style="vertical-align: inherit;">Onde sobre o software - provavelmente sem uma foto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ser√° realmente uma hist√≥ria em formato narrativo, como eu diria a voc√™ durante uma x√≠cara de caf√©. </font><font style="vertical-align: inherit;">N√£o se trata de comandos bash, scripts python, e √© tudo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar com fotos e v√≠deos do que aconteceu e, em seguida, a hist√≥ria completa.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/ws/eb/utwsebnltcbcoi7_0gxxrenuusq.jpeg"><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O hist√≥rico seguir√° esse cen√°rio.</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que eu queria isso</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como funciona uma m√°quina aut√¥noma (vista superior)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 1 - Gelendwagen do mundo infantil + c√¢mera Raspberry Pi Zero W +</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age 2 - C√¢mera GAZ66 + NVIDIA Jetson Nano + para RaspberryPi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 3 - Remo Hobby SMAX</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 4 - Conex√£o SMAX e GAZ66</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 5 - Montagem de componentes em um Monster Truck</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 6 - Instalando o Donkey Car e arredores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 7 - Montagem de trilhas, viagens</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 8 - Viajar com o Joystick</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 9 - Treinamento em Neur√¥nios</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 10 - Tudo funciona, finalmente!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual √© o pr√≥ximo?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desafio de batalha</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comunidade</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A imagem do cart√£o SD da minha m√°quina de escrever</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despeje caf√©, estamos saindo!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que eu queria isso</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo come√ßou com o fato de eu estar frustrado pelo fato de que em uma grande empresa de TI na R√∫ssia eles produzem drones muito legais, isso √© incrivelmente legal, mas estou sem trabalho :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o, bem, √© realmente muito legal - carros aut√¥nomos) Uma excelente liga da mec√¢nica e algoritmos :) A </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
frustra√ß√£o continuou at√© eu combinar na minha cabe√ßa diferentes fatos sobre mim, a saber:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu posso escrever em python</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compreendo (aproximadamente) como o aprendizado de m√°quina funciona</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu sei trabalhar com Linux no console</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passei minha inf√¢ncia com um ferro de soldar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tenho uma caixa inteira com componentes de bricolage (raspberry pi, arduino, sensores, etc.)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando tudo deu certo na minha cabe√ßa, eu decidi - carro aut√¥nomo (sdc)! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para come√ßar, decidi, vale a pena descobrir como o sdc funciona, e esta ser√° a pr√≥xima se√ß√£o.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como funciona uma m√°quina aut√¥noma (vista superior)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que o carro funcione sozinho, ele precisa de quatro componentes - um carrinho, sensores, um computador, um algoritmo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos descobrir</font></font></h4><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trole</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O que realmente vai dirigir. Rodas, motores, a bateria que alimenta tudo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° duas coortes condicionais de carros que eu nomeei para mim - carros do mundo infantil e carros para um hobby. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nem tente flertar com carros do mundo infantil, tentei, isso √© um fracasso. O ponto negativo √© que eles t√™m motores fracos sem feedback. Isso significa que voc√™ poder√° parar qualquer tapete dom√©stico e n√£o poder√° girar com a precis√£o fornecida. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Carros do mundo do hobby s√£o o que voc√™ precisa. Eles t√™m motores potentes, boas baterias, servos nas rodas dianteiras para voltas. Considere isso um limite de entrada. A coisa mais barata e normal que pude encontrar foi o Remo Hobby SMAX. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensores</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele coleta algumas informa√ß√µes sobre o mundo ao seu redor e as transfere para um computador para tomada de decis√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basicamente, um conjunto cavalheiro para SDC √©:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√¢mera. </font><font style="vertical-align: inherit;">A base do b√°sico do SDC. </font><font style="vertical-align: inherit;">Ele olha para um peda√ßo de espa√ßo √† sua frente, transfere a imagem para um computador que reconhece o que est√° acontecendo e decide o que fazer. </font><font style="vertical-align: inherit;">Parece que eu n√£o vi implementa√ß√µes SDC sem uma c√¢mera.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor IMU. </font><font style="vertical-align: inherit;">Uma pe√ßa mostrando a acelera√ß√£o e o √¢ngulo de inclina√ß√£o ao longo dos eixos. </font><font style="vertical-align: inherit;">Ajuda a entender para onde estamos indo e como nossa localiza√ß√£o mudou em rela√ß√£o ao ponto de partida. </font><font style="vertical-align: inherit;">Usado em quase todos os helic√≥pteros.</font></font></li>
<li>.      ,     ,    ,      .   ,    SDC,   ,     .  ,     75$,      SDC  Velodyne    4K$.      ,     3D ,          2D.</li>
<li>GPS.     ,         ,     ,     SDC  .</li>
<li> .        ‚Äî    ,    .   3D   .</li>
</ul><br>
<img src="https://habrastorage.org/webt/iy/93/sd/iy93sdbvfijudiwjfaepopyxkkc.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computador</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O que recebe valores dos sensores analisa a situa√ß√£o, transferimos os comandos de controle para o carrinho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No mundo dos computadores para eletr√¥nicos embarcados, os processadores ARM com efici√™ncia de energia (como no telefone) e os computadores de placa √∫nica baseados neles s√£o os que dominam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoje existem duas das op√ß√µes de placa √∫nica mais populares - RaspberryPi e NVIDIA Jetson. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RaspberryPi tem um pre√ßo mais baixo, uma grande variedade de projetos, uma grande comunidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A NVIDIA tem um pre√ßo mais alto, menos projetos, mas mais produtividade nas tarefas de aprendizado de m√°quina. Possui 128 n√∫cleos CUDA integrados (como em sua grande placa gr√°fica NVIDIA), que s√£o usados ‚Äã‚Äãpara acelerar os algoritmos de aprendizado de m√°quina.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem tr√™s pe√ßas de Raspberry Pi (ZeroW, 3, 4) e NVIDIA Jetson Nano na minha cole√ß√£o. Decidi montar a m√°quina, √© claro, na Jetson. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Que decide a√ß√µes com base nas leituras do sensor. Geralmente, uma combina√ß√£o de vis√£o computacional e redes neurais √© usada para isso. Na vers√£o mais b√°sica, voc√™ dirige sua m√°quina de escrever ao longo de algumas marca√ß√µes, grava v√≠deos dessas viagens com rastreamento de acelera√ß√£o / freio / volta e depois treina nessa rede neural para encontrar a depend√™ncia dos sinais do motor nas fotos da c√¢mera. Simplesmente, essa √© a tarefa de reconhecer a marca√ß√£o e tentar permanecer nela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ deseja atualizar o funcionamento da rede neural, sugiro que assista a este v√≠deo:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RJCIYBAAiEI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui descrevi a op√ß√£o mais simples, onde h√° apenas uma c√¢mera e um passeio de marca√ß√£o. </font><font style="vertical-align: inherit;">Mas existem op√ß√µes com mais sensores e uma l√≥gica de trabalho diferente - haver√° um post separado sobre isso aqui. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o n√≠vel for muito alto, √© isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resta apenas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">montar carrinho</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sensores pendurados</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conectar computador</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desenhar marca√ß√£o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">andar nele</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">treinar uma rede neural</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ir</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que descobrimos em que consiste um carro aut√¥nomo, vamos para qual era de implementa√ß√£o eu tinha especificamente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 1 - Gelendwagen do mundo infantil + c√¢mera Raspberry Pi Zero W +</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, minha primeira abordagem foi exatamente isso. Aconteceu porque havia um mundo infantil perto da minha casa, no qual eu gostava de Gelik, e o comprei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, pensei, h√° uma h√©lice, agora preciso de um computador e sensor. Pensamento - feito. Pedi uma RPi Zero W e uma c√¢mera para ela. Enquanto esperava o computador e a c√¢mera, entrei e comprei um banco de pot√™ncia para esse neg√≥cio. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, tudo est√° no lugar, √© hora de coletar. Eu encontrei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esse projeto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , decidi segui-lo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gelik desmontou, retirou seus c√©rebros nativos, transferiu-os para o controlador do motor, por sua vez, transferiu-os para o RPi, conectou uma c√¢mera a ele, alimentou tudo com um banco de pot√™ncia e ficou satisfeito.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de prosseguir com o governo aut√¥nomo, decidi andar pelo console por divers√£o, perseguindo um gato, transmitindo a imagem da c√¢mera para o meu laptop. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi ent√£o que algumas falhas me aguardaram. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, o Raspberry Pi Zero W √© muito fraco em termos de desempenho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segundo - A passibilidade do gelik do mundo infantil √© quase inexistente, foi interrompida por quase qualquer obst√°culo m√≠nimo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J√° ficou claro que o projeto era natimorto, mas por uma quest√£o de interesse, tentei montar a vis√£o computacional (OpenCV) para o Raspberry Pi Zero diretamente nele. </font><font style="vertical-align: inherit;">Demorou, sem piadas, mais de um dia e foi o √∫ltimo prego na tampa do caix√£o dessa implementa√ß√£o do SDC. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tornou-se claro que voc√™ precisa alterar o computador para obter melhor desempenho e o carrinho para obter maior capacidade entre pa√≠ses.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acabou bem engra√ßado:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/bt/dg/vlbtdgde7-nhfcsowsypz6nrcay.jpeg"><br>
<br>
<h3> 2 ‚Äî 66 + NVIDIA Jetson Nano +   RaspberryPi</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, nesse ponto, ficou claro que voc√™ precisa de um carro mais aceit√°vel e, de prefer√™ncia, de um caminh√£o, para colocar todos os componentes no corpo. Depois de estudar um servi√ßo para a sele√ß√£o de mercadorias, ficou claro que o modelo da nossa GAZ66 nativa combina comigo, tamb√©m √© uma shishiga entre as pessoas. Ok, eu pedi, espere, √© hora de pensar no computador. A essa altura, a NVIDIA estava apenas preparando o in√≠cio das vendas do seu Jetson Nano, e fiz um pedido no primeiro dia de vendas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chegou um caminh√£o, continuei esperando Jetson, impacientemente andava de shishiga pela casa, rolava os gatinhos que o gato mencionado acima deu √† luz. Para n√£o dizer que os gatinhos gostaram - tiveram que parar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enquanto isso, Jetson ainda estava dirigindo, e pedi um lid lidar a v√°cuo da China - n√£o sabia como us√°-lo especificamente, mas entendi que queria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dia, um correio comercial apareceu na entrada do escrit√≥rio, me entregou uma caixa bastante grande de pagador √∫nico da NVIDIA, assinei a fatura e me senti como um entusiasta do desenvolvedor - uau, um dispositivo comprado no in√≠cio das vendas veio at√© mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â hora de colecionar! Mas primeiro, voc√™ precisa se beijar, lol. Desmontou o shishigu, jogou fora seu c√©rebro nativo, lubrificou os mecanismos, come√ßou a se reunir j√° com base em um computador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conectei a c√¢mera, o controlador do motor, o motor rotativo, o motor a g√°s / freio, iniciei os scripts Python para o teste - novamente uma chatice! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desta vez, a hist√≥ria √© a seguinte: um shishigi usa um motor convencional para girar, n√£o um servo. Ent√£o, ele n√£o tem feedback. Portanto, n√£o posso control√°-los com certeza, o que significa que n√£o √© adequado para SDC.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, novamente, voc√™ precisa resolver de alguma forma isso, fazer alguma coisa. </font><font style="vertical-align: inherit;">Passamos para a pr√≥xima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/86/uv/ib86uv8xom4zf9yxa44-r6ikopi.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 3 - Remo Hobby SMAX</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como, naquele momento, estava claro que a m√°quina precisava n√£o apenas de componentes aceit√°veis, mas tamb√©m minimamente bons, a escolha caiu nas lojas para quem tem RC, este √© um hobby. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sem mais delongas, cheguei a uma dessas lojas e, sem me esconder, me disse o que estava fazendo e que tipo de m√°quina precisava. </font><font style="vertical-align: inherit;">O vendedor, seja gentil, me disse qual m√°quina atende meus requisitos m√≠nimos e era um Remo Hobby SMAX. </font><font style="vertical-align: inherit;">Eu comprei isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cheguei em casa, peguei um shishigu, tirei tudo dele, sentei-me para me conectar ao SMAX. </font><font style="vertical-align: inherit;">E o que voc√™ acha? </font><font style="vertical-align: inherit;">Est√° certo - falha novamente!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basicamente, os carros RC s√£o projetados para que o motor se conecte ao controlador do motor e que, por sua vez, se conecte ao m√≥dulo de r√°dio que se comunica com o controle remoto. E foi o SMAX que foi projetado para que o controlador do motor e o m√≥dulo de r√°dio fossem combinados - eu literalmente n√£o tive a oportunidade de conectar-me ao controlador de motor em vez do m√≥dulo de r√°dio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, voc√™ tem que fazer algo novamente. Volto ao local dos carros de RC, subo nos componentes. Bisbilhotando por l√° e aplaudindo, encontro um controlador de motor que tem um fio separado para o m√≥dulo de r√°dio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu ordeno, trago, coleciono tudo de novo - funciona, mas apenas vira. Mas n√£o h√° g√°s e vice-versa! Por que diabos, eu acho, mas continuo escolhendo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desta vez, n√£o funcionou que, para que o mecanismo SMAX seja ativado, o console deve enviar a ele um determinado valor (360) atrav√©s do m√≥dulo de r√°dio. Mas eu n√£o sabia e inseri os valores diretamente para o g√°s de freio. E o motor n√£o reagiu, partindo da l√≥gica de que ningu√©m lhe pediu para acordar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em algum momento, sentei-me para examinar literalmente tudo em uma fila, esperando que ele reagisse a pelo menos alguma coisa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No come√ßo eu passei dos 100 - passados. Ent√£o 50 por. E quando cheguei na busca de 10, ouvi um grito de boas-vindas em 360 gritos! Trabalho! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testei g√°s / r√© / esquerda / direita no console, tudo funciona. Isso √© fogo, aqui eu sou um programador =)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que √© hora de montar, mas h√° um problema - n√£o h√° absolutamente nenhum lugar para colocar os componentes. </font><font style="vertical-align: inherit;">Os carros de RC s√£o projetados para que seu topo seja uma coisa muito condicional. </font><font style="vertical-align: inherit;">Primeiro, o topo √© composto de pl√°stico muito fino e, segundo, √© um jipe, e n√£o h√° onde colocar tudo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse momento, decidi pesquisar e como os outros fazem isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encontrei o projeto carro de burro, que tem tudo pronto para montar seu SDC - exemplos de hardware e estrutura de software. </font><font style="vertical-align: inherit;">Parece legal, pegue e use, mas existem nuances:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eles imprimem a parte superior do carro em uma impressora 3D e, em seguida, lembra o carro muito distante. </font><font style="vertical-align: inherit;">feio, em suma, n√£o esteticamente agrad√°vel</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os modelos 3D deles s√£o compat√≠veis com m√°quinas que n√£o vendemos.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, lembre-se de Donkey Car, ent√£o usaremos a estrutura de software deles, mas por enquanto precisamos pensar em hardware. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dia, virando a cabe√ßa no meu apartamento, olhei para o shishigu desmontado, no SMAX sem a parte superior, e pensei - hmmm, e eles parecem ter a mesma escala (1/16). </font><font style="vertical-align: inherit;">Ele pegou um shishiga, pegou um SMAX, apenas colocou um por um no outro - e realmente faz! </font><font style="vertical-align: inherit;">E parece legal! </font><font style="vertical-align: inherit;">OK, eu tenho que fazer isso! </font><font style="vertical-align: inherit;">Passamos para a pr√≥xima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5u/_9/xz/5u_9xz8-xext5xxw1gl_u61f_au.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zp/f1/8v/zpf18v4bqoormzdbaqlvh5wg0ks.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 4 - Conex√£o SMAX e GAZ66</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, no in√≠cio desta era, tenho um objetivo interno - conectar a parte superior de uma m√°quina ao fundo de outra. Como meus colegas e eu pegamos um chip em uma impressora 3D e sou seu co-propriet√°rio (um investidor s√©rio), foi decidido estabelecer uma conex√£o em um programa CAD, imprimir e, assim, conect√°-los. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com essa ideia, caminhei por cerca de 2 meses, pensando que estava prestes a me sentar para entender os sistemas CAD. Lol n√£o. Tendo admitido para mim mesmo que n√£o quero entender os sistemas CAD, comecei a pensar em outras op√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voltei ao mundo das crian√ßas, decidi ver os designers, de repente eles de alguma forma me ajudaram. Eu comprei um construtor de metal cl√°ssico, que estava comigo quando eu estava na escola (a velha escola reunida).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele o arrastou para casa, colocou duas partes da m√°quina lado a lado e come√ßou a aplicar todos os tipos de elementos de design nelas. </font><font style="vertical-align: inherit;">Por quanto tempo, brevemente, algum tipo de entendimento come√ßou a aparecer, como, pelo menos em teoria, isso poderia ser feito. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Come√ßou a fazer. </font><font style="vertical-align: inherit;">Passou mais de um dia com uma chave inglesa, nozes e pensamentos espaciais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enquanto eu estava conectado, aprendi a perfurar o pl√°stico com uma chave de fenda, rasgue cuidadosamente as pe√ßas em excesso para n√£o danificar a caixa, trave as porcas com outras porcas (mas sem arruelas de qualquer maneira). </font><font style="vertical-align: inherit;">Em geral, meu Trudovik ficaria orgulhoso de mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de tr√™s altera√ß√µes e tr√™s dias, vi esse caminh√£o monstro na minha frente - o GAZ66 SMAX Edition de Beslan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, parece que a base de hardware est√° pronta, passe para a pr√≥xima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ae/1e/uy/ae1euyqkwmcpa8g1kkfetnfafg0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/3v/ve/_u/3vve_ujwex5gar6kpbo5zynlddc.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 5 - Montagem de componentes em um Monster Truck</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tenho um carrinho com bons componentes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tenho uma est√©tica e espa√ßo superior</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g√°s / freio / voltas funcionam normalmente neste carrinho</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">superior e inferior est√£o conectados juntos =)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â hora de montar componentes nessa beleza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Armado com uma chave de fenda como broca para pl√°stico e fita dupla face como suporte universal para tudo, comecei a trabalhar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fiz uma montagem para a c√¢mera na cabine, que permite ajustar o √¢ngulo da c√¢mera. </font><font style="vertical-align: inherit;">Jogou um longo trem da c√¢mera para Jetson, que, por sua vez, se estabeleceu nas costas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m de Jetson, as seguintes pessoas se estabeleceram nas costas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powerbank para alimentar o computador (doou o seu principal, legal, com entrega de energia USB para que o jetson n√£o falhe na alimenta√ß√£o)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PCA9685 (controlador PWM) para controle do motor</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bateria para alimentar o motor da m√°quina</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o projeto j√° era considerado de longo prazo naquele momento, decidi n√£o mexer no lidar ainda e fazer MVP pelo menos na c√¢mera e no software da Donkey Car. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por divers√£o, conectei meus far√≥is nativos do GAZ66 para torn√°-lo mais bonito e mais confiante no escuro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, minha m√°quina liga, os mecanismos respondem aos comandos do python, a c√¢mera d√° uma imagem, as luzes est√£o acesas, tudo est√° bem, √© hora de instalar o software.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/6l/hn/vi6lhndoodzafm9jsbdkp36thkc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qj/bo/wz/qjbowztgjt1jocusuhducwkpxme.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 6 - Instalando o Donkey Car e arredores</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, nos √∫ltimos est√°gios, encontrei o projeto Donkey Car, que facilitou muito minha vida e me salvou de escrever tudo sozinho. </font><font style="vertical-align: inherit;">Simplificando, o DonkeyCar √© uma estrutura que j√° possui tudo o que voc√™ precisa para SDC. </font><font style="vertical-align: inherit;">E eles ainda t√™m guias sobre como instalar software. </font><font style="vertical-align: inherit;">Mas, como √© geralmente o caso do OpenSource, os guias est√£o desatualizados e se contradizem em instantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, tem que descobrir isso. </font><font style="vertical-align: inherit;">Para o funcionamento normal da estrutura, s√£o necess√°rias as seguintes bibliotecas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opencv</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tensorflow-gpu (gpu √© para jetson, pois existe um kernel cuda. ‚Äã‚Äãpara rpi existe tensorflow-lite)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tensorrt (biblioteca para acelerar a infer√™ncia de neur√¥nios)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e tudo o que √© definido automaticamente com base na lista de ambiente</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar com o OpenCV. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O guia DonkeyCar diz que voc√™ precisa compil√°-lo a partir da pr√≥pria fonte, porque para o ARM n√£o h√° OpenCV no pip. At√© fiz isso, compilei o OpenCV, mas antes de instal√°-lo, decidi verificar, de repente o sistema possui uma vers√£o antiga do OpenCV e precisa ser demolido. Chamei um python, cv2 importado, solicitei uma vers√£o, mas √© bam e relevante. Pesquisou rapidamente e descobriu que nas vers√µes mais recentes do linux4tegra (que est√° em jetson), os caras da NVIDIA come√ßaram a instalar o OpenCV. Legal, tenho menos o que fazer. Bem feito, que eu poderia me compilar :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, tensorflow-gpu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O guia DonkeyCar indica, em primeiro lugar, uma ramifica√ß√£o de vers√£o desatualizada (1.xx) e, em segundo lugar, nem mesmo a vers√£o mais recente das desatualizadas. Decidi n√£o ouvi-los e coloquei a vers√£o atual mais recente (2.0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pr√≥ximo passo √© tensorrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O guia para instalar o tensrort no jetson est√° escrito em uma p√°gina wiki separada, e √© claro que o autor n√£o leu o guia principal =) Como no guia tensorrt, as vari√°veis ‚Äã‚Äãde ambiente s√£o reatribu√≠das e o OpenCV para de funcionar. Eu torci dessa maneira e daquilo, revirei tudo e decidi atacar o ambiente e as vari√°veis ‚Äã‚Äãde ambiente - enrolei diretamente no ambiente principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Satisfeito, ele abriu o python, chamado cv2, tensorflow, tensorrt e, em seguida, pediu a vers√£o do python - todos eles foram importados, todos mostraram as vers√µes mais recentes. Legal! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O processo de instala√ß√£o do carro de burro √© bastante simples, n√£o vou descrev√™-lo, sugiro ler o guia deles. A √∫nica coisa que observarei agora √© que, na configura√ß√£o do carro de burro, voc√™ pode aumentar a resolu√ß√£o da imagem de 86x86 para RPi para 224x224 para Jetson (porque haver√° mais desempenho e precis√£o ser√° maior).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, est√° tudo pronto, √© hora de executar e testar! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minha m√°quina realmente liga, inicia o servidor da Web nesse IP, para o qual o roteador emitiu a m√°quina. </font><font style="vertical-align: inherit;">E voc√™ pode realmente ir at√© l√° e, a partir do navegador, dirija o joystick, olhando a foto da c√¢mera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tamb√©m tive que calibrar os valores fornecidos ao PWM (PCA9685) para encontrar voltas m√°ximas para a frente, para tr√°s e para as laterais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ali√°s, descobri que meu motor estava conectado incorretamente - a m√°quina voltava com muito mais energia do que a frente - encontrei experimentalmente os fios e os joguei ao contr√°rio. </font><font style="vertical-align: inherit;">Estava t√£o organizado ali que todos os fios do motor s√£o da mesma cor e voc√™ n√£o consegue se lembrar de como era. </font><font style="vertical-align: inherit;">Mas eu o conectei corretamente e coloquei um psiquiatra em cada fio, para poder distingui-los mais tarde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Legal, √© hora de come√ßar a preparar a pista!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 7 - Montagem de trilhas, viagens</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O algoritmo Donkey Car foi projetado para que exista um neur√¥nio treinado por um professor. </font><font style="vertical-align: inherit;">E isso significa que a imagem da c√¢mera est√° rastreando, e um arquivo json aparece ao lado de cada imagem na qual o nome da imagem, acelera√ß√£o, rota√ß√£o, carimbo de data e hora est√° gravado. </font><font style="vertical-align: inherit;">E, para treinar um neur√¥nio, esses pares imagem + json precisam de pelo menos 5K. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi decidido montar a pista em casa, eles dizem que o apartamento √© grande, h√° para onde se virar. </font><font style="vertical-align: inherit;">Mas, come√ßando a se reunir, ficou claro que n√£o havia passeio pelo apartamento - o piso √© de cores diferentes, o contraste ser√° diferente e o modelo n√£o pode ser retirado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, eu decidi coloc√°-lo em um quarto. </font><font style="vertical-align: inherit;">Comprei 4 rolos de fita adesiva e colei na pista no ch√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu coloquei o carro, liguei, parti e novamente falhei - acontece que um quarto √© muito pequeno e meu carro √© brega n√£o inclu√≠do nas curvas. Mais precisamente, est√° inclu√≠do, mas a uma velocidade que ser√° uma pena =) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, precisamos fazer a segunda itera√ß√£o e precisamos de uma sala grande. A escolha caiu no escrit√≥rio - h√° muitos lugares, o piso √© monof√¥nico, aberto 24X7. O √∫nico problema √© que os limpadores trabalham √† noite e a pista precisa ser removida. Ou seja, voc√™ precisa fazer tudo de uma s√≥ vez - andar com as m√£os para ser professor, treinar o modelo, jog√°-lo de volta na m√°quina de escrever e ficar sem o controle das m√£os. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, dia X, ap√≥s o evento sobre os experimentos A / B, foi decidido ficar no escrit√≥rio e fazer a pista. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O local √© escolhido, a fita est√° pronta, a equipe de construtores no jogo. Apenas uma hora, e no corredor do escrit√≥rio h√° uma √≥tima pista.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu coloco o carro, ligo, tento dirigir - viva, ele entra em curvas e tive que limitar a velocidade a apenas 80%.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/px/be/7t/pxbe7tj2qrtw7o0yekqk4lneiue.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 8 - Viajar com o Joystick</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, eu tenho uma pista, tenho um carro e preciso de 5K pares de imagens + json. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empiricamente, descobri que uma volta da minha pista √© de 250 pares de foto + json, o que significa que preciso deixar pelo menos 20 voltas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De prefer√™ncia em uma fileira. Voc√™ pode, √© claro, de forma intermitente, mas o g√°s jogado √© sacudido pelo modelo e pode come√ßar a desacelerar, mas eu n√£o quero isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comecei a tentar fazer 20 voltas sem interrup√ß√£o, e isso, devo dizer, n√£o √© uma tarefa f√°cil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira dificuldade surgiu porque havia uma coluna pesada no centro da rota e, quando a m√°quina estava dirigindo atr√°s dela, a conex√£o com o laptop do qual era controlada ficou atrasada, e esse atraso raso me tirou dos limites da rota.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, ent√£o voc√™ precisa ter certeza de que a conex√£o √© do dispositivo com o qual eu mesmo vou √† m√°quina de escrever quando dirijo. E isso significa que voc√™ precisa dirigir a partir do navegador do telefone. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas ainda existe um joystick, e eu o seguro com as duas m√£os. Onde mais posso obter o telefone? Carregar uma m√°quina de escrever n√£o √© uma op√ß√£o, ela diminui a velocidade e, sem telefone, fica mais r√°pido e pode ficar confuso nos cantos devido √† acelera√ß√£o excessiva. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hmm, ent√£o voc√™ precisa de alguma forma combinar o telefone e o joystick. Ok, eu tenho um leitor, √© grande o suficiente, cabe em um telefone e em um joystick - serve. Ele pegou a fita e colocou o telefone no leitor com fita adesiva, e logo abaixo do joystick. Eu olhei para esse milagre e pensei - o que voc√™ √©, em geral? :-)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas funcionou :) Com isso consegui deixar 20 voltas. </font><font style="vertical-align: inherit;">Mas na verdade, at√© 25, porque eu tenho um gosto em torno de 15 c√≠rculos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dachshund, pronto, eu tenho um conjunto de dados para treinar um neur√¥nio, √© hora de treinar!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 9 - Treinamento em Neur√¥nios</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste momento, tenho um carro, uma pista, um conjunto de dados - sim, estou a um passo do resultado! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em casa, o PC estava girando no modo inativo, com o NVIDIA RTX 2070, no qual eu planejava estudar. Felizmente, para uma casa inteligente, eu tenho um IP externo e s√≥ precisava obter a porta 22 da Internet para um PC. √â bom que tenha havido assistentes que fizeram isso por mim enquanto eu estava no escrit√≥rio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, eu vou no ssh para o computador com o ubuntu, monitore a pasta home para sshfs, carregue arquivos. Parece que apenas 40 megabytes, mas durou cerca de 30 minutos. Aconteceu, como eu o entendo, porque havia muitos deles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos no seu computador, tensorflow-gpu instalado, software DonkeyCar instalado, √© hora de treinar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estou chamando um script da DonkeyCar para treinar um neur√¥nio, aponto para as pastas com o conjunto de dados - ele foi executado.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enquanto o neur√¥nio est√° em execu√ß√£o, o nvtop (monitor de carga da placa de v√≠deo) mostra 1406% ‚Äã‚Äãde utiliza√ß√£o, o htop regular mostra 100% de carga da cpu para todos os 16 n√∫cleos, est√° ativado). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de uns 20 minutos, tenho um modelo treinado para dirigir um carro. </font><font style="vertical-align: inherit;">Parece, pegue, use. </font><font style="vertical-align: inherit;">Mas n√£o :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se, escrevi acima sobre tensorrt, que otimiza a infer√™ncia de neur√¥nios e os executa em n√∫cleos cuda? </font><font style="vertical-align: inherit;">Claro, eu quero passar por isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E isso significa o que eu preciso:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">congelar o modelo (voc√™ precisa compactar tudo para o modelo em um arquivo)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">converter resultado de friso para o formato tensorrt</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estou tentando congelar o modelo, eu chamo o script de DonkeyCar, falha. Enquanto isso, √© noite, logo os produtos de limpeza est√£o desmontando minha pista, preciso fazer isso rapidamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nasceu a hip√≥tese de que isso ocorreu porque tomei o fluxo tensor errado que o DonkeyCar tinha. Ok, estou puxando o tensorflow 2.0, ligo 1,15, tento novamente - sucesso, felicidades! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora a convers√£o e novamente a reparti√ß√£o - a equipe n√£o foi encontrada. Ok, vou pesquisar qual √© o problema. Aconteceu que a NVIDIA marcou esse recurso como obsoleto e interrompeu o suporte. Agora, eles dizem, voc√™ precisa converter √† m√£o. Felizmente, encontrei um reposit√≥rio git, onde havia uma solicita√ß√£o semelhante, e o usu√°rio encontrou o local onde o script python realmente se encontra, que converte os modelos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu chamo o script daquele lugar, e a verdade responde. Mas, ele diz, nenhum terceiro pit√£o para voc√™, venha em segundo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, eu estou chamando o segundo python. Ele me diz - eu n√£o tenho fluxo tensor. Bem, pe√ßo a ele para colocar tensorflow-gpu 1.15, e ele me diz que n√£o existe essa vers√£o, h√° apenas 1,14. Ok, concordo, vamos dar uma chance e colocar as diferentes vers√µes em diferentes ambientes python. Coloque tensorflow no segundo python, chamado de convers√£o - sa√∫de, funcionou! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, eu tenho modelos para tensorrt e, para tensorflow-gpu comum, largo na m√°quina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu inicio a m√°quina com o modelo tensens, um trackback de erro enorme, o tempo pressiona - ok, vou tentar o modelo usual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu inicio o erro usual novamente, mas desta vez √© bem claro: o tamanho da sua foto √© 224X224, enquanto 86X86 √© esperado. Lembre-se, em algum lugar muito mais alto eu escrevi que as regras de configura√ß√£o mudaram a resolu√ß√£o da imagem da c√¢mera?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, na m√°quina de escrever que corrigi, mas n√£o no computador host. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Volto ao computador host, corrijo as configura√ß√µes l√°, treine novamente, refa√ßa o friso, reconverta e jogue de volta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ga/wn/uw/gawnuwyx7iobukme4h_zrqkgcvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu inicio a m√°quina com um modelo para tensorrt e ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idade 10 - Tudo funciona, finalmente!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viva! </font><font style="vertical-align: inherit;">Meu carro foi! </font><font style="vertical-align: inherit;">Si mesmo, sem mim. </font><font style="vertical-align: inherit;">Muito legal. </font><font style="vertical-align: inherit;">Estou incrivelmente feliz)</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por quase um ano eu fiz tudo isso, e agora)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual √© o pr√≥ximo?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem v√°rios planos para um maior desenvolvimento: vou do simples ao complexo.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicione um sensor IMU ao modelo para aumentar possivelmente a precis√£o. </font><font style="vertical-align: inherit;">Por exemplo, ao dirigir em subidas, √© necess√°rio mais esfor√ßo no motor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transforme a l√≥gica em viagens n√£o na estrada, mas apenas contorne obst√°culos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicione o lidar e fa√ßa leituras dele</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desafio de batalha</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™, ou com uma companhia de amigos, sente que deseja correr, escreva para mim, vamos organizar competi√ß√µes =)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comunidade</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m montei uma sala de bate-papo interessante e estou preparando um canal. </font><font style="vertical-align: inherit;">N√£o tenho certeza de que, de acordo com as regras da Habr, √© poss√≠vel, por isso enviarei √† PM, mediante solicita√ß√£o.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A imagem do cart√£o SD da minha m√°quina de escrever</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mediante solicita√ß√£o, tamb√©m enviarei uma imagem do meu carro, se voc√™ quiser faz√™-lo de forma semelhante e n√£o quiser se banhar com a configura√ß√£o.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489034/index.html">O novo aplicativo m√≥vel UIS - tormento ou salva√ß√£o para quem procura contratos p√∫blicos?</a></li>
<li><a href="../pt489038/index.html">O livro "Concorr√™ncia Java na Pr√°tica"</a></li>
<li><a href="../pt489040/index.html">AI do Contact Center: boa conversa com terceiros</a></li>
<li><a href="../pt489042/index.html">Grande reabertura da loja: carregamento de dados no Android usando corotina</a></li>
<li><a href="../pt489044/index.html">F√≠sica do texto. Parte 1. S√≠mbolos</a></li>
<li><a href="../pt489048/index.html">Log e rastreamento de consultas s√£o pr√°ticas recomendadas. Relat√≥rio Yandex</a></li>
<li><a href="../pt489050/index.html">Windows vs Sysmon</a></li>
<li><a href="../pt489058/index.html">Conjuntos de redes neurais com PyTorch e Sklearn</a></li>
<li><a href="../pt489060/index.html">An√°lise: qual a diferen√ßa entre investimentos de alto e baixo risco</a></li>
<li><a href="../pt489062/index.html">Incr√≠vel desempenho paralelo de E / S do Apache Parquet em Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>