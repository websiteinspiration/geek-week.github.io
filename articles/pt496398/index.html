<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⬛️ 📊 🤙🏾 Análise de frequência: analisamos uma das tarefas favoritas dos participantes da etapa on-line do NeoQUEST-2020 👨🏾‍🤝‍👨🏽 📀 💆🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje estamos publicando a tarefa Wright-Up NeoQUEST-2020 , sobre a qual nossos participantes escreveram: “4 Task mega cool” e “The best task of the Ol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Análise de frequência: analisamos uma das tarefas favoritas dos participantes da etapa on-line do NeoQUEST-2020</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/neobit/blog/496398/"><img align="left" src="https://habrastorage.org/webt/ke/tj/kd/ketjkdwuriojnnnr9zh1hm4djoq.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoje estamos publicando a tarefa Wright-Up </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NeoQUEST-2020</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sobre a qual nossos participantes escreveram: “4 Task mega cool” e “The best task of the Olympiad”. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar da aparente simplicidade, apenas 8 pessoas concluíram esta tarefa! </font><font style="vertical-align: inherit;">E agora você pode conhecê-lo melhor, por isso - seja bem-vindo no gato!</font></font><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, os participantes são convidados a baixar a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gravação de áudio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Um minuto de escuta é suficiente para entender que o código Morse nem cheira aqui, assim como palavras significativas na gravação de áudio também não são observadas. Portanto, terminamos a tortura ouvindo e começamos a olhar o som com mais detalhes. Por exemplo, usando o bom e velho </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audacity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (e gratuito) </font><font style="vertical-align: inherit;">. Abrimos a gravação de áudio e prestamos atenção à sua estrutura: entre as teclas, há um silêncio absoluto (alguém teve sorte com as condições de trabalho, você não tem telefonemas e bate-papo para sempre!), O que significa que não será difícil extrair cada tecla pressionando as seções de filtragem com amplitude de sinal zero.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nb/7z/3v/nb7z3vfwy61svhlitwzwosspdbi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, vamos lá. Agora, temos duas coisas: uma "matriz" na qual existem 100.500 cliques e a esperança de que, entre esses sons, haja repetitivos - só então se pode dizer que "a tecla X foi pressionada N vezes e a tecla Y foi M vezes". Assim, todos os dados iniciais foram analisados, resta responder à pergunta “a que tal conjunto de declarações nos levará, desde que a gravação de áudio dure 10 minutos?”. Sim, está certo, é hora de descobrir a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">análise de frequência</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> clássica </font><font style="vertical-align: inherit;">. Bem, testamos nossa teoria usando python, numpy e scikits.audiolab (para processar o som, você pode escolher qualquer outro pacote e até mesmo o idioma com o mesmo sucesso). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para configurar o ambiente, você pode executar os seguintes comandos (ele definitivamente funciona no Ubuntu 19.10):</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo apt-get install -y python python-dev python-pip python-setuptools libsndfile-dev python-numpy<font></font>
$ pip install --upgrade pip<font></font>
$ pip install scikits.audiolab<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, implementamos o teste de nossa suposição em várias linhas de código que usam a maneira mais primitiva de identificar o som do clique - pela soma dos valores da matriz numpy correspondente:</font></font><br>
<br>
<pre><code class="coffeescript hljs">get list <span class="hljs-keyword">of</span> separated ‘clicks’<font></font>
data, fs, enc = scikits.audiolab.wavread(filename)<font></font>
data = data.ravel()<font></font>
clicks = [list(g) <span class="hljs-keyword">for</span> k, g <span class="hljs-keyword">in</span> groupby(data, lambda x: x != <span class="hljs-number">0</span>) <span class="hljs-keyword">if</span> k]<font></font>
<font></font>
<span class="hljs-comment"># calculate number of unique ‘clicks’ and their frequences</span><font></font>
freqs = dict() <font></font>
cypher_test = list()<font></font>
<span class="hljs-keyword">for</span> click <span class="hljs-keyword">in</span> clicks:<font></font>
    value = np.sum(np.array(click), dtype = np.float32)<font></font>
    cypher_test.append(value)<font></font>
    <span class="hljs-keyword">if</span> value <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> freqs:<font></font>
        freqs[value] = <span class="hljs-number">1</span><font></font>
    else:<font></font>
        freqs[value] += <span class="hljs-number">1</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado da execução do código, mostrado no diagrama - como o calor de uma fogueira no meio de um inverno nuclear - não pode deixar de aquecer a alma: pelo menos 27 cliques únicos, e até a aparência da distribuição inspira confiança de que a análise de frequência não será fútil. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pa/f5/v6/paf5v68nyyyh8j9ve-2tkzavg2a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segundo a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e outras fontes mais confiáveis, 26 letras em inglês, classificadas em ordem decrescente de ocorrência, formam a série </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etaoinshrdlcumwfgypbvkjxqz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Além disso, é claro, uma lacuna, que ocupa uma posição de liderança. Você sabe o que fazer! Novamente, usamos várias linhas de código primitivo para comparar cada som clicando em sua letra (na frequência de ocorrência) e realizamos a substituição inicial:</font></font><br>
<br>
<pre><code class="coffeescript hljs">COMMON_FREQ_ALPHABET = { <span class="hljs-number">0</span>:<span class="hljs-string">' '</span>, <span class="hljs-number">1</span>:<span class="hljs-string">'e'</span>, <span class="hljs-number">2</span>:<span class="hljs-string">'t'</span>, <span class="hljs-number">3</span>:<span class="hljs-string">'a'</span>, <span class="hljs-number">4</span>:<span class="hljs-string">'o'</span>, <span class="hljs-number">5</span>:<span class="hljs-string">'i'</span>, <span class="hljs-number">6</span>:<span class="hljs-string">'n'</span>, <span class="hljs-number">7</span>:<span class="hljs-string">'s'</span>, <span class="hljs-number">8</span>:<span class="hljs-string">'h'</span>, <span class="hljs-number">9</span>:<span class="hljs-string">'r'</span>, <span class="hljs-number">10</span>:<span class="hljs-string">'d'</span>, <span class="hljs-number">11</span>:<span class="hljs-string">'l'</span>, <span class="hljs-number">12</span>:<span class="hljs-string">'c'</span>, <span class="hljs-number">13</span>:<span class="hljs-string">'u'</span>, <span class="hljs-number">14</span>:<span class="hljs-string">'m'</span>,<span class="hljs-number">15</span>:<span class="hljs-string">'w'</span>, <span class="hljs-number">16</span>:<span class="hljs-string">'f'</span>, <span class="hljs-number">17</span>:<span class="hljs-string">'g'</span>, <span class="hljs-number">18</span>:<span class="hljs-string">'y'</span>, <span class="hljs-number">19</span>:<span class="hljs-string">'p'</span>, <span class="hljs-number">20</span>:<span class="hljs-string">'b'</span>, <span class="hljs-number">21</span>:<span class="hljs-string">'v'</span>, <span class="hljs-number">22</span>:<span class="hljs-string">'k'</span>, <span class="hljs-number">23</span>:<span class="hljs-string">'j'</span>, <span class="hljs-number">24</span>:<span class="hljs-string">'x'</span>, <span class="hljs-number">25</span>:<span class="hljs-string">'q'</span>, <span class="hljs-number">26</span>:<span class="hljs-string">'z'</span> }<font></font>
<font></font>
<span class="hljs-comment"># calculate key</span><font></font>
key = dict()<font></font>
index = <span class="hljs-number">0</span>
<span class="hljs-keyword">for</span> freq <span class="hljs-keyword">in</span> sorted(freqs.items(), key=operator.itemgetter(<span class="hljs-number">1</span>),reverse=True):<font></font>
    key[freq[<span class="hljs-number">0</span>]] = COMMON_FREQ_ALPHABET[index]<font></font>
    index +=<span class="hljs-number">1</span><font></font>
<font></font>
<span class="hljs-comment"># replace sounds according the key</span>
partly_plain_text = <span class="hljs-string">""</span>
<span class="hljs-keyword">for</span> elem <span class="hljs-keyword">in</span> cypher_test:<font></font>
	partly_plain_text += key[elem]<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após substituir a análise de frequência, obtemos o seguinte texto: </font></font><br>
<br>
<code>onlineayvinf saty stw vltn selg kird moaher csctl ncmertl we tnswer utn metscre gtll saory retl enocfh worb ltrfe tvvetr tftin vltue scn satra zero gtua t gew rotd sveuitl vroklem etsa ketcay idet who lef ipere saone retuh vrodcua uca fipe reuord scre aoob jcesaion oca dcrinf vtss dry ahen show low lisa kltub okxeuas low lifha old frow wtauh aowtrd suhool my frow well heta norah mile mcsa resa tdd tmonf yocnf kesa kird beev kird gooa smtll wts bnow oca utme uca vltna some when bnow awo how dripe tftin vca while oaher some ocr letrn satr mincae digger men scrgtues infor retd hetrd lisa rtin utll vora yes whta idet ftme bind new him old deev eta keftn keftn or socah ahe some mtv tkle sonf i metn saory yetr fold mile dtrb eqtmvle world gish tfe geel ahocstnd one mile his ky ahe tkope ahose uhildren rtin gcll gtll tnimtl ury vocnd vltue ahose shora jciub where ahocfh saood fopern sorry i gorfoa i vromised ao lend yoc my uode fea ia grom my fiahck neoscveruoder htnd ahese binf wind utrb new vossikle tdd grom saood lifha down lipe mincae rotd foa satra gire ahocfh ahose some scn aia iaeai aet iaeai aia iaeai aet iaeai aia iaeai aet iaeai aia iaeai aet iaeai aia iaeai aet iaeai aia iaeai aet iaeai ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa ucn shoa shtbe wtpe ltke nibe shtbe wtpe ltke nibe shtbe wtpe ltke nibe shtbe wtpe ltke nibe shtbe wtpe ltke nibe shtbe wtpe htn mtd dou htn mtd dou htn mtd dou htn mtd dou htn mtd dou htn mtd dou htn mtd dou htn mtd dou htn mtd dou htn dou gipe yet gipe yet gipe yet gipe yet gipe yet gipe yet gipe yet gipe yet gipe yet gipe yet gipe yet gipe yet gipe</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece um pouco significativo, mas as palavras individuais são definitivamente adivinhadas. </font><font style="vertical-align: inherit;">Procure seqüencialmente as palavras nas quais é óbvio qual substituição deve ser feita:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moaher -&gt; mãe e tnswer -&gt; resposta, ou seja, </font><font style="vertical-align: inherit;">a e t devem ser trocados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">larfe → grande e selg → auto, ou seja, </font><font style="vertical-align: inherit;">feg devem ser trocados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kird → pássaro, ou seja, </font><font style="vertical-align: inherit;">k é substituído por be onlinetyving → onlinetyping, isto é, </font><font style="vertical-align: inherit;">v substitua por p;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meascre → measure e enocgh → suficiente, ou seja, </font><font style="vertical-align: inherit;">u e c devem ser trocados.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado dessas manipulações, o texto é dramaticamente transformado, e sua primeira palavra explica a falta de conectividade: a gravação de áudio foi gravada enquanto se praticava tipografia em um simulador de teclado. Ah, o dono da chave claramente não estava se preparando para o apocalipse! ... Podemos ser felizes por ele, provavelmente agora ele está mexendo muito rapidamente, limpando a neve que bloqueou a saída de seu refúgio. Mas o que é isso para nós? Passaremos os olhos pelo texto, talvez ainda haja algo útil. </font></font><br>
<br>
<code>onlinetyping stay saw plan self bird mother usual numeral we answer can measure fall story real enough worb large appear again place sun start zero fact a few road special problem east beauty idea who leg ipere stone reach product cut gipe record sure toob juestion out during pass dry then show low list blacb obxects low light old grow watch toward school my grow well heat north mile must rest add among young best bird beep bird foot small was bnow out came cut plant some when bnow two how dripe again put while other some our learn star minute differ men surfaces ingor read heard list rain call port yes what idea game bind new him old deep eat began began or south the some map able song i mean story year gold mile darb eqample world fish age feel thousand one mile his by the abope those children rain full fall animal cry pound place those short juicb where though stood gopern sorry i forgot i promised to lend you my code get it from my github neosupercoder hand these bing wind carb new possible add from stood light down lipe minute road got start fire though those some sun tit iteti tea iteti tit iteti tea iteti tit iteti tea iteti tit iteti tea iteti tit iteti tea iteti tit iteti tea iteti cun shot cun shot cun shot cun shot cun shot cun shot cun shot cun shot cun shot cun shot cun shot cun shot cun shot shabe wape labe nibe shabe wape labe nibe shabe wape labe nibe shabe wape labe nibe shabe wape labe nibe shabe wape han mad doc han mad doc han mad doc han mad doc han mad doc han mad doc han mad doc han mad doc han mad doc han doc fipe yea fipe yea fipe yea fipe yea fipe yea fipe yea fipe yea fipe yea fipe yea fipe yea fipe yea fipe yea fipe</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que tivemos sorte: durante o treinamento, alguém se distraiu e escreveu uma mensagem de recuperação para o amigo, provavelmente em algum mensageiro: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desculpe, esqueci-me de prometer emprestar meu código, obtê-lo no meu neosupercoder do github</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ler a correspondência de outra pessoa, é claro, não é bom, mas há uma exceção de cem por cento. Pagamos mais do que o suficiente por essas informações. </font><font style="vertical-align: inherit;">Vamos ao github e procuramos o repositório por nome de usuário: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/we/fk/mm/wefkmmkpyl0gjgrfkpsnll9j1de.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Success! </font><font style="vertical-align: inherit;">Resta apenas ler o único arquivo do repositório "neo-medicina": </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ls/1n/_v/ls1n_vecjk5j8bqbjcumtx_kprw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hurra! </font><font style="vertical-align: inherit;">Agora somos os felizes proprietários da chave! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adiante - a análise de outras tarefas do NeoQUEST-2020 - não deixaremos nossos leitores se cansarem do auto-isolamento!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt496388/index.html">Não há pessoas saudáveis, são sub-examinadas: diagnóstico precoce de doença cardíaca coronária</a></li>
<li><a href="../pt496390/index.html">10 princípios de projetos front-end escaláveis</a></li>
<li><a href="../pt496392/index.html">Como a comunidade de TI responde à iniciativa New IP</a></li>
<li><a href="../pt496394/index.html">Ataques cibernéticos usando COVID-19</a></li>
<li><a href="../pt496396/index.html">Como realizamos testes de acessibilidade na Alfa Digital</a></li>
<li><a href="../pt496404/index.html">Transforme o Synology NAS em um servidor de jogo</a></li>
<li><a href="../pt496406/index.html">A estratégia da Apple: por que o iPad não correspondeu às expectativas</a></li>
<li><a href="../pt496408/index.html">Soldado universal ou especialista restrito? O que o engenheiro do DevOps deve saber e ser capaz de</a></li>
<li><a href="../pt496412/index.html">Conferência DEFCON 26. Sacudindo a cauda: vigilância passiva secreta. Parte 2</a></li>
<li><a href="../pt496418/index.html">Metodologias ágeis: uma perspectiva de negócios (parte 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>