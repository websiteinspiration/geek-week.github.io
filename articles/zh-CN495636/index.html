<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“ ğŸ•› ğŸ‘ğŸ½ ä½¿ç”¨SIPä¸ºC / C ++åº“åˆ›å»ºPythonç»‘å®šã€‚ç¬¬2éƒ¨åˆ† ğŸ‘¨ğŸ»â€ğŸŒ¾ ğŸ™†ğŸ» ğŸ§—ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬ç ”ç©¶äº†ä½¿ç”¨SIPå®ç”¨ç¨‹åºçš„åŸºç¡€çŸ¥è¯†ï¼Œè¯¥SIPå®ç”¨ç¨‹åºæ—¨åœ¨ä¸ºç”¨Cå’ŒC ++ç¼–å†™çš„åº“åˆ›å»ºPythonç»‘å®šã€‚æˆ‘ä»¬ç ”ç©¶äº†ä½¿ç”¨SIPéœ€è¦åˆ›å»ºçš„åŸºæœ¬æ–‡ä»¶ï¼Œå¹¶å¼€å§‹ç ”ç©¶æŒ‡ä»¤å’Œæ³¨é‡Šã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç”¨Cç¼–å†™çš„ç®€å•åº“çš„ç»‘å®šã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†å¼„æ¸…æ¥šå¦‚ä½•å¯¹åŒ…å«ç±»çš„C ++åº“è¿›è¡Œç»‘å®šã€‚é€šè¿‡...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨SIPä¸ºC / C ++åº“åˆ›å»ºPythonç»‘å®šã€‚ç¬¬2éƒ¨åˆ†</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495636/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æœ¬æ–‡çš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬ä¸€éƒ¨åˆ†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬ç ”ç©¶äº†ä½¿ç”¨SIPå®ç”¨ç¨‹åºçš„åŸºç¡€çŸ¥è¯†ï¼Œè¯¥SIPå®ç”¨ç¨‹åºæ—¨åœ¨ä¸ºç”¨Cå’ŒC ++ç¼–å†™çš„åº“åˆ›å»ºPythonç»‘å®šã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ç ”ç©¶äº†ä½¿ç”¨SIPéœ€è¦åˆ›å»ºçš„åŸºæœ¬æ–‡ä»¶ï¼Œå¹¶å¼€å§‹ç ”ç©¶æŒ‡ä»¤å’Œæ³¨é‡Šã€‚</font><font style="vertical-align: inherit;">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç”¨Cç¼–å†™çš„ç®€å•åº“çš„ç»‘å®šã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†å¼„æ¸…æ¥šå¦‚ä½•å¯¹åŒ…å«ç±»çš„C ++åº“è¿›è¡Œç»‘å®šã€‚</font><font style="vertical-align: inherit;">é€šè¿‡è¯¥åº“çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†äº†è§£åœ¨ä½¿ç”¨é¢å‘å¯¹è±¡çš„åº“æ—¶å“ªäº›æŠ€æœ¯å¯èƒ½æœ‰ç”¨ï¼ŒåŒæ—¶æˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬å¤„ç†æ–°çš„æŒ‡ä»¤å’Œæ³¨é‡Šã€‚</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™ç¯‡æ–‡ç« çš„æ‰€æœ‰ç¤ºä¾‹éƒ½å¯ä»¥åœ¨githubä»“åº“ä¸­æ‰¾åˆ°ï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">//github.com/Jenyay/sip-examples</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨C ++ä¸­ä¸ºåº“è¿›è¡Œç»‘å®š</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†è€ƒè™‘çš„ä»¥ä¸‹ç¤ºä¾‹ä½äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoo_cpp_01</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹ä¸­</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæˆ‘ä»¬è¦è¿›è¡Œç»‘å®šçš„åº“ã€‚</font><font style="vertical-align: inherit;">è¯¥åº“ä»å°†ä½äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹ä¸­ï¼Œ</font><font style="vertical-align: inherit;">å¹¶åŒ…å«ä¸€ä¸ªç±»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¸¦æœ‰æ­¤ç±»å£°æ˜</font><font style="vertical-align: inherit;">çš„å¤´æ–‡ä»¶</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo.h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚ä¸‹ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> FOO_LIB</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> FOO_LIB</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> {</span>
    <span class="hljs-keyword">private</span>:
        <span class="hljs-keyword">int</span> _int_val;
        <span class="hljs-keyword">char</span>* _string_val;
    <span class="hljs-keyword">public</span>:<font></font>
        Foo(<span class="hljs-keyword">int</span> int_val, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* string_val);
        <span class="hljs-keyword">virtual</span> ~Foo();<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_int_val</span><span class="hljs-params">()</span></span>;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_string_val</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* val)</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">get_string_val</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªgetterå’Œsetterçš„ç®€å•ç±»ï¼Œç”¨äºè®¾ç½®å’Œè¿”å›</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">char *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹çš„å€¼</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¯¥ç±»çš„å®ç°å¦‚ä¸‹ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"foo.h"</span></span><font></font>
<font></font>
Foo::Foo(<span class="hljs-keyword">int</span> int_val, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* string_val): _int_val(int_val) {<font></font>
    _string_val = <span class="hljs-literal">nullptr</span>;<font></font>
    set_string_val(string_val);<font></font>
}<font></font>
<font></font>
Foo::~Foo(){<font></font>
    <span class="hljs-keyword">delete</span>[] _string_val;<font></font>
    _string_val = <span class="hljs-literal">nullptr</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo::set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{<font></font>
    _int_val = val;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Foo::get_int_val</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> _int_val;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo::set_string_val</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* val)</span> </span>{
    <span class="hljs-keyword">if</span> (_string_val != <span class="hljs-literal">nullptr</span>) {
        <span class="hljs-keyword">delete</span>[] _string_val;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">auto</span> count = <span class="hljs-built_in">strlen</span>(val) + <span class="hljs-number">1</span>;<font></font>
    _string_val = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[count];
    <span class="hljs-built_in">strcpy</span>(_string_val, val);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">Foo::get_string_val</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> _string_val;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†æµ‹è¯•åº“çš„åŠŸèƒ½ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹</font><font style="vertical-align: inherit;">è¿˜åŒ…å«</font><font style="vertical-align: inherit;">ä½¿ç”¨</font><i><font style="vertical-align: inherit;">Foo</font></i><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">ï¼š</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"foo.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span>* argv[])</span> </span>{
    <span class="hljs-keyword">auto</span> foo = Foo(<span class="hljs-number">10</span>, <span class="hljs-string">"Hello"</span>);
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"int_val: "</span> &lt;&lt; foo.get_int_val() &lt;&lt; <span class="hljs-built_in">endl</span>;
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"string_val: "</span> &lt;&lt; foo.get_string_val() &lt;&lt; <span class="hljs-built_in">endl</span>;<font></font>
<font></font>
    foo.set_int_val(<span class="hljs-number">0</span>);<font></font>
    foo.set_string_val(<span class="hljs-string">"Hello world!"</span>);<font></font>
<font></font>
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"int_val: "</span> &lt;&lt; foo.get_int_val() &lt;&lt; <span class="hljs-built_in">endl</span>;
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"string_val: "</span> &lt;&lt; foo.get_string_val() &lt;&lt; <span class="hljs-built_in">endl</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦æ„å»º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åº“ï¼Œè¯·</font><font style="vertical-align: inherit;">ä½¿ç”¨ä»¥ä¸‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Makefile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">CC=g++<font></font>
CFLAGS=-c -fPIC<font></font>
DIR_OUT=bin<font></font>
<font></font>
all: main<font></font>
<font></font>
main: main.o libfoo.a<font></font>
    $(CC) $(DIR_OUT)/main.o -L$(DIR_OUT) -lfoo -o $(DIR_OUT)/main<font></font>
<font></font>
main.o: makedir main.cpp<font></font>
    $(CC) $(CFLAGS) main.cpp -o $(DIR_OUT)/main.o<font></font>
<font></font>
libfoo.a: makedir foo.cpp<font></font>
    $(CC) $(CFLAGS) foo.cpp -o $(DIR_OUT)/foo.o<font></font>
    ar rcs $(DIR_OUT)/libfoo.a $(DIR_OUT)/foo.o<font></font>
<font></font>
makedir:<font></font>
    mkdir -p $(DIR_OUT)<font></font>
<font></font>
clean:<font></font>
    rm -rf $(DIR_OUT)/*<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é™¤äº†å°†ç¼–è¯‘å™¨ä»</font><i><font style="vertical-align: inherit;">gcc</font></i><font style="vertical-align: inherit;">æ›´æ”¹</font><font style="vertical-align: inherit;">ä¸º</font><i><font style="vertical-align: inherit;">g ++</font></i><font style="vertical-align: inherit;">ä¹‹å¤–ï¼Œä¸ä¹‹å‰ç¤ºä¾‹ä¸­</font><font style="vertical-align: inherit;">
çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Makefile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„ä¸åŒä¹‹å¤„</font><font style="vertical-align: inherit;">åœ¨äºï¼Œæ·»åŠ äº†å¦ä¸€ä¸ªé€‰é¡¹</font><i><font style="vertical-align: inherit;">-fPIC</font></i><font style="vertical-align: inherit;">è¿›è¡Œç¼–è¯‘</font><font style="vertical-align: inherit;">ï¼Œè¯¥</font><font style="vertical-align: inherit;">é€‰é¡¹</font><font style="vertical-align: inherit;">å‘Šè¯‰ç¼–è¯‘å™¨ä»¥æŸç§æ–¹å¼å°†ä»£ç æ”¾å…¥åº“ä¸­ï¼ˆæ‰€è°“çš„â€œä½ç½®æ— å…³ä»£ç â€ï¼‰ã€‚ç”±äºæœ¬æ–‡ä¸ç¼–è¯‘å™¨æ— å…³ï¼Œå› æ­¤æˆ‘ä»¬å°†ä¸æ›´è¯¦ç»†åœ°ç ”ç©¶æ­¤å‚æ•°çš„ä½œç”¨ä»¥åŠä¸ºä»€ä¹ˆéœ€è¦æ­¤å‚æ•°ã€‚</font><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬å¼€å§‹ç»‘å®šè¿™ä¸ªåº“ã€‚</font><i><font style="vertical-align: inherit;">pyproject.toml</font></i><font style="vertical-align: inherit;">å’Œ</font><i><font style="vertical-align: inherit;">project.py</font></i><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">ä¸å‰é¢çš„ç¤ºä¾‹</font><i><font style="vertical-align: inherit;">å‡ ä¹æ²¡æœ‰å˜åŒ–</font></i><font style="vertical-align: inherit;">ã€‚</font><i><font style="vertical-align: inherit;">pyproject.toml</font></i><font style="vertical-align: inherit;">æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º</font><font style="vertical-align: inherit;">ï¼š</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs">[build-system]<font></font>
requires = ["sip &gt;=5, &lt;6"]<font></font>
build-backend = "sipbuild.api"<font></font>
<font></font>
[tool.sip.metadata]<font></font>
name = "pyfoocpp"<font></font>
version = "0.1"<font></font>
license = "MIT"<font></font>
<font></font>
[tool.sip.bindings.pyfoocpp]<font></font>
headers = ["foo.h"]<font></font>
libraries = ["foo"]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæˆ‘ä»¬ç”¨C ++ç¼–å†™çš„ç¤ºä¾‹å°†æ‰“åŒ…åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PythonåŒ…ä¸­</font><font style="vertical-align: inherit;">ï¼Œè¿™ä¹Ÿè®¸æ˜¯æ­¤æ–‡ä»¶ä¸­å”¯ä¸€å€¼å¾—æ³¨æ„çš„æ›´æ”¹ã€‚</font><i><font style="vertical-align: inherit;">project.py</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æ–‡ä»¶</font><font style="vertical-align: inherit;">ä¸</font><i><font style="vertical-align: inherit;">pyfoo_c_04</font></i><font style="vertical-align: inherit;">ç¤ºä¾‹ç›¸åŒ</font><font style="vertical-align: inherit;">ï¼š</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> subprocess<font></font>
<font></font>
<span class="hljs-keyword">from</span> sipbuild <span class="hljs-keyword">import</span> Project<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FooProject</span>(<span class="hljs-params">Project</span>):</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_build_foo</span>(<span class="hljs-params">self</span>):</span>
        cwd = os.path.abspath(<span class="hljs-string">'foo'</span>)<font></font>
        subprocess.run([<span class="hljs-string">'make'</span>], cwd=cwd, capture_output=<span class="hljs-literal">True</span>, check=<span class="hljs-literal">True</span>)<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">build</span>(<span class="hljs-params">self</span>):</span><font></font>
        self._build_foo()<font></font>
        super().build()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">build_sdist</span>(<span class="hljs-params">self, sdist_directory</span>):</span><font></font>
        self._build_foo()<font></font>
        <span class="hljs-keyword">return</span> super().build_sdist(sdist_directory)<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">build_wheel</span>(<span class="hljs-params">self, wheel_directory</span>):</span><font></font>
        self._build_foo()<font></font>
        <span class="hljs-keyword">return</span> super().build_wheel(wheel_directory)<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">install</span>(<span class="hljs-params">self</span>):</span><font></font>
        self._build_foo()<font></font>
        super().install()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é‡Œï¼Œ</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†æ›´è¯¦ç»†åœ°è€ƒè™‘</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp.sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">ã€‚è®©æˆ‘æé†’æ‚¨ï¼Œè¯¥æ–‡ä»¶æè¿°äº†å°†æ¥çš„Pythonæ¨¡å—çš„æ¥å£ï¼šå®ƒåº”åŒ…æ‹¬çš„å†…å®¹ï¼Œç±»æ¥å£çš„å¤–è§‚ç­‰ç­‰ã€‚ .sipæ–‡ä»¶ä¸éœ€è¦é‡å¤åº“å¤´æ–‡ä»¶ï¼Œå°½ç®¡å®ƒä»¬æœ‰å¾ˆå¤šå…±åŒç‚¹ã€‚åœ¨è¯¥ç±»å†…éƒ¨ï¼Œå¯ä»¥æ·»åŠ åŸå§‹ç±»ä¸­ä¸å­˜åœ¨çš„æ–°æ–¹æ³•ã€‚é‚£äº›ã€‚ .sipæ–‡ä»¶ä¸­æè¿°çš„æ¥å£å¯ä»¥æ ¹æ®éœ€è¦å®šåˆ¶åº“ç±»ä»¥é€‚åº”Pythonæ¥å—çš„åŸåˆ™ã€‚åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp.sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ä¸­ï¼Œ</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†çœ‹åˆ°æ–°çš„æŒ‡ä»¤ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªæ–‡ä»¶åŒ…å«ä»€ä¹ˆï¼š</font></font><br>
<br>
<pre><code class="cpp hljs">%Module(name=foocpp, language=<span class="hljs-string">"C++"</span>)<font></font>
%DefaultEncoding <span class="hljs-string">"UTF-8"</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> {</span><font></font>
    %TypeHeaderCode<font></font>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;foo.h&gt;</span></span><font></font>
    %End<font></font>
<font></font>
    <span class="hljs-keyword">public</span>:<font></font>
        Foo(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*);<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span>)</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_int_val</span><span class="hljs-params">()</span></span>;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_string_val</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*)</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">get_string_val</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€è¡Œå¯¹äºæˆ‘ä»¬æ¥è¯´åº”è¯¥å·²ç»å¾ˆæ¸…æ¥šäº†ã€‚åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…Module</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤ä¸­ï¼Œ</font><font style="vertical-align: inherit;">æˆ‘ä»¬æŒ‡ç¤ºå°†è¦åˆ›å»ºçš„Pythonæ¨¡å—çš„åç§°ï¼ˆå³ï¼Œè¦ä½¿ç”¨æ­¤æ¨¡å—ï¼Œæˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">import foocpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ–</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from foocpp import ...å‘½ä»¤</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚åœ¨åŒä¸€æŒ‡ä»¤ä¸­ï¼Œæˆ‘ä»¬æŒ‡ç¤ºæˆ‘ä»¬ç°åœ¨æ‹¥æœ‰è¯¥è¯­è¨€- C ++çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…DefaultEncodingæŒ‡ä»¤</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é›†ï¼Œå°†ç”¨äºåœ¨Pythonå­—ç¬¦ä¸²è½¬æ¢çš„ç¼–ç </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­—ç¬¦</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¸¸é‡å­—ç¬¦</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­—ç¬¦*</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¸¸é‡å­—ç¬¦*</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åï¼Œçš„æ¥å£å£°æ˜</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å¦‚ä¸‹</font><font style="vertical-align: inherit;">æ‰€è¿°çš„å£°æ˜ä¹‹åç´§éšã€‚</font><i><font style="vertical-align: inherit;">ç¾å­š</font></i><font style="vertical-align: inherit;">ç±»</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»ç„¶æ²¡æœ‰ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…TypeHeaderCode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ï¼Œè¯¥</font><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ä»¥</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…End</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><i><font style="vertical-align: inherit;">ç»“å°¾</font></i><font style="vertical-align: inherit;">ã€‚æ‰€è¿°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…TypeHeaderCodeæŒ‡ä»¤</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿…é¡»åŒ…å«å£°æ˜ä¸ºæ­£è¢«åˆ›å»ºçš„åŒ…è£…çš„C ++ç±»çš„æ¥å£ä»£ç ã€‚é€šå¸¸ï¼Œåœ¨æ­¤ä¼ªæŒ‡ä»¤ä¸­å°†å¤´æ–‡ä»¶åŒ…å«åœ¨ç±»å£°æ˜ä¸­å°±è¶³å¤Ÿäº†ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¹‹åï¼Œåˆ—å‡ºäº†å°†è½¬æ¢</font><font style="vertical-align: inherit;">ä¸ºPythonè¯­è¨€</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„æ–¹æ³•çš„ç±»æ–¹æ³•</font><font style="vertical-align: inherit;">ã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œæ­¤æ—¶æˆ‘ä»¬åªå£°æ˜å¯ä»</font><font style="vertical-align: inherit;">Pythonä¸­</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»è®¿é—®çš„å…¬å…±æ–¹æ³•</font><font style="vertical-align: inherit;">ï¼ˆå› ä¸ºPythonä¸­æ²¡æœ‰ç§æœ‰å’Œå—ä¿æŠ¤çš„æˆå‘˜ï¼‰ã€‚ç”±äºæˆ‘ä»¬ä»ä¸€å¼€å§‹å°±ä½¿ç”¨</font><i><font style="vertical-align: inherit;">ï¼…DefaultEncoding</font></i><font style="vertical-align: inherit;">æŒ‡ä»¤</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œç„¶ååœ¨é‡‡ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">const char *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹å‚æ•°çš„æ–¹æ³•ä¸­ï¼Œ</font><font style="vertical-align: inherit;">ä¸èƒ½ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encoding</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰¹æ³¨</font><font style="vertical-align: inherit;">æŒ‡å®šå°†è¿™äº›å‚æ•°è½¬æ¢ä¸ºPythonå­—ç¬¦ä¸²çš„ç¼–ç ï¼Œåä¹‹äº¦ç„¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬åªéœ€è¦ç¼–è¯‘</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pythonè½¯ä»¶åŒ…</font><font style="vertical-align: inherit;">å¹¶å¯¹å…¶è¿›è¡Œæµ‹è¯•ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œåœ¨ç»„è£…å®Œæ•´çš„è½®åŒ…ä¹‹å‰ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sip-buildå‘½ä»¤</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ŒæŸ¥çœ‹SIPå°†åˆ›å»ºå“ªäº›æºæ–‡ä»¶ä»¥ç”¨äºä»¥åçš„ç¼–è¯‘ï¼Œå¹¶å°è¯•åœ¨å…¶ä¸­æ‰¾åˆ°ä¸å°†åœ¨Pythonä»£ç ä¸­åˆ›å»ºçš„ç±»ç±»ä¼¼çš„ä¸œè¥¿ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œ</font><font style="vertical-align: inherit;">å¿…é¡»åœ¨</font><i><font style="vertical-align: inherit;">pyfoo_cpp_01</font></i><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹ä¸­è°ƒç”¨</font><font style="vertical-align: inherit;">ä¸Šè¿°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sip-buildå‘½ä»¤</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ç»“æœï¼Œå°†åˆ›å»º</font><i><font style="vertical-align: inherit;">æ„å»º</font></i><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å…·æœ‰ä»¥ä¸‹å†…å®¹ï¼š</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å»ºç«‹</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
â””â”€â”€foocpp</font></font><font></font>
    â”œâ”€â”€ apiversions.c<font></font>
    â”œâ”€â”€ array.c<font></font>
    â”œâ”€â”€ array.h<font></font>
    â”œâ”€â”€ bool.cpp<font></font>
    â”œâ”€â”€ build<font></font>
    â”‚&nbsp;&nbsp; â””â”€â”€ temp.linux-x86_64-3.8<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ apiversions.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ array.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ bool.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ descriptors.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ int_convertors.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ objmap.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ qtlib.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ sipfoocppcmodule.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ sipfoocppFoo.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ siplib.o<font></font>
    â”‚&nbsp;&nbsp;     â”œâ”€â”€ threads.o<font></font>
    â”‚&nbsp;&nbsp;     â””â”€â”€ voidptr.o<font></font>
    â”œâ”€â”€ descriptors.c<font></font>
    â”œâ”€â”€ foocpp.cpython-38-x86_64-linux-gnu.so<font></font>
    â”œâ”€â”€ int_convertors.c<font></font>
    â”œâ”€â”€ objmap.c<font></font>
    â”œâ”€â”€ qtlib.c<font></font>
    â”œâ”€â”€ sipAPIfoocpp.h<font></font>
    â”œâ”€â”€ sipfoocppcmodule.cpp<font></font>
    â”œâ”€â”€ sipfoocppFoo.cpp<font></font>
    â”œâ”€â”€ sip.h<font></font>
    â”œâ”€â”€ sipint.h<font></font>
    â”œâ”€â”€ siplib.c<font></font>
    â”œâ”€â”€ threads.c<font></font>
    â””â”€â”€ voidptr.c<font></font>
</pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½œä¸ºä¸€é¡¹é™„åŠ ä»»åŠ¡ï¼Œè¯·ä»”ç»†è€ƒè™‘</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sipfoocppFoo.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">ï¼ˆæˆ‘ä»¬å°†ä¸åœ¨æœ¬æ–‡ä¸­è¯¦ç»†è®¨è®ºï¼‰ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">/*
 * Interface wrapper code.
 *
 * Generated by SIP 5.1.1
 */</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"sipAPIfoocpp.h"</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">line</span> 6 <span class="hljs-meta-string">"/home/jenyay/temp/2/pyfoocpp.sip"</span></span>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;foo.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">line</span> 12 <span class="hljs-meta-string">"/home/jenyay/temp/2/build/foocpp/sipfoocppFoo.cpp"</span></span><font></font>
<font></font>
PyDoc_STRVAR(doc_Foo_set_int_val, <span class="hljs-string">"set_int_val(self, int)"</span>);<font></font>
<font></font>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {<span class="hljs-function"><span class="hljs-keyword">static</span> PyObject *<span class="hljs-title">meth_Foo_set_int_val</span><span class="hljs-params">(PyObject *, PyObject *)</span></span>;}
<span class="hljs-function"><span class="hljs-keyword">static</span> PyObject *<span class="hljs-title">meth_Foo_set_int_val</span><span class="hljs-params">(PyObject *sipSelf, PyObject *sipArgs)</span>
</span>{<font></font>
    PyObject *sipParseErr = SIP_NULLPTR;<font></font>
<font></font>
    {<font></font>
        <span class="hljs-keyword">int</span> a0;<font></font>
         ::Foo *sipCpp;<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (sipParseArgs(&amp;sipParseErr, sipArgs, <span class="hljs-string">"Bi"</span>, &amp;sipSelf, sipType_Foo, &amp;sipCpp, &amp;a0))<font></font>
        {<font></font>
            sipCpp-&gt;set_int_val(a0);<font></font>
<font></font>
            Py_INCREF(Py_None);<font></font>
            <span class="hljs-keyword">return</span> Py_None;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/* Raise an exception if the arguments couldn't be parsed. */</span><font></font>
    sipNoMethod(sipParseErr, sipName_Foo, sipName_set_int_val, doc_Foo_set_int_val);<font></font>
<font></font>
    <span class="hljs-keyword">return</span> SIP_NULLPTR;<font></font>
}<font></font>
<font></font>
PyDoc_STRVAR(doc_Foo_get_int_val, <span class="hljs-string">"get_int_val(self) -&gt; int"</span>);<font></font>
<font></font>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {<span class="hljs-function"><span class="hljs-keyword">static</span> PyObject *<span class="hljs-title">meth_Foo_get_int_val</span><span class="hljs-params">(PyObject *, PyObject *)</span></span>;}
<span class="hljs-function"><span class="hljs-keyword">static</span> PyObject *<span class="hljs-title">meth_Foo_get_int_val</span><span class="hljs-params">(PyObject *sipSelf, PyObject *sipArgs)</span>
</span>{<font></font>
    PyObject *sipParseErr = SIP_NULLPTR;<font></font>
<font></font>
    {<font></font>
         ::Foo *sipCpp;<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (sipParseArgs(&amp;sipParseErr, sipArgs, <span class="hljs-string">"B"</span>, &amp;sipSelf, sipType_Foo, &amp;sipCpp))<font></font>
        {<font></font>
            <span class="hljs-keyword">int</span> sipRes;<font></font>
<font></font>
            sipRes = sipCpp-&gt;get_int_val();<font></font>
<font></font>
            <span class="hljs-keyword">return</span> PyLong_FromLong(sipRes);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/* Raise an exception if the arguments couldn't be parsed. */</span><font></font>
    sipNoMethod(sipParseErr, sipName_Foo, sipName_get_int_val, doc_Foo_get_int_val);<font></font>
<font></font>
    <span class="hljs-keyword">return</span> SIP_NULLPTR;<font></font>
}<font></font>
<font></font>
PyDoc_STRVAR(doc_Foo_set_string_val, <span class="hljs-string">"set_string_val(self, str)"</span>);<font></font>
<font></font>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {<span class="hljs-function"><span class="hljs-keyword">static</span> PyObject *<span class="hljs-title">meth_Foo_set_string_val</span><span class="hljs-params">(PyObject *, PyObject *)</span></span>;}
<span class="hljs-function"><span class="hljs-keyword">static</span> PyObject *<span class="hljs-title">meth_Foo_set_string_val</span><span class="hljs-params">(PyObject *sipSelf, PyObject *sipArgs)</span>
</span>{<font></font>
    PyObject *sipParseErr = SIP_NULLPTR;<font></font>
<font></font>
    {<font></font>
        <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* a0;<font></font>
        PyObject *a0Keep;<font></font>
         ::Foo *sipCpp;<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (sipParseArgs(&amp;sipParseErr, sipArgs, <span class="hljs-string">"BA8"</span>, &amp;sipSelf, sipType_Foo, &amp;sipCpp, &amp;a0Keep, &amp;a0))<font></font>
        {<font></font>
            sipCpp-&gt;set_string_val(a0);<font></font>
            Py_DECREF(a0Keep);<font></font>
<font></font>
            Py_INCREF(Py_None);<font></font>
            <span class="hljs-keyword">return</span> Py_None;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/* Raise an exception if the arguments couldn't be parsed. */</span><font></font>
    sipNoMethod(sipParseErr, sipName_Foo, sipName_set_string_val, doc_Foo_set_string_val);<font></font>
<font></font>
    <span class="hljs-keyword">return</span> SIP_NULLPTR;<font></font>
}<font></font>
<font></font>
PyDoc_STRVAR(doc_Foo_get_string_val, <span class="hljs-string">"get_string_val(self) -&gt; str"</span>);<font></font>
<font></font>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {<span class="hljs-function"><span class="hljs-keyword">static</span> PyObject *<span class="hljs-title">meth_Foo_get_string_val</span><span class="hljs-params">(PyObject *, PyObject *)</span></span>;}
<span class="hljs-function"><span class="hljs-keyword">static</span> PyObject *<span class="hljs-title">meth_Foo_get_string_val</span><span class="hljs-params">(PyObject *sipSelf, PyObject *sipArgs)</span>
</span>{<font></font>
    PyObject *sipParseErr = SIP_NULLPTR;<font></font>
<font></font>
    {<font></font>
         ::Foo *sipCpp;<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (sipParseArgs(&amp;sipParseErr, sipArgs, <span class="hljs-string">"B"</span>, &amp;sipSelf, sipType_Foo, &amp;sipCpp))<font></font>
        {<font></font>
            <span class="hljs-keyword">char</span>*sipRes;<font></font>
<font></font>
            sipRes = sipCpp-&gt;get_string_val();<font></font>
<font></font>
            <span class="hljs-keyword">if</span> (sipRes == SIP_NULLPTR)<font></font>
            {<font></font>
                Py_INCREF(Py_None);<font></font>
                <span class="hljs-keyword">return</span> Py_None;<font></font>
            }<font></font>
<font></font>
            <span class="hljs-keyword">return</span> PyUnicode_FromString(sipRes);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/* Raise an exception if the arguments couldn't be parsed. */</span><font></font>
    sipNoMethod(sipParseErr, sipName_Foo, sipName_get_string_val, doc_Foo_get_string_val);<font></font>
<font></font>
    <span class="hljs-keyword">return</span> SIP_NULLPTR;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">/* Call the instance's destructor. */</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">release_Foo</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *, <span class="hljs-keyword">int</span>)</span></span>;}
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">release_Foo</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *sipCppV, <span class="hljs-keyword">int</span>)</span>
</span>{
    <span class="hljs-keyword">delete</span> <span class="hljs-keyword">reinterpret_cast</span>&lt; ::Foo *&gt;(sipCppV);<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dealloc_Foo</span><span class="hljs-params">(sipSimpleWrapper *)</span></span>;}
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dealloc_Foo</span><span class="hljs-params">(sipSimpleWrapper *sipSelf)</span>
</span>{
    <span class="hljs-keyword">if</span> (sipIsOwnedByPython(sipSelf))<font></font>
    {<font></font>
        release_Foo(sipGetAddress(sipSelf), <span class="hljs-number">0</span>);<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> *<span class="hljs-title">init_type_Foo</span><span class="hljs-params">(sipSimpleWrapper *, PyObject *, 
                 PyObject *, PyObject **, PyObject **, PyObject **)</span></span>;}
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> *<span class="hljs-title">init_type_Foo</span><span class="hljs-params">(sipSimpleWrapper *, PyObject *sipArgs, PyObject *sipKwds,
                                   PyObject **sipUnused, PyObject **, PyObject **sipParseErr)</span>
</span>{<font></font>
     ::Foo *sipCpp = SIP_NULLPTR;<font></font>
<font></font>
    {<font></font>
        <span class="hljs-keyword">int</span> a0;
        <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* a1;<font></font>
        PyObject *a1Keep;<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (sipParseKwdArgs(sipParseErr, sipArgs, sipKwds, SIP_NULLPTR, sipUnused, <span class="hljs-string">"iA8"</span>, &amp;a0, &amp;a1Keep, &amp;a1))<font></font>
        {<font></font>
            sipCpp = <span class="hljs-keyword">new</span>  ::Foo(a0,a1);<font></font>
            Py_DECREF(a1Keep);<font></font>
<font></font>
            <span class="hljs-keyword">return</span> sipCpp;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    {<font></font>
        <span class="hljs-keyword">const</span>  ::Foo* a0;<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (sipParseKwdArgs(sipParseErr, sipArgs, sipKwds, SIP_NULLPTR, sipUnused, <span class="hljs-string">"J9"</span>, sipType_Foo, &amp;a0))<font></font>
        {<font></font>
            sipCpp = <span class="hljs-keyword">new</span>  ::Foo(*a0);<font></font>
<font></font>
            <span class="hljs-keyword">return</span> sipCpp;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">return</span> SIP_NULLPTR;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">static</span> PyMethodDef methods_Foo[] = {<font></font>
    {sipName_get_int_val, meth_Foo_get_int_val, METH_VARARGS, doc_Foo_get_int_val},<font></font>
    {sipName_get_string_val, meth_Foo_get_string_val, METH_VARARGS, doc_Foo_get_string_val},<font></font>
    {sipName_set_int_val, meth_Foo_set_int_val, METH_VARARGS, doc_Foo_set_int_val},<font></font>
    {sipName_set_string_val, meth_Foo_set_string_val, METH_VARARGS, doc_Foo_set_string_val}<font></font>
};<font></font>
<font></font>
PyDoc_STRVAR(doc_Foo, <span class="hljs-string">"\1Foo(int, str)\n"</span>
<span class="hljs-string">"Foo(Foo)"</span>);<font></font>
<font></font>
sipClassTypeDef sipTypeDef_foocpp_Foo = {<font></font>
    {<font></font>
        <span class="hljs-number">-1</span>,<font></font>
        SIP_NULLPTR,<font></font>
        SIP_NULLPTR,<font></font>
        SIP_TYPE_CLASS,<font></font>
        sipNameNr_Foo,<font></font>
        SIP_NULLPTR,<font></font>
        SIP_NULLPTR<font></font>
    },<font></font>
    {<font></font>
        sipNameNr_Foo,<font></font>
        {<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>},
        <span class="hljs-number">4</span>, methods_Foo,
        <span class="hljs-number">0</span>, SIP_NULLPTR,
        <span class="hljs-number">0</span>, SIP_NULLPTR,<font></font>
        {SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR,<font></font>
         SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR},<font></font>
    },<font></font>
    doc_Foo,<font></font>
    <span class="hljs-number">-1</span>,
    <span class="hljs-number">-1</span>,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    init_type_Foo,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    dealloc_Foo,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    release_Foo,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR,<font></font>
    SIP_NULLPTR<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sip-wheel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘½ä»¤æ„å»ºè½¯ä»¶åŒ…</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ‰§è¡Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Œ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤å‘½ä»¤åï¼Œå¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œå°†</font><i><font style="vertical-align: inherit;">åˆ›å»º</font></i><font style="vertical-align: inherit;">ä¸€ä¸ª</font><i><font style="vertical-align: inherit;">pyfoocpp-0.1-cp38-cp38-manylinux1_x86_64.whlæ–‡ä»¶</font></i><font style="vertical-align: inherit;">æˆ–å…·æœ‰ç±»ä¼¼åç§°çš„</font><i><font style="vertical-align: inherit;">æ–‡ä»¶</font></i><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pip install --user pyfoocpp-0.1-cp38-cp38-manylinux1_x86_64.whlå‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç„¶åè¿è¡ŒPythonè§£é‡Šå™¨è¿›è¡ŒéªŒè¯ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> foocpp <span class="hljs-keyword">import</span> Foo
<span class="hljs-meta">&gt;&gt;&gt; </span>x = Foo(<span class="hljs-number">10</span>, <span class="hljs-string">'Hello'</span>)<font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.get_int_val()
<span class="hljs-number">10</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.get_string_val()
<span class="hljs-string">'Hello'</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.set_int_val(<span class="hljs-number">50</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>x.set_string_val(<span class="hljs-string">''</span>)<font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.get_int_val()
<span class="hljs-number">50</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.get_string_val()
<span class="hljs-string">''</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½œå“ï¼</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæˆ‘ä»¬åˆšåˆšåˆ¶ä½œäº†ä¸€ä¸ªå¸¦æœ‰C ++ç±»ç»‘å®šçš„Pythonæ¨¡å—ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œæˆ‘ä»¬å°†æŠŠç¾ä¸½å¸¦åˆ°è¿™ä¸€å ‚è¯¾ï¼Œå¹¶å¢åŠ å„ç§ä¾¿åˆ©è®¾æ–½ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ å±æ€§</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨SIPåˆ›å»ºçš„ç±»ä¸éœ€è¦å®Œå…¨é‡å¤C ++ç±»æ¥å£ã€‚ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»ä¸­ï¼Œ</font><font style="vertical-align: inherit;">æœ‰ä¸¤ä¸ªgetterå’Œä¸¤ä¸ªsetterï¼Œå¯ä»¥å°†å®ƒä»¬æ¸…æ¥šåœ°ç»„åˆä¸ºä¸€ä¸ªå±æ€§ï¼Œä»¥ä½¿è¯¥ç±»æ›´åƒâ€œ Pythonâ€ã€‚ä½¿ç”¨sipæ·»åŠ å±æ€§éå¸¸å®¹æ˜“ï¼Œå› ä¸ºè¿™æ ·åšå¾ˆå®¹æ˜“ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoo_cpp_02</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹</font><i><font style="vertical-align: inherit;">ä¸­</font></i><font style="vertical-align: inherit;">çš„ç¤ºä¾‹</font><i><font style="vertical-align: inherit;">æ˜¾ç¤º</font></i><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤ç¤ºä¾‹ä¸ä¸Šä¸€ä¸ªç¤ºä¾‹ç›¸ä¼¼ï¼Œä¸»è¦åŒºåˆ«åœ¨äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp.sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">ï¼Œç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs">%Module(name=foocpp, language=<span class="hljs-string">"C++"</span>)<font></font>
%DefaultEncoding <span class="hljs-string">"UTF-8"</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> {</span><font></font>
    %TypeHeaderCode<font></font>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;foo.h&gt;</span></span><font></font>
    %End<font></font>
<font></font>
    <span class="hljs-keyword">public</span>:<font></font>
        Foo(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*);<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span>)</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_int_val</span><span class="hljs-params">()</span></span>;<font></font>
        %Property(name=int_val, get=get_int_val, <span class="hljs-built_in">set</span>=set_int_val)<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_string_val</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*)</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">get_string_val</span><span class="hljs-params">()</span></span>;<font></font>
        %Property(name=string_val, get=get_string_val, <span class="hljs-built_in">set</span>=set_string_val)<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æ‚¨æ‰€è§ï¼Œä¸€åˆ‡éƒ½å¾ˆç®€å•ã€‚è‹¥è¦æ·»åŠ å±æ€§ï¼Œåˆ™</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ç‰©ä¸š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤çš„ç›®çš„æ˜¯</font><font style="vertical-align: inherit;">ï¼Œå®ƒæœ‰ä¸¤ä¸ªå¿…éœ€çš„å‚æ•°ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡å®šå±æ€§çš„åç§°ï¼Œå¹¶</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è·å¾—</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡å®šçš„æ–¹æ³•å°†è¿”å›ä¸€ä¸ªå€¼ï¼ˆå¸æ°”ï¼‰ã€‚å¯èƒ½æ²¡æœ‰è®¾ç½®å™¨ï¼Œä½†æ˜¯å¦‚æœè¿˜éœ€è¦ä¸ºå±æ€§åˆ†é…å€¼ï¼Œåˆ™å°†è®¾ç½®å™¨æ–¹æ³•æŒ‡å®šä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°çš„å€¼</font><font style="vertical-align: inherit;">ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œä»¥ç›¸å½“ç®€å•çš„æ–¹å¼åˆ›å»ºå±æ€§ï¼Œå› ä¸ºå·²ç»æœ‰ä¸€äº›å‡½æ•°å¯ä»¥ç”¨ä½œè·å–å™¨å’Œè®¾ç½®å™¨ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬åªèƒ½ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sip-wheel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘½ä»¤æ”¶é›†è½¯ä»¶åŒ…</font><font style="vertical-align: inherit;">ï¼Œç„¶åå®‰è£…å®ƒï¼Œç„¶åæˆ‘ä»¬å°†åœ¨pythonè§£é‡Šå™¨å‘½ä»¤æ¨¡å¼ä¸‹æ£€æŸ¥å±æ€§çš„æ“ä½œï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> foocpp <span class="hljs-keyword">import</span> Foo
<span class="hljs-meta">&gt;&gt;&gt; </span>x = Foo(<span class="hljs-number">10</span>, <span class="hljs-string">"Hello"</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>x.int_val
<span class="hljs-number">10</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.string_val
<span class="hljs-string">'Hello'</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.int_val = <span class="hljs-number">50</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.string_val = <span class="hljs-string">''</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.get_int_val()
<span class="hljs-number">50</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.get_string_val()
<span class="hljs-string">''</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„ç¤ºä¾‹å¯ä»¥çœ‹åˆ°</font><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int_val</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string_valå±æ€§å¯</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨äºè¯»å–å’Œå†™å…¥ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ æ–‡æ¡£è¡Œ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†ç»§ç»­æé«˜æˆ‘ä»¬çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç­çº§</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä»¥ä¸‹ç¤ºä¾‹ä½äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoo_cpp_03</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹ä¸­</font><i><font style="vertical-align: inherit;">ï¼Œ</font></i><font style="vertical-align: inherit;">å±•ç¤ºäº†å¦‚ä½•å°†æ–‡æ¡£è¡Œï¼ˆdocstringï¼‰æ·»åŠ åˆ°ç±»çš„å„ä¸ªå…ƒç´ ã€‚</font><font style="vertical-align: inherit;">æœ¬ç¤ºä¾‹åŸºäºä¸Šä¸€ä¸ªç¤ºä¾‹ï¼Œå¹¶ä¸”å…¶ä¸­çš„ä¸»è¦æ›´æ”¹æ¶‰åŠ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp.sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å…¶å†…å®¹å¦‚ä¸‹ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs">%Module(name=foocpp, language=<span class="hljs-string">"C++"</span>)<font></font>
%DefaultEncoding <span class="hljs-string">"UTF-8"</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> {</span><font></font>
%Docstring<font></font>
Class example from C++ library<font></font>
%End<font></font>
<font></font>
    %TypeHeaderCode<font></font>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;foo.h&gt;</span></span><font></font>
    %End<font></font>
<font></font>
    <span class="hljs-keyword">public</span>:<font></font>
        Foo(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*);<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span>)</span></span>;<font></font>
        %Docstring(format=<span class="hljs-string">"deindented"</span>, signature=<span class="hljs-string">"prepended"</span>)<font></font>
            Set integer value<font></font>
        %<span class="hljs-function">End

        <span class="hljs-keyword">int</span> <span class="hljs-title">get_int_val</span><span class="hljs-params">()</span></span>;<font></font>
        %Docstring(format=<span class="hljs-string">"deindented"</span>, signature=<span class="hljs-string">"prepended"</span>)<font></font>
            Return integer value<font></font>
        %End<font></font>
<font></font>
        %Property(name=int_val, get=get_int_val, <span class="hljs-built_in">set</span>=set_int_val)<font></font>
        {<font></font>
            %Docstring <span class="hljs-string">"deindented"</span>
                The property <span class="hljs-keyword">for</span> integer value<font></font>
            %End<font></font>
        };<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_string_val</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*)</span></span>;<font></font>
        %Docstring(format=<span class="hljs-string">"deindented"</span>, signature=<span class="hljs-string">"appended"</span>)<font></font>
            Set <span class="hljs-built_in">string</span> value<font></font>
        %<span class="hljs-function">End

        <span class="hljs-keyword">char</span>* <span class="hljs-title">get_string_val</span><span class="hljs-params">()</span></span>;<font></font>
        %Docstring(format=<span class="hljs-string">"deindented"</span>, signature=<span class="hljs-string">"appended"</span>)<font></font>
            Return <span class="hljs-built_in">string</span> value<font></font>
        %End<font></font>
<font></font>
        %Property(name=string_val, get=get_string_val, <span class="hljs-built_in">set</span>=set_string_val)<font></font>
        {<font></font>
            %Docstring <span class="hljs-string">"deindented"</span>
                The property <span class="hljs-keyword">for</span> <span class="hljs-built_in">string</span> value<font></font>
            %End<font></font>
        };<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æ‚¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰€çŸ¥ï¼Œè¦å°†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£è¡Œæ·»åŠ åˆ°ç±»çš„ä»»ä½•å…ƒç´ ï¼Œæ‚¨éœ€è¦ä½¿ç”¨</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ï¼…Docstring</font></a><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ã€‚æœ¬ç¤ºä¾‹æ˜¾ç¤ºäº†ä½¿ç”¨æ­¤ä¼ªæŒ‡ä»¤çš„å‡ ç§æ–¹æ³•ã€‚ä¸ºäº†æ›´å¥½åœ°ç†è§£æ­¤ç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬ç«‹å³</font><font style="vertical-align: inherit;">ä½¿ç”¨</font><i><font style="vertical-align: inherit;">sip-wheel</font></i><font style="vertical-align: inherit;">å‘½ä»¤</font><font style="vertical-align: inherit;">ç¼–è¯‘</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è½¯ä»¶åŒ…</font><font style="vertical-align: inherit;">å¹¶</font><font style="vertical-align: inherit;">å®‰è£…å®ƒï¼Œç„¶åè€ƒè™‘Pythonå‘½ä»¤æ¨¡å¼ä¸‹ç”Ÿæˆçš„æ–‡æ¡£è¡Œï¼Œä¾æ¬¡</font><i><font style="vertical-align: inherit;">ç¡®å®š</font></i><font style="vertical-align: inherit;">è¯¥æŒ‡ä»¤çš„å“ªä¸ªå‚æ•°ä¼šå½±å“ä»€ä¹ˆã€‚è®©æˆ‘æé†’æ‚¨ï¼Œæ–‡æ¡£è¡Œæ˜¯ä½œä¸º</font><font style="vertical-align: inherit;">è¿™äº›è¡Œæ‰€å±</font><font style="vertical-align: inherit;">çš„</font><i><font style="vertical-align: inherit;">__doc__</font></i><font style="vertical-align: inherit;">å¯¹è±¡çš„</font><font style="vertical-align: inherit;">æˆå‘˜å­˜å‚¨çš„</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">
æ–‡æ¡£çš„ç¬¬ä¸€è¡Œæ˜¯é’ˆå¯¹</font><i><font style="vertical-align: inherit;">Foo</font></i><font style="vertical-align: inherit;">ç±»çš„ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚å¦‚æ‚¨æ‰€è§ï¼Œæ‰€æœ‰æ–‡æ¡£è¡Œéƒ½ä½äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…Docstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…End</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤ä¹‹é—´</font><font style="vertical-align: inherit;">ã€‚æ­¤ç¤ºä¾‹çš„ç¬¬5è‡³7è¡Œä¸ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…Docstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤çš„ä»»ä½•å…¶ä»–å‚æ•°</font><font style="vertical-align: inherit;">ï¼Œå› æ­¤ï¼Œæ–‡æ¡£è¡Œå°†</font><i><font style="vertical-align: inherit;">ç…§åŸæ ·</font></i><font style="vertical-align: inherit;">å†™å…¥</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">ã€‚è¿™å°±æ˜¯ç¬¬5-7è¡Œæ²¡æœ‰ç¼©è¿›çš„åŸå› ï¼Œå¦åˆ™æ–‡æ¡£è¡Œä¹‹å‰çš„ç¼©è¿›ä¹Ÿä¼šè½å…¥Foo .__ doc__ä¸­ã€‚æˆ‘ä»¬å°†ç¡®ä¿</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">ç¡®å®åŒ…å«æˆ‘ä»¬ä»‹ç»çš„æ–‡æ¡£è¡Œï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> foocpp <span class="hljs-keyword">import</span> Foo
<span class="hljs-meta">&gt;&gt;&gt; </span>Foo.__doc__
<span class="hljs-string">'Class example from C++ library'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½äºç¬¬17-19è¡Œ</font><font style="vertical-align: inherit;">
çš„ä»¥ä¸‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…Docstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ä¸€æ¬¡ä½¿ç”¨ä¸¤ä¸ªå‚æ•°ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">format</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°</font><font style="vertical-align: inherit;">å¯ä»¥é‡‡ç”¨ä¸¤ä¸ªå€¼ä¹‹ä¸€ï¼šâ€œ rawâ€æˆ–â€œ deindentedâ€ã€‚åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œæ–‡æ¡£è¡Œå°†åœ¨ç¼–å†™æ—¶ä¿å­˜ï¼Œåœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œå°†åˆ é™¤åˆå§‹ç©ºæ ¼å­—ç¬¦ï¼ˆä½†ä¸åŒ…æ‹¬åˆ¶è¡¨ç¬¦ï¼‰ã€‚å¦‚æœ</font><font style="vertical-align: inherit;">æœªæŒ‡å®š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">format</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°ï¼Œåˆ™</font><font style="vertical-align: inherit;">å¯ä»¥ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…DefaultDocstringFormat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¼ªæŒ‡ä»¤è®¾ç½®</font><font style="vertical-align: inherit;">é»˜è®¤å€¼</font><font style="vertical-align: inherit;">ï¼ˆç¨åå†è€ƒè™‘ï¼‰ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œåˆ™å‡å®š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">format =â€œ rawâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é™¤äº†æŒ‡å®šçš„æ–‡æ¡£è¡Œä¹‹å¤–ï¼ŒSIPåœ¨å‡½æ•°æ–‡æ¡£è¡Œä¸­è¿˜æ·»åŠ äº†å…¶ç­¾åçš„æè¿°ï¼ˆè¾“å…¥ä¸­åº”åŒ…å«ä»€ä¹ˆç±»å‹çš„å˜é‡ä»¥åŠå‡½æ•°è¿”å›ä»€ä¹ˆç±»å‹ï¼‰ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signature</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°</font><font style="vertical-align: inherit;">æŒ‡ç¤ºå°†è¿™æ ·çš„ç­¾åæ”¾ç½®åœ¨ä½•å¤„ï¼šåœ¨æ–‡æ¡£çš„æŒ‡å®šè¡Œä¹‹å‰ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signature =â€œ prependedâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œåœ¨</font><font style="vertical-align: inherit;">æ–‡æ¡£</font><font style="vertical-align: inherit;">ä¹‹åï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signature =â€œ appendedâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰æˆ–ä¸æ·»åŠ ç­¾åï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signature =â€œ discardedâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬çš„ä¾‹å­ä¸­è®¾ç½®äº†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç­¾å=â€œå‰ç¼€â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°</font><font style="vertical-align: inherit;">ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_int_val</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_int_valåŠŸèƒ½</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä»¥åŠ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç­¾å=â€œè¿½åŠ â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_string_val</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_string_valåŠŸèƒ½</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚è¿˜æ·»åŠ </font><font style="vertical-align: inherit;">äº†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">format =â€œ deindentedâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°</font><font style="vertical-align: inherit;">ä»¥åˆ é™¤æ–‡æ¡£è¡Œå¼€å¤´çš„ç©ºæ ¼ã€‚è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹è¿™äº›å‚æ•°å¦‚ä½•åœ¨Pythonä¸­å·¥ä½œï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span>Foo.get_int_val.__doc__
<span class="hljs-string">'get_int_val(self) -&gt; int\nReturn integer value'</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>Foo.set_int_val.__doc__
<span class="hljs-string">'set_int_val(self, int)\nSet integer value'</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>Foo.get_string_val.__doc__
<span class="hljs-string">'Return string value\nget_string_val(self) -&gt; str'</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>Foo.set_string_val.__doc__
<span class="hljs-string">'Set string value\nset_string_val(self, str)'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æ‚¨æ‰€è§ï¼Œä½¿ç”¨</font><i><font style="vertical-align: inherit;">ï¼…Docstring</font></i><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signature</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°</font><font style="vertical-align: inherit;">ï¼Œ</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥åœ¨æ–‡æ¡£è¡Œä¸­æ›´æ”¹å‡½æ•°ç­¾åæè¿°çš„ä½ç½®ã€‚</font><font style="vertical-align: inherit;">
ç°åœ¨è€ƒè™‘å‘å±æ€§æ·»åŠ æ–‡æ¡£è¡Œã€‚è¯·æ³¨æ„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ</font><i><font style="vertical-align: inherit;">ï¼…Docstring</font></i><font style="vertical-align: inherit;"> ... </font><i><font style="vertical-align: inherit;">ï¼…End</font></i><font style="vertical-align: inherit;">æŒ‡ä»¤ç”¨ï¼…PropertyæŒ‡ä»¤æ‹¬åœ¨å¤§æ‹¬å·ä¸­ã€‚åœ¨</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ï¼…Property</font></a><font style="vertical-align: inherit;">æŒ‡ä»¤çš„æ–‡æ¡£ä¸­æè¿°äº†è¿™ç§è®°å½•æ ¼å¼</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">
è¿˜è¯·æ³¨æ„æˆ‘ä»¬å¦‚ä½•æŒ‡å®š</font><i><font style="vertical-align: inherit;">ï¼…Docstring</font></i><font style="vertical-align: inherit;">æŒ‡ä»¤å‚æ•°</font><font style="vertical-align: inherit;">ã€‚å¦‚æœæˆ‘ä»¬ä»…è®¾ç½®æŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ</font><i><font style="vertical-align: inherit;">æ ¼å¼</font></i><font style="vertical-align: inherit;">å‚æ•°</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œä¸€æ¬¡ä½¿ç”¨äº†ä¸‰ç§ä½¿ç”¨æŒ‡ä»¤çš„æ–¹æ³•ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¡®ä¿è®¾ç½®äº†å±æ€§çš„æ–‡æ¡£è¡Œï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt;&gt;&gt; Foo.int_val.__doc__<font></font>
'The property for integer value'<font></font>
<font></font>
&gt;&gt;&gt; Foo.string_val.__doc__<font></font>
'The property for string value'<font></font>
<font></font>
&gt;&gt;&gt; help(Foo)<font></font>
Help on class Foo in module foocpp:<font></font>
<font></font>
class Foo(sip.wrapper)<font></font>
 |  Class example from C++ library<font></font>
 |  <font></font>
 |  Method resolution order:<font></font>
 |      Foo<font></font>
 |      sip.wrapper<font></font>
 |      sip.simplewrapper<font></font>
 |      builtins.object<font></font>
 |  <font></font>
 |  Methods defined here:<font></font>
 |  <font></font>
 |  get_int_val(...)<font></font>
 |      get_int_val(self) -&gt; int<font></font>
 |      Return integer value<font></font>
 |  <font></font>
 |  get_string_val(...)<font></font>
 |      Return string value<font></font>
 |      get_string_val(self) -&gt; str<font></font>
 |  <font></font>
 |  set_int_val(...)<font></font>
 |      set_int_val(self, int)<font></font>
 |      Set integer value<font></font>
 |  <font></font>
 |  set_string_val(...)<font></font>
 |      Set string value<font></font>
 |      set_string_val(self, str)<font></font>
...<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬é€šè¿‡</font><font style="vertical-align: inherit;">ä½¿ç”¨</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ï¼…DefaultDocstringFormat</font></a><font style="vertical-align: inherit;">å’Œ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ï¼…DefaultDocstringSignatureæŒ‡ä»¤</font></a><font style="vertical-align: inherit;">è®¾ç½®</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ¼å¼</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç­¾å</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°çš„é»˜è®¤å€¼æ¥ç®€åŒ–æ­¤ç¤ºä¾‹</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åœ¨</font><i><font style="vertical-align: inherit;">pyfoo_cpp_04</font></i><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹çš„ç¤ºä¾‹ä¸­æ˜¾ç¤ºäº†è¿™äº›æŒ‡ä»¤çš„ä½¿ç”¨</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ­¤ç¤ºä¾‹ä¸­çš„</font><i><font style="vertical-align: inherit;">pyfoocpp.sip</font></i><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">åŒ…å«ä»¥ä¸‹ä»£ç ï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="cpp hljs">%Module(name=foocpp, language=<span class="hljs-string">"C++"</span>)<font></font>
%DefaultEncoding <span class="hljs-string">"UTF-8"</span>
%DefaultDocstringFormat <span class="hljs-string">"deindented"</span>
%DefaultDocstringSignature <span class="hljs-string">"prepended"</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> {</span><font></font>
    %Docstring<font></font>
    Class example from C++ library<font></font>
    %End<font></font>
<font></font>
    %TypeHeaderCode<font></font>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;foo.h&gt;</span></span><font></font>
    %End<font></font>
<font></font>
    <span class="hljs-keyword">public</span>:<font></font>
        Foo(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*);<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span>)</span></span>;<font></font>
        %Docstring<font></font>
            Set integer value<font></font>
        %<span class="hljs-function">End

        <span class="hljs-keyword">int</span> <span class="hljs-title">get_int_val</span><span class="hljs-params">()</span></span>;<font></font>
        %Docstring<font></font>
            Return integer value<font></font>
        %End<font></font>
<font></font>
        %Property(name=int_val, get=get_int_val, <span class="hljs-built_in">set</span>=set_int_val)<font></font>
        {<font></font>
            %Docstring<font></font>
                The property <span class="hljs-keyword">for</span> integer value<font></font>
            %End<font></font>
        };<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_string_val</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*)</span></span>;<font></font>
        %Docstring<font></font>
            Set <span class="hljs-built_in">string</span> value<font></font>
        %<span class="hljs-function">End

        <span class="hljs-keyword">char</span>* <span class="hljs-title">get_string_val</span><span class="hljs-params">()</span></span>;<font></font>
        %Docstring<font></font>
            Return <span class="hljs-built_in">string</span> value<font></font>
        %End<font></font>
<font></font>
        %Property(name=string_val, get=get_string_val, <span class="hljs-built_in">set</span>=set_string_val)<font></font>
        {<font></font>
            %Docstring<font></font>
                The property <span class="hljs-keyword">for</span> <span class="hljs-built_in">string</span> value<font></font>
            %End<font></font>
        };<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ–‡ä»¶çš„å¼€å¤´ï¼Œçº¿æ¡</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…DefaultDocstringFormatâ€œdeindentedâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…DefaultDocstringSignatureâ€œå‰ç¼€â€ä¸­æ·»åŠ </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œç„¶åå°†æ‰€æœ‰ä»å‚æ•°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…æ–‡æ¡£å­—ç¬¦ä¸²</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">è¢«æ‹†é™¤ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»„è£…å¹¶å®‰è£…å®Œæ­¤ç¤ºä¾‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„æè¿°ç°åœ¨çœ‹èµ·æ¥åƒ</font><font style="vertical-align: inherit;">ä»€ä¹ˆï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">helpï¼ˆFooï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘½ä»¤æ˜¾ç¤º</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt;&gt;&gt; from foocpp import Foo<font></font>
&gt;&gt;&gt; help(Foo)<font></font>
<font></font>
class Foo(sip.wrapper)<font></font>
 |  Class example from C++ library<font></font>
 |  <font></font>
 |  Method resolution order:<font></font>
 |      Foo<font></font>
 |      sip.wrapper<font></font>
 |      sip.simplewrapper<font></font>
 |      builtins.object<font></font>
 |  <font></font>
 |  Methods defined here:<font></font>
 |  <font></font>
 |  get_int_val(...)<font></font>
 |      get_int_val(self) -&gt; int<font></font>
 |      Return integer value<font></font>
 |  <font></font>
 |  get_string_val(...)<font></font>
 |      get_string_val(self) -&gt; str<font></font>
 |      Return string value<font></font>
 |  <font></font>
 |  set_int_val(...)<font></font>
 |      set_int_val(self, int)<font></font>
 |      Set integer value<font></font>
 |  <font></font>
 |  set_string_val(...)<font></font>
 |      set_string_val(self, str)<font></font>
 |      Set string value<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€åˆ‡çœ‹èµ·æ¥éƒ½éå¸¸æ•´æ´ï¼Œå±äºåŒä¸€ç±»å‹ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡å‘½åç±»å’Œæ–¹æ³•</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­£å¦‚æˆ‘ä»¬å·²ç»è¯´è¿‡çš„é‚£æ ·ï¼ŒPythonç»‘å®šæä¾›çš„æ¥å£ä¸å¿…ä¸C / C ++åº“æä¾›çš„æ¥å£åŒ¹é…ã€‚æˆ‘ä»¬åœ¨ä¸Šé¢çš„ç±»ä¸­æ·»åŠ äº†å±æ€§ï¼Œç°åœ¨æˆ‘ä»¬å°†ä»‹ç»å¦ä¸€ç§æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯åœ¨ç±»åæˆ–å‡½æ•°å‘ç”Ÿå†²çªï¼ˆä¾‹å¦‚ï¼Œå‡½æ•°åä¸æŸäº›Pythonå…³é”®å­—åŒ¹é…ï¼‰æ—¶å¾ˆæœ‰ç”¨ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥é‡å‘½åç±»ï¼Œå‡½æ•°ï¼Œå¼‚å¸¸å’Œå…¶ä»–å®ä½“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦é‡å‘½åå®ä½“ï¼Œè¯·ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyName</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰¹æ³¨</font><font style="vertical-align: inherit;">ï¼Œéœ€è¦ä¸ºå…¶èµ‹äºˆå…¶å€¼ä¸€ä¸ªæ–°çš„å®ä½“åç§°ã€‚</font><font style="vertical-align: inherit;">åœ¨</font><i><font style="vertical-align: inherit;">pyfoo_cpp_05</font></i><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹çš„ç¤ºä¾‹ä¸­æ˜¾ç¤º</font><font style="vertical-align: inherit;">äº†ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyName</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰¹æ³¨çš„å·¥ä½œ</font><font style="vertical-align: inherit;">ã€‚æœ¬ç¤ºä¾‹åŸºäºä¸Šä¸€ä¸ªç¤ºä¾‹ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoo_cpp_04</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ŒåŒºåˆ«åœ¨äºæ–‡ä»¶</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp.sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå…¶å†…å®¹ç°åœ¨å¦‚ä¸‹æ‰€ç¤ºï¼š</font></font><br>
<br>
<pre><code class="cpp hljs">%Module(name=foocpp, language=<span class="hljs-string">"C++"</span>)<font></font>
%DefaultEncoding <span class="hljs-string">"UTF-8"</span>
%DefaultDocstringFormat <span class="hljs-string">"deindented"</span>
%DefaultDocstringSignature <span class="hljs-string">"prepended"</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> /<span class="hljs-title">PyName</span>=<span class="hljs-title">Bar</span>/ {</span><font></font>
    %Docstring<font></font>
    Class example from C++ library<font></font>
    %End<font></font>
<font></font>
    %TypeHeaderCode<font></font>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;foo.h&gt;</span></span><font></font>
    %End<font></font>
<font></font>
    <span class="hljs-keyword">public</span>:<font></font>
        Foo(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*);<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span>)</span> /PyName</span>=set_integer_value/;<font></font>
        %Docstring<font></font>
            Set integer value<font></font>
        %<span class="hljs-function">End

        <span class="hljs-keyword">int</span> <span class="hljs-title">get_int_val</span><span class="hljs-params">()</span> /PyName</span>=get_integer_value/;<font></font>
        %Docstring<font></font>
            Return integer value<font></font>
        %End<font></font>
<font></font>
        %Property(name=int_val, get=get_integer_value, <span class="hljs-built_in">set</span>=set_integer_value)<font></font>
        {<font></font>
            %Docstring<font></font>
                The property <span class="hljs-keyword">for</span> integer value<font></font>
            %End<font></font>
        };<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_string_val</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*)</span> /PyName</span>=set_string_value/;<font></font>
        %Docstring<font></font>
            Set <span class="hljs-built_in">string</span> value<font></font>
        %<span class="hljs-function">End

        <span class="hljs-keyword">char</span>* <span class="hljs-title">get_string_val</span><span class="hljs-params">()</span> /PyName</span>=get_string_value/;<font></font>
        %Docstring<font></font>
            Return <span class="hljs-built_in">string</span> value<font></font>
        %End<font></font>
<font></font>
        %Property(name=string_val, get=get_string_value, <span class="hljs-built_in">set</span>=set_string_value)<font></font>
        {<font></font>
            %Docstring<font></font>
                The property <span class="hljs-keyword">for</span> <span class="hljs-built_in">string</span> value<font></font>
            %End<font></font>
        };<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">é‡å‘½åä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">ï¼Œå¹¶ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyName</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰¹æ³¨å°†å…¶ä»–åç§°åˆ†é…ç»™æ‰€æœ‰æ–¹æ³•</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æˆ‘è®¤ä¸ºè¿™é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½éå¸¸ç®€å•æ˜äº†ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯å±æ€§çš„åˆ›å»ºã€‚</font><font style="vertical-align: inherit;">åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…Property</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤ä¸­ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°</font><font style="vertical-align: inherit;">å¿…é¡»æŒ‡å®šæ–¹æ³•çš„åç§°ï¼Œå› ä¸ºå®ƒä»¬å°†åœ¨Pythonç±»ä¸­è¢«è°ƒç”¨ï¼Œè€Œä¸æ˜¯æœ€åˆåœ¨C ++ä»£ç ä¸­è¢«è°ƒç”¨çš„åç§°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¼–è¯‘ç¤ºä¾‹ï¼Œè¿›è¡Œå®‰è£…ï¼Œç„¶åæŸ¥çœ‹è¯¥ç±»åœ¨Pythonä¸­çš„å¤–è§‚ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt;&gt;&gt; from foocpp import Bar<font></font>
&gt;&gt;&gt; help(Bar)<font></font>
<font></font>
Help on class Bar in module foocpp:<font></font>
<font></font>
class Bar(sip.wrapper)<font></font>
 |  Class example from C++ library<font></font>
 |  <font></font>
 |  Method resolution order:<font></font>
 |      Bar<font></font>
 |      sip.wrapper<font></font>
 |      sip.simplewrapper<font></font>
 |      builtins.object<font></font>
 |  <font></font>
 |  Methods defined here:<font></font>
 |  <font></font>
 |  get_integer_value(...)<font></font>
 |      get_integer_value(self) -&gt; int<font></font>
 |      Return integer value<font></font>
 |  <font></font>
 |  get_string_value(...)<font></font>
 |      get_string_value(self) -&gt; str<font></font>
 |      Return string value<font></font>
 |  <font></font>
 |  set_integer_value(...)<font></font>
 |      set_integer_value(self, int)<font></font>
 |      Set integer value<font></font>
 |  <font></font>
 |  set_string_value(...)<font></font>
 |      set_string_value(self, str)<font></font>
 |      Set string value<font></font>
 |  <font></font>
 |  ----------------------------------------------------------------------<font></font>
 |  Data descriptors defined here:<font></font>
 |  <font></font>
 |  __weakref__<font></font>
 |      list of weak references to the object (if defined)<font></font>
 |  <font></font>
 |  int_val<font></font>
 |      The property for integer value<font></font>
 |  <font></font>
 |  string_val<font></font>
 |      The property for string value<font></font>
 |  <font></font>
 |  ----------------------------------------------------------------------<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰æ•ˆï¼</font><font style="vertical-align: inherit;">æˆ‘ä»¬è®¾æ³•é‡å‘½åäº†ç±»æœ¬èº«åŠå…¶æ–¹æ³•ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰æ—¶ï¼Œåº“ä¼šä½¿ç”¨æ‰€æœ‰ç±»çš„åç§°éƒ½ä»¥å‰ç¼€å¼€å¤´çš„åè®®ï¼Œä¾‹å¦‚ï¼ŒQtä¸­çš„å­—æ¯â€œ Qâ€æˆ–wxWidgetsä¸­çš„â€œ wxâ€ã€‚</font><font style="vertical-align: inherit;">å¦‚æœè¦åœ¨Pythonç»‘å®šä¸­é‡å‘½åæ‰€æœ‰ç±»ï¼Œä»¥æ‘†è„±æ­¤ç±»å‰ç¼€ï¼Œåˆ™ä¸ºäº†ä¸</font><font style="vertical-align: inherit;">ä¸ºæ¯ä¸ªç±»</font><font style="vertical-align: inherit;">è®¾ç½®</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyName</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰¹æ³¨</font><font style="vertical-align: inherit;">ï¼Œå¯ä»¥ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…AutoPyName</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä¸ä¼šåœ¨æœ¬æ–‡ä¸­è€ƒè™‘æ­¤ä¼ªæŒ‡ä»¤ï¼Œæˆ‘ä»¬åªä¼šè¯´</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…AutoPyName</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¼ªæŒ‡ä»¤</font><font style="vertical-align: inherit;">åº”è¯¥ä½äº</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…Module</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¼ªæŒ‡ä»¤å†…éƒ¨ï¼Œ</font><font style="vertical-align: inherit;">å¹¶å°†è‡ªå·±é™åˆ¶ä¸ºæ–‡æ¡£ä¸­çš„ç¤ºä¾‹ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">%Module PyQt5.QtCore<font></font>
{<font></font>
    %AutoPyName(remove_leading="Q")<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ ç±»å‹è½¬æ¢</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨std :: wstringç±»çš„ç¤ºä¾‹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ç ”ç©¶äº†é€‚ç”¨äºç®€å•ç±»å‹ï¼ˆä¾‹å¦‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">char *ï¼‰çš„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡½æ•°å’Œç±»</font><font style="vertical-align: inherit;">ã€‚å¯¹äºè¿™äº›ç±»å‹ï¼ŒSIPè‡ªåŠ¨åˆ›å»ºå¾€è¿”äºPythonç±»çš„è½¬æ¢å™¨ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ï¼ˆä½äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoo_cpp_06</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹ä¸­ï¼‰ä¸­</font><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬å°†è€ƒè™‘ç±»æ–¹æ³•æ¥å—å¹¶è¿”å›æ›´å¤æ‚çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œæ¥è‡ªSTLçš„å­—ç¬¦ä¸²ï¼‰çš„æƒ…å†µã€‚ä¸ºäº†ç®€åŒ–ç¤ºä¾‹ï¼Œå¹¶ä¸”ä¸ä½¿å­—èŠ‚è½¬æ¢ä¸ºUnicodeå¤æ‚ï¼Œåä¹‹äº¦ç„¶ï¼Œåœ¨æ­¤ç¤ºä¾‹ä¸­å°†ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: wstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­—ç¬¦ä¸²</font><i><font style="vertical-align: inherit;">ç±»</font></i><font style="vertical-align: inherit;">ã€‚è¿™ä¸ªç¤ºä¾‹çš„æ€æƒ³æ˜¯å±•ç¤ºå¦‚ä½•æ‰‹åŠ¨è®¾ç½®å°†C ++ç±»ä¸Pythonç±»ä¹‹é—´æ¥å›è½¬æ¢çš„è§„åˆ™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºæ­¤ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†ä»</font><i><font style="vertical-align: inherit;">foo</font></i><font style="vertical-align: inherit;">åº“ä¸­</font><font style="vertical-align: inherit;">æ›´æ”¹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œç±»å®šä¹‰å°†å¦‚ä¸‹æ‰€ç¤ºï¼ˆæ–‡ä»¶</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo.h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> FOO_LIB</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> FOO_LIB</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">wstring</span>;<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> {</span>
    <span class="hljs-keyword">private</span>:
        <span class="hljs-keyword">int</span> _int_val;
        <span class="hljs-built_in">wstring</span> _string_val;
    <span class="hljs-keyword">public</span>:<font></font>
        Foo(<span class="hljs-keyword">int</span> int_val, <span class="hljs-built_in">wstring</span> string_val);<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_int_val</span><span class="hljs-params">()</span></span>;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_string_val</span><span class="hljs-params">(<span class="hljs-built_in">wstring</span> val)</span></span>;
        <span class="hljs-function"><span class="hljs-built_in">wstring</span> <span class="hljs-title">get_string_val</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
</code></pre><br><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">foo.cpp</font></i><font style="vertical-align: inherit;">æ–‡ä»¶ä¸­</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ç±»</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ç°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"foo.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">wstring</span>;<font></font>
<font></font>
Foo::Foo(<span class="hljs-keyword">int</span> int_val, <span class="hljs-built_in">wstring</span> string_val):<font></font>
    _int_val(int_val), _string_val(string_val) {}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo::set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{<font></font>
    _int_val = val;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Foo::get_int_val</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> _int_val;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo::set_string_val</span><span class="hljs-params">(<span class="hljs-built_in">wstring</span> val)</span> </span>{<font></font>
    _string_val = val;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-built_in">wstring</span> <span class="hljs-title">Foo::get_string_val</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> _string_val;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿˜æœ‰</font><font style="vertical-align: inherit;">ç”¨äºæ£€æŸ¥åº“åŠŸèƒ½</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"foo.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
<span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span>* argv[])</span> </span>{
    <span class="hljs-keyword">auto</span> foo = Foo(<span class="hljs-number">10</span>, <span class="hljs-string">L"Hello"</span>);
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">L"int_val: "</span> &lt;&lt; foo.get_int_val() &lt;&lt; <span class="hljs-built_in">endl</span>;
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">L"string_val: "</span> &lt;&lt; foo.get_string_val().c_str() &lt;&lt; <span class="hljs-built_in">endl</span>;<font></font>
<font></font>
    foo.set_int_val(<span class="hljs-number">0</span>);<font></font>
    foo.set_string_val(<span class="hljs-string">L"Hello world!"</span>);<font></font>
<font></font>
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">L"int_val: "</span> &lt;&lt; foo.get_int_val() &lt;&lt; <span class="hljs-built_in">endl</span>;
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">L"string_val: "</span> &lt;&lt; foo.get_string_val().c_str() &lt;&lt; <span class="hljs-built_in">endl</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åƒä»¥å‰ä¸€æ ·ï¼Œ</font><font style="vertical-align: inherit;">
æ–‡ä»¶</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo.h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹ä¸­</font><font style="vertical-align: inherit;">ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”Ÿæˆæ–‡ä»¶</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œåº“</font><i><font style="vertical-align: inherit;">çš„ç”Ÿæˆ</font></i><font style="vertical-align: inherit;">è¿‡ç¨‹æœªæ›´æ”¹ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyproject.toml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project.py</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ä¹Ÿæ²¡æœ‰é‡å¤§æ›´æ”¹</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp.sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><i><font style="vertical-align: inherit;">å·²ç»</font></i><font style="vertical-align: inherit;">å˜å¾—æ›´åŠ å¤æ‚ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs">%Module(name=foocpp, language=<span class="hljs-string">"C++"</span>)<font></font>
%DefaultEncoding <span class="hljs-string">"UTF-8"</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> {</span><font></font>
    %TypeHeaderCode<font></font>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;foo.h&gt;</span></span><font></font>
    %End<font></font>
<font></font>
    <span class="hljs-keyword">public</span>:<font></font>
        Foo(<span class="hljs-keyword">int</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">wstring</span>);<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_int_val</span><span class="hljs-params">(<span class="hljs-keyword">int</span>)</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_int_val</span><span class="hljs-params">()</span></span>;<font></font>
        %Property(name=int_val, get=get_int_val, <span class="hljs-built_in">set</span>=set_int_val)<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_string_val</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">wstring</span>)</span></span>;
        <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">wstring</span> <span class="hljs-title">get_string_val</span><span class="hljs-params">()</span></span>;<font></font>
        %Property(name=string_val, get=get_string_val, <span class="hljs-built_in">set</span>=set_string_val)<font></font>
};<font></font>
<font></font>
%MappedType <span class="hljs-built_in">std</span>::<span class="hljs-built_in">wstring</span><font></font>
{<font></font>
%TypeHeaderCode<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><font></font>
%End<font></font>
<font></font>
%ConvertFromTypeCode<font></font>
    <span class="hljs-comment">// Convert an std::wstring to a Python (Unicode) string</span><font></font>
    PyObject* newstring;<font></font>
    newstring = PyUnicode_FromWideChar(sipCpp-&gt;data(), <span class="hljs-number">-1</span>);
    <span class="hljs-keyword">return</span> newstring;<font></font>
%End<font></font>
<font></font>
%ConvertToTypeCode<font></font>
    <span class="hljs-comment">// Convert a Python (Unicode) string to an std::wstring</span>
    <span class="hljs-keyword">if</span> (sipIsErr == <span class="hljs-literal">NULL</span>) {
        <span class="hljs-keyword">return</span> PyUnicode_Check(sipPy);<font></font>
    }<font></font>
    <span class="hljs-keyword">if</span> (PyUnicode_Check(sipPy)) {<font></font>
        *sipCppPtr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">wstring</span>(PyUnicode_AS_UNICODE(sipPy));
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
%End<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‡ºäºè¯´æ˜</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›®çš„ï¼Œpyfoocpp.sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">æœªæ·»åŠ æ–‡æ¡£è¡Œã€‚å¦‚æœæˆ‘ä»¬åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyfoocpp.sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ä¸­</font><font style="vertical-align: inherit;">ä»…ä¿ç•™</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„å£°æ˜ï¼Œ</font><font style="vertical-align: inherit;">è€Œæ²¡æœ‰åç»­çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…MappedType</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ï¼Œåˆ™åœ¨æ„å»ºè¿‡ç¨‹ä¸­å°†å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">$ sip-wheel<font></font>
<font></font>
These bindings will be built: pyfoocpp.<font></font>
Generating the pyfoocpp bindings...<font></font>
sip-wheel: std::wstring is undefined<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬éœ€è¦æ˜ç¡®æè¿°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: wstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹çš„å¯¹è±¡</font><font style="vertical-align: inherit;">å°†å¦‚ä½•è½¬æ¢ä¸ºæŸäº›Pythonå¯¹è±¡ï¼Œè¿˜éœ€è¦æè¿°é€†å‘è½¬æ¢ã€‚ä¸ºäº†æè¿°è½¬æ¢ï¼Œæˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨Cè¯­è¨€è¿›è¡Œç›¸å½“ä½çš„å·¥ä½œï¼Œå¹¶ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python / C API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ç”±äºPython / C APIæ˜¯ä¸€ä¸ªå¤§è¯é¢˜ï¼Œå› æ­¤å³ä½¿æ˜¯å•ç‹¬çš„æ–‡ç« ä¹Ÿå€¼å¾—ä¸€æœ¬ä¹¦ï¼Œå› æ­¤åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»…è€ƒè™‘ç¤ºä¾‹ä¸­ä½¿ç”¨çš„é‚£äº›å‡½æ•°ï¼Œè€Œæ— éœ€èµ˜è¿°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å£°æ˜ä»C ++å¯¹è±¡åˆ°Pythonçš„è½¬æ¢ï¼Œåä¹‹äº¦ç„¶ï¼Œå¿…é¡»ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…MappedType</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¼ªæŒ‡ä»¤</font><font style="vertical-align: inherit;">ï¼Œå…¶ä¸­å¯èƒ½å­˜åœ¨å…¶ä»–ä¸‰ä¸ªä¼ªæŒ‡ä»¤ï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…TypeHeaderCode</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertToTypeCode</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertFromTypeCode</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…MappedType</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¡¨è¾¾å¼ä¹‹åï¼Œ</font><font style="vertical-align: inherit;">æ‚¨éœ€è¦æŒ‡å®šå°†ä¸ºå…¶åˆ›å»ºè½¬æ¢å™¨çš„ç±»å‹ã€‚</font><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒæŒ‡ä»¤ä»¥è¡¨è¾¾å¼</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…MappedType std :: wstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€å¤´</font><font style="vertical-align: inherit;">ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">åœ¨C ++ä¸­ä¸ºåº“å»ºç«‹ç»‘å®šä¸€</font></a><font style="vertical-align: inherit;">èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ»¡è¶³</font><i><font style="vertical-align: inherit;">ï¼…TypeHeaderCode</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æŒ‡ä»¤</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘æé†’æ‚¨ï¼Œæ­¤æŒ‡ä»¤æ—¨åœ¨å£°æ˜ä½¿ç”¨çš„ç±»å‹æˆ–åŒ…æ‹¬åœ¨å…¶ä¸­å£°æ˜å®ƒä»¬çš„å¤´æ–‡ä»¶ã€‚</font><font style="vertical-align: inherit;">åœ¨æ­¤ç¤ºä¾‹ä¸­</font><font style="vertical-align: inherit;">ï¼Œå¤´æ–‡ä»¶</font><i><font style="vertical-align: inherit;">å­—ç¬¦ä¸²</font></i><font style="vertical-align: inherit;">ï¼ˆåœ¨å…¶ä¸­å£°æ˜äº†ç±»</font><i><font style="vertical-align: inherit;">std :: string</font></i><font style="vertical-align: inherit;">ï¼‰</font><font style="vertical-align: inherit;">è¿æ¥</font><font style="vertical-align: inherit;">åœ¨</font><i><font style="vertical-align: inherit;">ï¼…TypeHeaderCode</font></i><font style="vertical-align: inherit;">æŒ‡ä»¤å†…éƒ¨</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬éœ€è¦æè¿°è½¬æ¢</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertFromTypeCodeã€‚</font><font style="vertical-align: inherit;">å°†C ++å¯¹è±¡è½¬æ¢ä¸ºPython</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬é¦–å…ˆå°†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: wstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹è±¡è½¬æ¢ä¸º</font><font style="vertical-align: inherit;">Python </font><font style="vertical-align: inherit;">ç±»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ç¤ºä¾‹ä¸­çš„æ­¤è½¬æ¢å¦‚ä¸‹ï¼š</font></font><br>
<br>
<pre><code class="cpp hljs">%ConvertFromTypeCode
    <span class="hljs-comment">// Convert an std::wstring to a Python (Unicode) string</span><font></font>
    PyObject* newstring;<font></font>
    newstring = PyUnicode_FromWideChar(sipCpp-&gt;data(), <span class="hljs-number">-1</span>);
    <span class="hljs-keyword">return</span> newstring;<font></font>
%End<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ­¤æŒ‡ä»¤ä¸­ï¼Œæˆ‘ä»¬æœ‰</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sipCpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜é‡</font><font style="vertical-align: inherit;">-æŒ‡å‘C ++ä»£ç ä¸­çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œé€šè¿‡è¯¥</font><font style="vertical-align: inherit;">å˜é‡</font><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºPythonå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">returnè¯­å¥</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»æŒ‡ä»¤ä¸­è¿”å›åˆ›å»ºçš„å¯¹è±¡</font><font style="vertical-align: inherit;">ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sipCpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜é‡</font><font style="vertical-align: inherit;">çš„ç±»å‹ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: wstring *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚è¦åˆ›å»º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">ï¼Œè¯·ä½¿ç”¨</font><font style="vertical-align: inherit;">Python / C APIä¸­</font><font style="vertical-align: inherit;">çš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyUnicode_FromWideChar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡½æ•°</font><font style="vertical-align: inherit;">ã€‚æ­¤å‡½æ•°æ¥å—ç±»å‹ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">const wchar_t * w</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„æ•°ç»„ï¼ˆæŒ‡é’ˆï¼‰ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</font><font style="vertical-align: inherit;">ï¼Œå¹¶å°†æ­¤æ•°ç»„çš„å¤§å°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚å¦‚æœæ‚¨å°†å€¼-1ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ï¼Œåˆ™</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyUnicode_FromWideChar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡½æ•°</font><font style="vertical-align: inherit;">æœ¬èº«å°†ä½¿ç”¨è¯¥å‡½æ•°è®¡ç®—é•¿åº¦</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wcslen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦è·å–</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wchar_t *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°ç»„ï¼Œè¯·</font><font style="vertical-align: inherit;">ä½¿ç”¨</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">std :: wstring</font></a><font style="vertical-align: inherit;">ç±»ä¸­</font><font style="vertical-align: inherit;">çš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">ã€‚</font><i><font style="vertical-align: inherit;">PyUnicode_FromWideChar</font></i><font style="vertical-align: inherit;"> 
å‡½æ•°</font><font style="vertical-align: inherit;">åœ¨å‡ºç°é”™è¯¯çš„æƒ…å†µä¸‹</font><font style="vertical-align: inherit;">è¿”å›æŒ‡å‘</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">PyObject</font></a><font style="vertical-align: inherit;">æˆ–</font><i><font style="vertical-align: inherit;">NULL</font></i><font style="vertical-align: inherit;">çš„æŒ‡é’ˆ</font><font style="vertical-align: inherit;">ã€‚</font><i><font style="vertical-align: inherit;">PyObject</font></i><font style="vertical-align: inherit;">æ˜¯ä»»ä½•Pythonå¯¹è±¡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå°†æ˜¯</font><i><font style="vertical-align: inherit;">str</font></i><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åœ¨Python / C APIä¸­ï¼Œä½¿ç”¨å¯¹è±¡é€šå¸¸æ˜¯é€šè¿‡</font><i><font style="vertical-align: inherit;">PyObject *</font></i><font style="vertical-align: inherit;">æŒ‡é’ˆè¿›è¡Œçš„</font><font style="vertical-align: inherit;">ï¼Œå› æ­¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ</font><font style="vertical-align: inherit;">æˆ‘ä»¬</font><font style="vertical-align: inherit;">ä»</font><i><font style="vertical-align: inherit;">ï¼…ConvertFromTypeCode</font></i><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">è¿”å›</font><i><font style="vertical-align: inherit;">PyObject *</font></i><font style="vertical-align: inherit;">æŒ‡é’ˆ</font><font style="vertical-align: inherit;">ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertToTypeCodeã€‚</font><font style="vertical-align: inherit;">å°†Pythonå¯¹è±¡è½¬æ¢ä¸ºC ++</font></font></h3><br><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">ï¼…ConvertToTypeCode</font></i><font style="vertical-align: inherit;">æŒ‡ä»¤æè¿°äº†</font><font style="vertical-align: inherit;">
ä»Pythonå¯¹è±¡ï¼ˆåŸºæœ¬ä¸Šæ˜¯ä»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyObject *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰åˆ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: wstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">çš„é€†è½¬æ¢</font><font style="vertical-align: inherit;">ã€‚åœ¨</font><i><font style="vertical-align: inherit;">pyfoo_cpp_06</font></i><font style="vertical-align: inherit;">ç¤ºä¾‹ä¸­</font><i><font style="vertical-align: inherit;">ï¼Œ</font></i><font style="vertical-align: inherit;">è½¬æ¢å¦‚ä¸‹ï¼š</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="cpp hljs">%ConvertToTypeCode
    <span class="hljs-comment">// Convert a Python (Unicode) string to an std::wstring</span>
    <span class="hljs-keyword">if</span> (sipIsErr == <span class="hljs-literal">NULL</span>) {
        <span class="hljs-keyword">return</span> PyUnicode_Check(sipPy);<font></font>
    }<font></font>
    <span class="hljs-keyword">if</span> (PyUnicode_Check(sipPy)) {<font></font>
        *sipCppPtr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">wstring</span>(PyUnicode_AS_UNICODE(sipPy));
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
%End<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertToTypeCode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æŒ‡ä»¤çš„ä»£ç </font><font style="vertical-align: inherit;">çœ‹èµ·æ¥æ›´åŠ å¤æ‚ï¼Œå› ä¸ºåœ¨è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œå‡ºäºä¸åŒçš„ç›®çš„å¤šæ¬¡è°ƒç”¨äº†å®ƒã€‚åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertToTypeCode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤å†…éƒ¨ï¼Œ</font><font style="vertical-align: inherit;">SIPåˆ›å»ºäº†å‡ ä¸ªæˆ‘ä»¬å¯ä»¥ï¼ˆæˆ–åº”è¯¥ï¼‰ä½¿ç”¨çš„å˜é‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™äº›å˜é‡ä¹‹ä¸€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyObject * sipPy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯ä¸€ä¸ªPythonå¯¹è±¡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦åˆ›å»º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: wstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„å®ä¾‹</font><font style="vertical-align: inherit;">ã€‚ç»“æœå°†éœ€è¦å†™å…¥å¦ä¸€ä¸ªå˜é‡</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sipCppPtr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯æŒ‡å‘åˆ›å»ºçš„å¯¹è±¡çš„åŒæŒ‡é’ˆï¼Œå³åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ­¤å˜é‡çš„ç±»å‹ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: wstring **</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æŒ‡ä»¤å†…éƒ¨åˆ›å»ºçš„å¦ä¸€ä¸ª</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertToTypeCode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜é‡æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int * sipIsErr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚å¦‚æœæ­¤å˜é‡çš„å€¼ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NULL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œåˆ™</font><font style="vertical-align: inherit;">ä»…è°ƒç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertToTypeCode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ä»¥æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿›è¡Œç±»å‹è½¬æ¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¹‰åŠ¡è¿›è¡Œè½¬æ¢ï¼Œè€Œä»…éœ€è¦æ£€æŸ¥åŸåˆ™ä¸Šæ˜¯å¦å¯è¡Œã€‚å¦‚æœå¯èƒ½ï¼Œåˆ™ä¼ªæŒ‡ä»¤å¿…é¡»è¿”å›éé›¶å€¼ï¼Œå¦åˆ™ï¼Œå¦‚æœä¸èƒ½è¿›è¡Œè½¬æ¢ï¼Œåˆ™å¿…é¡»è¿”å›0ã€‚å¦‚æœæ­¤æŒ‡é’ˆä¸æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NULL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œåˆ™éœ€è¦æ‰§è¡Œè½¬æ¢ï¼Œå¹¶ä¸”å¦‚æœè½¬æ¢æœŸé—´å‘ç”Ÿé”™è¯¯ï¼Œåˆ™å¯ä»¥ä¿å­˜æ•´æ•°é”™è¯¯ä»£ç è¿›å…¥è¿™ä¸ªå˜é‡ï¼ˆå‡è®¾è¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªæŒ‡å‘</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„æŒ‡é’ˆ</font><font style="vertical-align: inherit;">ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œè¦éªŒè¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sipPy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯ä¸€ä¸ªunicodeå­—ç¬¦ä¸²ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">ï¼‰ï¼Œä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyUnicode_Check</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®</font><font style="vertical-align: inherit;">ï¼Œ</font><font style="vertical-align: inherit;">å¦‚æœä¼ é€’çš„å‚æ•°æ˜¯unicodeå­—ç¬¦ä¸²æˆ–ä»å…¶æ´¾ç”Ÿçš„</font><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">ï¼Œåˆ™è¯¥å®</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">é‡‡ç”¨</font></a></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyObject *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹</font><font style="vertical-align: inherit;">çš„å‚æ•°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨å­—ç¬¦ä¸²</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* sipCppPtr = new std :: wstringï¼ˆPyUnicode_AS_UNICODEï¼ˆsipPyï¼‰ï¼‰å¯ä»¥</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è½¬æ¢ä¸ºC ++å¯¹è±¡</font><i><font style="vertical-align: inherit;">ã€‚</font></i><font style="vertical-align: inherit;">ã€‚åœ¨è¿™é‡Œï¼Œ</font><font style="vertical-align: inherit;">ä»Python / C API </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è°ƒç”¨</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº†</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">PyUnicode_AS_UNICODE</font></a><font style="vertical-align: inherit;">å®ï¼Œè¯¥å®</font><font style="vertical-align: inherit;">è¿”å›ä¸€ä¸ª</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Py_UNICODE *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹çš„æ•°ç»„ï¼Œè¯¥æ•°ç»„</font><font style="vertical-align: inherit;">ç­‰æ•ˆäº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wchar_t *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚è¯¥æ•°ç»„ä¼ é€’ç»™</font><i><font style="vertical-align: inherit;">std :: wstring</font></i><font style="vertical-align: inherit;">ç±»çš„æ„é€ å‡½æ•°</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¦‚ä¸Šæ‰€è¿°ï¼Œç»“æœå­˜å‚¨åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sipCppPtr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜é‡ä¸­</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç›®å‰ï¼Œ</font><font style="vertical-align: inherit;">ä¸å»ºè®®ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyUnicode_AS_UNICODE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ï¼Œå»ºè®®ä½¿ç”¨å…¶ä»–å®ï¼Œä½†æ˜¯æ­¤å®ç”¨äºç®€åŒ–ç¤ºä¾‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœè½¬æ¢æˆåŠŸï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertToTypeCode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">åº”è¿”å›éé›¶å€¼ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ä¸º1ï¼‰ï¼Œå¹¶ä¸”åœ¨å‘ç”Ÿé”™è¯¯çš„æƒ…å†µä¸‹åº”è¿”å›0ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æ ¡éªŒ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æè¿°äº†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: wstringç±»å‹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„è½¬æ¢ï¼Œ</font><font style="vertical-align: inherit;">åä¹‹äº¦ç„¶ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ç¡®ä¿æˆåŠŸæ„å»ºäº†åŒ…å¹¶ä¸”ç»‘å®šå¯ä»¥æ­£å¸¸è¿›è¡Œã€‚</font><font style="vertical-align: inherit;">è¦è¿›è¡Œæ„å»ºï¼Œè¯·è°ƒç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sip-wheel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œç„¶åä½¿ç”¨pipå®‰è£…è½¯ä»¶åŒ…å¹¶åœ¨Pythonå‘½ä»¤æ¨¡å¼ä¸‹æ£€æŸ¥å¯æ“ä½œæ€§ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> foocpp <span class="hljs-keyword">import</span> Foo
<span class="hljs-meta">&gt;&gt;&gt; </span>x = Foo(<span class="hljs-number">10</span>, <span class="hljs-string">'Hello'</span>)<font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.string_val
<span class="hljs-string">'Hello'</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.string_val = <span class="hljs-string">''</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.string_val
<span class="hljs-string">''</span><font></font>
<font></font>
<span class="hljs-meta">&gt;&gt;&gt; </span>x.get_string_val()
<span class="hljs-string">''</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æ‚¨æ‰€è§ï¼Œä¸€åˆ‡æ­£å¸¸ï¼Œä¿„è¯­ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œå³ </font><font style="vertical-align: inherit;">Unicodeå­—ç¬¦ä¸²è½¬æ¢æ­£ç¡®æ‰§è¡Œã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»“è®º</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä½¿ç”¨SIPä¸ºç”¨Cå’ŒC ++ç¼–å†™çš„åº“åˆ›å»ºPythonç»‘å®šçš„åŸºç¡€çŸ¥è¯†ã€‚</font><font style="vertical-align: inherit;">é¦–å…ˆï¼ˆåœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬ä¸€éƒ¨åˆ†ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨Cè¯­è¨€åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„åº“ï¼Œå¹¶å¼„æ¸…æ¥šäº†éœ€è¦åˆ›å»ºä»¥ä½¿ç”¨SIPçš„æ–‡ä»¶ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyproject.toml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">åŒ…å«æœ‰å…³è½¯ä»¶åŒ…çš„ä¿¡æ¯ï¼ˆåç§°ï¼Œç‰ˆæœ¬å·ï¼Œè®¸å¯è¯ä»¥åŠå¤´æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶çš„è·¯å¾„ï¼‰ã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project.py</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ï¼Œ</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥å½±å“æ„å»ºPythonåŒ…çš„è¿‡ç¨‹ï¼Œä¾‹å¦‚ï¼Œå¼€å§‹æ„å»ºC / C ++åº“æˆ–å…è®¸ç”¨æˆ·æŒ‡å®šåº“çš„å¤´æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶çš„ä½ç½®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font><i><font style="vertical-align: inherit;">* .sip</font></i><font style="vertical-align: inherit;">æ–‡ä»¶ä¸­</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æè¿°Pythonæ¨¡å—çš„æ¥å£ï¼Œå…¶ä¸­åˆ—å‡ºäº†æ¨¡å—ä¸­å°†åŒ…å«çš„åŠŸèƒ½å’Œç±»ã€‚</font><font style="vertical-align: inherit;">æŒ‡ä»¤å’Œæ³¨é‡Šç”¨äº</font><font style="vertical-align: inherit;">æè¿°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* .sip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ä¸­çš„æ¥å£</font><font style="vertical-align: inherit;">ã€‚ Pythonç±»æ¥å£ä¸å¿…ä¸C ++ç±»æ¥å£åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…Property</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤å‘ç±»æ·»åŠ å±æ€§</font><font style="vertical-align: inherit;">ï¼Œä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ PyName /</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Annotationé‡å‘½åå®ä½“</font><font style="vertical-align: inherit;">ï¼Œå¹¶ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…Docstring</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤æ·»åŠ æ–‡æ¡£è¡Œ</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸºæœ¬ç±»å‹ï¼Œä¾‹å¦‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">char</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">char *</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç­‰ç­‰SIPä¼šè‡ªåŠ¨è½¬æ¢ä¸ºç±»ä¼¼çš„Pythonç±»ï¼Œä½†æ˜¯å¦‚æœæ‚¨éœ€è¦æ‰§è¡Œæ›´å¤æ‚çš„è½¬æ¢ï¼Œåˆ™éœ€è¦</font><font style="vertical-align: inherit;">ä½¿ç”¨Python / C API </font><font style="vertical-align: inherit;">åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…MappedType</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤ä¸­è‡ªå·±</font><font style="vertical-align: inherit;">ç¼–ç¨‹ã€‚ä»Pythonç±»åˆ°C ++çš„è½¬æ¢å¿…é¡»åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertToTypeCode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åµŒå¥—æŒ‡ä»¤ä¸­å®Œæˆ</font><font style="vertical-align: inherit;">ã€‚ä»C ++ç±»å‹è½¬æ¢ä¸ºPythonç±»å¿…é¡»åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…ConvertFromTypeCode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åµŒå¥—æŒ‡ä»¤ä¸­å®Œæˆ</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¸å¦‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…DefaultEncoding</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…DefaultDocstringFormat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼…DefaultDocstringSignatureä¹‹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„æŸäº›æŒ‡ä»¤</font><font style="vertical-align: inherit;">æ˜¯è¾…åŠ©</font><font style="vertical-align: inherit;">æŒ‡ä»¤</font><font style="vertical-align: inherit;">ï¼Œå¯ç”¨äºåœ¨æœªæ˜¾å¼è®¾ç½®æŸäº›æ³¨é‡Šå‚æ•°çš„æƒ…å†µä¸‹è®¾ç½®é»˜è®¤å€¼ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»…æ£€æŸ¥äº†åŸºæœ¬å’Œæœ€ç®€å•çš„æŒ‡ä»¤å’Œæ³¨é‡Šï¼Œä½†å…¶ä¸­è®¸å¤šè¢«å¿½ç•¥äº†ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå­˜åœ¨ç”¨äºç®¡ç†GILï¼Œç”¨äºåˆ›å»ºæ–°çš„Pythonå¼‚å¸¸ï¼Œç”¨äºæ‰‹åŠ¨ç®¡ç†å†…å­˜å’Œåƒåœ¾æ”¶é›†å™¨ï¼Œç”¨äºè°ƒæ•´ä¸åŒæ“ä½œç³»ç»Ÿçš„ç±»çš„æŒ‡ä»¤ï¼Œä»¥åŠåœ¨åˆ›å»ºå¤æ‚çš„C / C ++åº“ç»‘å®šæ—¶å¯èƒ½æœ‰ç”¨çš„è®¸å¤šå…¶ä»–æŒ‡ä»¤ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä¹Ÿç»•è¿‡äº†ä¸ºä¸åŒçš„æ“ä½œç³»ç»Ÿæ„å»ºè½¯ä»¶åŒ…çš„é—®é¢˜ï¼Œâ€‹â€‹å°†è‡ªå·±å±€é™äºä½¿ç”¨gcc / g ++ç¼–è¯‘å™¨åœ¨Linuxä¸‹æ„å»ºã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚è€ƒæ–‡çŒ®</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ç« çš„ç¬¬ä¸€éƒ¨åˆ†</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ¬æ–‡ç¤ºä¾‹</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIPä¸»é¡µ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIPæ–‡æ¡£</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python / C APIæ–‡æ¡£</font></font></a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN495618/index.html">éš”ç¦»ä¼šå¯¼è‡´æŸå¤±ã€‚å¦‚ä½•ä¸éš”ç¦»åœ°ç”Ÿæ´»ï¼Ÿ</a></li>
<li><a href="../zh-CN495620/index.html">åœ¨Jabra Panacastç»„è£…äº†ä¸€ä¸ªè§†é¢‘ä¼šè®®æ”¶å‰²æœºï¼ŒåŠå…¬å®¤å’Œå®¶åº­çš„åˆ©å¼Š</a></li>
<li><a href="../zh-CN495622/index.html">æ•°å­—åŒç©ºè°ƒç³»ç»Ÿï¼ˆSLEï¼‰é£æœº</a></li>
<li><a href="../zh-CN495624/index.html">ä¸ºä»€ä¹ˆXbox Series Xå°†æˆä¸º2020å¹´çš„ä¸»è¦è´­ä¹°</a></li>
<li><a href="../zh-CN495634/index.html">äººäººçš†çŸ¥ï¼šä¸ºä»€ä¹ˆå‘˜å·¥æ˜¯ä¼ä¸šä¿¡æ¯å®‰å…¨çš„ä¸»è¦å¨èƒä»¥åŠå¦‚ä½•åº”å¯¹</a></li>
<li><a href="../zh-CN495638/index.html">è‹±æ–‡é€—å·ï¼š5æ¡è§„åˆ™å’Œå‰3ä¸ªé”™è¯¯</a></li>
<li><a href="../zh-CN495642/index.html">å¼€å§‹æ”¶é›†å¤å°åŠŸèƒ½ä¸­çš„é”™è¯¯</a></li>
<li><a href="../zh-CN495644/index.html">TSæ€»è§†çº¿ã€‚äº‹ä»¶æ”¶é›†ï¼Œäº‹ä»¶åˆ†æå’Œå¨èƒå“åº”è‡ªåŠ¨åŒ–å·¥å…·</a></li>
<li><a href="../zh-CN495646/index.html">å‘¨æœ«å¯ä»¥å¬çš„æ— å‹åŠ›æ’­å®¢</a></li>
<li><a href="../zh-CN495658/index.html">ä»ä½•å¤„è·å–æœºå™¨å­¦ä¹ çš„éŸ³é¢‘ï¼šä¸€ç³»åˆ—æ ¹æ®çŸ¥è¯†å…±äº«è®¸å¯çš„å¼€æ”¾åº“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>