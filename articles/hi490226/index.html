<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯдк ЁЯСитАНтЪЦя╕П тШжя╕П рд╕рдореНрдорд┐рд╢реНрд░рдг рдФрд░ рдПрдХрддрд╛ рдХреНрд╖реЗрддреНрд░: рдХреИрд╕реЗ рдЪреМрд░рд╛рд╣реЛрдВ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдЕрдкрдиреА рдЖрдБрдЦреЛрдВ рдХреЛ рдЪреЛрдЯ рдкрд╣реБрдВрдЪрд╛рдирд╛ рдмрдВрдж рдХрд░реЗрдВ ЁЯСП ЁЯЪ┐ тЭЗя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЦреЗрд▓ рдХреЗ рдЕрдВрджрд░ рдПрдХ рдпрдерд╛рд░реНрдерд╡рд╛рджреА рджреБрдирд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЕрдкрдиреЗ рдФрд░ рдЕрдиреНрдп рдореЙрдбрд▓реЛрдВ рдХреЗ рдмреАрдЪ рд╡рд┐рднрд┐рдиреНрди рд░рд╛рд╣рдд рд░реВрдкреЛрдВ рдХреА рдмрд╛рддрдЪреАрдд рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдФрд░ рдЕрдЧрд░ 3 рдбреА...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рд╕рдореНрдорд┐рд╢реНрд░рдг рдФрд░ рдПрдХрддрд╛ рдХреНрд╖реЗрддреНрд░: рдХреИрд╕реЗ рдЪреМрд░рд╛рд╣реЛрдВ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдЕрдкрдиреА рдЖрдБрдЦреЛрдВ рдХреЛ рдЪреЛрдЯ рдкрд╣реБрдВрдЪрд╛рдирд╛ рдмрдВрдж рдХрд░реЗрдВ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pixonic/blog/490226/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЦреЗрд▓ рдХреЗ рдЕрдВрджрд░ рдПрдХ рдпрдерд╛рд░реНрдерд╡рд╛рджреА рджреБрдирд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЕрдкрдиреЗ рдФрд░ рдЕрдиреНрдп рдореЙрдбрд▓реЛрдВ рдХреЗ рдмреАрдЪ рд╡рд┐рднрд┐рдиреНрди рд░рд╛рд╣рдд рд░реВрдкреЛрдВ рдХреА рдмрд╛рддрдЪреАрдд рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред </font><font style="vertical-align: inherit;">рдФрд░ рдЕрдЧрд░ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдмреАрдЪ рджреГрд╢реНрдпрдорд╛рди рдЪреМрд░рд╛рд╣реЗ рдХреА рд░реЗрдЦрд╛рдПрдВ рдЫрд╡рд┐ рдХреА рдЕрдЦрдВрдбрддрд╛ рдХреЛ рдЦрд░рд╛рдм рдХрд░рддреА рд╣реИрдВ, рддреЛ рдпрд╣ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рдЦрддреНрдо рдХрд┐рдпрд╛ рдЬрд╛рдПред </font><font style="vertical-align: inherit;">рдРрд╕реА рд▓рд╛рдЗрдиреЛрдВ рдХрд╛ рд╕рдмрд╕реЗ рдЖрдо рдорд╛рдорд▓рд╛, рдЬреЛ рдХрдИ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдЪрд┐рдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЕрдкрд╛рд░рджрд░реНрд╢реА рдЬреНрдпрд╛рдорд┐рддрд┐ рд╡рд╛рд▓реЗ рдХрдгреЛрдВ рдХреЗ рд╣реЛрд░реНрдбрд┐рдВрдЧ рд╣реИрдВред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ja/va/g2/javag2i9gc9lhkwohebgbyklsjc.png" alt="рдЫрд╡рд┐"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдЕрдиреНрдп рдЙрджрд╛рд╣рд░рдг "рдмрд╛рд╣рд░реА" рджреГрд╢реНрдпреЛрдВ рдореЗрдВ рдкрд░рд┐рджреГрд╢реНрдп рдХреА рд╕рддрд╣ рдХреЗ рд╕рд╛рде рдЪрдЯреНрдЯрд╛рдиреЛрдВ рдФрд░ рд╡рдирд╕реНрдкрддрд┐рдпреЛрдВ рдХреЗ рдЪреМрд░рд╛рд╣реЗ рдХреА рдкрд░реЗрд╢рд╛рди рдкреНрд░рд╛рдХреГрддрд┐рдХ рд░рдЪрдирд╛ рд╣реИред</font></font><br>
<br>
<img src="https://habrastorage.org/webt/v0/k6/s9/v0k6s98hdon17qotuaryat0vogs.png" alt="рдЫрд╡рд┐"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд┐рднрд┐рдиреНрди рдЪреМрд░рд╕рд╛рдИ рд╡рд┐рдзрд┐рдпреЛрдВ (рдПрд╕рдПрд╕рдПрдП, рдПрдордПрд╕рдПрдП, рд╕реАрдПрд╕рдПрдП, рдПрдлрдПрдХреНрд╕рдПрдП, рдПрдирдПрдлрдПрдП, рд╕реАрдПрдордПрдП, рдбреАрдПрд▓рдПрдП, рдЯреАрдПрдП, рдЖрджрд┐) рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЬреЛ рдЗрд╕ рддрд░рд╣ рдХреЗ рдЪреМрд░рд╛рд╣реЛрдВ рдХреА рд░реЗрдЦрд╛рдУрдВ рдХреЗ рджреЛрд╖рдкреВрд░реНрдг рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╕реНрдерд┐рддрд┐ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдареАрдХ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдЕрдзрд┐рдХ рдкреНрд░рднрд╛рд╡реА рддрдХрдиреАрдХреЗрдВ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдо рдЙрди рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧрд╣рд░рд╛рдИ рдХрд╛ рд╕рдореНрдорд┐рд╢реНрд░рдг</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХрддрд╛ рдХреЗ рдкрд╛рд╕ рдкрд╛рд░рджрд░реНрд╢реА рдХрдгреЛрдВ рдФрд░ рдЕрдкрд╛рд░рджрд░реНрд╢реА рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЗ рдмреАрдЪ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рд╡рд╛рд▓реЗ рдЪреМрд░рд╛рд╣реЛрдВ рдХреЛ рдЦрддреНрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд╕рдорд╛рдзрд╛рди рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдирд░рдо рдХрдг рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕ рдкреНрд░рднрд╛рд╡ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╢реЗрдбреНрд╕ рдХрдгреЛрдВ рдХреА рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ рдХреЛ рдФрд░ рдЕрдзрд┐рдХ рдмрдврд╝рд╛рддреЗ рд╣реИрдВ, рдЬреЛ рдЗрд╕ рдмрд╛рдд рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХрдг рдХреЗ рдЯреБрдХрдбрд╝реЗ рдХреА рдЧрд╣рд░рд╛рдИ рдФрд░ рдЕрдкрд╛рд░рджрд░реНрд╢реА рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреА рдЧрд╣рд░рд╛рдИ рдХреЗ рдмреАрдЪ рдХрд╛ рдЕрдВрддрд░ рдХрд┐рддрдирд╛ рдЫреЛрдЯрд╛ рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mz/wx/9k/mzwx9kecz9hkjps0laijveek-54.png" alt="рдЫрд╡рд┐"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд░рдо рдХрдгреЛрдВ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХрд╛ рд╕рд┐рджреНрдзрд╛рдВрдд</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЬрд╛рд╣рд┐рд░ рд╣реИ, </font><i><font style="vertical-align: inherit;">рдирд░рдо рдХрдгреЛрдВ</font></i><font style="vertical-align: inherit;"> рдХреЗ рд╕рд╣реА рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП, рдПрдХ рдЧрд╣рд░рд╛рдИ рдмрдлрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЖрд╕реНрдердЧрд┐рдд рдЫрд╛рдпрд╛рдВрдХрди рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЧрд╣рд░рд╛рдИ рдмрдлрд░ рдХреЛ рдкреВрд░реНрдг-рд╕реНрдХреНрд░реАрди рдмрдлрд╝рд░реНрд╕ рд░реЗрдВрдбрд░ рдХрд░рдиреЗ рдХреЗ рдЪрд░рдг рдореЗрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдПрдордЖрд░рдЯреА (рдорд▓реНрдЯреАрдкрд▓ рд░реЗрдВрдбрд░ рдЯрд╛рд░рдЧреЗрдЯреНрд╕, рди рдХрд┐ рдЪреБрдВрдмрдХреАрдп рдЕрдиреБрдирд╛рдж рдЯреЛрдореЛрдЧреНрд░рд╛рдлреА) рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП, рдЗрд╕рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдЕрддрд┐рд░рд┐рдХреНрдд рдХрдореНрдкреНрдпреВрдЯреЗрд╢рдирд▓ рд▓рд╛рдЧрддреЛрдВ рдореЗрдВ рд╡реНрдпрдХреНрдд рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлреЙрд░рд╡рд░реНрдб рд╢реЗрдбрд┐рдВрдЧ рдФрд░ рдпреВрдирд┐рдЯреА рд▓рд┐рдЧреЗрд╕реА рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЧрд╣рд░рд╛рдИ рдмрдлрд░ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдЕрдкрд╛рд░рджрд░реНрд╢реА рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдкрд╛рд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ рдкрд╛рд╕ Camera.depthTextureMode рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЛ рдЙрдЪрд┐рдд рдореВрд▓реНрдп рдкреНрд░рджрд╛рди рдХрд░рдХреЗ рд╕рдХреНрд░рд┐рдп рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рд╕рдВрдкрддреНрддрд┐ рдирд┐рд░реАрдХреНрд╖рдХ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдкреАрдЖрдИ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[2]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдЖрдк рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рд░реЗрдВрдбрд░ рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХреЗ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдЖрдЧреЗ рдХреА рдЫрд╛рдпрд╛рдВрдХрди рдХреЗ рд╕рд╛рде рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдПрдордЖрд░рдЯреА рдХреА рдорджрдж рд╕реЗ рдПрдХ рд╕рд╛рде рдЧрд╣рд░рд╛рдИ рдмрдлрд░ рдФрд░ рд░рдВрдЧ рдмрдлрд░ рджреЛрдиреЛрдВ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7z/-b/1l/7z-b1lg9zs8xbsywe6evbmanfiw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд░рдо рдХрдгреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╢реЗрдбреНрд╕ рдореЗрдВ рдЪреМрд░рд╛рд╣реЗ рдХреА рд░реЗрдЦрд╛рдУрдВ рдХреЛ рдЦрддреНрдо рдХрд░рдирд╛</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рд╕рд╛рде 3 рдбреА рдореЙрдбрд▓ рдХреЗ рджреГрд╢реНрдп рдЪреМрд░рд╛рд╣реЛрдВ рдХреЛ рдЦрддреНрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЧрд╣рд░рд╛рдИ рд╕рдореНрдорд┐рд╢реНрд░рдг рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рддрдХрдиреАрдХреА рдмрд╛рдзрд╛рдПрдВ рдирд╣реАрдВ рд╣реИрдВ:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рджреЗрдЦреЗрдВ</font></font></b><div class="spoiler_text"><pre><code class="css hljs">// <span class="hljs-selector-tag">Blending</span> <span class="hljs-selector-tag">with</span> <span class="hljs-selector-tag">depth</span> <span class="hljs-selector-tag">buffer</span><font></font>
<font></font>
<span class="hljs-selector-id">#include</span> "<span class="hljs-selector-tag">UnityCG</span><span class="hljs-selector-class">.cginc</span>"<font></font>
<font></font>
<span class="hljs-selector-tag">float</span> <span class="hljs-selector-tag">BlendStart</span>;
<span class="hljs-selector-tag">float</span> <span class="hljs-selector-tag">BlendEnd</span>;
<span class="hljs-selector-tag">UNITY_DECLARE_DEPTH_TEXTURE</span>(_<span class="hljs-selector-tag">CameraDepthTexture</span>);<font></font>
<font></font>
<span class="hljs-selector-tag">struct</span> <span class="hljs-selector-tag">v2f</span><font></font>
{<font></font>
    // ...<font></font>
<font></font>
    half4 <span class="hljs-attribute">projPos </span>: TEXCOORD0;<font></font>
};<font></font>
<font></font>
<span class="hljs-selector-tag">v2f</span> <span class="hljs-selector-tag">vert</span>(<span class="hljs-selector-tag">appdata</span> <span class="hljs-selector-tag">v</span>)<font></font>
{<font></font>
    v2f o;<font></font>
    UNITY_INITIALIZE_OUTPUT(v2f,o);<font></font>
<font></font>
    // ...<font></font>
<font></font>
    o.projPos = ComputeScreenPos(o.pos);<font></font>
    COMPUTE_EYEDEPTH(o.projPos.z);<font></font>
<font></font>
    // ...<font></font>
<font></font>
    return o;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">fixed4</span> <span class="hljs-selector-tag">frag</span>(<span class="hljs-selector-tag">v2f</span> <span class="hljs-selector-tag">i</span>) : <span class="hljs-selector-tag">COLOR</span><font></font>
{     <font></font>
    fixed4 result = 0;<font></font>
      <font></font>
    // ... <font></font>
<font></font>
    float depth = SAMPLE_DEPTH_TEXTURE_PROJ(_CameraDepthTexture, UNITY_PROJ_COORD(i.projPos));<font></font>
    float sceneZ = LinearEyeDepth(depth);<font></font>
    float partZ = i.projPos.z;<font></font>
    float fade = saturate( sceneZ - partZ );<font></font>
    result.a = smoothstep( BlendStart, BlendEnd, fade );<font></font>
<font></font>
    // ... <font></font>
       <font></font>
    return result; <font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рдХрдИ рдиреБрдХрд╕рд╛рди рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд╣рд▓рд╛ рджреЛрд╖ рдкреНрд░рджрд░реНрд╢рди рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред рдЧрд╣рд░рд╛рдИ рдХреЗ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХрд╛ рдХрд╛рдо рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкрд╛рдЗрдк рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреЗ рдЪрд░рдг рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдЯреБрдХрдбрд╝реЗ рдЯреБрдХрдбрд╝реЗ рд╣реЛрдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рд╡рд┐рдЦрдВрдбрди рдФрд░ рдЧрдгрдирд╛ рдХреЗ рдмрд╛рдж рд╣реЛрддрд╛ рд╣реИред рдЗрд╕ рд╕реНрддрд░ рдкрд░, рдЖрдЙрдЯрдкреБрдЯ рдмрдлрд░ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[3] [4] [5]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рджрд░реНрдЬ рдХрд┐рдП рдЧрдП рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рд╛рде </font><font style="vertical-align: inherit;">рдПрдкреАрдЖрдИ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[6] [7] [8] [8]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдХреЙрд▓ рджреНрд╡рд╛рд░рд╛ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕реВрддреНрд░ рдХреЗ рдЕрдиреБрд╕рд╛рд░ </font><font style="vertical-align: inherit;">рдкрд░рд┐рдгрд╛рдо рдорд┐рд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдХрд┐рд╕реА рднреА рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкрд╛рдЗрдк рд▓рд╛рдЗрди рдХрд╛ рд╕рдмрд╕реЗ рдХрдо рдкреНрд░рдЧрддрд┐рд╢реАрд▓ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдареАрдХ рдЙрд╕реА рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЬреИрд╕реЗ рдмреАрд╕ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рдХрд╛рдо рдХрд┐рдпрд╛ рдерд╛ред GPU рдореЗрдореЛрд░реА рд╕реЗ рдореВрд▓реНрдп рдХреЛ рдкрдврд╝рддрд╛ рд╣реИ, рдЗрд╕реЗ рдЯреБрдХрдбрд╝реЗ рдЯреБрдХрдбрд╝реЗ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХреЗ рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде рдорд┐рд▓рд╛рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕реЗ рд╡рд╛рдкрд╕ рдореЗрдореЛрд░реА рдореЗрдВ рд▓рд┐рдЦрддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкрд╛рд░рджрд░реНрд╢реА рдпрд╛ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдкрд╛рд░рджрд░реНрд╢реА 3 рдбреА рдореЙрдбрд▓ рдХреЗ рд▓рд┐рдП рдЧрд╣рд░рд╛рдИ рд╕реЗ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВ, рдЗрд╕рдореЗрдВ рднреА рдЕрдВрддрд░ рд╣реИред рдкрд╛рд░рджрд░реНрд╢реА - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрдг рдмрд┐рд▓рдмреЛрд░реНрдб - рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЧрд╣рд░рд╛рдИ рдореЗрдВ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХрд┐рдП рдмрд┐рдирд╛, рд╕рдВрдкреВрд░реНрдг рд░реЗрдВрдбрд░ рдкрд╛рд░рджрд░реНрд╢реА рд╣реИред рдЕрдкрд╛рд░рджрд░реНрд╢реА 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ, рдореВрд░реНрдд, рджреГрд╢реНрдпрдорд╛рди рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ рдЬрдм рдЧрд╣рд░рд╛рдИ рдореЗрдВ рд╕рдореНрдорд┐рд╢реНрд░рдг рд╣реЛрддреА рд╣реИ рддреЛ рдХреЗрд╡рд▓ рдмрд╣реБрдд рдХрдо рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЯреБрдХрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВ, рдЬрдмрдХрд┐ рдЙрдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдЕрдкрд╛рд░рджрд░реНрд╢реА рдмрдиреЗ рд░рд╣реЗрдВрдЧреЗред рд▓реЗрдХрд┐рди рдЙрддреНрддрд░рд╛рд░реНрджреНрдз рдХрд╛ рдорддрд▓рдм рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрдирдХреЗ рдкреНрд░рддрд┐рдкрд╛рджрди рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ - рдпрд╣ рдмрд╕ рдмреЗрдХрд╛рд░ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреВрд╕рд░рд╛ рджреЛрд╖ рдпрд╣ рд╣реИ рдХрд┐ рдорд┐рд╢реНрд░рдг рдХреЗ рд▓рд┐рдП рд░рдВрдЧ рдХреИрд╕реЗ рдЪреБрдирд╛ рдЬрд╛рддрд╛ рд╣реИред рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рддрдм рд╕рднреА рдЯреБрдХрдбрд╝реЗ рдЬреЛ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╕реНрдХреНрд░реАрди рдкрд┐рдХреНрд╕реЗрд▓ рдореЗрдВ рдорд┐рд╢реНрд░рд┐рдд рд╣реЛрддреЗ рд╣реИрдВ, рдПрдХ рдХрд┐рд░рдг рдХреИрдорд░реЗ рдХреА рджреБрдирд┐рдпрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рд╕реЗ рдирд┐рдХрд▓рддреА рд╣реИ рдФрд░ рдЗрд╕ рд╕реНрдХреНрд░реАрди рдкрд┐рдХреНрд╕реЗрд▓ рдХреА рд╡рд┐рд╢реНрд╡ рд╕реНрдерд┐рддрд┐ рд╕реЗ рдЧреБрдЬрд░рддреА рд╣реИред рдпрд╣, рдмрджрд▓реЗ рдореЗрдВ, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХреИрдорд░рд╛ рд╕реНрдерд┐рддрд┐ рдпрд╛ рдЕрднрд┐рд╡рд┐рдиреНрдпрд╛рд╕ рдореЗрдВ рдХрд┐рд╕реА рднреА рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рд╕рд╛рде, рд▓рдВрдмрди рджреЗрдЦрд╛ рдЬрд╛рдПрдЧрд╛: рдХреИрдорд░реЗ рдХреЗ рдХрд░реАрдм рд╕реНрдерд┐рдд 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдЯреБрдХрдбрд╝реЗ рдХреИрдорд░реЗ рд╕реЗ рдЖрдЧреЗ рд╕реНрдерд┐рдд рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдЯреБрдХрдбрд╝реЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рддреЗрдЬреА рд╕реЗ рдЖрдЧреЗ рдмрдврд╝реЗрдВрдЧреЗ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[10] [11]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдЬрдм рдХреИрдорд░реЗ рдХреЗ рдирд┐рд░рдВрддрд░ рдкрд╛рд░реНрд╢реНрд╡ рд╡рд┐рд╕реНрдерд╛рдкрди рдХреЗ рд╕рд╛рде рдХрд░реАрдм рд╕реАрдорд╛ рд╕реЗ рджреЗрдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hz/sc/78/hzsc78n3vvddbvvlgrb3hqkfwxc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдорд░реЗ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╕рдордп рдкрд╛рд░реНрд╢реНрд╡ рд▓рдВрдмрди: 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдЯреБрдХрдбрд╝реЗ рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдЯреБрдХрдбрд╝реЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рджреВрд░реА рдкрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/5v/zf/wj/5vzfwjmabznaiprchenxb9eqy3q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдорд░рд╛ рд▓реЗ рдЬрд╛рддреЗ рд╕рдордп рдкрд╛рд░реНрд╢реНрд╡ рд▓рдВрдмрди: рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдПрдХ рдЯреБрдХрдбрд╝реЗ рдкрд░ рдХреИрдорд░реЗ рдХреЛ рдареАрдХ рдХрд░рддреЗ рд╕рдордп, рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдореЙрдбрд▓ рдХреЗ рдЯреБрдХрдбрд╝реЗ рдХрд┐рддрдиреА рддреЗрдЬрд╝реА рд╕реЗ рдЖрдЧреЗ рдмрдврд╝ рд░рд╣реЗ рд╣реИрдВред</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЬрдм рдХреИрдорд░рд╛ рдШреБрдорд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд▓рдВрдмрди рд╕реНрдХреНрд░реАрди рд╕рдордиреНрд╡рдп рдХреЗ рджреЛ рдЕрдХреНрд╖реЛрдВ рдХреЗ рд╕рд╛рде рддреБрд░рдВрдд рдордирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЧрддрд┐рд╢реАрд▓рддрд╛ рдореЗрдВ рдпрд╣ рдкрд╛рд░реНрд╢реНрд╡ рд▓рдВрдмрди рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрдо рд╕реНрдкрд╖реНрдЯ рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qs/ew/jn/qsewjnfucpdriai47zh9032fwcm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрдм рдХреИрдорд░рд╛ рд╢рд┐рдлреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдЕрдЬрд╝реАрдореБрдерд▓ рд▓рдВрдмрди: рдорд╕реНрддрд┐рд╖реНрдХ рдХреЗ рд▓рд┐рдП рд▓рдВрдмрди рдкреИрдЯрд░реНрди рдХреЛ рдкрд╣рдЪрд╛рдирдирд╛ рдЕрдзрд┐рдХ рдХрдард┐рди рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдЯреБрдХрдбрд╝реЗ рджреЛ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЕрдХреНрд╖реЛрдВ рдХреЗ </font><i><font style="vertical-align: inherit;">рд╕рд╛рде рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред</font></i><font style="vertical-align: inherit;"> рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рдмрд╛рдд, рдЧрд╣рд░рд╛рдИ рдкрд░ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдЙрд╕ рдХреЛрдг рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреА рд╣реИ рдЬрд┐рд╕ рдкрд░ рдкрд░реНрдпрд╡реЗрдХреНрд╖рдХ рдкрд░рд┐рджреГрд╢реНрдп рдХреА рд╕рддрд╣ рдХреЛ рджреЗрдЦрддрд╛ рд╣реИред рдкрд░рд┐рджреГрд╢реНрдп рдХреА рд╕рддрд╣ рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдп рдХреА рджрд┐рд╢рд╛ рд▓рдВрдмрд╡рдд рд╣реЛрдиреЗ рдкрд░ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреНрд╖реЗрддреНрд░ рд▓рдЧрднрдЧ рдЕрджреГрд╢реНрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрджрд┐ рдЖрдк рдХреИрдорд░реЗ рдХреЛ рдиреАрдЪреЗ рдЭреБрдХрд╛рддреЗ рд╣реИрдВ рддреЛ рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХрд╛ рдЖрдХрд╛рд░ рддреЗрдЬреА рд╕реЗ рдмрдврд╝рддрд╛ рд╣реИред</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hd/r8/gs/hdr8gs_ha63gspkr_eaxowjosna.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрдорд░реЗ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдХреЛ рдЧрд╣рд░рд╛рдИ рд╕реЗ </font><i><font style="vertical-align: inherit;">рдЭреБрдХрд╛рдиреЗ рдХреЗ рджреМрд░рд╛рди рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреНрд╖реЗрддреНрд░ рдХреА рдЪреМрдбрд╝рд╛рдИ рдмрджрд▓рдирд╛, рд╕рдореНрдорд┐рд╢реНрд░рдг</font></i><font style="vertical-align: inherit;"> 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдЪреМрд░рд╛рд╣реЗ рдХреА рд░реЗрдЦрд╛рдУрдВ рдХреЛ рдЦрддреНрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рд╡рд┐рдХрд▓реНрдк рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЕрдЧрд░ рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рд╕рд╛рде рдХрд▓рд╛рдХреГрддрд┐рдпреЛрдВ рдХреА рдмрд╣реБрддрд╛рдпрдд рдХреЗ рд▓рд┐рдП рдирд╣реАрдВред </font><font style="vertical-align: inherit;">рдпрд╣ рд╡рд┐рдзрд┐ рдХрдг рдкреНрд░рднрд╛рд╡реЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдЙрдкрдпреБрдХреНрдд рд╣реИ рдЬреЛ рд╕реНрдерд┐рд░ рдирд╣реАрдВ рд╣реИрдВ рдФрд░, рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдЕрддреНрдпрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдмрдирд╛рд╡рдЯ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП, рдЙрдирдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд▓рдВрдмрди рдкреНрд░рднрд╛рд╡ рдирд╣реАрдВ рджреЗрдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдКрдВрдЪрд╛рдИ рдорд╛рдирдЪрд┐рддреНрд░ рд╕рдореНрдорд┐рд╢реНрд░рдг</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реИрдВрдбрд╕реНрдХреЗрдк рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдиреНрдп рд╡рд┐рдХрд▓реНрдк рдПрдХ рдКрдВрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдПрдХрддрд╛ рдЯреЗрд░реЗрдирдбрд╛рдЯрд╛ рдПрдкреАрдЖрдИ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[12] рдХреЗ</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЯреЗрд░реЗрди рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рдЗрд▓рд╛рдХреЗ рдХреЗ рдЖрдпрд╛рдореЛрдВ рдХреЛ рдЬрд╛рдирдиреЗ рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдЯреЗрд░реЗрдирдбрд╛рдЯрд╛ рдореЗрдВ, рдФрд░ рд╣рд╛рде рдкрд░ "рдКрдВрдЪрд╛рдИ рдХрд╛ рдирдХреНрд╢рд╛" рд╣реИ, рдЖрдк рджреБрдирд┐рдпрд╛ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рд╕реА рднреА рдмрд┐рдВрджреБ рдкрд░ рдЗрд▓рд╛рдХреЗ рдХреА рдКрдВрдЪрд╛рдИ рдХреА рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ga/69/za/ga69zap3c3xnluhjfm68g4_roto.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдКрдВрдЪрд╛рдИ рдХреЗ рдирдореВрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдореИрджрд╛рдиреА рдХреНрд╖реЗрддреНрд░</font></font></i><br>
<br>
<pre><code class="css hljs">// <span class="hljs-selector-tag">Setting</span> <span class="hljs-selector-tag">up</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">heightmap</span> <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">uniforms</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">use</span> <span class="hljs-selector-tag">with</span> <span class="hljs-selector-tag">shaders</span>... <font></font>
<font></font>
<span class="hljs-selector-tag">Shader</span><span class="hljs-selector-class">.SetGlobalTexture</span>(<span class="hljs-selector-tag">Uniforms</span><span class="hljs-selector-class">.TerrainHeightmap</span>, <span class="hljs-selector-tag">terrain</span><span class="hljs-selector-class">.terrainData</span><span class="hljs-selector-class">.heightmapTexture</span>);
<span class="hljs-selector-tag">Shader</span><span class="hljs-selector-class">.SetGlobalVector</span>(<span class="hljs-selector-tag">Uniforms</span><span class="hljs-selector-class">.HeightmapScale</span>, <span class="hljs-selector-tag">terrain</span><span class="hljs-selector-class">.terrainData</span><span class="hljs-selector-class">.heightmapScale</span>);
<span class="hljs-selector-tag">Shader</span><span class="hljs-selector-class">.SetGlobalVector</span>(<span class="hljs-selector-tag">Uniforms</span><span class="hljs-selector-class">.TerrainSize</span>, <span class="hljs-selector-tag">terrain</span><span class="hljs-selector-class">.terrainData</span><span class="hljs-selector-class">.size</span>);
<span class="hljs-selector-tag">Shader</span><span class="hljs-selector-class">.SetGlobalVector</span>(<span class="hljs-selector-tag">Uniforms</span><span class="hljs-selector-class">.TerrainPos</span>, <span class="hljs-selector-tag">terrain</span><span class="hljs-selector-class">.transform</span><span class="hljs-selector-class">.position</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдареАрдХ рд╣реИ, рдЕрдм, рдкрд░рд┐рджреГрд╢реНрдп рдХреА рдКрдВрдЪрд╛рдИ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рджреБрдирд┐рдпрд╛ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдореЗрдВ рдкрд░рд┐рджреГрд╢реНрдп рдХреА рдКрдВрдЪрд╛рдЗрдпреЛрдВ рдХреЗ рдирдХреНрд╢реЗ рдХрд╛ рдирдореВрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╢реЗрд╡ рдореЗрдВ uv рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреА рдЧрдгрдирд╛ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br>
<pre><code class="css hljs">// <span class="hljs-selector-tag">Computes</span> <span class="hljs-selector-tag">UV</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">sampling</span> <span class="hljs-selector-tag">terrain</span> <span class="hljs-selector-tag">heightmap</span>... <font></font>
<font></font>
<span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">TerrainUV</span>(<span class="hljs-selector-tag">float3</span> <span class="hljs-selector-tag">worldPos</span>)<font></font>
{<font></font>
    return (worldPos.xz - TerrainPos.xz) / TerrainSize.xz;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЯреБрдХрдбрд╝реЗ рдФрд░ рд╡рд░реНрдЯреЗрдХреНрд╕ рд╢реЗрдбреНрд╕ рдореЗрдВ рд╕рдорд╛рди рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдЯреЗрдХреНрд╕ 2 рдбреНрд▓реЛрдб рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирдореВрдирд╛рдХрд░рдг рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдКрдВрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдореЗрдВ рдПрдордЖрдИрдкреА рдХрд╛ рд╕реНрддрд░ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдЯреЗрдХреНрд╕ 2 рдбреА рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде рдирдореВрдирд╛ рдХрд░рдирд╛, рдЬреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдореАрд▓ рд╕реНрддрд░ рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИ, рдореВрд▓ рд░реВрдк рд╕реЗ рдЕрд░реНрдерд╣реАрди рд╣реИред</font></font><br>
<br>
<pre><code class="css hljs">// <span class="hljs-selector-tag">Returns</span> <span class="hljs-selector-tag">the</span> <span class="hljs-selector-tag">height</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">terrain</span> <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">given</span> <span class="hljs-selector-tag">position</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">world</span> <span class="hljs-selector-tag">space</span>... <font></font>
<font></font>
<span class="hljs-selector-tag">float</span> <span class="hljs-selector-tag">TerrainHeight</span>(<span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">terrainUV</span>)<font></font>
{<font></font>
    float heightmapSample = tex2Dlod(TerrainHeightmap, float4(terrainUV,0,0));<font></font>
    return TerrainPos.y + UnpackHeightmap(heightmapSample) * HeightmapScale.y * 2;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдк рдПрдХ рдЧрд╣рд░рд╛рдИ рдмрдлрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪреМрд░рд╛рд╣реЛрдВ рдХреЗ рдЙрдиреНрдореВрд▓рди рдХреЛ рдкреБрди: рдкреЗрд╢ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдпрд╣ рдЗрд╕ рдкрджреНрдзрддрд┐ рд╕реЗ рдЬреБрдбрд╝реА рдЕрдиреНрдп рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдКрдВрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреА рд╕рдВрдЪрд╛рд▓рди рдХреНрд╖рдорддрд╛ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдмрдирд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рджреЗрдЦреЗрдВ</font></font></b><div class="spoiler_text"><pre><code class="css hljs">// <span class="hljs-selector-tag">Blending</span> <span class="hljs-selector-tag">with</span> <span class="hljs-selector-tag">terrain</span> <span class="hljs-selector-tag">heightmap</span><font></font>
<font></font>
<span class="hljs-selector-id">#include</span> "<span class="hljs-selector-tag">UnityCG</span><span class="hljs-selector-class">.cginc</span>"<font></font>
<font></font>
<span class="hljs-selector-tag">float</span> <span class="hljs-selector-tag">BlendStart</span>;
<span class="hljs-selector-tag">float</span> <span class="hljs-selector-tag">BlendEnd</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">sampler2D_float</span> <span class="hljs-selector-tag">TerrainHeightmap</span>; 
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">HeightmapScale</span>;
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">TerrainSize</span>;
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">TerrainPos</span>;        <font></font>
<font></font>
<span class="hljs-selector-tag">struct</span> <span class="hljs-selector-tag">v2f</span><font></font>
{<font></font>
   // ...<font></font>
<font></font>
   float3 <span class="hljs-attribute">worldPos </span>: TEXCOORD0;<font></font>
   float2 <span class="hljs-attribute">heightMapUV </span>: TEXCOORD1;<font></font>
<font></font>
   // ...<font></font>
};<font></font>
<font></font>
<font></font>
<span class="hljs-selector-tag">v2f</span> <span class="hljs-selector-tag">vert</span>(<span class="hljs-selector-tag">appdata</span> <span class="hljs-selector-tag">v</span>)<font></font>
{<font></font>
    v2f o;<font></font>
    UNITY_INITIALIZE_OUTPUT(v2f,o);<font></font>
   <font></font>
    // ...<font></font>
    <font></font>
    o.worldPos = mul(unity_ObjectToWorld, v.vertex).xyz;<font></font>
    o.heightMapUV = TerrainUV(o.worldPos);<font></font>
<font></font>
    // ...<font></font>
<font></font>
    return o;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">fixed4</span> <span class="hljs-selector-tag">frag</span>(<span class="hljs-selector-tag">v2f</span> <span class="hljs-selector-tag">i</span>) : <span class="hljs-selector-tag">COLOR</span><font></font>
{<font></font>
    fixed4 result = 0;<font></font>
<font></font>
    // ... <font></font>
<font></font>
    half height = TerrainHeight(i.heightMapUV);<font></font>
    half deltaHeight = i.worldPos.y - height;<font></font>
    result.a = smoothstep( BlendStart, BlendEnd, deltaHeight );<font></font>
<font></font>
    // ... <font></font>
       <font></font>
    return result; <font></font>
}</code></pre><br>
</div></div><br>
<br>
<img src="https://habrastorage.org/webt/zl/fl/nz/zlflnzwmh3tl6z_dhlvxowot4he.png"><br>
<img src="https://habrastorage.org/webt/-k/qc/f8/-kqcf8fgcmkjj7kt3gxmfpz31zu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧрд╣рд░рд╛рдИ рд╕рдореНрдорд┐рд╢реНрд░рдг рдФрд░ рдЙрддреНрдерд╛рди рд╕рдореНрдорд┐рд╢реНрд░рдгред </font><font style="vertical-align: inherit;">рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреНрд╖реЗрддреНрд░ рдХреА рдЪреМрдбрд╝рд╛рдИ рдПрдХ рд╣реА shader рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рднрд┐рдиреНрди рд╣реЛрддреА рд╣реИред</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЪрд┐рддреНрд░рдг рджреЛрдиреЛрдВ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╕рдореНрдорд┐рд╢реНрд░рдг рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреНрд╖реЗрддреНрд░ рдХреА рдЪреМрдбрд╝рд╛рдИ рдиреЗрддреНрд░рд╣реАрди рд░реВрдк рд╕реЗ рднрд┐рдиреНрди рд╣реЛрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдКрдВрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХреЗ рд╕рд╛рде рд╕рдореНрдорд┐рд╢реНрд░рдг рдкрд░реНрдпрд╡реЗрдХреНрд╖рдХ рдХреЗ рдЯрдХрдЯрдХреА рдФрд░ рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдХреЗ рдмреАрдЪ рдХреЗ рдХреЛрдг рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдКрдВрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХреЗ рд╕рд╛рде рд╕рдореНрдорд┐рд╢реНрд░рдг рдЧрд╣рд░рд╛рдИ рдореЗрдВ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрдо рд╕реЗ рдХрдо рдПрдХ рд╕рдореНрдорд╛рди рдореЗрдВ рдмреЗрд╣рддрд░ рд╣реИ: рдпрд╣ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреА рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╕рд╣реА рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдХреИрдорд░реЗ рдХреЗ рдкрд░рд┐рджреГрд╢реНрдп рдХреЛ рджреЗрдЦрдиреЗ рд╡рд╛рд▓реЗ рдХреЛрдг рдкрд░ рдирдЧреНрди рдЖрдВрдЦреЛрдВ рдХреЛ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рд▓рдВрдмрди рдкреНрд░рднрд╛рд╡ рдЕрднреА рднреА рджреЗрдЦрд╛ рдЬрд╛рдПрдЧрд╛ред</font></font><br>
<br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднреВрдирд┐рд░реНрдорд╛рдг рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рд╕рдореНрдорд┐рд╢реНрд░рдг</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓рдВрдмрди рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдПрдХ рдЯреБрдХрдбрд╝реЗ рдХреЛ рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдПрдХ рдЯреБрдХрдбрд╝реЗ рдХреЗ рд╕рд╛рде рдорд┐рд╢реНрд░рдг рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ рдЗрд╕рдХреЗ рдиреАрдЪреЗ рд▓рдВрдмрд╡рдд рд╣реИ (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдорд┐рд╢реНрд░рдг рдХреЗ рд▓рд┐рдП рд░рдВрдЧ рдЪрдпрди рдХреИрдорд░реЗ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рдЕрднрд┐рд╡рд┐рдиреНрдпрд╛рд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ)ред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h8/en/8t/h8en8tgwnrmjvhnunm0wkgcr3cu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдВрдмрди рдХреЛ рдХреИрд╕реЗ рдареАрдХ рдХрд░реЗрдВ: рд╕рдореНрдорд┐рд╢реНрд░рдг</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдХреЗ </font><i><font style="vertical-align: inherit;">рд▓рд┐рдП рдПрдХ рдкрд░рд┐рджреГрд╢реНрдп рдЯреБрдХрдбрд╝рд╛ рдЪреБрдирдирд╛</font></i><font style="vertical-align: inherit;"> , рд╣рдо рдпрд╣рд╛рдВ рдПрдХ рдЖрднрд╛рд╕реА рдкрд░рд┐рджреГрд╢реНрдп рдЯреБрдХрдбрд╝реЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВред рдХреИрдорд░реЗ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдПрдХ рд╕реНрдерд┐рддрд┐ рд╕рдВрднрд╡ рд╣реИ рдЬрдм рдкрд░рд┐рджреГрд╢реНрдп рдХрд╛ рдПрдХ рдЯреБрдХрдбрд╝рд╛, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдПрдХ 3 рдбреА рдореЙрдбрд▓ рдХрд╛ рдЯреБрдХрдбрд╝рд╛ рдорд┐рд╢реНрд░рдг рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдХреИрдорд░реЗ рдХреЗ рджреГрд╢реНрдп рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рднреА рдирд╣реАрдВ рдЖрдПрдЧрд╛ред рдПрдХ рд╕рдорд╛рди рд╕рдорд╕реНрдпрд╛ рд╕реНрдХреНрд░реАрди рд╕реНрдкреЗрд╕ (рдПрд╕рдПрд╕рдПрд▓рдЖрд░) рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рддрд┐рдмрд┐рдВрдмреЛрдВ рдХреЗ рдкреНрд░рддрд┐рдкрд╛рджрди рдореЗрдВ рдореМрдЬреВрдж рд╣реИред рдпрд╣ рдЗрд╕ рддрдереНрдп рдореЗрдВ рд╕рдорд╛рд╣рд┐рдд рд╣реИ рдХрд┐ рдПрдХ рдЯреБрдХрдбрд╝реЗ рдХреЗ рдкреНрд░рддрд┐рдмрд┐рдВрдм рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИ рдЬреЛ рд╕реНрдХреНрд░реАрди рдкрд░ рдирд╣реАрдВ рд╣реИ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[13]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрднрд╛рд╕реА рдЯреБрдХрдбрд╝реЗ рдХрд╛ рд░рдВрдЧ рдПрдХрддрд╛ рдПрдкреАрдЖрдИ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рд╕рд╣рд╛рдпрдХ рдмрдирд╛рд╡рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдЪреНрдЪ рд╕рдЯреАрдХрддрд╛ рдХреЗ рд╕рд╛рде рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: рд╕рд╛рдорд╛рдиреНрдп рдорд╛рдирдЪрд┐рддреНрд░ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[14]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдкреНрд░рдХрд╛рд╢ рдирдХреНрд╢рд╛ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[15]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рд╕рдореНрдорд┐рд╢реНрд░рдг рдкрд░рддреЛрдВ рдХреЗ рд▓рд┐рдП рднрд╛рд░рд┐рдд рдмрдирд╛рд╡рдЯ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[16]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдФрд░ рдмрдирд╛рд╡рдЯ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдкрд░рддреЛрдВ рдХреА рд╕рдВрд░рдЪрдирд╛ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[рез 17]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ff/hu/zr/ffhuzriatn-pfjxf-nendtckscm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реИрдВрдбрд╕реНрдХреЗрдк рдХреЗ рдПрдХ рдЯреБрдХрдбрд╝реЗ рдХрд╛ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рд╕рднреА </font><i><font style="vertical-align: inherit;">рд▓реИрдВрдбрд╕реНрдХреЗрдк рдЬреЛ рд▓реИрдВрдбрд╕реНрдХреЗрдк</font></i><font style="vertical-align: inherit;"> рдмрдирд╛рддреЗ рд╣реИрдВ, рдХреЛ рдКрдВрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХреЗ рд╕рдорд╛рди рдпреВрд╡реА рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдирдореВрдирд╛ рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдкрд░рддреЛрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдирдореВрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкрд░рдд </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[18] [19] рдХреЗ</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓рд┐рдП рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЯрд╛рдЗрд▓рд┐рдВрдЧ рдорд╛рдкрджрдВрдбреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рджреЗрдЦреЗрдВ</font></font></b><div class="spoiler_text"><pre><code class="css hljs">// <span class="hljs-selector-tag">Blending</span> <span class="hljs-selector-tag">with</span> <span class="hljs-selector-tag">reconstructed</span> <span class="hljs-selector-tag">terrain</span> <span class="hljs-selector-tag">fragments</span><font></font>
<font></font>
<span class="hljs-selector-id">#include</span> "<span class="hljs-selector-tag">UnityCG</span><span class="hljs-selector-class">.cginc</span>"<font></font>
<font></font>
<span class="hljs-selector-tag">float</span> <span class="hljs-selector-tag">BlendStart</span>;
<span class="hljs-selector-tag">float</span> <span class="hljs-selector-tag">BlendEnd</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">sampler2D_float</span> <span class="hljs-selector-tag">TerrainHeightmapTexture</span>;
<span class="hljs-selector-tag">sampler2D_float</span> <span class="hljs-selector-tag">TerrainNormalTexture</span>;
<span class="hljs-selector-tag">sampler2D</span> <span class="hljs-selector-tag">TerrainAlphaMap</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">HeightmapScale</span>;
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">TerrainSize</span>;
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">TerrainPos</span>;
<span class="hljs-selector-tag">Float4</span> <span class="hljs-selector-tag">TerrainLightmap_ST</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">UNITY_DECLARE_TEX2D</span>(<span class="hljs-selector-tag">TerrainSplatMap0</span>);
<span class="hljs-selector-tag">UNITY_DECLARE_TEX2D_NOSAMPLER</span>(<span class="hljs-selector-tag">TerrainNormalMap0</span>);
<span class="hljs-selector-tag">half4</span> <span class="hljs-selector-tag">TerrainSplatMap0_ST</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">UNITY_DECLARE_TEX2D</span>(<span class="hljs-selector-tag">TerrainSplatMap1</span>);
<span class="hljs-selector-tag">UNITY_DECLARE_TEX2D_NOSAMPLER</span>(<span class="hljs-selector-tag">TerrainNormalMap1</span>);
<span class="hljs-selector-tag">half4</span> <span class="hljs-selector-tag">TerrainSplatMap1_ST</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">UNITY_DECLARE_TEX2D</span>(<span class="hljs-selector-tag">TerrainSplatMap2</span>);
<span class="hljs-selector-tag">UNITY_DECLARE_TEX2D_NOSAMPLER</span>(<span class="hljs-selector-tag">TerrainNormalMap2</span>);
<span class="hljs-selector-tag">half4</span> <span class="hljs-selector-tag">TerrainSplatMap2_ST</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">UNITY_DECLARE_TEX2D</span>(<span class="hljs-selector-tag">TerrainSplatMap3</span>);
<span class="hljs-selector-tag">UNITY_DECLARE_TEX2D_NOSAMPLER</span>(<span class="hljs-selector-tag">TerrainNormalMap3</span>);
<span class="hljs-selector-tag">half4</span> <span class="hljs-selector-tag">TerrainSplatMap3_ST</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">struct</span> <span class="hljs-selector-tag">v2f</span><font></font>
{<font></font>
   // ...<font></font>
<font></font>
   float3 <span class="hljs-attribute">worldPos </span>: TEXCOORD0;<font></font>
   float2 <span class="hljs-attribute">heightMapUV </span>: TEXCOORD1;<font></font>
#if defined(LIGHTMAP_ON)<font></font>
   float2 <span class="hljs-attribute">modelLightMapUV </span>: TEXCOORD2;<font></font>
   float2 <span class="hljs-attribute">terrainLightMapUV </span>: TEXCOORD3;<font></font>
#endif<font></font>
<font></font>
   // ...<font></font>
};<font></font>
<font></font>
<font></font>
<span class="hljs-selector-tag">v2f</span> <span class="hljs-selector-tag">vert</span>(<span class="hljs-selector-tag">appdata</span> <span class="hljs-selector-tag">v</span>)<font></font>
{<font></font>
    v2f o;<font></font>
    UNITY_INITIALIZE_OUTPUT(v2f,o);<font></font>
   <font></font>
    // ...<font></font>
    <font></font>
    o.worldPos = mul(unity_ObjectToWorld, v.vertex).xyz;<font></font>
    o.heightMapUV = TerrainUV(o.worldPos);<font></font>
<font></font>
#if defined(LIGHTMAP_ON)<font></font>
    o.modelLightMapUV = v.texcoord1.xy * unity_LightmapST.xy + unity_LightmapST.zw;<font></font>
    o.terrainLightMapUV = o.heightMapUV * TerrainLightmap_ST.xy + TerrainLightmap_ST.zw;<font></font>
#endif<font></font>
<font></font>
    // ...<font></font>
<font></font>
    return o;<font></font>
}<font></font>
<span class="hljs-selector-tag">half3</span> <span class="hljs-selector-tag">TerrainNormal</span>(<span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">terrainUV</span>)<font></font>
{<font></font>
    return tex2Dlod( TerrainNormalTexture, float4(terrainUV,0,0) ).xyz * 2.0 - 1.0;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">half4</span> <span class="hljs-selector-tag">TerrainSplatMap</span>(<span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv0</span>, <span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv1</span>, <span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv2</span>, <span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv3</span>, <span class="hljs-selector-tag">half4</span> <span class="hljs-selector-tag">control</span>)<font></font>
{<font></font>
    half4 splat0 = UNITY_SAMPLE_TEX2D_SAMPLER(TerrainSplatMap0, TerrainSplatMap0, uv0);<font></font>
    half4 splat1 = UNITY_SAMPLE_TEX2D_SAMPLER(TerrainSplatMap1, TerrainSplatMap1, uv1);<font></font>
    half4 splat2 = UNITY_SAMPLE_TEX2D_SAMPLER(TerrainSplatMap2, TerrainSplatMap2, uv2);<font></font>
    half4 splat3 = UNITY_SAMPLE_TEX2D_SAMPLER(TerrainSplatMap3, TerrainSplatMap3, uv3);         <font></font>
    half4 result = splat0 * control.r + <font></font>
                   splat1 * control.g + <font></font>
                   splat2 * control.b + <font></font>
                   splat3 * control.a;<font></font>
    return result;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">half3</span> <span class="hljs-selector-tag">TerrainNormalMap</span>(<span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv0</span>, <span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv1</span>, <span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv2</span>, <span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv3</span>, <span class="hljs-selector-tag">half4</span> <span class="hljs-selector-tag">control</span>)<font></font>
{<font></font>
    half4 n0 = UNITY_SAMPLE_TEX2D_SAMPLER(TerrainNormalMap0, TerrainSplatMap0, uv0);<font></font>
    half4 n1 = UNITY_SAMPLE_TEX2D_SAMPLER(TerrainNormalMap1, TerrainSplatMap1, uv1);<font></font>
    half4 n2 = UNITY_SAMPLE_TEX2D_SAMPLER(TerrainNormalMap2, TerrainSplatMap2, uv2);<font></font>
    half4 n3 = UNITY_SAMPLE_TEX2D_SAMPLER(TerrainNormalMap3, TerrainSplatMap3, uv3);<font></font>
    half3 result = UnpackNormalWithScale(n0, 1.0) * control.r +<font></font>
                   UnpackNormalWithScale(n1, 1.0) * control.g +<font></font>
                   UnpackNormalWithScale(n2, 1.0) * control.b +<font></font>
                   UnpackNormalWithScale(n3, 1.0) * control.a;<font></font>
    result.z += 1e-5;<font></font>
    return result;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">half3</span> <span class="hljs-selector-tag">TerrainLightmap</span>(<span class="hljs-selector-tag">float2</span> <span class="hljs-selector-tag">uv</span>, <span class="hljs-selector-tag">half3</span> <span class="hljs-selector-tag">normal</span>)<font></font>
{<font></font>
#if defined(LIGHTMAP_ON)<font></font>
#if defined(DIRLIGHTMAP_COMBINED)<font></font>
    half4 lm = UNITY_SAMPLE_TEX2D(unity_Lightmap, uv);<font></font>
    half4 lmd = UNITY_SAMPLE_TEX2D_SAMPLER(unity_LightmapInd, unity_Lightmap, uv);<font></font>
    half3 result = DecodeLightmapRGBM(lm, unity_Lightmap_HDR);<font></font>
    result = DecodeDirectionalLightmap(result, lmd, normal);<font></font>
#else<font></font>
    half4 lm = UNITY_SAMPLE_TEX2D(unity_Lightmap, uv);<font></font>
    half3 result = DecodeLightmapRGBM(lm, unity_Lightmap_HDR);<font></font>
#endif                <font></font>
#else<font></font>
    half3 result = UNITY_LIGHTMODEL_AMBIENT.rgb;<font></font>
#endif<font></font>
    return result;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">fixed4</span> <span class="hljs-selector-tag">frag</span>(<span class="hljs-selector-tag">v2f</span> <span class="hljs-selector-tag">i</span>) : <span class="hljs-selector-tag">COLOR</span><font></font>
{<font></font>
    fixed4 result = 0;<font></font>
<font></font>
    // ...<font></font>
<font></font>
    // compute model color and put it to the result<font></font>
<font></font>
    // ... <font></font>
<font></font>
    // reconstruction of terrain fragment<font></font>
<font></font>
    float2 splatUV0 = TRANSFORM_TEX(i.heightMapUV, TerrainSplatMap0);<font></font>
    float2 splatUV1 = TRANSFORM_TEX(i.heightMapUV, TerrainSplatMap1);<font></font>
    float2 splatUV2 = TRANSFORM_TEX(i.heightMapUV, TerrainSplatMap2);<font></font>
    float2 splatUV3 = TRANSFORM_TEX(i.heightMapUV, TerrainSplatMap3);<font></font>
<font></font>
    half4 control = tex2D(_TerrainAlphaMap, i.heightMapUV);<font></font>
    half4 terrainColor = TerrainSplatMap(splatUV0, splatUV1, splatUV2, splatUV3, control);<font></font>
<font></font>
    half3 terrainSurfaceNormal = TerrainNormal(i.heightMapUV);<font></font>
    half3 terrainSurfaceTangent = cross(terrainSurfaceNormal, float3(0,0,1));<font></font>
    half3 terrainSurfaceBitangent = cross(terrainSurfaceTangent, terrainSurfaceNormal);<font></font>
<font></font>
    half3 terrainNormal = TerrainNormalMap(splatUV0, splatUV1, splatUV2, splatUV3, control);<font></font>
    terrainNormal = terrainNormal.x * terrainSurfaceTangent + <font></font>
                    terrainNormal.y * terrainSurfaceBitangent + <font></font>
                    terrainNormal.z * terrainSurfaceNormal;<font></font>
    <font></font>
    half3 terrainLightmapColor = TerrainLightmap(i.heightMapUV, terrainNormal);<font></font>
    terrainColor *= terrainLightmapColor;<font></font>
<font></font>
    // blend model color &amp; terrain color<font></font>
<font></font>
    half height = TerrainHeight(i.heightMapUV);<font></font>
    half deltaHeight = i.worldPos.y - height;<font></font>
    half blendingWeight = smoothstep(BlendStart, BlendEnd, deltaHeight);<font></font>
<font></font>
    result.rgb = lerp(result.rgb, terrainColor, blendingFactor);<font></font>
       <font></font>
    return result; <font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ, рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдЯреБрдХрдбрд╝реЛрдВ рдХреЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреЗ рд╕рд╛рде рд╕рдореНрдорд┐рд╢реНрд░рдг рдЧрд╣рд░рд╛рдИ рд╕реЗ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреЗ рд▓рд┐рдП рд╕рднреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рдареАрдХ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд▓рдВрдмрди рд╕рд╣рд┐рдд рдКрдВрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХреЗ рд╕рд╛рде рд╕рдореНрдорд┐рд╢реНрд░рдг рдХрд░рддрд╛ рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mf/pb/0s/mfpb0sfkav-hj-i5xhpll305drc.png"><br>
<img src="https://habrastorage.org/webt/ba/-z/x6/ba-zx6icghn-mnbreobdnekbjay.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднреВрдирд┐рд░реНрдорд╛рдг рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рд╕рдореНрдорд┐рд╢реНрд░рдг</font></font></i><br>
<br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореИрджрд╛рдиреА рдЯреБрдХрдбрд╝реЗ рдХрд╛ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдкреНрд░рджрд░реНрд╢рди</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рдпрд╣ рдкреВрдЫрдиреЗ рдХрд╛ рд╕рдордп рд╣реИ рдХрд┐ рдЗрд╕ рддрд░рд╣ рдХрд╛ рд╕рдордЭреМрддрд╛ рдХреНрдпрд╛ рд╣реИ? рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ, рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдЯреБрдХрдбрд╝реЗ рдХреЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреА рд╕рдВрд╕рд╛рдзрди рддреАрд╡реНрд░рддрд╛ рдЕрд▓реНрдлрд╛ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреА рд╕рдВрд╕рд╛рдзрди рддреАрд╡реНрд░рддрд╛ рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рд╕реНрдореГрддрд┐ рд╕реЗ рдПрдХ рджрд░реНрдЬрди рдЕрддрд┐рд░рд┐рдХреНрдд рд░реАрдб рдСрдкрд░реЗрд╢рди рдХреЗ рд╕рд╛рде рдкреНрд░рджрд░реНрд╢рди рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдЕрд▓реНрдлрд╛ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдореЗрдореЛрд░реА рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рд░реАрдб рдСрдкрд░реЗрд╢рди рдФрд░ рдореЗрдореЛрд░реА рд╕реЗ рдПрдХ рдСрдкрд░реЗрд╢рди рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛ рдореЗрдВ, рд╕рдм рдХреБрдЫ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреА рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░реЗрдЧрд╛ред рдлреНрд░реЗрдЧрдореЗрдВрдЯ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдмрдирд╛рд╡рдЯ рд╕рдВрдкреАрдбрд╝рди, рдПрдордЖрдИрдкреА рдореИрдкрд┐рдВрдЧ, рдЬреАрдкреАрдпреВ рдХреЛрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╢рдХреНрддрд┐ рдФрд░ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЧрд╣рд░рд╛рдИ рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдЕрдиреБрдХреВрд▓рди (рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЧрд╣рд░рд╛рдИ рдЕрд╕реНрд╡реАрдХреГрддрд┐) рджреНрд╡рд╛рд░рд╛ рдЗрд╖реНрдЯ рд╣реИред рдФрд░ рдЕрд▓реНрдлрд╛-рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреЗ рдЦрд┐рд▓рд╛рдл рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рддрдереНрдп рдЦреЗрд▓реЗрдВрдЧреЗ рдХрд┐ рдпрд╣ рдХрд┐рд╕реА рднреА рдЬреАрдкреАрдпреВ рдХрд╛ рд╕рдмрд╕реЗ рдХрдо рдкреНрд░рдЧрддрд┐рд╢реАрд▓ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдиреБрдХреВрд▓рди рдХреЗ рд▓рд┐рдП рд╣рдореЗрд╢рд╛ рдЬрдЧрд╣ рд╣реИред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рд░рдВрдЧ рдХреЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗрд╡рд▓ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдЯреБрдХрдбрд╝реЛрдВ рдХреА рдПрдХ рд╕рдВрдХреАрд░реНрдг рдкрдЯреНрдЯреА рдХреЗ рд▓рд┐рдП рд╣реИ, рдЬреЛ рдкрд░рд┐рджреГрд╢реНрдп рдХреА рд╕рддрд╣ рд╕реЗ рдКрдкрд░ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдКрдВрдЪрд╛рдИ рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╢реЗрдбреНрд╕ рдореЗрдВ рдбрд╛рдпрдиреЗрдорд┐рдХ рдмреНрд░рд╛рдВрдЪрд┐рдВрдЧ рдЦрд░рд╛рдм рдкреНрд░рджрд░реНрд╢рди рдХрд╛ рдЕрдиреБрдорд╛рди рджреЗ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рджреЛ рдмрд┐рдВрджреБ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рд╢рд░реНрдд рджреНрд╡рд╛рд░рд╛ рд╢рд╛рдЦрд╛ рдореЗрдВ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдЧрдгрдирд╛ рдЫреЛрдбрд╝ рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП рдпрджрд┐ рдпрд╣ рд╕реНрдерд┐рддрд┐ рдорд╛рдорд▓реЛрдВ рдХреЗ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рд╕рдВрддреБрд╖реНрдЯ рдирд╣реАрдВ рд╣реИред</font></font></li>
<li>       .   ,             ( ,  ),      GPU.    тАХ   (branch granularity),  , , ,          ,      .         ,    ,       .  ,   GPU  ,     ,       . ,      GPU,   ,  1 (PowerVR SGX).</li>
</ol><br>
<img src="https://habrastorage.org/webt/i7/8y/x9/i78yx9mn7egjmojcmxl67crz1kc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реБрд╕рдВрдЧрддрддрд╛ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдЕрдВрд╢реЛрдВ рдХрд╛ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, рдЯреБрдХрдбрд╝реЛрдВ рдХреЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрди рджреЛрдиреЛрдВ рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ: рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд╢рд╛рдЦрд╛рдУрдВ рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рд░рдВрдЧ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╕рдВрдЧрдард┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрд╕рд╛рдзрди-рдЧрд╣рди рд╕рдВрдЪрд╛рд▓рди рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдХрдЯреМрддреА рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧреА, рдФрд░ рдпрд╣ рд╕реНрдерд┐рддрд┐ рд╕реБрд╕рдВрдЧрдд рд╣реИ, рдмрд╣реБрдд рдХрдо рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЯреБрдХрдбрд╝реЗ рдХреЗ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рд╛рде (рдЪрд┐рддреНрд░рдг рдореЗрдВ, рдпреЗ рдЯреБрдХрдбрд╝реЗ рд╣реИрдВ) "рд▓рд╛рд▓" рдФрд░ "рд╣рд░реЗ" рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рдмреАрдЪ рдХреА рд╕реАрдорд╛ рдкрд░)ред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/k3/do/ic/k3doicnobaqmuv82xbdfvq_kgas.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд░рд┐рджреГрд╢реНрдп рдЕрдВрд╢реЛрдВ рдХреЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХреА рд╕рд╛рдордВрдЬрд╕реНрдп рдпрд╣</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдЗрд╕ рд╕рдореНрдорд┐рд╢реНрд░рдг рд╡рд┐рдзрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдЯрд┐рдкреНрдкрдгреА рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИ:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХрддрд╛ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдмрдирд╛рд╡рдЯ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ рдпрджрд┐ рдкрд░рд┐рджреГрд╢реНрдп рдореЗрдВ рдбреНрд░реЙ рдЗрдВрд╕реНрдЯреЗрдВрдбреЗрдб рдореЛрдб рд╕рдХреНрд╖рдо рд╣реИ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[20]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЕрдиреНрдпрдерд╛ рд╕рд╛рдорд╛рдиреНрдп рдирдХреНрд╢рд╛ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдЬреЛ рдмрджрд▓реЗ рдореЗрдВ, рдЖрдкрдХреЛ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреЗ рд▓рд┐рдП рд▓реИрдВрдбрд╕реНрдХреЗрдк рдкреНрд░рдХрд╛рд╢ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрдЧрд╛ред</font></font></li>
<li> Unity API    ,      (base map)         . -          .</li>
<li>         ,   API          (, Metal   16  ). </li>
<li>    3D-  ,     Terrain,     SRP.</li>
<li> 3D-      ,       3D-    . </li>
<li>,   ┬л┬╗ ,     ┬л┬╗  .    ,  ┬л┬╗      ,             .  ┬л┬╗          .</li>
</ol><br>
<img src="https://habrastorage.org/webt/9z/yi/y-/9zyiy-6z47y7pxyonhwrl31zyoc.png"><br>
<i>    </i><br>
<br>
<br>
<h2>   </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3 рдбреА рдореЙрдбрд▓ рдбрд┐рдЬрд╛рдЗрди рдХрд░рддреЗ рд╕рдордп, рдЗрд▓рд╛рдХреЗ рдХреА рд░рд╛рд╣рдд рдХреА рд╡рд┐рд╡рд┐рдзрддрд╛ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЗрди рдореЙрдбрд▓реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЕрдХреНрд╕рд░, 3D рдореЙрдбрд▓ рдХреЛ рдкрд░рд┐рджреГрд╢реНрдп рдореЗрдВ рдЧрд╣рд░рд╛рдИ рд╕реЗ "рдбреВрдмрдирд╛" рдкрдбрд╝рддрд╛ рд╣реИ рдпрд╛ рдлреИрд▓рд╛ рд╣реБрдЖ рднрд╛рдЧреЛрдВ рдХреЛ рдЫрд┐рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдШреБрдорд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╛ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд - рдЫрд┐рдкреЗ рд╣реБрдП рдХреЛ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рджрд┐рдЦрд╛рдИ рджреЗрдиреА рдЪрд╛рд╣рд┐рдПред "рд╡рд╛рд░реНрдорд┐рдВрдЧ" рдореЙрдбрд▓ рдЙрдирдХреА рдкреНрд░рдпреЛрдЬреНрдпрддрд╛ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЕрдЧрд░ 3 рдбреА рдореЙрдбрд▓ рдкрд░рд┐рджреГрд╢реНрдп рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдкрд╣рд▓реЗ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рднрд╛рд╡ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИред рдмрджрд▓реЗ рдореЗрдВ, рдмрд╛рд░реА рд╕рднреА 3D рдореЙрдбрд▓ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдШрд░реЛрдВ рдФрд░ рдкреЗрдбрд╝реЛрдВ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ) рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ue/tg/8y/uetg8yx5ctdsn80stvnnezplgh4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 рдбреА рдореЙрдбрд▓ рдХреЗ рдлреИрд▓рд╛рдиреЗ рд╡рд╛рд▓реЗ рддрддреНрд╡реЛрдВ рдХреЛ рдЫрд┐рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рдкрд░рд┐рджреГрд╢реНрдп рдореЗрдВ "рдбреВрдм рдЬрд╛рдирд╛" рдЪрд╛рд╣рд┐рдП</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реНрдирдкрд┐рдВрдЧ рдЧреНрд░рд╛рдлрд┐рдХ рд╕рдВрдкрд╛рджрдХреЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЬрд╛рдирд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рд╢рдмреНрдж рд╣реИред рдпрд╣ рдПрдХ рдРрд╕рд╛ рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬреЛ рд╕реНрдерд╛рдирд┐рдХ рдЧреНрд░рд┐рдб рдХреЗ рдиреЛрдбреНрд╕ рдкрд░ рдирд┐рдпрдВрддреНрд░рдг рдмрд┐рдВрджреБрдУрдВ рдХреЛ "рдЫрдбрд╝реА" рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдФрд░ рдЕрдиреНрдп рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдЪреЗрд╣рд░реЗ рдФрд░ рд╕рддрд╣реЛрдВ рдкрд░ 3 рдбреА рд╕рдВрдкрд╛рджрдХреЛрдВ рдореЗрдВред рд╢реАрд░реНрд╖ рдЫрд╛рдпрд╛ рдореЗрдВ рдкрд░рд┐рджреГрд╢реНрдп рдХреА рдКрдВрдЪрд╛рдЗрдпреЛрдВ рдХреЗ рдирдХреНрд╢реЗ рдкрд░ рддрдбрд╝рдХрдирд╛ рджреГрд╢реНрдпреЛрдВ рдХреЗ рдбрд┐рдЬрд╛рдЗрди рдХреЛ рдмрд╣реБрдд рд╕рд░рд▓ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4w/1t/xw/4w1txwi3vaczzpne7ewajozlymo.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрдбрд╝рдХ рдХреЗ рдмрд┐рдирд╛ 3 рдбреА рдореЙрдбрд▓ред рд╢реАрд░реНрд╖ рд╕реНрдиреЗрдкрд┐рдВрдЧ рдХреЗ рд╕рд╛рде 3 рдбреА рдореЙрдбрд▓ред рд╢реАрд░реНрд╖ рд╕реНрдиреЗрдкрд┐рдВрдЧ рдФрд░ рд╕рдореНрдорд┐рд╢реНрд░рдг рдХреЗ рд╕рд╛рде 3 рдбреА рдореЙрдбрд▓ред рд╢реАрд░реНрд╖ рд╕реНрдиреЗрдкрд┐рдВрдЧ, рд╕рдореНрдорд┐рд╢реНрд░рдг рдФрд░ рд╕реНрдереИрддрд┐рдХ рдкреНрд░рдХрд╛рд╢ рд╡реНрдпрд╡рд╕реНрдерд╛ рдХреЗ рд╕рд╛рде 3 рдбреА рдореЙрдбрд▓</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддрдбрд╝рдХ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдореЗрдВ рдореБрдЦреНрдп рдХрдард┐рдирд╛рдИ рдпрд╣ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдХреМрди рд╕реЗ рдХреЛрдиреЗ рдЖрдкрдХреЛ рдКрдВрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдкрд░ рд╕реНрдиреИрдк рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдЬреЛ рдЗрд╕рдХреЗ рд▓рд╛рдпрдХ рдирд╣реАрдВ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╡рд░реНрдЯреЗрдХреНрд╕ рдореЗрдВ рдХреЗрд╡рд▓ рд╕рддрд╣ рдХреА рд╕реНрдерд╛рдиреАрдп рдкреНрд░рдХреГрддрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИ (рдЬреЛ рдХрд┐ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ) рдФрд░ рдЗрд╕рдХреЗ рдЯреЛрдкреЛрд▓реЙрдЬреА (рдЬреЛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ) рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреЛрдИ рдЬрд╛рдирдХрд╛рд░реА рдирд╣реАрдВ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдиреНрдп рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдорд╛рдорд▓реЛрдВ рдХреА рддрд░рд╣, рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдХрд╛рд░реНрдпрдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕реАрдзреЗ рд▓рд╛рдЧреВ рдХрд░рдХреЗ рдореЙрдбрд▓рд┐рдВрдЧ рдЪрд░рдг рдореЗрдВ рд╣рд▓ рдХрд░рдирд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ, рдЖрдкрдХреЛ рдПрдХ рд╕рд╣рдЬ рдЬреНрдЮрд╛рди рдпреБрдХреНрдд рд╡рд┐рд╢реЗрд╖рддрд╛ рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рддрдбрд╝рдХ рдХреЗ рд▓рд┐рдП рднрд╛рд░ рдХрд╛рд░рдХ (рдФрд░ рдПрдХ рдЦреБрд▓реА рд╕рддрд╣ рдХреА рд╕реАрдорд╛ рдХреЗ рд▓рд┐рдП рджреВрд░реА рдирд╣реАрдВ, рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рд▓рдЪреАрд▓реЗрдкрди рдХреЗ рд▓рд┐рдП рдЪрд╛рд╣реЗрдВрдЧреЗ)ред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7b/gq/2b/7bgq2bdhdlr13qgeqpgcocvo0q8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрдбрд╝рдХ рдХреЗ рд▓рд┐рдП рд╡реЗрдЯрд┐рдВрдЧ рдХреЛрдбрд┐рдВрдЧ</font></font></i><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рджреЗрдЦреЗрдВ</font></font></b><div class="spoiler_text"><pre><code class="css hljs">// <span class="hljs-selector-tag">Per-vertex</span> <span class="hljs-selector-tag">snapping</span> <span class="hljs-selector-tag">with</span> <span class="hljs-selector-tag">terrain</span> <span class="hljs-selector-tag">heightmap</span><font></font>
<font></font>
<span class="hljs-selector-id">#include</span> "<span class="hljs-selector-tag">UnityCG</span><span class="hljs-selector-class">.cginc</span>"<font></font>
<font></font>
<span class="hljs-selector-tag">sampler2D_float</span> <span class="hljs-selector-tag">TerrainHeightmapTexture</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">HeightmapScale</span>;
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">TerrainSize</span>;
<span class="hljs-selector-tag">float4</span> <span class="hljs-selector-tag">TerrainPos</span>;<font></font>
<font></font>
<span class="hljs-selector-tag">struct</span> <span class="hljs-selector-tag">v2f</span><font></font>
{<font></font>
<font></font>
   // ...<font></font>
<font></font>
   float3 <span class="hljs-attribute">worldPos </span>: TEXCOORD0;<font></font>
   float2 <span class="hljs-attribute">heightMapUV </span>: TEXCOORD1;<font></font>
<font></font>
   // ...<font></font>
<font></font>
};<font></font>
<font></font>
<span class="hljs-selector-tag">v2f</span> <span class="hljs-selector-tag">vert</span>(<span class="hljs-selector-tag">appdata</span> <span class="hljs-selector-tag">v</span>)<font></font>
{<font></font>
    v2f o;<font></font>
    UNITY_INITIALIZE_OUTPUT(v2f,o);<font></font>
   <font></font>
    // ...<font></font>
    <font></font>
    o.worldPos = mul(unity_ObjectToWorld, v.vertex).xyz;<font></font>
    o.heightMapUV = TerrainUV(o.worldPos);<font></font>
    float snappingWeight = v.color.r;                <font></font>
    half height = TerrainHeight( o.heightMapUV );                <font></font>
    o.worldPos.y = lerp( o.worldPos.y, height, snappingWeight );<font></font>
    o.pos = UnityWorldToClipPos( half4( o.worldPos, 1 ) );<font></font>
<font></font>
    // ...<font></font>
<font></font>
    return o;<font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЯреЗрд░реЗрдЯ рд╕реНрдиреИрдкрд┐рдВрдЧ рдХреА рдкреНрд░рдпреЛрдЬреНрдпрддрд╛ рдЗрд▓рд╛рдХреЗ рдФрд░ 3 рдбреА рдореЙрдбрд▓ рдХреА рд╕рддрд╣ рдХреЗ рдмреАрдЪ рд╕рд╛рдорд╛рдиреНрдп рдкрддреНрд░рд╛рдЪрд╛рд░ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реИред </font><font style="vertical-align: inherit;">рдЙрдирдХреЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрдВрддрд░ рдХреА рднрд░рдкрд╛рдИ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЕрдиреНрдп, рдЕрдзрд┐рдХ рд╕рдВрд╕рд╛рдзрди-рдЧрд╣рди рддрд░реАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕реНрдХрд┐рдирд┐рдВрдЧ рдХреЗ рд╕рд╛рде 3 рдбреА рдореЙрдбрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред</font></font><br>
<br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╖реНрдХрд░реНрд╖</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЦреНрдп рд╡рд┐рдЪрд╛рд░ рдЬрд┐рд╕реЗ рд▓реЗрдЦ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: рдХрд┐рд╕реА рднреА рдкрд░реНрдпрд╛рдкреНрдд рд░реВрдк рд╕реЗ рдЬрдЯрд┐рд▓ рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрдХреЗрд▓реЗрдмрд▓ рд╢реЗрдбрд░ рдХреЛ рдмреБрдирд┐рдпрд╛рджреА рдбреЗрдЯрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдФрд░ рдбреЗрд╡рд▓рдкрд░ рдХрд╛ рдХрд╛рд░реНрдп рдпрд╣ рд╕рдордЭрдирд╛ рд╣реИ рдХрд┐ рдЧреНрд░рд╛рдлрд┐рдХ рд╕рд┐рд╕реНрдЯрдо рдХреИрд╕реЗ рд╕рдВрдЪрд╛рд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: рдпрд╣ рдХрд┐рд╕ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЗрд╕реЗ рдПрдХ-рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ shaders рдореЗрдВ рдХреИрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд╛рдорд╛рдиреНрдп рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рд╣рдо рдпрд╣ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЛ рджреВрд░ рдХрд░рдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рд╡рд┐рдХрд▓реНрдк рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдЧреНрд░рд╛рдлрд┐рдХ рдкреНрд░рднрд╛рд╡реЛрдВ рдХреА рд╕рдВрднрд╛рд╡рдирд╛рдПрдВ рд╕реАрдорд┐рдд рд╣реИрдВ, рд╡рд┐рднрд┐рдиреНрди рд╢реЗрдбреНрд╕ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░рдирд╛ рд╣реИред</font></font><br>
<br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрджрд░реНрдн</font></font></h2><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд┐рдВрдХ рджреЗрдЦреЗрдВ</font></font></b><div class="spoiler_text"><sup>[1]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/Manual/SL-CameraDepthTexture.html</a><br>
<sup>[2]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/ScriptReference/Camera-depthTextureMode.html</a><br>
<sup>[3]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/ScriptReference/RenderTexture.html</a><br>
<sup>[4]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">www.khronos.org/opengl/wiki/Framebuffer_Object</a><br>
<sup>[5]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.microsoft.com/en-us/windows/win32/api/d3d11/nf-d3d11-id3d11device-createrendertargetview</a><br>
<sup>[6]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/ScriptReference/Rendering.BlendMode.html</a><br>
<sup>[7]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/ScriptReference/Rendering.BlendOp.html</a><br>
<sup>[8]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">www.khronos.org/opengl/wiki/Blending</a><br>
<sup>[9]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.microsoft.com/en-us/windows/win32/direct3d11/d3d10-graphics-programming-guide-blend-state</a><br>
<sup>[10]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">en.wikipedia.org/wiki/Parallax</a><br>
<sup>[11]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">en.wikipedia.org/wiki/Parallax_scrolling</a><br>
<sup>[12]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/2018.3/Documentation/ScriptReference/TerrainData-heightmapTexture.html</a><br>
<sup>[13]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">pdfs.semanticscholar.org/ce6c/fcafe3581a7e4d7184a9727cc504bdc6b295.pdf</a><br>
<sup>[14]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/2018.3/Documentation/ScriptReference/Terrain-normalmapTexture.html</a><br>
<sup>[15]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/2018.3/Documentation/ScriptReference/Terrain-lightmapIndex.html</a><br>
<sup>[16]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/2018.3/Documentation/ScriptReference/TerrainData-alphamapTextures.html</a><br>
<sup>[17]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/2018.3/Documentation/ScriptReference/TerrainData-terrainLayers.html</a><br>
<sup>[18]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/2018.3/Documentation/ScriptReference/TerrainLayer-tileSize.html</a><br>
<sup>[19]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/2018.3/Documentation/ScriptReference/TerrainLayer-tileOffset.html</a><br>
<sup>[20]</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">docs.unity3d.com/2018.3/Documentation/ScriptReference/Terrain-drawInstanced.html</a><br>
</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi490204/index.html">рдорд╛рд░реНрдЪ 2020 рдореЗрдВ рдПрдЪрдЖрд░ рдФрд░ рдЖрдИрдЯреА рд░рд┐рдХреНрд░реВрдЯрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЗрд╡реЗрдВрдЯреНрд╕ рдХрд╛ рдкрд╛рдЪрди</a></li>
<li><a href="../hi490208/index.html">DUMP2020 рдкрд░ рдмреИрдХреЗрдВрдб рд╕реЗрдХреНрд╢рди: рдиреЛрдЯрдмрдВрджреА, рдлреИрди, рдлреЗрд▓</a></li>
<li><a href="../hi490210/index.html">рдЧрддрд┐ рдХреЛ рдмрдврд╝рд╛рддрд╛ рд╣реИред рдЬрдм рдмрд╣реБрдд рд╕рд╛рд░реЗ рд╕рд░реНрд╡рд░ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рдЕрдЪреНрдЫреЗ рд╣реЛрддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi490222/index.html">рдбреЗ рдбреЗ рд╕реНрдЯреИрдВрдбрд░реНрдб рд▓рд╛рдЗрдмреНрд░реЗрд░реА</a></li>
<li><a href="../hi490224/index.html">рдлреИрд╢рдиреЗрдмрд▓ рдЪреБрдкрдХреЗ</a></li>
<li><a href="../hi490242/index.html">SIM800x рдореЙрдбреНрдпреВрд▓ рдХреА рдЬреАрдПрд╕рдПрдо рд╕реНрдерд╛рди рд╕реЗрд╡рд╛ рдФрд░ Yandex.Locator API рдХреЗ рд╕рд╛рде рдЗрд╕рдХрд╛ рдХрд╛рдо</a></li>
<li><a href="../hi490244/index.html">Ctypes рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдХреЛрдб рдЕрдиреБрдХреВрд▓рди</a></li>
<li><a href="../hi490246/index.html">рдХреНрд░реЗрдорд▓рд┐рди рдЯрд╛рд╡рд░реНрд╕ рд╣рд╛рдЗрдбреНрд░рд╛ рдЗрдореНрдмреНрд░реЗрд╕ рдореЗрдВ: рд╣рд╛рдЗрдбреНрд░рд╛ 2020 рд╕рдорд╛рдирд╛рдВрддрд░ рдФрд░ рд╡рд┐рддрд░рд┐рдд рдХрдореНрдкреНрдпреВрдЯрд┐рдВрдЧ рд╕рдореНрдореЗрд▓рди</a></li>
<li><a href="../hi490248/index.html">рд╡реЗрдмрд┐рдирд╛рд░ "рд╡рд┐рдиреНрдирдо рд╕реАрдПрдирд╕реА: рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдЬреЛ рдХрд╛рдо рдХрд░рддреА рд╣реИ"</a></li>
<li><a href="../hi490250/index.html">рдбрд░рд╛рд╡рдирд╛ рд╕реЗрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>