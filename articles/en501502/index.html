<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÉüèæ üö• üê¨ New Lab Digital Synthesis Continues Harris Book and Helps Make FPGA Video Game üò° üëåüèø üë©üèª‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The new Digital Synthesis lab continues the tradition of David Harris and Sarah Harris's tutorial, Digital Circuitry and Computer Architecture, which ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>New Lab Digital Synthesis Continues Harris Book and Helps Make FPGA Video Game</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501502/"><img src="https://habrastorage.org/getpro/habr/post_images/cf1/672/1c2/cf16721c2e1c5fa75bde027d05d980a4.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The new Digital Synthesis lab</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> continues the tradition of David Harris and Sarah Harris's tutorial, Digital Circuitry and Computer Architecture, which downloaded the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">British site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The lab allows you to touch the entire theory of Harris &amp; Harris on the FPGA board, from flashing lights to the processor. The concept of conveyor processing is also analyzed in the lab, without which you will not pass an interview to work as a designer in any microelectronic company. At the end, the path from FPGA to ASIC, mass circuits that are in iPhones, Tesla and AI accelerators. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The book contains an interview with a team from St. Petersburg that Intel brought to its headquarters in Silicon Valley for their victory in the Innovate FPGA contest. Book </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Digital Synthesis: A Practical Course"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cadence Design Systems, a leading company in the automation of microcircuit design, supported (in the photo above, Siberian Natasha is standing with an FPGA board in front of Cadence headquarters in Silicon Valley - her video will be in the post). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Labnik was created under the auspices of the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higher School of Economics / MIEM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Alexander Romanov, Veronika Prokhorova and Igor Agamirzyan), while different chapters were written by teachers from Moscow, Kiev and Samara Universities, St. Petersburg ITMO, Chernihiv Polytechnic, and the University of California Santa Cruz ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Charles Danchek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , evening office in Silicon Valley). The creation of the textbook was attended by engineers of the Russian company </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IVA Technologies</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Stanislav Zhelnio, hardware accelerator AI + </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">educational project schoolMIPS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) and FSUE NPTSAP </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(department of Roscosmos), American companies MIPS, Juniper Networks and AMD. </font><font style="vertical-align: inherit;">Published a textbook DMK-Press.</font></font><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I drew up a plan for the lab and attracted authors from previous educational projects, after which I transferred control to Alexander Romanov, who carried out painstaking work, managing the project for almost two years. </font><font style="vertical-align: inherit;">The creation of the textbook naturally fit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">into the activities of Alexander</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , who for 3 years raised the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">laboratory at the HSE MIEM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which deals with embedded computers, robotics and FPGAs. </font><font style="vertical-align: inherit;">The lab organized several </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">teams</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> at the Innovate FPGA, one of which </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">became a bronze medalist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the regional finals.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The textbook is not only suitable for students - it can be used for digital design summer camps for advanced students. Understanding tutorials on the Internet from scratch on how to work with the Intel Quartus II environment is not trivial. And in the textbook it is all described in steps. In addition, it has all the theoretical basis to do something interesting for schoolchildren, in addition to flashing lights that quickly bother them. Interesting is for example a video game:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a38/138/62f/a3813862ff2ed5820b3779f9adbb3c04.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The idea of ‚Äã‚Äãlearning verilo using VGA games is not new - many universities have such a lab, for example, at the 6.111 Introductory Digital Systems Laboratory at the Massachusetts Institute of Technology (MIT). Also, two years ago, the book Designing Video Game Hardware in Verilog Paperback by Steven Hugg was published, with fairly developed games with tanks, race cars, a pseudo-random starry sky generator using LFSR, a frame buffer, and even a hardware-software interface. In addition, VGA games are in demos from manufacturers of FPGAs Xilinx and Intel / Altera, more precisely from their partner companies - Digilent and Terasic. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f20/200/e2a/f20200e2a1cb7f6b6fb5e95299f5b361.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In particular, in the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lab from MIT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it is very clearly shown that all you need to do to draw on the display is to implement in the form of a diagram a function that takes the coordinates X and Y of a point on the screen as an argument and returns the color of that point (RGB). In the simplest case, this function is a combination function, for example, such a function will draw Malevich‚Äôs masterpiece: ‚Äúcolor is black (RGB = 0,0,0) if x&gt; = 200 and x &lt;= 400 and y&gt; = 200 and y &lt;400, otherwise white (RGB = 1,1,1). " We will further call such a circuit a ‚Äúmixer‚Äù, since it will ‚Äúmix‚Äù inputs from generators of different images.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To generate the mixer arguments X and Y themselves, a simple two-counter circuit is used that uses the CLK clock signal. In addition to the X and Y coordinates, this circuit also generates HSYNC and VSYNC signals for the VGA display. The HSYNC and VSYNC signals have remained since the time of the cathode ray tube. They tell the virtual beam when to move to the next point / pixel on the screen horizontally, and then to the next row vertically.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In a difficult case, the mixer uses not only the values ‚Äã‚Äãof its inputs X and Y, but also the values ‚Äã‚Äãfrom the state elements (D-flip-flops and memory), which are recorded using the CLK clock signal. In this case, the clock also enters the mixer. Circuits with clock signals and state elements are called sequential (these circuits go through a sequence of states that clearly pulsates a pulsating clock signal). On sequential mixers, you can implement moving images of any degree of complexity.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here are the pictures from the MIT shnaya lab (the same is in the heap of other universities), illustrating the function of the HSYNC / VSYNC generator, the mixer (of the same unit that calculates RGB as a function of X / HCOUNT and Y / VCOUNT), as well as the output of HSYNC, VSYNC and RGB on the screen. The picture uses a switch / multiplexer between three mixers - one draws stripes, another draws a rectangle, and the third draws an image on the screen while playing ping pong: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f66/5e8/8a9/f665e88a9f379937d6e068cbcc9645a1.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the code, the simplest mixer looks like this. He draws multi-colored squares from mixtures of red, blue and green, as well as lines of pure colors: </font></font><br>
<br>
<img width="600" src="https://habrastorage.org/getpro/habr/post_images/ff2/039/afc/ff2039afcbd4d24e7f8bec0792cc2f3b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this way, you can draw a variety of colorful static images. Here are the images that students painted at a summer school in Zelenograd immediately after a short lecture explaining how to do it:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/934/ec7/dbd/934ec7dbdbba2d60f3579e95d754a30b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, schoolchildren can encode the RGB (X, Y) function and draw static pictures. </font><font style="vertical-align: inherit;">But what to do next, what is the next step? </font><font style="vertical-align: inherit;">We examined the possibility of using materials from MIT, Digilent + Xilinx, Altera + Terasic and Steven Hugg, after which we came to the conclusion that they cannot be used in their pure form. </font><font style="vertical-align: inherit;">University labs are included in the university program, and materials from FPGA vendors are not well written, and also do not contain tips on how to change the code in the format of a summer school so that students invent their games. </font><font style="vertical-align: inherit;">The </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">book of Stephen Hugg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> has two drawbacks that are the </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">flip</font></a><font style="vertical-align: inherit;"> side of its virtues (liveliness and colorfulness):</font></font><br>
<br>
<ul>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firstly, Stephen Hugg apparently didn‚Äôt work as a Verilog designer in an electronic company, so there are different things in his code that a professional verilogue wouldn‚Äôt do. </font></font></p></li>
<li><p>-,               <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">8bitworkshop</a>, , ,     ,     .</p></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, the verilog at Stephen Hugg stands on a par with the programming of the processors of the old 8-bit consoles from Atari and Nintendo. Thus, Hugg is not focused on training future superdesigners, but on nostalgians, retro computer scientists and other reenactors. The difference between his environment and professional design tools is even greater than between the Arduino programming environment and the toolkits for STM32. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0ab/47d/270/0ab47d270271f71ce19807d71750dcc7.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, I don‚Äôt propose to blame Cadence SimVision and Synopsys Design Compiler for schoolchildren for hundreds of thousands of dollars, but schoolchildren may well get free versions of professional tools Xilinx Vivado, Intel / Altera Quartus II, Mentor ModelSim, as well as Icarus Verilog, GTKWave and the online </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">edaplayground. com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I reread the previous paragraph and thought: but Cadence SimVision for the summer school in Zelenograd could have been used. </font><font style="vertical-align: inherit;">It is made better and more convenient, both of its direct competitor Synopsys Design Vision Environment (DVE) </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and funds from Mentor Graphics (free ModelSim and paid Questa), and all cheap and free tools (IcarusVerilog, etc.) If the Moscow branch of Cadence The Design System will give us the right and support to use their software at summer schools in Zelenograd, personally I will be for integrating this into the school curriculum. </font></font><br>
<br>
<sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> For DVE, for example, the text in the source window is buggy / jumping when I run it under Ubuntu. </font><font style="vertical-align: inherit;">I have to do window resize until it ceases to fail. </font><font style="vertical-align: inherit;">SimVision does not have this.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is the start of the SimVision tutorial (22 videos in total):</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/KLzUzPyZSy8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But back to the games. </font><font style="vertical-align: inherit;">If not Stephen Hugg, then what? </font><font style="vertical-align: inherit;">I wrote an example of a simple game that I </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">used at a summer school in Zelenograd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">The sources of the game are </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">on the github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">It looks like this:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XHfKOE9JvBU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For two weeks, students figured out the basic principles of design at the level of register transfers and began to make their own, and non-trivial games:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/BMOB_6qI1Pk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's talk about the technical details of an example game. </font><font style="vertical-align: inherit;">A platform-independent game module can be placed (instantiated) in the wrapper of any FPGA board that has a VGA port and two buttons. </font><font style="vertical-align: inherit;">If the board is completely bare, then you can connect an adapter for VGA and buttons to it through the GPIO (general purpose input / output) wires. </font><font style="vertical-align: inherit;">The game module consists of:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VGA scan generator.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Two parallel working modules for sprite torpedoes and sprite targets.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The state machine for the game scenario, with the states "start", "guidance", "flies", "victory / defeat".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A module that determines if sprites collided.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A timer to set the duration of the visual effect after winning (blinking raspberry screen) or defeat (yellow screen).</font></font></li>
</ol><br>
<img src="https://habrastorage.org/getpro/habr/post_images/00f/e24/764/00fe24764dd3329ad96ec49429712529.jpg"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/07a/b49/0e2/07ab490e27055859554f898fcba7aebb.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the next school, all these pictures need to be redrawn using draw.io or Lucidchart into normal microarchitecture diagrams: You </font></font><br>
<br>
<img width="600" src="https://habrastorage.org/getpro/habr/post_images/11c/39c/983/11c39c9836aa67bb1fbdf8e371ceb178.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
also need to add timelines drawn with WaveDrom to the school materials to show how the VGA scan generator works and how the mini-pipeline calculates the coordinates data path inside sprites: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/6ae/cb5/4fb/6aecb54fb7ad81cfab9d64640beb2c04.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And of course you need to draw diagrams of the finite state machine. </font><font style="vertical-align: inherit;">I made a dozen variants of the finite state machine of this game, here on the board there is a variant with four states:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/23c/a84/2bd/23ca842bda17b879628f4cf15ed22df8.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Why did I make many choices? </font><font style="vertical-align: inherit;">Even with such a simple machine, you can compare different styles of their coding on a veril, as well as illustrate the optimization of states and timing. </font><font style="vertical-align: inherit;">All this is asked in an interview for a position as a chip designer at Apple, NVidia, Intel, AMD and other companies. </font><font style="vertical-align: inherit;">Therefore, this area must be known so that the teeth bounce. </font><font style="vertical-align: inherit;">There are some good Clifford Cummings articles on this subject:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2019 Newest Article: FiniteStateMachine (FSM) Design &amp; Synthesis using SystemVerilog - Part I by Clifford E. Cummings &amp; Heath Chambers.</font></font></a></li>
<li>  ,       one-hot state machine,       SPARC  MIPS: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Synthesizable Finite State Machine Design Techniques Using the New SystemVerilog 3.0 Enhancements by Clifford E. Cummings.</a> .   10: <i>¬´case (1'b1) // synopsys parallel_case next[READ]: rd &lt;= 1'b1¬ª</i>.</li>
<li>   ,     9   ,          : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Coding And Scripting Techniques For FSM Designs With Synthesis-Optimized, Glitch-Free Outputs by Clifford E. Cummings</a>.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I synthesized different versions of the game‚Äôs state machine using the most popular Synopsys Design Compiler tool in the industry and made such a tablet. </font><font style="vertical-align: inherit;">As we can see, the modern version of DC optimizes all styles very efficiently, so pulling picoseconds on state machines is possible, but not necessary. </font><font style="vertical-align: inherit;">Although it is possible for more complex finite state machines, tricks from Cummings' articles will be more critical: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f2c/136/46f/f2c13646fb54782ebb3f83f28a06dbd8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
During school in Zelenograd, we also discussed that in the design of chips, in addition to the description languages ‚Äã‚Äãof the Verilog and VHDL equipment, many auxiliary languages ‚Äã‚Äãare used:</font></font><br>
<br>
<ul>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python is used to automate assembly, regression management, and extract information from synthesis and code generation reports, as well as bash, make, and other Unix / Linux kitchens.</font></font></p></li>
<li><p> Tcl/Tk      ,    .    ,      ,      Verilog     FPGA,     ,            .</p></li>
<li><p>    1990-    Perl  .   Perl       .    Verilog-2001  SystemVerilog    90%     Verilog-2001 generate     SystemVerilog,    ,      .  ,     ,    SystemVerilog.</p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C / C ++ and libraries like SystemC are used to write transaction-level hardware block models. </font><font style="vertical-align: inherit;">Verification engineers check the blocks designed on the veril against these models.</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you work for a processor company, it‚Äôs good for you to know assembler. </font><font style="vertical-align: inherit;">Even if you are not a low-level programmer and not a verifier, but a processor designer at the level of register transfers (Register Transfer Level - RTL).</font></font></p></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here are links for those interested in using pearl as a preprocessor for verilogue:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G. Spivey. </font><font style="vertical-align: inherit;">EP3: An extensible Perl preprocessor</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vpp.pl man page</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Verilog Preprocessor</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An example of how to use the built-in verlog pearl to connect 64 ports:</font></font><br>
<br>
<pre><code class="perl hljs">//@ <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $i (<span class="hljs-number">0</span>..<span class="hljs-number">7</span>) {
  <span class="hljs-regexp">//</span>@ <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $j (<span class="hljs-number">0</span>..<span class="hljs-number">7</span>) {<font></font>
    .D$i$j(P${i}data[$j]),<font></font>
  <span class="hljs-regexp">//</span>@ }<font></font>
//@ }<font></font>
</code></pre><br>
<img src="https://habrastorage.org/getpro/habr/post_images/889/ec2/5e3/889ec25e31f3c2de247e25e8810382f0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It would be nice if someone wrote universal scripts for modeling and synthesizing an example (not necessarily my game) on all the main platforms for synthesis, simulation, debugging, analysis of dynamic power consumption, physical design, binding for all boards, etc. This could be used in schools and seminars:</font></font><br>
<br>
<img width="600" src="https://habrastorage.org/getpro/habr/post_images/9c4/6d7/3e5/9c46d73e5a1b29a2b8c714235cdd7783.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here you may have a question: why do I use Linux seminars? Although Windows also has a modeling and synthesis environment for FPGAs, Windows has not taken root in the industry of mass chip design. In the early 1990s, the workstation market for ASIC developers was split between SunOS and HP / UX. Then the electronic companies played for three years with Windows NT, but it did not work. After that, Synopsys and other design software companies spat and switched to Linux - first on Red Hat, then on SuSE and Ubuntu. I suspect, mainly because of a bunch of scripts on the pearl, C-shell, etc., as well as because of the remote work of developers through telnet and X Window.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, for my seminars I go with a bunch of bootable SSDs with Lubuntu, on which all the necessary software is installed. I use legacy boot, but recently it turned out that more and more computers require UEFI boot. Apparently, you will need to make a bootable SSD with UEFI boot. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fast-moving companies use CentOS instead of Red Hat. Perhaps many design tools go under Debian, but I have not tested it. </font></font><br>
<br>
<img width="600" src="https://habrastorage.org/getpro/habr/post_images/739/188/be3/739188be3c76c23cf48336ff09cd0050.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the seminars, I use Chinese FPGA boards, one of which is held in my hands by a Novosibirsk girl Natasha, who organizes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What-Where-When parties</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in our Silicon Valley </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9ca/039/973/9ca039973d075fdc2e629a731d88ffca.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the month of March, I walked through the California wildlife along with Russian businessman </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sergei Zorin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, who took a dozen ZEOWAA boards to Moscow, similar in characteristics to the one that Natasha is holding in their hands. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since there will probably be no seminars in Zelenograd due to the coronavirus this summer, I think I will give this dozen fees to Moscow schoolchildren for free (UPD: schoolchildren from other cities can also, although there is additional fuss with forwarding). </font><font style="vertical-align: inherit;">With two conditions:</font></font><br>
<br>
<ol>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Before you get a board, you need to go through all three parts of the online course ‚ÄúHow do the creators of smart nanochips work‚Äù ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúFrom the transistor to the microcircuit‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúThe logical side of digital circuitry‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúThe physical side of digital circuitry‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), and get a certificate. </font><font style="vertical-align: inherit;">We created this course together with RUSNANO, or rather, its educational daughter eNano, the STEMford project.</font></font></p><br>
<br>
<p>       ,     ,      ,     .     ,  ,  ,    (       )  .        ,        ,        .</p></li>
<li><p>    ,      ,            .</p></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you want to buy a new book </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúLogical Synthesis‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as an aid to such a project </font><font style="vertical-align: inherit;">, then for Habr‚Äôs readers she has a promotional code - Sintez_2020. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/08d/c76/4e8/08dc764e8bd9e03006262fbf2c505e06.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the future, it would be nice to get off using Chinese boards and make a cheap Russian board for such exercises with FPGA, with an open design. I welcome if you share your thoughts in the comments on the board design software and ideas on how to better design and market such a board. For mass use with schoolchildren, it is desirable that it cost no more than $ 30 or 2000 rubles. </font></font><br>
<br>
<img width="600" src="https://habrastorage.org/getpro/habr/post_images/661/fb4/2e4/661fb42e4b3a66ad0305b87182fac9d0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you are a student and are interested in the design of microcircuits, you can go to MIET, HSE MIEM, Moscow Engineering Physics Institute, Moscow State University, Moscow Institute of Physics and Technology ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Nikita Polyakov</font></a><font style="vertical-align: inherit;"> is engaged in such exercises</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, MPEI, MISiS, ITMO, LETI, Samara University, some Ukrainian universities (KNU, Chernihiv NTU, Kharkov KNURE) and other universities. </font><font style="vertical-align: inherit;">So I found how my approach to the MIET selection committee in Zelenograd was being repaired: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2fc/e3d/b6c/2fce3db6c747cc975944eca990495aa2.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But here is how MIET looks inside: You can </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0bf/b5d/372/0bfb5d37299b0c7482afbf590b99ea57.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
find a job there right opposite MIET to the ELVIS NGO, which deals with smart cameras and satellite chips: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c8f/091/b5a/c8f091b5a036f8635f69a96400774c76.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or you can come to Silicon Valley. </font><font style="vertical-align: inherit;">Want to get an interview with Dolina? </font><font style="vertical-align: inherit;">Practice on FPGA boards!</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/iZn6LDi2oPk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en501492/index.html">Repeat Power BI cohort analysis with Python</a></li>
<li><a href="../en501494/index.html">Not a Gram for the soul: the story of the failed cryptocurrency Durov</a></li>
<li><a href="../en501496/index.html">Comet Lake, completion of the iteration</a></li>
<li><a href="../en501498/index.html">How much C ++ code needs to be written to parse the Authorization HTTP header using easy_parser from RESTinio?</a></li>
<li><a href="../en501500/index.html">Visual hack: what threatens and how to protect yourself from spying</a></li>
<li><a href="../en501506/index.html">About GDI leaks and the importance of luck</a></li>
<li><a href="../en501508/index.html">Damn old CRM</a></li>
<li><a href="../en501510/index.html">A new look at Fullstack development with the Ruby on Rails framework</a></li>
<li><a href="../en501516/index.html">Let's turn off the vacuum ?! Alexey Lesovsky</a></li>
<li><a href="../en501520/index.html">C # 8 and null validity. How do we live with this</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>