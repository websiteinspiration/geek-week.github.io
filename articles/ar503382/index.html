<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎏 👠 🧑🏼 أشعل النار في حقل نظيف أو كيفية جمع عناوين MAC لأجهزة Wi-Fi القريبة 👆🏾 🎱 🐟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="أبدأ كل خطابي العامة (لحسن الحظ ، ليس هناك الكثير منها) من خلال الإشارة بشكل صريح أو ضمني إلى أطروحة "صناعتنا معقدة ، يمكن الكشف عن المشاكل في أي خطوة...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>أشعل النار في حقل نظيف أو كيفية جمع عناوين MAC لأجهزة Wi-Fi القريبة</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503382/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">أبدأ كل خطابي العامة (لحسن الحظ ، ليس هناك الكثير منها) من خلال الإشارة بشكل صريح أو ضمني إلى أطروحة "صناعتنا معقدة ، يمكن الكشف عن المشاكل في أي خطوة ، حتى في أكثر الخطوات وضوحًا ، ومن المتفائل أن نفترض أن كل شيء سيكون بسيطًا وسهلاً - ساذجًا" . من الغريب أن هذه الفكرة البسيطة ، التي تم الحصول عليها من سنوات عديدة من مخاريط الحشو ، هي في بعض الأحيان وحي للمهنيين الأكثر خبرة ، على الرغم من أنه قد يبدو أن كل الحماسة المحمومة والإيمان بعصمة أفكارهم وممارساتهم الخاصة يجب أن يتم تجاوزها لفترة طويلة. سأخبرك قصة عن هذا ، مثال على مشروع بسيط للوهلة الأولى.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ly/vd/fg/lyvdfgr98fqlrow-vtmumb4ucbw.jpeg"><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
في أحد الأيام الجميلة ، ألقى لي صديق رابطًا إلى شركة </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ناشئة مثيرة للاهتمام</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . اقترح الرجال أن يقوم ممثلو الشركات الصغيرة من قطاعي الخدمات والمبيعات بإنشاء نقطة وصول (مع بوابة مقيدة) لعملائهم من أجل توزيع الإنترنت ، وجمع عناوين MAC للهواتف الذكية للأشخاص المارة في نفس الوقت. الغرض من هذا الإجراء بسيط للغاية - يتيح لك عدد كبير من شبكات الإعلانات استهداف قائمة عناوين الأجهزة ، وبالتالي ، من خلال توجيه شركة الإعلان إلى تمرير المستخدمين ، من المرجح أن نستقبل زائرين جدد (لأنها قريبة و "في مكان ما رأيته بالفعل") . أولئك. مثل توزيع النشرات الافتراضية. سأل أحد الأصدقاء كيف يتم ذلك وما إذا كان بإمكاننا القيام بذلك مرة أخرى.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كشفت غوغل سريعة حول هذا الموضوع عن آلية جمع البيانات. تم إطلاق محول WiFi في وضع الاستماع الهوائي وتم تشغيله عبر القنوات ، والتقاط الحزم ، وتحليلها وجمع البيانات المستلمة. كانت هناك أيضًا أدوات مساعدة مفتوحة جاهزة لهذا الغرض ، على سبيل المثال ، airodump-ng من </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aircrack-ng</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . أولئك. للتكرار ، نحتاج فقط إلى تشغيل هذه الأداة ، ويفضل أن يكون ذلك على جهاز مدمج ومحمول منفصل ، ونقوم بدفع البيانات المستلمة إلى قاعدة البيانات ، والتي نحصل منها بعد ذلك على قوائم جاهزة لعناوين MAC لشبكات الإعلانات. يبدو أن المهمة بسيطة ، تم حلها في واحدة ، على الأكثر - ليلتين من العمل على مهل ، كل شيء جاهز تقريبًا. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
بالطبع ، لم يكن هذا هو الحال أبدًا.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كما تعلم ، ما هو مسموح لكوكب المشتري لا يسمح للثور. </font><font style="vertical-align: inherit;">وعندما يتم استخدام دافعي واحد ، فعليك التضحية ، أولاً وقبل كل شيء ، بالموارد الحاسوبية والذاكرة. </font><font style="vertical-align: inherit;">علاوة على ذلك ، فإن التضحية بالموارد يتبعها التضحية بالتطوير وتسهيل عملية التصحيح - لن يسمح كل نظام بسحب أدوات التجميع إلى الجهاز. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
في البداية ، أردنا أن نأخذ شيئًا بسيطًا ورخيصًا ، على سبيل المثال ، مربعات </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orange Pi Zero</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، وضع airodump-ng هناك وأرسل البيانات التي تبثها الأداة إلى الخادم ، حيث يمكن وضعها بأمان في قاعدة البيانات. </font><font style="vertical-align: inherit;">كانت لدي خبرة في العمل مع هذه الأنظمة الموزعة مع مركز مخصص (على الرغم من أن هناك أجهزة افتراضية تعمل كحرف عمل تم رفعها من خلال واجهة برمجة تطبيقات السحابة من خلال نفس المركز حسب الضرورة ، ولكن ليس النقطة) ، لذلك تم ترحيل جزء من الشفرة بنجاح إلى مشروع جديد .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كانت أداة إعادة توجيه البيانات إلى الخادم هي أبسط تطبيق Erlang مكتوب ، والذي كان من المفترض أن يسحب البيانات من مخمد الأثير (التحليل) ، ويسلسلها (تسلسل Erlang الأصلي) وينقلها عبر مقبس الويب إلى الخادم عبر HTTPS (دون التسبب في الشك أنظمة DPI وعدم اختراع البروتوكولات الخاصة بها). إن معالجات Allwinner H2 + المستخدمة في Orange Pi قوية بما يكفي لتجميعها وتصحيحها مباشرة على الجهاز. مرة أخرى ، من الناحية النظرية ، كل شيء على ما يرام. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
بدأت الممارسة.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. كما اتضح ، كانت شبكة WiFi المدمجة في Orange Pi جيدة فقط لالتقاط نقطة وصول وإلقاء البيانات في الخادم. حسنًا ، بشكل أدق ، ليس المحول نفسه ، ولكن دعم شرائحه في النواة. بالنسبة لمعظم مشاريع إنترنت الأشياء ، قد يكون هذا كافياً. ومع ذلك ، كنا مستعدين لهذه الضربة ، لأن الدراسة الأولية لموقع aircrack-ng أعطت فكرة واضحة وغامضة للغاية "لن تعمل في كل مكان ، إذا لم يكن هذا خطأنا ، فسوف نرفق قائمة بشرائح اختبارها". تم العثور على جميع أجهزة Atheros تقريبًا (التي تم شراؤها بواسطة Qualcomm) و Ralink (التي تم شراؤها بواسطة MediaTek) في القائمة ، والتي ألهمت بعض العملاء المحتملين في حالة الانتقال من ARMs الصينية الشرسة إلى MIPSs الزائدة أكثر من شرائح لأجهزة التوجيه.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ولكن ، في حين أن كل هذا يمر من المخاط والعصي ، أي نموذجي - تحتاج إلى حل المشكلة هنا والآن. لذلك ، استفدنا من هذه الأنواع الغريبة في عصرنا التكنولوجي (عندما يكون الاتصال اللاسلكي في أي وضع أخف) كمحول Wi-Fi USB. دراسة قائمة التوافق ومقارنتها بمجموعة أقرب متجر أعطت الضحية - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DLink DWA-160</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> في المراجعة C1 (وهذا مهم لأن مراجعات الأجهزة الأخرى استخدمت شريحة مختلفة وتسببت في صداع من حيث فرض العمل). النطاق المزدوج ، الذي لا يتطلب الرقص مع السائق ، نظرًا لأن الدعم كان في الأساس لفترة طويلة ، فقد أصبحت هذه الصافرة مفيدة في وقت لاحق في مشاريع أخرى ، لذلك اشتريتها ، ربما جميعًا (خمس قطع) كانت متوفرة في مدينتنا الإقليمية.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bl/7t/z7/bl7tz7yaohb2gfeh1ekkjha31us.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
بعد التأكد من أن الجهاز كان يعمل ، قمت بتوصيله بجهاز لوحة واحدة وقمت بإيقاف تشغيل محول WiFi المدمج مع توقع توفر الإنترنت من خلال واجهة Ethernet. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/em/nk/cyemnk-n5d2lzg1aximnuzddg4q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تم وضع الخنزير الثاني بواسطة aircrack-ng. تم إنشاء هذه المجموعة من الأدوات بهدف </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">القرصنة.</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">عمليات التحقق من اختراق WiFi ، أي كتبه قراصنة للقراصنة. لا أعرف ، بفضل المنطق الذي فضلوا فيه استخدام وحدة تفريغ الأثير اللاسلكية ليس في شكل نهج أحادي الاتجاه تقليدي ، لبصق نص منظم لمزيد من المعالجة ، ولكن لإنشاء واجهة مصطلح كاملة لعرض المعلومات عليها في الوقت الفعلي تقريبًا (مع مراعاة إعدادات المحطة الطرفية) من خلال الشبكات والأجهزة المكتشفة ، لكنهم فعلوا ذلك بالضبط. نعم ، لقد وجدت Python API بدرجة غير معروفة من الاستعداد لكل هذا ، ولكن مرة أخرى ، العنكبوت النموذجي الذي عاش في رأسي منع بشدة سحب لغة أخرى ، والتحول إلى لغة أخرى (نتذكر ، كان جزء الخادم جاهزًا ومكتوبًا جزئيًا بالفعل كان بعيدًا عن Python-e) أو ، لا سمح الله ، تنفيذ airodump-ng بنفسك على أساس tcpdump. وبالتالي ،كان علي أن أبحث عن الحلول.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لحسن الحظ ، بدأ المتسللون اللاسلكيون في الشك في شيء ما كان يعلق باستمرار في الواجهة كان مثل هذا النشاط ، لذلك قاموا بالتحميل الدوري لكل شيء تم العثور عليه وتجميعه كملفات CSV. بفاصل زمني محدد. يمكنك العيش معها بالفعل. بالطبع ، تم إعطاء الخيار الساذج - لتشغيل الأداة المساعدة وإعادة قراءة الملف على جهاز ضبط الوقت - يدويًا على الفور. عند العمل على جهاز كمبيوتر محمول ، عند النقل إلى لوحة واحدة ، بدأ يفشل في عملية قراءة الملف لأسباب واضحة - في بعض الأحيان لم يكن لدى الأداة ببساطة وقت لتفريغ كل شيء وفقدت بعض البيانات بشكل لا رجعة فيه.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كان الحل لهذا هو آلية inotify في النواة ، بإخطار عمليات الملف - بمجرد أن شاهدت التعليمات البرمجية التغييرات على ملف البيانات ، بدأت قراءتها مع تأخير طفيف (بدلاً من ذلك ، مع وجود قيمة نفسية بحتة ، طمأنة مؤلفها). أظهرت التجارب أنه في هذه الحالة ، لا يحدث فشل في القراءة وفقدان البيانات. حسنًا ، لطيف ، CSV parsim ، يتم وضعه في الهياكل الداخلية وإرساله إلى الخادم. نقوم بحفظه على الخادم في PostgreSQL (شكرًا لـ jsonb) وبعد ذلك يمكنك بالفعل إجراء الاستعلامات وإلغاء تحميل الاستمارات وما إلى ذلك. سنضيف أبسط تفويض باستخدام مفتاح متماثل ، حتى لا يتم حشوه هناك ويمكننا ربط البيانات إلى النقطة التي تم تثبيت الجهاز فيها ، ويبدو أن كل شيء على ما يرام ، يمكنك الذهاب إلى المعركة.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نعم ، كيف الآن. كشفت مجموعة اختبار هذه السلسلة (وكتابة التعليمات البرمجية وتصحيح الأخطاء أمسيتين حقًا) حقيقة مضحكة - عدد العناوين التي يتم التقاطها يوميًا في مكتبنا ، بعيدًا تمامًا عن الأماكن العامة القابلة للتمرير ، يتقلب حول بضعة آلاف قطعة. نعم ، بالطبع ، كان هناك فندق صغير قريب (كان في وقت العزل السابق للحجر الصحي ، لا تفاجأ) ، ولكن لا يزال هناك الكثير. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
من خلال تحديث المعرفة </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ببنية عنوان MAC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> واستدعاء حقيقة أن الأجهزة المحمولة غالبًا ما تنشئ عناوين محلية لإخفاء عناوين MAC الحقيقية الخاصة بها ، قمت بتعديل جزء الخادم باستخدام مرشح بسيط ينظف جميع عناوين البث والعناوين المحلية عند الإدخال. تم تخفيض القائمة بأمر من الحجم وبدا بالفعل مثل الحقيقة. كان كل شيء جاهزا للتجارب الميدانية.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كما تعلم ، عند تغيير المواقع من مكتب دافئ ومريح إلى ظروف قتالية لا ترحم ، تميل النماذج الأولية إلى التوقف عن العمل بشكل طبيعي ، لذلك يجب أن تكون عملية التنفيذ مصحوبة بتزويد مهندس جيب يقوم بتصحيح جميع المشكلات الناشئة. من ناحية أخرى ، من المعروف أيضًا أن الجهاز الذي لا يتطلب رقصًا إضافيًا باستخدام الدف في بداية العملية من المرجح أن ينكسر قريبًا وبلا رجعة. وقد انعكس هذا ، بالتأكيد ، في قوانين مورفي ، ولكن للأسف ، فإن مؤلف هذه السطور كسول جدًا بحيث يتعذر التحقق من أي منها ، لذلك ، سنتفق على مصطلح "قانون الوقاحة". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كشف التثبيت الأول على الفور عن مجموعة من العيوب.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
أولاً ، تأتي معظم لوحات النماذج الأولية الصينية مع ذاكرة microSD طويلة المدى بدلاً من رقائق NAND / NOR المحمولة. يتم إجراء استثناء فقط لـ SoC القوية ، والتي تعد زائدة عن الحاجة لهذه المهمة. للأسف ، MicroSD هو الصداع المباشر للمشغل - أكسدة الوسائد ، وفشل بطاقات SD ، واعتماد جهات الاتصال على درجة الحرارة داخل العلبة (وهو أمر كبير ، فالرقائق الصينية ليست فعالة جدًا في استهلاك الطاقة ، وغالبًا ما يتم حساب الألواح بالكامل استنادًا إلى ذروة استهلاك الطاقة ، لذلك بدون مشعاع إضافي ، حسنًا ، لا يمكن). لذلك اتضح أنه عندما تم سحب الطاقة من الجهاز ، وصل النظام إلى حالة غير صالحة للعمل - فقد تضررت الملفات ذات الرمز الفرعي ERTS ، بعد إعادة تشغيل التطبيق رفض العمل.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
اللحظة الثانية غير السارة - عند نقطة التثبيت ، تم توفير الإنترنت من خلال جهاز توجيه LTE وكان ، بعبارة ملطفة ، بجودة متواضعة ، على عكس الأسلاك المكتبية. اندلعت الشبكة باستمرار ، غالبًا ما تمت إعادة توصيل التطبيق ، أو حتى مات من الرسائل المتراكمة في قوائم الانتظار.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
بالطبع ، يمكن التغلب على كلتا المشكلتين ، على سبيل المثال ، سيتم القضاء على فقدان البيانات من خلال البحث عن المزيج الأمثل لبطاقة MicroSD وإعدادات نظام الملفات الجيدة ، ويمكن تعويض عدم استقرار الاتصال عن طريق تجميع البيانات الأولية وجلسات الإرسال القصيرة وتفريغها في الوقت المناسب ، إلخ. لكن المشاكل التي تم الكشف عنها هي فرصة للتفكير في ما إذا كان قد تم اختيار المسار الصحيح. أدت الحاجة إلى اتصال دائم بالخادم إلى إنهاء جمع بيانات الأحداث ، عندما يتم تعليق الجهاز على بطارية خارجية ويتم وضعه في حقيبة ظهر ، حيث يذهب مالكها إلى حدث جماعي ، حيث لا يمكنك بالطبع أن تتوقع استقرار الاتصال.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
وفقًا لذلك ، كانت الخطوة التالية هي التخلي عن جزء الخادم وتوطين مستودع البيانات مباشرة على الجهاز. بالإضافة إلى ذلك ، من أجل تجنب التجارب الطويلة والكئيبة للغاية مع بطاقات SD ، تقرر استخدام نماذج اللوح مع رقائق الفلاش في التكرار التالي. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
في تلك اللحظة ، تذكرت أنه في مجموعتي كان هناك لوح </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carambola 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> الرائع </font><font style="vertical-align: inherit;">من الرفاق الليتوانيين </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . وإذا ذهبت إلى موقعهم ، يمكنك العثور على جهاز أكثر إحكاما على نفس الشريحة تسمى </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Centipede</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. أظهرت التجارب السابقة مع هذه الفئة من الأجهزة أن Erlang يناسب تمامًا 16 ميغابايت من ذاكرة الفلاش المخصصة (وبقايا صغيرة للتطبيق). ناقص الوحيد (وهو بالأحرى زائد) هو MIPS منخفض الطاقة والحاجة إلى تجميع متقاطع ، مما يجعل بناء تطبيق Erlang أكثر غير تافه. لكنها كانت بالفعل طريقًا معروفًا ، لذلك طلبت بضع حريتي ، وحتى الآن قمت بنقل الإصدار الحالي الذي يعمل مع الخادم إلى Carambol.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ll/x6/sq/llx6sqtfo4vwd4bvbi8tvvcmzsg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
عندما وصلت المكونات ، بدأت مرحلة جديدة. تم دعم شريحة AR9331 بنجاح بواسطة aircrack-ng خارج الصندوق ، ويمكن أخذ البيانات من واجهة Ethernet ، وتم جمع أحدث إصدارات OpenWRT و ERTS واختبارها بنجاح. تمت إعادة كتابة التطبيق - تم نقل جزء من الرمز إلى رمز الجهاز ، وتم تجميع البيانات في عملية منفصلة وإلقاءها بشكل دوري في ملف في شكل مصطلح Erlang متسلسل. إلى هذا تم رسمها أبسط واجهة على شبكة الإنترنت التي تتلقى البيانات عبر websocket. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">يتم</font></a><font style="vertical-align: inherit;"> تجميع </font><font style="vertical-align: inherit;">منافذ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inotify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> و </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erlexec</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> بأمان مع OpenWRT.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تم الخلط بين شيء واحد فقط - بقيت 300 كيلوبايت على البيانات. لن يكون الأمر صغيراً إذا قمت بتخزين عناوين MAC لأجهزة العملاء فقط ، ولكن airodump-ng يمنحك معلومات أكثر إثارة للاهتمام ، بما في ذلك عناوين نقاط الوصول ، ومعرفات ESSID الخاصة بهم ، وما إلى ذلك ، والتي سيكون من الجيد أيضًا تذكرها. فقط في حالة. حسنًا ، سنتصرف وفقًا للظروف. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نقوم بجمع والتحقق. تم الكشف عن مشكلة على الطاير. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Openwrt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، كما نعلم جميعًا ، هذا هو بناء Linux البسيط المصمم خصيصًا للأجهزة ذات الذاكرة المحدودة. ونتيجة لذلك ، تم التخلص من شيء يمكن التخلص منه بدون ألم وتبسيط يمكن تبسيطه ، بما في ذلك وضع المستخدمين المتعددين. أولئك. إنها ممارسة شائعة عندما تبدأ الشفرة من الجذر وتعمل مع أقصى الامتيازات ، والتي ، بالطبع ، تسهل المشكلات المتعلقة بالمجموعات والمستخدمين والتحكم في أفعالهم. نعم ، نعم ، الحرف S في اختصار إنترنت الأشياء هو المسؤول عن الأمن. المشكلة هي أن </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erlexec</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، التي كنت أستخدمها لتشغيل وإدارة airodump-ng ، لا يمكنها إجراء عمليات من الجذر - لهذا ، فهي تحتاج إلى مستخدم إضافي ، والتي نيابة عنها ستفرخ العمليات المعينة لها. وعند إنشاء مستخدم إضافي بمستوى امتياز مختلف ... بشكل صحيح ، فإنه يمنع airodump من الوصول إلى جهاز الشبكة. يبدو أن فك هذا القيد من المكتبة عملية بطيئة ، لذلك تم استبدال erlexec بالمنافذ - الآلية المدمجة لإطلاق عمليات الطرف الثالث في Erlang. تافه ، لكن غير سار.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لذا ، يتم استقبال الأجهزة وإعادة تحميلها وحتى تعمل في ظروف الاحتباس الحراري. نلتقط البطارية ، نرمي الصندوق في حقيبة الظهر ، نذهب إلى المركز التجاري. في اليوم التالي ، ننظر إلى النتيجة - إخفاق ، ملف بيانات بطول صفري - إما أنه لم يكن هناك مساحة كافية ، أو أن تشويه القوة لم يعمل في لحظة جيدة جدًا. نقوم بتصحيح الكود بحيث يحدث الحفظ على مرحلتين - أولاً تم إنشاء ملف مؤقت ، ثم استبدل الملف الحالي. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ومع ذلك ، لم تتمكن الأيدي من التحقق من قابلية تشغيل هذا الخيار - اللعبة التالية - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ظهرت Onion Omega2 +</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> على Mediatek </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">7688.</font></a><font style="vertical-align: inherit;"> مثل إخوانهم ، </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مصمم LinkIt Smart 7688</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ، كان هناك </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الكثير من الأشياء</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، ولكن الشيء الأكثر أهمية هو ضعف ذاكرة الفلاش ، مما يعني أنه لم يعد بإمكانك القلق بشأن نقص المساحة لتخزين البيانات. حسنا </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نطلب ، انتظر. شهر. اثنان. انفجر الصبر - نكتب للأمريكيين حول موضوع "أين البضاعة يا زين". الصمت. فتح نزاع على PayPal. الأمريكيون يستيقظون. يقولون ، "أوه ، فشل نظام قبول الطلبات لدينا ، الآن سنرسل كل شيء." يرسلون ، ننتظر ثلاثة أسابيع. فوه ، الجهاز في متناول اليد وحتى يعمل.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yb/3a/ph/yb3aphpjdskqkkfcqlzw25pobuc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
هنا نحتاج إلى إجراء بحث صغير - على الرغم من حقيقة أن لدي العديد من لوحات LinkIt Smart على مسافة قريبة ، لم أعتبرها كمنصة ، لأنه في بداية الملحمة ، فشلت محاولة استخدامها كأجهزة التقاط. ثم تم توفير محركات الرقاقة في شكل وحدات مجمعة لإصدارات محددة من النواة ، وعلى ما يبدو ، أصبح هذا سبب عدم قابلية التشغيل. في أحدث إصدارات OpenWRT ، ظهر كل من الدعم الأصلي لـ 7688 وبرنامج تشغيل مفتوح ، لذا فهذه مناسبة لإعادة النظر في النهج المتبع في هذه الأجهزة.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ومع ذلك ، كان من المعتاد استخدام WiFi مباشرة على الشريحة للغرض المقصود - بعد كل شيء ، يحتاج الجهاز إلى بعض واجهة التحكم على الأقل ، وكذلك في المجال ، على الأقل من أجل معرفة ما إذا كان يعمل أم لا. من المفيد أيضًا الاطلاع على البيانات التي تم الحصول عليها. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
وفقًا لذلك ، نجمع بين الأساليب السابقة - نستخدم واجهة USB الوحيدة المعروضة على MiniDoc للحصول على صافرة WiFi لمسح المساحة ، و WiFi المدمج - للتحكم في الجهاز كنقطة وصول منخفضة الطاقة. نجمع ، تحقق ، يعمل كل شيء.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لكن الشهية تأتي مع الأكل. بادئ ذي بدء ، ملف البيانات في شكل تسلسل Erlang هو الكثير من المجانين الحقيقيين ، ومجموعة أوسع قليلاً من المهنيين المدربين خصيصًا يحتاجون إلى شيء أبسط. مرة أخرى ، بالإضافة إلى إضافة البيانات من airodump ، أود أيضًا وقت القياس الدقيق ، ويفضل ، على الأقل ، نوع من الإشارة إلى موقع الجهاز في الفضاء. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
قمنا بدمج بين صافرة WiFi وجهاز موزع USB. الإعدادات (وهي تعتمد على موضع الجهاز في الحافلة في حالة OpenWRT) غابات ، ولكن هذه تافهة بسيطة. صيح. نحن إخراج استقبال USB-GPS من تحت الأنقاض، لحسن الحظ، وبالفعل لمرة واختبارها ومع كتب </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">متاحة</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تحليل NMEA-0183 (كان من الضروري تصحيح الكود بالطبع على أي حال). نتحقق - لم يتم اكتشاف الجهاز بأمان من قبل النظام ، ومن الواضح أن هناك نقصًا في برامج التشغيل. نقوم بجمع محركات USB التسلسلية وإسقاطها على الجهاز - الصمت أيضًا. ثم نتذكر أنه في الأنظمة الكبيرة لم يتم الكشف عن صافرة GPS على أنها ttyUSBx ، ولكن مثل ttyACMx ، أي مودم GSM USB. حسنا ، حسنا ، المكالمة الثانية لإضافة السائقين ، النجاح.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نأخذ الرمز ، ندمج في التطبيق. </font><font style="vertical-align: inherit;">أضف sqlite3 إلى التطبيق كمخزن. </font><font style="vertical-align: inherit;">الآن لن يكون من الضروري التحقق من توفر السجل في الدولة ، وبشكل عام يتم تبسيط العمل بالبيانات إلى عدد صغير من الأسطر. </font><font style="vertical-align: inherit;">عند وضع كل ذلك معًا ، نعلم عند إضافة البيانات لأخذ قراءات نظام تحديد المواقع العالمي (GPS) ، نقوم بتصحيح رمز JS على الوجه ليتم عرضه في حالة عدم اكتمال مجموعة البيانات (يمكن أن يحدث عندما لا يكون GPS قد التقط الأقمار الصناعية ، وبيانات المسح الجوي قادمة بالفعل). </font><font style="vertical-align: inherit;">نتحقق من العمل - يبدو أنه يعيش. </font><font style="vertical-align: inherit;">يمكنك أن تعلن انتصارًا مؤقتًا.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ly/vd/fg/lyvdfgr98fqlrow-vtmumb4ucbw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لبضعة أسابيع من العمل المتواصل - الكثير من البيانات على المحطات على الهواء وعلى العملاء. </font><font style="vertical-align: inherit;">الآن أنا أعاني من إغراء تقديم هذا الجهاز لمتخصصي أمن المعلومات للتحكم في البث في المناطق الموكلة والدولة للسيطرة على حركة هواتف المواطنين. </font><font style="vertical-align: inherit;">إنها نكتة بالطبع هم أنفسهم يعرفون كل شيء.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لذا ، فإن جميع المحن الموصوفة أعلاه هي مجرد مشروع للحيوانات الأليفة مع درجة تعقيد منخفضة للغاية (كان من الواضح على الفور ما يجب القيام به وكيف) ، ونقص تطوير الأجهزة (مرحبًا ، فيزياء) والوصول إلى منتج أكثر أو أقل إلى حد ما. </font><font style="vertical-align: inherit;">لا ، بالطبع ، لا يمكن استبعاد أن مؤلف هذه السطور هو من هواة كثيفة ، ويذهب المعلمون الحقيقيون على هذا النحو في مساء واحد بين شاي المساء وكوب من الكونياك ، ولكن الخبرة حتى الآن أظهرت شيئًا واحدًا فقط: تكنولوجيا المعلومات معقدة ويعاقب التفاؤل ماليًا وسمعيًا وتحفيزيًا ، وأولئك الذين يقولون "كل شيء بسيط" هم إما عباقرة أو محتالون ، والثاني على الأرجح.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar503364/index.html">HandsAppMVP: بنية iOS للاستعانة بمصادر خارجية لتطوير الاستوديو</a></li>
<li><a href="../ar503366/index.html">لماذا يصبح اندفاعة سؤال؟ أو مشاكل في بيانات الترميز في SQL</a></li>
<li><a href="../ar503368/index.html">العملاق: لماذا تزن الألعاب الحديثة الكثير؟</a></li>
<li><a href="../ar503372/index.html">قد يتأخر Ethereum 2.0 مرة أخرى بسبب الأخطاء والمشاكل والمنافسين</a></li>
<li><a href="../ar503380/index.html">وظائف غير متزامنة في جانغو مع الكرفس</a></li>
<li><a href="../ar503386/index.html">مدرب رشيق شخص سليم</a></li>
<li><a href="../ar503388/index.html">رقمنة الذعر: DIT موسكو ضد سكان موسكو - مائدة مستديرة في 23 مايو</a></li>
<li><a href="../ar503390/index.html">لماذا تراهن Intel على تطوير الرقائق العبقرية لجيم كيلر؟</a></li>
<li><a href="../ar503394/index.html">تجربة الاستثمار في الأسهم</a></li>
<li><a href="../ar503398/index.html">كيفية جعل النمذجة المواضيعية للمنتدى بسرعة أو ما يزعج الأشخاص الذين يعانون من مرض الاضطرابات الهضمية</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>