<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòØ ‚úãüèø üëç BpfTrace - finalmente, um substituto completo para o Dtrace no Linux ü§úüèΩ üí• üç¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Acontece que os sistemas est√£o com erros, diminuem a velocidade, quebram. Quanto maior o sistema, mais dif√≠cil √© encontrar a causa. Para descobrir por...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>BpfTrace - finalmente, um substituto completo para o Dtrace no Linux</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/500456/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acontece que os sistemas est√£o com erros, diminuem a velocidade, quebram. </font><font style="vertical-align: inherit;">Quanto maior o sistema, mais dif√≠cil √© encontrar a causa. </font><font style="vertical-align: inherit;">Para descobrir por que algo n√£o est√° funcionando como o esperado, para corrigir ou evitar problemas futuros, √© preciso olhar para dentro. </font><font style="vertical-align: inherit;">Para isso, os sistemas devem possuir a propriedade de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observabilidade</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que √© alcan√ßada pela instrumenta√ß√£o no sentido amplo da palavra.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6ExXwQecMrs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HighLoad ++,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Peter Zaitsev (Percona) revisou a infraestrutura dispon√≠vel para rastreamento no Linux e falou sobre o bpfTrace, que (como o nome indica) oferece muitas vantagens. </font><font style="vertical-align: inherit;">Fizemos uma vers√£o em texto do relat√≥rio, para que fosse conveniente revisar os detalhes e sempre havia materiais adicionais √† m√£o.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A instrumenta√ß√£o pode ser dividida em dois grandes blocos:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est√°tico</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , quando a coleta de informa√ß√µes √© conectada ao c√≥digo: registros de registro, contadores, hora, etc.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Din√¢mico</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , quando o c√≥digo n√£o √© instrumentado por si s√≥, mas √© poss√≠vel faz√™-lo quando necess√°rio.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra op√ß√£o de classifica√ß√£o √© baseada na abordagem de registro de dados:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rastreamento</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eventos s√£o gerados se um determinado c√≥digo tiver funcionado.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amostragem</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o status do sistema √© verificado, por exemplo, 100 vezes por segundo e determina o que est√° acontecendo nele.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A instrumenta√ß√£o est√°tica existe h√° muitos anos e est√° em quase tudo. </font><font style="vertical-align: inherit;">No Linux, muitas ferramentas padr√£o, como Vmstat ou top, o utilizam. </font><font style="vertical-align: inherit;">Eles l√™em dados de procfs, onde, grosso modo, diferentes temporizadores e contadores s√£o gravados a partir do c√≥digo do kernel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas voc√™ n√£o pode inserir muitos desses contadores; n√£o pode cobrir tudo no mundo com eles. </font><font style="vertical-align: inherit;">Portanto, a instrumenta√ß√£o din√¢mica pode ser √∫til, o que permite que voc√™ assista exatamente o que precisa. </font><font style="vertical-align: inherit;">Por exemplo, se houver algum problema com a pilha TCP / IP, voc√™ poder√° aprofundar-se e instruir detalhes espec√≠ficos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x8/nh/hz/x8nhhza-v08u7nlo01rb778nxqs.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dtrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O DTrace √© uma das primeiras estruturas conhecidas de rastreamento din√¢mico criadas pela Sun Microsystems. Come√ßou a ser fabricado em 2001 e, pela primeira vez, foi lan√ßado no Solaris 10 em 2005. A abordagem acabou sendo muito popular e, posteriormente, entrou em muitas outras distribui√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Curiosamente, o DTrace permite instrumentar o espa√ßo do kernel e o espa√ßo do usu√°rio. Voc√™ pode colocar rastreamentos em qualquer chamada de fun√ß√£o e instruir programas especificamente: introduzir pontos de rastreamento especiais do DTrace, que para os usu√°rios podem ser mais compreens√≠veis do que os nomes de servi√ßo das fun√ß√µes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso foi especialmente importante para o Solaris, porque n√£o √© um sistema operacional aberto. N√£o foi poss√≠vel apenas olhar o c√≥digo e entender que o ponto de rastreamento precisa ser colocado nessa fun√ß√£o, como agora pode ser feito no novo software Linux de c√≥digo aberto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dos recursos exclusivos, especialmente na √©poca, do DTrace √© que, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">embora o rastreamento n√£o esteja ativado, n√£o custa nada</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Funciona de tal maneira que simplesmente substitui algumas instru√ß√µes da CPU por uma chamada do DTrace, que executa essas instru√ß√µes quando retorna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No DTrace, a instrumenta√ß√£o √© escrita em uma linguagem D especial, semelhante a C e Awk.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Posteriormente, o DTrace apareceu em quase todos os lugares, exceto no Linux: no MacOS em 2007, no FreeBSD em 2008, no NetBSD em 2010. A Oracle em 2011 incluiu o DTrace no Oracle Unbreakable Linux. </font><font style="vertical-align: inherit;">Mas poucas pessoas usam o Oracle Linux e o DTrace nunca entrou no Linux principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Curiosamente, em 2017, a Oracle finalmente licenciou o DTrace sob a GPLv2, o que em princ√≠pio tornou poss√≠vel inclu√≠-lo no Linux principal sem dificuldades de licenciamento, mas j√° era tarde demais. </font><font style="vertical-align: inherit;">Naquela √©poca, o Linux tinha um bom BPF, que era usado principalmente para padroniza√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O DTrace ser√° inclu√≠do no Windows, agora est√° dispon√≠vel em algumas vers√µes de teste.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rastreio do Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que h√° no Linux em vez do DTrace? </font><font style="vertical-align: inherit;">De fato, no Linux h√° muitas coisas na melhor (ou pior) manifesta√ß√£o do esp√≠rito de c√≥digo aberto, v√°rias estruturas de rastreamento diferentes se acumularam ao longo desse tempo. </font><font style="vertical-align: inherit;">Portanto, descobrir o que n√£o √© t√£o simples. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wr/vu/ij/wrvuijy1unvtq2thcngvonvzsrq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ deseja se familiarizar com essa variedade e se interessar por hist√≥ria, consulte o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com imagens e uma descri√ß√£o detalhada das abordagens para rastreamento no Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se falamos sobre a infraestrutura para rastreamento no Linux em geral, existem tr√™s n√≠veis:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interface para instrumenta√ß√£o do kernel:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kprobe, Uprobe, Dtrace probe, etc.</font></font></li>
<li><strong>¬´¬ª,    .</strong> ,  probe,      ,          user space   .       :   ,     user space,  Kernel Module,   - ,  eBPF.</li>
<li><strong>-</strong>,    ,    : Perf, SystemTap, SysDig, BCC  .. bpfTtrace       ,  ,   .</li>
</ol><br>
<h2>eBPF ‚Äî   Linux</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com todas essas estruturas, o eBPF se tornou o padr√£o no Linux nos √∫ltimos anos. </font><font style="vertical-align: inherit;">Esta √© uma ferramenta mais avan√ßada, altamente flex√≠vel e eficaz que permite quase tudo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que √© o eBPF e de onde ele veio? </font><font style="vertical-align: inherit;">De fato, o eBPF √© um Extended Berkeley Packet Filter, e o BPF foi desenvolvido em 1992 como uma m√°quina virtual para filtragem eficiente de pacotes por um firewall. </font><font style="vertical-align: inherit;">Inicialmente, ele n√£o tinha rela√ß√£o com monitoramento, observabilidade ou rastreamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas vers√µes mais modernas, o eBPF foi expandido (da√≠ a palavra estendida), como uma </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estrutura</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comum </font><strong><font style="vertical-align: inherit;">para lidar com eventos</font></strong><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">As vers√µes atuais s√£o integradas ao compilador JIT para maior efici√™ncia. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diferen√ßas do eBPF do BPF cl√°ssico:</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registradores adicionados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma pilha apareceu;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem estruturas de dados adicionais (mapas).</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/gj/9v/uh/gj9vuhqn64yciwp2zyjmekazpvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, as pessoas costumam esquecer que havia um BPF antigo, e o eBPF √© simplesmente chamado de BPF. </font><font style="vertical-align: inherit;">Na maioria das express√µes modernas, eBPF e BPF s√£o a mesma coisa. </font><font style="vertical-align: inherit;">Portanto, a ferramenta √© chamada bpfTrace, n√£o eBpfTrace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O eBPF est√° inclu√≠do no Linux principal desde 2014 e est√° gradualmente inclu√≠do em muitas ferramentas Linux, incluindo Perf, SystemTap, SysDig. </font><font style="vertical-align: inherit;">Existe uma padroniza√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Curiosamente, o desenvolvimento ainda est√° em andamento. </font><font style="vertical-align: inherit;">Os kernels modernos suportam o eBPF cada vez melhor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f9/ad/xi/f9adxi6tahas6qaz0crpgc4fldk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode ver quais vers√µes modernas do kernel apareceram </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programas EBPF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, o que √© eBPF e por que √© interessante? </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O eBPF √© um programa em seu</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c√≥digo de c√≥digo </font><strong><font style="vertical-align: inherit;">especial</font></strong><font style="vertical-align: inherit;"> , que √© inclu√≠do diretamente no kernel e executa o processamento de eventos de rastreamento. Al√©m disso, o fato de ser feito em um bytecode especial permite que o kernel realize certas verifica√ß√µes de que o c√≥digo √© bastante seguro. Por exemplo, verifique se ele n√£o usa loops, porque o loop na se√ß√£o cr√≠tica do kernel pode travar o sistema inteiro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas isso n√£o permite ser completamente seguro. Por exemplo, se voc√™ escrever um programa eBPF muito complexo, insira-o em um evento no kernel que ocorra 10 milh√µes de vezes por segundo, ent√£o tudo poder√° ficar muito lento. Mas, ao mesmo tempo, o eBPF √© muito mais seguro do que a abordagem antiga, quando apenas alguns M√≥dulos do Kernel foram inseridos atrav√©s do insmod, e qualquer coisa poderia estar nesses m√≥dulos. Se algu√©m cometer um erro, ou simplesmente por incompatibilidade bin√°ria, todo o n√∫cleo poder√° cair.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo eBPF pode ser compilado pelo LLVM Clang, ou seja, geralmente usa um subconjunto de C para criar programas eBPF, o que, √© claro, √© bastante complicado. E √© importante que a compila√ß√£o dependa do kernel: cabe√ßalhos s√£o usados ‚Äã‚Äãpara entender para que estruturas s√£o usadas e para que s√£o usadas, etc. Isso n√£o √© muito conveniente no sentido de que alguns m√≥dulos relacionados a um n√∫cleo espec√≠fico s√£o sempre fornecidos ou precisam ser recompilados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O diagrama mostra como o eBPF funciona. </font></font><br>
<img src="https://habrastorage.org/webt/vf/f6/fq/vff6fqzhay_0tskbjguckrqe6e4.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.brendangregg.com/ebpf.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O usu√°rio cria um programa eBPF. Al√©m disso, o kernel, por sua vez, verifica e carrega. Depois disso, o eBPF pode se conectar a v√°rias ferramentas para rastreamentos, informa√ß√µes de processo, salv√°-lo em mapas (estrutura de dados para armazenamento tempor√°rio). Em seguida, o programa do usu√°rio pode ler estat√≠sticas, receber eventos de perf, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele mostra quais recursos do eBPF em quais vers√µes dos kernels do Linux. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/ck/gr/cyckgrqgpnhpfmbg2wptd77b1q0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pode-se observar que quase todos os subsistemas do kernel Linux s√£o cobertos, al√©m de haver boa integra√ß√£o com os dados de hardware, o eBPF tem acesso a todos os tipos de falta de cache ou previs√£o de falta de ramifica√ß√£o, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ est√° interessado no eBPF, confira o projeto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IO Visor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ele cont√©m a maioria das ferramentas. </font><font style="vertical-align: inherit;">A empresa IO Visor est√° envolvida em seu desenvolvimento, elas ter√£o as vers√µes mais recentes e uma documenta√ß√£o muito boa. </font><font style="vertical-align: inherit;">Cada vez mais ferramentas eBPF est√£o aparecendo nas distribui√ß√µes Linux, ent√£o eu recomendo que voc√™ sempre use as √∫ltimas vers√µes dispon√≠veis.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desempenho EBPF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em termos de desempenho, o eBPF √© bastante eficaz. </font><font style="vertical-align: inherit;">Para entender quanto e se h√° sobrecarga, voc√™ pode adicionar uma sonda, que se contrai v√°rias vezes por segundo e verificar quanto tempo leva para execut√°-la. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/jb/tq/rbjbtq7wvfiqdggh5bohn0dcaxc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os caras da Cloudflare fizeram uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">refer√™ncia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Uma simples an√°lise do eBPF levou cerca de 100 ns, enquanto uma mais complexa levou 300 ns. </font><font style="vertical-align: inherit;">Isso significa que mesmo uma sonda complexa pode ser chamada em um √∫nico n√∫cleo cerca de 3 milh√µes de vezes por segundo. </font><font style="vertical-align: inherit;">Se o probe disparar 100 mil ou um milh√£o de vezes por segundo em um processador com v√°rios n√∫cleos, isso n√£o afetar√° muito o desempenho.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frontend para eBPF</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ est√° interessado no eBPF e no t√≥pico Observabilidade em geral, provavelmente j√° ouviu falar de Brendan Gregg. Ele </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escreve</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e fala </font><font style="vertical-align: inherit;">muito sobre isso </font><font style="vertical-align: inherit;">e criou uma imagem t√£o bonita que mostra ferramentas para o eBPF. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/da/-o/fi/da-ofi9xtmuvnkvygmbhzdftz00.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui voc√™ pode ver que, por exemplo, voc√™ pode usar o Raw BPF - basta escrever pelo codecode - isso fornecer√° uma gama completa de recursos, mas ser√° muito dif√≠cil trabalhar com ele. O BPF bruto √© sobre como escrever um aplicativo Web no assembler - em princ√≠pio, √© poss√≠vel, mas sem a necessidade de faz√™-lo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Curiosamente, o bpfTrace, por um lado, permite obter quase tudo, desde BCC e BPF bruto, mas √© muito mais f√°cil de usar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na minha opini√£o, duas ferramentas s√£o mais √∫teis:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cco. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apesar do fato de que, de acordo com o esquema de Gregg, o BCC √© complexo, inclui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muitas fun√ß√µes prontas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que podem ser simplesmente iniciadas na linha de comando.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BpfTrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ele permite que voc√™ escreva seu pr√≥prio kit de ferramentas ou use solu√ß√µes prontas.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode imaginar como √© mais f√°cil escrever no bpfTrace se observar o c√≥digo da mesma ferramenta em duas vers√µes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/yj/rg/dfyjrg8q4abkcjgcsnp00vuuymg.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DTrace vs bpfTrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, o DTrace e o bpfTrace s√£o usados ‚Äã‚Äãpara a mesma coisa. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/uo/rm/rhuormrzvwap7cr3uwlqk8hcnqu.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.brendangregg.com/blog/2018-10-08/dtrace-for-linux-2018.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A diferen√ßa √© que tamb√©m h√° um CBC no ecossistema BPF que pode ser usado para ferramentas complexas. </font><font style="vertical-align: inherit;">Portanto, n√£o h√° equivalente de Cco no DTrace para criar kits de ferramentas complexos, geralmente use o pacote Shell + DTrace.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao criar o bpfTrace, n√£o havia tarefa para emular completamente o DTrace. Ou seja, voc√™ n√£o pode pegar um script do DTrace e execut√°-lo no bpfTrace. Mas isso n√£o faz muito sentido, porque a l√≥gica nas ferramentas de n√≠vel inferior √© bastante simples. Geralmente √© mais importante entender com quais pontos de rastreamento voc√™ precisa se conectar, e os nomes das chamadas do sistema e o que eles fazem diretamente em um n√≠vel baixo diferem no Linux, Solaris, FreeBSD. √â a√≠ que a diferen√ßa surge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse caso, o bpfTrace √© criado 15 anos ap√≥s o DTrace. Possui alguns recursos adicionais que o DTrace n√£o possui. Por exemplo, ele pode fazer rastreamentos de pilha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas √© claro, muito √© herdado do DTrace. Por exemplo, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nomes de fun√ß√µes e sintaxe s√£o semelhantes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , embora n√£o sejam completamente equivalentes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9l/cf/0z/9lcf0z37mltxok_7fsdvdhxanv8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os scripts DTrace e bpfTrace s√£o pr√≥ximos no tamanho do c√≥digo e semelhantes nos recursos de complexidade e idioma.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/re/ud/br/reudbrcb_yoslb9ylo0loe9e-os.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bpfTrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos ver com mais detalhes o que h√° no bpfTrace, como ele pode ser usado e o que √© necess√°rio para isso. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requisitos de Linux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para usar o bpfTrace: </font></font><br>
<img src="https://habrastorage.org/webt/1_/sc/tk/1_sctkrpgkd3rd2b0ccrk4fur2y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para usar todos os recursos, voc√™ precisa de uma vers√£o de pelo menos 4.9. </font><font style="vertical-align: inherit;">O BpfTrace permite fazer v√°rias sondas diferentes, come√ßando com uprobe para instrumentar uma chamada de fun√ß√£o em um aplicativo de usu√°rio, sondas de kernel, etc.</font></font><br>
<img src="https://habrastorage.org/webt/la/v4/zq/lav4zqiss3uj4a42cx9lf5cu9hs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Curiosamente, existe um equivalente de uretprobe para uma fun√ß√£o de uprobe personalizada. Para o kernel, a mesma coisa √© kprobe e kretprobe. Isso significa que, de fato, na estrutura de rastreamento, voc√™ pode gerar eventos quando a fun√ß√£o √© chamada e ap√≥s a conclus√£o dessa fun√ß√£o - isso geralmente √© usado para cronometrar. Ou voc√™ pode analisar os valores que a fun√ß√£o retornou e agrup√°-los de acordo com os par√¢metros com os quais a fun√ß√£o foi chamada. Se voc√™ pegar uma chamada de fun√ß√£o e retornar dela, poder√° fazer muitas coisas legais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dentro do bpfTrace, funciona assim: escrevemos um programa bpf que √© analisado, convertido em C e processado atrav√©s do Clang, que gera c√≥digo de byte bpf, ap√≥s o qual o programa √© carregado.</font></font><br>
<img src="https://habrastorage.org/webt/2r/my/_i/2rmy_ipzm97oydg5q8xdltdbchs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O processo √© bastante dif√≠cil, ent√£o existem limita√ß√µes. </font><font style="vertical-align: inherit;">Em servidores poderosos, o bpfTrace funciona bem. </font><font style="vertical-align: inherit;">Mas arrastar o Clang para um pequeno dispositivo incorporado para descobrir o que est√° acontecendo n√£o √© uma boa ideia. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ply √©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adequado para isso </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Obviamente, ele n√£o possui todos os recursos do bpfTrace, mas gera diretamente o bytecode.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suporte Linux</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma vers√£o est√°vel do bpfTrace foi lan√ßada h√° cerca de um ano, por isso n√£o est√° dispon√≠vel em distribui√ß√µes Linux mais antigas. </font><font style="vertical-align: inherit;">√â melhor pegar pacotes ou compilar a vers√£o mais recente que o IO Visor distribui. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Curiosamente, o √∫ltimo Ubuntu LTS 18.04 n√£o possui o bpfTrace, mas pode ser entregue usando o pacote snap. </font><font style="vertical-align: inherit;">Por um lado, isso √© conveniente, mas por outro lado, devido √† maneira como os pacotes snap s√£o criados e isolados, nem todas as fun√ß√µes funcionam. </font><font style="vertical-align: inherit;">Para rastreamento de kernel, um pacote com snap funciona bem; para rastreamento de usu√°rio, pode n√£o funcionar corretamente.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d3/si/co/d3sicofnas8mpwyrsvmkp1kdbvm.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de rastreamento de processo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere o exemplo mais simples que permite obter estat√≠sticas sobre solicita√ß√µes de E / S:</font></font><br>
<br>
<pre><code class="bash hljs">bpftrace -e <span class="hljs-string">'kprobe:vfs_read { @start[tid] = nsecs; }
kretprobe:vfs_read /@start[tid]/ { @ns[comm] = hist(nsecs - @start[tid]); delete(@start[tid]); }'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui nos conectamos √† fun√ß√£o </font></font><code>vfs_read</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kretprobe e kprobe. </font><font style="vertical-align: inherit;">Al√©m disso, para cada ID de thread (tid), ou seja, para cada solicita√ß√£o, rastreamos o in√≠cio e o fim de sua execu√ß√£o. </font><font style="vertical-align: inherit;">Os dados podem ser agrupados n√£o apenas pela totalidade de todo o sistema, mas tamb√©m por diferentes processos. </font><font style="vertical-align: inherit;">Abaixo est√° a sa√≠da IO do MySQL. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e1/dx/om/e1dxomau1ormvas-7juk1as0sqy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A distribui√ß√£o de E / S bimodal cl√°ssica √© vis√≠vel. </font><font style="vertical-align: inherit;">Um grande n√∫mero de solicita√ß√µes r√°pidas s√£o dados que s√£o lidos no cache. </font><font style="vertical-align: inherit;">O segundo pico √© a leitura de dados do disco, onde a lat√™ncia √© muito maior. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode salvar isso como um script (a extens√£o bt geralmente √© usada), escrever coment√°rios, format√°-lo e apenas us√°-lo ainda mais </font></font><code>#bpftrace read.bt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="bash hljs">// read.bt file<font></font>
tracepoint:syscalls:sys_enter_read<font></font>
{<font></font>
  @start[tid] = nsecs;<font></font>
}<font></font>
tracepoint:syscalls:sys_exit_read / @start[tid]/ <font></font>
{<font></font>
  @<span class="hljs-built_in">times</span> = hist(nsecs - @start[tid]);<font></font>
  delete(@start[tid]);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conceito geral da linguagem √© bastante simples.</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sintaxe:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> selecione o probe para conectar </font></font><code>probe[,probe,...] /filter/ { action }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtro:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> especifique um filtro, por exemplo, apenas dados em um determinado processo de um determinado Pid.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A√ß√£o: um</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> miniprograma que converte diretamente em um programa bpf e √© executado quando o bpfTrace √© chamado.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais detalhes podem ser encontrados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas Bpftrace</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O BpfTrace tamb√©m possui uma caixa de ferramentas. </font><font style="vertical-align: inherit;">Agora, muitas ferramentas simples no BCC s√£o implementadas no bpfTrace. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/sr/f1/dzsrf1-klsvpjawbgtdzffgegra.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A cole√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ainda √© pequena, mas h√° algo que n√£o est√° no BCC. </font><font style="vertical-align: inherit;">Por exemplo, o killsnoop permite rastrear os sinais causados ‚Äã‚Äãpor kill (). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ estiver interessado em examinar o c√≥digo bpf, no bpfTrace poder√° </font></font><code>-v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ver o c√≥digo de bytes gerado. </font><font style="vertical-align: inherit;">Isso √© √∫til se voc√™ deseja entender uma sonda pesada ou n√£o. </font><font style="vertical-align: inherit;">Depois de analisar o c√≥digo e apenas ter estimado seu tamanho (uma p√°gina ou duas), voc√™ pode entender como √© complicado.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fo/sr/zg/fosrzgluhzrwsysvgvtsrkth8qe.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de rastreamento do MySQL</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deixe-me mostrar um exemplo do MySQL, como ele funciona. </font><font style="vertical-align: inherit;">O MySQL possui uma fun√ß√£o </font></font><code>dispatch_command</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na qual todas as execu√ß√µes de consultas do MySQL ocorrem.</font></font><br>
<br>
<pre><code class="bash hljs">bpftrace -e <span class="hljs-string">'uprobe:/usr/sbin/mysqld:dispatch_command { printf("%s\n", str(arg2)); }'</span>
failed to <span class="hljs-built_in">stat</span> uprobe target file /usr/sbin/mysqld: No such file or directory</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu s√≥ queria conectar uma sonda para imprimir o texto das consultas que chegam ao MySQL - uma tarefa primitiva. </font><font style="vertical-align: inherit;">Tem um problema - diz que n√£o existe esse arquivo. </font><font style="vertical-align: inherit;">Como n√£o quando aqui est√°:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:/# ls -la /usr/sbin/mysqld<font></font>
-rwxr-xr-x 1 root root 60718384 Oct 25 09:19 /usr/sbin/mysqld</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas s√£o apenas surpresas com o snap. </font><font style="vertical-align: inherit;">Se definido por snap, pode haver problemas no n√≠vel do aplicativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o eu instalei atrav√©s da vers√£o apt, um Ubuntu mais recente, iniciei novamente:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:~# bpftrace -e 'uprobe:/usr/sbin/mysqld:dispatch_command { printf("%s\n", str(arg2)); }'<font></font>
Attaching 1 probe...<font></font>
Could not resolve symbol: /usr/sbin/mysqld:dispatch_command</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚ÄúN√£o existe esse s√≠mbolo‚Äù - como n√£o ?! </font><font style="vertical-align: inherit;">Examino </font></font><code>nm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se existe esse s√≠mbolo ou n√£o:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:~# nm -D /usr/sbin/mysqld | grep dispatch_command<font></font>
00000000005af770 T <font></font>
_Z16dispatch_command19enum_server_commandP3THDPcjbb<font></font>
<font></font>
root@localhost:~# bpftrace -e 'uprobe:/usr/sbin/mysqld:_Z16dispatch_command19enum_server_commandP3THDPcjbb { printf("%s\n", str(arg2)); }'<font></font>
Attaching 1 probe...<font></font>
select @@version_comment limit 1<font></font>
select 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existe esse s√≠mbolo, mas como o MySQL √© compilado a partir do C ++, o mangling √© usado l√°. </font><font style="vertical-align: inherit;">Na verdade, o nome atual da fun√ß√£o que √© usada nesse comando, o seguinte: </font></font><code>_Z16dispatch_command19enum_server_commandP3THDPcjbb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Se voc√™ o usar em uma fun√ß√£o, poder√° se conectar e obter o resultado. </font><font style="vertical-align: inherit;">No ecossistema perf, muitas ferramentas tornam a desmontagem autom√°tica e o bpfTrace ainda n√£o √© capaz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m preste aten√ß√£o na bandeira </font></font><code>-D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para </font></font><code>nm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">√â importante porque o MySQL, e agora muitos outros pacotes, vem sem s√≠mbolos din√¢micos (s√≠mbolos de depura√ß√£o) - eles v√™m em outros pacotes. </font><font style="vertical-align: inherit;">Se voc√™ quiser usar esses caracteres, precisar√° de uma bandeira </font></font><code>-D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, caso contr√°rio, nm n√£o os ver√°.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Links √öteis</font></font></b>
                        <div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/zoidbergwill/awesome-ebpf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">slideplayer.com/slide/12710510</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.brendangregg.com/ebpf.html</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vger.kernel.org/netconf2018_files/BrendanGregg_netconf2018.pdf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.brendangregg.com/Slides/Velocity2017_BPF_superpowers.pdf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lwn.net/Articles/740157</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tracingsummit.org/w/images/8/82/Tracingsummit2018-bpftrace-robertson.pdf</a></li>
</ul></div>
                    </div><br>
<blockquote><i>   :</i>  ++ 25‚Äì26    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>        ,     .    ,       ,            . <br>
<br>
<i>   :</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">++ Online</a>   .       5 900        ,      ,        -.<br>
<br>
<i>   :</i>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DevOpsConf 2019</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HighLoad++ 2019</a> ‚Äî   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>. <br>
<br>
       ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>, . </blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt500446/index.html">Algumas palavras sobre R2DBC e PostgreSQL</a></li>
<li><a href="../pt500448/index.html">Prometheus: monitoramento HTTP atrav√©s do exportador do Blackbox</a></li>
<li><a href="../pt500450/index.html">Fazendo um teclado MIDI a partir de um sintetizador de crian√ßas velhas</a></li>
<li><a href="../pt500452/index.html">Alto racioc√≠nio na aprendizagem profunda</a></li>
<li><a href="../pt500454/index.html">"Quais marinas?" ou controlamos o controlador via bluetooth usando um aplicativo m√≥vel no Xamarin (Android)</a></li>
<li><a href="../pt500458/index.html">Recursos t√©cnicos do discurso on-line: Starter Pack</a></li>
<li><a href="../pt500462/index.html">Detectando altera√ß√µes de cena e salvando clipes de v√≠deo h264 no Raspberry Pi sem decodificar</a></li>
<li><a href="../pt500468/index.html">Guia de Recursos Java 8-14</a></li>
<li><a href="../pt500470/index.html">Adaptando sua solu√ß√£o comercial existente para o SwiftUI. Parte 3. Trabalhando com Arquitetura</a></li>
<li><a href="../pt500472/index.html">Python √© hora de abrir espa√ßo. Sobre as perspectivas de Julia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>