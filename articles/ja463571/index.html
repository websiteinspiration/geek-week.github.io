<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👍🏻 ☠️ 🅰️ Cisco 200-125 CCNA v3.0のトレーニング。21日目。RIPリモートベクトルルーティング 🍡 👧 🖋️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今日のレッスンのトピックは、RIP、またはルーティング情報プロトコルです。アプリケーションのさまざまな側面、構成、制限について説明します。すでに述べたように、RIPのトピックはCisco 200-125 CCNAコースのカリキュラムには含まれていませんが、RIPは主要なルーティングプロトコルの1つで...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco 200-125 CCNA v3.0のトレーニング。21日目。RIPリモートベクトルルーティング</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/463571/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今日のレッスンのトピックは、RIP、またはルーティング情報プロトコルです。アプリケーションのさまざまな側面、構成、制限について説明します。すでに述べたように、RIPのトピックはCisco 200-125 CCNAコースのカリキュラムには含まれていませんが、RIPは主要なルーティングプロトコルの1つであるため、このプロトコルには別のレッスンを行うことにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日は3つの側面を検討します：作業の理解とルーターでのRIPのセットアップ、RIPタイマー、RIP制限。このプロトコルは1969年に作成されたため、最も古いネットワークプロトコルの1つです。その利点は、その並外れた単純さにあります。今日、シスコを含む多くのネットワークデバイスは、RIGをサポートし続けています。これは、RIPがEIGRPのように独自仕様ではなく、パブリックプロトコルであるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RIPには2つのバージョンがあります。最初のクラシックバージョンはVLSMをサポートしていません。クラスレスIPアドレスのベースとなるサブネットマスクの可変長なので、1つのネットワークしか使用できません。これについては、少し後で説明します。このバージョンも認証をサポートしていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つのルーターが相互に接続されているとします。この場合、最初のルーターは、知っていることをすべてネイバーに伝えます。ネットワーク10が第1のルーターに接続され、ネットワーク20が第1のルーターと第2のルーターの間にあり、ネットワーク30が第2のルーターの背後にあると仮定します。次に、第1のルーターは第2のルーターにネットワーク10と20を認識していることを伝え、ルーター2はルーター1に認識していることを伝えますネットワーク30とネットワーク20について。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c8/or/9u/c8or9uvtouqxdinajpz6h75-osu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルーティングプロトコルは、これらの2つのネットワークをルーティングテーブルに追加する必要があることを示しています。一般に、1つのルーターは、隣接するルーターに接続されているネットワーク、1つはその隣接ルーターに接続されているネットワークなどについて話していることがわかります。簡単に言えば、RIPはゴシッププロトコルであり、隣接するルーターが相互に情報を共有し、各隣接ルーターが無条件に自分の話を信じることを保証します。各ルーターはネットワークの変更を「リッスン」し、それらを隣接ルーターと共有します。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
認証サポートがないことは、ネットワークに接続されるすべてのルーターがすぐに完全なメンバーになることを意味します。ネットワークを停止したい場合は、ハッカールーターを悪意のある更新に接続します。他のすべてのルーターはそれを信頼しているため、必要に応じてルーティングテーブルを更新します。このようなハックに対して、RIPの最初のバージョンはいかなる保護も提供しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RIPv2は、ルーターを適切に構成することで認証を提供できます。この場合、ルータ間での情報更新は、パスワード入力によるネットワーク認証を経て初めて可能となります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RIPv1はブロードキャストを使用します。つまり、すべての更新はブロードキャストメッセージを使用して送信されるため、すべてのネットワーク参加者がそれらを受信します。ルーティングデバイスのみが更新を必要とするため、これらの更新について何も知らない最初のルーターにコンピューターが接続されているとします。ただし、ルーター1はこれらのメッセージを、ブロードキャストIDを持つすべてのデバイス、つまりそれを必要としないデバイスにも送信します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1v/he/y3/1vhey3qf4y9xfty-o_vuqw9fgxs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RIPの2番目のバージョンでは、この問題は解決されています-マルチキャストIDまたはマルチキャストトラフィックを使用します。この場合、プロトコル設定で指定されているデバイスのみが更新を受信します。認証に加えて、このバージョンのRIPはクラスレスVLSM IPアドレス指定をサポートしています。つまり、10.1.1.1 / 24ネットワークが最初のルーターに接続されている場合、IPアドレスがこのサブネットのアドレス範囲内にあるすべてのネットワークデバイスも更新を受信します。プロトコルの2番目のバージョンはCIDR方式をサポートします。つまり、2番目のルーターが更新を受信すると、関係する特定のネットワークまたはルートを認識します。最初のバージョンの場合、10.1.1.0ネットワークがルーターに接続されている場合、10.0.0.0ネットワークのデバイスと同じクラスに属する他のネットワークも更新を受信します。同時に、ルーター2はこれらのネットワークの更新に関する完全な情報も受け取りますが、CIDRがないと、この情報がクラスAのIPアドレスを持つサブネットに関係していることがわかりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが、RIPの一般的な用語です。それでは、それをどのように構成できるかを見てみましょう。ルーター設定のグローバル構成モードに入り、ルーターRIPコマンドを使用する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5d/bl/i9/5dbli9a44hxz0mldn55eszd1iai.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、ルーターのサブコマンドレベルに移動したため、コマンドラインヘッダーがR1（config-router）＃に変更されていることがわかります。 2番目のコマンドはバージョン2になります。つまり、バージョン2のプロトコルを使用する必要があることをルーターに通知します。次に、network XXXXコマンドを使用して更新が送信されるアナウンスされたクラスネットワークのアドレスを入力する必要があります。このコマンドには2つの機能があります。1つ目はアナウンスするネットワークを示し、2つ目はこれに使用するインターフェイスを示します。ネットワーク構成を見ると、私の意味がわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ed/08/hy/ed08hyitn4pf5zqf4awnubavbrq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここには4つのルーターと、192.168.1.0 / 26という識別子のネットワークを介してスイッチに接続されたコンピューターがあり、4つのサブネットに分割されています。 192.168.1.0/26、192.168.1.64/26および192.168.1.128/26の3つのサブネットのみを使用します。まだ192.168.1.192/26サブネットがありますが、役に立たないため使用されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスポートには次のIPアドレスがあります：コンピューター192.168.1.10、最初のルーターの最初のポート192.168.1.1、2番目のポート192.168.1.65、2番目のルーターの最初のポート192.168.1.66、2番目のルーターの2番目のポート192.168.1.129、3番目のルーターの最初のポート192.168.1.130 。前回契約について話し合ったので、.1はこのネットワークの一部ではないので、規則に従ってルータの2番目のポートにアドレス.1を割り当てることはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、別のネットワークを開始するため、他のアドレスを使用します-10.1.1.0/16、このネットワークが接続されている2番目のルーターの2番目のポートはIPアドレス10.1.1.1を持ち、4番目のルーターのスイッチが接続されているポートは-アドレス10.1.1.2。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cj/-d/yl/cj-dyl-iz0l6ne65woujvo7hnke.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成したネットワークを構成するには、デバイスにIPアドレスを割り当てる必要があります。最初のルーターの最初のポートから始めましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dn/jg/2o/dnjg2o7vlsugj5j2atrhf0ncvlg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、ホスト名R1を作成し、アドレス192.168.1.1をポートf0 / 0に割り当て、/ 26という形式のネットワークがあるため、サブネットマスク255.255.255.192を指定します。 no shutコマンドを使用して、R1の構成を完了します。最初のf0 / 1ルーターの2番目のポートは、IPアドレス192.168.1.65とサブネットマスク255.255.255.192を受け取ります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のルーターは名前R2を受け取り、最初のポートf0 / 0はアドレス192.168.1.66とサブネットマスク255.255.255.192を割り当て、2番目のポートf0 / 1-アドレス192.168.1.129とサブネットマスク255.255.255.192を割り当てます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目のルーターに移動すると、ホスト名はR3、ポートf0 / 0はアドレス192.168.1.130とマスク255.255.255.192を受け取り、ポートf0 / 1はアドレス10.1.1.1とマスク255.255.0.0を受け取ります。このネットワークは/ 16であるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、最後のルーターに移動し、R4という名前を付け、アドレス10.1.1.2とマスク255.255.0.0をポートf0 / 0に割り当てます。したがって、すべてのネットワークデバイスを構成しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、コンピューターのネットワーク設定を見てみましょう。静的IPアドレスは192.168.1.10、ハーフネットマスクは255.255.255.192、デフォルトゲートウェイアドレスは192.168.1.1です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/y0/-w/kf/y0-wkf-76cc3_xmg7t18hcb2ygq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、さまざまなサブネットのデバイスに対してサブネットマスクがどのように構成されるかを確認しましたが、それは非常に簡単です。ルーティングを有効にします。 R1の設定に入り、グローバルコンフィギュレーションモードを設定し、routerコマンドを入力します。その後、システムはこのコマンドの可能なルーティングプロトコルのヒントを提供します：bgp、eigrp、ospf、およびrip。このチュートリアルはRIPに関するものなので、私はrouter ripコマンドを使用します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/py/c_/vq/pyc_vqkhvsewtppct7cts0ekw68.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
疑問符を入力すると、システムは次のコマンドに新しいヒントを与え、このプロトコルの機能に可能なオプションを提供します：auto-summary-自動ルート要約、default-information-デフォルト情報の表示の制御、ネットワーク-ネットワーク、タイミングなど。ここでは、近隣のデバイスと交換する情報を選択できます。最も重要な機能はバージョンであるため、まずバージョン2コマンドを入力します次に、key networkコマンドを使用して、指定したIPネットワークのルートを作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
後でルーター1の構成を続行し、ルーター3に移動します。networkコマンドを使用する前に、ネットワークトポロジの右側を見てみましょう。ルーターの2番目のポートのアドレスは10.1.1.1です。 RIPはどのように機能しますか？ RIPの2番目のバージョンでも、かなり古いプロトコルとして、独自のネットワーククラスを使用します。したがって、ネットワーク10.1.1.0/16がクラスAに属しているという事実にもかかわらず、network 10.0.0.0コマンドを使用して、このIPアドレスのクラスの完全バージョンを指定する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、network 10.1.1.1コマンドを入力して現在の構成を確認しても、システムは10.1.1.1を10.0.0.0に修正し、自動的にフルクラスのアドレス形式を使用していることがわかります。したがって、CCNA試験でRIPについて質問がある場合は、フルクラスのアドレス指定を使用する必要があります。 10.0.0.0の代わりに10.1.1.1または10.1.0.0と入力すると、エラーが発生します。フルクラスのアドレス形式への変換は自動的に行われるという事実にもかかわらず、システムがエラーを修正するまで待つ必要がないように、最初は正しいアドレスを使用することをお勧めします。注意-RIPは常にフルクラスのネットワークアドレス指定を使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
network 10.0.0.0コマンドを使用すると、3番目のルーターがこの10番目のネットワークをルーティングプロトコルに挿入し、R3-R4ルートに沿って更新を送信します。次に、4番目のルーターのルーティングプロトコルを構成する必要があります。私はその設定に入り、router rip、version 2とnetwork 10.0.0.0コマンドを順番に入力します。このコマンドで、R4にRIPルーティングプロトコルを使用してネットワーク10.のアナウンスを開始するように依頼します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sg/uj/nz/sgujnzu8f6ff0ln741wfuu7yf0m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの2つのルーターは情報を交換できますが、何も変更されません。 show ip routeコマンドを使用すると、FastEthernrt 0/0が10.1.0.0ネットワークに直接接続されていることがわかります。 3番目のルーターからネットワークのアナウンスを受け取った4番目のルーターは、「すばらしい、バディ、10番目のネットワークのアナウンスを受け取りましたが、このネットワークに直接接続しているので、すでに知っています。」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、R3の設定に戻り、network 192.168.1.0コマンドで別のネットワークを挿入します。再びフルクラスのアドレス形式を使用しています。その後、3番目のルーターは、ルートR3-R4に沿ってネットワーク192.168.1.128をアナウンスできます。すでに述べたように、RIPは新しいネットワークについてすべてのネイバーに話し、ルーティングテーブルから情報を渡す「ゴシップ」です。 3番目のルーターのテーブルを見ると、それに接続されている2つのネットワークのデータが表示されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j_/rz/ph/j_rzph3fpewflzew306u5whbtlq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼はこのデータをルートの両端に送信し、2番目と4番目のルーターの両方に送信します。 R2の設定に移りましょう。同じrouter rip、version 2、およびnetwork 192.168.1.0コマンドを入力すると、ここから楽しみが始まります。 1.0のネットワークを指定していますが、これはネットワーク192.168.1.64/26とネットワーク192.168.1.128/26の両方です。したがって、ネットワーク192.168.1.0を指定すると、このルーターの両方のインターフェースにルーティングを技術的に提供します。便利なのは、1つのコマンドでデバイスのすべてのポートのルーティングを指定できることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R1ルーターにまったく同じパラメーターを指定し、同じ方法で両方のインターフェイスにルーティングを提供します。ルーティングテーブルR1を見ると、すべてのネットワークを確認できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vw/vs/no/vwvsnokjluzkrxgeja6w_9-hsly.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このルーターは、ネットワーク1.0とネットワーク1.64を認識しています。また、RIPを使用しているため、ネットワーク1.128と10.1.1.0についても知っています。これは、ルーティングテーブルの対応する行の見出しRで示されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
情報[120/2]に注意してください。これはアドミニストレーティブディスタンス、つまりルーティング情報のソースの信頼性です。この値は大きい場合と小さい場合がありますが、RIPプロトコルの場合、デフォルトでは120です。たとえば、スタティックルートのアドミニストレーティブディスタンスは1です。アドミニストレーティブディスタンスが小さいほど、プロトコルの信頼性は高くなります。ルーターが2つのプロトコル（静的ルートとRIPなど）を選択できる場合、静的ルートに沿ってトラフィックを転送することを選択します。括弧内の2番目の値/ 2はメトリックです。 RIPプロトコルでは、メトリックは希望の数を意味します。この場合、ネットワーク10.0.0.0/8は2つの希望で達成できます。つまり、R1ルーターはネットワーク192.168.1.64/26を介してトラフィックを送信する必要があります。これは最初のホップであり、ネットワーク192.168.1.128/26を介してこれは2番目のホップです。IPアドレスが192.168.1.66のFastEthernet 0/1インターフェイスを持つデバイスを介して10.0.0.0/8ネットワークに入る。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
比較のために、R1ルーターは、ネットワーク192.168.1.128に到達できます。アドミニストレーティブディスタンスは、インターフェイス192.168.1.66を介して1ホップあたり120です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、PC0からIPアドレス10.1.1.2のR4ルーターのインターフェイスにpingを実行しようとすると、正常に戻ります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mr/b5/4k/mrb54k_ejqshlt6amk4fdc1m2nm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ARPを使用すると最初のパケットは消えますが、他の3つは正常に宛先に戻ったため、最初の試行は要求タイムアウトメッセージで失敗しました。このようにして、ピアツーピア通信はRIPルーティングプロトコルを使用してネットワーク上で行われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、ルーターによるRIPプロトコルの使用を有効にするには、ルーターrip、バージョン2、およびnetwork &lt;ネットワーク番号/フルクラス形式のネットワーク識別子&gt;コマンドを順番に入力する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R4の設定に入り、コマンドshow ip routeを入力します。ネットワーク10.がルーターに直接接続されており、ネットワーク192.168.1.0/24は、RIPプロトコルを介してIPアドレス10.1.1.1のポートf0 / 0からアクセスできることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5u/i7/mn/5ui7mnzbzfafopzxnbxcki51rw4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワークのタイプ192.168.1.0/24に注意を払うと、ルートの自動合計の問題があることに気づくでしょう。自動要約が有効になっている場合、RIPプロトコルは192.168.1.0/24までのすべてのネットワークを要約します。タイマーとは何かを見てみましょう。 RIPには4つの基本タイマーがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x3/ip/5u/x3ip5uqsgv1o0z1dcsmbres09y4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
更新タイマーは、更新を送信する頻度を担当します。30秒ごとに、RIPルーティングに関与するすべてのインターフェイスでプロトコル更新を送信します。つまり、ルーティングテーブルを取得して、RIPモードで動作しているすべてのポートに送信します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワークN2によってルーター2に接続されているルーター1があるとします。最初のルーターの前と2番目のルーターの後には、ネットワークN1とN3があります。ルーター1はルーター2にネットワークN1とN2を認識していることを通知し、更新を送信します。ルータ2はルータ1に、ネットワークN2およびN3を認識していることを伝えます。同時に、30秒ごとに、ルーターのポートはルーティングテーブルを交換します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何らかの理由で、N1-R1接続が切断され、ルーター1がN1ネットワークに接続できなくなったとします。その後、最初のルーターは、N2ネットワークに関する更新のみを2番目のルーターに送信します。このような最初の更新を受信したルーター2は、「優れた、N1ネットワークを無効なタイマーネットワークタイマーに入れる必要がある」と考え、無効な​​タイマーを開始します。 180秒間、彼はN1ネットワークと更新を誰とも交換しませんが、この期間の後、無効なタイマーを停止し、更新タイマーを再び開始します。これらの180秒間にN1ネットワークのステータスの更新を受信しない場合、180秒間ホールドダウンタイマーに入れます。つまり、無効なタイマーが終了した直後にホールドダウンタイマーが開始します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、4番目のフラッシュタイマーがもう1つ実行されており、無効タイマーと同時に開始されます。このタイマーは、N1ネットワークに関する最後の通常の更新を受信して​​から、このネットワークがルーティングテーブルから除外されるまでの時間間隔を決定します。したがって、このタイマーの持続時間が240秒に達すると、ネットワークN1は2番目のルーターのルーティングテーブルから自動的に除外されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、更新タイマーは30秒ごとに更新を送信します。 180秒ごとに開始する無効なタイマーは、新しい更新がルーターに到達するまで待機します。到着しない場合は、ネットワークを保留にし、ホールドダウンタイマーを180秒ごとに開始します。ただし、無効タイマーとフラッシュタイマーは同時に開始されるため、フラッシュが開始してから240秒後に、更新に記載されていないネットワークはルーティングテーブルから除外されます。これらのタイマーの期間はデフォルトで設定されており、変更できます。これがRIPタイマーです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、RIPプロトコルの制限について説明します。かなりの数の制限があります。主な制限の1つは自動合計です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/eg/by/x3/egbyx39gmk5_p-v3jvem8g41s0y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク192.168.1.0/24に戻りましょう。ルーター3は、/ 24で示されるように、ネットワーク1.0全体についてルーター4に通知します。つまり、ネットワーク識別子とブロードキャストアドレスを含む、このネットワークの256個すべてのIPアドレスが利用可能です。つまり、この範囲のIPアドレスを持つデバイスからのメッセージは、ネットワーク10.1.1.1経由で送信されます。ルーティングテーブルR3を参照してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ru/cl/oy/rucloye1pnybfr3zkg3gnaf71wy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3つのサブネットに分割されたネットワーク192.168.1.0/26が表示されます。これは、ルーターが/ 26ネットワークに属する192.168.1.0、192.168.1.64、および192.168.1.128の3つの指定されたIPアドレスのみを認識していることを意味します。しかし、彼は、たとえばIPアドレスが192.168.1.192から192.168.1.254のデバイスについては何も知りません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、何らかの理由で、R4はR3が送信するトラフィック、つまりネットワーク192.168.1.0/24のすべてのIPアドレスについてすべて知っていると考えていますが、これは完全に間違っています。同時に、ルーターは互いに「だましている」ため、トラフィックのドロップを開始できます。結局のところ、ルーター3は、このネットワークのサブネットに関するすべてを知っていることを4番目のルーターに通知する権利がありません。これは、自動合計と呼ばれる問題が原因です。トラフィックが異なる大規模ネットワークを流れるときに発生します。たとえば、この例では、クラスCアドレスのネットワークは、R3ルーターを介してクラスAアドレスのネットワークに接続されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n9/eb/_z/n9eb_zwyyksqmacpaa1kkf2kah4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R3ルーターはこれらのネットワークを同じと見なし、すべてのルートを単一のネットワークアドレス192.168.1.0に自動的に要約します。以前のビデオの1つでスーパーネットのルートを合計することについて話したことを思い出してください。合計の理由は単純です。ルーターは、ルーティングテーブルの1つのエントリ（10.1.1.1を介したこのエントリ192.168.1.0/24 [120/1]）が3つのエントリよりも優れていると考えています。ネットワークが数百の小さなサブネットで構成されている場合、要約が無効になっていると、ルーティングテーブルは膨大な数のルーティングエントリで構成されます。したがって、ルーティングテーブルに大量の情報が蓄積されるのを防ぐために、自動ルート合計が使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、私たちの場合、ルートの自動合計はルーターに誤った情報を交換させるため、問題が発生します。</font><font style="vertical-align: inherit;">したがって、R3ルーターの設定に移動し、ルートの自動要約を禁止するコマンドを入力する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、router ripを入力し、auto-summaryコマンドは順番に入力しません。</font><font style="vertical-align: inherit;">その後、更新がネットワーク経由で配布されるまで待機する必要があります。その後、R4ルーターの設定でshow ip routeコマンドを使用できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3v/xw/a_/3vxwa_4dzqjprxi5zds8cqah07s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルーティングテーブルがどのように変更されたかがわかります。</font><font style="vertical-align: inherit;">10.1.1.1を介したレコード192.168.1.0/24 [120/1]は、前のバージョンのテーブルから保存され、その後3つのレコードが続きます。これは、更新タイマーのおかげで、30秒ごとに更新されます。</font><font style="vertical-align: inherit;">フラッシュタイマーは、更新後の240秒と30秒後、つまり270秒後、このネットワークがルーティングテーブルから削除されることを保証します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bq/p2/ww/bqp2wwjj62yk4nuha9c8ern-kmq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク192.168.1.0/26、192.168.1.64/26および192.168.1.128/26は正しく指定されているため、トラフィックがデバイス192.168.1.225を対象としている場合、ルーターはこれを備えたデバイスの場所を認識していないため、このデバイスはトラフィックをドロップします住所。ただし、前のケースでは、R3のルートの自動合計が有効になっている場合、このトラフィックはネットワーク10.1.1.1に送信されますが、これは完全に間違っていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク管理者は、最小限の過剰トラフィックでネットワークを作成する必要があります。たとえば、この場合、R3を介してこのトラフィックを転送する必要はありません。あなたの仕事は、ネットワーク帯域幅を可能な限り増やし、それを必要としないデバイスへのトラフィック転送を防ぐことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RIPの次の制限は、ループまたはループです。ルーティングテーブルが正しく更新されたときのネットワークの収束についてはすでに説明しました。私たちの場合、ルーターは、ネットワーク192.168.1.0/24について何も知らなければ、ネットワーク192.168.1.0/24の更新を受信するべきではありません。技術的には、収束とは、正しい情報でのみルーティングテーブルが更新されることを意味します。これは、ルーターの電源を切って再起動したとき、ネットワークに再接続したときなどに発生します。収束とは、ルーティングテーブルに必要なすべての更新が完了し、必要なすべての計算が実行されている状態です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RIPはコンバージェンスが非常に悪いという特徴があり、非常に低速のルーティングプロトコルです。この低速のため、ループループ、つまり「エンドレスカウンター」の問題が発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の例と同様のネットワーク図を描きます。ルーター1はルーター2にネットワークN2で接続され、ネットワーク1はルーター1に接続され、ネットワーク2はルーター2に接続されています。何らかの理由で、接続N1-R1が切断されたとします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fa/4y/ti/fa4ytivps3zyrq1h8gmv5tppmkg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルーター2は、ネットワークN1がルーター1を介して1ホップで到達可能であることを認識していますが、このネットワークは現在機能していません。ネットワークがクラ​​ッシュした後、タイマープロセスが開始し、ルーター1はそれをホールドダウン状態にします。ただし、ルータ2には更新タイマーが実行されており、設定された時間にルータ1に更新を送信します。これは、ネットワークN1が2つの希望でアクセスできることを示しています。この更新は、ネットワークN1の障害に関する更新をルーター2に送信する前に、ルーター1に到着します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアップデートを受信した後、ルーター1は次のように考えています。「自分に接続されているネットワークN1が何らかの理由で機能しないことを知っていますが、ルーター2は2つの希望でアクセスできることを通知しました。私は彼を信じているので、1ホップを追加してルーティングテーブルを更新し、ルーター2に3ホップでルーター2を介してネットワークN1にアクセスできるというアップデートを送信します。」</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のルーターからこの更新を受信すると、ルーター2は次のように言います。「わかりました。以前はR1から更新を取得していましたが、N1ネットワークには1ホップでアクセスできると言われていました。今彼はそれが3ホップで利用できることを私に知らせました。ネットワークで何かが変更された可能性があります。信じられないので、ホップを1つ追加してルーティングテーブルを更新します。」その後、R2は最初のルーターに更新を送信します。これは、N1ネットワークが4ホップで利用可能になったことを示します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたは問題が何であるかわかりますか？両方のルーターが相互に更新を送信し、毎回1つのホップを追加し、最終的に希望の数が大きな値に達します。 RIPプロトコルでは、希望の最大数は16であり、この値に到達するとすぐに、ルーターは問題があることを認識し、このルートをルーティングテーブルから単に削除します。これは、RIPプロトコルでのルーティングループの発生の問題です。これは、RIPが距離ベクトルプロトコルであり、ネットワークセクションの状態に注意を払わずに距離のみを監視するという事実によるものです。 1969年、コンピューターネットワークの動作が現在よりもはるかに遅くなったとき、距離ベクトルアプローチが正当化されたため、RIP開発者はホップカウントを主要なメトリックとして選択しました。しかし、今日このアプローチは多くの問題を引き起こし、したがって、最新のネットワークでは、OSPFなどのより高度なルーティングプロトコルへの移行が一般的に実装されています。事実、このプロトコルはほとんどのグローバル企業のネットワークの標準となっています。このプロトコルについては、次のいずれかのビデオで詳しく説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RIPには戻らないので、この最も古いネットワークプロトコルの例を使用して、ルーティングの基本と、このプロトコルを大規模ネットワークで使用できなくなる問題について十分に説明しました。次のビデオチュートリアルでは、最新のルーティングプロトコルであるOSPFとEIGRPについて説明します。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/oB4vgGkDW4g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？注文またはお友達にそれを推奨することで私たちをサポートしてください、私たちがあなたの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために発明したエントリーレベルのサーバーのユニークなアナログのHabrユーザーのための30％割引：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsの真実20ドルまたはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">オランダでは、</font></b></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199ドルから、インテルTetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV</font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2台</font></a></b><font style="vertical-align: inherit;">だけ持ってい</font><b><font style="vertical-align: inherit;">ます！</font></b><b><b><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></b></b><font style="vertical-align: inherit;">について読む</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja463553/index.html">「あなたはグーグルの人々ですか？」または採用時に行った5つのこと</a></li>
<li><a href="../ja463559/index.html">Cisco 200-125 CCNA v3.0のトレーニング。18日目。ルーティングの基本</a></li>
<li><a href="../ja463563/index.html">Cisco 200-125 CCNA v3.0のトレーニング。19日目。ルーターを使い始める</a></li>
<li><a href="../ja463567/index.html">表示時間に応じてコンテキスト広告のレートを正確に調整[+テンプレート]</a></li>
<li><a href="../ja463569/index.html">Cisco 200-125 CCNA v3.0のトレーニング。20日目。静的ルーティング</a></li>
<li><a href="../ja463573/index.html">Zen 2アーキテクチャに基づくデータセンター向けの最初のチップ</a></li>
<li><a href="../ja463575/index.html">Cisco 200-125 CCNA v3.0のトレーニング。22日目。3​​番目のCCNA：RIPの調査を続ける</a></li>
<li><a href="../ja463577/index.html">可塑性と強度：転位を強調せずに金属間化合物を硬化</a></li>
<li><a href="../ja463579/index.html">Windows：誰がどこにログインしているかを調べる</a></li>
<li><a href="../ja463581/index.html">Cisco 200-125 CCNA v3.0のトレーニング。23日目：高度なルーティング技術</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>