<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐ป ูููู ุจุชูููุฐ ุชุญูููุงุช ููุฏ Python ๐ท ๐ฟ โฉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุงุจุฑ. 
 
 ููุฏู ูู ุงูููู ุชุฑุฌูุฉ ูููุงู ูุชุทุฑู ุฅูู ููุถูุน ููุณ ุงูุฃูุซุฑ ููุงูุดุฉ: ุชุฌููุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู Python ุ ุฃู: ุงูุนูู ูุน ุดุฌุฑุฉ ุจูุงุก ุงูุฌููุฉ ุงูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ูููู ุจุชูููุฐ ุชุญูููุงุช ููุฏ Python</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/493424/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑุญุจุง ูุง ูุงุจุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฏู ูู ุงูููู ุชุฑุฌูุฉ ูููุงู ูุชุทุฑู ุฅูู ููุถูุน ููุณ ุงูุฃูุซุฑ ููุงูุดุฉ: ุชุฌููุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู Python ุ ุฃู: ุงูุนูู ูุน ุดุฌุฑุฉ ุจูุงุก ุงูุฌููุฉ ุงููุฌุฑุฏุฉ (AST) ูุฑูุฒ ุจุงูุช. ูู ุญูู ุฃู Python ูู ูุบุฉ ูุชุฑุฌูุฉ ุ ูุฅู ูุฐู ุงูููุฒุงุช ูู ุบุงูุฉ ุงูุฃูููุฉ ูู ูุฌูุฉ ูุธุฑ ุงูุชุญุณูู. ุณูุชุญุฏุซ ุนููุง ุงูููู.</font></font><br>
<a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุชุณุงุกูุช ููููุง ุนู ููููุฉ ุชุญุณูู ุงููุชุฑุฌู ููุดูุฑุฉ ุงูุฎุงุตุฉ ุจู ุจุญูุซ ูุนูู ุจุดูู ุฃุณุฑุนุ </font><font style="vertical-align: inherit;">ูู ุชุฑูุฏ ุฃู ุชุนุฑู ูุง ูู ุดุฌุฑุฉ ุงูุจูุงุก ุงููุฌุฑุฏุฉ (AST) ููุงุฐุง ูููู ุงุณุชุฎุฏุงููุงุ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุตู ููุงูุฉ ุงููุฑุงุฌุนุฉ ูุฐู ููููุฉ ุชุญููู ุฑูุฒ Python ุฅูู ูููุฐุฌ ุดุฌุฑุฉ (AST). </font><font style="vertical-align: inherit;">ุจุนุฏ ุฅูุดุงุก AST ูุจุฑูุงูุฌู ุ ููููู ุงูุงูุชูุงู ุฅูู ุงูุจุญุซ ุนู ุฎูุงุฑุงุช ุงูุชุญุณูู ูุงูุชุญููู ูุฑูุฒู. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ุถุน ูู ุงุนุชุจุงุฑู ุฃู ุชุญุณูู ุจุฑุงูุฌ Python ุจุทุฑู ุบูุฑ ุชุงููุฉ ุฃูุฑ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุตุนุจ ููุบุงูุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ ุงูุจุฑูุงูุฌ ูุดุฌุฑุฉ</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูููู ููููุจููุชุฑ ุงูุชุฃูุฏ ูู ุฃูู ูููู ุจุชูููู ุงูุชุนุจูุฑุงุช ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุจุงูุชุฑุชูุจ ุงูุตุญูุญุ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููููุงู ุจุฐูู ุ ูููู ุฃููุงู ุจุฅุนุงุฏุฉ ุฅูุดุงุก ุฑูุฒ ุงูุจุฑูุงูุฌ ุงูุฎุงุต ุจู ูู ุจููุฉ ุดุฌุฑุฉ ุชุณูู AST. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏ ุงูุนูู ุจูุบุฉ ุจุฑูุฌุฉ ูุชุฑุฌูุฉ (ูุซู Python) ุ ูู ุงูููุจูู ุนููููุง ุฃู ุงููุชุฑุฌู ููุฑ ุนุจุฑ ุงูููุฏ ุงูุฎุงุต ุจู ููููู ุจูู ุดูุก ููุงุฌูู ุ ุนูู ุงูููุฑ ุ ุฏูู ุชุญููู ููุฏ Python ุฅูู ููุฏ ุงูุขูุฉ ุจุฃู ุดูู ูู ุงูุฃุดูุงู. ููุน ุฐูู ุ ูู ุงููุงุญูุฉ ุงูุนูููุฉ ุ ูุซูุฑ ูุฎุทุท ุงูุชูููุฐ ูุฐุง ุงููุซูุฑ ูู ุงููุดุงูู ุ ููุง ูุฌุนูู ุบูุฑ ูุฑูุญ ููุบุงูุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฎุฐ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุดููุฉ ุจุณูุทุฉ ูุซู ุฃููููุฉ ุงููุดุบููู. ูู ุชุนุจูุฑ ุงูุฑุฃู </font></font><code>3 + 4 * x </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุชู ุญุณุงุจ ุงูุฌุฒุก ุฃููุงู</font></font><code>4 * x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุนูุฏูุง ููุท ูููู ุฅุถุงูุฉ 3 ุฅูู ูุชูุฌุฉ ุงูุถุฑุจ. ุฑุจูุง ุชููู ูุฏ ุชุนููุช ุฃุณุจููุฉ ุงูุนูุงูู ูู ุตููู ุงูุฑูุงุถูุงุช ูู ุฎูุงู ุฑุณู ูุฐู ุงูุฃุดุฌุงุฑ ุชุญุช ุงูุชุนุจูุฑ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/lr/sp/xwlrspwopyld8gohdzt4jxgwauu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุณุชุฎุฏู Python ุงูููุงุนุฏ ุงูููุงุณูุฉ ููุชุฏููู ุงูุฑูุงุถู (ุงูุถุฑุจ ุฃููุงู ุ ุซู ุงูุฅุถุงูุฉ). ูู ุฃุฌู ุนุฏู ุงูุฎูุท ุจูู ุฃู ุดูุก ูุฃููููุฉ ุงูุนูุงูู ุ ูู Python ุ ูู ุงูุจุฏุงูุฉ ุชู ุจูุงุคู ูุซู ูุฐู ุงูุดุฌุฑุฉ ููุง ูู ุงูุตูุฑุฉ ุงูุณุงุจูุฉ. ุงูุนูููุฉ ุงูุนุงูุฉ ูู ุฅุถุงูุฉ (ูู ุฌุฐุฑ ุงูุดุฌุฑุฉ) ุ ูุจูููุง ูููู ุงูุฌุงูุจ ุงูุฃูุณุฑ ูู ูุฐุง ุงููุจูุบ ุนุจุงุฑุฉ ุนู ุฑูู ุนุงุฏู ุ ุนูู ุงููููู ูุฏููุง ุงูููุชุฌ. ุชุจุฏู ุจููุฉ ุงูุจูุงูุงุช ุงููุงุชุฌุฉ ููุง ููู:</font></font><br>
<br>
<pre><code class="python hljs">BinOp(<font></font>
  left  = Num(<span class="hljs-number">3</span>),<font></font>
  op    = Add(),<font></font>
  right = BinOp(<font></font>
            left  = Num(<span class="hljs-number">4</span>),<font></font>
            op    = Mult(),<font></font>
            right = Name(<span class="hljs-string">'x'</span>)<font></font>
          )<font></font>
)<font></font>
</code></pre><br>
<code>BinOp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนูู ุนูููุฉ ุซูุงุฆูุฉ (ุนูููุฉ ุซูุงุฆูุฉ) ูุชุดูุฑ ุฅูู ุฃูู ูู ุนูููุงุช ูุซู ุงูุฌูุน ูุงูุถุฑุจ - ูุนุงููุงู. ุจุทุจูุนุฉ ุงูุญุงู ุ ูู ุชุญุตู ุนูู ุฃู ุฅุถุงูุฉ ุฅุฐุง ูู ููู ุงูุฌุฒุก ุงูุตุญูุญ ูู ุงูุชุนุจูุฑ ูุญุชูู ุนูู ุงููููุฉ ุงูุตุญูุญุฉ - ูุฐูู ุ ูุฌุจ ุนููู ุงูุถุฑุจ ุฃููุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุธุฑูุฉ ุงููุชุฑุฌููู ููุบุงุช ุงูุจุฑูุฌุฉ ุ ุชุณูู ูุฐู ุงูุดุฌุฑุฉ ุดุฌุฑุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุจูุงุก ุงููุฌุฑุฏุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุฃู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AST</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงุฎุชุตุงุฑ. ูุชุถูู AST ูู ุงููุซุงู ุฃุนูุงู ุนูุฏุชูู </font></font><code>BinOp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุนูุฏุชูู ุ </font></font><code>Num</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูุฏุฉ ูุงุญุฏุฉ </font></font><code>Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงู ููุฒุฉ ูุทููุฉ ูู Python - ุงููุฏุฑุฉ ุนูู ุนุฑุถ ูุนุฑุถ AST ูุจุงุดุฑุฉ ูุฃู ุจุฑูุงูุฌ Python ูุนูู. ูู ูุง ูู ูุทููุจ ูุงุณุชูุฑุงุฏ ูุญุฏุฉ ููุทูุฉ ููุงุณูุฉ</font></font><code>ast</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุชุญููู ุงูุจุฑูุงูุฌ ุ ุซู ุนุฑุถ ุงููุชูุฌุฉ ุนูู ุงูุดุงุดุฉ (ุจุงูููุงุณุจุฉ ุ ุงูุชุญููู ูู ุนูููุฉ ุชุญููู ุฑูุฒ ูุตุฏุฑ ุงูุจุฑูุงูุฌ ุฅูู ุดุฌุฑุฉ AST).</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> ast<font></font>
my_tree = ast.parse(<span class="hljs-string">"3 + 4*x"</span>)<font></font>
print(ast.dump(my_tree))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุน ุฐูู ุ ุณุชูุงุญุธ ุฃูู ุณูููู ููุงู ุนูุฏ ูุญููู ุฅุถุงููุฉ ูู AST ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ Python ุ ูุณูุชู ุนุฑุถูุง ูู ุณุทุฑ ูุงุญุฏ ุ ููุง ูุฌุนููุง ุฃูุซุฑ ุชุนููุฏูุง ูููููุฉ ุงูุฃููู ููุง ูู ุนููู ูู ุงููุงูุน. </font></font><br>
<br>
<pre><code class="python hljs">Module(body=[Expr(value=BinOp(left=Num(n=<span class="hljs-number">3</span>), op=Add(), right=BinOp(left=Num(n=<span class="hljs-number">4</span>), op=Mult(), right=Name(id=<span class="hljs-string">'x'</span>, ctx=Load()))))])
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุจุชูุณูููุง ุฅูู ุนูุฏ ูููุตูุฉ ุ ูุซู ุงููุฑุฉ ุงูุฃุฎูุฑุฉ - ูุฅุนุงุฏุฉ ูุชุญ AST ุ ุงูููุฌูุฏ ุจุงููุนู ูู ุงูุฃุนูู ุ ูุฌุฒุก ูู ุงูุดุฌุฑุฉ ุจุฃููููุง: </font></font><br>
<br>
<pre><code class="python hljs">Module(body = [<font></font>
    Expr(<font></font>
        value = BinOp(<font></font>
            left  = Num(n=<span class="hljs-number">3</span>),<font></font>
            op    = Add(),<font></font>
            right = BinOp(<font></font>
                left  = Num(n=<span class="hljs-number">4</span>),<font></font>
                op    = Mult(),<font></font>
                right = Name(id=<span class="hljs-string">'x'</span>, ctx=Load())<font></font>
            )<font></font>
        )<font></font>
    )<font></font>
])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงููุงุถุญ ุฃู ุจุงูุซูู "ุชุนุชูุฏ" ุฃู ุงูุฎุท ุงูุฐู ุฃุนุทููุงู ููุชุญููู ูู ูุญุฏุฉ ูุงููุฉ. ูุต ุงููุญุฏุฉ ูู ูุงุฆูุฉ ุจุฌููุน ุงูุชุนูููุงุช ุงููุงุฑุฏุฉ ูููุง. ุงูุชุนูููุงุช ุงููุญูุฏุฉ ูู ูุซุงููุง ูู ุชุนุจูุฑ </font></font><code>Expr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ูุนูุงู ุจุงูุถุจุท ูู ูุง ูุงูุดูุงู ุฃุนูุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงุญุธุฉ: </font></font><code>Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญุชูู </font><font style="vertical-align: inherit;">ุงูุนูุฏุฉ </font><font style="vertical-align: inherit;">ุนูู ุญูู ุฅุถุงูู </font></font><code>ctx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ููุฎุชุตุฑ ุจุงุณู "ุงูุณูุงู") ุ ูุงูุฐู ูู ูููุฉ </font></font><code>Load()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฐูู ุชููู Python ุฃููุง ูุณุชุฎุฏู ุงููููุฉ ุงููุฎุฒูุฉ ูู ุงููุชุบูุฑ </font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููุณ (ุฅุนุงุฏุฉ) ุชุนุฑูู ุฃู ุญุฐู ุงูุงุณู </font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุงูุขู ุชุญุฑูู ุ ุญุงูู ุชุญููู ุดูุก ูุซู </font></font><code>del x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู </font><font style="vertical-align: inherit;">ููุณู </font></font><code>x = 123</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุณุชุฑู ููู </font><font style="vertical-align: inherit;">ูุชุบูุฑ </font><font style="vertical-align: inherit;">ุงูุญูู </font></font><code>ctx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุนูุฏุฉ </font></font><code>Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู </font><font style="vertical-align: inherit;">ุ </font></font><code>Del()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู </font></font><code>Store()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุงูุชูุงูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูููุงุณุจุฉ: ุฅุฐุง ููุช ุจุชุซุจูุช ุงููุญุฏุฉ</font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">astunparse</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุซู ูููู ุฌุนู ุฅุฎุฑุงุฌ AST ุนูู ุงูุดุงุดุฉ ุฃูุซุฑ ุฌูุงูุง ุ ูุญุชู ุชุญููู AST ูุฑุฉ ุฃุฎุฑู ุฅูู ุฑูุฒ Python ูุจุงุดุฑ.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูููุฉ ุงูุชุฌููุน: ุงูุจุงูู</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุฌูุน ุจุฑุงูุฌ AST ุ ูู ุงููููู ูุจุฏุฆููุง ุฅููุงู ุงูุจุฑูุงูุฌ ุจุงููุงูู ูู ุฎูุงู ุงููุฑูุฑ ุนุจุฑ AST ูุชูููุฐ ุงูุนูููุงุช ุจุงูุชุฑุชูุจ ุงูุฐู ูุดุงุฑ ุฅููู ุจู. ููุน ุฐูู ุ ูุฅู ูุฐุง ุงูููุฌ ูู ุนูุจุงู ุนูู ุงูุฃูู. ุฃููุงู ุ ูููู ุฃู ุชุดุบู AST ููุฏุงุฑูุง ูุจูุฑูุง ูุณุจููุง ูู ุงูุฐุงูุฑุฉ ุ ุฎุงุตุฉ ุฅุฐุง ูุงูุช ุชุญุชูู ุนูู ูุนูููุงุช ุฒุงุฆุฏุฉ. ุซุงูููุง ุ ูุฏ ูุณุชุบุฑู ุงุฌุชูุงุฒ AST ููุชูุง ุฃุทูู ูู ุงููุงุฒู. ุจุงุฎุชุตุงุฑ: ูููู ุงูููุงู ุจุฐูู ุ ููููู ุบูุฑ ูุนุงู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ูููู ุงููุชุฑุฌู ุจูุนุงูุฌุฉ AST ูุจุงุดุฑุฉ ุ ูููู ูุนุฏ ุงูุจุงูุช ููุฏ ุ ุงูุฐู ูุชู ุชูููุฐู ุจุนุฏ ุฐูู ุนูู ุฌูุงุฒ Python ุงูุธุงูุฑู. ุนูู ุงูุฑุบู ูู ุฃู ููุงูุดุฉ ุชูุงุตูู ูุฐู ุงูุนูููุฉ ุฎุงุฑุฌ ูุทุงู ูุฐู ุงูููุงูุฉ ุ ูุฅู ุงููุจุฏุฃ ุงูุฃุณุงุณู ูู ุฃู ุงููุชุฑุฌู ูุชุฑุฌู AST ุฅูู ุชุฏููู ุจูููุฏู ุนูุณู (RPN). ุจุฏูุง ูู ูุถุน ุนุงูู</font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูู ุงููุนุงููุงุช ุงููุณุฑู ูุงููููู ุ ูุถุนูุง ุจุนุฏ ููุชุง ุงููุนุงููุงุช. ูู ุงููุซุงู </font></font><code>3 + 4*x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนูุงู ุ ูุญุตู ุนูู ุงูุชุณูุณู </font></font><code>3 4 x * +</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ููุฐุง ุงูุชุฏููู ุฌูุฏ ุจุดูู ุฎุงุต ูุฃูู ููููู ุฃู ุชุฑู ุนูู ุงูููุฑ ูู ุงูุชุณูุณู: ุฃููุงู ุชุญุชุงุฌ ุฅูู ุฅุฌุฑุงุก ุงูุถุฑุจ ุ ูุจุนุฏ ุฐูู ููุท ุงูุฅุถุงูุฉ). ูุธุฑูุง ูุฃูู ูููู ูู ุญูุซ ุงููุจุฏุฃ ุชูุซูู ูู ุนูุตุฑ ูู ุงูุนูุงุตุฑ ุงูุฎูุณุฉ ูู ูุฐุง ุงูุชุณูุณู ุนูู ุฃูู ุจุงูุช ูุงุญุฏ ุ ูุณูู ูุฐุง ุงูุฑูุฒ ุฑูุฒ ุจุงูุช. ุซู ุชุณุชุฎุฏู Python </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฌูุงุฒ ุงูุธุงูุฑู ุงูููุฏุณ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชูููุฐ ูุฐุง ุงูุฑูุฒ ุจููุงุกุฉ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจูุนูู ุขุฎุฑ ุ ุชุชู ุนูููุฉ ุชุฌููุน ุจุฑูุงูุฌ ููุชูุจ ุจูุบุฉ Python ุนูู ูุฑุญูุชูู. </font><font style="vertical-align: inherit;">ุฃููุงู ุ ูุชู ุชุญููู ุงูุจุฑูุงูุฌ ุงูุฐู ุชู ุชูููู ุจูุงุณุทุฉ ุงูุฅุฏุฎุงู ุ ูุงููุชูุฌุฉ ูู ุดุฌุฑุฉ ุจูุงุก ุฌููุฉ ูุฌุฑุฏุฉ (AST). </font><font style="vertical-align: inherit;">ุซู ููุฑ ุงููุญูู ุงูุจุฑูุฌู ูู ุฎูุงู AST ููููุฏ ุฑูุฒ ุงูุจุงูุช. </font><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ูููู ูุชุฑุฌู Python ุจุชูููุฐ ูุฐุง ุงูุฑูุฒ ุงููุฑุนู. </font><font style="vertical-align: inherit;">ุจุนุฏ ุชูุงูู ุงูุชุญุณูู ุ ูููู ุชุทุจููู ุฅูุง ุนูู ูุณุชูู AST ุฃู ุนูู ูุณุชูู ุงูุจุงูุช ููุฏ. </font><font style="vertical-align: inherit;">ูู ูู ูุฐู ุงูุฎูุงุฑุงุช ููุง ูุฒุงูุงูุง ูุนููุจูุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุฎูุฑูุง ุ ุถุน ูู ุงุนุชุจุงุฑู ุฃูู ุนูู ุงูุฑุบู ูู ุฃู AST ุดุงุฆุน ูู ุฃู ุชุทุจูู Python ุ ุฅูุง ุฃู ุนูููุฉ ุชุฑุฌูุฉ AST ุฅูู ููุฏ ุซุงููู ูุฏ ุชููู ูุฎุชููุฉ ุ ููู ุจุนุถ ุชุทุจููุงุช Python ุ ุนูู ุณุจูู ุงููุซุงู ุ JavaScript ุ ุจุฏูุงู ูู bytecode ุ ูุฏ ูุชู ุฅูุดุงุคูุง ูู ุงููุฑุญูุฉ ุงููุชูุณุทุฉ.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุฐุฌ ูู ูุบุงุช ุงูุจุฑูุฌุฉ ุงูุฃุฎุฑู</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ุชุณุชุฎุฏู ุฌููุน ูุบุงุช ุงูุจุฑูุฌุฉ ุชุฏููู infix ุ ููุง ูู ุงูุญุงู ูู Python. </font><font style="vertical-align: inherit;">ููุงู ูุซุงูุงู ุฌุฏูุฑุงู ุจุงูููุงุญุธุฉ ูู ูุฐู ุงูุญุงูุฉ ููุง PostScript ุ ุญูุซ ุชุชู ูุชุงุจุฉ ุงูุจุฑูุงูุฌ ูุจุงุดุฑุฉ ุจุชุฑููุฒ ุจูููุฏู ุนูุณู ุ ู Lisp ุ ุจุงูุทุจุน ุ ุญูุซ ุชุชู ูุชุงุจุฉ ุงูุจุฑุงูุฌ ุนุงุฏุฉ ูู ุงูุชุฏููู ุงูุจูููุฏู. </font><font style="vertical-align: inherit;">ูุฐุงุ ูุฅู ุชุนุจูุฑูุง ุนู ุงููุซุงู ุฃุนูุงูุ ูู ุงููุซุบุฉ ุชุฃุฎุฐ ุงูุดูู ุงูุชุงูู: </font></font><code>(+ 3 (* 4 x))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญููู ุงูุนูุฏุฉ ุถูู AST</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฏูู ุจุฑูุงูุฌ AST ุ ูููู ูุชู ุชุญููู ุงูุฃุฌุฒุงุก ุงููุฑุฏูุฉ ูู ูุฐู ุงูุดุฌุฑุฉุ ูุน ููุฒุงุช Python ุงููุถููุฉ ูุงููุฑูุญุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ูุงู ููุง ุฃู ูููู ูุธุฑุฉ ุนูู ASTุ ูุนูู ุณุจูู ุงููุซุงูุ ูุฌุฏ ุฃู ููุง ุงูุญูููู </font></font><code>left</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>right</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุนูุฏ </font></font><code>BinOp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฑูุงู (ุงูุนูุฏ </font></font><code>Num</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)ุ ููุญู ูููู ุฃู ุชุคุฏู ุงูุญุณุงุจุงุช ุงูููุงุจูุฉ ูุณุจูุงุ ููู ุซู ุงุณุชุจุฏุงููุง </font></font><code>BinOp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏุฉ ุงูุนุงุฏูุฉ </font></font><code>Num</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุทุจุน ุ ุชุญุชุงุฌ ุฅูู ุงูุชุตุฑู ุจุนูุงูุฉ ูุงุฆูุฉ ุญุชู ูุง ุชุบูุฑ ุณููู ุงูุจุฑูุงูุฌ ุ ูุงูููุงู ุจูุฐู ุงูุชุญููุงุช. ุนูู ุณุจูู ุงููุซุงู ุ ูู </font></font><code>len([a(), b(), c(), d()])</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูู ุงููุงุถุญ ุฃู ุงููุชูุฌุฉ ูู 4. ูููู ูุง ูููููุง ุงุณุชุจุฏุงู ูู ุชุนุจูุฑ ุงูุฑูู 4 ูุฃู ุฃุฑุจุน ูุธุงุฆู </font></font><code>a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุชุฒุงู ุชู ุงุณุชุฏุนุงุคูุง ุจุดูู ุตุญูุญ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑุฉ ุฃุฎุฑู ุ ุงุจุฏุฃ ุจุชุญุณูู ุจุณูุท. ุฃูููุง ูุธูุฑ ุงุณู ูู ุดูุฑุฉ ุงููุตุฏุฑ ููุจุฑูุงูุฌ </font></font><code>pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุงุณุชุจุฏูู ุจุงููููุฉ 3.14159265. ุชููุฑ ูุญุฏุฉ Python </font></font><code>ast</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงููุนู ููุงูู ุงูุจูุงูุงุช ุงููุงุฒูุฉ ููููุงู ุจุฐูู: ูุฆุฉ ุงููุญูู </font></font><code>NodeTransformer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชู ุชูุฑ ุนุจุฑ ุฌููุน ASTs ูุชุชุญูู ูู ูู ุนูุฏุฉ ูุง ุฅุฐุง ูุงู ูููู ุงุณุชุจุฏุงููุง. ุจุดูู ุงูุชุฑุงุถู ุ ุชุฑุฌุน ุทุฑููุฉ ุงูุชุญููู ุจุจุณุงุทุฉ ุงูุนูุฏุฉ ุงููุตุฏุฑ ููู ุนูุฏุฉ ุ ุจุญูุซ ูุญุตู ุนูู ููุณ AST ุงูุชู ุจุฏุฃูุง ูููุง. ูููู ูููููุง ุจุณูููุฉ ุชุฌุงูุฒ ุทุฑููุฉ ุงูุนูุฏ </font></font><code>Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุญูุซ ุชุชุญูู </font></font><code>pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุนุฑูุฉ ูุง ุฅุฐุง ูุงูุช ูุฐูู ุ ุซู ุชุฑุฌุน ุงูุนูุฏุฉ </font></font><code>Num</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุงูุนูุฏุฉ ุจุงูุงุณู ุงูุฃุตูู ...</font></font><br>
<br>
<pre><code class="python hljs">	<span class="hljs-keyword">import</span> ast<font></font>
 <font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyOptimizer</span>(<span class="hljs-params">ast.NodeTransformer</span>):</span><font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">visit_Name</span>(<span class="hljs-params">self, node: ast.Name</span>):</span>
        <span class="hljs-keyword">if</span> node.id == <span class="hljs-string">'pi'</span>:
            <span class="hljs-keyword">return</span> ast.Num(n=<span class="hljs-number">3.14159265</span>)
        <span class="hljs-keyword">return</span> node<font></font>
 <font></font>
tree = ast.parse(<span class="hljs-string">"y = 2 * pi"</span>)<font></font>
optimizer = MyOptimizer()<font></font>
tree = optimizer.visit(tree)<font></font>
print(ast.dump(tree))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฃุฌู ุฃู ููุฑ ุงููุญูู / ุงููุญุณู ุนุจุฑ ุดุฌุฑุชูุง ุ ูู ุงูุถุฑูุฑู ุงุณุชุฏุนุงุก ุทุฑููุชู </font></font><code>visit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุงูุชู ุณุชุนูุฏ ุดุฌุฑุฉ ุฌุฏูุฏุฉ ูุชุบูุฑุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุณูุก ุงูุญุธ ุ ูู ุงููุณุชุญูู ุชุฑุฌูุฉ ูุชุดุบูู AST ุงููุงุชุฌ ุ ูุงูุณุจุจ ูู ุฐูู ูู ุฃุญุฏ ุงูุชูุงุตูู ุงููููุฉ. ูุฐุง ููุณ ูุฑุฆููุง ุจุนุฏ ุ ูููู (ุชูุฑูุจูุง) ุชุญุชูู ุฌููุน ุงูุนูุฏ ูู AST ุนูู ุญููู </font></font><code>lineno</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>col_offset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุชุดูุฑ ุฅูู ุงูููุถุน ุงูุฏููู ูุนูุฏุฉ ูุนููุฉ ูู ุดูุฑุฉ ุงููุตุฏุฑ. ุฅุฐุง ูู ุชูู ุจุชุซุจูุชูุง ุจุดูู ุตุญูุญ ุ ูุฅู ุงููุชุฑุฌู ุณููุณู ููุฑูุถ ุงูุนูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ุ ูููุณุฎ ุงูุญููู ุงูููุงุณุจุฉ ูู ุงูุนูุฏุฉ ุงููุตุฏุฑ </font></font><code>Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู ุงูุนูุฏุฉ ุงูุฌุฏูุฏุฉ </font></font><code>Num</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ููููู ุจุนุฏ ุฐูู ุชุฌููุน ูุชูููุฐ AST ุงููุงุชุฌ:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> ast<font></font>
 <font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyOptimizer</span>(<span class="hljs-params">ast.NodeTransformer</span>):</span><font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">visit_Name</span>(<span class="hljs-params">self, node: ast.Name</span>):</span>
        <span class="hljs-keyword">if</span> node.id == <span class="hljs-string">'pi'</span>:<font></font>
            result = ast.Num(n=<span class="hljs-number">3.14159265</span>)<font></font>
            result.lineno = node.lineno<font></font>
            result.col_offset = node.col_offset<font></font>
            <span class="hljs-keyword">return</span> result
        <span class="hljs-keyword">return</span> node<font></font>
 <font></font>
tree = ast.parse(<span class="hljs-string">"print(2 * pi)"</span>)<font></font>
optimizer = MyOptimizer()<font></font>
tree = optimizer.visit(tree)<font></font>
code = compile(tree, <span class="hljs-string">"&lt;string&gt;"</span>, <span class="hljs-string">"exec"</span>)<font></font>
exec(code)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุญูุธุฉ: </font><font style="vertical-align: inherit;">ูุง ุชุชุทูุจ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุฑุฌูุฉ ุงููุธูููุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฏ ุงููุตุฏุฑ ููุท (ุงูุฐู ูููู ุฃู ูููู ููู ุงูุจุฑูุงูุฌ ููุณู ุ ุฃู ุณุทุฑ AST) ุ ูููู ุงุณู ุงูููู (ููุง ุทูุจูุง </font></font><code>"&lt;string&gt;"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุงุญุฏ ูู ุซูุงุซุฉ: </font></font><code>"exec"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>"eval"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู </font></font><code>"single"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชูุดุฃ ุงูุญุงุฌุฉ ุฅูู ูุณุฎ ุงูุญููู ุงูุชู ุชุตู ููุถุน ุงูุนูุฏุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ูู ูุซูุฑ ูู ุงูุฃุญูุงู. ูุฐูู ุ </font></font><code>ast</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญุชูู </font><font style="vertical-align: inherit;">ุงููุญุฏุฉ </font><font style="vertical-align: inherit;">ุนูู ูุธููุฉ ูุฎุตุตุฉ </font></font><code>copy_location</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฐุง ุงูุบุฑุถ ููุท ุ ููููููุง ูุชุงุจุฉ:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">visit_Name</span>(<span class="hljs-params">self, node: ast.Name</span>):</span>
        <span class="hljs-keyword">if</span> node.id == <span class="hljs-string">'pi'</span>:<font></font>
            result = ast.Num(n=<span class="hljs-number">3.14159265</span>)
            <span class="hljs-keyword">return</span> ast.copy_location(result, node)
        <span class="hljs-keyword">return</span> node</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุฎูุฑูุง ุ ููููู ุชูุณูุน ุงููุซุงู ุงูุณุงุจู ุจุญูุซ ูููู ุจุงููุนู ุจุฅุฌุฑุงุก ุงูุชุญุณูู ุ ุฃู ุนูู ุงูุนูุฏุฉ </font></font><code>BinOp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ููููุง ููุงุนุฏุฉ ุงูุชุญููู ุ ูุฌุจ ุฃููุงู ุชุญููู / ุชุญุณูู ุงููุณุงุฑ ุ ุซู ุงูุนูุฏุฉ ุงููููู ูุฌุฒุก ูู BinOp. </font><font style="vertical-align: inherit;">ุฅุฐุง ุชุจูู ูุชูุฌุฉ ูุฐูู ุฃู ููุง ุงูุนูุฏุชูู ุงููุณุฑู ูุงููููู ุฃุฑูุงู ุ ููููู ุฅุฌุฑุงุก ุงูุญุณุงุจุงุช ูุจุงุดุฑุฉ ุนูู ุงูููุฑ ูุงุณุชุจุฏุงู ุงูุฃุตู </font></font><code>BinOp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงููุชูุฌุฉ ุงูุนุฏุฏูุฉ ููุนูููุฉ.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyVisitor</span>(<span class="hljs-params">ast.NodeTransformer</span>):</span><font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">visit_BinOp</span>(<span class="hljs-params">self, node: ast.BinOp</span>):</span><font></font>
        node.left = self.visit(node.left)<font></font>
        node.right = self.visit(node.right)<font></font>
        <span class="hljs-keyword">if</span> isinstance(node.left, ast.Num) <span class="hljs-keyword">and</span> isinstance(node.right, ast.Num):
            <span class="hljs-keyword">if</span> isinstance(node.op, ast.Add):<font></font>
                result = ast.Num(n = node.left.n + node.right.n)<font></font>
                <span class="hljs-keyword">return</span> ast.copy_location(result, node)
            <span class="hljs-keyword">elif</span> isinstance(node.op, ast.Mult):<font></font>
                result = ast.Num(n = node.left.n * node.right.n)<font></font>
                <span class="hljs-keyword">return</span> ast.copy_location(result, node)
        <span class="hljs-keyword">return</span> node<font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">visit_Name</span>(<span class="hljs-params">self, node: ast.Name</span>):</span>
        <span class="hljs-keyword">if</span> node.id == <span class="hljs-string">'pi'</span>:<font></font>
            result = ast.Num(n=<span class="hljs-number">3.14159265</span>)
            <span class="hljs-keyword">return</span> ast.copy_location(result, node)
        <span class="hljs-keyword">return</span> node<font></font>
 <font></font>
tree = ast.parse(<span class="hljs-string">"y = 2 * pi + 1"</span>)<font></font>
optimizer = MyOptimizer()<font></font>
tree = optimizer.visit(tree)<font></font>
print(ast.dump(tree))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูููุงุณุจุฉ ุ ูููู ูุชุฑุฌู CPython ุจุชุญุณูู ุงูุนูุฏ ุจุงููุนู </font></font><code>BinOp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ูู ููุถุญ ููุง. </font><font style="vertical-align: inherit;">ุงูุดูุฑุฉ ุงูููุงุจูุฉ ููุชูุจุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุญุฑู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C ููู ูุนุทุงุฉ ูู </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">Python / ast_opt.c</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุฑุฌู ููุงุญุธุฉ ุฃู: ูุญุณู CPython ูู ุฃูุซุฑ ุนุงูููุฉ ููุง ูุนูู ููุท ูุน ุงูุฃุฑูุงู ุ ููุง ูู ุงููุซุงู ุงูุฐู ูููุฑ ููู ุ ูููู ูุน ุฃููุงุน ูุฎุชููุฉ ูู ุงูููู ุงูุซุงุจุชุฉ.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุต ุงูุนูุฏ ูู AST</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูุชุฃูุฏ ูู ุฃู ุงูุชุญููุงุช ุงูุชู ุฃุฌุฑููุงูุง ุตุญูุญุฉุ ุชุญุชุงุฌ ุฃููุงู ุฅูู ุชุฌุงูุฒ AST ุจุงููุงูู ููุญุต ุงูุจุฑูุงูุฌ ุจุฃูููู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ูุฒุงู ุงููุญุณู ุงููุนุฑูุถ ุฃุนูุงู ุนูุจูุง ุฎุทูุฑูุง. ูุงุฐุง ูุญุฏุซ ุฅุฐุง ููุช ุจุฅุนุงุฏุฉ ุชุนุฑูู ููุงู ูุง ูู ุงูุจุฑูุงูุฌ </font></font><code>pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุฌุฑุฏ ุชุตูุฑ ุดูุก ุจุณูุท ูููููู </font></font><code>pi = 4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุณูุณุชุจุฏู ูุญุณููููุง ุจุจุณุงุทุฉ pi ุนูู ุงูุฌุงูุจ ุงูุฃูุณุฑ ูู ุงูุชุนุจูุฑ ุจุงููููุฉ ุงูุฑูููุฉ 3.14159265 ุ ุซู ุชุฑูุถ Python ุงูุชุฑุฌูุฉ ูุฃูู ูุง ูููููุง ุชุนููู ุฃู ุดูุก ููููุฉ ุญุฑููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฑุจูุง ูุฐุง ูู ุจุงูุถุจุท ุงูุณููู ุงูุฐู ุณุนุช ุฅููู ุ ููุง ูุฌุนู pi ุซุงุจุชูุง ุญูููููุง ุ ูุงูุฐู ูุชู ุงุณุชุจุฏุงูู ูู ุงูุชุฌููุน ููุง ูููู ุฅุนุงุฏุฉ ุชุนูููู ุฃุจุฏูุง ุ ุฃู ุฃูู ูุง ูููู ุฃู ูุญุตู ุนูู ูููุฉ ูุฎุชููุฉ. ููุน ุฐูู ุ ูุฐุง ููุชูู ุจุงูุชุฃููุฏ ุฏูุงูุงุช Python.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูุงุฐุง ููุนู ุฅุฐุง ุฃุฑุฏูุง ุงูุชูุณู ุจุฏูุงูุงุช Python ุ ูููู ุงุณุชุจุฏุงู pi ุนูู ุฃู ุญุงู ููููุ ูู ูุฐู ุงูุญุงูุฉ ุ ุชุญุชุงุฌ ุฃููุงู ุฅูู ูุฑุงุฌุนุฉ ุงูุจุฑูุงูุฌ ุจุฃูููู ูุงูุชุญูู ููุง ุฅุฐุง ุชู ุชุนููู ุงููููุฉ ุงูุฎุงุตุฉ ุจู ูู ููุงู ูุง </font></font><code>pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุญุชู ูููู ุจุชุนููุฏูุง: ูู ููุฌุฃ ุฅูู ุงุณุชุจุฏุงู pi ุฅุฐุง ูุงูุช ููุงู ููุทุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ูู ุงูุจุฑูุงูุฌ ูุฏููุง ุฃู ุชุนููู ููููุฉ </font></font><code>pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ูุณุชุฎุฏู ุนูุฏุฉ ุงูุฒุงุฆุฑ ุ ุนูู ุบุฑุงุฑ ุนูุฏุฉ ุงููุญูู ุงูููุตููุฉ ุฃุนูุงู. ุนูู ุนูุณ ุงููุญูู ุ ูุง ููุตุฏ ุงูุฒุงุฆุฑ ุชุบููุฑ ุฃู ุนูุฏ ุ ููู ุจุจุณุงุทุฉ ููุฑ ุนุจุฑ AST ูููุญุต ุงูุนูุฏ (ูุฒูุฑูุง). ูุจูุงุกู ุนูู ุฐูู ุ ูุง ุชุนูุฏ ุทุฑู ุงูุฒูุงุฑุฉ ุฃู ุดูุก. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุญุงูุชูุง ุ ูุชุญูู ููุง ุฅุฐุง ูุงูุช ุงูุนูุฏุฉ ุชุดูุฑ </font></font><code>Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู </font></font><code>pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชููู ุจุฃู ุดูุก ุจุฎูุงู ุชุญููู ุงููููุฉ</font></font><code>pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ุชุฐูุฑ ูุฌุงู ุงูุณูุงู </font></font><code>ctx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> ast<font></font>
 <font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyVisitor</span>(<span class="hljs-params">ast.NodeVisitor</span>):</span><font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>
        self.modify_pi = <span class="hljs-literal">False</span><font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">visit_FunctionDef</span>(<span class="hljs-params">self, node: ast.FunctionDef</span>):</span>
        <span class="hljs-keyword">if</span> node.name == <span class="hljs-string">'pi'</span>:<font></font>
            self.modify_pi = <span class="hljs-literal">True</span><font></font>
        self.generic_visit(node)<font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">visit_Name</span>(<span class="hljs-params">self, node: ast.Name</span>):</span>
        <span class="hljs-keyword">if</span> node.id == <span class="hljs-string">'pi'</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> isinstance(node.ctx, ast.Load):<font></font>
            self.modify_pi = <span class="hljs-literal">True</span><font></font>
 <font></font>
program = <span class="hljs-string">"""
def pi():
    return 3.1415
print(2 * pi())
"""</span><font></font>
tree = ast.parse(program)<font></font>
my_visitor = MyVisitor()<font></font>
my_visitor.visit(tree)<font></font>
print(<span class="hljs-string">"Pi modified:"</span>, my_visitor.modify_pi)</code></pre><br><font style="vertical-align: inherit;"></font><code>generic_visit(node)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุงุณุชุฏุนุงุก </font><font style="vertical-align: inherit;">
ุงูุทุฑููุฉ ูู </font><font style="vertical-align: inherit;">ูุจู ุงูุฒุงุฆุฑ ููู ุนูุฏุฉ ูุง ููุฏู ููุง ุทุฑููุฉ ุฒูุงุฑุฉ ูุชุฎุตุตุฉ. </font><font style="vertical-align: inherit;">ุจูุนูู ุขุฎุฑ: ูุง ููุฌุฏ ูุซู ูุฐุง ุงูุฃุณููุจ </font></font><code>visit_FunctionDef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุตู </font></font><code>NodeVisitor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฐู ูููู ุฃู ูุณููู ุจุงุณุชุฎุฏุงูู </font></font><code>super()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูููุง ูุชุนูู ุจุชุนุฑููุงุช ุงููุธุงุฆู ุ ูุฌุจ ุนูููุง ุงุณุชุฏุนุงุก ุฒุงุฆุฑ ุนุงู ููุชุฃูุฏ ูู ูุนุงูุฌุฉ ูุต ุงููุธููุฉ ุจุงููุงูู ุจุดูู ุตุญูุญ. </font><font style="vertical-align: inherit;">ุฎูุงู ุฐูู ุ ูููููุง ุฅุฎูุงุก ุงูุชุนูููุงุช ูู ุงููุธููุฉ </font></font><code>global pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุบููุฑ ุงููููุฉ ุนุงููููุง </font></font><code>pi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุญุชู ูุง ููุงุญุธ ุงููุญุณู ุฃู ุดูุก.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููู ุงููุญููุฉ ูู ุจูุซูู</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุทุฑููุชูุง ุ ุงูุชู ุชุณูุญ ููุง ุจุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ุงููุจุฑูุฌ ูุฏ ุชุบูุฑ ุจู ุ ุชุจูู ุฃููุง ููุญุฉ ุฅูู ุญุฏ ูุง. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุฅู ุงููุชุฑุฌู Python ูุนูู ุจุดูู ูุดุงุจู ููุบุงูุฉ ุนูุฏูุง ูุญุฏุฏ ุฃู ุฃุณูุงุก ูู ูุทุงู ุฏุงูุฉ ุชุชูุงูู ูุน ุงููุชุบูุฑุงุช ุงููุญููุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ุชุบูุฑ ูุชุบูุฑ ูู ููุงู ูุง ูู ูุทุงู ุงููุธููุฉ (ููู ูุชู ุฌุนูู ุตุฑูุญูุง ุจุดูู ุนุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู ุงูุชุนูููุงุช ุงูุนุงูุฉ) ุ ูุฅู ูุฐุง ุงููุชุบูุฑ ูุนุชุจุฑ ูุญูููุง ูู ุงููุทุงู ุงููุงูู ููุฏุงูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงููุซุงู ุงูุชุงูู ุณูููุฐ ุจุดูู ุฌูุฏ ุจุฏูู ุงูุณุทุฑ ุงูุฑุงุจุน. </font><font style="vertical-align: inherit;">ูููู ุ ุนูู ุงูุฑุบู </font></font><code>x = 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุนุฏู ุชูููุฐ ุงูุณุทุฑ ุงูุฑุงุจุน ูุทูููุง ุ ุฅูุง ุฃูู ูุง ูุฒุงู ูุนุชุจุฑ ูููุฉ</font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุจุงูุชุงูู ุ ูุตุจุญ x ูุชุบูุฑูุง ูุญูููุง ุนูู ูููุงุณ ุงููุธููุฉ ุจุฃููููุง ุ ูุญุชู ูู ุงูุณุทุฑ 3. ูููุฐุง ุงูุณุจุจ ููุณู ุจุงูุซูู ุฃู ุงููุชุบูุฑ x ุนูู ุงูุณุทุฑ ุงูุซุงูุซ ูุง ููู ุญุชู ุงูุขู.</font></font><br>
<br>
<pre><code class="python hljs">x = <span class="hljs-number">1</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_x</span>():</span><font></font>
    print(x)<font></font>
    <span class="hljs-keyword">if</span> <span class="hljs-literal">False</span>: x = <span class="hljs-number">0</span>
print_x()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ููุชููุง ุจุชูุงุตูู ููููุฉ ุนูู Python ููุง ุจุงูุถุจุท ุ ูุฑุงุฌุน </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python / symtable.c</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชูุชุงุฌ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู Python ุ ููุง ูู ุงูุญุงู ูู ูุนุธู ูุบุงุช ุงูุจุฑูุฌุฉ ุ ูุง ูุชู ุชูููุฐ ุจุฑูุงูุฌ ูุนูู ูุจุงุดุฑุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ. </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ุชุชู ุชุฑุฌูุฉ ุดูุฑุฉ ุงููุตุฏุฑ ุนูู ูุฑุญูุชูู: ุฃููุงู ุ ูุชู ุฅูุดุงุก ุดุฌุฑุฉ ุจูุงุก ูุฌุฑุฏุฉ (AST) ูููุง ุ ุซู ููุฏ ุจุงูุช ููุฌูุงุฒ ุงูุธุงูุฑู ุงูููุฏุณ. </font><font style="vertical-align: inherit;">ูููุฑ Python ุฃูุถูุง ุนุฏุฏูุง ูู ุงูููุฒุงุช ุงูุฑุงุฆุนุฉ ุฌุฏูุง ูุชุญููู ูุญุชู ุชุญููู AST ูุฃู ุจุฑูุงูุฌ Python ูุนูู ุ ูุจุนุฏ ุฐูู ูููู ุชุฌููุน ูุชูููุฐ AST ุงููุนุฏู. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ูููููุง ุจุณูููุฉ ุชูููุฐ ุงูุชุญุณููุงุช ุงูุฎุงุตุฉ ุจูุง.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุทุจุน ุ ููุฏ ุญุฐูุช ุจุจุณุงุทุฉ ุงูุนุฏูุฏ ูู ุงูุชูุงุตูู ููุง. </font><font style="vertical-align: inherit;">ููุชุฃูุฏ ูู ุฃู ุงูุชุญุณูู ุงูุฎุงุต ุจู ุณูุนูู ุจุดูู ุตุญูุญ ูู ุฌููุน ุงูุญุงูุงุช ูุงูุธุฑูู ุงููุญุชููุฉ ุฃูุฑ ุบูุฑ ุชุงูู ููุบุงูุฉ. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุฅู ุงูุบุฑุถ ูู ูุฐู ุงูููุงูุฉ ููุณ ุฅุฎุจุงุฑู ุนู ุงูุชุญุณูู ุงูุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ ุ ูููู ูุฅุนุทุงุก ููุฑุฉ ุฃุณุงุณูุฉ ุนู ููููุฉ ููุงู Python ุจุชุญููู ุฑูุฒ ุงูุจุฑูุงูุฌ ุงูุฎุงุต ุจู ุจุญูุซ ููููู ูุนุฑูุฉ ููููุฉ ุชุญูููู ุจุดูู ุตุญูุญ ุซู ุชุญุณููู.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar493408/index.html">DJI Mavic mini ุงููุฑูุญูุฉ ุณูุท ูุซู ุงููุฎู</a></li>
<li><a href="../ar493412/index.html">ุฃูุนุงุจ ูุน ูุงู ูุงู ุนูู ESP32</a></li>
<li><a href="../ar493416/index.html">IDA Pro ูุชูููุงุช ุงูููุฏุณุฉ ุงูุนูุณูุฉ</a></li>
<li><a href="../ar493418/index.html">ููุงุฐุง ูุณุชุฎุฏู ุชุนููู ุงูุขูุฉ ุงูุจูุงูุงุช "ุงูุชุฑููุจูุฉ"</a></li>
<li><a href="../ar493420/index.html">ุทุฑููู ูุชูุฏูู ุทูุงุจ ุงููุฏุงุฑุณ ุงูุฅุนุฏุงุฏูุฉ ุฅูู Python</a></li>
<li><a href="../ar493426/index.html">ุชูุธูู ุงูููุฏ ูู ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ ูููุฌู ูู ุงุณุชุฎุฏุงู ุงูุนูุงุฑุฉ ุงูุณุฏุงุณูุฉ ู DDD</a></li>
<li><a href="../ar493428/index.html">"ูู ูุซูุฑ ูุธุฑูุงุช ุงููุคุงูุฑุฉ." ุชุญุฏุซ ุนู ูุคุชูุฑุงุช ML ูุน ุฃุดุฎุงุต ูู ุดุฑูุงุช ุงูุนููู ูุชูููููุฌูุง ุงููุนูููุงุช</a></li>
<li><a href="../ar493430/index.html">ุดุจูุฉ ุงูุนูุงุฑุฉ ูุชุทุจููุงุช ุงูููุจ</a></li>
<li><a href="../ar493432/index.html">ููุงุฐุง ูุง ุชุจุฏุฃ ูููุฉ ูู ุดุฑูุฉ ุตุบูุฑุฉ ุบูุฑ ุชูููููุฌูุง ุงููุนูููุงุช</a></li>
<li><a href="../ar493436/index.html">ุจุฑูุงูุฌ ูุชุบููุฑ ุญููู ุงููุตูู ูุชุณุฌูู ุฃุณูุงุก ุงููููุงุช / ุงูุฏููู ุนูู Bash</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>