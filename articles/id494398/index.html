<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸº ğŸ‘©ğŸ¿â€ğŸ’» ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘©ğŸ¼ Playstation Doom Polygons ğŸ¤ğŸ¼ ğŸ”¸ ğŸ’·</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sony PlayStation
  
 Kisah PlayStation dimulai pada tahun 1988 ketika Nintendo dan Sony mulai bekerja bersama pada pembaca CD-ROM opsional untuk konso...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Playstation Doom Polygons</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494398/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98b/897/f95/98b897f955dbdf31ff724bbe1a1841f4.png" alt="gambar"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sony PlayStation</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f7/4aa/015/8f74aa015b0e95be13aac769990538a5.svg"></div> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kisah PlayStation dimulai pada tahun 1988 ketika Nintendo dan Sony mulai bekerja bersama pada pembaca CD-ROM opsional untuk konsol SNES. Berdasarkan ketentuan perjanjian, Sony dapat secara mandiri mengembangkan game untuk platform ini dan mempertahankan kendali format Super Disc - dua konsesi yang tidak biasa oleh Nintendo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proyek ini dikembangkan sebelum pameran CES '91, di mana Sony mengumumkan kolaborasi di Play Station. Hari berikutnya, di pameran yang sama, Nintendo, yang mengejutkan Sony, mengumumkan bahwa mereka malah menandatangani perjanjian kemitraan dengan Philips (dengan syarat yang jauh lebih menguntungkan). Sony yang loyal dan dipermalukan di depan umum mencoba mengajukan banding ke dewan direksi Sega, yang segera menolak gagasan itu. Dalam sebuah wawancara dengan 2013, CEO SEGA Tom Kalinske mengingat keputusan dewan.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œIni ide yang bodoh, Sony tidak tahu cara mengembangkan peralatan. </font><font style="vertical-align: inherit;">Mereka tidak tahu cara menulis perangkat lunak. </font><font style="vertical-align: inherit;">Mengapa kita mengacaukannya? â€ </font><font style="vertical-align: inherit;">- Dewan Direksi SEGA</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan mereka tidak salah, Sony benar-benar memiliki sedikit pengalaman dalam bekerja dengan game. </font><font style="vertical-align: inherit;">Dia hampir tidak menunjukkan minat pada mereka, dengan pengecualian atas inisiatif satu orang - Ken Kutaragi. </font><font style="vertical-align: inherit;">Dari saat dia melihat putrinya bermain di Nintendo Famicom, Ken telah meyakinkan Sony bahwa dia harus memasuki pasar ini. </font><font style="vertical-align: inherit;">Terlepas dari rekomendasi wakil presiden Sony, ia bahkan mengembangkan chip audio (SPC700) untuk Nintendo yang digunakan di SNES.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagian besar eksekutif Sony menganggap ini taruhan berisiko, tetapi Kutaragi menemukan dukungan dalam diri CEO Sony Norio Oga. Pada Juni 1992, Ken diizinkan untuk mulai membuat sistem permainan dari awal. Untuk menenangkan dewan direksi, "bapak PlayStation," sebagaimana mereka kemudian memanggilnya, dipindahkan ke perusahaan induk independen Sony Music, dan ia mulai mengerjakan apa yang pada akhirnya akan menjadi "PlayStation" (sudah tanpa spasi dalam nama).</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Awalnya, pengembang tidak dapat memutuskan apakah arsitektur harus fokus pada grafik 2D sprite atau grafik 3D poligon. </font><font style="vertical-align: inherit;">Namun, keberhasilan game Virtua Fighter yang dirilis pada Oktober 1993 oleh Sega di mesin arcade Jepang menghancurkan semua keraguan: PSX akan mengikuti jalur 3D. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puncak dari proyek ini datang dua tahun kemudian, ketika Sony Computer Entertainment dibuat pada 3 Desember 1994 dan konsol dirilis di Jepang. </font><font style="vertical-align: inherit;">Itu meraih kesuksesan instan dan dijual pada hari pertama dengan sirkulasi 100 ribu perangkat, 2 juta perangkat setelah enam bulan, dan 102 juta perangkat sepanjang hidup mereka.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6b1/727/175/6b1727175f25b80b4309c920c0e23115.webp"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sony PSX (PS1, PlayStation). </font><font style="vertical-align: inherit;">Foto: Wikipedia</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arsitektur</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/60b/97c/da3/60b97cda359e2e5c27a9028cc13aa22d.svg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inti dari mesin ini adalah prosesor MIPS 32-bit RISC R3000A dengan frekuensi 33.8688 MHz </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[3]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam kombinasi dengan 2 MB DRAM. Patut dicatat bahwa chip ini juga memiliki Motion Decoder (MDEC), yang menyediakan pemutaran video dengan resolusi 320x240 pada frekuensi 30 fps. Di sebelah MDEC, kita melihat koprosesor Geometry Transform Engine (GTE), yang digunakan untuk melakukan operasi matematika fixed-point cepat pada vektor dan matriks. Sistem secara keseluruhan tidak dapat bekerja dengan angka floating point.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GPU adalah "kotak hitam" yang dikendalikan oleh prosesor pusat menggunakan "perintah". Ini memiliki 1 MB VRAM, tidak tersedia untuk CPU. Dalam banyak hal, karyanya menyerupai karya mode Immediate OpenGL yang luar biasa: ia menggambar poligon bertekstur yang dapat "diarsir" menggunakan warna titik. Pipa grafik diperbaiki dan tidak dapat diprogram. Tidak ada buffer Z (buffer kedalaman). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unit pemrosesan suara, Unit Pemrosesan Suara (SPU), seperti GPU, adalah kotak hitam. Ini dapat memproses 24 saluran, memiliki 512 KB SRAM untuk menyimpan audio (dalam format ADPCM) dan mampu mencampur trek audio CD-ROM dengan saluran audio-nya. Singkatan SRAM tidak berarti "RAM Statis", tetapi "RAM Suara".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keputusan insinyur Sony yang paling berani adalah pilihan pembawa data. </font><font style="vertical-align: inherit;">Mereka memilih bukan kartrid, tetapi modul CD-ROM dua kecepatan, yang mengurangi biaya permainan dan secara signifikan meningkatkan volume yang tersedia (hingga sekitar 650 MB). </font><font style="vertical-align: inherit;">Kerugiannya adalah kecepatan transfer yang rendah (300 KB / dtk) dan waktu pemasangan head yang sangat besar (300 ms). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak ada blitter di konsol. </font><font style="vertical-align: inherit;">Model pemrograman mesin adalah bahwa pengembang tidak menyentuh besi "telanjang". </font><font style="vertical-align: inherit;">Namun, ada pengontrol DMA untuk mentransmisikan data dari CD / DRAM ke VRAM / SRAM.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistem video</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terlepas dari kenyataan bahwa sistem video mendukung warna 24-bit, sangat sedikit game yang menggunakannya (dengan pengecualian latar belakang Heart Of Darkness </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[4]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Dalam praktiknya, dapat dikatakan dengan hati nurani yang baik bahwa sebagian besar game menggunakan warna 16-bit dengan topeng 1-bit.</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><img width="300" height="353" src="https://habrastorage.org/getpro/habr/post_images/5ff/164/4dd/5ff1644dd75bfbad9af9b1d61190ebe1.webp"><br>
</td>
<td><img width="300" height="353" src="https://habrastorage.org/getpro/habr/post_images/5ef/828/585/5ef828585512c3315eef5d72087f27b2.png"></td>
</tr>
</tbody></table></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ruang warna PSX dengan kedalaman 15 bit per piksel</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Fitur menakjubkan dari sistem video adalah organisasi VRAM, yang sepenuhnya bergantung pada pengembang. 1 MB VRAM dianggap sebagai array 1024 x 512 x 16 bit yang dapat digunakan secara bebas. Penerapan buffering ganda atau tripel dilakukan dengan cara yang sepele, karena area tersebut cukup untuk menyimpan, menggambar, dan mentransfer ke sistem output. Tekstur juga dalam VRAM, di sebelah buffer bingkai. Untuk menulis ke buffer bingkai, perintah GPU untuk rendering segitiga bertekstur / segi empat diluncurkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tekstur dapat memiliki berbagai format. Ada dua sumber langsung warna 16-bit dan 24-bit, serta sumber-sumber berdasarkan palet yang disebut Color Look Up Table (CLUT). CLUT 8-bit dan 4-bit didukung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal resolusi, konsol ini terbatas pada standar televisi NTSC dan PAL. </font><font style="vertical-align: inherit;">Untuk pasar AS dan Jepang, pengembang dapat memilih resolusi horizontal 256, 320, 384, 512, atau 640 piksel. </font><font style="vertical-align: inherit;">Resolusi vertikal adalah 240 piksel (saat melewati setiap baris raster kedua), atau 480 piksel saat berganti-ganti. </font><font style="vertical-align: inherit;">Kedua mode vertikal dioperasikan pada frekuensi 60 Hz. </font><font style="vertical-align: inherit;">Satu-satunya perbedaan antara NTSC dan PAL adalah peningkatan resolusi vertikal (256/512 bukannya 240/480) dan kecepatan refresh yang lebih rendah (50 Hz).</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mode NTSC (60Hz) PAL (50Hz) Catatan</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
=================================================== ========</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0 256 x 240 256 x 256 Non-interlaced</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 320 x 240 320 x 256 Non-interlaced</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 512 x 240 512 x 256 Non-interlaced</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3 640 x 240 640 x 256 Non-interlaced</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 256 x 480 256 x 512 Disisipkan</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5 320 x 480 320 x 512 Disisipkan</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6 512 x 480 512 x 512 Disisipkan</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7 640 x 480 640 x 512 Disisipkan</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8 384 x 240 384 x 256 Non-interlaced</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9 384 x 480 384 x 512 Disisipkan</font></font></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhatikan mode dengan resolusi horizontal 384 piksel (8 dan 9), yang, dilihat dari id mereka, ditambahkan kemudian.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOOM di PSX</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DOOM diangkut ke PSX oleh Williams Entertainment dengan dukungan dari id Software. </font><font style="vertical-align: inherit;">Dibutuhkan tim yang terdiri dari lima orang sedikit kurang dari setahun </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[5] </font></font></sup><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[6]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk port engine, mengubah sumber daya dan memodifikasi game sehingga semuanya bekerja "hanya" pada 3,5 MB RAM.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œGrafiknya telah terdegradasi: ukuran tekstur, sprite, monster dan senjata juga berkurang. </font><font style="vertical-align: inherit;">[...] Terkadang kami memotong bingkai animasi. " </font><font style="vertical-align: inherit;">- Harry Tisley</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil akhirnya dirilis pada 16 November 1995. </font><font style="vertical-align: inherit;">Ini dianggap sebagai port konsol terbaik dari permainan, dan beberapa aspek bahkan melampaui versi PC karena warna puncak dan musik berkualitas CD.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Sejauh ini, ini adalah DOOM terbaik!" </font><font style="vertical-align: inherit;">- John Romero</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rencana belajar</font></font></h2><br>
<div style="text-align:center;"><img width="290" height="301" src="https://habrastorage.org/getpro/habr/post_images/9de/26d/ce5/9de26dce56307a9b22370aa22c0c93e9.svg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena sifat pengembangan, struktur DOOM didasarkan pada kernel yang menggunakan enam subsistem untuk I / O. Sebagian besar waktu saya mempelajari tiga bagian yang saya temukan paling menarik, yaitu sistem file berbasis CD-ROM, audio berbasis SPU, dan video berbasis GPU, karena mereka unik dengan arsitektur PSX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode sumber DOOM untuk PSX tidak pernah dipublikasikan, tetapi ternyata tidak ada masalah sama sekali. Informasi yang tersedia sudah cukup.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sumber pertama adalah PSY-Q SDK yang mengagumkan, yang merupakan alat "resmi" yang digunakan oleh pengembang PSX saat itu. Ada banyak dokumentasi di dalamnya, disajikan sebagai satu set file PDF. Banyak sekali informasi yang hanya mengkonfirmasi semua kebaikan yang saya dengar tentang keramahan PSX kepada pengembang. Perpustakaan (mis., Libcd, libds) yang dikembangkan oleh Psygnosis juga didokumentasikan dengan baik. Sangat menyenangkan melihat penjelasan yang jelas, terutama dibandingkan dengan kurangnya informasi tentang konsol lain yang hampir lengkap (ya, saya berbicara tentang SNES). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sumber informasi lain adalah banyak alat eksternal yang tersedia saat ini. ISOBuster memungkinkan saya untuk membuka konten CD. PSound membantu memindai file LCD. Kemampuan yang menakjubkan dari emulator no $ PSX untuk melacak perintah GPU dan SPU telah menjadi emas nyata.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi mungkin saya paling terkesan dengan cinta besar DOOM untuk PSX dari komunitas penggemar. </font><font style="vertical-align: inherit;">Rekayasa permainan yang lengkap telah dilakukan. </font><font style="vertical-align: inherit;">PSXDOOM-RE menonjol terutama karena itu adalah basis kode C yang dapat dikompilasi menggunakan PSY-Q SDK ke dalam game PSX penuh. </font><font style="vertical-align: inherit;">Kode ini sangat andal karena diperoleh dengan menulis ulang setiap fungsi kode mesin dalam C.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dunia CD yang menakjubkan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebelum mulai mempelajari implementasi sistem file, saya melakukan perjalanan singkat untuk lebih memahami dunia CD yang indah.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama 20 tahun, dari 1980 hingga 2000, beberapa volume spesifikasi telah dirilis yang mengungkapkan topik ini. Bersama-sama, mereka disebut "Buku Pelangi." Buku pertama dalam seri, "Buku Merah," berisi spesifikasi untuk audio compact disk (CD). "Buku Kuning" adalah pelengkap dari "Buku Merah", ini menambahkan spesifikasi data untuk CD-ROM dan ISO-9600. The Orange Book telah menambahkan spesifikasi untuk CD-DA, CD-R (Recordable) dan CR-WR (Rewritable). Buku Putih didedikasikan untuk Video-CD (VCD). Green Book berbicara tentang CD-Interactive (CD-I). Blue Book menyajikan data Enhanced-CD (ECD) untuk dukungan multimedia. The Scarlet Book didedikasikan untuk Super Audio (SACD), yang menambahkan audio definisi tinggi. The Purple Book mencantumkan spesifikasi Double Density CD (DDCD), yang telah meningkatkan kapasitas disk dari 650 MB menjadi 1,3 GB. Akhirnya,Cyan Book merinci 9660 spesifikasi sistem file</font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[7]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/52b/2f6/c60/52b2f6c605024780dcf141bcaf02a6a8.svg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rainbow Books berisi semua yang kita ketahui tentang CD. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai minimum absolut, kita perlu memahami bahwa CD PSX biasanya terdiri dari sektor, yang masing-masing berisi 2048 byte data. </font><font style="vertical-align: inherit;">Sektor dikelompokkan ke dalam trek (yang mungkin berupa data atau suara). </font><font style="vertical-align: inherit;">Trek dikelompokkan dalam sesi. </font><font style="vertical-align: inherit;">Informasi trek data dapat diatur menggunakan sistem file ISO-9660 standar, namun, gim ini juga dapat memiliki alamat sektor hardcoded.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di dalam CD game DOOM</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/88b/62c/636/88b62c636572fe1c4617445525220c58.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda melihat ke dalam CD-ROM menggunakan ISOBuster, Anda dapat melihat bahwa DOOM terdiri dari satu sesi yang berisi delapan trek </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[8]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tujuh di antaranya adalah trek suara berkualitas CD yang diputar di antara misi dan di adegan terakhir. </font><font style="vertical-align: inherit;">Lagu terakhir (# 7) bahkan menggunakan suara setan digital. </font><font style="vertical-align: inherit;">Track nomor 6 sangat penting karena tampaknya diambil langsung dari rave party. </font><font style="vertical-align: inherit;">Ternyata ini adalah musik yang diputar pada kartu super-rahasia 59 "Club DOOM" (kartu rahasia yang hanya dapat diakses dari kartu rahasia) </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[9]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Biarkan saya membiarkan Anda menghargai kegilaannya. </font><font style="vertical-align: inherit;">Sebelum memulai, periksa volume suara.</font></font><br>
<br>
<div class="oembed"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://fabiensanglard.net/doom_psx/Track06.mp3</font></font></a></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lagu yang tersisa (nomor 1) adalah ISO-9660, yang berisi mesin permainan dan sebagian besar sumber daya. </font><font style="vertical-align: inherit;">Setelah menjelajahi banyak port DOOM, saya dengan naif mengharapkan sebuah mesin bernama DOOM.EXE, file sumber daya PSXDOOM.WAD, dan mungkin manifes. </font><font style="vertical-align: inherit;">Saya sangat keliru. </font><font style="vertical-align: inherit;">287 file </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[10] </font></font></sup><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[11]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ditemukan di trek </font><font style="vertical-align: inherit;">, termasuk 60 .WAD, 120 .IMG dan .LCD yang tak terhitung jumlahnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data disusun berdasarkan level (lima file per kartu).</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskripsi Nama File</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
=================================================== =====</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAP01.WAD Standar Geometri (BSP / Tolak / ...)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAPTEX01.IMG Tekstur bidang / dinding</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAPSPR01.IMG Semua sprite dibuat oleh HAL</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MUSIC / MUSLEV1.LCD Musik yang Dapat Diputar</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SNDMAPS1 / MAP01.LCD Semua suara dibuat oleh HAL</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika ditanya mengapa semuanya diatur dengan cara baru, pengembang Crash Bandicoot Andy Gavin menjawab sebagian dalam sebuah wawancara dengan Ars Technica. </font><font style="vertical-align: inherit;">[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terjemahan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di HabrÃ©]</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Dibutuhkan sekitar 1/3 detik untuk memindahkan kepala ke titik mana pun pada CD."</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena kenyataan bahwa kecepatan pemosisian head hampir 300 ms (yang dikonfirmasi oleh dokumentasi PSY-Q </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[12]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), para pengembang di Williams Entertainment tidak dapat menyimpan arsitektur yang jelas dari mesin DOOM, yang menyimpan semua sumber daya dalam satu file (misalnya, DOOM.WAD) dan mengunduhnya berdasarkan permintaan. Di PSX, ini akan menyebabkan frame rate yang mengerikan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengembang memecahkan masalah dengan melemparkan jumlah byte yang tampaknya tak berujung pada CD. Semua sumber daya yang diperlukan untuk tingkat disimpan dalam lima file yang berisi geometri peta, tekstur. sprite, efek suara dan musik. Ini sangat mahal, tetapi menghilangkan kebutuhan untuk mengakses CD selama proses permainan. </font></font><br>
<br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fakta yang menarik:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam daftar file di trek data ada file yang disebut PSXDOOM.WAD (4 806 088 bytes), tetapi hanya digunakan untuk memuat palet dan beberapa gambar menu. </font><font style="vertical-align: inherit;">Mungkin lebih aktif digunakan dalam proses pengembangan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ambil peta pertama sebagai contoh: jumlah total data yang diunduh telah berkurang dari 4 MB menjadi 900 KB.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ukuran Nama File (dalam byte)  </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
=====================================  	</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAP01.WAD 28 196</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAPTEX01.IMG 90 744</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAPSPR01.IMG 590 344</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MUSIC / MUSLEV1.LCD 61 232</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SNDMAPS1 / MAP01.LCD 143 632</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
=====================================</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total: 914.148</font></font></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengetahui bahwa sumber daya menempati 914 KB, Anda mungkin berpikir bahwa ada banyak DRAM yang tidak digunakan tersisa. Tetapi Anda harus ingat bahwa itu juga harus sesuai dengan file yang dapat dieksekusi dari 428 KB, serta tumpukan yang berubah pada saat dijalankan. Faktanya, hanya sekitar 1 MB DRAM yang tersedia saat runtime. </font></font><br>
<br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fakta menarik:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ketika memeriksa kode sumber PSXDOOM-RE, saya menemukan fungsi P_LoadBlocks, yang mencoba membaca dari CD hingga empat kali </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[13]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , setelah itu ia menyerah. Ini adalah salah satu kesenangan bekerja dengan media yang mudah tergores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak berharap waktu pemasangan kepala CD-ROM akan mempengaruhi arsitektur game begitu banyak. Beberapa game, seperti Crash Bandicoot, dibuat dari awal dengan sistem halaman untuk streaming data dari CD saat runtime. Dalam kasus DOOM, mesin tidak mampu melakukan ini. CD tidak digunakan selama pertandingan, dengan pengecualian satu lagu tertentu (ya, dari level Klub DOOM). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Orang-orang id Software tidak pernah menjadi penggemar pertukaran antara kapasitas dan kecepatan yang ditawarkan CD-ROM.</font></font><br>
<br>
<blockquote>Â«    - .     ,       CD.  - ,     Crash 'n Burn â€”    ?    .  ,     CD      ,  3DO   .   -   CD- DOOM,        â€  DOOMâ€œ.           ,     .       .<br>
<br>
           ,     CD.       Â». â€”   (ATARI EXPLORER ONLINE, 22  1994 )</blockquote><br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fakta menarik:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peristiwa di dalam game DOOM dipicu menggunakan "stretch mark." </font><font style="vertical-align: inherit;">Ketika melintasi garis dengan properti khusus, fungsi khusus dipanggil. </font><font style="vertical-align: inherit;">Dalam versi "lawas" dari mesin tidak ada properti yang memungkinkan Anda untuk memutar lagu. </font><font style="vertical-align: inherit;">Untuk memainkan Club DOOM, tindakan linedef khusus telah dibuat (nomor 142)</font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [14]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sungguh menakjubkan betapa banyak upaya ekstra yang diperlukan untuk menciptakan level ini. </font><font style="vertical-align: inherit;">Mungkin para pengembang benar-benar senang bersenang-senang.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kasus Archvile yang Hilang</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/daf/8fb/db9/daf8fbdb944deb32c8b6f398615a16ef.webp"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Melakukan penelitian untuk Game Engine Black Book saya, saya tidak bisa sepenuhnya memahami frasa ini oleh desainer Harry Teesley:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œArchvile memiliki bingkai animasi dua kali lebih banyak daripada monster lainnya, dan kami tidak bisa memasukkannya ke dalam PSX. </font><font style="vertical-align: inherit;">Baik serangannya maupun efek kebangkitannya tidak bisa hilang. </font><font style="vertical-align: inherit;">Dia terlalu besar. " </font><font style="vertical-align: inherit;">- Harry Tisley (desainer) dalam sebuah wawancara dengan doomworld.com</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jelas bahwa masalahnya bukan kapasitas 650 megabyte CD, tapi saya tidak mengerti apa faktor pembatas - DRAM atau VRAM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah memahami keterbatasan CD-ROM, saya menyadari bahwa masalahnya bukan pada menyimpan sprite pada CD, atau bahkan mentransfernya dari DRAM ke VRAM. </font><font style="vertical-align: inherit;">Masalahnya adalah untuk memasukkan semuanya ke dalam DRAM. </font></font><br>
<br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fakta menarik:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ArchVile sepenuhnya dihapus dari kode sumber PSXDOOM-RE. </font><font style="vertical-align: inherit;">Bahkan #DEFINE-nya dikomentari </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[15]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_ZOMBIE  <span class="hljs-meta-string">"Zombieman"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_SHOTGUN  <span class="hljs-meta-string">"Shotgun Guy"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_HEAVY  <span class="hljs-meta-string">"Heavy Weapon Dude"</span></span><font></font>
...<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_HELL   <span class="hljs-meta-string">"Hell Knight"</span></span>
<span class="hljs-comment">//#define CC_ARCH "Arch-Vile"</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_SPIDER <span class="hljs-meta-string">"The Spider Mastermind"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_CYBER  <span class="hljs-meta-string">"The Cyberdemon"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_HERO   <span class="hljs-meta-string">"Our Hero"</span></span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemrograman SPU</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chip SPU hanya memahami satu format, yaitu ADPCM. </font><font style="vertical-align: inherit;">Ia mampu mencampur hingga 24 saluran (termasuk trek audio CD) dan memiliki fungsi manipulasi audio yang kuat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menjinakkan binatang buas ini, DOOM PSX menggunakan perpustakaan libWESS (Williams Entertainment Sound System), yang ditulis oleh sound engineer Scott Patterson. </font><font style="vertical-align: inherit;">Perpustakaannya cukup kuat, mampu menciptakan kembali sistem MiDI, di mana bank besar catatan (disebut font suara) dikendalikan oleh skor musik yang memakan sedikit ruang. </font><font style="vertical-align: inherit;">Itu juga dapat memanipulasi atribut suara waktu nyata seperti volume, nada, kecepatan nada, dan fungsi ADSR (Serangan, Pembusukan, Mempertahankan, dan Melepaskan). </font><font style="vertical-align: inherit;">Semua musik yang dimainkan selama bermain game dihasilkan menggunakan libWESS. </font><font style="vertical-align: inherit;">Dengan satu pengecualian, Anda dapat menebaknya, ini adalah Club DOOM, yang dimainkan dari CD track nomor 6.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WESS menggunakan dua format file berpemilik. </font><font style="vertical-align: inherit;">Ini adalah file .WMD yang berisi skor musik dan efek suara, dan file .LCD, yang merupakan format PSX VAG (tanpa judul) dan berisi sampel ADPCM. </font><font style="vertical-align: inherit;">Ketika DOOM dimulai, pustaka libWESS memuat semua efek suara (SFX, 89 buah) dan skor musik (19 buah) yang disimpan dalam file kecil (55 KB) yang disebut DOOMSND.WMD. </font><font style="vertical-align: inherit;">Dia juga memuat sampel SRAM "selalu digunakan" yang diterbitkan oleh karakter, pintu, dll.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MUSIC / DOOMSFX.LCD -&gt; SRAM</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MUSIC / DOOMSND.WMD -&gt; DRAM</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah memuat peta, libWESS membuka MUSIC / MUSLEV% .LCD, yang berisi sampel ADPCM yang digunakan dalam musik kartu ini, dan SNDMAPS% / MAP %%. LCD, yang berisi sampel ADPCM yang diperlukan untuk musuh di level ini. </font><font style="vertical-align: inherit;">Semua sampel ADPCM dimuat langsung ke SRAM dan tidak memakan ruang dalam DRAM.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOOM di PSX: GPU</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bidang pembuatan video, Williams Entertainment perlu menyelesaikan dua masalah: sejumlah kecil VRAM (kami akan kembali ke sini nanti) dan kurangnya pemetaan tekstur yang benar dengan mempertimbangkan perspektif.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œAaron Siler dan saya mengerjakan versi untuk Nintendo 64 (game ini sangat berbeda) dan untuk Playstation. </font><font style="vertical-align: inherit;">Ini adalah versi pertama yang tidak ditulis pada logam kosong, karena Sony dan Nintendo memaksa pengembang (setidaknya yang pihak ketiga) untuk menulis API dan tidak memberikan mereka dokumentasi pada register perangkat keras. </font><font style="vertical-align: inherit;">Pada awalnya, budaya SGI terutama pengembang terbatas, tetapi secara bertahap Nintendo melonggarkan cengkeramannya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebuah cerita lucu tentang mengembangkan versi untuk Playstation: Aaron dan saya mulai dengan arsitektur mesin yang berbeda, yang menjadikan segitiga dunia, karena konsol memberi mereka akselerasi perangkat keras penuh. </font><font style="vertical-align: inherit;">Dalam kasus N64, ini bekerja dengan sempurna, karena rendering perspektif-benar dengan akurasi subpixel (hasil dari pengaruh SGI), tetapi pada Playstation pemetaan tekstur affine dilakukan dengan koordinat bilangan bulat, sehingga segitiga dinding dan lantai yang besar tampak LUAR BIASA. â€ </font><font style="vertical-align: inherit;">- John Carmack (Game Engine Black Book: DOOM)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memahami bagaimana "mengerikan" itu terlihat, di bawah ini saya menunjukkan tiga dinding yang diberikan dengan tekstur affine dan prospektif benar.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98b/897/f95/98b897f955dbdf31ff724bbe1a1841f4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perspektif Texturing</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/67f/f2a/602/67ff2a6028aea5b8a390b13ecdf23f5c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Affine (PSX)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Perhatikan bahwa tidak ada masalah dengan dinding lurus, dan ketika sudut pandang meningkat, distorsi menjadi lebih terlihat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah persepsi yang sama dihadapi pengembang Rage Software ketika porting DOOM ke SEGA Saturnus.</font></font><br>
<br>
<blockquote>Â«    ,        id Software.      ,      WAD       Saturn,      ,  3D-.   ,           ,          3D-   .     ,    PC.  ,   ,      :  SH2    ,   PC,  68000     .<br>
<br>
   ,      Â» â€”   ( DOOM  Saturn)   RetroGamer â„–134.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin, karena pengembang PSX memiliki lebih banyak waktu, mereka dapat menyelesaikan masalah pemetaan tekstur yang prospektif dengan mengubah renderer poligon GPU menjadi renderer garis.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Aku berkata: backup semuanya (maka belum ada sistem kontrol versi!), Kami akan membuat game yang sama sekali berbeda." </font><font style="vertical-align: inherit;">Kami menggunakan peralatan yang menghasilkan segitiga yang mewakili kolom atau baris selebar satu piksel, seperti dalam kode assembler pada PC, dan itu berfungsi dengan baik. </font><font style="vertical-align: inherit;">Ternyata solusi yang lebih umum di Playstation adalah penghentian geometri di sepanjang dua sumbu, tetapi saya benar-benar menyukai bahwa Doom tampak kurang "gugup" daripada kebanyakan game untuk Playstation saat itu. "- John Carmack (Game Engine Black Book: DOOM)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berkat proyek PSXDOOM-RE </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[16],</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kita dapat mengetahui bagaimana itu diterapkan. </font><font style="vertical-align: inherit;">Pipa rendering telah sepenuhnya ditulis ulang dan dibagi menjadi dua tahap. </font><font style="vertical-align: inherit;">Ini akan dibahas secara lebih rinci di bawah ini, tetapi kita benar-benar dapat melihat bahwa fungsi rendering R_Render_Wall mentransmisikan perintah menggambar dengan kode keras dengan lebar 1 piksel.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">R_Render_Wall</span><span class="hljs-params">(...)</span> </span>{<font></font>
  .<font></font>
  <span class="hljs-keyword">int</span> x1 = ... ; <span class="hljs-comment">// Left end of wall.</span>
  <span class="hljs-keyword">int</span> x2 = ... ; <span class="hljs-comment">// Right end of wall.</span><font></font>
  .<font></font>
  <span class="hljs-keyword">while</span>(x1 &lt; x2) {<font></font>
    .<font></font>
    setRGB0(wallpoly);<font></font>
<font></font>
    setXY3(wallpoly,<font></font>
      x1    , ypos1 - <span class="hljs-number">1</span>,<font></font>
      x1 + <span class="hljs-number">1</span>, ypos2 + <span class="hljs-number">1</span>,<font></font>
      x1    , ypos2 + <span class="hljs-number">1</span>);		<font></font>
<font></font>
    setUV3(wallpoly,<font></font>
         upos, v0,<font></font>
         upos, v1,<font></font>
         upos, v1);  <font></font>
    .<font></font>
    x1 += <span class="hljs-number">1</span>;<font></font>
  }<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dinding diberikan dalam satu kolom lebar piksel. </font><font style="vertical-align: inherit;">Lihat API, yang menyerupai mode Segera di OpenGL. </font></font></i><br>
<br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fakta menarik:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> perancang perangkat keras Sony mempertahankan i-cache prosesor MIPS, tetapi menonaktifkan d-cache untuk mengubahnya menjadi 1K scratchpad kecepatan tinggi. </font><font style="vertical-align: inherit;">Prosedur render dinding / bidang menggunakan papan alas ini secara ekstensif.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manajemen GPU VRAM</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mempelajari bagaimana kontrol VRAM dilakukan, saya memilih cara yang aneh: Saya menggunakan fungsi melihat emulator VRAM real-time no $ PSX. </font><font style="vertical-align: inherit;">Fungsi ini menampilkan seluruh array piksel 1024 x 512 x 16 bit (meskipun dalam bentuk terdistorsi). </font><font style="vertical-align: inherit;">Fungsi tampilan juga menunjukkan seluruh daftar instruksi GPU yang dikirimkan oleh prosesor pusat di setiap frame.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/106/6e1/2c4/1066e12c443fa07e91e8f4793afe655d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No $ PSX - Tuhan mengirimi kami sebuah emulator yang memungkinkan Anda untuk melihat ke dalam GPU. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebuah studi yang cermat tentang frame pertama VRAM memungkinkan Anda untuk belajar banyak.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfd/e98/57f/dfde9857f541f946c946445fc5feb1ea.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frame pertama dari game ditampilkan dengan No $ PSX. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang paling jelas adalah dua area 256 x 240 x 16 bit di sudut kiri atas, yang merupakan buffer bingkai (karena itu, permainan menggunakan buffering ganda). </font><font style="vertical-align: inherit;">Perlu dicatat bahwa 256x240 adalah resolusi serendah mungkin pada PSX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah bingkai buffer adalah seperangkat piksel penuh warna - palet CLUT. </font><font style="vertical-align: inherit;">Perhatikan warna merah, artinya saat layar berubah merah saat pemain mengalami kerusakan, palet yang dihitung sebelumnya digunakan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sudut kanan atas kita melihat tekstur yang anehnya dikompresi secara horizontal dan memiliki warna "salah". </font><font style="vertical-align: inherit;">Itu terjadi karena tekstur menggunakan indeks 8-bit dari CLUT yang dijelaskan di atas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mari kita bicara tentang kebakaran di DOOM di PS1 lagi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tahun 2018, saya mempelajari bagaimana efek api disadari </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[17]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terjemahan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentang HabrÃ©]. </font><font style="vertical-align: inherit;">Senang rasanya bisa kembali lagi kepadanya ketika menjelajahi perintah GPU. </font><font style="vertical-align: inherit;">Perhatikan bahwa tidak ada $ PSX menandai area target dari setiap perintah dengan warna merah. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tahap 1:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nyala diperbarui dalam RAM dan dimuat ke VRAM (perintah CpuToVram).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d61/e16/8a1/d61e168a1b238160665e78c437c7b2d5.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tahap 2:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tekstur api digambar empat kali di sepanjang layar (perintah QuadTex). </font><font style="vertical-align: inherit;">Tekstur nyala memiliki lebar 32 texels, tetapi GPU digunakan untuk menggambarnya dengan lebar 64 piksel. </font><font style="vertical-align: inherit;">Penyaringan Bilinear tidak dimungkinkan di sini, sampel terdekat diambil.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1a/08b/a2c/f1a08ba2c51a31bd57bcf9b45827bb23.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tahap 3:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pelat DOOM Final (perintah QuadTex) digambar di atas segalanya.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7de/30e/f5b/7de30ef5b64d978cf2f632cfe3ac82b4.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bingkai penuh, tim demi tim</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebuah studi tentang perintah yang dikirimkan dalam bingkai menunjukkan bahwa mesin benar-benar berbeda dari versi PC. Di dalamnya, dunia berputar dari jarak pendek ke jarak jauh. Pertama, semua dinding diberikan. Pada lintasan kedua, celah vertikal terisi di antara mereka (pesawat terbang) (termasuk langit). Dalam bagian ketiga (terakhir), sprite diberikan, dimulai dengan yang terjauh. Semua ini dilakukan dengan nol redrawing pixel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di PSX, rendering sedikit lebih kasar. Semuanya dirender dalam satu pass, dilakukan mulai dari jauh. Sistem visplane yang digunakan PC untuk mengisi kekosongan di antara dinding tidak ada di sini. Berkat konsep baru yang disebut "daun," pesawat dan dinding diberikan dalam urutan subsektor. Operasi seperti itu dalam "true 3D" menjadi mungkin karena penggunaan aktif fungsi proyeksi matriks GPE. Sprite juga diberikan secara bersamaan dengan dinding / pesawat tanpa tumpang tindih dan cek pemotongan, yang menghasilkan sejumlah kecil menggambar ulang.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">R_RenderPlayerView</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{<font></font>
  R_BSP();         <span class="hljs-comment">// Phase 1</span>
  R_RenderSKY();   <span class="hljs-comment">// Phase 2</span>
  <span class="hljs-keyword">for</span> (all subsectors from phase <span class="hljs-number">1</span>) {<font></font>
    R_RenderAll(subsector)<font></font>
  }<font></font>
  R_Render_Hud_Weapons();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat setiap langkah secara terperinci, dimulai dengan langit, yang pertama kali dirender menggunakan CopyRectRaw. no $ PSX menunjukkan VRAM pada saat frame selesai, tetapi memungkinkan Anda untuk kembali melalui sejarah perintah. Pixel langit hanya dapat dilihat karena tidak ada $ PSX yang mengalami masalah dalam memahami retasan ini dengan kolom satu piksel lebar (emulator lain, seperti ePSXe, tidak dapat mengatasi yang lebih baik </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[18]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), tetapi semua piksel ini akan ditulis ulang. Perhatikan bahwa di bawah tekstur langit semua penanda kunci pintu dikumpulkan dalam atlas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d1d/2ae/868/d1d2ae868238f0282a8495a4e2dd6afd.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian BSP dilalui secara berurutan dari jauh ke dekat. Untuk setiap subsektor, semua dinding / bidang / sprite diberikan. Jika Anda terbiasa dengan DOOM BSP, maka mungkin ingat bahwa kompiler doombsp hanya menyimpan segmen subsektor yang solid. Untuk memastikan rendering pesawat, konsep baru "daun" ditambahkan ke versi PSX, di mana segmen pemisahan BPS (tidak terlihat) disimpan. Segmen ini diproyeksikan ke ruang layar untuk menghasilkan batas-batas pesawat. Ini adalah pendekatan yang lebih "bersih", karena memungkinkan Anda untuk menyingkirkan retasan dengan ruang layar dan bug, misalnya, dari "jejak siput" yang terkenal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/558/cde/f1d/558cdef1d6ef68f1272b1e260333fd3b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam bidikan VRAM berikutnya, pesawat dari subsektor yang sama dengan dinding yang kita lihat di atas dirender sebagai segitiga setinggi 1 piksel. </font><font style="vertical-align: inherit;">Juga perhatikan tekstur dinding / pesawat, mereka semua memiliki ukuran yang sama. </font><font style="vertical-align: inherit;">Fitur ini menyederhanakan pemilihan tekstur VRAM dan menghindari fragmentasi.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/be6/092/6ce/be60926ce5304a264da51ab38a3e2c6a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami masih berada di subsektor yang sama. </font><font style="vertical-align: inherit;">Sekarang sprite dirender sebagai quadrangles (Quad). </font><font style="vertical-align: inherit;">Sprite ini termasuk musuh, kerang, dinding sebagian transparan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/708/e06/cf6/708e06cf66400378617db2484694433c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk bersenang-senang, kami akan menunjukkan kulit plasma.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb4/c5a/ebc/fb4c5aebca255019caa7d8c31140c136.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sedang mendekati akhir dari perintah rendering. </font><font style="vertical-align: inherit;">Di sini, dengan mencampur persegi panjang, senjata dirender.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac2/061/da0/ac2061da0769c7e614503818d5e59755.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Langkah Terakhir: Interface Rendering (HUD).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a34/be3/7e9/a34be37e93d0991d27b5d4fd8a3356c4.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VRAM meluap!</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/853/a77/9cc/853a779ccdc0280234e53ab3b6aea59a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bekerja dengan GPU adalah latihan dalam mengalokasikan ruang di VRAM. Dalam hal buffer bingkai, CLUT, konten statis (antarmuka), dan bahkan dinding / pesawat, tugasnya adalah dasar, karena mereka semua memiliki ukuran yang sama. Tetapi dengan sprite, hal-hal sedikit lebih rumit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena fakta bahwa sprite memiliki ukuran yang berbeda, mereka menyebabkan fragmentasi. Selain itu, tekstur dapat menutupi area layar yang luas dan berulang, dan sprite seringkali unik dan sejumlah besar yang tidak terduga mungkin diperlukan di setiap frame. Dalam kasus terburuk, sebuah bingkai membutuhkan sejumlah sprite yang tidak dapat ditempatkan di VRAM. Ini disebut Texture Cache Overflow, dan masalah ini tidak dapat diselesaikan. Ketika ini terjadi, game mengalami crash dan menampilkan pesan kesalahan samar </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[19]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengingatkan sebagian dari kita tentang "No more visplanes" yang tidak menyenangkan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1fb/4a4/f9f/1fb4a4f9fecf0b6420b198b08ff2f84d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semakin banyak sprite yang Anda lihat pada saat yang sama, semakin banyak VRAM digunakan.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbedaan antara PAL dan NTSC</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai kesimpulan dari bab video, saya memutuskan untuk melihat bagaimana NTSC dikonversi ke PAL. </font><font style="vertical-align: inherit;">Sayangnya, seperti di banyak game lain, DOOM PSX tidak memperhitungkan peningkatan resolusi vertikal. </font><font style="vertical-align: inherit;">Saat memainkan DOOM di PS1 di Eropa, Anda melihat gambar yang dikompresi secara vertikal dengan batas hitam yang terlihat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah saya belajar tentang prinsip-prinsip VRAM, sulit bagi saya untuk menyalahkan para pengembang. </font><font style="vertical-align: inherit;">Jika Anda memperhatikan skema VRAM di NTSC, Anda akan melihat bahwa meningkatkan resolusi vertikal dari frame buffer melanggar seluruh struktur alokasi data. </font><font style="vertical-align: inherit;">Tidak mungkin menyimpan tekstur di bawahnya. </font><font style="vertical-align: inherit;">Atau Anda harus memindahkan CLUT ke lokasi lain. </font><font style="vertical-align: inherit;">Terlalu banyak biaya dengan manfaat yang relatif sedikit, dan meskipun fakta bahwa perbatasan hitam mengganggu permainan, saya setuju bahwa itu tidak sepadan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ucapan Terima Kasih</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terima kasih kepada Eric Vazquez (penulis PSXDOOM-RE), Samuel Villarreal (salah satu pengembang PSXDOOM-RE) dan Dan Leslie (pengembang profesional game untuk PlayStation 1) karena telah berbagi pengetahuan mereka dengan saya.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bahan referensi</font></font></b><div class="spoiler_text">[ 1] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">The Polygons Of Another World</a><br>
[ 2] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Game Engine Black Book: DOOM</a><br>
[ 3] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Everything You Have Always Wanted to Know about the Playstation</a><br>
[ 4] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">@gmontoir â€” 'Heart of Darkness uses MDEC frames as background bitmaps'.</a><br>
[ 5] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Five years of DOOM, part 1</a><br>
[ 6] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Five years of DOOM, part 2</a><br>
[ 7] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://archive.vn/20121209124333/" rel="nofollow">The Great Books</a><br>
[ 8] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">DOOM PSX tracks</a><br>
[ 9] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">MAP59: Club Doom (PlayStation Doom)</a><br>
[10] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">PSXDOOM/tree.txt</a><br>
[11] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">PSXDOOM files</a><br>
[12] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">PSY-Q SDK, CD Hardware</a><br>
[13] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">P_LoadBlocks</a><br>
[14] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Linedef #142 plays Club Doom</a><br>
[15] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">//#define CC_ARCH</a><br>
[16] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">PSXDOOM-RE Source code</a><br>
[17] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">How DOOM fire was done</a><br>
[18] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">DOOM on ePSXe</a><br>
[19] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">I_Error('Texture Cache Overflow');</a></div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id494374/index.html">Bus listrik dan baterainya: apa itu lithium titanate? (Bagian 1)</a></li>
<li><a href="../id494376/index.html">Buffer Kedalaman Hirarkis</a></li>
<li><a href="../id494380/index.html">Pengantar Manajemen Produk Strategis</a></li>
<li><a href="../id494384/index.html">Survei fungsional</a></li>
<li><a href="../id494390/index.html">Pencetakan 3D memangkas biaya penyetelan otomatis hingga setengahnya</a></li>
<li><a href="../id494400/index.html">Coronavirus dan Internet</a></li>
<li><a href="../id494402/index.html">Tahapan Kematangan Strategis</a></li>
<li><a href="../id494406/index.html">Pembelajaran mesin tanpa guru. Kutipan dari buku</a></li>
<li><a href="../id494408/index.html">Skema pemalsuan, pengembalian, dan pengecekan buah-buahan di toko sayur. Kutipan dari buku</a></li>
<li><a href="../id494410/index.html">Sebelum menjadi arus utama: bagaimana kami meluncurkan pengiriman tanpa kontak</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>