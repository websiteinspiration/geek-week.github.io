<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☝🏼 🍳 👩🏼‍🤝‍👨🏿 Modèle de cadre de test simple et pratique sur séléniure pour les autotests de l'interface utilisateur 👂 🍆 🆖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour. 
 
 Dans cet article, je voudrais partager mon expérience dans l'automatisation des tests fonctionnels. Il s'agira d'écrire un cadre de test ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Modèle de cadre de test simple et pratique sur séléniure pour les autotests de l'interface utilisateur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504408/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je voudrais partager mon expérience dans l'automatisation des tests fonctionnels. </font><font style="vertical-align: inherit;">Il s'agira d'écrire un cadre de test pratique et fiable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce que nous utiliserons: Java, Selenide, Alure, TestNG, Maven.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ak/jw/fs/akjwfs6ojajsaif4tgleyrnfgxq.png"><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">introduction</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projet GitHub - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SelenideBoilerplate</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Souvent dans les articles sur l'automatisation des tests, les exemples sont loin de la réalité, par exemple:</font></font><br>
<br>
<pre><code class="java hljs">driver.get (“URL”)<font></font>
driver.find_element_by_id(“ID”).send_keys(“username”)<font></font>
driver.find_element_by_id (“ID”).send_keys(“password”)<font></font>
driver.find_element_by_id(“submit”).click()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe de nombreux exemples similaires d'attentes, d'objets de page, etc. </font><font style="vertical-align: inherit;">En conséquence, il peut être difficile pour un testeur débutant de tout organiser correctement et commodément. </font><font style="vertical-align: inherit;">Le projet est surchargé de béquilles, c'est pourquoi il devient de plus en plus difficile d'écrire de nouveaux tests et de maintenir les anciens. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a aussi des outils trop verbeux et trop compliqués à mon avis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais vous montrer un framework de test simple, pratique et facilement extensible, qui est beaucoup plus facile à travailler que le sélénium ordinaire et que j'ai utilisé avec succès sur plusieurs projets. </font><font style="vertical-align: inherit;">Ce projet est la base, sur des projets réels tout est un peu plus compliqué (parallélisation, remoteDriver, nombreux tests, etc.).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outils</font></font></h3><br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selenide</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une bibliothèque pour écrire des tests d'interface utilisateur open source concis et stables. </font><font style="vertical-align: inherit;">Selenide résout la plupart des problèmes de délais d'attente, de clics sur des éléments qui n'ont pas réussi à se charger, etc. </font><font style="vertical-align: inherit;">Vous pouvez également oublier l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exception StaleElementReferenceException</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Un outil très pratique et facile à apprendre, après avoir travaillé avec lequel vous ne voulez plus revenir au sélénium.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebDriverManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Inclus dans Selenide. </font><font style="vertical-align: inherit;">Une bibliothèque qui fait tout le travail de téléchargement de pilotes pour un navigateur et de définition de chemins de pilotes -</font></font><pre><code class="plaintext hljs"> System.setProperty("webdriver.browser.driver", "/path_to_driver/driver"); </code></pre> </li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attrait</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour les rapports.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestNG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un framework de test.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maven</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un outil pour automatiser l'assemblage de projets.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Structure du projet</font></font></h4><br>
<img src="https://habrastorage.org/webt/wi/f3/ho/wif3hojxrn9u4padot3rvym5kps.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commençons par les modules d' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pages</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PageBuilder, classe</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En règle générale, les exemples donnent des pages assez simples où tout tient dans une seule classe. </font><font style="vertical-align: inherit;">Mais sur de vrais projets, il peut y avoir des pages assez grandes, décrivant toutes les fonctionnalités dont dans une classe n'est pas la meilleure idée. </font><font style="vertical-align: inherit;">Par exemple, cela pourrait être une page de recharge avec de nombreuses formes de systèmes de paiement différents. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, il est préférable de diviser la page en plusieurs classes et même éléments (par exemple, un produit dans le panier) et de tout regrouper dans la classe principale de la page. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, il est préférable de créer toutes les pages au même endroit, à savoir dans la classe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PageBuilder</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">package</span> app;<font></font>
<font></font>
<span class="hljs-keyword">import</span> app.pages.LoginPage;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PageBuilder</span> </span>{<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> LoginPage <span class="hljs-title">buildLoginPage</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LoginPage(<span class="hljs-string">"/login"</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> BalancePage <span class="hljs-title">buildBalancePage</span><span class="hljs-params">()</span> </span>{<font></font>
        DepositForm depositForm = <span class="hljs-keyword">new</span> DepositForm();<font></font>
        WithdrawalForm withdrawalForm = <span class="hljs-keyword">new</span> WithdrawalForm();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BalancePage(<span class="hljs-string">"/balance"</span>, depositForm, withdrawalForm);<font></font>
    }<font></font>
}<font></font>
<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classe AppConfig</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La classe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> stocke les paramètres de l'application Web testée. </font><font style="vertical-align: inherit;">Par exemple - l'adresse du site, les utilisateurs de test, etc. </font><font style="vertical-align: inherit;">Dans ce projet, il s'agit simplement de l'adresse du site.</font></font><br>
 <br>
<pre><code class="java hljs"><span class="hljs-keyword">package</span> app;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppConfig</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String baseUrl = <span class="hljs-string">"https://google.com"</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classe d'application</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit de la classe principale de ce module. </font><font style="vertical-align: inherit;">Dans le constructeur de la classe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , toutes les pages sont créées.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">package</span> app;<font></font>
<font></font>
<span class="hljs-keyword">import</span> app.pages.LoginPage;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> LoginPage loginPage;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">App</span><span class="hljs-params">()</span> </span>{<font></font>
        loginPage = PageBuilder.buildLoginPage();<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grâce à cette approche, il n'est pas nécessaire de créer constamment des objets de page dans les tests, seul l'objet </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est créé à </font><font style="vertical-align: inherit;">partir duquel les pages nécessaires sont obtenues. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la classe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il </font><font style="vertical-align: inherit;">peut également </font><font style="vertical-align: inherit;">y </font><font style="vertical-align: inherit;">avoir des méthodes telles que: enregistrement, enregistrement et création de commande, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est-à-dire de grandes opérations dans lesquelles plusieurs objets de page sont impliqués et qui sont souvent nécessaires dans les tests.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passons aux objets de page </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grâce à Selenide, travailler avec des objets de page est facile. </font><font style="vertical-align: inherit;">Toutes les pages héritent de la classe de base </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">L'URL de page relative est transmise au constructeur d'objet de page. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les éléments de page ont un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modificateur d'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> accès </font><b><font style="vertical-align: inherit;">public</font></b><font style="vertical-align: inherit;"> , vous pouvez donc écrire des tests dans des styles impératifs et déclaratifs. </font><font style="vertical-align: inherit;">De plus, à partir des éléments, vous pouvez obtenir les données nécessaires, telles que du texte ou un attribut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le localisateur est stocké en un seul endroit. </font><font style="vertical-align: inherit;">Toute logique de page doit être décrite dans les méthodes de page. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec cette approche, si quelque chose se casse ou change, dans la plupart des cas, il n'est pas nécessaire de réécrire les tests, la méthode est juste finalisée ou le localisateur change pour le test réel.</font></font><br>
<br>
<pre><code class="java hljs">
<span class="hljs-keyword">package</span> app.pages;<font></font>
<font></font>
<span class="hljs-keyword">import</span> com.codeborne.selenide.SelenideElement;
<span class="hljs-keyword">import</span> helpers.Driver;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> com.codeborne.selenide.Selenide.*;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BasePage</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> SelenideElement loginField = $(<span class="hljs-string">"#login__username"</span>);
    <span class="hljs-keyword">public</span> SelenideElement passwordField = $(<span class="hljs-string">"#login__password"</span>);
    <span class="hljs-keyword">public</span> SelenideElement signInButton = $(<span class="hljs-string">"#login_enter"</span>);
    <span class="hljs-keyword">public</span> SelenideElement termsOfUseLabel = $(<span class="hljs-string">"label[for=\"login_agree\"]"</span>);<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LoginPage</span><span class="hljs-params">(String pageUrl)</span> </span>{
        <span class="hljs-keyword">super</span>(pageUrl);<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">login</span><span class="hljs-params">(String email, String password)</span> </span>{<font></font>
        loginField.setValue(email);<font></font>
        passwordField.setValue(password);<font></font>
        termsOfUseLabel.click();<font></font>
        signInButton.click();<font></font>
        Driver.waitForUrlContains(<span class="hljs-string">"account/accounts"</span>);<font></font>
    }<font></font>
}<font></font>
<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Du repos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le module </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">helpers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contient 2 classes importantes: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - A partir de cette classe, vous pouvez obtenir les paramètres avec lesquels les tests sont exécutés. </font><font style="vertical-align: inherit;">Les paramètres par défaut sont également affichés ici. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les tests sont exécutés par la commande. </font></font><code> mvn test -Dbrowser=chrome -Dheadless=1</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les valeurs des variables sont extraites de la ligne de commande et, grâce à la classe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestConfig,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont disponibles dans les tests et dans l'application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, vous pouvez modifier l'URL de l'application en fonction de l'environnement (développeur, stade, production).</font></font><br>
<br>
<pre><code class="java hljs">
<span class="hljs-keyword">package</span> helpers;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestConfig</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String browser = <span class="hljs-string">"chrome"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String headless = <span class="hljs-string">"1"</span>;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initConfig</span><span class="hljs-params">()</span> </span>{<font></font>
        browser = System.getProperty(<span class="hljs-string">"browser"</span>) == <span class="hljs-keyword">null</span> ? <span class="hljs-string">"chrome"</span> : System.getProperty(<span class="hljs-string">"browser"</span>);<font></font>
        headless = System.getProperty(<span class="hljs-string">"headless"</span>) == <span class="hljs-keyword">null</span> ? <span class="hljs-string">"1"</span> : System.getProperty(<span class="hljs-string">"headless"</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isHeadless</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> headless.contains(<span class="hljs-string">"1"</span>);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La classe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Driver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est mon enveloppe sur les pilotes sélénium et séléniure avec quelques méthodes utiles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les méthodes les plus importantes: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Driver.initDriver ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ici le pilote / navigateur est initialisé.</font></font><br>
<br>
<pre><code class="java hljs">   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initDriver</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
        <span class="hljs-comment">// Get settings from command line</span><font></font>
<font></font>
        TestConfig.initConfig();<font></font>
<font></font>
        <span class="hljs-comment">// Set settings for selenide browser</span><font></font>
<font></font>
        Configuration.pageLoadStrategy = <span class="hljs-string">"eager"</span>;<font></font>
        Configuration.browserSize = <span class="hljs-string">"1920x1080"</span>;<font></font>
        Configuration.holdBrowserOpen = <span class="hljs-keyword">false</span>;<font></font>
        Configuration.screenshots = <span class="hljs-keyword">false</span>;<font></font>
<font></font>
        <span class="hljs-keyword">if</span>(TestConfig.isHeadless()) {<font></font>
            Configuration.headless = <span class="hljs-keyword">true</span>;<font></font>
        } <span class="hljs-keyword">else</span> {<font></font>
            Configuration.headless = <span class="hljs-keyword">false</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">switch</span> (TestConfig.browser) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"chrome"</span>:<font></font>
                Configuration.browser = Browsers.CHROME;<font></font>
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"firefox"</span>:<font></font>
                Configuration.browser = Browsers.FIREFOX;<font></font>
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:<font></font>
                Configuration.browser = Browsers.CHROME;<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }<font></font>
</code></pre><br>
<pre><code class="java hljs">Driver.clearCookies()<font></font>
Driver.close()<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les tests</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les classes de test sont héritées de la classe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A_BaseTest</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dans laquelle l'objet d'application </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est créé </font><font style="vertical-align: inherit;">, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logger</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">softAssert</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le navigateur s'ouvre et se ferme, les cookies sont effacés après chaque test. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe également un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A_BaseTestListener</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> où les erreurs peuvent être enregistrées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les tests ressemblent à ceci. </font><font style="vertical-align: inherit;">Facile à lire, facile à entretenir.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> org.testng.annotations.Test;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExampleTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">A_BaseTest</span>
</span>{
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">loginViaEmail</span><span class="hljs-params">()</span> </span>{<font></font>
        app.loginPage.open();<font></font>
        app.loginPage.login(<span class="hljs-string">"email@email.com"</span>, <span class="hljs-string">"passwords"</span>);<font></font>
        <font></font>
        logger.info(<span class="hljs-string">"Sample info message"</span>);<font></font>
               <font></font>
        softAssert.assertEquals(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>);<font></font>
        softAssert.assertAll();<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les classes de test sont spécifiées dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testng.xml</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le dossier de sortie de test contient des journaux et des captures d'écran - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Driver.takeScreenshot ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les rapports, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allure est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisé </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Une fois les tests terminés, vous pouvez exécuter la commande </font></font><code>allure serve target/allure-results</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et consulter le rapport. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projet GitHub - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SelenideBoilerplate</font></font></a></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504384/index.html">Introduisez progressivement TypeScript dans votre projet React</a></li>
<li><a href="../fr504386/index.html">Variables virtuelles Vassbotn H. Class</a></li>
<li><a href="../fr504392/index.html">De combien de programmeurs et de mots avez-vous besoin pour reconnaître un passeport manuscrit?</a></li>
<li><a href="../fr504400/index.html">Mise en cache. Partie 2: 60 jours avant la sortie</a></li>
<li><a href="../fr504402/index.html">29 mai Java Digest</a></li>
<li><a href="../fr504412/index.html">Championnat de programmation en ligne "Open Finals of Moscow Training"</a></li>
<li><a href="../fr504414/index.html">Comment Microsoft a tué AppGet</a></li>
<li><a href="../fr504420/index.html">Écrire une arène PvP au tour par tour avec des mouvements simultanés</a></li>
<li><a href="../fr504430/index.html">Centre des opérations de sécurité Tinkoff de la vie quotidienne: analyse du chargeur de démarrage unique</a></li>
<li><a href="../fr504434/index.html">Programme éducatif pour les parents: comment protéger les enfants du danger sur Internet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>