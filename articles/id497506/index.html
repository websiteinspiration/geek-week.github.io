<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨â€ğŸŒ¾ â¤´ï¸ ğŸ¤±ğŸ¾ Buat todo untuk perintah jarak jauh di Laravel ğŸª ğŸ‘’ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salute, Khabrovsk. Artikel berikut ini ditulis oleh salah satu pembaca reguler kami dan jelas tidak mengklaim sebagai materi hardcore, tetapi mungkin ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Buat todo untuk perintah jarak jauh di Laravel</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/497506/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salute, Khabrovsk. </font><font style="vertical-align: inherit;">Artikel berikut ini ditulis oleh salah satu pembaca reguler kami dan jelas tidak mengklaim sebagai materi hardcore, tetapi mungkin berfungsi sebagai tutorial untuk pemula. </font><font style="vertical-align: inherit;">Kami menantikan pendapat Anda tentang artikel di komentar, dan untuk pengetahuan lebih lanjut, kami mengundang Anda ke kursus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kerangka Kerja Laravel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami </font><font style="vertical-align: inherit;">.</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/0k/zr/tc/0kzrtcgvl777bqznfbpicgqsepc.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Halo semuanya! </font><font style="vertical-align: inherit;">Hari ini, dalam waktu yang sangat "terpencil" untuk semua orang, saya ingin melihat pembuatan todo sederhana di mana Anda dapat membuat tugas Anda sendiri. </font><font style="vertical-align: inherit;">Kedengarannya seperti apa yang tertulis dalam dokumentasi Laravel resmi, dan bagaimana itu - saya menggunakan todo mereka sebagai basis, mengubahnya sedikit, dan sebagian besar cerita saya akan tentang cara membuat peran administrator dan </font></font><strike><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membuat klon konyol lainnya Trello sepertinya sangat tidak konsisten</font></font></strike><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
 <a name="habracut"></a><br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Buat yayasan </font></font></h3><br>
 <img src="https://habrastorage.org/webt/hg/vy/ak/hgvyakmhibjsmwd1zethg1wbgmm.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang saya katakan, kami akan mengambil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panduan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berikutnya sebagai dasar </font><font style="vertical-align: inherit;">. Ini sangat sederhana dan lebih berfokus pada bekerja dengan migrasi dan perutean daripada pada pengontrol dan model pemrograman. Sayangnya, itu tidak diperbarui dari versi 5.1, dan jika Anda baru memulai program di Laravel pada versi 7 terakhir (itu baru segar pada tanggal 3 Maret), Anda tidak perlu menulis rute ke </font></font><code>app/Http/routes.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi untuk </font></font><code>routes/web.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ini sudah berubah sejak versi 6 ), dan secara umum, seluruh perbedaan berakhir di sini. Pada akhirnya, Anda harus mendapatkan sesuatu seperti ini:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vt/kw/at/vtkwatppc_py1c7l9jutt16qouq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya juga mengubah kerangka tata letak dari bootstrap ke bulma. </font><font style="vertical-align: inherit;">Pertama, saya menyukainya lebih baik, tetapi kedua, saya sudah memiliki basis kode dari templat pendaftaran blade (meskipun, di sisi lain, membangun halaman pendaftaran dan otorisasi sangat sederhana, saya akan menunjukkan caranya). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versi proyek ini dapat diunduh </font><font style="vertical-align: inherit;">di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di cabang utama (dan di cabang baru Anda dapat mengunduh aplikasi yang sudah selesai). </font><font style="vertical-align: inherit;">Anda dapat mengaktifkannya menggunakan perintah berikut, asalkan Anda sudah menginstal komposer dan laravel:</font></font><br>
<br>
<pre><code class="plaintext hljs">composer install<font></font>
//   .env,    .env example,     <font></font>
php artisan key:generate //  <font></font>
php artisan serve // <font></font>
</code></pre><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kami membuat otorisasi dan registrasi</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otorisasi out of the box telah berubah dari versi 6. </font><font style="vertical-align: inherit;">Sekarang untuk pembuatan cepat, Anda perlu menginstal paket yang dapat dengan cepat menghasilkan pengontrol dan templat blade:</font></font><br>
<br>
<pre><code class="plaintext hljs">composer install laravel/ui<font></font>
php artisan ui vue --auth<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa file baru akan muncul di proyek Anda: </font><font style="vertical-align: inherit;">subfolder </font><i><font style="vertical-align: inherit;">auth</font></i><font style="vertical-align: inherit;"> akan muncul </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
di folder sumber </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">daya</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , di mana akan ada file templat blade yang didedikasikan untuk otorisasi, kata sandi. Awalnya, templat blade dibuat dalam </font><i><font style="vertical-align: inherit;">bootstrap</font></i><font style="vertical-align: inherit;"> , namun, saya mengubahnya sedikit menjadi </font><i><font style="vertical-align: inherit;">bulma</font></i><font style="vertical-align: inherit;"> untuk menjaga kerangka css umum dalam proyek. Namun, agar nyaman menggunakan situs web, kita memerlukan bilah navigasi. Dalam </font><i><font style="vertical-align: inherit;">sumber daya,</font></i><font style="vertical-align: inherit;"> saya membuat folder </font><i><font style="vertical-align: inherit;">include</font></i><font style="vertical-align: inherit;"> , di mana saya menempatkan file tambahan - </font><i><font style="vertical-align: inherit;">header</font></i><font style="vertical-align: inherit;"> dan </font><i><font style="vertical-align: inherit;">nav</font></i><font style="vertical-align: inherit;"> . Agar tidak mengambil banyak ruang, saya akan mengatakan bahwa di header saya hanya memiliki kepala dengan koneksi bulma, dan di </font><font style="vertical-align: inherit;">sana adalah sebagai berikut:</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><code>nav.blade.php</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar has-background-black-ter"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"navigation"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"main navigation"</span>&gt;</span><font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-brand"</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-white is-size-4"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><font></font>
      TODO<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-burger"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"menu"</span> <span class="hljs-attr">aria-expanded</span>=<span class="hljs-string">"false"</span>&gt;</span><font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><font></font>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-menu"</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-start"</span>&gt;</span><font></font>
      @if (Auth::check())<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button is-primary"</span>&gt;</span><font></font>
        <span class="hljs-comment">&lt;!--   ,  -&gt;   --&gt;</span><font></font>
        {{{ Auth::user()-&gt;name}}}<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><font></font>
      @else<font></font>
      <span class="hljs-comment">&lt;!--    --&gt;</span><font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{route('register')}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{route('login')}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><font></font>
      @endif<font></font>
      @if (Auth::check())<font></font>
      <span class="hljs-comment">&lt;!--  ,       --&gt;</span><font></font>
      <span class="hljs-comment">&lt;!--      --&gt;</span><font></font>
<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{url('/logout') }}"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"event.preventDefault();</span></span><font></font><span class="hljs-tag"><span class="hljs-string">
                  document.getElementById('logout-form').submit();"</span>&gt;</span><font></font>
         <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"logout-form"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"{{ url('/logout') }}"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: none;"</span>&gt;</span><font></font>
        {{ csrf_field() }}<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><font></font>
<font></font>
      @endif<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-end"</span>&gt;</span><font></font>
      <span class="hljs-comment">&lt;!-- navbar items --&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span><font></font>
 </code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami mulai membuat arsitektur kami </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sudah waktunya untuk membahas struktur proyek kami. </font><font style="vertical-align: inherit;">Maka pembaca akan dapat mengubah aplikasi ke kebutuhan mereka, tetapi sekarang, katakanlah, saya ingin aplikasi memiliki satu administrator (katakanlah, seorang manajer proyek) yang dapat mengatur dan menghapus tugas, dan semacam tim yang dapat melihat perintah-perintah ini. </font><font style="vertical-align: inherit;">Tentu saja, akan sangat menyenangkan jika seseorang dapat mengambil tugas dan menunjukkan bahwa dialah yang melakukan itu, tetapi lebih pada nanti. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oke, itu berarti kita akan memiliki dua kelompok pengguna dan setuju bahwa hanya pengguna yang diberi akses yang dapat melihat papan tugas kami, dan beberapa administrator super dapat menambahkan tugas. </font><font style="vertical-align: inherit;">Mari kita mulai.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk sedikit penyederhanaan, saya memutuskan untuk membagi aplikasi menjadi dua halaman: satu di mana kita hanya akan memiliki tugas tanpa kemampuan untuk mengedit, dan yang kedua, yang hanya akan tersedia untuk admin super. </font><font style="vertical-align: inherit;">Saya memutuskan untuk memberi nama halaman yang tersedia untuk tim </font></font><code>welcome.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="php hljs">@<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.header'</span>)<font></font>
<font></font>
&lt;body&gt;<font></font>
    @<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.nav'</span>)<font></font>
    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">columns</span> <span class="hljs-title">is</span>-<span class="hljs-title">centered</span>"&gt;</span><font></font><span class="hljs-class">
        &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">column</span> <span class="hljs-title">is</span>-<span class="hljs-title">half</span>"&gt;</span><font></font><span class="hljs-class">
            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>"&gt;</span><font></font><span class="hljs-class">
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">heading</span>"&gt;</span><font></font><span class="hljs-class">
                     </span><font></font><span class="hljs-class">
                &lt;/<span class="hljs-title">div</span>&gt;</span><font></font><span class="hljs-class">
</span><font></font><span class="hljs-class">
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">body</span>"&gt;</span><font></font><span class="hljs-class">
                    @<span class="hljs-title">foreach</span> ($<span class="hljs-title">tasks</span> <span class="hljs-title">as</span> $<span class="hljs-title">task</span>)</span><font></font><span class="hljs-class">
                    &lt;<span class="hljs-title">a</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">block</span>"&gt;</span><font></font><span class="hljs-class">
                        &lt;<span class="hljs-title">button</span> <span class="hljs-title">class</span>="<span class="hljs-title">button</span> <span class="hljs-title">is</span>-<span class="hljs-title">rounded</span>"&gt;</span><font></font><span class="hljs-class">
                            &lt;<span class="hljs-title">span</span>&gt;</span>{{ $task-&gt;name }}&lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                        @<span class="hljs-keyword">endforeach</span><font></font>
                &lt;/div&gt;<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
    &lt;/div&gt;<font></font>
&lt;body&gt;<font></font>
&lt;/html&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Halaman ini hanya mencantumkan tugas. </font><font style="vertical-align: inherit;">Untuk menampilkannya, saya akan menambahkan jalur baru di web.php:</font></font><br>
<br>
<pre><code class="php hljs">Route::get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{<font></font>
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'welcome'</span>, [<font></font>
        <span class="hljs-string">'tasks'</span> =&gt; Task::orderBy(<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'asc'</span>)-&gt;get(),<font></font>
    ]);<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Templat di mana kami memiliki daftar yang sama, tetapi dengan kemampuan untuk mengedit dan menambahkan, disebut </font></font><code>task.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Itu terlalu besar, jadi saya akan meletakkannya di bawah spoiler:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task.blade.php</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">@extends('layouts.app')<font></font>
<font></font>
@section('content')<font></font>
&lt;div class="columns is-centered"&gt;<font></font>
    &lt;div class="column is-half"&gt;<font></font>
        &lt;div class="panel"&gt;<font></font>
            &lt;div class="panel-heading"&gt;<font></font>
                 <font></font>
            &lt;/div&gt;<font></font>
            &lt;div class="panel-block"&gt;<font></font>
                @include('common.errors')<font></font>
                &lt;!--     --&gt;<font></font>
                &lt;form action="{{ url('task')}}" method="POST"&gt;<font></font>
                    {{ csrf_field() }}<font></font>
<font></font>
                    &lt;div class="field"&gt;<font></font>
                        &lt;label for="task-name" class="label is-medium"&gt;&lt;/label&gt;<font></font>
                        &lt;input type=" text" name="name" id="task-name" class="input is-medium"<font></font>
                            value="{{ old('task') }}"&gt;<font></font>
                    &lt;/div&gt;<font></font>
<font></font>
                    &lt;div class="field"&gt;<font></font>
                        &lt;button type="submit" class="button is-success"&gt;<font></font>
                            &lt;span class="icon"&gt;<font></font>
                                &lt;i class="fa fa-btn fa-plus"&gt;<font></font>
                            &lt;/span&gt;&lt;/i&gt;<font></font>
                            &lt;span&gt; &lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                    &lt;/div&gt;<font></font>
                &lt;/form&gt;<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
<font></font>
        &lt;!-- Current Tasks --&gt;<font></font>
        @if (count($tasks) &gt; 0)<font></font>
        &lt;div class="panel"&gt;<font></font>
            &lt;div class="panel-heading"&gt;<font></font>
                 <font></font>
            &lt;/div&gt;<font></font>
<font></font>
            &lt;div class="panel-body"&gt;<font></font>
                {{-- &lt;table class="table table-striped task-table"&gt;<font></font>
                    &lt;thead&gt;<font></font>
                        &lt;th&gt;&lt;/th&gt;<font></font>
                        &lt;th&gt;&nbsp;&lt;/th&gt;<font></font>
                    &lt;/thead&gt;<font></font>
                    &lt;tbody&gt; --}}<font></font>
                @foreach ($tasks as $task)<font></font>
                &lt;a class="panel-block"&gt;<font></font>
                    &lt;button class="button is-rounded"&gt;<font></font>
                    &lt;span&gt;{{ $task-&gt;name }}&lt;/span&gt;<font></font>
                &lt;/button&gt;<font></font>
                    &lt;form action="{{ url('task/'.$task-&gt;id) }}" method="POST"&gt;<font></font>
                        {{ csrf_field() }}<font></font>
                        {{ method_field('DELETE') }}<font></font>
                        &lt;button type="submit" class="button is-danger"&gt;<font></font>
                            &lt;span class="icon is-small"&gt; &lt;i class="fa fa-btn fa-trash"&gt;&lt;/i&gt;&lt;/span&gt;<font></font>
                            &lt;span&gt;  &lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                    &lt;/form&gt;<font></font>
                &lt;/a&gt;<font></font>
                @endforeach<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
        @endif<font></font>
    &lt;/div&gt;<font></font>
&lt;/div&gt;<font></font>
@endsection<font></font>
<font></font>
</code></pre><br>
 </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan templat ini, seperti tutorial asli, diperluas ke </font></font><code>app/layouts.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="php hljs">@<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.header'</span>)<font></font>
<font></font>
&lt;body&gt;<font></font>
    @<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.nav'</span>)<font></font>
<font></font>
    @<span class="hljs-keyword">yield</span>(<span class="hljs-string">'content'</span>)<font></font>
<font></font>
&lt;/body&gt;<font></font>
<font></font>
&lt;/html&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baik! </font><font style="vertical-align: inherit;">Kami memutuskan tampilan, sekarang kami dapat melanjutkan ke perutean dan membuat milik kami </font></font><code>middlewares</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, mari kita masuk ke model </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengguna</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan menambahkan tipe pengguna baru:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">const</span> ADMIN_TYPE = <span class="hljs-string">'admin'</span>;<font></font>
<span class="hljs-keyword">const</span> TEAM_TYPE = <span class="hljs-string">'team'</span>;<font></font>
<span class="hljs-comment">#       :</span><font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAdmin</span>(<span class="hljs-params"></span>)</span>{        <font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;type === <span class="hljs-built_in">self</span>::ADMIN_TYPE;<font></font>
    <span class="hljs-comment">//        </span><font></font>
}<font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, buka migrasi terakhir dari tabel pengguna (database / folder migrasi) dan tambahkan kolom dengan tipe data baru kami:</font></font><br>
<br>
<pre><code class="plaintext hljs">$table-&gt;string('type')-&gt;default('team');<font></font>
//  ,         <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, lihat </font></font><code>app/Http/Controllers/Auth/RegisterController.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan edit fungsi create sedikit (itu juga terlihat sedikit berbeda di versi 5):</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> $data</span>)</span><font></font><span class="hljs-function">
    </span>{<font></font>
        <span class="hljs-keyword">return</span> User::create([<font></font>
            <span class="hljs-string">'name'</span> =&gt; $data[<span class="hljs-string">'name'</span>],<font></font>
            <span class="hljs-string">'email'</span> =&gt; $data[<span class="hljs-string">'email'</span>],<font></font>
            <span class="hljs-string">'password'</span> =&gt; Hash::make($data[<span class="hljs-string">'password'</span>]),<font></font>
            <span class="hljs-string">'type'</span> =&gt; User::TEAM_TYPE,  <font></font>
        ]);<font></font>
    }<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oke, kalau begitu kita perlu membuat middleware kita untuk admin. </font><font style="vertical-align: inherit;">Cara termudah untuk melakukan ini adalah dengan perintah berikut:</font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan make:middleware IsAdmin
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya harap Anda berhasil. </font><font style="vertical-align: inherit;">Di folder </font></font><code>HTTP/middleware</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda seharusnya muncul </font></font><code>isAdmin.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, di mana fungsi pegangan perlu diedit sebagai berikut:</font></font><br>
<br>
<pre><code class="plaintext hljs">public function handle($request, Closure $next)<font></font>
    {<font></font>
        if(auth()-&gt;user()-&gt;isAdmin()) {<font></font>
            return $next($request);<font></font>
        //   , .   -   <font></font>
    }<font></font>
        return redirect('/');<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikutnya, kita harus mendaftar kami </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">middleware</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam </font></font><code>app/HTTP/Kernel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rangka untuk menggunakannya:</font></font><br>
<br>
<pre><code class="plaintext hljs">protected $routeMiddleware = [<font></font>
    #  ,      <font></font>
        is_admin' =&gt; \App\Http\Middleware\IsAdmin::class,<font></font>
];<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengubah jalur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dasbor</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menjadi </font></font><code>web.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang seharusnya hanya dapat melihat admin super:</font></font><br>
<br>
<pre><code class="php hljs">Route::get(<span class="hljs-string">'/dash'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{<font></font>
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'tasks'</span>, [<font></font>
        <span class="hljs-string">'tasks'</span> =&gt; Task::orderBy(<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'asc'</span>)-&gt;get(),<font></font>
    ]); <font></font>
})<font></font>
-&gt;middleware(<span class="hljs-string">'is_admin'</span>)    <font></font>
-&gt;name(<span class="hljs-string">'admin'</span>);<font></font>
<font></font>
<span class="hljs-comment">#       </span><font></font>
<font></font>
Auth::routes();<font></font>
Route::post(<span class="hljs-string">'/logout'</span>, <span class="hljs-string">'Auth\LoginController@logout'</span>)-&gt;name(<span class="hljs-string">'logout'</span>);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetap membuat pengontrol khusus untuk administrator kami:</font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan make:controller AdminController
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Editing:</font></font><br>
<br>
<pre><code class="plaintext hljs">public function __construct()<font></font>
    {<font></font>
        $this-&gt;middleware('auth');<font></font>
    }<font></font>
    public function admin()<font></font>
    {<font></font>
        return view('admin');<font></font>
    }<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar pendaftaran semua diperoleh dengan tepat, jangan lupa untuk memperbaiki pengalihan </font></font><code>RouteServiceProvider.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke </font></font><code>app/HTTP/Providers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">karena awalnya dirancang untuk pola rumah:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">const</span> HOME = <span class="hljs-string">'/'</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang administrator hanya dapat muncul dengan bantuan asisten kami di terminal tinker: </font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan tinker<font></font>
use App\User;<font></font>
User::where('email', 'admin@mail.com')-&gt;update(['type' =&gt; 'admin']);<font></font>
//    <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu saja. Jika Anda ingin mencoba aplikasi yang sudah selesai, saya akan mengulangi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautannya.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tentu saja, aplikasi kami tidak dapat digunakan dalam produksi sekarang, karena semua orang yang telah terdaftar pada sumber daya dapat melihat tugas Anda. Tetapi bagaimana Anda akan membatasi akses? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin Anda memiliki email perusahaan, dan kemudian Anda dapat membatasi akses ke tim menggunakan pelanggan tetap dalam validasi email. Atau Anda dapat menambahkan cek untuk keanggotaan dalam tim dengan cara yang sama seperti admin, setelah melakukan manipulasi serupa. Secara tradisional, saya akan memberikan beberapa tautan yang bermanfaat bagi mereka yang baru akan mulai menguasai Laravel: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
â†’ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel yang sedikit lebih detail daripada di dokumentasi tentang migrasi ke Laravel</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
â†’ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel bagus tentang Menengah tentang peran di Laravel</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
â†’</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">      Laravel 7</a><br>
<br>
<hr><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">     Â« Â»   Forge/Envoyer.<br>
</a></b><br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id497486/index.html">Pembagian data. tahun 2013. Retrospektif</a></li>
<li><a href="../id497488/index.html">Mengotomatiskan proses SDM menggunakan Tim Microsoft, PowerApps dan Power Automate. Permintaan penarikan karyawan</a></li>
<li><a href="../id497490/index.html">Kesulitan dalam ayah kuda laut: metamorfosis genetik dari sistem kekebalan tubuh</a></li>
<li><a href="../id497492/index.html">Aplikasi pada TSD dan komunikasi dengan 1C: Enterprise 8.3 melalui HTTP-Service. Bagian 1.1 (Penjelasan terperinci dari API)</a></li>
<li><a href="../id497504/index.html">Bagaimana Quarkus Mengintegrasikan MicroProfile dan Spring</a></li>
<li><a href="../id497508/index.html">Kami terus mengalami templat C ++ bertingkat di RESTinio: alternatif aman untuk router ekspres-js</a></li>
<li><a href="../id497510/index.html">Sintesis Audio Video Game - Edisi # 2. Mangsa</a></li>
<li><a href="../id497512/index.html">Akankah gletser yang mencair menyediakan tenaga air di masa depan?</a></li>
<li><a href="../id497516/index.html">Cara membuat sendiri kotak terlindung anechoic</a></li>
<li><a href="../id497520/index.html">Perbandingan kinerja HTTP / 3 dan HTTP / 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>