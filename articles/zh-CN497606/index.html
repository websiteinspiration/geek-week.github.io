<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¼ğŸ¼ ğŸ§ğŸ¿ ğŸ« ç”¨äºHome Assistantï¼ŒESP8266å’ŒMiFloraçš„è‡ªåŠ¨èŠ±å›­æµ‡æ°´ç³»ç»Ÿ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘©ğŸ¼ ğŸ‡ ğŸ‘¨ğŸ»â€ğŸ’¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å‰æ®µæ—¶é—´ï¼Œæˆ‘çš„å®¶äººåœ¨ä¸€ä¸ªéå¸¸æ¸©æš–å’Œå¹²æ—±çš„åœ°æ–¹æœ‰ä¸€æ‰€å¸¦å°èŠ±å›­çš„æˆ¿å­ï¼Œæˆ‘ä»¬é¢ä¸´ç€å®šæœŸæµ‡æ°´çš„é—®é¢˜ã€‚
 
 æˆ‘å¸Œæœ›çŒæº‰ç³»ç»Ÿæ˜¯è‡ªåŠ¨çš„ï¼Œåœ¨é€‰æ‹©çŒæº‰ç³»ç»Ÿæ—¶ï¼Œæˆ‘å¿…é¡»è€ƒè™‘ä»¥ä¸‹æ¡ä»¶ï¼š
 
 

- å¿…é¡»ä»¥æ‰€æœ‰å¯ç”¨æ–¹å¼èŠ‚çº¦çš„éå¸¸æ˜‚è´µçš„æ°´ 
- èŠ±å›­ä¸­å„ç§æ¤ç‰©å¯¹æ°´åˆ†çš„éœ€æ±‚ï¼Œä»å¤šè‚‰æ¤ç‰©åˆ°å–œæ¬¢æ°´åˆ†çš„æ¤ç‰©
- åœ¨æ²¡æœ‰äººçš„æƒ…å†µä¸‹éœ€...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ç”¨äºHome Assistantï¼ŒESP8266å’ŒMiFloraçš„è‡ªåŠ¨èŠ±å›­æµ‡æ°´ç³»ç»Ÿ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497606/"><img src="https://habrastorage.org/webt/87/-y/wi/87-ywilifgui1kkhe06izsbt7ag.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‰æ®µæ—¶é—´ï¼Œæˆ‘çš„å®¶äººåœ¨ä¸€ä¸ªéå¸¸æ¸©æš–å’Œå¹²æ—±çš„åœ°æ–¹æœ‰ä¸€æ‰€å¸¦å°èŠ±å›­çš„æˆ¿å­ï¼Œæˆ‘ä»¬é¢ä¸´ç€å®šæœŸæµ‡æ°´çš„é—®é¢˜ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘å¸Œæœ›çŒæº‰ç³»ç»Ÿæ˜¯è‡ªåŠ¨çš„ï¼Œåœ¨é€‰æ‹©çŒæº‰ç³»ç»Ÿæ—¶ï¼Œæˆ‘å¿…é¡»è€ƒè™‘ä»¥ä¸‹æ¡ä»¶ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å¿…é¡»ä»¥æ‰€æœ‰å¯ç”¨æ–¹å¼èŠ‚çº¦çš„éå¸¸æ˜‚è´µçš„æ°´ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> èŠ±å›­ä¸­å„ç§æ¤ç‰©å¯¹æ°´åˆ†çš„éœ€æ±‚ï¼Œä»å¤šè‚‰æ¤ç‰©åˆ°å–œæ¬¢æ°´åˆ†çš„æ¤ç‰©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> åœ¨æ²¡æœ‰äººçš„æƒ…å†µä¸‹éœ€è¦å®Œå…¨è‡ªåŠ¨æµ‡æ°´ï¼Œæœ€å¥½æ˜¯å¯ä»¥è¿œç¨‹æ§åˆ¶ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ä¸èƒ½é¿å…çŒæº‰é”™è¯¯çš„å¹²æ—±æ°”å€™</font></font></li>
</ul> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¯„ä¼°äº†åœ¨æœ¬åœ°DIYç½‘ç»œå’Œäºšé©¬é€Šä¸Šæ‰¾åˆ°çš„ç°æˆçš„è§£å†³æ–¹æ¡ˆå¹¶é˜…è¯»äº†æœ‰å…³å…¶å¯é æ€§ï¼ˆé€šå¸¸ä¸æ˜¯æœ€é«˜çš„ï¼‰çš„è¯„è®ºä¹‹åï¼Œæˆ‘ä»¬å†³å®šå°è¯•è‡ªå·±åšä¸€äº›äº‹æƒ…ã€‚ </font></font><br>
<a name="habracut"></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…è´£å£°æ˜ï¼šä½œè€…ä¸æ˜¯ITä¸“å®¶ï¼Œä¹Ÿä¸å£°ç§°è‡ªå·±æ˜¯è¯¥ä¸»é¢˜çš„ä¸“ä¸šçŸ¥è¯†ã€‚</font><font style="vertical-align: inherit;">é¡¹ç›®æ‰§è¡Œçš„æ°´å¹³æ˜¯ä¸€ç§çˆ±å¥½ã€‚</font><font style="vertical-align: inherit;">ä½œè€…éå¸¸äº†è§£ä»–åœ¨ç¼–ç¨‹å’Œç”µå­é¢†åŸŸçš„çŸ¥è¯†æ°´å¹³ï¼Œå¹¶å°†éå¸¸æ„Ÿè°¢æ‚¨ä¸ºæ”¹è¿›å’Œä¼˜åŒ–æ‰€ç”¨è§£å†³æ–¹æ¡ˆæä¾›çš„å»ºè®®ã€‚</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”µè·¯åŸç†å›¾</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
èŠ±å›­åˆ†ä¸ºå››ä¸ªçŒæº‰åŒºï¼Œæ¯ä¸ªçŒæº‰åŒºéƒ½é…å¤‡äº†å•ç‹¬çš„åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼Œå¯ä»¥æ ¹æ®å•ç‹¬çš„æ—¶é—´è¡¨å’Œä¸åŒçš„æ°´é‡æµ‡æ°´ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨åœ°é¢ä¸Šï¼Œé“ºè®¾å¸¦å­”çš„æ»´çŒPNDç®¡ï¼Œè¿™äº›ç®¡ä¸ä¼šèšåœ¨é›†æ°´å•å…ƒä¸­çš„ç®¡ç›¸è¿ï¼Œå¹¶é€šè¿‡ç”µç£é˜€ä¸ä¾›æ°´ç›¸è¿ã€‚</font><font style="vertical-align: inherit;">é˜€ç”±è¿æ¥åˆ°ESP8266ï¼ˆSonoff 4Chï¼‰çš„ç»§ç”µå™¨æ§åˆ¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤œé—´ç”±è®¡æ—¶å™¨æ¥æµ‡æ°´ï¼Œä»¥å¢åŠ è¢«å¸æ”¶åˆ°åœ°ä¸‹ä¸”ä¸ä¼šè¢«å¤ªé˜³è’¸å‘çš„æ°´é‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è®¡åˆ’çš„æµ‡æ°´æ—¶é—´ï¼Œæ£€æŸ¥æ˜¯å¦ç¬¦åˆä»¥ä¸‹æ¡ä»¶ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> åœŸå£¤æ°´åˆ†ä½äºé¢„å®šå€¼ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æ¥ä¸‹æ¥çš„2å¤©æ²¡æœ‰è¶³å¤Ÿçš„é¢„è®¡é™æ°´ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸è¶…è¿‡æ­¤ç®¡çº¿çš„çŒæº‰æ°´é™åˆ¶</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äºŒæ‰‹è®¾å¤‡</font></font></h3><br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å·²å®‰è£…HassIOçš„</font><b><font style="vertical-align: inherit;">Raspberry Pie</font></b><font style="vertical-align: inherit;">ï¼ˆå·²å®‰è£…ï¼‰</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESPHome</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›ºä»¶</font><b><font style="vertical-align: inherit;">ESP32 DevKit</font></b><font style="vertical-align: inherit;">ï¼Œç”¨ä½œMiFloraçš„è“ç‰™ç½‘å…³å¹¶ä»æœ‰çº¿æ¹¿åº¦ä¼ æ„Ÿå™¨æ¥æ”¶æ•°æ®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰çº¿æ¹¿åº¦ä¼ æ„Ÿå™¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”µå®¹å¼åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨v1.2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font><font style="vertical-align: inherit;">ä½äºèŠ±å›­ä¸­</font><font style="vertical-align: inherit;">ï¼Œå¯æµ‹é‡æœ€æ¥è¿‘ESP32å®‰è£…åœ°ç‚¹çš„æµ‡æ°´åŒºä¸­çš„æ¹¿åº¦ï¼ŒMiFlora </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¼ æ„Ÿå™¨</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡BLEè¿æ¥åˆ°ESP32ï¼Œåè€…å¯æµ‹é‡åè¿œæµ‡æ°´åŒºä¸­çš„æ¹¿åº¦ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SONOFF 4Ch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆç”¨ESPHomeç¼åˆ¶ï¼‰ä½äºè¿›æ°´å•å…ƒä¸­ï¼Œæ‰€æœ‰æµ‡æ°´åŒºçš„ç®¡é“éƒ½ä»é‚£é‡Œè¿›æ¥</font><b><font style="vertical-align: inherit;">ã€‚4ä¸ªå¸¸é—­ç”µç£é˜€</font></b><font style="vertical-align: inherit;">ï¼Œç”µå‹</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸º220V</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½äºæ°´ä½ä¸Šå¹¶è¿æ¥åˆ°Sonoff 4Chã€‚æ‰“å¼€ä¾›æ°´è¿›è¡ŒçŒæº‰ã€‚é€‰æ‹©äº†ä¸€ä¸ªå¸¸é—­æ¨¡å‹ï¼Œä»¥ä½¿åœ¨ç”µæ°”å’Œç”µå­è®¾å¤‡å‘ç”Ÿä»»ä½•æ•…éšœæ—¶â€œæ³›æ»¥â€çš„å¯èƒ½æ€§æœ€å°ï¼Œå¹¶ä½¿æ‰€éœ€çš„ç»§ç”µå™¨è¾“å‡ºæ•°é‡æœ€å°ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è„‰å†²</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ°´è¡¨ä½äºè¿›æ°´å•å…ƒä¸­çŒæº‰ç³»ç»Ÿçš„å…¥å£ï¼Œå¹¶ä¸Sonoff 4chè¿æ¥ã€‚å…è®¸å°†æ°´æµé‡æ•°æ®å®Œå…¨ä¼ è¾“ç»™Home Assistantï¼Œå¹¶å®ç°ç»™å®šæ•°é‡çš„çŒæº‰åŠŸèƒ½ã€‚äº‹å®è¯æ˜ï¼Œåœ¨æ­¤ç‰ˆæœ¬çš„Sonoffä¸Šï¼Œå›ºä»¶çš„è§¦ç‚¹å·²ç»ç„Šæ¥å¥½äº†ï¼Œç”šè‡³è¿˜æœ‰ä¸€ä¸ªå…è´¹çš„GPIO02-ä¸Šé¢æŒ‚ç€ä¸€ä¸ªè„‰å†²è®¡æ•°å™¨ï¼Œè¿™æ˜¯éå¸¸æˆåŠŸçš„ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ec/zz/d9/eczzd9zfq4drf8katpm4ofyn0b4.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªè£…æœ‰é˜€é—¨å’Œæ°´è¡¨çš„é›†çƒ­å™¨ã€‚</font><font style="vertical-align: inherit;">æ§åˆ¶å™¨ï¼ˆsonoff 4Chï¼‰æ²¡æœ‰è¿›å…¥æœºæ¶ï¼Œå®ƒå·²å®‰è£…åœ¨IP65é˜²æŠ¤ç½©ä¸­åŠç±³çš„ä½ç½®</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESPHomeå’Œå®¶åº­åŠ©ç†è®¾ç½®</font></font></h3><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç´¢è¯ºå¤«4ch</font></font></b><div class="spoiler_text"> ESPHome    ,     :<br>
<br>
<pre><code class="xml hljs">switch:<font></font>
  - platform: gpio<font></font>
    name: "   1"<font></font>
    pin: GPIO12<font></font>
    id: sw1<font></font>
    icon: mdi:water<font></font>
  - platform: gpio<font></font>
    name: "   2"<font></font>
    pin: GPIO5<font></font>
    id: sw2<font></font>
    icon: mdi:water<font></font>
  - platform: gpio<font></font>
    name: "   3"<font></font>
    pin: GPIO4<font></font>
    id: sw3<font></font>
    icon: mdi:water<font></font>
  - platform: gpio<font></font>
    name: "   4"<font></font>
    pin: GPIO15<font></font>
    id: sw4<font></font>
    icon: mdi:water<font></font>
binary_sensor:<font></font>
  - platform: gpio<font></font>
    name: "WaterCounter"<font></font>
    id: button<font></font>
    pin:<font></font>
      number: GPIO2<font></font>
      mode: INPUT_PULLUP<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”µå®¹å¼åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨v1.2</font></font></b><div class="spoiler_text">   ESPHome:<br>
<br>
<pre><code class="xml hljs">sensor:<font></font>
  - platform: adc<font></font>
    pin: GPIO34<font></font>
    filters:<font></font>
      - lambda: |-<font></font>
          if (x &gt; 3.22) {<font></font>
            return 0;<font></font>
          } else if (x <span class="hljs-tag">&lt; <span class="hljs-attr">1.65</span>) {
            <span class="hljs-attr">return</span> <span class="hljs-attr">100</span>;
          } <span class="hljs-attr">else</span> {
            <span class="hljs-attr">return</span> (<span class="hljs-attr">3.22-x</span>) / (<span class="hljs-attr">3.22-1.65</span>) * <span class="hljs-attr">100.0</span>;
          }
    <span class="hljs-attr">name:</span> "   <span class="hljs-attr">1</span>  "
    <span class="hljs-attr">update_interval:</span> <span class="hljs-attr">60s</span>
    <span class="hljs-attr">attenuation:</span> <span class="hljs-attr">11db</span>
    <span class="hljs-attr">unit_of_measurement:</span> "%"
    <span class="hljs-attr">accuracy_decimals:</span> <span class="hljs-attr">0</span>
    <span class="hljs-attr">icon:</span> <span class="hljs-attr">mdi:water-percent</span>
</span></code></pre><br>
       (ADC)  <br>
  ,        (   3.22 )     (1,65 ).      log'   ESPHome  HassIO            .<br>
<br>
<img src="https://habrastorage.org/webt/sb/tf/b4/sbtfb4ckgxx7kltxe6kk8a5q0r4.png"><br>
<br>
  ESP32  Home Assistant    ,         <br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è„‰å†²æ°´è¡¨</font></font></b><div class="spoiler_text">   Â«Â»,          (   ).       â€”      ,   ,        (  â€”  3   10 ). <br>
,      GND    GPIO      .<br>
<br>
  ESPHome   : <br>
<br>
<pre><code class="xml hljs">binary_sensor:<font></font>
  - platform: gpio<font></font>
    name: "WaterCounter"<font></font>
    id: counter<font></font>
    pin:<font></font>
      number: GPIO2<font></font>
      mode: INPUT_PULLUP<font></font>
</code></pre><br>
 Home Assistant   :<br>
<br>
     (counter),       <br>
          (,   Â«Â»  ).      â€”  counter,              ESPHome,   sensor,          counter (       ).<br>
<br>
           2      â€”    ,    Â«Â».       ,   ,                      . <br>
<br>
<div class="spoiler"><b class="spoiler_title">    ( automations.yaml   )</b><div class="spoiler_text"><pre><code class="xml hljs">- alias:     <font></font>
  trigger:<font></font>
  - entity_id: binary_sensor.watercounter<font></font>
    platform: state<font></font>
    from: 'on'<font></font>
    to: 'off'<font></font>
  action:<font></font>
  - data:<font></font>
      entity_id:<font></font>
      - counter.my_water_counter<font></font>
    service: counter.increment<font></font>
- alias:    1 <font></font>
  trigger:<font></font>
  - entity_id: binary_sensor.watercounter<font></font>
    platform: state<font></font>
    from: 'on'<font></font>
    to: 'off'<font></font>
  condition:<font></font>
    - condition: state<font></font>
      entity_id: switch.sistema_poliva_liniia_1<font></font>
      state: 'on'<font></font>
  action:<font></font>
  - data:<font></font>
      entity_id:<font></font>
      - counter.my_water_line1, counter.my_water_line1t<font></font>
    service: counter.increment    <font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title">  configuration.yaml    +      </b><div class="spoiler_text"><pre><code class="xml hljs"><font></font>
sensor:<font></font>
  - platform: template<font></font>
    sensors:<font></font>
      water_counter:    <font></font>
        unit_of_measurement: 'M3'<font></font>
        value_template: "{{ (states('counter.my_water_counter')| float)/1000 }}"    <font></font>
counter:<font></font>
  my_water_counter:<font></font>
    initial: 2.667<font></font>
    step: 10<font></font>
  my_water_line1:<font></font>
    name: " 1     ()"<font></font>
    initial: 0<font></font>
    step: 10<font></font>
  my_water_line1t:<font></font>
    name: " 1   ()"<font></font>
    initial: 0<font></font>
    step: 10<font></font>
</code></pre><br>
</div></div><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MiFloraä¼ æ„Ÿå™¨</font></font></b><div class="spoiler_text"> MiFlora   ESPHome   ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">esphome.io</a> <br>
 Home Assistant          â€” , ,   Â«Â» .   â€”     ,        .<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è™šæ‹Ÿé™é›¨ä¼ æ„Ÿå™¨</font></font></b><div class="spoiler_text">   â€”          .            ,   . <br>
<br>
       darksky.  ,          Apple        Â« Â». API  , ,   ,      ,   HA     .      darksky, ,          .<br>
<br>
  2        :<br>
<br>
<div class="spoiler"><b class="spoiler_title">  configuration.yaml  sensors.yaml   </b><div class="spoiler_text"><pre><code class="xml hljs"><font></font>
sensor:<font></font>
  - platform: darksky<font></font>
    api_key: xxxx_your_API_key_xxxx<font></font>
    forecast:<font></font>
      - 1<font></font>
      - 2<font></font>
    monitored_conditions:<font></font>
      - precip_intensity<font></font>
</code></pre><br>
   HA   : sensor.dark_sky_precip_intensity_1d  sensor.dark_sky_precip_intensity_2d,              .<br>
</div></div><br>
       template-sensor:<br>
<br>
<div class="spoiler"><b class="spoiler_title">  configuration.yaml  sensors.yaml    </b><div class="spoiler_text"><pre><code class="xml hljs"><font></font>
sensor:<font></font>
  - platform: template<font></font>
    sensors:<font></font>
       rain2days:    <font></font>
        unit_of_measurement: 'mm'<font></font>
        value_template: "{{ (((states('sensor.dark_sky_precip_intensity_2d')| float)+(states('sensor.dark_sky_precip_intensity_1d')| float))*24)| round(3) }}"    <font></font>
</code></pre><br>
 HA  sensor.rain2days          2 . <br>
  ,   Darksky         ,              <br>
</div></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ”¶é›†å®Œæ‰€æœ‰æ•°æ®åï¼Œæ‚¨å¯ä»¥ç›´æ¥è¿›è¡Œæµ‡æ°´ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™å°±æ˜¯æˆ‘ä»å®¶åº­åŠ©ç†ä¸­çš„ä¸€ä¸ªåŒºåŸŸæŸ¥çœ‹ç•Œé¢çš„æ–¹å¼ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pf/l6/ut/pfl6ut8aoieytcg0kxlk-mjslcu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é‡Œæ‚¨å¯ä»¥è®¾ç½®ç”¨äºçŒæº‰çš„æ°´é‡ï¼ˆä½¿ç”¨æ»‘å—ï¼‰ï¼Œå¹¶æŸ¥çœ‹ä¸»è¦ä¼ æ„Ÿå™¨å’Œè®¡æ•°å™¨çš„å€¼ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä¸ºå…¶ä¸­ä¸€æ¡çº¿è·¯æä¾›äº†æ¥å£ï¼Œå…¶ä½™çš„ä¸€åˆ‡éƒ½ä¸€æ ·ï¼Œä»…åœ¨å¸¦æœ‰æœ‰çº¿æ•°æ®ä¼ æ„Ÿå™¨çš„çº¿è·¯ä¸Šè¦å°‘ä¸€äº›ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç•Œé¢ä¸­ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°ä¸€ä¸ªâ€œå¤šä½™çš„â€ç»†èŠ‚-è¾…åŠ©ä¼ æ„Ÿå™¨â€œå·²è¾¾åˆ°æ ‡å‡†â€ã€‚</font><font style="vertical-align: inherit;">å®ƒå¿…é¡»è¢«å¼•å…¥ï¼Œå› ä¸º </font><font style="vertical-align: inherit;">æˆ‘æ— æ³•è·å¾—æ¡ä»¶ï¼šå½“è¾¾åˆ°æ°´é‡æ ‡å‡†æ—¶ï¼Œæ¨¡æ¿å¯ä»¥å·¥ä½œä»¥åœæ­¢è‡ªåŠ¨åŒ–ï¼Œç»“æœï¼Œè‡ªåŠ¨åŒ–åªæ˜¯æ£€æŸ¥è¯¥ä¼ æ„Ÿå™¨çš„å€¼ã€‚</font><font style="vertical-align: inherit;">æˆ‘ç¡®ä¿¡å¯ä»¥ä½¿è‡ªåŠ¨åŒ–çš„è¿™ä¸€éƒ¨åˆ†å˜å¾—æ›´ç®€å•ï¼Œæ›´ä¼˜é›…ï¼Œä½†æ˜¯æˆ‘çš„æ°´å¹³è¿˜ä¸å¤Ÿã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹æ˜¯ç”Ÿæˆçš„â€œæ‹æ–â€æ¨¡æ¿ä¼ æ„Ÿå™¨çš„ä»£ç ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æµ‡æ°´å……è¶³ä¼ æ„Ÿå™¨ï¼ˆåœ¨configuration.yamlæˆ–å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="xml hljs">  - platform: template<font></font>
    sensors:<font></font>
      line4_status:<font></font>
        friendly_name: " 4 -  "<font></font>
        value_template: &gt;-<font></font>
          {% if states('counter.my_water_line4t')|float &gt; states('input_number.slider4')|float %}<font></font>
            yes<font></font>
          {% elif states('counter.my_water_line4t')|float == states('input_number.slider4')|float  %}<font></font>
            yes<font></font>
          {% else %}<font></font>
            no<font></font>
          {% endif %}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¼€å§‹æµ‡æ°´çš„è‡ªåŠ¨åŒ–æœ€ç»ˆçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€å§‹æµ‡æ°´ï¼ˆåœ¨automations.yamlæˆ–å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="xml hljs">- alias:   4   23.01<font></font>
  trigger:<font></font>
    platform: time<font></font>
    at: "23:01:00"<font></font>
  condition:<font></font>
   condition: and<font></font>
   conditions:<font></font>
#    <font></font>
    - condition: numeric_state<font></font>
      entity_id: sensor.rainfor2days<font></font>
      below: 5<font></font>
#      <font></font>
    - condition: numeric_state<font></font>
      entity_id: sensor.miflora_1_moisture<font></font>
      below: 50<font></font>
# ,       <font></font>
    - condition: state<font></font>
      entity_id: 'sensor.line4_status'<font></font>
      state: 'no'<font></font>
  action:<font></font>
   - service: switch.turn_on<font></font>
     entity_id: switch.sistema_poliva_liniia_4<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æµ‡æ°´ä»å‚æ™šå¼€å§‹ï¼Œæ¯æ¡çº¿åœ¨å…¶è‡ªå·±çš„æ—¶é—´é—´éš”å¼€å§‹ã€‚</font><font style="vertical-align: inherit;">æŒ‰å¼€å§‹æ—¶é—´è¿›è¡Œåˆ†éš”å¯è®©æ‚¨ä½¿ç”¨ä¸€ä¸ªè¿›æ°´æ°´è¡¨æ¥è·å–4æ¡çº¿ä¸Šçš„æ•°æ®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å¯åŠ¨æ—¶ï¼Œå°†æ£€æŸ¥ä¸‰ä¸ªæ¡ä»¶ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯å¦ä¸è¶…è¿‡ä»Šå¤©çš„ç”¨æ°´é‡é™åˆ¶ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ‰“å¼€äº†æ‰‹åŠ¨æµ‡æ°´ï¼‰</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¹¿åº¦æ˜¯å¦è¶…è¿‡50ï¼…ï¼ˆæ ¹æ®æˆ‘ä»¬çš„æ¡ä»¶è§‚å¯Ÿï¼Œæ–°æ´’çš„åœŸå£¤çš„æ°´åˆ†å«é‡ä¸è¶…è¿‡60ï¼…ï¼‰</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ¥ä¸‹æ¥çš„ä¸¤å¤©å†…ï¼Œé¢„è®¡ä¸ä¼šå‡ºç°å¤§äº5æ¯«ç±³çš„é™æ°´ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸‹ä¸€ä¸ªè‡ªåŠ¨åŒ–æ˜¯ç¦ç”¨æµ‡æ°´ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¦ç”¨æµ‡æ°´ï¼ˆåœ¨automations.yamlæˆ–å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="xml hljs">- alias:   4 <font></font>
  trigger:<font></font>
#      <font></font>
  - entity_id: sensor.line4_status<font></font>
    platform: state<font></font>
    to: 'yes'<font></font>
    for: <font></font>
      seconds: 5    <font></font>
#   <font></font>
  - platform: time<font></font>
    at: "23:59:00"<font></font>
#     <font></font>
  - platform: numeric_state<font></font>
    entity_id: sensor.miflora_1_moisture<font></font>
    above: 65<font></font>
#       <font></font>
  - platform: state<font></font>
    entity_id: switch.sistema_poliva_liniia_4<font></font>
    to: 'on'<font></font>
    for: <font></font>
      minutes: 60<font></font>
  action:<font></font>
   - service: switch.turn_off<font></font>
     entity_id: switch.sistema_poliva_liniia_4<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è‡ªåŠ¨åŒ–ä¸­ï¼Œä½¿ç”¨äº†å¤šè¾¾4ç§è§¦å‘æ–¹å¼ï¼Œä½†æ˜¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè§¦å‘æ˜¯ç”±ç¬¬ä¸€ç§è§¦å‘çš„-â€œæ‹æ–â€ä¼ æ„Ÿå™¨ï¼Œè¯¥ä¼ æ„Ÿå™¨ç›‘æµ‹è¶…å‡ºæé™çš„æ°´é‡ã€‚</font><font style="vertical-align: inherit;">å‡ºäºå®‰å…¨åŸå› ï¼Œå…¶ä½™è§¦å‘å™¨å¤§éƒ¨åˆ†éƒ½å·²åˆ¶æˆã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¥½å§ï¼Œä¸æ­¤é—®é¢˜ç›¸å…³çš„æœ€åä¸€ä¸ªè‡ªåŠ¨åŒ–æ˜¯é‡ç½®æ¯æ—¥è®¡æ•°å™¨</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†æ¯æ—¥è®¡æ•°å™¨æ¸…é›¶ï¼ˆåœ¨automations.yamlæˆ–å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><font></font>
- alias:    4 <font></font>
  trigger:<font></font>
  - platform: time<font></font>
    at: "00:00:01"<font></font>
  action:<font></font>
  - service: counter.reset<font></font>
    entity_id: counter.my_water_line4t<font></font>
</code></pre><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¡¹ç›®ç»æµå­¦</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çŒæº‰ç³»ç»Ÿæ§åˆ¶éƒ¨åˆ†çš„æˆæœ¬å¦‚ä¸‹ï¼šï¼ˆ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨é¡¹ç›®å¼€å§‹ä¹‹å‰å·²ç»å®‰è£…äº†HassIOçš„Raspberry PIEå’Œåœ¨èŠ±å›­ä¸­å¸¦æœ‰æ¶‚å±‚çš„WiFiè·¯ç”±å™¨ï¼Œæˆ‘æ²¡æœ‰è€ƒè™‘å®ƒä»¬ï¼‰</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UNIPUMP BCX-15 1/2â€œç”µç£é˜€ï¼ˆå¸¸é—­ï¼‰4 * 20æ¬§å…ƒ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sonoff 4CH 17æ¬§å…ƒ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è„‰å†²è®¡Pulsar 8æ¬§å…ƒ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ESP32 DevKitC 3.5æ¬§å…ƒ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç”µå®¹å¼åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨v1.2 2 * 0.67æ¬§å…ƒ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MiFloraä¼ æ„Ÿå™¨2 * 16æ¬§å…ƒé˜²æŠ¤ç½©</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ï¼Œæ”¶é›†å™¨ï¼Œç”µçº¿ï¼Œé…ä»¶</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ€»è®¡</font><font style="vertical-align: inherit;">çº¦50æ¬§å…ƒ</font><font style="vertical-align: inherit;">æ€»è®¡ï¼šçº¦190æ¬§å…ƒ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¼ æ„Ÿå™¨å’ŒMKçš„å®‰è£…æ—¶é—´å¤§çº¦æ˜¯ä¸‹åˆ3-4ç‚¹ï¼ŒæŒç»­äº†å‡ ä¸ªå°æ—¶ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æ—¶é—´éƒ½èŠ±åœ¨äº†â€œå‘æ˜è‡ªè¡Œè½¦â€å’Œâ€œæ‹æ–â€ä¸Šï¼Œæ€»çš„æ¥è¯´ï¼Œå·¥ä½œå¾ˆå°‘ã€‚</font><font style="vertical-align: inherit;">ç³»ç»Ÿçš„ç‰©ç†ç»„è£…å¤§çº¦èŠ±è´¹äº†ä¸¤ä¸ªæ™šä¸Šã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€èˆ¬è€Œè¨€ï¼Œä¸â€œå‚»â€è®¡æ—¶å™¨ç³»ç»Ÿç›¸æ¯”ï¼ŒèŠ‚æ°´é‡é¢„è®¡çº¦ä¸º20-50ï¼…ï¼ŒæŒ‰å½“åœ°æ°´ä»·è®¡ç®—ï¼Œè¯¥ç³»ç»Ÿåº”åœ¨ä¸€ä¸ªæˆ–ä¸¤ä¸ªå­£èŠ‚å†…è·å¾—å›æŠ¥ã€‚</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¼ºç‚¹å’Œä¿®æ”¹è®¡åˆ’</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥é¡¹ç›®çš„ç»“æœæ˜¾ç¤ºäº†ä¸€äº›ç»†å¾®ä¹‹å¤„å’Œè¿›ä¸€æ­¥æ”¹è¿›çš„æœºä¼šã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç‰¹åˆ«æ˜¯æˆ‘å°†ç”¨24Vå‹å·ä»£æ›¿220Vç”µç£é˜€-è¯¥ç”µå‹æ˜¯çŒæº‰ç³»ç»Ÿçš„æ ‡å‡†ç”µå‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å°†å¿…é¡»åœ¨ç³»ç»Ÿä¸Šæ·»åŠ 24Vå˜å‹å™¨ï¼Œå¹¶å°†Sonoff 4Chæ›´æ”¹ä¸ºå…·æœ‰å¹²å¼è§¦ç‚¹çš„æŸäº›ç‰©ä½“ï¼ˆä¾‹å¦‚Sonoff 4CH Proæˆ–è‡ªç»„è£…çš„ç‰©ä½“ï¼‰ã€‚é˜€é—¨æœ¬èº«æ›´ä¾¿å®œï¼ˆ8æ¬§å…ƒèµ·ï¼‰ï¼Œå¹¶å‡å°‘äº†è§¦ç”µçš„å¯èƒ½æ€§ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœè¿˜è¡¨æ˜ï¼Œä½¿ç”¨å¡‘æ–™ç®¡é“æ—¶ï¼Œä¾›æ°´å‹åŠ›è¿‡é«˜ï¼Œå¹¶ä¸”é…ä»¶åœ¨çŒæº‰å‘¨æœŸä¸­å¯èƒ½ä¼šæ³„æ¼ã€‚å°±æˆ‘è€Œè¨€ï¼Œè¿™å¹¶ä¸é‡è¦ï¼Œæ‰€æœ‰é…ä»¶éƒ½ä½äºæµ‡æ°´åœ°é¢ä¸Šæ–¹ï¼Œä½†æ˜¯ä»¥è‰¯å¥½çš„æ–¹å¼ï¼Œæ‚¨éœ€è¦åœ¨è¿›å£å¤„æ·»åŠ ä¸€ä¸ªå‡å‹å™¨ä»¥é™ä½å‹åŠ›ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºæ— æ³•è®¡é‡å°‘äº10å‡çš„çŒæº‰ç”¨æ°´é‡ï¼Œæˆ‘æ„Ÿåˆ°æ›´åŠ ä¸é«˜å…´-è¯¥å®¹ç§¯æ˜¯è¿™ç§æ°´è¡¨çš„æœ€å°å¯æµ‹é‡é‡ã€‚</font><font style="vertical-align: inherit;">è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡æ‹†è§£æŸœå°å¹¶æ›´æ¢è½®å­æ¥è§£å†³ï¼Œä½†æ˜¯ç›´åˆ°é‚£æ—¶æ‰‹è¿˜æ²¡æœ‰åˆ°è¾¾é‚£é‡Œã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN497588/index.html">Spring Security-é€šè¿‡BitBucketçš„OAuth2æˆæƒWebåº”ç”¨ç¨‹åºç¤ºä¾‹</a></li>
<li><a href="../zh-CN497590/index.html">æˆ‘ä»¬å¤„ç†æ³¢åŠ¨å‡½æ•°å´©æºƒç®—æ³•</a></li>
<li><a href="../zh-CN497594/index.html">å¤–éƒ¨æ•°æ®å­˜å‚¨ï¼šä»IBM 1311åˆ°ä»Šå¤©ã€‚ç¬¬1éƒ¨åˆ†</a></li>
<li><a href="../zh-CN497596/index.html">PHPä¸‡å²</a></li>
<li><a href="../zh-CN497602/index.html">æ‚¨æ˜¯å¦è®¤ä¸ºè‡ªå·±æ˜¯ç­¾åäººï¼Ÿä½ åœ¨è·Ÿè°å¼€ç©ç¬‘</a></li>
<li><a href="../zh-CN497608/index.html">æµé‡åˆ†æç³»ç»Ÿå¦‚ä½•é€šè¿‡MITER ATTï¼†CKæ¥æ£€æµ‹é»‘å®¢ç­–ç•¥ï¼Œç¬¬5éƒ¨åˆ†</a></li>
<li><a href="../zh-CN497612/index.html">å…³äºå¸‚åœºçœ‹ä¸è§çš„æ‰‹å¦‚ä½•å°†æˆ‘è½¬ç§»åˆ°é¥è¿œåœ°æ–¹çš„æ•…äº‹</a></li>
<li><a href="../zh-CN497614/index.html">æ€æƒ³å®éªŒï¼Œæ‚–è®ºå’Œé€»è¾‘è¾¹ç•Œ//æˆ‘ä»¬æ³¨å®šäº†ï¼ƒ2</a></li>
<li><a href="../zh-CN497616/index.html">äºšå†å±±å¤§Â·é©¬å¡ç½—å¤«ï¼ˆYiiï¼‰å…³äºå¼€æºï¼Œä¼šè®®å’ŒYiiçš„è®¿è°ˆ</a></li>
<li><a href="../zh-CN497618/index.html">å®æ–½é«˜åº¦å®‰å…¨çš„è¿œç¨‹è®¿é—®çš„æ¦‚å¿µ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>