<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëºüèø üë®‚Äç‚ù§Ô∏è‚Äçüë® üèûÔ∏è BlazingPizza: aplicativo Blazor do in√≠cio ao fim. Parte 2. Adicione um componente üìè üîå ‚§µÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal! Para todos aqueles que querem aprender um pouco mais sobre Blazor. Hoje, continuaremos a criar nosso site para uma pizzaria, ou seja, cri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>BlazingPizza: aplicativo Blazor do in√≠cio ao fim. Parte 2. Adicione um componente</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487724/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ol√° pessoal! </font><font style="vertical-align: inherit;">Para todos aqueles que querem aprender um pouco mais sobre Blazor. </font><font style="vertical-align: inherit;">Hoje, continuaremos a criar nosso site para uma pizzaria, ou seja, criaremos um controlador de API da Web e tentaremos exibir os dados que v√™m dele no componente Blazor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como nosso aplicativo √© sobre pizza, seria l√≥gico adicionar imediatamente uma classe representando nosso produto principal. </font><b><font style="vertical-align: inherit;">Chame</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
-o de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e adicione-o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ao</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> projeto </font><b><font style="vertical-align: inherit;">BlazingPizza.DomainModels</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Na minha opini√£o, adicionar uma nova classe √© muito legal implementado no Rider, uma caixa de di√°logo sem bloqueio √© exibida, insira o nome da classe e podemos escolher o que exatamente precisamos criar:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q-/pl/95/q-pl95jcw5o2sdhgzzduaxzotke.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, uma caixa de di√°logo ser√° exibida com uma solicita√ß√£o para adicionar um arquivo ao git, responderemos afirmativamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conte√∫do da turma:</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BasePizza</span><font></font>
{<font></font>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> BasePrice { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Description { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> ImageUrl { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â um modelo para algum tipo de pizza, depois pode ser configurado como gostamos, redimensionamos, adicionamos coberturas e muito mais. O nome dos campos parece-me falar por si. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No projeto </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.DomainPizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , teremos classes representando o dom√≠nio comercial do nosso aplicativo. Ou seja, eles n√£o devem e n√£o saber√£o nada sobre como nossos dados s√£o armazenados ou como s√£o exibidos. Somente informa√ß√µes sobre o objeto de neg√≥cios, ou seja, pizza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, precisamos de algo para, de alguma forma, obter esses dados para o cliente. Para fazer isso, v√° para o projeto </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.Server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font><font style="vertical-align: inherit;">adicione o </font><b><font style="vertical-align: inherit;">PizzasController</font></b><font style="vertical-align: inherit;"> √† pasta </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controllers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PizzasController</span> : <span class="hljs-title">Controller</span><font></font>
{<font></font>
    <span class="hljs-comment">// GET</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Index</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">return</span> View();<font></font>
    }<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Precisamos de um m√©todo que nos forne√ßa uma lista de todos os princ√≠pios b√°sicos da pizza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m de adicionar um m√©todo, voc√™ precisa executar algumas etapas simples:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos marcar o controlador com o atributo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ApiController],</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que oferece algumas vantagens, em particular, o retorno autom√°tico do c√≥digo 400 se o modelo n√£o passou na valida√ß√£o, sem ele √© um </font><font style="vertical-align: inherit;">controlador </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MVC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> normal </font><font style="vertical-align: inherit;">que fornece o View.</font></font></li>
<li>  <b>[Route(¬´pizzas¬ª)]</b>.     Attribute Routing,        ,      <b>Conventional Routing</b>,    .   ‚Äúpizzas‚Äù   ?        <b>http{s}://hostName/pizzas/{}</b><br>
      .</li>
<li>    <b>Controller</b>  <b>ControllerBase</b>,      MVC .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, por exemplo, fizemos uma solicita√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 5000 / pizzas na esperan√ßa de obter uma lista de todas as pizzas e nada aconteceu. Novamente, o acordo est√° nos acordos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se fosse uma </font><font style="vertical-align: inherit;">solicita√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , √© necess√°rio ter um m√©todo ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em termos de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Asp.Net</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) marcado com o atributo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[HttpGet]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou, ainda mais √≥bvio, apenas um m√©todo chamado </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e √© isso! Tudo o mais. Net e reflex√£o far√£o por n√≥s. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E renomeie o √∫nico m√©todo Index para Get. </font><b><font style="vertical-align: inherit;">Altere o</font></b><font style="vertical-align: inherit;"> tipo do valor de retorno para </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IEnumerable &lt;BasePizza&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, n√£o esque√ßa de adicionar o uso necess√°rio. </font><font style="vertical-align: inherit;">Bem, insira temporariamente um stub que o m√©todo n√£o est√° implementado para, de alguma forma, compilar o c√≥digo e garantir que n√£o haja erros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, o PizzasController.cs ficar√° assim:</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc;
<span class="hljs-keyword">using</span> BlazingPizza.DomainModels;<font></font>
<font></font>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">BlazingPizza.Server.Controllers</span><font></font>
{<font></font>
    [<span class="hljs-meta">ApiController</span>]<font></font>
    [<span class="hljs-meta">Route(<span class="hljs-meta-string">"pizzas"</span>)</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PizzasController</span> : <span class="hljs-title">ControllerBase</span><font></font>
    {<font></font>
        <span class="hljs-comment">// GET</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerable&lt;BasePizza&gt;  <span class="hljs-title">Get</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NotImplementedException();<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento, inicie o aplicativo de depura√ß√£o, um bot√£o com um bug verde. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nl/p6/pp/nlp6ppjxbnbnhjiwxb1_qbtgwsw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
e verifique se as rotas est√£o configuradas corretamente. </font><font style="vertical-align: inherit;">A porta na qual voc√™ precisa fazer solicita√ß√µes pode ser vista na guia </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Console</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yp/i0/hp/ypi0hpgkoc9cv68k8zvi9zsthnu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
no nosso caso, √© 5000, se voc√™ fizer uma solicita√ß√£o no caminho </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 5000 / pizzas, entraremos na a√ß√£o Get e capturaremos uma NotImplementedException. </font><font style="vertical-align: inherit;">Ou seja, enquanto nosso controlador n√£o faz nada √∫til, ele simplesmente aceita solicita√ß√µes e falha com um erro.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retornamos dados do controlador</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â hora de fazer com que nosso c√≥digo fa√ßa algo √∫til, como devolver pizzas. </font><font style="vertical-align: inherit;">At√© o momento, n√£o implementamos uma camada de dados, apenas devolvemos algumas pizzas de nossa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para fazer isso, retorne uma matriz que consiste em dois objetos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O m√©todo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ser√° semelhante ao exemplo abaixo:</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-comment">// GET</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerable&lt;BasePizza&gt;  <span class="hljs-title">Get</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span>[]<font></font>
    {<font></font>
        <span class="hljs-keyword">new</span> BasePizza()<font></font>
        {<font></font>
            BasePrice = <span class="hljs-number">500</span>,<font></font>
            Description = <span class="hljs-string">"     "</span>,<font></font>
            Id = <span class="hljs-number">0</span>,<font></font>
            ImageUrl = <span class="hljs-string">"img/pizzas/pepperoni.jpg"</span><font></font>
        },<font></font>
        <span class="hljs-keyword">new</span> BasePizza()<font></font>
        {<font></font>
            BasePrice = <span class="hljs-number">400</span>,<font></font>
            Description = <span class="hljs-string">"   "</span>,<font></font>
            Id = <span class="hljs-number">1</span>,<font></font>
            ImageUrl = <span class="hljs-string">"img/pizzas/meaty.jpg"</span><font></font>
        },<font></font>
    };<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado da solicita√ß√£o no navegador ser√° assim:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-c/ep/f0/-cepf0dkn90kagmz-gul-dib42u.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurar a p√°gina inicial</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A parte vis√≠vel do aplicativo est√° nos componentes .razor no projeto </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.Client</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Estamos interessados ‚Äã‚Äãno </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Index.razor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na pasta </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pages</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , abra-o e exclua todo o conte√∫do que herdamos do projeto padr√£o. </font><font style="vertical-align: inherit;">E vamos come√ßar a adicionar o que realmente precisamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Adicione:</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p√°gina</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"/"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Esta diretiva √© usada para configurar o roteamento do cliente e diz que esse controle ser√° carregado por padr√£o, ou seja, se for apenas para o endere√ßo do aplicativo </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 5000 /</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sem nenhum / Index, / Pizzas ou qualquer outra coisa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2)</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">injetar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HttpClient HttpClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Usando a diretiva</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">injetar</font></font></a> </b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adicione um servi√ßo como HttpClient √† nossa p√°gina e chame o objeto </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HttpClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Um objeto do tipo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HttpClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j√° </font><b><font style="vertical-align: inherit;">est√°</font></b><font style="vertical-align: inherit;"> configurado para n√≥s pela estrutura do Blazor, para que possamos fazer as solicita√ß√µes necess√°rias. </font><font style="vertical-align: inherit;">Esse tipo de inje√ß√£o √© chamado de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inje√ß√£o de propriedades</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , uma implementa√ß√£o mais familiar por meio do construtor n√£o √© suportada e, como dizem os desenvolvedores, √© improv√°vel que isso apare√ßa, mas √© necess√°rio aqui? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Adicione uma diretiva</font></font><br>
<br>
<b><pre><code class="cs hljs"> @code{<font></font>
<font></font>
 }<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â especificamente necess√°rio para hospedar o c√≥digo C # do cliente, o mesmo que substitui o JavaScript. </font><font style="vertical-align: inherit;">Dentro deste bloco, colocamos uma cole√ß√£o de objetos do tipo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizzaViewModel</font></font></b><br>
<br>
<b><pre><code class="cs hljs">IEnumerable&lt;BasePizzaViewModel&gt; PizzaViewModels;</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Como voc√™ j√° entendeu, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizzaViewModel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o existe, √© hora de cri√°-lo, este modelo ser√° completamente an√°logo ao modelo de dom√≠nio </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">exceto que ele ter√° o corpo de express√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetFormattedBasePrice que</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> retorna o pre√ßo da pizza base no formato que precisamos. </font><font style="vertical-align: inherit;">O modelo ir√° adicionar √† raiz do projeto </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.ViewModels</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> arquivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizzaViewModel.cs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BasePizzaViewModel</span><font></font>
{<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> BasePrice { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Description { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> ImageUrl { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GetFormattedBasePrice</span>(<span class="hljs-params"></span>)</span> =&gt; BasePrice.ToString(<span class="hljs-string">"0.00"</span>);<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Voltar ao nosso </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Index.razor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e bloquear</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, adicione um c√≥digo para obter todas as pizzas dispon√≠veis. </font><font style="vertical-align: inherit;">Vamos colocar esse c√≥digo no </font><font style="vertical-align: inherit;">m√©todo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ass√≠ncrono </font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">override</span> Task <span class="hljs-title">OnInitializedAsync</span>(<span class="hljs-params"></span>)</span> {<font></font>
	<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este m√©todo √© chamado depois que o componente √© inicializado e, no momento da chamada, todos os seus par√¢metros j√° foram inicializados pelo componente pai. Nele, voc√™ pode executar algumas opera√ß√µes ass√≠ncronas, ap√≥s as quais √© necess√°ria uma atualiza√ß√£o de estado. Mais tarde vou falar sobre isso em mais detalhes. O m√©todo √© chamado apenas uma vez quando o componente √© criado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por fim, adicione as pizzas que ficam dentro deste m√©todo:</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">var</span> queryResult = <span class="hljs-keyword">await</span> HttpClient.GetJsonAsync&lt;IEnumerable&lt;BasePizza&gt;&gt;(<span class="hljs-string">"pizzas"</span>);
</code></pre></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pizzas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um caminho relativo que √© adicionado √† base e j√° foi definido para n√≥s pela </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blazor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Como segue da assinatura do m√©todo, os dados s√£o solicitados pela solicita√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, em seguida, o cliente tenta serializ√°-los em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IEnumerable &lt;BasePizza&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. Como recebemos dados do tipo errado que queremos exibir no componente, precisamos obter objetos do tipo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizzaViewModel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linq</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e seu m√©todo Select os usar√£o para converter objetos da cole√ß√£o recebida em objetos do tipo que planejamos usar. Adicione o m√©todo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao final </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<b><pre><code class="cs hljs">PizzaViewModels = queryResult.Select(i =&gt; <span class="hljs-keyword">new</span> BasePizzaViewModel()<font></font>
{<font></font>
    BasePrice = i.BasePrice,<font></font>
    Description = i.Description,<font></font>
    Id = i.Id,<font></font>
    ImageUrl = i.ImageUrl,<font></font>
    Name = i.Name<font></font>
});<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais tarde mostrarei como fazer sem escrever esse c√≥digo de modelo, mas, por enquanto, vamos deixar como est√°. </font><font style="vertical-align: inherit;">Parece que temos tudo o que precisamos e podemos continuar exibindo os dados recebidos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7. Acima da diretiva </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">code</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">adicione o </font><font style="vertical-align: inherit;">c√≥digo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dentro do qual estar√£o as pr√≥prias pizzas:</font></font><br>
<br>
<b><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pizza-cards"</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver, a lista ul com o nome da classe falante "cart√µes de pizza" est√° vazia at√© agora;</font></font><br>
<br>
<b><pre><code class="cs hljs">@foreach (<span class="hljs-keyword">var</span> pizza <span class="hljs-keyword">in</span> PizzaViewModels)<font></font>
{<font></font>
    &lt;li style=<span class="hljs-string">"background-image: url('@pizza.ImageUrl')"</span>&gt;<font></font>
        &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">"pizza-info"</span>&gt;<font></font>
            &lt;span <span class="hljs-keyword">class</span>=<span class="hljs-string">"title"</span>&gt;@pizza.Name&lt;/span&gt;<font></font>
                @pizza.Description<font></font>
            &lt;span <span class="hljs-keyword">class</span>=<span class="hljs-string">"price"</span>&gt;@pizza.GetFormattedBasePrice()&lt;/span&gt;                    <font></font>
        &lt;/div&gt;<font></font>
    &lt;/li&gt;<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda a divers√£o aqui est√° dentro do circuito. </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para cada</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(var {item} in {items})</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Essa √© uma </font><font style="vertical-align: inherit;">marca√ß√£o </font><font style="vertical-align: inherit;">t√≠pica do </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Razor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que nos permite usar o poder do </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na mesma p√°gina do </font><font style="vertical-align: inherit;">c√≥digo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comum </font><font style="vertical-align: inherit;">. O principal √© colocar o s√≠mbolo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"@"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na frente das palavras-chave e vari√°veis ‚Äã‚Äãdo idioma </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dentro do loop, simplesmente acessamos as propriedades do objeto de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No final, exibimos o pre√ßo base formatado da pizza usando o m√©todo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetFormattedBasePrice</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A prop√≥sito, essa √© a diferen√ßa entre o modelo de dom√≠nio </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e seu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ViewModel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> representa√ß√µes, pois esse m√©todo cont√©m a l√≥gica mais simples para exibir o pre√ßo no formato exigido, o que n√£o precisamos no n√≠vel de servi√ßo, onde de alguma forma manipulamos o pre√ßo, mas n√£o o mostramos em nenhum lugar. </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exibimos os dados recebidos no navegador</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos todos os dados necess√°rios para exibir. √â hora de iniciar nosso aplicativo e garantir que tudo funcione. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clicamos no</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bot√£o </font><b><font style="vertical-align: inherit;">Debug</font></b><font style="vertical-align: inherit;"> (no </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rider,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o bot√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Run</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> apenas inicia o aplicativo sem o recurso </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debug</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E ooh-ho, nada funciona tamb√©m :) Abra o console ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F12</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) e veja que est√° tudo vermelho, algo obviamente deu errado. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Blazor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o </font><b><font style="vertical-align: inherit;">√©</font></b><font style="vertical-align: inherit;"> t√£o in√∫til na depura√ß√£o e toda a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha de chamadas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pode ser vista no </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">console</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , e na minha opini√£o isso √© feito ainda melhor do que no mesmo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">angular</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . N√£o h√° necessidade de adivinhar por sinais indiretos onde ocorreu o erro, basta olhar para a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha de chamadas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g-/4f/m5/g-4fm5pnokogbwv_c7vy3ru-5zk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ocorreu uma mensagem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NullReferenceException</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao renderizar a p√°gina </font><font style="vertical-align: inherit;">. Como isso p√¥de acontecer, porque inicializamos a </font><font style="vertical-align: inherit;">√∫nica cole√ß√£o que usamos </font><font style="vertical-align: inherit;">no m√©todo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender um pouco melhor, insira a sa√≠da de tempo nos lugares certos para ver o prazo do que aconteceu:</font></font><br>
<br>
<b><ol>
<li> <pre><code class="cs hljs">Console.WriteLine(<span class="hljs-string">$"Time from markup block: <span class="hljs-subst">{DateTime.Now.ToString()}</span>:<span class="hljs-subst">{DateTime.Now.Millisecond.ToString()}</span>"</span>);</code></pre></li>
<li> <pre><code class="cs hljs">Console.WriteLine(<span class="hljs-string">$"Time from cycle: <span class="hljs-subst">{DateTime.Now.ToString()}</span>:<span class="hljs-subst">{DateTime.Now.Millisecond.ToString()}</span>"</span>);</code></pre></li>
<li> <pre><code class="cs hljs">Console.WriteLine(<span class="hljs-string">$"Time from code block, before await: <span class="hljs-subst">{DateTime.Now.ToString()}</span>:<span class="hljs-subst">{DateTime.Now.Millisecond.ToString()}</span>"</span>);</code></pre></li>
<li> <pre><code class="cs hljs">Console.WriteLine(<span class="hljs-string">$"Time from code block, after await: <span class="hljs-subst">{DateTime.Now.ToString()}</span>:<span class="hljs-subst">{DateTime.Now.Millisecond.ToString()}</span>"</span>); </code></pre></li>
</ol></b><br>
<img src="https://habrastorage.org/webt/oi/va/ch/oivachjfzw1mfopljcqmxwhurvy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na captura de tela abaixo, no console, o que aconteceu no momento da renderiza√ß√£o da p√°gina. Pode-se observar que a p√°gina come√ßa a renderizar mesmo antes da conclus√£o dos m√©todos ass√≠ncronos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na primeira passagem, o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PizzaViewModels</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ainda n√£o havia sido inicializado e capturamos uma </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NullReferenceException</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Em seguida, conforme o esperado ap√≥s a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tarefa</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> retornar </font><font style="vertical-align: inherit;">o m√©todo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao </font><font style="vertical-align: inherit;">status </font><b><font style="vertical-align: inherit;">RanToCompletion</font></b><font style="vertical-align: inherit;"> , o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controle</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> foi reprojetado. O que √© digno de nota, durante a segunda passagem, entramos em um ciclo, como pode ser visto nas mensagens no console. Mas, neste momento, a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interface</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><b><font style="vertical-align: inherit;">usu√°rio</font></b><font style="vertical-align: inherit;"> n√£o </font><b><font style="vertical-align: inherit;">est√°</font></b><font style="vertical-align: inherit;"> mais sendo atualizada e n√£o vemos nenhuma altera√ß√£o vis√≠vel.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ki/_r/yx/ki_ryxdxd-8xizlytgtgtb5lhpk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De fato, o problema √© muito f√°cil de resolver, voc√™ s√≥ precisa executar uma verifica√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nula de</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> forma ass√≠ncrona antes de executar o loop </font><font style="vertical-align: inherit;">; uma exce√ß√£o n√£o ocorrer√° pela primeira vez e, durante a segunda passagem, veremos os dados necess√°rios.</font></font><br>
<b><pre><code class="cs hljs">@if (PizzaViewModels != <span class="hljs-literal">null</span>)<font></font>
{<font></font>
    @foreach (<span class="hljs-keyword">var</span> pizza <span class="hljs-keyword">in</span> PizzaViewModels)<font></font>
    {<font></font>
        ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶.. <span class="hljs-comment">//    </span><font></font>
    }<font></font>
}</code></pre><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece um pouco melhor agora, n√£o h√° mais mensagens de erro no console e voc√™ pode ver as informa√ß√µes que chegaram do servidor: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ed/sj/zt/edsjztoc2aqa_wibm2mpdwvm2hy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â muito melhor, mas n√£o h√° estilos e recursos suficientes, em particular fotos, substituindo o conte√∫do da pasta wwwroot pelo conte√∫do da pasta "~ / Articles / Part2 /BlazingPizza.Client/wwwroot "(link no final do artigo) e execute o projeto novamente, muito melhor. </font><font style="vertical-align: inherit;">Embora ainda esteja longe do ideal:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mk/ar/f-/mkarf-kymgsseuioay24uwx0wui.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eventos de vida √∫til dos componentes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como j√° conhecemos um dos eventos de vida √∫til do componente OnInitializedAsync, seria l√≥gico mencionar os outros:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©todos de inicializa√ß√£o</font></font><br>
</th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inicializado</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chamado quando o componente j√° est√° inicializado e seus par√¢metros j√° est√£o definidos pelo componente pai. </font><font style="vertical-align: inherit;">Durante a vida de um componente, ele √© chamado uma vez ap√≥s sua inicializa√ß√£o.</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o ass√≠ncrona do primeiro m√©todo, ap√≥s a execu√ß√£o, o componente √© renderizado novamente. </font><font style="vertical-align: inherit;">Portanto, ao escrever o c√≥digo, √© necess√°rio considerar que alguns objetos podem ser nulos.</font></font><br>
</td>
</tr>
<tr>
<th colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©todo execut√°vel antes de definir os valores dos par√¢metros</font></font><br>
</th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SetParametersAsync</font></font><br>
</td>
<td> ,      .    <b>ParameterView</b>      .<br>
<br>
              <b>[Parameter]</b>  <b>[CascadingParameter]</b>    <b>ParameterView</b>.      ,    .        ,               )<br>
</td>
</tr>
<tr>
<th colspan="2">    <br>
</th>
</tr>
<tr>
<td>OnParametersSet<br>
</td>
<td>           .      ,      <br>
<br>
 ‚Äî             .<br>
 ‚Äî    ,                    .<br>
</td>
</tr>
<tr>
<td>OnParametersSetAsync</td>
<td>  OnParametersSet</td>
</tr>
<tr>
<th colspan="2">    </th>
</tr>
<tr>
<td>OnAfterRender</td>
<td>      .        .     JavaScript     DOM      .    bool  firstRender   true     .<br>
</td>
</tr>
<tr>
<td>OnAfterRenderAsync<br>
</td>
<td>   ,     Task   ,        -          .<br>
</td>
</tr>
<tr>
<th colspan="2">  <br>
</th>
</tr>
<tr>
<td>ShouldRender<br>
</td>
<td>          UI,     -  .      .             .<br>
</td>
</tr>
<tr>
<td>StateHasChanged<br>
</td>
<td>      ,    Blazor        .<br>
</td>
</tr>
<tr>
<td>Dispose<br>
</td>
<td>   ,       UI.  <b>StateHasChanged</b>  <b>Dispose</b>  .   Dispose     <b>IDisposable</b>,       <b>@implements IDisposable</b><br>
</td>
</tr>
</tbody></table></div><br>
<h2></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta parte, aprendemos como receber dados do controlador e exibi-los para o usu√°rio. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na pr√≥xima parte, organizaremos o Layout e adicionaremos uma camada de acesso a dados para exibir dados reais na p√°gina principal. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o reposit√≥rio desta s√©rie de artigos. </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para a fonte original.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487702/index.html">Uma sele√ß√£o de artigos sobre aprendizado de m√°quina: estudos de caso, guias e pesquisas para janeiro de 2020</a></li>
<li><a href="../pt487704/index.html">Como criamos relat√≥rios din√¢micos no SSRS 2014</a></li>
<li><a href="../pt487706/index.html">Service Discovery em sistemas distribu√≠dos usando o exemplo Consul. Alexander Sigachev</a></li>
<li><a href="../pt487716/index.html">Perfeito SAST. Analisador</a></li>
<li><a href="../pt487720/index.html">Sobre corutinismo competitivo (usando programa√ß√£o reativa como exemplo)</a></li>
<li><a href="../pt487728/index.html">@Pythonetc compilation, janeiro 2020</a></li>
<li><a href="../pt487730/index.html">Processamento de linguagem natural. Resultados 2019 e tend√™ncias para 2020</a></li>
<li><a href="../pt487734/index.html">Acelerando o Entity Framework Core</a></li>
<li><a href="../pt487738/index.html">Anima√ß√£o de esquema no SCADA</a></li>
<li><a href="../pt487740/index.html">Montagem de um magnet√¥metro port√°til</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>