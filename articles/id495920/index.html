<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏈 🧝🏽 👆 Detail Implementasi Protokol Sinkronisasi Waktu PTPv2 ✍🏽 🛬 🍽️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pendahuluan
 
 Konsep membangun "Digital Substation" di industri tenaga listrik membutuhkan sinkronisasi dengan akurasi 1 μs. Transaksi keuangan juga ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Detail Implementasi Protokol Sinkronisasi Waktu PTPv2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/phoenix_contact/blog/495920/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pendahuluan</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Konsep membangun "Digital Substation" di industri tenaga listrik membutuhkan sinkronisasi dengan akurasi 1 μs. </font><font style="vertical-align: inherit;">Transaksi keuangan juga membutuhkan akurasi mikrodetik. </font><font style="vertical-align: inherit;">Dalam aplikasi ini, akurasi waktu NTP tidak lagi memadai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Protokol sinkronisasi PTPv2, dijelaskan oleh standar IEEE 1588v2, memungkinkan akurasi sinkronisasi beberapa puluh nanodetik. </font><font style="vertical-align: inherit;">PTPv2 memungkinkan Anda mengirim paket sinkronisasi melalui jaringan L2 dan L3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Area utama di mana PTPv2 digunakan adalah:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">teknik tenaga;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peralatan kontrol dan pengukuran;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kompleks industri militer;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telekomunikasi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sektor keuangan.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Posting ini melihat bagaimana protokol sinkronisasi PTPv2 bekerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki lebih banyak pengalaman industri dan kami sering menemukan protokol ini dalam aplikasi energi. Karenanya, kami akan melakukan tinjauan dengan memperhatikan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">energi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengapa itu perlu?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Saat ini, STO 34.01-21-004-2019 dari PJSC Rosseti dan STO 56947007-29.240.10.302-2020 dari PJSC FGC UES berisi persyaratan untuk mengatur bus proses dengan sinkronisasi waktu melalui PTPv2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal ini disebabkan oleh fakta bahwa terminal proteksi relay dan alat pengukur terhubung ke bus proses, yang mentransmisikan nilai arus dan tegangan sesaat melalui bus proses menggunakan apa yang disebut aliran SV (aliran multicast).</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminal perlindungan relai menggunakan nilai-nilai ini untuk menerapkan perlindungan koneksi. Jika keakuratan pengukuran dari waktu ke waktu kecil, maka beberapa perlindungan mungkin berhasil salah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, perlindungan selektivitas absolut dapat menjadi korban sinkronisasi waktu "lemah". Seringkali logika pertahanan semacam itu didasarkan pada perbandingan dua nilai. Jika nilai-nilai berbeda dengan nilai yang cukup besar, perlindungan dipicu. Jika nilai-nilai ini diukur dengan akurasi 1 ms, maka Anda bisa mendapatkan perbedaan besar di mana nilai-nilai itu sebenarnya normal, jika Anda mengukurnya dengan akurasi 1 μs. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versi PTP</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Protokol PTP pada awalnya dijelaskan pada tahun 2002 dalam standar IEEE 1588-2002 dan disebut "Standar untuk Protokol Sinkronisasi Jam Presisi untuk Pengukuran Jaringan dan Sistem Kontrol". </font><font style="vertical-align: inherit;">Pada tahun 2008, standar IEEE 1588-2008 yang diperbarui, yang menggambarkan PTP Versi 2. dirilis dalam versi protokol ini, akurasi dan stabilitas ditingkatkan, tetapi kompatibilitas ke belakang dengan versi protokol yang pertama tidak dipertahankan. </font><font style="vertical-align: inherit;">Juga, pada tahun 2019, versi standar IEEE 1588-2019 dirilis yang menggambarkan PTP v2.1. </font><font style="vertical-align: inherit;">Versi ini menambahkan perbaikan kecil ke PTPv2 dan kompatibel dengan PTPv2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan kata lain, kami memiliki gambar berikut dengan versi:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTPv1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(IEEE 1588-2002)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTPv2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(IEEE 1588-2008)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTPv2.1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(IEEE 1588-2019)</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTPv1 (IEEE 1588-2002)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tidak kompatibel</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tidak kompatibel</font></font><br>
</td>
</tr>
<tr>
<td>PTPv2 (IEEE 1588-2008)<br>
</td>
<td><br>
</td>
<td> — </td>
<td><br>
</td>
</tr>
<tr>
<td>PTPv2.1 (IEEE 1588-2019)<br>
</td>
<td><br>
</td>
<td><br>
</td>
<td> — </td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi, seperti biasa, ada nuansa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketidakcocokan antara PTPv1 dan PTPv2 menunjukkan bahwa perangkat dengan dukungan PTPv1 tidak akan dapat menyinkronkan dari jam yang tepat berjalan di PTPv2. Mereka menggunakan berbagai format pesan untuk sinkronisasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi Anda masih bisa menggabungkan perangkat dengan PTPv1 dan perangkat dengan PTPv2 di jaringan yang sama. Untuk melakukan ini, beberapa produsen mengizinkan Anda untuk memilih versi protokol pada port jam perbatasan. Artinya, batas jam dapat disinkronkan melalui PTPv2 dan pada saat yang sama menyinkronkan jam lain yang terhubung ke keduanya oleh PTPv1 dan PTPv2. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat PTP. Apa dan bagaimana perbedaannya?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Standar IEEE 1588v2 menjelaskan beberapa jenis perangkat. Semuanya diberikan dalam tabel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perangkat berkomunikasi satu sama lain melalui LAN menggunakan PTP.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perangkat PTP disebut jam. </font><font style="vertical-align: inherit;">Semua jam tangan mengambil waktu yang tepat dari jam tangan grandmaster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada 5 jenis jam tangan:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jam grandmaster</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber utama waktu yang akurat. </font><font style="vertical-align: inherit;">Seringkali dilengkapi dengan antarmuka untuk menghubungkan GPS.</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jam Biasa</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat port tunggal yang dapat berupa master (master clock) atau slave (master clock)</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jam kerja unggulan (master)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mereka adalah sumber waktu yang tepat saat jam lain disinkronkan.</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slave Clock (Slave)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat akhir yang disinkronkan dari master clock</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jam Batas</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat dengan banyak port, yang bisa berupa master atau slave. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artinya, arloji ini dapat menyinkronkan dari master clock yang lebih tinggi dan menyinkronkan slave clock yang lebih rendah.</font></font><br>
</td>
</tr>
<tr>
<td>End-to-end Transparent Clock ( ,    End-to-End)<br>
</td>
<td>   ,      ,  .    PTP   . <br>
<br>
       PTP-. <br>
<br>
                .<br>
 </td>
</tr>
<tr>
<td>Peer-to-Peer Transparent Clock ( ,    Peer-to-Peer)<br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat dengan banyak port yang bukan master clock atau slave. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini mentransmisikan data PTP antara dua jam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat mengirimkan data, jam transparan mengoreksi semua pesan PTP Sinkronisasi dan Follow_Up (lebih lanjut tentang mereka dijelaskan di bawah). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Koreksi dicapai dengan menambahkan bidang penyesuaian paket delay yang ditransmisikan pada perangkat transmisi dan penundaan pada saluran data.</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simpul Manajemen</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat yang mengkonfigurasi dan mendiagnosis jam tangan lain</font></font><br>
</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Master dan slave jam disinkronkan menggunakan perangko waktu dalam pesan PTP. </font><font style="vertical-align: inherit;">Ada dua jenis pesan dalam protokol PTP:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesan Acara adalah pesan yang disinkronkan yang melibatkan pembuatan cap waktu pada saat pesan dikirim dan pada saat diterima.</font></font></li>
<li>General Messages –      ,        </li>
</ul><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>Event Messages<br>
</td>
<td>General Messages<br>
</td>
</tr>
<tr>
<td>Sync<br>
Delay_Req<br>
Pdelay_Req<br>
Pdelay_Resp<br>
</td>
<td>Announce<br>
Follow_Up<br>
Delay_Resp<br>
Pdelay_Resp_Follow_Up<br>
Management<br>
Signaling<br>
</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kami akan mempertimbangkan semua jenis pesan secara lebih rinci. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masalah utama sinkronisasi</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ketika mengirimkan paket sinkronisasi melalui jaringan lokal, ia tertunda di sakelar dan di saluran transmisi data. </font><font style="vertical-align: inherit;">Setiap saklar akan memberikan penundaan sekitar 10 μs, yang tidak dapat diterima untuk PTPv2. </font><font style="vertical-align: inherit;">Bagaimanapun, kita perlu mendapatkan akurasi 1 μs pada perangkat akhir. </font><font style="vertical-align: inherit;">(Ini adalah </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
soal </font><font style="vertical-align: inherit;">energi. Aplikasi lain mungkin memerlukan lebih akurat.) </font><font style="vertical-align: inherit;">IEEE 1588v2 menjelaskan beberapa algoritma operasi yang memungkinkan Anda untuk merekam waktu tunda dan menyesuaikannya. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritma operasional</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Selama operasi normal, protokol beroperasi dalam dua fase.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fase 1 - Pembentukan hierarki "Jam Memimpin - Jam Slave".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fase 2 - sinkronisasi jam menggunakan mekanisme End-to-End atau Peer-to-Peer.</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fase 1 - Menyiapkan hierarki Master Slave</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Setiap port jam biasa atau batas memiliki sejumlah negara tertentu (jam slave dan jam master). Standar menggambarkan algoritma transisi antara negara-negara ini. Dalam pemrograman, algoritma semacam itu disebut mesin negara atau mesin negara (lebih lanjut tentang Wiki). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesin negara ini menggunakan Algoritma Clock Master Terbaik (BMCA) untuk mengatur master ketika dua jam terhubung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algoritma ini memungkinkan arloji untuk memikul kewajiban arloji grandmaster ketika arloji grandmaster superior kehilangan sinyal GPS, terputus dari jaringan, dll </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transisi negara sesuai dengan BMCA secara singkat ditunjukkan pada diagram berikut:</font></font><br>
<img src="https://habrastorage.org/webt/uy/hz/h6/uyhzh63gb0jt63bppsuuhcllwmu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Informasi tentang jam di ujung "kawat" dikirim dalam pesan khusus (Umumkan pesan). </font><font style="vertical-align: inherit;">Ketika informasi ini diterima, algoritma mesin negara memproses dan membandingkan jam mana yang lebih baik. </font><font style="vertical-align: inherit;">Port pada jam tangan terbaik menjadi arloji terkemuka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hirarki sederhana disajikan pada diagram di bawah ini. </font><font style="vertical-align: inherit;">Jalur 1, 2, 3, 4, 5 dapat berisi jam transparan (jam Transparan), tetapi mereka tidak berpartisipasi dalam pembentukan hierarki "Jam terkemuka - Jam budak". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kj/md/ci/kjmdcibg-ls2rflwu6qtur-0osg.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fase 2 - Sinkronisasi jam normal dan batas</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Segera setelah hierarki "Jam buka - Jam buka" ditetapkan, fase sinkronisasi jam reguler dan batas dimulai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk sinkronisasi, jam master mengirim pesan berisi cap waktu ke jam pendukung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jam kerja utama dapat:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">satu tahap;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dua tahap.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jam satu tahap untuk sinkronisasi mengirim satu pesan Sync. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jam dua tahap menggunakan dua pesan untuk sinkronisasi - Sinkronisasi dan Follow_Up. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dua mekanisme dapat digunakan untuk fase sinkronisasi:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menunda mekanisme respons permintaan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mekanisme pengukuran keterlambatan rekan.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mulai dengan, kami akan mempertimbangkan mekanisme ini dalam kasus paling sederhana - ketika jam tangan transparan tidak digunakan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menunda mekanisme respons permintaan </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mekanisme ini memiliki dua langkah:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengukuran keterlambatan pengiriman pesan antara master clock dan slave. </font><font style="vertical-align: inherit;">Hal ini dilakukan dengan menggunakan mekanisme respons permintaan penundaan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengoreksi pergeseran waktu yang tepat.</font></font></li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delay Measurement</font></font></i><br>
<img src="https://habrastorage.org/webt/zj/hp/sa/zjhpsak259vihrylfiujf5vj2sm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
t1 - Menyinkronkan waktu pengiriman pesan dengan jam terkemuka; t2 - Menyinkronkan waktu penerimaan pesan dengan jam slave; t3 - Menunda waktu pengiriman permintaan (Delay_Req) ​​oleh jam kerja paksa; t4 - Delay_Req waktu penerimaan oleh jam terkemuka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika jam slave mengetahui waktu t1, t2, t3 dan t4, mereka dapat menghitung rata-rata waktu pengiriman pesan sinkronisasi (tmpd). Dihitung sebagai berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e6/cz/qx/e6czqxjr1wen8eld_z4y16joa4k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat mengirimkan pesan Sync dan Follow_Up, waktu tunda dari master ke slave dihitung - t-ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat mengirimkan pesan Delay_Req dan Delay_Resp, waktu tunda dari slave ke master, t-sm, dihitung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika beberapa asimetri terjadi di antara kedua nilai ini, kesalahan muncul dalam koreksi keberangkatan waktu yang tepat. Kesalahan ini disebabkan oleh fakta bahwa penundaan yang dihitung adalah rata-rata dari penundaan t-ms dan t-sm. Jika penundaan tidak sama satu sama lain, maka kami akan menyesuaikan waktu secara tidak akurat. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengoreksi offset waktu yang tepat</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Setelah penundaan antara jam utama dan jam pendukung diketahui, jam pendukung melakukan koreksi waktu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a7/gv/qz/a7gvqzykdjxtg6nm5rcqhcqmyzs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jam slave menggunakan pesan Sync dan pesan Follow_Up opsional untuk menghitung offset waktu yang tepat saat mentransmisikan paket dari master clock ke slave. Pergeseran dihitung menggunakan rumus berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n1/rk/nw/n1rknwzr-r0qio-uf1a9iiqd_9o.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mekanisme pengukuran keterlambatan rekan Mekanisme</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ini juga menggunakan dua langkah untuk menyinkronkan:</font></font><br>
<br>
<ol>
<li>         .     peer delay mechanism.</li>
<li>   .</li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengukuran</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Penundaan </font><i><font style="vertical-align: inherit;">Sebaya Sebaya</font></i><font style="vertical-align: inherit;"> Delay </font><i><font style="vertical-align: inherit;">antara perangkat berkemampuan</font></i><font style="vertical-align: inherit;"> sebaya diukur dengan menggunakan pesan-pesan berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/eo/0o/y2/eo0oy26vhwksm1rel2znic_q8rs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika port 1 mengetahui waktu t1, t2, t3 dan t4, ia dapat menghitung rata-rata penundaan (tmld ) Itu dihitung menggunakan rumus berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a6/3r/mc/a63rmc4ehosk81dvktfv4prevt0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian, port menggunakan nilai ini untuk menghitung bidang penyesuaian untuk setiap pesan Sync atau pesan Follow_Up opsional yang melewati perangkat ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total keterlambatan akan sama dengan jumlah keterlambatan saat mentransmisikan melalui perangkat ini, penundaan rata-rata saat mentransmisikan melalui saluran data dan penundaan yang sudah terkandung dalam pesan ini, termasuk pada perangkat yang lebih tinggi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan Pdelay_Req, Pdelay_Resp dan opsional Pdelay_Resp_Follow_Up memungkinkan Anda untuk mendapatkan penundaan dari master ke slave dan dari slave ke master (melingkar). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Asimetri apa pun di antara kedua nilai ini akan menghasilkan kesalahan koreksi offset waktu yang akurat. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengoreksi offset waktu yang tepat</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/m6/do/ku/m6dokuldnfjmqscwyrtin2tvjiu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jam slave menggunakan pesan Sync dan pesan Follow_Up opsional untuk menghitung offset waktu yang tepat ketika mentransmisikan paket dari jam terkemuka ke budak. Pergeseran dihitung berdasarkan rumus berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ub/ui/xk/ubuixkpfmzizo7ilzkdgyfwvh8c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keuntungan penyesuaian peer-to-peer - waktu tunda setiap pesan Sync atau Follow_Up dihitung saat ditransmisikan di jaringan. Oleh karena itu, perubahan jalur transmisi tidak akan memengaruhi akurasi penyesuaian.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menggunakan mekanisme ini, sinkronisasi waktu tidak memerlukan perhitungan waktu tunda pada jalur yang ditempuh oleh paket sinkronisasi, seperti yang dilakukan dengan pertukaran dasar. Itu Pesan Delay_Req dan Delay_Resp tidak terkirim. Dalam metode ini, penundaan antara jam master dan pengikut hanya dijumlahkan di bidang penyesuaian setiap pesan Sync atau Follow_Up. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keuntungan lain adalah bahwa jam mengemudi diturunkan dari kebutuhan untuk memproses pesan Delay_Req. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mode operasi jam tangan transparan</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Oleh karena itu, contoh-contoh sederhana diperiksa. Sekarang anggap bahwa sakelar muncul di jalur sinkronisasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda menggunakan sakelar tanpa dukungan PTPv2, maka paket sinkronisasi akan ditunda sekitar 10 μs pada sakelar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switch dengan dukungan PTPv2 dalam terminologi IEEE 1588v2 disebut jam Transparan. </font><font style="vertical-align: inherit;">Jam transparan tidak disinkronkan dari jam terkemuka dan tidak berpartisipasi dalam hierarki "Jam terkemuka - Jam Slave", tetapi saat mengirimkan pesan sinkronisasi, mereka ingat berapa banyak pesan yang tertunda oleh mereka. </font><font style="vertical-align: inherit;">Ini memungkinkan Anda untuk menyesuaikan waktu tunda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jam tangan transparan dapat berfungsi dalam dua mode:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ujung ke ujung.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rekan sebaya.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">End-to-End (E2E)</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/cb/ev/vy/cbevvyylfmfgq9jgwm_jiuxvkjw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Arloji E2E transparan mentransmisikan pesan Sync dan menyertai pesan Follow_Up ke semua port. Bahkan yang diblokir oleh protokol apa pun (misalnya, RSTP). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switch mengingat cap waktu ketika paket Sync (Follow_Up) diterima pada port dan ketika itu dikirim dari port. Berdasarkan dua cap waktu ini, waktu pemrosesan sakelar untuk pesan dihitung. Dalam standar, waktu ini disebut waktu tinggal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Waktu pemrosesan ditambahkan ke bidang koreksiField pesan Sync (jam satu tahap) atau Follow_Up (jam dua tahap).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hv/4q/rj/hv4qrjcuzer2hejocmtzitnntma.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arloji transparan E2E mengukur waktu pemrosesan untuk pesan Sync dan Delay_Req yang melewati sakelar. Tetapi penting untuk memahami bahwa waktu tunda antara jam utama dan jam slave dihitung menggunakan mekanisme respons-respons tunda. Jika jam master berubah atau jalur dari jam master ke slave berubah, penundaan diukur lagi. Ini meningkatkan waktu transisi jika terjadi perubahan jaringan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sw/im/q7/swimq7rpv2n24wyd8erbsvf420s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jam P2P transparan, selain mengukur waktu pemrosesan pesan oleh saklar, mengukur keterlambatan pada saluran data ke tetangga terdekat menggunakan mekanisme pengukuran keterlambatan simpul tetangga.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penundaan diukur pada setiap saluran di kedua arah, termasuk saluran yang diblokir oleh protokol (misalnya, RSTP). </font><font style="vertical-align: inherit;">Ini memungkinkan Anda untuk segera menghitung penundaan baru di jalur sinkronisasi jika jam grandmaster atau topologi jaringan telah berubah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Waktu pemrosesan sakelar dan waktu tunda diakumulasikan saat mengirimkan pesan Sync atau Follow_Up. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis Dukungan untuk PTPv2 Switches</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Switches dapat mendukung PTPv2:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">secara terprogram;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perangkat keras.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam implementasi perangkat lunak protokol PTPv2, sakelar meminta cap waktu dari firmware. </font><font style="vertical-align: inherit;">Masalahnya adalah bahwa firmware bekerja secara siklis, dan Anda harus menunggu sampai selesai siklus saat ini, mengambil permintaan ke pemrosesan, dan setelah siklus berikutnya ia mengeluarkan timestamp. </font><font style="vertical-align: inherit;">Semua ini juga akan memakan waktu, dan kami akan mendapat penundaan, meskipun tidak sepenting tanpa dukungan perangkat lunak PTPv2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hanya dukungan perangkat keras untuk PTPv2 yang memungkinkan Anda untuk mempertahankan akurasi yang diperlukan. </font><font style="vertical-align: inherit;">Dalam hal ini, penerbitan cap waktu dilakukan oleh ASIC khusus, yang dipasang pada port. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Format Pesan</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Semua pesan PTP terdiri dari bidang-bidang berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Header - 34 byte.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tubuh - ukurannya tergantung pada jenis pesan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suffix - opsional.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/ae/9l/_3/ae9l_3mph3pkhb-2oi0h_ppy48u.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Header</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Field </font><b><font style="vertical-align: inherit;">Header</font></b><font style="vertical-align: inherit;"> adalah sama untuk semua pesan PTP. Ukurannya 34 byte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Format bidang Header: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yu/xs/gu/yuxsgundgrz9iyiyyfabaxt5i38.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">messageType</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah jenis pesan yang dikirim, misalnya, Sinkronisasi, Delay_Req, PDelay_Req, dll. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">messageLength</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - berisi ukuran penuh dari pesan PTP, termasuk header, body, dan suffix (tetapi tidak termasuk fill bytes). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">domainNumber</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Menentukan domain PTP mana dari pesan tersebut. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Domain</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah beberapa jam yang berbeda, dirangkai menjadi satu grup logis dan disinkronkan dari satu jam terkemuka, tetapi tidak harus disinkronkan dengan jam milik domain lain. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bendera</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - bidang ini berisi berbagai bendera untuk mengidentifikasi status pesan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">koreksiField</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Berisi waktu tunda dalam nanodetik. Waktu tunda mencakup penundaan transmisi melalui jam transparan, serta penundaan transmisi melalui saluran saat menggunakan mode Peer-to-Peer. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sourcePortIdentity</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - bidang ini berisi informasi tentang asal port pesan ini. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sequenceID</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - berisi nomor identifikasi untuk masing-masing pesan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controlField</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - bidang artifact =) Masih dari versi pertama standar dan berisi informasi tentang jenis pesan ini. Pada dasarnya sama dengan messageType, tetapi dengan lebih sedikit opsi. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logMessageInterval</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - bidang ini ditentukan oleh jenis pesan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tubuh</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti dibahas di atas, ada beberapa jenis pesan. Jenis-jenis ini dijelaskan di bawah ini: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengumumkan pesan Mengumumkan</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pesan digunakan untuk "memberi tahu" jam tangan lain dalam domain yang sama tentang pengaturannya. Pesan ini memungkinkan Anda untuk mengatur hierarki "Leading Clock - Slave Clock". </font></font><br>
<img src="https://habrastorage.org/webt/-i/zs/dh/-izsdhnvkookhpjtrdrqx2myimy.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sync</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sebuah pesan pesan sinkronisasi (sync) dikirim oleh jam master dan berisi saat jam master pada saat pesan Sync diciptakan. Jika jam depan adalah dua tahap, maka cap waktu dalam pesan Sync akan diatur ke 0, dan cap waktu saat ini akan dikirim dalam pesan Follow_Up berpasangan. Pesan Sync digunakan untuk kedua mekanisme pengukuran keterlambatan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan ditransmisikan menggunakan Multicast. Anda secara opsional dapat menggunakan Unicast.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/pp/1f/scpp1fns1uuyccw9bucbvghesgo.png"><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan </font><b><font style="vertical-align: inherit;">Delay_Req</font></b><font style="vertical-align: inherit;"> Format pesan </font><b><font style="vertical-align: inherit;">Delay_Req</font></b><font style="vertical-align: inherit;"> identik dengan pesan Sync. Jam budak mengirim Delay_Req. Ini berisi waktu Delay_Req dikirim oleh jam slave. Pesan ini hanya digunakan untuk mekanisme respons permintaan penundaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan ditransmisikan menggunakan Multicast. Anda secara opsional dapat menggunakan Unicast. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/bm/r_/febmr_zz7v1dricuta5z88xmjqk.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesan Follow_Up Pesan Follow_Up</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
secara opsional dikirim oleh jam master dan berisi waktu </font><font style="vertical-align: inherit;">master </font><font style="vertical-align: inherit;">mengirim </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pesan Sync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pesan Follow_Up hanya dikirim oleh jam mengemudi dua tahap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan Follow_Up digunakan untuk kedua mekanisme pengukuran keterlambatan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan ditransmisikan menggunakan Multicast. Anda secara opsional dapat menggunakan Unicast. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1g/42/2a/1g422aehbonsjrjjq0dwn9ceoxi.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesan Delay_Resp</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan Delay_Resp dikirim oleh master clock. Ini berisi waktu Delay_Req diterima oleh jam master. Pesan ini hanya digunakan untuk mekanisme respons permintaan penundaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan ditransmisikan menggunakan Multicast. Anda secara opsional dapat menggunakan Unicast. </font><font style="vertical-align: inherit;">
Pesan </font></font><br>
<br>
<img src="https://habrastorage.org/webt/up/is/gz/upisgzu5d7dk0iscixogmmjciwi.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pdelay_Req</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pesan </font><b><font style="vertical-align: inherit;">Pdelay_Req</font></b><font style="vertical-align: inherit;"> dikirim oleh perangkat yang meminta penundaan. Ini berisi waktu pesan dikirim dari port perangkat ini. Pdelay_Req hanya digunakan untuk mekanisme pengukuran keterlambatan simpul tetangga. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hn/km/rz/hnkmrzmcidqsawxtazho-oprpus.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesan Pdelay_Resp Pesan Pdelay_Resp</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
dikirim oleh perangkat yang menerima permintaan penundaan. Berisi waktu pesan Pdelay_Req diterima oleh perangkat ini. Pesan Pdelay_Resp hanya digunakan untuk mekanisme pengukuran keterlambatan simpul tetangga.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/bb/34/khbb34wn7ujy84lldruomgaenmg.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesan Pdelay_Resp_Follow_Up Pesan Pdelay_Resp_Follow_Up</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
secara opsional dikirim oleh perangkat yang menerima permintaan penundaan. </font><font style="vertical-align: inherit;">Berisi waktu pesan Pdelay_Req diterima oleh perangkat ini. </font><font style="vertical-align: inherit;">Pesan Pdelay_Resp_Follow_Up hanya dikirim oleh master clock dua tahap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan ini juga dapat digunakan untuk runtime, bukan timestamp. </font><font style="vertical-align: inherit;">Waktu eksekusi adalah waktu sejak Pdelay-Req diterima hingga Pdelay_Resp dikirim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pdelay_Resp_Follow_Up hanya digunakan untuk mekanisme pengukuran keterlambatan simpul tetangga. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w7/-k/q2/w7-kq2pssesbnko10w1tmsrs9ow.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesan Kontrol (Pesan Manajemen) Pesan</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
kontrol PTP diperlukan untuk mentransfer informasi antara satu jam atau lebih dan node kontrol. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r7/xi/c0/r7xic0kvnb_yurjc53bah53f2ss.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transfer ke LV</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan PTP dapat dikirim pada dua tingkat:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jaringan - sebagai bagian dari data IP.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan - sebagai bagian dari bingkai Ethernet.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengirim pesan PTP melalui UDP melalui IP melalui Ethernet </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f7/k6/al/f7k6alykkmt_4jrstkfkad_if-4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PTP melalui UDP melalui Ethernet </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a7/pe/wu/a7pewujvuii1chap6wppv51dh0k.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Profil</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
PTP memiliki banyak parameter "fleksibel" yang perlu dikonfigurasi. </font><font style="vertical-align: inherit;">Contohnya:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opsi BMCA.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mekanisme pengukuran keterlambatan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interval dan nilai awal dari semua parameter yang dapat dikonfigurasi, dll.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan terlepas dari kenyataan bahwa sebelumnya kami mengatakan bahwa perangkat PTPv2 kompatibel satu sama lain, dalam cara yang baik tidak. Perangkat harus memiliki pengaturan yang sama untuk berinteraksi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, ada yang disebut profil PTPv2. Profil adalah grup pengaturan yang dikonfigurasikan dan batasan protokol tertentu sehingga Anda dapat menerapkan sinkronisasi waktu untuk aplikasi tertentu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standar IEEE 1588v2 sendiri hanya menjelaskan satu profil - "Profil Default". Semua profil lain dibuat dan dijelaskan oleh berbagai organisasi dan asosiasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, Profil Daya atau Profil Daya PTPv2 dibuat oleh Komite Relai Sistem Daya dan Komite Substation dari IEEE Power dan Energy Society. Profil itu sendiri disebut IEEE C37.238-2011.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Profil tersebut menjelaskan bahwa PTP dapat ditransmisikan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hanya melalui jaringan L2 (mis. Ethernet, HSR, PRP, bukan IP).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesan hanya dikirimkan oleh milis Multicast.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mekanisme pengukuran keterlambatan rekan digunakan sebagai mekanisme pengukuran keterlambatan.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Domain default adalah 0, domain yang disarankan adalah 93. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Filosofi menciptakan C37.238-2011 adalah keinginan untuk mengurangi jumlah fitur opsional dan hanya menyisakan fungsi yang diperlukan untuk interaksi yang dapat diandalkan antara perangkat dan meningkatkan stabilitas sistem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga, frekuensi pengiriman pesan ditentukan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wc/gp/z9/wcgpz9du_jejtkxidtptsh9x53i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya, hanya satu parameter yang tersedia untuk pemilihan - jenis jam terkemuka (satu tahap atau dua tahap). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akurasi tidak boleh lebih dari 1 μs. </font><font style="vertical-align: inherit;">Dengan kata lain, maksimum 15 jam transparan atau tiga jam batas dapat dimuat dalam satu jalur sinkronisasi.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/et/zp/y0/etzpy01l2mtcewn9mxik3wyztrq.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id495904/index.html">Bisakah epidemi diprediksi?</a></li>
<li><a href="../id495908/index.html">Jalan menuju hadiah</a></li>
<li><a href="../id495910/index.html">Menginstal ROS dalam Gambar IMG Ubuntu Papan Tunggal</a></li>
<li><a href="../id495912/index.html">Stiker replay cerdas</a></li>
<li><a href="../id495918/index.html">Bagaimana cara mereproduksi suara realistis dalam permainan komputer dan VR dan mengapa itu sulit</a></li>
<li><a href="../id495924/index.html">Mengapa sangat sulit untuk membangun model distribusi COVID-19 yang bagus?</a></li>
<li><a href="../id495926/index.html">Kami menulis firmware untuk TI cc2530 pada Z-Stack 3.0 untuk Zigbee relay Sonoff BASICZBR3 dengan sensor ds18b20</a></li>
<li><a href="../id495932/index.html">Apa arti tersembunyi dari penulis dalam Panduan SCRUM. Bagian 1. Tentang proses</a></li>
<li><a href="../id495934/index.html">DataGelola di rumah</a></li>
<li><a href="../id495938/index.html">Pilihan artikel tentang pembelajaran mesin: kasus, panduan dan studi untuk Maret 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>