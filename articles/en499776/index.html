<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö´ üë®üèæ‚Äçüíª üßñüèø Features of the implementation of the MSH language üçÉ üèúÔ∏è üë¶üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I continue the series of articles on the MSH programming language. In a previous article, I already described the specification of this language. But ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Features of the implementation of the MSH language</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499776/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I continue the series of articles on the MSH programming language. </font><font style="vertical-align: inherit;">In a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">previous article,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I already described the specification of this language. </font><font style="vertical-align: inherit;">But the specification does not reveal all the features of the language. </font><font style="vertical-align: inherit;">I want to eliminate that gap with this article. </font><font style="vertical-align: inherit;">Of course, I did not manage to describe everything, but basically I described the main features. </font><font style="vertical-align: inherit;">We will postpone the rest until better times. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the image of the language just takes shape, it seems that everything is logical and consistent. </font><font style="vertical-align: inherit;">But at the entrance to the implementation of the language there are problems that have to be solved by choosing one or another strategy. </font><font style="vertical-align: inherit;">Now that the language interpreter is ready, you can see how it solved one or another implementation problem.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSH programming language concepts</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table of contents</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introduction 2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Organization of the program. 2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
runtime. 2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data management. 3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data localization. 3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Shorthand syntax. 5 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Constants. 5 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Features of some teams. 5 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 CONSTANT command. 5 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 XECUTE command. 6 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Commands COPY and MOVE. 6 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Resource synchronization. 7 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Abbreviated form of the SET command. 8 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Block teams. 8 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 IF command. 8 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 CASE command. 9 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 WHILE command. 10 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Block loop iterators. 10 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 NEXT Team. 11 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 BACK command. 12 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 QUERY team. 12 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Non-block commands Data tree traversal commands. 12 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 NEXT1 Team. 12 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Command BACK1. thirteen</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 QUERY Team1. </font><font style="vertical-align: inherit;">13 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Program execution management. </font><font style="vertical-align: inherit;">13 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Passing parameters. </font><font style="vertical-align: inherit;">14 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Event handling. </font><font style="vertical-align: inherit;">15 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EVENTTRAP command. </font><font style="vertical-align: inherit;">15 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Team EVENTDELETE. </font><font style="vertical-align: inherit;">16 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EVENTCALL Team. </font><font style="vertical-align: inherit;">16 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EVENTWAIT Team. </font><font style="vertical-align: inherit;">16 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Vectors. </font><font style="vertical-align: inherit;">16 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 64 bit vectors. </font><font style="vertical-align: inherit;">16 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 32 bit vectors. </font><font style="vertical-align: inherit;">17 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 16 bit vectors. </font><font style="vertical-align: inherit;">17 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 8 bit vectors. </font><font style="vertical-align: inherit;">17 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Operations. </font><font style="vertical-align: inherit;">17 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 objects. </font><font style="vertical-align: inherit;">18 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Inheritance of objects. </font><font style="vertical-align: inherit;">19 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Exchange with the file. </font><font style="vertical-align: inherit;">20 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Conclusion. </font><font style="vertical-align: inherit;">twenty</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The MSH language is built on the concepts of the MUMPS language. MUMPS is a little-known language developed in the last century. But it is still used in information applications. Information about this language is present on the Internet. There are working implementations of this language and a community of programmers supporting it. MUMPS are being developed in the USA and Russia. In addition, it is used, as far as I know, in Latin America, Germany, Australia, and China. In general, this living concept of language. When meeting with MUMPS, its archaic nature is striking. This development is designed to eliminate its shortcomings, while preserving its advantages, simplicity, consistency, data organization. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Organization of the program.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The translation unit is the MSH language module. The module starts from the standard 8 bytes identifying the language version. At the beginning of the line may be a label or spaces. The label ends with a ‚Äú:‚Äù and is separated from the rest of the commands by any number of spaces. Lines consist of commands. A sign of the end of the team is the symbol ‚Äú;‚Äù The command is separated from the arguments by spaces. The case of characters does not matter. The command can be written with characters of any register. In addition, many teams have an abbreviated form. A command may have a condition for its execution. If there is one, then the symbol ‚Äú?‚Äù Follows the command without spaces and the condition for the execution of this command. If the condition for executing the command is not equal to 0, then the command is executed. Inside the condition, spaces are not allowed, otherwise they will be processed as separators between the command and arguments.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET? [5]&gt; 5 Val [1] = 25; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// is it correct </font></font><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET? [2]&gt; 5 Val [1] = 25; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// syntax error </font></font><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET? ([1,2]&gt; 5) Val [1] = 25; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// correctly, inside () spaces are allowed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arguments are separated by the symbol ‚Äú,‚Äù. </font><font style="vertical-align: inherit;">Inside arguments, a space is not a special character and can be contained anywhere. </font><font style="vertical-align: inherit;">Typically, a command can have any number of arguments. </font><font style="vertical-align: inherit;">Labels in the module are localized inside the module and must be unique in it, with the exception of labels inside the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Labels of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">localized inside this command should be unique only inside this command and can duplicate labels both outside this command and in nested </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> commands </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Runtime</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At run time, the application has one or more tasks. </font><font style="vertical-align: inherit;">All tasks are performed in parallel. </font><font style="vertical-align: inherit;">In each task, programs are executed sequentially. </font><font style="vertical-align: inherit;">At each moment in time, only one program code is executed in the task. </font><font style="vertical-align: inherit;">The task ends with the end of the last running program. </font><font style="vertical-align: inherit;">The main task is launched by the language runtime. </font><font style="vertical-align: inherit;">The remaining jobs are generated by the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Job</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data management</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For those who are familiar with the MUMPS language, the organization of data in MSH is quite clear. There is no description of the data in MSH. There is no data declaration. Data can be stored as a tree, then access to the tree nodes is performed by an optional name and index. The index is enclosed in square brackets []. The name is in front of them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET Pr [4,5, "rt"] = Is ["ty ^ 578"];</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Here </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Is are the</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> names of trees. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4,5, ‚Äúrt‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äúty ^ 578‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> are node indices.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The tree can have an arbitrary number of levels and, accordingly, the index has the corresponding number of fields separated by commas. The index field can have an arbitrary value of the base type. The basic types in MSH are numbers and strings. Only nodes to which the recording was made are directly stored in the tree. The name, index field, and index itself can be an expression. After calculation, the name can only be an identifier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, the data can be stored as a continuous array, then an access to the array element consists of an optional symbol name "$" and an index. An index is an integer. The smallest array index is 1. The name and index can be expressions. After calculation, the name can only be an identifier, and the index an integer. An array can be filled in any order, but if you wrote in</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mc $ 1000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , then an </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> array </font><font style="vertical-align: inherit;">of </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> elements </font><font style="vertical-align: inherit;">will be created </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Undefined elements will not contain values, but they will be present. </font><font style="vertical-align: inherit;">The number of elements in the array can be found by referring to the zero element of this array. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mc $ 0 The</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
size of the array can be changed by writing a new array length to this element. </font><font style="vertical-align: inherit;">But in the general case, this is not necessary, since the array expands automatically. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tree nodes and array elements contain data of basic types. </font><font style="vertical-align: inherit;">These are either strings or numbers. </font><font style="vertical-align: inherit;">How programmer data is stored is not concerned. </font><font style="vertical-align: inherit;">The storage of data types and their manipulation is the responsibility of the MSH language implementation.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data localization</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MSH data is divided into global and local. They differ in the type of name. Global data is stored in long-term memory and does not depend on the lifetime of the application. Once they are created, they can be changed by the application and will exist until the application destroys them with the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. All global data has the prefix ‚Äú^‚Äù in the name.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Access to global data is simultaneously possible from various tasks. Therefore, when accessing globals, synchronization is necessary. Such synchronization is always automatic. There is always a synchronization primitive in the global descriptor and it controls access to the global. Moreover, when reading the global is blocked by reading, while writing to the global, it is blocked by writing. No additional globals synchronization is required. Accesses to global arrays are also synchronized. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^ gl [87,9]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the global tree node. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^ glar $ 45</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the element of the global array. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Local data exists only while the application is running. The next application launch cannot access the local data of the previous launch.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The scope of local data depends on its type. There are three types of data localization. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Local program data. They are localized inside the program and exist from the moment the program is launched until its completion. If the program calls the subroutine, then new subroutine data is created, and the local program data inside the subroutine is not visible. When you return to the program, the local program data becomes available again. Local program data does not have a name. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[7,9]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the node of the tree localized inside the program. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 5</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to an array element localized inside the program. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is one exception. An array of parameters passed to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> program is also localized inside the program.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Local application data. They are visible in all tasks of the application. You can contact them from any task. They exist from the moment they are created in the application by any task until the application is completed or until they are destroyed by the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> team </font><font style="vertical-align: inherit;">. The names of such data are prefixed with " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">%</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". These variables are simultaneously available in different tasks, so they are as synchronized as globals. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% dapp [87.9]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the node of the tree localized inside the application. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% dapp $ 45</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to an array element localized inside the application.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Local job data. </font><font style="vertical-align: inherit;">They are localized inside the task and exist from the moment they are created in any task program until the task is completed or destroyed by the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> team </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Such data must have a name and do not contain the prefixes ‚Äú </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù and ‚Äú </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">%</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù. </font><font style="vertical-align: inherit;">The exception is the array of program parameters </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , it is localized inside the program. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">djob [87,9]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the node of the tree localized inside the task. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">djob $ 45</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the element of the array localized inside the job. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Access to variables can only have the types listed here.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shorthand syntax</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This term has no relation to a similar term in the MUMPS language. The abbreviated syntax in MSH is used to refer to either the entire tree or the entire array. It is used only in separate teams and where it is permissible it is always negotiated. An appeal to the whole tree consists of a name and required square brackets. No name is specified for the local program tree. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">us []</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the entire us tree. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the local program tree. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Access to the entire array consists of the name and the required character " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". No name is provided for the local array of the program. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">us $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the entire us array. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the local program array.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Constants</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basic data types can be either numeric or string. </font><font style="vertical-align: inherit;">The numeric form is either an integer or a real number in the presence of a decimal point. </font><font style="vertical-align: inherit;">The base of the numbers is 10. They can be either positive or negative. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
25, -4, 789.56, -9.3 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
String constants are any sequence of characters. </font><font style="vertical-align: inherit;">If a constant consists only of letters and numbers, then you can not enclose it in quotation marks, since it cannot be confused with a variable. </font><font style="vertical-align: inherit;">If the constant contains other characters, then it must be enclosed in either single or double quotes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"rt @ tty # 123" </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
'14 "5 * 7" 89 \? ' </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
125Dsv</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Features of some teams</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONSTANT Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can give a constant a name using the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONSTANT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. These are broadcast time names. Broadcast replaces them with their values. At run time, these names no longer exist. Therefore, </font><font style="vertical-align: inherit;">you cannot assign an expression to a name </font><font style="vertical-align: inherit;">in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONSTANT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. The value must be exactly a constant. The names of the constants must be chosen so that they do not coincide with the values ‚Äã‚Äãof the constants specified in the program without quotes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Constant ioInOut = "/ini/par.ini&gt;,maxIs=25; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ioInOut and maxIs constants are assigned values. Further in the program these names can be used instead of these values. </font><b><font style="vertical-align: inherit;">Constant</font></b></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Team</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It has 2 forms. </font><font style="vertical-align: inherit;">In this case, the right side of the equality is absent. </font><font style="vertical-align: inherit;">The meaning of this team is different. </font><font style="vertical-align: inherit;">The name is the name of the module containing the constants. </font><font style="vertical-align: inherit;">The constants of this module are exported to the current module. </font><font style="vertical-align: inherit;">The module importing constants does not contain any additional descriptions about import. </font><font style="vertical-align: inherit;">The importing module can contain both constants and programs only. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONSTANT sysCnsNet, usrCnsByx; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sysCnsNet</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usrCnsByx</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> are module names containing constants. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Both forms can occur as arguments to a single </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONSTANT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XECUTE Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XECUTE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><b><font style="vertical-align: inherit;">is a</font></b><font style="vertical-align: inherit;"> rather exotic team, but it is present in the MUMPS language. In other programming languages, she met me only in JavaScript. There it is called eval. When this command is executed, the expression of the argument of this command is calculated, and then this expression is converted to a string, interpreted as an MSH command, and executed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XECUTE "SET $ 1 = 89;";</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As a result, the variable </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> will receive the value </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a primitive example, in this form it hardly makes sense to use this command. The arguments to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XECUTE command</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> are expressions, which allows you to generate various MSH commands at the time the program </font><b><font style="vertical-align: inherit;">runs</font></b><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The command is executed in the context of the program where the command is located. </font><font style="vertical-align: inherit;">All program resources are available to her, including local program data.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COPY and MOVE Commands</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COPY command is</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> similar to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MERGE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MUMPS </font><font style="vertical-align: inherit;">command </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">These commands copy the source node along with all descendants to the receiver node. </font><font style="vertical-align: inherit;">The argument of these commands consists of two fields separated by the symbol " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". </font><font style="vertical-align: inherit;">To the right of this sign is the source node, the receiver to the left. </font><font style="vertical-align: inherit;">An abbreviated link is allowed as nodes, in this case the whole tree is used. </font><font style="vertical-align: inherit;">These commands copy not only the descendants, but also the nodes themselves. </font><font style="vertical-align: inherit;">The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COPY command</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> performs data merging. </font><font style="vertical-align: inherit;">The source data is copied to the receiver without cleaning it. </font><font style="vertical-align: inherit;">The source does not change. </font><b><font style="vertical-align: inherit;">MOVE</font></b><font style="vertical-align: inherit;"> Team</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">performs actually moving data. </font><font style="vertical-align: inherit;">Previously, the receiver is cleaned, then all the descendants of the source node are copied and the source node is deleted with all its descendants. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// node us [5,6] is copied to node [1] </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COPY [1] = us [5,6]; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// the whole us tree is moved to the node [8] </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MOVE [8] = us []; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These commands can also be used to copy arrays. </font><font style="vertical-align: inherit;">In this case, only shortened links may be used as the source and receiver. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The program arguments are copied to the arg array. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COPY arg $ = A $; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can use the MOVE command to move. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MOVE a1 $ = b1 $; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can copy and move any arrays.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resource Sync</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When performing several tasks, it becomes necessary to access shared resources. Synchronization is performed by lock commands. Synchronization commands by themselves do not block anything, this is a set of agreements that allow to differentiate access to shared resources. If the lock commands are not shared across jobs, no access synchronization will occur. Synchronization is built on lock names. These names are localized within the application and are the same in all tasks. In locks, the concept of many readers and only one writer at a time is accepted. Accordingly, there are read locks and write locks. </font><b><font style="vertical-align: inherit;">LockR</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Team</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blocks reading names. The names listed in her arguments will be blocked by reading. Any number of tasks can block the same names, but a task that tried to block any of these names will wait for all these names to be unlocked. After capturing the write name, no read lock command can be executed until the write lock releases the name. If it is not possible to lock, the command will wait for the name to be released. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LockR name1, name2, name3;</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
These names will be blocked by reading. Another task can also lock these names without waiting for them to be unlocked. </font><b><font style="vertical-align: inherit;">LockW</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
command</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blocks names by record. </font><font style="vertical-align: inherit;">The names listed in her arguments will be blocked by record. </font><font style="vertical-align: inherit;">If the names listed in the arguments are already blocked by any lock command, then this command will wait for the release of these names. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LockW name1, name2, name3; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These names will be locked by record. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LockUn</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><b><font style="vertical-align: inherit;">unlocks</font></b><font style="vertical-align: inherit;"> this name. </font><font style="vertical-align: inherit;">If the name is blocked by reading several times, then you need to unlock the same number of times. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LockUn name1, name2, name3; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The standard functions have analogues of these commands with a timeout.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Short form of the SET command</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">has an abbreviated form. </font><font style="vertical-align: inherit;">In this case, the left side of the equality is absent; its role is played by the last variable mentioned in the expression. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 1 = 2, $ 1 + 3; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The variable </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> will become equal to </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If there are several variables in the expression, the result will be assigned to the last variable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 1 = 1, $ 2 = 2, $ 3 = 3, $ 1 + $ 2 + $ 3; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> variable </font><font style="vertical-align: inherit;">will become 1 + 2 + 3 = 6. </font><font style="vertical-align: inherit;">Although this form is more appropriate to use only in very simple cases, similar to the first example. </font><font style="vertical-align: inherit;">The second example is provided only as an illustration of the capabilities of this form of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Block teams</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Block commands form a block of commands and simultaneously serve as the heading of the block. </font><font style="vertical-align: inherit;">Each block command must have its own </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">, even if there is only one command in the block.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">forms a block that is executed if the conditions for the execution of this command are true. This command has no arguments. This block may contain </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> commands </font><font style="vertical-align: inherit;">. The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">has no arguments. Outside the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> block, </font><font style="vertical-align: inherit;">these commands have no meaning and cannot be applied. If there are </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> commands </font><font style="vertical-align: inherit;">in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> block </font><font style="vertical-align: inherit;">when the condition of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">is met, only the commands behind the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command are executed </font><font style="vertical-align: inherit;">until the next </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. </font><b><font style="vertical-align: inherit;">ELSE</font></b><font style="vertical-align: inherit;"> Team</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">may contain an execution condition, then in case of truth in this condition only commands located after this command will be executed until the next </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command or </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">An </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> block </font><font style="vertical-align: inherit;">can contain only one </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">without a condition for its execution, and it must be the last among the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> commands </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF? [6] &lt;0; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET y [1] = 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE? [6] &lt;5; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET y [1] = 2; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE? [6] &lt;10; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET y [1] = 3; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELSE </font><font style="vertical-align: inherit;">SET y [1] = 4; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The condition for the execution of this command may be absent, then this block will be executed in any case. </font><font style="vertical-align: inherit;">Although it is difficult to imagine why this could be useful.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The semantics of this command are somewhat different from the semantics of the other MSH teams. The condition for executing a command in it is not such. In the condition of execution of the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command, the </font><font style="vertical-align: inherit;">expression should calculate the label to which control will be transferred. This command has no arguments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each label in this command forms a block from this label to the next. When control is transferred to the label, only commands are executed until the next label, and then the current </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> block is exited </font><font style="vertical-align: inherit;">. This command is closer to Pascal notation than to the C switch command. If as a result of calculating the name of the label a name is found that is missing in the current </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> block, the </font><font style="vertical-align: inherit;">commands located after the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">before the first label </font><font style="vertical-align: inherit;">will be executed </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE? L_ $ J; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// label is evaluated </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET x [1] = 1; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// if no label is found then the commands of this block are executed </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET a [2] = x [1] +1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L1: SET x [1] = 2; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// label command block L1 </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET a [2] = x [1] +2; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L2: SET x [1] = 3; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// label command block L2 </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET a [2] = x [1] +3; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Labels in this command implicitly form an internal block of commands. </font><font style="vertical-align: inherit;">After the execution of such a block of commands, control is transferred outside the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command block </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WHILE Command</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WHILE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command is </font><font style="vertical-align: inherit;">used to organize the loop. The condition for the execution of this command sets the condition for continuing the cycle. As long as the condition for executing the command is not 0, the block formed by this command will be executed. The block ends with the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command of </font><font style="vertical-align: inherit;">such a block has a feature. It may have a block termination condition. If the condition is not 0, then the block will be completed. Moreover, these conditions may be present both in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WHILE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">and in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WHILE? X [7]&gt; 0;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // condition for continuing the cycle </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET y [2] = x [7] +2; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BREAK? Y [2] &lt;0; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET x [7] = x [7] +1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END? X [7]&gt; 20;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // condition for ending the loop</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inside the block, the loop can be interrupted by the BREAK command.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Block loop iterators</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Block loop iterators are optimized for access to tree nodes. They use an internal link to optimize access to bypass nodes. This imposes a restriction on the use of block iterators. Inside the block you cannot change the structure of the tree. You cannot write to this tree. In block loop iterator commands, 2 arguments. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first argument is required, the link to the node whose descendants will be bypassed. Reference index. Shortened links may be used. The second argument is the link to the node where the descendant index will be stored. This argument is optional. Inside the block, the 2nd argument should not change. Expressions like </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$$ 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[[3]] are</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> not allowed if </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[3]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">change inside the iterator block. </font><font style="vertical-align: inherit;">Changes to these variables will not be taken into account. </font><font style="vertical-align: inherit;">Access to the child index can be obtained through the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% queryKey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> system variable </font><font style="vertical-align: inherit;">, and the node data from the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% queryData property</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">If the descendants must not be bypassed from the beginning, then the 2nd argument is required and the node index must be placed in it after which the bypass of the descendants begins. </font><font style="vertical-align: inherit;">If there is a second argument, but the traversal must be carried out from the beginning, then before the loop it is necessary to delete this variable with the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commands may have a block execution condition. </font><font style="vertical-align: inherit;">This condition is checked only once upon entering the block.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can go around not only the nodes of the tree, but arrays. </font><font style="vertical-align: inherit;">In this case, the serial number of the array field gets into the second argument. </font><font style="vertical-align: inherit;">Only the shortened link can be used as the first argument.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><b><font style="vertical-align: inherit;">iterates</font></b><font style="vertical-align: inherit;"> over the immediate descendants of a tree node. Descendants cost in the forward direction from the minimum to the maximum index. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT us [4,5];</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // 2 argument is not specified, the index is taken </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// from the system variable% queryKey </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 1 =% queryKey, $ 2 =% queryData; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END? $ 1&gt; 1000;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // condition for ending the loop </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The node index is immediately placed in the data </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT us [4,5], $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 2 =% queryData; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
An abbreviated link is used as a reference node. In this case, the first level of the tree is bypassed. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT us [], $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 2 =% queryData; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Crawl after index 3.</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 1 = 3; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT us [4,5], $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 2 =% queryData; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When traversing an array, all fields are even in order, even those in which data is not defined. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT us $, $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 2 =% queryData; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inside the block, the loop can be interrupted by the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BREAK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BACK team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BACK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">differs from the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">only in the traversal direction from the last vertex to the first. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BACK us [4,5], $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 2 =% queryData; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">END</font></font></b><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QUERY Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QUERY</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">traverses all descendants of a node from left to right and from top to bottom to full depth in the forward direction. </font><font style="vertical-align: inherit;">The 2nd argument contains the entire optional index. </font><font style="vertical-align: inherit;">If this index has more than 1 field, then the list is placed in the 2nd argument. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otherwise, this command is similar to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QUERY</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><b><font style="vertical-align: inherit;">traverses the</font></b><font style="vertical-align: inherit;"> array </font><font style="vertical-align: inherit;">only in the forward direction from left to right. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL $ 1; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QUERY us [4,5], $ 1; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 SET $ 2 =% queryData; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END </font></font><br>
</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But this command bypasses only the vertices that matter.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non Block Commands Data Tree Traversal Commands</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In these commands, both command arguments are required. </font><font style="vertical-align: inherit;">The second argument stores the index, after which the next command will find the next vertex. </font><font style="vertical-align: inherit;">In these commands internal links are not saved and therefore there is no restriction on adjusting the tree that is bypassed. </font><font style="vertical-align: inherit;">For the same reason, the access time to the peaks can be much longer. </font><font style="vertical-align: inherit;">Arrays can also be bypassed with these commands. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Command NEXT1</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
command </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gives the next node on the same level under the reference node. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node data is available in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% queryData</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> system variable </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 1 = 2; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NEXT1 us [1,4], $ 1; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// will give the node located at level 3 after the node us [1,4,2]</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BACK1 Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BACK1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">gives the previous vertex at the same level below the reference node. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otherwise, it is similar to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT1 command</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QUERY1 Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QUERY1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">gives the next vertex of a tree branch while traversing the entire node from top to bottom and from left to right. </font><font style="vertical-align: inherit;">The 2nd argument contains the entire optional index. </font><font style="vertical-align: inherit;">If this index has more than 1 field, then the list is placed in the 2nd argument. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otherwise, it is similar to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEXT1 command</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Program Management</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A module label can be a call point for a program, function, a call point for a new task, an object property, an object method, and a label, depending on the access to this label. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moreover, the label can be accessed differently in different parts of the module. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LB: Set Val [25] = 7 + A $ 1; Return Val [25]; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do LB (78);</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // Access to the program. The return value is ignored. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set Val [7] = 8 * LB (6);</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // Calling as a function the return value is used. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JOB LB (17, ‚Äúyt‚Äù);</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // call a new job </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set Val [9] = Mod.LB (3);</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // Access to the class method Mod- the name of the module in this context is treated as the name of the class of the object. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set Val [15] = Obj [1,2, A] .LB;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // Access to the LB property of the object Obj [1,2, A],</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go LB;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // Go to the LB label </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the above examples, in addition to 4 and 5, the call is performed inside the current module. The call of programs and functions can be carried out to any available module. By the way, this also applies to the Go team. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, in the Mod module there is a label Lb. Then the appeal to it will look like: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do Mod.Lb (78); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Set Val [7] = 8 * Mod.Lb (6); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Set Val [9] = Mod.Lb (3); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JOB Mod.Lb (78); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go Mod.Lb;</font></font><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, a label is used as a program or function. </font><font style="vertical-align: inherit;">If the module is used as an object class, the label is a property or method of this object. </font><font style="vertical-align: inherit;">The properties of an object and its methods are another form of access to programs and functions, so everything said about programs and functions applies equally to properties and methods. </font><font style="vertical-align: inherit;">There are no significant nuances when accessing objects only in terms of inheritance. </font><font style="vertical-align: inherit;">This issue will be described in more detail below. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the general case, the name of the module and the name of the label in the call to it are expressions and can be calculated at the time of call. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set $ ‚Äã‚Äã1 = ‚ÄúMd‚Äú, $ 2 = ‚ÄúLb‚Äú; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do $ 1. $ 2; </font></font><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The program terminates with the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Return</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><b><font style="vertical-align: inherit;">; </font></b><font style="vertical-align: inherit;">A module can be completed with the </font><b><font style="vertical-align: inherit;">End</font></b><font style="vertical-align: inherit;"> command </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passing parameters</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In MSH, parameters are passed only by value. In general, no references and pointers in terms of the C ++ language and the enormous problems associated with their use here, in principle, do not exist. A program always takes an arbitrary number of parameters in an </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> array </font><font style="vertical-align: inherit;">. Their number can be found by referring to the 0 element of the array </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A $ 0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The programmer is responsible for the meaning of these parameters. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have a Lb program. It can be addressed: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DO Lb (1,2,7); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DO Lb (25.7); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DO Lb (); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JOB Lb (8); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SET [7.8] = Lb (187, ‚ÄúPrivet‚Äù);</font></font><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Not passed parameters in the program are not defined.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passing parameters by value does not interfere with passing variable names into the program and using them there. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set us [5] = 48; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do Lb ("us"); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Return; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lb: Set par [8,1,9] = A $ 1 [5];</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // A $ 1 - the first parameter passed contains the </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
variable </font><font style="vertical-align: inherit;">name </font><font style="vertical-align: inherit;">//: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">us</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[5]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the top of this tree </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// as a result, the node value us [5] = 48 </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Return;</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As a result, the variable name can be manipulated arbitrarily.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When going to the label with the GO command, the parameter array does not change. </font><font style="vertical-align: inherit;">MSH has a GO command form with the transfer of new parameters. </font><font style="vertical-align: inherit;">In this case, the current parameter array is replaced with the new one specified in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command call </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GO Lb (1,2,7);</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Event handling</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Event processing is a powerful programming mechanism that is usually not included in high-level languages. But its presence in libraries and the operating system speaks of its importance. Libraries of visual components are built on this mechanism. The presence of event processing in the language expands the capabilities of the language. Opens a new event-driven programming style. By the way, such a respected programming language as Assembler has such features. Therefore, this mechanism has been added to the MSH language. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The basis of this mechanism is the event. It is localized inside the application. Accordingly, these names must be unique throughout the application. If the event name matches the name declared in the </font><b><font style="vertical-align: inherit;">CONSTANT</font></b><font style="vertical-align: inherit;"> command</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, then the event name will be replaced by the value of the declared constant. Be careful. When naming events, it is advisable to adhere to some kind of naming strategy. For example, assign event names starting with </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">evu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The length of the name, taking into account the UTF8 encoding, should not exceed 18 bytes. This limitation is associated only with the current language implementation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An event created in one task is visible and can be processed in any tasks. Event handlers can be any number and they can be in different tasks.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After the event occurs, it is checked whether there are handlers for this event; if there are no handlers, the event is deleted. </font><font style="vertical-align: inherit;">If there are handlers, then they are executed sequentially. </font><font style="vertical-align: inherit;">Events can be system and user. </font><font style="vertical-align: inherit;">System events are generated by the system. </font><font style="vertical-align: inherit;">A custom event is generated by the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTTRAP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">The event passes parameters to the handlers, as when invoking a program. </font><font style="vertical-align: inherit;">After processing, event handlers are not deleted. </font><font style="vertical-align: inherit;">To delete an event, use the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTDELETE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">An event can be handled by the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTCALL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTWAIT commands</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTTRAP Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The command creates a custom event. </font><font style="vertical-align: inherit;">The command format resembles a program call, only the event name is used instead of the program name. </font><font style="vertical-align: inherit;">Event names are local within the application, so they are visible in all tasks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The team will create an event with the specified name. </font><font style="vertical-align: inherit;">Event handlers will be passed the parameters listed in the command arguments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTTRAP? X [1]&gt; 8 evuBoxData (us [7], $ 4), evuKorXY (us [X], us [Y], sh); </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 events </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">evuBoxData</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">evuKorXY are generated</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as variables </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">us [7], $ 4, us [X], us [Y]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and the string constant </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sh</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If there are currently no handlers for this event, then the event is not generated.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTDELETE Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The command removes the event handlers listed in the program arguments. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTDELETE? X [1]&gt; 7 evuKorXY, evuBoxData; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Events will be deleted in the order in the team.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTCALL Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The command assigns an event handler. </font><font style="vertical-align: inherit;">A handler is a program. </font><font style="vertical-align: inherit;">This program will be called asynchronously from the running task and parameters will be passed to it. </font><font style="vertical-align: inherit;">After execution of the handler program, control will be returned to the main task at the interruption site. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTCALL evuBoxData = Mod1.intEvuBoxData, evuKorXY = Mod2.intevuKorXY;</font></font></b><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTWAIT Team</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The team is waiting for events to occur. </font><font style="vertical-align: inherit;">This command will block the current task until the events listed in its arguments occur. </font><font style="vertical-align: inherit;">All events listed in its arguments should occur to continue execution of the current thread. </font><font style="vertical-align: inherit;">The current program parameters are replaced by those transferred in the event creation command. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EVENTWAIT evuBoxData, evuKorXY; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These commands allow you to organize asynchronous execution of programs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vectors</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vectors are closely related to the current implementation. </font><font style="vertical-align: inherit;">They store signed and unsigned integers. </font><font style="vertical-align: inherit;">The dimension of these vectors depends on the bit depth of the vector component and it is fixed.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64 bit vectors</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The dimension of such a vector is 2. Components can be 64-bit integers or unsigned integers. </font><font style="vertical-align: inherit;">Such numbers are stored in any variables. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The appeal to the iconic integer components of the vector. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [5].% V64 (0) = ss $ 1.% v64 (1); </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% v64</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the integer signed component of the vector. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An appeal to unsigned integer components of a vector. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [5].% Vu64 (0) = ss $ 1.% vu64 (1); </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% vu64</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the whole unsigned component of the vector.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32 bit vectors</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The dimension of such a vector is 5. The components can be 32-bit integers or unsigned integers. </font><font style="vertical-align: inherit;">Such numbers are stored in any variables. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The appeal to the iconic integer components of the vector. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [5].% V32 (0) = ss $ 1.% v32 (4); </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% v32</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the integer signed component of the vector. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An appeal to unsigned integer components of a vector. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [5].% Vu32 (0) = ss $ 1.% vu32 (4); </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% vu32</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the whole unsigned component of the vector.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 bit vectors</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The dimension of such a vector is 11. The components can be integer or unsigned 16-bit numbers. </font><font style="vertical-align: inherit;">Such numbers are stored in any variables. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The appeal to the iconic integer components of the vector. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [5].% V16 (0) = ss $ 1.% v16 (10); </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% v16</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the integer signed component of the vector. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An appeal to unsigned integer components of a vector. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [5].% Vu16 (0) = ss $ 1.% vu16 (4); </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% vu16</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the unsigned integer component of the vector.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 bit vectors</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The dimension of such a vector is 22. The components can be integer or unsigned 8-bit numbers. </font><font style="vertical-align: inherit;">Such numbers are stored in any variables. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The appeal to the iconic integer components of the vector. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [5].% V8 (0) = ss $ 1.% v8 (21); </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% v8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the integer signed component of the vector. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An appeal to unsigned integer components of a vector. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [5].% Vu8 (0) = ss $ 1.% vu8 (21); </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% vu8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - access to the whole unsigned component of the vector.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operations</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Operations in MSH play a special role. It is they who control the conversion of data types. Depending on the operation, the operands are cast to the desired data type. The type of data result uniquely corresponds to the type of operation. String and numeric operations do not overlap, like the + operation in C-like languages. The type of operation in MSH does not depend on the type of operands, everything is exactly the opposite. There are no operations priorities in MSH; it is a historical legacy of MUMPS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 1 = 2 + 3 * 4; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> will be 20, not 14. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In order for the result to be 14, parentheses are used. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET $ 1 = 2 + (3 * 4);</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As the operation of joining strings, the symbol " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " is used.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The lack of priority of operations is unusual, but quite convenient. </font><font style="vertical-align: inherit;">The reference to the naturalness of priorities, when operations are more than add up multiply becomes very doubtful. </font><font style="vertical-align: inherit;">Having once learned that there are no priorities, there is no need to painfully recall their priorities, and if something goes into the documentation. </font><font style="vertical-align: inherit;">In general, this is a matter of habit.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The objects</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The presence of objects in modern programming languages ‚Äã‚Äãis a good form. In the general case, objects consist of 2 parts. Parts of the declarative description and parts of the implementation. In MUMPS systems, variables do not have the declarative part of a type declaration. Classes are basically user data types. In order not to violate the principles of MUMPS, MSH lacks the declarative part of the class description. And as it turned out, you can do without it perfectly. Only part of the implementation is left of the class. The implementation of the class can be perfectly represented by the standard module. Only for the class had to introduce additional conventions associated with the description of the properties of the object. Objects can only be in the tree. Placing an object in an array will fail because there is nowhere to store the properties of the object. Although if the object does not have properties, then you can try.Although what kind of object it is.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To describe a public property, you need a function that returns the value of this property. It must have a property name and be in the module with the class name. A program to write to a property. This program has a property name prefixed with ".". And a property removal program. This program has a property name prefixed with "..". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The function name in the module may correspond to the public property for reading. In this case, the return value of such a function is passed to the calling program as the value of the public property.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The constructor of the class is the% objNew data method. If, when creating an object, it is necessary to determine any properties or obtain resources, then any class module program (class method) can be used. But it is advisable to adhere to any strategy for naming class constructors. For example, the name of the constructor must match the name of the class. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Access to the protected properties of the class is carried out through the system property </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% this</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The destructor is the removal of the object using the KILLD command. If you need to free any resources or perform additional manipulations, then this can be done by any program of this class (class method). As in the case of the constructor, it is advisable to adhere to some naming strategy when naming the destructor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// Class Person </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// Property Age </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// read the public property Age </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age: RETURN [% this, Age]; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// record of the public property Age </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.Age: SET [% this, Age] = A $ 1; </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Return </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END </font></font><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An appeal from programs to an object and its public properties will look as follows. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// create an object Person </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [1,2].% objNew = Person; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// write the value 50 to the Age property </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET us [1,2] .Age = 50; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// read the Age </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> property </font><b><font style="vertical-align: inherit;">u $ 1 = us [1,2] .Age + 5; </font></b></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// delete property Age </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KILL us [1,2] .Age;</font></font></b><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Object Inheritance</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MSH classes support multiple inheritance. The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PARENT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">sets all the ancestors of this class. Moreover, the order of the names of the ancestors of this class in the command arguments determines the priority of inheritance. The later the class is mentioned, the lower its priority. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PARENT USER, BOX;</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The class inherits from the ancestors of </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BOX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ancestor priority is </font><font style="vertical-align: inherit;">higher. What is the priority. When accessing an object, the public property or method of the class will be searched in the class itself, if they are not found there, then they will be searched in the ancestor with the highest priority, and then in the ancestors of this class and so on by priority. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">File sharing</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In MSH, file sharing is organized at the most primitive level. Files in MSH play a supporting role. The exchange is organized only with text files. The file structure is text fields separated by a specified separator. The delimiter is in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">% dlmIO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> system variable </font><font style="vertical-align: inherit;">. By default, this variable is " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". It is available for reading and writing. When writing to a file, the variables are converted to a string type and written to the file through the delimiter. When reading from a file, variables are selected through a separator and are brought to a normalized form. If the field is a record of a number, then a number is placed in the variable. Exchange with the file occurs through the array </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . When writing, the array is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">written to the file through the delimiter. </font><font style="vertical-align: inherit;">When reading from a file, the fields are selected into the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> array </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
File exchange commands take the file path as arguments. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
From an array of </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data is written to a file. </font><font style="vertical-align: inherit;">The file is opened by writing. </font><font style="vertical-align: inherit;">The data in the file is replaced. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write "txt / tt1.txt"; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data is read into the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> array </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">The array is pre-cleared. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Read "txt / tt1.txt"; </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
txt / tt1.txt - path to the file.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This document is not a substitute for the MSH language description, but only supplements it. </font><font style="vertical-align: inherit;">Here, not all the features of the MSH language are considered, but only those to which I would like to draw your attention. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Author: Sharymov Mikhail Alekseevich. </font><font style="vertical-align: inherit;">Email: misha_shar53@mail.ru </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When using this material, a link to the source and the author is required.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499762/index.html">Upgrade your skills in DevSecOps: 5 webinars with theory and practice</a></li>
<li><a href="../en499764/index.html">XYZPrinting 3D Hand Scanner 2.0 3D Scanner Review</a></li>
<li><a href="../en499770/index.html">Learn while self-isolation</a></li>
<li><a href="../en499772/index.html">It will be very, very much: how 5G technology will change the advertising market</a></li>
<li><a href="../en499774/index.html">Not a day without sports - 2: reprogramming a Chinese bracelet</a></li>
<li><a href="../en499784/index.html">What touch virtual walls?</a></li>
<li><a href="../en499786/index.html">Weak heap sorting</a></li>
<li><a href="../en499788/index.html">Free online course "Technical documentation in IT projects"</a></li>
<li><a href="../en499792/index.html">Load Testing Atlassian Jira, Confluence, Bitbucket Part 1</a></li>
<li><a href="../en499794/index.html">PostgreSQL and JDBC squeeze all the juices. Vladimir Sitnikov</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>