<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õ≤Ô∏è üí™üèæ ü§¥üèΩ Como o JIT destaca nosso c√≥digo C # (heur√≠stica) üë®üèΩ‚Äçü§ù‚Äçüë®üèº üôèüèº üè¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O embutimento √© uma das otimiza√ß√µes mais importantes nos compiladores. Ele n√£o apenas remove a sobrecarga da chamada, mas tamb√©m abre muitas possibili...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como o JIT destaca nosso c√≥digo C # (heur√≠stica)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496208/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O embutimento √© uma das otimiza√ß√µes mais importantes nos compiladores. Ele n√£o apenas remove a sobrecarga da chamada, mas tamb√©m abre muitas possibilidades para outras otimiza√ß√µes, por exemplo, dobragem constante, elimina√ß√£o de c√≥digo morto, etc. Al√©m disso, √†s vezes inlining leva a uma diminui√ß√£o no tamanho da fun√ß√£o de chamada! Perguntei a v√°rias pessoas se elas sabiam por quais regras as fun√ß√µes em C # est√£o embutidas, e a maioria respondeu que o JIT analisa o tamanho do c√≥digo IL e destaca apenas pequenas fun√ß√µes com um tamanho de, digamos, at√© 32 bytes. Portanto, decidi escrever este post para divulgar detalhes da implementa√ß√£o com a ajuda de um exemplo, que mostrar√° v√°rias heur√≠sticas em a√ß√£o ao mesmo tempo:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mv/iv/du/mvivdukz21t0nffkwemqibomtsq.png"><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ acha que a chamada para o construtor </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Volume</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ser√° inclu√≠da </font><font style="vertical-align: inherit;">aqui? Obviamente n√£o. √â muito grande, especialmente devido ao peso pesado de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">novos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> operadores, o que leva a um codegen bastante ousado. Vamos verificar Disasmo: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8r/2o/v0/8r2ov0qz705abeh6pp-6zuyeo2g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inline! Al√©m disso, todas as exce√ß√µes e suas ramifica√ß√µes foram exclu√≠das com sucesso! Voc√™ pode dizer algo no estilo de "Ah, ok, o jit √© muito inteligente e fez uma an√°lise completa de todos os candidatos a inline, olhou o que aconteceria se voc√™ passasse argumentos espec√≠ficos" ou "O jit tenta incorporar tudo o que √© poss√≠vel, executa todas as otimiza√ß√µes e decide lucrativamente it or not ‚Äù(selecione combinat√≥ria e calcule a complexidade desta opera√ß√£o, por exemplo, para um gr√°fico de chamada de dez ou dois m√©todos).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem ... n√£o, isso n√£o √© realista, especialmente em termos de tempo. Portanto, a maioria dos compiladores usa as chamadas observa√ß√µes e heur√≠sticas para resolver esse problema cl√°ssico da </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mochila</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e tentar determinar seu pr√≥prio or√ßamento e ajust√°-lo da maneira mais eficiente poss√≠vel (e n√£o, o PGO n√£o √© uma panac√©ia). RyuJIT tem observa√ß√µes positivas e negativas. Aumento positivo do coeficiente de benef√≠cio (multiplicador de benef√≠cios). Quanto maior o coeficiente, mais c√≥digo podemos inserir. Observa√ß√µes negativas, pelo contr√°rio - abaixe-a ou at√© impe√ßa a inclus√£o. Vamos ver quais observa√ß√µes o RyuJIT fez para o nosso exemplo: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/zy/3f/ejzy3fi8jlcuaumh3pdc6szdfm8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas observa√ß√µes podem ser vistas nos logs do COMPlus_JitDump (por exemplo, no Disasmo): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9o/0q/a3/9o0qa370-1vcsnvx7rxvqqisswm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas essas observa√ß√µes simples aumentaram o coeficiente de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.5</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e ajudou a superar com √™xito o or√ßamento do inlineer, por exemplo, o fato de passarmos um argumento constante e ser comparado com outra constante nos diz que, com um alto grau de probabilidade ap√≥s o colapso das constantes, um dos ramos da condi√ß√£o ser√° exclu√≠do e o c√≥digo ficar√° menor. </font><font style="vertical-align: inherit;">Ou, por exemplo, o fato de ser um construtor e ser chamado dentro do loop tamb√©m √© uma dica para a justificativa de que deve suavizar os requisitos de embutimento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m do multiplicador de benef√≠cios, o RyuJIT tamb√©m usa observa√ß√µes para prever o tamanho do c√≥digo da fun√ß√£o nativa e seu impacto no desempenho usando constantes m√°gicas em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EstimateCodeSize ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EstimatePerformanceImpact ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> obtidas usando ML. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, voc√™ percebeu esse truque?</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">if</span> ((<span class="hljs-keyword">value</span> - <span class="hljs-string">'A'</span>) &gt; (<span class="hljs-string">'Z'</span> - <span class="hljs-string">'A'</span>))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta √© uma vers√£o otimizada para:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> &lt; <span class="hljs-string">'A'</span> || <span class="hljs-keyword">value</span> &gt; <span class="hljs-string">'Z'</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ambas as express√µes s√£o uma e a mesma, mas no primeiro caso, temos uma unidade base e no segundo h√° tr√™s delas. </font><font style="vertical-align: inherit;">Acontece que o inliner tem um limite estrito no n√∫mero de blocos base na fun√ß√£o e, se exceder 5, n√£o importa o tamanho do nosso multiplicador de benef√≠cios - o inlining √© cancelado. </font><font style="vertical-align: inherit;">Ent√£o eu apliquei esse truque para se encaixar nesse requisito estrito. </font><font style="vertical-align: inherit;">Seria √≥timo se Roslyn fizesse isso por mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Problema em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Roslyn</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/dotnet/runtime/issues/13347</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
do PR no </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RyuJIT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (minha tentativa inc√¥moda): </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/dotnet/coreclr/pull/27480 </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L√°</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , descrevi um exemplo de por que faz sentido fazer n√£o apenas no Jit, mas e no compilador C #.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©todos inline e virtuais</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo est√° claro aqui, voc√™ n√£o pode alinhar sobre o que n√£o h√° informa√ß√µes na fase de compila√ß√£o, embora se o tipo ou m√©todo estiver selado, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por que n√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incluindo e lan√ßando exce√ß√µes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se um m√©todo nunca retorna um valor (por exemplo, simplesmente retorna </font></font><code>throw new</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...), esses m√©todos s√£o automaticamente marcados como auxiliares de lan√ßamento e n√£o se alinham. </font><font style="vertical-align: inherit;">√â uma maneira de varrer o complexo codegen de </font></font><code>throw new</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debaixo do tapete e apaziguar o inliner.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atributo Inlining e [AggressiveInlining]</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse caso, voc√™ </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recomenda que o</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alinhador inline o m√©todo, mas voc√™ deve ser extremamente cuidadoso por dois motivos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Talvez voc√™ otimize um caso e piore todos os outros (por exemplo, aprimore o caso de argumentos constantes) pelo tamanho do codegen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O inlining geralmente gera um grande n√∫mero de vari√°veis ‚Äã‚Äãtempor√°rias que podem exceder um certo limite - o n√∫mero de vari√°veis ‚Äã‚Äãcujo ciclo de vida o RyuJIT pode rastrear (512) e depois disso o c√≥digo come√ßar√° a crescer em terr√≠veis derramamentos na pilha e a abrandar bastante. </font><font style="vertical-align: inherit;">Dois bons exemplos: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tyts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tyts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©todos inline e din√¢micos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atualmente, esses m√©todos n√£o se </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">alinham</font></a><font style="vertical-align: inherit;"> e n√£o se </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">alinham</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/dotnet/runtime/issues/34500</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minha tentativa de escrever minha heur√≠stica</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recentemente, tentei escrever suas pr√≥prias heur√≠sticas para ajudar aqui nessa ocasi√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tw/pl/cu/twplcuelj-n790gvbxftqhl_cvw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">post anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mencionei que recentemente otimizei para o RyuJIT o c√°lculo do comprimento das seq√º√™ncias constantes ( </font></font><code>"Hello".Length -&gt; 5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vemos que, se zainlaynit), e assim, no exemplo acima ^ </font></font><code>Validate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font><code>Test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, obtemos </font></font><code>if ("hello".Length &gt; 10)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o que √© otimizado no </font></font><code>if (5 &gt; 10)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que √© otimizado na remo√ß√£o de toda a condi√ß√£o / filial. No entanto, o inliner recusou-se a incorporar </font></font><code>Validate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pn/za/6g/pnza6gdpjfmkgarek834nctlfci.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E o principal problema aqui √© que ainda n√£o existe heur√≠stica que indique ao jit que estamos passando uma string constante </font></font><code>System.String::get_Length</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o que significa que a chamada callvirt-call provavelmente entrar√° em colapso em uma constante e todo o ramo ser√° exclu√≠do. Na verdade, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minha heur√≠stica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e adiciona essa observa√ß√£o (o √∫nico ponto negativo √© que voc√™ precisa resolver todas as chamadas de chamada, o que n√£o √© muito r√°pido). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem outras restri√ß√µes, cuja lista pode ser encontrada em geral </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> voc√™ pode ler os pensamentos de um dos principais desenvolvedores do JIT sobre o design do inliner e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seu artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre o uso do Machine Learning para este caso.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt496190/index.html">Sobre Phrasal Verbs-2</a></li>
<li><a href="../pt496192/index.html">Fun√ß√µes de chamada Rust da Go</a></li>
<li><a href="../pt496194/index.html">Na binariza√ß√£o de imagens tomogr√°ficas de estrutura fina</a></li>
<li><a href="../pt496204/index.html">Atualiza√ß√£o do processo de CI / CD: prepara√ß√£o e planejamento</a></li>
<li><a href="../pt496206/index.html">Um bilh√£o de opera√ß√µes no banco de dados em 0,3 segundos. N√£o compare o OLTP com o OLAP, mas o QuestDB com o PostgreSQL</a></li>
<li><a href="../pt496210/index.html">A biodiversidade pode ter evolu√≠do do princ√≠pio de jogar pedra-papel-tesoura</a></li>
<li><a href="../pt496212/index.html"># 04 - E um byte inteiro n√£o √© suficiente ... | Tome BK pelos chifres</a></li>
<li><a href="../pt496214/index.html">AdColony: 89% dos editores de aplicativos e jogos para celular usam v√≠deos promocionais</a></li>
<li><a href="../pt496216/index.html">Loja escura: voc√™ j√° est√° pensando nisso?</a></li>
<li><a href="../pt496220/index.html">Forne√ßa udalenku e n√£o estrague. Dicas do diretor de TI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>