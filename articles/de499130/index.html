<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍭 🙆🏽 🧚🏾 BlockAdBlock Werbung Anti-Blocking Reverse Engineering 🤙🏿 🔢 🙃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn Sie Werbeblocker verwenden, kann BlockAdBlock auftreten . Dieses Skript erkennt Ihren Blocker und lässt ihn erst dann auf der Site zu, wenn Sie i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>BlockAdBlock Werbung Anti-Blocking Reverse Engineering</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499130/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie Werbeblocker verwenden, kann </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlockAdBlock auftreten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dieses Skript erkennt Ihren Blocker und lässt ihn erst dann auf der Site zu, wenn Sie ihn deaktivieren. </font><font style="vertical-align: inherit;">Aber ich habe mich gefragt, wie es funktioniert. </font><font style="vertical-align: inherit;">Wie erkennt Anti-Blocker Blocker? </font><font style="vertical-align: inherit;">Und wie reagieren Blocker darauf und wie blockieren sie Anti-Blocker?</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geschichte des Reverse Engineering</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das erste, was ich tat, war einen Blick auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ihre Website</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">BlockAdBlock bietet einen Konfigurator mit Einstellungen: dem Warteintervall und dem Aussehen der Warnung, wodurch verschiedene </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versionen des</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Skripts </font><font style="vertical-align: inherit;">generiert werden </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ließ mich an Versionen denken. </font><font style="vertical-align: inherit;">Was ist, </font><font style="vertical-align: inherit;">wenn er nicht eine Version sehen kann, und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alles</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf einmal? </font><font style="vertical-align: inherit;">So tat ich. </font><font style="vertical-align: inherit;">Ich bin mit der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wayback-Maschine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in die </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Vergangenheit gereist</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Danach habe ich alle Versionen von BlockAdBlock heruntergeladen und gehasht.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste aller Versionen von BlockAdBlock mit sha1sum</font></font></h4><br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6d5eafab2ca816ccd049ad8f796358c0a7a43cf3 20151007203811.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
065b4aa813b219abbce76ad20a3216b3481b11bb 20151113115955.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d5dec97a775b2e563f3e4359e4f8f1c3645ba0e5 20160121132336.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8add06cbb79bc25114bd7a2083067ceea9fbb354 20160318193101.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8add06cbb79bc25114bd7a2083067ceea9fbb354 20160319042810.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8add06cbb79bc25114bd7a2083067ceea9fbb354 20160331051645.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8add06cbb79bc25114bd7a2083067ceea9fbb354 20160406061855.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8add06cbb79bc25114bd7a2083067ceea9fbb354 20160408025028.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
555637904dc9e4bfc6f08bdcae92f0ba0f443ebf 20160415083215.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20161120215354.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20170525201720.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20170606090847.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20170703211338.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20170707211652.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20170813090718.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20170915094808.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20171005180631.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20171019162109.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20171109101135.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20171127113945.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20171211042454.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20171227031408.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20180202000800.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20180412213253.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20180419060636.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20180530223228.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20180815042610.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20181029233809.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20181122190948.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20181122205748.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20190324081812.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20190420155244.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20190424200651.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20190903121933.js</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d8986247cad3bbc2dd92c3a2a06ac1540da6b286 20200112084838.js</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sechs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Versionen unterscheiden sich voneinander, und die letzte bezieht sich auf 2016, obwohl einige Websites immer noch BlockAdBlock verwenden. </font><font style="vertical-align: inherit;">Das ist großartig, denn es wird für uns ausreichen, die einzige Version zurückzuentwickeln und dann die Unterschiede umzukehren. </font><font style="vertical-align: inherit;">Spoiler: Wir werden die Entwicklung von Ideen und sogar die Überreste von Debugging-Code sehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe alle Versionen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf GitHub gepostet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wenn Sie sich Unterschiede ansehen möchten, ist in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem Repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jedes Commit eine neue Version.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auspacken</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Skriptcode wird nicht minimiert, sondern von einem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JS-Packer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von Dean Edwards mit kosmetischen Änderungen und ohne Änderung der Logik </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup><font style="vertical-align: inherit;">1</font></sup></a><font style="vertical-align: inherit;"> gepackt</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup><font style="vertical-align: inherit;"></font></sup></a><a name="1_1"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">eval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p, a, c, k, e, d</span>) </span>{<font></font>
    e = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
        <span class="hljs-keyword">return</span> (c &lt; a ? <span class="hljs-string">''</span> : e(<span class="hljs-built_in">parseInt</span>(c / a))) + ((c = c % a) &gt; <span class="hljs-number">35</span> ? <span class="hljs-built_in">String</span>.fromCharCode(c + <span class="hljs-number">29</span>) : c.toString(<span class="hljs-number">36</span>))<font></font>
    };<font></font>
    <span class="hljs-keyword">if</span> (!<span class="hljs-string">''</span>.replace(<span class="hljs-regexp">/^/</span>, <span class="hljs-built_in">String</span>)) {
        <span class="hljs-keyword">while</span> (c--) {<font></font>
            d[e(c)] = k[c] || e(c)<font></font>
        }<font></font>
        k = [<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">return</span> d[e]<font></font>
        }];<font></font>
        e = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\w+'</span><font></font>
        };<font></font>
        c = <span class="hljs-number">1</span><font></font>
    };<font></font>
    <span class="hljs-keyword">while</span> (c--) {
        <span class="hljs-keyword">if</span> (k[c]) {<font></font>
            p = p.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'\\b'</span> + e(c) + <span class="hljs-string">'\\b'</span>, <span class="hljs-string">'g'</span>), k[c])<font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> p<font></font>
}(<span class="hljs-string">'0.1("2 3 4 5 6 7 8\'d. 9, h? a b c d e f g");i j=\'a\'+\'k\'+\'e\'+\'l\'+\'n\'+\'m\'+\'e\';'</span>,<span class="hljs-number">24</span>,<span class="hljs-number">24</span>,
<span class="hljs-string">'console|log|This|code|will|get|unpacked|then|eval|Cool||||||||huh|let|you|w|s||o'</span>.split(<span class="hljs-string">'|'</span>),<span class="hljs-number">0</span>,{}))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Glück ist dies für uns kein Problem. </font><font style="vertical-align: inherit;">Die Schwäche des Packers besteht darin, dass der gesamte Code beim Entpacken an übergeben wird </font></font><code>eval()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wenn wir durch so </font></font><code>eval()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etwas </font><font style="vertical-align: inherit;">ersetzen </font></font><code>console.log()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, erhalten wir plötzlich den gesamten Quellcode und der Packer ist besiegt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup></a><a name="2_2"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir dies für jede Version getan haben, können wir jede von ihnen untersuchen und sehen, welche Funktionen dort im Laufe der Zeit hinzugefügt wurden.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1:? </font><font style="vertical-align: inherit;">- November 2015: Erstes Drehbuch</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcode</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Beginnen wir mit einer Studie, </font></font><code>20151007203811.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die um den November 2015 veröffentlicht wurde </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sup></a><a name="3_3"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Obwohl diese erste Version Blocker nicht sehr gut blockiert, können Sie die BlockAdBlock-Architektur ohne den Müll bewerten, der sich im Laufe der Jahre angesammelt hat.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Architektur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In drei Sätzen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlockAdBlock ist ein Abschluss, der ein Objekt mit drei Funktionen zurückgibt:</font></font><br>
<ul>
<li><code>bab()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> setzt den Köder und ruft einen Scheck </font></font><code>check</code> <br>
</li>
<li><code>check()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prüft, ob der Blocker den Köder blockiert hat, was dazu führt </font></font><code>arm</code><br>
</li>
<li><code>arm()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Overlay</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Einstiegspunkt </font></font><code>bab()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beginnt dann nach einer bestimmten Zeit.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drei Funktionen werden mit Argumenten generiert, die im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlockAdBlock-Konfigurator festgelegt sind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Code basiert auf einem Abschluss, der einem globalen Objekt mit einem zufälligen Namen zugewiesen ist.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> randomID = <span class="hljs-string">''</span>,<font></font>
    e = <span class="hljs-string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) randomID += <font></font>
    e.charAt(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * e.length));
<span class="hljs-keyword">var</span> setTimeoutDelay = <span class="hljs-number">7</span>; <span class="hljs-comment">// Delay after which to call BlockAdBlock</span>
<span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>] = ...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Autor sah eine gründliche Randomisierung vor, um statische Blockierungen zu umgehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gibt dann ein Objekt mit drei Funktionen zurück : </font></font><code>bab</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>check</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>arm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>] = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> eid = ...<font></font>
    return {<font></font>
        <span class="hljs-attr">bab</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">check, passed_eid</span>) </span>{},
        <span class="hljs-attr">check</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkPredicate, unused</span>) </span>{},
        <span class="hljs-attr">arm</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}<font></font>
    }<font></font>
})();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das sind meine eigenen Namen. </font><font style="vertical-align: inherit;">Alle Variablen werden minimiert und einige sind speziell verschleiert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Einstiegspunkt wird </font></font><code>bab()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durchgerufen </font></font><code>setTimeout()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs">setTimeout(<span class="hljs-string">'window[\'\' + randomID + \'\'] \
.bab(window[\'\' + randomID + \'\'].check, \
     window[\'\' + randomID + \'\'].bab_elementid)'</span>, setTimeoutDelay * <span class="hljs-number">1000</span>)</code></pre><br>
<code>bab_elementid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird in keiner Version des Codes verwendet. </font></font><code>setTimeout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">als Zeichenfolge übergeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Abschluss hat externe Variablen. </font><font style="vertical-align: inherit;">Zwei davon werden verwendet, um den Status in einem Skript zu speichern:</font></font><br>
<br>
<ul>
<li><code>adblockDetected</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gleich 1, wenn ein Werbeblocker erkannt wird.</font></font><br>
</li>
<li><code>nagMode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Dies ist eine Konfigurationsoption. </font><font style="vertical-align: inherit;">Wenn es installiert ist, blockiert das Skript den Zugriff auf die Seite nicht, sondern schaltet Sie nur einmal ein.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Variablen zur Steuerung von Erscheinungsbild und Verhalten werden im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurator festgelegt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> eid = <span class="hljs-string">' ad_box'</span>, <span class="hljs-comment">// Name of the bait.</span>
    __u1 = <span class="hljs-number">1</span>, <span class="hljs-comment">// Unused.</span><font></font>
<font></font>
    <span class="hljs-comment">// Colors for the blockadblock prompt.</span>
    overlayColor = <span class="hljs-string">'#EEEEEE'</span>,<font></font>
    textColor = <span class="hljs-string">'#777777'</span>,<font></font>
    buttonBackgroundColor = <span class="hljs-string">'#adb8ff'</span>,<font></font>
    buttonColor = <span class="hljs-string">'#FFFFFF'</span>,<font></font>
<font></font>
    __u2 = <span class="hljs-string">''</span>, <span class="hljs-comment">// Unused.</span><font></font>
<font></font>
    <span class="hljs-comment">// Text to display when the blockadblock prompt is shown.</span>
    welcomeText = <span class="hljs-string">'Sorry for the interruption...'</span>,<font></font>
    primaryText = <span class="hljs-string">'It looks like you\'re using an ad blocker. That\'s okay.  Who doesn\'t?'</span>,<font></font>
    subtextText = <span class="hljs-string">'But without advertising-income, we can\'t keep making this site awesome.'</span>,<font></font>
    buttonText = <span class="hljs-string">'I understand, I have disabled my ad blocker.  Let me in!'</span>,<font></font>
<font></font>
    <span class="hljs-comment">// If 1, adblock was detected.</span>
    adblockDetected = <span class="hljs-number">0</span>,
    <span class="hljs-comment">// If 1, BlockAdBlock will only nag the visitor once, rather than block access.</span>
    nagMode = <span class="hljs-number">0</span>,<font></font>
<font></font>
    <span class="hljs-comment">// The blockadblock domain, reversed.</span>
    bab_domain = <span class="hljs-string">'moc.kcolbdakcolb'</span>;</code></pre><br>
<code>bab_domain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Legen Sie hier fest, um die BlockAdBlock-Domäne zu verschleiern.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bab: erstelle ein Lockvogel-Banner</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptmethode für die Arbeit mit BlockAdBlock besteht darin, aus Werbeelementen, die wie echte Banner aussehen, „Köder“ oder „Köder“ zu erstellen. </font><font style="vertical-align: inherit;">Dann prüft er, ob der Blocker blockiert ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies erzeugt einen Köder: ein gefälschter Div, der vorgibt, eine Anzeige zu sein, aber nicht sichtbar ist.</font></font><br>
<br>
<pre><code class="javascript hljs">bab: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">check, passed_eid</span>) </span>{
    <span class="hljs-comment">// Wait for the document to be ready.</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">document</span>.body == <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">return</span><font></font>
    };<font></font>
<font></font>
    <span class="hljs-keyword">var</span> delay = <span class="hljs-string">'0.1'</span>, <font></font>
        passed_eid = eid ? eid : <span class="hljs-string">'banner_ad'</span>,<font></font>
        bait = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'DIV'</span>);<font></font>
        <font></font>
    bait.id = passed_eid;<font></font>
    bait.style.position = <span class="hljs-string">'absolute'</span>;<font></font>
    bait.style.left = <span class="hljs-string">'-999px'</span>;<font></font>
    bait.appendChild(<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">' '</span>));
    <span class="hljs-built_in">document</span>.body.appendChild(bait);<font></font>
    ...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anscheinend ist </font></font><code>passed_eid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beabsichtigt, die Kennung des Köders zu konfigurieren, aber es wird nicht verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Danach wird geprüft, ob der Köder vom Anzeigenblock entfernt wurde.</font></font><br>
<br>
<pre><code class="javascript hljs">    ...<font></font>
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (bait) {<font></font>
            check((bait.clientHeight == <span class="hljs-number">0</span>), delay);<font></font>
            check((bait.clientWidth == <span class="hljs-number">0</span>), delay);<font></font>
            check((bait.display == <span class="hljs-string">'hidden'</span>), delay);<font></font>
            check((bait.visibility == <span class="hljs-string">'none'</span>), delay);<font></font>
            check((bait.opacity == <span class="hljs-number">0</span>), delay);<font></font>
            check((bait.left &lt; <span class="hljs-number">1000</span>), delay);<font></font>
            check((bait.top &lt; <span class="hljs-number">1000</span>), delay)<font></font>
        } <span class="hljs-keyword">else</span> {<font></font>
            check(<span class="hljs-literal">true</span>, delay)<font></font>
        }<font></font>
    }, <span class="hljs-number">125</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Köder nicht mehr existiert, wird das Element gelöscht (und wir starten die Überlagerung). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Funktion </font></font><code>check</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funktioniert, wenn sie </font></font><code>Predicate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einen Wert zurückgibt </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und startet </font></font><code>arm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs">check: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkPredicate, unused</span>) </span>{
    <span class="hljs-keyword">if</span> ((checkPredicate) &amp;&amp; (adblockDetected == <span class="hljs-number">0</span>)) {<font></font>
        adblockDetected = <span class="hljs-number">1</span>;
        <span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>].arm()<font></font>
    } <span class="hljs-keyword">else</span> {}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da der Test </font></font><code>check</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie oben gezeigt mehrmals ausgelöst wird </font></font><code>adblockDetected</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wird er auf den ersten richtigen Test gesetzt, um ein wiederholtes Auslösen zu vermeiden </font></font><code>arm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grunzmodus</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Skript hat eine Funktion namens "Nag-Modus": In diesem Modus sagt BlockAdBlock nur einmal, dass der Werbeblocker deaktiviert werden soll, blockiert Sie jedoch nicht bei jedem Besuch. </font><font style="vertical-align: inherit;">Dies erfolgt durch Einstellen des Elements </font></font><code>localStorage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beim ersten Besuch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir dieses Element selbst installieren könnten, könnten wir die Sperre für immer deaktivieren? </font><font style="vertical-align: inherit;">Leider prüft BlockAdBlock im Voraus, ob das Skript für den Nag-Modus konfiguriert wurde, sodass diese Methode nicht funktioniert, wenn sie im Standardmodus, dh mit Zugriffssperre, arbeitet.</font></font><br>
<br>
<pre><code class="javascript hljs">arm: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (nagMode == <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">var</span> babNag = sessionStorage.getItem(<span class="hljs-string">'babn'</span>);
        <span class="hljs-keyword">if</span> (babNag &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-comment">// Stop the script.</span>
        } <span class="hljs-keyword">else</span> {<font></font>
            sessionStorage.setItem(<span class="hljs-string">'babn'</span>, (<span class="hljs-built_in">Math</span>.random() + <span class="hljs-number">1</span>) * <span class="hljs-number">1000</span>)<font></font>
        }<font></font>
    };<font></font>
    ...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider ist es </font></font><code>nagMode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im Konfigurator installiert und standardmäßig gleich </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlockAdBlock Version 1</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werbeblocker verwenden sogenannte Filter: Codezeilen, die Netzwerkanforderungen blockieren und Elemente auf der Seite ausblenden können. Durch das Erstellen von Köderelementen startet BlockAdBlock diese Filter speziell. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dieser einfachen Verteidigung ist BlockAdBlock gegen alle wichtigen Werbeblocker wie uBlock Origin, AdBlock Plus und Ghostery wirksam. Um dem entgegenzuwirken, müssen wir unseren eigenen Filter schreiben, der nur auf Sites aktiviert wird, auf denen BlockAdBlock ausgeführt wird. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Schreiben von Filtern für einen Blocker ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> etwas kompliziert. Wir benötigen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einen Inhaltsfilter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der Elemente auf der Seite blockiert, die nach dem Laden generiert wurden. Da der Köder eine Kennung hat </font></font><code>banner_ad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, erstellen wir eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausnahme, um Elemente auszublenden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">markiert </font></font><code>#@#</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für alle Elemente </font></font><code>#</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit einem Bezeichner </font></font><code>banner_ad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und fügt ihn in die Liste der Benutzerfilter unseres Blockers ein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ergebnis ist folgendes:</font></font><br>
<br>
<pre><code class="javascript hljs">localhost#@# #banner_ad</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe localhost hier zur Demonstration, Sie können es durch Ihre URL ersetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dadurch wird BlockAdBlock erfolgreich deaktiviert. </font><font style="vertical-align: inherit;">Die Lösung mag einfach erscheinen, funktioniert aber seit langem erfolgreich in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Anti-AdBlock-Killer-Filterliste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 2 (November 2015 - Januar 2016): mehrere Verbesserungen</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcodedifferenz </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1 / v2</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ködererstellung: Weniger Bugs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der ersten Version des Erstellens des Köders gibt es einen subtilen Fehler: Das erstellte Div hat keinen Inhalt, daher wird ein Div mit einer Höhe von 0 und einer Breite von 0 generiert. Später prüft der Code, ob das Div gelöscht wird, indem seine Höhe und Breite überprüft werden. </font><font style="vertical-align: inherit;">Da BlockAdBlock jedoch keine Höhe hatte, funktionierte es immer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></sup></a><a name="4_4"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Fehler eines leeren Div ist behoben.</font></font><br>
<br>
<pre><code class="javascript hljs">bab: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">...</span>) </span>{<font></font>
    bait = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'DIV'</span>);<font></font>
    ...<font></font>
    bait.appendChild(<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">'Â '</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein untergeordnetes Div wird mit einigen Inhalten erstellt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blockererkennung durch gefälschte Grafikbanner</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei dieser Methode erstellen wir ein gefälschtes Bild mit einem zufälligen Namen </font></font><code>doubleclick.net</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Werbeblocker blockieren das Bild und denken, es sei ein Werbebanner. </font><font style="vertical-align: inherit;">Dies erfordert jedoch keine Änderungen an unserem Filter.</font></font><br>
<br>
<pre><code class="javascript hljs">bab: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">...</span>) </span>{<font></font>
    bait = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'DIV'</span>);<font></font>
    bait.innerHTML = <span class="hljs-string">'&lt;img src="http://doubleclick.net/'</span> + randomStr() + <span class="hljs-string">'.jpg"&gt;'</span>;<font></font>
    ...</code></pre><br>
<code>randomStr()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">generiert eine Zeichenfolge beliebiger Länge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiterer bemerkenswerter Unterschied war die Verwendung eines Timers </font></font><code>setInterval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anstelle einer einfachen einmaligen Überprüfung, ob ein Trigger installiert ist. </font><font style="vertical-align: inherit;">Er überprüft erneut, ob das Grafikbanner angezeigt wird und ob sein Attribut nicht geändert wird </font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, und überprüft den Inhalt des Köders. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neu </font></font><code>setInterval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und auf Bildverfügbarkeit prüfen:</font></font><br>
<br>
<pre><code class="javascript hljs">    ...<font></font>
    checkCallback = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (bait) {<font></font>
            check((bait.clientHeight == <span class="hljs-number">0</span>), delay);<font></font>
            check((bait.clientWidth == <span class="hljs-number">0</span>), delay);<font></font>
            check((bait.display == <span class="hljs-string">'hidden'</span>), delay);<font></font>
            check((bait.visibility == <span class="hljs-string">'none'</span>), delay);<font></font>
            check((bait.opacity == <span class="hljs-number">0</span>), delay);
            <span class="hljs-keyword">try</span> {<font></font>
                check((<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'banner_ad'</span>).innerHTML.indexOf(<span class="hljs-string">'click'</span>) == <span class="hljs-number">-1</span>), delay)<font></font>
            } <span class="hljs-keyword">catch</span> (e) {}<font></font>
        } <span class="hljs-keyword">else</span> {<font></font>
            check(<span class="hljs-literal">true</span>, delay)<font></font>
        }<font></font>
    }, <span class="hljs-number">1000</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum </font></font><code>indexof ('click')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? </font><font style="vertical-align: inherit;">Weil die Quelle des Bildes </font></font><code>src="doubleclick.net/abcdefg.jpg"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und wir prüfen, ob das Fragment der Zeichenfolge erhalten bleibt </font></font><code>click</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 3 (November 2015 - März 2016): generalisierter Köder</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcodedifferenz </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v2 / v3</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ködererstellung: Zufällige Identifikatoren</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die einzige Änderung in dieser Version, obwohl signifikant, ist das Auftreten von zufälligen Identifikatoren für den Köder. </font><font style="vertical-align: inherit;">Der neue Bezeichner wird beim Laden der Seite aus der Liste der Bezeichner entnommen und für den Köder verwendet, der jetzt in der Mitte der Seite platziert wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine lange Liste von Zufallskennungen zeigt eine gute Kenntnis des Themenbereichs.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> baitIDs = [
  <span class="hljs-string">"ad-left"</span>,
  <span class="hljs-string">"adBannerWrap"</span>,
  <span class="hljs-string">"ad-frame"</span>,
  <span class="hljs-string">"ad-header"</span>,
  <span class="hljs-string">"ad-img"</span>,
  <span class="hljs-string">"ad-inner"</span>,
  <span class="hljs-string">"ad-label"</span>,
  <span class="hljs-string">"ad-lb"</span>,
  <span class="hljs-string">"ad-footer"</span>,
  <span class="hljs-string">"ad-container"</span>,
  <span class="hljs-string">"ad-container-1"</span>,
  <span class="hljs-string">"ad-container-2"</span>,
  <span class="hljs-string">"Ad300x145"</span>,
  <span class="hljs-string">"Ad300x250"</span>,
  <span class="hljs-string">"Ad728x90"</span>,
  <span class="hljs-string">"AdArea"</span>,
  <span class="hljs-string">"AdFrame1"</span>,
  <span class="hljs-string">"AdFrame2"</span>,
  <span class="hljs-string">"AdFrame3"</span>,
  <span class="hljs-string">"AdFrame4"</span>,
  <span class="hljs-string">"AdLayer1"</span>,
  <span class="hljs-string">"AdLayer2"</span>,
  <span class="hljs-string">"Ads_google_01"</span>,
  <span class="hljs-string">"Ads_google_02"</span>,
  <span class="hljs-string">"Ads_google_03"</span>,
  <span class="hljs-string">"Ads_google_04"</span>,
  <span class="hljs-string">"DivAd"</span>,
  <span class="hljs-string">"DivAd1"</span>,
  <span class="hljs-string">"DivAd2"</span>,
  <span class="hljs-string">"DivAd3"</span>,
  <span class="hljs-string">"DivAdA"</span>,
  <span class="hljs-string">"DivAdB"</span>,
  <span class="hljs-string">"DivAdC"</span>,
  <span class="hljs-string">"AdImage"</span>,
  <span class="hljs-string">"AdDiv"</span>,
  <span class="hljs-string">"AdBox160"</span>,
  <span class="hljs-string">"AdContainer"</span>,
  <span class="hljs-string">"glinkswrapper"</span>,
  <span class="hljs-string">"adTeaser"</span>,
  <span class="hljs-string">"banner_ad"</span>,
  <span class="hljs-string">"adBanner"</span>,
  <span class="hljs-string">"adbanner"</span>,
  <span class="hljs-string">"adAd"</span>,
  <span class="hljs-string">"bannerad"</span>,
  <span class="hljs-string">" ad_box"</span>,
  <span class="hljs-string">" ad_channel"</span>,
  <span class="hljs-string">" adserver"</span>,
  <span class="hljs-string">" bannerid"</span>,
  <span class="hljs-string">"adslot"</span>,
  <span class="hljs-string">"popupad"</span>,
  <span class="hljs-string">"adsense"</span>,
  <span class="hljs-string">"google_ad"</span>,
  <span class="hljs-string">"outbrain-paid"</span>,
  <span class="hljs-string">"sponsored_link"</span>
];</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zufällige ID-Generierung</font></font></h4><br>
<pre><code class="javascript hljs">    randomBaitID = baitIDs[ <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * baitIDs.length) ],<font></font>
    ...<font></font>
    var passed_eid = randomBaitID;<font></font>
    bait = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'DIV'</span>);    <font></font>
    bait.id = passed_eid;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da dies bei jedem Start funktioniert, ist die Kennung jedes Mal anders.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlockAdBlock, drittletzte Version</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BlockAdBlock nutzt den blinden Fleck von Werbeblockern aus: Wenn ein Filter alle oben genannten Kennungen überspringt, werden auch echte Anzeigen übersprungen. Daher </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zwingt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> BlockAdBlock </font><b><font style="vertical-align: inherit;">den</font></b><font style="vertical-align: inherit;"> Werbeblocker </font><b><font style="vertical-align: inherit;">, sich selbst unbrauchbar zu machen</font></b><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Blockern können wir vor dem Laden der Seite beliebige Skripte ausführen. Sie können versuchen, das BlockAdBlock-Objekt im Voraus zu entfernen. Dafür benötigen wir jedoch den Namen des BlockAdBlock-Objekts, das bei jedem Start zufällig ausgewählt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
uBlock Origin verfolgte einen anderen Ansatz. Da der Code von einer Funktion ausgeführt wird </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, können wir unsere eigene Funktion definieren </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die die Ausführung blockiert, wenn wir BlockAdBlock finden. In JS ist ein Objekt dazu in der Lage </font></font><code>Proxy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Sie können jede Eigenschaft und Methode in jedem Objekt ersetzen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies kann umgangen werden, indem die anfängliche BlockAdBlock-Nutzlast nicht weitergeleitet </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sondern direkt verwendet wird, sodass wir auch den Einstiegspunkt als Proxy verwenden: den Aufruf </font></font><code>setTimeout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Da es </font></font><code>setTimeout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von einer Zeichenfolge und nicht von einer Funktion übergeben wird, überprüfen wir diese Zeichenfolge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Implementierung in uBlock Origin ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> signatures = [<font></font>
    [ <span class="hljs-string">'blockadblock'</span> ],<font></font>
    [ <span class="hljs-string">'babasbm'</span> ],<font></font>
    [ <span class="hljs-regexp">/getItem\('babn'\)/</span> ],<font></font>
    [<font></font>
        <span class="hljs-string">'getElementById'</span>,
        <span class="hljs-string">'String.fromCharCode'</span>,
        <span class="hljs-string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</span>,
        <span class="hljs-string">'charAt'</span>,
        <span class="hljs-string">'DOMContentLoaded'</span>,
        <span class="hljs-string">'AdBlock'</span>,
        <span class="hljs-string">'addEventListener'</span>,
        <span class="hljs-string">'doScroll'</span>,
        <span class="hljs-string">'fromCharCode'</span>,
        <span class="hljs-string">'&lt;&lt;2|r&gt;&gt;4'</span>,
        <span class="hljs-string">'sessionStorage'</span>,
        <span class="hljs-string">'clientWidth'</span>,
        <span class="hljs-string">'localStorage'</span>,
        <span class="hljs-string">'Math'</span>,
        <span class="hljs-string">'random'</span><font></font>
    ],<font></font>
];<font></font>
<span class="hljs-keyword">const</span> check = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-comment">// check for signature </span>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Signaturliste: Definieren von Codevorlagen. </font><font style="vertical-align: inherit;">Die Funktion </font></font><code>check</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">überprüft die Zeichenfolge anschließend </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf Übereinstimmung mit diesen Mustern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proxy die</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funktionen </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>setTimeout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">window</span>.eval = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Proxy</span>(<span class="hljs-built_in">window</span>.eval, {
    <span class="hljs-attr">apply</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">target, thisArg, args</span>) </span>{
        <span class="hljs-keyword">const</span> a = args[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> ( <span class="hljs-keyword">typeof</span> a !== <span class="hljs-string">'string'</span> || !check(a) ) {
            <span class="hljs-keyword">return</span> target.apply(thisArg, args);<font></font>
        } <font></font>
        <span class="hljs-comment">// BAB detected: clean up.</span>
        <span class="hljs-keyword">if</span> ( <span class="hljs-built_in">document</span>.body ) {
            <span class="hljs-built_in">document</span>.body.style.removeProperty(<span class="hljs-string">'visibility'</span>);<font></font>
        }<font></font>
        <span class="hljs-keyword">let</span> el = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'babasbmsgx'</span>);
        <span class="hljs-keyword">if</span> ( el ) {<font></font>
            el.parentNode.removeChild(el);<font></font>
        }<font></font>
    }<font></font>
});<font></font>
<span class="hljs-built_in">window</span>.setTimeout = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Proxy</span>(<span class="hljs-built_in">window</span>.setTimeout, {
    <span class="hljs-attr">apply</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">target, thisArg, args</span>) </span>{
        <span class="hljs-keyword">const</span> a = args[<span class="hljs-number">0</span>];
        <span class="hljs-comment">// Check that the passed string is not the BAB entrypoint.</span>
        <span class="hljs-keyword">if</span> (
            <span class="hljs-keyword">typeof</span> a !== <span class="hljs-string">'string'</span> ||
            <span class="hljs-regexp">/\.bab_elementid.$/</span>.test(a) === <span class="hljs-literal">false</span><font></font>
        ) {<font></font>
            <span class="hljs-keyword">return</span> target.apply(thisArg, args);<font></font>
        }<font></font>
    }<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da wir jetzt ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scriptlet verwenden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ein spezielles benutzerdefiniertes Codefragment, das vom Blocker ausgeführt wird, ändert sich der Filter ein wenig:</font></font><br>
<br>
<pre><code class="javascript hljs">localhost## +js(nobab)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird aus Leistungsgründen nicht standardmäßig auf allen Sites gestartet, daher müssen Sie es jeder Site mithilfe eines Skripts zuweisen.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 4 (Januar 2016 - April 2016): experimentelle Funktionen</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcode- </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unterschied v3 / v4</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Die beschriebene Methode zum Blockieren von Anti-Blockern wurde im Januar 2016 gemäß der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Historie der uBlock Origin-Commits</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entwickelt und hat sich seit ihrer Einführung konzeptionell nicht geändert. </font><font style="vertical-align: inherit;">BlockAdBlock hat nie versucht, diesen Filter zu umgehen, indem er seine Architektur geändert hat. </font><font style="vertical-align: inherit;">Stattdessen entwickelte er weiterhin neue Funktionen. </font><font style="vertical-align: inherit;">Und wenn wir zur BlockAdBlock-Seite gehen, sehen wir eine interessante Registerkarte: "Benötigen Sie mehr Anti-Blocking-Leistung?" </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rs/0m/ea/rs0meawjau7ljt0-m6viiwoo4cq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl diese Schutzmethoden nur über eine spezielle Registerkarte verfügbar sind, sind sie in allen Skripten enthalten und werden über Variablen mit den entsprechenden Namen ausgeführt. </font><font style="vertical-align: inherit;">Die vierte Version implementiert zwei Methoden:</font></font><br>
<br>
<ul>
<li><code>aDefOne</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, "Spezifischer Schutz für Adsense-Sites"</font></font><br>
</li>
<li><code>aDefTwo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, "Spezielle Sicherheitsfunktion"</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zufällige Debug-Kommentare</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor ich mich von Ihnen verabschiede, muss ich noch etwas erwähnen. </font><font style="vertical-align: inherit;">Beim Reverse Engineering fiel mir eine Funktion auf: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debuggen </font></font><code>console.log()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direkt im Code!</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">consolelog</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">// "Dev mode" check: developpers of BAB must set window.consolelog to 1.</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.consolelog == <span class="hljs-number">1</span>) {
        <span class="hljs-built_in">console</span>.log(e)<font></font>
    }<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies erfolgt nur, wenn beispielsweise global </font></font><code>consolelog</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eingestellt ist </font></font><code>window.consolelog = 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debug-Kommentare sind nur in dieser Version verfügbar. </font><font style="vertical-align: inherit;">Wenn ich nicht alle Versionen umgekehrt hätte, hätte ich sie nie bemerkt. </font><font style="vertical-align: inherit;">Sie liefern wertvolle Informationen zur Funktionsweise des Codes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erweiterte Sicherheit: AdSense</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle diese speziellen Schutzmethoden sind in </font></font><code>check</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und nicht in </font><font style="vertical-align: inherit;">codiert </font></font><code>arm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wie es die Architektur vorschlägt. </font><font style="vertical-align: inherit;">Möglicherweise hat ein neuer Entwickler, der mit der Codebasis nicht vertraut ist, begonnen, an dem Produkt zu arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn AdSense auf der Seite aktiv ist, suchen wir nach Anzeigen. </font><font style="vertical-align: inherit;">Wenn sie aufgrund eines Blockers verschwunden sind, wird BlockAdBlock aktiviert.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">check</span>(<span class="hljs-params"></span>) </span>{<font></font>
    ...<font></font>
    var q = <span class="hljs-string">'ins.adsbygoogle'</span>,
        <span class="hljs-comment">// Selects all Google ads in the document.</span>
        adsbygoogleQuery = <span class="hljs-built_in">document</span>.querySelector(q);<font></font>
<font></font>
    <span class="hljs-keyword">if</span> ((adsbygoogleQuery) &amp;&amp; (adblockDetected == <span class="hljs-number">0</span>)) {
        <span class="hljs-comment">// Ads are not blocked, since the bait ad is still there,</span>
        <span class="hljs-comment">// and adblockDetected hasn't been set</span>
        <span class="hljs-keyword">if</span> (aDefOne == <span class="hljs-string">'yes'</span>) {<font></font>
            consolelog(<span class="hljs-string">'case2: standard bait says ads are NOT blocked.'</span>);
            <span class="hljs-keyword">var</span> adsbygoogle = <span class="hljs-string">'//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js'</span>;
            <span class="hljs-keyword">if</span> (scriptExists(adsbygoogle)) {<font></font>
                consolelog(<span class="hljs-string">'case2: And Adsense pre-exists.'</span>);
                <span class="hljs-keyword">if</span> (adsbygoogleQuery.innerHTML.replace(<span class="hljs-regexp">/\s/g</span>, <span class="hljs-string">''</span>).length == <span class="hljs-number">0</span>) {
                    <span class="hljs-comment">// The ad's content was cleared, so...</span>
                    consolelog(<span class="hljs-string">'case2: Ads are blocked.'</span>);
                    <span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>].arm()<font></font>
                }<font></font>
            }<font></font>
        };<font></font>
        adblockDetected = <span class="hljs-number">1</span><font></font>
    }<font></font>
    ...</code></pre><br>
<code>scriptExists</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überprüft die gesamte Seite auf ein Skript mit einer bestimmten URL. </font><font style="vertical-align: inherit;">In diesem Fall das AdSense </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup><font style="vertical-align: inherit;">5-</font></sup></a><font style="vertical-align: inherit;"> Skript</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup><font style="vertical-align: inherit;"></font></sup></a><a name="5_5"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die URL des Skripts wird mit allen Skripten auf der Seite verglichen. </font><font style="vertical-align: inherit;">Aus irgendeinem Grund wird die URL auf 15 Zeichen gekürzt.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scriptExists</span>(<span class="hljs-params">href</span>) </span>{
    <span class="hljs-keyword">if</span> (href) href = href.substr(href.length - <span class="hljs-number">15</span>);
    <span class="hljs-keyword">var</span> scripts = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'script'</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = scripts.length; i--;) {
        <span class="hljs-keyword">var</span> src = <span class="hljs-built_in">String</span>(scripts[i].src);
        <span class="hljs-keyword">if</span> (src) src = src.substr(src.length - <span class="hljs-number">15</span>);
        <span class="hljs-keyword">if</span> (src === href) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><font></font>
    };<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
};</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erweiterter Schutz: Spezielles Element</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Gegensatz zur ersten Methode wird diese Methode von einem Haftungsausschluss begleitet: "Bitte testen Sie nach der Installation, um die Kompatibilität mit Ihrer Site sicherzustellen." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser spezielle Schutz funktioniert nur, wenn kein Blocker gefunden wird und auf der Seite kein AdSense-Skript vorhanden ist. </font><font style="vertical-align: inherit;">Hier ist das relevante Code-Snippet </font></font><code>check</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs">check: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkPredicate, unused</span>) </span>{
    <span class="hljs-keyword">if</span> ((checkPredicate) &amp;&amp; (adblockDetected == <span class="hljs-number">0</span>)) {
        <span class="hljs-comment">// Adblocker detected, arm</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> q = <span class="hljs-string">'ins.adsbygoogle'</span>,<font></font>
            adsbygoogleQuery = <span class="hljs-built_in">document</span>.querySelector(q);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> ((adsbygoogleQuery) &amp;&amp; (adblockDetected == <span class="hljs-number">0</span>)) {
            <span class="hljs-keyword">if</span> (aDefOne == <span class="hljs-string">'yes'</span>) {
                <span class="hljs-comment">// Special defense one: AdSense defense (see above)</span><font></font>
            };<font></font>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (adblockDetected == <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">if</span> (aDefTwo == <span class="hljs-string">'yes'</span>) {
                    <span class="hljs-comment">// Special defense two: Special element defense</span><font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei dieser Methode wird davon ausgegangen, dass Websitebesitzer nur AdSense verwenden. Wenn kein AdSense-Skript vorhanden ist, stimmt etwas nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum gab es eine Warnung? </font><font style="vertical-align: inherit;">Diese Methode versucht, das AdSense-Skript zu aktivieren. </font><font style="vertical-align: inherit;">Wenn es nicht geladen wird, hat der Blocker höchstwahrscheinlich die Netzwerkanforderung blockiert, daher wird BlockAdBlock ausgelöst. </font><font style="vertical-align: inherit;">Dies kann jedoch einige Websites ruinieren, daher die Warnung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn AdSense nicht geladen wurde, wird das Overlay gestartet.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (aDefTwo == <span class="hljs-string">'yes'</span>) {
    <span class="hljs-comment">/* Add Google ad code to head.
        If it errors, the adblocker must have blocked the connection. */</span>
    <span class="hljs-keyword">var</span> googleAdCode = <span class="hljs-string">'//static.doubleclick.net/instream/ad_status.js'</span>;<font></font>
    consolelog(<span class="hljs-string">'case3: standard bait says ads are NOT blocked. Maybe ???\
      No Adsense is found. Attempting to add Google ad code to head...'</span>);
    <span class="hljs-keyword">var</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);<font></font>
    script.setAttribute(<span class="hljs-string">'type'</span>, <span class="hljs-string">'text/javascript'</span>);<font></font>
    script.setAttribute(<span class="hljs-string">'src'</span>, googleAdCode);<font></font>
    script.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>].arm()<font></font>
    };<font></font>
    adblockDetected = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (!scriptExists(googleAdCode)) {
        <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'head'</span>)[<span class="hljs-number">0</span>].appendChild(script)<font></font>
    };<font></font>
    adsbygoogleQuery = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>].check = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span><font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn auf Netzwerkebene ein Fehler auftritt, funktioniert dies so, </font></font><code>onerror</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">als würde ein Werbeblocker funktionieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Tat reagieren die meisten Werbeblocker darauf und blockieren die Anfrage. </font><font style="vertical-align: inherit;">Aber es gibt einen Blocker, den ich noch nicht erwähnt habe. </font><font style="vertical-align: inherit;">Sprechen Sie über den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brave-Browser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mutige Browser-Antwort</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bisher haben wir untersucht, wie Anti-Blocking in uBlock Origin erkannt wird. </font><font style="vertical-align: inherit;">Und es funktioniert, für jeden Standort, an dem BlockAdBlock installiert ist, ist nur ein bestimmter Filter erforderlich. </font><font style="vertical-align: inherit;">Der Brave-Browser ist insofern beeindruckend, als er BlockAdBlock aller Versionen erkennt und umgeht, ohne dass der Benutzer etwas unternehmen muss. </font><font style="vertical-align: inherit;">Dazu fälscht er die Anfrage direkt auf der Netzwerkebene </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></sup></a><a name="6_6"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anstatt die Anforderung zu blockieren, wird </font></font><code>ad_status.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sie übersprungen, aber </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gefälschte Google Ads mit einer Größe von 0 Byte geladen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dieser knifflige Trick täuscht BlockAdBlock vor, da er </font></font><code>onerror</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nur funktioniert, wenn die Netzwerkanforderung fehlschlägt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2e/45/s7/2e45s7wv2nv9licuzwesiao2tkm.png"></div><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 5 (März 2016 - November 2016)</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcodedifferenz </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v4 / v5</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erweiterter Schutz: Spam-Favoriten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die einzige Änderung in dieser Version besteht darin, dass der zweite erweiterte Schutz neu geschrieben wurde, obwohl er immer noch dem gleichen Grundprinzip entspricht: Überprüfen von Netzwerkanforderungen, die vom Blocker blockiert werden. </font><font style="vertical-align: inherit;">Aber jetzt werden Favicons anstelle von AdSense geladen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brave weicht diesem Angriff auf die gleiche Weise aus. </font><font style="vertical-align: inherit;">Es blockiert keine Anforderungen, sondern erstellt gefälschte 1 × 1-Bilder.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (aDefTwo == <span class="hljs-string">'yes'</span>) {
    <span class="hljs-keyword">if</span> (! <span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>].ranAlready) {/
        <span class="hljs-keyword">var</span> favicons = [
            <span class="hljs-string">"//www.google.com/adsense/start/images/favicon.ico"</span>,
            <span class="hljs-string">"//www.gstatic.com/adx/doubleclick.ico"</span>,
            <span class="hljs-string">"//advertising.yahoo.com/favicon.ico"</span>,
            <span class="hljs-string">"//ads.twitter.com/favicon.ico"</span>,
            <span class="hljs-string">"//www.doubleclickbygoogle.com/favicon.ico"</span><font></font>
            ],<font></font>
            len = favicons.length,<font></font>
            img = favicons[<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * len)],<font></font>
        ...<font></font>
        baitImages(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>) + <span class="hljs-number">1</span>); <span class="hljs-comment">// creates bait images</span>
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> Image();<font></font>
        m.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
            baitImages(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>) + <span class="hljs-number">1</span>);<font></font>
            c.src = imgCopy;<font></font>
            baitImages(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>) + <span class="hljs-number">1</span>)<font></font>
        };<font></font>
        c.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
            adblockDetected = <span class="hljs-number">1</span>;<font></font>
            baitImages(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">3</span>) + <span class="hljs-number">1</span>);
            <span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>].arm()<font></font>
        };<font></font>
        m.src = img;<font></font>
        baitImages(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">3</span>) + <span class="hljs-number">1</span>);
        <span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>].ranAlready = <span class="hljs-literal">true</span><font></font>
    };<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Funktion </font></font><code>baitImages</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kann häufig mit einer zufälligen Anzahl von Bildern aufgerufen werden, um statische Blocker zu umgehen.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 6 (April 2016 - November 2016): Tapferes Schloss</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcodeunterschied </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v5 / v6</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
BlockAdBlock-Methoden waren zwar auf den ersten Blick einfach, wurden jedoch allmählich komplexer und effizienter. </font><font style="vertical-align: inherit;">Aber der letzte unbesiegte Feind blieb: der tapfere Browser.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erweiterter Schutz: Definieren eines gefälschten Favoricon</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum hat BlockAdBlock vom Versuch, ein Skript zu laden, zum Laden von Bildern (Favicons) gewechselt? </font><font style="vertical-align: inherit;">Die Antwort befindet sich in dem Code, der dem Schutz durch Spam-Favoriten hinzugefügt wird und der gegen den Schutz von Brave aktiviert ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Überprüfen der Antwort auf ein falsches Bild:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (aDefTwo == <span class="hljs-string">'yes'</span>) {<font></font>
    baitImages(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">3</span>) + <span class="hljs-number">1</span>);
    <span class="hljs-comment">// earlier favicon code...</span>
    <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> Image();
    <span class="hljs-keyword">if</span> ((aDefThree % <span class="hljs-number">3</span>) == <span class="hljs-number">0</span>) {<font></font>
        m.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> ((m.width &lt; <span class="hljs-number">8</span>) &amp;&amp; (m.width &gt; <span class="hljs-number">0</span>)) {
                <span class="hljs-built_in">window</span>[<span class="hljs-string">''</span> + randomID + <span class="hljs-string">''</span>].arm()<font></font>
            }<font></font>
        }<font></font>
    };<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Favicon-Größe weniger als 8 × 8 beträgt, handelt es sich wahrscheinlich um eine Fälschung des Brave-Browsers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit diesem Trick umgeht BlockAdBlock die Verkleidung von Brave und anderen Blockern, die diesen Code ausführen (die meisten, wie uBlock Origin, blockieren ihn zuerst). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach diesem Update verschwand BlockAdBlock Ende November 2016 aus dem Internet. </font><font style="vertical-align: inherit;">Obwohl ihre "erweiterten Sicherheitsmethoden" funktionieren, wurden sie für die meisten Benutzer nie aktiviert. </font><font style="vertical-align: inherit;">Dies war das letzte Update. </font><font style="vertical-align: inherit;">Der letzte Beitrag auf Twitter und auf der Website wurde Ende 2017 veröffentlicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Erbe von BlockAdBlock lebt jedoch weiter. </font><font style="vertical-align: inherit;">Obwohl es heutzutage trivial ist, es zu blockieren, wird dieses Skript immer noch von einigen modernen Websites verwendet.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wer gewinnt das Wettrüsten zwischen Werbeblockern und Anti-Blockern, die Werbeblocker blockieren? Nur die Zeit kann es verraten. Während sich das Wettrüsten entwickelt, müssen Anti-Blocker ausgefeiltere Methoden und speziellen Code verwenden, wie die Entwicklung von BlockAdBlock zeigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der anderen Seite haben Blocker den Vorteil stabiler Systeme und leistungsstarker Filterwerkzeuge durch Filterlisten sowie des Zugriffs auf JavaScript. Mit einem solchen System reicht es aus, wenn eine Person versteht, wie man den Feind besiegt - und die Filterliste mit neuen Sites aktualisiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch die Analyse der Entwicklung von BlockAdBlock sowie der verschiedenen Reaktionen von Werbeblockern konnten wir ein Bild eines kleinen Krieges zwischen BlockAdBlock und Blockern zeichnen. Dabei haben wir gelernt, welche Methoden bei Feindseligkeiten eingesetzt werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Reverse Engineering Code wird </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf GitHub veröffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Danke fürs Lesen.</font></font><br>
<br>
<hr><br>
<a name="1"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Wenn Sie sich ein Bild davon machen möchten, wie dies funktioniert, fügen Sie das folgende Beispiel in die JS-Konsole ein und sehen Sie sich dann den Code an. </font><font style="vertical-align: inherit;">Wenn Sie an seinem Innenleben interessiert sind, finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier den Quellcode</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">︎ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[zurück]</font></font></a><br>
<br>
<a name="2"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Glaubst du nicht? </font><font style="vertical-align: inherit;">Versuchen Sie </font></font><code>eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>console.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in der ersten Zeile zu </font><font style="vertical-align: inherit;">wechseln </font><font style="vertical-align: inherit;">. </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[zurückgeben]</font></font></a><br>
<br>
<a name="3"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Der Zeitstempel sagt </font></font><code>201510</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, also vielleicht Oktober. </font><font style="vertical-align: inherit;">Wir wissen jedoch nicht, wann sich das Skript geändert hat. </font><font style="vertical-align: inherit;">Alles was wir wissen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015-10 wurde eine Version gespeichert: </font></font><code>20151007203811.js</code><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015-11 gibt es eine neue Version: </font></font><code>20151113115955.js</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soweit wir wissen, könnte das Skript am Tag vor dem zweiten Zeitstempel geändert werden. </font><font style="vertical-align: inherit;">Daher gehe ich konservativ mit Dating um. </font><font style="vertical-align: inherit;">︎ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[zurück]</font></font></a><br>
<br>
<a name="4"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Während der Korrektur dieses Fehlers wurden Tests für v1 entwickelt. </font><font style="vertical-align: inherit;">︎ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[zurück]</font></font></a><br>
<br>
<a name="5"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Vielen Dank an McStroyer auf Reddit, der darauf aufmerksam gemacht hat. </font><font style="vertical-align: inherit;">︎ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[zurück]</font></font></a><br>
<br>
<a name="6"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Die Brave Ad Blocker-Komponente ist geöffnet, sodass wir uns den Quellcode ansehen können, um eine Vorstellung davon zu bekommen, wie er funktioniert.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ResourceTypeToString-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Methode </font><font style="vertical-align: inherit;">wertet aus, welche Ressource abgefangen wird.</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Brave Ad Blocker in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ShouldStartRequest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> überprüft </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ob die erfasste Ressource der Blockierungsregel entspricht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei Übereinstimmung gibt es eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gefälschte Ressource zurück,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die auf einem früheren </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Ressourcentyp</font></a><font style="vertical-align: inherit;"> basiert, und meldet eine „erfolgreiche“ Anforderung.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">François Marie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> für den Hinweis auf den Quellcode für Brave. </font><font style="vertical-align: inherit;">︎ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[zurück]</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de499118/index.html">So erstellen Sie ein virales Video</a></li>
<li><a href="../de499120/index.html">[Lesezeichen] CSS: Verwenden von Einrückung und Einrückung</a></li>
<li><a href="../de499122/index.html">So richten Sie Ihre Arbeit unter sich ständig ändernden Bedingungen ein: die kostenlosen Kurse zur Krisenbekämpfung von Aktion</a></li>
<li><a href="../de499126/index.html">Entwicklerherz: Sony PlayStation 1-Devkits</a></li>
<li><a href="../de499128/index.html">Einführung in die neueste Vorschau-Version von Windows Terminal - 0.11</a></li>
<li><a href="../de499134/index.html">4 Schritte zur Steigerung des LTV-Produkts durch Benutzerkommunikation</a></li>
<li><a href="../de499136/index.html">#BeeFree oder ... Beeline - du konntest nicht widerstehen?</a></li>
<li><a href="../de499138/index.html">Topologische Sortierung</a></li>
<li><a href="../de499140/index.html">Generation unter Kontrolle: Wie man leistungsfähige Sprachmodelle bremst</a></li>
<li><a href="../de499146/index.html">Eine einfache Möglichkeit, Ihre Mikrotik vor Angriffen zu schützen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>