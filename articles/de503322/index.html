<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòæ üëó üéöÔ∏è Firmware-Entwicklung: Einf√ºhrung üõÄüèæ üêï ‚õ∑Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Ich pr√§sentiere Ihnen die √úbersetzung der Artikel von Chris Svec, das Original ist hier . Ver√∂ffentlichung mit Genehmigung des Autors unte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Firmware-Entwicklung: Einf√ºhrung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503322/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo Habr! </font><font style="vertical-align: inherit;">Ich pr√§sentiere Ihnen die √úbersetzung der Artikel von Chris Svec, das Original ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ver√∂ffentlichung mit Genehmigung des Autors unter Lizenz </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC-A-NC-ND</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embedded Software Engineering 101: Einf√ºhrung</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich starte eine Reihe von Tutorials zur Firmware-Entwicklung. Wir werden zun√§chst einen einfachen Mikrocontroller beschreiben. Nachdem Sie die Funktionsweise verstanden haben, werden wir diesen entwickeln, um zu verstehen, wie er in Bezug auf komplexe Systeme wie Fitbit oder Nest funktioniert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe diese Serie Embedded Software Engineering 101 genannt und sie beginnt diese Woche hier auf diesem Blog. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie weiter f√ºr weitere Erkl√§rungen und Details. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qh/t1/jv/qht1jvvzpmxjwz9c8cpbnhiomgc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einige Bausteine ‚Äã‚Äãauf anderen Bausteinen.</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich arbeite seit √ºber 14 Jahren mit eingebetteten Systemen und entwickle Mikrochips. Ich mag eingebettete Systeme - Hardware, Software und die Einschr√§nkungen, die sie zusammenhalten. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Amateurelektronik und Ideen wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adafruit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sparkfun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erm√∂glichten es, √ºber das Wochenende (oder einen Monat oder ein Semester) einfach etwas von Hardware und Software zu </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">werfen</font></a><font style="vertical-align: inherit;"> , etwas Neues, Interessantes zu schaffen und sogar n√ºtzlich zu sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist toll! Menschen die M√∂glichkeit zu geben, etwas zu erschaffen, ist eine erstaunliche Sache. Wenn ich mich hart ausdr√ºcken wollte, w√ºrde ich es ehrgeizig als "Demokratisierung der Technologie" bezeichnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die meisten Amateurprojekte sind einmalig. Sie sammeln etwas, machen es so gut, wie Sie genug Zeit oder Energie haben, und gehen weiter. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe meine Karriere am anderen Ende des Spektrums verbracht - Produkte zu entwickeln, die Hunderttausende oder Millionen oder mehr Kopien enthalten - und dies erfordert eine v√∂llig andere Denkweise und einen systematischen Ansatz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich m√∂chte den Leuten beibringen, wie man Firmware f√ºr diese Art von Systemen schreibt. Ich habe diese Idee f√ºr den Embedded Software Engineering 101-Kurs / Leitfaden / Buch / Blog lange gepflegt und dank des Embedded.fm-Blogs beginne ich jetzt mit der Implementierung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin eine Person von grundlegendem Typ, daher ist mein Plan, mit den Grundlagen zu beginnen, mit einer einfachen Beschreibung eines einfachen Mikroprozessors, und diese Grundlage zu entwickeln, bis Sie verstehen, wie ein relativ komplexes eingebettetes System funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Ziel ist es, dass Sie am Ende dieses Zyklus herausfinden k√∂nnen, wie Fitbit, ein Nest-Thermostat oder ein √§hnliches eingebettetes System funktioniert. </font><font style="vertical-align: inherit;">Sie k√∂nnen mit Berufserfahrung beginnen, mit eingebetteten Softwaresystemen zu arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Embedded Software Engineering 101 wurde entwickelt f√ºr:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hochschulabsolventen in den Bereichen Informatik, Computertechnik oder Elektronik, die sich f√ºr eingebettete Systeme interessieren.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amateur-Elektronik-Enthusiasten, die besser verstehen m√∂chten, wie ihr System auf Arduino funktioniert, und herausfinden m√∂chten, wie sie sich weiterentwickeln (und ob dies notwendig ist!).</font></font></li>
<li>      ,        ,   .</li>
<li>,       ,    -.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was meine ich damit, dass ich eine ‚ÄûPerson von grundlegendem Typ‚Äú bin? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Richard Feynman</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ein mit dem Nobelpreis ausgezeichneter Physiker und ausgezeichneter Geschichtenerz√§hler, dr√ºckte es auf die bestm√∂gliche Weise aus: "Was ich nicht nachbauen kann, verstehe ich nicht." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin also kein Feynman, aber ich bin sicher, dass der beste Weg, das System zu verstehen, darin besteht, mit den Grundlagen zu beginnen. Mit diesem Verst√§ndnis k√∂nnen Sie einfache eingebettete Systeme mit einfacher Software erstellen. Wenn Sie zun√§chst ein sehr einfaches Programm verstanden haben, k√∂nnen Sie es entwickeln, indem Sie mit zunehmender Erfahrung komplexere Software erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Grundlagen an erster Stelle - das ist nat√ºrlich nur meine pers√∂nliche √úberzeugung. Viele Leute haben mit Arduino n√ºtzliche Dinge gemacht, ohne die Grundlagen zu verstehen. Diese Artikelserie richtet sich an diejenigen, die die Grundlagen und alles, was darauf aufbaut, noch verstehen wollen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nat√ºrlich m√ºssen wir uns fragen: Wo ist das richtige Niveau, um mit diesen ‚ÄûGrundlagen‚Äú zu beginnen? Transistoren und Logikgatter? Nein, dies ist zu niedrig, um mit der Firmware zu beginnen. An g√§ngige Sensoren anschlie√üen? Nein, das ist ein zu hohes Niveau, es braucht zu viel Wissen, um damit zu beginnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich denke, die richtige Basis ist der eingebaute Mikroprozessor. Es ist nicht erforderlich, Physik oder Elektronik zu verstehen, um den eingebauten Mikroprozessor zu verwenden, und es ist auch nicht erforderlich, ein Experte f√ºr Programmierung zu sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier beginnen wir also im n√§chsten Artikel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vorurteilswarnung: In einem fr√ºheren Leben war ich Architekt / Prozessorentwickler. </font><font style="vertical-align: inherit;">Wenn Sie diesen Zyklus mit dem Verst√§ndnis der Funktionsweise der CPU beginnen, ist dies m√∂glicherweise nicht der beste Weg, um eingebettete Systeme zu verstehen, aber so funktioniert mein Gehirn. </font><font style="vertical-align: inherit;">Probieren Sie unbedingt andere Kurse / Handb√ºcher usw. aus, wenn Sie dies nach mehreren Artikeln nicht verstehen.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embedded Software Engineering 101: Grundlagen des Mikrocontrollers</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden unsere Reise von Embedded Software Egineering 101 mit einem bescheidenen Mikrocontroller beginnen. Ein Mikrocontroller (oder Mikroprozessor) ist der Hauptbaustein aller eingebetteten und anderer Computersysteme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MK scheint ziemlich kompliziert zu sein, besteht aber aus drei einfachen Dingen: Anweisungen, Register und Speicher. Anweisungen sind die Dinge, die der Mikrocontroller ausf√ºhren kann. Ein einfacher MK kann nicht so viel leisten - er kann zum Beispiel 20 oder 30 Anweisungen haben. Sp√§ter in diesem Zyklus werde ich den Mikrocontroller MSP430 von Texas Instruments verwenden, der nur 27 Anweisungen enth√§lt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/ej/aa/iuejaatxtmpv26vkwkoupso0eic.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nur ein Foto von MK (TI MSP430F5529)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese 27 Anweisungen sind die einzigen Dinge, die der MSP430 tun kann. Er kann zwei Zahlen addieren, eine andere von einer Zahl subtrahieren, Zahlen von einem Ort an einen anderen verschieben oder 24 andere einfache Operationen ausf√ºhren. 27 Operationen scheinen nicht genug zu sein, um etwas N√ºtzliches zu tun, aber in Wirklichkeit werden sie genug sein, um ein denkbares Programm durchzuf√ºhren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das bedeutet, dass der Mikrocontroller Anweisungen hat, die etwas mit Zahlen tun. Aber wo sind diese Zahlen? Register und Speicher! Anweisungen arbeiten mit Nummern, die in Registern und im Speicher gespeichert sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Register sind ein sehr schnelles Repository mit Nummern, die Anweisungen verarbeiten. Sie k√∂nnen sie sich als Notizblock vorstellen, der von Anweisungen verwendet wird. MK enth√§lt wenige Register, normalerweise 8-32. Zum Beispiel hat der MSP430 16 Register.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Speicher ist auch Speicher f√ºr Zahlen, aber er ist viel gr√∂√üer und langsamer als Register. Der Mikrocontroller kann 64 kB, 256 kB oder sogar mehr als 1 MB Speicher haben. MSP430F5529 verf√ºgt √ºber ca. 128 kB Speicher. das ist mehr als das 8.000-fache der Anzahl seiner Register! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor wir uns Beispiele ansehen, fordere ich Sie auf, sich ein St√ºck Papier und einen Stift oder Bleistift zu besorgen und diese Beispiele beim Lesen zu studieren. Es ist schwieriger, sie auf Papier zu studieren, als nur zu lesen, was ich geschrieben habe. Auf diese Weise n√§hern Sie sich dem Prozess sorgf√§ltig und die Chancen, sich das Gelernte zu merken, sind h√∂her. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns ein fiktives, aber charakteristisches Beispiel eines Mikrocontrollers an.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir an, unser MK verf√ºgt √ºber 4 Register und 8 Speicherzellen. Register werden normalerweise kreativ genannt, zum Beispiel "R0", "R1" usw., und wir werden das Gleiche tun. Speicherzellen werden normalerweise mit ihren Nummern bezeichnet, die auch als Speicheradressen bezeichnet werden, beginnend mit der Nummer 0. So sehen unsere Register und unser Speicher aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/81/oy/up/81oyupyasmwundb235_kgf-uwuw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und jetzt werde ich einige Werte in sie </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/y-/gf/n5y-gfwfebw0mhun48svuowdf3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
einf√ºgen </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Jetzt ben√∂tigt unser fiktiver Mikrocontroller einige Anweisungen.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Befehlssatz, den MK kennt, wird als Befehlssatz bezeichnet. Nehmen wir an, im Set gibt es drei Anweisungen: ADD (addieren), SUB (kurz f√ºr "subtrahieren" - subtrahieren) und MOVE (verschieben). Die Anweisungen m√ºssen die Nummern abrufen, von denen sie stammen, und ihre Ergebnisse auch irgendwo ablegen, sodass einige von ihnen Informationen dar√ºber enthalten, wo sich die Eingabe- und Ausgabedaten befinden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie unseren ADD-Befehl beispielsweise zwei Quellen und einen Datenempf√§nger haben, und alle m√ºssen Register sein. Das Handbuch kann diese Anweisung folgenderma√üen beschreiben:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADD regist, regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der ADD-Befehl addiert den Wert des reg reg-Registers zum Wert des reg reg-Registers und speichert das Ergebnis im reg reg-Register. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusammenfassung: regPrm = regIST + regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiel: ADD R1, R2 f√ºhrt die Operation R2 = R1 + R2 aus</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In den Anweisungen wird allgemein akzeptiert, dass eine der Quellen auch als Empf√§nger verwendet wird, wie dies bei der ADD-Anweisung der Fall ist, wobei regPrm als Quelle und Empf√§nger von Daten verwendet wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"ADD R1, R2" ist eine Assemblersprache f√ºr einen Mikrocontroller, es ist eine native Programmiersprache MK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Definieren wir SUB im selben Stil:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SUB-Register, Regrpm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der SUB-Befehl subtrahiert den Wert des Registerregisters vom Wert des Regprm-Registers und speichert das Ergebnis im Regprm-Register. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusammenfassung: regPrm = regPrm - reggist </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiel: SUB R3, R0 f√ºhrt die Operation R0 = R0 - R3 aus</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lassen Sie den MOVE-Befehl schlie√ülich eine Quelle und einen Empf√§nger haben, und entweder:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beide Argumente sind ebenfalls Register</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eines ist ein Register und eines ist ein Speicherort.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Anleitung f√ºr den Befehlssatz lautet:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. MOVE-Register, Register </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. MOVE-Register, reg </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. MOVE-Register, rem </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der MOVE-Befehl kopiert die Daten aus dem Argument East in das Argument Prm. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusammenfassung: Es gibt drei Arten von MOVE-Anweisungen: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. regPrm = regist 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
regPm = memist </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. memPm = reg </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiel: Ich werde sp√§ter in diesem Beitrag Beispiele f√ºr die MOVE-Anweisung zeigen.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Hinweis zum Wort ‚ÄûVerschieben‚Äú, das f√ºr diese Anweisung verwendet wird: Die meisten Befehlss√§tze verwenden es, obwohl in Wirklichkeit die Daten kopiert und nicht verschoben werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Name "move" kann den Eindruck erwecken, dass die Operandenquelle des Befehls zerst√∂rt oder gel√∂scht wird, aber tats√§chlich bleibt er allein, nur der Empf√§nger wird modifiziert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns einige Beispiele mit unserem fiktiven Mikrocontroller durchgehen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu Beginn sehen unsere Register und unser Speicher folgenderma√üen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/y-/gf/n5y-gfwfebw0mhun48svuowdf3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt f√ºhren wir die folgende Anweisung auf dem MK aus:</font></font><br>
<br>
<pre><code class="plaintext hljs">ADD R1, R2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es nimmt den Wert von R1 an, addiert ihn zum Wert von R2 und speichert das Ergebnis in R2. </font><font style="vertical-align: inherit;">Der Prozessor f√ºhrt die meisten Anweisungen in einer Operation aus, aber ich werde die Ausf√ºhrung jeder ADD-, SUB- und MOVE-Anweisung in mehrere Schritte aufteilen, wobei der Pfeil "=&gt;" durch Ersetzungen f√ºhrt (Register / Speicher =&gt; Wert):</font></font><br>
<br>
<pre><code class="plaintext hljs">R2 = R1 + R2 =&gt;<font></font>
R2 = 37 + 100 =&gt;<font></font>
R2 = 137</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Ausf√ºhren dieser Anweisung bleibt der Speicher unver√§ndert, aber die Register sehen jetzt wie folgt aus, wobei der ge√§nderte Wert in Rot geschrieben ist: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/nz/ps/ysnzpsf8dzdbyzqmnvncdxjatbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass R1 unver√§ndert ist; </font><font style="vertical-align: inherit;">nur das Empf√§ngerregister R2 hat sich ge√§ndert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als n√§chstes versuchen wir die SUB-Anweisung:</font></font><br>
<br>
<pre><code class="plaintext hljs">SUB R3, R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie nimmt den Wert von R3, subtrahiert ihn vom Wert von R0 und speichert das Ergebnis in R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = R0 - R3 =&gt;<font></font>
R0 = 42 - 2 =&gt;<font></font>
R0 = 40</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Ausf√ºhren dieser Anweisung bleibt der Speicher unver√§ndert, aber die Register sehen jetzt folgenderma√üen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sp/21/wm/sp21wmmbqgn3ihi8lbyzsbumohc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns abschlie√üend einige Versionen der MOVE-Anweisung ausprobieren:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE R2, R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser MOVE-Befehl kopiert den Wert von R2 nach R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = R2 =&gt;<font></font>
R0 = 137</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und jetzt sehen die Register folgenderma√üen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/iu/d-/vliud-kydqc4invua-jnrtrdgig.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als n√§chstes kopieren wir das Register in den Speicher:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE R3, [3]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser MOVE-Befehl kopiert R3 in den Speicherplatz 3. </font><font style="vertical-align: inherit;">Die eckigen Klammern in unserem Befehlssatz sind die Speicherzellen.</font></font><br>
<br>
<pre><code class="plaintext hljs">[3] = R3 =&gt;<font></font>
[3] = 2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Register sind unver√§ndert, aber der Speicher √§ndert sich: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/k1/we/gik1wejnfubjv0akvbq67yy91xw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und f√ºr unser letztes Beispiel kopieren wir den Wert aus dem Speicher in das Register:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE [6], R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier wird der Wert der Speicherzelle 6 in das Register R0 kopiert:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = [6] =&gt;<font></font>
R0 = 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Speicher ist unver√§nderlich, und die Register sehen jetzt so aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/st/62/cy/st62cygqqyiyqoou-tzrfxmxa8c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ob Sie es glauben oder nicht, aber wenn Sie das meiste verstehen, was wir gerade √ºber Anweisungen, Register und Speicher besprochen haben, dann verstehen Sie die Grundlagen von Mikrocontrollern und Assemblersprache. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nat√ºrlich habe ich viele Details ausgelassen. </font><font style="vertical-align: inherit;">Wie erh√§lt MK beispielsweise Anweisungen zur Ausf√ºhrung? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gibt es interessantere Anweisungen als nur einfache Mathematik- und Kopieranweisungen? </font><font style="vertical-align: inherit;">Entspricht der Speicher RAM oder Flash oder nicht? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden diese Fragen im n√§chsten Artikel beantworten.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de503300/index.html">Das Buch ‚ÄûRick und Morty. Anleitung zum brillantesten Cartoon aller Galaxien ¬ª</a></li>
<li><a href="../de503302/index.html">Beschleunigung eines auf CMake + GCC basierenden Projekts: Vorkompilierung von Header-Dateien</a></li>
<li><a href="../de503310/index.html">Was denken √§ltere Programmierer?</a></li>
<li><a href="../de503312/index.html">Wie kann ein Speicherverlust in einer Angular-Anwendung verursacht werden?</a></li>
<li><a href="../de503318/index.html">Beruf: Programmierer. Nicht alles ist klar</a></li>
<li><a href="../de503324/index.html">"Auf dem H√∂hepunkt" von Brad Stalberg und Steve Magness: Verhinderung der Selbstentz√ºndung (Teil 1)</a></li>
<li><a href="../de503328/index.html">Wir kompilieren die Spring Boot-Anwendung mit GraalVM in native</a></li>
<li><a href="../de503330/index.html">Wie man von einem Datenwissenschaftler lernt: Die meistgesuchten technischen F√§higkeiten</a></li>
<li><a href="../de503338/index.html">Meine Arbeiten f√ºr Outline 2020</a></li>
<li><a href="../de503342/index.html">Das einfachste Modell f√ºr Makro√∂konomie und Trends bei der Unterst√ºtzung von Marktinformationen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>