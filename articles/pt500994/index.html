<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî® üë©‚Äç‚ù§Ô∏è‚Äçüë© üßöüèæ Execute formiga. Corre üõÑ üîì üë¥üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo discute o processo de cria√ß√£o de um modelo de simula√ß√£o do comportamento de uma col√¥nia de formigas (pode ser lido na Wikipedia ) no ambie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Execute formiga. Corre</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500994/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este artigo discute o processo de cria√ß√£o de um modelo de simula√ß√£o do comportamento de uma col√¥nia de formigas (pode ser lido na </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) no ambiente de simula√ß√£o "AnyLogic". </font><font style="vertical-align: inherit;">Este artigo √© pr√°tico. </font><font style="vertical-align: inherit;">Ele considerar√° o uso do algoritmo formiga para resolver o problema do vendedor ambulante (voc√™ pode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ler aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ca/-m/xy/ca-mxya2npzn6aynp21dpuepx2g.gif"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brevemente sobre a ess√™ncia</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A ess√™ncia do problema do vendedor ambulante √© que o vendedor ambulante (vendedor) deve visitar N cidades depois de visitar cada uma delas apenas uma vez no caminho mais curto. Como essa tarefa √© complexa em NP e o n√∫mero de op√ß√µes para todas as rotas poss√≠veis entre N cidades √© calculado como ‚ÄúN!‚Äù, O menor tempo de busca de rotas aumentar√° exponencialmente com um aumento de N. Assim, o menor tempo de busca de rotas (solu√ß√£o) usando o algoritmo "Pesquisa exaustiva" (que fornece uma solu√ß√£o exata) com o n√∫mero de cidades N&gt; 16 aumenta acentuadamente (√© exponencial). Portanto, n√£o procuraremos a rota mais curta em comprimento, mas aproximar-nos (racionalmente) em um tempo finito usando o ‚Äúalgoritmo ant‚Äù.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algumas palavras sobre o AnyLogic √© uma ferramenta poderosa que permite criar modelos de simula√ß√£o de complexidade vari√°vel. </font><font style="vertical-align: inherit;">Ele implementa v√°rias abordagens de simula√ß√£o. </font><font style="vertical-align: inherit;">Analisaremos apenas uma das abordagens, a modelagem ‚Äúagente‚Äù. </font><font style="vertical-align: inherit;">√â implementado na linguagem de programa√ß√£o Java, que complementa as ferramentas existentes. </font><font style="vertical-align: inherit;">A principal desvantagem do ‚ÄúAnyLogic‚Äù √© a limita√ß√£o da vers√£o gratuita do n√∫mero de agentes criados; seu n√∫mero n√£o pode exceder 50.000. ‚ÄúAgent‚Äù √© a unidade b√°sica do sistema de simula√ß√£o AnyLogic. </font><font style="vertical-align: inherit;">Mais informa√ß√µes podem ser encontradas no site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.anylogic.ru</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Anylogic - fa√ßa o download da vers√£o gratuita aqui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.anylogic.ru/downloads</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Introdu√ß√£o inicial do </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AnyLogic </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">A interface do AnyLogic √© mostrada na Figura 1. Inclui:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a √°rea verde √© o espa√ßo do agente no qual criaremos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√°rea vermelha - propriedades do objeto que est√° em foco;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paleta - ferramentas que voc√™ pode usar ao criar um modelo;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">projetos - a estrutura do modelo desenvolvido.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/ni/-d/kx/ni-dkxyorpukg5a6xkitxe7nwpm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">1- Janela pop-up do AnyLogic</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cria√ß√£o de projeto</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo √© simples aqui. </font><font style="vertical-align: inherit;">Clique no item de menu ‚ÄúArquivo‚Äù ao lado de ‚ÄúCriar‚Äù e depois em ‚ÄúModelo‚Äù, digite o nome do modelo e clique no bot√£o ‚ÄúConcluir‚Äù (Fig. 2). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/5e/96/ej5e96ohohjgxmygsj2teeedt1q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">2- Criando um modelo</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criar cidades</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, vamos come√ßar. A primeira coisa que faremos √© criar as chamadas cidades (partes superiores do gr√°fico) que a formiga visitar√°. Por que abrimos a guia "Agente" na paleta e arrastamos o c√≠rculo vermelho com o homenzinho para o agente "Principal" a partir da√≠, como mostra a Figura 3. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v9/2x/nb/v92xnbu57t8ulh_cttg_i6p1e_0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 3- Criando cidades</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ap√≥s soltar o bot√£o do mouse, uma caixa de di√°logo √© exibida ("Etapa 1"), solicitando a cria√ß√£o de um agente. Onde ser√° necess√°rio selecionar o item "Agent Population" e clicar no bot√£o "Next". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h5/bb/jm/h5bbjm3eyfyzggqc_ixb7bikqoi.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 4- Criando cidades</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A seguinte caixa de di√°logo √© exibida (Etapa 2), na qual voc√™ precisar√° digitar o nome do novo tipo de agente e o nome da popula√ß√£o de agentes. Digite o tipo "MyTown" e o nome da popula√ß√£o "myTowns" e clique no bot√£o "Next". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0k/fi/ak/0kfiaknzozrmlyjkzpgnkdrtp2m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 4a - Digite o nome do novo agente</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, a seguinte janela aparecer√° (Etapa 4.). Aqui, selecionamos ‚Äú2D Agent Animation‚Äù e o √≠cone com a inscri√ß√£o ‚ÄúPlant‚Äù e clique no bot√£o ‚ÄúFinish‚Äù (Fig. 5). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/si/73/l7/si73l7efxqaj4-lsibjaq23bo5o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 5- Adicione anima√ß√£o para o agente</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora crie uma vari√°vel que determinar√° o n√∫mero inicial de cidades em nosso modelo. Por que, na "Paleta", arraste o √≠cone com a inscri√ß√£o "Vari√°vel" para o agente "Principal" e digite o nome "numberTown". Em seguida, clique no √≠cone da nossa vari√°vel e, na guia Propriedades, insira seu valor inicial igual a, por exemplo, 10 e selecione o tipo ‚Äúint‚Äù (Fig. 6). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xg/ox/6o/xgox6ohlkcyugq_8bndgxeqe7pe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 6- Criando uma vari√°vel</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora, definimos o valor inicial da popula√ß√£o da nossa cidade ‚ÄúmyTowns‚Äù, para o qual clicamos em seu √≠cone e na guia ‚ÄúPropriedades‚Äù no campo ‚ÄúN√∫mero inicial de agentes‚Äù, escreva o nome da vari√°vel que criamos anteriormente (Fig. 7).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n2/wn/wr/n2wnwrzolah44a3oiblzp0uitvw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">7 - Alterando as propriedades da popula√ß√£o ‚ÄúmyTowns‚Äù A seguir, tra√ßaremos a</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
conclus√£o de nossas cidades no agente ‚ÄúMain‚Äù em um local aleat√≥rio. </font><font style="vertical-align: inherit;">O espa√ßo √© limitado a um quadrado de 400x400 pixels. </font><font style="vertical-align: inherit;">Por que, na guia "Projetos", selecione o agente "Principal" com o mouse e na guia "Propriedades", no campo "Na inicializa√ß√£o", adicione o seguinte c√≥digo Java (Fig. 7a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {<font></font>
	myTowns.get(i).setXY(uniform(<span class="hljs-number">0</span>,<span class="hljs-number">400</span>), uniform(<span class="hljs-number">0</span>,<span class="hljs-number">400</span>));<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onde:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.size () - o n√∫mero de cidades criadas;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.get (i) .setXY (uniforme (0,400), uniforme (0,400)) - defina as coordenadas X e Y para a i-√©sima cidade;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uniforme (0,400) - uma fun√ß√£o que retorna um n√∫mero aleat√≥rio no intervalo de 0 a 400, de acordo com a lei de distribui√ß√£o igualmente prov√°vel de uma vari√°vel aleat√≥ria. </font><font style="vertical-align: inherit;">O ambiente AnyLogic possui um extenso kit de ferramentas para trabalhar com v√°rias distribui√ß√µes de vari√°veis ‚Äã‚Äãaleat√≥rias. </font><font style="vertical-align: inherit;">Existe um construtor interno de distribui√ß√µes de probabilidade, que est√° dispon√≠vel na barra de ferramentas.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onde:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.size () - o n√∫mero de cidades criadas;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.get (i) .setXY (uniforme (0,400), uniforme (0,400)) - defina as coordenadas X e Y para a i-√©sima cidade;</font></font></li>
<li>uniform(0,400) ‚Äì ,        0  400      .   AnyLogic          .              . </li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/cx/9s/uh/cx9suhbif3brjkqje09vjpp0wos.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">7a - Organizamos as cidades,</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
depois j√° podemos ver o que fizemos e iniciar nosso modelo. </font><font style="vertical-align: inherit;">Para fazer isso, use a tecla "F5", clique nela e a janela para iniciar o experimento √© iniciada, como mostra a Figura 8. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/w9/0j/e7w90jfs3sz6flkkxvkmhksfysk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">8 - Inicie o experimento</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Em seguida, clique no bot√£o "Executar" no canto inferior esquerdo da janela e o experimento inicia. </font><font style="vertical-align: inherit;">Voc√™ deve obter uma janela com o conte√∫do na tela, como mostra a Figura 9. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h5/hj/rw/h5hjrw2oona5nb5oxamr7wk1kro.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">9 - O resultado do experimento</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ent√£o, nesta etapa, criamos 10 cidades e as colocamos em um local aleat√≥rio (estoc√°stico) em nossa tela. </font><font style="vertical-align: inherit;">Agora vamos √† cria√ß√£o de nossas "formigas"</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie uma formiga</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, a principal unidade de combate do nosso modelo ser√° uma formiga. Em primeiro lugar, devemos cri√°-lo e depois modelar seu comportamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criar uma formiga √© semelhante a criar uma cidade. Na "Paleta", selecione "Agente" e arraste-o para "Principal". Selecione "Popula√ß√£o de agentes", depois "Quero criar um novo tipo de agente", digite "Nome do novo tipo" e "Nome da popula√ß√£o" "MyAnt" "myAnts" e clique em "Avan√ßar". Depois disso, selecionamos a anima√ß√£o ‚Äú2D‚Äù e, por exemplo, o √≠cone com a inscri√ß√£o ‚ÄúFighter‚Äù pressiona ‚ÄúFinish‚Äù e deve aparecer como mostra a Figura 10. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q-/pb/wj/q-pbwj-wzsom4meb0xjebt8f6e0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 10 - Crie formigas</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Concordo, o avi√£o n√£o se parece com uma formiga, ent√£o vamos consert√°-lo. Entramos no mecanismo de busca √† procura de uma imagem que retrate uma formiga e mudamos o avi√£o para uma formiga. Por que clicamos duas vezes no c√≠rculo vermelho pr√≥ximo a "myAnts". Depois disso, a aba ‚ÄúmyAnt‚Äù abrir√° onde voc√™ precisa remover o avi√£o e colocar a formiga em seu lugar (Fig. 11). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v-/5a/tp/v-5atplfehtp9oii49ogb4zarx4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 11 - Guia MyAnt</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Selecione o avi√£o com o mouse e pressione "Del". Em seguida, v√° para a guia "Apresenta√ß√£o" e arraste o elemento "Imagem" de l√°. Depois disso, uma caixa de di√°logo ser√° aberta automaticamente para selecionar um arquivo. Selecione o arquivo com a nossa formiga (Fig. 12) e clique em OK. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3u/cv/jo/3ucvjoiromyqmon5c0gg8rnitps.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 12 - Guia MyAnt com formiga e j√° sem avi√£o</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ir em frente. </font><font style="vertical-align: inherit;">Escale a formiga e mova-a para o local onde o avi√£o costumava estar. </font><font style="vertical-align: inherit;">Ele deve aparecer como mostrado na Figura 12a. </font><font style="vertical-align: inherit;">Todas essas opera√ß√µes s√£o executadas usando o mouse. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/rr/n_/bhrrn_45uobnz9cpfxyxfmgpajm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">12a - guia MyAnt com formiga</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Revivemos a formiga</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora precisamos ensinar nossa formiga rec√©m-assada a rastejar entre as cidades. </font><font style="vertical-align: inherit;">√â verdade, at√© agora sem levar em conta o modelo matem√°tico, mas ainda assim deix√°-lo funcionar. </font><font style="vertical-align: inherit;">E assim, abra o diagrama ‚ÄúState diagram‚Äù na ‚ÄúPalette‚Äù e continue. </font><font style="vertical-align: inherit;">Transferimos os seguintes blocos e os conectamos:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O in√≠cio do diagrama de estados √© o ponto de partida do ciclo de vida da nossa formiga;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estado - este bloco ir√° caracterizar o estado do ciclo de vida da nossa formiga. </font><font style="vertical-align: inherit;">Esses blocos s√£o necess√°rios em peda√ßos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transi√ß√£o - uma flecha que conectar√° nossos "Estados" e realizar√° a transi√ß√£o de um "Estado" para outro "Estado" sob certas condi√ß√µes.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, deve aparecer algo como mostrado na Figura 13. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/xk/ry/rlxkrykh7gpd6ujcc5aetxfldxm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">13 - A l√≥gica do comportamento da formiga</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora vamos escrever a l√≥gica inicial do diagrama da formiga. </font><font style="vertical-align: inherit;">Selecionamos com o mouse a seta que sai do bloco com o nome "Selecionar cidade" e adicionamos o seguinte c√≥digo no campo "A√ß√£o" na guia "Propriedades" (Fig. 14):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (randomTrue(<span class="hljs-number">0.5</span>)) {
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui tudo √© muito simples, percorremos o ciclo em todas as cidades e jogamos uma moeda (geramos uma vari√°vel aleat√≥ria com probabilidade 0,5) se seu valor √© verdadeiro (√°guia), enviamos a formiga para essa cidade que sai do ciclo. A express√£o "this.moveTo (main.myTowns.get (i))" √© uma fun√ß√£o que envia um agente para outro. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/ql/7y/scql7yplmodnhdrldsc6tvb3l2m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 14 - Defina a l√≥gica inicial do movimento da formiga.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Em seguida, clique na seta que sai do bloco "Movimento" e, na guia "Propriedades", no campo "Ocorre", defina o valor "Ao receber uma mensagem" e selecione "Ao receber a mensagem especificada" no campo "Ocorre". ¬ªComo mostrado na Figura 15. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ks/hh/g9/kshhg9m8nyxvzqz9d1dj2xnrgtc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 15 - Defina a l√≥gica para a transi√ß√£o entre "Movimento" e "Ignorou tudo"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora configure a √∫ltima seta que sai do bloco "Motion". </font><font style="vertical-align: inherit;">N√≥s o selecionamos com o mouse e, na guia "Propriedades", no campo de transi√ß√£o, definimos "Na chegada do agente". </font><font style="vertical-align: inherit;">A vista final do "Diagrama de estado" deve ser mostrada na Figura 16. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/os/kv/af/oskvafwwsgpitd36rnozrirob9m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">16 - Diagrama de estado com transi√ß√µes configuradas entre blocos</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ent√£o, vejamos como o "Diagrama de estado" do comportamento da formiga funciona:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro estado em que a formiga cai √© "Vybor_city", at√© agora nenhuma a√ß√£o foi especificada.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ent√£o ele vai para o pr√≥ximo estado ap√≥s a transi√ß√£o. </font><font style="vertical-align: inherit;">Nesta transi√ß√£o, adicionamos um c√≥digo que inicia um ciclo por todas as montanhas e faz as formigas correrem pelas cidades.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O bloco "Movimento" √© o local em que a formiga fica localizada at√© chegar √† cidade selecionada anteriormente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, ele tem duas maneiras. </font><font style="vertical-align: inherit;">Primeiro, ele volta ao bloco "City_Choice" e tudo se repete novamente. </font><font style="vertical-align: inherit;">No segundo caminho, ele ter√° que seguir quando j√° tiver visitado todas as cidades. </font><font style="vertical-align: inherit;">At√© agora, o segundo caminho n√£o est√° configurado conosco. </font><font style="vertical-align: inherit;">N√≥s vamos lidar com eles um pouco mais tarde.</font></font></li>
</ol><br>
<br>
<img src="https://habrastorage.org/webt/3z/aj/md/3zajmdqorvjpondmi8k03fmmz94.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">17 - Opera√ß√£o do diagrama de estados</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora podemos pressionar "F5" para ver o que aconteceu (Fig. 18). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fr/cg/us/frcgusj3llqem0vaf8rxjngwwii.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">18 - O renascimento das formigas</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definir os crit√©rios</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, quais s√£o esses crit√©rios (regras):</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma formiga deve visitar cada cidade apenas uma vez.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ant, quando ele visitou todas as cidades, encerra seu movimento na √∫ltima cidade.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esses crit√©rios s√£o ditados a n√≥s pela condi√ß√£o do problema do vendedor ambulante. Cada formiga estar√° conosco um tipo de vendedor ambulante que viaja pelas cidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos ensinar a formiga a cumprir essas regras. Por que, na "Paleta", na guia "Agente", transfira a "Cole√ß√£o" e "Vari√°vel" para a guia "MyAnt" e chame-as de primeira como "isVisited" e a segunda como "dist√¢ncia". O primeiro levar√° em conta as cidades que j√° visitamos e o segundo a dist√¢ncia percorrida pela formiga. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-k/s-/a_/-ks-a_2igqbcyxzgzxiwlrbn9fe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 19 - Adicionar vari√°veis</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Configure a cole√ß√£o isVisited. Por que o selecionamos com o mouse e configuramos o "Tipo" dos elementos "int" na guia "Propriedades", como mostra a Figura 20. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para a vari√°vel "distance" em suas propriedades, no campo "Valor inicial", defina "0" e o tipo de vari√°vel "double" " </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cm/2v/te/cm2vte4vjkzqycf0r58qz8itz7u.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 20 - Cole√ß√£o do tipo "int"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora selecione a seta que sai do bloco "City_block" e altere o c√≥digo no campo "A√ß√£o" para o abaixo:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (randomTrue(<span class="hljs-number">0.9</span>) &amp;&amp; isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));<font></font>
		distance=distance+<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i));<font></font>
		isVisited.add(i);<font></font>
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No c√≥digo acima, adicionamos uma verifica√ß√£o das cidades nas quais j√° conseguimos visitar, levando em considera√ß√£o as cidades que visitamos e tamb√©m consideramos a dist√¢ncia percorrida. </font><font style="vertical-align: inherit;">O c√≥digo √© bastante simples, acho que n√£o ser√° dif√≠cil para voc√™ entender. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode tentar lan√ßar ‚ÄúF5‚Äù nosso modelo e ver o que aconteceu. </font><font style="vertical-align: inherit;">Agora as formigas passar√£o por todas as cidades apenas uma vez e completar√£o seu movimento no quarteir√£o.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alterar o posicionamento inicial das formigas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta etapa, determinaremos para cada formiga escolheremos aleatoriamente uma cidade da qual ele come√ßar√° sua jornada. </font><font style="vertical-align: inherit;">Por que, na guia "Projetos", selecione o agente "Principal" com o mouse e, na guia "Propriedades", adicione o seguinte c√≥digo ao campo "Na inicializa√ß√£o" (Fig. 20a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myAnts.size(); i++) {
	<span class="hljs-comment">//        </span>
	<span class="hljs-keyword">int</span> startTown = uniform_discr(<span class="hljs-number">0</span>,myTowns-<span class="hljs-number">1</span>);
	<span class="hljs-comment">//     </span><font></font>
	myAnts.get(i).setPosition(myTowns.get(startTown));<font></font>
	<span class="hljs-comment">//      </span><font></font>
	myAnts.get(i).isVisited.add(startTown);<font></font>
}<font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/2i/et/cg/2ietcgzx9lkptrnj5rainnljcig.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">20a - Organizando formigas por cidade</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, apliquei uma sele√ß√£o aleat√≥ria da cidade inicial. </font><font style="vertical-align: inherit;">Voc√™ pode identificar inicialmente todas as formigas em apenas uma cidade.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tornar as formigas imprevis√≠veis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos introduzir a seguinte f√≥rmula em nosso modelo: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kd/ld/xz/kdldxzse05ththx-oipffhru9oq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
onde Pi √© a probabilidade de transi√ß√£o ao longo do caminho do i-√©simo caminho, li √© o comprimento da i-√©sima transi√ß√£o, fi √© a quantidade de ferom√¥nio na i-√©sima transi√ß√£o, q √© o valor que determina a ‚Äúgan√¢ncia‚Äù do algoritmo, p - o valor que determina o "rebanho" do algoritmo, com q + p = 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peguei emprestada essa f√≥rmula do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em termos simples, essa f√≥rmula permite calcular a probabilidade com que a formiga ter√° que fazer a transi√ß√£o para uma cidade espec√≠fica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora precisamos adicionar v√°rias vari√°veis ‚Äã‚Äãsem as quais n√£o podemos fazer. Por que voltar para a guia ‚ÄúPrincipal‚Äù, figura 21. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/ba/cv/zkbacvaft1obpjrs1kw9hblkjos.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 21 - Guia "Principal"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, adicionamos a vari√°vel "numberAnt", na qual armazenaremos o tamanho da col√¥nia de formigas. Definimos seu tipo como "int" e o valor inicial √© 100. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/80/o2/w4/80o2w43ra-j_fwfabeunywmjkbm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 21 - Vari√°vel ‚ÄúnumberAnt‚Äù A</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
seguir, selecione a popula√ß√£o ‚ÄúmyAnts‚Äù e defina o campo ‚ÄúN√∫mero inicial de agentes‚Äù para ‚ÄúnumberAnt‚Äù. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A vari√°vel "p", que determinar√° a reorganiza√ß√£o do algoritmo. Seu tipo √© duplo e o valor inicial √© 0,5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A vari√°vel "q", que determinar√° a gan√¢ncia do algoritmo. Seu tipo √© duplo e o valor inicial √© 0,5. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ge/m7/n0/gem7n0dj3rlhd_uu6aac3rrqyby.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 22 - Vari√°veis ‚Äã‚Äã"q e p"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, agora vamos definir um valor de ferom√¥nio aleat√≥rio para cada aresta (estrada) entre as cidades. Por que criar uma vari√°vel (matriz bidimensional) "matrixF". Defina-o na guia ‚ÄúPropriedades‚Äù no campo ‚ÄúTipo‚Äù, selecione o valor ‚ÄúOutros‚Äù e escreva ‚Äúduplo [] []‚Äù no campo o valor inicial ‚Äúnovo duplo [numberTown] [numberTown]‚Äù (Fig. 23). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/4d/oi/wq4doiphuc28xcg1a3vcveng4ms.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 23 - Criando uma matriz bidimensional "matrixF". Matriz de Ferom√¥nios</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Em seguida, precisamos inicializar essa matriz. Em outras palavras, preencha-o com valores aleat√≥rios. Tomamos o valor de ferom√¥nio aleatoriamente no intervalo de 0,1 a </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Para isso, na guia "Projetos", selecione o agente "Principal" com o mouse e, na guia "Propriedades", adicione o seguinte c√≥digo ao campo "Na inicializa√ß√£o" (Fig. 23a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;myTowns.size(); j++) {<font></font>
		matrixF[i][j]=uniform(<span class="hljs-number">0.1</span>,<span class="hljs-number">1</span>);<font></font>
	}<font></font>
} <font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/ob/an/ta/obanta0s5kb7vqnsc3wsn-qmbgg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">23a - C√≥digo de inicializa√ß√£o da matriz de ferom√¥nios</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora retornamos √† guia ‚ÄúMyAnt‚Äù e procedemos ao c√°lculo da probabilidade de transi√ß√£o de acordo com a f√≥rmula acima. </font><font style="vertical-align: inherit;">Selecione a transi√ß√£o entre "City_Choice" e "Motion" e altere o c√≥digo no campo Action para o seguinte (Fig. 24):</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//       </span>
<span class="hljs-keyword">double</span> denominator=<span class="hljs-number">0</span>; 
<span class="hljs-comment">//          </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {	<span class="hljs-comment">//     </span>
	    <span class="hljs-comment">//  i   </span>
		denominator=denominator+(Math.pow(<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i)), main.q)*Math.pow(main.myTowns.get(i).f, main.p));<font></font>
	} <font></font>
}<font></font>
<span class="hljs-comment">//      i </span>
<span class="hljs-keyword">double</span> Pi=<span class="hljs-number">0</span>;
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">double</span> probility=uniform(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-comment">//        Pi</span>
	<span class="hljs-keyword">if</span> (isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-comment">//     i-      </span>
		Pi=Pi+(Math.pow(<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i)), main.q)*Math.pow(main.myTowns.get(i).f, main.p))/denominator;<font></font>
	}<font></font>
	<span class="hljs-comment">//      Pi      probility</span>
	<span class="hljs-keyword">if</span> (probility&lt;Pi &amp;&amp; isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-comment">//       i  </span>
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));
		<span class="hljs-comment">//     </span>
		distance=distance+<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i));
		<span class="hljs-comment">//           </span><font></font>
		isVisited.add(i);<font></font>
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/7u/gr/re/7ugrreytqo1mjwh43xeaagissqm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">24 - Definimos o comportamento da formiga com base na express√£o anal√≠tica do item acima.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora </font><i><font style="vertical-align: inherit;">, vou</font></i><font style="vertical-align: inherit;"> explicar um pouco o que √© o que:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">li - this.distanceTo (main.myTowns.get (i)), o valor do comprimento entre a posi√ß√£o atual da formiga e a cidade ‚Äúi‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fi - main.matrixF [currentPos] [i], o valor do n√≠vel de ferom√¥nio entre a cidade atual e a cidade ‚Äúi‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">denominador - denominador + (Math.pow (this.distanceTo (main.myTowns.get (i)), main.q) * Math.pow (main.matrixF [currentPos] [i], main.p)); Pi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pi - Pi + (Math.pow (this.distanceTo (main.myTowns.get (i)), main.q) * Math.pow (main.myTowns.get (i) .f, main.p)) / denominador, a probabilidade da formiga se mover da cidade atual para a cidade ‚Äúi‚Äù.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, selecionamos a transi√ß√£o entre os blocos "Movimento" e "Todos ignorados" com o mouse e selecionamos "Quando a condi√ß√£o for atendida" no campo "Ocorre" e, no campo de condi√ß√£o, escrevemos a condi√ß√£o para a formiga parar "isVisited.size () == main.myTowns.size ()" (fig. 25). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1w/qz/ag/1wqzagqllmjga_yqm5a8-9c_crg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">25 - Determine as condi√ß√µes para parar a formiga e, em</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
seguida, execute o modelo ‚ÄúF5‚Äù e veja o que aconteceu. </font><font style="vertical-align: inherit;">As formigas viajam entre cidades com uma probabilidade calculada de acordo com a express√£o anal√≠tica acima.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atualizando o valor do ferom√¥nio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos fazer duas coisas. A primeira a√ß√£o √© aumentar o valor de ferom√¥nio na borda entre as cidades pelas quais a formiga passou. O segundo √© a evapora√ß√£o do ferom√¥nio nas bordas entre as cidades, que consiste em reduzir o valor dos ferom√¥nios em rela√ß√£o ao tempo de simula√ß√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, para come√ßar com a primeira a√ß√£o, atualizaremos o valor do ferom√¥nio da costela entre a cidade em que a formiga est√° localizada e aonde ele ir√°. O valor pelo qual aumentaremos o valor atual das bordas dos ferom√¥nios entre as cidades ser√° calculado muito, muito simples. Tomamos nosso valor inicial m√°ximo do valor de ferom√¥nio = 1 cu e divida-o pela dist√¢ncia entre a cidade em que a formiga est√° localizada e a cidade para onde ele ir√°. Consequentemente, quanto menor a dist√¢ncia, entre as cidades, maior ser√° o valor pelo qual o n√≠vel do ferom√¥nio da costela ser√° aumentado. Por que selecionamos o agente MyAnt na guia Projetos, use o mouse para selecionar a transi√ß√£o entre os blocos "City_title" e "Movement" e adicione o seguinte c√≥digo ao campo de a√ß√£o: "main.matrixF [currentPos] [i] = main.matrixF [currentPos] [i ] + 1 / this.distanceTo (main.myTowns.get (i); ‚Äù.O resultado deve ser como mostrado na Figura 26</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wr/zi/jb/wrzijbuaavovmagcktbz4yrhkw0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 26 - Atualize o valor do n√≠vel de ferom√¥nios das costelas que a formiga passou:</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora vamos para o </font><i><font style="vertical-align: inherit;">passo</font></i><font style="vertical-align: inherit;"> 2 e criamos um evento que simula a evapora√ß√£o do ferom√¥nio nas costelas entre as cidades. Por que, na guia Projetos, selecione o agente "Principal" e crie mais algumas vari√°veis ‚Äã‚Äãl√°. A primeira √© a "intensidade" - determinar√° a taxa (intensidade) de evapora√ß√£o dos ferom√¥nios (valor inicial "0,5", tipo "duplo"). A segunda "Parte" - caracterizar√° a fra√ß√£o pela qual o valor do ferom√¥nio na borda diminuir√° (Valor inicial "0,9", digite "duplo"). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/_8/ly/rh_8lydcrbmm7pkkitihtmsszi4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 27 - Crie as vari√°veis ‚Äã‚Äã"intensidade" e "Parte"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, pegamos o elemento "Event" na "Palette" da guia "Agent" e transferimos para o agente "Main" e chamamos de "evapora√ß√£o" - esse elemento simula a evapora√ß√£o do ferom√¥nio nas bordas. </font><font style="vertical-align: inherit;">Clique nele com o mouse e, em "Propriedades", no campo "Tipo de evento", selecione o valor "Com uma determinada intensidade" no campo "Intensidade", escreva o nome da vari√°vel que armazena o valor de intensidade "intensidade". </font><font style="vertical-align: inherit;">O tempo de resposta √© de segundos. </font><font style="vertical-align: inherit;">Em seguida, adicione o c√≥digo abaixo √† a√ß√£o:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;myTowns.size(); j++) {<font></font>
		matrixF[i][j]=matrixF[i][j]*Part;<font></font>
		<span class="hljs-keyword">if</span> (matrixF[i][j]&lt;<span class="hljs-number">0.1</span>) matrixF[i][j]=<span class="hljs-number">0.1</span>;<font></font>
	}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando o evento "evapora√ß√£o" √© acionado, os n√≠veis de ferom√¥nio na matriz matrixF ser√£o atualizados. </font><font style="vertical-align: inherit;">Como resultado, voc√™ deve conseguir fazer o que √© mostrado na Figura 28. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qq/p9/dl/qqp9dljysgcl9xg7jvydl74oees.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">28 - Crie o evento "evapora√ß√£o"</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Determinar o vencedor</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta etapa, adicionaremos um c√≥digo que determinar√° o vencedor da nossa maratona de formigas. O vencedor ser√° aquele que formou a rota mais curta. Al√©m de tudo, ap√≥s o final da maratona, tra√ßamos essa rota na tela. Para conseguir isso, criaremos tr√™s vari√°veis ‚Äã‚Äã"bestAnt", "bestDistance" e "numberFinish" no agente "Main". Na vari√°vel "bestAnt", armazenaremos o √≠ndice da formiga "mais r√°pida", o tipo da vari√°vel ser√° "int" e o valor inicial ser√° definido como "-1". Na vari√°vel "bestDistance", armazenaremos o valor atual da melhor extens√£o de rota entre cidades, o tipo da vari√°vel ser√° "double" e o valor inicial ser√° definido como infinito "infinito". Na vari√°vel "numberFinish", armazenaremos o n√∫mero de formigas que terminaram em nossa maratona,o tipo da vari√°vel ser√° "int" e o valor inicial √© "0" (Fig. 29).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zd/2a/yw/zd2ayw0tmj6_wuft2sl2qz8tevu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">29 - Criar um evento de vari√°veis ‚Äã‚ÄãA</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
seguir, criamos uma fun√ß√£o que, ap√≥s finalizar todas as formigas, tra√ßar√° as linhas da melhor rota entre as cidades. </font><font style="vertical-align: inherit;">Por que a partir da "Paleta" arrastamos para o agente "Principal" um elemento com a fun√ß√£o de nome. </font><font style="vertical-align: inherit;">Defina o nome da fun√ß√£o como drawPath e, na guia Propriedades, no campo Corpo da fun√ß√£o, adicione o seguinte c√≥digo:</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//        </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>; i++) {
	<span class="hljs-comment">//    </span>
	ShapeLine myLine = <span class="hljs-keyword">new</span> ShapeLine();
	<span class="hljs-comment">//            i</span><font></font>
	myLine.setX(myTowns.get(myAnts.get(bestAnt).isVisited.get(i)).getX());<font></font>
	myLine.setY(myTowns.get(myAnts.get(bestAnt).isVisited.get(i)).getY());<font></font>
	<span class="hljs-comment">//            i+1</span>
	myLine.setEndX(myTowns.get(myAnts.get(bestAnt).isVisited.get(i+<span class="hljs-number">1</span>)).getX());<font></font>
	myLine.setEndY(myTowns.get(myAnts.get(bestAnt).isVisited.get(i+<span class="hljs-number">1</span>)).getY());
	<span class="hljs-comment">//    ""</span><font></font>
	myLine.setColor(blue);<font></font>
	<span class="hljs-comment">//   </span><font></font>
	myLine.setLineStyle(LINE_STYLE_SOLID );<font></font>
	<span class="hljs-comment">//   </span>
	myLine.setLineWidth(<span class="hljs-number">1</span>);
	<span class="hljs-comment">//    </span><font></font>
	presentation.add(myLine);	<font></font>
}<font></font>
	<span class="hljs-comment">//           </span>
	ShapeLine myLine = <span class="hljs-keyword">new</span> ShapeLine();<font></font>
	myLine.setX(myTowns.get(myAnts.get(bestAnt).isVisited.get(myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>)).getX());<font></font>
	myLine.setY(myTowns.get(myAnts.get(bestAnt).isVisited.get(myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>)).getY());<font></font>
	myLine.setEndX(myTowns.get(myAnts.get(bestAnt).isVisited.get(<span class="hljs-number">0</span>)).getX());<font></font>
	myLine.setEndY(myTowns.get(myAnts.get(bestAnt).isVisited.get(<span class="hljs-number">0</span>)).getY());<font></font>
	myLine.setColor(blue);<font></font>
	myLine.setLineStyle(LINE_STYLE_SOLID );<font></font>
	myLine.setLineWidth(<span class="hljs-number">1</span>);<font></font>
	presentation.add(myLine);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, voc√™ deve conseguir fazer o que √© mostrado na Figura 29a. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/am/eq/1b/ameq1bhejnkldupsbngygcqqndw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">29a - Crie a fun√ß√£o ‚ÄúdrawPath‚Äù</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora voltamos √†s nossas formigas e adicionamos um c√≥digo que determinar√° a formiga do vencedor, o comprimento da melhor rota e tra√ßamos essa rota entre as cidades. </font><font style="vertical-align: inherit;">Por que, na guia "Projetos", selecione o agente "MyAnt", selecione o bloco "Todos ignorados" e adicione o seguinte c√≥digo ao campo "A√ß√£o de logon":</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//    </span><font></font>
main.numberFinish++;<font></font>
<span class="hljs-comment">//      </span>
<span class="hljs-keyword">if</span> (main.bestDistance&gt;distance) {
	<span class="hljs-comment">//           </span>
	<span class="hljs-comment">//      </span><font></font>
	main.bestDistance=distance;<font></font>
	<span class="hljs-comment">//    </span>
	main.bestAnt = <span class="hljs-keyword">this</span>.getIndex();<font></font>
}<font></font>
<span class="hljs-comment">//         Main   </span>
<span class="hljs-keyword">if</span> (main.numberFinish==main.myAnts.size()) main.drawPath();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele deve sair como mostrado na Figura 30. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/68/ss/7c/68ss7cvbvbfbwkz26u6abdvwit8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">30 - Adicionando l√≥gica ao bloco ‚ÄúAll Bypassed‚Äù.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Depois, voc√™ pode pressionar ‚ÄúF5‚Äù e executar o modelo. </font><font style="vertical-align: inherit;">As formigas correm em busca de rotas e, quando as cidades terminam, a linha azul se conecta, qual √© a melhor rota.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicionar um histograma ao modelo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que o modelo se torne mais cient√≠fico, voc√™ deve adicionar um gr√°fico. Portanto, adicionaremos n√£o apenas um gr√°fico e um histograma que nos mostrem a distribui√ß√£o do comprimento das rotas que as formigas superaram. Por que, na guia "Projetos", selecione o agente "Principal" e v√° para o seu espa√ßo. Al√©m disso, na "Paleta", vamos para a guia "Estat√≠sticas" e, de l√°, para o agente "Principal", transferimos o elemento "Dados do histograma" e diretamente o pr√≥prio "Histograma". Em seguida, selecionamos os histogramas com o mouse e, na guia "Propriedades", no campo "Dados", especificamos o nome dos nossos "Dados do histograma", ou seja, "Dados". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele deve aparecer como mostrado na Figura 31 </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7v/bz/6i/7vbz6ikwgs7t0iintfnp2jz6wyw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. 31 - Construindo um cronograma</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, teremos que retornar novamente √† nossa formiga e faz√™-la preencher o "Histograma" com os valores do comprimento da rota. </font><font style="vertical-align: inherit;">Por que, na guia Projetos, selecione o agente "MyAnt" e v√° para o seu espa√ßo. </font><font style="vertical-align: inherit;">Em seguida, selecione o bloco "All Bypass" e adicione uma linha a ele "main.data.add (distance);". </font><font style="vertical-align: inherit;">Ele deve sair como mostrado na Figura 32. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bf/wa/zl/bfwazly38mrpwolpx4awmowj10o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">32 - Construindo um gr√°fico</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Em seguida, pressione "F5" e prossiga para estudar o comportamento do algoritmo ant. </font><font style="vertical-align: inherit;">Dever√° resultar em algo, como mostrado na Figura 33. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3w/8w/is/3w8wissyoccebi-8ona5px-cop0.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">33 - Modelagem</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, no final, recomendo adicionar mais imprevisibilidade ao modelo. </font><font style="vertical-align: inherit;">Para isso, na guia "Projetos", selecione o elemento "Simula√ß√£o: principal" com o mouse e defina o par√¢metro "Aleatoriedade" como "N√∫mero inicial aleat√≥rio (execu√ß√µes √∫nicas)" na guia de propriedades - isso far√° com que cada modelo seja √∫nico (Fig. 34). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ie/ow/i6/ieowi6e32wykpsao8owpxbwzwzu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">34 - Fazendo execu√ß√µes aleat√≥rias</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Obrigado pela aten√ß√£o! </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O c√≥digo-fonte pode ser baixado no GitHub</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt500978/index.html">Retrays atrasados ‚Äã‚Äãpor RabbitMQ</a></li>
<li><a href="../pt500980/index.html">Brain rx</a></li>
<li><a href="../pt500984/index.html">Apple ruim ou feliz dia da r√°dio, geeks</a></li>
<li><a href="../pt500986/index.html">Monitoramento no data center: como alteramos o antigo BMS para um novo. Parte 3</a></li>
<li><a href="../pt500992/index.html">Como est√° o Gerenciamento de Desempenho nas melhores empresas de TI</a></li>
<li><a href="../pt500996/index.html">Como se tornar um engenheiro de DevOps em seis meses ou at√© mais r√°pido. Parte 1. Introdu√ß√£o</a></li>
<li><a href="../pt501002/index.html">Umka: nova linguagem de script estaticamente tipada</a></li>
<li><a href="../pt501004/index.html">Fa√ßa. Trabalhos</a></li>
<li><a href="../pt501006/index.html">Somos amigos STM32 com display LCD 1604 no barramento I2C (biblioteca HAL)</a></li>
<li><a href="../pt501008/index.html">Pavimenta√ß√£o de domin√≥s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>