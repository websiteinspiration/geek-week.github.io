<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦃 👦🏾 🚩 Como criar um projeto Django a partir de um modelo 👩🏾‍🎤 💪🏼 😑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Olá de novo! Especialmente para os alunos do curso "Desenvolvedor Web em Python", preparamos outra tradução interessante.
 
 
 
 
 Um modelo de projet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como criar um projeto Django a partir de um modelo</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/488098/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Olá de novo! </font><font style="vertical-align: inherit;">Especialmente para os alunos do curso </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Desenvolvedor Web em Python",</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> preparamos outra tradução interessante.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/_c/dp/9z/_cdp9zo7tpy3bzjeh-cyrcscd6y.png"><br>
<hr><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um modelo de projeto Django é uma maneira natural de resolver problemas que surgem quando o formato padrão do projeto Django não atende mais aos requisitos. </font><font style="vertical-align: inherit;">Hoje, neste guia, você aprenderá como criar seu próprio projeto a partir de um modelo.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que é um modelo de projeto no Django?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dos recursos pouco conhecidos do Django é a capacidade de criar um projeto a partir de um modelo, ou seja, uma estrutura de diretório personalizada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso é conveniente quando o formato padrão do projeto não é mais suficiente (e definitivamente não será suficiente quando você deseja implantar sua solução em produção, acredite em mim) ou quando chegar ao ponto em que utilizará as mesmas configurações repetidamente para muitos projetos no Django. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um modelo de projeto Django nada mais é do que um projeto com uma estrutura de diretório personalizada predefinida que você pode criar em minutos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um exemplo do modelo popular do Django é o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">django-cookiecutter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Django cookiecutter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ele possui uma ampla gama de funções e configurações que já estão prontas para implantação auto-suficiente na produção; esse é o caminho que pode ser usado para criar quase qualquer novo projeto no Django. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">django-cookiecutter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> às vezes </font><i><font style="vertical-align: inherit;">é</font></i><font style="vertical-align: inherit;"> redundante, especialmente para iniciantes, portanto, antes de usá-lo, crie um modelo Django mais simples que possa ajudá-lo a entender melhor o básico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas seções a seguir, você aprenderá como criar seu próprio modelo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como criar seu próprio modelo de projeto Django</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para começar, crie um ambiente virtual Python na pasta selecionada e instale o Django (observe que estes são quatro comandos separados):</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">mkdir project-name &amp;&amp; cd $_
python3 -m venv venv
source venv/bin/activate
pip install django</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, crie um projeto Django com: </font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">django-admin startproject project_name .</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Preste atenção ao nome, ele deve ser exatamente </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Depois disso, abra o projeto no editor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Observe que em nosso exemplo, usei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para a pasta e o nome do projeto). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora você precisa olhar para cada arquivo no projeto e substituir todos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{project_name}}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (a única linha sed comando é bom). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos que você precisará modificar:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manage.py</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">settings.py</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wsgi.py</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asgi.py</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como você deve ter adivinhado, a variável </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{project_name}}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é um espaço reservado. </font><font style="vertical-align: inherit;">Por exemplo, em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manage.py,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> você precisará substituir o seguinte:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml"># manage.py

def main():
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'project_name.settings')
    try:
# omit</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nisto:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml"># manage.py

def main():
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', '</span><span class="hljs-template-variable">{{ project_name }}</span><span class="xml">.settings')
    try:
# omit</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arquivo wsgi.py,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> você altera isso:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'project_name.settings')</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o seguinte:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">os.environ.setdefault('DJANGO_SETTINGS_MODULE', '</span><span class="hljs-template-variable">{{ project_name }}</span><span class="xml">.settings')</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, você pode criar qualquer configuração que desejar, ou melhor ainda, analisar as configurações do Django em arquivos separados para desenvolvimento, teste e produção. </font><font style="vertical-align: inherit;">Você encontrará um exemplo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de prosseguir para a próxima etapa, remova o ambiente virtual do modelo de projeto.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como criar um projeto Django a partir do seu próprio modelo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que você possui o modelo de projeto, pode usá-lo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, crie um novo ambiente virtual Python em outra pasta e instale o Django:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">mkdir new-django-project &amp;&amp; cd $_
python3 -m venv venv
source venv/bin/activate
pip install django</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, em vez de apenas executar o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">django-admin startproject</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , passaremos o sinalizador </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--template</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para instalar a partir do nosso modelo. </font><font style="vertical-align: inherit;">Suponha que, se você criou um modelo no diretório inicial </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~ / project-name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , faça:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">django-admin startproject --template ~/project-name new_django_project .</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este comando criará um novo projeto Django a partir do modelo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Observe que neste exemplo, usei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new-django-project</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como pasta externa e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new_django_project</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o nome do projeto). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora você pode se perguntar se é possível usar um modelo remoto do repositório no GitHub, por exemplo. </font><font style="vertical-align: inherit;">Sim, claro!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como criar um projeto Django a partir de um modelo remoto</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sinalizador </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--template</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do projeto </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inicial</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pode aceitar um URL como fonte remota. </font><font style="vertical-align: inherit;">Então você pode criar um projeto Django a partir de um modelo remoto, por exemplo:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">django-admin startproject --template https://github.com/username/repo/archive/master.zip new_django_project .</span></code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bônus: modelos para tudo</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além de padronizar os arquivos relacionados ao Django, você pode fazer o mesmo para qualquer outro arquivo no projeto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagine que você precisa implantar no Heroku onde um </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procfile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é necessário </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Para passar o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procfile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pelo sistema de modelos para que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{project_name}} seja</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> substituído pelo nome real do projeto, você pode executar o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">startproject</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com o sinalizador </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">django-admin startproject --template https://github.com/username/repo/archive/master.zip --name=Procfile new_django_project .</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verifique se o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procfile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> possui um espaço reservado para </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">release: python manage.py migrate
web: gunicorn -w 3 </span><span class="hljs-template-variable">{{ project_name }}</span><span class="xml">.wsgi --log-file -</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fontes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para criar um modelo Django sofisticado, dê uma olhada no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ponee</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um modelo Django leve, pronto para uso com o Heroku. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui está um material tão pequeno, mas interessante. </font><font style="vertical-align: inherit;">Estamos aguardando seus comentários e somos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">convidados para um webinar gratuito</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , no qual </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aprenderemos detalhadamente como testar projetos no Flask, escrever e executar testes para projetos no Flask, criar dados de teste usando o Faker e o Factory Boy.</font></font><br>
</i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt488078/index.html">Meu bot para a Copa AI AI 2019</a></li>
<li><a href="../pt488082/index.html">Em poucas palavras: Async / Await Best Practices in .NET</a></li>
<li><a href="../pt488088/index.html">Como Habr interage com órgãos estaduais e outros candidatos. Relatório de transparência para todos os anos</a></li>
<li><a href="../pt488092/index.html">Hackathons. Como tirar o máximo proveito e sobreviver</a></li>
<li><a href="../pt488096/index.html">400g. Vista do lado da transmissão. ZR / ZR +</a></li>
<li><a href="../pt488102/index.html">O relacionamento entre C # e C #: REST, gRPC e tudo mais</a></li>
<li><a href="../pt488104/index.html">DBA: Encontre índices inúteis</a></li>
<li><a href="../pt488108/index.html">Laboratório SAP HANA no Azure</a></li>
<li><a href="../pt488112/index.html">Entendendo os Iteradores em Python</a></li>
<li><a href="../pt488116/index.html">Cinco lições importantes sobre o equilíbrio do jogo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>