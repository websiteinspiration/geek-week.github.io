<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍴 🧘🏽 🖲️ パスワードで保護されたマイコンRenesas M16Cからソフトウェアを取り出します 📪 🔂 🤦🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="自動車の鉄の修理をしている友達がいます。彼はどういうわけか、自律型ヒーター制御ユニットからはんだ付けされたマイクロコントローラーを持ってきました。彼は、彼のプログラマーがそれを取らないと言いました、そして、彼はファームウェアを前後に転送できるようにしたいと思います、なぜなら 多くのブロックがあり、鉄...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>パスワードで保護されたマイコンRenesas M16Cからソフトウェアを取り出します</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469085/"><img src="https://habrastorage.org/webt/-f/lc/co/-flcco15l02rsp0smi3ha4ov224.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動車の鉄の修理をしている友達がいます。</font><font style="vertical-align: inherit;">彼はどういうわけか、自律型ヒーター制御ユニットからはんだ付けされたマイクロコントローラーを持ってきました。</font><font style="vertical-align: inherit;">彼は、彼のプログラマーがそれを取らないと言いました、そして、彼はファームウェアを前後に転送できるようにしたいと思います、なぜなら </font><font style="vertical-align: inherit;">多くのブロックがあり、鉄ではそれらはしばしば同じですが、それらが制御するユニットは異なります。</font><font style="vertical-align: inherit;">障害のあるブロックの代わりにブロックがあるようですが、ソフトウェアが異なり、交換することはできません。</font><font style="vertical-align: inherit;">その仕事は面白かったので、私はあちこち歩き回ることにしました。</font><font style="vertical-align: inherit;">トピックがあなたにとって興味深い場合は、猫の下でください...</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
被験者はM306N5FCTFPでした。</font><font style="vertical-align: inherit;">M16C / 6N5グループのマイクロコントローラーです。</font><font style="vertical-align: inherit;">M16C / 60の中核は三菱が開発した。</font><font style="vertical-align: inherit;">2003年以降、この会社の後継者であるMKはルネサスであり、現在これらのマイクロコントローラはこのブランドで知られています。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロコントローラー自体について少し</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ペブルは、100ピンQFPパッケージの16ビットマイクロコントローラーです。</font><font style="vertical-align: inherit;">カーネルには、1 MBのアドレス空間、20 MHzのクロック周波数があり、自動車のパフォーマンスを実現します。</font><font style="vertical-align: inherit;">周辺機器のセットも非常に広範です。2つの16ビットタイマーとモーターを制御するための3相PWM、あらゆる種類のUART、SPI、I2Cを自然に生成する可能性、2つのDMAチャネル、組み込みのCAN2.0Bコントローラー、およびPLLがあります。</font><font style="vertical-align: inherit;">私の意見では、それは老人にとって非常に良いことです。</font><font style="vertical-align: inherit;">ドキュメントの概要図は次のとおりです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mb/we/0z/mbwe0zgfqxwxd2ihcirztjtepqg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の仕事はソフトウェアを切り離すことなので、メモリにも非常に関心があります。</font><font style="vertical-align: inherit;">このMKは、マスクとフラッシュの2つのバージョンで作成されました。</font><font style="vertical-align: inherit;">上記のように、M306N5FCTFPを入手しました。</font><font style="vertical-align: inherit;">彼について、説明は次のように述べています：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラッシュメモリのバージョン</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">128 Kバイト+ 4K（追加の4K-データストレージ用のユーザーへのギフトとしてのいわゆるブロックAですが、プログラムを保存することもできます）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V-ver。</font><font style="vertical-align: inherit;">（+ 125°Cの範囲の自動車バージョン）</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発者がドラッグしたものをデバイスからプルする方法</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メモリプログラミングタスクのためにチップ開発者が統合しているメカニズムを研究することによって、マイクロコントローラーから何かを取得しようとするのは当然のことです。</font><font style="vertical-align: inherit;">マニュアルには、製造元がデバイスのインサーキットプログラミングの必要性に応じてブートローダーをメモリに配置したと記載されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q6/yq/ol/q6yqolkgde-5fd6fdcwm_y6skc8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上の図からわかるように、メモリはユーザー領域とブートローダー領域の2つの部分に分かれています。 2番目の方法では、デフォルトのブートローダーが工場からロードされ、ユーザーメモリの書き込み、読み取り、消去が可能で、非同期、同期、またはCANインターフェースを介して通信します。ご自身で書き換え可能、または書き換えできない場合があります。結局のところ、これは少なくともUARTを介して標準のブートローダーをノックしようとすることで簡単に確認できます。今後の見通し：ヒーターの製造元はブートローダーを気にしていなかったので、この方向にさらに掘り下げることができます。すぐに並列プログラミング方法がまだあることをすぐに予約しますが、このためのプログラマーがいなかったので、このオプションは考慮しませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブートローダー動作モードへの移行は、ハードウェアリセット中に入力CNVSS、P5_0、P5_5で特定の組み合わせによって提供されます。</font><font style="vertical-align: inherit;">次に、独自のユーティリティを作成してメモリの内容をコピーするか、完成したユーティリティを使用します。</font><font style="vertical-align: inherit;">ルネサスは「M16C Flash Starter」と呼ばれる独自のユーティリティを提供していますが、その読み取り機能はトリミングされています。</font><font style="vertical-align: inherit;">読み取った内容をディスクに保存するのではなく、ディスクのファイルと比較します。</font><font style="vertical-align: inherit;">それら。</font><font style="vertical-align: inherit;">実際、これは読書ではなく、検証です。</font><font style="vertical-align: inherit;">ただし、ファームウェアを読み取ることができるM16C-Flasherと呼ばれるドイツ語の無料ユーティリティがあります。</font><font style="vertical-align: inherit;">通常、最初のツールキットが選択されました。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読み取り保護について</font></font></h4><br>
<img src="https://habrastorage.org/webt/oe/zd/-l/oezd-l9m2zan5js3uwr0obomgta.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブートローダーが不正アクセスに対する保護を提供していなければ、すべてが非常に簡単です。マニュアルから無料で翻訳します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID検証機能</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シリアルおよびCAN交換モードで使用されます。プログラマーによって送信された識別子は、フラッシュメモリに記録された識別子と比較されます。識別子が一致しない場合、プログラマーが送信したコマンドは受け入れられません。ただし、リセットベクタの4バイトがFFFFFFFFhの場合、識別子は比較されないため、すべての命令を実行できます。識別子は、アドレス0FFFDFh、0FFFE3h、0FFFEBh、0FFFEFh、0FFFF3h、0FFFF7h、および0FFFFBhで、最初のバイトから順番に格納される7バイトです。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、プログラムにアクセスするには、大切な7バイトを知る必要があります。繰り返しになりますが、私は同じ「M16Cフラッシュスターター」を使用してMKに接続し、ゼロとFFの組み合わせが機能しないことを確認しました。この問題は何とか解決する必要があります。ここでは、アイデアがサードパーティのチャネルへの攻撃ですぐに浮上しました。すでに頭の中でスカーフのふりをして、電源回路の電流を測定できるようになりましたが、インターネットは大規模でほとんどの自転車はすでに発明されていると判断しました。数回の検索を行った結果、hackaday.ioで「リバースエンジニアリングToshiba R100 BIOS」というタイトルのSerge 'q3k' Bazanskiプロジェクトをすぐに見つけました。そして、このプロジェクトの枠組みの中で、著者は本質的にまったく同じ問題を解決しました。MKM306K9FCLRからファームウェアを抽出することです。さらに-その時、タスクはすでに彼によって首尾よく解決されました。一方で、私は少し動揺していました-興味深いなぞなぞは私によって解決されませんでした。一方、タスクは脆弱性の検索からその悪用に変わり、はるかに高速なソリューションを約束しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
簡単に言えば、q3kとまったく同じロジックが電流消費の分析から調査を開始しました。この点で、これははるかに好ましい条件にありました。彼はChipWhispererを持っていました、私はまだこれを持っていません。しかしそれ以来消費電流を削除する彼の最初のプローブは不適切であることが判明し、ノイズから何か有用なものを分離することができなかったので、彼は応答時間に単純な攻撃を試みることにしました。実際のところ、ブートローダーはコマンドの実行中にBUSY出力をプルして、ホストがビジーであること、または次のコマンドを実行する準備ができていることをホストに通知します。 q3kの仮定によると、識別子の最後のビットを送信してからビジーフラグを削除するまでの時間を測定すると、列挙中に情報のソースとして機能する可能性があります。キーの最初のバイトを列挙してこの仮定を確認すると、最初のバイトがFFhに等しい場合にのみ、時間のずれが実際に1つだけ見つかりました。時間の測定の便宜のために、著者は水晶振動子をオフにし、666 kHzの方形波をクロック入力に適用して測定手順を簡略化することにより、MKを遅くしました。その後、識別子が正常に選択され、ソフトウェアが取得されました。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のパンケーキ-熊手</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハ！</font><font style="vertical-align: inherit;">私は思った...今すぐに、プログラムをボード上のSTM32VLDiscovery c STM32F100にリベットします。STM32VLDiscoveryc STM32F100は、コードを送信して応答時間を測定し、測定結果を端末に吐き出します。</font><font style="vertical-align: inherit;">なぜなら </font><font style="vertical-align: inherit;">その前は、ターゲットコントローラーを備えたブレッドボードがUSB-UARTアダプターを介してPCに接続されていたため、ブレッドボード上の何も変更しないため、非同期モードで作業します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4h/j0/ex/4hj0ext4dvwval--yospml-loso.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブートローダーの開始時に、入力CLK1がグランドに引き下げられると、非同期の通信が必要であることを理解します。</font><font style="vertical-align: inherit;">それが私がそれを使用した理由です。サスペンダーはすでにはんだ付けされており、2つのボードをワイヤで接続しました。ディスカバリーとターゲットM306のブレッドボードです。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レベルの調和に関する注意：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜならM16には端子にTTLレベルがあり、STM32にはLVTTLがある（簡略化、詳細についてはデータシートを参照）ため、レベルマッチングが必要です。なぜならこれは、よく知られているバッテリーのように機能し、機能し、機能するデバイスではありませんが、実際にはテーブルに一度接続すると、レベルトランスレーターに悩まされることはありませんでした。 、M16からの出力は5VトレラントSTM32入力に供給されるため、気分が悪くならず、RESET M16をプルドレインするレッグをオープンドレイン出力モードにすることを忘れないでください。私は忘れてしまいました、そしてこれは失われた時間の貯金箱に+ 2時間です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この最小値は、互いの腺を理解するのに十分です。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
攻撃ソフトウェアのロジックは次のとおりです。</font></font><br>
<br>
<ol>
<li>   .    ,   ,   16     ,  20 .   ,      , ..  ,        .      9600 ,      .               9600-115200 (     115200   ).     ,         .  FBh,     «VER.1.01».<br>
</li>
<li>  «unlock»,     ,       .<br>
<img src="https://habrastorage.org/webt/wg/qh/ne/wgqhnehwy7ycyxmwenvyx0n2lwk.png"><br>
    F5h,   ,     (  ,   M16C,  0FFFDFh),  (07h),   .<br>
</li>
<li>          .<br>
</li>
<li>    (KEY1   ),    2   ,     255   .<br>
</li>
<li>    (    « »).<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ターゲットMKと通信するために、STM32のUSARTを使用して時間を測定しました。これは、インプットキャプチャモードのタイマーです。簡単のために、私はキーの最後のビットとフラグの削除の間ではなく、送信の開始とフラグの間の時間を測定しました。その理由は、最後のビットが変更される可能性があり、非同期モードではキャプチャ入力にアタッチするものがないためです。同時に、UARTはハードウェアであり、送信時間は基本的に同じであり、具体的なエラーがあってはなりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、すべての値について、結果は同じでした。完全に同一です。タイマーのクロック周波数はそれぞれ24 MHzで、時間分解能は41.6 nsです。まあ、わかりました、ターゲットMKを遅くしようとしました。何も変わっていません。ここで質問が私の頭の中で生まれました：q3kがしたように、私は何が間違っているのですか？比較後、違いが見つかりました。同期交換インターフェース（SPI）を使用しており、非同期（UART）です。そしてここのどこかで、最初に見逃した瞬間に注意を向けました。同期および非同期ブートローダーモードの配線図であっても、準備完了出力の名前は異なります</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d0/js/gb/d0jsgbifm7vo1jgbypc70elfoqu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。同期では「BUSY」、非同期では「Monitor」です。表「StandartシリアルI / Oモードの出力機能」：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ja/qk/zh/jaqkzhx4dielaovn5d3n9gykcxo.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Semyon Semenych ...」を見てください。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に逃したことは、ささいなことで間違った方法を導きました。</font><font style="vertical-align: inherit;">実際、同期モードでこれがブートローダービジーフラグである場合、非同期モード（シリアルI / Oモード2のモード）では、動作を示す「点滅」にすぎません。</font><font style="vertical-align: inherit;">おそらく、一般に、トランシーバーの準備のハードウェア信号であり、したがって、その発生の驚くべき正確さです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、SCLKピンの抵抗をグラウンドからVCCにはんだ付けし、そこにワイヤーをはんだ付けし、すべてをSPIにフックしてやり直します...</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功！</font></font></h4><br>
<img src="https://habrastorage.org/webt/qh/ce/l1/qhcel11fibxpkxoa8zibgerddgc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同期モードでは、すべてがほぼ同じで、接続を確立するための事前手順が不要で、同期が単純化され、時間の取得をより正確に実行できます。私がすぐにこのモードを選択した場合、時間を節約できます...再び複雑にし、最後のビットから時間を測定しませんでしたが、キーの最後のバイトの転送を開始する前にタイマーを開始しました。タイマーをオンにしてKEY7トランスミッターに送信します（上のスクリーンショットでは、ロジックアナライザーからカーソル間の距離を確認できます。これは測定された時間間隔です）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、識別を成功させるには十分以上でした。 1バイトの列挙を次に示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/zx/l_/dzzxl_-wct4qfyr0gqpmuaqlos8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
x軸には個別のカウント数があり、y軸にはそれぞれ送信されたキー値があります。信号対雑音比は、情報学の授業での学校でのように、フィルターが必要ないほどです。配列で最大値を見つけ、次のバイトの選択に進みます。最初の6バイトは簡単かつ迅速に選択され、最後のバイトは少し難しくなります。機能しない傲慢な列挙があるため、試行する前に「被害者」をリセットする必要があります。その結果、1回の試行に約400ミリ秒かかり、検索は最悪の場合、1分半の領域で行われます。しかし、これは最悪です。各試行の後に、ステータスを要求し、推測したらすぐに停止します。最初は、通常、ペンですばやく識別子を確認し、コンソールの出力をExcelに挿入してグラフをプロットしました。これは、1回限りのタスクだったためですが、この記事では自動反復を追加することにしました美しいコンソールのために...</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pd/dj/en/pddjenvq4joplvadcxy3lpd9gu0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、開発者がブートローダー（自分で置き換えたもの）を消去した場合、簡単に抜け出すことはできませんが、自動車用電子機器では、多くの場合、MKがまったく閉じられていません。</font><font style="vertical-align: inherit;">特に、同じルネサスのV850が搭載されている別のヒーターからのコントロールユニットは、標準のユーティリティで2本のワイヤーをはんだ付けし、ファームウェアをコピーすることですべてが決まりました。</font><font style="vertical-align: inherit;">これは、ECUの世界における暗号通貨エンジン全体です。</font><font style="vertical-align: inherit;">どうやらメーカーはチップチューニングや他の種類の干渉の現象を好まないようです...これは鎧と殻のレースのようなものです-グランドはより険しく、より高価ですが、勝者はありません... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンク：</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.dataman.com/media/datasheet/Renesas/M16C6N5Group.pdf</font></font></a><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://hackaday.io/project/723-reverse-engineering-toshiba-r100-bios/log/51302-ec-firmware-dumped</font></font></a><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://q3k.org/slides-recon-2018.pdf</font></font></a><br>
</li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja469071/index.html">人工知能マイクロソフトが麻雀を習得</a></li>
<li><a href="../ja469073/index.html">シリーズを合計する方法の離散微分または要約</a></li>
<li><a href="../ja469075/index.html">Grokay DLR</a></li>
<li><a href="../ja469077/index.html">Microsoftの新しいPythonコース[英語]</a></li>
<li><a href="../ja469079/index.html">Visual Studio CodeのPython：9月の拡張機能の更新</a></li>
<li><a href="../ja469093/index.html">あまり一般的ではなく、あまり人気のないCLIライブラリの比較：cliff、plac、plumbumなど（パート2）</a></li>
<li><a href="../ja469095/index.html">ML.NETおよびモデルビルダーの更新がリリースされました：新機能</a></li>
<li><a href="../ja469097/index.html">php7、node.js、redisを備えたCentOS 8 Webサーバー</a></li>
<li><a href="../ja469099/index.html">開発者インタビューでタスクをテストする-それは理にかなっていますか？</a></li>
<li><a href="../ja469101/index.html">英語を学ぶ：ネイティブスピーカーとして話すことを学ぶ方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>