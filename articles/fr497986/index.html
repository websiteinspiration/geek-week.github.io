<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòΩ üìØ üà∑Ô∏è Surveillance de toute la m√©moire utilis√©e par une page Web: performance.measureMemory () üëá üèôÔ∏è üëÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'auteur de l'article, dont nous publions la traduction aujourd'hui, explique comment surveiller la m√©moire allou√©e aux pages Web. Une attention parti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Surveillance de toute la m√©moire utilis√©e par une page Web: performance.measureMemory ()</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/497986/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'auteur de l'article, dont nous publions la traduction aujourd'hui, explique comment surveiller la m√©moire allou√©e aux pages Web. </font><font style="vertical-align: inherit;">Une attention particuli√®re √† la m√©moire des pages travaillant en production permet de maintenir la productivit√© des projets Web √† un niveau √©lev√©.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/uj/ux/6i/ujux6ittjoa4u5aoapnuhggx4ca.jpeg"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les navigateurs contr√¥lent automatiquement la m√©moire allou√©e aux pages Web. Lorsqu'une page cr√©e un objet, le navigateur, en utilisant ses m√©canismes internes, alloue de la m√©moire pour stocker cet objet. √âtant donn√© que la m√©moire n'est pas une ressource infinie, le navigateur effectue p√©riodiquement la collecte des ordures, au cours de laquelle les objets inutiles sont d√©tect√©s et la m√©moire qu'ils occupent est effac√©e. Le processus de d√©tection de tels objets n'est cependant pas id√©al. Il </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">a</font></a><font style="vertical-align: inherit;"> √©t√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prouv√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que l'identification absolument exacte et compl√®te de ces objets est une t√¢che insoluble. En cons√©quence, les navigateurs remplacent l'id√©e de trouver des ¬´objets inutiles¬ª par l'id√©e de trouver des ¬´objets inaccessibles¬ª. Si une page Web ne peut pas acc√©der √† l'objet via ses variables et champs d'autres objets qui lui sont accessibles, cela signifie que le navigateur peut effacer en toute s√©curit√© la m√©moire occup√©e par un tel objet. La diff√©rence entre ¬´inutile¬ª et ¬´inaccessible¬ª entra√Æne des fuites de m√©moire, comme illustr√© dans l'exemple suivant:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> object = { <span class="hljs-attr">a</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">1000</span>), <span class="hljs-attr">b</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">2000</span>) };<font></font>
setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(object.a), <span class="hljs-number">1000</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe un grand tableau inutile ici </font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais le navigateur ne lib√®re pas la m√©moire qu'il occupe en raison du fait qu'il est accessible via la propri√©t√© d'objet </font></font><code>object.b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans le rappel. Par cons√©quent, la m√©moire occup√©e par ce tableau fuit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les fuites de m√©moire sont </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fr√©quentes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le d√©veloppement Web. Ils apparaissent tr√®s facilement dans les programmes lorsque, par exemple, les d√©veloppeurs oublient de se d√©sinscrire de l'√©couteur d'√©v√©nements, lorsqu'ils capturent accidentellement des objets dans un √©l√©ment </font></font><code>iframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, lorsqu'ils oublient de fermer le travailleur, lorsqu'ils collectent des objets dans des tableaux. Si une page Web pr√©sente des fuites de m√©moire, cela conduit au fait qu'au fil du temps, la consommation de m√©moire de la page augmente. Une telle page semble lente et lente pour les utilisateurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re √©tape pour r√©soudre ce probl√®me consiste √† prendre des mesures. </font><font style="vertical-align: inherit;">La nouvelle API </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">performance.measureMemory ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permet aux d√©veloppeurs de mesurer l'utilisation de la m√©moire par les pages Web en production et, par cons√©quent, de d√©tecter les fuites de m√©moire qui glissent √† travers les tests locaux.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En quoi la nouvelle API performance.measureMemory () est-elle diff√©rente de l'ancienne performance.memory?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous √™tes familiaris√© avec l'API non standard existante </font></font><code>performance.memory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, alors vous pourriez √™tre int√©ress√© par la question de savoir comment la nouvelle API diff√®re de l'ancienne. La principale diff√©rence est que l'ancienne API renvoie la taille du tas JavaScript et la nouvelle √©value l'utilisation de la m√©moire de la page Web enti√®re. Cette distinction est importante lorsque Chrome organise le partage de segments de m√©moire entre plusieurs pages Web (ou plusieurs instances de la m√™me page). Dans de tels cas, les r√©sultats renvoy√©s par l'ancienne API peuvent √™tre d√©form√©s. √âtant donn√© que l'ancienne API est d√©finie en termes sp√©cifiques √† l'impl√©mentation, comme un tas, la normalisation est une entreprise d√©sesp√©r√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre diff√©rence est que dans Chrome, la nouvelle API prend des mesures de m√©moire lors de la collecte des ordures. </font><font style="vertical-align: inherit;">Cela r√©duit le ¬´bruit¬ª dans les r√©sultats de mesure, mais peut prendre un certain temps pour obtenir les r√©sultats. </font><font style="vertical-align: inherit;">Veuillez noter que les cr√©ateurs d'autres navigateurs peuvent d√©cider d'impl√©menter la nouvelle API sans se lier √† la r√©cup√©ration de place.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fa√ßons recommand√©es d'utiliser la nouvelle API</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation de la m√©moire par les pages Web d√©pend de l'occurrence d'√©v√©nements, des actions de l'utilisateur, de la r√©cup√©ration de place. </font><font style="vertical-align: inherit;">C'est pourquoi l'API est </font></font><code>performance.measureMemory()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con√ßue pour √©tudier le niveau d'utilisation de la m√©moire en production. </font><font style="vertical-align: inherit;">Les r√©sultats de l'appel de cette API dans un environnement de test sont moins utiles. </font><font style="vertical-align: inherit;">Voici des exemples d'options pour l'utiliser:</font></font><br>
<br>
<ul>
<li>          -     .</li>
<li>A/B-  ,            .</li>
<li>            .</li>
<li>    ,  .           .</li>
</ul><br>
<h2><font color="#3AC1EF"> </font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actuellement, l'API en question n'est prise en charge que dans Chrome 83, selon le sch√©ma Origin Trial. </font><font style="vertical-align: inherit;">Les r√©sultats renvoy√©s par l'API d√©pendent fortement de l'impl√©mentation, car diff√©rents navigateurs utilisent diff√©rentes mani√®res de repr√©senter les objets en m√©moire et diff√©rentes fa√ßons d'√©valuer le niveau d'utilisation de la m√©moire. </font><font style="vertical-align: inherit;">Les navigateurs peuvent exclure certaines zones de m√©moire de la comptabilit√© si la comptabilit√© compl√®te de toute la m√©moire utilis√©e est une t√¢che d√©raisonnablement difficile ou impossible. </font><font style="vertical-align: inherit;">Par cons√©quent, nous pouvons dire que les r√©sultats produits par cette API dans diff√©rents navigateurs ne sont pas comparables. </font><font style="vertical-align: inherit;">Il est logique de comparer uniquement les r√©sultats obtenus dans le m√™me navigateur.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avancement des travaux en cours</font></font></font></h2><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âtape</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tat</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Cr√©ation d'explications d'API</font></font><br>
</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termin√©</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Cr√©ation d'un projet de sp√©cification</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effectu√©</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Rassembler les commentaires et finaliser le projet</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effectu√©</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Tests d'essai d'origine</font></font><br>
</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effectu√©</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Lancement</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pas commenc√©</font></font></td>
</tr>
</tbody></table></div><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation de performance.measureMemory ()</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Activer la prise en charge de l'essai d'origine</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'API </font></font><code>performance.measureMemory()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est disponible dans Chrome 83 selon le sch√©ma d'essai d'origine. </font><font style="vertical-align: inherit;">Cette phase devrait se terminer avec la sortie de Chrome 84. L' </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
essai d'origine permet aux d√©veloppeurs de profiter des nouvelles fonctionnalit√©s de Chrome et de partager leurs commentaires sur la commodit√©, la convivialit√© et l'efficacit√© de ces fonctionnalit√©s avec la communaut√© Web. </font><font style="vertical-align: inherit;">Des d√©tails sur ce programme peuvent √™tre trouv√©s </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Vous pouvez vous abonner au programme sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la page d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inscription.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçInscription au programme Origin Trial</font></font></font></h3><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demandez un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jeton pour l'opportunit√© qui vous int√©resse.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez le jeton aux pages du projet pilote. </font><font style="vertical-align: inherit;">Il y a 2 fa√ßons de proc√©der:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez une </font></font><code>&lt;meta&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">balise </font></font><code>origin-trial</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">au titre de chaque page. </font><font style="vertical-align: inherit;">Par exemple, il pourrait ressembler √† </font><font style="vertical-align: inherit;">ceci: </font></font><code>&lt;meta http-equiv="origin-trial" content="TOKEN_GOES_HERE"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez acc√®s aux param√®tres du serveur, il peut ajouter un jeton √† l'aide d'un en-t√™te HTTP </font></font><code>Origin-Trial</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">En cons√©quence, l' en- </font><font style="vertical-align: inherit;">t√™te de r√©ponse devrait appara√Ætre quelque chose comme ce qui </font><font style="vertical-align: inherit;">suit: </font></font><code>Origin-Trial: TOKEN_GOES_HERE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul></li>
</ol><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçActiver une nouvelle fonctionnalit√© via les drapeaux Chrome</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin d'exp√©rimenter </font></font><code>performance.measureMemory()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pendant la </font><font style="vertical-align: inherit;">distribution avec le jeton Origin Trial, vous devez activer le drapeau </font></font><code>#experimental-web-platform-features</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans </font></font><code>chrome://flags</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçV√©rification de l'utilisation de l'API</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un appel de fonction </font></font><code>performance.measureMemory()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peut √©chouer, avec une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SecurityError lev√©e</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cela peut se produire si l'environnement ne r√©pond pas aux exigences de s√©curit√© pour les fuites d'informations. </font><font style="vertical-align: inherit;">Lors du test Origin Trial dans Chrome, cette API n√©cessite l'inclusion de l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isolement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">site</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Lorsque l'API est pr√™te pour une utilisation normale, elle s'appuiera sur la propri√©t√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crossOriginIsolated</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Une page Web peut fonctionner dans ce mode en d√©finissant les en-t√™tes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COOP et COEP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple de code:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (performance.measureMemory) {
&nbsp;&nbsp;<span class="hljs-keyword">let</span> result;
&nbsp;&nbsp;<span class="hljs-keyword">try</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;result = <span class="hljs-keyword">await</span> performance.measureMemory();<font></font>
&nbsp;&nbsp;} <span class="hljs-keyword">catch</span> (error) {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> DOMException &amp;&amp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error.name === <span class="hljs-string">"SecurityError"</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"The context is not secure."</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="hljs-keyword">else</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">throw</span> error;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(result);<font></font>
}<font></font>
</code></pre><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçTest local</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chrome prend une mesure de m√©moire lors de la collecte des ordures. </font><font style="vertical-align: inherit;">Cela signifie que l'acc√®s √† l'API ne r√©sout pas instantan√©ment la promesse. </font><font style="vertical-align: inherit;">Pour obtenir le r√©sultat, vous devez attendre la prochaine session de r√©cup√©ration de place. </font><font style="vertical-align: inherit;">L'API d√©marre de force la r√©cup√©ration de place apr√®s un certain d√©lai, qui est actuellement d√©fini sur 20 secondes. </font><font style="vertical-align: inherit;">Si vous ex√©cutez Chrome avec un indicateur de ligne de commande </font></font><code>--enable-blink-features='ForceEagerMeasureMemory'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le d√©lai sera r√©duit √† z√©ro, ce qui est utile pour le d√©bogage local et les tests locaux.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est recommand√© d'utiliser la nouvelle API en d√©finissant un moniteur de m√©moire global qui mesure le niveau d'utilisation de la m√©moire de la page enti√®re et envoie les r√©sultats au serveur, o√π ils peuvent √™tre agr√©g√©s et analys√©s. La fa√ßon la plus simple de travailler avec cette API est de prendre des mesures p√©riodiques. Par exemple, ils peuvent s'ex√©cuter toutes les </font></font><code>M</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minutes. Cependant, cela introduit des distorsions dans les donn√©es, car des pics d'utilisation de la m√©moire peuvent survenir entre les mesures. L'exemple suivant montre comment, √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aide </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">du processus de Poisson</font></a><font style="vertical-align: inherit;"> , effectuer des mesures sans erreurs syst√©matiques. Cette approche garantit que les sessions de mesure peuvent, avec une probabilit√© √©gale, avoir lieu √† tout moment ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voici une</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©monstration de cette approche,</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le code source). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, d√©clarez une fonction qui planifie le prochain d√©marrage d'une session pour mesurer la quantit√© de m√©moire consomm√©e √† l'aide d'une fonction </font></font><code>setTimeout()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec un intervalle d√©fini de mani√®re al√©atoire. </font><font style="vertical-align: inherit;">Cette fonction doit √™tre appel√©e apr√®s le chargement de la page dans la fen√™tre du navigateur.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scheduleMeasurement</span>(<span class="hljs-params"></span>) </span>{
&nbsp;&nbsp;<span class="hljs-keyword">if</span> (!performance.measureMemory) {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"performance.measureMemory() is not available."</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>;<font></font>
&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">const</span> interval = measurementInterval();
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Scheduling memory measurement in "</span> +
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Math</span>.round(interval / <span class="hljs-number">1000</span>) + <span class="hljs-string">" seconds."</span>);<font></font>
&nbsp;&nbsp;setTimeout(performMeasurement, interval);<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//       .</span>
<span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{<font></font>
&nbsp;&nbsp;scheduleMeasurement();<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fonction </font></font><code>measurementInterval()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trouve un intervalle al√©atoire, exprim√© en millisecondes, d√©fini de telle sorte qu'une mesure soit effectu√©e environ toutes les cinq minutes. </font><font style="vertical-align: inherit;">Si vous √™tes int√©ress√© par les concepts math√©matiques sur lesquels cette fonction est bas√©e, lisez la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">distribution exponentielle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">measurementInterval</span>(<span class="hljs-params"></span>) </span>{
&nbsp;&nbsp;<span class="hljs-keyword">const</span> MEAN_INTERVAL_IN_MS = <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>;
&nbsp;&nbsp;<span class="hljs-keyword">return</span> -<span class="hljs-built_in">Math</span>.log(<span class="hljs-built_in">Math</span>.random()) * MEAN_INTERVAL_IN_MS;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par cons√©quent, la fonction asynchrone </font></font><code>performMeasurement()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appelle notre API, enregistre le r√©sultat et planifie la prochaine mesure.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">performMeasurement</span>(<span class="hljs-params"></span>) </span>{
&nbsp;&nbsp;<span class="hljs-comment">// 1.  performance.measureMemory().</span>
&nbsp;&nbsp;<span class="hljs-keyword">let</span> result;
&nbsp;&nbsp;<span class="hljs-keyword">try</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;result = <span class="hljs-keyword">await</span> performance.measureMemory();<font></font>
&nbsp;&nbsp;} <span class="hljs-keyword">catch</span> (error) {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> DOMException &amp;&amp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error.name === <span class="hljs-string">"SecurityError"</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"The context is not secure."</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//    .</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">throw</span> error;<font></font>
&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;<span class="hljs-comment">// 2.  .</span>
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Memory usage:"</span>, result);
&nbsp;&nbsp;<span class="hljs-comment">// 3.   .</span><font></font>
&nbsp;&nbsp;scheduleMeasurement();<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les r√©sultats des mesures peuvent ressembler √† ceci:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// ,    :</span><font></font>
{<font></font>
&nbsp;&nbsp;<span class="hljs-attr">bytes</span>: <span class="hljs-number">60</span>_000_000,
&nbsp;&nbsp;<span class="hljs-attr">breakdown</span>: [<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">bytes</span>: <span class="hljs-number">40</span>_000_000,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">attribution</span>: [<span class="hljs-string">"https://foo.com"</span>],
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">userAgentSpecificTypes</span>: [<span class="hljs-string">"Window"</span>, <span class="hljs-string">"JS"</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;},<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">bytes</span>: <span class="hljs-number">20</span>_000_000,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">attribution</span>: [<span class="hljs-string">"https://foo.com/iframe"</span>],
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">userAgentSpecificTypes</span>: [<span class="hljs-string">"Window"</span>, <span class="hljs-string">"JS"</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;]<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une estimation du niveau global d'utilisation de la m√©moire s'affiche dans le champ </font></font><code>bytes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Pour d√©river cette estimation, les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s√©parateurs des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chiffres sont utilis√©s. Ces valeurs d√©pendent fortement de l'impl√©mentation. S'ils sont re√ßus pour diff√©rents navigateurs, vous ne pouvez pas les comparer. La fa√ßon dont ils sont obtenus peut varier m√™me dans diff√©rentes versions du m√™me navigateur. Pendant la dur√©e du programme Origin Trial, les valeurs de retour incluent des indicateurs d'utilisation de la m√©moire JavaScript par la fen√™tre principale, des indicateurs d'utilisation de la m√©moire des √©l√©ments </font></font><code>iframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">du m√™me site et des indicateurs de fen√™tres associ√©es. Lorsque l'API est pr√™te, cette valeur repr√©sentera des informations sur la m√©moire consomm√©e par JavaScript, le DOM, tous les √©l√©ments </font></font><code>iframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">associ√©s aux fen√™tres et aux travailleurs Web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
liste</font></font><code>breakdown</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">donne des informations plus d√©taill√©es sur la m√©moire utilis√©e. </font><font style="vertical-align: inherit;">Chaque entr√©e d√©crit un morceau de m√©moire et associe ce fragment √† un ensemble de fen√™tres, d'√©l√©ments </font></font><code>iframe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou de travailleurs identifi√©s par une URL. </font><font style="vertical-align: inherit;">Le champ </font></font><code>userAgentSpecificTypes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©pertorie les types de m√©moire d√©termin√©s par les fonctionnalit√©s d'impl√©mentation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est important de consid√©rer ces listes de mani√®re g√©n√©rale et de ne pas essayer, en s'appuyant sur les fonctionnalit√©s d'un certain navigateur, d'analyser tout en fonction de celles-ci. </font><font style="vertical-align: inherit;">Par exemple, certains navigateurs peuvent renvoyer une liste </font></font><code>breakdown</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vide ou des champs vides </font></font><code>attribution</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">D'autres navigateurs peuvent renvoyer </font></font><code>attribution</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plusieurs URL </font><font style="vertical-align: inherit;">dans un √©l√©ment </font><font style="vertical-align: inherit;">, indiquant qu'ils ne peuvent pas identifier √† laquelle de ces URL appartient la m√©moire.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retour d'information</font></font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le groupe de la communaut√© des performances Web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et l'√©quipe de d√©veloppement Chrome seront ravis de savoir ce que vous en pensez </font></font><code>performance.measureMemory()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et d'en savoir plus sur votre exp√©rience d'utilisation de cette API.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partagez vos id√©es sur le p√©riph√©rique API avec nous</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y a-t-il quelque chose dans cette API qui ne fonctionne pas comme pr√©vu? </font><font style="vertical-align: inherit;">Peut-√™tre qu'il manque quelque chose dont vous avez besoin pour mettre en ≈ìuvre votre id√©e? </font><font style="vertical-align: inherit;">Ouvrez une nouvelle t√¢che dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suivi de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> projet ou commentez une t√¢che existante.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signaler un probl√®me de mise en ≈ìuvre</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez trouv√© un bug dans votre impl√©mentation Chrome? </font><font style="vertical-align: inherit;">Ou peut-√™tre que la mise en ≈ìuvre est diff√©rente de la sp√©cification? </font><font style="vertical-align: inherit;">Enregistrez l'erreur ici: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new.crbug.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Essayez d'inclure autant de d√©tails que possible dans votre message, incluez des instructions simples sur la fa√ßon de reproduire l'erreur et indiquez que le probl√®me est li√© √† </font></font><code>Blink&gt;PerformanceAPIs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glitch est un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tr√®s bon moyen de d√©montrer les erreurs </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soutenez-nous</font></font></font></h2><br><font style="vertical-align: inherit;"></font><code>performance.measureMemory()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Envisagez-vous </font><font style="vertical-align: inherit;">
d'utiliser </font><font style="vertical-align: inherit;">? </font><font style="vertical-align: inherit;">Si c'est comme √ßa, dis nous en plus √† propos. </font><font style="vertical-align: inherit;">Ces histoires aident l'√©quipe de d√©veloppement Chrome √† √©tablir des priorit√©s. </font><font style="vertical-align: inherit;">Ces histoires montrent aux cr√©ateurs d'autres navigateurs l'importance de prendre en charge de nouvelles fonctionnalit√©s. </font><font style="vertical-align: inherit;">Si vous le souhaitez, envoyez un tweet √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ChromiumDev</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et dites-nous o√π et comment vous utilisez la nouvelle API. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chers lecteurs! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As-tu essay√© </font></font><code>performance.measureMemory()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr497964/index.html">T√©l√©m√©decine. St√©thoscope √©lectronique √† ing√©nierie inverse</a></li>
<li><a href="../fr497968/index.html">Ressources pour les d√©veloppeurs Web: API et √©l√©ments d'interface utilisateur</a></li>
<li><a href="../fr497980/index.html">Combien d'eau a fui? Nous r√©solvons le probl√®me par un moonwalk sur Haskell</a></li>
<li><a href="../fr497982/index.html">Approche fonctionnelle et processus de la gestion. Comment et quoi g√©rer?</a></li>
<li><a href="../fr497984/index.html">Migration de reCAPTCHA vers hCaptcha dans Cloudflare</a></li>
<li><a href="../fr497988/index.html">Profilage des performances des applications React</a></li>
<li><a href="../fr497990/index.html">PostgreSQL: D√©veloppement d'extensions (fonctions) en langage C</a></li>
<li><a href="../fr497994/index.html">Analyse des √©chapp√©es par la m√©canique du langage</a></li>
<li><a href="../fr497996/index.html">Vous ne voulez pas renforcer l'immunit√©. Ou les extr√™mes du corps humain</a></li>
<li><a href="../fr498000/index.html">Ce que j'aimerais savoir avant de d√©velopper mon propre jeu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>