<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüíº üë©üèº‚Äçüé§ ‚§¥Ô∏è Etiquetagem baseada em conte√∫do no werf collector: por que e como funciona? üë©üèæ‚Äçü§ù‚Äçüë©üèº üôãüèæ ‚òÄÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="werf √© nosso utilit√°rio GitOps CLI de c√≥digo aberto para criar e entregar aplicativos ao Kubernetes. Na vers√£o v1.1, h√° um novo recurso para o coletor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Etiquetagem baseada em conte√∫do no werf collector: por que e como funciona?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/495112/"><img src="https://habrastorage.org/webt/yy/sb/jo/yysbjolbz1n1vpwu3xcwyhjlrmm.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© nosso utilit√°rio GitOps CLI de c√≥digo aberto para criar e entregar aplicativos ao Kubernetes. </font><font style="vertical-align: inherit;">Na </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vers√£o v1.1,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> h√° um novo recurso para o coletor de imagens: marca√ß√£o de imagens por conte√∫do ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">marca√ß√£o baseada em conte√∫do</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">At√© agora, o esquema de marca√ß√£o t√≠pico no werf envolvia a marca√ß√£o de imagens do Docker usando uma tag Git, ramifica√ß√£o Git ou confirma√ß√£o Git. </font><font style="vertical-align: inherit;">Mas todos esses esquemas t√™m falhas que s√£o completamente resolvidas pela nova estrat√©gia de marca√ß√£o. </font><font style="vertical-align: inherit;">Detalhes sobre ela e por que ela √© t√£o boa - sob o corte.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retroceder um conjunto de microsservi√ßos de um reposit√≥rio Git</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitas vezes, h√° uma situa√ß√£o em que o aplicativo √© dividido em muitos servi√ßos mais ou menos independentes. As libera√ß√µes desses servi√ßos podem ocorrer independentemente: um ou v√°rios servi√ßos podem ser liberados por vez, enquanto o restante deve continuar funcionando sem nenhuma altera√ß√£o. Mas, do ponto de vista do armazenamento de c√≥digo e do gerenciamento de projetos, √© mais conveniente manter esses servi√ßos de aplicativos em um √∫nico reposit√≥rio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° situa√ß√µes em que os servi√ßos s√£o verdadeiramente independentes e n√£o est√£o conectados a um aplicativo. Nesse caso, eles estar√£o localizados em projetos separados e seu lan√ßamento ocorrer√° atrav√©s de processos de CI / CD separados em cada um dos projetos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, na realidade, os desenvolvedores geralmente dividem um √∫nico aplicativo em v√°rios microsservi√ßos, mas ter um reposit√≥rio e projeto separados para cada ... √© um exagero √≥bvio. </font><font style="vertical-align: inherit;">√â sobre essa situa√ß√£o que ser√° discutida mais adiante: v√°rios desses microsservi√ßos est√£o em um √∫nico reposit√≥rio de projeto e as libera√ß√µes ocorrem atrav√©s de um √∫nico processo no CI / CD.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tag Git e tag Git</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digamos que a estrat√©gia de marca√ß√£o mais comum seja usada - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tag-branch-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para ramifica√ß√µes Git, as imagens s√£o marcadas com o nome da ramifica√ß√£o; para uma ramifica√ß√£o por vez, h√° apenas uma imagem publicada nomeada para essa ramifica√ß√£o. </font><font style="vertical-align: inherit;">Para tags Git, as imagens s√£o marcadas de acordo com o nome da tag. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao criar uma nova tag Git - por exemplo, quando uma nova vers√£o √© lan√ßada - uma nova tag Docker ser√° criada para todas as imagens do projeto no Docker Registry:</font></font><br>
<br>
<ul>
<li> <code>myregistry.org/myproject/frontend:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice1:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice2:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice3:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice4:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice5:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/database:v1.1.10</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esses novos nomes de imagens passam pelos padr√µes do Helm para a configura√ß√£o do Kubernetes. Quando a implanta√ß√£o √© iniciada, o comando </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atualiza o campo </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nos manifestos do recurso Kubernetes e reinicia os recursos correspondentes devido ao nome da imagem alterado. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problema</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : em um caso em que o vykata real anterior (tag Git) n√£o alterou o conte√∫do da imagem, mas apenas o tag Docker que ocorre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma vez que</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> reinicie este Aplicativo e, consequentemente, seja o mais simples poss√≠vel. Embora n√£o houvesse motivo real para fazer esse rein√≠cio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, com o atual esquema de marca√ß√£o, voc√™ precisa cercar v√°rios reposit√≥rios Git separados e surge o problema de organizar a distribui√ß√£o desses v√°rios reposit√≥rios. </font><font style="vertical-align: inherit;">Em geral, esse esquema √© sobrecarregado e complexo. </font><font style="vertical-align: inherit;">√â melhor combinar muitos servi√ßos em um √∫nico reposit√≥rio e criar essas tags do Docker para que n√£o haja reinicializa√ß√µes desnecess√°rias.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marca√ß√£o de confirma√ß√£o do Git</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Werf tamb√©m tem uma estrat√©gia de marca√ß√£o relacionada aos commit do Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Git-commit √© o identificador do conte√∫do do reposit√≥rio Git e depende do hist√≥rico de edi√ß√µes de arquivo no reposit√≥rio Git, portanto, parece l√≥gico us√°-lo para marcar imagens no Docker Registry. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, a marca√ß√£o pelo commit do Git tem as mesmas desvantagens dos ramos do Git ou das tags do Git:</font></font><br>
<br>
<ul>
<li>     ,    ,  Docker-   .</li>
<li>    merge-,    ,  Docker-   .</li>
<li>    ,      Git,     ,  Docker-    .</li>
</ul><br>
<h2>   Git-    </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° outro problema relacionado √† estrat√©gia de marca√ß√£o para as ramifica√ß√µes do Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A marca√ß√£o pelo nome de uma ramifica√ß√£o funciona, desde que as confirma√ß√µes dessa ramifica√ß√£o sejam coletadas seq√ºencialmente em ordem cronol√≥gica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se no esquema atual o usu√°rio come√ßar a reconstruir a confirma√ß√£o antiga associada a alguma ramifica√ß√£o, o werf apagar√° a imagem usando a tag Docker correspondente com a vers√£o rec√©m-montada da imagem para a confirma√ß√£o antiga. As implanta√ß√µes que usam essa tag a partir de agora em risco durante o rein√≠cio do pod para extrair outra vers√£o da imagem, como resultado do qual nosso aplicativo perder√° a conex√£o com o sistema de IC e ficar√° fora de sincronia.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, com push'ahs consecutivos em um ramo com um pequeno intervalo de tempo entre eles, o commit antigo pode ser coletado posteriormente ao mais recente: a vers√£o antiga da imagem apagar√° o novo usando a tag do branch Git. </font><font style="vertical-align: inherit;">Esses problemas podem ser resolvidos pelo sistema CI / CD (por exemplo, no GitLab CI, o pipeline deste √∫ltimo √© lan√ßado para uma s√©rie de confirma√ß√µes). </font><font style="vertical-align: inherit;">No entanto, isso n√£o √© suportado por todos os sistemas e deve haver uma maneira mais confi√°vel de evitar um problema t√£o fundamental.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que √© marca√ß√£o baseada em conte√∫do?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, o que exatamente √© a marca√ß√£o baseada em conte√∫do - etiquetar imagens por conte√∫do. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para criar tags Docker, n√£o s√£o usadas as primitivas Git (ramifica√ß√£o Git, tag Git ...), mas uma soma de verifica√ß√£o associada a:</font></font><br>
<br>
<ul>
<li> <i> </i>. -    .        ,      ;</li>
<li> <i>     Git</i>. ,    Git-      werf,    -.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A chamada </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assinatura dos est√°gios da imagem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atua como uma etiqueta de identifica√ß√£o </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada imagem √© composta por um conjunto de passos: </font></font><code>from</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>before-install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>git-archive</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>imports-after-install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>before-setup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ... </font></font><code>git-latest-patch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etc. </font><font style="vertical-align: inherit;">Cada est√°gio possui um identificador, que reflete seu conte√∫do - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o est√°gio de assinatura </font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(assinatura do est√°gio)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A imagem final, composta por esses est√°gios, √© marcada com a chamada assinatura do conjunto desses est√°gios - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assinatura de est√°gios</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - que √© generalizada para todos os est√°gios da imagem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada imagem da configura√ß√£o </font></font><code>werf.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geralmente possui sua pr√≥pria assinatura e, consequentemente, a tag Docker. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A assinatura do palco resolve todos esses problemas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Resistente ao commit vazio do git.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Resistente ao git confirma que alteram arquivos que n√£o s√£o relevantes para a imagem.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N√£o leva a um problema de moagem da vers√£o atual da imagem ao reiniciar montagens para confirma√ß√µes antigas do Git da ramifica√ß√£o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, essa √© a estrat√©gia de marca√ß√£o recomendada e √© usada por padr√£o no werf para todos os sistemas de IC.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como ativar e usar no werf</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A op√ß√£o correspondente apareceu para a equipe </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><code>--tag-by-stages-signature=true|false</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
no sistema de CI, a estrat√©gia de marca√ß√£o √© definida pelo comando </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Anteriormente, um par√¢metro era definido para ele </font></font><code>werf ci-env --tagging-strategy=tag-or-branch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Agora, se voc√™ especificar </font></font><code>werf ci-env --tagging-strategy=stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">essa op√ß√£o ou n√£o, o werf usar√° uma estrat√©gia de marca√ß√£o por padr√£o </font></font><code>stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">O comando </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definir√° automaticamente os sinalizadores necess√°rios para o comando </font></font><code>werf build-and-publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ou </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), portanto, nenhuma op√ß√£o adicional para esses comandos precisar√° ser especificada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, o comando:</font></font><br>
<br>
<pre><code class="plaintext hljs">werf publish --stages-storage :local --images-repo registry.hello.com/web/core/system --tag-by-stages-signature</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... pode criar as seguintes imagens:</font></font><br>
<br>
<ul>
<li> <code>registry.hello.com/web/core/system/backend:4ef339f84ca22247f01fb335bb19f46c4434014d8daa3d5d6f0e386d</code></li>
<li> <code>registry.hello.com/web/core/system/frontend:f44206457e0a4c8a54655543f749799d10a9fe945896dab1c16996c6</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui </font></font><code>4ef339f84ca22247f01fb335bb19f46c4434014d8daa3d5d6f0e386d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° a assinatura dos est√°gios da imagem </font></font><code>backend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>f44206457e0a4c8a54655543f749799d10a9fe945896dab1c16996c6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a assinatura dos est√°gios da imagem </font></font><code>frontend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao usar fun√ß√µes especiais </font></font><code>werf_container_image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>werf_container_env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nos modelos do Helm, nada precisa ser alterado: essas fun√ß√µes geram automaticamente os nomes de imagem corretos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemplo de configura√ß√£o em um sistema de IC:</font></font><br>
<br>
<pre><code class="plaintext hljs">type multiwerf &amp;&amp; source &lt;(multiwerf use 1.1 beta)<font></font>
type werf &amp;&amp; source &lt;(werf ci-env gitlab)<font></font>
werf build-and-publish|deploy</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais informa√ß√µes de configura√ß√£o est√£o dispon√≠veis na documenta√ß√£o:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diret√≥rio ‚Üí Publicar (publicar)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trabalhar com CI / CD ‚Üí Informa√ß√µes gerais ‚Üí assinatura de est√°gios</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integra√ß√£o com GitLab CI / CD ‚Üí .gitlab-ci.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nova op√ß√£o </font></font><code>werf publish --tag-by-stages-signature=true|false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O novo valor da op√ß√£o </font></font><code>werf ci-env --tagging-strategy=stages-signature|tag-or-branch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(se n√£o for especificado, ser√° por padr√£o </font></font><code>stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se as op√ß√µes de marca√ß√£o para confirma√ß√µes do Git foram usadas antes ( </font></font><code>WERF_TAG_GIT_COMMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou a op√ß√£o </font></font><code>werf publish --tag-git-commit COMMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), certifique-se de mudar para a estrat√©gia de marca√ß√£o com </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assinatura de est√°gios</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Novos projetos s√£o melhores para mudar imediatamente para um novo esquema de marca√ß√£o.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao traduzir para o werf 1.1, √© aconselh√°vel alternar projetos antigos para o novo esquema de identifica√ß√£o, no entanto, a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">identifica√ß√£o ou ramifica√ß√£o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> antiga </font><font style="vertical-align: inherit;">ainda √© suportada.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A marca√ß√£o com base em conte√∫do resolve todos os problemas destacados no artigo:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A estabilidade do nome da tag do Docker para esvaziar confirma√ß√µes do git.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A estabilidade do nome da marca do Docker no Git confirma que alteram arquivos que n√£o s√£o relevantes para a imagem.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N√£o leva a um problema de moagem da vers√£o atual da imagem ao reiniciar montagens para confirma√ß√µes antigas do Git para ramifica√ß√µes do Git.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Use-o! </font><font style="vertical-align: inherit;">E n√£o se esque√ßa de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">visitar o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nosso </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">GitHub</font></a><font style="vertical-align: inherit;"> para criar um problema ou encontrar um existente, colocar um plus, criar um PR ou apenas assistir ao desenvolvimento do projeto.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leia tamb√©m no nosso blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√£o Werf 1.1: aprimoramentos para o construtor hoje e planos futuros</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apresentando o werf 1.0 est√°vel: o que o GitOps tem a ver com isso, status e planos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werf √© a nossa ferramenta para CI / CD no Kubernetes (revis√£o e reportagem em v√≠deo)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uma s√©rie de notas sobre inova√ß√µes no werf:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fus√£o de tr√™s vias no werf: implanta√ß√£o no Kubernetes com Helm‚Äú on steroids ‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando o werf para implementar gr√°ficos Helm complexos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> monorepo  multirepo  werf     Docker Registry</a>¬ª;</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> Docker-  werf      Dockerfile</a>¬ª.</li>
</ul></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt495098/index.html">O Pr√™mio Abel em Matem√°tica foi compartilhado por dois pioneiros nas √°reas de probabilidade e din√¢mica</a></li>
<li><a href="../pt495102/index.html">Rem√©dio total de vigil√¢ncia</a></li>
<li><a href="../pt495106/index.html">O esplendor e a pobreza do design orientado a modelos de acordo com os padr√µes de avia√ß√£o DO-331</a></li>
<li><a href="../pt495108/index.html">Quanto custa contratar, criar e demitir um funcion√°rio. Ejchar Redmadrobot Calculator</a></li>
<li><a href="../pt495110/index.html">O que acontece na Rainha das Espadas de Pushkin e o que elas tocam?</a></li>
<li><a href="../pt495114/index.html">Auto-isolamento: qual a probabilidade de contrair coronav√≠rus se voc√™ for passear</a></li>
<li><a href="../pt495116/index.html">Como esconder tudo, do nano ao macro: os cientistas desenvolveram os princ√≠pios gerais da "teoria da invisibilidade"</a></li>
<li><a href="../pt495118/index.html">Problemas ao usar o Doctrine ODM nos processos de daemon</a></li>
<li><a href="../pt495120/index.html">√â hora de repensar a seguran√ßa do OpenBSD</a></li>
<li><a href="../pt495124/index.html">Como roubar um Macbook</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>