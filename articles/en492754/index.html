<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòî üë©üèΩ‚Äçüöí üë®üèø‚Äçüç≥ Why JavaScript devours HTML: code examples ‚û°Ô∏è üíÜüèΩ üôçüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Web development is constantly evolving. Recently, one trend has become popular, which basically contradicts the generally accepted idea of ‚Äã‚Äãhow to de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Why JavaScript devours HTML: code examples</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492754/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web development is constantly evolving. Recently, one trend has become popular, which basically contradicts the generally accepted idea of ‚Äã‚Äãhow to develop web applications. Some have high hopes for him, while others are disappointed. Each has its own reasons for this, which in a nutshell is difficult to explain.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oo/4k/1f/oo4k1fjtwxiesojbv9pwre0n2no.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Web page code traditionally consists of three sections, each of which fulfills its duties: HTML-code defines the structure and semantics, CSS-code determines the appearance, and JavaScript-code determines its behavior. In teams involving designers, HTML / CSS developers and JavaScript developers, this separation is natural: designers define visual elements and a user interface, HTML and CSS developers place these visual elements on a page in a browser, and JavaScript developers add user interaction to tie everything together and ‚Äúmake it work.‚Äù Everyone can work on their tasks without interfering in the code of the other two categories of developers. But all this is true for the so-called "old style."</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In recent years, JavaScript developers began to determine the structure of the page in JavaScript, and not in HTML (for example, using the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> js framework </font><font style="vertical-align: inherit;">), which helps to simplify the creation and maintenance of user interaction code. Without js frameworks, developing modern websites is much more difficult. Of course, when you tell someone that the HTML code written by him needs to be broken into pieces and mixed with JavaScript, which he is very familiar with, this (for obvious reasons) can be perceived with hostility. At a minimum, the interlocutor will ask why we need this at all, and how we will benefit from this.</font></font><br>
<cut></cut><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a JavaScript developer in a cross-functional team, this question is sometimes asked to me, and often it is difficult for me to answer it. </font><font style="vertical-align: inherit;">All the materials I found on this topic are written for an audience that is already familiar with JavaScript. </font><font style="vertical-align: inherit;">And this is not very good for those who specialize exclusively in HTML and CSS. </font><font style="vertical-align: inherit;">But the HTML-in-JS pattern (or something else that provides the same benefits) is likely to be in demand for some time, so I think this is an important thing that everyone involved in web development should understand. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this article I will give code examples for those who are interested, but my goal is to explain this approach so that it can be understood without them.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Likbez: HTML, CSS and JavaScript</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In order to maximize the audience of this article, I want to briefly talk about what role these languages ‚Äã‚Äãplay in creating web pages, and what kind of separation between them existed initially. </font><font style="vertical-align: inherit;">If you all know this, you can skip this section.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML: for structure and semantics</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTML code (HyperText Markup Language) defines the structure and semantics of the content that will be placed on the page. </font><font style="vertical-align: inherit;">For example, the HTML code of this article contains the text that you are reading now, and in accordance with the specified structure, this text is placed in a separate paragraph, after the heading and before </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pasting CodePen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, create a simple web page with a shopping list:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/vy/a-/ygvya-pjtq3-f_43xus3zz0w0bg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We can save this code in a file, open it in a web browser, and the browser will display the result. As you can see, the HTML code in this example is a page that contains the heading ‚ÄúShopping List‚Äù (Shopping items (2 items)), an input text box, a ‚ÄúAdd Item‚Äù button and a two-item list (‚ÄúEggs‚Äù and ‚ÄúOil‚Äù). The user will enter the address in his web browser, then the browser will request this HTML code from the server, download it and display it. If there are already elements in the list, the server can send HTML with ready-made elements, as in this example. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Try typing something in the input field and click the "Add item" button. You will see that nothing is happening. The button is not associated with any code that could change HTML, and HTML cannot change anything by itself. We will return to this in a minute.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS: to change the look</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The CSS code (Cascading Style Sheets) defines the appearance of the page. </font><font style="vertical-align: inherit;">For example, the CSS of this article defines the font, spacing, and color of the text you are reading. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You may have noticed that our shopping list example looks very simple. </font><font style="vertical-align: inherit;">HTML doesn't allow things like spacing, font sizes, and colors to be specified. </font><font style="vertical-align: inherit;">That's why we use CSS. </font><font style="vertical-align: inherit;">We could add CSS code for this page to decorate it a bit: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/em/k4/mtemk4giymqzyfu_sqy0yqhw-o0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, this CSS code changed the size and thickness of the text characters, as well as the background color. </font><font style="vertical-align: inherit;">A developer can, by analogy, write rules for his own style, and they will be applied sequentially to any HTML structure: if we add </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section, button or ul</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> elements to this page </font><font style="vertical-align: inherit;">, the same font changes will apply.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But the Add Item button still does nothing: here we just need JavaScript.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: to implement behavior</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript code defines the behavior of interactive, or dynamic, elements on a page. For example, CodePen is written using JavaScript. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the Add Item button in our example to work without JavaScript, we would need to use special HTML code to force it to send data back to the server ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;form action \ u003d '...'&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> if you are suddenly interested). Moreover, the browser will reload the updated version of the entire HTML file without saving the current state of the page. If this shopping list were part of a large web page, everything the user did would be lost. It doesn‚Äôt matter how many pixels you have moved down while reading the text - when you restart the server will return you to the beginning, it doesn‚Äôt matter how many minutes of the video you watched - when you restart, it will start again.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That's how all web applications used to work: every time a user interacted with a web page, he seemed to close his web browser and open it again. This does not matter much for a simple case study, but for a large complex page, which may take some time to load, this approach is not effective for either the browser or the server. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If we want to change something on the page without completely reloading this page, we need to use JavaScript:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/qh/gd/vj/qhgdvjtm-0qokwslddjifxc_knu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Now, when we type the text in the input field and click the Add Item button, our new element is added to the list and the number of elements at the top is updated! In a real application, we would also add some code to send a new item to the server in the background so that it appears the next time the page loads.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Separating JavaScript from HTML and CSS is justified even in this simple example. </font><font style="vertical-align: inherit;">More complex interactions work like this: HTML is loaded and displayed, and JavaScript is subsequently launched to add something to it and change it. </font><font style="vertical-align: inherit;">However, as the complexity of the web application grows, we need to carefully monitor what, where and when our JavaScript code changes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If we continued to develop this app with a shopping list, we might add buttons to edit or remove items from the list. </font><font style="vertical-align: inherit;">Suppose we write JavaScript code for a button that deletes an element, but forget to add code that updates information about the total number of elements at the top of the page. </font><font style="vertical-align: inherit;">Suddenly, we get an error: after the user deletes the item, the indicated total number on the page will not match the list!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As soon as we noticed the error, we fixed it by adding the same totalText.innerHTML line from our code for Add Item to the code for Remove Item. Now we have the same code, which is duplicated in several places. Later, let's say, we want to change this code so that instead of ‚Äú(2 items)‚Äù at the top of the page it displays ‚ÄúItems: 2‚Äù. We must make sure that we do not forget to update this code in all three places: in HTML, in the JavaScript code for the Add Item button and in the JavaScript code for the Remove Item button. If we do not, we will have another error, because of which this text will change dramatically after interacting with the user.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Already in this simple example, we see how easy it is to get confused in code. </font><font style="vertical-align: inherit;">Of course. </font><font style="vertical-align: inherit;">There are approaches and practices to streamline JavaScript code to make it easier to solve this problem. </font><font style="vertical-align: inherit;">However, as things become more complicated, we will have to continue restructuring and constantly rewrite the project so that it can be easily developed and maintained. </font><font style="vertical-align: inherit;">While HTML and JavaScript are stored separately, it can take a lot of effort to ensure synchronization between the two. </font><font style="vertical-align: inherit;">This is one of the reasons new JavaScript frameworks such as React have become popular: they are designed to provide a more formalized and efficient relationship between HTML and JavaScript. </font><font style="vertical-align: inherit;">To understand how this works, we first need to go a little deeper into computer science.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imperative vs declarative programming</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The key thing to understand is the difference in thinking. Most programming languages ‚Äã‚Äãallow you to follow only one paradigm, although some of them support two at once. It is important to understand both paradigms in order to appreciate the main advantage of HTML-in-JS from the point of view of the JavaScript developer.</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="> </a>.  ¬´¬ª  ,       .         ( )   :        ,  ,    .        ,    ,   .  -     ¬´¬ª.        Vanilla JavaScript   ,  jQuery. JavaScript        .<br>
 <ul>
<li>¬´ X,   Y,   Z¬ª.</li>
<li>:     ,     .selected;        ,   .selected.</li>
</ul></li>
</ul><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="> </a>.    ,    .  ,   ,    ¬´¬ª (),       ,   - .        ,     .    (, React),     ,   ,     . ,        ,     ,       ,    .  ,      :<br>
<ul>
<li>¬´   XYZ.  ,   ,   .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: this element has a .selected class if the user selected it.</font></font></li>
</ul><br>
 </li>
</ul><br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML is a declarative language</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Forget JavaScript for a moment. </font><font style="vertical-align: inherit;">Here's an important fact: HTML is a declarative language. </font><font style="vertical-align: inherit;">In the HTML file, you can declare something like:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>My name is Mike.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the web browser reads this HTML code, it will independently determine the necessary steps and perform them:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Create a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> element </font><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Create a level 1 header element ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set the title element text to ‚ÄúHello‚Äù.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Place the title element in the section element.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Create a paragraph element ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set the text of the paragraph element to "My name is Mike".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Place a paragraph element in a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> element </font><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Place the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> element </font><font style="vertical-align: inherit;">in an HTML document.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Display the document on the screen.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For a web developer, exactly how the browser does these things does not matter: all that matters is what it does them. </font><font style="vertical-align: inherit;">This is a great example to illustrate the difference between the two programming paradigms. </font><font style="vertical-align: inherit;">In short, HTML is a declarative abstraction wrapped around an imperatively implemented web browser rendering engine. </font><font style="vertical-align: inherit;">He cares about how, so you only need to worry about what. </font><font style="vertical-align: inherit;">You can enjoy life while writing declarative HTML because the good people from Mozilla, Google and Apple wrote imperative code for you when they created your web browser.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript is an imperative language</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We already looked at a simple example of imperative JavaScript in the above shopping list example, and I described how the complexity of application functions affects the effort required to implement them and the likelihood of errors in this implementation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now let's look at a slightly more complex task and see how it can be simplified using a declarative approach. </font><font style="vertical-align: inherit;">Imagine a web page that contains the following:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a list of flagged flags, each line of which changes its color when selected;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">text below, for example, ‚Äú1 of 4 selected‚Äù, which should be updated when the flags are changed;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Select All button, which should be disabled if all the checkboxes are already selected;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Select None button, which should be disabled if the checkboxes are not selected.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is an implementation in plain HTML, CSS, and imperative JavaScript:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8p/kx/5u/8pkx5uxweemg5tmpqietjhadqpw.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> captionText = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'caption-text'</span>);
<span class="hljs-keyword">const</span> checkAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'check-all-button'</span>);
<span class="hljs-keyword">const</span> uncheckAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uncheck-all-button'</span>);
<span class="hljs-keyword">const</span> checkboxes = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'input[type="checkbox"]'</span>);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateSummary</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> numChecked = <span class="hljs-number">0</span>;<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{
    <span class="hljs-keyword">if</span> (checkbox.checked) {<font></font>
      numChecked++;<font></font>
    }<font></font>
  });<font></font>
  captionText.innerHTML = <span class="hljs-string">`<span class="hljs-subst">${numChecked}</span> of <span class="hljs-subst">${checkboxes.length}</span> checked`</span>;
  <span class="hljs-keyword">if</span> (numChecked === <span class="hljs-number">0</span>) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (numChecked === checkboxes.length) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
}<font></font>
<font></font>
checkAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">true</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">'checked'</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
uncheckAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">false</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">''</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
  checkbox.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = checkbox.checked ? <span class="hljs-string">'checked'</span> : <span class="hljs-string">''</span>;<font></font>
    updateSummary();<font></font>
  });<font></font>
});</code></pre><br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Headache as it is</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To implement this function using imperative JavaScript, we need to give the browser some detailed instructions. </font><font style="vertical-align: inherit;">This is a verbal description of the code from the example above. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In our HTML, we declare the original page structure:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There are four row elements (a row of a table, it is a list), each of which contains a flag. </font><font style="vertical-align: inherit;">The third flag is checked.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a text ‚Äú1 of 4 selected‚Äù.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a Select All button that is turned on.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a Select None button, which is disabled.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In our JavaScript, we write instructions on what needs to be changed when each of these events happens: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When a flag changes from unmarked to marked:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the row containing the checkbox and add the CSS class .selected to it.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find all the flags in the list and calculate how many of them are marked and how many are not.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the text and update it, indicating the correct number of selected purchases and their total number.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the Select None button and turn it on if it was disabled.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If all the checkboxes are now checked, find the Select All button and turn it off.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When a flag changes from marked to unmarked:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the row containing the flag and remove the .selected class from it.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find all the checkboxes in the list and calculate how many of them are checked and how many are not.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the resume text item and update it with the verified number and total.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the Select All button and turn it on if it was disabled.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If all the boxes are unchecked, find the Select None button and turn it off.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the Select All button is pressed:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find all the checkboxes in the list and mark them.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find all the rows in the list and add the .selected class to them.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the text and update it.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the Select All button and turn it off.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the Select None button and turn it on.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the Select None button is pressed:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find all the checkboxes in the list and clear all the checkboxes.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find all the rows in the list and remove the .selected class from them.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the resume text element and update it.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the Select All button and turn it on.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the Select None button and turn it off.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wow ... That's a lot, right? Well, we better not forget to write code for all possible situations. If we forget or mess up any of these instructions, we will get an error: the totals will not match the checkboxes, or the button will turn on that does nothing when you click on it, or the selected row will get the wrong color or something yet, which we have not thought about and will not know until the user complains. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We really have a big problem here: there is no entity that would contain complete information about the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">state</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">of our application (in this case, this is the answer to the question ‚Äúwhat flags are marked?‚Äù) and would be responsible for updating this information. </font><font style="vertical-align: inherit;">Flags, of course, know if they are checked, but CSS code for the rows of the table, text, and each button should also be aware of this. </font><font style="vertical-align: inherit;">Five copies of this information are stored separately throughout the HTML, and when it changes in any of these places, the JavaScript developer must catch this and write imperative code to synchronize with changes in other places.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And this is still a simple example of one small page component. </font><font style="vertical-align: inherit;">Even if this set of instructions looks like a headache, imagine how complex and fragile a larger web application becomes when you need to implement all this in imperative JavaScript. </font><font style="vertical-align: inherit;">For many complex, modern web applications, this solution does not scale from the word "completely."</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We are looking for the source of truth</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tools like React allow declarative use of JavaScript. </font><font style="vertical-align: inherit;">Just as HTML is a declarative abstraction over the instructions for displaying in a web browser, so React is a declarative abstraction over JavaScript.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remember how HTML allows us to focus on the structure of the page rather than implementation details, and how does the browser display this structure? Similarly, when we use React, we can focus on the structure, defining it based on data stored in one place. This process is called one-way binding, and the location of the application state data is called the ‚Äúsingle source of truth.‚Äù When the source of the truth changes, React will automatically update the page structure for us. He will take care of the required steps backstage, as a web browser for HTML does. Although React is used as an example here, this approach also works for other frameworks such as Vue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's get back to our list of checkboxes from the example above. </font><font style="vertical-align: inherit;">In this case, the ‚Äútruth‚Äù that we want to know is rather concise: which flags are checked? </font><font style="vertical-align: inherit;">Other details (for example, text, color of lines, which buttons are turned on) are already information obtained on the basis of the source of truth. </font><font style="vertical-align: inherit;">And why should they have their own copy of this information? </font><font style="vertical-align: inherit;">They should simply use a single read-only source of truth, and all page elements should ‚Äújust know‚Äù which checkboxes are checked and behave accordingly. </font><font style="vertical-align: inherit;">You can say that table rows, text and buttons should be able to automatically respond to a checkbox depending on whether it is checked or not (‚Äúsee what‚Äôs happening there?‚Äù)</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tell me what you want (what you really want)</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To implement this page with React, we can replace the list with a few simple fact descriptions:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a list of true / false values ‚Äã‚Äãcalled checkboxValues ‚Äã‚Äãthat shows which fields are marked.</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: checkboxValues ‚Äã‚Äã\ u003d [false, false, true, false]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This list shows that we have four flags, only the third is set.</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For each value in checkboxValues ‚Äã‚Äãin the table, there is a row that:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">has a CSS class called .selected if the value is true, and</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contains a flag that is checked if the value is true.</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a text element that contains the text "{x} of {y} selected", where {x} is the number of true values ‚Äã‚Äãin checkboxValues, and {y} is the total number of values ‚Äã‚Äãin checkboxValues.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a Select All button that is enabled if checkboxValues ‚Äã‚Äãhas false values.</font></font></li>
<li>  Select None,  ,   checkboxValues ‚Äã‚Äã  true.</li>
<li>  ,     checkboxValues.</li>
<li>  Select All ,     checkboxValues ‚Äã‚Äã true.</li>
<li>   Select None    checkboxValues ‚Äã‚Äã  false.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You will notice that the last three paragraphs are still imperative instructions (‚ÄúWhen this happens, do it‚Äù), but this is the only imperative code that we need to write. These are three lines of code, and they all update a single source of truth. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The rest is declarative statements (‚Äúthere is ...‚Äù), which are now built directly into the definition of the page structure. To do this, we write code for our elements using a special JavaScript syntax extension - JavaScript XML (JSX). It resembles HTML: JSX allows you to use HTML-like syntax to describe the structure of the interface, as well as regular JavaScript. This allows us to mix JS logic with the HTML structure, so the structure can be different at any time. It all depends on the contents of checkboxValues.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We rewrite our example on React:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/np/bv/zknpbvuumzprgv3vrejfyv99vkk.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ChecklistTable</span>(<span class="hljs-params">{ columns, rows, initialValues, ...otherProps }</span>) </span>{
  <span class="hljs-keyword">const</span> [checkboxValues, setCheckboxValues] = React.useState(initialValues);<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">true</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uncheckAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">false</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCheckboxValue</span>(<span class="hljs-params">rowIndex, checked</span>) </span>{
    <span class="hljs-keyword">const</span> newValues = checkboxValues.slice();<font></font>
    newValues[rowIndex] = checked;<font></font>
    setCheckboxValues(newValues);<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword">const</span> numItems = checkboxValues.length;
  <span class="hljs-keyword">const</span> numChecked = checkboxValues.filter(<span class="hljs-built_in">Boolean</span>).length;<font></font>
  <font></font>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table pf-m-grid-lg"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"grid"</span> {<span class="hljs-attr">...otherProps</span>}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">caption</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{numChecked} of {numItems} items checked<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{checkAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">numItems}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-primary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Check all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{uncheckAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">0}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-secondary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Uncheck all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">caption</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">td</span> /&gt;</span>
          {columns.map(function(column) {
            return <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"col"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{column}</span>&gt;</span>{column}<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>;
          })}
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
        {rows.map(function(row, rowIndex) {
          const [firstCell, ...otherCells] = row;
          const labelId = `item-${rowIndex}-${firstCell}`;
          const isChecked = checkboxValues[rowIndex];
          return (
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{firstCell}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isChecked</span> ? '<span class="hljs-attr">checked</span>' <span class="hljs-attr">:</span> ''}&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table__check"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                  <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
                  <span class="hljs-attr">name</span>=<span class="hljs-string">{firstCell}</span>
                  <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">{labelId}</span>
                  <span class="hljs-attr">checked</span>=<span class="hljs-string">{isChecked}</span>
                  <span class="hljs-attr">onChange</span>=<span class="hljs-string">{function(event)</span> {
                    <span class="hljs-attr">setCheckboxValue</span>(<span class="hljs-attr">rowIndex</span>, <span class="hljs-attr">event.target.checked</span>);
                  }}
                /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[0]}</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">{labelId}</span>&gt;</span>{firstCell}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              {otherCells.map(function(cell, cellIndex) {
                return (
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{cell}</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[1</span> + <span class="hljs-attr">cellIndex</span>]}&gt;</span>
                    {cell}
                  <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                );
              })}
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          );
        })}
      <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><font></font>
  );<font></font>
};<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ShoppingList</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChecklistTable</span>
      <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Shopping list"</span>
      <span class="hljs-attr">columns</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">Item</span>', '<span class="hljs-attr">Quantity</span>']}
      <span class="hljs-attr">rows</span>=<span class="hljs-string">{[</span>
        ['<span class="hljs-attr">Sugar</span>', '<span class="hljs-attr">1</span> <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Butter</span>', '¬Ω <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Eggs</span>', '<span class="hljs-attr">2</span>'],
        ['<span class="hljs-attr">Milk</span>', '¬Ω <span class="hljs-attr">cup</span>'],
      ]}
      <span class="hljs-attr">initialValues</span>=<span class="hljs-string">{[false,</span> <span class="hljs-attr">false</span>, <span class="hljs-attr">true</span>, <span class="hljs-attr">false</span>]}
    /&gt;</span></span><font></font>
  );<font></font>
}<font></font>
<font></font>
ReactDOM.render(<font></font>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ShoppingList</span> /&gt;</span></span>,
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'shopping-list'</span>)<font></font>
);<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSX looks peculiar. </font><font style="vertical-align: inherit;">When I first encountered this, it seemed to me that it was simply impossible to do so. </font><font style="vertical-align: inherit;">My initial reaction was: ‚ÄúWhat? </font><font style="vertical-align: inherit;">HTML cannot be inside JavaScript code! ‚Äù </font><font style="vertical-align: inherit;">And I was not the only one. </font><font style="vertical-align: inherit;">However, this is not HTML, but JavaScript dressed up as HTML. </font><font style="vertical-align: inherit;">In fact, this is a powerful solution. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remember those 20 imperative instructions above? </font><font style="vertical-align: inherit;">Now we have three of them. </font><font style="vertical-align: inherit;">The rest (internal) imperative instructions React itself executes for us behind the scenes - every time checkboxValues ‚Äã‚Äãchanges.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With this code, the situation can no longer occur when the text or color of the line does not match the checkboxes, or when the button is on, although it should be disabled. </font><font style="vertical-align: inherit;">There is a whole category of errors that now simply cannot occur in our web application. </font><font style="vertical-align: inherit;">All work is done on the basis of a single source of truth, and we developers can write less code and sleep better at night. </font><font style="vertical-align: inherit;">Well, JavaScript developers, at least ...</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript defeated HTML: starved</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As web applications become more complex, maintaining the classic separation of tasks between HTML and JavaScript is becoming more painful. </font><font style="vertical-align: inherit;">HTML was originally designed for static web pages. </font><font style="vertical-align: inherit;">To add more complex interactive functions there, it is necessary to implement the appropriate logic in imperative JavaScript, which with each line of code becomes more and more confused and fragile.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Advantages of the modern approach: predictability, reusability and combination</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ability to use a single source of truth is the most important advantage of this model, but it has other advantages. Defining our page elements in JavaScript code means that we can reuse components (individual blocks of a web page), preventing us from copying and pasting the same HTML code in several places. If we need to change a component, just change its code in only one place. In this case, changes will occur in all copies of the component (inside one or even in many web applications, if we use reusable components in them).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We can take simple components and put them together like LEGO cubes, creating more complex and useful components without making their logic too confusing. </font><font style="vertical-align: inherit;">And if we use components created by other developers, we can easily roll up updates or bug fixes without having to rewrite our code.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The same JavaScript, only in profile</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These benefits have a downside. </font><font style="vertical-align: inherit;">There are good reasons why people appreciate the separation of HTML and JavaScript. </font><font style="vertical-align: inherit;">As I mentioned earlier, abandoning regular HTML files complicates the workflow for someone who hasn't worked with JavaScript before. </font><font style="vertical-align: inherit;">Those who previously could independently make changes to the web application, now must acquire additional complex skills in order to maintain their autonomy, or even place in the team.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are also technical flaws. For example, some tools, such as linters and parsers, accept only normal HTML as input, and working with third-party JavaScript plug-ins may be more difficult instead. In addition, JavaScript is not the best language, but it is a uniform standard accepted for web browsers. New tools and features make it better, but there are still some pitfalls in it that you need to know about before you work with it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another potential problem: when the semantic structure of the page is broken into abstract components, the developer may stop thinking about which HTML elements will be generated as a result. Specific HTML tags such as </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section and aside</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, have their own semantics, which are lost when using general-purpose tags such as </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">div and span</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - even if they visually look the same on the page. </font><font style="vertical-align: inherit;">This is especially important for making the web application accessible to different categories of users. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, this will affect the behavior of the screen reader for visually impaired users. </font><font style="vertical-align: inherit;">Perhaps these are not the most interesting tasks for the developer, but JavaScript developers should always remember that preserving the semantics of HTML in this case is the most important </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conscious need vs unconscious trend</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recently, the use of frameworks in every project has become a trend. Some people believe that the separation of HTML and JavaScript is outdated, but it is not. For a simple static website that does not require complicated user interaction, this is just right. More ardent React fans may disagree with me here, but if all your JavaScript does is create a non-interactive web page, you should not use it. JavaScript doesn't load as fast as regular HTML. Therefore, if you do not set the task to gain new development experience or improve the reliability of the code, JavaScript here will do more harm than good.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, there is no need to write your entire website in React. Or Vue! Or what else is there ... Many people do not know this, because all the tutorials basically show how to use React to develop a site from scratch. If you have only one small complex widget on a simple website, you can use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React for one component</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . You don‚Äôt always have to worry about webpack, Redux, Gatsby or anything else that someone recommends as ‚Äúbest practices‚Äù there.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But if the application is quite complex, using a modern declarative approach is absolutely worth it. </font><font style="vertical-align: inherit;">Is React the best solution? </font><font style="vertical-align: inherit;">No. </font><font style="vertical-align: inherit;">He already has strong competitors. </font><font style="vertical-align: inherit;">And then more and more will appear ... But declarative programming will not go anywhere, and in some new framework, this approach will probably be rethought and implemented even better.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en492730/index.html">US Department of Defense: Ethics for AI and Unmanned Vehicles</a></li>
<li><a href="../en492742/index.html">Visualize Node JS application data with Prometheus + Grafana</a></li>
<li><a href="../en492744/index.html">Which system will be the loudest, and which will give ‚Äúabsolute‚Äù silence: two interesting scientific projects</a></li>
<li><a href="../en492746/index.html">How to avoid programming outrage? Integrator Tips</a></li>
<li><a href="../en492748/index.html">Profession DevOps-engineer: a view of the system administrator</a></li>
<li><a href="../en492758/index.html">Podcasts for Developers</a></li>
<li><a href="../en492760/index.html">CSS Grid: Typing a responsive 20-line magazine layout</a></li>
<li><a href="../en492762/index.html">Investor alphabet: what is margin call and how to avoid it</a></li>
<li><a href="../en492766/index.html">We pump work with events in Angular</a></li>
<li><a href="../en492768/index.html">Greybox Fuzzing by the example of AFLSmart</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>