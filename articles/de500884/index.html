<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌶️ 👩🏾‍⚖️ ⚗️ Verwenden von VueJS mit Django 🏦 ◀️ ⬆️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor Beginn des Python Web Developer- Kurses wurde eine Übersetzung des Artikels erstellt .
 
 
 
 Einführung
 Jetzt arbeite ich an einem sehr interess...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Verwenden von VueJS mit Django</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/500884/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vor Beginn des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python Web Developer-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kurses wurde eine Übersetzung des Artikels erstellt </font><font style="vertical-align: inherit;">.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/nl/l8/j3/nll8j3yukrxa2szuf4bjfx9dleu.png"><br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einführung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jetzt arbeite ich an einem sehr interessanten Projekt. Und alles ist kompliziert, weil das Projekt selbst sehr umfangreich ist und ich mich in meiner Freizeit alleine damit beschäftige, während ich Vollzeit arbeite. Deshalb muss ich effektiv sein. Glücklicherweise verwende ich Django mit dem Ansatz </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„Batterie eingeschlossen“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich nutze alle Funktionen von Django, was die Entwicklung beschleunigt, und ich möchte die Template-Engine nicht aus den Augen verlieren. Daher sind das Backend für Django und das Frontend für JavaScript SPA für mich keine Option. Selbst der eifrigste Backend-Entwickler muss jedoch zugeben, dass einige Dinge auf der Client-Seite implementiert werden müssen. Kleinere Benutzeraktionen sollten kein erneutes Laden der Seite erfordern. Darüber hinaus erfordern einige Teile der von mir erstellten Webanwendung eine ziemlich komplizierte Benutzerinteraktion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Traditionell könnte man Django und jQuery mischen, um das gewünschte Verhalten zu erzielen. Aber jetzt gibt es neuere JavaScript-Technologien wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Da unser Ziel darin besteht, ein Framework zu finden, das wir mit Django verwenden können, ohne alles von Grund auf neu zu schreiben, werden wir Vue als einfachere Alternative verwenden. </font><font style="vertical-align: inherit;">In diesem Artikel werde ich Ihnen zeigen, wie Sie Vue mit Django mit minimalem Aufwand verwenden können.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation und Einrichtung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Einer der Gründe für die Verwendung von Vue ist die hervorragende </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Es hat viele Beispiele, eine anständige Suche und ein klares Inhaltsverzeichnis. </font><font style="vertical-align: inherit;">Der Zweck dieses Artikels ist es zu zeigen, dass Sie Vue sofort in Ihren Django-Projekten verwenden können, ohne das komplizierte stundenlange Setup. </font><font style="vertical-align: inherit;">Daher verwenden wir die einfachste Verbindungsmethode </font></font><code>Vue.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und fügen sie über das Tag hinzu </font></font><code>&lt;</code><code>script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;!-- development version, includes helpful <span class="hljs-built_in">console</span> warnings --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jetzt können wir unsere erste Instanz erstellen </font></font><code> Vue.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;div id=<span class="hljs-string">"app"</span>&gt;<font></font>
  {{ message }}<font></font>
&lt;/div&gt;</code></pre><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue({
  <span class="hljs-attr">delimiters</span>: [<span class="hljs-string">"[["</span>, <span class="hljs-string">"]]"</span>],
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Vue!'</span><font></font>
  }<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Ich habe dieses Beispiel dem offiziellen Leitfaden für die ersten Schritte entnommen. </font><font style="vertical-align: inherit;">Es gibt jedoch noch etwas anderes. </font><font style="vertical-align: inherit;">Standardmäßig verwenden Django und Vue dieselben Vorlagen-Tags. </font><font style="vertical-align: inherit;">Daher müssen wir Vue explizit von Django trennen, um Konflikte mit der Django-Vorlagen-Engine zu vermeiden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Greifen Sie von Vue aus auf Django-Daten zu</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Der einfachste Weg, Daten abzurufen, ist die Verwendung des integrierten Filters </font></font><code>jscon_script</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Django</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Auf diese Weise können Sie Ihre Django-Modelle sofort als Daten für Vue-Instanzen verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In HTML:</font></font><br>
<br>
<pre><code class="xml hljs">{{ django_template_variable|json_script:"djangoData" }}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Und dann laden wir in JavaScript die Daten in eine Variable:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> jsVariable = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'djangoData'</span>).textContent);</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und sie ist bereit für Vue:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">new</span> Vue({
  <span class="hljs-attr">delimiters</span>: [<span class="hljs-string">"[["</span>, <span class="hljs-string">"]]"</span>],
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: jsVariable<font></font>
})</code></pre><br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausführen asynchroner Anforderungen im Backend</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Eine der häufigsten Aufgaben am Frontend von Vue ist das Abfragen der Serveranwendung im Backend. Mit einer vollständigen Django-App müssen wir dies nicht bei jeder Benutzeraktion tun. In einigen Fällen ist ein erneutes Laden der gesamten Seite großartig, und das Django-Vorlagensystem bietet alle Vorteile. Um die Benutzererfahrung zu verbessern und Vue voll auszunutzen, müssen wir in einigen Fällen möglicherweise noch Backend-Anfragen stellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vue selbst weiß nicht, wie man mit Anfragen umgeht. In diesem Artikel werde ich </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Axios verwenden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie es auch von der offiziellen Vue-Dokumentation empfohlen wird. </font><font style="vertical-align: inherit;">Sie können andere Alternativen wählen. </font><font style="vertical-align: inherit;">Um den CSRF-Schutzmechanismus von Django zu bestehen, muss axios das entsprechende Cookie in seine Anforderungen aufnehmen. </font><font style="vertical-align: inherit;">Am einfachsten ist es, standardmäßig globale Axios-Werte festzulegen:</font></font><br>
<br>
<pre><code class="javascript hljs">axios.defaults.xsrfCookieName = <span class="hljs-string">'csrftoken'</span>;<font></font>
axios.defaults.xsrfHeaderName = <span class="hljs-string">"X-CSRFTOKEN"</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Darüber hinaus können wir eine Axios-Instanz mit den erforderlichen Einstellungen erstellen:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> instance = axios.create({
    <span class="hljs-attr">xsrfCookieName</span>: <span class="hljs-string">'csrftoken'</span>,
    <span class="hljs-attr">xsrfHeaderName</span>: <span class="hljs-string">"X-CSRFTOKEN"</span>,<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Ihre Django-Vorlage sollte ein Tag enthalten, </font></font><code>{% csrf_token %}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder alternativ sollte die entsprechende Ansicht einen Dekorator verwenden </font></font><code>ensure_csrf_cookie()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der Rest des Standard-Backends für eine Django-Sitzung zur Authentifizierung funktioniert sofort. </font></font><code>loginRequired</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies </font><font style="vertical-align: inherit;">bedeutet, dass Sie Ihre Dienste im Backend mit solchen Dingen versehen </font><font style="vertical-align: inherit;">können und es einfach funktioniert. </font><font style="vertical-align: inherit;">Um eine Anfrage zu stellen, können Sie axios verwenden:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">axios.post('/django/backend/endpoint', {
    data: jsVariable 
})
    .then(function (response) {
        // handle response
    })
    .catch(function (error) {
        // handle error
    });</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Dieser Aufruf kann über den </font></font><code>mounted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hook der Vue-Instanz oder von jedem anderen Ort aus erfolgen, an dem Sie JavaScript-Code einfügen können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie </font></font><code>CSRF_USE_SESSIONS  CSRF_COOKIE_HTTPONLY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Django in den Einstellungen </font><font style="vertical-align: inherit;">aktiviert haben </font><font style="vertical-align: inherit;">, müssen Sie das CSRF-Token aus dem DOM lesen. </font><font style="vertical-align: inherit;">Weitere Informationen hierzu finden Sie in der offiziellen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://docs.djangoproject.com/en/3.0/ref/csrf/&amp;usg=ALkJrhiP7wAv_NZAio-tSktEKYSyrC1DuA#acquiring-the-token-if-csrf-use-sessions-or-csrf-cookie-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Django-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dokumentation </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Wenn Sie über Django + Vue googeln, beziehen sich die meisten Suchergebnisse auf die Verwendung von Django im Backend und Vue für ein separates Projekt im Frontend. </font><font style="vertical-align: inherit;">Zwei unabhängige Projekte erschweren die Arbeit und Sie verlieren den Zugriff auf das Django-Vorlagensystem, was wiederum eine sehr effektive Möglichkeit ist, Zeit zu sparen. </font><font style="vertical-align: inherit;">Andererseits kann der Zugriff auf ein Framework wie Vue in der Welt der Webanwendungen Wunder bewirken, die über die CRUD-Funktionalität hinausgehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Glück müssen wir uns nicht zwischen ihnen entscheiden. </font><font style="vertical-align: inherit;">Diese Anleitung zeigt, dass Sie mit zwei Kaninchen gut mithalten können!</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erweiterung der Funktionen von Django</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (kostenloses Webinar).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500860/index.html">In China werden Überwachungskameras vor den Eingangstüren und in den Wohnungen der Bürger installiert</a></li>
<li><a href="../de500862/index.html">Rad von Sansara: Prinzipien des Kampfes gegen die Routine</a></li>
<li><a href="../de500864/index.html">Wenn Information und funktionale Sicherheit erfüllt werden</a></li>
<li><a href="../de500874/index.html">Übersetzung von Andrew Un's Buch, Leidenschaft für maschinelles Lernen, Kapitel 44 - 46</a></li>
<li><a href="../de500882/index.html">Als ich das japanische Kreuzworträtsel in 4 Stunden schrieb</a></li>
<li><a href="../de500886/index.html">Buch Python: Künstliche Intelligenz, Big Data und Cloud Computing</a></li>
<li><a href="../de500888/index.html">Kontrolle von Bargeldtransaktionen: So vermeiden Sie Betrug</a></li>
<li><a href="../de500890/index.html">Top 100 am schnellsten wachsende und fallende unter Quarantäne gestellte Artikel</a></li>
<li><a href="../de500892/index.html">py-to-js</a></li>
<li><a href="../de500896/index.html">Was gibt es in Quarantäne zu sehen? Eine Auswahl von Materialien aus Technostream (Teil 3)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>