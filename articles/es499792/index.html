<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👶 🖨️ 📊 Prueba de carga Atlassian Jira, Confluence, Bitbucket Part 1 👵🏼 🆖 👩🏽‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¡Hola a todos! 
 
 Quiero compartir mi experiencia con Atlassian Jira, Confluence y Bitbucket stress testing usando Atlassian dc-app-performance-toolk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Prueba de carga Atlassian Jira, Confluence, Bitbucket Part 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499792/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¡Hola a todos! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiero compartir mi experiencia con Atlassian Jira, Confluence y Bitbucket stress testing usando Atlassian </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dc-app-performance-toolkit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta será una serie de artículos en los que no hablaré sobre la metodología de las pruebas de carga, pero solo hablaré sobre los aspectos técnicos de las pruebas de carga utilizando la herramienta.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si desea obtener más información sobre la metodología de prueba de carga en el contexto de los productos Atlassian, hablé de esto en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Highload 2018</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, pasemos al kit de herramientas dc-app-performance-tool. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta herramienta le permite cargar aplicaciones Atlassian de prueba como Jira, Confluence y Bitbucket. Aprendí sobre esta herramienta cuando necesitaba probar el plugin Atlassian Jira para la certificación en el Centro de datos, e inmediatamente me gustó esta herramienta porque no tuve que pasar horas configurándola. Todo salió de la caja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La herramienta utiliza </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tauro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jmeter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selenio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede usar esta herramienta para los siguientes propósitos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Está desarrollando complementos para Atlassian Marketplace. En este caso, puede usar esta herramienta para certificar su complemento para el Centro de datos.</font></font></li>
<li>  Atlassian Jira, Confluence  Bitbucket           , ,      ,         .         .   ,          .      -   .     ,        Atlassian,          Atlassian,  ,  ,     .   ,         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los pasos que debe realizar para probar Atlassian Jira, Confluence y Bitbucket son los mismos en la mayoría de los casos, por lo que haré todo el trabajo en Atlassian Jira. </font><font style="vertical-align: inherit;">Si hay pasos específicos para el producto, lo mencionaré.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalación</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo primero que debe hacer es obtener una herramienta con github:</font></font><br>
<br>
<pre><code class="plaintext hljs">git clone https://github.com/atlassian/dc-app-performance-toolkit.git</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y ve a la carpeta creada:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd dc-app-performance-toolkit</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuación, debe instalar todas las dependencias para usar la herramienta. </font><font style="vertical-align: inherit;">Puede leer cómo hacer esto en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / README.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivos de configuración</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de usar la herramienta, lea la documentación de esta herramienta en la carpeta </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / doc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí hay una breve descripción del contenido de esta carpeta:</font></font><br>
<br>
<ul>
<li>   3 md  (  Jira,   Confluence    Bitbucket).       ,             Data Center.</li>
<li> : jira, confluence  bitbucket    ,        .</li>
</ul><br>
<br>
<h2>jira.yml</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de comenzar la prueba de carga, debe realizar cambios en el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo jira.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confluence.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;o&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bitbucket.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se encuentran en la carpeta&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / app</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , según el producto que vaya a probar. </font><font style="vertical-align: inherit;">Estos son los archivos de configuración de Taurus. </font><font style="vertical-align: inherit;">Puedes leer sobre Tauro </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haré comentarios sobre jira.yml. </font><font style="vertical-align: inherit;">Los archivos para otros productos se basan en el mismo principio.</font></font><br>
<br>
<pre><code class="kotlin hljs">settings:</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la configuración es una sección del archivo de configuración de Taurus. </font><font style="vertical-align: inherit;">Contiene opciones de nivel superior para Tauro. </font><font style="vertical-align: inherit;">Puede encontrar más información sobre esta sección&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  artifacts-dir: results/jira/%Y-%m-%d_%H-%M-%S</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
artifacts-dir: plantilla de ruta que se usará para almacenar artefactos de prueba de carga. </font><font style="vertical-align: inherit;">Aquí hay una lista parcial de artefactos:</font></font><br>
<br>
<ul>
<li><code>bzt.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- el registro del comando bzt. </font><font style="vertical-align: inherit;">Este comando inicia la prueba de carga.</font></font></li>
<li><code>error_artifacts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- una carpeta para almacenar capturas de pantalla y pruebas html de Selenium, que terminó con errores.</font></font></li>
<li><code>jmeter.err</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Registro de JMeter.</font></font></li>
<li><code>kpi.jtl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Datos de prueba de JMeter.</font></font></li>
<li><code>pytest.out</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Registro de ejecución de prueba de Selenum.</font></font></li>
<li><code>selenium.jtl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Datos de prueba de selenio.</font></font></li>
<li><code>results.csv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- resultados agregados de la prueba.</font></font></li>
<li><code>jira.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- jira.yml, que se usó para las pruebas.</font></font></li>
</ul><br>
<br>
<pre><code class="kotlin hljs">  aggregator: consolidator</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
agregador: el agregador que se utilizará para recopilar resultados de pruebas y transferir los resultados al módulo de informes. </font><font style="vertical-align: inherit;">Puedes leer más sobre agregadores </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  verbose: <span class="hljs-literal">false</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
detallado: parámetro para iniciar Taurus en modo de depuración. </font><font style="vertical-align: inherit;">En nuestro caso, desactivamos este modo.</font></font><br>
<br>
<pre><code class="kotlin hljs">  env:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
env le permite establecer variables de entorno. </font><font style="vertical-align: inherit;">Puedes leer más&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">    application_hostname: localhost   # Jira DC hostname without protocol and port e.g. test-jira.atlassian.com or localhost<font></font>
    application_protocol: http      # http or https<font></font>
    application_port: <span class="hljs-number">2990</span>            # <span class="hljs-number">80</span>, <span class="hljs-number">443</span>, <span class="hljs-number">8080</span>, <span class="hljs-number">2990</span>, etc<font></font>
    application_postfix: /jira           # e.g. /jira <span class="hljs-keyword">in</span> case of url like http:<span class="hljs-comment">//localhost:2990/jira</span><font></font>
    admin_login: admin<font></font>
    admin_password: admin<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los parámetros anteriores contienen información sobre su instancia que va a probar. </font><font style="vertical-align: inherit;">Especifiqué los parámetros para la instancia de Jira, que se encuentra en mi computadora. </font><font style="vertical-align: inherit;">Estos parámetros se usarán en JMeter, Selenium y scripts.</font></font><br>
<br>
<pre><code class="kotlin hljs">    concurrency: <span class="hljs-number">200</span>
    test_duration: <span class="hljs-number">45</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estos parámetros se pasarán a la sección de ejecución. </font><font style="vertical-align: inherit;">Explicaré el significado de estos parámetros cuando hablen de esta sección.</font></font><br>
<br>
<pre><code class="kotlin hljs">  WEBDRIVER_VISIBLE: <span class="hljs-literal">false</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WEBDRIVER_VISIBLE establece la visibilidad del navegador Chrome durante la ejecución de las pruebas de Selenium. </font><font style="vertical-align: inherit;">Estamos escondiendo Chrome.</font></font><br>
<br>
<pre><code class="kotlin hljs"> JMETER_VERSION: <span class="hljs-number">5.2</span><span class="hljs-number">.1</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JMETER_VERSION es la versión de JMeter que usaremos para las pruebas.</font></font><br>
<br>
<pre><code class="kotlin hljs">    allow_analytics: Yes            # ,        Atlassian.    Atlassian ,   ,   ,       .
</code></pre><br>
<pre><code class="kotlin hljs">services:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
servicios: sección del archivo de configuración de Taurus. </font><font style="vertical-align: inherit;">Aquí se indica la información sobre qué scripts necesita ejecutar antes de comenzar, después y durante la prueba. </font><font style="vertical-align: inherit;">Puedes leer más sobre esta sección </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  - module: shellexec
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El ejecutor de shell se utiliza para ejecutar scripts. </font></font><br>
<br>
<pre><code class="kotlin hljs">    prepare:<font></font>
      - python util/environment_checker.py<font></font>
      - python util/data_preparation/jira/prepare-<span class="hljs-keyword">data</span>.py<font></font>
    shutdown:<font></font>
      - python util/jmeter_post_check.py<font></font>
      - python util/jtl_convertor/jtls-to-csv.py kpi.jtl selenium.jtl<font></font>
    post-process:<font></font>
      - python util/analytics.py jira<font></font>
      - python util/cleanup_results_dir.py<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La preparación, el apagado y el posproceso son las etapas del ciclo de vida de Tauro. </font><font style="vertical-align: inherit;">Puedes leer más sobre el ciclo de vida de Tauro </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En cada etapa, se ejecutan los scripts. </font><font style="vertical-align: inherit;">Estos scripts son:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util / environment_checker.py: comprueba la versión de Python y detiene la prueba si la versión no es la misma.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util / data_preparation / jira / prepare-data.py: prepara los datos de prueba. </font><font style="vertical-align: inherit;">Hablaremos de este script en detalle en la siguiente parte.</font></font></li>
<li>util/jmeter_post_check.py – ,    kpi.jtl.     ,  -       JMeter.</li>
<li>util/jtl_convertor/jtls-to-csv.py kpi.jtl selenium.jtl –   results.csv    kpi.jtl  selenium.jtl.  results.csv   .         :    , , 90% ,         .</li>
<li>util/analytics.py jira –    Atlassian.      Atlassian    allow_analytics.</li>
<li>util/cleanup_results_dir.py –   ,      .</li>
</ul><br>
<br>
<pre><code class="kotlin hljs">execution:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ejecución: sección del archivo de configuración de Taurus. Contiene scripts que se ejecutarán durante las pruebas. Puedes encontrar más información </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  - scenario: jmeter<font></font>
    concurrency: ${concurrency}<font></font>
    hold-<span class="hljs-keyword">for</span>: ${test_duration}<font></font>
    ramp-up: <span class="hljs-number">3</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estas son las opciones de ejecución de script para JMeter. Puedes encontrar más información&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
concurrencia es el número de usuarios virtuales. Este parámetro significa cuántos usuarios simultáneos simulará JMeter. En nuestro caso, simulamos 200 usuarios que trabajan simultáneamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aceleración: pruebe el tiempo de overclocking. Iremos a 200 usuarios que trabajan simultáneamente de forma gradual. En nuestro caso, llegaremos a 200 usuarios que trabajan simultáneamente en 3 minutos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hold-for: duración de la prueba después de alcanzar un número determinado de usuarios concurrentes en el parámetro de concurrencia.</font></font><br>
<br>
<pre><code class="kotlin hljs">  - scenario: selenium<font></font>
    executor: selenium<font></font>
    runner: pytest<font></font>
    hold-<span class="hljs-keyword">for</span>: ${test_duration}
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Opciones de ejecución de prueba de selenio. </font><font style="vertical-align: inherit;">Puedes encontrar más información&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
albacea - selenio. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
runner: las pruebas se realizarán con pytest. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hold-for - duración de la prueba.</font></font><br>
<br>
<pre><code class="kotlin hljs">scenarios:
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
escenarios: sección del archivo de configuración de Taurus. </font><font style="vertical-align: inherit;">Aquí está la configuración para cada script de la sección de ejecución.</font></font><br>
<br>
<pre><code class="kotlin hljs">  selenium:<font></font>
    script: selenium_ui/jira_ui.py<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
script: el camino a las pruebas de Selenium.</font></font><br>
<br>
<pre><code class="kotlin hljs">  jmeter:<font></font>
# provides path to the jmeter project file<font></font>
    script: jmeter/jira.jmx<font></font>
    properties:<font></font>
      application_hostname: ${application_hostname}<font></font>
      application_protocol: ${application_protocol}<font></font>
      application_port: ${application_port}<font></font>
      application_postfix: ${application_postfix}<font></font>
      # Workload model<font></font>
# the number of actions <span class="hljs-keyword">for</span> an hour. <font></font>
      total_actions_per_hr: <span class="hljs-number">54500</span>
# actions and the % of execution within one hour. The sum of all parameters must equal to <span class="hljs-number">100</span>%<font></font>
      perc_create_issue: <span class="hljs-number">4</span>
      perc_search_jql: <span class="hljs-number">13</span>
      perc_view_issue: <span class="hljs-number">43</span>
      perc_view_project_summary: <span class="hljs-number">4</span>
      perc_view_dashboard: <span class="hljs-number">12</span>
      perc_edit_issue: <span class="hljs-number">4</span>
      perc_add_comment: <span class="hljs-number">2</span>
      perc_browse_projects: <span class="hljs-number">4</span>
      perc_view_scrum_board: <span class="hljs-number">3</span>
      perc_view_kanban_board: <span class="hljs-number">3</span>
      perc_view_backlog: <span class="hljs-number">6</span>
      perc_browse_boards: <span class="hljs-number">2</span>
      perc_standalone_extension: <span class="hljs-number">0</span> # By <span class="hljs-keyword">default</span> disabled
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
script: la ruta al proyecto JMeter, que se ejecutará durante las pruebas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
total_actions_per_hr el número de acciones que se realizarán en una hora. </font><font style="vertical-align: inherit;">Una acción es realizar una prueba. </font><font style="vertical-align: inherit;">Las pruebas que se ejecutarán se pueden entender a partir de los parámetros perc_. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
parámetros perc_: porcentaje de finalización de cada prueba. </font><font style="vertical-align: inherit;">La suma de todos los parámetros perc_ debe ser igual al 100%.</font></font><br>
<br>
<pre><code class="kotlin hljs">modules:<font></font>
  consolidator:<font></font>
    rtimes-len: <span class="hljs-number">0</span> # CONFSRVDEV-<span class="hljs-number">7631</span> reduce sampling<font></font>
    percentiles: [] # CONFSRVDEV-<span class="hljs-number">7631</span> disable all percentiles due to Taurus<span class="hljs-string">'s excessive memory usage

</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
módulos: sección del archivo de configuración de Taurus. </font><font style="vertical-align: inherit;">Esta sección contiene una descripción de todos los módulos que se utilizarán durante las pruebas.</font></font><br>
<br>
<pre><code class="kotlin hljs">  jmeter:<font></font>
    version: ${JMETER_VERSION}<font></font>
    detect-plugins: <span class="hljs-literal">true</span>
    memory-xmx: <span class="hljs-number">8</span>G  # allow JMeter to use up to <span class="hljs-number">8</span>G of memory<font></font>
    plugins:<font></font>
      - bzm-parallel=<span class="hljs-number">0.4</span>
      - bzm-random-csv=<span class="hljs-number">0.6</span>
      - jpgc-casutg=<span class="hljs-number">2.5</span>
      - jpgc-dummy=<span class="hljs-number">0.2</span>
      - jpgc-ffw=<span class="hljs-number">2.0</span>
      - jpgc-fifo=<span class="hljs-number">0.2</span>
      - jpgc-functions=<span class="hljs-number">2.1</span>
      - jpgc-json=<span class="hljs-number">2.6</span>
      - jpgc-perfmon=<span class="hljs-number">2.1</span>
      - jpgc-prmctl=<span class="hljs-number">0.4</span>
      - jpgc-tst=<span class="hljs-number">2.4</span>
      - jpgc-wsc=<span class="hljs-number">0.3</span>
      - tilln-sshmon=<span class="hljs-number">1.0</span>
      - jpgc-cmd=<span class="hljs-number">2.2</span>
      - jpgc-synthesis=<span class="hljs-number">2.2</span><font></font>
    system-properties:<font></font>
      server.rmi.ssl.disable: <span class="hljs-literal">true</span><font></font>
      java.rmi.server.hostname: localhost<font></font>
      httpsampler.ignore_failed_embedded_resources: <span class="hljs-string">"true"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jmeter: parámetros del módulo JMeter. </font><font style="vertical-align: inherit;">Puedes leer sobre el módulo Jmeter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
detect-plugins: JMeter Plugins Manager le permite instalar complementos para JMeter automáticamente. </font><font style="vertical-align: inherit;">Establecemos este parámetro en yes, para que Taurus le diga a Jmeter que instale todos los complementos necesarios automáticamente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
complementos: una lista de complementos de JMeter que se utilizaron al escribir las pruebas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
propiedades del sistema: parámetros adicionales para JMeter.</font></font><br>
<br>
<pre><code class="kotlin hljs">  selenium:<font></font>
# version of the chrome driver<font></font>
    chromedriver:<font></font>
      version: <span class="hljs-string">"80.0.3987.106"</span> # Supports Chrome version <span class="hljs-number">80</span>. You can refer to http:<span class="hljs-comment">//chromedriver.chromium.org/downloads</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
selenio - parámetros para el selenio. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
chromedriver es la versión del controlador de Chrome que usaremos para las pruebas.</font></font><br>
<br>
<pre><code class="kotlin hljs">reporting:<font></font>
- <span class="hljs-keyword">data</span>-source: sample-labels<font></font>
  module: junit-xml<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
informes - sección del archivo de configuración de Taurus. </font><font style="vertical-align: inherit;">Aquí establece la configuración de los módulos de análisis e informes. </font><font style="vertical-align: inherit;">Usamos el módulo de informes JUnit xml. </font><font style="vertical-align: inherit;">Puede encontrar más información sobre este módulo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumamos </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenemos 6 secciones en el archivo jira.xml: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
configuraciones - configuraciones y parámetros de nivel superior. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debe cambiar los siguientes parámetros en esta sección:</font></font><br>
<br>
<pre><code class="kotlin hljs">application_hostname: localhost   # Jira DC hostname without protocol and port e.g. test-jira.atlassian.com or localhost<font></font>
    application_protocol: http      # http or https<font></font>
    application_port: <span class="hljs-number">2990</span>            # <span class="hljs-number">80</span>, <span class="hljs-number">443</span>, <span class="hljs-number">8080</span>, <span class="hljs-number">2990</span>, etc<font></font>
    application_postfix: /jira           # e.g. /jira <span class="hljs-keyword">in</span> case of url like http:<span class="hljs-comment">//localhost:2990/jira</span><font></font>
    admin_login: admin<font></font>
    admin_password: admin<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
También es posible que deba cambiar los siguientes parámetros:</font></font><br>
<br>
<pre><code class="kotlin hljs">concurrency: <span class="hljs-number">5</span>
test_duration: <span class="hljs-number">5</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cambié estos parámetros a valores pequeños para que las pruebas funcionen rápidamente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si cambió test_duration y concurrencia, asegúrese de verificar el parámetro de aceleración en la sección de ejecución. Es posible que deba cambiarlo también. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
servicios: scripts que se ejecutarán en las etapas del ciclo de vida de la prueba Taurus. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ejecución: parámetros de ejecución de scripts de prueba. Primero, ejecuta JMeter, y luego Selenium. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
escenarios: prueba los parámetros del script. Quizás le gustaría cambiar la cantidad de operaciones por hora y el porcentaje de pruebas. Hablaré sobre cómo agregar o eliminar pruebas en una de las siguientes partes.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
módulos: módulos utilizados para pruebas. </font><font style="vertical-align: inherit;">Utilizamos consolidator, JMeter y Selenium. </font><font style="vertical-align: inherit;">Taurus nos proporciona la disponibilidad de estos módulos durante las pruebas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
informes: parámetros del módulo de informes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno. </font><font style="vertical-align: inherit;">Hemos cambiado el archivo de configuración y estamos listos para ejecutar las pruebas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejecutar prueba</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero, active el entorno virtual de Python (puede encontrar información sobre esto en el archivo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">README.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), vaya a la carpeta de la aplicación y ejecute la prueba:</font></font><br>
<br>
<pre><code class="kotlin hljs">bzt jira.yml
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mi caso, la prueba falló con un error:</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-number">17</span>:<span class="hljs-number">03</span>:<span class="hljs-number">26</span> WARNING: Errors <span class="hljs-keyword">for</span> python util/data_preparation/jira/prepare-<span class="hljs-keyword">data</span>.py:<font></font>
There are no software projects <span class="hljs-keyword">in</span> Jira
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo es correcto. </font><font style="vertical-align: inherit;">Mi copia de Jira está vacía. </font><font style="vertical-align: inherit;">Es necesario llenarlo con datos para la prueba. </font><font style="vertical-align: inherit;">Te diré cómo hacerlo, en la parte 2.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es499774/index.html">No es un día sin deporte - 2: reprogramando un brazalete chino</a></li>
<li><a href="../es499776/index.html">Características de la implementación del lenguaje MSH</a></li>
<li><a href="../es499784/index.html">¿Qué tocan las paredes virtuales?</a></li>
<li><a href="../es499786/index.html">Clasificación de pilas débiles</a></li>
<li><a href="../es499788/index.html">Curso gratuito en línea "Documentación técnica en proyectos de TI"</a></li>
<li><a href="../es499794/index.html">PostgreSQL y JDBC exprimen todos los jugos. Vladimir Sitnikov</a></li>
<li><a href="../es499796/index.html">Cómo los tribunales en los Estados Unidos se llevan a cabo a través del zoom y por qué esto se considera un problema</a></li>
<li><a href="../es499798/index.html">Dos tapas al dinero: cómo desarrollamos un bot de chat financiero con emisión instantánea de tarjetas en Azerbaiyán</a></li>
<li><a href="../es499802/index.html">Gamedev, cyberpunk y filosofía eterna: miniserie de 3 fines de semana</a></li>
<li><a href="../es499804/index.html">Cómo trabajar eficazmente con problemas en GitHub</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>