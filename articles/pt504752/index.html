<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò± üë©‚Äçüè≠ üòµ Solte o trem. Relat√≥rio Yandex üöó üëÇüèº üëäüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os processos de libera√ß√£o em diferentes equipes Yandex (e em qualquer grande empresa de TI) s√£o organizados de maneira semelhante, mas diferem em muit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Solte o trem. Relat√≥rio Yandex</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/504752/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os processos de libera√ß√£o em diferentes equipes Yandex (e em qualquer grande empresa de TI) s√£o organizados de maneira semelhante, mas diferem em muitos detalhes. </font><font style="vertical-align: inherit;">Os desenvolvedores de dispositivos m√≥veis t√™m suas pr√≥prias especificidades: seus lan√ßamentos s√£o afetados pela ordem do layout na App Store e no Google Play. </font><font style="vertical-align: inherit;">Desenvolvedor Android Dmitry Polyakov</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dmpolyakov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ele falou sobre os processos ao seu redor - como sua equipe envia um trem de lan√ßamento dentro do cronograma, como lan√ßar lan√ßamentos n√£o programados, adicionar carros a um lan√ßamento j√° deixado e o que fazer para permanecer na pista.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8iwkFkkV9es" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ol√° pessoal, sou Dmitry Polyakov, desenvolvedor Android do aplicativo m√≥vel que uso. </font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/3_/7m/vo/3_7mvon1ympone-ubzvk7pydfhm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, em duas equipes - desenvolvimento para Android e iOS - 13 pessoas cada. </font><font style="vertical-align: inherit;">Isso nos permite realizar muitas tarefas legais em paralelo e envi√°-las rapidamente aos usu√°rios. </font><font style="vertical-align: inherit;">No relat√≥rio, vou contar como aprendemos a trabalhar com o git e a viver em um reposit√≥rio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir, mostrarei como nosso ciclo de lan√ßamento funciona. </font><font style="vertical-align: inherit;">Os gerentes v√™m at√© n√≥s e dizem que queremos implementar esse recurso o mais r√°pido poss√≠vel. </font><font style="vertical-align: inherit;">Ent√£o, provavelmente, qualquer gerente quer, ent√£o montamos o processo de lan√ßamento para irmos √† App Store e ao Google Play toda semana. </font><font style="vertical-align: inherit;">Tamb√©m vou falar sobre as ferramentas que temos e que eu recomendaria que voc√™ experimentasse, elas s√£o legais.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fluxo Git</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar com o Git Flow. Como base, adotamos o cl√°ssico Git Flow, no entanto, ele mudou muito nas nossas condi√ß√µes, na nossa equipe. Voc√™ parece tamb√©m, e talvez algo disso sirva para voc√™, mas algo n√£o. Cada equipe tem sua pr√≥pria abordagem para trabalhar com o git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como isso funciona conosco? Epic √© o ramo raiz do seu recurso, para algumas √≥timas funcionalidades. Para deixar mais claro, vejamos imediatamente o exemplo do produto. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/zg/jh/vlzgjhr8izes6bz2kkun7dbhjos.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O gerente vem e diz - o desenvolvedor, nos torna a funcionalidade da lista de desejos com os produtos selecionados no aplicativo. O desenvolvedor inicia uma nova epopeia da ramifica√ß√£o e a chama de lista de desejos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/bc/do/xwbcdo9gxegl7irkcec5nza2ley.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, ele o decomp√µe em tarefas menores, que come√ßam no rastreador. Talvez isso esteja funcionando com a rede, renderizando a interface do usu√°rio, escrevendo testes. Para cada um desses recursos, ele inicia uma tarefa no rastreador. E assim que ele come√ßa a concluir a tarefa, ele inicia o ramo de recurso correspondente. Brunches ela do mesmo √©pico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que ele termina o trabalho em um desses recursos, ele o derrama no √©pico atrav√©s da solicita√ß√£o de pool. A solicita√ß√£o de pool √© esse mecanismo quando outros desenvolvedores da sua equipe verificam seu c√≥digo. Se eles n√£o gostarem de algo, seu c√≥digo poder√° n√£o chegar ao seu √©pico, o que significa que voc√™ n√£o ser√° liberado at√© encontrar um acordo com eles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem dois desses revisores em nossa equipe. Eles s√£o atribu√≠dos aleatoriamente. Este √© um processo automatizado, que seleciona os desenvolvedores que trabalharam recentemente com os mesmos arquivos que voc√™ alterou em sua solicita√ß√£o de pool. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_p/97/-5/_p97-5ma6jzwytu4lvygspvutf8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, acontece que v√°rios √©picos com seu pr√≥prio conjunto de recursos vivem no projeto em paralelo. Um √©pico pode ter apenas um recurso. Isso pode acontecer se quisermos fazer o upload desse recurso por meio da solicita√ß√£o de pool para √©pico.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sz/_v/99/sz_v99dwik4myh-0kzscs3mwu-i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que o trabalho em todos os recursos de uma epopeia √© conclu√≠do, a tarefa primeiro √© deixada para a equipe de teste, a equipe de controle de qualidade e eles testam funcionalmente a ramifica√ß√£o. Depois que eles encontrarem erros, voc√™ os editar√° como parte deste √©pico. Uma vez que todos os bugs foram corrigidos, voc√™ preenche esse √©pico em desenvolvimento Aqui, nenhuma revis√£o de c√≥digo adicional j√° √© realizada por sua equipe, porque todo o c√≥digo j√° foi analisado durante o est√°gio de congelamento de recursos em √©pico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nosso desenvolvimento √© um ramo no qual o c√≥digo j√° testado visita, porque no est√°gio √©pico ele √© testado e o c√≥digo passou pela solicita√ß√£o de pool.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p8/z-/lh/p8z-lhg3e1_lcihf28mfwvb16hw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso nos permite criar com seguran√ßa uma nova ramifica√ß√£o de lan√ßamento no in√≠cio do ciclo de lan√ßamento. Sem medo de que haja muitos bugs que ainda n√£o foram testados. Portanto, estamos criando um novo ramo de lan√ßamento a partir do desenvolvimento, ele est√° sendo testado. Assim que a vers√£o for testada e estivermos prontos para deixar o portal ainda mais, esse ramo se fundir√° no master. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Äs vezes, temos hotfix e h√° um tipo de ramifica√ß√£o separado para ele. Esta √© uma vers√£o muito curta que precisa ser lan√ßada rapidamente. N√£o temos tempo para esperar tr√™s ou quatro dias para o pr√≥ximo ciclo de lan√ßamento. Geralmente isso √© algo pequeno.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, se algum tipo de bug entra em produ√ß√£o e √© muito cr√≠tico, precisamos corrigi-lo com urg√™ncia. Portanto, paramos a vers√£o atual, executamos o hotfix nesse bug e atualizamos nossa vers√£o. Mas o hotfix nem sempre √© uma hist√≥ria sobre bugs. √Äs vezes, temos uma necessidade de produto. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dr/wk/fn/drwkfn5ae8zg_hkfs2bmvxldwri.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, assim que o modo de auto-isolamento foi introduzido em Moscou, t√≠nhamos uma necessidade de produto para que os usu√°rios pudessem solicitar produtos sem contato. Agora, ao fazer um pedido em nosso aplicativo, o usu√°rio pode selecionar a fun√ß√£o "Deixar na porta". O correio chega, deixa o pacote embaixo da porta e o entrega sem contato.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com esta tarefa no hotfix, tamb√©m inclu√≠mos widgets t√£o diferentes que exigem que voc√™ fique em casa e encomende mercadorias por correio. N√£o v√° aos pontos de coleta agora. Implementamos essas tarefas por meio do hotfix para que possamos transmiti-las ao usu√°rio o mais r√°pido poss√≠vel, porque as consideramos importantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando temos hotfix, fazemos o brunch do mestre. Desde o desenvolvimento, ele n√£o pode ser aproveitado, porque naquele momento o novo poderia se tornar √©pico, que ainda n√£o havia sido lan√ßado. Mas n√£o queremos levar esses √©picos conosco para o hotfix, para que eles n√£o nos afetem aleatoriamente e bloqueiem nosso hotfix. Ap√≥s a conclus√£o do hotfix, injetamos no master e tamb√©m o adicionamos ao desenvolvimento, pois esse c√≥digo ainda n√£o existia no desenvolvimento.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xr/4z/p8/xr4zp8zfnt0vywy-cgeryfkama8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mestre √© uma base de c√≥digo correspondente √† vers√£o mais recente do aplicativo, que est√° agora na loja do usu√°rio. √â limpo, sem erros, porque os testes funcionais e de regress√£o j√° passaram por l√°, este √© um ramo de backup. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando nosso lan√ßamento √© conclu√≠do, tamb√©m o devolvemos ao desenvolvimento. Como parte da vers√£o, podem ser encontrados erros que n√£o foram encontrados nos testes funcionais, e √©picos diferentes podem entrar em conflito entre si. Portanto, tamb√©m injetamos a libera√ß√£o no develop para que tamb√©m tenhamos essas corre√ß√µes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/sa/wo/xdsawo_6ouutgmlx8esvcebwr-q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muito trabalho pode ser feito em √©pico e, para acompanhar o c√≥digo em desenvolvimento, o desenvolvedor √†s vezes o adiciona ao seu √©pico, para que haja menos conflitos de congelamento. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2g/2k/ix/2g2kixqf1i9odyxvwcxllmdpqik.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde que adicionamos o desenvolvimento ao √©pico, o √©pico pelos mesmos motivos precisa ser adicionado ao seu recurso.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dh/so/uz/dhsouzjdxm1ppp4xpq3vhdwqipq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos nomes de ramos √©picos e de recursos, temos um n√∫mero de ticket no rastreador de tarefas. Isso √© legal, porque √© precisamente pelo n√∫mero do ticket que podemos descobrir completamente de qualquer parte de nosso aplicativo, dentro do qual os tickets foram alterados, quem escreveu esse c√≥digo e com que finalidade ele foi escrito. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v9/f4/qz/v9f4qz3xdclxbb8nztrkl_js4ls.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A ramifica√ß√£o release e hotfix possui em seu nome o n√∫mero da vers√£o atual do aplicativo. Algumas equipes combinam o n√∫mero do hotfix com o n√∫mero da vers√£o, justificando isso dizendo que o hotfix √© algo pequeno e, talvez, n√£o muito importante para o usu√°rio. Portanto, eles n√£o aumentam a vers√£o do aplicativo. N√£o usamos essa abordagem, porque v√°rios relat√≥rios de falhas dos fabricantes chegam at√© n√≥s e queremos entender exatamente se esse relat√≥rio est√° em hotfix ou no release, para saber onde procurar o problema.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/co/_s/rt/co_srt1thzsqf8beocnd-4sys44.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dominar e desenvolver s√£o ramos que vivem constantemente em nosso reposit√≥rio. </font><font style="vertical-align: inherit;">Uma vez criado, e viva. </font><font style="vertical-align: inherit;">Portanto, eles s√£o nomeados de forma sucinta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â assim que vivemos. </font><font style="vertical-align: inherit;">Agora estamos confort√°veis, convenientes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liberar trem</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passamos para nossos processos de libera√ß√£o. Mas antes de falarmos sobre os lan√ßamentos e como os constru√≠mos, falarei sobre os pap√©is que temos para apoiar o lan√ßamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos um desenvolvedor de plant√£o que, em uma semana √∫til, deixa de lidar com as tarefas do produto e corrige os erros da vers√£o atual. Se ele n√£o tiver mais tarefas para a vers√£o atual, ele corrigir√° algumas d√≠vidas t√©cnicas que acumulamos, retira tarefas da lista de pend√™ncias e as corrige. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° tamb√©m um testador de plant√£o. Ele tamb√©m para de testar as tarefas do produto em uma semana √∫til e verifica a vers√£o atual. Se ele n√£o tiver tarefas para a vers√£o atual, ele testa o que foi corrigido como parte da d√≠vida t√©cnica.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fu/fi/0j/fufi0j3ome4h8i9wp3nheqxojte.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O lan√ßamento come√ßa na sexta-feira. √â neste dia que temos um prazo r√≠gido. √Äs 18 horas da noite, o testador de servi√ßo clica no bot√£o "Iniciar Libera√ß√£o". Ap√≥s esse momento, tudo o que ser√° despejado no desenvolvimento n√£o cair√° mais na vers√£o atual, porque ap√≥s clicar no bot√£o, uma ramifica√ß√£o de vers√£o foi criada, a adi√ß√£o foi adicionada e a vers√£o mais n√£o ser√° despejada l√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outro processo importante est√° ocorrendo na sexta-feira, outro item do release atual, que discutirei mais adiante.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xa/nf/j9/xanfj95wvggoa9ae3ex8qqqulo4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s temos um descanso nos finais de semana, ent√£o o segundo dia de lan√ßamento √© segunda-feira. O desenvolvedor de plant√£o come√ßa o dia com uma an√°lise. Ele est√° olhando para o que foi alterado na vers√£o atual em termos de c√≥digo. Leva git diff entre a ramifica√ß√£o de vers√£o atual e o mestre. E por essa diferen√ßa, ele analisa quais componentes foram afetados. Isso pode afetar o processo de checkout ou a cesta, e o trabalho com pedestais n√£o √© afetado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, ele forma uma lista de v√°rios casos que ser√£o testados durante o teste. Isso nos ajuda a acelerar nossa regress√£o, verifique n√£o o aplicativo inteiro. Quando a lista √© compilada, a equipe de teste verifica o aplicativo e o desenvolvedor de plant√£o corrige os bugs. Se ele tiver muitos bugs, ele poder√° delegar parte para outros desenvolvedores que trabalharam recentemente com esses trechos de c√≥digo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sj/hx/qu/sjhxquzyhfutqbccdiimluahi4s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na ter√ßa-feira, continuamos testando nossa vers√£o e corrigindo bugs. No final da tarde, nossos testes de regress√£o terminam e estamos prontos para partir para o port√£o. Lan√ßamos nosso trem de libera√ß√£o - na verdade, at√© v√°rios trens de libera√ß√£o, porque recentemente entramos em um novo mercado para n√≥s. Tamb√©m recomendo que voc√™ tente publicar n√£o apenas no Google Play, mas tamb√©m em alguns outros. A vantagem n√£o √© apenas o fato de voc√™ ter um novo p√∫blico fiel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De alguma forma, publicamos nossa vers√£o e, ap√≥s algumas horas, descobrimos que o n√∫mero de bugs entre os usu√°rios aumentou significativamente. Analisamos esses bugs, analisamos e vimos que eles ocorrem apenas em dispositivos Huawei. N√£o entendemos imediatamente o que estava acontecendo, mas t√≠nhamos a Huawei, testamos, encontramos um bug, corrigimos e atualizamos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que chegamos com a atualiza√ß√£o no Google Play, vimos um banner grande, que dizia que, devido √† situa√ß√£o atual no mundo, o Google Play tem uma carga muito pesada e eles n√£o t√™m tempo para verificar os aplicativos o mais r√°pido poss√≠vel. Descobrimos que ainda n√£o t√≠nhamos tempo para verificar nosso aplicativo, n√£o alcan√ßamos os usu√°rios do Google Play, mas fomos publicados apenas na Huawei AppGallery. E essa foi a raz√£o pela qual tivemos bugs apenas na Huawei. Assim, foi poss√≠vel detectar e corrigir um erro cr√≠tico antes de publicar no Google Play. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, mostrarei como as publica√ß√µes s√£o organizadas por meio do Google Play, porque temos uma parcela muito grande de usu√°rios l√°. E na Huawei AppGallery, sa√≠mos recentemente e ainda estamos tentando entender como tudo est√° organizado l√°.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o publicamos imediatamente para todos os usu√°rios no Google Play, para que algum tipo de erro aleat√≥rio n√£o afete todo o p√∫blico. Publicamos apenas para todos os testadores que concordam com o fato de que podem ter um bug, mas ser√£o os primeiros a receber nossas altera√ß√µes e lan√ßamentos. Al√©m disso, publicamos apenas cinco por cento da audi√™ncia. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v9/oz/2l/v9oz2ljeaekmx8usvcjuiuznspa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na quarta-feira, o desenvolvedor de plant√£o est√° assistindo a um novo lan√ßamento sem falhas. √â importante para n√≥s que n√£o haja novos acidentes e que n√£o haja muitos acidentes antigos. Se tudo estiver normal, ele ainda verifica as m√©tricas do produto. Por exemplo, para que o n√∫mero de pedidos n√£o caia em compara√ß√£o com o mesmo per√≠odo. Se nossas m√©tricas de produtos e sem falhas forem boas, lan√ßaremos outros 5%, um total de 10%.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lv/hu/n5/lvhun5qsl1n5hbgwaqd9jkqx3wg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na quinta-feira, o desenvolvedor de plant√£o verifica os coment√°rios na loja. Na verdade, ele os assiste na quarta-feira. √â verdade que na quarta-feira ainda temos uma pequena audi√™ncia, uma ou duas cr√≠ticas. Mas na quinta-feira h√° mais cr√≠ticas para julgar o lan√ßamento. Pode haver 10-15 pe√ßas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por que ele olha as avalia√ß√µes se temos muitas m√©tricas e gr√°ficos? O aplicativo pode n√£o falhar, mesmo as m√©tricas podem estar em ordem. Mas √© poss√≠vel que o usu√°rio tenha fontes ou talvez algum filtro n√£o funcione para ele. Tentamos fazer o uso do aplicativo para o usu√°rio o mais conveniente poss√≠vel e analisamos tais an√°lises, bugs ou problemas corretos que o usu√°rio encontra. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se as revis√µes estiverem em ordem, a aus√™ncia de falhas tamb√©m √© normal e as m√©tricas do produto n√£o ca√≠ram, j√° estamos lan√ßando 20%.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rv/iu/yc/rviuycqo7k6fyj19lbyp0fiiios.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E assim come√ßa sexta-feira, o dia do lan√ßamento de nosso lan√ßamento. O terceiro ponto que eu queria falar √© que na sexta-feira concluiremos o lan√ßamento atual. N√≥s passamos de 20% para 100% imediatamente. Parece ser um salto muito grande e muito arriscado. Mas isso depende da equipe e do seu p√∫blico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
20% de nosso p√∫blico nos permite com alta probabilidade julgar a estabilidade do lan√ßamento. E se tudo estiver bem em 20% e na sexta-feira n√£o tivermos problemas, iremos direto para o cent√©simo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conhe√ßo as equipes que usam o hacker no Google Play - talvez ele tamb√©m o ajude. Voc√™ pode lan√ßar n√£o em 100%, mas em 99,9%. Isso deixar√° voc√™ com um bot√£o no Google Play para interromper com urg√™ncia o lan√ßamento. E se voc√™ lan√ßar 100%, esse bot√£o desaparecer√°. Mas, como eu disse, por vinte por cento da nossa audi√™ncia, podemos julgar com precis√£o a estabilidade do lan√ßamento. Portanto, lan√ßamos calmamente para 100%, o que nos salva de etapas adicionais. E ent√£o voc√™ precisa rolar outros 0,01%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este √© o nosso processo, por isso pedalamos toda semana e tentamos n√£o nos perder. </font></font><br>
<img src="https://habrastorage.org/webt/iz/by/t0/izbyt0vtnuby5e8waeul0z6q1-i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que outras ferramentas temos para apoiar a boa vida do usu√°rio ao seu lado? S√£o atualiza√ß√£o for√ßada, atualiza√ß√£o suave e altern√¢ncia de recursos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zf/le/gy/zflegyxge_qjtp2ofwyn3yao5sk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For√ßar atualiza√ß√£o - um mecanismo que bloqueia o uso do aplicativo se sua vers√£o estiver muito desatualizada. A vers√£o considerada obsoleta √© configurada no painel de administra√ß√£o do servidor. E assim que o n√∫mero for alterado l√°, alguns aplicativos ter√£o uma caixa que n√£o permitir√° que voc√™ v√°. S√≥ haver√° um bot√£o Atualizar, o usu√°rio ser√° for√ßado a atualizar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentamos usar esse mecanismo o menos poss√≠vel, mas √†s vezes √© muito importante. Por exemplo, se quebrarmos a compatibilidade com vers√µes anteriores, lan√ßamos um novo recurso que n√£o √© suportado no c√≥digo antigo. Em seguida, o usu√°rio da vers√£o desatualizada do aplicativo pode acabar em um estado inconsistente. Ele ir√° para a cesta e, por exemplo, ele n√£o ter√° um pedido. Ele n√£o entender√° o porqu√™, embora na nova vers√£o todos os erros sejam registrados e fique claro por que n√£o √© poss√≠vel fazer um pedido.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qr/06/lv/qr06lv9bomtqej9pqnd03yql0_u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para ajudar a For√ßar atualiza√ß√£o, existe o Soft Update. Isso √© algo nativo do Google, que √© simplesmente incorporado ao seu aplicativo e n√£o impede o uso. Mas ela diz - h√° uma atualiza√ß√£o no Google Play, instale-a e voc√™ ter√° novos itens interessantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, √© implementado por esse di√°logo. Este √© um design nativo do Android. E ent√£o ele pode ser incorporado ao seu aplicativo. Por exemplo, o implementamos em nosso widget "Atualizar o aplicativo" em nosso esquema de cores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Soft Update nos permitiu reduzir bastante a cauda das vers√µes e √© implementado simplesmente de acordo com a documenta√ß√£o. Experimente se voc√™ tiver muitos lan√ßamentos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wv/op/cb/wvopcbrb6hqumkxhzcd4zhhvl9k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra ferramenta importante √© a Altern√¢ncia de recursos. Permite ajustar parte da funcionalidade no lado do usu√°rio, alterando-a no painel de administra√ß√£o. H√° um conjunto de recursos que podemos ativar e desativar em nosso servidor sem atualiza√ß√µes adicionais de aplicativos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos falar sobre como o recurso Alternar funciona no exemplo de um aplicativo de terceiros - um ve√≠culo. Inicialmente, os desenvolvedores t√™m exatamente essa bicicleta, que j√° possui dois Feature Toggle: um motor e um tamanho grande. Os clientes usam a bicicleta e a equipe de teste diz: testamos o motor, ele funciona, dirige, esfria, vamos lig√°-lo para o usu√°rio.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hz/vy/rw/hzvyrwbzofbnvnvf1j72twawoxk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos ao painel de administra√ß√£o, ativamos o recurso Alternar e a bicicleta sem atualizar o usu√°rio; em qualquer lugar, ele se transforma em um ciclomotor. O usu√°rio est√° confort√°vel, isso permite que ele se mova mais r√°pido e mais conveniente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O produto est√° em desenvolvimento, o p√∫blico est√° crescendo, n√£o cabe mais em um ciclomotor. Os usu√°rios querem levar a fam√≠lia com eles, andar juntos. Os desenvolvedores e gerentes forneceram uma altern√¢ncia de recursos adicional - um tamanho grande. N√≥s o ativamos no painel de administra√ß√£o e o ve√≠culo do usu√°rio fica maior em movimento.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/y0/xo/kn/y0xokniygytexgqv_i1cuitr_6c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece legal: o recurso Alternar nos ajuda. Isso √© verdade, mas h√° problemas que voc√™ pode encontrar. Por exemplo, voc√™ precisa monitorar a compatibilidade com vers√µes anteriores e a compatibilidade de altern√¢ncia de recursos. Suponha que, em algum momento, o aplicativo quebre o motor, ocorra um acidente ou um bug. Ou esse motor consumir√° muitos de nossos recursos e n√£o poderemos oferecer suporte a muitos usu√°rios com o motor. Ent√£o temos que deslig√°-lo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas n√£o queremos que o aplicativo do usu√°rio desapare√ßa. Queremos dar a ele a oportunidade de usar o aplicativo, apesar de ele ainda ter um Toggle com um tamanho grande. Portanto, quando desligamos o motor, precisamos ter um mecanismo de seguran√ßa para controlar o ve√≠culo. Neste caso, este √© um h√≠brido.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_9/ns/ap/_9nsapmvw-dnclz9t_7h-z-w_3m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez valesse a pena considerar que o telhado reclina. Talvez o motorista n√£o se sinta √† vontade para se sentar em um banco desses. Mas ele ainda ser√° capaz de dirigir um ve√≠culo, usar o aplicativo e n√£o andar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De que outra forma usamos o recurso Alternar? Suponha que os back-end ainda estejam sendo desenvolvidos e n√£o estejam prontos para lan√ßamento. Em seguida, podemos desenvolver parte da funcionalidade, oferecer suporte ao contrato de API para todas as comunica√ß√µes com o back-end, suportar a interface do usu√°rio e implementar com a altern√¢ncia de recursos desativada. Assim que os back-end estiverem prontos, testaremos se tudo funciona bem e, se houver, habilitaremos a altern√¢ncia de recursos. Em seguida, o usu√°rio n√£o precisar√° ser atualizado para obter novos recursos. Ou seja, j√° teremos uma audi√™ncia, apareceremos imediatamente nessa audi√™ncia. T√£o bom tamb√©m.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qz/yx/wy/qzyxwywpq1bupbynspyx8bfdtbi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, como eu j√° disse, temos 13 pessoas em cada uma das equipes de desenvolvimento para Android e iOS. </font><font style="vertical-align: inherit;">Trabalhamos em um Git Flow, em um reposit√≥rio, configuramos nosso processo de lan√ßamento planejado, reduzimos o tempo de lan√ßamento no mercado e rodamos toda semana. </font><font style="vertical-align: inherit;">Lan√ßamos recentemente o Huawei AppGallery e consultamos outras lojas. </font><font style="vertical-align: inherit;">Aprendemos como alterar aplicativos de usu√°rio sem atualiza√ß√µes devido √† altern√¢ncia de recursos. </font><font style="vertical-align: inherit;">Obrigado pela aten√ß√£o.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt504736/index.html">Encontre defeitos do radiador usando a vis√£o de m√°quina</a></li>
<li><a href="../pt504740/index.html">A evolu√ß√£o de uma aplica√ß√£o monol√≠tica em microsservi√ßos</a></li>
<li><a href="../pt504742/index.html">Compara√ß√£o de espectrogramas para dados dispon√≠veis gratuitamente de sat√©lites hiperespectrais e multiespectrais</a></li>
<li><a href="../pt504744/index.html">Classifica√ß√£o do documento: 7 abordagens pr√°ticas para conjuntos de dados pequenos</a></li>
<li><a href="../pt504748/index.html">Reconhecimento simples de rosto em tempo real no Django</a></li>
<li><a href="../pt504754/index.html">Metastocle - data warehouse descentralizado</a></li>
<li><a href="../pt504756/index.html">N√£o √© necess√°rio aprender Machine Learning</a></li>
<li><a href="../pt504758/index.html">Microsoft alerta para os perigos de novos ataques com o rony-final PonyFinal</a></li>
<li><a href="../pt504760/index.html">Joel Spolsky: Como fazer perguntas de programadores mais experientes corretamente</a></li>
<li><a href="../pt504762/index.html">O que tivemos que enfrentar ao usar o utilit√°rio Csync2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>