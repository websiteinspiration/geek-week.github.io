<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüéì ‚óºÔ∏è üßë‚Äçü§ù‚Äçüßë Tipps zur Verwendung des Wave Function Collapse-Algorithmus üêÆ üòø üí©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In letzter Zeit habe ich viel mit prozeduraler Constraint-basierter Generierung experimentiert. Insbesondere mit dem Wave Function Collapse- Algorithm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Tipps zur Verwendung des Wave Function Collapse-Algorithmus</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488336/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2f/556/757/f2f556757da50dae74a44909dca1e76d.png" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In letzter Zeit habe ich viel mit prozeduraler Constraint-basierter Generierung experimentiert. Insbesondere mit dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wave Function Collapse-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Algorithmus </font><font style="vertical-align: inherit;">(WFC, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Wave Function Collapse</font></a><font style="vertical-align: inherit;"> ). Ich habe sogar meine eigene </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open-Source-Bibliothek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font><font style="vertical-align: inherit;">mein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unity-Asset geschrieben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WFC ist ein sehr flexibler Algorithmus, insbesondere mit den von mir entwickelten Verbesserungen. Gleichzeitig fiel es mir jedoch schwer, mit seiner Hilfe </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">praktische</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ebenen f√ºr Computerspiele </font><font style="vertical-align: inherit;">zu erstellen </font><font style="vertical-align: inherit;">. Die Hauptschwierigkeit besteht darin, dass der WFC keine globale Struktur hat. Alles, was er tut, ist, die Ausgabegenerierung lokal √§hnlich wie die Eingabe aussehen zu lassen, indem er beispielsweise einzelne kleine Rechtecke der Ausgabe betrachtet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel werde ich Ihnen erz√§hlen, was ich gelernt habe und was Generatoren basierend auf Einschr√§nkungen auf ein neues Niveau bringen kann.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Grundlagen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist schwierig, WFC zu verwenden, wenn Sie nicht wissen, wie es funktioniert. Dies ist ein auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einschr√§nkungen basierender</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prozeduraler Generierungsalgorithmus </font><font style="vertical-align: inherit;">, dem in letzter Zeit viel Aufmerksamkeit geschenkt wurde. Tats√§chlich hat es praktisch nichts mit dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konzept der Quantenphysik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu tun, zu </font><font style="vertical-align: inherit;">dessen Ehren es benannt wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WFC ist einfach zu konfigurieren. Sie geben dem Algorithmus lediglich ein Beispiel f√ºr eine Karte. Anschlie√üend werden neue Karten generiert, </font><font style="vertical-align: inherit;">die aufgrund der wiederholten Verwendung ihrer kleinen Fragmente wie die Originalkarte </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aussehen</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt zwei Arten - mit einer benachbarten Anordnung oder mit einer √úberlagerung von Elementen. Dies kann in 2D oder 3D und sogar auf Gittern mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sechsecken</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unebenheiten erfolgen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gitter. </font><font style="vertical-align: inherit;">Die meisten meiner Tipps gelten unabh√§ngig davon, wie Sie den Algorithmus verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich schlage vor, dass Sie mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieser Demo spielen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um sich ein Bild √ºber den Algorithmus zu machen, und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diese Einf√ºhrung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbersetzung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf Habr√©] </font><font style="vertical-align: inherit;">lesen, </font><font style="vertical-align: inherit;">wenn Sie an technischen Details interessiert sind.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fliesenset-Design</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der WFC-Algorithmus basiert auf Kacheln. </font><font style="vertical-align: inherit;">In diesem Sinne h√§ngt die Qualit√§t von den Kacheln ab, die Sie zur Arbeit darauf √ºbertragen. </font><font style="vertical-align: inherit;">Ich bin kein K√ºnstler, daher kann ich wenig beim Zeichnen sch√∂ner Kachels√§tze helfen (obwohl Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier sehen k√∂nnen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), aber ein guter Kachelsatz erfordert auch technisches Wissen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marschw√ºrfel</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marching Cubes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein Algorithmus, der ausw√§hlt, welche Kacheln festgelegt werden sollen, je nachdem, ob jeder Scheitelpunkt der Kachel voll oder leer ist. </font><font style="vertical-align: inherit;">Hier ist die Liste der f√ºr 2D verwendeten Kacheln.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/404/214/092/404214092cf2f31e96b3b6f2a267c622.svg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie Kacheln so erstellen, dass die schwarzen und wei√üen Ecken immer √ºbereinstimmen, werden die roten Linien immer korrekt verbunden. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier brauchen wir kein Verst√§ndnis des gesamten Algorithmus, aber es sollte beachtet werden, dass die Idee, Kacheln nur unter Ber√ºcksichtigung ihres Verhaltens in den Ecken zu entwerfen, eine sehr leistungsf√§hige Technik ist. </font><font style="vertical-align: inherit;">Es wird in vielen der besten Kachels√§tze verwendet, da es sicherstellt, dass die Kacheln immer gut verbunden sind.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Technik ist besonders leistungsf√§hig f√ºr WFC. </font><font style="vertical-align: inherit;">Es ist passiert, denn wenn Sie ein paar Kacheln verpassen, spielt WFC keine Rolle. </font><font style="vertical-align: inherit;">Er wird dieses Problem umgehen und niemals Konfigurationen erstellen, f√ºr die fehlende Kacheln erforderlich sind. </font><font style="vertical-align: inherit;">Dies ist sehr praktisch f√ºr 3D, da es Dutzende potenzieller Kacheln gibt, von denen einige nur in sehr schwierigen Situationen erforderlich sind. </font><font style="vertical-align: inherit;">Siehe den Abschnitt ‚ÄûFoundation‚Äú weiter unten, in dem ich diesen Trick noch h√§ufiger verwende. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es mag auch hilfreich sein </font><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">andere Kachelmuster</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu kennen </font><font style="vertical-align: inherit;">, aber Marching Cubes ist das Beste.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die R√§ume</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manchmal ist es am einfachsten, mit einfachen Kachels√§tzen zu arbeiten. </font><font style="vertical-align: inherit;">Diese Kombination von 4 Kacheln (eine Kachel ist leer) erzeugt leicht quadratische R√§ume.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dd0/bbb/376/dd0bbb3765876baac62417e760149058.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e76/245/14b/e7624514b5103da9afa5e4be2fce86c3.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Gr√∂√üe der R√§ume kann leicht ge√§ndert werden, indem das Gewicht jeder Fliese ge√§ndert wird. </font><font style="vertical-align: inherit;">Nachdem Sie die T√ºr- und Korridorfliesen hinzugef√ºgt haben, k√∂nnen Sie die Vielfalt schaffen, die f√ºr die Grundrisse der Menschen charakteristisch ist.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stiftung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Arbeit mit WFC ist es interessant, mit Kachels√§tzen zu experimentieren. </font><font style="vertical-align: inherit;">Wenn Sie einfach eine Kachel legen, versucht WFC, den verbleibenden Platz optimal zu nutzen. </font><font style="vertical-align: inherit;">Manchmal f√ºhrt dies zu radikal unterschiedlichen Ergebnissen, wie das Bild von Maxim Gumin zeigt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a4f/980/7b9/a4f9807b976fa295e85b9ae0d36d3918.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir k√∂nnen dieses Verhalten verwenden, um WFC zu stimulieren, viele erkennbare Strukturen zu erzeugen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein Beispiel eines Schlosses (inspiriert von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@greentecq</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1183359478734958593"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darin habe ich folgendes Kachelset verwendet:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0b/852/df1/c0b852df1c18974c8114d48d3b7f3290.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Fliesen haben eine wichtige Eigenschaft - alle Fliesen an der Basis haben eine Breite, die nicht geringer ist als an der Oberseite. </font><font style="vertical-align: inherit;">Dies bedeutet, dass es nicht m√∂glich ist, diese Kacheln ohne Unterst√ºtzung zu erstellen. </font><font style="vertical-align: inherit;">Der WFC reagiert sofort darauf und schafft Geb√§ude mit einem guten Fundament.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fractal Split Approximation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als ich das Thema der Stimulierung bestimmter Verhaltensweisen durch Auswahl des geeigneten Kachelsatzes untersuchte, stellte ich fest, dass Sie eine gute Ann√§herung an die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rekursive Aufteilung erhalten k√∂nnen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ohne den ‚Äûrekursiven‚Äú Teil) </font><font style="vertical-align: inherit;">, wenn der Kachelsatz aus geraden Stra√üen und Zweigen besteht, jedoch ohne Ecken </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dies ist ziemlich gut f√ºr Rasterebenen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gro√üe Fliesen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen WFC hinzuf√ºgen, um Kacheln zu unterst√ºtzen, die um ein Vielfaches gr√∂√üer sind als normale Kacheln. Dies wird beispielsweise in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meinem Tessera-Addon unterst√ºtzt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gro√üe Fliesen k√∂nnen auf verschiedene Arten verwendet werden. Da sie sich √ºber die Grenzen des Rasters hinaus erstrecken, k√∂nnen Sie sie verwenden, um glattere und breitere Kurven hinzuzuf√ºgen, als dies normalerweise beim Einrasten am Raster m√∂glich ist. Sie eignen sich auch hervorragend f√ºr Elemente aus einer gro√üen Anzahl von Kacheln oder einfach zum Maskieren, dass die Generierung auf Kacheln basiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein Beispiel, um von </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Oscar Stalberg</font></a><font style="vertical-align: inherit;"> aus dem Spiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bad North</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu lernen </font><font style="vertical-align: inherit;">. Oscar demonstriert, wie er gro√üe Fliesen verwendete, um sanft geschwungene K√ºsten, gro√üe H√§user und Klippenvariabilit√§t hinzuzuf√ºgen.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-1" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1131228226901172226"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einschr√§nkungen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WFC ist im Kern ein auf Einschr√§nkungen basierender Algorithmus. </font><font style="vertical-align: inherit;">Dies bedeutet, dass er versucht, Ebenen zu generieren, die einem bestimmten Satz von Kriterien entsprechen. </font><font style="vertical-align: inherit;">In reinem WFC gibt es nur ein Kriterium: Die Pegel sehen lokal wie eine Beispieleingabe aus. </font><font style="vertical-align: inherit;">Im Folgenden werde ich auf WFC-Verbesserungen eingehen, um neue Arten von Einschr√§nkungen hinzuzuf√ºgen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feste Kacheln</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist sehr einfach, einzelne Kacheln zu reparieren, bevor ein Level in WFC generiert wird. </font><font style="vertical-align: inherit;">Sp√§ter integrieren sie sich nahtlos in die generierte Ebene.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1f0/df3/619/1f0df3619f947a7a71e72b389bc38e15.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vor der Generation</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93f/2c2/5be/93f2c25be4b716f62fa16b0b67c36a5b.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach der Generierung</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Diese Technik kann auf viele verschiedene Arten verwendet werden. </font><font style="vertical-align: inherit;">Hier sind ein paar Ideen:</font></font><br>
<br>
<ul>
<li>      </li>
<li>  - ,   WFC    .</li>
<li>    ,    </li>
<li> /    WFC   </li>
</ul><br>
<br>
<h3> </h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Begrenzungspfade</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Pfadbeschr√§nkung) - Dies ist mein eigener Beitrag zum WFC. Dies ist eine √§u√üerst leistungsf√§hige Technik, f√ºr einen vollst√§ndigen Artikel ist jedoch h√∂chstwahrscheinlich ein separater Artikel erforderlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Einschr√§nkung </font><font style="vertical-align: inherit;">durchsucht </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">global</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alle generierten Ausgaben und gibt an, dass ein Pfad zwischen den markierten Kacheln verlaufen muss. Mit anderen Worten, es weist eine Teilmenge von Kacheln an, eine einzelne </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponente des Diagramms zu bilden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Aufgrund seiner globalen Natur erg√§nzt es das √ºbliche WFC-Verhalten, bei dem nur lokale Kacheln ber√ºcksichtigt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich fand heraus, dass das Hinzuf√ºgen dieser Einschr√§nkung das Erscheinungsbild des generierten Levels stark beeinflusst. Ohne sie erzeugt WFC oft mehrere unterteilte R√§ume oder Bereiche, die unrealistisch aussehen und nicht von Menschen geschaffen wurden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b88/353/c19/b88353c19a3ebc27db979150a3c30af2.png"></div><br>
<i>   </i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a91/928/346/a919283460b31c6c8b901609d9490ede.png"></div><br>
<i>   .       .</i><br>
<br>
<h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine andere Situation, in der eine Pfadbeschr√§nkung angebracht ist, ist ... das Zeichnen von Pfaden. Standardm√§√üig stellt die Pfadbeschr√§nkung nur sicher, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dass</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zwischen den Kacheln </font><strong><font style="vertical-align: inherit;">eine</font></strong><font style="vertical-align: inherit;"> Route besteht. Es kann nicht garantiert werden, dass der Pfad so einfach wie m√∂glich ist. Daher zeichnet er bei Fl√ºssen und Stra√üen h√§ufig an optionalen Stellen T-f√∂rmige Fugen. Der Trick besteht darin, entweder einfach alle Fliesen der T-Gelenke zu entfernen oder ihnen ein sehr geringes Gewicht zu geben, so dass sie nur ausgew√§hlt werden, wenn dies unbedingt erforderlich ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich liebe es, feste Kacheln zu verwenden, um die Endpunkte eines Pfades zu fixieren. Aus diesem Grund ist die Pfadbeschr√§nkung erforderlich, um Kacheln einzuf√ºgen, die den Rest des Pfads verbinden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa0/448/f77/aa0448f778179d53dd4b9236fc33aa17.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Pfade, die durch Festlegen aller vier Ecken als Endpunkte der Pfade generiert werden</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn Sie mit Pfaden experimentieren m√∂chten, habe ich eine kleine Javascript-Demo, die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier dargestellt ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vielfalt</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alternative Fliesen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist sehr einfach, dem WFC-Algorithmus Kacheloptionen hinzuzuf√ºgen. </font><font style="vertical-align: inherit;">F√ºgen Sie einfach die Kacheln zur Liste der m√∂glichen Kacheln hinzu, sodass sie dieselben Verbindungen haben wie die Kacheln, die sie ersetzen. </font><font style="vertical-align: inherit;">Oder es kann in der Nachbearbeitungsphase durchgef√ºhrt werden, wie dies normalerweise bei anderen Arten der prozeduralen Generierung der Fall ist.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d7/b6c/43a/3d7b6c43a0be6522b6a2eac5d85dbd69.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zwei Wandfliesen, eine davon mit Fenster. </font><font style="vertical-align: inherit;">Sie sind vollst√§ndig austauschbar und verleihen dem Design einfach mehr Variabilit√§t.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fliesenvariabilit√§t nach Ebene</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sich viel M√ºhe geben, um ein Fliesenset-Design zu erstellen, werden Sie feststellen, dass die Zuf√§lligkeit von WFC ihm zu schaden beginnt. </font><font style="vertical-align: inherit;">Es wird das gesamte Kachelset verwendet, dh Sie k√∂nnen ein Level mit gemischter Lava, Schnee und W√ºste erreichen. </font><font style="vertical-align: inherit;">Oft sieht das v√∂llig unlogisch aus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen die Integrit√§t auf einfache Weise wiederherstellen: Entscheiden Sie im Voraus, zu welchem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Biom das</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Level geh√∂ren soll, und deaktivieren Sie dann alle Kacheln, die f√ºr dieses Biom nicht geeignet sind. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bad North</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (wieder) ist ein hervorragendes Beispiel daf√ºr. </font><font style="vertical-align: inherit;">In einigen Ebenen sind Felsen v√∂llig verboten, in anderen gibt es viel Vegetation, in den dritten Ruinen werden Friedh√∂fe hinzugef√ºgt. </font><font style="vertical-align: inherit;">Dies gibt jedem Level einen einzigartigen Stil, ohne dass der Generierungsstil wesentlich ge√§ndert werden muss.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2f/556/757/f2f556757da50dae74a44909dca1e76d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nur etwa 10% der Inseln haben Elemente von H√∂hlen, die in der oberen rechten Ecke sichtbar sind.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variabilit√§t der Kacheln innerhalb der Karte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Mischen von Kachels√§tzen kann noch weiter gehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie WFC verwenden, um eine gro√üe Karte zu generieren, sieht sie sehr einheitlich aus. </font><font style="vertical-align: inherit;">Dies ist eine weitere Folge der Tatsache, dass der Algorithmus ein L√∂ser </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lokaler</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Einschr√§nkungen ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die beste L√∂sung f√ºr dieses Problem habe ich im Spiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caves of Qud gesehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In der Entwicklergeschichte √ºber die Generation ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) hei√üt es, dass sie die Karte in verschiedene Bereiche aufteilen und dann WFC mit separaten Parametern f√ºr die Teilmengen der Karte starten. </font><font style="vertical-align: inherit;">Dies bedeutet, dass sich auf der Karte m√∂glicherweise ein Ruinenbereich und ein Stadtbereich befinden, in dem v√∂llig unterschiedliche Vorlagen und Kacheln verwendet werden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1b9/45f/762/1b945f762795751a1e66eaa0712110ab.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiel aus </font></font><em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mathematik f√ºr Spieleentwickler: Kachelbasierte Kartengenerierung mit Wellenfunktionskollaps in 'Cuds of Qud'</font></font></a></em><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der WFC-Algorithmus hat wie alle auf Einschr√§nkungen basierenden Generierungstechniken das Prinzip, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit Ihren W√ºnschen vorsichtig umzugehen</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Es ist einfach anzupassen und sch√∂ne Ergebnisse zu erzielen, aber es kann sehr schwierig sein, die spezifischen Details zu implementieren, die f√ºr Ihr Spiel ben√∂tigt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe, dass die von mir vorgestellten Techniken Ihnen helfen werden, dieses Monster zu z√§hmen, aber am Ende ist es am besten, ein Spieldesign zu erstellen, das auf den St√§rken der prozeduralen Generierung basiert, und nicht zu versuchen, es zu zwingen, zu viel f√ºr Sie zu erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich empfehle dir, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bad North</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caves of Qud zu spielen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Beide Spiele sind gro√üartige Beispiele f√ºr die Verwendung von WFC unter realen Bedingungen, und die Entwickler haben die optimale Verwendung des Algorithmus in ihren Spielen gut durchdacht.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de488322/index.html">Gesten</a></li>
<li><a href="../de488324/index.html">Konsolengeist. Panasonic M2</a></li>
<li><a href="../de488326/index.html">Liebe oder Entlassung</a></li>
<li><a href="../de488330/index.html">Englisch mit George Karlin: Wir analysieren den genialen Stand-up √ºber phrasenbezogene Einheiten</a></li>
<li><a href="../de488332/index.html">Null, eins, zwei, Freddy wird dich abholen</a></li>
<li><a href="../de488338/index.html">Google-Praktika: Z√ºrich, London und Silicon Valley</a></li>
<li><a href="../de488340/index.html">Beruf: Backend-Entwickler</a></li>
<li><a href="../de488342/index.html">Random Forest, die Methode der Hauptkomponenten und die Optimierung von Hyperparametern: Ein Beispiel f√ºr die L√∂sung des Klassifizierungsproblems in Python</a></li>
<li><a href="../de488346/index.html">Installieren von or-tools mit SCIP und GLPK in einer virtuellen Python 3.7-Umgebung unter Linux</a></li>
<li><a href="../de488348/index.html">Webinar ‚ÄûZehn agilste Herausforderungen und M√∂glichkeiten, sie in einer Stunde zu √ºberwinden‚Äú 17. Februar um 20:00 Uhr Moskauer Zeit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>