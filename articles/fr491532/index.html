<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèæ üßëüèª ‚ù§Ô∏è Laravel + Docker + Gitlab. O√π commencer ‚öæÔ∏è ü§úüèæ üç¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'ai toujours fait sans docker et je pensais qu'un docker n'√©tait n√©cessaire que pour les grands projets dans les grandes entreprises. Mais un jour, j...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Laravel + Docker + Gitlab. O√π commencer</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491532/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai toujours fait sans docker et je pensais qu'un docker n'√©tait n√©cessaire que pour les grands projets dans les grandes entreprises. </font><font style="vertical-align: inherit;">Mais un jour, j'ai vu comment un docker fonctionne en tandem avec le gitlab d'un ami et j'ai r√©alis√© que je devais encore l'√©tudier. </font><font style="vertical-align: inherit;">Cependant, comme d'habitude, je n'ai pas trouv√© d'article appropri√© - ils √©taient soit trop complexes ou incomplets, soit implicites que vous le savez tous par vous-m√™me. </font><font style="vertical-align: inherit;">J'ai d√ª chercher diverses sources pendant longtemps, tout mettre ensemble et j'ai finalement r√©ussi √† faire un projet simple et un CI / CD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout le travail peut √™tre divis√© en trois parties: sur la machine locale, sur la hitlab et sur le serveur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, pour la mise en ≈ìuvre du projet, nous avons besoin d'un compte gitlab et d'un serveur distant avec virtualisation KVM ou XEN.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie 1. Machine locale</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la machine locale, vous devez installer Docker. </font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commentaire</font></font></b><div class="spoiler_text">  . Docker     Linux  ( Ubuntu, ),    Windows  MacOS.   macos     ,     Windows      .   - ,        linux .   - ,           .       VirtualBox.          Ubuntu     <br>
</div></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour installer sur un environnement Linux, vous devez ex√©cuter les commandes suivantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supprimer les anciens conteneurs:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get remove docker docker-engine docker.io containerd runc</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mettre √† jour apt:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get update
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installez les packages suivants afin de pouvoir t√©l√©charger Docker depuis le r√©f√©rentiel via https:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install \<font></font>
    apt-transport-https \<font></font>
    ca-certificates \<font></font>
    curl \<font></font>
    gnupg-agent \<font></font>
    software-properties-common</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajouter la cl√© Docker GPG officielle:</font></font><br>
<br>
<pre><code class="bash hljs">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assurez-vous que l'impression est correcte:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-key fingerprint 0EBFCD88</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©ponse:</font></font><br>
<br>
<pre><code class="bash hljs">pub   rsa4096 2017-02-22 [SCEA]<font></font>
      9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88<font></font>
uid           [ unknown] Docker Release (CE deb) &lt;docker@docker.com&gt;<font></font>
sub   rsa4096 2017-02-22 [S]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T√©l√©chargez la version stable:</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository \
   <span class="hljs-string">"deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   <span class="hljs-subst">$(lsb_release -cs)</span> \
   stable"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mettre √† jour apt √† nouveau:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installez le dernier moteur docker:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install docker-ce docker-ce-cli containerd.io</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V√©rifier le fonctionnement du docker:</font></font><br>
<br>
<pre><code class="bash hljs">sudo docker run hello-world</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si tout est correct, le t√©l√©chargement de l'image Hello World commencera. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instructions compl√®tes dans la documentation officielle du docker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous devons √©galement installer docker-compose. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'instruction officielle est ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'installer, ex√©cutez les commandes dans le terminal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T√©l√©charger depuis le r√©f√©rentiel:</font></font><br>
<br>
<pre><code class="bash hljs">sudo curl -L <span class="hljs-string">"https://github.com/docker/compose/releases/download/1.25.4/docker-compose-<span class="hljs-subst">$(uname -s)</span>-<span class="hljs-subst">$(uname -m)</span>"</span> -o /usr/<span class="hljs-built_in">local</span>/bin/docker-compose</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajouter un droit d'exercice:</font></font><br>
<br>
<pre><code class="bash hljs">sudo chmod +x /usr/<span class="hljs-built_in">local</span>/bin/docker-compose</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V√©rification de la version:</font></font><br>
<br>
<pre><code class="bash hljs">sudo docker-compose --version</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons install√© docker, maintenant il faut collecter une image. </font><font style="vertical-align: inherit;">Pour ce faire, j'ai utilis√© l'article du site Web de digitalocean: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.digitalocean.com/community/tutorials/how-to-set-up-laravel-nginx-and-mysql-with-docker-compose-ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il y aura une r√©impression de cet article. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√©l√©chargement de Laravel et installation des d√©pendances</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans un premier temps, nous t√©l√©chargeons la derni√®re version de Laravel et installons les d√©pendances du projet, y compris Composer, le gestionnaire de packages PHP au niveau de l'application. </font><font style="vertical-align: inherit;">Nous installerons ces d√©pendances √† l'aide de Docker afin de ne pas effectuer une installation globale de Composer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acc√©dez √† votre r√©pertoire personnel et clonez la derni√®re version de Laravel dans un r√©pertoire appel√© laravel-app:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> ~<font></font>
git <span class="hljs-built_in">clone</span> https://github.com/laravel/laravel.git laravel-app</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acc√©dez au r√©pertoire laravel-app:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> ~/laravel-app</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Montez ensuite l'image Composer de Docker dans les r√©pertoires dont vous avez besoin pour votre projet Laravel afin d'√©viter la surcharge d'installation globale de Composer:</font></font><br>
<br>
<pre><code class="bash hljs">docker run --rm -v $(<span class="hljs-built_in">pwd</span>):/app composer install</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les indicateurs -v et --rm de la commande docker run cr√©ent un conteneur virtuel qui se lie au r√©pertoire actuel jusqu'√† ce qu'il soit supprim√©. </font><font style="vertical-align: inherit;">Le contenu de votre r√©pertoire ~ / laravel-app sera copi√© dans le conteneur, et le contenu du Composer cr√©√© dans le conteneur du dossier du fournisseur sera copi√© dans le r√©pertoire actuel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conclusion, d√©finissez le niveau d'autorisations dans le r√©pertoire du projet afin qu'il appartienne √† un utilisateur sans privil√®ges root:</font></font><br>
<br>
<pre><code class="bash hljs">sudo chown -R <span class="hljs-variable">$USER</span>:<span class="hljs-variable">$USER</span> ~/laravel-app</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela sera important lorsque vous √©crivez le Dockerfile pour l'image de votre application, car cela vous permettra de travailler avec le code de l'application et de d√©marrer des processus dans le conteneur sans privil√®ges root. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez maintenant plac√© le code d'application et pouvez proc√©der √† la d√©finition des services √† l'aide de Docker Compose. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La cr√©ation d'un fichier Docker Compose La</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
cr√©ation d'applications avec Docker Compose simplifie le processus de configuration et de versionnage dans votre infrastructure. Pour personnaliser notre application Laravel, nous allons cr√©er un fichier docker-compose avec la d√©finition des services du serveur web, de la base de donn√©es et de l'application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ouvrez le fichier:</font></font><br>
<br>
<pre><code class="bash hljs">nano ~/laravel-app/docker-compose.yml</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trois services sont d√©finis dans le fichier docker-compose: app, webserver et db. </font><font style="vertical-align: inherit;">Ajoutez le code suivant au fichier, tout en rempla√ßant le mot de passe root pour MYSQL_ROOT_PASSWORD, d√©fini comme la variable d'environnement de service db, par un mot de passe de votre choix:</font></font><br>
<br>
<code>~/laravel-app/docker-compose.yml</code><br>
<br>
<pre><code class="xml hljs">version: '3'<font></font>
services:<font></font>
<font></font>
  #PHP Service<font></font>
  app:<font></font>
    build:<font></font>
      context: .<font></font>
      dockerfile: Dockerfile<font></font>
    image: digitalocean.com/php<font></font>
    container_name: app<font></font>
    restart: unless-stopped<font></font>
    tty: true<font></font>
    environment:<font></font>
      SERVICE_NAME: app<font></font>
      SERVICE_TAGS: dev<font></font>
    working_dir: /var/www<font></font>
    networks:<font></font>
      - app-network<font></font>
<font></font>
  #Nginx Service<font></font>
  webserver:<font></font>
    image: nginx:alpine<font></font>
    container_name: webserver<font></font>
    restart: unless-stopped<font></font>
    tty: true<font></font>
    ports:<font></font>
      - "80:80"<font></font>
      - "443:443"<font></font>
    networks:<font></font>
      - app-network<font></font>
<font></font>
  #MySQL Service<font></font>
  db:<font></font>
    image: mysql:5.7.22<font></font>
    container_name: db<font></font>
    restart: unless-stopped<font></font>
    tty: true<font></font>
    ports:<font></font>
      - "3306:3306"<font></font>
    environment:<font></font>
      MYSQL_DATABASE: laravel<font></font>
      MYSQL_ROOT_PASSWORD: your_mysql_root_password<font></font>
      SERVICE_TAGS: dev<font></font>
      SERVICE_NAME: mysql<font></font>
    networks:<font></font>
      - app-network<font></font>
<font></font>
#Docker Networks<font></font>
networks:<font></font>
  app-network:<font></font>
    driver: bridge</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les services suivants sont inclus ici:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application: cette d√©finition de service contient l'application Laravel et lance l'image Docker personnalis√©e, digitalocean.com/php. </font><font style="vertical-align: inherit;">Il d√©finit √©galement le param√®tre working_dir dans le conteneur sur / var / www.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">serveur Web: cette d√©finition de service prend l'image nginx: alpine de Docker et ouvre les ports 80 et 443.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">db: cette d√©finition de service r√©cup√®re l'image mysql: 5.7.22 de Docker et d√©finit de nouvelles variables d'environnement, y compris la base de donn√©es laravel pour votre application et le mot de passe root pour la base de donn√©es. </font><font style="vertical-align: inherit;">Vous pouvez utiliser n'importe quel nom de base de donn√©es que vous souhaitez, vous devez √©galement remplacer votre_mysql_root_password par votre propre mot de passe fort. </font><font style="vertical-align: inherit;">Cette d√©finition de service mappe √©galement le port h√¥te 3306 au port conteneur 3306.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque propri√©t√© container_name d√©finit un nom de conteneur correspondant au nom du service. </font><font style="vertical-align: inherit;">Si vous ne d√©finissez pas cette propri√©t√©, Docker donnera √† chaque conteneur des noms compos√©s du nom d'une personne historique et d'un mot al√©atoire, s√©par√©s par un trait de soulignement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour simplifier l'interaction entre les conteneurs, les services se connectent au r√©seau de connexion appel√© app-network. Le r√©seau de connexion utilise un pont logiciel qui permet aux conteneurs connect√©s √† ce r√©seau de communiquer entre eux. Le pilote de pont d√©finit automatiquement les r√®gles d'h√¥te afin que les conteneurs sur diff√©rents r√©seaux de connexion ne puissent pas communiquer directement entre eux. Cela am√©liore la s√©curit√© des applications car seuls les services associ√©s peuvent communiquer entre eux. Cela signifie √©galement que vous pouvez sp√©cifier diff√©rents r√©seaux et services qui se connectent aux fonctions associ√©es: par exemple, les services d'application client peuvent utiliser le r√©seau frontal et les services serveur peuvent utiliser le r√©seau principal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons maintenant comment ajouter des volumes et lier des images mont√©es aux d√©finitions de service pour enregistrer de mani√®re permanente les donn√©es d'application. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stockage de donn√©es persistantes</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Docker dispose de moyens puissants et pratiques pour le stockage de donn√©es persistantes. </font><font style="vertical-align: inherit;">Dans notre application, nous utiliserons des volumes et des images mont√©es pour enregistrer en permanence les fichiers de base de donn√©es, les applications et les configurations. </font><font style="vertical-align: inherit;">Les volumes offrent une flexibilit√© de sauvegarde et une conservation √† la fin du cycle de vie du conteneur, et les images montables montables facilitent la modification du code pendant le d√©veloppement en refl√©tant imm√©diatement les modifications apport√©es aux fichiers ou r√©pertoires h√¥tes dans les conteneurs. </font><font style="vertical-align: inherit;">Nous utilisons les deux options.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention!</font></font></b><div class="spoiler_text">             ,   ,        .      ,       Docker   .       .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©finissez le volume nomm√© dbdata dans le fichier docker-compose dans la d√©finition de service db pour conserver la base de donn√©es MySQL:</font></font><br>
<br>
<code>~/laravel-app/docker-compose.yml</code><br>
<br>
<pre><code class="xml hljs">...<font></font>
#MySQL Service<font></font>
db:<font></font>
  ...<font></font>
    volumes:<font></font>
      - dbdata:/var/lib/mysql<font></font>
    networks:<font></font>
      - app-network<font></font>
  ...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un volume nomm√© dbdata est utilis√© pour enregistrer en permanence le contenu du dossier / var / lib / mysql √† l'int√©rieur du conteneur. </font><font style="vertical-align: inherit;">Cela vous permet d'arr√™ter et de red√©marrer le service db sans perdre de donn√©es. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez une d√©finition de volume dbdata √† la fin du fichier:</font></font><br>
<br>
<code>~/laravel-app/docker-compose.yml</code><br>
<br>
<pre><code class="xml hljs">...<font></font>
#Volumes<font></font>
volumes:<font></font>
  dbdata:<font></font>
    driver: local</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec cette d√©finition, vous pouvez utiliser ce volume pour diff√©rents services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez ensuite la liaison d'image de montage au service db pour les fichiers de configuration MySQL:</font></font><br>
<br>
<code>~/laravel-app/docker-compose.yml</code><br>
<br>
<pre><code class="xml hljs">...<font></font>
#MySQL Service<font></font>
db:<font></font>
  ...<font></font>
    volumes:<font></font>
      - dbdata:/var/lib/mysql<font></font>
      - ./mysql/my.cnf:/etc/mysql/my.cnf<font></font>
  ...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette image mont√©e lie le fichier ~ / laravel-app / mysql / my.cnf au r√©pertoire /etc/mysql/my.cnf dans le conteneur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez ensuite les images mont√©es au service du serveur Web. </font><font style="vertical-align: inherit;">Il y en aura deux: un pour le code d'application et l'autre pour d√©terminer la configuration de Nginx</font></font><br>
<br>
<code>~/laravel-app/docker-compose.yml</code><br>
<br>
<pre><code class="xml hljs">#Nginx Service<font></font>
webserver:<font></font>
  ...<font></font>
  volumes:<font></font>
      - ./:/var/www<font></font>
      - ./nginx/conf.d/:/etc/nginx/conf.d/<font></font>
  networks:<font></font>
      - app-network</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re image mont√©e lie le code d'application dans le r√©pertoire ~ / laravel-app au r√©pertoire / var / www √† l'int√©rieur du conteneur. Le fichier de configuration, ajout√© √† ~ / laravel-app / nginx / conf.d /, est √©galement mont√© dans /etc/nginx/conf.d/ dans le conteneur, ce qui vous permet d'ajouter et de modifier le contenu du r√©pertoire de configuration selon vos besoins. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conclusion, ajoutez les montages d'images mont√©s suivants au service d'application pour le code d'application et les fichiers de configuration:</font></font><br>
<br>
<code>~/laravel-app/docker-compose.yml</code><br>
<br>
<pre><code class="xml hljs">#PHP Service<font></font>
app:<font></font>
  ...<font></font>
  volumes:<font></font>
       - ./:/var/www<font></font>
       - ./php/local.ini:/usr/local/etc/php/conf.d/local.ini<font></font>
  networks:<font></font>
      - app-network<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le service d'application lie l'image mont√©e du dossier ~ / laravel-app, qui contient le code d'application, au dossier / var / www. Cela acc√©l√©rera le processus de d√©veloppement, car toute modification dans le r√©pertoire de l'application locale sera imm√©diatement refl√©t√©e dans le conteneur. Vous liez √©galement le fichier de configuration PHP ~ / laravel-app / php / local.ini au fichier /usr/local/etc/php/conf.d/local.ini dans le conteneur. Plus tard, vous cr√©erez un fichier de configuration PHP local. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Votre fichier docker-compose ressemblera maintenant √† ceci:</font></font><br>
<br>
<code>~/laravel-app/docker-compose.yml</code><br>
<br>
<pre><code class="bash hljs">version: <span class="hljs-string">'3'</span><font></font>
services:<font></font>
<font></font>
  <span class="hljs-comment">#PHP Service</span><font></font>
  app:<font></font>
    build:<font></font>
      context: .<font></font>
      dockerfile: Dockerfile<font></font>
    image: digitalocean.com/php<font></font>
    container_name: app<font></font>
    restart: unless-stopped<font></font>
    tty: <span class="hljs-literal">true</span><font></font>
    environment:<font></font>
      SERVICE_NAME: app<font></font>
      SERVICE_TAGS: dev<font></font>
    working_dir: /var/www<font></font>
    volumes:<font></font>
      - ./:/var/www<font></font>
      - ./php/local.ini:/usr/<span class="hljs-built_in">local</span>/etc/php/conf.d/local.ini<font></font>
    networks:<font></font>
      - app-network<font></font>
<font></font>
  <span class="hljs-comment">#Nginx Service</span><font></font>
  webserver:<font></font>
    image: nginx:alpine<font></font>
    container_name: webserver<font></font>
    restart: unless-stopped<font></font>
    tty: <span class="hljs-literal">true</span><font></font>
    ports:<font></font>
      - <span class="hljs-string">"80:80"</span>
      - <span class="hljs-string">"443:443"</span><font></font>
    volumes:<font></font>
      - ./:/var/www<font></font>
      - ./nginx/conf.d/:/etc/nginx/conf.d/<font></font>
    networks:<font></font>
      - app-network<font></font>
<font></font>
  <span class="hljs-comment">#MySQL Service</span><font></font>
  db:<font></font>
    image: mysql:5.7.22<font></font>
    container_name: db<font></font>
    restart: unless-stopped<font></font>
    tty: <span class="hljs-literal">true</span><font></font>
    ports:<font></font>
      - <span class="hljs-string">"3306:3306"</span><font></font>
    environment:<font></font>
      MYSQL_DATABASE: laravel<font></font>
      MYSQL_ROOT_PASSWORD: your_mysql_root_password<font></font>
      SERVICE_TAGS: dev<font></font>
      SERVICE_NAME: mysql<font></font>
    volumes:<font></font>
      - dbdata:/var/lib/mysql/<font></font>
      - ./mysql/my.cnf:/etc/mysql/my.cnf<font></font>
    networks:<font></font>
      - app-network<font></font>
<font></font>
<span class="hljs-comment">#Docker Networks</span><font></font>
networks:<font></font>
  app-network:<font></font>
    driver: bridge<font></font>
<span class="hljs-comment">#Volumes</span><font></font>
volumes:<font></font>
  dbdata:<font></font>
    driver: <span class="hljs-built_in">local</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation d'un Dockerfile</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Docker vous permet de d√©finir l'environnement √† l'int√©rieur de conteneurs individuels √† l'aide d'un Dockerfile. </font><font style="vertical-align: inherit;">Dockerfile vous permet de cr√©er des images personnalis√©es. </font><font style="vertical-align: inherit;">qui peut √™tre utilis√© pour installer le logiciel d'application requis et modifier les param√®tres selon les besoins. </font><font style="vertical-align: inherit;">Vous pouvez transf√©rer des images cr√©√©es vers le Docker Hub ou tout registre priv√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Dockerfile sera situ√© dans le r√©pertoire ~ / laravel-app. </font><font style="vertical-align: inherit;">Cr√©ez un fichier:</font></font><br>
<br>
<pre><code class="bash hljs">nano ~/laravel-app/Dockerfile</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce Dockerfile sp√©cifiera l'image de base et les commandes et instructions n√©cessaires pour cr√©er l'image de l'application Laravel. </font><font style="vertical-align: inherit;">Ajoutez le code suivant au fichier:</font></font><br>
<br>
<code>~/laravel-app/php/Dockerfile</code><br>
<br>
<pre><code class="xml hljs">FROM php:7.2-fpm<font></font>
<font></font>
# Copy composer.lock and composer.json<font></font>
COPY composer.lock composer.json /var/www/<font></font>
<font></font>
# Set working directory<font></font>
WORKDIR /var/www<font></font>
<font></font>
# Install dependencies<font></font>
RUN apt-get update &amp;&amp; apt-get install -y \<font></font>
    build-essential \<font></font>
    mysql-client \<font></font>
    libpng-dev \<font></font>
    libjpeg62-turbo-dev \<font></font>
    libfreetype6-dev \<font></font>
    locales \<font></font>
    zip \<font></font>
    jpegoptim optipng pngquant gifsicle \<font></font>
    vim \<font></font>
    unzip \<font></font>
    git \<font></font>
    curl<font></font>
<font></font>
# Clear cache<font></font>
RUN apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*<font></font>
<font></font>
# Install extensions<font></font>
RUN docker-php-ext-install pdo_mysql mbstring zip exif pcntl<font></font>
RUN docker-php-ext-configure gd --with-gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ --with-png-dir=/usr/include/<font></font>
RUN docker-php-ext-install gd<font></font>
<font></font>
# Install composer<font></font>
RUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer<font></font>
<font></font>
# Add user for laravel application<font></font>
RUN groupadd -g 1000 www<font></font>
RUN useradd -u 1000 -ms /bin/bash -g www www<font></font>
<font></font>
# Copy existing application directory contents<font></font>
COPY . /var/www<font></font>
<font></font>
# Copy existing application directory permissions<font></font>
COPY --chown=www:www . /var/www<font></font>
<font></font>
# Change current user to www<font></font>
USER www<font></font>
<font></font>
# Expose port 9000 and start php-fpm server<font></font>
EXPOSE 9000<font></font>
CMD ["php-fpm"]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, le Dockerfile cr√©e l'image au-dessus de l'image Docker php: 7.2-fpm. Il s'agit d'une image bas√©e sur une instance install√©e de PHP FastCGI PHP-FPM. Ce fichier installe √©galement les packages requis pour Laravel: mcrypt, pdo_mysql, mbstring et imagick with composer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La directive RUN sp√©cifie les commandes de mise √† jour, d'installation et de configuration des param√®tres √† l'int√©rieur d'un conteneur, y compris un utilisateur d√©di√© et un groupe nomm√© www. L'instruction WORKDIR d√©finit le r√©pertoire / var / www comme r√©pertoire de travail de l'application.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La cr√©ation d'un utilisateur et d'un groupe s√©par√©s avec des droits d'acc√®s limit√©s r√©duit la vuln√©rabilit√© lors du lancement de conteneurs Docker, qui s'ex√©cutent par d√©faut avec les privil√®ges root. Au lieu d'ex√©cuter ce conteneur avec les privil√®ges root, nous avons cr√©√© un utilisateur www avec des autorisations de lecture et d'√©criture pour le dossier / var / www √† l'aide de la commande COPY avec l'indicateur --chown pour copier les autorisations du dossier d'application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La commande EXPOSE ouvre le port 9000 dans le conteneur du serveur php-fpm. CMD indique la commande qui doit √™tre ex√©cut√©e apr√®s la cr√©ation du conteneur. Ici, CMD indique la commande php-fpm qui d√©marre le serveur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois les modifications termin√©es, enregistrez le fichier et fermez l'√©diteur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant passer √† la d√©finition de votre configuration PHP. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration PHP</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez d√©fini l'infrastructure dans le fichier docker-compose, et vous pouvez maintenant configurer le service PHP pour qu'il agisse comme un processeur PHP pour les requ√™tes Nginx entrantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour configurer PHP, vous allez cr√©er un fichier local.ini dans le dossier php. </font><font style="vertical-align: inherit;">Il s'agit du fichier que vous avez li√© au fichier /usr/local/etc/php/conf.d/local.ini dans le conteneur ci-dessus. </font><font style="vertical-align: inherit;">La cr√©ation de ce fichier vous permettra d'ignorer le fichier php.ini par d√©faut que PHP lit au d√©marrage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cr√©ez un r√©pertoire php:</font></font><br>
<br>
<pre><code class="bash hljs">mkdir ~/laravel-app/php</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ouvrez ensuite le fichier local.ini:</font></font><br>
<br>
<pre><code class="bash hljs">nano ~/laravel-app/php/local.ini</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour d√©montrer la configuration de PHP, nous ajouterons le code suivant pour d√©finir les limites de taille de t√©l√©chargement de fichiers:</font></font><br>
<br>
<code>~/laravel-app/php/local.ini</code><br>
<br>
<pre><code class="xml hljs">upload_max_filesize=40M<font></font>
post_max_size=40M</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les directives upload_max_filesize et post_max_size d√©finissent la taille maximale autoris√©e des fichiers t√©l√©charg√©s et montrent comment d√©finir les configurations php.ini √† partir du fichier local.ini. Vous pouvez ins√©rer tout param√®tre de configuration PHP que vous souhaitez ignorer dans le fichier local.ini. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration de Nginx</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lorsque vous configurez le service PHP, vous pouvez modifier le service Nginx pour utiliser PHP-FPM en tant que serveur FastCGI pour servir du contenu dynamique. Le serveur FastCGI est bas√© sur un protocole binaire pour l'interaction de programmes interactifs avec un serveur Web. Des informations suppl√©mentaires peuvent √™tre trouv√©es dans l'article ¬´Comprendre et impl√©menter les proxys FastCGI dans Nginx¬ª. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour configurer Nginx, vous allez cr√©er un fichier app.conf avec la configuration des services dans le dossier ~ / laravel-app / nginx / conf.d /. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cr√©ez d'abord le r√©pertoire nginx / conf.d /:</font></font><br>
<br>
<pre><code class="bash hljs">mkdir -p ~/laravel-app/nginx/conf.d</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cr√©ez ensuite le fichier de configuration app.conf:</font></font><br>
<br>
<pre><code class="bash hljs">nano ~/laravel-app/nginx/conf.d/app.conf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez le code suivant au fichier pour configurer Nginx:</font></font><br>
<br>
<code>~/laravel-app/nginx/conf.d/app.conf</code><br>
<br>
<pre><code class="xml hljs">server {<font></font>
    listen 80;<font></font>
    index index.php index.html;<font></font>
    error_log  /var/log/nginx/error.log;<font></font>
    access_log /var/log/nginx/access.log;<font></font>
    root /var/www/public;<font></font>
    location ~ \.php$ {<font></font>
        try_files $uri =404;<font></font>
        fastcgi_split_path_info ^(.+\.php)(/.+)$;<font></font>
        fastcgi_pass app:9000;<font></font>
        fastcgi_index index.php;<font></font>
        include fastcgi_params;<font></font>
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;<font></font>
        fastcgi_param PATH_INFO $fastcgi_path_info;<font></font>
    }<font></font>
    location / {<font></font>
        try_files $uri $uri/ /index.php?$query_string;<font></font>
        gzip_static on;<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bloc serveur configure le serveur Web Nginx √† l'aide des directives suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">listen: cette directive d√©finit le port que le serveur √©coute pour les requ√™tes entrantes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">error_log et access_log: ces directives d√©finissent les fichiers de journalisation.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root: cette directive d√©finit le chemin d'acc√®s au dossier racine, formant le chemin d'acc√®s complet pour tout fichier demand√© dans le syst√®me de fichiers local.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le bloc d'emplacement php, la directive fastcgi_pass indique que le service d'application √©coute sur un socket TCP sur le port 9000. Avec lui, le serveur PHP-FPM √©coute sur le r√©seau, pas sur le socket Unix. Bien que le socket Unix offre un l√©ger avantage de vitesse par rapport au socket TCP, il n'a pas de protocole r√©seau et ignore la pile r√©seau. Dans les cas o√π les h√¥tes sont situ√©s sur le m√™me syst√®me, l'utilisation d'un socket Unix peut avoir un sens, mais si les services s'ex√©cutent sur des h√¥tes diff√©rents, le socket TCP offre un avantage en vous permettant de vous connecter √† des services distribu√©s. √âtant donn√© que nos conteneurs d'applications et de serveurs Web s'ex√©cutent sur diff√©rents h√¥tes, il est plus efficace d'utiliser un socket TCP dans notre configuration. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois les modifications termin√©es, enregistrez le fichier et fermez l'√©diteur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gr√¢ce √† la liaison cr√©√©e pr√©c√©demment, toute modification du dossier nginx / conf.d / est directement r√©percut√©e dans le conteneur du serveur Web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons maintenant les param√®tres MySQL. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration de MySQL</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Apr√®s avoir configur√© PHP et Nginx, vous pouvez activer MySQL comme base de donn√©es pour votre application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour configurer MySQL, vous devez cr√©er le fichier my.cnf dans le dossier mysql. </font><font style="vertical-align: inherit;">Il s'agit du fichier que vous avez joint au fichier /etc/mysql/my.cnf √† l'int√©rieur du conteneur lors de l'√©tape de configuration de la base de donn√©es. </font><font style="vertical-align: inherit;">Le montage de l'image mont√©e vous permet d'ignorer toutes les options my.cnf, si et quand cela est n√©cessaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour montrer comment cela fonctionne, nous allons ajouter des param√®tres √† my.cnf qui incluent le journal des demandes g√©n√©rales et d√©finir le fichier journal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cr√©ez un r√©pertoire mysql:</font></font><br>
<br>
<pre><code class="bash hljs">mkdir ~/laravel-app/mysql</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cr√©ez le fichier my.cnf:</font></font><br>
<br>
<pre><code class="bash hljs">nano ~/laravel-app/mysql/my.cnf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez le code suivant au fichier pour activer le journal des requ√™tes et d√©finir l'emplacement du fichier journal:</font></font><br>
<br>
<code>~/laravel-app/mysql/my.cnf</code><br>
<br>
<pre><code class="xml hljs">[mysqld]<font></font>
general_log = 1<font></font>
general_log_file = /var/lib/mysql/general.log</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fichier my.cnf prend en charge les journaux en d√©finissant le param√®tre general_log sur 1, ce qui active les journaux g√©n√©raux. </font><font style="vertical-align: inherit;">Le param√®tre general_log_file sp√©cifie o√π les journaux seront stock√©s. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©marrage des conteneurs et modification des param√®tres d'environnement</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Vous avez d√©fini tous les services dans le fichier docker-compose et cr√©√© des fichiers de configuration pour ces services. </font><font style="vertical-align: inherit;">Vous pouvez maintenant ex√©cuter des conteneurs. </font><font style="vertical-align: inherit;">En conclusion, nous allons cr√©er une copie du fichier .env.example que Laravel inclut par d√©faut et le nommer .env, car Laravel utilise un tel fichier pour d√©terminer l'environnement:</font></font><br>
<br>
<pre><code class="bash hljs">cp .env.example .env</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir d√©marr√© les conteneurs, nous configurerons des param√®tres d'installation sp√©cifiques dans ce fichier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, tous vos services sont d√©finis dans le fichier docker-compose, et il vous suffit d'ex√©cuter une commande pour d√©marrer tous les conteneurs, cr√©er des volumes et configurer et connecter des r√©seaux:</font></font><br>
<br>
<pre><code class="bash hljs">docker-compose up -d</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re fois que vous lancez docker-compose up, toutes les images Docker n√©cessaires seront t√©l√©charg√©es, ce qui peut prendre un certain temps. </font><font style="vertical-align: inherit;">Apr√®s avoir t√©l√©charg√© les images et les avoir enregistr√©es sur l'ordinateur local, Compose cr√©era vos conteneurs. </font><font style="vertical-align: inherit;">L'indicateur -d convertit le processus en un d√©mon avec lequel les conteneurs continuent de s'ex√©cuter en arri√®re-plan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois le processus termin√©, utilisez la commande suivante pour r√©pertorier tous les conteneurs en cours d'ex√©cution:</font></font><br>
<pre><code class="bash hljs">docker ps</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous verrez les r√©sultats suivants avec des donn√©es sur les conteneurs d'application, de serveur Web et de base de donn√©es:</font></font><br>
<br>
<pre><code class="bash hljs">Output<font></font>
CONTAINER ID        NAMES               IMAGE                             STATUS              PORTS<font></font>
c31b7b3251e0        db                  mysql:5.7.22                      Up 2 seconds        0.0.0.0:3306-&gt;3306/tcp<font></font>
ed5a69704580        app                 digitalocean.com/php              Up 2 seconds        9000/tcp<font></font>
5ce4ee31d7c0        webserver           nginx:alpine                      Up 2 seconds        0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ces r√©sultats, l'ID CONTAINER est un identifiant unique pour chaque conteneur et NAMES r√©pertorie les noms de service pour chaque conteneur. </font><font style="vertical-align: inherit;">Vous pouvez utiliser ces deux identifiants pour acc√©der aux conteneurs. </font><font style="vertical-align: inherit;">IMAGE d√©finit le nom d'image de chaque conteneur et STATUS fournit des informations sur l'√©tat du conteneur: d√©marr√©, red√©marr√© ou arr√™t√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant modifier le fichier .env dans le conteneur d'application pour ajouter des param√®tres sp√©cifiques √† votre syst√®me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ouvrez le fichier avec docker-compose exec, qui vous permet d'ex√©cuter des commandes sp√©cifiques dans des conteneurs. </font><font style="vertical-align: inherit;">Dans ce cas, vous ouvrez le fichier pour le modifier:</font></font><br>
<br>
<pre><code class="bash hljs">docker-compose <span class="hljs-built_in">exec</span> app nano .env</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Localisez le bloc sp√©cifiant DB_CONNECTION et mettez-le √† jour pour refl√©ter la configuration de votre syst√®me. </font><font style="vertical-align: inherit;">Vous allez modifier les champs suivants:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB_HOST sera votre conteneur de base de donn√©es db.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB_DATABASE sera la base de donn√©es laravel.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB_USERNAME sera le nom d'utilisateur de votre base de donn√©es. </font><font style="vertical-align: inherit;">Dans ce cas, nous utiliserons laraveluser.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB_PASSWORD sera un mot de passe prot√©g√© pour ce compte d'utilisateur.</font></font></li>
</ol><br>
<code>/var/www/.env</code><br>
<br>
<pre><code class="xml hljs">DB_CONNECTION=mysql<font></font>
DB_HOST=db<font></font>
DB_PORT=3306<font></font>
DB_DATABASE=laravel<font></font>
DB_USERNAME=laraveluser<font></font>
DB_PASSWORD=your_laravel_db_password</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est √©galement n√©cessaire de corriger les m√™mes variables dans le fichier .env.example, car elles seront utilis√©es ult√©rieurement lors du d√©ploiement sur le serveur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configurez ensuite la cl√© d'application pour Laravel avec la commande php artisan key: generate. </font><font style="vertical-align: inherit;">Cette commande va g√©n√©rer une cl√© et la copier dans le fichier .env, qui prot√©gera les sessions utilisateur et les donn√©es chiffr√©es:</font></font><br>
<br>
<pre><code class="bash hljs">docker-compose <span class="hljs-built_in">exec</span> app php artisan key:generate</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous disposez maintenant de tous les param√®tres d'environnement n√©cessaires pour ex√©cuter l'application. </font><font style="vertical-align: inherit;">Pour mettre en cache ces param√®tres dans un fichier qui acc√©l√®re le chargement des applications, ex√©cutez la commande:</font></font><br>
<br>
<pre><code class="bash hljs">docker-compose <span class="hljs-built_in">exec</span> app php artisan config:cache</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les param√®tres de configuration seront charg√©s dans le fichier /var/www/bootstrap/cache/config.php dans le conteneur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, ouvrez le site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans votre navigateur </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La page principale de l'application Laravel s'ouvre. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation d'un utilisateur MySQL</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lors de l'installation de MySQL, par d√©faut, seul un compte racine administratif est cr√©√© avec des privil√®ges illimit√©s pour acc√©der au serveur de base de donn√©es. </font><font style="vertical-align: inherit;">En r√®gle g√©n√©rale, lorsque vous travaillez avec une base de donn√©es, il est pr√©f√©rable d'√©viter d'utiliser un compte racine administratif. </font><font style="vertical-align: inherit;">Au lieu de cela, nous allons cr√©er un utilisateur de base de donn√©es sp√©cial pour la base de donn√©es Laravel de notre application. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cr√©er un nouvel utilisateur, d√©marrez le shell interactif bash dans le conteneur db √† l'aide de la commande docker-compose exec:</font></font><br>
<br>
<pre><code class="bash hljs">docker-compose <span class="hljs-built_in">exec</span> db bash</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le conteneur, connectez-vous au compte administratif racine MySQL:</font></font><br>
<br>
<pre><code class="sql hljs">mysql -u root -p</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous serez invit√© √† entrer le mot de passe sp√©cifi√© pour le compte racine MySQL lorsqu'il est install√© dans le fichier docker-compose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, recherchez la base de donn√©es laravel d√©finie dans le fichier docker-compose. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ex√©cutez la commande show databases pour v√©rifier les bases de donn√©es existantes:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">show</span> <span class="hljs-keyword">databases</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les r√©sultats, vous devriez voir la base de donn√©es laravel:</font></font><br>
<br>
<pre><code class="bash hljs">Output<font></font>
+--------------------+<font></font>
| Database           |<font></font>
+--------------------+<font></font>
| information_schema |<font></font>
| laravel            |<font></font>
| mysql              |<font></font>
| performance_schema |<font></font>
| sys                |<font></font>
+--------------------+<font></font>
5 rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (0.00 sec)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cr√©ez ensuite un compte utilisateur qui sera autoris√© √† acc√©der √† cette base de donn√©es. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous utilisons le nom d'utilisateur laraveluser, mais vous pouvez le remplacer par n'importe quel nom pr√©f√©r√©. </font><font style="vertical-align: inherit;">Assurez-vous simplement que le nom d'utilisateur et le mot de passe correspondent √† ceux du fichier .env √† l'√©tape pr√©c√©dente:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">ON</span> laravel.* <span class="hljs-keyword">TO</span> <span class="hljs-string">'laraveluser'</span>@<span class="hljs-string">'%'</span> <span class="hljs-keyword">IDENTIFIED</span> <span class="hljs-keyword">BY</span> <span class="hljs-string">'your_laravel_db_password'</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mettre √† jour les privil√®ges pour informer le serveur MySQL des changements:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">FLUSH</span> <span class="hljs-keyword">PRIVILEGES</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fermez MySQL:</font></font><br>
<br>
<pre><code class="sql hljs">EXIT;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quittez le conteneur:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">exit</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant effectuer la migration pour tester la base de donn√©es:</font></font><br>
<br>
<pre><code class="bash hljs">docker-compose <span class="hljs-built_in">exec</span> app php artisan migrate</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les r√©sultats de la confirmation de la migration sont les suivants:</font></font><br>
<br>
<pre><code class="bash hljs">Output<font></font>
<font></font>
Migration table created successfully.<font></font>
Migrating: 2014_10_12_000000_create_users_table<font></font>
Migrated:  2014_10_12_000000_create_users_table<font></font>
Migrating: 2014_10_12_100000_create_password_resets_table<font></font>
Migrated:  2014_10_12_100000_create_password_resets_table</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie 2. Gitlab</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Hitlab, vous devez cr√©er un nouveau projet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons enregistrer le projet dans le r√©f√©rentiel hitlab. </font><font style="vertical-align: inherit;">Pour ce faire, appelez les commandes suivantes √† partir du dossier de projet sur la machine locale:</font></font><br>
<br>
<pre><code class="bash hljs">git init<font></font>
git remote add origin git@gitlab.com:&lt;&gt;/&lt;&gt;  <font></font>
git remote add origin https://gitlab.com/&lt;&gt;/&lt;&gt;      SSH<font></font>
git add .<font></font>
git commit -m <span class="hljs-string">"Initial commit"</span>
git push -u origin master</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le projet doit appara√Ætre dans Vue d'ensemble du projet -&gt; D√©tails. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour faciliter l'obtention imm√©diate de l'environnement fini, nous enregistrons l'image d'ancrage de l'environnement dans le registre des listes de r√©sultats. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, vous devez faire:</font></font><br>
<br>
<pre><code class="bash hljs">docker login registry.gitlab.com</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et lancez l'image sur gitlab:</font></font><br>
<br>
<pre><code class="bash hljs">docker build -t registry.gitlab.com/&lt;&gt;/&lt;&gt; .<font></font>
docker push registry.gitlab.com/&lt;&gt;/&lt;&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'image sera situ√©e dans Packages-&gt; Container Registry. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour terminer avec gitlab, nous obtenons imm√©diatement la cl√© de gitlab-runner. </font><font style="vertical-align: inherit;">Pour ce faire, allez dans Param√®tres-&gt; CI / CD-&gt; Runner. </font><font style="vertical-align: inherit;">La cl√© se trouve √† l'√©tape 3 de la section Configuration manuelle (Configurer manuellement un Runner sp√©cifique).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie 3. Configuration du serveur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le serveur VPS doit √™tre pris avec le type de virtualisation KVM ou XEN. </font><font style="vertical-align: inherit;">La virtualisation comme OpenVZ partage le c≈ìur du syst√®me entre tous les utilisateurs, elle n'a donc pas la possibilit√© de modifier les param√®tres du noyau. </font><font style="vertical-align: inherit;">Pour le test, j'ai pris le serveur KVM avec Docker pr√©install√©. </font><font style="vertical-align: inherit;">Cependant, il peut ne pas y avoir de docker sur le serveur. </font><font style="vertical-align: inherit;">Dans ce cas, vous devez l'installer manuellement. </font><font style="vertical-align: inherit;">L'algorithme est le m√™me que lors de l'installation sur la machine locale. </font><font style="vertical-align: inherit;">Il est √©galement n√©cessaire de v√©rifier la version php. </font><font style="vertical-align: inherit;">Pour Laravel, vous avez besoin d'au moins 7.2. </font><font style="vertical-align: inherit;">J'ai √©galement d√ª installer s√©par√©ment l'extension pour php ext-mbstring (dans mon cas pour php 7.3):</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get update<font></font>
sudo apt-get install php7.3-mbstring<font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous devons installer gitlab-runner. </font><font style="vertical-align: inherit;">Runner est un service qui acceptera un webhook d'une hitlab lors de la r√©ception d'une nouvelle version et d√©ploiera tout sur notre serveur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour installer gitlab-runner, vous devez faire:</font></font><br>
<br>
<pre><code class="bash hljs">curl -L --output /usr/<span class="hljs-built_in">local</span>/bin/gitlab-runner https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-amd64
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s le t√©l√©chargement, d√©finissez l'autorisation d'ex√©cuter:</font></font><br>
<br>
<pre><code class="bash hljs">sudo chmod +x /usr/<span class="hljs-built_in">local</span>/bin/gitlab-runner
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, cr√©ez l'utilisateur gitlab-runner et ex√©cutez le service gitlab runner:</font></font><br>
<br>
<pre><code class="bash hljs">sudo useradd --comment <span class="hljs-string">'GitLab Runner'</span> --create-home gitlab-runner --shell /bin/bash<font></font>
sudo gitlab-runner install --user=gitlab-runner --working-directory=/home/gitlab-runner<font></font>
sudo gitlab-runner start</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inscrire le coureur. </font><font style="vertical-align: inherit;">Pour ce faire, nous avons besoin du jeton de la partie 2 de cet article:</font></font><br>
<br>
<pre><code class="bash hljs">sudo gitlab-runner register</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√©ponse, ils vous demanderont l'adresse de votre hitlab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sp√©cifiez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gitlab.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="bash hljs">Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com )<font></font>
https://gitlab.com</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, vous devez entrer le jeton. </font><font style="vertical-align: inherit;">Entrez le jeton de la partie 2.</font></font><br>
<br>
<pre><code class="bash hljs">Please enter the gitlab-ci token <span class="hljs-keyword">for</span> this runner<font></font>
xxx<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, sp√©cifiez une description et des balises s√©par√©es par des virgules. </font><font style="vertical-align: inherit;">Ensuite, on nous propose de choisir un ex√©cuteur testamentaire. </font><font style="vertical-align: inherit;">Ici, vous devez s√©lectionner un shell:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
Please enter the executor:<font></font>
shell</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si je comprends bien, l'ex√©cuteur est un environnement dans lequel le code du fichier .gitlab-ci.yml est ex√©cut√©. </font><font style="vertical-align: inherit;">Vous avez le choix entre bash, ssh, docker, parallels, virtualbox et kubernets. </font><font style="vertical-align: inherit;">La documentation recommande que si vous ne savez pas quoi utiliser, utilisez bash. </font><font style="vertical-align: inherit;">Il s'agit d'une option universelle qui s'ex√©cute sur la ligne de commande de votre serveur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous devons ajouter l'utilisateur gitlab-runner au groupe d'utilisateurs docker.</font></font><br>
<br>
<pre><code class="bash hljs">sudo usermod -aG docker gitlab-runner</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour √©viter les erreurs d'acc√®s, ajoutez aux sudoers</font></font><br>
<br>
<pre><code class="bash hljs">sudo nano /etc/sudoers</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ligne </font></font><br>
<br>
<pre><code class="bash hljs">gitlab-runner ALL=(ALL) NOPASSWD: ALL</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons maintenant cr√©er le fichier .gitlab-ci.yml. </font><font style="vertical-align: inherit;">Il est n√©cessaire pour l'ex√©cution du soi-disant Pipeline: une s√©quence de commandes pour d√©ployer un projet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, acc√©dez au r√©f√©rentiel de projet dans la liste des r√©sultats et cliquez sur Cr√©er un nouveau fichier. </font><font style="vertical-align: inherit;">Gitlab lui-m√™me proposera des mod√®les de fichiers, parmi lesquels vous devez s√©lectionner .gitlab-ci.yml. </font><font style="vertical-align: inherit;">Apr√®s avoir cr√©√© un fichier dans gitlab, vous pouvez s√©lectionner un mod√®le pour le contenu du fichier. </font><font style="vertical-align: inherit;">J'ai choisi laravel et l'ai refait un peu pour moi:</font></font><br>
<br>
<pre><code class="xml hljs"><font></font>
# This file is a template, and might need editing before it works on your project.<font></font>
# Official framework image. Look for the different tagged releases at:<font></font>
# https://hub.docker.com/r/library/php<font></font>
# .    ,        <font></font>
image: registry.gitlab.com/<span class="hljs-tag">&lt;<span class="hljs-name"></span>&gt;</span>/<span class="hljs-tag">&lt;<span class="hljs-name"></span>&gt;</span>:latest<font></font>
<font></font>
# Pick zero or more services to be used on all builds.<font></font>
# Only needed when using a docker container to run your tests in.<font></font>
# Check out: http://docs.gitlab.com/ce/ci/docker/using_docker_images.html#what-is-a-service<font></font>
services:<font></font>
  - mysql:latest<font></font>
#    <font></font>
variables:<font></font>
  MYSQL_DATABASE: laravel<font></font>
  MYSQL_ROOT_PASSWORD: ***********<font></font>
<font></font>
# This folder is cached between builds<font></font>
# ,      <font></font>
# http://docs.gitlab.com/ce/ci/yaml/README.html#cache<font></font>
cache:<font></font>
  paths:<font></font>
    - vendor/<font></font>
    - node_modules/<font></font>
<font></font>
# This is a basic example for a gem or script which doesn't use<font></font>
# services such as redis or postgres<font></font>
#     <font></font>
before_script:<font></font>
  #   <font></font>
  - sudo apt-get update -yqq<font></font>
  #    nodejs<font></font>
  - sudo apt-get install gnupg -yqq<font></font>
  #  Node   12<font></font>
  - curl -sL https://deb.nodesource.com/setup_12.x | sudo bash -<font></font>
  #  <font></font>
  - sudo apt-get install git nodejs libcurl4-gnutls-dev libicu-dev libmcrypt-dev libvpx-dev libjpeg-dev libpng-dev libxpm-dev zlib1g-dev libfreetype6-dev libxml2-dev libexpat1-dev libbz2-dev libgmp3-dev libldap2-dev unixodbc-dev libpq-dev libsqlite3-dev libaspell-dev libsnmp-dev libpcre3-dev libtidy-dev -yqq<font></font>
  #  composer<font></font>
  - curl -sS https://getcomposer.org/installer | php<font></font>
  - php composer.phar install<font></font>
  - composer install<font></font>
  #   Node<font></font>
  - npm install<font></font>
  # Copy over testing configuration.<font></font>
  # Don't forget to set the database config in .env.testing correctly<font></font>
  - DB_HOST=mysql<font></font>
  - DB_DATABASE=laravel<font></font>
  - DB_USERNAME=root<font></font>
  - DB_PASSWORD=*********<font></font>
  #  .env.example    .env<font></font>
  - cp .env.example .env<font></font>
  #  npm build<font></font>
  - npm run dev<font></font>
  #       laravel<font></font>
  - php artisan key:generate<font></font>
  - php artisan config:cache<font></font>
  - php artisan route:clear<font></font>
  - php artisan config:clear<font></font>
  - php artisan cache:clear<font></font>
  #  .<font></font>
  - docker-compose exec app php artisan migrate<font></font>
  #   <font></font>
  #- docker-compose exec app php artisan db:seed<font></font>
<font></font>
#<font></font>
test:<font></font>
  script:<font></font>
    #  <font></font>
    - php vendor/bin/phpunit --coverage-text --colors=never<font></font>
    #  npm<font></font>
    - npm test<font></font>
<font></font>
#       <font></font>
deploying:<font></font>
  stage: deploy<font></font>
  script:<font></font>
    - echo "Deployed"<font></font>
    - docker-compose stop<font></font>
    - docker-compose up -d<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir ex√©cut√© avec succ√®s le pipeline (CI / CD-&gt; Pipelines) √† l'adresse IP de votre serveur, vous devriez voir votre page laravel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour configurer CI / CD, j'ai utilis√© les instructions de Sean Bradley:</font></font><br>
<br>
<div class="oembed"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://youtu.be/RV0845KmsNI</font></font></a></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">medium.com/@sean_bradley/auto-devops-with-gitlab-ci-and-docker-compose-f931233f080f</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr491520/index.html">Convertir xls en xlsx et xml en C #</a></li>
<li><a href="../fr491522/index.html">Pourquoi les femmes vivent-elles plus longtemps</a></li>
<li><a href="../fr491524/index.html">Stas Afanasyev. Juno. Pipelines bas√©s sur io.Reader / io.Writer. Partie 2</a></li>
<li><a href="../fr491528/index.html">Mon exp√©rience a conduit 1000 interviews. Synopsis du rapport de Yegor Bugaenko</a></li>
<li><a href="../fr491530/index.html">Encore une fois environ 433 MHz √©metteurs et r√©cepteurs</a></li>
<li><a href="../fr491534/index.html">Un bref guide d'utilisation de GDB</a></li>
<li><a href="../fr491536/index.html">YouTube - Erreur. Veuillez r√©essayer plus tard. ID de lecture: <...></a></li>
<li><a href="../fr491538/index.html">Lemmes d'√©talement pour les langues r√©guli√®res et sans contexte</a></li>
<li><a href="../fr491540/index.html">R√©seaux pour un informaticien d√©butant. Base obligatoire</a></li>
<li><a href="../fr491542/index.html">Transformation des couleurs: recherches dans les tables d'√©claircie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>