<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯТе тд╡я╕П ЁЯджЁЯП╗ рдПрдХ рдЫрджреНрдо рддреНрд░рд┐-рдЖрдпрд╛рдореА рд░реЗрд╕рд┐рдВрдЧ рдЧреЗрдо рдмрдирд╛рдирд╛ ЁЯНТ ЁЯСиЁЯП╛тАНтЪЦя╕П ЁЯЪо</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ рдмрдЪреНрдЪреЗ рдХреЗ рд░реВрдк рдореЗрдВ, рдореИрдВ рд╢рд╛рдпрдж рд╣реА рдХрднреА рдЖрд░реНрдХреЗрдб рдЖрд░реНрдХреЗрдб рд╣реЙрд▓ рдореЗрдВ рдЧрдпрд╛ рдерд╛ рдХреНрдпреЛрдВрдХрд┐ рдореБрдЭреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдирдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВ рдереА, рдХреНрдпреЛрдВрдХрд┐ рдореЗрд░реЗ рдкрд╛рд╕ рдШрд░ рдкрд░ C64 рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдПрдХ рдЫрджреНрдо рддреНрд░рд┐-рдЖрдпрд╛рдореА рд░реЗрд╕рд┐рдВрдЧ рдЧреЗрдо рдмрдирд╛рдирд╛</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499252/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d16/6e3/cff/d166e3cff9c2a3cefeb68f5c1ddc02d1.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдмрдЪреНрдЪреЗ рдХреЗ рд░реВрдк рдореЗрдВ, рдореИрдВ рд╢рд╛рдпрдж рд╣реА рдХрднреА рдЖрд░реНрдХреЗрдб рдЖрд░реНрдХреЗрдб рд╣реЙрд▓ рдореЗрдВ рдЧрдпрд╛ рдерд╛ рдХреНрдпреЛрдВрдХрд┐ рдореБрдЭреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдирдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВ рдереА, рдХреНрдпреЛрдВрдХрд┐ рдореЗрд░реЗ рдкрд╛рд╕ рдШрд░ рдкрд░ C64 рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛ рдЧреЗрдо рдереЗ ... рд▓реЗрдХрд┐рди рддреАрди рдЖрд░реНрдХреЗрдб рдЧреЗрдо рд╣реИрдВ рдЬрд┐рдирдХреЗ рд▓рд┐рдП рдореЗрд░реЗ рдкрд╛рд╕ рд╣рдореЗрд╢рд╛ рдкреИрд╕рд╛ рдерд╛ - рдЧрдзрд╛ рдХрд╛рдБрдЧ, рдбреНрд░реЗрдЧрди рд▓реИрдпрд░ рдФрд░ рдЖрдЙрдЯрд╕реВрди ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... рдФрд░ рдореБрдЭреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ Outrun рд╕реЗ рдкреНрдпрд╛рд░ рдерд╛ - рдЧрддрд┐, рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ, рддрд╛рдбрд╝ рдХреЗ рдкреЗрдбрд╝ рдФрд░ рд╕рдВрдЧреАрдд, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ C64 рдХреЗ рдХрдордЬреЛрд░ рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рднреАред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/48e/aee/56f/48eaee56f43d8a25e840c6ae13268db4.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЖрдЙрдЯреНрд░реБрди, рдкрд┐рдЯрд╕реНрдЯреЙрдк рдпрд╛ рдкреЛрд▓ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдПрдХ рдкреБрд░рд╛рдиреЗ рд╕реНрдХреВрд▓ рдХреЗ рдЫрджреНрдо рддреНрд░рд┐-рдЖрдпрд╛рдореА рд░реЗрд╕рд┐рдВрдЧ рдЧреЗрдо рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рдореИрдВ рдПрдХ рдкреВрд░реНрдг рдФрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреВрд░реНрдг</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧреЗрдо рдХреЛ </font><font style="vertical-align: inherit;">рдПрдХ рд╕рд╛рде рд░рдЦрдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдирд╣реАрдВ рдмрдирд╛рддрд╛ </font><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди рдпрд╣ рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╛рдВрддреНрд░рд┐рдХреА рдХреА рдлрд┐рд░ рд╕реЗ рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рджрд┐рд▓рдЪрд╕реНрдк рд╣реЛрдЧрд╛, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЗрди рдЦреЗрд▓реЛрдВ рдиреЗ рдЕрдкрдиреА рдЪрд╛рд▓ рдХрд╛ рдПрд╣рд╕рд╛рд╕ рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рдШрдЯрддрд╛ рд╣реИ, рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ, рд╕реНрдкреНрд░рд╛рдЗрдЯ рдФрд░ рдЧрддрд┐ рдХреА рднрд╛рд╡рдирд╛ ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ, рдпрд╣рд╛рдБ рдореЗрд░реА "рд╕рдкреНрддрд╛рд╣рд╛рдВрдд рдкрд░рд┐рдпреЛрдЬрдирд╛" рд╣реИ, рдЬреЛ рдЕрдВрддрддрдГ рд╕рдкреНрддрд╛рд╣рд╛рдВрдд рдкрд░ рдкрд╛рдВрдЪ рдпрд╛ рдЫрд╣ рдорд╣реАрдиреЗ рд▓рдЧ рдЧрдП</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ec/27b/d28/7ec27bd28630dbbaf7b81c87233c28ac.png"></div><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдЦреЗрд▓ рдЦреЗрд▓реЛ</font></font></a></li>
<li><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рд╕реНрд░реЛрдд рдХреЛрдб</font></a><font style="vertical-align: inherit;"> рджреЗрдЦреЗрдВ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЦреЗрд▓рдиреЗ рдпреЛрдЧреНрдп рд╕рдВрд╕реНрдХрд░рдг рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЧреЗрдо рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рддрдХрдиреАрдХреА рдбреЗрдореЛ рдХреА рддрд░рд╣ рдЕрдзрд┐рдХ рд╣реИред </font><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрджрд┐ рдЖрдк рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЫрджреНрдо рддреНрд░рд┐-рдЖрдпрд╛рдореА рджреМрдбрд╝ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╕рдмрд╕реЗ рдиреНрдпреВрдирддрдо рдиреАрдВрд╡ рд╣реЛрдЧреА рдЬрд┐рд╕реЗ рдЖрдкрдХреЛ рдзреАрд░реЗ-рдзреАрд░реЗ рдПрдХ рдЦреЗрд▓ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдкреЙрд▓рд┐рд╢ рдирд╣реАрдВ рд╣реИ, рдереЛрдбрд╝рд╛ рдмрджрд╕реВрд░рдд рд╣реИ, рд▓реЗрдХрд┐рди рдкреВрд░реА рддрд░рд╣ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рд╣реИред </font><font style="vertical-align: inherit;">рдореИрдВ рдЖрдкрдХреЛ рдЪрд╛рд░ рд╕рд░рд▓ рдЪрд░рдгреЛрдВ рдореЗрдВ рдЕрдкрдиреЗ рджрдо рдкрд░ рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рджрд┐рдЦрд╛рдКрдВрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдк рднреА рдЦреЗрд▓ рд╕рдХрддреЗ рд╣реИрдВ</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реАрдзрд╛ рд╕рдбрд╝рдХ рдбреЗрдореЛ</font></font></a></li>
<li><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдШрдЯрддрд╛ рдХреЗ рд╕рд╛рде рдбреЗрдореЛ</font></a><font style="vertical-align: inherit;"> рдореЗрдВ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдбреЗрдореЛ</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдорд╛рдкреНрдд рд╕рдВрд╕реНрдХрд░рдг</font></font></a></li>
</ul><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдЦреЗрд▓ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреНрд░рджрд░реНрд╢рди </font><font style="vertical-align: inherit;">рдорд╢реАрди / рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдкрд░ </font><strong><font style="vertical-align: inherit;">рдмрд╣реБрдд</font></strong><font style="vertical-align: inherit;"> рдирд┐рд░реНрднрд░ рд╣реИред </font><font style="vertical-align: inherit;">рдЖрдзреБрдирд┐рдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рдореЗрдВ, рдпрд╣ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрди рд▓реЛрдЧреЛрдВ рдореЗрдВ рдЬреЛ рдХрд┐ рдХреИрдирд╡рд╛рд╕ рдЬреАрдкреАрдпреВ рддреНрд╡рд░рдг рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдЦрд░рд╛рдм рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдбреНрд░рд╛рдЗрд╡рд░ рдЗрд╕реЗ рдлреНрд░реАрдЬ рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░рдг рдмрди рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЦреЗрд▓ рдореЗрдВ, рдЖрдк рд░реЗрдВрдбрд░рд┐рдВрдЧ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдФрд░ рд░реЗрдВрдбрд░рд┐рдВрдЧ рджреВрд░реА рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕рд╛ рд╣реБрдЖ рдХрд┐ рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ (рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рдХреА рд╕рд╛рджрдЧреА рдХреЗ рдХрд╛рд░рдг) рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдЗрд╕рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рддрдХрдиреАрдХ рдпрд╛ рдЕрдиреБрд╢рдВрд╕рд┐рдд рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд░рдирд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕рдордЭрдиреЗ рдореЗрдВ рдЖрд╕рд╛рдиреА рдХреЗ рд▓рд┐рдП, рдкреНрд░рддреНрдпреЗрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рд╕реАрдзреЗ HTML рдкреЗрдЬ (рд╣реЙрд░рд░!) рдореЗрдВ рдПрдореНрдмреЗрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ; </font><font style="vertical-align: inherit;">рдЗрд╕рд╕реЗ рднреА рдмрджрддрд░, рдпрд╣ рд╡реИрд╢реНрд╡рд┐рдХ рдЪрд░ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рдПрдХ рдЕрд╕рд▓реА рдЦреЗрд▓ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд░рд╣реЗ рдереЗ, рддреЛ рдХреЛрдб рднреА рдмрд╣реБрдд рдХреБрдЫ рд╕рдВрд░рдЪрд┐рдд рдФрд░ рд╕реБрд╡реНрдпрд╡рд╕реНрдерд┐рдд рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдЬрдм рд╕реЗ рдпрд╣ рдПрдХ рд░реЗрд╕рд┐рдВрдЧ рдЦреЗрд▓ рдХрд╛ рдПрдХ рддрдХрдиреАрдХреА рдбреЗрдореЛ рд╣реИ, рдореИрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЫрдбрд╝реА рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KISS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднрд╛рдЧ 1. рд╕реАрдзреА рд╕рдбрд╝рдХреЗрдВред</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ, рд╣рдо рдПрдХ рдЫрджреНрдо рддреНрд░рд┐-рдЖрдпрд╛рдореА рд░реЗрд╕рд┐рдВрдЧ рдЧреЗрдо рдмрдирд╛рдиреЗ рдкрд░ рдХреИрд╕реЗ рдЖрд░рдВрдн рдХрд░реЗрдВ? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЦреИрд░, рд╣рдореЗрдВ рдЬрд░реВрд░рдд рд╣реИ</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреНрд░рд┐рдХреЛрдгрдорд┐рддрд┐ рджреЛрд╣рд░рд╛рдПрдВ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 рдбреА рдкреНрд░рдХреНрд╖реЗрдкрдг рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ рдпрд╛рдж рдХрд░реЗрдВ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреЗрдо рд▓реВрдк рдмрдирд╛рдПрдВ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдкреНрд░рд╛рдЗрдЯ рдЪрд┐рддреНрд░ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдбрд╝рдХ рдЬреНрдпрд╛рдорд┐рддрд┐ рдХрд╛ рдирд┐рд░реНрдорд╛рдг</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЗрдВрдбрд░ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЗрдВрдбрд░ рдХрд░реЗрдВ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЗрдВрдбрд░ рдХрд╛рд░</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╢реАрди рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд▓рд┐рдП рдХреАрдмреЛрд░реНрдб рд╕рдорд░реНрдерди рд▓рд╛рдЧреВ рдХрд░реЗрдВ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдЪрд▓реЛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реВ рдХреЗ рдЫрджреНрдо 3 рдбреА рдкреЗрдЬ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдиреБрд╡рд╛рдж</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣реИрдмреЗ] рдХреЛ </font><font style="vertical-align: inherit;">рдкрдврд╝реЗрдВ </font><font style="vertical-align: inherit;">- рд╕реВрдЪрдирд╛ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рд╕реНрд░реЛрдд (рдЬреЛ рдореБрдЭреЗ рдорд┐рд▓ рд╕рдХрддрд╛ рд╣реИ) рдХреИрд╕реЗ psevdotrohmernuyu рд░реЗрд╕рд┐рдВрдЧ рдЧреЗрдо рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реВ рдХрд╛ рд▓реЗрдЦ рдкрдврд╝рдирд╛ рд╕рдорд╛рдкреНрдд рдХрд┐рдпрд╛? </font><font style="vertical-align: inherit;">рдареАрдХ! </font><font style="vertical-align: inherit;">рд╣рдо 3 рдбреА-рдкреНрд░реЛрдЬреЗрдХреНрдЯреЗрдб рд╕реЗрдЧрдореЗрдВрдЯ рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдЙрдирдХреА рдпрдерд╛рд░реНрдерд╡рд╛рджреА рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреА рд╡рд┐рд╡рд┐рдзрддрд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░реЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рд╣рдо рдЗрд╕реЗ рдЕрдЧрд▓реЗ рдЪрд╛рд░ рднрд╛рдЧреЛрдВ рдореЗрдВ рдзреАрд░реЗ-рдзреАрд░реЗ рдХрд░реЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рд╣рдо рдЕрднреА рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗ, рд╕рдВрд╕реНрдХрд░рдг v1 рдХреЗ рд╕рд╛рде, рдФрд░ рдЗрд╕реЗ HTML5 рдХреИрдирд╡рд╛рд╕ рддрддреНрд╡ рдкрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд░рдХреЗ рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ рд╕реАрдзреА рд╕рдбрд╝рдХ рдЬреНрдпрд╛рдорд┐рддрд┐ рдмрдирд╛рдПрдБред</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ рдбреЗрдореЛ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реИ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдереЛрдбрд╝рд╛ рддреНрд░рд┐рдХреЛрдгрдорд┐рддрд┐</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдЖрдПрдВ, рдЖрдЗрдП рддреНрд░рд┐рднреБрдЬрдорд┐рддрд┐ рдХреА рдореВрд▓ рдмрд╛рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдпрд╣ рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ 3D рджреБрдирд┐рдпрд╛ рдХреЗ рдХрд┐рд╕реА рдмрд┐рдВрджреБ рдХреЛ 2D рд╕реНрдХреНрд░реАрди рдкрд░ рдХреИрд╕реЗ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЬрд╛рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдмрд╕реЗ рд╕рд░рд▓ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрджрд┐ рдЖрдк рд╡реИрдХреНрдЯрд░ рдФрд░ рдореИрдЯреНрд░реАрд╕ рдХреЛ рдирд╣реАрдВ рдЫреВрддреЗ рд╣реИрдВ, рддреЛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕реА рддрд░рд╣ рдХреЗ рддреНрд░рд┐рднреБрдЬреЛрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЗ рдирд┐рдпрдо рдХрд╛ рдЙрдкрдпреЛрдЧ 3 рдбреА рдкреНрд░рдХреНрд╖реЗрдкрдг рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдиреЛрдЯреЗрд╢рди рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = рдХреИрдорд░рд╛ рдКрдВрдЪрд╛рдИ</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = рдХреИрдорд░рд╛ рд╕реЗ рд╕реНрдХреНрд░реАрди рдХреА рджреВрд░реА</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = рдХреИрдорд░рд╛ рд╕реЗ рдХрд╛рд░ рдХреА рджреВрд░реА</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = рд╕реНрдХреНрд░реАрди </font><strong><font style="vertical-align: inherit;">y</font></strong><font style="vertical-align: inherit;"> рд╕рдордиреНрд╡рдп</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлрд┐рд░ рд╣рдо рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рддреНрд░рд┐рдХреЛрдг рдХреЗ рдХрд╛рдиреВрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y = h * d / z</font></font></strong></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЪрд┐рддреНрд░ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/949/0ab/47b/9490ab47bb570b61218e46e5913c18bb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдк рд╕рд╛рдЗрдб рд╡реНрдпреВ рдХреЗ рдмрдЬрд╛рдп рд╢реАрд░реНрд╖ рджреГрд╢реНрдп рдореЗрдВ рдПрдХ рд╕рдорд╛рди рдЖрд░реЗрдЦ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ </font><font style="vertical-align: inherit;">рд╕реНрдХреНрд░реАрди </font><font style="vertical-align: inherit;">рдХреЗ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдорд╛рди рд╕рдореАрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВ:</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x = w * d / z</font></font></strong></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрд╣рд╛рдБ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = рд╕рдбрд╝рдХ рдХреА рдЖрдзреА рдЪреМрдбрд╝рд╛рдИ (рдХреИрдорд░реЗ рд╕реЗ рд╕рдбрд╝рдХ рдХреЗ рдХрд┐рдирд╛рд░реЗ рддрдХ)ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y рдХреЗ рд▓рд┐рдП</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдо рдПрдХ рдХрд╛рд░рдХ рджреНрд╡рд╛рд░рд╛ рд╕реНрдХреЗрд▓ рдХрд░рддреЗ рд╣реИрдВ</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d / z</font></font></strong></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд┐рд╕реНрдЯрдо рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░реЗрдВ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрд░реЗрдЦ рдХреЗ рд░реВрдк рдореЗрдВ, рдпрд╣ рд╕реБрдВрджрд░ рдФрд░ рд╕рд░рд▓ рджрд┐рдЦрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЬрдм рдЖрдк рдХреЛрдбрд┐рдВрдЧ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдереЛрдбрд╝рд╛ рднреНрд░рдорд┐рдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдордиреЗ рдордирдорд╛рдирд╛ рдирд╛рдо рдЪреБрдирд╛ рд╣реИ, рдФрд░ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╣рдордиреЗ 3 рдбреА рджреБрдирд┐рдпрд╛ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреНрдпрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдП рд╣реИрдВ, рдФрд░ 2 рдбреА рд╕реНрдХреНрд░реАрди рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреНрдпрд╛ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдо рдпрд╣ рднреА рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдХреИрдорд░рд╛ рджреБрдирд┐рдпрд╛ рдХреА рдЙрддреНрдкрддреНрддрд┐ рдХреЗ рдХреЗрдВрджреНрд░ рдореЗрдВ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдпрд╣ рдорд╢реАрди рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдЖрдк рдЕрдзрд┐рдХ рдФрдкрдЪрд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдкреНрд░рджрд░реНрд╢рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреБрдирд┐рдпрд╛ рд╕реЗ </font><strong><font style="vertical-align: inherit;">рд░реВрдкрд╛рдВрддрд░рдг</font></strong><font style="vertical-align: inherit;"> рд╕реНрдХреНрд░реАрди рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рд▓рд┐рдП рд╕рдордиреНрд╡рдп рдХрд░рддрд╛ рд╣реИ</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯрд┐рдВрдЧ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреИрдорд░рд╛ рдПрдХ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рдкреНрд░рдХреНрд╖реЗрдкрдг рд╡рд┐рдорд╛рди рдкрд░ рд╕рдордиреНрд╡рдп рдХрд░рддрд╛ рд╣реИ</font></font></li>
<li><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднреМрддрд┐рдХ рд╕реНрдХреНрд░реАрди рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ рдЕрдиреБрдорд╛рдирд┐рдд рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ </font><strong><font style="vertical-align: inherit;">рд╕реНрдХреЗрд▓ рдХрд░рдирд╛</font></strong><font style="vertical-align: inherit;"> (рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдХреИрдирд╡рд╛рд╕ рд╣реИ)</font></font></li>
</ol><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b59/5d2/30f/b595d230f4f45b9b0c9409266d5804d8.png"></div><br>
<blockquote><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдиреЛрдЯ: рд╡рд░реНрддрдорд╛рди 3 рдбреА-рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ </font><font style="vertical-align: inherit;">, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЛрдЯреЗрд╢рди</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЪрд░рдг 1 рдФрд░ 2 рдХреЗ рдмреАрдЪ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ рд╣рдо рдШрдЯрддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рд░реЛрдЯреЗрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред</font></font></em></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд╖реЗрдкрдг</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдФрдкрдЪрд╛рд░рд┐рдХ рдкреНрд░рдХреНрд╖реЗрдкрдг рд╕рдореАрдХрд░рдгреЛрдВ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/edb/246/e18/edb246e187e7fe0eb027b53c58790c34.png"></div><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реВрдкрд╛рдВрддрд░рдг рд╕рдореАрдХрд░рдг ( </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдиреБрд╡рд╛рдж</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рдмрд┐рдВрджреБ рдХрдХреНрд╖ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд╖реЗрдкрдг рд╕рдореАрдХрд░рдг ( </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд░рд┐рдпреЛрдЬрдирд╛</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рдКрдкрд░ рджрд┐рдЦрд╛рдП рдЧрдП "рд╕рдорд╛рди рддреНрд░рд┐рдХреЛрдг рдХреЗ рдХрд╛рдиреВрди" рдХреЗ рд░реВрдкрд╛рдВрддрд░ рд╣реИрдВред</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕рдореАрдХрд░рдгреЛрдВ ( </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдХреЗрд▓</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛:</font></font><br>
<ul>
<li><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧрдгрд┐рдд</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЬрд╣рд╛рдВ 0,0 рдХреЗрдВрджреНрд░ рдореЗрдВ рд╣реИ рдФрд░ y рдЕрдХреНрд╖ рдКрдкрд░ рд╣реИ, рдФрд░</font></font></li>
<li><em></em>,  0,0     ,   y  :</li>
</ul></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/11f/050/aad/11f050aadea0d1c537baefcb06f7c2f0.png"></div><br>
<blockquote><em>:   3d-         <code>Vector</code>  <code>Matrix</code>     3d-,      ,      WebGL (  )тАж       .           Outrun.</em></blockquote><br>
<h2>  </h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3b7/27b/1bd/3b727b1bdb285d874bd659c29db13522.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд╣реЗрд▓реА рдХрд╛ рдЕрдВрддрд┐рдо рдЯреБрдХрдбрд╝рд╛ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреА рдХреА</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реЛрдЧрд╛ </font><font style="vertical-align: inherit;">- рдХреИрдорд░реЗ рд╕реЗ рдкреНрд░рдХреНрд╖реЗрдкрдг рд╡рд┐рдорд╛рди рдХреА рджреВрд░реАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЗрд╡рд▓ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреА</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдПрдХ рд╣рд╛рд░реНрдб-рд╕реЗрдЯ рдорд╛рди рд▓рд┐рдЦрдиреЗ рдХреЗ рдмрдЬрд╛рдп </font><font style="vertical-align: inherit;">, рдЗрд╕реЗ рджреЗрдЦрдиреЗ рдХреЗ рд╡рд╛рдВрдЫрд┐рдд рдКрд░реНрдзреНрд╡рд╛рдзрд░ рдХреНрд╖реЗрддреНрд░ рд╕реЗ рдЧрдгрдирд╛ рдХрд░рдирд╛ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рд╣рдо рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдиреЗ рдкрд░ рдХреИрдорд░реЗ рдХреЛ "рдЬрд╝реВрдо" рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдВрдЧреЗред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рд╣рдо рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рд╣рдо рдПрдХ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рдкреНрд░рдХреНрд╖реЗрдкрдг рд╡рд┐рдорд╛рди рдкрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЗрд╕рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ -1 рд╕реЗ +1 рддрдХ рдХреЗ рд╣реИрдВ, рддреЛ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d рдХреА</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧрдгрдирд╛ рдирд┐рдореНрди рдкреНрд░рдХрд╛рд░ рд╕реЗ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ:</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 1 / tan (fov / 2)</font></font></blockquote><br><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд╝реЙрд╡</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдПрдХ (рдХрдИ рдореЗрдВ рд╕реЗ) рдЪрд░ рдХреЗ рд░реВрдк рдореЗрдВ </font><strong><font style="vertical-align: inherit;">рдкрд░рд┐рднрд╛рд╖рд┐рдд</font></strong><font style="vertical-align: inherit;"> 
рдХрд░рдХреЗ </font><font style="vertical-align: inherit;">, рд╣рдо рд░реЗрдВрдбрд░ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЛ рдлрд╛рдЗрди-рдЯреНрдпреВрди рдХрд░рдиреЗ рдХреА рдЧреБрдВрдЬрд╛рдЗрд╢ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛрдб рд╕рдВрд░рдЪрдирд╛</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдЦ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ, рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдХрд╣рд╛ рдХрд┐ рдХреЛрдб рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдХрд╛рдлреА рдЕрдиреБрдкрд╛рд▓рди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ - рдпрд╣ рд╕рд░рд▓ рд╡реИрд╢реНрд╡рд┐рдХ рдЪрд░ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ "рддреНрд╡рд░рд┐рдд рдФрд░ рдЧрдВрджрд╛" рдбреЗрдореЛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЬрдм рд╕реЗ рдореИрдВ рдЪрд╛рд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдВрд╕реНрдХрд░рдг (рд╕реНрдЯреНрд░реЗрдЯ, рдХрд░реНрд╡реНрд╕, рд╣рд┐рд▓реНрд╕ рдФрд░ рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕) рдмрдирд╛рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реВрдВ, рдореИрдВ рдХреБрдЫ рдкреБрди: рдкреНрд░рдпреЛрдЬреНрдп рддрд░реАрдХреЛрдВ </font></font><code>common.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЙрдбреНрдпреВрд▓ рдореЗрдВ </font><font style="vertical-align: inherit;">рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реВрдВрдЧрд╛ </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dom</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреБрдЫ рдорд╛рдореВрд▓реА рдбреЛрдо рд╕рд╣рд╛рдпрдХ рдХрд╛рд░реНрдпреЛрдВ рд╣реИред</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Util</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ, рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рд╕рд╣рд╛рдпрдХ рдЧрдгрд┐рддреАрдп рдХрд╛рд░реНрдпред</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреЗрдо</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рд╕рд╛рдорд╛рдиреНрдп рдЧреЗрдорд┐рдВрдЧ рд╕рдорд░реНрдерди рдлрд╝рдВрдХреНрд╢рди, рдЬреИрд╕реЗ рдЫрд╡рд┐ рдбрд╛рдЙрдирд▓реЛрдбрд░ рдФрд░ рдЧреЗрдо рд▓реВрдкред</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЗрдВрдбрд░</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдХреИрдирд╡рд╛рд╕ рдкрд░ рд╕рд╣рд╛рдпрдХ рдкреНрд░рддрд┐рдкрд╛рджрди рдХрд╛рд░реНрдпред</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рддрд░реАрдХреЛрдВ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ </font></font><code>common.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗрд╡рд▓ рддрднреА </font><font style="vertical-align: inherit;">рдХрд░реВрдБрдЧрд╛ </font><font style="vertical-align: inherit;">рдЬрдм рд╡реЗ рдЦреЗрд▓ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реЛрдВ, рдФрд░ рдХреЗрд╡рд▓ рд╕рд╣рд╛рдпрдХ рдЧрдгрд┐рддреАрдп рдпрд╛ DOM рдлрд╝рдВрдХреНрд╢рди рди рд╣реЛрдВред </font><font style="vertical-align: inherit;">рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдирд╛рдо рдФрд░ рд╕рдВрджрд░реНрдн рд╕реЗ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛрдЧрд╛ рдХрд┐ рддрд░реАрдХреЛрдВ рдХреЛ рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред</font></font><br>
<br>
<blockquote><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣, рд╕реНрд░реЛрдд рдХреЛрдб рдЕрдВрддрд┐рдо рджрд╕реНрддрд╛рд╡реЗрдЬ рдореЗрдВ рд╣реИред</font></font></em></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд░рд▓ рдЦреЗрд▓ рд▓реВрдк</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреБрдЫ рджреЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдЧреЗрдо рд▓реВрдк рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдк рдЦреЗрд▓ ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреМрдВрдЧ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреНрд░реЗрдХрдЖрдЙрдЯ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреЗрдЯреНрд░рд┐рд╕</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рдВрдк</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреЛрд▓реНрдбрд░рдбреИрд╢</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рдХреЗ </font><font style="vertical-align: inherit;">рдмрд╛рд░реЗ рдореЗрдВ рдореЗрд░реЗ рдХрд┐рд╕реА рднреА рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ рдХреЛ рдкрдврд╝рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">, рддреЛ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╢реНрдЪрд┐рдд рд╕рдордп рдХреЗ рдХрджрдо рдХреЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде рдореЗрд░реЗ рдкрд╕рдВрджреАрджрд╛ рдЦреЗрд▓ рдЪрдХреНрд░ рдХреЗ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦ рдЪреБрдХреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рд╡рд┐рд╡рд░рдгреЛрдВ рдореЗрдВ рдЧрд╣рд░рд╛рдИ рд╕реЗ рдирд╣реАрдВ рдЬрд╛рдКрдВрдЧрд╛, рдФрд░ рдкрд┐рдЫрд▓реЗ рдЧреЗрдореЛрдВ рд╕реЗ рдХреЛрдб рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реВрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдЕрдиреБрд░реЛрдз рдХреЗ</font></a><font style="vertical-align: inherit;"> рд╕рд╛рде рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕рдордп рдХрджрдо рдХреЗ рд╕рд╛рде рдЧреЗрдо рд▓реВрдк рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд┐рджреНрдзрд╛рдВрдд рдпрд╣ рд╣реИ рдХрд┐ рдореЗрд░реЗ рдЪрд╛рд░ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ </font></font><code>Game.run(...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ </font><font style="vertical-align: inherit;">рдХреЛ рдХреЙрд▓ </font><font style="vertical-align: inherit;">рдФрд░ рдЙрдкрдпреЛрдЧ </font><font style="vertical-align: inherit;">рдХрд░ рд╕рдХрддрд╛ рд╣реИ</font></font><br>
<br>
<ul>
<li><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕рдордп рдХрджрдо рдХреЗ рд╕рд╛рде рдЦреЗрд▓ рдХреА рджреБрдирд┐рдпрд╛ рдХреЛ рдЕрджреНрдпрддрди рдХрд░рдирд╛ред</font></font></li>
<li><code>render</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдкрд░ рдЦреЗрд▓ рдХреА рджреБрдирд┐рдпрд╛ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛ред</font></font></li>
</ul><br>
<pre><code class="javascript hljs">run: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{<font></font>
<font></font>
  Game.loadImages(options.images, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">images</span>) </span>{<font></font>
<font></font>
    <span class="hljs-keyword">var</span> update = options.update,    <span class="hljs-comment">// method to update game logic is provided by caller</span>
        render = options.render,    <span class="hljs-comment">// method to render the game is provided by caller</span>
        step   = options.step,      <span class="hljs-comment">// fixed frame step (1/fps) is specified by caller</span>
        now    = <span class="hljs-literal">null</span>,<font></font>
        last   = Util.timestamp(),<font></font>
        dt     = <span class="hljs-number">0</span>,<font></font>
        gdt    = <span class="hljs-number">0</span>;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">frame</span>(<span class="hljs-params"></span>) </span>{<font></font>
      now = Util.timestamp();<font></font>
      dt  = <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">1</span>, (now - last) / <span class="hljs-number">1000</span>); <span class="hljs-comment">// using requestAnimationFrame have to be able to handle large delta's caused when it 'hibernates' in a background or non-visible tab</span><font></font>
      gdt = gdt + dt;<font></font>
      <span class="hljs-keyword">while</span> (gdt &gt; step) {<font></font>
        gdt = gdt - step;<font></font>
        update(step);<font></font>
      }<font></font>
      render();<font></font>
      last = now;<font></font>
      requestAnimationFrame(frame);<font></font>
    }<font></font>
    frame(); <span class="hljs-comment">// lets get this party started</span><font></font>
  });<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлрд┐рд░, рдпрд╣ рдореЗрд░реЗ рдкрд┐рдЫрд▓реЗ рдХреИрдирд╡рд╛рд╕ рдЧреЗрдо рдХреЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рдХрд╛ рд░реАрдореЗрдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдк рдпрд╣ рдирд╣реАрдВ рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдЧреЗрдо рд▓реВрдк рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдкрд░ рд╡рд╛рдкрд╕ рд▓реМрдЯреЗрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрд┐рддреНрд░ рдФрд░ рд╕реНрдкреНрд░рд┐рдЯ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЦреЗрд▓ рдЪрдХреНрд░ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕реНрдкреНрд░рд╛рдЗрдЯрд╢реАрдЯ (рд╕реНрдкреНрд░рд╛рдЗрдЯ рд╢реАрдЯ) рд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреГрд╖реНрдарднреВрдорд┐</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдЖрдХрд╛рд╢, рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдФрд░ рдкреЗрдбрд╝реЛрдВ рдХреЗ рд▓рд┐рдП рддреАрди рд▓рдВрдмрди рдкрд░рддреЗрдВ</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдорд╢реАрди рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕ (рдЕрдВрддрд┐рдо рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдЬреЛрдбрд╝реЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреЗрдбрд╝ рдФрд░ рдмрд┐рд▓рдмреЛрд░реНрдб)</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f6f/111/acc/f6f111accbba448459e25c6fe761ff05.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реНрдкреНрд░рд╛рдЗрдЯ рд╢реАрдЯ рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рдХрд╛рд░реНрдп рд░реЗрдХ рдФрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реВрдмреА рдЬреЗрдо рд╕реНрдкреНрд░рд╛рдЗрдЯ-рдлреИрдХреНрдЯреНрд░реА</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрддреНрдкрдиреНрди рдХреА рдЧрдИ рдереА </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдХрд╛рд░реНрдп рд╕рдВрдпреБрдХреНрдд рд╕реНрдкреНрд░рд╛рдЗрдЯ рд╢реАрдЯреНрд╕ рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ x, y, w, h рдХреЛ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдХрд╛рдВрд╕реНрдЯреЗрдмрд▓ </font></font><code>BACKGROUND</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font><font style="vertical-align: inherit;">рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </font></font><code>SPRITES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<blockquote><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдиреЛрдЯ: рдореИрдВрдиреЗ Inkscape рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреГрд╖реНрдарднреВрдорд┐ рдмрдирд╛рдИ рд╣реИ, рдФрд░ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕ </font><font style="vertical-align: inherit;">рдЙрддреНрдкрддреНрддрд┐ рдХреЗ рд▓рд┐рдП рдкреБрд░рд╛рдиреЗ Outrun рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рд▓рд┐рдП </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧрдП</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рд╣реИрдВ </font><font style="vertical-align: inherit;">рдФрд░ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред</font></font></em></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЦреЗрд▓ рдЪрд░</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкреГрд╖реНрдарднреВрдорд┐ рдФрд░ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреА рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдореЗрдВ рдХрдИ рдЧреЗрдо рдЪрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЕрд░реНрдерд╛рддреН:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> fps           = <span class="hljs-number">60</span>;                      <span class="hljs-comment">// how many 'update' frames per second</span>
<span class="hljs-keyword">var</span> step          = <span class="hljs-number">1</span>/fps;                   <span class="hljs-comment">// how long is each frame (in seconds)</span>
<span class="hljs-keyword">var</span> width         = <span class="hljs-number">1024</span>;                    <span class="hljs-comment">// logical canvas width</span>
<span class="hljs-keyword">var</span> height        = <span class="hljs-number">768</span>;                     <span class="hljs-comment">// logical canvas height</span>
<span class="hljs-keyword">var</span> segments      = [];                      <span class="hljs-comment">// array of road segments</span>
<span class="hljs-keyword">var</span> canvas        = Dom.get(<span class="hljs-string">'canvas'</span>);       <span class="hljs-comment">// our canvas...</span>
<span class="hljs-keyword">var</span> ctx           = canvas.getContext(<span class="hljs-string">'2d'</span>); <span class="hljs-comment">// ...and its drawing context</span>
<span class="hljs-keyword">var</span> background    = <span class="hljs-literal">null</span>;                    <span class="hljs-comment">// our background image (loaded below)</span>
<span class="hljs-keyword">var</span> sprites       = <span class="hljs-literal">null</span>;                    <span class="hljs-comment">// our spritesheet (loaded below)</span>
<span class="hljs-keyword">var</span> resolution    = <span class="hljs-literal">null</span>;                    <span class="hljs-comment">// scaling factor to provide resolution independence (computed)</span>
<span class="hljs-keyword">var</span> roadWidth     = <span class="hljs-number">2000</span>;                    <span class="hljs-comment">// actually half the roads width, easier math if the road spans from -roadWidth to +roadWidth</span>
<span class="hljs-keyword">var</span> segmentLength = <span class="hljs-number">200</span>;                     <span class="hljs-comment">// length of a single segment</span>
<span class="hljs-keyword">var</span> rumbleLength  = <span class="hljs-number">3</span>;                       <span class="hljs-comment">// number of segments per red/white rumble strip</span>
<span class="hljs-keyword">var</span> trackLength   = <span class="hljs-literal">null</span>;                    <span class="hljs-comment">// z length of entire track (computed)</span>
<span class="hljs-keyword">var</span> lanes         = <span class="hljs-number">3</span>;                       <span class="hljs-comment">// number of lanes</span>
<span class="hljs-keyword">var</span> fieldOfView   = <span class="hljs-number">100</span>;                     <span class="hljs-comment">// angle (degrees) for field of view</span>
<span class="hljs-keyword">var</span> cameraHeight  = <span class="hljs-number">1000</span>;                    <span class="hljs-comment">// z height of camera</span>
<span class="hljs-keyword">var</span> cameraDepth   = <span class="hljs-literal">null</span>;                    <span class="hljs-comment">// z distance camera is from screen (computed)</span>
<span class="hljs-keyword">var</span> drawDistance  = <span class="hljs-number">300</span>;                     <span class="hljs-comment">// number of segments to draw</span>
<span class="hljs-keyword">var</span> playerX       = <span class="hljs-number">0</span>;                       <span class="hljs-comment">// player x offset from center of road (-1 to 1 to stay independent of roadWidth)</span>
<span class="hljs-keyword">var</span> playerZ       = <span class="hljs-literal">null</span>;                    <span class="hljs-comment">// player relative z distance from camera (computed)</span>
<span class="hljs-keyword">var</span> fogDensity    = <span class="hljs-number">5</span>;                       <span class="hljs-comment">// exponential fog density</span>
<span class="hljs-keyword">var</span> position      = <span class="hljs-number">0</span>;                       <span class="hljs-comment">// current camera Z position (add playerZ to get player's absolute Z position)</span>
<span class="hljs-keyword">var</span> speed         = <span class="hljs-number">0</span>;                       <span class="hljs-comment">// current speed</span>
<span class="hljs-keyword">var</span> maxSpeed      = segmentLength/step;      <span class="hljs-comment">// top speed (ensure we can't move more than 1 segment in a single frame to make collision detection easier)</span>
<span class="hljs-keyword">var</span> accel         =  maxSpeed/<span class="hljs-number">5</span>;             <span class="hljs-comment">// acceleration rate - tuned until it 'felt' right</span>
<span class="hljs-keyword">var</span> breaking      = -maxSpeed;               <span class="hljs-comment">// deceleration rate when braking</span>
<span class="hljs-keyword">var</span> decel         = -maxSpeed/<span class="hljs-number">5</span>;             <span class="hljs-comment">// 'natural' deceleration rate when neither accelerating, nor braking</span>
<span class="hljs-keyword">var</span> offRoadDecel  = -maxSpeed/<span class="hljs-number">2</span>;             <span class="hljs-comment">// off road deceleration is somewhere in between</span>
<span class="hljs-keyword">var</span> offRoadLimit  =  maxSpeed/<span class="hljs-number">4</span>;             <span class="hljs-comment">// limit when off road deceleration no longer applies (e.g. you can always go at least this speed even when off road)</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрд╛рд░реНрдпрдХреНрд░рдо рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди рдорд╣рддреНрд╡рдкреВрд░реНрдг рдореВрд▓реНрдпреЛрдВ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдХреЛ рдпреВрдЖрдИ рдирд┐рдпрдВрддреНрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХреЗрдВ рдХрд┐ рд╡реЗ рд╕рдбрд╝рдХ рдХреЗ рдкреНрд░рддрд┐рдкрд╛рджрди рдХреЛ рдХреИрд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЕрдиреНрдп рд╡рд┐рдзрд┐ рдореЗрдВ рдХрд╕реНрдЯрдо UI рдорд╛рдиреЛрдВ рд╕реЗ рдкреБрдирд░реНрдЧрдгрд┐рдд рд╣реИрдВ </font></font><code>reset()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рдлреЗрд░рд╛рд░реА рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддреЗ рд╣реИрдВ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдХреБрдВрдЬреА рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдХрд░рддреЗ рд╣реИрдВ </font></font><code>Game.run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЬреЛ рд╕рд░рд▓ рдХреАрдмреЛрд░реНрдб рдЗрдирдкреБрдЯ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдореМрдЬреВрджрд╛ рдХрд╛рд░реНрдпреЛрдВ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЪрд░ рд╕реЗрдЯ рдпрд╛ рд░реАрд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ:</font></font><br>
<br>
<pre><code class="javascript hljs">Game.run({<font></font>
  ...<font></font>
  keys: [<font></font>
    { <span class="hljs-attr">keys</span>: [KEY.LEFT,  KEY.A], <span class="hljs-attr">mode</span>: <span class="hljs-string">'down'</span>, <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ keyLeft   = <span class="hljs-literal">true</span>;  } },<font></font>
    { <span class="hljs-attr">keys</span>: [KEY.RIGHT, KEY.D], <span class="hljs-attr">mode</span>: <span class="hljs-string">'down'</span>, <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ keyRight  = <span class="hljs-literal">true</span>;  } },<font></font>
    { <span class="hljs-attr">keys</span>: [KEY.UP,    KEY.W], <span class="hljs-attr">mode</span>: <span class="hljs-string">'down'</span>, <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ keyFaster = <span class="hljs-literal">true</span>;  } },<font></font>
    { <span class="hljs-attr">keys</span>: [KEY.DOWN,  KEY.S], <span class="hljs-attr">mode</span>: <span class="hljs-string">'down'</span>, <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ keySlower = <span class="hljs-literal">true</span>;  } },<font></font>
    { <span class="hljs-attr">keys</span>: [KEY.LEFT,  KEY.A], <span class="hljs-attr">mode</span>: <span class="hljs-string">'up'</span>,   <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ keyLeft   = <span class="hljs-literal">false</span>; } },<font></font>
    { <span class="hljs-attr">keys</span>: [KEY.RIGHT, KEY.D], <span class="hljs-attr">mode</span>: <span class="hljs-string">'up'</span>,   <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ keyRight  = <span class="hljs-literal">false</span>; } },<font></font>
    { <span class="hljs-attr">keys</span>: [KEY.UP,    KEY.W], <span class="hljs-attr">mode</span>: <span class="hljs-string">'up'</span>,   <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ keyFaster = <span class="hljs-literal">false</span>; } },<font></font>
    { <span class="hljs-attr">keys</span>: [KEY.DOWN,  KEY.S], <span class="hljs-attr">mode</span>: <span class="hljs-string">'up'</span>,   <span class="hljs-attr">action</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ keySlower = <span class="hljs-literal">false</span>; } }<font></font>
  ],<font></font>
  ...<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧрддрд┐</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рд╡рд░реНрддрдорд╛рди рдЧрддрд┐ред</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдерд┐рддрд┐</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдЯреНрд░реИрдХ рдкрд░ рд╡рд░реНрддрдорд╛рди рдЬреЗрдб рд╕реНрдерд┐рддрд┐ред </font><font style="vertical-align: inherit;">рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрд╣ рдПрдХ рдХреИрдорд░рд╛ рд╕реНрдерд┐рддрд┐ рд╣реИ, рди рдХрд┐ рдлреЗрд░рд╛рд░реАред</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">playerX</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рд╕рдбрд╝рдХ рдкрд░ рдПрдХреНрд╕ рдкрд░ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ред </font><font style="vertical-align: inherit;">-1 рд╕реЗ +1 рддрдХ рдХреА рд╕реАрдорд╛ рдореЗрдВ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд, рддрд╛рдХрд┐ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдореВрд▓реНрдп рдкрд░ рдирд┐рд░реНрднрд░ рди рд╣реЛ </font></font><code>roadWidth</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпреЗ рдЪрд░ рд╡рд┐рдзрд┐ рдХреЗ рдЕрдВрджрд░ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рд╣реИрдВ </font></font><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЬреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреНрд░рд┐рдпрд╛рдПрдВ рдХрд░рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><code>position</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд░реНрддрдорд╛рди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ </font><font style="vertical-align: inherit;">рдЕрджреНрдпрддрди </font></font><code>speed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрджреНрдпрддрди </font></font><code>playerX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрдм рдЖрдк рдмрд╛рдИрдВ рдпрд╛ рджрд╛рдИрдВ рдХреБрдВрдЬреА рджрдмрд╛рддреЗ рд╣реИрдВред</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>speed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдКрдкрд░ рдХреА рдХреБрдВрдЬреА рджрдмрд╛рдП рдЬрд╛рдиреЗ рдкрд░ </font><font style="vertical-align: inherit;">рдмрдврд╝ рдЬрд╛рддреА </font><font style="vertical-align: inherit;">рд╣реИред</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>speed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдбрд╛рдЙрди рдХреБрдВрдЬреА рджрдмрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ </font><font style="vertical-align: inherit;">рдШрдЯ рдЬрд╛рддреА </font><font style="vertical-align: inherit;">рд╣реИред</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрдо рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>speed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдЧрд░ рдКрдкрд░ рдФрд░ рдиреАрдЪреЗ рдХреА рдЪрд╛рдмрд┐рдпрд╛рдБ рджрдмрд╛рдпрд╛ рдирд╣реАрдВ рд╣реИред</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>speed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдЧрд░ </font></font><code>playerX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдбрд╝рдХ рдХреЗ рдХрд┐рдирд╛рд░реЗ рдФрд░ рдШрд╛рд╕ рдкрд░ рд╕реНрдерд┐рдд рд╣реЛ </font><font style="vertical-align: inherit;">рддреЛ </font><font style="vertical-align: inherit;">рдХрдо </font><font style="vertical-align: inherit;">рд╣реЛ рдЬрд╛рддрд╛ </font><font style="vertical-align: inherit;">рд╣реИред</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реАрдзреА рд╕рдбрд╝рдХреЛрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡рд┐рдзрд┐ </font></font><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рдлреА рд╕реНрдкрд╖реНрдЯ рдФрд░ рд╕рд░рд▓ рд╣реИ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span>(<span class="hljs-params">dt</span>) </span>{<font></font>
<font></font>
  position = Util.increase(position, dt * speed, trackLength);<font></font>
<font></font>
  <span class="hljs-keyword">var</span> dx = dt * <span class="hljs-number">2</span> * (speed/maxSpeed); <span class="hljs-comment">// at top speed, should be able to cross from left to right (-1 to 1) in 1 second</span><font></font>
<font></font>
  <span class="hljs-keyword">if</span> (keyLeft)<font></font>
    playerX = playerX - dx;<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (keyRight)<font></font>
    playerX = playerX + dx;<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (keyFaster)<font></font>
    speed = Util.accelerate(speed, accel, dt);<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (keySlower)<font></font>
    speed = Util.accelerate(speed, breaking, dt);<font></font>
  <span class="hljs-keyword">else</span><font></font>
    speed = Util.accelerate(speed, decel, dt);<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (((playerX &lt; <span class="hljs-number">-1</span>) || (playerX &gt; <span class="hljs-number">1</span>)) &amp;&amp; (speed &gt; offRoadLimit))<font></font>
    speed = Util.accelerate(speed, offRoadDecel, dt);<font></font>
<font></font>
  playerX = Util.limit(playerX, <span class="hljs-number">-2</span>, <span class="hljs-number">2</span>);     <span class="hljs-comment">// dont ever let player go too far out of bounds</span>
  speed   = Util.limit(speed, <span class="hljs-number">0</span>, maxSpeed); <span class="hljs-comment">// or exceed maxSpeed</span><font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЪрд┐рдВрддрд╛ рди рдХрд░реЗрдВ, рдпрд╣ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдЬрдм рд╕рдорд╛рдкреНрдд рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рд╣рдо рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕ рдФрд░ рдЯрдХрд░рд╛рд╡ рдХреА рдорд╛рдиреНрдпрддрд╛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдбрд╝рдХ рдХреА рдЬреНрдпрд╛рдорд┐рддрд┐</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо рдЦреЗрд▓ рдХреА рджреБрдирд┐рдпрд╛ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд╕рдХреЗрдВ, рд╣рдореЗрдВ </font></font><code>segments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рдзрд┐ рдореЗрдВ </font><font style="vertical-align: inherit;">рдПрдХ рд╕рд░рдгреА рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </font></font><code>resetRoad()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдбрд╝рдХ рдХреЗ рдЗрди рдЦрдВрдбреЛрдВ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЛ рдЕрдВрддрддрдГ рдЗрд╕рдХреА рджреБрдирд┐рдпрд╛ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕реЗ рдкреНрд░рдХреНрд╖реЗрдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рддрд╛рдХрд┐ рдпрд╣ рд╕реНрдХреНрд░реАрди рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдореЗрдВ 2d рдмрд╣реБрднреБрдЬ рдореЗрдВ рдмрджрд▓ рдЬрд╛рдПред </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рдЦрдВрдб рдХреЗ рд▓рд┐рдП, рд╣рдо рджреЛ рдмрд┐рдВрджреБрдУрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВ, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1 рдХреИрдорд░реЗ рдХреЗ рд╕рдмрд╕реЗ рдХрд░реАрдм рдХрд╛ </font><font style="vertical-align: inherit;">рдХреЗрдВрджреНрд░ рд╣реИ </font><font style="vertical-align: inherit;">, рдФрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА 2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреИрдорд░реЗ рд╕реЗ рд╕рдмрд╕реЗ рджреВрд░ рдХрд┐рдирд╛рд░реЗ рдХрд╛ рдХреЗрдВрджреНрд░ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53a/fa4/076/53afa40768a00b49833703b1457a6941.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрдбрд╝рд╛рдИ рд╕реЗ рдмреЛрд▓рдирд╛, </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рдЦрдВрдб рдХрд╛ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд┐рдЫрд▓реЗ рдЦрдВрдб рдХреЗ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p1 рдХреЗ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рдорд╛рди рд╣реИ </font><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдирд╛ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдЦрдВрдб рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдЕрд▓рдЧ рд░рд╣рддреЗ рд╣реИрдВ </font></font><code>rumbleLength</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпреЛрдВрдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕реБрдВрджрд░ рд╡рд┐рд╕реНрддреГрдд рд╡рдХреНрд░ рдФрд░ рдкрд╣рд╛рдбрд╝ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдХреНрд╖реИрддрд┐рдЬ рдкрдЯреНрдЯрд┐рдпрд╛рдБред рдпрджрд┐ рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рдж рдХреЗ рдЦрдВрдб рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рд░рдВрдЧ рд╣реИ, рддреЛ рдпрд╣ рдПрдХ рдЦрд░рд╛рдм рд╕реНрдЯреНрд░реЛрдм рдкреНрд░рднрд╛рд╡ рдкреИрджрд╛ рдХрд░реЗрдЧрд╛ред рдЗрд╕рд▓рд┐рдП, рд╣рдо рдХрдИ рдЫреЛрдЯреЗ рдЦрдВрдб рд░рдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХреНрд╖реИрддрд┐рдЬ рдкрдЯреНрдЯрд┐рдпреЛрдВ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдиреНрд╣реЗрдВ рдПрдХ рд╕рд╛рде рд╕рдореВрд╣рд┐рдд рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetRoad</span>(<span class="hljs-params"></span>) </span>{<font></font>
  segments = [];<font></font>
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span> ; n &lt; <span class="hljs-number">500</span> ; n++) { <span class="hljs-comment">// arbitrary road length</span><font></font>
    segments.push({<font></font>
       <span class="hljs-attr">index</span>: n,
       <span class="hljs-attr">p1</span>: { <span class="hljs-attr">world</span>: { <span class="hljs-attr">z</span>:  n   *segmentLength }, <span class="hljs-attr">camera</span>: {}, <span class="hljs-attr">screen</span>: {} },
       <span class="hljs-attr">p2</span>: { <span class="hljs-attr">world</span>: { <span class="hljs-attr">z</span>: (n+<span class="hljs-number">1</span>)*segmentLength }, <span class="hljs-attr">camera</span>: {}, <span class="hljs-attr">screen</span>: {} },
       <span class="hljs-attr">color</span>: <span class="hljs-built_in">Math</span>.floor(n/rumbleLength)%<span class="hljs-number">2</span> ? COLORS.DARK : COLORS.LIGHT<font></font>
    });<font></font>
  }<font></font>
<font></font>
  trackLength = segments.length * segmentLength;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо </font><font style="vertical-align: inherit;">рдХреЗрд╡рд▓ рджреБрдирд┐рдпрд╛ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ </font><strong><font style="vertical-align: inherit;">z рдХреЗ</font></strong><font style="vertical-align: inherit;"> рд╕рд╛рде </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p1</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2 рдХреЛ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">, рдХреНрдпреЛрдВрдХрд┐ рд╣рдореЗрдВ рдХреЗрд╡рд▓ рд╕реАрдзреА рд╕рдбрд╝рдХреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><strong><font style="vertical-align: inherit;">Y</font></strong><font style="vertical-align: inherit;"> рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ </font><font style="vertical-align: inherit;">рд╣рдореЗрд╢рд╛ 0 рд╣реЛрдЧрд╛, рдФрд░ </font><strong><font style="vertical-align: inherit;">x</font></strong><font style="vertical-align: inherit;"> рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ </font><font style="vertical-align: inherit;">рд╣рдореЗрд╢рд╛ рд╕реНрдХреЗрд▓ рдХрд┐рдП рдЧрдП рдорд╛рди рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░реЗрдЧрд╛ </font><font style="vertical-align: inherit;">ред рдмрд╛рдж рдореЗрдВ, рдЬрдм рд╣рдо рдШрдЯрддрд╛ рдФрд░ рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╣рд┐рд╕реНрд╕рд╛ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">
рд╣рдо рдХреИрдорд░реЗ рдореЗрдВ рдФрд░ рд╕реНрдХреНрд░реАрди рдкрд░ рдЗрди рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдЕрднреНрдпрд╛рд╡реЗрджрди рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЦрд╛рд▓реА рдСрдмреНрдЬреЗрдХреНрдЯ рднреА рд╕реЗрдЯ рдХрд░реЗрдВрдЧреЗ рддрд╛рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ рдЕрд╕реНрдерд╛рдпреА рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рди рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗ </font><font style="vertical-align: inherit;">ред рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЧреЗрдо рд▓реВрдк рдХреЗ рднреАрддрд░ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЖрд╡рдВрдЯрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдмрдЪрдирд╛ рдЪрд╛рд╣рд┐рдПред</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><code>+/- roadWidth</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>render</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм рдХрд╛рд░ рд╕рдбрд╝рдХ рдХреЗ рдЕрдВрдд рддрдХ рдкрд╣реБрдБрдЪрддреА рд╣реИ, рддреЛ рд╣рдо рдмрд╕ рдЪрдХреНрд░ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд▓реМрдЯрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕реЗ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо Z рдХреЗ рдХрд┐рд╕реА рднреА рдорд╛рди рдХреЗ рд▓рд┐рдП рдПрдХ рдЦрдВрдб рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рдзрд┐ рдмрдирд╛рдПрдВрдЧреЗ, рднрд▓реЗ рд╣реА рд╡рд╣ рд╕рдбрд╝рдХ рдХреА рд▓рдВрдмрд╛рдИ рд╕реЗ рдкрд░реЗ рд╣реЛ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findSegment</span>(<span class="hljs-params">z</span>) </span>{
  <span class="hljs-keyword">return</span> segments[<span class="hljs-built_in">Math</span>.floor(z/segmentLength) % segments.length];<font></font>
}</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рд░реЗрдВрдбрд░рд┐рдВрдЧ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд┐рдзрд┐ </font></font><code>render()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреГрд╖реНрдарднреВрдорд┐ рдЫрд╡рд┐ рдкреНрд░рджрд╛рди рдХрд░рдХреЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рднрд╛рдЧреЛрдВ рдореЗрдВ, рдЬрд╣рд╛рдВ рд╣рдо рдШрдЯрддрд╛ рдФрд░ рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЛ рдЬреЛрдбрд╝реЗрдВрдЧреЗ, рд╣рдореЗрдВ рдкреГрд╖реНрдарднреВрдорд┐ рдХреЛ рд▓рдВрдмрди рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЕрдм рдЗрд╕ рджрд┐рд╢рд╛ рдореЗрдВ рдЖрдЧреЗ рдмрдврд╝рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗ, рдкреГрд╖реНрдарднреВрдорд┐ рдХреЛ рддреАрди рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкрд░рддреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░реЗрдВрдЧреЗ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>{<font></font>
<font></font>
  ctx.clearRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height);<font></font>
<font></font>
  Render.background(ctx, background, width, height, BACKGROUND.SKY);<font></font>
  Render.background(ctx, background, width, height, BACKGROUND.HILLS);<font></font>
  Render.background(ctx, background, width, height, BACKGROUND.TREES);<font></font>
<font></font>
  ...</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдбрд╝рдХ рдХрд╛ рдкреНрд░рддрд┐рдкрд╛рджрди</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлрд┐рд░, рд░реЗрдВрдбрд░ рдлрдВрдХреНрд╢рди рд╕рднреА рд╕реЗрдЧрдореЗрдВрдЯ рдФрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреБрдирд░рд╛рд╡реГрддрд┐ рдХрд░рддрд╛ рд╣реИ рдФрд░ </font><font style="vertical-align: inherit;">рджреБрдирд┐рдпрд╛ </font><strong><font style="vertical-align: inherit;">рдХреЗ</font></strong><font style="vertical-align: inherit;"> рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА 1</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font><strong><font style="vertical-align: inherit;">рдкреА </font></strong></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реНрдХреНрд░реАрди рдХреЛрдСрд░реНрдбрд┐рдиреЗрдЯ рдХрд░рддрд╛ рд╣реИ, рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЛ рдЯреНрд░рд┐рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЕрдиреНрдпрдерд╛ рд░реЗрдВрдбрд░ рдХрд░рддрд╛ рд╣реИ:</font></font><br>
<br>
<pre><code class="javascript hljs">  <span class="hljs-keyword">var</span> baseSegment = findSegment(position);
  <span class="hljs-keyword">var</span> maxy        = height;
  <span class="hljs-keyword">var</span> n, segment;
  <span class="hljs-keyword">for</span>(n = <span class="hljs-number">0</span> ; n &lt; drawDistance ; n++) {<font></font>
<font></font>
    segment = segments[(baseSegment.index + n) % segments.length];<font></font>
<font></font>
    Util.project(segment.p1, (playerX * roadWidth), cameraHeight, position, cameraDepth, width, height, roadWidth);<font></font>
    Util.project(segment.p2, (playerX * roadWidth), cameraHeight, position, cameraDepth, width, height, roadWidth);<font></font>
<font></font>
    <span class="hljs-keyword">if</span> ((segment.p1.camera.z &lt;= cameraDepth) || <span class="hljs-comment">// behind us</span>
        (segment.p2.screen.y &gt;= maxy))          <span class="hljs-comment">// clip by (already rendered) segment</span>
      <span class="hljs-keyword">continue</span>;<font></font>
<font></font>
    Render.segment(ctx, width, lanes,<font></font>
                   segment.p1.screen.x,<font></font>
                   segment.p1.screen.y,<font></font>
                   segment.p1.screen.w,<font></font>
                   segment.p2.screen.x,<font></font>
                   segment.p2.screen.y,<font></font>
                   segment.p2.screen.w,<font></font>
                   segment.color);<font></font>
<font></font>
    maxy = segment.p2.screen.y;<font></font>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдКрдкрд░, рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдмрд┐рдВрджреБ рдХреЛ рдкреЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЧрдгрдирд╛рдУрдВ рдХреЛ рджреЗрдЦрд╛ рд╣реИ; рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рдВрд╕реНрдХрд░рдг рдкрд░рд┐рд╡рд░реНрддрди, рдкреНрд░рдХреНрд╖реЗрдкрдг рдФрд░ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЛ рдПрдХ рд╡рд┐рдзрд┐ рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИ:</font></font><br>
<br>
<pre><code class="javascript hljs">project: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p, cameraX, cameraY, cameraZ, cameraDepth, width, height, roadWidth</span>) </span>{<font></font>
  p.camera.x     = (p.world.x || <span class="hljs-number">0</span>) - cameraX;<font></font>
  p.camera.y     = (p.world.y || <span class="hljs-number">0</span>) - cameraY;<font></font>
  p.camera.z     = (p.world.z || <span class="hljs-number">0</span>) - cameraZ;<font></font>
  p.screen.scale = cameraDepth/p.camera.z;<font></font>
  p.screen.x     = <span class="hljs-built_in">Math</span>.round((width/<span class="hljs-number">2</span>)  + (p.screen.scale * p.camera.x  * width/<span class="hljs-number">2</span>));<font></font>
  p.screen.y     = <span class="hljs-built_in">Math</span>.round((height/<span class="hljs-number">2</span>) - (p.screen.scale * p.camera.y  * height/<span class="hljs-number">2</span>));<font></font>
  p.screen.w     = <span class="hljs-built_in">Math</span>.round(             (p.screen.scale * roadWidth   * width/<span class="hljs-number">2</span>));<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рдмрд┐рдВрджреБ </font><strong><font style="vertical-align: inherit;">p1</font></strong><font style="vertical-align: inherit;"> рдФрд░ </font><strong><font style="vertical-align: inherit;">P2 рдХреЗ</font></strong><font style="vertical-align: inherit;"> рд▓рд┐рдП </font><font style="vertical-align: inherit;">
рд╕реНрдХреНрд░реАрди </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y рдХреА</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛ </font><strong><font style="vertical-align: inherit;">,</font></strong><font style="vertical-align: inherit;"> рд╣рдо </font><font style="vertical-align: inherit;">рдЦрдВрдб </font><font style="vertical-align: inherit;">рдХреЗ рдЕрдиреБрдорд╛рдирд┐рдд рдЪреМрдбрд╝рд╛рдИ ( </font><strong><font style="vertical-align: inherit;">w</font></strong><font style="vertical-align: inherit;"> ) рдХреА </font><font style="vertical-align: inherit;">рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рдкреНрд░рдХреНрд╖реЗрдкрдг рдЧрдгрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЕрдВрдХ </font><strong><font style="vertical-align: inherit;">p1</font></strong><font style="vertical-align: inherit;"> рдФрд░ </font><strong><font style="vertical-align: inherit;">P2</font></strong><font style="vertical-align: inherit;"> 
рдХреЗ рд╕реНрдХреНрд░реАрди </font><strong><font style="vertical-align: inherit;">x</font></strong><font style="vertical-align: inherit;"> рдФрд░ </font><strong><font style="vertical-align: inherit;">y</font></strong><font style="vertical-align: inherit;"> рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ </font><font style="vertical-align: inherit;">, рд╕рд╛рде рд╣реА рд╕рдбрд╝рдХ </font><strong><font style="vertical-align: inherit;">w</font></strong><font style="vertical-align: inherit;"> рдХреА рдЕрдиреБрдорд╛рдирд┐рдд рдЪреМрдбрд╝рд╛рдИ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж </font><font style="vertical-align: inherit;">, рд╣рдо </font><font style="vertical-align: inherit;">рд╕рд╛рдорд╛рдиреНрдп рд╕рд╣рд╛рдпрдХ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдШрд╛рд╕, рд╕рдбрд╝рдХ, рдХреНрд╖реИрддрд┐рдЬ рдкрдЯреНрдЯрд┐рдпреЛрдВ рдФрд░ рд╡рд┐рднрд╛рдЬрд┐рдд рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рдкреНрд░рддрд┐рдкрд╛рджрди рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдкреЙрд▓реАрдЧреЙрди рдХреЛ </font><font style="vertical-align: inherit;">рд╕рд╣рд╛рдпрдХ рдлрд╝рдВрдХреНрд╢рди рдХреА рд╕рд╣рд╛рдпрддрд╛ рд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ </font><em><font style="vertical-align: inherit;">рд╣реИрдВ (рджреЗрдЦреЗрдВ ред </font></em><em><font style="vertical-align: inherit;">)</font></em><font style="vertical-align: inherit;"> ред</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><code>Render.segment</code><font style="vertical-align: inherit;"></font><code>Render.polygon</code> <em><font style="vertical-align: inherit;"></font><code>common.js</code><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░ рд░реЗрдВрдбрд░рд┐рдВрдЧ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдВрдд рдореЗрдВ, рдЖрдЦрд┐рд░реА рдЪреАрдЬ рд╡рд┐рдзрд┐ рдХреА рдЬрд░реВрд░рдд </font></font><code>render</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реИ рдПрдХ рдлреЗрд░рд╛рд░реА рдкреНрд░рддрд┐рдкрд╛рджрди:</font></font><br>
<br>
<pre><code class="javascript hljs">  Render.player(ctx, width, height, resolution, roadWidth, sprites, speed/maxSpeed,<font></font>
                cameraDepth/playerZ,<font></font>
                width/<span class="hljs-number">2</span>,<font></font>
                height);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкрджреНрдзрддрд┐ рдХреЛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>player</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдФрд░ рдирд╣реАрдВ </font></font><code>car</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдХреНрдпреЛрдВрдХрд┐ рдЦреЗрд▓ рдХреЗ рдЕрдВрддрд┐рдо рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рд╕рдбрд╝рдХ рдкрд░ рдЕрдиреНрдп рдХрд╛рд░реЗрдВ рд╣реЛрдВрдЧреА, рдФрд░ рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рдлреЗрд░рд╛рд░реА рдХреЛ рдЕрдиреНрдп рдХрд╛рд░реЛрдВ рд╕реЗ рдЕрд▓рдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣реЗрд▓реНрдкрд░ рдлрд╝рдВрдХреНрд╢рди </font><font style="vertical-align: inherit;">рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЛ рд░реЗрдВрдбрд░ рдХрд░рдиреЗ рдХреЗ </font></font><code>Render.player</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд┐рдП рдХреИрдирд╡рд╛рд╕ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ </font></font><code>drawImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдкрд╣рд▓реЗ рдЗрд╕реЗ рдЙрд╕реА рдкреНрд░рдХреНрд╖реЗрдкрдг рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдХреЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛:</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></strong></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрд╣рд╛рдВ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдорд╢реАрди рд╕реЗ рдХреИрдорд░реЗ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рджреВрд░реА рд╣реИ, рдЪрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд▓реЗрдпрд░рдЬреЗрдб</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдлрд╝рдВрдХреНрд╢рди рдЙрдЪреНрдЪ рдЧрддрд┐ рдкрд░ рдХрд╛рд░ рдХреЛ "рд╣рд┐рд▓рд╛рддрд╛ рд╣реИ", </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧрддрд┐ / рдЕрдзрд┐рдХрддрдо рдХреЗ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрдзрд╛рд░ рдкрд░ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕рдореАрдХрд░рдг рдореЗрдВ рдереЛрдбрд╝рд╛ рдпрд╛рджреГрдЪреНрдЫрд┐рдХрддрд╛ рдЬреЛрдбрд╝ </font><strong><font style="vertical-align: inherit;">рджреЗрддрд╛ рд╣реИ</font></strong><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдФрд░ рдпрд╣рд╛рдБ рд╣реИ рдХрд┐ рд╣рдо рдХреНрдпрд╛ рдорд┐рд▓рд╛:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/845/dfd/3e8/845dfd3e88ef0a22b2c9fd021140ff3b.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╖реНрдХрд░реНрд╖</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рд╕реАрдзреЗ рд╕рдбрд╝рдХреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдкреНрд░рдгрд╛рд▓реА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА рдмрдбрд╝реА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдХрд╛рдо рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рд╣рдордиреЗ рдЬреЛрдбрд╝рд╛</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рдорд╛рдиреНрдп рд╕рд╣рд╛рдпрдХ рдореЙрдбреНрдпреВрд▓ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЛрдо</font></font></strong></li>
<li><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">Util</font></strong><font style="vertical-align: inherit;"> рд╕рд╛рдорд╛рдиреНрдп рдЧрдгрд┐рдд рдореЙрдбреНрдпреВрд▓</font></font><strong><font style="vertical-align: inherit;"></font></strong></li>
<li><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЗрдВрдбрд░</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рдорд╛рдиреНрдп рдХреИрдирд╡рд╛рд╕ рд╕рд╣рд╛рдпрдХ рдореЙрдбреНрдпреВрд▓ </font><font style="vertical-align: inherit;">...</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... рд╕рд╣рд┐рдд </font></font><code>Render.segment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Render.polygon</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░</font></font><code>Render.sprite</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╢реНрдЪрд┐рдд рдкрд┐рдЪ рдЦреЗрд▓ рдЪрдХреНрд░</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЫрд╡рд┐ рдбрд╛рдЙрдирд▓реЛрдбрд░</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреАрдмреЛрд░реНрдб рд╣реИрдВрдбрд▓рд░</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдВрдмрди рдкреГрд╖реНрдарднреВрдорд┐</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реЛрдВ, рдкреЗрдбрд╝реЛрдВ рдФрд░ рд╣реЛрд░реНрдбрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рд╕реНрдкреНрд░рд╛рдЗрдЯ рд╢реАрдЯ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдбрд╝рдХ рдХреА рдЕрд▓реНрдкрд╡рд┐рдХрд╕рд┐рдд рдЬреНрдпрд╛рдорд┐рддрд┐</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╢реАрди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА </font><font style="vertical-align: inherit;">рд╡рд┐рдзрд┐</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>render()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреГрд╖реНрдарднреВрдорд┐, рд╕рдбрд╝рдХ рдФрд░ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рдХрд╛рд░ рдкреНрд░рджрд╛рди </font><font style="vertical-align: inherit;">рдХрд░рдиреЗ рдХреА рд╡рд┐рдзрд┐</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>&lt;audio&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЗрд╕рд┐рдВрдЧ рд╕рдВрдЧреАрдд рдХреЗ рд╕рд╛рде </font><font style="vertical-align: inherit;">HTML5 рдЯреИрдЧ </font><font style="vertical-align: inherit;">(рдЫрд┐рдкрд╛ рдмреЛрдирд╕!)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... рдЬрд┐рд╕рдиреЗ рд╣рдореЗрдВ рдЖрдЧреЗ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫреА рдиреАрдВрд╡ рджреАред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднрд╛рдЧ 2. рд╡рдХреНрд░ред</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98f/c3d/6d1/98fc3d6d13cc16f12847d253e112fcb2.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рднрд╛рдЧ рдореЗрдВ, рд╣рдо рдФрд░ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдмрддрд╛рдПрдВрдЧреЗ рдХрд┐ рд╡рдХреНрд░ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рд╣рдордиреЗ рд╕реЗрдЧрдореЗрдВрдЯ рдХреА рдПрдХ рд╕рд░рдгреА рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдбрд╝рдХ рдХреА рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ рджреБрдирд┐рдпрд╛ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╣реИрдВ рдЬреЛ рдХреИрдорд░реЗ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд░реВрдкрд╛рдВрддрд░рд┐рдд рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рд╕реНрдХреНрд░реАрди рдкрд░ рдЕрдиреБрдорд╛рдирд┐рдд рд╣реЛрддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдореЗрдВ </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рдмрд┐рдВрджреБ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">рдХреЗрд╡рд▓ рд╡рд┐рд╢реНрд╡ рд╕рдордиреНрд╡рдп </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z рдХреА</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА </font><font style="vertical-align: inherit;">, рдХреНрдпреЛрдВрдХрд┐ рд╕реАрдзреА рд╕рдбрд╝рдХреЛрдВ рдкрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреЛрдиреЛрдВ </font><font style="vertical-align: inherit;">рд╢реВрдиреНрдп рдХреЗ рдмрд░рд╛рдмрд░ рдереЗред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c78/551/359/c78551359ef7c11e4af48b4285d61842.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рд╣рдо рдкреВрд░реА рддрд░рд╣ рдХрд╛рд░реНрдпрд╛рддреНрдордХ 3 рдбреА рдкреНрд░рдгрд╛рд▓реА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдереЗ, рддреЛ рд╣рдо </font><font style="vertical-align: inherit;">рдКрдкрд░ рджрд┐рдЦрд╛рдП рдЧрдП рдмрд╣реБрднреБрдЬ </font><font style="vertical-align: inherit;">рдХреА </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдзрд╛рд░рд┐рдпреЛрдВ рдХреА </font><font style="vertical-align: inherit;">рдЧрдгрдирд╛ рдХрд░рдХреЗ рдШрдЯрддрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреА рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреА рдЧрдгрдирд╛ рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реЛрдЧрд╛, рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЬреЗрдХреНрд╢рди рд╕рдореАрдХрд░рдгреЛрдВ рдореЗрдВ 3 рдбреА-рд░реЛрдЯреЗрд╢рди рдЪрд░рдг рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... рдЕрдЧрд░ рд╣рдо рдЗрд╕ рддрд░рд╣ рд╕реЗ рдЧрдП, рддреЛ рд╡реЗрдмрдЬреАрдПрд▓ рдпрд╛ рдЗрд╕рдХреЗ рдПрдирд╛рд▓реЙрдЧреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреНрдп рдХрд╛рд░реНрдп рдирд╣реАрдВ рд╣реИрдВред рд╣рдо рд╕рд┐рд░реНрдл рдШрдЯрддрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреБрд░рд╛рдиреЗ рд╕реНрдХреВрд▓ рдЫрджреНрдо-рддреАрди-рдЖрдпрд╛рдореА рдЪрд╛рд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рдЖрдкрдХреЛ рд╢рд╛рдпрдж рдпрд╣ рдЬрд╛рдирдХрд░ рдЖрд╢реНрдЪрд░реНрдп рд╣реЛрдЧрд╛ рдХрд┐ рд╣рдо </font><font style="vertical-align: inherit;">рд╕рдбрд╝рдХ рдЦрдВрдбреЛрдВ </font><font style="vertical-align: inherit;">рдХреЗ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ </font><font style="vertical-align: inherit;">рдХреА </font><font style="vertical-align: inherit;">рдЧрдгрдирд╛ рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ </font><font style="vertical-align: inherit;">... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╣рдо </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реВ рдХреА рд╕рд▓рд╛рд╣ рдХрд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<blockquote><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рд╕рдбрд╝рдХ рдХреЛ рд╡рдХреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рд╡рдХреНрд░ рд░реЗрдЦрд╛ рдХреЗ рдХреЗрдВрджреНрд░ рд░реЗрдЦрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдмрджрд▓ рджреЗрдВ ... рд╕реНрдХреНрд░реАрди рдХреЗ рдиреАрдЪреЗ рд╕реЗ рд╢реБрд░реВ рд╣реЛрдХрд░, рдмрд╛рдПрдВ рдпрд╛ рджрд╛рдПрдВ рдорд╛рд░реНрдЧ рдХреЗ рдХреЗрдВрджреНрд░ рдХреА рд╢рд┐рдлреНрдЯ рдХреА рдорд╛рддреНрд░рд╛ рдзреАрд░реЗ-рдзреАрд░реЗ рдмрдврд╝ рдЬрд╛рддреА рд╣реИ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><em><font style="vertical-align: inherit;">"</font></em></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдХреЗрдВрджреНрд░ рд░реЗрдЦрд╛ </font></font><code>cameraX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд╖реЗрдкрдг рдЧрдгрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдкрд╛рд░рд┐рдд </font><font style="vertical-align: inherit;">рдореВрд▓реНрдп рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдЬрдм рд╣рдо </font></font><code>render()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдбрд╝рдХ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЧрдореЗрдВрдЯ рдореЗрдВ </font><font style="vertical-align: inherit;">рдкреНрд░рджрд░реНрд╢рди </font><font style="vertical-align: inherit;">рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдореВрд▓реНрдп </font></font><code>cameraX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ рдзреАрд░реЗ-рдзреАрд░реЗ рдмрдврд╝рддреЗ рдореВрд▓реНрдп </font><font style="vertical-align: inherit;">рджреНрд╡рд╛рд░рд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдХреЗ рдЕрдиреБрдХрд░рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c8a/569/19e/c8a56919e67d6f19cc737074ce92fffb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХрд┐рддрдирд╛ рдмрджрд▓рд╛рд╡ рдХрд░рдирд╛ рд╣реИ, рд╣рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЧрдореЗрдВрдЯ рдореЗрдВ рдПрдХ рд╡реИрд▓реНрдпреВ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </font></font><code>curve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ рдорд╛рди рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреИрдорд░реЗ рдХреА рдХреЗрдВрджреНрд░ рд░реЗрдЦрд╛ рд╕реЗ рдЦрдВрдб рдХреЛ рдХрд┐рддрдирд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рд╡рд╣ рд╣реЛрдЧреА:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рдПрдБ рдореБрдбрд╝рдиреЗ рд╡рд╛рд▓реЗ рд╡рдХреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЛрдгрд╛рддреНрдордХ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╣реА рдореЛрдбрд╝ рдШрдЯрддрд╛ рдХреЗ рд▓рд┐рдП рд╕рдХрд╛рд░рд╛рддреНрдордХ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрд┐рдХрдиреА рдШрдЯрддрд╛ рдХреЗ рд▓рд┐рдП рдХрдо</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреЗрдЬ рдШрдЯрддрд╛ рдХреЗ рд▓рд┐рдП рдФрд░ рдЕрдзрд┐рдХ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореВрд▓реНрдпреЛрдВ рдХреЛ рд╕реНрд╡рдпрдВ рдХрд╛рдлреА рдордирдорд╛рдиреЗ рдврдВрдЧ рд╕реЗ рдЪреБрдирд╛ рдЬрд╛рддрд╛ рд╣реИ; </font><font style="vertical-align: inherit;">рдкрд░реАрдХреНрд╖рдг рдФрд░ рддреНрд░реБрдЯрд┐ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рд╣рдо рдЕрдЪреНрдЫреЗ рдореВрд▓реНрдп рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕ рдкрд░ рд╡рдХреНрд░ "рд╕рд╣реА" рдкреНрд░рддреАрдд рд╣реЛрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> ROAD = {
  <span class="hljs-attr">LENGTH</span>: { <span class="hljs-attr">NONE</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">SHORT</span>:  <span class="hljs-number">25</span>, <span class="hljs-attr">MEDIUM</span>:  <span class="hljs-number">50</span>, <span class="hljs-attr">LONG</span>:  <span class="hljs-number">100</span> }, <span class="hljs-comment">// num segments</span>
  <span class="hljs-attr">CURVE</span>:  { <span class="hljs-attr">NONE</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">EASY</span>:    <span class="hljs-number">2</span>, <span class="hljs-attr">MEDIUM</span>:   <span class="hljs-number">4</span>, <span class="hljs-attr">HARD</span>:    <span class="hljs-number">6</span> }<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдШрдЯрддрд╛ рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдЪреБрдирдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдореЗрдВ рд╕рдВрдХреНрд░рдордг рдореЗрдВ рдХрд┐рд╕реА рднреА рдЕрдВрддрд░рд╛рд▓ рд╕реЗ рдмрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрдм рд▓рд╛рдЗрди рд╡рдХреНрд░ (рдпрд╛ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд) рдореЗрдВ рдмрджрд▓ рдЬрд╛рддреА рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд░рдореА</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЬрдм рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдФрд░ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдШрдЯрддрд╛ред </font><font style="vertical-align: inherit;">рд╣рдо рдЗрд╕реЗ рдзреАрд░реЗ-рдзреАрд░реЗ рдмрдврд╝рд╛рдХрд░ (рдпрд╛ рдХрдо рдХрд░рдХреЗ) </font></font><code>curve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдкрд╛рд░рдВрдкрд░рд┐рдХ рд╕реНрдореВрдерд┐рдВрдЧ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рддрдм рддрдХ рдХрд░реЗрдВрдЧреЗ рдЬрдм рддрдХ рдХрд┐ рдпрд╣ рд╡рд╛рдВрдЫрд┐рдд рдореВрд▓реНрдп рддрдХ рдирд╣реАрдВ рдкрд╣реБрдБрдЪ рдЬрд╛рддрд╛ рд╣реИ:</font></font><br>
<br>
<pre><code class="javascript hljs">easeIn:    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a,b,percent</span>) </span>{ <span class="hljs-keyword">return</span> a + (b-a)*<span class="hljs-built_in">Math</span>.pow(percent,<span class="hljs-number">2</span>);                           },
<span class="hljs-attr">easeOut</span>:   <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a,b,percent</span>) </span>{ <span class="hljs-keyword">return</span> a + (b-a)*(<span class="hljs-number">1</span>-<span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">1</span>-percent,<span class="hljs-number">2</span>));                     },
<span class="hljs-attr">easeInOut</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a,b,percent</span>) </span>{ <span class="hljs-keyword">return</span> a + (b-a)*((-<span class="hljs-built_in">Math</span>.cos(percent*<span class="hljs-built_in">Math</span>.PI)/<span class="hljs-number">2</span>) + <span class="hljs-number">0.5</span>);        },</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣реА рд╣реИ, рдЕрдм, рдПрдХ рдЦрдВрдб рдХреЛ рдЬреНрдпрд╛рдорд┐рддрд┐ рдореЗрдВ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдХрд╛рд░реНрдп рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ ...</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addSegment</span>(<span class="hljs-params">curve</span>) </span>{
  <span class="hljs-keyword">var</span> n = segments.length;<font></font>
  segments.push({<font></font>
     <span class="hljs-attr">index</span>: n,
        <span class="hljs-attr">p1</span>: { <span class="hljs-attr">world</span>: { <span class="hljs-attr">z</span>:  n   *segmentLength }, <span class="hljs-attr">camera</span>: {}, <span class="hljs-attr">screen</span>: {} },
        <span class="hljs-attr">p2</span>: { <span class="hljs-attr">world</span>: { <span class="hljs-attr">z</span>: (n+<span class="hljs-number">1</span>)*segmentLength }, <span class="hljs-attr">camera</span>: {}, <span class="hljs-attr">screen</span>: {} },
     <span class="hljs-attr">curve</span>: curve,
     <span class="hljs-attr">color</span>: <span class="hljs-built_in">Math</span>.floor(n/rumbleLength)%<span class="hljs-number">2</span> ? COLORS.DARK : COLORS.LIGHT<font></font>
  });<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдШреБрдорд╛рд╡рджрд╛рд░ рд░рд╛рд╕реНрддреЗ рд╕реЗ рдЪрд┐рдХрдиреА рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐, рдЦреЛрдЬ рдФрд░ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рдзрд┐ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addRoad</span>(<span class="hljs-params">enter, hold, leave, curve</span>) </span>{
  <span class="hljs-keyword">var</span> n;
  <span class="hljs-keyword">for</span>(n = <span class="hljs-number">0</span> ; n &lt; enter ; n++)<font></font>
    addSegment(Util.easeIn(<span class="hljs-number">0</span>, curve, n/enter));
  <span class="hljs-keyword">for</span>(n = <span class="hljs-number">0</span> ; n &lt; hold  ; n++)<font></font>
    addSegment(curve);<font></font>
  <span class="hljs-keyword">for</span>(n = <span class="hljs-number">0</span> ; n &lt; leave ; n++)<font></font>
    addSegment(Util.easeInOut(curve, <span class="hljs-number">0</span>, n/leave));<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... рдФрд░ рд╢реАрд░реНрд╖ рдкрд░ рдЖрдк рдЕрддрд┐рд░рд┐рдХреНрдд рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрд╕-рдЖрдХрд╛рд░ рдХреЗ рдШрдЯрддрд╛:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addSCurves</span>(<span class="hljs-params"></span>) </span>{<font></font>
  addRoad(ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM,  -ROAD.CURVE.EASY);<font></font>
  addRoad(ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM,   ROAD.CURVE.MEDIUM);<font></font>
  addRoad(ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM,   ROAD.CURVE.EASY);<font></font>
  addRoad(ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM,  -ROAD.CURVE.EASY);<font></font>
  addRoad(ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM, ROAD.LENGTH.MEDIUM,  -ROAD.CURVE.MEDIUM);<font></font>
}</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрджреНрдпрддрди рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди () рд╡рд┐рдзрд┐</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЗрд╡рд▓ рдкрд░рд┐рд╡рд░реНрддрди рдЬреЛ рд╡рд┐рдзрд┐ рдореЗрдВ рдХрд┐рдП рдЬрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </font></font><code>update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдПрдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рдХреЗрдиреНрджреНрд░рд╛рдкрд╕рд╛рд░рдХ рдмрд▓ рдХреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╣реИрдВ рдЬрдм рдорд╢реАрди рдПрдХ рд╡рдХреНрд░ рдХреЗ рд╕рд╛рде рдЪрд▓рддреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдПрдХ рдордирдорд╛рдирд╛ рдХрд╛рд░рдХ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рд╣рдорд╛рд░реА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> centrifugal = <span class="hljs-number">0.3</span>;   <span class="hljs-comment">// centrifugal force multiplier when going around curves</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдФрд░ рдлрд┐рд░ рд╣рдо рдмрд╕ </font></font><code>playerX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рдХреА рд╡рд░реНрддрдорд╛рди рдЧрддрд┐, рд╡рдХреНрд░ рдорд╛рди рдФрд░ рдХреЗрдиреНрджреНрд░рд╛рдкрд╕рд╛рд░рдХ рдмрд▓ рдЧреБрдгрдХ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ </font><font style="vertical-align: inherit;">рд╕реНрдерд┐рддрд┐ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВрдЧреЗ </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs">playerX = playerX - (dx * speedPercent * playerSegment.curve * centrifugal);</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рдХреНрд░ рдкреНрд░рддрд┐рдкрд╛рджрди</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рдКрдкрд░ рдХрд╣рд╛ рд╣реИ рдХрд┐ рдЖрдк </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рд╕рдбрд╝рдХ рдЦрдВрдб </font></font><code>cameraX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди рдкреНрд░рдХреНрд╖реЗрдкрдг рдЧрдгрдирд╛ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП </font><font style="vertical-align: inherit;">рдЧрдП рдореВрд▓реНрдп рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдХреЗ рдирдХрд▓реА рд╡рдХреНрд░реЛрдВ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font></font><code>render()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c8a/569/19e/c8a56919e67d6f19cc737074ce92fffb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдбреНрд░рд╛рдЗрд╡ рд╡реИрд░рд┐рдПрдмрд▓ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dx</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░реЗрдВрдЧреЗ </font><font style="vertical-align: inherit;">, рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реИрд▓реНрдпреВ </font></font><code>curve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗ рд╕рд╛рде-рд╕рд╛рде рд╡реЗрд░рд┐рдПрдмрд▓ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдмрдврд╝рд╛рдПрдВрдЧреЗ </font><font style="vertical-align: inherit;">, рдЬрд┐рд╕рдХрд╛ </font></font><code>cameraX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ рдкреНрд░реЛрдЬреЗрдХреНрд╢рди рдХреИрд▓рдХреБрд▓реЗрд╢рди рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП </font><font style="vertical-align: inherit;">рдЧрдП рд╡реИрд▓реНрдпреВ рдХреА рдСрдлрд╕реЗрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдШрдЯрддрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">x</font></strong><font style="vertical-align: inherit;"> рджреНрд╡рд╛рд░рд╛ рдкреНрд░рддреНрдпреЗрдХ рдЦрдВрдб </font><font style="vertical-align: inherit;">рдХреЗ рдкреНрд░рдХреНрд╖реЗрдкрдг </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p1 рдХреЛ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВ</font></font><strong><font style="vertical-align: inherit;"></font></strong></li>
<li><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">x</font></strong><font style="vertical-align: inherit;"> + </font><strong><font style="vertical-align: inherit;">dx</font></strong><font style="vertical-align: inherit;"> рджреНрд╡рд╛рд░рд╛ рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрдЧрдореЗрдВрдЯ </font><font style="vertical-align: inherit;">рдХреЗ рдкреНрд░реЛрдЬреЗрдХреНрд╢рди </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА 2 рдХреЛ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╢рд┐рдлреНрдЯ рдХрд░реЗрдВ</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong></li>
<li><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">dx</font></strong><font style="vertical-align: inherit;"> рджреНрд╡рд╛рд░рд╛ рдЕрдЧрд▓реЗ рдЦрдВрдб рдХреЗ рд▓рд┐рдП </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрдврд╝рд╛рдПрдБ</font></font><strong><font style="vertical-align: inherit;"></font></strong></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдВрдд рдореЗрдВ, рдЦрдВрдб рдХреА рд╕реАрдорд╛рдУрдВ рдХреЛ рдкрд╛рд░ рдХрд░рддреЗ рд╕рдордп рдлрдЯреЗ рд╣реБрдП рдмрджрд▓рд╛рд╡реЛрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dx</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рд╡рд░реНрддрдорд╛рди рдЖрдзрд╛рд░ рдЦрдВрдбреЛрдВ рдХреЗ рдкреНрд░рдХреНрд╖реЗрдкрд┐рдд рд╡рдХреНрд░ рдорд╛рди рдХреЗ рд╕рд╛рде рдЖрд░рдВрднреАрдХреГрдд </font><font style="vertical-align: inherit;">рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд┐рдзрд┐ </font></font><code>render()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> baseSegment = findSegment(position);
<span class="hljs-keyword">var</span> basePercent = Util.percentRemaining(position, segmentLength);
<span class="hljs-keyword">var</span> dx = - (baseSegment.curve * basePercent);
<span class="hljs-keyword">var</span> x  = <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span>(n = <span class="hljs-number">0</span> ; n &lt; drawDistance ; n++) {<font></font>
<font></font>
  ...<font></font>
<font></font>
  Util.project(segment.p1, (playerX * roadWidth) - x,      cameraHeight, position - (segment.looped ? trackLength : <span class="hljs-number">0</span>), cameraDepth, width, height, roadWidth);<font></font>
  Util.project(segment.p2, (playerX * roadWidth) - x - dx, cameraHeight, position - (segment.looped ? trackLength : <span class="hljs-number">0</span>), cameraDepth, width, height, roadWidth);<font></font>
<font></font>
  x  = x + dx;<font></font>
  dx = dx + segment.curve;<font></font>
<font></font>
  ...<font></font>
}</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдВрдмрди рд╕реНрдХреНрд░реЙрд▓рд┐рдВрдЧ рдкреГрд╖реНрдарднреВрдорд┐</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдВрдд рдореЗрдВ, рд╣рдореЗрдВ рд▓рдВрдмрди рдкреГрд╖реНрдарднреВрдорд┐ рдкрд░рддреЛрдВ рдХреЛ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рдкрд░рдд рдХреЗ рд▓рд┐рдП рдСрдлрд╕реЗрдЯ рдХреЛ рд╕рдВрдЪрдпрд┐рдд рдХрд░рдирд╛ ...</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> skySpeed    = <span class="hljs-number">0.001</span>; <span class="hljs-comment">// background sky layer scroll speed when going around curve (or up hill)</span>
<span class="hljs-keyword">var</span> hillSpeed   = <span class="hljs-number">0.002</span>; <span class="hljs-comment">// background hill layer scroll speed when going around curve (or up hill)</span>
<span class="hljs-keyword">var</span> treeSpeed   = <span class="hljs-number">0.003</span>; <span class="hljs-comment">// background tree layer scroll speed when going around curve (or up hill)</span>
<span class="hljs-keyword">var</span> skyOffset   = <span class="hljs-number">0</span>;     <span class="hljs-comment">// current sky scroll offset</span>
<span class="hljs-keyword">var</span> hillOffset  = <span class="hljs-number">0</span>;     <span class="hljs-comment">// current hill scroll offset</span>
<span class="hljs-keyword">var</span> treeOffset  = <span class="hljs-number">0</span>;     <span class="hljs-comment">// current tree scroll offset</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... рдФрд░ </font></font><code>update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореМрдЬреВрджрд╛ рдЦрд┐рд▓рд╛рдбрд╝реА рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рд╡рдХреНрд░ рдореВрд▓реНрдп рдФрд░ рдЗрд╕рдХреА рдЧрддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ </font><font style="vertical-align: inherit;">рд╕рдордп рдХреЗ рджреМрд░рд╛рди рдЗрд╕реЗ рдмрдврд╝рд╛рдирд╛ </font><font style="vertical-align: inherit;">...</font></font><br>
<br>
<pre><code class="javascript hljs">skyOffset  = Util.increase(skyOffset,  skySpeed  * playerSegment.curve * speedPercent, <span class="hljs-number">1</span>);<font></font>
hillOffset = Util.increase(hillOffset, hillSpeed * playerSegment.curve * speedPercent, <span class="hljs-number">1</span>);<font></font>
treeOffset = Util.increase(treeOffset, treeSpeed * playerSegment.curve * speedPercent, <span class="hljs-number">1</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... рдФрд░ рдлрд┐рд░ </font></font><code>render()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреГрд╖реНрдарднреВрдорд┐ рдХреА рдкрд░рддреЗрдВ </font><font style="vertical-align: inherit;">рдХрд░рддреЗ рд╕рдордп рдЗрд╕ рдСрдлрд╕реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<pre><code class="javascript hljs">Render.background(ctx, background, width, height, BACKGROUND.SKY,   skyOffset);<font></font>
Render.background(ctx, background, width, height, BACKGROUND.HILLS, hillOffset);<font></font>
Render.background(ctx, background, width, height, BACKGROUND.TREES, treeOffset);</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╖реНрдХрд░реНрд╖</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ, рдпрд╣рд╛рдБ рд╣рдо рдирдХрд▓реА рдЫрджреНрдо рддреНрд░рд┐-рдЖрдпрд╛рдореА рдШрдЯрддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98f/c3d/6d1/98fc3d6d13cc16f12847d253e112fcb2.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдЬреЛрдбрд╝реЗ рдЧрдП рдХреЛрдб рдХрд╛ рдореБрдЦреНрдп рднрд╛рдЧ рд╕рдбрд╝рдХ рдХреЗ рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде рдмрдирд╛рдирд╛ рд╣реИ </font></font><code>curve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдЗрд╕реЗ рд╕рд╛рдХрд╛рд░ рдХрд░рдирд╛, рд╕рдордп рдХреЗ рджреМрд░рд╛рди рдХреЗрдиреНрджреНрд░рд╛рдкрд╕рд╛рд░рдХ рдмрд▓ рдЬреЛрдбрд╝рдирд╛ </font></font><code>update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рдХреНрд░ рдкреНрд░рддрд┐рдкрд╛рджрди рдХреЛрдб рдХреА рдХреБрдЫ рд╣реА рдкрдВрдХреНрддрд┐рдпреЛрдВ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдордЭрдирд╛ (рдФрд░ рд╡рд░реНрдгрди рдХрд░рдирд╛) рдореБрд╢реНрдХрд┐рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдпрд╣рд╛рдБ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИред рдШрдЯрддрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ рдФрд░ рдЬрдм рд╡реЗ рдПрдХ рдореГрдд рдЕрдВрдд рдореЗрдВ рд▓рд╛рдЧреВ рд╣реЛрддреЗ рд╣реИрдВ рддреЛ рднрдЯрдХрдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред рдХрд┐рд╕реА рдмрд╛рд╣рд░реА рдХрд╛рд░реНрдп рдХреЛ рдЕрдВрдЬрд╛рдо рджреЗрдирд╛ рдФрд░ "рд╕рд╣реА рдврдВрдЧ рд╕реЗ" рд╕рдм рдХреБрдЫ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдирд╛ рдФрд░ рднреА рдЖрд╕рд╛рди рд╣реИ; рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рдпрд╣ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВ, рдЖрдк рдореИрдЯреНрд░рд┐рд╕реЗрд╕, рдШреБрдорд╛рд╡ рдФрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ 3 рдбреА-рдЬрд┐рдпреЛрдореЗрдЯреНрд░реА рдХреЗ рд╕рд╛рде рдПрдХ рдкреВрд░реА рддрд░рд╣ рдХрд╛рд░реНрдпрд╛рддреНрдордХ 3 рдбреА-рд╕рд┐рд╕реНрдЯрдо рдмрдирд╛рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрдВрдЧреЗ ... рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдХрд╣рд╛, рдпрд╣ рд╣рдорд╛рд░рд╛ рдХрд╛рдо рдирд╣реАрдВ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм рдореИрдВрдиреЗ рдпрд╣ рд▓реЗрдЦ рд▓рд┐рдЦрд╛ рдерд╛, рддреЛ рдореБрдЭреЗ рдпрдХреАрди рдерд╛ рдХрд┐ рдШрдЯрддрд╛ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╕рдорд╕реНрдпрд╛рдПрдВ рдереАрдВред </font><font style="vertical-align: inherit;">рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реБрдП, рдореБрдЭреЗ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрдпрд╛ рдХрд┐ рдореБрдЭреЗ </font><font style="vertical-align: inherit;">рдПрдХ рдХреЗ рдмрдЬрд╛рдп </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dx</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдбреНрд░рд╛рдЗрд╡ рдХреЗ рджреЛ рдореВрд▓реНрдпреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ </font><font style="vertical-align: inherit;">... рдФрд░ рдЕрдЧрд░ рдореИрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХреБрдЫ рд╕рдордЭрд╛ рдирд╣реАрдВ рд╕рдХрддрд╛, рддреЛ рдХреБрдЫ рдЧрд▓рдд рд╣реЛ рдЧрдпрд╛ рдХрд╣реАрдВ ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... рд▓реЗрдХрд┐рди рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХрд╛ рд╕рдордп </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рдкрд░" рд╕рдкреНрддрд╛рд╣рд╛рдВрдд "</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓рдЧрднрдЧ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдФрд░, рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ, рдШрдЯрддрд╛ рдореБрдЭреЗ рдХрд╛рдлреА рд╕реБрдВрджрд░ рд▓рдЧрддрд╛ рд╣реИ, рдФрд░ рдЕрдВрдд рдореЗрдВ, рдпрд╣ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi499240/index.html">рддрд╛рд░реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдпрд╛ рд╕реНрд╡рд░реНрдЧ рдХреЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi499242/index.html">рд╢реЛрдзрдХрд░реНрддрд╛рдУрдВ рдиреЗ рдПрдХ рдбреЗрд╕реНрдХрдЯреЙрдк рдкреАрд╕реА рд╕реЗ рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдХрдВрдкрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░реЗрд╖рд┐рдд рдХрд┐рдпрд╛</a></li>
<li><a href="../hi499244/index.html">рд╕рд┐рдирд░реНрдЬреА рд╕рдВрдЧрдардиред рднрд╛рдЧ рджреНрд╡рд┐рддреАрдп</a></li>
<li><a href="../hi499246/index.html">рдЙрджреНрдпреЛрдЧ рд╡рд┐рдХрд╛рд╕ рдХреЗ рдХрд╛рдиреВрди рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЙрдЬрд┐рд╕реНрдЯрд┐рдХ рдлрд╝рдВрдХреНрд╢рди рдХреА рдЬрд╛рдВрдЪ</a></li>
<li><a href="../hi499248/index.html">рд╣рдо рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдХреИрд╕реЗ рдкрд╣рдЪрд╛рдирддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi499254/index.html">PyConRu 2020 рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕рдорд┐рддрд┐ рдХреЗ рд╕рджрд╕реНрдп рдкрд╛рдпрдерди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рд╡рд╛рд▓реЛрдВ рдХреЗ рдЬрд╡рд╛рдм рджреЗрддреЗ рд╣реИрдВ: рдПрдХ рдЕрдк-рдЯреВ-рдбреЗрдЯ рд▓реБрдХ рдФрд░ рдереЛрдбрд╝рд╛-рдмрд╣реБрдд рдкреЗрд▓реНрдЯрд╕реИрдВрдЧ</a></li>
<li><a href="../hi499262/index.html">рд╕реНрд╡-рдирд┐рдпреЛрдЬрд┐рдд SMZhack рдХреЗ рд▓рд┐рдП рдЕрдВрддрд┐рдо рдСрдирд▓рд╛рдЗрди рд╣реИрдХрдереЙрди: рдкрд░рд┐рдпреЛрдЬрдирд╛рдПрдВ рдЬреЛ рд▓реЛрдЧреЛрдВ рдХреЛ рд╣рд┐рдЯ рдХрд░реЗрдВрдЧреА</a></li>
<li><a href="../hi499268/index.html">рд╕реНрдерд╛рдирд┐рдХ рдЬрд╛рдЧрд░реВрдХрддрд╛: рд╣реЛрд▓реЛрд▓реЗрдВрд╕ рдХреЗ рдЪрд╢реНрдореЗ рдХреНрдпрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?</a></li>
<li><a href="../hi499272/index.html">╨Я╨░╨╣╨║╨░ ╨║╨╛╨╝╨┐╨╛╨╜╨╡╨╜╤В╨╛╨▓ 0201. ╨б╨╗╨░╨▒╨╛╨╜╨╡╤А╨▓╨╜╤Л╤Е ╨┐╤А╨╛╤Б╤М╨▒╨░ ╤Г╨┤╨░╨╗╨╕╤В╤М╤Б╤П ╨╛╤В ╤Н╨║╤А╨░╨╜╨╛╨▓</a></li>
<li><a href="../hi499274/index.html">рд╣рдордиреЗ рдирдпрд╛ рдХреИрдкреНрд╕реВрд▓ рдбрд┐рд╕рд╛рдЗрдб рдХрд┐рдпрд╛ред рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рддрдиреЗ рдорд╛рдЗрдХреНрд░реЛрдлреЛрди рдФрд░ рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>