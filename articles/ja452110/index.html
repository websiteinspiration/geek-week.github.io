<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤙🏼 👦 📎 Ansibleでディスク交換を自動化 🐓 👸🏿 🐴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="みなさん、こんにちは。私はOKの主要なシステム管理者として働いており、ポータルの安定した運用を担当しています。ディスクを自動的に交換するプロセスを構築した方法についてお話ししたいと思います。その後、管理者がこのプロセスから除外され、ボットに置き換えられました。
 
 この記事は、HighLoad +...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ansibleでディスク交換を自動化</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/odnoklassniki/blog/452110/"><img src="https://habrastorage.org/webt/s9/ga/q9/s9gaq9eke8gooeu1-nnsr5ocv7o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
みなさん、こんにちは。</font><font style="vertical-align: inherit;">私はOKの主要なシステム管理者として働いており、ポータルの安定した運用を担当しています。</font><font style="vertical-align: inherit;">ディスクを自動的に交換するプロセスを構築した方法についてお話ししたいと思います。その後、管理者がこのプロセスから除外され、ボットに置き換えられました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事は、</font><font style="vertical-align: inherit;">HighLoad + 2018 </font><font style="vertical-align: inherit;">での</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パフォーマンスの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">書き直しの</font><font style="vertical-align: inherit;">一種です</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディスク交換プロセスの構築</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の数</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OKは、何百万もの人々が使用している巨大なサービスです。</font><font style="vertical-align: inherit;">4つの異なるデータセンターにある約7000台のサーバーがサービスを提供しています。</font><font style="vertical-align: inherit;">サーバーのコストは7万ドライブ以上です。</font><font style="vertical-align: inherit;">それらを積み重ねると、高さが1 kmを超えるタワーができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハードドライブは、最も頻繁にクラッシュするサーバーのコンポーネントです。</font><font style="vertical-align: inherit;">このようなボリュームでは、1週間に約30枚のディスクを交換する必要があり、この手順はあまり快適ではありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/i8/92/cg/i892cglklhooat_z_qrsexsmzfu.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インシデント</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当社では本格的なインシデント管理を導入しています。</font><font style="vertical-align: inherit;">Jiraで記録した各インシデントは、解決して分解します。</font><font style="vertical-align: inherit;">インシデントがユーザーに影響を与えた場合、そのような場合に迅速に対応する方法、影響を軽減する方法、そしてもちろん再発を防ぐ方法を確実に検討します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドライブも例外ではありません。</font><font style="vertical-align: inherit;">それらのステータスはZabbixによって監視されます。</font><font style="vertical-align: inherit;">書き込み/読み取りエラーについてSyslogのメッセージを監視し、HW / SW RAIDのステータスを分析し、SMARTを監視し、SSDの摩耗を計算します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前のディスクの変化</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbixでトリガーが点灯すると、インシデントがJiraで作成され、データセンターの適切なエンジニアに自動的に送信されます。これは、すべてのハードウェアインシデント、つまり、データセンターの機器で何らかの物理的な作業を必要とするインシデントで行います。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データセンターのエンジニアは、ハードウェアに関連する問題を解決し、サーバーの設置、保守、解体を担当する人です。チケットを受け取ったエンジニアは作業を開始します。ディスクシェルフでは、自分でディスクを交換します。ただし、目的のデバイスにアクセスできない場合は、エンジニアはシステム管理者に依頼して支援を求めます。まず、ディスクをローテーションから外す必要があります。これを行うには、サーバーで必要な変更を行い、アプリケーションを停止し、ディスクをアンマウントします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シフト中に勤務するシステム管理者は、ポータル全体の運用を担当します。彼はインシデントを調査し、修理し、開発者が小さなタスクを実行するのを助けます。彼はハードドライブだけを扱いません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前は、データセンターのエンジニアがシステム管理者とチャットしていました。エンジニアはJiraチケットへのリンクを送信し、管理者はそれらを通過し、作業のログをメモ帳に保存しました。しかし、チャットはそのようなタスクには不便です。そこでの情報は構造化されておらず、すぐに失われます。そして、管理者はコンピュータから離れて、しばらくの間要求に応答しなかった可能性があり、エンジニアはディスクの束を持ってサーバーのところに立ち、待機しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、最悪の事態は、管理者が全体像を見ていなかったことでした。問題が発生する可能性のあるディスクインシデントの存在。</font><font style="vertical-align: inherit;">これは、すべてのハードウェアインシデントをエンジニアに提供しているためです。</font><font style="vertical-align: inherit;">はい、すべてのインシデントを管理ダッシュボードに表示することができました。</font><font style="vertical-align: inherit;">しかし、それらはたくさんあり、管理者はそれらの一部にのみ関与していました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、エンジニアは特定のサーバーの目的、ドライブ間での情報の分散について何も知らないため、正しく優先順位を付けることができませんでした。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい交換手順</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に行ったのは、すべてのディスクインシデントを別のタイプの「HW-disk」に取り込み、それに「ブロックデバイス名」、「サイズ」、「ディスクタイプ」のフィールドを追加して、この情報がチケットに保存されるようにしました。常にチャット。 </font></font><br>
<br>
<div style="text-align:center;"><img width="300" height="400" src="https://habrastorage.org/webt/0y/uz/jm/0yuzjmgoz4hgulcpf5o5vhwde18.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、1つのインシデントの枠組み内で1つのディスクのみを変更することにも同意しました。これにより、自動化プロセス、統計収集、および作業が大幅に簡素化されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、「責任ある管理者」フィールドが追加されました。システム管理者が自動的に代行されます。これは、エンジニアが常に誰が責任を負っているかを見ることができるため、非常に便利です。カレンダーに行って検索する必要はありません。管理者のダッシュボードにチケットを置くことを可能にしたのはこの分野であり、おそらく彼の助けが必要になるでしょう。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9x/b1/ue/9xb1ueokh0450wgkhq0ije1lfqa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての参加者がイノベーションから最大のメリットを享受できるようにするために、フィルターとダッシュボードを作成しました。人々が変化を理解するとき、彼らは不必要なものから彼ら自身から彼らから距離を置きません。エンジニアは、サーバーが配置されているラックの数、ディスクのサイズとタイプを知ることが重要です。管理者はまず、これがどのようなサーバーグループであるか、ディスクを交換したときにどのような影響があるかを理解する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フィールドの存在とその表示は便利ですが、これでチャットを使用する必要がなくなりました。これを行うには、ワークフローを変更する必要がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前は次のようでした：</font></font><br>
<br>
<div style="text-align:center;"><img width="300" height="400" src="https://habrastorage.org/webt/we/wc/du/wewcdu4q8fqy-gd9wkbutorbabi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日、エンジニアは管理者の助けを必要としないときもこのように作業を続けています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に行ったのは、新しい</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Investigate</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータスの導入</font><font style="vertical-align: inherit;">です。管理者が必要かどうかをエンジニアがまだ決定していない場合、チケットはこのステータスになります。このステータスにより、エンジニアはチケットを管理者に渡すことができます。さらに、交換ディスクが必要であるが、サイトにディスクがない場合は、チケットにこのステータスのマークを付けます。これは、CDNとリモートサイトで発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">準備完了</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータスも追加しました</font><font style="vertical-align: inherit;">。ディスクを交換すると、チケットがチケットに転送されます。つまり、すべてがすでに完了していますが、HW / SW RAIDはサーバー上で同期されます。これにはかなりの時間がかかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
管理者が関与する場合、スキームはもう少し複雑になります。</font></font><br>
<br>
<div style="text-align:center;"><img width="400" src="https://habrastorage.org/webt/ev/5a/58/ev5a58jyosbyuc8cfrhr7sru5zo.png"></div><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オープン</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ステータスから、</font><font style="vertical-align: inherit;">システム管理者とエンジニアの両方がチケットを転送できます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">進行中</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータスでは、</font><font style="vertical-align: inherit;">管理者はディスクをローテーションから削除して、エンジニアがディスクを取り外すだけで済むようにします。特定のサーバーグループに応じて、バックライトをオンにし、ディスクをアンマウントし、アプリケーションを停止します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、チケットは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変更準備完了に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変換さ</font><b><font style="vertical-align: inherit;">れます</font></b><font style="vertical-align: inherit;">。これは、ディスクを引き出すことができることをエンジニアに知らせる信号です。 Jiraのすべてのフィールドはすでに入力されており、エンジニアはディスクのタイプとサイズを知っています。このデータは、以前のステータスに自動的に、または管理者によって付加されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディスクを交換した後、チケットは</font><b><font style="vertical-align: inherit;">変更済み</font></b><font style="vertical-align: inherit;">ステータスに転送されます</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">正しいディスクが挿入されていること、マークアップが完了していること、アプリケーションが起動し、一部のデータ回復タスクが開始されていることを確認します。</font><font style="vertical-align: inherit;">また、チケットを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">準備完了</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータス</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">転送することも</font><b><font style="vertical-align: inherit;">でき</font></b><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。その場合、管理者はディスクをローテーションで起動したため、引き続き責任を負います。</font><font style="vertical-align: inherit;">完全なアウトラインは次のようになります。</font></font><br>
<br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/xg/x7/_z/xgx7_zk2mlyubhzepgfw0oogbt4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいフィールドを追加すると、私たちの生活がはるかに簡単になりました。</font><font style="vertical-align: inherit;">彼らは構造化された情報を扱うようになり、何をどの段階で行うべきかが明らかになりました。</font><font style="vertical-align: inherit;">優先度は管理者によって設定されるようになったため、より適切になりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チャットルームの必要性がなくなりました。</font><font style="vertical-align: inherit;">もちろん、管理者はエンジニアに「ここでより早く交換する必要があります」または「すでに夕方、交換することができますか？」と書くことができます。</font><font style="vertical-align: inherit;">しかし、私たちはもはやこれらの問題について毎日チャットすることはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディスクはパックで変化し始めました。</font><font style="vertical-align: inherit;">管理者が少し前に仕事に来て、時間に余裕があり、何も起こらなかった場合、フィールドを下に置き、ディスクをローテーションから外して、タスクをエンジニアに転送することで、交換のために多数のサーバーを準備できます。</font><font style="vertical-align: inherit;">その後、エンジニアはデータセンターに到着し、タスクを確認して、倉庫から必要なドライブを取り出し、すぐに変更します。</font><font style="vertical-align: inherit;">その結果、交換スピードが上がりました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワークフローの構築で学んだ教訓</font></font></h3><br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロシージャを作成するときは、さまざまなソースから情報を収集する必要があります。</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部の管理者は、エンジニアが自分でディスクを変更したことを知りませんでした。</font><font style="vertical-align: inherit;">エンジニアの中には、MD RAIDの同期に注意を向けていると考える人もいましたが、アクセスできないものもいました。</font><font style="vertical-align: inherit;">プロセスはどこにも記述されていなかったため、一部の主要なエンジニアはこれを行いましたが、常にではありませんでした。</font></font></li>
<li><b>     .</b><br>
      .      Jira     .   , , In progress   Ready to change.        ,     .     ,    .<br>
  .   ,     .     ,      ,    .      .</li>
<li><b>, , .</b><br>
       ,  ,   .    —   .  ,      .      .        ,   . ,     Jira,  Jira-  Confluence,      .   Jira,        ,    .</li>
</ul><br>
<h2>  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディスクの交換を自動化するために何度か始めました。</font><font style="vertical-align: inherit;">稼働時間とスクリプトはすでにありましたが、それらはすべてインタラクティブモードまたは手動モードで動作し、起動する必要がありました。</font><font style="vertical-align: inherit;">そして、新しい手順が導入されて初めて、私たちはそれが私たちが欠けているというだけであることに気づきました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
置換プロセスはステージに分割されており、各ステージにはエグゼキューターとアクションのリストがあるので、自動化を一度にすべてではなく段階的にオンにすることができます。</font><font style="vertical-align: inherit;">たとえば、最も簡単な手順-準備完了（RAID /データ同期の確認）は、ボットに簡単に委任できます。</font><font style="vertical-align: inherit;">ボットが少し学習したら、ディスクをローテーションさせるなど、より責任のあるタスクをボットに与えることができます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">動物園のセットアップ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボットについて話す前に、インスタレーション動物園にちょっと遠足します。まず第一に、それは私たちのインフラの巨大なサイズによるものです。第二に、各サービスについて、鉄の最適な構成を選択しようとします。約20のハードウェアRAIDモデルがあり、主にLSIとAdaptecですが、HPとDELLには異なるバージョンがあります。各RAIDコントローラには、独自の管理ユーティリティがあります。コマンドのセットとその発行は、各RAIDコントローラーのバージョンごとに異なる場合があります。 HW-RAIDを使用しない場合、mdraidになることがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディスクバックアップなしで行うほとんどすべての新規インストール。サーバーではなくデータセンターのレベルでシステムを予約するため、ハードウェアおよびソフトウェアRAIDを使用しないようにしています。しかしもちろん、サポートが必要なレガシーサーバーは数多くあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どこかで、RAIDコントローラーのディスクはrawデバイスをスローし、どこかでJBODを使用します。サーバーにはシステムドライブが1つある構成があり、それを交換する必要がある場合は、OSとアプリケーションを同じバージョンでインストールしてサーバーを再フォーマットし、構成ファイルを追加して、アプリケーションを起動する必要があります。冗長性がディスクサブシステムのレベルではなく、アプリケーション自体で直接実行される多くのサーバーグループもあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
合計で、約100の異なるアプリケーションを実行するサーバーの400を超える固有のグループがあります。このような膨大な数のオプションをカバーするには、多機能の自動化ツールが必要でした。シンプルなDSLを使用することをお勧めします。これにより、これを書いた人だけがサポートできるようになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エージェントレスであるため、Ansibleを選択しました。インフラストラクチャを準備する必要がなかったため、クイックスタート。</font><font style="vertical-align: inherit;">また、Pythonで記述されているため、チームの標準として受け入れられています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般的なスキーム</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのインシデントを例として使用して、一般的な自動化スキームを見てみましょう。 Zabbixはsdbドライブが故障していることを検出し、トリガーが点灯し、Jiraでチケットが作成されます。管理者はそれを見て、これは重複ではなく、誤検知ではないことを理解しました。つまり、ディスクを変更する必要があり、進行中のチケットを変換します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9s/fy/q5/9sfyq5cucem0dbbhahfd3_w7tac.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PythonのDiskoBotアプリケーションは、定期的にJiraをポーリングして新しいチケットを探します。新しい進行中のチケットが表示され、対応するスレッドがトリガーされ、Ansibleでプレイブックが起動します（これはJiraの各ステータスに対して行われます）。この場合、Prepare2changeが起動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleはホストに行き、ディスクをローテーションから削除し、コールバックを通じてアプリケーションにステータスを報告します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/i2/bk/nq/i2bknqits8exw9dtr7sj4zydl58.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果によると、ボットは自動的にチケットをReadyに転送して変更します。</font><font style="vertical-align: inherit;">エンジニアは通知を受け取り、ディスクを交換しに行った後、チケットをChangedに転送します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h9/m8/zw/h9m8zwfrzltmu0q1tz8opctrccu.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のスキームによれば、チケットはボットに戻り、別のプレイブックを起動し、ホストに行き、ディスクをローテーションに入れます。</font><font style="vertical-align: inherit;">ボットはチケットを閉じます。</font><font style="vertical-align: inherit;">やったー！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cv/js/w1/cvjsw1y9qrpkra2twsx-sy4jokc.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、システムのコンポーネントのいくつかについて話しましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diskobot</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプリケーションはPythonで記述されています。</font></font><abbr title="JIRAクエリ言語"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JQL</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に従って</font><abbr title="JIRA Query Language"><font style="vertical-align: inherit;">Jira</font></abbr><font style="vertical-align: inherit;">からチケットを選択し</font><abbr title="JIRA Query Language"><font style="vertical-align: inherit;">ます</font></abbr><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">チケットのステータスに応じて、後者は対応するハンドラーに到達し、ハンドラーは対応するAnsibleプレイブックステータスを起動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JQLとポーリング間隔は、アプリケーション構成ファイルで定義されます。</font></font><br>
<br>
<pre><code class="plaintext hljs">jira_states:<font></font>
  investigate:<font></font>
    jql: '… status = Open and "Disk Size" is EMPTY'<font></font>
    interval: 180<font></font>
<font></font>
  inprogress:<font></font>
    jql: '…  and "Disk Size" is not EMPTY and "Device Name" is not EMPTY'<font></font>
 <font></font>
  ready:<font></font>
    jql: '… and (labels not in ("dbot_ignore") or labels is EMPTY)'<font></font>
    interval: 7200<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、[進行中]ステータスのチケットのうち、[ディスクサイズ]および[デバイス名]フィールドを持つチケットのみが入力されます。</font><font style="vertical-align: inherit;">デバイス名は、プレイブックを実行するために必要なブロックデバイスの名前です。</font><font style="vertical-align: inherit;">エンジニアが必要なディスクのサイズを知るには、ディスクサイズが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、準備完了ステータスのチケットのうち、dbot_ignoreラベルの付いたチケットは除外されます。</font><font style="vertical-align: inherit;">ちなみに、このようなフィルタリング、重複チケットのマーク、統計の収集の両方にJiraラベルを使用しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プレイブックがクラッシュした場合、Jiraはdbot_failedラベルを割り当てて、後でそれを理解できるようにします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansibleとの相互作用</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible Python APIを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Ansible</font></a><font style="vertical-align: inherit;">と対話し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。 playbook_executorでは、ファイル名と変数のセットを渡します。これにより、Pythonコードで記述するのではなく、通常のymlファイルの形式でAnsibleプロジェクトを維持できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、Ansibleでは、* extra_vars *ブロックデバイスの名前、チケットのステータス、および発行キーが関連付けられているcallback_urlが使用されます。これはHTTPでのコールバックに使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
起動ごとに、1つのホストとこのホストが属するグループで構成される一時的なインベントリが生成され、group_varsが適用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTPコールバックが実装されているタスクの例を次に示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Callabackを使用して取得したPlaybookの結果。次の2つのタイプがあります。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansibleコールバックプラグイン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。プレイブックの結果に関するデータを提供します。</font><font style="vertical-align: inherit;">起動、成功または失敗したタスクについて説明します。</font><font style="vertical-align: inherit;">このコールバックは、プレイブックの最後に呼び出されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレイブックの再生中に情報を取得するためのHTTPコールバック。</font><font style="vertical-align: inherit;">Ansibleでは、アプリケーションのサイドにPOST / GETリクエストを実行します。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTPコールバックを介して、プレイブックの実行中に定義され、保存して後続の実行で使用する変数が送信されます。</font><font style="vertical-align: inherit;">このデータをsqliteで書き込みます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、HTTPコールバックを介してコメントを残し、チケットのステータスを変更します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPコールバック</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs"># Make callback to Diskobot App<font></font>
# Variables:<font></font>
#    callback_post_body: # A dict with follow keys. All keys are optional<font></font>
#       msg: If exist it would be posted to Jira as comment<font></font>
#       data: If exist it would be saved in Incident.variables<font></font>
#       desire_state: Set desire_state for incident<font></font>
#       status: If exist Proceed issue to that status<font></font>
<font></font>
  - name: Callback to Diskobot app (jira comment/status)<font></font>
    uri:<font></font>
      url: "{{ callback_url }}/{{ devname }}"<font></font>
      user: "{{ diskobot_user }}"<font></font>
      password: "{{ diskobot_pass }}"<font></font>
      force_basic_auth: True<font></font>
      method: POST<font></font>
      body: "{{ callback_post_body | to_json }}"<font></font>
      body_format: json<font></font>
    delegate_to: 127.0.0.1<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じタイプのタスクの多くと同様に、プレイブックで繰り返し繰り返されないように、別の共通ファイルに入れて、必要に応じてそれを含めます。</font><font style="vertical-align: inherit;">ここにCallback_ urlが表示され、課題キーとホスト名が保護されます。</font><font style="vertical-align: inherit;">AnsibleがこのPOSTリクエストを実行すると、ボットはそれがそのようなインシデントの一部として発生したことを認識します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これはプレイブックの例で、MDデバイスのディスクを表示しました。</font></font><br>
<br>
<pre><code class="plaintext hljs">  # Save mdadm configuration<font></font>
  - include: common/callback.yml<font></font>
    vars:<font></font>
      callback_post_body:<font></font>
        status: 'Ready to change'<font></font>
        msg: "Removed disk from mdraid {{ mdadm_remove_disk.msg | comment_jira }}"<font></font>
        data:<font></font>
          mdadm_data: "{{ mdadm_remove_disk.removed }}"<font></font>
          parted_info: "{{ parted_info | default() }}"<font></font>
    when:<font></font>
      - mdadm_remove_disk | changed<font></font>
      - mdadm_remove_disk.removed<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このタスクは、Jiraチケットを「変更準備完了」ステータスにし、コメントを追加します。</font><font style="vertical-align: inherit;">また、mdam_data変数には、ディスクが削除されたmdデバイスのリストが格納され、parted_infoには、partedからのパーティションダンプが格納されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンジニアが新しいディスクを挿入すると、これらの変数を使用してパーティションダンプを復元したり、ディスクを削除したmdデバイスにディスクを挿入したりできます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansibleチェックモード</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動化をオンにすることは恐ろしいことでした。</font><font style="vertical-align: inherit;">したがって、すべてのPlaybook </font><font style="vertical-align: inherit;">をドライラン</font><font style="vertical-align: inherit;">モード</font><font style="vertical-align: inherit;">で</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すること</font><font style="vertical-align: inherit;">にしました。この</font><font style="vertical-align: inherit;">モード</font><font style="vertical-align: inherit;">では、Ansibleはサーバーでアクションを実行せず、それらをエミュレートするだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような起動は別のコールバックモジュールを通じて実行され、プレイブックの結果はコメントとしてJiraに保存されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/aa/rz/0s/aarz0srsrqqxbru88guob9spjqm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、ボットとプレイブックの動作を検証することができました。</font><font style="vertical-align: inherit;">次に、ボットに対する管理者の信頼を高めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
検証を行い、Ansibleをドライランモードだけでなく実行できることに気付いたとき、JiraでRun Diskobotボタンを作成して、同じホスト上の同じ変数で同じプレイブックを起動しましたが、通常モードで実行しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、ボタンは、障害が発生した場合にプレイブックを再起動するために使用されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハンドブックの構造</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jiraチケットのステータスに応じて、ボットはさまざまなプレイブックを起動することはすでに述べました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、エントリーの手配がとても簡単です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二に、いくつかのケースではそれが単に必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、システムディスクを交換する場合、最初にデプロイメントシステムに移動してタスクを作成する必要があります。正しいデプロイメントが完了すると、ssh経由でサーバーにアクセスできるようになり、アプリケーションをそのサーバーにロールできます。これらすべてを1つのプレイブックで行った場合、ホストにアクセスできないため、Ansibleはそれを実行できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーグループごとにAnsibleロールを使用します。ここでは、いずれかのプレイブックがどのように構成されているかを確認できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ef/0o/hu/ef0ohuo0obwa1htij7o4at6dvus.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、どのタスクがどこにあるかがすぐにわかるので便利です。</font><font style="vertical-align: inherit;">Ansibleロールの入力であるmain.ymlには、チケットのステータスや、IDの受け渡しやトークンの受信など、全員に必要な一般的なタスクを含めることができます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Investigation.yml</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
InvestigationとOpenのステータスのチケットを実行します。</font><font style="vertical-align: inherit;">このプレイブックで最も重要なのは、ブロックデバイスの名前です。</font><font style="vertical-align: inherit;">この情報は常に利用できるとは限りません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それを取得するために、Zabbixトリガーからの最後の値であるJiraサマリーを分析します。</font><font style="vertical-align: inherit;">これには、ブロックデバイスの名前が含まれる場合があります-ラッキーです。</font><font style="vertical-align: inherit;">マウントポイントが含まれている可能性があります。サーバーにアクセスして、目的のドライブを解析および計算する必要があります。</font><font style="vertical-align: inherit;">また、トリガーは、SCSIアドレスまたはその他の情報を送信できます。</font><font style="vertical-align: inherit;">しかし、手がかりがなく、分析する必要があることも起こります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブロックデバイスの名前が判明したら、ディスクのタイプとサイズに関する情報を収集して、Jiraのフィールドに入力します。</font><font style="vertical-align: inherit;">また、ベンダー、モデル、ファームウェア、ID、SMARTに関する情報を削除し、これらすべてをJiraチケットのコメントに挿入します。</font><font style="vertical-align: inherit;">管理者とエンジニアは、このデータを探す必要がなくなりました。</font><font style="vertical-align: inherit;">:)</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/m6/64/kr/m664krcgyi4vkc-rq0almmqv6uy.png"></div><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prepare2change.yml</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回転からのディスクの出力、交換の準備。最も難しい、重要な段階。これは、停止できないときにアプリケーションを停止できる場所です。または、十分なレプリカがないためにユーザーに影響を与えるディスクを引き出すと、一部のデータが失われます。ここでは、チャットで最も多くのチェックと通知があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も単純なケースでは、HW / MD RAIDからドライブを削除することについて話しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より複雑な状況（ストレージシステム内）では、バックアップがアプリケーションレベルで実行される場合、APIを使用してアプリケーションに移動し、ディスク出力を報告し、それを非アクティブ化して、リカバリを開始する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">クラウドに</font></a><font style="vertical-align: inherit;">大規模に移行してい</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、そしてサーバーがクラウドの場合、DiskobotはクラウドAPIにアクセスし、このミニオン（コンテナーが実行されているサーバー）で動作することを示し、「このミニオンからすべてのコンテナーを移行する」と尋ねます。</font><font style="vertical-align: inherit;">同時に、バックライトをオンにして、エンジニアがすぐにどれを引き出すかを確認します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">changed.yml</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディスクを交換したら、まずディスクの可用性を確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンジニアは常に新しいディスクを入れるとは限らないため、満足できるSMART値のチェックを追加しました。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちはどのような属性を見ていますか</font></font></b><div class="spoiler_text">Reallocated Sectors Count (5) &lt; 100<br>
Current Pending Sector Count (107) == 0<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドライブがテストに失敗すると、エンジニアに交換が通知されます。</font><font style="vertical-align: inherit;">すべてが正常であれば、バックライトがオフになり、マークアップが適用され、ディスクが回転します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ready.yml</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も単純なケース：HW / SW RAID同期を確認するか、アプリケーションでデータ同期を終了します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションAPI</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボットがアプリケーションAPIに頻繁にアクセスすることを何度か述べました。</font><font style="vertical-align: inherit;">もちろん、すべてのアプリケーションに必要なメソッドがあるわけではないので、それらを改良する必要がありました。</font><font style="vertical-align: inherit;">以下は、私たちが使用する最も重要な方法です。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状態 </font><font style="vertical-align: inherit;">クラスターまたはディスクのステータス。これを操作できるかどうかを理解します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">起動停止。</font><font style="vertical-align: inherit;">ディスクのアクティブ化/非アクティブ化。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移行/復元。</font><font style="vertical-align: inherit;">交換中および交換後の移行とデータ復旧。</font></font><br>
</li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansibleが学んだ教訓</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はAnsibleが大好きです。しかし、多くの場合、さまざまなオープンソースプロジェクトを見て、人々がどのようにプレイブックを書いているのかを見ると、少し怖くなることがあります。 when /ループからの複雑な論理インターウィービング、シェル/コマンドの頻繁な使用による柔軟性とべき等性の欠如。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは、Ansible-モジュール性を活用して、可能な限りすべてを簡略化することを決定しました。最上位レベルはプレイブックであり、Ansibleを少しでも知っているサードパーティの開発者であれば誰でも記述できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">- name: Blink disk<font></font>
  become: True<font></font>
  register: locate_action<font></font>
  disk_locate:<font></font>
      locate: '{{ locate }}'<font></font>
      devname: '{{ devname }}'<font></font>
      ids: '{{ locate_ids | default(pd_id) | default(omit) }}'<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プレイブックに実装するのが難しいロジックがある場合は、Ansibleモジュールまたはフィルターに配置します。スクリプトはPythonでも他の言語でも書くことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらは簡単かつ迅速に記述できます。たとえば、上記の使用例が示されているディスク強調表示モジュールは、265行で構成されています。</font></font><br>
<br>
<img width="400" height="400" src="https://habrastorage.org/webt/c4/ma/bp/c4mabpsyezbjbfp2likixvta24k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最下位レベルはライブラリです。このプロジェクトでは、個別のアプリケーションを作成しました。これは、対応する要求を実行するハードウェアおよびソフトウェアRAIDの一種の抽象化です。</font></font><br>
<br>
<img width="400" height="400" src="https://habrastorage.org/webt/qf/vt/pr/qfvtprdi9jw2vxserynmxbrmdg8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleの最大の強みは、そのシンプルさと包括的なプレイブックです。私はあなたがこれを使用する必要があり、恐ろしいyamlファイルと膨大な数の条件、シェルコードとループを生成しないと信じています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansible APIでの経験を繰り返す場合は、次の2つの点に注意してください。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Playbook_executor、および一般に、プレイブックにタイムアウトを渡すことはできません。</font><font style="vertical-align: inherit;">sshセッションにはタイムアウトがありますが、プレイブックにはタイムアウトはありません。</font><font style="vertical-align: inherit;">システムに存在しないドライブをアンマウントしようとすると、プレイブックが無期限に実行されるため、別のラッパーでラップアップしてタイムアウトで強制終了する必要がありました。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansibleはフォークされているため、そのAPIはスレッドセーフではありません。</font><font style="vertical-align: inherit;">すべてのプレイブックとシングルスレッドを起動します。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、約80％のドライブの交換を自動化することができました。</font><font style="vertical-align: inherit;">一般に、交換率は2倍になっています。</font><font style="vertical-align: inherit;">現在、管理者はインシデントのみを確認し、ディスクを変更するかどうかを決定してから、ワンクリックします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし今、私たちは別の問題に直面し始めています：新しい管理者の中には、ドライブを変更する方法を知らない人もいます。</font><font style="vertical-align: inherit;">:)</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja452094/index.html">.NET：マルチスレッドと非同期を操作するためのツール。パート1</a></li>
<li><a href="../ja452098/index.html">フロントエンド開発者Habrのログ：リファクタリングと反射</a></li>
<li><a href="../ja452102/index.html">ドローンが好きな人のための写真ゲーム：AirSelfie 2について簡単に</a></li>
<li><a href="../ja452106/index.html">2019年6月16日の夏のDIYミーティングにスピーカーを招待します</a></li>
<li><a href="../ja452108/index.html">Docker：無害なアドバイス</a></li>
<li><a href="../ja452112/index.html">CRM ++</a></li>
<li><a href="../ja452114/index.html">HolyJS 2019：SEMrushからの報告（パート1）</a></li>
<li><a href="../ja452122/index.html">動いている「悪魔の薬」</a></li>
<li><a href="../ja452124/index.html">「知識と成果に飢えている必要があります」-アルファバンクでテスターに​​なるのはどんな感じですか</a></li>
<li><a href="../ja452128/index.html">マイクロ回路の耐放射線性に関する一般的な誤解</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>