<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕐 🏑 🐬 Examen del sistema de tipos para verificar la exactitud de la música. ⚫️ 💆🏾 😔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy, se habla mucho sobre la presentación de la música usando lenguajes de programación, porque por un lado es una tarea interesante para los ingenier...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Examen del sistema de tipos para verificar la exactitud de la música.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nix/blog/490010/"><img src="https://habrastorage.org/webt/ge/ng/6l/geng6lj6ji51qdtlif1kb8izjnm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoy, se habla mucho sobre la presentación de la música usando lenguajes de programación, porque por un lado es una tarea interesante para los ingenieros, y por otro lado es parte de la descripción universal de la música. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cómo se ve? Para muchos idiomas, se han creado entornos de programación musical. Los más populares son </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TidalCycles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para Haskell y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonic Pi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para Ruby on the Raspberry Pi. También hay una herramienta que utiliza </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la biblioteca de compositores de Leipzig</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Como está escrito en Clojure, carece de verificación de tipo.</font></font><br>
<br>
<pre><code class="plaintext hljs">(def row-row-row-your-boat<font></font>
  (phrase [3/3 3/3 2/3 1/3 3/3]<font></font>
          [  0   0   0   1   2]))<font></font>
<font></font>
-&gt;&gt; row-row-row-your-boat<font></font>
  (canon (simple 4))<font></font>
  (where :pitch (comp C major))<font></font>
  (where :time (bpm 90))<font></font>
  play)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La duración y el tono de los sonidos se representan como enteros y coeficientes literales, lo que no es muy conveniente. Cuando se trata de la transformación de la música, la programación puede ser de gran ayuda. Digamos, en el ejemplo anterior, la clave se establece en la clave de Do mayor y el tempo es de 90 latidos por minuto.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando los programadores ven el código de música, a menudo preguntan si es posible evitar la ejecución falsa utilizando un sistema de tipos. Buena pregunta. Si la música se puede representar como código, ¿pueden los errores de escritura musical considerarse errores de programación? Y si es así, ¿por qué no mejorar el proceso de escribir música usando las técnicas que usamos para escribir programas? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En particular, existe una analogía obvia entre los errores que el sistema de tipos puede prevenir y los casos comunes de imprecisión musical. Si su lenguaje de programación puede verificar si pasó una cadena a una función que espera obtener un número, entonces puede verificar que no use f-sharp en un pasaje escrito en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do mayor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, cuya clave no hay signos de alteración. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este artículo, descubriremos qué hace que la música sea correcta y cómo se puede representar mediante un sistema de tipos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prescriptivismo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los teóricos han estado discutiendo durante siglos sobre lo que hace que la música sea correcta. </font><font style="vertical-align: inherit;">Con mayor frecuencia, operan dentro del marco del prescriptivismo musical: evaluando la música para el cumplimiento de algún conjunto de reglas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede describir la metodología dominante para la formación de reglas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aprendiendo el canon</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definición de patrones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formulandolos como un conjunto de reglas</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces se puede argumentar que:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La música que no cumple con estas reglas es incorrecta.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, la regla de composición establece que no está permitido saltar a una gran septima de a a s en la melodía. Este enfoque ha llevado a numerosos hallazgos valiosos. La música clásica tiene patrones extremadamente interesantes, y una generalización de nuestras observaciones como un conjunto de reglas ayuda a discutir el fenómeno de la música. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Además, seguir las reglas es útil al dominar instrumentos musicales. Es bueno cuando los maestros corrigen a los niños que practican tocar el violín en do mayor, pero se extravían. Hay situaciones en las que es útil adherirse a las definiciones de música correcta e incorrecta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, este enfoque tiene dos desventajas principales.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero, las reglas que surgen de este proceso dependen en gran medida de lo que el teórico considere canon. El sesgo del conjunto de datos conduce al sesgo de las conclusiones, y la música clásica occidental no refleja toda la experiencia musical de la humanidad. Crear reglas basadas en la música de Bach y Mozart puede ser divertido, pero no te contarán demasiado sobre la música en general. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La situación se complica cuando te das cuenta de que los géneros musicales a menudo están fuertemente asociados con ciertas culturas y grupos étnicos, y que al priorizar ciertos tipos de música, priorizas inconscientemente a ciertos tipos de personas. Por ejemplo, en la teoría académica de la música, se presta mucha atención al estudio de las tradiciones europeas clásicas y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relativamente poca a la música que se origina en las diásporas de inmigrantes de África.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: blues, jazz, rock and roll y hip hop. Si evaluamos la corrección de la música a través de la teoría tradicional, esto puede conducir a una versión culturológica del problema cuando los </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritmos de reconocimiento facial funcionan mejor con los caucásicos que con los negros.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
El segundo gran inconveniente de crear reglas al identificar y generalizar patrones es que de esta manera siempre nos enfocaremos en el pasado. Y la música emociona más cuando rompe las reglas. Antes de que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jimmy Page utilizara el efecto de distorsión</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , los ingenieros consideraron cortar la señal durante la amplificación como un defecto. Y aunque los patrones revelados ayudan a comprender la música moderna, sin embargo, son completamente inadecuados para evaluar la música futura.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un buen sistema de tipos para la música debería evitar las dos trampas de prescriptivismo descritas. </font><font style="vertical-align: inherit;">No debe basarse en criterios inaceptables o subjetivos para la música correcta. </font><font style="vertical-align: inherit;">Al mismo tiempo, tratando de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hacer que los estados erróneos no sean representables</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , el sistema de tipos no debe interferir con la aparición de nuevos estados.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descriptivismo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una alternativa al prescriptivismo es el descriptivismo. </font><font style="vertical-align: inherit;">Si en el primer caso los patrones musicales se consideran reglas vinculantes, en el segundo se consideran patrones que se forman en el curso de la práctica. </font><font style="vertical-align: inherit;">Un enfoque descriptivo para el estudio de las reglas musicales se ve así:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explorando el cuerpo de la música</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identificar tendencias</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los formulamos en forma de modelo.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es posible argumentar que:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La música que se desvía del modelo es inusual.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para hacer esto, necesitamos un buen modelo de estructuras musicales que pueda describir lo ordinario o lo inusual, en lugar de lo correcto o incorrecto. </font><font style="vertical-align: inherit;">David Huron, en su libro </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sweet Anticipation,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ofrece una teoría descriptiva que puede reducirse a tres aspectos clave:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La música se clasifica a través del entrenamiento estadístico</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estás satisfecho con el pronóstico correcto</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La novedad no te deja aburrirte</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestro ejemplo prescriptivista anterior, saltar de una nota a C se considera un error. </font><font style="vertical-align: inherit;">Y de acuerdo con la teoría de Huron, esto será muy inusual. </font><font style="vertical-align: inherit;">Aquellos que han escuchado mucho la música occidental descubrirán que cuando escuchan una nota, la siguiente nota a menudo será otra, o una nota un sonido más alto o más bajo. </font><font style="vertical-align: inherit;">Saltar a la B sorprenderá a la audiencia, y pueden tomar esto negativamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una de las curiosas consecuencias de la teoría de Huron es que escribir música no es un ejercicio para maximizar o minimizar la ficción. La música se equilibra en el límite entre el orden y el caos, y la ubicación de los oyentes depende de la capacidad del músico para equilibrar el impacto de la novedad con la satisfacción de recibir lo esperado. Si realmente desea verificar la corrección de la composición, deberá asegurarse de que no se aleje demasiado de las tradiciones aceptadas, pero que tampoco las observe de manera demasiado estricta.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los siguientes son datos de un análisis estadístico de tendencias melódicas. Los colores más oscuros indican resultados más probables. Seleccione una línea con una de las notas y encuentre en ella una celda con una nota que sea más probable que siga la elegida: la intersección resaltada en la oscuridad con la columna de otra nota. Por ejemplo, en este conjunto de datos en el 33.53% de los casos después de que la nota vuelve a aparecer.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d5f/958/cf0/d5f958cf07219b7f4d092ab67b2e9529.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estos datos están tomados del libro de Huron, son el resultado del análisis de más de 250,000 pares de tonos de canciones populares germánicas en general. Otro conjunto de datos, por ejemplo, hip-hop o rock and roll, demostrará diferentes probabilidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas estas probabilidades se pueden representar de manera equivalente como bits de entropía: una probabilidad del 50% corresponde a un bit, una probabilidad del 25% a dos bits, etc. Para evitar dividir por cero, suponemos que para las transiciones que nunca ocurren en el conjunto de datos, la probabilidad es 1/100 000. Ahora el color más oscuro muestra las transiciones que son más caras en términos de entropía, es decir, menos probable. Por ejemplo, para re después es igual a 6 bits de entropía, es decir, tiene una probabilidad de 1/64.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a3f/ae7/419/a3fae7419ea6c759ee7ff137cc6810db.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La representación en forma de entropía nos ayuda a combinar la sorpresa de una serie de notas en las que cada transición de un sonido a otro es un contador de entropía, con la sorpresa de toda la melodía como la suma de las transiciones.</font></font><br>
<br>
<pre><code class="plaintext hljs"> -&gt;  -&gt;  -&gt;  = 2,20 + 2,71 + 5,94 = 10,85 <font></font>
 -&gt;  -&gt;  -&gt;  = 2,48 + 7,43 + 5,94 = 15,85 <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto es muy similar al </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oculto de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Markov</font></a><font style="vertical-align: inherit;"> , pero en lugar de generar cadenas de notas, usamos probabilidades ponderadas para estimar la probabilidad de una melodía. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es posible que haya notado que la transición de la nota a C es de solo 2.48 bits, aunque a primera vista esto contradice el hecho de que la transición de C a C se describió anteriormente como muy inusual. </font><font style="vertical-align: inherit;">Muy a menudo, las transiciones inusuales son de aproximadamente 10 bits de entropía. </font><font style="vertical-align: inherit;">La razón de la discrepancia es que los datos de Huron no distinguen entre un salto de seis notas de a a si (muy inusual) y una transición de una nota a un si más bajo (una situación bastante común). </font><font style="vertical-align: inherit;">Si los datos nos permiten separar estos dos casos, el modelo mostrará que la cadena pre-si-mi-fa sonará aún más poco convencional que la pre-re-mi-fa.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas escritas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Idealmente, un sistema de tipos ayuda a los programadores a tomar las decisiones correctas y elimina la posibilidad de errores. </font><font style="vertical-align: inherit;">Una buena analogía musical es el solfeo. </font><font style="vertical-align: inherit;">Si no tienes educación musical, entonces podrías familiarizarte con el solfeo en la canción </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do-Re-Mi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del musical </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Sound of Music</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cada nota de una octava tiene su propio nombre, y cualquier nota fuera de la tonalidad del nombre no tiene:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para (nota más baja de este conjunto)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Re</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para (ahora una octava más alta)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este sistema permite a los músicos adherirse a las notas correctas, establece un mini-idioma que prohíbe tocar notas fuera de la tecla seleccionada. </font><font style="vertical-align: inherit;">Hay infinitas frecuencias entre d y re, pero no se reproducen dentro del solfeo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto se puede representar fácilmente en el código como datos de tipo algebraico:</font></font><br>
<br>
<pre><code class="plaintext hljs">data Solfege = Do | Re | Mi | Fa | So | La | Ti
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora puede definir funciones musicales que no permiten notas fuera de las teclas. Por ejemplo, esta función repite una nota </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> veces:</font></font><br>
<br>
<pre><code class="plaintext hljs">repeat : Nat -&gt; Solfege -&gt; List Solfege<font></font>
repeat 0 s = [s]<font></font>
repeat n s = s :: repeat (n - 1) s<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con esta definición, la repetición triple de una nota re es una expresión que se entenderá fácilmente en el campo musical. </font><font style="vertical-align: inherit;">Una repetición triple de un filo agudo es un error de verificación de tipo, porque el filo agudo no es un valor de tipo </font></font><code>Solfege</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto nos da un cierto tipo de seguridad. </font><font style="vertical-align: inherit;">Nuestro sistema nos permite evitar las notas incorrectas, pero aún así no protege contra </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combinaciones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> incorrectas </font><i><font style="vertical-align: inherit;">de</font></i><font style="vertical-align: inherit;"> notas. </font><font style="vertical-align: inherit;">Si jugáramos en Do mayor, no jugaríamos F fuerte, pero podríamos jugar C, luego saltar a una gran septima con una nota B, lo cual está prohibido por las reglas de composición (tradicionales). </font><font style="vertical-align: inherit;">Tal verificación de tipo contextual es posible, pero requiere un enfoque más complejo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transiciones Mecanografiadas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La biblioteca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mezzo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Haskell </font><font style="vertical-align: inherit;">utiliza tipos relacionados para verificar la corrección musical. </font><font style="vertical-align: inherit;">La descripción dice que esta es una "prueba muy estricta para la música", la biblioteca puede verificar el cumplimiento de varias reglas de composición, y no solo la tonalidad. </font><font style="vertical-align: inherit;">En Mezzo, el siguiente código se compila porque la melodía pre-re-mi-fa consiste en los intervalos permitidos:</font></font><br>
<br>
<pre><code class="plaintext hljs">comp = defScore $ start $ melody :| c :| d :| e :| f :&gt;&gt; g
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero si rompemos la regla que prohíbe saltar de a a si, entonces Mezzo no compilará dicho código:</font></font><br>
<br>
<pre><code class="plaintext hljs">comp = defScore $ start $ melody :| c :| b :| e :| f :&gt;&gt; g
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es genial que Mezzo incluso señale un problema:</font></font><br>
<br>
<pre><code class="plaintext hljs">Major sevenths are not permitted in melody: C and B<font></font>
In the first argument of ‘(:|)’, namely ‘melody :| c :| b’<font></font>
In the first argument of ‘(:|)’, namely ‘melody :| c :| b :| e’<font></font>
In the first argument of ‘(:&gt;&gt;)’, namely<font></font>
    ‘melody :| c :| b :| e :| f_’<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede parecer que el sueño de presentar música incorrecta como errores de tipo se ha hecho realidad. </font><font style="vertical-align: inherit;">Pero a veces surgen situaciones incómodas. </font><font style="vertical-align: inherit;">Cuando el autor de la biblioteca codificó el preludio de Chopin, resultó que varias veces el compositor no siguió las reglas tradicionales:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El trabajo se transcribió casi por completo, pero a veces fue necesario omitir algunas notas, porque crearon los intervalos prohibidos a los que Mezzo señaló.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usted puede preguntar, ¿quién se comprometió a prohibirlo? </font><font style="vertical-align: inherit;">Si a Chopin no se le permite hablar sobre lo que está permitido en la música occidental y lo que no, ¿entonces quién? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El problema es que, aunque Mezzo puede tener en cuenta el contexto, la estimación de tipo sigue siendo una tarea de elección binaria. </font><font style="vertical-align: inherit;">O bien todas las notas son correctas y el trabajo se compila, ya sea que una de las notas se elimine y el trabajo no se compile. </font><font style="vertical-align: inherit;">Y a pesar de que Mezzo le permite elegir reglas de composición, la decisión de aplicar o no la regla es global. </font><font style="vertical-align: inherit;">Si desactiva la regla porque alguna decisión musical viola el acuerdo habitual, entonces cancelará la verificación de otras partes del trabajo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entropía mecanografiada</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una forma de romper o eludir las reglas de mecanografía musical es modelar las transiciones entre notas en términos de similitud según el consejo de Huron. </font><font style="vertical-align: inherit;">En lugar de declarar una transición particular correcta o incorrecta, puede calcular la cantidad de entropía que refleja la sorpresa de la audiencia por las combinaciones de notas combinadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente código está escrito en el lenguaje funcional tipeado dependiente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idris</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En el código, se verifica que la melodía correspondiente a las reglas comienza con ay termina con sal y que el camino entre estas notas genera 8-16 bits de entropía. </font><font style="vertical-align: inherit;">Primero debe determinar el tipo </font></font><code>Melody</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que refleja nuestra representación de la melodía con cierta similitud o magnitud de entropía. </font><font style="vertical-align: inherit;">Este tipo tiene tres constructores:</font></font><br>
<br>
<ul>
<li><code>Pure</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Refleja la creación de una melodía a partir de una sola nota, con un nivel de entropía superior e inferior igual a cero.</font></font></li>
<li><code>(&gt;&gt;=)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: toma dos melodías y suma sus límites de entropía con el costo de cambiar de una nota al final de la primera melodía a una nota al final de la segunda.</font></font></li>
<li><code>Relax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: toma una melodía y expande sus límites de entropía.</font></font></li>
</ul><br>
<pre><code class="plaintext hljs">data Melody : (Solfege, Solfege) -&gt; (Nat, Nat) -&gt; Type where<font></font>
<font></font>
  Pure  : x -&gt; Melody (x, x) (0, 0)<font></font>
<font></font>
  (&gt;&gt;=) : Melody (w, x) (low, high) -&gt;<font></font>
          (() -&gt; Melody (y, z) (low2, high2)) -&gt;<font></font>
          Melody (w, z) (cost x y + low + low2, cost x y + high + high2)<font></font>
<font></font>
  Relax : Melody (x, y) (low + dl, high) -&gt;<font></font>
          Melody (x, y) (low, high + dh)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta definición de tipo es más complicada, pero gracias a ella, Idris puede componer una melodía usando notación </font></font><code>do</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, y el compilador rastreará los límites de la entropía por nosotros. </font><font style="vertical-align: inherit;">Aquí está la melodía relevante con el bajo costo de todas las transiciones:</font></font><br>
<br>
<pre><code class="plaintext hljs">conventional : Melody (Do, So) (8, 16)<font></font>
conventional = Relax $ do<font></font>
  Pure Do<font></font>
  Pure Re<font></font>
  Pure Mi<font></font>
  Pure Fa<font></font>
  Pure So<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La siguiente melodía no cumple con las reglas, ya que salta a una gran septima. </font><font style="vertical-align: inherit;">En Mezzo, estará prohibido o deberá deshabilitar completamente la regla. </font><font style="vertical-align: inherit;">Aquí solo expandimos los límites de la complejidad de la melodía para que se ajuste al rango de 8-24 bits de entropía:</font></font><br>
<br>
<pre><code class="plaintext hljs">unconventional : Melody (Do, So) (8, 24)<font></font>
unconventional = Relax $ do<font></font>
  Pure Do<font></font>
  Pure Ti<font></font>
  Pure Mi<font></font>
  Pure Fa<font></font>
  Pure So<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si, en cambio </font></font><code>Melody (Do, So) (8, 24)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, asignamos un tipo que no se ajusta a las reglas de la melodía </font></font><code>Melody (Do, So) (8, 16)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ¡entonces no se compilaría! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La novedad del enfoque es que le permite comprender cuándo la música se vuelve demasiado aburrida. Si la entropía de la melodía no alcanza el límite inferior, se genera un error de tipo. Entonces, si asigna un tipo a una melodía que cumpla con las reglas, </font></font><code>Melody (Do, So) (16, 24)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entonces tampoco se compilará, porque su entropía no alcanza el límite inferior. Esto nos inspira con fe en la teoría de Huron, según la cual será demasiado difícil para las personas escuchar música que es demasiado inusual o impredecible.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el caso degenerado, las transiciones entre notas dentro de la clave no aumentan la entropía, y las transiciones fuera de la clave dan un aumento arbitrariamente grande en la entropía. </font><font style="vertical-align: inherit;">Entonces es aconsejable volver a una evaluación binaria, en la que cada nota se considerará permitida o prohibida, sin ningún estado intermedio.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importante pero difícil de verificar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verificar los tipos de música es difícil porque es difícil determinar la exactitud de la música. Si no podemos modelar matemáticamente con precisión la definición de corrección musical, entonces no podemos transferirla al sistema de tipos. Incluso si podemos formalizar auténticamente nuestra comprensión, tendremos que hacer un esfuerzo y aplicar un sistema de tipo potente para que el compilador pueda evaluar adecuadamente la melodía. Sin embargo, esto es posible con alguna definición y algunos supuestos simplificadores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Es esto solo curiosidad? Tal vez. Es poco probable que la industria de la música adopte pronto un sistema de tipos para evitar errores de composición. Pero si el estudio de la informática en el campo de la música nos ayudará a evaluar de manera diferente lo que juega un papel tan importante en la vida de casi todos nosotros, entonces esto solo justifica todos los esfuerzos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quizás no menos importante es el hecho de que la música es solo una de las áreas donde la corrección es importante, pero difícil de verificar. </font><font style="vertical-align: inherit;">Cuanto más activamente se automatiza la esfera social y cultural con la ayuda de la programación, más a menudo surgen situaciones en las que es difícil evaluar la respuesta, que es crucial para las personas. </font><font style="vertical-align: inherit;">Tome el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uso de un programa de computadora que decida cuánto tiempo encarcelar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La exactitud de las oraciones impuestas depende de complejas compensaciones entre costos y probabilidades, y si no podemos rastrear la lógica de la toma de decisiones por parte del sistema, ¿cómo podemos evaluar la equidad del resultado? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada vez que automatizamos procesos opacos de toma de decisiones, debemos preguntarnos: "¿Cómo sabemos que el sistema funciona correctamente?"</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es489992/index.html">Corregir el cierre del pod en el clúster de Kubernetes</a></li>
<li><a href="../es489994/index.html">Consejos y trucos de Kubernetes: elegantes funciones de tiempo de ejecución de apagado en NGINX y PHP-FPM</a></li>
<li><a href="../es489998/index.html">11. Fortinet Getting Started v6.0. Licencia</a></li>
<li><a href="../es490002/index.html">Cómo GraphQL en Kotlin y Micronaut y crear un único punto de acceso a la API de varios microservicios</a></li>
<li><a href="../es490006/index.html">Programa educativo para especificaciones técnicas.</a></li>
<li><a href="../es490012/index.html">Alertas y errores de almacenamiento, ¿cómo lidiar con ellos?</a></li>
<li><a href="../es490014/index.html">Sacudida del árbol de JavaScript, como un profesional</a></li>
<li><a href="../es490018/index.html">Cómo diseñar aplicaciones móviles para una mano</a></li>
<li><a href="../es490034/index.html">ML REPA Meetup en Raffeisenbank: sigue transmitiendo</a></li>
<li><a href="../es490040/index.html">Python-Celery en Windows con gestión de Docker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>