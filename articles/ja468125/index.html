<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥤 🚣🏽 💺 漸近線のアニメーション 💻 🌐 👶🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="このトピックに関する別のロシア語の情報源を作成するために、私のブログからコピーしました。
 
 こんにちは！ここでこのハブで説明されているこのプログラムの設定のニュアンスを学んだときに行われたAsymptoteプログラムをマスターする過程で、アニメーションがない.asyファイルの処理を完全にマスター...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>漸近線のアニメーション</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468125/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このトピックに関する別のロシア語の情報源を作成するために</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、私のブログ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からコピーしました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
こんにちは！</font><font style="vertical-align: inherit;">ここで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このハブ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">説明されているこのプログラムの設定のニュアンスを学んだときに行われたAsymptoteプログラムをマスターする過程で</font><font style="vertical-align: inherit;">、アニメーションがない.asyファイルの処理を完全にマスターしたとき、私は自然にアニメーションに出くわしました。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スポイラーの見出し</font></font></b><div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大衆にアニメーションを与えてください！</font></font><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幸いなことに、このため、.pdf出力形式の場合、上記のリンクを使用してハブで私が説明した追加プログラムはどれも、ghostscriptプログラムの後にアンインストールする必要はありません。悪魔でさえ、どれだけの期間掘り進んだかを知っています。しかし、私はそれについて知りませんでした、それは問題を何度も複雑にしました。あなたはwheel.asyファイルを処理しますか？さて、.pdfは、TeXworks（上記のリンクを参照）での処理中に、処理された.asyファイルと同じフォルダーに表示され、エクスプローラー（同じハブを参照）で開いたときにフォルダーに表示されました</font></font><code>C:\Windows\System32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。だから何？そこにはアニメーションがありませんでした。たとえあなたがクラックしたとしても、それだけです。 Asymptoteでのアニメーションの前に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tikz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pstricksで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アニメーションを作成する方法を学び</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">。フォルダーから来ている限り、私はこれで成功しませんでした</font></font><code>C:\Program Files\MiKTeX 2.9\tex\latex\animate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">animate.styファイルを削除せず、後でダウンロードした同じ名前のファイルをその場所に配置しませんでした。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そこです</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、これが</font></font><a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パッケージはtikzとpstricksで動作しますが、おそらくTeXの問題が原因ではなく、他の理由でうまくいかないと思いがちでした。</font><font style="vertical-align: inherit;">そこで、私は数年前から古いインターネットを検索しました。</font><font style="vertical-align: inherit;">最初はIEブラウザーで検索しましたが、そこには便利なトランスレーターがありません。</font><font style="vertical-align: inherit;">それから私はグーグルがそれに便利な翻訳者を持っていることを嗅ぎました。</font><font style="vertical-align: inherit;">彼が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページに</font><font style="vertical-align: inherit;">出くわすまで、検索、検索、検索、検索も行いました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">何らかの理由で、フォルダーからのすべての.asyファイルで、</font></font><code>C:\Program Files\Asymptote\examples\animations</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アニメーション付きの.pdfから取得するには、十分な単一行がないことがわかりました</font></font><br>
<br>
<pre><code class="plaintext hljs">settings.twice=true;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の行を、examplesフォルダーのanimationフォルダーのwheel.asyファイルに追加しました。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後にアニメーション!!!!!!!</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">import graph;<font></font>
<font></font>
// Uncomment the following 2 lines to support pdf animations:<font></font>
usepackage("animate");<font></font>
settings.tex="pdflatex";<font></font>
settings.twice=true;<font></font>
import animation;<font></font>
<font></font>
size(0,200);<font></font>
<font></font>
defaultpen(3);<font></font>
dotfactor=4;<font></font>
<font></font>
pair wheelpoint(real t)<font></font>
{<font></font>
  return (t+cos(t),-sin(t));<font></font>
}<font></font>
<font></font>
guide wheel(guide g=nullpath, real a, real b, int n)<font></font>
{<font></font>
  real width=(b-a)/n;<font></font>
  for(int i=0; i &lt;= n; ++i) {<font></font>
    real t=a+width*i;<font></font>
    g=g--wheelpoint(t);<font></font>
  }<font></font>
  return g;<font></font>
}<font></font>
<font></font>
real t1=0; <font></font>
real t2=t1+2*pi;<font></font>
<font></font>
animation a;<font></font>
<font></font>
draw(circle((0,0),1));<font></font>
draw(wheel(t1,t2,100),linetype("0 2"));<font></font>
yequals(Label("$y=-1$",1.0),-1,extend=true,linetype("4 4"));<font></font>
xaxis(Label("$x$",align=3SW),0);<font></font>
yaxis("$y$",0,1.2);<font></font>
pair z1=wheelpoint(t1);<font></font>
pair z2=wheelpoint(t2);<font></font>
dot(z1);<font></font>
dot(z2);<font></font>
<font></font>
int n=10;<font></font>
real dt=(t2-t1)/n;<font></font>
for(int i=0; i &lt;= n; ++i) {<font></font>
  save();<font></font>
  <font></font>
  real t=t1+dt*i;<font></font>
  draw(circle((t,0),1),red);<font></font>
  dot(wheelpoint(t));<font></font>
<font></font>
  a.add(); // Add currentpicture to animation.<font></font>
  restore();<font></font>
}<font></font>
<font></font>
erase();<font></font>
<font></font>
// Merge the images into a gif animation.<font></font>
//a.movie(BBox(0.25cm),loops=10,delay=250);<font></font>
<font></font>
// Merge the images into a pdf animation.<font></font>
label(a.pdf(BBox(0.25cm),delay=250,"controls",multipage=false));<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、英語で300語を知っている.pdfを受け取るために、ユーザーがAsymptoteプログラムの作成者から2行で取得したwheel.asyファイルの形式でコメントを外す必要があることに気付きました。</font></font><br>
<br>
<pre><code class="plaintext hljs">.......................<font></font>
usepackage("animate");<font></font>
settings.tex="pdflatex";<font></font>
.......................<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wheel.asyファイルの最後にあるこれらの行のコメントを見てください。</font></font><br>
<br>
<pre><code class="plaintext hljs">........................<font></font>
// Merge the images into a gif animation.<font></font>
a.movie(BBox(0.25cm),loops=10,delay=250);<font></font>
<font></font>
// Merge the images into a pdf animation.<font></font>
// label(a.pdf(BBox(0.25cm),delay=250,"controls",multipage=false));<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、.pdfを取得するには、プログラムの作成者から取得したコードをやり直し、行をコメント化する必要があることに気付きました</font></font><br>
<br>
<pre><code class="plaintext hljs">a.movie(BBox(0.25cm),loops=10,delay=250);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、行のコメントを解除します</font></font><br>
<br>
<pre><code class="plaintext hljs">label(a.pdf(BBox(0.25cm),delay=250,"controls",multipage=false));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これらのジェスチャーの後に私のホイールがどのように転がったか！</font><font style="vertical-align: inherit;">Asymptoteプログラムの作成者のロジックも不明確です。.gifを取得するには、.pdfを取得するよりも1つの追加プログラムが必要です。</font><font style="vertical-align: inherit;">例のあるファイルは、これを行う方法をまったく知らないユーザーによって監視される可能性が最も高くなります。</font><font style="vertical-align: inherit;">これらのユーザーがファイルを何も変更せずにすぐに開くと、追加のプログラムが少なくて済む出力形式を受け取ることができるように、これを行います。.pdf、いいえ、.gifを作成しました。</font><font style="vertical-align: inherit;">何のために？？</font><font style="vertical-align: inherit;">とにかく。</font><font style="vertical-align: inherit;">はい、また、エクスプローラーでwheel.asyファイルを開いて（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私のハブを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照</font><font style="vertical-align: inherit;">）、そこから有効な.gifを取得すると、同じフォルダーにconfig.asyファイルがあることにも注意してください（</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">私のハブを</font></a><font style="vertical-align: inherit;">参照）</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）はオプションです。</font><font style="vertical-align: inherit;">この場合の.gif（エクスプローラーで開いた場合）はフォルダー内に形成されることを思い出してください</font></font><code>C:\Windows\System32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 TeXworksでこの.asyファイルを処理する場合、処理するファイルと同じフォルダーにconfig.asyが存在する必要があります（または、前のリンクで処理した.asyファイル自体に直接言及した行を含める）。さて、ここにあります。私はこのローリングホイールをまっすぐに手に入れました。夜でした。私は寝ました。目を覚まし、コンプのために。コンピューターの電源が入っている間、彼は手をこすりながら座っていた。ええと、今、私は数学的に石油燃料油を支払うつもりです）。ええ、今。例のサブフォルダのアニメーションは、embeddedmovie.asy、externalmovie.asy、およびembeddedu3d.asyを除いて、ほぼすべて成功しました。私は後で最初の2つのファイルを待ったが、最後のファイルでは機能しなかった。理解できるように、いくつかのdice.u3dファイルをどこか他の場所からダウンロードする必要があり、どれが小さな会社にとって大きな秘密であるか。まあ、それは、「ああ、王国では十分ではありません。ローミングする場所はありません。」私は書いた、そのようなコードがあった：</font></font><br>
<br>
<pre><code class="plaintext hljs">settings.twice=true;<font></font>
usepackage("animate");<font></font>
import solids;<font></font>
settings.tex="pdflatex";<font></font>
import animation;<font></font>
settings.outformat="pdf";<font></font>
<font></font>
settings.axes3=true;<font></font>
import graph3;<font></font>
<font></font>
import palette;<font></font>
currentprojection=orthographic(1,1,1);<font></font>
<font></font>
limits((-1.3,-1.3,-1.3),(1.3,1.3,1.3));<font></font>
<font></font>
unitsize(6cm);<font></font>
animation a;<font></font>
int n=44;<font></font>
for(int i=0; i&lt;=n; ++i){<font></font>
real g(real x) {return sqrt(1-x^2);}<font></font>
pair G(real x) {return (x,g(x));}<font></font>
triple G3(real x) {return (x,g(x),0);}<font></font>
<font></font>
path q=graph(G,1-i/n,1);<font></font>
path3 q3=path3(q);<font></font>
<font></font>
revolution c=revolution(q3,X,0,360);<font></font>
draw(surface(c),red);<font></font>
<font></font>
real f(real x) {return sqrt(1-x^2);}<font></font>
pair F(real x) {return (x,f(x));}<font></font>
triple F3(real x) {return (x,f(x),0);}<font></font>
<font></font>
path p=graph(F,-1,-1+i/n);<font></font>
path3 p3=path3(p);<font></font>
<font></font>
revolution b=revolution(p3,X,0,360);<font></font>
draw(surface(b),green);<font></font>
<font></font>
axes3("$x$","$y$","$z$",Arrow3);<font></font>
a.add();<font></font>
  restore();<font></font>
}<font></font>
<font></font>
erase();<font></font>
label(a.pdf("controls,loop",delay=1000));<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TeXworksで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の有望なエラーが表示さ</font><font style="vertical-align: inherit;">
れました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs">error: out of memory</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この.asyファイルをエクスプローラーで開くと（上記のハブへのリンクを参照）、エラーは同じでした。</font><font style="vertical-align: inherit;">うん。</font><font style="vertical-align: inherit;">私は蒸し、蒸し、泥だらけになりました。</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi><mo>=</mo><mn>3</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.656ex" height="2.009ex" viewBox="0 -755.5 2435.1 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhjpEaRnPpLIQk7Sf4Izwa2tOYfvAA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhjpEaRnPpLIQk7Sf4Izwa2tOYfvAA#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhjpEaRnPpLIQk7Sf4Izwa2tOYfvAA#MJMAIN-33" x="1934" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>=</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1">n=3</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> アニメーション付きの.pdfになりますが、すでに </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi><mo>=</mo><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.656ex" height="2.009ex" viewBox="0 -755.5 2435.1 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhjpEaRnPpLIQk7Sf4Izwa2tOYfvAA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhjpEaRnPpLIQk7Sf4Izwa2tOYfvAA#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhjpEaRnPpLIQk7Sf4Izwa2tOYfvAA#MJMAIN-34" x="1934" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>=</mo><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-2">n=4</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このエラーも発生すること。 Asymptote </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォーラム自体</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で質問させてください</font><font style="vertical-align: inherit;">。しかし、アングロサクソン人は、指示から後戻りすることを好まない法律遵守の人々です。彼らは何も思いつきませんでした。何をすべきか？そのようなゴミに出くわすためにインターネットの半分を壊す価値はありましたか？まあ、何も、ロシア人はあきらめません！それに、普通のヒーローはいつも動き回っています... TeXworksでwheel.asyファイルを処理するプロセスを観察し始めました。最初に、ファイル_wheel + 0.pdf、_wheel + 1.pdf、...、_ wheel + 10.pdfが表示され、次にこれらのファイルから複数ページのファイル_wheel.pdfが形成され、さらにプログラム上に作成されます。そして、これらすべてを行うために、アニメーションモジュールは.asyファイルにインポートされ、そこから</font><i><font style="vertical-align: inherit;">アニメーション</font></i><font style="vertical-align: inherit;">を取得します</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。そして、私は考えを持ちました。しかし、このモジュール（ファイル</font></font><code>C:\Program Files\Asymptote\animation.asy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）で_wheel + 0.pdfのようなファイルを生成し、それをオフにする場所を見つけたらどうなるでしょうか。これらのファイルに、バッチファイルのループバイパスによって生成されたAsymptote処理.asyファイルをスタンプしますか？これらの.asyファイルは</font><font style="vertical-align: inherit;">、必要に応じ</font><font style="vertical-align: inherit;">て、名前</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 0.asy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前+ 1.asy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など</font><font style="vertical-align: inherit;">で作成することができます</font><font style="vertical-align: inherit;">。どこ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の名前は</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、あなたが最も可能性の高いアニメーションで既製のPDFファイルに変更するアニメーションが作成さに関連したラテン文字、いくつかのセットです。しかし、それは後でなります。その間、ファイルを作成した後の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前は+ 0.asy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前は+ 1.asy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です...私の考えでは、これらはAsymptoteで処理する必要があります。これにより、ファイル</font><i><font style="vertical-align: inherit;">名+ 0.pdf</font></i><font style="vertical-align: inherit;">が作成されます</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name + 1.pdf</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...そして、ファイル</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name + 0.asy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name + 1.asy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font><font style="vertical-align: inherit;">を作成するコードの前</font><font style="vertical-align: inherit;">に、バッチファイルに行を挿入してファイルname.asyを作成する必要がありました。ファイル。</font><font style="vertical-align: inherit;">そして、ファイルname.asyは、単にバッチファイルの結果として形成されます。</font><font style="vertical-align: inherit;">このファイルでは、名前は.asy </font><font style="vertical-align: inherit;">です。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アニメーション</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール自体ではなく、再作成したアニメーションモジュールをインポートすることを計画していました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">wheel.asyファイルの冒頭の精神で、このファイルname.asyの冒頭を最も単純にすることにしました。</font><font style="vertical-align: inherit;">ループの後、このファイルから行を愚かにコピーし、次のようにバッチファイルに貼り付けました。</font></font><br>
<br>
<pre><code class="plaintext hljs">echo  &gt;&gt; .asy
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、</font></font><br>
<br>
<pre><code class="plaintext hljs">echo  &gt;&gt; .asy
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成したファイルの名前が簡単になるように、バッチファイルを作成しました。ループの本体は空で、どこにあるのかは次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">for(int i=0; i &lt;= n; ++i) {
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バッチファイルで、この行をファイル名に入力するコード行の上の行。 </font></font><br>
<br>
<pre><code class="plaintext hljs">echo int n=%n%; &gt;&gt;%name%.asy
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、およびこのバッチファイルの3行目と4行目は次のとおりです。</font></font><br>
<pre><code class="plaintext hljs">set n=24<font></font>
set name=OdnopGip<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なので、ファイル名のループの先頭までです。この場合、Easy Asymptoteはすでにnの値を認識しており、すべてが機能します。</font><font style="vertical-align: inherit;">環境変数名は、この記事の言語に翻訳すると、</font><i><font style="vertical-align: inherit;">name.asy</font></i><font style="vertical-align: inherit;">から</font><font style="vertical-align: inherit;">の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意味し</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">この場合、setを介してバッチファイル内のnameまたはnの値を宣言すると非常に便利に思えます：バッチファイル内の1か所のみで値を変更すると、特定の.asyファイルまたは番号を処理するときに生成される.tex、.pdfファイルのすべての名前を変更する必要があります結果として得られるアニメーションpdfのフレーム。基本的にアニメーションの詳細を変更します。</font><font style="vertical-align: inherit;">さて、ここにあります。</font><font style="vertical-align: inherit;">フレームの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前+ 0.pdf</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">名前+ 1.pdf</font></i><font style="vertical-align: inherit;">を用意しました</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...同時に、各フレームの準備が終わった後、それを開くために、バッチファイルにコマンドを含める必要がありました。バッチファイルから特定のタイトルのウィンドウを閉じる方法がわからなかったので、フレームブランク処理サイクル.asyの本文のバッチファイルに次のコマンドを含めました。</font></font><br>
<pre><code class="plaintext hljs">taskkill /IM AcroRd32.exe
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、このすべてを実行するプロセスの後半で判明したように、特定の各フレームを閉じるよりも優れています。フレームがまだモニターに表示される時間がなく、次の.asyファイルの処理が開始され、その後、次のフレームがモニターに表示され、最後にサイクルのこの次のステップのチームは、この次のステップのフレームと（実行中の）バッチファイルが実行された前のステップのフレームの両方を閉じます。ただし、このコマンドがバッチファイルに含まれると、.pdfで本を読むことができなくなることは明らかですこれは悪いです、はい。さらにロジックに沿って、ファイル名+ 0.asy、name + 1.asy、...を_name + 0.asy、_name + 1.asy、...に変更する必要がありました。処理された.asyファイルを含むフォルダー。アニメーションが含まれています。これは、ファイルname.pdfの作成を開始する前にネイティブアニメーションモジュールがインポートされるという条件でこのファイルを処理することを含みます（はい、変数kを使用してバッチファイル内で、フレームを構成するコード行をname + k.asyファイルではなく_name +に挿入できます。 k.asyですが、「_」文字をさらに入力する必要があります。さらに、Asymptoteは以前に作成したファイルname.asyを処理しました。つまり、最初のアイデアによれば、バッチファイルは次のようになります。最初のアイデアによると、バッチファイルは次のようになります。最初のアイデアによると、バッチファイルは次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">cd /d %0\..<font></font>
echo off<font></font>
set n=99<font></font>
set name=cvetok<font></font>
<font></font>
echo settings.twice=true; &gt; %name%.asy<font></font>
echo usepackage("animate"); &gt;&gt;%name%.asy<font></font>
echo settings.tex="pdflatex"; &gt;&gt;%name%.asy<font></font>
echo import izgraphiki; &gt;&gt;%name%.asy<font></font>
echo animation a; &gt;&gt;%name%.asy<font></font>
echo int n=%n%; &gt;&gt;%name%.asy<font></font>
echo for(int i=0; i ^&lt;= n; ++i) { &gt;&gt;%name%.asy<font></font>
echo   a.add(); &gt;&gt;%name%.asy<font></font>
echo  restore(); &gt;&gt;%name%.asy<font></font>
echo } &gt;&gt;%name%.asy<font></font>
echo erase(); &gt;&gt;%name%.asy<font></font>
echo label(a.pdf(BBox(0.25cm),delay=250,"controls",multipage=false)); &gt;&gt;%name%.asy<font></font>
<font></font>
for /l %%k in (0,1,%n%) do (<font></font>
echo import graph; &gt;&gt; %name%+%%k.asy<font></font>
echo settings.tex="pdflatex"; &gt;&gt; %name%+%%k.asy<font></font>
echo limits((-1.2,-1.2^),(1.2,1.2^)^); &gt;&gt; %name%+%%k.asy<font></font>
echo size(0,100^); &gt;&gt; %name%+%%k.asy<font></font>
echo real f(real t^) {return cos(2*t^);} &gt;&gt; %name%+%%k.asy<font></font>
echo path g=polargraph(f,0,2pi*%%k/%n%,operator ..^)--cycle; &gt;&gt; %name%+%%k.asy<font></font>
echo fill(g,green+white^); &gt;&gt; %name%+%%k.asy<font></font>
echo xaxis("$x$",above=true^); &gt;&gt; %name%+%%k.asy<font></font>
echo yaxis("$y$",above=true^); &gt;&gt; %name%+%%k.asy<font></font>
echo draw(g^); &gt;&gt; %name%+%%k.asy<font></font>
)<font></font>
<font></font>
for /l %%l in (0,1,%n%) do (<font></font>
asy %name%+%%l.asy<font></font>
taskkill /IM AcroRd32.exe<font></font>
)<font></font>
for /l %%l in (0,1,%n%) do (<font></font>
rename %name%+%%l.pdf _%name%+%%l.pdf<font></font>
)<font></font>
asy %name%.asy<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、上記で変更したanimation.asyモジュールをインポートしていることがわかります。このモジュールにizgraphiki.asyというわかりやすい名前を付けました。また、取得したアニメーション.pdfファイルについては、cvetokよりも優れた名前を思いつきませんでした。どうやら、彼の想像力の欠如のために。さて、大丈夫、それはどうですか。このストーリーの最後で「my」のizgraphiki.asyモジュールについて説明します。これで、ストーリーのスレッドが失われないようになりますが、ここでは、このファイルにiz-graphiki.asyという名前を付け、次にiz + graphiki.asyという名前を付けてテストすることにします。意図した目標に到達しませんでした。私のバッチファイルの作業は本格的に停止し、どのような状況でも再開しませんでした。どうやら、漸近線モジュールは</font><u><font style="vertical-align: inherit;">文字</font></u><font style="vertical-align: inherit;">のみを含むべきです</font></font><u><font style="vertical-align: inherit;"></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラテン系のアルファベット。いずれにせよ、この条件を順守しても問題はありません。したがって、上記で引用したバッチファイルの作業は、任意の大きさのアニメーションからの切望された.pdfファイルの出現で終了しました（妥当な制限内で、3時間待たないように機能し、動作します。操作は最終的なものです）。 3Dオブジェクトのアニメーション構築を行います。そして、別のトラブルが明らかになりました。私はなんとかこれらのオブジェクトでショットにスタンプを押しましたが、おお、それだけです。これらのフレームでは、これらのオブジェクトは空間で回転していることがわかりましたが、ここではすべて問題ありませんが、pdfフレームにボリュームがあるため、アニメーション付きのpdfでフレームを作成するために使用することはできません。さらに考えさせてください。少し変更されたsphere.asyファイルの処理を監視します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title">   sphere.asy</b><div class="spoiler_text"><pre><code class="plaintext hljs">settings.twice=true; <font></font>
usepackage("animate"); <font></font>
import solids; <font></font>
 settings.tex="pdflatex"; <font></font>
import animation; <font></font>
settings.outformat="pdf"; <font></font>
<font></font>
currentprojection=orthographic((0,5,2));<font></font>
currentlight=(0,5,5);<font></font>
<font></font>
int nbpts=200;<font></font>
real step=2*pi/nbpts;<font></font>
int angle=90;<font></font>
<font></font>
unitsize(1cm);<font></font>
<font></font>
triple[] P=new triple[nbpts];<font></font>
for(int i=0; i &lt; nbpts; ++i) {<font></font>
  real t=-pi+i*step;<font></font>
  P[i]=(3sin(t)*cos(2t),3sin(t)*sin(2t),3cos(t));<font></font>
}<font></font>
<font></font>
transform3 t=rotate(angle,(0,0,0),(1,0.25,0.25));<font></font>
revolution r=sphere(O,3);<font></font>
draw(surface(r),lightgrey);<font></font>
draw(r,backpen=linetype("8 8",8));<font></font>
<font></font>
animation A;<font></font>
<font></font>
for(int phi=0; phi &lt; 360; phi += angle) {<font></font>
  bool[] front=new bool[nbpts];<font></font>
  save();<font></font>
  for(int i=0; i &lt; nbpts; ++i) {<font></font>
    P[i]=t*P[i];<font></font>
    front[i]=dot(P[i],currentprojection.camera) &gt; 0;<font></font>
  }<font></font>
  draw(segment(P,front,operator ..),1mm+blue+extendcap);<font></font>
  draw(segment(P,!front,operator ..),grey);<font></font>
  A.add();<font></font>
  restore();<font></font>
}<font></font>
<font></font>
label(A.pdf());<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、私はこの処理中にアニメーションのすべてのフレームが表示され、順番に消えることはないことに気づきましたが、2dバージョンではそうだとすれば、それらだけです：私の意見ではこれは完全な3Dグラフィックですが、それらをAbodeビューアウィンドウで異なる側面から表示しようとするとAsymptoteを使用して取得した3Dグラフィックから予想されるように、マウスの左ボタンを押したままリーダーを動かすと、.asyファイルにアニメーションを含む.pdfの生成を開始する前に、この考慮の可能性を意図的にオフにしない限り、これは不可能であることがわかります。これらの2dフレームの名前：_sphere + 0.pdf、_sphere + 1.pdf、... 3dオブジェクトのアニメーションを含む.asyファイルを処理するときの空間2dフレームの生成について学んだので、バッチファイルから.pdfフレームを取得することに気付きました後で.asyファイルの処理に使用するため空のボディを持つサイクルがあり、.asyファイルだけでなく、それぞれがサイクルを持つ.asyファイルを処理することによって、バッチファイルの最初に生成します。 .pdfフレームを受信するためのこれらの各.asyファイルスタブ内のこれらのループは、単一のフレームで構成されていました。これらのスタブを作成して、アニメーションの.pdfを取得するのではなく、同時に発生する2dフレームを取得しました。各.asyスタブファイルを処理する過程で。このようなループを含む.asy空白ファイルを受信するために、すべての空白ファイル.asyのループで、ループの最初と最後のこれらのループの変数が同じ値を取るようにしました。処理に起因する.pdfフレームの違いAsymptote .asyファイルを実行します。ファイル.asyのサイクルボディの違いによって呼び出されます。これ（違い）は、次に、空白のファイルのサイクルの本体関数にバッチファイルサイクル変数の順次値のそれぞれが導入されたことによるものです。バッチファイルサイクル変数のこの値に対応します。つまり、これらの違いは、バッチファイルのサイクル変数によって作成されます。これらの2dフレームの名前は、name + k + 0.pdfの形式です。ここで、これらの2dフレームは、バッチファイルサイクル変数を変更した結果であるため、バッチファイルサイクル変数のこの値に対応します。つまり、これらの違いは、バッチファイルのサイクル変数によって作成されます。これらの2dフレームの名前は、name + k + 0.pdfの形式です。ここで、これらの2dフレームは、バッチファイルサイクル変数を変更した結果なので、バッチファイルサイクル変数のこの値に対応します。つまり、これらの違いは、バッチファイルのサイクル変数によって作成されます。これらの2dフレームの名前は、name + k + 0.pdfの形式です。ここで、これらの2dフレームは、バッチファイルサイクル変数を変更した結果なので、</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.009ex" viewBox="0 -755.5 521.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhjpEaRnPpLIQk7Sf4Izwa2tOYfvAA#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">k</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、0からステップ1のバッチファイルループ変数の最終値までの値を取ります。以前にバッチファイルによって作成されたループの空の本体を含む.asyファイルからアニメーション化された.pdfを取得するには、.pdfフレーム名は次のようになります：_name + k.pdf。したがって、バッチファイルの次のチームでは、これらのフレームの名前を.pdfに変更しました。ループでやりました。そして最後に、処理チームは空のループ本体を使用してAsymptote .asyファイルを実行します。この処理の後、アニメーション付きの.pdfが表示されます。バッチファイルでは、このコマンドの後に、アニメーション付きの.pdfファイルを開くコマンドを記述しませんでした。この開口部はデフォルトで想定されているため、.pdfファイルが開くように、この処理の最後にとにかくアニメーション付きの.pdfファイルが開きます。アニメーションなしで.asyファイルを処理するAsymptoteによって生成されます。読者がファイルの処理プロセスを観察した場合。Asymptoteプログラムフォルダーにあるexamplesフォルダーのアニメーションを含むサブフォルダーからのasy、彼はその部分を理解します</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> _name + k.pdfからは、ループの空のボディを持つ.asyファイルの名前と一致する必要があります。</font><font style="vertical-align: inherit;">ファイル_name + k.pdfは、他のいくつかの.pdfファイル（ファイル名+ k + 0.pdf）の名前を変更した結果であり、これはプログラムによっていくつかの.asyファイルを処理することの副産物であるため、これらのファイルのタスクを簡略化しました.asyは、名前+ 0.asy、名前+ 1.asy、...という名前のバッチファイルによって作成されたので、私が計画したバッチファイルの動作原理を説明しました。次に、そのようなバッチファイルの例を示します。</font><font style="vertical-align: inherit;">たとえば、これ：</font></font><br>
<br>
<pre><code class="plaintext hljs">cd /d %0\..<font></font>
echo off<font></font>
set n=44<font></font>
echo settings.twice=true; &gt;&gt;sphera.asy<font></font>
echo usepackage("animate"); &gt;&gt;sphera.asy<font></font>
echo settings.tex="pdflatex"; &gt;&gt;sphera.asy<font></font>
<font></font>
echo import izgraphiki; &gt;&gt;sphera.asy<font></font>
<font></font>
echo animation a; &gt;&gt;sphera.asy<font></font>
<font></font>
echo int n=%n%; &gt;&gt;sphera.asy<font></font>
echo for(int i=0; i ^&lt;= n; ++i) { &gt;&gt;sphera.asy<font></font>
echo a.add(); &gt;&gt;sphera.asy<font></font>
echo  restore(); &gt;&gt;sphera.asy<font></font>
echo } &gt;&gt;sphera.asy<font></font>
<font></font>
echo erase(); &gt;&gt;sphera.asy<font></font>
echo label(a.pdf(BBox(0.25cm),delay=250,"controls,loop,autoplay",multipage=false)); &gt;&gt;sphera.asy<font></font>
<font></font>
for /l %%k in (0,1,%n%) do (<font></font>
echo settings.twice=true; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo usepackage("animate"^); &gt;&gt; sphera+%%k.asy<font></font>
echo import solids; &gt;&gt; sphera+%%k.asy<font></font>
echo  settings.tex="pdflatex"; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo import animation; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo settings.outformat="pdf"; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo settings.axes3=true; &gt;&gt; sphera+%%k.asy <font></font>
echo import graph3; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo import palette; &gt;&gt; sphera+%%k.asy<font></font>
echo currentprojection=orthographic(1,1,1^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo limits((-1.3,-1.3,-1.3^),(1.3,1.3,1.3^)^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo unitsize(6cm^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
<font></font>
echo animation a=animation(global=false^); //  (global=false^)   &gt;&gt;sphera+%%k.asy<font></font>
echo //C:\Program Files\Asymptote/plain_shipout.asy: 87.10: runtime: Cannot rename _sphera+2+0_.pdf to &gt;&gt;sphera+%%k.asy<font></font>
echo //_sphera+2+0.pdf &gt;&gt;sphera+%%k.asy<font></font>
echo for(int i=0; i ^&lt;= 0; ++i^) { &gt;&gt;sphera+%%k.asy<font></font>
echo real f(real x^) {return sqrt(1-x^^2^);} &gt;&gt; sphera+%%k.asy<font></font>
echo pair F(real x^) {return (x,f(x^)^);} &gt;&gt; sphera+%%k.asy<font></font>
echo triple F3(real x^) {return (x,f(x^),0^);} &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo path p=graph(F,-1+i,-1+i+%%k/%n%^); &gt;&gt; sphera+%%k.asy<font></font>
echo path3 p3=path3(p^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo revolution b=revolution(p3,X,0,360^); &gt;&gt; sphera+%%k.asy<font></font>
echo draw(surface(b^),green^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo real g(real x^) {return sqrt(1-x^^2^);} &gt;&gt; sphera+%%k.asy<font></font>
echo pair G(real x^) {return (x,f(x^)^);} &gt;&gt; sphera+%%k.asy<font></font>
echo triple G3(real x^) {return (x,g(x^),0^);} &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo path q=graph(G,1-i-%%k/%n%,1-i^); &gt;&gt; sphera+%%k.asy<font></font>
echo path3 q3=path3(q^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo revolution c=revolution(q3,X,0,360^); &gt;&gt; sphera+%%k.asy<font></font>
echo draw(surface(c^),red^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo axes3("$x$","$y$","$z$",Arrow3^); &gt;&gt; sphera+%%k.asy<font></font>
echo   a.add(^); &gt;&gt;sphera+%%k.asy<font></font>
echo  restore(^); &gt;&gt;sphera+%%k.asy<font></font>
echo } &gt;&gt;sphera+%%k.asy<font></font>
<font></font>
echo erase(^); &gt;&gt;sphera+%%k.asy<font></font>
<font></font>
echo label(a.pdf(^)^); &gt;&gt;sphera+%%k.asy<font></font>
<font></font>
)<font></font>
<font></font>
rem for /f %%l in (0,1,%n%) do asy '_sphera+%%l'.asy<font></font>
<font></font>
for /l %%l in (0,1,%n%) do (<font></font>
asy sphera+%%l.asy<font></font>
taskkill /F /IM AcroRd32.exe<font></font>
)<font></font>
<font></font>
for /l %%l in (0,1,%n%) do rename sphera+%%l+0.pdf _sphera+%%l.pdf<font></font>
<font></font>
asy sphera.asy<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラインに注意してください</font></font><br>
<br>
<pre><code class="plaintext hljs">echo for(int i=0; i ^&lt;= n; ++i) { &gt;&gt;sphera.asy
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シンボル</font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はコマンドラインインタープリターにとって特別な意味を持っているため、このインタープリターがこのシンボルをリテラル値として認識するために、シンボルの前にシンボルを置くことでこのシンボルをエスケープしました</font></font><code>^</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。同じ理由</font></font><code>^</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、バッチファイルサイクルの本体で</font><font style="vertical-align: inherit;">シンボル自体をシールドし、その</font><font style="vertical-align: inherit;">前に別の同様のシンボルを配置しました。さらに、バッチファイルサイクルのこの本文では、各括弧をエスケープしました。それ以外の場合、最初に表示されるシールドされていない括弧は、バッチ内の最後の括弧のペアである括弧によって解釈されます。</font></font><br>
<br>
<pre><code class="plaintext hljs">for /l %%k in (0,1,%n%) do (
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでは、特定の例を使用して私が発明した構造でバッチファイルが機能するとどうなるかを見てみましょう。</font><font style="vertical-align: inherit;">最初に（コードファイルを少し上に示したバッチファイルを実行する場合）、この記事で前述したsphera.asyファイルは、次のようにサイクルの空の本体を使用して複数回作成されます。</font></font><br>
<br>
<pre><code class="plaintext hljs">settings.twice=true; <font></font>
usepackage("animate"); <font></font>
settings.tex="pdflatex"; <font></font>
import izgraphiki; <font></font>
animation a; <font></font>
int n=44; <font></font>
for(int i=0; i &lt;= n; ++i) { <font></font>
a.add(); <font></font>
 restore(); <font></font>
} <font></font>
erase(); <font></font>
label(a.pdf(BBox(0.25cm),delay=250,"controls,loop,autoplay",multipage=false));<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、sphera + 0.asy、sphera + 1.asy、...、sphera + 44.asyファイルが生成されます。これらの各ファイルの処理は、その後Asymptoteによって副産物として2dフレームsphera + 0.pdf、sphera + 1になります。 .pdf、...、sphera + 44.pdf。</font><font style="vertical-align: inherit;">たとえば、sphera + 4.asyファイルの内容は次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">settings.twice=true; <font></font>
usepackage("animate"); <font></font>
import solids; <font></font>
 settings.tex="pdflatex"; <font></font>
import animation; <font></font>
settings.outformat="pdf"; <font></font>
settings.axes3=true;  <font></font>
import graph3; <font></font>
import palette; <font></font>
currentprojection=orthographic(1,1,1); <font></font>
limits((-1.3,-1.3,-1.3),(1.3,1.3,1.3)); <font></font>
unitsize(6cm); <font></font>
animation a=animation(global=false); //          (global                  <font></font>
//C:\Program Files\Asymptote/plain_shipout.asy: 87.10: runtime: Cannot rename _sphera+2+0_.pdf to <font></font>
//_sphera+2+0.pdf <font></font>
for(int i=0; i &lt;= 0; ++i) { <font></font>
real f(real x) {return sqrt(1-x^2);} <font></font>
pair F(real x) {return (x,f(x));} <font></font>
triple F3(real x) {return (x,f(x),0);} <font></font>
path p=graph(F,-1+i,-1+i+4/44); <font></font>
path3 p3=path3(p); <font></font>
revolution b=revolution(p3,X,0,360); <font></font>
draw(surface(b),green); <font></font>
real g(real x) {return sqrt(1-x^2);} <font></font>
pair G(real x) {return (x,f(x));} <font></font>
triple G3(real x) {return (x,g(x),0);} <font></font>
path q=graph(G,1-i-4/44,1-i); <font></font>
path3 q3=path3(q); <font></font>
revolution c=revolution(q3,X,0,360); <font></font>
draw(surface(c),red); <font></font>
axes3("$x$","$y$","$z$",Arrow3); <font></font>
  a.add(); <font></font>
 restore(); <font></font>
} <font></font>
erase(); <font></font>
label(a.pdf()); <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TeXworksでsphera + 4.asyファイルを開いてこのコードをコピーしました。エンコードはUTF-8に設定されてい</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/6f8/0fe/edb/6f80feedb143f6a0369c71dd298b0ff3.jpg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。バッチファイルはANSIエンコードです。どうやらそれが、2番目のバッチファイルサイクルの本文にあるコメントが、この.asyスタブファイル内の四角で置き換えられている理由です。ただし、これは、Asymptoteによる処理には影響しません。この処理の後、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">この2Dフレーム</font></a><font style="vertical-align: inherit;">はこのファイルから取得されます</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。具体的には、これらの2Dフレームの1つをダウンロードするためのリンクを提供します。ここにこのフレームの画像を挿入しないで、読者が私が使用している2Dフレームを直接確認できるようにします。他の.asyスタブファイルの本質は同じですが、ループの本体にある関数の引数の値が互いに異なるだけです。次に、2dフレームの名前がsphera + 0 + 0.pdf、sphera + 1 + 0.pdf、...、sphera + 44 + 0.pdfから_sphera + 0.pdf、_sphera + 1.pdf、...、 _sphera + 44.pdf、そして最後に、漸近線はsphera.asyサイクルの空の本体でファイルを処理します。結果は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのようなアニメーションです</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">.gif自体をここに挿入しようとしたときに、何らかの理由でアニメーションが完全に表示されなかったため、.gifへのリンクのみを指定しました。</font><font style="vertical-align: inherit;">おそらく.pdfではなく.gifを使用しました。これは、恐らく、この悪夢の読者は、ブラウザー、つまりここでは.pdfのアニメーションは表示されず、.gifのアニメーションが表示されることを知っているためです。</font><font style="vertical-align: inherit;">この.gifを取得しました。バッチファイルを実行して、次の内容でホイップアップしました。</font></font><br>
<br>
<pre><code class="plaintext hljs">cd /d %0\..<font></font>
echo off<font></font>
set n=44<font></font>
echo import graph; &gt;sphera.asy<font></font>
echo settings.twice=true; &gt;&gt;sphera.asy<font></font>
echo usepackage("animate"); &gt;&gt;sphera.asy<font></font>
echo settings.tex="pdflatex"; &gt;&gt;sphera.asy<font></font>
<font></font>
echo import izgraphikigif; &gt;&gt;sphera.asy<font></font>
<font></font>
echo animation a; &gt;&gt;sphera.asy<font></font>
echo yequals(Label("$y=-1$",1.0),-1,extend=true,linetype("4 4")); &gt;&gt;sphera.asy<font></font>
echo int n=%n%; &gt;&gt;sphera.asy<font></font>
echo for(int i=0; i ^&lt;= n; ++i) { &gt;&gt;sphera.asy<font></font>
echo a.add(); &gt;&gt;sphera.asy<font></font>
echo  restore(); &gt;&gt;sphera.asy<font></font>
echo } &gt;&gt;sphera.asy<font></font>
<font></font>
echo erase(); &gt;&gt;sphera.asy<font></font>
echo a.movie(); &gt;&gt;sphera.asy<font></font>
<font></font>
for /l %%k in (0,1,%n%) do (<font></font>
echo settings.twice=true; &gt; sphera+%%k.asy<font></font>
<font></font>
echo usepackage("animate"^); &gt;&gt; sphera+%%k.asy<font></font>
echo import solids; &gt;&gt; sphera+%%k.asy<font></font>
echo  settings.tex="pdflatex"; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo import animation; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo settings.outformat="pdf"; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo settings.axes3=true; &gt;&gt; sphera+%%k.asy <font></font>
echo import graph3; &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo import palette; &gt;&gt; sphera+%%k.asy<font></font>
echo currentprojection=orthographic(1,1,1^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo limits((-1.3,-1.3,-1.3^),(1.3,1.3,1.3^)^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo unitsize(6cm^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
<font></font>
echo animation a=animation(global=false^); //  (global=false^)   &gt;&gt;sphera+%%k.asy<font></font>
echo //C:\Program Files\Asymptote/plain_shipout.asy: 87.10: runtime: Cannot rename _sphera+2+0_.pdf to &gt;&gt;sphera+%%k.asy<font></font>
echo //_sphera+2+0.pdf &gt;&gt;sphera+%%k.asy<font></font>
echo for(int i=0; i ^&lt;= 0; ++i^) { &gt;&gt;sphera+%%k.asy<font></font>
echo real f(real x^) {return sqrt(1-x^^2^);} &gt;&gt; sphera+%%k.asy<font></font>
echo pair F(real x^) {return (x,f(x^)^);} &gt;&gt; sphera+%%k.asy<font></font>
echo triple F3(real x^) {return (x,f(x^),0^);} &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo path p=graph(F,-1+i,-1+i+%%k/%n%^); &gt;&gt; sphera+%%k.asy<font></font>
echo path3 p3=path3(p^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo revolution b=revolution(p3,X,0,360^); &gt;&gt; sphera+%%k.asy<font></font>
echo draw(surface(b^),green^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo real g(real x^) {return sqrt(1-x^^2^);} &gt;&gt; sphera+%%k.asy<font></font>
echo pair G(real x^) {return (x,f(x^)^);} &gt;&gt; sphera+%%k.asy<font></font>
echo triple G3(real x^) {return (x,g(x^),0^);} &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo path q=graph(G,1-i-%%k/%n%,1-i^); &gt;&gt; sphera+%%k.asy<font></font>
echo path3 q3=path3(q^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo revolution c=revolution(q3,X,0,360^); &gt;&gt; sphera+%%k.asy<font></font>
echo draw(surface(c^),red^); &gt;&gt; sphera+%%k.asy<font></font>
<font></font>
echo axes3("$x$","$y$","$z$",Arrow3^); &gt;&gt; sphera+%%k.asy<font></font>
echo   a.add(^); &gt;&gt;sphera+%%k.asy<font></font>
echo  restore(^); &gt;&gt;sphera+%%k.asy<font></font>
echo } &gt;&gt;sphera+%%k.asy<font></font>
<font></font>
echo erase(^); &gt;&gt;sphera+%%k.asy<font></font>
<font></font>
echo label(a.pdf(^)^); &gt;&gt;sphera+%%k.asy<font></font>
<font></font>
)<font></font>
<font></font>
for /l %%l in (0,1,%n%) do (<font></font>
asy sphera+%%l.asy<font></font>
taskkill /F /IM AcroRd32.exe<font></font>
)<font></font>
<font></font>
rem for /l %%l in (0,1,%n%) do rename sphera+%%l+0.pdf _sphera+%%l.pdf<font></font>
<font></font>
asy sphera.asy<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このバッチファイルの動作原理については詳しく説明しません。読者は、長く苦しんでいるwheel.asyファイルから.gifを取得するプロセスを観察すれば理解できます。</font><font style="vertical-align: inherit;">私は線の欠如に注意します</font></font><br>
<br>
<pre><code class="plaintext hljs">yequals(Label("$y=-1$",1.0),-1,extend=true,linetype("4 4"));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sphera.asyファイルで、何も起こらないという事実につながります。リンクするものはまったくないので、これを想像することもできませんでした。そのため、空のループボディを持つ別の同様の.asyファイルで愚かな削除/「キャンセルの取り消し」によってそれを理解しました。比較のために、Imagemagickによって2dフレームからコンパイルされたアニメーション.gifを見てみましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/196/03e/950/19603e950e36d48883c3acf0eb005b26.gif" alt="画像"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
くそー、これも同じことです。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォトホスティング</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">への</font><s><font style="vertical-align: inherit;">fotokostinge</font></s><font style="vertical-align: inherit;">へのリンク</font><font style="vertical-align: inherit;">です</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。そして？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドを実行して取得しました</font></font><code>magick *.eps sphere.gif</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張子が.epsの2dフレームがあるフォルダから起動されたコマンドライン。上記の最後のバッチファイルを使用した.gifアセンブリのフレームがまだあります。彼らが言うように、10の違いを見つけてください））。だから、何も忘れていないようです。私が約束したように、同じanimation.asyモジュールを変更することによって取得された、自分が変更したモジュールについて伝えるだけです。では、なぜ1つのモジュールについて話し、いくつかの（約2つの）モジュールについて話し合うのですか？この記事を書いている最中、たくさんのフレームからアニメーション.gifを作成する必要があったからです。私が使用したizgraphiki.asyモジュール（animation.asyモジュールの変更）が、多数のフレーム（おそらく（上記）3dグラフィック）は、多数のフレームを含むアニメーション.gif（おそらく（上記を参照）の3dグラフィック）を作成するのに完全に適していません。ただし、注意深い読者は、自分がすでに2つの「独自の」モジュールを使用していることに気付くでしょう。 .pdfを生成するための「my」モジュールで、animation.asyファイルの名前を変更してコピーを受け取ったので、この定義の本質を構成する4行すべてを定義でコメント化する必要がありました（私は定義でこれを実行したと思います）。 、これ自体はそのままにしますが、定義は空です。削除すると、その定義とともに、このオブジェクト自体がエラーを引き起こしました。このオブジェクトが不明であることが示されました。このオブジェクトをモジュールに保存しますが、この定義自体の行を削除（またはコメントアウト）することで、この問題は解決しました。以下は、animation.asyモジュールの行です。</font></font><br>
<br>
<pre><code class="plaintext hljs">string format=nativeformat();<font></font>
plain.shipout(name,f,format=format,view=false);<font></font>
files.push(name+"."+format);<font></font>
shipped=false;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これがizgraphiki.asyモジュールで同じ行がどのように見えるかです。</font></font><br>
<br>
<pre><code class="plaintext hljs">//string format=nativeformat();<font></font>
//plain.shipout(name,f,format=format,view=false);<font></font>
//files.push(name+"."+format);<font></font>
//shipped=false;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これがizgraphiki.asyモジュール自体です。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">izgraphiki.asyモジュール</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">/*****<font></font>
* animation.asy<font></font>
* Andy Hammerlindl and John Bowman 2005/11/06<font></font>
*<font></font>
* Produce GIF, inline PDF, or other animations.<font></font>
*****/<font></font>
<font></font>
// animation delay is in milliseconds<font></font>
real animationdelay=50;<font></font>
<font></font>
typedef frame enclosure(frame);<font></font>
<font></font>
frame NoBox(frame f) {<font></font>
return f;<font></font>
}<font></font>
<font></font>
enclosure BBox(real xmargin=0, real ymargin=xmargin,<font></font>
pen p=currentpen, filltype filltype=NoFill) {<font></font>
return new frame(frame f) {<font></font>
box(f,xmargin,ymargin,p,filltype,above=false);<font></font>
return f;<font></font>
};<font></font>
}<font></font>
<font></font>
struct animation {<font></font>
picture[] pictures;<font></font>
string[] files;<font></font>
int index;<font></font>
<font></font>
string prefix;<font></font>
bool global; // If true, use a global scaling for all frames; this requires<font></font>
// extra memory since the actual shipout is deferred until all frames have<font></font>
// been generated. <font></font>
<font></font>
void operator init(string prefix="", bool global=true) {<font></font>
prefix=replace(stripdirectory(outprefix(prefix))," ","_");<font></font>
this.prefix=prefix;<font></font>
this.global=global;<font></font>
}<font></font>
string basename(string prefix=stripextension(prefix)) {<font></font>
return "_"+prefix;<font></font>
}<font></font>
<font></font>
string name(string prefix, int index) {<font></font>
return stripextension(prefix)+"+"+string(index);<font></font>
}<font></font>
<font></font>
private string nextname() {<font></font>
string name=basename(name(prefix,index));<font></font>
++index;<font></font>
return name;<font></font>
}<font></font>
<font></font>
void shipout(string name=nextname(), frame f) {<font></font>
// string format=nativeformat();<font></font>
// plain.shipout(name,f,format="png",view=false); //generiruet!!!!<font></font>
//files.push(name+"."+format);<font></font>
// shipped=false;<font></font>
}<font></font>
void add(picture pic=currentpicture, enclosure enclosure=NoBox) {<font></font>
if(global) {<font></font>
++index;<font></font>
pictures.push(pic.copy());<font></font>
} else this.shipout(enclosure(pic.fit()));<font></font>
}<font></font>
void purge(bool keep=settings.keep) {<font></font>
if(!keep) {<font></font>
for(int i=0; i &lt; files.length; ++i)<font></font>
delete(files[i]);<font></font>
}<font></font>
}<font></font>
<font></font>
int merge(int loops=0, real delay=animationdelay, string format="gif",<font></font>
string options="", bool keep=settings.keep) {<font></font>
string args="-loop " +(string) loops+" -delay "+(string)(delay/10)+<font></font>
" -alpha Off -dispose Background "+options;<font></font>
for(int i=0; i &lt; files.length; ++i)<font></font>
args += " " +files[i];<font></font>
int rc=convert(args,prefix+"."+format,format=format);<font></font>
this.purge(keep);<font></font>
if(rc == 0) animate(file=prefix+"."+format,format=format);<font></font>
else abort("merge failed");<font></font>
return rc;<font></font>
}<font></font>
<font></font>
void glmovie(string prefix=prefix, projection P=currentprojection) {<font></font>
if(!view() || settings.render == 0) return;<font></font>
fit(prefix,pictures,view=true,P);<font></font>
}<font></font>
<font></font>
// Export all frames with the same scaling.<font></font>
void export(string prefix=prefix, enclosure enclosure=NoBox,<font></font>
bool multipage=false, bool view=false,<font></font>
projection P=currentprojection) {<font></font>
if(pictures.length == 0) return;<font></font>
if(!global) multipage=false;<font></font>
bool inlinetex=settings.inlinetex;<font></font>
if(multipage)<font></font>
settings.inlinetex=false;<font></font>
frame multi;<font></font>
frame[] fits=fit(prefix,pictures,view=false,P);<font></font>
for(int i=0; i &lt; fits.length; ++i) {<font></font>
string s=name(prefix,i);<font></font>
if(multipage) {<font></font>
add(multi,enclosure(fits[i]));<font></font>
newpage(multi);<font></font>
files.push(s+"."+nativeformat());<font></font>
} else {<font></font>
if(pictures[i].empty3() || settings.render &lt;= 0)<font></font>
this.shipout(s,enclosure(fits[i]));<font></font>
else // 3D frames<font></font>
files.push(s+"."+nativeformat());<font></font>
}<font></font>
}<font></font>
if(multipage) {<font></font>
plain.shipout(prefix,multi,view=view);<font></font>
settings.inlinetex=inlinetex;<font></font>
}<font></font>
shipped=true;<font></font>
}<font></font>
<font></font>
string load(int frames, real delay=animationdelay, string options="",<font></font>
bool multipage=false) {<font></font>
if(!global) multipage=false;<font></font>
string s="\animategraphics["+options+"]{"+format("%.18f",1000/delay,"C")+<font></font>
"}{"+basename();<font></font>
if(!multipage) s += "+";<font></font>
s += "}{0}{"+string(frames-1)+"}";<font></font>
return s;<font></font>
}<font></font>
<font></font>
bool pdflatex() <font></font>
{<font></font>
return latex() &amp;&amp; pdf();<font></font>
}<font></font>
<font></font>
string pdf(enclosure enclosure=NoBox, real delay=animationdelay,<font></font>
string options="", bool keep=settings.keep, bool multipage=true) {<font></font>
if(settings.inlinetex) multipage=true;<font></font>
if(!global) multipage=false;<font></font>
if(!pdflatex())<font></font>
abort("inline pdf animations require -tex pdflatex or -tex xelatex");<font></font>
if(settings.outformat != "") settings.outformat="pdf";<font></font>
string filename=basename();<font></font>
string pdfname=filename+".pdf";<font></font>
<font></font>
if(global)<font></font>
export(filename,enclosure,multipage=multipage);<font></font>
shipped=false;<font></font>
<font></font>
if(!keep) {<font></font>
exitfcn currentexitfunction=atexit();<font></font>
void exitfunction() {<font></font>
if(currentexitfunction != null) currentexitfunction();<font></font>
if(multipage || !settings.inlinetex)<font></font>
this.purge();<font></font>
if(multipage &amp;&amp; !settings.inlinetex)<font></font>
delete(pdfname);<font></font>
}<font></font>
atexit(exitfunction);<font></font>
}<font></font>
<font></font>
if(!multipage)<font></font>
delete(pdfname);<font></font>
<font></font>
return load(index,delay,options,multipage);<font></font>
}<font></font>
<font></font>
int movie(enclosure enclosure=NoBox, int loops=0, real delay=animationdelay,<font></font>
string format=settings.outformat == "" ? "gif" : settings.outformat,<font></font>
string options="", bool keep=settings.keep) {<font></font>
if(global) {<font></font>
if(format == "pdf") {<font></font>
export(enclosure,multipage=true,view=true);<font></font>
return 0;<font></font>
}<font></font>
export(enclosure);<font></font>
}<font></font>
return merge(loops,delay,format,options,keep);<font></font>
}<font></font>
}<font></font>
<font></font>
animation operator init() {<font></font>
animation a=animation();<font></font>
return a;<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はその線に注意します</font></font><br>
<br>
<pre><code class="plaintext hljs">plain.shipout(name,f,format="png",view=false); //generiruet!!!!
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このモジュールは、animation.asyモジュールのプリイメージ行とは異なりますが、これは私の調査の痕跡であり、変更していません。何も干渉せず、これらの行のコメントを解除すると効果があります。</font><font style="vertical-align: inherit;">しかし、izgraphiki.asyモジュールでコメントアウトした行からアニメーション.gifを取得するには、animation.asyファイルの1行だけをコメント化して、izgraphikigif.asyにコピーして名前を変更する必要がありました。</font></font><pre><code class="plaintext hljs">plain.shipout(name,f,format= format,view=false);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、つまり、izgraphikigif.asyモジュールのこの行は次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">//plain.shipout(name,f,format= format,view=false);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、この行を完全に削除することもできます。</font><font style="vertical-align: inherit;">したがって、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
animation.asyモジュール</font><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">izgraphikigif.asyモジュールは、通常は1行だけ異なりますが、それでも違いがあります。</font><font style="vertical-align: inherit;">次に、izgraphikigif.asyモジュールを使用してアニメーション.pdfを作成する試みは失敗したため、これらの2つのモジュールを1つに減らすことはできません。</font><font style="vertical-align: inherit;">多分、どういうわけか、私にはわからないが、私はそれを当たり前のこととは思わないだろうが、私は結局のところ、今日は漸近語をあまりよく知らない。</font><font style="vertical-align: inherit;">上記の構造のバッチファイルと同様に、他のアニメーションを作成するためのバッチファイルの使用が機能したという事実にもかかわらず、私は成功しなかったことに注意します-そのようなバッチファイルを実行してアニメーションエピサイクロイドを取得しようとしたとき：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失敗したエピサイクロイド</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">cd /d %0\..<font></font>
echo off<font></font>
set n=2<font></font>
set name=kriv<font></font>
echo settings.twice=true; &gt;%name%.asy<font></font>
echo settings.prc=false; &gt;&gt; %name%.asy<font></font>
echo // Uncomment the following 2 lines to support pdf animations: &gt;&gt;%name%.asy<font></font>
echo usepackage("animate"^); &gt;&gt;%name%.asy<font></font>
echo settings.tex="pdflatex"; &gt;&gt;%name%.asy<font></font>
<font></font>
echo import sinoid; &gt;&gt;%name%.asy<font></font>
<font></font>
echo animation a; &gt;&gt;%name%.asy<font></font>
<font></font>
echo int n=%n%; &gt;&gt;%name%.asy<font></font>
echo for(int i=0; i ^&lt;= n; ++i^) { &gt;&gt;%name%.asy<font></font>
<font></font>
echo   a.add(^); // Add currentpicture to animation. &gt;&gt;%name%.asy<font></font>
echo  restore(^); &gt;&gt;%name%.asy<font></font>
echo } &gt;&gt;%name%.asy<font></font>
<font></font>
echo erase(^); &gt;&gt;%name%.asy<font></font>
<font></font>
echo label(a.pdf(BBox(0.25cm^),delay=250,"controls",multipage=false^)^); &gt;&gt;%name%.asy<font></font>
<font></font>
for /l %%k in (0,1,%n%) do (<font></font>
echo import graph; &gt; %name%+%%k.asy<font></font>
<font></font>
echo settings.twice=true; &gt;&gt; %name%+%%k.asy<font></font>
echo usepackage("animate"^); &gt;&gt; %name%+%%k.asy<font></font>
echo settings.tex="pdflatex"; &gt;&gt; %name%+%%k.asy<font></font>
echo import animation; &gt;&gt; %name%+%%k.asy<font></font>
echo limits((-6.3,-6.3^),(6.3,6.3^)^); &gt;&gt; %name%+%%k.asy<font></font>
echo size(0,100^); &gt;&gt; %name%+%%k.asy<font></font>
<font></font>
echo animation a=animation(global=false^);&gt;&gt;%name%+%%k.asy<font></font>
echo for(int i=0; i ^&lt;= 0; ++i^) { &gt;&gt;%name%+%%k.asy<font></font>
echo real r=0.925; &gt;&gt; %name%+%%k.asy<font></font>
echo real R=3.61; &gt;&gt; %name%+%%k.asy<font></font>
echo real d=1.39; &gt;&gt; %name%+%%k.asy<font></font>
echo real x(real t^) {return (R+r^)*cos(t^)-d*cos((R+r^)*t/r^);} &gt;&gt; %name%+%%k.asy<font></font>
echo real y(real t^) {return (R+r^)*sin(t^)-d*sin((R+r^)*t/r^);} &gt;&gt; %name%+%%k.asy<font></font>
echo draw(graph(x,y,0,2*pi*%%k/%n%^),green^); &gt;&gt; %name%+%%k.asy<font></font>
echo axes("$x$","$y$",Arrow^); &gt;&gt; %name%+%%k.asy<font></font>
<font></font>
echo   a.add(^); // Add currentpicture to animation. &gt;&gt;%name%+%%k.asy<font></font>
echo  restore(^); &gt;&gt;%name%+%%k.asy<font></font>
echo } &gt;&gt;%name%+%%k.asy<font></font>
echo erase(^); &gt;&gt;%name%+%%k.asy<font></font>
echo // Merge the images into a pdf animation. &gt;&gt;%name%+%%k.asy<font></font>
echo label(a.pdf(^)^); &gt;&gt;%name%+%%k.asy<font></font>
)<font></font>
<font></font>
rem for /f %%l in (0,1,%n%) do asy '%name%+%%l'.asy<font></font>
<font></font>
rem asy *.asy<font></font>
for /l %%l in (0,1,%n%) do (<font></font>
asy %name%+%%l.asy<font></font>
taskkill /IM AcroRd32.exe<font></font>
)<font></font>
<font></font>
for /l %%l in (0,1,%n%) do rename %name%+%%l.pdf _%name%+%%l.pdf<font></font>
<font></font>
asy %name%.asy<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。私はあなたを殺しますが、それがうまくいかない理由がわかりません。空のループを持つkriv.asyファイルが形成され、2d frames.pdfが形成され、それぞれにグラフィックスがあり、すべて正常です。Asymptoteは問題なくkriv.asyファイルを処理します。ゼロ以外のサイズのkriv.pdfファイルが表示されたら、それを開きます。通常、そのようなコンテンツの.asyファイルから取得した.pdfの場合：アニメーションコントロールボタン、アニメーションフレームがちらつくはずのボタンの上にある白い長方形。必須ではありませんが、必須ではありません。白い四角形または再生ボタンをクリックします。このボタンは[一時停止]ボタンに置​​き換えられます。すべて正常ですが、フレームはなく、それが1つの白い四角形です。理由-百万分の1の質問。ちなみに、私を困惑させるもう1つのことがわかります。私は、明白な名前epicykloidaの代わりにkrivという名前を使用しました。この名前を使用しようとしても何も起こらず、機能しませんでした。別のアニメーションを作成するときはAstroidaという名前を使用してください。両方のケースで、1つのケースではkrivaja、もう1つのケースではkrivの変数名のみの値のバッチファイルでの変更により、通常はアニメーションが表示された.pdfがすぐに表示されました。しかし、この問題の原因がAsymptoteであることは明らかです。たとえば、Astroida.asyサイクルのボディが空のファイルを処理しようとすると、同じ問題が発生します。この記事の趣旨に沿って、任意の大きさ（ここでも妥当な制限内）のフレーム数から.mpgファイルを生成することについては、まだ扱っていませんが、克服できない問題はないと思います。はい、私が覚えている限り、これはここで説明されているバッチファイルには適用されませんが、一般にAsymptoteのアニメーションを指します：.asyファイル、アニメーション化された.pdfの取得元は、アニメーション化された.gifの取得元である.asyファイルとは異なり、最後の1行です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アニメーション.pdfを生成する.asyファイルの最も単純な最後の行は次のとおりです。</font></font><br>
<br>
<pre><code class="plaintext hljs">label(a.pdf());
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
.asyファイルの最も単純な最後の行は、アニメーション化された.gifの元となるもので、次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">a.movie();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、実行可能な.mpgが生成される.asyファイルの最も単純な最終行は、アニメーション.gifが生成される.asyファイルの最も単純な最終行と同じです。</font><font style="vertical-align: inherit;">同時に、.asyファイルを処理すると、実行可能な.mpgが既に表示されます。このファイルには、検索した行があまり長く入力されていません。</font></font><br>
<br>
<pre><code class="plaintext hljs">settings.twice=true;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、それだけです。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja468107/index.html">transfermarktよりも正確にモデルを作成し、予測しない方法、または何よりも転送のコストに影響を与える方法</a></li>
<li><a href="../ja468109/index.html">彼らはサマラはハビストの街だと言いますが、私たちはそこでPHP mitapを運転しています</a></li>
<li><a href="../ja468111/index.html">PSD2-銀行のためのキック</a></li>
<li><a href="../ja468117/index.html">イーサネット、FTP、Telnet、HTTP、Bluetooth-トラフィック分析の基本。r0ot-miを使用してネットワーク上の問題を解決します。パート1</a></li>
<li><a href="../ja468121/index.html">Как я не стал программистом в 35 лет</a></li>
<li><a href="../ja468127/index.html">Laravel 6.0コンポーネント上のEvolution CMS 2.0-MODX Evolutionの自然な進化</a></li>
<li><a href="../ja468135/index.html">トップ10 JPoint 2019レポート</a></li>
<li><a href="../ja468139/index.html">Aftershokz Xtrainerz骨伝導サウンド付きスイミングヘッドフォン-クール</a></li>
<li><a href="../ja468141/index.html">タスク：ロシア語のテキストから主要な表現を抽出する。Python NLP</a></li>
<li><a href="../ja468143/index.html">466テラビット：世界のインターネットトラフィックは増加し続けていますが、衛星は海底ケーブルと競合できますか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>