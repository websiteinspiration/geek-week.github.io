<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍💼 ☁️ 👨🏼‍⚖️ Test de charge Atlassian Jira, Confluence, Bitbucket Partie 1 🚐 🌓 👨🏿‍🤝‍👨🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous! 
 
 Je veux partager mon expérience avec Atlassian Jira, Confluence et Bitbucket stress testing en utilisant la boîte à outils Atlassi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Test de charge Atlassian Jira, Confluence, Bitbucket Partie 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499792/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour à tous! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux partager mon expérience avec Atlassian Jira, Confluence et Bitbucket stress testing en utilisant la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">boîte à outils</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atlassian </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">dc-app-performance-toolkit</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sera une série d'articles dans lesquels je ne parlerai pas de la méthodologie du test de charge, mais je ne parlerai que des aspects techniques du test de charge à l'aide de l'outil.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez en savoir plus sur la méthodologie de test de charge dans le contexte des produits Atlassian, j'en ai parlé à </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Highload 2018</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons donc à la boîte à outils dc-app-performance-toolkit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet outil vous permet de charger des applications Atlassian de test telles que Jira, Confluence et Bitbucket. J'ai découvert cet outil lorsque j'ai eu besoin de tester le plug-in Atlassian Jira pour la certification sur le Data Center, et j'ai tout de suite aimé cet outil car je n'ai pas eu à passer des heures à le configurer. Tout a fonctionné hors de la boîte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'outil utilise </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taurus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jmeter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selenium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez utiliser cet outil aux fins suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous développez des plugins pour Atlassian Marketplace. Dans ce cas, vous pouvez utiliser cet outil pour certifier votre plug-in pour Data Center.</font></font></li>
<li>  Atlassian Jira, Confluence  Bitbucket           , ,      ,         .         .   ,          .      -   .     ,        Atlassian,          Atlassian,  ,  ,     .   ,         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les étapes que vous devez effectuer pour tester Atlassian Jira, Confluence et Bitbucket sont les mêmes dans la plupart des cas, je vais donc faire tout le travail sur Atlassian Jira. </font><font style="vertical-align: inherit;">S'il y a des étapes spécifiques pour le produit, je le mentionnerai.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première chose à faire est d'obtenir un outil avec github:</font></font><br>
<br>
<pre><code class="plaintext hljs">git clone https://github.com/atlassian/dc-app-performance-toolkit.git</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et allez dans le dossier créé:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd dc-app-performance-toolkit</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, vous devez installer toutes les dépendances pour utiliser l'outil. </font><font style="vertical-align: inherit;">Vous pouvez lire comment procéder dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / README.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichiers de configuration</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant d'utiliser l'outil, veuillez lire la documentation de cet outil dans le dossier </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / doc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici une brève description du contenu de ce dossier:</font></font><br>
<br>
<ul>
<li>   3 md  (  Jira,   Confluence    Bitbucket).       ,             Data Center.</li>
<li> : jira, confluence  bitbucket    ,        .</li>
</ul><br>
<br>
<h2>jira.yml</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de commencer le test de charge, vous devez apporter des modifications au </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier jira.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confluence.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;ou&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bitbucket.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui se trouvent dans le dossier&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / app</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , selon le produit que vous allez tester. </font><font style="vertical-align: inherit;">Ce sont des fichiers de configuration Taurus. </font><font style="vertical-align: inherit;">Vous pouvez lire sur le Taureau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ferai des commentaires sur jira.yml. </font><font style="vertical-align: inherit;">Les fichiers pour d'autres produits sont construits sur le même principe.</font></font><br>
<br>
<pre><code class="kotlin hljs">settings:</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
paramètres est une section du fichier de configuration du Taurus. </font><font style="vertical-align: inherit;">Il contient des options de niveau supérieur pour Taurus. </font><font style="vertical-align: inherit;">Vous pouvez trouver plus d'informations sur cette section&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  artifacts-dir: results/jira/%Y-%m-%d_%H-%M-%S</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
artefacts-dir - modèle de chemin qui sera utilisé pour stocker les artefacts de test de charge. </font><font style="vertical-align: inherit;">Voici une liste partielle des artefacts:</font></font><br>
<br>
<ul>
<li><code>bzt.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- le journal de la commande bzt. </font><font style="vertical-align: inherit;">Cette commande démarre le test de charge.</font></font></li>
<li><code>error_artifacts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- un dossier pour stocker les captures d'écran et les tests html de Selenium, qui s'est terminé par des erreurs.</font></font></li>
<li><code>jmeter.err</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Journal JMeter.</font></font></li>
<li><code>kpi.jtl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Données de test JMeter.</font></font></li>
<li><code>pytest.out</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Journal d'exécution des tests Selenum.</font></font></li>
<li><code>selenium.jtl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Données d'essais au sélénium.</font></font></li>
<li><code>results.csv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- résultats de tests agrégés.</font></font></li>
<li><code>jira.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- jira.yml, qui a été utilisé pour les tests.</font></font></li>
</ul><br>
<br>
<pre><code class="kotlin hljs">  aggregator: consolidator</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
agrégateur - l'agrégateur qui sera utilisé pour collecter les résultats des tests et transférer les résultats vers le module de rapport. </font><font style="vertical-align: inherit;">Vous pouvez en savoir plus sur les agrégateurs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  verbose: <span class="hljs-literal">false</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
verbose - paramètre pour lancer Taurus en mode débogage. </font><font style="vertical-align: inherit;">Dans notre cas, nous désactivons ce mode.</font></font><br>
<br>
<pre><code class="kotlin hljs">  env:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
env vous permet de définir des variables d'environnement. </font><font style="vertical-align: inherit;">Vous pouvez en lire plus&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">    application_hostname: localhost   # Jira DC hostname without protocol and port e.g. test-jira.atlassian.com or localhost<font></font>
    application_protocol: http      # http or https<font></font>
    application_port: <span class="hljs-number">2990</span>            # <span class="hljs-number">80</span>, <span class="hljs-number">443</span>, <span class="hljs-number">8080</span>, <span class="hljs-number">2990</span>, etc<font></font>
    application_postfix: /jira           # e.g. /jira <span class="hljs-keyword">in</span> case of url like http:<span class="hljs-comment">//localhost:2990/jira</span><font></font>
    admin_login: admin<font></font>
    admin_password: admin<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les paramètres ci-dessus contiennent des informations sur votre instance que vous allez tester. </font><font style="vertical-align: inherit;">J'ai spécifié les paramètres de l'instance Jira, qui se trouve sur mon ordinateur. </font><font style="vertical-align: inherit;">Ces paramètres seront utilisés dans JMeter, Selenium et les scripts.</font></font><br>
<br>
<pre><code class="kotlin hljs">    concurrency: <span class="hljs-number">200</span>
    test_duration: <span class="hljs-number">45</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces paramètres seront transmis à la section d'exécution. </font><font style="vertical-align: inherit;">J'expliquerai la signification de ces paramètres lorsqu'ils parleront de cette section.</font></font><br>
<br>
<pre><code class="kotlin hljs">  WEBDRIVER_VISIBLE: <span class="hljs-literal">false</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WEBDRIVER_VISIBLE définit la visibilité du navigateur Chrome lors de l'exécution des tests Selenium. </font><font style="vertical-align: inherit;">Nous cachons Chrome.</font></font><br>
<br>
<pre><code class="kotlin hljs"> JMETER_VERSION: <span class="hljs-number">5.2</span><span class="hljs-number">.1</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JMETER_VERSION est la version de JMeter que nous utiliserons pour les tests.</font></font><br>
<br>
<pre><code class="kotlin hljs">    allow_analytics: Yes            # ,        Atlassian.    Atlassian ,   ,   ,       .
</code></pre><br>
<pre><code class="kotlin hljs">services:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
services - section du fichier de configuration Taurus. </font><font style="vertical-align: inherit;">Les informations sur les scripts que vous devez exécuter avant de commencer, après et pendant le test sont indiquées ici. </font><font style="vertical-align: inherit;">Vous pouvez en savoir plus sur cette section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  - module: shellexec
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'exécuteur shell est utilisé pour exécuter des scripts. </font></font><br>
<br>
<pre><code class="kotlin hljs">    prepare:<font></font>
      - python util/environment_checker.py<font></font>
      - python util/data_preparation/jira/prepare-<span class="hljs-keyword">data</span>.py<font></font>
    shutdown:<font></font>
      - python util/jmeter_post_check.py<font></font>
      - python util/jtl_convertor/jtls-to-csv.py kpi.jtl selenium.jtl<font></font>
    post-process:<font></font>
      - python util/analytics.py jira<font></font>
      - python util/cleanup_results_dir.py<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La préparation, l'arrêt et le post-processus sont les étapes du cycle de vie du Taurus. </font><font style="vertical-align: inherit;">Vous pouvez en savoir plus sur le cycle de vie du Taureau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">À chaque étape, des scripts sont exécutés. </font><font style="vertical-align: inherit;">Ces scripts sont:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util / environment_checker.py - vérifie la version de Python et arrête le test si la version n'est pas la même.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util / data_preparation / jira / prepare-data.py - prépare les données de test. </font><font style="vertical-align: inherit;">Nous parlerons de ce script en détail dans la partie suivante.</font></font></li>
<li>util/jmeter_post_check.py – ,    kpi.jtl.     ,  -       JMeter.</li>
<li>util/jtl_convertor/jtls-to-csv.py kpi.jtl selenium.jtl –   results.csv    kpi.jtl  selenium.jtl.  results.csv   .         :    , , 90% ,         .</li>
<li>util/analytics.py jira –    Atlassian.      Atlassian    allow_analytics.</li>
<li>util/cleanup_results_dir.py –   ,      .</li>
</ul><br>
<br>
<pre><code class="kotlin hljs">execution:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
exécution - section du fichier de configuration Taurus. Contient des scripts qui seront exécutés pendant les tests. Vous pouvez trouver plus d'informations </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  - scenario: jmeter<font></font>
    concurrency: ${concurrency}<font></font>
    hold-<span class="hljs-keyword">for</span>: ${test_duration}<font></font>
    ramp-up: <span class="hljs-number">3</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sont les options d'exécution de script pour JMeter. Vous pouvez trouver plus d'informations&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la concurrence est le nombre d'utilisateurs virtuels. Ce paramètre signifie combien d'utilisateurs simultanés JMeter simulera. Dans notre cas, nous simulons 200 utilisateurs travaillant simultanément. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ramp-up - teste le temps d'overclocking. Nous irons progressivement à 200 utilisateurs simultanément actifs. Dans notre cas, nous atteindrons 200 utilisateurs travaillant simultanément en 3 minutes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hold-for - durée du test après avoir atteint un nombre donné d'utilisateurs simultanés dans le paramètre de concurrence.</font></font><br>
<br>
<pre><code class="kotlin hljs">  - scenario: selenium<font></font>
    executor: selenium<font></font>
    runner: pytest<font></font>
    hold-<span class="hljs-keyword">for</span>: ${test_duration}
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Options d'exécution des tests de sélénium. </font><font style="vertical-align: inherit;">Vous pouvez trouver plus d'informations&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
exécuteur testamentaire - Sélénium. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
coureur - les tests seront effectués à l'aide de pytest. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
conservation - durée du test.</font></font><br>
<br>
<pre><code class="kotlin hljs">scenarios:
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
scénarios - section du fichier de configuration Taurus. </font><font style="vertical-align: inherit;">Voici la configuration de chaque script de la section d'exécution.</font></font><br>
<br>
<pre><code class="kotlin hljs">  selenium:<font></font>
    script: selenium_ui/jira_ui.py<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
script - le chemin vers les tests Selenium.</font></font><br>
<br>
<pre><code class="kotlin hljs">  jmeter:<font></font>
# provides path to the jmeter project file<font></font>
    script: jmeter/jira.jmx<font></font>
    properties:<font></font>
      application_hostname: ${application_hostname}<font></font>
      application_protocol: ${application_protocol}<font></font>
      application_port: ${application_port}<font></font>
      application_postfix: ${application_postfix}<font></font>
      # Workload model<font></font>
# the number of actions <span class="hljs-keyword">for</span> an hour. <font></font>
      total_actions_per_hr: <span class="hljs-number">54500</span>
# actions and the % of execution within one hour. The sum of all parameters must equal to <span class="hljs-number">100</span>%<font></font>
      perc_create_issue: <span class="hljs-number">4</span>
      perc_search_jql: <span class="hljs-number">13</span>
      perc_view_issue: <span class="hljs-number">43</span>
      perc_view_project_summary: <span class="hljs-number">4</span>
      perc_view_dashboard: <span class="hljs-number">12</span>
      perc_edit_issue: <span class="hljs-number">4</span>
      perc_add_comment: <span class="hljs-number">2</span>
      perc_browse_projects: <span class="hljs-number">4</span>
      perc_view_scrum_board: <span class="hljs-number">3</span>
      perc_view_kanban_board: <span class="hljs-number">3</span>
      perc_view_backlog: <span class="hljs-number">6</span>
      perc_browse_boards: <span class="hljs-number">2</span>
      perc_standalone_extension: <span class="hljs-number">0</span> # By <span class="hljs-keyword">default</span> disabled
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
script - le chemin d'accès au projet JMeter, qui sera exécuté pendant les tests. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
total_actions_per_hr le nombre d'actions qui seront effectuées en une heure. </font><font style="vertical-align: inherit;">Une action consiste à effectuer un test. </font><font style="vertical-align: inherit;">Les tests qui seront exécutés peuvent être compris à partir des paramètres perc_. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
paramètres perc_ - pourcentage d'achèvement de chaque test. </font><font style="vertical-align: inherit;">La somme de tous les paramètres perc_ doit être égale à 100%.</font></font><br>
<br>
<pre><code class="kotlin hljs">modules:<font></font>
  consolidator:<font></font>
    rtimes-len: <span class="hljs-number">0</span> # CONFSRVDEV-<span class="hljs-number">7631</span> reduce sampling<font></font>
    percentiles: [] # CONFSRVDEV-<span class="hljs-number">7631</span> disable all percentiles due to Taurus<span class="hljs-string">'s excessive memory usage

</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
modules - section du fichier de configuration Taurus. </font><font style="vertical-align: inherit;">Cette section contient une description de tous les modules qui seront utilisés pendant les tests.</font></font><br>
<br>
<pre><code class="kotlin hljs">  jmeter:<font></font>
    version: ${JMETER_VERSION}<font></font>
    detect-plugins: <span class="hljs-literal">true</span>
    memory-xmx: <span class="hljs-number">8</span>G  # allow JMeter to use up to <span class="hljs-number">8</span>G of memory<font></font>
    plugins:<font></font>
      - bzm-parallel=<span class="hljs-number">0.4</span>
      - bzm-random-csv=<span class="hljs-number">0.6</span>
      - jpgc-casutg=<span class="hljs-number">2.5</span>
      - jpgc-dummy=<span class="hljs-number">0.2</span>
      - jpgc-ffw=<span class="hljs-number">2.0</span>
      - jpgc-fifo=<span class="hljs-number">0.2</span>
      - jpgc-functions=<span class="hljs-number">2.1</span>
      - jpgc-json=<span class="hljs-number">2.6</span>
      - jpgc-perfmon=<span class="hljs-number">2.1</span>
      - jpgc-prmctl=<span class="hljs-number">0.4</span>
      - jpgc-tst=<span class="hljs-number">2.4</span>
      - jpgc-wsc=<span class="hljs-number">0.3</span>
      - tilln-sshmon=<span class="hljs-number">1.0</span>
      - jpgc-cmd=<span class="hljs-number">2.2</span>
      - jpgc-synthesis=<span class="hljs-number">2.2</span><font></font>
    system-properties:<font></font>
      server.rmi.ssl.disable: <span class="hljs-literal">true</span><font></font>
      java.rmi.server.hostname: localhost<font></font>
      httpsampler.ignore_failed_embedded_resources: <span class="hljs-string">"true"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jmeter - paramètres du module JMeter. </font><font style="vertical-align: inherit;">Vous pouvez lire sur le module Jmeter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
detect-plugins - JMeter Plugins Manager vous permet d'installer automatiquement des plugins pour JMeter. </font><font style="vertical-align: inherit;">Nous avons défini ce paramètre sur yes, afin que Taurus indique à Jmeter d'installer automatiquement tous les plugins nécessaires. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
plugins - une liste des plugins JMeter qui ont été utilisés lors de l'écriture des tests. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
system-properties - paramètres supplémentaires pour JMeter.</font></font><br>
<br>
<pre><code class="kotlin hljs">  selenium:<font></font>
# version of the chrome driver<font></font>
    chromedriver:<font></font>
      version: <span class="hljs-string">"80.0.3987.106"</span> # Supports Chrome version <span class="hljs-number">80</span>. You can refer to http:<span class="hljs-comment">//chromedriver.chromium.org/downloads</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sélénium - paramètres pour le sélénium. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
chromedriver est la version du pilote Chrome que nous utiliserons pour les tests.</font></font><br>
<br>
<pre><code class="kotlin hljs">reporting:<font></font>
- <span class="hljs-keyword">data</span>-source: sample-labels<font></font>
  module: junit-xml<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
reporting - section du fichier de configuration Taurus. </font><font style="vertical-align: inherit;">Vous définissez ici les paramètres des modules d'analyse et de rapport. </font><font style="vertical-align: inherit;">Nous utilisons le module de reporting JUnit xml. </font><font style="vertical-align: inherit;">Vous pouvez trouver plus d'informations sur ce module </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résumons. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons 6 sections dans le fichier jira.xml: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
paramètres - paramètres et paramètres de niveau supérieur. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devez modifier les paramètres suivants dans cette section:</font></font><br>
<br>
<pre><code class="kotlin hljs">application_hostname: localhost   # Jira DC hostname without protocol and port e.g. test-jira.atlassian.com or localhost<font></font>
    application_protocol: http      # http or https<font></font>
    application_port: <span class="hljs-number">2990</span>            # <span class="hljs-number">80</span>, <span class="hljs-number">443</span>, <span class="hljs-number">8080</span>, <span class="hljs-number">2990</span>, etc<font></font>
    application_postfix: /jira           # e.g. /jira <span class="hljs-keyword">in</span> case of url like http:<span class="hljs-comment">//localhost:2990/jira</span><font></font>
    admin_login: admin<font></font>
    admin_password: admin<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devrez peut-être également modifier les paramètres suivants:</font></font><br>
<br>
<pre><code class="kotlin hljs">concurrency: <span class="hljs-number">5</span>
test_duration: <span class="hljs-number">5</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai changé ces paramètres en petites valeurs pour que les tests fonctionnent rapidement. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez modifié test_duration et concurrency, assurez-vous de vérifier le paramètre d'accélération dans la section d'exécution. Vous devrez peut-être également le modifier. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
services - scripts qui seront exécutés aux étapes du cycle de vie du test Taurus. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
exécution - paramètres d'exécution des scripts de test. Tout d'abord, exécutez JMeter, puis Selenium. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
scénarios - paramètres de script de test. Vous aimerez peut-être changer le nombre d'opérations par heure et le pourcentage de tests. Je vais vous expliquer comment ajouter ou supprimer des tests dans l'une des parties suivantes.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
modules - modules utilisés pour les tests. </font><font style="vertical-align: inherit;">Nous utilisons le consolidateur, JMeter et Selenium. </font><font style="vertical-align: inherit;">Taurus nous fournit la disponibilité de ces modules pendant les tests. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
reporting - paramètres du module de reporting. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien. </font><font style="vertical-align: inherit;">Nous avons modifié le fichier de configuration et sommes prêts à exécuter les tests.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exécuter le test</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, activez l'environnement virtuel Python (vous pouvez trouver des informations à ce sujet dans le fichier </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">README.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), accédez au dossier de l'application et exécutez le test:</font></font><br>
<br>
<pre><code class="kotlin hljs">bzt jira.yml
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans mon cas, le test a échoué avec une erreur:</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-number">17</span>:<span class="hljs-number">03</span>:<span class="hljs-number">26</span> WARNING: Errors <span class="hljs-keyword">for</span> python util/data_preparation/jira/prepare-<span class="hljs-keyword">data</span>.py:<font></font>
There are no software projects <span class="hljs-keyword">in</span> Jira
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout est correct. </font><font style="vertical-align: inherit;">Ma copie de Jira est vide. </font><font style="vertical-align: inherit;">Il est nécessaire de le remplir avec des données pour les tests. </font><font style="vertical-align: inherit;">Je vais vous dire comment le faire, dans la partie 2.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr499774/index.html">Pas un jour sans sport - 2: reprogrammer un bracelet chinois</a></li>
<li><a href="../fr499776/index.html">Caractéristiques de l'implémentation du langage MSH</a></li>
<li><a href="../fr499784/index.html">Qu'est-ce qui touche les murs virtuels?</a></li>
<li><a href="../fr499786/index.html">Tri des tas faibles</a></li>
<li><a href="../fr499788/index.html">Cours en ligne gratuit "Documentation technique dans les projets informatiques"</a></li>
<li><a href="../fr499794/index.html">PostgreSQL et JDBC pressent tous les jus. Vladimir Sitnikov</a></li>
<li><a href="../fr499796/index.html">Comment les tribunaux aux États-Unis sont maintenus grâce au zoom et pourquoi cela est considéré comme un problème</a></li>
<li><a href="../fr499798/index.html">Deux tapas à l'argent: comment nous avons développé un bot de chat financier avec émission instantanée de cartes en Azerbaïdjan</a></li>
<li><a href="../fr499802/index.html">Gamedev, cyberpunk et philosophie éternelle: 3 mini-séries de week-end</a></li>
<li><a href="../fr499804/index.html">Comment travailler efficacement avec des problèmes sur des problèmes sur GitHub</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>