<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧛🏻 👆🏾 😀 Angular：NGRXの使用例 🆔 ✋🏻 👩🏾‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事は、「Angular：NGRXの紹介」という記事の続きです。
 
 NGRXの例
 この例では、ユーザーのリスト、ユーザーの詳細ページ、およびアプリケーションを起動したときに取得する必要のある初期構成情報がいくつかあります。重要なNGRXスレッドを実装します。
 
 行動計画：
 
 

1...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Angular：NGRXの使用例</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489758/"><img src="https://habrastorage.org/webt/rz/7h/ee/rz7heen5ey-lo47udm7sn4owfzg.png" alt="画像"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事は、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">「Angular：NGRXの紹介」</font></a><font style="vertical-align: inherit;">という記事の続きです</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NGRXの例</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例では、ユーザーのリスト、ユーザーの詳細ページ、およびアプリケーションを起動したときに取得する必要のある初期構成情報がいくつかあります。</font><font style="vertical-align: inherit;">重要なNGRXスレッドを実装します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
行動計画：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリのインストール</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存用のフォルダー構造の作成 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストレージと初期値の作成</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションの作成</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ギアボックス（レデューサー）の作成</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エフェクトを作成する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セレクターの作成</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終セットアップ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントでのストレージの使用</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
じゃあやってみよう...</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリのインストール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angle Cliを使用してプロジェクトを作成し、ngrxライブラリを追加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトを作成します。</font></font><br>
<br>
<pre><code class="bash hljs">ng new angular-ngrx --style=scss</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要なNGRXライブラリーを追加します。</font></font><br>
<br>
<pre><code class="bash hljs">npm install @ngrx/core @ngrx/store @ngrx/effects @ngrx/store-devtools @ngrx/router-store --save</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどすべてのngrxエコシステムライブラリをインストールします。</font><font style="vertical-align: inherit;">それらのほとんどは、コア、ストレージ、エフェクトの目的を非常に明確に説明していますが、なぜそれらが必要なのか疑問に思うカップルがいくつかありますか？</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">store-devtools-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">強力なデバッグツール。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> store-角度付きルーターの状態をストレージに保存します。</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存用フォルダ構造</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、リポジトリのファイル構造について説明します。</font><font style="vertical-align: inherit;">このファイル構造とストレージ構成全体は、アプリケーションのメインモジュールに存在する必要がありますが、この例では存在しないため、ストレージはアプリケーションのメインモジュールに存在します（メインモジュールでこれを行う場合の手順はほとんど同じです）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j2/pu/w_/j2puw_y4zbz0o1n1yemhvo9_ie0.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォルダ構造は、実際のストレージ構成を表しています。</font><font style="vertical-align: inherit;">「store」という名前のメインフォルダーと、ストア内の主要なプレーヤーを表す5つのサブフォルダー「Actions」、「Effects」、「Redurs」、「Selectors」、および「State」があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストレージと初期値の作成</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前に述べたように、アプリケーション、ユーザー、構成という2つのメインセクションがあります。</font><font style="vertical-align: inherit;">どちらの場合も、状態と初期状態を作成する必要があり、アプリケーションの状態についても同様に作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザー定義と構成用に2つのインターフェースを作成しました。</font><font style="vertical-align: inherit;">また、ユーザーのHTTP応答用のものもあります。これは単なるIUser配列です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/by/u-/01byu-tmzaa4tzpxzbr6ezfax5y.jpeg" alt="画像"><br>
<br>
<img src="https://habrastorage.org/webt/hp/m7/l1/hpm7l1osf9nrlyjesvju9c33mxm.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーの状態（store / state / user.state.ts）から始めましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/i9/pl/l-/i9pll-liw2wtmhlnuas8b1n0dzy.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは何をしていますか。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー環境構造を持つインターフェースを作成してエクスポートします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しく作成されたインターフェースを実装する初期ユーザー状態についても同様です。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構成状態についても、同じことを行います（ストア/状態/ config.state.ts）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/88/tb/xm/88tbxmezhb0cau7fbbrzv6kevi8.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、アプリケーション状態を生成する必要があります（ストア/状態/ app.state.ts）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/in/mt/-t/inmt-tcdv5300xnatjpq9bix9os.jpeg" alt="画像"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの状態には、ユーザーの状態と構成、およびルーターの状態が含まれます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、アプリケーションの初期状態を設定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後に、関数をエクスポートして初期状態を取得します（後で使用します）。</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションの作成</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前の記事で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明したアクションの定義を必ずお読み</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーと設定のアクションを作成する必要があります。</font><font style="vertical-align: inherit;">ユーザーアクション（store / actions / user.actions.ts）から始め</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bj/34/rb/bj34rbgqv70s0mbqidrxbadtchk.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ましょう。コードを少し見て</font><font style="vertical-align: inherit;">いき</font><font style="vertical-align: inherit;">ましょう。</font></font><br>
<br>
<ol>
<li>  Enum,     .  ,          , ,     .</li>
<li>          .      Action  ngrx. ,        ,        ,      .</li>
<li>,   ,    .     ,    , ,   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、それだけです...アクションの作成は簡単です。</font><font style="vertical-align: inherit;">構成アクションがどのように見えるか見てみましょう（store / actions / config.actions.ts）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/ay/ew/lcayewp9ls8yumaflh3wybi2tuc.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは何も新しいことはありません。おそらく、このファイルで発生するすべてのことに慣れていると思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すばらしい、私たちはすでにステータスとアクションを決定しました...ギアを作成しましょう！</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ギアボックスの作成</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前の記事で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明したギアボックスの定義を必ずお読み</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一部のアクションに応答するギアボックスがあります。これは、後で実装する予定のエフェクトによって処理されるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザー用のレデューサーと設定用のレデューサーが必要ですが、アプリケーションレデューサーも生成する必要があります。まず、ユーザーレデューサー（store / redurs / user.reducers.ts）から見て</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ju/4j/7y/ju4j7ytjci0hkzq9zeceffolc-s.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
みましょう。実装について説明しましょう。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レデューサー宣言は、状態（この場合はユーザーアクション）を受け取り、IUserStateを返します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">switchステートメントを使用して、可能なアクションのタイプごとに観測を生成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それぞれのケースは、古い状態と新しい値のマージの結果である新しいオブジェクトを返します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのギアボックスにはデフォルトの結果があり、変更せずに単に状態を返します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、それはすべてです。</font><font style="vertical-align: inherit;">ギアボックスには他に何もありません。</font><font style="vertical-align: inherit;">構成レデューサー（state / redurs / config.reducers.ts）を</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/ky/3m/ouky3m_fpspiahaj5j4sgf5owvk.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
見てみましょう</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">最後に、アプリケーションレデューサー（ストア）を見てみましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/66/hg/ej66hgbbt97ljvpbqs728feti9g.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、すべてのレデューサーをアプリケーションのレデューサーマップに追加します。</font><font style="vertical-align: inherit;">追加の型チェックにはアクションリデューサーマップを使用します。</font><font style="vertical-align: inherit;">後で、このアプリケーションにストアモジュールのリデューサーを提供します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果を追加</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前回の記事で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明した「エフェクト」の定義を必ずお読み</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ギアボックスでは、すべてのアクションを処理するわけではないことにすでに気づいているでしょう。</font><font style="vertical-align: inherit;">これは、これらのアクションには副作用があるため、エフェクトで見逃したアクションを処理するためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カスタムエフェクト（ストア/エフェクト/ user.effects.ts）から始めましょう：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2n/bk/2c/2nbk2cyc2d_rlrasu6cdi0qjyps.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このファイルで発生することの多く。</font><font style="vertical-align: inherit;">それらを説明してみましょう：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インジェクトデコレーターを使用してカスタムエフェクトを宣言します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ngrx / Effectsによって提供されるエフェクトデコレータを使用して、エフェクトを宣言します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ngrx / Effectsによって提供されるアクションを使用して、このエフェクトのためにオペレーターのパイプラインを開始します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の手順では、ofType演算子を使用してエフェクトアクションのタイプを設定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の部分は、必要なものを取得するために使用するrxjsオペレーターです（この記事には、rxjsのドキュメントへのリンクがすでにあります）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後に、最後のステートメントで、Effectは別のアクションを送信します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンストラクターでは、使用するサービス、ngrx / Effectsのアクション、およびこの場合はリポジトリーも実装します（これはデモであり、リポジトリー内のユーザーのリストから選択したユーザーを取得します）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、効果がある場合とほぼ同じ構造です。</font><font style="vertical-align: inherit;">この場合、送信できるのは成功したアクションのみですが、アプリケーションレデューサーで処理するエラーやその他の状態を送信できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構成効果を検討してください（ストア/エフェクト/ config.effects.ts）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/vy/xo/rgvyxoxw13yif9tlsok083hyfhu.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今度はセレクターについて説明します...</font></font><br>
<br>
<h3> </h3><br>
<blockquote>   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状態のスライスをどこでも繰り返すことは意味がないので、再利用できるセレクターをいくつか作成しましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつものように、まずユーザーセレクター（store / selectors / user.selectors.ts）を見てみましょう。セレクターで</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h9/ki/nj/h9kinj8iveawvqfcy2ax6cbi_wu.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データ変換を行わず、関数を使用してセレクターによって参照されるストアのスライスを返すだけなので、これは本当に理解できます。 ngrx /ストアからのcreateSelector。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のパラメーターは、データの受信に使用されるストレージのフラグメントです（状態のいくつかの部分を持つ配列にすることができます）。2番目のパラメーターは、セレクターが返すものを決定する無名関数です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構成セレクター（store / selectors / config.selectors.ts）を見てみましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rf/x3/sy/rfx3syjbo0zah5fkr3d5lyxm-6o.png" alt="画像"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終セットアップ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、私たちはストレージに必要なすべてを作成しましたが、それでも1つだけ不足しています-すべてを組み合わせるということです。</font><font style="vertical-align: inherit;">これはアプリケーションモジュールで行いますが、アプリケーションのメインモジュールでも同じように適用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションモジュールを追加しましょう：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/bv/op/afbvopehkmcitmm2xps9ch8mwdy.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで何をしましたか：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ギアボックスをインポートして、forRootストレージモジュールに提供します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エフェクトをインポートし、forRootエフェクトモジュールの配列内に提供します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stateKeyルーターを提供するルーターの状態モジュールの構成をセットアップします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、環境が本番環境でない場合は、ストア開発ツールを追加します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の2つのステップは必須ですが、ステップ3と4を強くお勧めしますが、必須ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これでようやく...ストレージをコンポーネントで使用できるようになりました！</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一部のコンポーネントでのストレージの使用</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もうすぐ終わりです！</font><font style="vertical-align: inherit;">ストレージの使用方法を見てみましょう... </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず、アプリケーションの起動時に構成を取得します。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/-w/kx/sq/-wkxsqjesnv939hqsrqu4w9aqoq.png" alt="画像"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app.componentにストレージを追加しています。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この情報の一部をHTMLで表示するため、コンポーネントプロパティを設定のセレクターの値に設定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onInitで、構成を取得するアクションを送信します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それだけです...このアクションを制御するエフェクトと、このエフェクトを処理するレデューサーをすでにコーディングしています。</font><font style="vertical-align: inherit;">ストアが新しい状態に入るとすぐに、セレクターはプロパティの値を変更します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これをHTMLに関連付ける方法：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wx/us/db/wxusdb0f2gbleczgbej7qiquuvk.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
config $に値があるとすぐに、HTMLに表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ユーザーのリスト（containers / users / users.component.ts）を見てみましょう：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-s/xe/oi/-sxeoitbesiozalk-fx2apletno.png" alt="画像"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成を管理するのと同じように、ユーザーのリストを取得します。</font><font style="vertical-align: inherit;">まず、リポジトリをユーザーコンポーネントに挿入します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onInitでは、ユーザーを獲得するためのアクションを投稿します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントのプロパティを作成し、ユーザーリストセレクターを使用してユーザーのリストを割り当てます。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTMLは次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/2p/a2/rg2pa2kcp1kzmwzdcm3u1cjg89y.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プレゼンテーションコンポーネントにユーザーのリストを表示し、リストを送信して、選択したユーザーを上記のユーザーコンテナーコンポーネントに表示されるナビゲーション機能に関連付けます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カスタムコンテナーコンポーネントを見てみましょう。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/af/do/ge/afdogebu_sm4girkz_pheed6768.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このコンポーネントは、アクティブ化されたルートからパラメーター識別子を受け取ります。おそらく残りの部分に慣れ、識別子をパラメーターとして送信し、選択したユーザーを選択します... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションをデバッグしている場合は、非常に簡単な開発者ツールを確認できます...を使用しますが、この記事では十分に調査しました。これらのツールを簡単に理解できると思います。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、このツールを使用して開発を開始するために必要なすべての情報を提供することで、NGRXを明確かつ理解できるように紹介しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事がアクションテンプレートの理解に役立ち、ダウンロードしてコードを少し操作することをお勧めします。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja489744/index.html">中置表記を後置に変換する</a></li>
<li><a href="../ja489746/index.html">ほとんどの場合、Androidでのシリアル化は必要ありません</a></li>
<li><a href="../ja489750/index.html">Swarmpitを使用したDocker Swarmクラスターの管理</a></li>
<li><a href="../ja489754/index.html">20個のプロジェクト管理システム、100個のチップの概要</a></li>
<li><a href="../ja489756/index.html">SVGで鉛筆効果を作成する</a></li>
<li><a href="../ja489760/index.html">意識と存在。パラドックスのない量子力学</a></li>
<li><a href="../ja489762/index.html">World of Tanksの解析とデータ分析の簡単な例</a></li>
<li><a href="../ja489764/index.html">「デスティネーションには偽装がたくさんあります...」またはCANNY 3タイニーとフォトレジスターを使用して電球の制御を自動化します</a></li>
<li><a href="../ja489768/index.html">πが衝突ブロックと量子探索アルゴリズムを組み合わせる方法</a></li>
<li><a href="../ja489770/index.html">MinskJS mitapからのビデオ：ブラウザー拡張機能に関する私のレポート</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>