<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💪🏿 💟 👩🏼‍🤝‍👨🏻 Todo lo que necesitas saber sobre el almacenamiento en caché 🌥️ 👨🏻‍🎤 😕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buen día. 
 
 Le presento la traducción del artículo "Todo lo que necesita saber sobre el almacenamiento en caché - Diseño del sistema" por Animesh Ga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Todo lo que necesitas saber sobre el almacenamiento en caché</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504786/"><img src="https://habrastorage.org/webt/yb/dy/sz/ybdyszmr39n1ymqep4omiofuhfy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buen día. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le presento la traducción del artículo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Todo lo que necesita saber sobre el almacenamiento en caché - Diseño del sistema"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por Animesh Gaitonde.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introducción</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Ha notado que cuando navega por una página web con una mala conexión a Internet, el texto se carga frente a imágenes de alta calidad? Sin embargo, cuando vuelve a visitar la misma página, se carga mucho más rápido. Cuando visita un sitio nuevo, lleva mucho más tiempo descargarlo que descargar sitios visitados con frecuencia, como Facebook o Amazon. ¿Sabes por qué está pasando esto? Se trata de almacenamiento en caché.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bc/uo/xx/bcuoxxd5lqtpswaic_oncu82tlc.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Así es como se ve mi página de Instagram con una conexión lenta. Como puede ver, el texto se muestra mientras las imágenes aún no se han cargado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es muy importante proporcionar la mejor experiencia al usar la aplicación para retener e involucrar a los usuarios. En un mundo moderno donde reina el espíritu de competencia, las empresas sufren mucho debido a la mala experiencia del usuario. Imagine que está viendo su serie favorita o la transmisión de video en un sitio web, pero el video se detiene constantemente para una carga adicional (almacenamiento en búfer). ¿Cuánto tiempo soportarás tal "actitud" y volverás a ese sitio?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El almacenamiento en caché funciona según el principio de "localización de enlaces". </font><font style="vertical-align: inherit;">El caché es un almacén de datos local para acelerar la recuperación de información y la recuperación de datos. </font><font style="vertical-align: inherit;">El objetivo principal de la memoria caché es reducir el retraso en la lectura de datos y aumentar el rendimiento de la aplicación. </font><font style="vertical-align: inherit;">Veamos algunos ejemplos de la vida real.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uso de caché</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supongamos que cocinas la cena todos los días. </font><font style="vertical-align: inherit;">Para cocinar, necesita varios ingredientes, verduras, especias, etc. </font><font style="vertical-align: inherit;">Sin embargo, ¿vas a la tienda todos los días por esto? </font><font style="vertical-align: inherit;">Esto puede ser bastante pesado y lento. </font><font style="vertical-align: inherit;">Por supuesto, lo primero que miras en el armario de la cocina o el refrigerador. </font><font style="vertical-align: inherit;">Esto ayuda a evitar un viaje innecesario al supermercado. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mg/y6/i6/mgy6i6dasy2xuqop18mtldzoqpq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Su refrigerador es un tipo de caché para vegetales. </font><font style="vertical-align: inherit;">La ventaja obvia de este caché es un ahorro significativo en el tiempo de preparación de la cena.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cómo funciona el caché?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las aplicaciones de servidor generalmente almacenan datos en una base de datos. Cuando un cliente solicita datos, la aplicación envía una solicitud a la base de datos, recibe datos de allí y los envía al cliente. El servidor de la base de datos está fuera de línea y se puede ubicar en una computadora diferente a la computadora en la que se encuentra el servidor de aplicaciones. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5f/qg/e4/5fqge4lmt8q5yigsx4kj5gmqksw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La lectura de datos de la base de datos es un proceso muy lento, ya que debe enviar una solicitud y realizar E / S para obtener datos del sistema de archivos. Si los datos se almacenan en la memoria caché, la operación de lectura será muy rápida. Cuando un cliente solicita repetidamente los mismos datos, tiene sentido devolver datos del caché en lugar de la base de datos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo: si un tweet es viral, todos los clientes solicitarán datos para el mismo tweet. </font><font style="vertical-align: inherit;">Debido a que Twitter tiene millones de usuarios, el uso de una memoria caché evita millones de consultas en la base de datos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, el caché reduce la carga en la base de datos. </font><font style="vertical-align: inherit;">Si los datos solicitados están en la caché, la solicitud de la base de datos será redirigida (interceptada). </font><font style="vertical-align: inherit;">Puede dibujar alguna analogía con una tabla hash que almacena pares clave-valor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente diagrama muestra el proceso de lectura de datos del caché:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/u4/4x/6a/u44x6annynx7u794dgoq-0a6s-g.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conceptos clave de caché</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Time to Live (TTL)</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estos son límites en la cantidad de datos que se pueden almacenar en la memoria caché. </font><font style="vertical-align: inherit;">Debe eliminar las entradas en el caché que el servidor de aplicaciones ya no necesita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el caso de Netflix, el servidor almacenará en caché los programas más vistos o populares. </font><font style="vertical-align: inherit;">No es necesario almacenar en caché los programas que nadie está mirando. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo: el almacenamiento en caché de la serie Paper House es más racional que la película de Indiana Jones.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eliminar política</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En algún momento, el caché está lleno. </font><font style="vertical-align: inherit;">Por lo tanto, surge la necesidad de eliminar datos antiguos (irrelevantes) y reemplazarlos con información nueva (relevante). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existen varias políticas para borrar el caché, como "antiguo (menos utilizado recientemente)" (menos utilizado recientemente, LRU), "raramente solicitado (menos utilizado)" (menos utilizado frecuentemente, LFU), "último (más recientemente utilizado)" ( Más recientemente utilizado, MRU). </font><font style="vertical-align: inherit;">Estas políticas eliminan datos del caché de acuerdo con un principio específico.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antiguo</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los datos que no se han solicitado durante mucho tiempo se eliminan de la memoria caché. </font><font style="vertical-align: inherit;">Tan pronto como el caché está lleno, se eliminan los datos antiguos y se agregan datos nuevos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supongamos que Facebook almacena en caché fotos de celebridades. </font><font style="vertical-align: inherit;">El análisis de las solicitudes de los suscriptores indica la relevancia de las nuevas fotos. </font><font style="vertical-align: inherit;">Cuando el caché está lleno, se eliminará la foto más antigua.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raramente solicitado</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El LFU rastrea la frecuencia o el número de solicitudes de datos. </font><font style="vertical-align: inherit;">Cuando el tamaño de la memoria caché se acerca al valor umbral, los datos solicitados con menos frecuencia se eliminarán. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando ingresamos el texto, el teléfono comienza a ofrecer varias opciones para terminar la palabra, una de las cuales se puede seleccionar en lugar del conjunto completo (autocompletar). </font><font style="vertical-align: inherit;">El software del teléfono inteligente almacena en caché las palabras que se escriben con más frecuencia. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/vi/r8/rlvir8pfmzflt3mri6oauh81nmu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las palabras raramente escritas se eliminan posteriormente de este caché. </font><font style="vertical-align: inherit;">En el ejemplo anterior, si usa las palabras "característica", "características", "pluma", etc., después de un tiempo el teléfono dejará de ofrecerle "hazaña", ya que se eliminará de la caché.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Último</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esta política, los datos más recientes están sujetos a eliminación, se da preferencia a los datos más antiguos almacenados en la memoria caché. </font><font style="vertical-align: inherit;">Esta estrategia se utiliza si la plantilla de adquisición de datos es tal que el usuario está menos interesado en recuperar los últimos datos. </font><font style="vertical-align: inherit;">Considera un ejemplo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_y/r7/dw/_yr7dwecmhrodbvoellhw14qvau.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las aplicaciones de citas como Tinder generalmente almacenan en caché a todos los socios potenciales (posibles coincidencias o preferencias) del usuario. </font><font style="vertical-align: inherit;">Cuando un usuario hojea un feed moviendo un perfil específico de un socio potencial hacia la izquierda o hacia la derecha, la aplicación ya no debería recomendarle este perfil. </font><font style="vertical-align: inherit;">Si esto sucede, dará lugar a una mala experiencia del usuario. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este caso, es necesario eliminar los últimos datos. </font><font style="vertical-align: inherit;">La aplicación debe eliminar los perfiles vistos de la memoria caché.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipos de caché</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grabación de caché</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como su nombre lo indica, los datos se escriben primero en el caché, luego en la base de datos. </font><font style="vertical-align: inherit;">Esto asegura la consistencia de los datos en el caché y la base de datos. </font><font style="vertical-align: inherit;">Cada lectura de datos de la memoria caché corresponde al registro más reciente. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ji/ih/ix/jiihixkutm0lpxxdrff0l3q4tby.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La desventaja de este enfoque es el aumento en el tiempo de grabación. </font><font style="vertical-align: inherit;">No es adecuado para sistemas muy cargados con operaciones frecuentes de escritura de datos. </font><font style="vertical-align: inherit;">Sin embargo, es ideal para aplicaciones que a menudo vuelven a leer los datos almacenados en la base de datos. </font><font style="vertical-align: inherit;">La escritura lenta se compensa con la lectura rápida y la coherencia.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entrada de caché</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una alternativa al primer enfoque es escribir datos en la memoria caché y agregar una nota sobre los cambios de datos para su posterior actualización en la base de datos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/co/td/_l/cotd_ldfasg4f4xhgyzl4of1ncw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mediante operaciones asíncronas periódicas, puede leer datos actualizados en la memoria caché y realizar cambios en los datos correspondientes en la base de datos. Este enfoque no aumenta las operaciones de lectura / escritura. El único inconveniente aquí es el retraso en la sincronización entre el caché y la base de datos. Esto puede llevar al hecho de que las aplicaciones que dependen de la base de datos como fuente de verdad leerán datos obsoletos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Youtube, por ejemplo, utiliza este enfoque para almacenar información sobre la cantidad de vistas de un video en particular. Actualizar la base de datos para cada vista del video viral será muy costoso. La mejor solución es escribir datos en el caché y luego sincronizarlos con la base de datos.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registro de omisión de caché</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Varias aplicaciones de servidor no suelen releer los últimos datos. </font><font style="vertical-align: inherit;">En este caso, se utiliza una entrada de omisión de caché. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7w/d0/6p/7wd06ph2okntw0mjrqpwyet_ptw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este enfoque, la base de datos se actualiza sin un caché. </font><font style="vertical-align: inherit;">Esto evita cargar datos no reclamados en la memoria caché. </font><font style="vertical-align: inherit;">Sin embargo, si la aplicación aún solicita los últimos datos que no están en la memoria caché, esto llevará a la carga de dichos datos desde la base de datos con todas las consecuencias resultantes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejemplos de uso de caché distribuido</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lista de proyectos de caché abierta:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memcached</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voltdb</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aerospike dbs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache se enciende</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias por su atención.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es504772/index.html">Eventos digitales en Moscú del 1 al 7 de junio</a></li>
<li><a href="../es504774/index.html">Encuesta a ejecutivos de TI sobre las necesidades cambiantes de servicios de TI</a></li>
<li><a href="../es504776/index.html">Escribir un motor de juego en tu primer año: ¡fácil! (Casi)</a></li>
<li><a href="../es504780/index.html">NSA, Ghidra y Unicornios</a></li>
<li><a href="../es504784/index.html">El certificado raíz AddTrust de Sectigo expiró el 30 de mayo de 2020, lo que causó problemas en los clientes OpenSSL 1.0.xy GnuTLS</a></li>
<li><a href="../es504790/index.html">Una selección de artículos sobre aprendizaje automático: casos, guías y estudios para mayo de 2020</a></li>
<li><a href="../es504792/index.html">Pensión de servicio. Cómo NSPK salvó su sala de servicio de un coronavirus</a></li>
<li><a href="../es504796/index.html">Udalenka es genial. Tal vez quedarse para siempre?</a></li>
<li><a href="../es504798/index.html">Quejas de vigilancia de inteligencia artificial</a></li>
<li><a href="../es504800/index.html">dracut + systemd + LUKS + usbflash = desbloqueo automático</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>