<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚ÄçüöÄ ü§¥üèΩ ü¶Ü Redux vs MobX sem confus√£o üö∂üèΩ üìå üçà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nos √∫ltimos anos, tenho usado frequentemente o Redux , mas recentemente tenho usado o MobX como uma alternativa ao gerenciamento de estado. As alterna...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Redux vs MobX sem confus√£o</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489854/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/7e/na/dt7enamgfkxspaajcdst26auxj8.jpeg" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos √∫ltimos anos, tenho usado frequentemente o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas recentemente tenho usado o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MobX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como uma alternativa ao gerenciamento de estado. As alternativas Redux parecem se transformar naturalmente em uma confus√£o. As pessoas n√£o t√™m certeza de qual solu√ß√£o escolher. O problema n√£o √© necessariamente Redux vs MobX. Sempre que existe uma alternativa, as pessoas ficam curiosas sobre a melhor forma de resolver seu problema. Estou escrevendo estas linhas para eliminar a confus√£o em torno das solu√ß√µes de gerenciamento de estado Redux e MobX.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sobre o que ser√° este artigo? </font><font style="vertical-align: inherit;">Primeiro, quero voltar brevemente ao problema que a biblioteca de gerenciamento de estado resolve. </font><font style="vertical-align: inherit;">No final, tudo ficar√° bem se voc√™ apenas usar this.setState () e this.state no React ou sua varia√ß√£o em outra biblioteca no n√≠vel da apresenta√ß√£o ou em um ambiente SPA. </font><font style="vertical-align: inherit;">Em segundo lugar, continuarei a fornecer uma vis√£o geral das duas solu√ß√µes, mostrando consist√™ncia e diferen√ßas. </font><font style="vertical-align: inherit;">Por √∫ltimo, mas n√£o menos importante, se voc√™ j√° possui um aplicativo que funcione com o MobX ou o Redux, quero falar sobre a refatora√ß√£o de uma biblioteca de estado para outra.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conte√∫do:</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que problema resolvemos?</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual √© a diferen√ßa entre REDUX e MOBX?</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curva de aprendizado do estado de rea√ß√£o</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pensamentos recentes sobre o tema</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais recursos</font></font></a></li>
</ol><br>
<a name="WhatProblem"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que problema resolvemos?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo mundo quer ter gerenciamento de estado no aplicativo. </font><font style="vertical-align: inherit;">Mas que problema isso resolve para n√≥s? </font><font style="vertical-align: inherit;">A maioria das pessoas come√ßa com um aplicativo pequeno e j√° implementa uma biblioteca de gerenciamento de estado. </font><font style="vertical-align: inherit;">Todo mundo est√° falando sobre isso, certo? </font><font style="vertical-align: inherit;">Restaurado! </font><font style="vertical-align: inherit;">MobX! </font><font style="vertical-align: inherit;">Mas a maioria dos aplicativos n√£o precisa de gerenciamento de estado ambicioso desde o in√≠cio. </font><font style="vertical-align: inherit;">Isso √© ainda mais perigoso, porque a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maioria das pessoas nunca ser√° confrontada com problemas como bibliotecas como Redux ou MobX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atualmente, o status quo est√° construindo um aplicativo front-end com componentes. </font><font style="vertical-align: inherit;">Os componentes t√™m um estado interno. </font><font style="vertical-align: inherit;">Em um aplicativo crescente, o gerenciamento de estado pode se tornar ca√≥tico com um estado local, porque:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um componente deve compartilhar o estado com outro componente</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um componente deve modificar o estado de outro componente</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em algum momento, fica cada vez mais dif√≠cil falar sobre o estado do aplicativo. Isso se torna uma rede suja de objetos de estado e muta√ß√µes de estado na hierarquia de componentes. Na maioria dos casos, objetos de estado e muta√ß√µes de estado n√£o est√£o necessariamente associados a um componente. Eles est√£o vinculados √† sua √°rvore de componentes e voc√™ deve aumentar e diminuir o estado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A solu√ß√£o, portanto, √© apresentar uma biblioteca de gerenciamento de estado, como MobX ou Redux. Ele fornece ferramentas para salvar seu estado, alterar estado e receber atualiza√ß√µes de estado. Voc√™ tem um local para pesquisar, um local para alterar e um local para receber atualiza√ß√µes de status. Ele segue o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">princ√≠pio de uma √∫nica fonte de verdade.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Isso facilita o racioc√≠nio sobre altera√ß√µes no seu estado e condi√ß√µes, porque elas se separam dos seus componentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bibliotecas de gerenciamento de estado como Redux e MobX geralmente t√™m complementos para utilit√°rios, por exemplo, para Angular eles t√™m angular-redux e mobx-angular para dar acesso aos componentes aos seus estados. </font><font style="vertical-align: inherit;">Geralmente, esses componentes s√£o chamados de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">componentes em cont√™ineres</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou, para ser mais preciso, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">componentes relacionados</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">De qualquer lugar da hierarquia de componentes, voc√™ pode acessar o estado e alter√°-lo, atualizando seu componente para um relacionado.</font></font><br>
<br>
<a name="whats-the-difference-between-redux-and-mobx"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual √© a diferen√ßa entre REDUX e MOBX?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de mergulharmos na diferen√ßa, quero falar sobre as semelhan√ßas entre o MobX e o Redux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ambas as bibliotecas s√£o usadas para controlar o estado em aplicativos JavaScript. Eles n√£o est√£o necessariamente associados a uma biblioteca como Angular. Eles tamb√©m s√£o usados ‚Äã‚Äãem outras bibliotecas, como ReactJs e VueJs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ escolher uma das solu√ß√µes de gerenciamento de estado, n√£o encontrar√° um bloqueio de fornecedor. Voc√™ pode mudar para outra solu√ß√£o de gerenciamento de estado a qualquer momento. Voc√™ pode atualizar do MobX para o Redux ou do Redux para o MobX. Mais tarde vou mostrar como isso acontece. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redux projetado por </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan Abramov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrew Clark</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um derivado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">da arquitetura Flux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ao contr√°rio do Flux, ele usa um reposit√≥rio em v√°rios para manter o estado. Al√©m disso, em vez de um expedidor, ele usa fun√ß√µes puras para alterar o estado. Se voc√™ n√£o est√° familiarizado com o fluxo e √© novo no gerenciamento de estado, n√£o se preocupe com o √∫ltimo par√°grafo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redux √© influenciado pelos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">princ√≠pios de programa√ß√£o funcional</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (FP). O FP pode ser feito em JavaScript, mas muitas pessoas t√™m um background orientado a objetos, como Java, e t√™m dificuldade em aceitar os princ√≠pios da programa√ß√£o funcional em primeiro lugar. Isso depois explica por que o MobX pode ser mais f√°cil de aprender como iniciante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o Redux inclui programa√ß√£o funcional, ele usa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fun√ß√µes puras</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma fun√ß√£o pura √© uma fun√ß√£o que recebe entrada, retorna sa√≠da e n√£o possui outras depend√™ncias al√©m das mesmas fun√ß√µes. </font><font style="vertical-align: inherit;">Essa fun√ß√£o sempre produz a mesma sa√≠da com a mesma entrada e n√£o tem efeitos colaterais. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais detalhes</font></font></a></blockquote><br>
<pre><code class="javascript hljs">(state, action) =&gt; newState</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seu estado Redux </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© inalterado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Em vez de mudar, voc√™ sempre retorna um novo estado. </font><font style="vertical-align: inherit;">Voc√™ n√£o executa muta√ß√µes de estado e n√£o depende de refer√™ncias a objetos.</font></font><br>
<br>
<pre><code class="javascript hljs">
<span class="hljs-comment">//     Redux,     </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">state, action</span>) </span>{
  <span class="hljs-keyword">return</span> state.authors.push(action.author);<font></font>
}<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">state, action</span>) </span>{
  <span class="hljs-keyword">return</span> [ ...state.authors, action.author ];<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E por √∫ltimo, mas n√£o menos importante, no Redux idiom√°tico, seu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estado √© normalizado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , como em um banco de dados. As entidades se </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">referem uma √† outra apenas por ID</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Essa √© a melhor pr√°tica. Embora nem todos o fa√ßam, voc√™ pode usar uma biblioteca como o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normalizr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para atingir um estado normalizado. O estado normalizado permite manter um estado e entidades </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simples</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como uma </font><b><font style="vertical-align: inherit;">√∫nica fonte de verdade</font></b><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="json hljs">{<font></font>
  post: {<font></font>
    id: 'a',<font></font>
    authorId: 'b',<font></font>
    ...<font></font>
  },<font></font>
  author: {<font></font>
    id: 'b',<font></font>
    postIds: ['a', ...],<font></font>
    ...<font></font>
  }<font></font>
}</code></pre><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em compara√ß√£o, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o MobX de Michel Weststratt √©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> influenciado n√£o apenas pela programa√ß√£o orientada a objetos, mas tamb√©m pela programa√ß√£o reativa. </font><font style="vertical-align: inherit;">Envolve seu estado em objetos observ√°veis. </font><font style="vertical-align: inherit;">Assim, voc√™ tem todos os recursos do " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " em seu estado. </font><font style="vertical-align: inherit;">Os dados podem ter setters e getters simples, mas observ√°veis ‚Äã‚Äãpermitem que voc√™ receba atualiza√ß√µes ap√≥s altera√ß√µes nos dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Mobx, seu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">status √© vol√°til</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dessa forma, voc√™ altera o estado diretamente:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">author</span>) </span>{
  <span class="hljs-keyword">this</span>.authors.push(author);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, as organiza√ß√µes permanecem em uma estrutura de dados aninhada (profundamente) uma em rela√ß√£o √† outra. </font><font style="vertical-align: inherit;">Voc√™ n√£o normaliza sua condi√ß√£o. </font><font style="vertical-align: inherit;">A condi√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permanece </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desnormalizada</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e incorporada.</font></font></b><br>
<br>
<pre><code class="json hljs">{<font></font>
  post: {<font></font>
    id: 'a',<font></font>
    ...<font></font>
    author: {<font></font>
      id: 'b',<font></font>
      ...<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um reposit√≥rio versus v√°rios</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Redux, voc√™ armazena todo o seu estado em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um reposit√≥rio global</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um estado global</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Um √∫nico objeto de estado √© sua √∫nica fonte de verdade. Por outro lado, numerosas caixas de velocidades permitem alterar um estado imut√°vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em compara√ß√£o, o MobX usa v√°rios reposit√≥rios. Como os redutores Redux, voc√™ pode aplicar a separa√ß√£o e a conquista por n√≠vel t√©cnico, dom√≠nio etc. Voc√™ pode armazenar seus objetos de dom√≠nio em reposit√≥rios separados, mas tamb√©m pode controlar o status de exibi√ß√£o em seus reposit√≥rios. No final, voc√™ coloca o estado mais apropriado para seu aplicativo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tecnicamente, voc√™ tamb√©m pode ter v√°rios reposit√≥rios no Redux. </font><font style="vertical-align: inherit;">Ningu√©m obriga a usar apenas um. </font><font style="vertical-align: inherit;">Mas este n√£o √© um caso de uso anunciado do Redux. </font><font style="vertical-align: inherit;">O uso de v√°rios reposit√≥rios √© contr√°rio √†s pr√°ticas recomendadas. </font><font style="vertical-align: inherit;">No Redux, voc√™ deseja ter um reposit√≥rio que responde atrav√©s de seus redutores a eventos globais.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como √© a implementa√ß√£o?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Redux, adicionar a configura√ß√£o de um aplicativo a um estado global requer as seguintes linhas de c√≥digo. </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> initialState = {
  <span class="hljs-attr">users</span>: [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Alex'</span><font></font>
    },<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nik'</span><font></font>
    }<font></font>
  ]<font></font>
};<font></font>
<span class="hljs-comment">// reducer</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">users</span>(<span class="hljs-params">state = initialState, action</span>) </span>{
  <span class="hljs-keyword">switch</span> (action.type) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">'USER_ADD'</span>:
    <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">users</span>: [ ...state.users, action.user ] };
  <span class="hljs-keyword">default</span>:
    <span class="hljs-keyword">return</span> state;<font></font>
  }<font></font>
}<font></font>
<span class="hljs-comment">// action</span>
{ <span class="hljs-attr">type</span>: <span class="hljs-string">'USER_ADD'</span>, <span class="hljs-attr">user</span>: user };</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No MobX, o armazenamento gerencia apenas o subestado (como o redutor no Redux controla o subestado), mas voc√™ pode alterar diretamente o estado. </font><font style="vertical-align: inherit;">A anota√ß√£o @observable permite observar altera√ß√µes de estado.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">userStore</span></span>{<font></font>
@observable users = [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nikita'</span><font></font>
    }<font></font>
  ];<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora voc√™ pode chamar userStore.users.push (user); </font><font style="vertical-align: inherit;">na c√≥pia da loja. </font><font style="vertical-align: inherit;">No entanto, recomenda-se que as muta√ß√µes de estado sejam mais expl√≠citas por meio da a√ß√£o.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">userStore</span></span>{<font></font>
@observable users = [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nikita'</span><font></font>
    }<font></font>
  ];<font></font>
}<font></font>
@action addUser = <span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> {
    <span class="hljs-keyword">this</span>.users.push(user);<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode aplic√°-lo estritamente configurando o MobX com o configure ({empceActions: true}) ;. </font><font style="vertical-align: inherit;">Agora voc√™ pode alterar seu estado chamando userStore.addUser (user); </font><font style="vertical-align: inherit;">na c√≥pia da loja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ viu como atualizar o estado no Redux e no MobX. </font><font style="vertical-align: inherit;">No Redux, seu estado √© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">somente leitura</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Voc√™ s√≥ pode alterar o estado com </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a√ß√µes expl√≠citas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Por outro lado, no MobX, o estado inclui leitura e escrita. </font><font style="vertical-align: inherit;">Voc√™ pode alterar o estado diretamente sem usar a√ß√µes, mas pode selecionar a√ß√µes expl√≠citas usando a configura√ß√£o enforceActions.</font></font><br>
<br>
<a name="the-learning-curve-in-react-state-management"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curva de aprendizado do estado de rea√ß√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Redux e o MobX s√£o usados ‚Äã‚Äãprincipalmente em aplicativos React. Mas essas s√£o bibliotecas de gerenciamento de estado independentes que podem ser usadas em qualquer lugar sem o React. Suas bibliotecas de intera√ß√£o facilitam combin√°-las com componentes angulares. Estes s√£o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">react </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React + Redux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mobx-react</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React + MobX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mais tarde, explicarei como usar os dois na √°rvore de componentes Angular.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em discuss√µes recentes, aconteceu que as pessoas discutiram sobre a curva de aprendizado no Redux. Isso geralmente acontecia no contexto do React: as pessoas come√ßaram a aprender o React e j√° queriam usar o gerenciamento de estado com o Redux. A maioria das pessoas afirma que o React e o Redux possuem uma boa curva de aprendizado, mas ambos podem ser esmagadores. Portanto, o MobX ser√° uma alternativa, porque √© mais adequado para iniciantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, eu sugeriria uma abordagem diferente para os novos usu√°rios do React aprenderem sobre gerenciamento de estado no ecossistema do React. </font><font style="vertical-align: inherit;">Comece a aprender Reaja com seus pr√≥prios recursos locais de gerenciamento de estado nos componentes. </font><font style="vertical-align: inherit;">Em um aplicativo React, voc√™ primeiro aprende sobre os m√©todos do ciclo de vida do React e entende como gerenciar estados locais com setState () e this.state. </font><font style="vertical-align: inherit;">Eu recomendo esse caminho de aprendizado. </font><font style="vertical-align: inherit;">Caso contr√°rio, voc√™ ser√° rapidamente dominado pelo ecossistema React. </font><font style="vertical-align: inherit;">No final, ao longo do caminho, voc√™ perceber√° que gerenciar o estado (interno) dos componentes se torna complicado.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux ou MobX para iniciantes?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Familiarizando-se com os componentes Angular e o gerenciamento interno de estado, voc√™ pode escolher uma biblioteca de gerenciamento de estado para resolver seu problema. Depois de usar as duas bibliotecas, eu diria que o MobX pode ser muito conveniente para iniciantes. J√° vimos que o MobX precisa de menos c√≥digo, embora use algumas notas m√°gicas que ainda n√£o precisamos conhecer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com o MobX, voc√™ n√£o precisa estar familiarizado com a programa√ß√£o funcional. Termos como imutabilidade ainda podem ser estrangeiros.</font></font><blockquote>  ‚Äî   ,       JavaScript.     ,          ,   - , ,     MobX.</blockquote><br>
<br>
<h3>  Redux</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä medida que seu aplicativo cresce, e v√°rios desenvolvedores trabalham nele, considere usar o Redux. Por natureza, ele se compromete a usar a√ß√µes expl√≠citas para mudar de estado. A a√ß√£o tem um tipo e carga √∫til que a caixa de velocidades pode usar para alterar o estado. √â muito f√°cil para a equipe de desenvolvimento falar sobre mudan√ßas de estado dessa maneira. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Redux fornece uma arquitetura inteira para gerenciamento de estado com limita√ß√µes claras. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hist√≥ria de sucesso do Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra vantagem do Redux √© seu uso no servidor. Como estamos lidando com JavaScript simples, voc√™ pode enviar o estado pela rede. A serializa√ß√£o e desserializa√ß√£o de um objeto de estado funcionam imediatamente. No entanto, isso tamb√©m √© poss√≠vel com o MobX.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O MobX √© menos autoconfiante, mas com o configure ({empceActions: true}) voc√™ pode aplicar restri√ß√µes mais precisas, como no Redux. √â por isso que eu n√£o diria que voc√™ n√£o pode usar o MobX para dimensionar aplicativos, mas o Redux tem uma maneira clara de fazer alguma coisa. A documenta√ß√£o do MobX at√© diz: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[MobX] n√£o diz como estruturar seu c√≥digo, onde armazenar estado ou como manipular eventos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". A equipe de desenvolvimento precisaria primeiro criar uma arquitetura de gerenciamento de estado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afinal, a curva de aprendizado da gest√£o estadual n√£o √© t√£o √≠ngreme. Quando repetimos as recomenda√ß√µes, um novato em React </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primeiro aprender√° como usar setState () e this.state corretamente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Depois de um tempo, voc√™ entender√° os </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">problemas de usar apenas setState ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para manter o estado no aplicativo React. </font><font style="vertical-align: inherit;">Ao procurar uma solu√ß√£o, voc√™ encontra bibliotecas de gerenciamento de estado, como MobX ou Redux. </font><font style="vertical-align: inherit;">Mas qual escolher? </font><font style="vertical-align: inherit;">Como o MobX √© menos autoconfiante, possui um modelo menor e pode ser usado da mesma forma que o setState (), eu recomendaria dar ao MobX uma chance em pequenos projetos. </font><font style="vertical-align: inherit;">Assim que o aplicativo aumentar de tamanho e aumentar o n√∫mero de participantes, considere aplicar restri√ß√µes adicionais no MobX ou d√™ uma chance ao Redux. </font><font style="vertical-align: inherit;">Eu gostei de usar as duas bibliotecas. </font><font style="vertical-align: inherit;">Mesmo se voc√™ n√£o usar um deles no final, faz sentido ver uma maneira alternativa de gerenciar o estado.</font></font><br>
<br>
<a name="last-thoughts"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√öltimos pensamentos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sempre que leio os coment√°rios na discuss√£o entre Redux e MobX, h√° sempre um coment√°rio: ‚ÄúO </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux tem muito padr√£o, voc√™ deve usar o MobX. Consegui excluir XXX linhas de c√≥digo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". O coment√°rio pode ser verdade, mas ningu√©m considera um compromisso. O Redux vem com muitos modelos, como o MobX, porque foi adicionado para restri√ß√µes de design espec√≠ficas. Isso permite que voc√™ raciocine sobre o estado do seu aplicativo, mesmo que ele esteja em uma escala maior. Toda a cerim√¥nia associada ao tratamento do estado n√£o √© justa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A biblioteca Redux √© bem pequena. Na maioria das vezes, voc√™ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lida apenas com objetos e matrizes JavaScript simples.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso est√° mais pr√≥ximo do JavaScript b√°sico do que do MobX. No MobX, objetos e matrizes s√£o agrupados em objetos observ√°veis ‚Äã‚Äãque ocultam a maior parte do modelo padr√£o. Ele √© constru√≠do sobre abstra√ß√µes ocultas nas quais a m√°gica ocorre, mas √© mais dif√≠cil entender os mecanismos b√°sicos. O Redux facilita falar sobre isso com JavaScript simples. Isso facilita o teste e a depura√ß√£o do aplicativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, voc√™ precisa pensar novamente sobre de onde viemos no SPA. Muitas estruturas de uma p√°gina e bibliotecas de aplicativos tiveram os mesmos problemas de gerenciamento de estado que foram resolvidos usando um modelo de fluxo abrangente. Redux √© o sucessor dessa abordagem.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No MobX, ele est√° novamente se movendo na dire√ß√£o oposta. Novamente, come√ßamos a modificar o estado diretamente, sem tirar proveito da programa√ß√£o funcional. Para algumas pessoas, isso se aproxima novamente da liga√ß√£o de dados bidirecional. Depois de algum tempo, as pessoas podem encontrar novamente os mesmos problemas antes que uma biblioteca de gerenciamento de estado, como o Redux, apare√ßa. O gerenciamento de estado est√° espalhado pelos componentes e termina em desordem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enquanto no Redux voc√™ tem uma cerim√¥nia estabelecida para preparar as coisas, o MobX √© menos autoconfiante. Mas seria sensato aceitar a melhor experi√™ncia MobX. As pessoas precisam saber como organizar a gest√£o do estado para melhorar seus argumentos sobre isso. Caso contr√°rio, as pessoas tendem a mudar de estado diretamente nos componentes.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ambas as bibliotecas s√£o √≥timas. </font><font style="vertical-align: inherit;">Embora o Redux j√° esteja bem estabelecido, o MobX est√° se tornando uma alternativa vi√°vel ao gerenciamento de estado.</font></font></blockquote><br>
<a name="more-resurces"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais recursos</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compara√ß√£o de Michel Weststratt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - criador do </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MobX</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489840/index.html">Anatomia da unidade: discos r√≠gidos</a></li>
<li><a href="../pt489844/index.html">An√°lise comparativa de alguns descompiladores Java</a></li>
<li><a href="../pt489848/index.html">Por que meus colegas / funcion√°rios se comportam como @% ¬ß?</a></li>
<li><a href="../pt489850/index.html">Semana de seguran√ßa 09: quem √© respons√°vel pela seguran√ßa do Android?</a></li>
<li><a href="../pt489852/index.html">Autentica√ß√£o transparente no ASP.Net Core no Linux</a></li>
<li><a href="../pt489856/index.html">Paradoxo reverso de Banach-Tarski ou como reduzir o volume de dados armazenados em cinco vezes</a></li>
<li><a href="../pt489858/index.html">Internacionaliza√ß√£o: Tornando a Web Acess√≠vel a Todos</a></li>
<li><a href="../pt489860/index.html">A hist√≥ria da Telefunken: a f√™nix da eletr√¥nica alem√£, de Wilhelm II e Goebbels aos Beatles e hoje</a></li>
<li><a href="../pt489862/index.html">Planejando no Go: Parte II - O Agendador Go</a></li>
<li><a href="../pt489868/index.html">Congelando o Mozilla WebThings</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>