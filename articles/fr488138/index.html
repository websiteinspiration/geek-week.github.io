<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕖 🍱 🧖🏻 Mesures de petite capacité (capteur capacitif analogique) 💅🏻 👋🏽 🙏🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'offre à la communauté un petit capteur de capacité, fonctionnant à partir de près de 0 pF. Il peut être utilisé en électronique amateur, en robotiqu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mesures de petite capacité (capteur capacitif analogique)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488138/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'offre à la communauté un petit capteur de capacité, fonctionnant à partir de près de 0 pF. </font><font style="vertical-align: inherit;">Il peut être utilisé en électronique amateur, en robotique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors du développement d'une électronique de loisir, j'avais besoin d'un simple capteur de distance avec un effet capacitif. </font><font style="vertical-align: inherit;">En recherchant sur Internet, je n'ai trouvé que des capteurs tactiles, mais ils ont une courte distance de réponse et une sortie numérique. </font><font style="vertical-align: inherit;">D'autres capteurs sont trop complexes ou avec une configuration longue. </font><font style="vertical-align: inherit;">J'avais besoin d'un très simple et pas cher, travaillant à partir d'un microcontrôleur. </font><font style="vertical-align: inherit;">Qu'est-il arrivé - sous la coupe ...</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schème</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après plusieurs expériences </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le circuit est apparu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur la Fig. </font><font style="vertical-align: inherit;">1. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pl/ck/n4/plckn4ewvlpav7mqtomvgpc0dig.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">1. Le schéma. </font><font style="vertical-align: inherit;">Microcap 10</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment ça marche</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principe de fonctionnement est basé sur la mesure de la charge qui s'est accumulée sur la plaque du condensateur pendant la charge. Le deuxième couvercle est un objet porté au capteur. Pour la modélisation, il est montré connecté à la "terre", mais ce n'est pas important. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plaque de condensateur est connectée à la sortie du microcontrôleur, qui est configurée pour émettre une fréquence de méandre de 120 à 180 kHz, dans le diagramme, il s'agit d'une source de tension V2. De plus, le revêtement est connecté à la base du transistor Q1. L'émetteur est connecté au même générateur. La sortie MK étant complémentaire, cela signifie que la sortie est connectée alternativement à la source d'alimentation «+», puis à «0». Que se passe-t-il pendant ces demi-périodes:</font></font><br>
<br>
<ul>
<li>   . <b>1</b>:     R1, R2.     ,     ,  R2    ,     .  ,       U<sub></sub>&lt;0.</li>
<li>    . <b>0</b>:  1   R3,   Q1   .         «0V»,         .      ,    1. </li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/0d5/6c1/20a/0d56c120a2bb8f1e69c40143786bf385.jpg" alt="image"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La diode D1 et le condensateur C2 forment un détecteur d'amplitude - une tension proportionnelle à la capacité C1 est créée sur R5. Le transistor Q2 est nécessaire pour faire correspondre les résistances avec l'ADC MK. La tension de sortie est supprimée de R6. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les résultats de la simulation (Fig.2) aux valeurs indiquées dans le diagramme. La relation linéaire est maintenue approximativement jusqu'à 10 pF. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cp/ff/cx/cpffcxh8r_mkcutiaoq-y82jrjm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 2. Graphique capacitance - tension</font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lorsque R3 est réduit à 2 kOhm, la sensibilité augmente et la section linéaire diminue à environ 0 ... 4 pF. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gz/cu/bf/gzcubfza-kkw7dhkypthokqcpa8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 3.</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Capacitance </font><i><font style="vertical-align: inherit;">-</font></i><font style="vertical-align: inherit;"> graphique de </font><i><font style="vertical-align: inherit;">tension </font></i></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : une élévation de graphique d'environ 0 pF est une erreur de simulation, la linéarité s'y poursuit. Testé en matériel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le circuit donné diffère des autres (avec isolation des diodes ou ponts et inclusion constante du transistor BE) en ce que le rapport capacité / tension est disponible avec près de 0 pF, sans zone morte. </font><font style="vertical-align: inherit;">De plus, une seule plaque de condensateur est impliquée dans le circuit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'elle est exécutée sur la carte, la capacité propre du circuit est bien inférieure à la capacité d'un couvercle - une plaque de 20 cm </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sensibilité du capteur: pour une main levée à environ 50 mm de la plaque - le changement du signal de sortie est supérieur à 10%. </font><font style="vertical-align: inherit;">Le changement estimé de capacité est d'environ 2 pF. </font><font style="vertical-align: inherit;">Le capteur ne répond pas aux interférences réseau, EMF et GSM.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Améliorations pour la mise en œuvre</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les transistors doivent avoir une fréquence de fonctionnement de 100 MHz et une capacité de base minimale (ici 2 pF).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diode D1 - type haute fréquence BAV99, la capacité d'une unité pF.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C2 dans la plage de 10 à 30 nF, plus nécessaire, le courant de sortie du MK augmente. </font><font style="vertical-align: inherit;">Pour lisser les impulsions, vous pouvez mettre un condensateur parallèle à R6</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une résistance de 100 ohms R1 limite le courant de sortie du MK, impulsion 5mA, une moyenne de 0,2 mA.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le microcontrôleur dans ce circuit est Atmega8A, la sortie est une onde carrée de 166 kHz, son ADC. </font><font style="vertical-align: inherit;">Il n'est pas recommandé d'augmenter la fréquence au-dessus de 300 kHz, en raison de l'influence des capacités parasites.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qui met en œuvre et applique dans leur métier - se désinscrire, intéressant.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation alternative.</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les commentaires sous l'article, l'utilisation de l'humidité du sol comme capteur est discutée. </font><font style="vertical-align: inherit;">J'ai décidé de vérifier si c'était possible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a pris la plaque de capteur 40x60 mm, bien enveloppée dans 4 couches de ruban de plomberie (par exemple, scellé). </font><font style="vertical-align: inherit;">La capacité propre a augmenté, j'ai dû changer les valeurs nominales du circuit, réduisant la sensibilité au niveau de 15 pF. </font><font style="vertical-align: inherit;">Le nouveau diagramme est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<img src="https://habrastorage.org/webt/d1/yy/_w/d1yy_wc3znzrt2pafsy74zhno3s.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">4. Schéma du capteur d'humidité du sol.</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expériences</font></font></h4><br>
<s><font style="vertical-align: inherit;"></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je n'ai pas de terrain </font><s><font style="vertical-align: inherit;">plat</font></s><font style="vertical-align: inherit;"> , il y a du sable que j'ai versé dans un pot d'un volume d'environ 300 ml. </font><font style="vertical-align: inherit;">J'ai ajouté de l'eau à chaque fois environ 15 ... 20 ml. </font></font><br>
<img src="https://habrastorage.org/webt/2r/ad/vn/2radvnrp-95qx2jucr3vo7o959e.jpeg" width="50%" alt="image1"> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sable sec. </font><font style="vertical-align: inherit;">Propre capacité du capteur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d-/jw/ox/d-jwoxuuaegks_jav6ccxivrgkc.jpeg" width="50%" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sable + 20 ml d'eau. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j9/ff/mp/j9ffmpxwq8ddb9zvhrycajedgee.jpeg" width="50%" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a également ajouté de l'eau et battu un peu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yl/hu/7o/ylhu7odvxfoov_enbchztx1spke.jpeg" width="50%" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... et plus d'eau. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o9/bs/ct/o9bsctqlgprpigxpncmgw4s4ice.jpeg" width="50%" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... et plus d'eau. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f8/ap/nd/f8apndhsm_2hcwn6t70u6qdkt4a.jpeg" width="50%" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... et plus d'eau. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/aa/2x/r-/aa2xr-nbsbln4gtxvpuomxfnyv0.jpeg" width="50%" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... et plus d'eau. </font><font style="vertical-align: inherit;">Il est devenu assez tropical humide. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La tension a été supprimée de R5, donc avec une augmentation de la capacité, la tension augmente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On voit que la capacité augmente avec chaque nappage. </font><font style="vertical-align: inherit;">Cependant, soit ce sable, ou je ne sais pas quoi, mais les lectures augmentent immédiatement lors du remplissage. </font><font style="vertical-align: inherit;">Je m'attendais à un changement plus doux de U lors du trempage du sable dans l'eau.</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oui, je connais les capteurs tactiles pour Arduino avec Ali. </font><font style="vertical-align: inherit;">Mais je voulais le comprendre moi-même et le faire avec les paramètres donnés.</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr488122/index.html">Distillateur compact d'aérogel, d'aluminium et d'essuie-mains à 1,5 $</a></li>
<li><a href="../fr488128/index.html">Forfaits préférentiels: qu'est-ce qui s'ajoute aux salaires des informaticiens en Arménie?</a></li>
<li><a href="../fr488130/index.html">Apprenez l'anglais en utilisant Telegram bot</a></li>
<li><a href="../fr488134/index.html">Augmenter CI sur github pour Android en une journée</a></li>
<li><a href="../fr488136/index.html">Comment le robot Atlas a-t-il appris à faire des cascades acrobatiques, insupportables pour une personne ordinaire?</a></li>
<li><a href="../fr488140/index.html">Comment simplifier la vie avec l'aide de la loi Pareto</a></li>
<li><a href="../fr488142/index.html">Avalonia songeur</a></li>
<li><a href="../fr488146/index.html">[Discussion]: Les ingénieurs informatiques sont-ils des ingénieurs informatiques?</a></li>
<li><a href="../fr488148/index.html">HighLoad ++, Mikhail Raichenko (ManyChat): presque sans magie, ni à quel point il est facile de distribuer un flux vidéo térabit</a></li>
<li><a href="../fr488150/index.html">Antiquités: ThinkPad X200 et source fermée</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>