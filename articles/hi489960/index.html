<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЦРЁЯП┐ ЁЯШЛ ЁЯПЪя╕П рдПрдХ рдбреЗрд▓реНрдлреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдирд┐рд░реНрдорд╛рдг ЁЯН╗ ЁЯЪм ЁЯСТ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХрд╛рдлреА рдмрд╛рд░, рдореБрдЭреЗ рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдбреЗрд▓реНрдлреА рдбреЗрд╡рд▓рдкрд░реНрд╕ (рдЖрдк рдкрд╛рд░рдВрдкрд░рд┐рдХ рд░реВрдк рд╕реЗ рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ) рдЕрдкрдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ "рдкреЗрди" рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдПрдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдПрдХ рдбреЗрд▓реНрдлреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдирд┐рд░реНрдорд╛рдг</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489960/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рдлреА рдмрд╛рд░, рдореБрдЭреЗ рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдбреЗрд▓реНрдлреА рдбреЗрд╡рд▓рдкрд░реНрд╕ (рдЖрдк рдкрд╛рд░рдВрдкрд░рд┐рдХ рд░реВрдк рд╕реЗ рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ) рдЕрдкрдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ "рдкреЗрди" рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдПрдХ рдЙрддреНрдкрд╛рджрди рд╕рдорд╛рдзрд╛рди рд╕реЗ рджреВрд░ рд╣реИ, рд▓реЗрдХрд┐рди рдмрд╛рд╣рд░ рд╕реЗ рд╕реНрдХреНрд░рдм рдХреА рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ рдФрд░ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рдЗрд╕реЗ рдШреБрдЯрдиреЗ рдкрд░ рдХрд░рддреЗ рд╣реИрдВ"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЙрддреНрдкрд╛рдж рдмрд╣реБрдд рдЧрдВрднреАрд░ рдФрд░ рдмрд┐рдХреНрд░реА рдпреЛрдЧреНрдп рд╣реИрдВ ред рдпрд╣ рд╕рдВрднрд╡рддрдГ рдЙрд╕ рд╕рдордп рдореЗрдВ рд╡рд╛рдкрд╕ рдЖрдпрд╛ рдЬрдм рд╕реНрд╡рдЪрд╛рд▓рди рдХреЛ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреИрдЪ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде рдЖрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА </font></font><code>dcc32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛ рдЖрд╡рд╢реНрдпрдХ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде </font><font style="vertical-align: inherit;">рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХрдВрдкрд╛рдЗрд▓рд░ рд╢реБрд░реВ рдХрд░рддреЗ рдереЗ </font><font style="vertical-align: inherit;">ред </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреБрдЫ рдиреЗ рдЕрдкрдирд╛ "рдкреНрд░рдХрд╛рд╢рдХ" рднреА рдмрдирд╛ рд▓рд┐рдпрд╛ - рдбреЗрд▓реНрдлреА-рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ, рдЬреЛ рдЕрд╕реЗрдВрдмрд▓реА рд╕рд░реНрд╡рд░ рдХрд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рддрд╛ рд╣реИ (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЖрдИрдбреАрдИ рдореЗрдВ рдЦреБрд▓рд╛), рдЗрд╕реЗ рдХрд┐рд╕реА рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рд▓рд┐рдП рдЧрдП рд╡рд░реНрдзрд┐рдд рд╕рдВрд╕реНрдХрд░рдг рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рд╛рде рдЙрдЬрд╛рдЧрд░ рдХрд░рддреЗ рд╣реБрдП, рдХрд┐рд╕реА рддрд░рд╣ рдХрд╛ рдЪреИрдВрдЬ рд▓рд┐рдЦрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдХрд╣реАрдВ рдкрд░ рдХреЙрдкреА рдХрд░рддрд╛ рд╣реИред рдиреЗрдЯрд╡рд░реНрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореИрдВ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╣рд▓реЗ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреА рддрд░рд╣ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рднреНрд░рдордг рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдКрдВрдЧрд╛ </font><font style="vertical-align: inherit;">ред рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рдКрдВрдЧрд╛ рдХрд┐ рдХреИрд╕реЗ рдЦрд╛ рд╕рдХрддреЗ рд╣реИрдВ / рдЕрдм рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЕрдкрдиреЗ рдХрд╛рдо рдХреА рджрдХреНрд╖рддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВред</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрд▓реНрдлреА рдХреЗ рдЖрдзреБрдирд┐рдХ рд╕рдВрд╕реНрдХрд░рдг рдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдлрд╝рд╛рдЗрд▓ рдПрдХ </font></font><code>.dproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд╝рд╛рдЗрд▓ рд╣реИ (рдЗрд╕рдХреЗ рдмрд╛рдж рдореИрдВ рдбреЗрд▓реНрдлреА 10 рд░рд┐рдпреЛ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдереЛрдбрд╝реЗ рдЕрдВрддрд░ рдХреЗ рд╕рд╛рде рдпрд╣ рдбреЗрд▓реНрдлреА рдХреЗ рд╕рднреА рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдЪ рд╣реИ, рдЬреЛ 2007 рд╕реЗ рд╢реБрд░реВ рд╣реЛ рд░рд╣рд╛ рд╣реИ)ред рдпрд╣ рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ рдЖрдИрдбреАрдИ (рдореЗрдиреВ </font></font><code>Project - Options (Ctrl+Shift+F11)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">рдореЗрдВ рдмрджрд▓ рдЬрд╛рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ "рдореВрд▓" рд▓реЛрдЧреЛрдВ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реВрдВрдЧрд╛ рдЬрд┐рдиреНрд╣реЗрдВ рд╕рд╛рдорд╛рдиреНрдп рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: рдпрд╣ </font></font><code>Config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди, </font></font><code>Platform</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо, </font></font><code>OutputDirectory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдЙрдЯрдкреБрдЯ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдкрде, рдФрд░ </font></font><code>ConditionalDefines</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╢рд░реНрдд рд╕рдВрдХрд▓рди рдирд┐рд░реНрджреЗрд╢) рд╣реИред рдмрд╛рдХреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕, рдЕрдЧрд░ рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдХреЗ рджреМрд░рд╛рди рдХрд┐рд╕реА рднреА рдмрджрд▓рд╛рд╡ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдореИрдВ рдЦреБрдж рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рджреЗрддрд╛ рд╣реВрдВред рдпрд╣ рдПрдХ рд╣реА </font></font><code>.dproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд╝рд╛рдЗрд▓, рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдПрдХ рдирд┐рдпрдорд┐рдд рдкрд╛рда рд╕рдВрдкрд╛рджрдХ рдХреЗ рд╕рд╛рде рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">MSBuild</font></a><font style="vertical-align: inherit;"> рдмрд┐рд▓реНрдб рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реЗ рдЕрдзрд┐рдХ рдХреБрдЫ рдирд╣реАрдВ рд╣реИ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(рдЪрд▓реЛ рдПрдХ рд╕рд░рд▓ рдХрдВрд╕реЛрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдПрдВ рдФрд░ рдЗрд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрд▓реНрдлреАрдСрдЯреЛрдореЗрдЯреЗрдбрдмреНрдпреВрдЗрд▓реНрдб рдХрд╣реЗрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font></p><a name="habracut"></a><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">Project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://schemas.microsoft.com/developer/msbuild/2003"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">PropertyGroup</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ProjectGuid</span>&gt;</span>{6880AD8E-6CB3-47B9-B8E3-7304CF6E9735}<span class="hljs-tag">&lt;/<span class="hljs-name">ProjectGuid</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ProjectVersion</span>&gt;</span>18.1<span class="hljs-tag">&lt;/<span class="hljs-name">ProjectVersion</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FrameworkType</span>&gt;</span>None<span class="hljs-tag">&lt;/<span class="hljs-name">FrameworkType</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">MainSource</span>&gt;</span>DelphiAutomatedBuild.dpr<span class="hljs-tag">&lt;/<span class="hljs-name">MainSource</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Base</span>&gt;</span>True<span class="hljs-tag">&lt;/<span class="hljs-name">Base</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Config</span> <span class="hljs-attr">Condition</span>=<span class="hljs-string">"'$(Config)'==''"</span>&gt;</span>Debug<span class="hljs-tag">&lt;/<span class="hljs-name">Config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Platform</span> <span class="hljs-attr">Condition</span>=<span class="hljs-string">"'$(Platform)'==''"</span>&gt;</span>Win32<span class="hljs-tag">&lt;/<span class="hljs-name">Platform</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TargetedPlatforms</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">TargetedPlatforms</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">AppType</span>&gt;</span>Console<span class="hljs-tag">&lt;/<span class="hljs-name">AppType</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">PropertyGroup</span>&gt;</span><font></font>
    ...<font></font>
</code></pre><br>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSBuild рдмрд┐рд▓реНрдб рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рд╡рд┐рдЬрд╝реБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛред </font><font style="vertical-align: inherit;">рдореИрдВ MSBuild рдХреЗ рдХреБрдЫ рд╡рд┐рд╡рд░рдгреЛрдВ рдХреЛ рдЫреВрдКрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдореИрдВ рдкрд╛рдардХ рдХреЛ рд╕реБрдЭрд╛рд╡ рджреЗрддрд╛ рд╣реВрдВ рдХрд┐ рд╡рд╣ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдореВрд▓ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреЛ рддреИрдпрд╛рд░ рдХрд░реЗ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдпрд╣ рд╣рдореЗрдВ рдХреНрдпрд╛ рджреЗрддрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рдпрд╣ рд╣рдореЗрдВ рдПрдХ рд▓рд╛рдЗрди рдХреЗ рд╕рд╛рде рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рд╕реЗ рдбреЗрд▓реНрдлреА рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛ рдмрджрд▓реЗ рдореЗрдВ, рд╣рдореЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреА рдЕрд╕реЗрдВрдмрд▓реА рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></p><br>
<pre><code class="plaintext hljs">msbuild /t:build DelphiAutomatedBuild.dproj</code></pre><br>
<p><em>  MSBuild?   Delphi,  MSBuild   ,  Delphi  .  ,   <code>%WINDIR%\Microsoft.Net\Framework\v3.5</code>,     .Net 4.0/4.5/4.6.         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">Microsoft</a>.    MSBuild  4.0,     ,   </em></p><br>
<p>          (hint:   <em></em> ,     ()    IDE тАФ <em>Show in Explorer</em>,   <em></em>  тАФ <em>  </em>),     : </p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DelphiAutomatedBuild.dproj<font></font>
"msbuild"     <font></font>
,     .</code></pre><br>
<p>.  ,   MSBuild-  <code>PATH</code> .     :</p><br>
<pre><code class="plaintext hljs">set PATH=%WINDIR%\Microsoft.Net\Framework\v3.5;%PATH%</code></pre><br>
<p> :</p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DelphiAutomatedBuild.dproj<font></font>
Microsoft (R) Build Engine  12.0.21005.1<font></font>
[Microsoft .NET Framework  4.0.30319.42000]<font></font>
(C)   (Microsoft Corporation).   .<font></font>
<font></font>
  24.11.2018 0:12:14.<font></font>
 "Z:\habr\delphi-automate-build\DelphiAutomatedBuild.dproj"   1 (  build).<font></font>
Z:\habr\delphi-automate-build\DelphiAutomatedBuild.dproj : error MSB4057:      "build".<font></font>
  "Z:\habr\delphi-automate-build\DelphiAutomatedBuild.dproj"  (  build)  .<font></font>
<font></font>
 .<font></font>
<font></font>
"Z:\habr\delphi-automate-build\DelphiAutomatedBuild.dproj" (  build ) (1) -&gt;<font></font>
  Z:\habr\delphi-automate-build\DelphiAutomatedBuild.dproj : error MSB4057:      "build".<font></font>
<font></font>
    : 0<font></font>
    : 1<font></font>
<font></font>
 : 00:00:00.04<font></font>
</code></pre><br>
<p> ,    .    ?    <code>build</code>? </p><br>
<p>    <code>.dproj</code>-,    :</p><br>
<pre><code class="xml hljs">...
    <span class="hljs-tag">&lt;<span class="hljs-name">Import</span> <span class="hljs-attr">Project</span>=<span class="hljs-string">"$(BDS)\Bin\CodeGear.Delphi.Targets"</span> <span class="hljs-attr">Condition</span>=<span class="hljs-string">"Exists('$(BDS)\Bin\CodeGear.Delphi.Targets')"</span>/&gt;</span>
...</code></pre><br>
<p>       Delphi<br>
<code>c:\Program Files\Embarcadero\Studio\20.0\Bin\CodeGear.Delphi.Targets</code>,       MSBuild-,     <code>Build</code>:</p><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">Target</span> <span class="hljs-attr">Name</span>=<span class="hljs-string">"Build"</span><span class="hljs-attr">...</span></span></code></pre><br>
<p>..     <code>BDS</code> (<code>$(VAR)</code>  MSBuild    (Property) <code>VAR</code>,   ,     ),        Delphi,     (-,          Delphi,      <code>BDS</code>).     <code>$(BDS)</code>,   <code>.Targets</code>    Delphi    <code>Build</code>.<br>
 :</p><br>
<pre><code class="plaintext hljs">set BDS=c:\Program Files\Embarcadero\Studio\20.0</code></pre><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">...&gt;msbuild /t:build DelphiAutomatedBuild.dproj<font></font>
Microsoft (R) Build Engine  12.0.21005.1<font></font>
[Microsoft .NET Framework  4.0.30319.42000]<font></font>
(C)   (Microsoft Corporation).   .<font></font>
<font></font>
  24.11.2018 0:20:40.<font></font>
 "Z:\habr\delphi-automate-build\DelphiAutomatedBuild.dproj"   1 (  build).<font></font>
CreateProjectDirectories:<font></font>
    ".\Win32\Debug".<font></font>
BuildVersionResource:<font></font>
  C:\Program Files\Embarcadero\Studio\20.0\bin\cgrc.exe -c65001 DelphiAutomatedBuild.vrc -foDelphiAutomatedBuild.res <font></font>
  CodeGear Resource Compiler/Binder<font></font>
  Version 1.2.2 Copyright (c) 2008-2012 Embarcadero Technologies Inc.<font></font>
<font></font>
  Microsoft (R) Windows (R) Resource Compiler Version 6.0.5724.0<font></font>
<font></font>
  Copyright (C) Microsoft Corporation.  All rights reserved.<font></font>
<font></font>
   "DelphiAutomatedBuild.vrc" .<font></font>
_PasCoreCompile:<font></font>
  C:\Program Files\Embarcadero\Studio\20.0\bin\dcc32.exe -$O- -$W+ --no-config -B -Q -TX.exe -AGenerics.Collections=System.Generics.Collections;Generics.Defaults=System.Generics.Defaults;WinTypes=Winapi.Windows;WinProcs=Winapi.Windows;DbiTypes=BDE;DbiProcs=BDE;DbiErrs=BDE -DDEBUG -E.\Win32\Debug -I"c:\program files\embarcadero\studio\20.0\lib\Win32\debug";"c:\program files\embarcadero\studio\20.0\lib\Win32\release";C:\Users\USER\Documents\Embarcadero\Studio\20.0\Imports;"C:\Program Files\Embarcadero\Studio\20.0\Imports";"C:\Users\Public\Documents\RAD Studio\5.0\Dcp";"C:\Program Files\Embarcadero\Studio\20.0\include";C:\Users\USER\AppData\Local\Programs\TestInsight\Source -LE"C:\Users\Public\Documents\RAD Studio\5.0\Bpl" -LN"C:\Users\Public\Documents\RAD Studio\5.0\Dcp" -NU.\Win32\Debug -NSWinapi;System.Win;Data.Win;Datasnap.Win;Web.Win;Soap.Win;Xml.Win;Bde;System;Xml;Data;Datasnap;Web;Soap; -O"c:\program files\embarcadero\studio\20.0\lib\Win32\release";C:\Users\USER\Documents\Embarcadero\Studio\20.0\Imports;"C:\Program Files\Embarcadero\Studio\20.0\Imports";"C:\Users\Public\Documents\RAD Studio\5.0\Dcp";"C:\Program Files\Embarcadero\Studio\20.0\include";C:\Users\USER\AppData\Local\Programs\TestInsight\Source -R"c:\program files\embarcadero\studio\20.0\lib\Win32\release";C:\Users\USER\Documents\Embarcadero\Studio\20.0\Imports;"C:\Program Files\Embarcadero\Studio\20.0\Imports";"C:\Users\Public\Documents\RAD Studio\5.0\Dcp";"C:\Program Files\Embarcadero\Studio\20.0\include";C:\Users\USER\AppData\Local\Programs\TestInsight\Source -U"c:\program files\embarcadero\studio\20.0\lib\Win32\debug";"c:\program files\embarcadero\studio\20.0\lib\Win32\release";C:\Users\USER\Documents\Embarcadero\Studio\20.0\Imports;"C:\Program Files\Embarcadero\Studio\20.0\Imports";"C:\Users\Public\Documents\RAD Studio\5.0\Dcp";"C:\Program Files\Embarcadero\Studio\20.0\include";C:\Users\USER\AppData\Local\Programs\TestInsight\Source -CC -V -VN -NB"C:\Users\Public\Documents\RAD Studio\5.0\Dcp" -NH"C:\Users\Public\Documents\RAD Studio\5.0\hpp\Win32" -NO.\Win32\Debug   DelphiAutomatedBuild.dpr   <font></font>
  Embarcadero Delphi for Win32 compiler version 30.0<font></font>
  Copyright (c) 1983,2015 Embarcadero Technologies, Inc.<font></font>
  19 lines, 0.27 seconds, 100748 bytes code, 26044 bytes data.<font></font>
  "Z:\habr\delphi-automate-build\DelphiAutomatedBuild.dproj"  (  build).<font></font>
<font></font>
  .<font></font>
    : 0<font></font>
    : 0<font></font>
<font></font>
 : 00:00:01.32</code></pre></div></div><br>
<p>-!  .    <code>Win32\Debug</code>   <code>DelphiAutomatedBuild.exe</code>.</p><br>
<p>    ( ,     Debug-),        Release- (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">  </a>).  IDE   ,    ,   ,    ,       .    <code>.dproj</code>-,       </p><br>
<pre><code class="xml hljs">...
        <span class="hljs-tag">&lt;<span class="hljs-name">Config</span> <span class="hljs-attr">Condition</span>=<span class="hljs-string">"'$(Config)'==''"</span>&gt;</span>Debug<span class="hljs-tag">&lt;/<span class="hljs-name">Config</span>&gt;</span>
...</code></pre><br>
<p>  ,  ,   / <code>Config</code>,  ,       <code>Debug</code>. <em>   ,     IDE (  IDE    Release    тАФ   </em></p><br>
<pre><code class="xml hljs">...
        <span class="hljs-tag">&lt;<span class="hljs-name">Config</span> <span class="hljs-attr">Condition</span>=<span class="hljs-string">"'$(Config)'==''"</span>&gt;</span>Release<span class="hljs-tag">&lt;/<span class="hljs-name">Config</span>&gt;</span>
...</code></pre><br>
<p>       :</p><br>
<pre><code class="plaintext hljs">    {$IFDEF RELEASE}<font></font>
    WriteLn('This is RELEASE build');<font></font>
    {$ENDIF RELEASE}<font></font>
    {$IFDEF DEBUG}<font></font>
    WriteLn('This is DEBUG build');<font></font>
    {$ENDIF DEBUG}</code></pre><br>
<p> ,  conditional defines     Release  Debug-  RELEASE  DEBUG, </p><br>
<p>      <code>Config</code>    ,     :</p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DelphiAutomatedBuild.dproj /p:Config=Release<font></font>
Microsoft (R) Build Engine  12.0.21005.1<font></font>
[Microsoft .NET Framework  4.0.30319.42000]<font></font>
(C)   (Microsoft Corporation).   .<font></font>
<font></font>
  24.11.2018 0:48:30.<font></font>
 "Z:\habr\delphi-automate-build\DelphiAutomatedBuild.dproj"   1 (  build).<font></font>
CreateProjectDirectories:<font></font>
    ".\Win32\Release".<font></font>
...</code></pre><br>
<pre><code class="plaintext hljs">...&gt;Win32\Debug\DelphiAutomatedBuild.exe<font></font>
This is DEBUG build<font></font>
<font></font>
...&gt;Win32\Release\DelphiAutomatedBuild.exe<font></font>
This is RELEASE build</code></pre><br>
<p>!</p><br>
<p>     (   )   -    ,      ,       ,           тАФ - . ,       .    <code>.dproj</code>:</p><br>
<pre><code class="xml hljs">...
        <span class="hljs-tag">&lt;<span class="hljs-name">DCC_ExeOutput</span>&gt;</span>.\$(Platform)\$(Config)<span class="hljs-tag">&lt;/<span class="hljs-name">DCC_ExeOutput</span>&gt;</span>
...</code></pre><br>
<p>  ?    (  ),    ,     ? </p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DelphiAutomatedBuild.dproj /p:DCC_ExeOutput=binaries</code></pre><br>
<p>-!   <code>binaries</code>,   тАФ  <code>DelphiAutomatedBuild.exe</code>.   ? ,    <code>MSBuild</code>, ,  ,    <code>MSBuild</code>-,   ,        .    .      ...</p><br>
<p>    .      ,    (,      ). ,       <code>Config</code> тАФ <code>Debug</code>,  тАФ   тАФ <code>Release</code>,   , -,    (, <code>DCC_ExeOutput</code>     (  тАФ )),  -,        ,      (   <em></em>,     MSBuild-  ).         </p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DelphiAutomatedBuild.dproj /p:DCC_ExeOutput=binaries</code></pre><br>
<p>      .  ? !<br>
   <code>Build</code>.     -  ,   IDE (   ; ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">MMX</a>: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">DProjNormalizer</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">DProjSplitter</a>    тАФ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">ProjectMagician</a> тАФ     <code>.dproj</code>-),     .   <strong>DAB.ciproj</strong> (CI-project,  CI тАФ Continuous Integration):</p><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">Project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://schemas.microsoft.com/developer/msbuild/2003"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Target</span> <span class="hljs-attr">Name</span>=<span class="hljs-string">"Build"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">MSBuild</span> <span class="hljs-attr">Projects</span>=<span class="hljs-string">"DelphiAutomatedBuild.dproj"</span>
            <span class="hljs-attr">Targets</span>=<span class="hljs-string">"Build"</span>
            <span class="hljs-attr">Properties</span>=<span class="hljs-string">"Config=Debug"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">MSBuild</span> <span class="hljs-attr">Projects</span>=<span class="hljs-string">"DelphiAutomatedBuild.dproj"</span>
            <span class="hljs-attr">Targets</span>=<span class="hljs-string">"Build"</span>
            <span class="hljs-attr">Properties</span>=<span class="hljs-string">"Config=Release"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Target</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Project</span>&gt;</span>
</code></pre><br>
<p></p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DAB.ciproj /p:DCC_ExeOutput=binaries</code></pre><br>
<p>тАж    <code>DelphiAutomatedBuild.exe</code>  <code>binaries</code>,  ,   :</p><br>
<pre><code class="plaintext hljs">...&gt;binaries\DelphiAutomatedBuild.exe<font></font>
This is RELEASE build</code></pre><br>
<p><code>DCC_Exeoutput</code>      <strong>MSBuild</strong> тАФ  ,           .     :</p><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">Project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://schemas.microsoft.com/developer/msbuild/2003"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Target</span> <span class="hljs-attr">Name</span>=<span class="hljs-string">"Build"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">MSBuild</span> <span class="hljs-attr">Projects</span>=<span class="hljs-string">"DelphiAutomatedBuild.dproj"</span>
            <span class="hljs-attr">Targets</span>=<span class="hljs-string">"Build"</span>
            <span class="hljs-attr">Properties</span>=<span class="hljs-string">"Config=Debug;DCC_Exeoutput=$(DCC_ExeOutput)\Debug"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">MSBuild</span> <span class="hljs-attr">Projects</span>=<span class="hljs-string">"DelphiAutomatedBuild.dproj"</span>
            <span class="hljs-attr">Targets</span>=<span class="hljs-string">"Build"</span>
            <span class="hljs-attr">Properties</span>=<span class="hljs-string">"Config=Release;DCC_Exeoutput=$(DCC_ExeOutput)\Release"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Target</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Project</span>&gt;</span></code></pre><br>
<p> </p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DAB.ciproj /p:DCC_ExeOutput=binaries</code></pre><br>
<p>       </p><br>
<p><code>binaries\Debug\DelphiAutomatedBuild.exe</code>  <code>binaries\Release\DelphiAutomatedBuild.exe</code>.</p><br>
<pre><code class="plaintext hljs">...&gt;binaries\Debug\DelphiAutomatedBuild.exe<font></font>
This is DEBUG build<font></font>
<font></font>
...&gt;binaries\Release\DelphiAutomatedBuild.exe<font></font>
This is RELEASE build</code></pre><br>
<p> ,     /   conditional define    (,    -,       ,      TRIAL )</p><br>
<p>  -   </p><br>
<pre><code class="plaintext hljs">    {$IFDEF TRIAL}<font></font>
    WriteLn('This is TRIAL version');<font></font>
    {$ENDIF TRIAL}</code></pre><br>
<p>  Debug- conditional define TRIAL  ,     .dproj:</p><br>
<pre><code class="plaintext hljs">        &lt;DCC_Define&gt;DEBUG;TRIAL;$(DCC_Define)&lt;/DCC_Define&gt;</code></pre><br>
<p>, ..   /p:DCC_Define=TRIAL,</p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DAB.ciproj /p:DCC_ExeOutput=binaries /p:DCC_Define=TRIAL</code></pre><br>
<p></p><br>
<pre><code class="plaintext hljs">...&gt;binaries\Debug\DelphiAutomatedBuild.exe<font></font>
This is TRIAL version<font></font>
<font></font>
...&gt;binaries\Release\DelphiAutomatedBuild.exe<font></font>
This is TRIAL version</code></pre><br>
<p>,  -  , -  DEBUG  RELEASE,     , ..       define-.<br>
   ,         ,     .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"></a>.<br>
 <strong> </strong> <code>DCC_Define</code>:</p><br>
<pre><code class="plaintext hljs">...&gt;set DCC_Define=TRIAL<font></font>
...&gt;msbuild /t:build DAB.ciproj /p:DCC_ExeOutput=binaries<font></font>
...</code></pre><br>
<pre><code class="plaintext hljs">...&gt;binaries\Debug\DelphiAutomatedBuild.exe<font></font>
This is DEBUG build<font></font>
This is TRIAL version<font></font>
...&gt;binaries\Release\DelphiAutomatedBuild.exe<font></font>
This is RELEASE build<font></font>
This is TRIAL version</code></pre><br>
<p>  ,     ,         (   Git,     SVN   )   ,        ,   ,     ,              .</p><br>
<p> ,         . ?        ,     ,       тАФ -    "-",   ,   <del></del>  (   " " тАФ    ).</p><br>
<p>    Windows/Delphi-  <code>Major.Minor.Release.Build</code>, <em></em>  ,  ,       <code>Release</code>, , ,     .  ,     ,       .dproj-</p><br>
<pre><code class="plaintext hljs">        &lt;VerInfo_Keys&gt;CompanyName=;FileDescription=;FileVersion=1.0.0.0;InternalName=;LegalCopyright=;LegalTrademarks=;OriginalFilename=;ProductName=;ProductVersion=1.0.0.0;Comments=&lt;/VerInfo_Keys&gt;</code></pre><br>
<p> ,    .       <code>FileVersion=0.0.0.0</code>, ,  <code>FileVersion=$(Version)</code>,  <code>Version</code> тАФ ,      ,        ,        IDE тАФ , ..   ""   .      . ,   ,   тАФ CSV-,       .<br>
  ,    . MSBuild 4.0 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">    C#</a>,     ( ,    PATH    ).    </p><br>
<div class="spoiler"><b class="spoiler_title">Delphi.Version.Targets</b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">Project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">'http://schemas.microsoft.com/developer/msbuild/2003'</span> <span class="hljs-attr">ToolsVersion</span>=<span class="hljs-string">"12.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">UsingTask</span> <span class="hljs-attr">TaskName</span>=<span class="hljs-string">"__SetFileVersion"</span> <span class="hljs-attr">TaskFactory</span>=<span class="hljs-string">"CodeTaskFactory"</span> <span class="hljs-attr">AssemblyFile</span>=<span class="hljs-string">"$(MSBuildToolsPath)\Microsoft.Build.Tasks.v12.0.dll"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ParameterGroup</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">VerInfoKeys</span> <span class="hljs-attr">ParameterType</span>=<span class="hljs-string">"System.String"</span> <span class="hljs-attr">Required</span>=<span class="hljs-string">"true"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">VerInfoProperties</span> <span class="hljs-attr">ParameterType</span>=<span class="hljs-string">"Microsoft.Build.Framework.ITaskItem[]"</span> <span class="hljs-attr">Required</span>=<span class="hljs-string">"true"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Out</span> <span class="hljs-attr">ParameterType</span>=<span class="hljs-string">"System.String"</span> <span class="hljs-attr">Output</span>=<span class="hljs-string">"true"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ParameterGroup</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Task</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Code</span> <span class="hljs-attr">Type</span>=<span class="hljs-string">"Fragment"</span> <span class="hljs-attr">Language</span>=<span class="hljs-string">"cs"</span>&gt;</span>&lt;![CDATA[<font></font>
        // split values as CSV (by ";")<font></font>
        String[] verInfoKeysList = VerInfoKeys.Split(';');<font></font>
        Dictionary&lt;String, String&gt; d = new Dictionary&lt;String, String&gt;();<font></font>
        foreach (String verInfoValue in verInfoKeysList) {<font></font>
            // split values as "key=value"<font></font>
            if (! String.IsNullOrEmpty(verInfoValue)) {<font></font>
                String[] kv = verInfoValue.Split('=');<font></font>
                d.Add(kv[0], kv[1]);<font></font>
            }<font></font>
        }<font></font>
        if (VerInfoProperties.Length &gt; 0) {<font></font>
          foreach (ITaskItem item in VerInfoProperties) {<font></font>
            String value = item.GetMetadata("Value");<font></font>
            if (value.Length &gt; 0) {<font></font>
              Log.LogMessage("{0}: {1}", item.ItemSpec, value);<font></font>
              d.Remove(item.ItemSpec);<font></font>
              d.Add(item.ItemSpec, value);<font></font>
            }<font></font>
          }<font></font>
        }<font></font>
<font></font>
        List&lt;String&gt; L = new List&lt;String&gt;();<font></font>
        foreach (KeyValuePair&lt;String, String&gt; kv in d) {<font></font>
            L.Add(kv.Key + "=" + kv.Value);<font></font>
        }<font></font>
        _Out = String.Join(";", L.ToArray());<font></font>
]]&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Code</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Task</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">UsingTask</span>&gt;</span><font></font>
<font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">Target</span> <span class="hljs-attr">Name</span>=<span class="hljs-string">'_SetVersionCode_Name'</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Message</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"$(VerInfo_Keys)"</span> /&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">ItemGroup</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">VerInfoProperties</span> <span class="hljs-attr">Include</span>=<span class="hljs-string">"FileVersion"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Value</span>&gt;</span>$(FileVersion)<span class="hljs-tag">&lt;/<span class="hljs-name">Value</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">VerInfoProperties</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ItemGroup</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">__SetFileVersion</span> <span class="hljs-attr">VerInfoKeys</span>=<span class="hljs-string">"$(VerInfo_Keys)"</span> <span class="hljs-attr">VerInfoProperties</span>=<span class="hljs-string">"@(VerInfoProperties)"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Output</span> <span class="hljs-attr">PropertyName</span>=<span class="hljs-string">"VerInfo_Keys"</span> <span class="hljs-attr">TaskParameter</span>=<span class="hljs-string">"Out"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">__SetFileVersion</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Message</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"$(VerInfo_Keys)"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Target</span>&gt;</span><font></font>
<font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">Target</span> <span class="hljs-attr">Name</span>=<span class="hljs-string">'_SetFileVersion'</span> <span class="hljs-attr">BeforeTargets</span>=<span class="hljs-string">"_BuildRCFile"</span>
      <span class="hljs-attr">Condition</span>=<span class="hljs-string">"'$(FileVersion)' != ''"</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">CallTarget</span> <span class="hljs-attr">Targets</span>=<span class="hljs-string">'_SetVersionCode_Name'</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Target</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Project</span>&gt;</span> </code></pre></div></div><br>
<p>        .<br>
   <code>DelphiAutomatedBuild.dproj</code></p><br>
<pre><code class="xml hljs">...
<span class="hljs-tag">&lt;<span class="hljs-name">Import</span> <span class="hljs-attr">Project</span>=<span class="hljs-string">"Delphi.Version.Targets"</span> <span class="hljs-attr">Condition</span>=<span class="hljs-string">"$(MSBuildToolsVersion) &gt;= 4.0"</span> /&gt;</span>
...</code></pre><br>
<p><em>( "$(MSBuildToolsVersion) &gt;= 4.0"   ,          IDE, ,   ,  MSBuild 3.5,    UsingTask)</em></p><br>
<p> ,    <code>_SetFileVersion</code>,     <code>_BuildRCFile</code> (    :  <em></em> ,      тАФ . <code>$(BDS)\bin\Codegear.Common.Targets</code>),      <code>FileVersion</code>.      CSV-   <code>VerInfo_Keys</code>,     -,     ,      <code>VerInfo_Keys</code>. </p><br>
<p>    "Include version information in project"      (   ), :</p><br>
<pre><code class="plaintext hljs">...&gt;msbuild /t:build DAB.ciproj /p:DCC_ExeOutput=binaries /p:FileVersion=4.3.2.1</code></pre><br>
<pre><code class="plaintext hljs">...&gt;binaries\Debug\DelphiAutomatedBuild.exe<font></font>
This is RELEASE build<font></font>
This is TRIAL version<font></font>
This file version is 4.3.2.1<font></font>
...&gt;binaries\Release\DelphiAutomatedBuild.exe<font></font>
This is DEBUG build<font></font>
This is TRIAL version<font></font>
This file version is 4.3.2.1</code></pre><br>
<p>Profit!</p><br>
<h3 id="zaklyuchenie"></h3><br>
<p>     Delphi-  ,      ,   ,   ,          ,      ,       .   ,        (  ),        .</p><br>
<p>     </p><br>
<ol>
<li>     (  FixInsight,  !)   </li>
<li>  unit-  Delphi (,    ))).       )</li>
<li> ""  Delphi-  GitLab CI</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрд▓реНрдлреА рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рдХрд╛рд░рдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреНрд░реИрд╢ / рдХреНрд░реИрд╢ рдХреЗ рдХрд╛рд░рдгреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдСрдЯреЛ-рдЕрд╕реЗрдВрдмрд▓реА рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдкреАрдбреАрдмреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдХреИрд╕реЗ рдПрдХреАрдХреГрдд рдХрд░реЗрдВ)</font></font></li>
</ol><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z.Y. </font><font style="vertical-align: inherit;">рдореБрдЭреЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреАрдПрдо</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Delphi_Lazarus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@DelphiCommunity рдЪреИрдЯ </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдореЗрдВ</font></a><font style="vertical-align: inherit;"> рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рд╣рд┐рдд рдХрд┐рд╕реА рднреА рд╕рд╡рд╛рд▓ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдиреЗ рдореЗрдВ рдЦреБрд╢реА рд╣реЛрдЧреА</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi489948/index.html">OpenStreetMap рдирдВрдмрд░ 499 (04.02.2020-10.02.2020) рдХреА рджреБрдирд┐рдпрд╛ рд╕реЗ рд╕рдорд╛рдЪрд╛рд░</a></li>
<li><a href="../hi489952/index.html">рд▓рд╛рдЗрд╡ рдФрд░ рдкреНрд░реЗрд░рдХ рдбреЗрд╕реНрдХрдЯреЙрдк рд╡реЙрд▓рдкреЗрдкрд░</a></li>
<li><a href="../hi489954/index.html">рд╕реАрдЧреЗрдЯ рд╕реНрдХрд╛рдИрд╣реЙрдХ рдПрдЖрдИ - рд╡рд┐рд╢рд╛рд▓ рдФрд░ рдкреНрд░рддрд┐рд╢реЛрдзреА</a></li>
<li><a href="../hi489956/index.html">рд╣рдо ViewPager2 рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд┐рдП рдмрд┐рдирд╛ рдЖрд╕рд╛рдиреА рд╕реЗ RecyclerView рдХреЛ рдЪреЗрддрди рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi489958/index.html">рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг: Haskell рдкрд░ wc C рдкрд░ рдПрдирд╛рд▓реЙрдЧ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ "рддреЗрдЬ" рдХреНрдпреЛрдВ рдирд┐рдХрд▓рд╛</a></li>
<li><a href="../hi489962/index.html">рдЕрдкрд╛рдЪреЗ рдЗрдЧреНрдирд╛рдЗрдЯ рдореЗрдВ рдбреЗрдЯрд╛ рд╡рд┐рддрд░рдг</a></li>
<li><a href="../hi489968/index.html">рд╣рдо рдХреИрдкреЗрд╕рд┐рдЯреЗрдВрд╕ рд╕реЗ 0.3 рдХреА рдзрд╛рд░рд╛рдУрдВ рдкрд░ AA рдФрд░ AAA рдмреИрдЯрд░реА рдХреЗ рдХреНрд╖рд░рдг рдХреЛ рдкрдХрдбрд╝рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi489970/index.html">рдкреНрд░реЛрдЧреНрд░рд╛рдорд░, рдкреИрдХ рдФрд░ рдЬреЙрди рд╕реНрдЯреАрдирдмреЗрдХ</a></li>
<li><a href="../hi489974/index.html">рдЦрд╛ рдмрдирд╛рдо рдПрдЪрдЯреАрдПрдордПрд▓ 5: рд╕реА ++ рдореЗрдВ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рд╕рдВрдХрд▓рди</a></li>
<li><a href="../hi489984/index.html">Udalenka рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдПрдордП: рдкреВрдЫреЗрдВ - рд╣рдо рдЬрд╡рд╛рдм рджреЗрддреЗ рд╣реИрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>