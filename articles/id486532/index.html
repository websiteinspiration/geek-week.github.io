<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍼 ⛱️ 😹 Cadangan data menggunakan banyak FreeFileSync dan 7-zip 👩🏿‍🌾 👋🏽 🤷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anamnesis, bisa dikatakan: 
 
 server Fujitsu rx300 s6, RAID6 dari 6 1TB disk, XenServer 6.2 sudah habis, beberapa server berputar, di antaranya Ubunt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cadangan data menggunakan banyak FreeFileSync dan 7-zip</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486532/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anamnesis, bisa dikatakan: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
server Fujitsu rx300 s6, RAID6 dari 6 1TB disk, XenServer 6.2 sudah habis, beberapa server berputar, di antaranya Ubunta dengan beberapa bola, 3,5 juta file, data 1,5 TB, semua data ini secara bertahap tumbuh dan membengkak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas: mengkonfigurasi cadangan data dari server file, sebagian harian, sebagian mingguan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki mesin cadangan Windows dengan RAID5 (dalam hal kemiskinan, unit sistem reguler dengan pengontrol RAID yang terintegrasi dengan ibu) plus disk 2TB terpisah untuk menyalin kondisi file saat ini. Anda dapat menggunakan distribusi Linux apa pun, tetapi mesin ini sudah tersedia dengan raid raid dan lisensi Windows.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menginstal </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeFileSync</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada server cadangan </font><font style="vertical-align: inherit;">, mengkonfigurasi "mirror" dari segala sesuatu dalam satu baris dari semua bola server file sekali sehari di malam hari setelah 18 jam dengan menjalankan melalui penjadwal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poin penting: saat menyimpan tugas batch, wajib untuk menandai "Tutup jendela tugas saat selesai", jika tidak proses akan berlipat ganda dan berlipat ganda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuang file sementara ke dalam pengecualian mask: * .dwl, * .dwl2, * .tmp. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FreeFileSync menggunakan jaringan dengan sangat baik, menyalin membutuhkan beberapa aliran, kecepatan mencapai 80 Mb / s saat menyalin file besar, tidak ada plugging terdeteksi pada file kecil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan melakukan pengarsipan di server cadangan lokal, alih-alih </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">TheCopier yang</font></a><font style="vertical-align: inherit;"> digunakan sebelumnya</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan pengarsipan di jaringan. Omong-omong, TheCopier hebat! Tetapi dengan volume seperti itu, sama sekali tidak punya waktu untuk mentransfer semuanya, meskipun antarmuka 1GB pada cadangan dan 2GB pada antarmuka file (ikatan dua kartu jaringan). </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">SyncToy</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
juga sebelumnya digunakan </font><font style="vertical-align: inherit;">, tetapi dengan jumlah file lebih dari 1,5-2 juta, berhenti bekerja secara normal, tidak bisa mengatasinya. </font><font style="vertical-align: inherit;">
Untuk mengarsipkan folder yang diperlukan, kami menulis file batch untuk </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">7-zip</font></a><font style="vertical-align: inherit;"> : </font><i><font style="vertical-align: inherit;">atur sekarang =% TIME: ~ 0, -3% </font></i><i><font style="vertical-align: inherit;">
atur sekarang =% sekarang :: =.% </font></i><i><font style="vertical-align: inherit;">
Atur sekarang =% sekarang: = 0% </font></i><i><font style="vertical-align: inherit;">
atur sekarang =% TANGGAL: ~ - 4%.% TANGGAL: ~ 3,2%.% TANGGAL: ~ 0,2% _% sekarang% </font></i><i><font style="vertical-align: inherit;">
C: \ "Program Files" \ 7-Zip \ 7z.exe a -tzip -mx = 1 -mmt = pada -mtc = off -ssw D: \ backups \ All \% now% _10-04.zip E: \ 10-04</font></i></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<i><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_35-110.zip E:\35-110<br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_asu.zip E:\asu<br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_director.zip E:\director<br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_gpr.zip E:\gpr<br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_otiz.zip E:\otiz<br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_ps.zip E:\ps<br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_pto.zip E:\pto<br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_rza.zip E:\rza<br>
C:\«Program Files»\7-Zip\7z.exe a -tzip -mx=1 -mmt=on -mtc=off -ssw D:\backups\All\%now%_smeta.zip E:\smeta<br>
<br>
:: a —  <br>
:: -tzip  -t7z —   ( zip  1.5-2   )<br>
:: -mx=1 —   (1 , 9   x=[0 | 1 | 3 | 5 | 7 | 9 ])<br>
:: -mmt=on —      <br>
:: -mtc=off —     ( ,   ..)<br>
:: -ssw —   ,   <br>
:: -xr!.Sync* —    BtSync  ,  <br>
</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konstruksi set now =% dan seterusnya memungkinkan Anda untuk menyimpan format catatan waktu dalam nama file tanpa masalah yang terjadi ketika hari atau bulan kurang dari 10, yaitu, kami mengganti nol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komentar -xr! .Sync * adalah sisa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sisa BTSync yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> awalnya digunakan </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hingga 500 GB dan 700-800 ribu file, BTSync masih tidak bekerja apa pun, disinkronkan dengan cepat, tetapi pada volume saat ini memakan memori dan sumber daya prosesor baik pada server file ubunt dan pada cadangan Windows di mana diluncurkan oleh layanan, dan juga hanya diperkosa sistem disk dengan baca-tulis konstan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meskipun pengarsipan juga 7-zip, kami mengarsipkannya dalam format zip bukan asli 7z, karena jauh lebih cepat, dan praktis tidak ada perbedaan dalam kompresi dengan mx = 1, itu telah diuji oleh banyak percobaan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arsip dieksekusi pada gilirannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membersihkan folder arsip juga terjadi melalui tugas yang dijadwalkan menggunakan utilitas fpurge, meninggalkan arsip tidak lebih dari seminggu. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai hasilnya, kami memiliki salinan file untuk hari sebelumnya, serta arsip untuk minggu terakhir, FreeFileSync menempatkan file yang dihapus di tempat sampah.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id486532/">https://habr.com/ru/post/id486532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id486514/index.html">Weekend Reading: 10 bahan tentang replika kartu suara, perpustakaan suara terbuka dan perangkat lunak audio</a></li>
<li><a href="../id486516/index.html">Para ilmuwan telah menemukan sel T yang membuka janji terapi kekebalan anti kanker universal</a></li>
<li><a href="../id486518/index.html">Seperti 20 tahun lalu</a></li>
<li><a href="../id486528/index.html">Ini adalah norma - 3: tipe peta normal</a></li>
<li><a href="../id486530/index.html">Arus utama. Pekerja Kehormatan. Novel biografi</a></li>
<li><a href="../id486538/index.html">Bagaimana saya mengunggah soft skill online dan apa yang diberikannya kepada saya</a></li>
<li><a href="../id486540/index.html">HighLoad ++, Mikhail Makurov, Maxim Chernetsov (Intersvyaz): Zabbix, 100kNVPS pada satu server</a></li>
<li><a href="../id486542/index.html">Mengurai suara modem dial-up</a></li>
<li><a href="../id486544/index.html">Dua jam dan 3,5 dolar. Bagaimana saya membuat situs sederhana dengan visualisasi distribusi coronavirus</a></li>
<li><a href="../id486548/index.html">Fungsi rekursif primitif dan fungsi Ackerman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>