<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úãüèæ ‚è¨ üóÇÔ∏è Como eu me fiz ABP para o gerador üö∏ üíáüèª ü§Ω</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="H√° alguns anos, fiz uma mudan√ßa autom√°tica de transfer√™ncia (entrada autom√°tica de reserva) para trabalhar no pa√≠s a partir de um gerador. Agora, muit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como eu me fiz ABP para o gerador</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/507764/"><img src="https://habrastorage.org/webt/k7/ts/fd/k7tsfdbxvx2m-t8icgh6ryzqwbo.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° alguns anos, fiz uma mudan√ßa autom√°tica de transfer√™ncia (entrada autom√°tica de reserva) para trabalhar no pa√≠s a partir de um gerador. </font><font style="vertical-align: inherit;">Agora, muitos funcion√°rios de TI est√£o se mudando para um local remoto, trabalhando em cabanas, onde a qualidade da fonte de alimenta√ß√£o pode deixar o melhor. </font><font style="vertical-align: inherit;">Portanto, decidi escrever sobre minha experi√™ncia com o ABP caseiro no microcontrolador ATmega8A. </font><font style="vertical-align: inherit;">Se o t√≥pico for interessante, bem-vindo ao kat, haver√° muitas letras e c√≥digos.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre o aterramento</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de fazer qualquer coisa com eletricidade, voc√™ precisa ter um bom aterramento em sua casa. N√£o √© poss√≠vel levar e conectar um gerador de g√°s / diesel / g√°s dom√©stico comum √† fonte de alimenta√ß√£o em casa. Precau√ß√µes devem ser observadas. A primeira √© que seu gerador deve estar bem aterrado. Ent√£o voc√™ tem uma boa chance de n√£o receber um choque el√©trico quando a est√°tica do seu su√©ter favorito rompe o isolamento do enrolamento do gerador. Em geral, um gerador em funcionamento n√£o deve ser tocado desnecessariamente.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale lembrar que a rede nem sempre √© de 220V. </font><font style="vertical-align: inherit;">Ligando as linhas, descargas el√©tricas √† dist√¢ncia, descargas est√°ticas fornecem tais captadores que pulsos curtos de v√°rios quilovolts s√£o frequentes na rede. </font><font style="vertical-align: inherit;">Eles est√£o lutando contra isso instalando p√°ra-raios e SPDs na entrada da casa, mas essa √© uma pr√°tica muito rara na Federa√ß√£o Russa. </font><font style="vertical-align: inherit;">Ent√£o deixe a fa√≠sca penetrar na terra, e n√£o atrav√©s de voc√™ - fa√ßa um bom aterramento em toda a casa. </font><font style="vertical-align: inherit;">Sem isso, voc√™ n√£o pode fazer mais nada!</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre geradores</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, para muitos geradores dom√©sticos de gasolina, os enrolamentos n√£o est√£o de modo algum conectados ao solo. E isso √© bastante normal quando voc√™ est√° usando uma ferramenta el√©trica do gerador. Mas quando voc√™ precisa conectar o gerador √† casa, precisa fazer um fio neutro (N) e um fio de fase (L). Para fazer isso, um dos terminais do gerador √© aterrado e, a partir desse ponto de aterramento, j√° √© necess√°rio conduzir dois fios para dentro da casa de forma independente - um ser√° N neutro e o segundo - terra de prote√ß√£o (PE). Ao escolher um gerador, voc√™ deve prestar aten√ß√£o se √© poss√≠vel aterrar sua sa√≠da; √†s vezes √© proibido nas instru√ß√µes do gerador; esse gerador n√£o √© adequado para voc√™.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Freq√ºentemente, na rede, √© poss√≠vel ver os diagramas de conex√£o do gerador sem o aterramento e a separa√ß√£o das linhas N e PE. </font><font style="vertical-align: inherit;">N√£o fa√ßa isso, voc√™ viver√° mais tempo. </font><font style="vertical-align: inherit;">Tais esquemas funcionam bem at√© o primeiro conjunto infeliz de circunst√¢ncias. </font><font style="vertical-align: inherit;">Fontes de alimenta√ß√£o t√≠picas para dispositivos eletr√¥nicos modernos incluem capacitores de linhas L, N a terra. </font><font style="vertical-align: inherit;">Se N n√£o estiver aterrado no gerador, devido a esses capacitores na linha N, haver√°, se voc√™ tiver sorte, 110 volts em rela√ß√£o ao solo. </font><font style="vertical-align: inherit;">A prop√≥sito, muitas caldeiras a g√°s nesse modo geralmente param de funcionar. </font><font style="vertical-align: inherit;">Sobre a influ√™ncia da est√°tica sem a presen√ßa de aterramento, eu j√° escrevi acima.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre esquemas ABP</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem v√°rios esquemas diferentes para implementar o ATS. Al√©m disso, escreverei sobre o circuito mais seguro do ATS monof√°sico do meu ponto de vista. Eu n√£o recomendo fazer ABP com modera√ß√£o em um contator ou comutar apenas um fio de fase. Somente com neutro. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<img src="https://habrastorage.org/webt/vh/v-/rl/vhv-rllrb28jayf15egb9xgltua.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No diagrama acima, a energia da rede e do gerador √© fornecida pelas entradas 1 e 2. Elas s√£o protegidas por m√°quinas emparelhadas. Atrav√©s de m√°quinas adicionais, os circuitos de comuta√ß√£o e indica√ß√£o s√£o alimentados. Pode-se observar que as bobinas do rel√© s√£o intertravadas entre si eletricamente. Para a inclus√£o de uma entrada espec√≠fica, por simplicidade, o microcontrolador, n√£o mostrado no diagrama, que fecha o circuito no ponto de comuta√ß√£o TK1 ou TK2, √© respons√°vel.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ponto fundamental √© a presen√ßa nos esquemas de bloqueio do ATS 2x - bloqueio mec√¢nico m√∫tuo das entradas de comuta√ß√£o dos contatores e bloqueio el√©trico m√∫tuo dos contatores. </font><font style="vertical-align: inherit;">Feito por si mesmo em prol da economia, acontece que, em seus projetos, negligenciam esses bloqueios, mas em v√£o. </font><font style="vertical-align: inherit;">O circuito sem bloqueio pode funcionar por algum tempo, mas em algum momento os contatos queimar√£o, as molas de retorno enfraquecer√£o e ocorrer√° um curto-circuito entre as entradas. </font><font style="vertical-align: inherit;">Em primeiro lugar, isso amea√ßa grandes empresas se ambas as linhas forem energizadas, mas esse n√£o √© o maior problema. </font><font style="vertical-align: inherit;">√â muito mais importante que o seu gerador, inesperadamente para eletricistas que reparam a fia√ß√£o, possa fornecer tens√£o √† rede geral - em circunst√¢ncias desfavor√°veis, eletricistas que reparam a linha podem morrer. </font><font style="vertical-align: inherit;">Este j√° √© um artigo criminal para voc√™.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre contatores</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, o uso de rel√©s convencionais desaparece para n√≥s, apenas contatores especializados s√£o adequados. Para grandes capacidades, ainda existe uma op√ß√£o com acionamentos motorizados, mas √© caro e redundante para uso dom√©stico t√≠pico. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer um intertravamento mec√¢nico, voc√™ precisa selecionar contatores que possam trabalhar em pares. O bloqueio m√∫tuo √© geralmente conseguido instalando os mesmos contatores pr√≥ximos um do outro e instalando uma op√ß√£o adicional - um intertravamento mec√¢nico. √â vendido separadamente dos contatores e custa um centavo. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O intertravamento el√©trico m√∫tuo √© poss√≠vel se o contator tiver contatos de sinaliza√ß√£o adicionais operando na abertura. √Äs vezes, eles s√£o incorporados imediatamente ao contator, √†s vezes podem ser adquiridos e instalados como op√ß√£o.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os principais fabricantes de contatores t√™m esse equipamento em suas linhas. Portanto, encontrar e comprar um kit n√£o √© dif√≠cil. √â verdade que os pre√ßos dos contatores de marca s√£o muito mais altos que os nossos / chineses. Como n√£o se espera que o n√∫mero de ciclos de comuta√ß√£o seja grande, a escolha dos contatores chineses √© justificada. As desvantagens podem ser atribu√≠das apenas ao fato de as bobinas do contator durante a opera√ß√£o terem bastante zumbido.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais sobre energia comutada. </font><font style="vertical-align: inherit;">Os contatos do contator devem suportar a energia m√°xima que voc√™ pode consumir em casa. </font><font style="vertical-align: inherit;">Eu tenho 10 kW, ent√£o escolhi os contatores para a corrente permitida atrav√©s de um contato a cerca de 50 amperes. </font><font style="vertical-align: inherit;">√â importante notar que, por algum motivo, a energia comutada para um contator trif√°sico t√≠pico √© indicada no total do passaporte para todas as tr√™s fases, portanto, √© necess√°rio observar cuidadosamente qual corrente permiss√≠vel √© atrav√©s de um contato.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre o esquema de controle</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando estive envolvido na cria√ß√£o da ABP, tive v√°rios requisitos especiais para o seu trabalho:</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<ul>
<li>      ,   ,      ,          :   ,      ,      ,     </li>
<li>              . ..           </li>
<li>            ,     ,                </li>
<li>, ,       .        </li>
</ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, apareceu a imagem de que eu precisava de um controlador com v√°rios temporizadores. Naqueles dias, eu gostava de codificar no AVR, ent√£o decidi fazer esse controlador no Atmega 8a. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seria bom se o controlador funcionasse por muito tempo e de forma confi√°vel. Al√©m disso, para fazer um isolamento galv√¢nico completo e equipar o controlador com um temporizador de vigil√¢ncia, n√£o consegui mais nada. Bem, torne o esquema e o programa o mais simples poss√≠vel. Como tudo foi feito por mim, decidi deixar todas as configura√ß√µes e calibra√ß√µes no c√≥digo - a interface do usu√°rio inteira foi reduzida a um LED). </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A principal tarefa do controlador √© monitorar a tens√£o nas entradas e, se necess√°rio, trocar as entradas. Ao mesmo tempo, a entrada da rede da vila √© uma prioridade.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale a pena notar aqui que a qualidade da rede √© tal que flutua√ß√µes de 150 a 250 s√£o bastante comuns. Portanto, o conceito de que h√° boa energia da rede √© muito emba√ßado. Depois de algum tempo, resolvi esse problema quando coloquei em toda a casa um poderoso regulador de tens√£o do tiristor por 11 kW. Mas, o mais importante, o estabilizador s√≥ pode ser configurado antes do ABP, e n√£o depois! Ligar o estabilizador do gerador √© altamente desencorajado. Existe o perigo de que, com uma certa combina√ß√£o de cargas, especialmente bombas potentes, o sistema do gerador e do estabilizador se torne inst√°vel e entre em auto-oscila√ß√µes. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de pensar um pouco, desenhei esse esquema na Eagle.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<img src="https://habrastorage.org/webt/3s/nr/v9/3snrv9ux0nbon6t1wf1vslf9h-c.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O circuito possui duas fontes de energia do transformador id√™nticas; se houver tens√£o em alguma das entradas, o circuito √© fornecido com energia. Uma tens√£o de 600V √© poss√≠vel entre as entradas, portanto o isolamento dos transformadores deve ser bom. As refei√ß√µes s√£o feitas ap√≥s os pacotes QF3 e QF4, respectivamente. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada fonte possui um divisor de tens√£o resistivo, que √© protegido contra sobretens√£o por um diodo zener - √© usado para calcular a tens√£o de rede usando um microcontrolador ADC usando c√°lculos simples. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para alternar as bobinas do contator, um circuito padr√£o de folha de dados √© usado para controlar as sete c√©lulas. 2 peda√ßos ). As bobinas s√£o uma carga indutiva, portanto, s√£o necess√°rios circuitos amortecedores na sa√≠da do resistor e do capacitor.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tinha um m√≥dulo de rel√© com ali, que √© usado para parar o gerador. </font><font style="vertical-align: inherit;">No diagrama, √© apenas um ret√¢ngulo com tr√™s pinos. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entre os recursos, o TL431 tamb√©m √© usado como um gerador de tens√£o de refer√™ncia. </font><font style="vertical-align: inherit;">Caso contr√°rio, tudo est√° inclu√≠do como padr√£o no Atmega 8. Existem LEDs para indicar a presen√ßa de tens√£o de alimenta√ß√£o nas entradas e um LED de status do dispositivo. </font><font style="vertical-align: inherit;">O circuito √© cronometrado usando quartzo externo de 16 MHz. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Eagle me deu exatamente uma placa de circuito impresso. </font><font style="vertical-align: inherit;">Sem SMDs, triacs ou estabilizador com radiadores leves. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<img src="https://habrastorage.org/webt/48/c6/iw/48c6iwzgd0ea_4r-hua23bfriz4.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dois transformadores toroidais s√£o instalados diretamente na placa. </font><font style="vertical-align: inherit;">A placa de circuito foi fabricada no estilo tradicional de r√°dio amador usando um fotorresistente. </font><font style="vertical-align: inherit;">Ap√≥s a instala√ß√£o, coberto com tr√™s camadas de verniz acr√≠lico. </font><font style="vertical-align: inherit;">Espero que a alta tens√£o dele n√£o quebre.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre o programa de gerenciamento</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo do programa √© bastante longo, desculpe.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo do programa</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment">/*
 * ABP -    "  "
 *              -
 *       ,  - 
 *     -    .
 *      RS232   ,  SPI  
 *    3 .    
 *         .  
 *      .
 *
 *         printf
 *     -Wl,-u,vfprintf -lprintf_flt
 */</span>
 <span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> F_CPU</span>
 <span class="hljs-meta">#  <span class="hljs-meta-keyword">define</span> F_CPU 16000000UL</span>
 <span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> BAUD 9600</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;avr/io.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;util/delay.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;avr/interrupt.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;avr/wdt.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;avr/sleep.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">uint8_t</span> mcusr_mirror __attribute__ ((section (<span class="hljs-string">".noinit"</span>)));<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_mcusr</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> \
__<span class="hljs-title">attribute__</span><span class="hljs-params">((naked))</span> \
__<span class="hljs-title">attribute__</span><span class="hljs-params">((section(<span class="hljs-string">".init3"</span>)))</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_mcusr</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{<font></font>
   mcusr_mirror = MCUSR;<font></font>
   MCUSR = <span class="hljs-number">0</span>;<font></font>
   wdt_disable();<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// UART      RS232</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">uart_init</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span>
</span>{
<span class="hljs-comment">/* //  
   UBRRH = 0;
   UBRRL = 103; //9600   16  */</span>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;util/setbaud.h&gt;</span></span><font></font>
    UBRRH = UBRRH_VALUE;<font></font>
    UBRRL = UBRRL_VALUE;   <font></font>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> USE_2X</span>
      UCSRA |= (<span class="hljs-number">1</span> &lt;&lt; U2X);
    <span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
      UCSRA &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; U2X);
   <span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
   <span class="hljs-comment">//8  , 1  ,   </span>
   UCSRC = ( <span class="hljs-number">1</span> &lt;&lt; URSEL ) | ( <span class="hljs-number">1</span> &lt;&lt; UCSZ1 ) | ( <span class="hljs-number">1</span> &lt;&lt; UCSZ0 );
   <span class="hljs-comment">//    </span>
   UCSRB = ( <span class="hljs-number">1</span> &lt;&lt; TXEN ) | ( <span class="hljs-number">1</span> &lt;&lt;RXEN );<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">uart_putc</span><span class="hljs-params">(  <span class="hljs-keyword">char</span> c, FILE *file )</span>
</span>{
   <span class="hljs-comment">//    </span>
   <span class="hljs-keyword">while</span>( ( UCSRA &amp; ( <span class="hljs-number">1</span> &lt;&lt; UDRE ) ) == <span class="hljs-number">0</span> );<font></font>
   UDR = c;<font></font>
   wdt_reset();<font></font>
   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}<font></font>
<font></font>
FILE uart_stream = FDEV_SETUP_STREAM( uart_putc, <span class="hljs-literal">NULL</span>, _FDEV_SETUP_WRITE );<font></font>
<font></font>
<span class="hljs-comment">//   1    -    </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">timer1_init</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span>
</span>{<font></font>
   TCCR1A = <span class="hljs-number">0</span>; <span class="hljs-comment">//    1 -  </span>
   <span class="hljs-comment">/* 16000000 / 1024 = 15625 ,     15625      1  */</span>
   <span class="hljs-comment">//  CTC, ICP1 interrupt sense (falling)(not used) + prescale /1024 +    (not used) </span>
   TCCR1B = (<span class="hljs-number">0</span> &lt;&lt; WGM13) | (<span class="hljs-number">1</span> &lt;&lt; WGM12) | (<span class="hljs-number">0</span> &lt;&lt; ICES1) | ((<span class="hljs-number">1</span> &lt;&lt; CS12) | (<span class="hljs-number">0</span> &lt;&lt; CS11) | (<span class="hljs-number">1</span> &lt;&lt; CS10)) | (<span class="hljs-number">0</span> &lt;&lt; ICNC1); <font></font>
   OCR1A = <span class="hljs-number">15625</span>;  <font></font>
   <font></font>
   <span class="hljs-comment">//  </span>
   TIMSK |= (<span class="hljs-number">1</span> &lt;&lt; OCIE1A);<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_RLY_STATES {<font></font>
   RLY_OFF = <span class="hljs-number">0</span>, <span class="hljs-comment">//  </span>
   RLY_ON <span class="hljs-comment">//  </span><font></font>
} ABP_RLY_STATES;<font></font>
<font></font>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_RLY {<font></font>
   RLY_220N = <span class="hljs-number">0</span>,<font></font>
   RLY_220G,<font></font>
   RLY_GEN<font></font>
} ABP_RLY;<font></font>
<font></font>
<span class="hljs-keyword">volatile</span> ABP_RLY_STATES contactors[RLY_GEN+<span class="hljs-number">1</span>]; <span class="hljs-comment">//   </span><font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_TMR_STATES {<font></font>
   TMR_OFF = <span class="hljs-number">0</span>, <span class="hljs-comment">//  </span>
   TMR_ON <span class="hljs-comment">//  </span><font></font>
} ABP_TMR_STATES;<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
   ABP_TMR_STATES state; <span class="hljs-comment">//   </span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> passed_secs; <span class="hljs-comment">//    (  255!!!)</span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> set_secs; <span class="hljs-comment">//     </span><font></font>
} TMR_INSTANCE;<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_TMRS {<font></font>
   TMR_220N_ON = <span class="hljs-number">0</span>,  <span class="hljs-comment">//      220  </span>
   TMR_220G_ON, <span class="hljs-comment">//      220  </span>
   TMR_220N_OFF, <span class="hljs-comment">//      220  </span>
   TMR_220G_OFF, <span class="hljs-comment">//      220   </span>
   TMR_PRINT, <span class="hljs-comment">//      </span>
   TMR_GEN_OFF <span class="hljs-comment">//        220  </span><font></font>
} ABP_TMRS;<font></font>
<font></font>
<span class="hljs-keyword">volatile</span> TMR_INSTANCE abp_timers[TMR_GEN_OFF+<span class="hljs-number">1</span>]; <span class="hljs-comment">//    ABP_TMRS</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">abp_timers_init</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span> </span>{
   <span class="hljs-comment">//     </span>
   abp_timers[TMR_220N_ON].set_secs = <span class="hljs-number">10</span>; <span class="hljs-comment">//     </span>
   abp_timers[TMR_220G_ON].set_secs = <span class="hljs-number">60</span>; <span class="hljs-comment">//        </span>
   abp_timers[TMR_220N_OFF].set_secs = <span class="hljs-number">5</span>; <span class="hljs-comment">//     </span>
   abp_timers[TMR_220G_OFF].set_secs = <span class="hljs-number">5</span>; <span class="hljs-comment">//     </span>
   abp_timers[TMR_GEN_OFF].set_secs = <span class="hljs-number">60</span>; <span class="hljs-comment">//      </span>
   abp_timers[TMR_PRINT].set_secs = <span class="hljs-number">2</span>; <span class="hljs-comment">//  </span><font></font>
   <font></font>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> i;
   <span class="hljs-keyword">for</span>(i=TMR_220N_ON; i&lt;=TMR_GEN_OFF; i++ ) {<font></font>
      abp_timers[i].state = TMR_OFF;<font></font>
      abp_timers[i].passed_secs = <span class="hljs-number">0</span>;<font></font>
   }<font></font>
   <span class="hljs-keyword">for</span>(i=RLY_220N; i&lt;=RLY_GEN; i++ ) {<font></font>
      contactors[i] = RLY_OFF;<font></font>
   }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">abp_timer_start</span><span class="hljs-params">( ABP_TMRS tmr )</span> </span>{<font></font>
   abp_timers[tmr].passed_secs = <span class="hljs-number">0</span>;<font></font>
   abp_timers[tmr].state = TMR_ON;    <font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">abp_timer_stop</span><span class="hljs-params">( ABP_TMRS tmr )</span> </span>{<font></font>
   abp_timers[tmr].state = TMR_OFF;<font></font>
   abp_timers[tmr].passed_secs = <span class="hljs-number">0</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> <span class="hljs-title">abp_timer_check</span><span class="hljs-params">( ABP_TMRS tmr )</span> </span>{
   <span class="hljs-keyword">if</span> (abp_timers[tmr].passed_secs &gt;= abp_timers[tmr].set_secs) {
      <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <font></font>
   } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
   }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//      </span><font></font>
ISR(TIMER1_COMPA_vect)<font></font>
{<font></font>
   <span class="hljs-comment">//       /</span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> i;
   <span class="hljs-keyword">for</span>(i=TMR_220N_ON; i&lt;=TMR_GEN_OFF; i++ ) {
      <span class="hljs-keyword">if</span> (abp_timers[i].state) {<font></font>
         abp_timers[i].passed_secs++;   <font></font>
      }<font></font>
   }<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-comment">// COUNTER2      led_State</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">counter2_init</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span>
</span>{<font></font>
   ASSR = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* AS0 = 0 */</span>  <span class="hljs-comment">/* disable asynchronous mode */</span>
   <span class="hljs-keyword">while</span> (ASSR); <span class="hljs-comment">/*EMPTY*/</span><font></font>
<font></font>
   OCR2 = <span class="hljs-number">223</span>;             <span class="hljs-comment">/* 70    */</span><font></font>
<font></font>
   TCCR2 |= (<span class="hljs-number">1</span> &lt;&lt; CS22) | (<span class="hljs-number">1</span> &lt;&lt; CS21) | (<span class="hljs-number">1</span> &lt;&lt; CS20);  <span class="hljs-comment">/* prescale /1024 */</span><font></font>
   <font></font>
   TCCR2 |= (<span class="hljs-number">1</span> &lt;&lt; WGM21);                <span class="hljs-comment">/* mode CTC */</span>
   TCCR2 &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; WGM20);<font></font>
   <font></font>
   TCCR2 &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; COM21);              <span class="hljs-comment">/*    OC2 */</span>
   TCCR2 &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; COM20);<font></font>
   <font></font>
   TIMSK |= (<span class="hljs-number">1</span> &lt;&lt; OCIE2);          <span class="hljs-comment">/* enable compare interrupt */</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_LED_STATES {<font></font>
   ABP_UNDEF = <span class="hljs-number">0</span>, <span class="hljs-comment">//  </span>
   ABP_1RELAY, <span class="hljs-comment">//  1 </span>
   ABP_2RELAY  <span class="hljs-comment">//  2 </span><font></font>
} ABP_LED_STATES;<font></font>
ABP_LED_STATES led_State = ABP_UNDEF;<font></font>
<font></font>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> led_pattern[<span class="hljs-number">3</span>][<span class="hljs-number">10</span>] =<font></font>
{ { <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span> }, <span class="hljs-comment">//   </span>
  { <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span> }, <span class="hljs-comment">//  1 </span>
  { <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span> } }; <span class="hljs-comment">//  2 </span><font></font>
<font></font>
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> timer2_count = <span class="hljs-number">0</span>;         
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> led_cycle = <span class="hljs-number">0</span>; <span class="hljs-comment">//  0  9</span><font></font>
<font></font>
ISR(TIMER2_COMP_vect)  <span class="hljs-comment">//    70   </span><font></font>
{<font></font>
   <span class="hljs-keyword">if</span> (++timer2_count &gt; <span class="hljs-number">6</span>)       <span class="hljs-comment">//    0.1 .    </span><font></font>
   {<font></font>
      timer2_count = <span class="hljs-number">0</span>;           <span class="hljs-comment">//  </span>
      <span class="hljs-keyword">if</span> (led_pattern[led_State][led_cycle]) {<font></font>
         PORTB &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PB0); <span class="hljs-comment">//         </span>
      } <span class="hljs-keyword">else</span> {<font></font>
         PORTB |=  (<span class="hljs-number">1</span> &lt;&lt; PB0); <span class="hljs-comment">// </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span> (++led_cycle &gt;= <span class="hljs-number">10</span>)<font></font>
         led_cycle = <span class="hljs-number">0</span>;<font></font>
   }  <font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SAMPLES 2500</span>
<span class="hljs-comment">//    TL431</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> REFERENCEV 2.479</span>
<span class="hljs-comment">//      </span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DIVIDER1 (12.3/2.13)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DIVIDER2 (12.4/2.03)</span><font></font>
<font></font>
<span class="hljs-keyword">double</span> realV1 = <span class="hljs-number">0</span>; <span class="hljs-comment">//     V0</span>
<span class="hljs-keyword">double</span> realV2 = <span class="hljs-number">0</span>; <span class="hljs-comment">//     V1</span><font></font>
<font></font>
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">int</span> sampleCount = <span class="hljs-number">0</span>;
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> tempVoltage1 = <span class="hljs-number">0</span>; <span class="hljs-comment">//    </span>
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> tempVoltage2 = <span class="hljs-number">0</span>;
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> sumVoltage1 = <span class="hljs-number">0</span>; <span class="hljs-comment">//         </span>
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> sumVoltage2 = <span class="hljs-number">0</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ADC_init</span><span class="hljs-params">()</span> <span class="hljs-comment">// ADC1,0</span>
</span>{
   <span class="hljs-comment">//   2,5, 10 bit </span>
   ADMUX = (<span class="hljs-number">0</span> &lt;&lt; REFS0) | (<span class="hljs-number">0</span> &lt;&lt; REFS1) | (<span class="hljs-number">0</span> &lt;&lt; ADLAR) |<font></font>
   (<span class="hljs-number">0</span> &lt;&lt; MUX3) | (<span class="hljs-number">0</span> &lt;&lt; MUX2) | (<span class="hljs-number">0</span> &lt;&lt; MUX1) | (<span class="hljs-number">0</span> &lt;&lt; MUX0); <span class="hljs-comment">// ADC0</span>
   <span class="hljs-comment">// , free running,  </span>
   ADCSRA = (<span class="hljs-number">1</span> &lt;&lt; ADEN) | (<span class="hljs-number">1</span> &lt;&lt; ADFR) | (<span class="hljs-number">1</span> &lt;&lt; ADIE) |<font></font>
   (<span class="hljs-number">1</span> &lt;&lt; ADPS2) | (<span class="hljs-number">1</span> &lt;&lt; ADPS1) | (<span class="hljs-number">1</span> &lt;&lt; ADPS0); <span class="hljs-comment">//  128</span><font></font>
   <font></font>
   ADCSRA |= (<span class="hljs-number">1</span> &lt;&lt; ADSC);             <span class="hljs-comment">// Start ADC Conversion</span><font></font>
}<font></font>
<font></font>
ISR(ADC_vect) <span class="hljs-comment">//     2500    </span><font></font>
{<font></font>
   <span class="hljs-keyword">if</span> ((ADMUX &amp; (<span class="hljs-number">1</span> &lt;&lt; MUX0))) { <span class="hljs-comment">//    ADC1</span>
      <span class="hljs-keyword">if</span> (sampleCount++) <span class="hljs-comment">//   </span><font></font>
         tempVoltage1 += ADC;<font></font>
      <span class="hljs-keyword">if</span> (sampleCount &gt;= SAMPLES) {<font></font>
         sampleCount = <span class="hljs-number">0</span>;<font></font>
         sumVoltage1 = tempVoltage1;<font></font>
         tempVoltage2 = <span class="hljs-number">0</span>;<font></font>
         tempVoltage1 = <span class="hljs-number">0</span>;<font></font>
         ADMUX &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; MUX0); <span class="hljs-comment">//   ADC0</span><font></font>
      }        <font></font>
   } <span class="hljs-keyword">else</span> { <span class="hljs-comment">//    ADC0</span>
      <span class="hljs-keyword">if</span> (sampleCount++) <span class="hljs-comment">//   </span><font></font>
         tempVoltage2 += ADC;<font></font>
      <span class="hljs-keyword">if</span> (sampleCount &gt;= SAMPLES) {<font></font>
         sampleCount = <span class="hljs-number">0</span>;<font></font>
         sumVoltage2 = tempVoltage2;<font></font>
         tempVoltage2 = <span class="hljs-number">0</span>;<font></font>
         tempVoltage1 = <span class="hljs-number">0</span>;<font></font>
         ADMUX |= (<span class="hljs-number">1</span> &lt;&lt; MUX0); <span class="hljs-comment">//   ADC1</span><font></font>
      }  <font></font>
   }<font></font>
   ADCSRA |=(<span class="hljs-number">1</span> &lt;&lt; ADIF);              <span class="hljs-comment">// Acknowledge the ADC Interrupt Flag</span><font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//      </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_U_STATES {<font></font>
   U_INVALID = <span class="hljs-number">0</span>, <span class="hljs-comment">//    </span>
   U_VALID <span class="hljs-comment">//   </span><font></font>
} ABP_U_STATES;<font></font>
<font></font>
ABP_U_STATES u220n, u220g; <span class="hljs-comment">//     </span><font></font>
<font></font>
<span class="hljs-comment">//         </span>
<span class="hljs-comment">//        ,   </span>
<span class="hljs-comment">//    ( ),   </span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAX_V 14.0</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MIN_V 7.5</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ports_init</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-comment">//    </span>
   PORTB &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PB0);<font></font>
   DDRB  |=  (<span class="hljs-number">1</span> &lt;&lt; PB0); <span class="hljs-comment">// output</span>
   PORTB &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PB0); <span class="hljs-comment">// </span><font></font>
   <font></font>
   <span class="hljs-comment">//    1</span>
   PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD4);<font></font>
   DDRD  |=  (<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">// output</span>
   PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">//   - </span>
   <span class="hljs-comment">//    2</span>
   PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD3);<font></font>
   DDRD  |=  (<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">// output</span>
   PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">//   - </span>
   <span class="hljs-comment">//     </span>
   PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD2);<font></font>
   DDRD  |=  (<span class="hljs-number">1</span> &lt;&lt; PD2); <span class="hljs-comment">// output</span>
   PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD2); <span class="hljs-comment">//   - </span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">validate220</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-comment">//       </span>
   realV1 = DIVIDER1 * ((sumVoltage1 * REFERENCEV) / <span class="hljs-number">1024</span>) / SAMPLES;<font></font>
   realV2 = DIVIDER2 * ((sumVoltage2 * REFERENCEV) / <span class="hljs-number">1024</span>) / SAMPLES;<font></font>
   <font></font>
   <span class="hljs-keyword">if</span>( realV1 &gt; MAX_V || realV1 &lt; MIN_V ) { <span class="hljs-comment">//    </span><font></font>
      u220g = U_INVALID;<font></font>
      } <span class="hljs-keyword">else</span> {<font></font>
      u220g = U_VALID;<font></font>
   }<font></font>
   <span class="hljs-keyword">if</span>( realV2 &gt; MAX_V || realV2 &lt; MIN_V ) { <span class="hljs-comment">//    </span><font></font>
      u220n = U_INVALID;<font></font>
      } <span class="hljs-keyword">else</span> {<font></font>
      u220n = U_VALID;<font></font>
   }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">validate_contactors</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-comment">//      220 </span>
      <span class="hljs-comment">//   RLY_220N = RLY_ON  RLY_OFF</span>
      <span class="hljs-keyword">if</span>( u220n == U_VALID &amp;&amp; contactors[RLY_220N] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220N_ON].state == TMR_OFF) { <span class="hljs-comment">//  ,   ,    </span>
         abp_timer_stop( TMR_220N_OFF ); <span class="hljs-comment">//    220</span>
         abp_timer_start( TMR_220N_ON ); <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_VALID &amp;&amp; contactors[RLY_220N] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220N_ON].state == TMR_ON &amp;&amp; abp_timer_check(TMR_220N_ON)) { <span class="hljs-comment">//  ,   ,  </span>
         abp_timer_stop( TMR_220N_OFF ); <span class="hljs-comment">//    220</span>
         abp_timer_stop( TMR_220N_ON ); <span class="hljs-comment">//    220</span>
         contactors[RLY_220N] = RLY_ON; <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_VALID &amp;&amp; contactors[RLY_220N] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220N_OFF].state == TMR_ON) { <span class="hljs-comment">//  ,  ,    </span>
         abp_timer_stop( TMR_220N_OFF ); <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_INVALID &amp;&amp; contactors[RLY_220N] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220N_OFF].state == TMR_OFF) { <span class="hljs-comment">//  ,   ,    </span>
         abp_timer_stop( TMR_220N_ON ); <span class="hljs-comment">//    220</span>
         abp_timer_start( TMR_220N_OFF ); <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_INVALID &amp;&amp; contactors[RLY_220N] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220N_OFF].state == TMR_ON &amp;&amp; abp_timer_check(TMR_220N_OFF)) { <span class="hljs-comment">//  ,   ,  </span>
         abp_timer_stop( TMR_220N_OFF ); <span class="hljs-comment">//    220</span>
         abp_timer_stop( TMR_220N_ON ); <span class="hljs-comment">//    220</span>
         contactors[RLY_220N] = RLY_OFF; <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_INVALID &amp;&amp; contactors[RLY_220N] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220N_ON].state == TMR_ON) { <span class="hljs-comment">//  ,  ,    </span>
         abp_timer_stop( TMR_220N_ON ); <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <font></font>
      <span class="hljs-comment">//     </span>
      <span class="hljs-comment">//   RLY_220G = RLY_ON  RLY_OFF</span>
      <span class="hljs-keyword">if</span>( u220g == U_VALID &amp;&amp; contactors[RLY_220G] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220G_ON].state == TMR_OFF) { <span class="hljs-comment">//  ,   ,    </span>
         abp_timer_stop( TMR_220G_OFF ); <span class="hljs-comment">//    </span>
         abp_timer_start( TMR_220G_ON ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_VALID &amp;&amp; contactors[RLY_220G] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220G_ON].state == TMR_ON &amp;&amp; abp_timer_check(TMR_220G_ON)) { <span class="hljs-comment">//  ,   ,  </span>
         abp_timer_stop( TMR_220G_OFF ); <span class="hljs-comment">//    </span>
         abp_timer_stop( TMR_220G_ON ); <span class="hljs-comment">//    </span>
         contactors[RLY_220G] = RLY_ON; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_VALID &amp;&amp; contactors[RLY_220G] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220G_OFF].state == TMR_ON) { <span class="hljs-comment">//  ,  ,    </span>
         abp_timer_stop( TMR_220G_OFF ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_INVALID &amp;&amp; contactors[RLY_220G] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220G_OFF].state == TMR_OFF) { <span class="hljs-comment">//  ,   ,    </span>
         abp_timer_stop( TMR_220G_ON ); <span class="hljs-comment">//    </span>
         abp_timer_start( TMR_220G_OFF ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_INVALID &amp;&amp; contactors[RLY_220G] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220G_OFF].state == TMR_ON &amp;&amp; abp_timer_check(TMR_220G_OFF)) { <span class="hljs-comment">//  ,   ,  </span>
         abp_timer_stop( TMR_220G_OFF ); <span class="hljs-comment">//    </span>
         abp_timer_stop( TMR_220G_ON ); <span class="hljs-comment">//    </span>
         contactors[RLY_220G] = RLY_OFF; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_INVALID &amp;&amp; contactors[RLY_220G] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220G_ON].state == TMR_ON) { <span class="hljs-comment">//  ,  ,    </span>
         abp_timer_stop( TMR_220G_ON ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <font></font>
      <span class="hljs-comment">//      </span>
      <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_OFF &amp;&amp; contactors[RLY_GEN] == RLY_OFF) { <span class="hljs-comment">//  ,  </span>
         abp_timer_stop( TMR_GEN_OFF ); <span class="hljs-comment">//    </span>
         contactors[RLY_GEN] = RLY_ON; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_ON &amp;&amp; abp_timers[TMR_GEN_OFF].state == TMR_OFF <font></font>
      &amp;&amp; u220g == U_VALID) { <span class="hljs-comment">//  220      </span>
         abp_timer_start( TMR_GEN_OFF ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_ON &amp;&amp; abp_timers[TMR_GEN_OFF].state == TMR_OFF<font></font>
      &amp;&amp; u220g == U_INVALID) { <span class="hljs-comment">//  220      </span>
         abp_timer_stop( TMR_GEN_OFF ); <span class="hljs-comment">//    </span>
         contactors[RLY_GEN] = RLY_OFF; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_ON &amp;&amp; abp_timers[TMR_GEN_OFF].state == TMR_ON<font></font>
      &amp;&amp;  abp_timer_check(TMR_GEN_OFF) ) { <span class="hljs-comment">//  220      </span>
         abp_timer_stop( TMR_GEN_OFF ); <span class="hljs-comment">//    </span>
         contactors[RLY_GEN] = RLY_OFF; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">switch_contactors</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-comment">//   </span>
   <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_ON ) {<font></font>
      PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">//   -   1 </span>
       _delay_ms(<span class="hljs-number">50</span>); <span class="hljs-comment">//      </span>
      PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">//   -   2 220</span><font></font>
      led_State = ABP_2RELAY;<font></font>
   } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span>( contactors[RLY_220G] == RLY_ON ) {<font></font>
         PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">//   -   2 220</span>
         PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">//   -   1 </span><font></font>
         led_State = ABP_1RELAY;<font></font>
      } <span class="hljs-keyword">else</span> {<font></font>
         PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">//   -   2 220</span>
         PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">//   -   1 </span><font></font>
         led_State = ABP_UNDEF;<font></font>
      }<font></font>
   }<font></font>
   <span class="hljs-keyword">if</span>( contactors[RLY_GEN] != RLY_ON ) { <span class="hljs-comment">// v2       -     </span>
      PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD2); <span class="hljs-comment">//   -   -     -  </span>
   } <span class="hljs-keyword">else</span> {<font></font>
      PORTD |= (<span class="hljs-number">1</span> &lt;&lt; PD2); <span class="hljs-comment">//   -   -    </span><font></font>
   }<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{<font></font>
   ports_init(); <span class="hljs-comment">//   ,   </span><font></font>
   <font></font>
   uart_init(); <span class="hljs-comment">// uart</span>
   <span class="hljs-built_in">stdout</span> =  &amp;uart_stream;<font></font>
   <font></font>
   counter2_init(); <span class="hljs-comment">//    </span>
   ADC_init(); <span class="hljs-comment">//    220</span>
   abp_timers_init(); <span class="hljs-comment">//      </span>
   timer1_init(); <span class="hljs-comment">//       1</span><font></font>
<font></font>
    set_sleep_mode(SLEEP_MODE_IDLE);  <span class="hljs-comment">//     IDLE</span><font></font>
    sleep_enable();<font></font>
<font></font>
    wdt_enable(WDTO_2S); <span class="hljs-comment">//       2 </span><font></font>
<font></font>
   sei(); <span class="hljs-comment">//   </span><font></font>
   <font></font>
   _delay_ms(<span class="hljs-number">1000</span>); <span class="hljs-comment">//    ,   0</span><font></font>
   wdt_reset();<font></font>
   <span class="hljs-built_in">printf</span>( <span class="hljs-string">"Start flag after reset = %u\r\n"</span>, mcusr_mirror );<font></font>
   abp_timer_start(TMR_PRINT);<font></font>
   <font></font>
    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<font></font>
    {<font></font>
      wdt_reset(); <span class="hljs-comment">//   </span><font></font>
      <font></font>
      validate220(); <span class="hljs-comment">//   220    </span><font></font>
   <font></font>
      validate_contactors(); <span class="hljs-comment">//      </span><font></font>
      <font></font>
      switch_contactors(); <span class="hljs-comment">//    </span><font></font>
      <font></font>
      <span class="hljs-comment">//     2 </span>
      <span class="hljs-keyword">if</span> (abp_timer_check(TMR_PRINT)) {
         <span class="hljs-built_in">printf</span>( <span class="hljs-string">"V220 = %4.2f VG = %4.2f\r\n"</span>, realV2, realV1 );
         <span class="hljs-built_in">printf</span>( <span class="hljs-string">"valid = %u %u \r\n"</span>, u220n, u220g );
         <span class="hljs-built_in">printf</span>( <span class="hljs-string">"rly = %u %u %u\r\n"</span>, contactors[RLY_220N], contactors[RLY_220G], contactors[RLY_GEN] );<font></font>
         abp_timer_start(TMR_PRINT);<font></font>
      }<font></font>
      <font></font>
        sleep_cpu(); <span class="hljs-comment">//      </span><font></font>
    }<font></font>
}<font></font>
</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
</div>
                    </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O programa foi desenvolvido usando o AVR Studio gratuito e usa bibliotecas padr√£o do AVR. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No circuito principal, o programa verifica a tens√£o nas entradas das entradas, avalia o estado de comuta√ß√£o dos contatores, leva em considera√ß√£o a opera√ß√£o dos temporizadores do programa, faz os ajustes necess√°rios ligando ou desligando os rel√©s e contatores e depois entra em hiberna√ß√£o. </font><font style="vertical-align: inherit;">Para depura√ß√£o, √© feita a conclus√£o da impress√£o de depura√ß√£o na porta serial do microcontrolador. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para controlar os congelamentos, √© fornecido um cron√¥metro de vigil√¢ncia. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos os ciclos de medi√ß√£o s√£o feitos em interrup√ß√µes e usando temporizadores de hardware. </font><font style="vertical-align: inherit;">O segundo contador √© feito no timer 1. Ap√≥s a interrup√ß√£o do timer 1, os timers do software s√£o atualizados, respons√°veis ‚Äã‚Äãpelo atraso na ativa√ß√£o e desativa√ß√£o dos contatores e rel√©s do gerador.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O segundo temporizador √© usado para criar o efeito intermitente do LED de status. Existem tr√™s padr√µes intermitentes. Os valores do padr√£o piscante s√£o obtidos na interrup√ß√£o do timer 2. Ao piscar, voc√™ pode avaliar o status do controlador. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dois ADCs tamb√©m trabalham com temporizadores e, em m√©dia, 2500 amostras de medi√ß√µes de tens√£o. Para converter medi√ß√µes em volts reais, s√£o fornecidas constantes de calibra√ß√£o. Seus valores devem ser corrigidos durante a configura√ß√£o do ATS. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, h√° v√°rias constantes que precisam ser determinadas durante o comissionamento.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<pre><code class="cpp hljs">abp_timers[TMR_220N_ON].set_secs = <span class="hljs-number">10</span>; <span class="hljs-comment">//     </span>
abp_timers[TMR_220G_ON].set_secs = <span class="hljs-number">60</span>; <span class="hljs-comment">//        </span>
abp_timers[TMR_220N_OFF].set_secs = <span class="hljs-number">5</span>; <span class="hljs-comment">//     </span>
abp_timers[TMR_220G_OFF].set_secs = <span class="hljs-number">5</span>; <span class="hljs-comment">//     </span>
abp_timers[TMR_GEN_OFF].set_secs = <span class="hljs-number">60</span>; <span class="hljs-comment">//      </span>
</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O rel√© de parada do gerador durante a opera√ß√£o do gerador √© mantido, bloqueando o fornecimento de tens√£o ao circuito de parada do gerador. Ap√≥s a conclus√£o do cron√¥metro de inatividade do gerador, o rel√© √© desligado e a corrente flui para o circuito de parada do gerador atrav√©s desse rel√©. No pr√≥prio gerador, existe uma unidade especial que, ap√≥s o aparecimento de tens√£o com algum atraso, fecha o circuito de igni√ß√£o ao terra, o que leva √† parada do gerador. O mesmo bloco cont√©m um circuito de carregamento do gerador. Se algu√©m estiver interessado nos detalhes, escreva nos coment√°rios, farei um post separado sobre esse bloco. N√£o h√° c√≥digo, tudo √© hardware. </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se algu√©m decidir repetir o ABP, vale a pena ajustar as configura√ß√µes. N√£o publico o firmware finalizado, pois o programa ainda precisa ser corrigido durante a configura√ß√£o do ATS.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devo dizer que meu ABP trabalha h√° 4 anos sem problemas, para que o circuito possa ser considerado verificado como o c√≥digo.</font></font></div>
      
    </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt507746/index.html">Por que e como verificar a velocidade de carregamento do site?</a></li>
<li><a href="../pt507748/index.html">IHM baseada em Node-red e Scadavis.io</a></li>
<li><a href="../pt507750/index.html">FlexCube - implementa√ß√£o da revolucion√°ria plataforma de back-office em Rosbank</a></li>
<li><a href="../pt507752/index.html">Por que o carregamento lento do site mata o SEO. E como chinchilas n√£o podem ser deixadas sem casas</a></li>
<li><a href="../pt507758/index.html">Mem√≥ria JavaScript - sem vazamentos</a></li>
<li><a href="../pt507772/index.html">Mais importante da confer√™ncia WWDC'20 da Apple</a></li>
<li><a href="../pt507780/index.html">A recurs√£o da consci√™ncia √© uma armadilha do pensamento e uma barreira ao progresso. Ensaio hist√≥rico</a></li>
<li><a href="../zh-CN486176/index.html">‰ºÅ‰∏öÁîµÂ≠êÈÇÆ‰ª∂ÈÄöËÆØÂ§áÂøòÂΩï</a></li>
<li><a href="../zh-CN486178/index.html">FOSSÊñ∞Èóª1-2020Âπ¥1Êúà27Êó•Ëá≥2Êúà2Êó•ÂÖçË¥πÂíåÂºÄÊ∫êÊñ∞ÈóªÁöÑÂõûÈ°æ</a></li>
<li><a href="../zh-CN486180/index.html">ÂàõÂª∫Êó†ÊúçÂä°Âô®Â∫îÁî®Á®ãÂ∫èÁöÑÊèêÁ§∫ÂíåËµÑÊ∫ê</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>