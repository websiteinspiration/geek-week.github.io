<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🔧 🧑🏿 🎗️ Cisco 200-125 CCNA v3.0のトレーニング。14日目。VTP、プルーニング、ネイティブVLAN ✌🏼 🛬 🥇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今日は、VLANの説明を続け、VTPプロトコル、およびVTPプルーニングとネイティブVLANの概念について説明します。前のビデオの1つでVTPについて話しましたが、VTPについて聞いたときに最初に頭に浮かぶのは、「VLANトランキングプロトコル」と呼ばれるものにもかかわらず、トランキングプロトコルで...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco 200-125 CCNA v3.0のトレーニング。14日目。VTP、プルーニング、ネイティブVLAN</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/463231/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今日は、VLANの説明を続け、VTPプロトコル、およびVTPプルーニングとネイティブVLANの概念について説明します。前のビデオの1つでVTPについて話しましたが、VTPについて聞いたときに最初に頭に浮かぶのは、「VLANトランキングプロトコル」と呼ばれるものにもかかわらず、トランキングプロトコルではないということです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3i/q0/z9/3iq0z9bwjsogzqjcdksb76_iy94.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存じのように、2つの一般的なトランキングプロトコルがあります。今日使用されていないCisco ISL独自のプロトコルと、トランキングトラフィックをカプセル化するためにさまざまなメーカーのネットワークデバイスで使用されている802.qプロトコルです。このプロトコルは、Ciscoスイッチでも使用されます。 VTPはVLAN同期プロトコルであると既に述べました。つまり、VTPはネットワークのすべてのスイッチでVLANデータベースを同期するように設計されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/aw/i8/6c/awi86cfo128hwy2xwtw0c_mj5kq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバー、クライアント、透過のさまざまなVTPモードについて説明しました。デバイスがサーバーモードを使用している場合、これにより、VLANを変更、追加、または削除できます。クライアントモードではスイッチ設定を変更できません。VLANデータベースはVTPサーバーを介してのみ構成でき、すべてのVTPクライアントに複製されます。トランスペアレントモードのスイッチは、自身のVLANデータベースに変更を加えるのではなく、スイッチ自体を通過して、クライアントモードの次のデバイスに変更を渡します。このモードは、特定のデバイスでVTPプロトコルを無効にし、VLAN変更に関する情報のキャリアに変えるのと似ています。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のレッスンで説明したPacket Tracerとネットワークトポロジに戻ります。</font><font style="vertical-align: inherit;">営業部門のVLAN10ネットワークとマーケティング部門のVLAN20ネットワークを3つのスイッチと組み合わせて構成しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/cc/2r/nwcc2rmc4zke8sz_t9hpfr1fn6a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチSW1のVLANデータベースにVLAN10を追加したため、スイッチSW0とSW1の間にVLAN20が接続され、SW0とSW2の間にVLAN10が接続されています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VTPプロトコルの動作を検討するために、スイッチの1つをVTPサーバーとして使用し、SW0とします。</font><font style="vertical-align: inherit;">覚えていれば、デフォルトではすべてのスイッチがVTPサーバーモードで動作します。</font><font style="vertical-align: inherit;">スイッチのコマンドラインターミナルに移動して、show vtp statusコマンドを入力します。</font><font style="vertical-align: inherit;">VTPプロトコルの現在のバージョン-2と設定4のリビジョン番号が表示されます。覚えておくと、VTPデータベースに変更が加えられるたびに、リビジョン番号が1つ増えます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ry/_o/vk/ry_ovka1bovj7mdz-dbrb7ocyjw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サポートされるVLANの最大数は255です。スイッチごとに異なる数のローカル仮想ネットワークをサポートできるため、この数は特定のCiscoスイッチのブランドによって異なります。既存のVLANの数は7です。1分後に、どのようなネットワークを検討するかを説明します。 VTP管理モード-サーバー、ドメイン名が設定されておらず、VTPプルーニングモードが無効になっています。後でこれに戻ります。 VTP V2およびVTPトラップ生成モードも無効になります。 200-125 CCNA試験を受けるには、最後の2つのモードについて知る必要はないので、心配する必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
show vlanコマンドを使用するVLANデータベースを見てみましょう。前のビデオで見たように、1002、1003、1004、および1005の4つのサポートされていないネットワークがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1r/91/gw/1r91gwmtwtcliixet8gmqvwbefq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、作成した2つのVLAN 10と20、およびデフォルトのネットワークVLAN1もリストされます。次に、別のスイッチに移動して同じコマンドを入力し、VTPステータスを表示します。このスイッチのリビジョン番号は3で、VTPサーバーモードであり、他のすべての情報は最初のスイッチと同様です。 show VLANコマンドを入力すると、設定に2つの変更が加えられたことがわかります。1つはスイッチSW0より小さいため、SW1のリビジョン番号は3です。最初のスイッチのデフォルト設定に3つの変更を加えたため、そのリビジョン番号4.に増加した</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0t/mj/y0/0tmjy0ccn59trobdq3sdbev0cny.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今、SW2の状態での外観をしましょう。ここのリビジョン番号は1で、これは奇妙です。設定に1つの変更が加えられたため、2番目のリビジョンが必要です。 VLANデータベースを見てみましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kf/y4/1d/kfy41dkjx4jgowh7s5kfqkwxgle.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLAN10ネットワークを作成して1つの変更を加えましたが、この情報が更新されなかった理由がわかりません。おそらくこれは、実際のネットワークがなく、エラーが発生する可能性のあるソフトウェアネットワークシミュレーターがあるためです。シスコで練習しているときに実際のデバイスを操作する機会がある場合、これはパケットトレーサーシミュレータよりも役立ちます。実際のデバイスがない場合のもう1つの有用なものは、GNC3、またはCiscoネットワークシミュレータです。これは、ルーターなど、デバイスの実際のオペレーティングシステムを使用するエミュレータです。シミュレーターとエミュレーターには違いがあります。1つ目は、実際のルーターのように見えるプログラムですが、そうではありません。エミュレータはプログラムでデバイス自体のみを作成しますが、操作には実際のソフトウェアを使用します。ただし、実際のCisco IOSソフトウェアを使用する機会がない場合、最良のオプションはパケットトレーサーです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、SW0をVTPサーバーとして構成する必要があります。これを行うには、グローバル構成モードに入り、vtp version 2コマンドを入力します。前述したように、必要なプロトコルバージョンをインストールできます。この場合、1または2です。 2番目のバージョンが必要です。次に、vtp modeコマンドを使用して、スイッチのVTPモード（サーバー、クライアント、または透過）を設定します。この場合、サーバーモードが必要です。vtpmode serverコマンドを入力すると、デバイスがすでにサーバーモードであることを示すメッセージが表示されます。次に、vtp domain nwking.orgコマ​​ンドを使用するVTPドメインを構成する必要があります。なぜこれが必要なのですか？ネットワーク上にリビジョン番号の大きい別のデバイスがある場合、リビジョンの小さい他のすべてのデバイスは、このデバイスからVLANデータベースを複製し始めます。ただし、これは次の場合にのみ発生しますデバイスのドメイン名が同じ場合。たとえば、nwking.orgで作業する場合はこのドメインを指定し、Ciscoの場合はドメインはCisco.comのようになります。会社のデバイスのドメイン名により、それらを他の会社のデバイスや他の外部ネットワークデバイスと区別できます。会社のドメイン名をデバイスに割り当てる場合、それを会社のネットワークの一部にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、VTPパスワードを設定します。これは、リビジョン番号の大きいデバイスを持っているハッカーが自分のVTP設定をスイッチにコピーできないようにするために必要です。 vtp password ciscoコマンドを使用してciscoパスワードを入力します。その後、パスワードが一致する場合にのみ、スイッチ間のVTPデータの複製が可能になります。間違ったパスワードを使用すると、VLANデータベースは更新されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらにVLANを作成してみましょう。これを行うには、config tコマンドを使用し、vlan 200コマンドを使用して、番号200のネットワークを作成し、それにTESTという名前を付け、exitコマンドを使用して変更を保存します。次に、別のVLAN 500ネットワークを作成し、TEST1と呼びます。ここでshow vlanコマンドを入力すると、スイッチの仮想ネットワークテーブルに、ポートが割り当てられていないこれら2つの新しいネットワークが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_n/um/mc/_nummc6z1slkdz0ydz7ekzh7qys.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW1に移動して、VTPステータスを確認します。ここでは何も変更されていないことがわかります。ドメイン名を除き、VLANの数は7のままです。VTPパスワードが一致しないため、作成したネットワークの外観は表示されません。 conf t、vtp pass、vtp password ciscoコマンドを順番に入力して、このスイッチにVTPパスワードを設定してみましょう。システムは、デバイスVLANデータベースがシスコパスワードを使用するというメッセージを発行しました。情報が複製されているかどうかを確認するために、VTPステータスをもう一度見てみましょう。ご覧のとおり、既存のVLANの数は自動的に9に増えました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスイッチのVLANデータベースを見ると、作成したVLAN200およびVLAN500ネットワークが自動的に表示されていることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のスイッチSW2でも同じことが必要です。 show vlanコマンドを入力してみましょう。変更はありません。同様に、VTPステータスに変更はありません。このスイッチで情報を更新するには、パスワードも設定する必要があります。つまり、SW1と同じコマンドを入力します。その後、SW2ステータスのVLANの数は9に増加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それがVTPプロトコルの目的です。これはすばらしいことです。サーバーデバイスに変更を加えた後、すべてのクライアントネットワークデバイスの情報が自動的に更新されます。すべてのスイッチのVLANデータベースを手動で変更する必要はありません-複製は自動的に行われます。 200のネットワークデバイスがある場合、変更は200のデバイスすべてに同時に保存されます。念のため、SW2がVTPクライアントでもあることを確認する必要があるため、config tコマンドで設定に移動し、vtp mode clientコマンドを入力します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、私たちのネットワークでは、最初のスイッチのみがVTPサーバーモードで、他の2つはVTPクライアントモードです。ここでSW2の設定に進み、vlan 1000コマンドを入力すると、「デバイスがクライアントモードの場合、VTP VLAN構成は許可されません」というメッセージが表示されます。したがって、スイッチがVTPクライアントモードの場合、VLANデータベースに変更を加えることはできません。変更を加える場合は、スイッチサーバーに移動する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW0ターミナルの設定に入り、コマンドvlan 999を入力し、IMRANという名前を付けて終了します。この新しいネットワークは、このスイッチのVLANデータベースに表示されます。スイッチクライアントSW2のデータベースに移動すると、同じ情報がここに表示されていることがわかります。つまり、レプリケーションが発生しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでに述べたように、VTPは優れたソフトウェアですが、不適切に使用すると、このプロトコルがネットワーク全体を混乱させる可能性があります。したがって、ドメイン名とVTPパスワードが指定されていない場合は、会社のネットワークに十分注意する必要があります。この場合、ハッカーが必要とするのは、スイッチのケーブルを壁のコンセントに挿入し、DTPプロトコルを使用してオフィスのスイッチに接続し、作成されたトランクを使用して、VTPプロトコルを使用してすべての情報を更新することだけです。したがって、ハッカーは自分のデバイスのリビジョン番号が残りのスイッチのリビジョン番号よりも大きいという事実を利用して、すべての重要なVLANを削除することができます。同時に、会社のスイッチは自動的にすべてのVLANデータベース情報を悪意のあるスイッチから複製された情報に置き換え、ネットワーク全体が崩壊します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、ネットワークケーブルを使用するコンピュータが、VLAN 10またはVLAN20が接続されている特定のスイッチポートに接続されているためです。これらのネットワークがスイッチのLANデータベースから削除されると、存在しないネットワークに属するポートは自動的に切断されます。通常、スイッチは、次の更新中に削除されたVLANに関連付けられたポートを無効にするだけなので、会社のネットワークは正確にクラッシュする可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような問題が発生しないようにするには、VTPドメイン名とパスワードを設定するか、Ciscoポートセキュリティ機能を使用する必要があります。これにより、使用に関するさまざまな制限を導入してスイッチポートのMACアドレスを管理できます。たとえば、誰かがMACアドレスを変更しようとすると、ポートはすぐにシャットダウンします。すぐに、シスコスイッチのこの機能を非常に詳しく知るようになります。次に、ポートセキュリティによって、VTPが攻撃者から保護されていることを確認できることを知っておく必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VTP設定とは何かを要約します。このプロトコルバージョンの選択は1または2で、VTPモードの目的はサーバー、クライアント、または透過です。前に述べたように、最後のモードではデバイス自体のVLANデータベースは更新されませんが、すべての変更が隣接デバイスに渡されます。ドメイン名とパスワードを割り当てるコマンドは、vtp domain &lt;ドメイン名&gt;とvtp password &lt;パスワード&gt;です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cc/w-/ar/ccw-ardwngn7z0mm4ub3ggg7gps.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、VTPプルーニングの設定について説明します。ネットワークトポロジを見ると、3つすべてのスイッチが同じVLANデータベースを持っていることがわかります。つまり、VLAN10とVLAN20は3つすべてのスイッチの一部です。技術的には、SW2スイッチにはこのネットワークに関連するポートがないため、VLAN20ネットワークは必要ありません。ただし、これに関係なく、Laptop0コンピューターからVLAN20ネットワーク経由で送信されるすべてのトラフィックは、スイッチSW1に向かい、トランクからSW2ポートに流れます。ネットワークスペシャリストとしての主なタスクは、ネットワーク上で送信されるデータをできるだけ少なくすることです。必要なデータの転送を確認する必要がありますが、このデバイスが必要としない情報の転送を制限するにはどうすればよいですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLAN20デバイス宛のトラフィックが不要な場合は、トランクを介してSW2ポートに送信されないようにする必要があります。つまり、Laptop0トラフィックはSW1に到達し、さらにVLAN20ネットワーク上のコンピューターに到達する必要がありますが、SW1の正しいトランクポートを超えてはなりません。これは、VTPプルーニングを使用して実現できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、VTPサーバーSW0の設定に移動する必要があります。既に述べたように、VTP設定はサーバー経由でのみ行うことができるため、グローバル構成設定に移動し、vtp pruningコマンドを入力します。 Packet Tracerは単なるシミュレータであるため、コマンドラインプロンプトにはそのようなコマンドはありません。ただし、vtp pruningと入力して[Enter]を押すと、vtp pruningが使用できないことが報告されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
show vtp statusコマンドを使用すると、VTPプルーニングモードが無効な状態になっていることがわかります。そのため、これを有効な位置に移動して使用可能にする必要があります。これを行ったら、ネットワークドメイン内のネットワークの3つのスイッチすべてでVTPプルーニングモードをアクティブにします。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VTPプルーニングとは何かを思い出させてください。このモードを有効にすると、スイッチサーバーSW0はスイッチSW2に、ポートにVLAN10のみが構成されていることを通知します。その後、スイッチSW2は、スイッチSW1に、VLAN10ネットワーク宛てのトラフィック以外のトラフィックは必要ないことを通知します。現在、VTPプルーニングのおかげで、SW1スイッチは、SW1-SW2トランクでVLAN20トラフィックを送信する必要がないという情報を持っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク管理者として、これはあなたにとって非常に便利です。スイッチは特定のネットワークデバイスが必要とするものを正確に送信できるほどスマートであるため、手動でコマンドを入力する必要はありません。明日、別のマーケティングスタッフユニットを隣接する建物に配置し、VLAN20ネットワークをスイッチSW2に接続する場合、このスイッチはすぐにスイッチSW1にVLAN10およびVLAN20ネットワークが存在することを通知し、両方のネットワークのトラフィックをそこに転送するように要求します。この情報は常にすべてのデバイスで更新され、通信がより効率的になります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zh/i3/7l/zhi37lgxyefzidb0olg0j9xsqcc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トラフィック転送を指定する別の方法があります-指定されたVLANに対してのみデータ転送を許可するコマンドを使用します。スイッチSW1の設定に入り、Fa0 / 4ポートに関心があり、コマンドint fa0 / 4とswitchport trunk allowed vlanを入力します。 SW2にはVLAN10しかないことをすでに知っているので、許可されたvlanコマンドを使用して、トランクポートがこのネットワークのトラフィックのみを通過させるようにSW1スイッチを指定できます。したがって、VLAN10のトラフィックのみを送信するようにFa0 / 4トランクポートをプログラムしました。つまり、このポートは、VLAN1、VLAN20、または指定されたネットワーク以外のその他のネットワークを通過しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VTPプルーニングまたは許可されたvlanコマンドのどちらを使用するのが適切かを尋ねる場合があります。答えは主観的です。これは、最初の方法を使用する場合もあれば、2番目の方法を使用する場合があるためです。ネットワーク管理者として、あなた自身が最良のソリューションを選択する必要があります。特定のVLANのトラフィックを許可するようにポートをプログラムするという決定は良い場合もあれば、悪い場合もあります。私たちのネットワークの場合、ネットワークトポロジを変更しない場合は、allowed vlanコマンドの使用が保証される場合があります。ただし、後でVLAN20を使用してデバイスのグループをSW 2に追加する場合は、VTPプルーニングモードを適用することをお勧めします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qp/df/1d/qpdf1dmfb0p4assdcvctqizzgwi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、VTPプルーニングの設定は、次のコマンドを使用することから成ります。 vtp pruningコマンドは、このモードの自動使用を提供します。トランクポートのVTPプルーニングを設定して特定のVLANトラフィックを手動でスキップする場合は、コマンドを使用してトランクポート番号インターフェイス&lt;＃&gt;を選択し、トランクモードスイッチポートモードトランクを有効にし、スイッチポートトランク許可VLANを使用して特定のネットワークのトラフィックを有効にします&lt;すべて/なし/追加/削除/＃&gt;。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のコマンドでは5つのパラメーターを使用できます。 Allは、トラフィックがすべてのVLANで許可されることを意味します。none-すべてのVLANでトラフィックが許可されるわけではありません。 addパラメータを使用すると、別のネットワークのトラフィックパスを追加できます。たとえば、VLAN10トラフィックを許可し、addコマンドを使用してVLAN20ネットワークトラフィックの通過を許可することもできます。 removeコマンドを使用すると、ネットワークの1つを削除できます。たとえば、remove 20パラメータを使用すると、VLAN10トラフィックの送信のみが残ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ネイティブVLANを検討します。ネイティブVLANは、タグなしトラフィックを特定のトランクポート経由で渡すための仮想ネットワークであるとすでに述べました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dr/_l/ng/dr_lngwzayijz9dg5hrnrxruf2m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドラインヘッダーSW（config-if）＃で示されているように、特定のポートの設定に入り、switchport trunk native vlan &lt;ネットワーク番号&gt;コマンド（VLAN10など）を使用します。これで、すべてのVLAN10ネットワークトラフィックがタグなしタグを通過します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Packet Tracerウィンドウの論理ネットワークトポロジに戻ります。 Fa0 / 4スイッチポートにswitchport trunk native vlan 20コマンドを使用すると、すべてのVLAN20ネットワークトラフィックはタグなしのFa0 / 4-SW2トランクを通過します。 SW2スイッチはこのトラフィックを受信すると、「これはタグなしのトラフィックなので、ネイティブVLANに転送する必要がある」と考えます。このスイッチの場合、ネイティブVLANはネットワークVLAN1です。ネットワーク1と20はまったく接続されていませんが、ネイティブVLANモードが使用されているため、VLAN20トラフィックを完全に異なるネットワークにルーティングする機会があります。ただし、このトラフィックはカプセル化されず、ネットワーク自体は一致するはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例を見てみましょう。 SW1設定に移動し、switchport trunk native vlan 10コマンドを使用すると、VLAN10トラフィックはタグなしのトランクポートから送信されます。トランクポートSW2に到達すると、スイッチはそれをVLAN1に転送する必要があることを理解します。このソリューションの結果、トラフィックはPC2、3、および4のコンピューターに到達できなくなります。これらは、VLAN10用のスイッチのアクセスポートに接続されているためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的には、これによりシステムメッセージが表示され、VLAN10の一部であるFa0 / 4のネイティブVLANが、VLAN1の一部であるFa0 / 1と一致しないことが表示されます。つまり、ネイティブVLAN間の不一致により、これらのポートはトランクモードでは機能しません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/qt/xg/gwqtxg60_7zjscy-yhlvo9fv6nc.jpeg"><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8Ai0Bi71PsE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？注文またはお友達にそれを推奨することで私たちをサポートしてください、私たちがあなたの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために発明したエントリーレベルのサーバーのユニークなアナログのHabrユーザーのための30％割引：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsの真実20ドルまたはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">オランダでは、</font></b></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199ドルから、インテルTetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV</font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2台</font></a></b><font style="vertical-align: inherit;">だけ持ってい</font><b><font style="vertical-align: inherit;">ます！</font></b><b><b><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></b></b><font style="vertical-align: inherit;">について読む</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja463221/index.html">太陽を見る：5種類のガジェット、5ドルから5,000ドル</a></li>
<li><a href="../ja463223/index.html">モバイル＃310開発者向けの興味深い資料のダイジェスト（8月5〜11日）</a></li>
<li><a href="../ja463225/index.html">WiFiエンタープライズ。FreeRadius + FreeIPA + Ubiquiti</a></li>
<li><a href="../ja463227/index.html">pwnable.kr 19でジョブを解決する-リンクを解除します。ヒープバッファオーバーフロー</a></li>
<li><a href="../ja463229/index.html">文化の中のジェットパック：映画</a></li>
<li><a href="../ja463233/index.html">Cisco 200-125 CCNA v3.0のトレーニング。15日目遅い通信とポートセキュリティ</a></li>
<li><a href="../ja463237/index.html">ニューラルネットワークv 2.0で音楽を再生する方法</a></li>
<li><a href="../ja463239/index.html">8月22日-Alfa JS MeetUP SPb</a></li>
<li><a href="../ja463241/index.html">ACL 2019会議メモ</a></li>
<li><a href="../ja463243/index.html">意識の操作。なぜそんなに簡単なのですか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>