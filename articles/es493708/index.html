<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§® üí™üèø üóª Anatom√≠a de mi hogar Kubernetes cluster üë∏üèª ‚úçüèæ üîë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace un a√±o, me di cuenta de que quer√≠a crear mi propio cl√∫ster de Kubernetes. Soy un programador de sofware. Por lo general, utilizo un cl√∫ster local...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Anatom√≠a de mi hogar Kubernetes cluster</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493708/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hace un a√±o, me di cuenta de que quer√≠a crear mi propio cl√∫ster de Kubernetes. Soy un programador de sofware. Por lo general, utilizo un cl√∫ster local de un solo nodo o un cl√∫ster remoto de m√∫ltiples nodos para probar mis proyectos. Cuando trabajo con un cl√∫ster de un solo nodo, normalmente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conf√≠o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Minikube</font></a><font style="vertical-align: inherit;"> , aunque hay otras soluciones, como el proyecto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que pueden emular la presencia de varios nodos en un cl√∫ster. El soporte para m√∫ltiples nodos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puede aparecer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en Minikube.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, me gustar√≠a tener a mi disposici√≥n las capacidades de los dos entornos anteriores. Es decir, para que tenga un cl√∫ster que consta de varios nodos, y para que trabajar con estos cl√∫steres no implique retrasos en la red t√≠picos para interactuar con entornos remotos. </font><font style="vertical-align: inherit;">
Ya se han escrito muchos tutoriales excelentes sobre la creaci√≥n de cl√∫steres de m√∫ltiples nodos de Kubernetes utilizando </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">computadoras de una sola placa</font></a><font style="vertical-align: inherit;"> . Muchos de estos manuales usan Raspberry Pi como SBC. Al ver esto, decid√≠ seguir el camino de menor resistencia y tambi√©n eleg√≠ esta computadora. La plataforma Raspberry Pi se ha establecido como una soluci√≥n econ√≥mica y asequible.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/il/ui/ts/iluits7z2ihfycqlskr35gzsstg.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cabe se√±alar que la elecci√≥n de esta plataforma proporciona algunos compromisos. </font><font style="vertical-align: inherit;">Por ejemplo, Broadcom y la Fundaci√≥n Raspberry Pi no licenciaron las extensiones criptogr√°ficas ARMv8 (esto es necesario para la aceleraci√≥n de hardware del soporte AES). </font><font style="vertical-align: inherit;">Otra soluci√≥n controvertida es el uso de tarjetas microSD en forma de medio de almacenamiento est√°ndar desde el cual se carga el sistema operativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al analizar las pautas existentes para crear cl√∫steres en computadoras de una sola placa, no encontr√© ninguna que describa una soluci√≥n que satisfaga mis requisitos. </font><font style="vertical-align: inherit;">Comenzar√© la historia sobre el grupo que cre√© con ellos.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requisitos</font></font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El cl√∫ster debe estar encerrado en una carcasa separada, que se pueda mover, abrir y mantener f√°cilmente, trabajando con m√≥dulos separados del sistema;</font></font></li>
<li>            ,         .         ,        ,        .   ,      .   ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a>.</li>
<li>       ,      .</li>
<li>      , ,  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a> .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Detr√°s de estos requisitos, hay un objetivo no obvio, que es que necesitaba a mi hija de cuatro a√±os para trabajar con el cl√∫ster. </font><font style="vertical-align: inherit;">Espero que se convierta para ella en una especie de gu√≠a de estudio que la ayude a familiarizarse con las computadoras, los comandos y los terminales.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accesorios</font></font></font></h2><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detalle</font></font></b></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuente</font></font></b></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pico 5 Raspberry PI 5S Kit de inicio</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">picocluster.com</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computadoras de placa √∫nica: 2 Raspberry Pi 4B (4GB) 3 Raspberry Pi 3B +</font></font></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 tarjetas microSD 32GB clase 10 / A1&nbsp;</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raspberrypi.org</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cables Ethernet: 2 0.25m cat. 83 0.15m cat. 7, S / FTP</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1attack.de</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cables USB PortaPow 20AWG2 Cable USB-C3 Cable micro-USB</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">portablepowersupplies.co.uk</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pantalla t√°ctil oficial de Raspberry Pi 7 ‚Ä≥</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raspberrypi.org</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuente de alimentaci√≥n Dehner Elektronik STD-12090 12V / DC 9A 108W</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dehner.net</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convertidor DC-Buck de 12V a 5V 15A</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">droking.com</font></font></a></td>
</tr>
<tr>
<td> Heschen 12V 25A SPST 2-Pin ON/OFF</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">heschen.com</a></td>
</tr>
<tr>
<td> Noctua NF-A4x20 5V PWM</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">noctua.at</a></td>
</tr>
<tr>
<td>  , (15A, 30V)  4 ,    MOSFET PSMN011-30YLC</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ebay.com</a></td>
</tr>
<tr>
<td>2  M.2 NVMe  USB 3.0,   JMS58</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">amazon.com</a></td>
</tr>
<tr>
<td>2  Samsung SSD 970 EVO Plus M.2 PCIe NVMe 500 Go</td>
<td></td>
</tr>
<tr>
<td>2   USB 3.0 (  ,  )  6‚Ä≥/152mm</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">usbfirewire.com</a></td>
</tr>
<tr>
<td>2  USB 3.0- Delock, Male-Female ( 270¬∞)</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">delock.com</a></td>
</tr>
<tr>
<td>  Adafruit  Raspberry Pi 24‚Ä≥/610mm</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">adafruit.com</a></td>
</tr>
<tr>
<td>  Adafruit (DSI  CSI)  Raspberry Pi&nbsp;</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">adafruit.com</a></td>
</tr>
<tr>
<td>  Wago  221</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">wago.com</a></td>
</tr>
<tr>
<td>  Lapp Unitronic 300mm/1200mm 2x0.14mm¬≤</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lappgroup.com</a></td>
</tr>
<tr>
<td> Lemo FGG.0B.302.CLAD42  EGG.0B.302.CLL</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lemo.com</a></td>
</tr>
<tr>
<td>     DuPont Female-Female</td>
<td></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La funda PicoCluster es de tama√±o peque√±o y muy f√°cil de usar. Del kit de inicio que orden√©, us√© solo el chasis, incluidos los pestillos y los bastidores, as√≠ como el conmutador Gigabit Ethernet de 8 puertos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora entiendo que ser√≠a mejor si PicoCluster vendiera una versi√≥n de su kit sin ning√∫n componente el√©ctrico. Otra alternativa a este kit fue el desarrollo de su propio recinto. Esto, sin embargo, requerir√≠a m√°s tiempo. Tendr√≠a que crear dibujos vectoriales, tendr√≠a que utilizar los servicios de corte por l√°ser en una empresa que ofrezca l√°minas acr√≠licas, idealmente l√°minas con un revestimiento que disipe la descarga electrost√°tica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el curso del trabajo, me encontr√© con advertencias sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voltaje insuficiente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y descubr√≠ que el problema fue causado por cables micro-USB que ven√≠an con el estuche. Adem√°s, junto con la carcasa, hab√≠a un convertidor DC-DC reductor de 12V a 5V, 30W, que reemplac√© por uno m√°s potente. Hice esto por razones que discutiremos a continuaci√≥n en la secci√≥n sobre alimentaci√≥n del sistema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando comenc√© a trabajar en este proyecto, no planeaba usar las placas Raspberry Pi 4 lanzadas en 2019. Esto explica que todav√≠a tengo tres placas Raspberry Pi 3 que act√∫an como nodos de trabajo. Cambi√© otras dos placas por Raspberry Pi 4. Se utilizan para nodos que necesitan m√°s recursos. Este es el nodo principal y el nodo de trabajo, que, entre otras cosas, se utiliza para crear copias de seguridad de datos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poco despu√©s del lanzamiento de la Raspberry Pi 4, PicoCluster lanz√≥ un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nuevo chasis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dise√±ado espec√≠ficamente para tales placas. Incluye una potente fuente de alimentaci√≥n, dos ventiladores y un interruptor de alimentaci√≥n. Es cierto que este caso es m√°s grande que el m√≠o, y los ventiladores seguramente ser√°n m√°s fuertes que el Noctua NF-A4x20. La velocidad de rotaci√≥n de este ventilador se puede controlar mediante la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modulaci√≥n de ancho de pulso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (PWM), teniendo en cuenta los resultados de las mediciones de temperatura realizadas en las placas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cabe se√±alar que tanto el SoC Broadcom BCM2837 (Raspberry Pi 3) como el SoC BCM2711 (Raspberry Pi 4) tienen temporizadores de hardware capaces de generar se√±ales PWM. Como resultado, es muy simple emitir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se√±ales de entrada de control</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esperado por Noctua NF-A4x20 PWM sin sobrecargar el procesador. </font><font style="vertical-align: inherit;">Adem√°s, el ventilador apenas es audible cuando est√° funcionando a la mitad de la velocidad que soporta (aproximadamente 2500 rpm). </font><font style="vertical-align: inherit;">Result√≥ que esto es suficiente para mantener la temperatura del sistema por debajo de 45 ¬∞ C / 113 ¬∞ F bajo carga normal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El nuevo gabinete incluye una fuente de alimentaci√≥n integrada. </font><font style="vertical-align: inherit;">√âl, adem√°s, es m√°s caro que el que yo eleg√≠. </font><font style="vertical-align: inherit;">Todas estas caracter√≠sticas de este estuche son la raz√≥n por la que elegir√≠a el kit Pico 5S incluso si lo compro ahora. </font><font style="vertical-align: inherit;">Deben hacerse m√°s esfuerzos para recordarlo, pero lo que result√≥ al final me parece mejor de lo que hubiera resultado si hubiera elegido un edificio diferente. </font><font style="vertical-align: inherit;">En general, vale la pena el esfuerzo y el tiempo.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Montaje</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Panel frontal</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c4c/69a/bae/c4c69abaec8489276a0ae015fcc88f93.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panel</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
frontal El</font><i><font color="#999999"><font style="vertical-align: inherit;"> panel</font></font></i><font style="vertical-align: inherit;"> frontal tiene una abertura para acceder a las tarjetas microSD. Esto es conveniente, incluso teniendo en cuenta el hecho de que planeo organizar el arranque del sistema usando el</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> arranque de almacenamiento masivo USB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Planeo hacer esto justo despu√©s de que Raspberry Pi 4 sea totalmente compatible con este modo de arranque. El orificio tambi√©n ayuda a organizar la circulaci√≥n del aire en la carcasa. En este caso, dos unidades SSD est√°n ubicadas directamente en frente del ventilador, lo que ayuda a mantener su temperatura de funcionamiento √≥ptima.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los indicadores de actividad y potencia de los tableros son claramente visibles, lo que le permite evaluar el estado del cl√∫ster de un vistazo. Los indicadores de actividad del conmutador Ethernet tambi√©n son visibles.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ada/9df/3c3/ada9df3c359aa12ccfe557460738e672.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El panel superior de la carcasa sin pantalla La</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pantalla se puede mover f√°cilmente para acercarla al teclado o para proporcionar acceso al panel superior al abrir la carcasa.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Panel izquierdo</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb5/0af/849/bb50af8494c2c3a3df84832943addf92.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panel izquierdo</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En el panel izquierdo de la caja se encuentran los puertos GPIO de las placas. </font><font style="vertical-align: inherit;">Uno de los cables conecta la unidad principal con el ventilador, para organizar el control PWM de su velocidad de rotaci√≥n. </font><font style="vertical-align: inherit;">Otro cable conecta el nodo principal al m√≥dulo de la placa de circuito, que se utiliza para encender y apagar los nodos de trabajo. </font><font style="vertical-align: inherit;">Cuatro cables conectan cada uno de los nodos de trabajo al nodo principal. </font><font style="vertical-align: inherit;">Utiliza pines GPIO con un alto nivel activo cuando est√° apagado. </font><font style="vertical-align: inherit;">Esto permite que el nodo principal apague de forma segura la alimentaci√≥n del nodo de trabajo despu√©s de que se complete la secuencia de acciones realizadas al final de su operaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/157/16e/984/15716e984e6204e35758d85c63fa87db.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El m√≥dulo utilizado para conectar el ventilador al nodo principal</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En la esquina superior izquierda hay un peque√±o m√≥dulo dise√±ado para conectar el conector del ventilador Noctua de 4 pines al nodo principal Raspberry Pi. </font><font style="vertical-align: inherit;">El conector GPIO correspondiente, gracias al soporte de hardware para generar se√±ales PWM, est√° configurado para controlar la velocidad del ventilador. </font><font style="vertical-align: inherit;">La velocidad se selecciona en funci√≥n del an√°lisis de la temperatura de los tableros, cuya informaci√≥n se recopila regularmente utilizando SSH. </font><font style="vertical-align: inherit;">La unidad principal, adem√°s, para fines de monitoreo, lee la velocidad del ventilador.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç panel posterior</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ad/7ab/516/9ad7ab516db66c36391208b50f254db0.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panel</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
posterior El panel posterior del chasis oculta los cables. El hecho de que todo se vea as√≠ puede considerarse la consecuencia de un enfoque astuto para la organizaci√≥n modular de mi proyecto. Fue dif√≠cil encontrar cables de calidad. Especialmente: cables USB 3.0 cortos con enchufes curvos. Cables: este es el grupo m√°s grande de elementos m√≥viles en mi sistema, deben cumplir con ciertas caracter√≠sticas mec√°nicas y el√©ctricas. Probaron ser la principal fuente de problemas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tuve la idea de usar un solo cable en espiral para reemplazarlo con un cable de cinta DSI, con el cual se conecta una pantalla al sistema. Luego, el cable en espiral conectar√≠a la pantalla al cl√∫ster y le suministrar√≠a energ√≠a. Pero no pude encontrar un conector DSI adecuado. Me abstuve de esta aventura y del hecho de que no me atra√≠a la posibilidad de soldar 17 cables de 0.14 mm¬≤. Utilic√© un extensor de cable DSI y apliqu√© un cable de alimentaci√≥n micro USB en espiral de 2 hilos. Esto me dio la capacidad de mover y apagar f√°cilmente la pantalla sin abrir el estuche.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b04/a96/1a4/b04a961a4401c18d4a44864fb11ecde8.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intento fallido de organizar los cables</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aqu√≠ hay un intento fallido de utilizar el sistema para organizar la entrada de cables en el gabinete dise√±ado para cables de expansi√≥n USB 3.0. </font><font style="vertical-align: inherit;">A pesar de los innumerables intentos de enrutar correctamente los cables, he encontrado sistem√°ticamente errores de E / S durante las transferencias de datos. </font><font style="vertical-align: inherit;">Probablemente fueron causados ‚Äã‚Äãpor el hecho de que se estiraron demasiado al tender los cables, o por el hecho de que esto perjudic√≥ la conexi√≥n confiable de los cables a los conectores.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Panel derecho</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/136/038/7ab/1360387abdbf37fa749782ec3df5b8ca.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panel derecho</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En el lado derecho de la carcasa, puede ver el conmutador Ethernet de 8 puertos.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dise√±o de sistemas</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Comida</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eed/93b/b85/eed93bb85e71ca00a19f343d39fd706c.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estuche con panel frontal abierto</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tuve que decidir qu√© fuente de alimentaci√≥n usar. </font><font style="vertical-align: inherit;">En particular, sobre qu√© potencia en vatios debe soportar para satisfacer las necesidades del cl√∫ster. </font><font style="vertical-align: inherit;">Esta es una pregunta acerca de lo que vino antes: una gallina o un huevo, ya que no se pueden hacer mediciones antes de que se aplique energ√≠a al grupo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obtener una estimaci√≥n aproximada de la potencia, recurr√≠ a la</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> documentaci√≥n oficial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que contiene informaci√≥n sobre la potencia de la Raspberry Pi, as√≠ como a las especificaciones de otros componentes. </font><font style="vertical-align: inherit;">Esto me dio las siguientes cifras aproximadas basadas en el consumo promedio de energ√≠a.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fa/097/c9b/8fa097c9b1f40c9003bcf75b31d6c672.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero lo que sucedi√≥ despu√©s de tener en cuenta los valores m√°ximos de consumo de energ√≠a de la documentaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cec/3fc/424/cec3fc4241a30a788ff793edbf27cc86.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto fue mucho m√°s alto que la potencia proporcionada por esas fuentes de alimentaci√≥n que pude encontrar que produc√≠an 5V, ya que los componentes de "baja potencia" necesitaban una corriente de 10A. Esto descart√≥ la opci√≥n de usar una sola fuente de alimentaci√≥n de 5V. Al mismo tiempo, las fuentes de alimentaci√≥n de 12V son muy comunes, lo que puede proporcionar el nivel de potencia necesario. Como resultado, seleccion√© la fuente de alimentaci√≥n Dehner Elektronik STD-12090 12V / DC 9A 108W y la conect√© a un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">convertidor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DC / DC de </font><font style="vertical-align: inherit;">12V a 5V 75W. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ ten√≠a otra opci√≥n, que consist√≠a en usar cinco convertidores menos potentes, uno para cada placa Raspberry Pi, pero esto complicar√≠a en gran medida el dise√±o del cl√∫ster.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c86/e1a/95f/c86e1a95febd0d64ea0ee5f9bbafe28a.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Placa de parcheo Una placa de parche de</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
4 pines basada en el MOSFET PSMN011-30YLC est√° instalada en la parte inferior del chasis. Se utiliza para habilitar y deshabilitar nodos de trabajo. Tiene la etiqueta 15A, 30V, por lo que se adapta bien incluso con la carga creada por cuatro Raspberry Pi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Med√≠ la potencia media y m√°xima consumida por el cl√∫ster. Los resultados de la medici√≥n son aproximadamente consistentes con los c√°lculos aproximados que hice anteriormente. La diferencia entre los valores esperados y los reales puede explicarse por las caracter√≠sticas de la configuraci√≥n del sistema y las caracter√≠sticas de la prueba. En particular, apagu√© Wi-Fi y Bluetooth en mi Raspberry Pi, tambi√©n funcionan sin mostrar una imagen en el monitor. Esto puede explicar el hecho de que en realidad los valores resultaron ser menores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al final result√≥ que, la fuente de alimentaci√≥n de 108W es mucho m√°s potente de lo que se necesita para el cl√∫ster. </font><font style="vertical-align: inherit;">Sin embargo, el hecho de que cuente con una fuente de alimentaci√≥n de este tipo significa que puedo ampliar las capacidades del sistema. </font><font style="vertical-align: inherit;">Por ejemplo, reemplace Raspberry Pi 3 con Raspberry Pi 4.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Almacenamiento de datos</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una de las nuevas caracter√≠sticas del Raspberry Pi 4 es la presencia en la placa de dos puertos USB 3.0 que est√°n conectados al BCM2711 SoC mediante una conexi√≥n PCIe extremadamente r√°pida. Gracias a esto, uno puede esperar alcanzar velocidades de datos muy altas. Decid√≠ que estaba usando estos puertos USB 3.0 para conectar SSD usando los adaptadores M.2 NVMe a USB 3.0. Sin embargo, result√≥ que era muy dif√≠cil encontrar tales adaptadores. Suger√≠ ingenuamente que cualquier adaptador funcionar√≠a para m√≠. Como resultado, compr√© el primer adaptador sin verificar su compatibilidad con el Raspberry Pi 4. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afortunadamente, me encontr√© con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspberry Pi 4 descarg√≥ la gu√≠a y luego compr√≥ el adaptador Shinestar M.2 NVMe a USB 3.0 recomendado. </font><font style="vertical-align: inherit;">Era casi del mismo tama√±o que el M.2 NVMe 2280 (22 mm de ancho y 80 mm de largo), lo que es ideal para el caso Pico 5S. </font><font style="vertical-align: inherit;">Utilic√© el adaptador para conectar el Samsung SSD 970 EVO Plus M.2 PCIe NVMe 500 Go al Raspberry Pi.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/92e/5a5/1e9/92e5a51e924bcfe0c77ef14278917734.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adaptador M.2 NVMe a USB 3.0</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Despu√©s de instalar y configurar todo, decid√≠ probar r√°pidamente la unidad y averiguar la velocidad de transferencia de datos. </font><font style="vertical-align: inherit;">Para hacer esto, copi√© un archivo grande del SSD a mi computadora port√°til usando</font></font><code>scp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<code>$ scp pi@master:&lt;source&gt; &lt;destination&gt;<br>
100% 1181MB 39.0MB/s 00:30</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El resultado de 39 Mb / s me decepcion√≥. Estos n√∫meros est√°n lejos de aquellos necesarios para cargar completamente el conmutador Gigabit Ethernet. Comenc√© a buscar un posible cuello de botella en el sistema y me di cuenta de que durante la transferencia de archivos, uno de los n√∫cleos del procesador siempre est√° 100% cargado. Despu√©s de descubrir que el procesador era el cuello de botella en la transferencia de datos, descubr√≠ r√°pidamente que el Raspberry Pi 4 no tiene soporte de hardware AES, ya que Broadcom y la Fundaci√≥n Raspberry Pi no licenciaron las extensiones criptogr√°ficas ARMv8. Curiosamente, el procesador es el cuello de botella del sistema en la Raspberry Pi 4, mientras que los cuellos de botella de la Raspberry Pi 3 eran USB 2.0 e interfaces de red. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una nueva prueba usando </font></font><code>netcat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, bajo las mismas condiciones, dio resultados mucho mejores a 104 Mb / s:</font></font><br>
<br>
<pre><code class="bash hljs">$ nc -l 6000 |dd bs=1m of=&lt;destination&gt; &amp; ssh pi@master <span class="hljs-string">"dd bs=1M if=&lt;source&gt; | nc -q 0 <span class="hljs-subst">$(hostname -I | awk '{print $1}')</span> 6000"</span><font></font>
[1] 71300 71301<font></font>
1181+1 records <span class="hljs-keyword">in</span><font></font>
1181+1 records out<font></font>
1238558304 bytes (1.2 GB, 1.2 GiB) copied, 11.8632 s, 104 MB/s<font></font>
0+740624 records <span class="hljs-keyword">in</span><font></font>
0+740624 records out<font></font>
1238558304 bytes transferred <span class="hljs-keyword">in</span> 14.212518 secs (87145593 bytes/sec)<font></font>
[1]&nbsp; + 71300 <span class="hljs-keyword">done</span> &nbsp; &nbsp; &nbsp; nc -l 6000 |<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71301 <span class="hljs-keyword">done</span> &nbsp; &nbsp; &nbsp; dd bs=1m of=&lt;destination&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de tratar con la primera unidad SSD, conect√© la segunda unidad a otra placa Raspberry Pi 4. Voy a usar esta unidad para hacer una copia de seguridad de la primera usando algo como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restic</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, planeo usar SSD para organizar el arranque usando el arranque de almacenamiento masivo USB inmediatamente despu√©s de que Raspberry Pi 4 sea totalmente compatible con este m√©todo de arranque. </font><font style="vertical-align: inherit;">En comparaci√≥n con la descarga desde microSD, promete una mayor velocidad y un nivel de rendimiento m√°s estable.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Software</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soy programador, por lo que pens√© que ser√≠a m√°s f√°cil para m√≠ tratar con la parte de software del cl√∫ster que con otras preguntas. </font><font style="vertical-align: inherit;">Los resultados del maravilloso trabajo en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k3s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> realizado por el equipo Rancher </font><font style="vertical-align: inherit;">definitivamente me ayudaron aqu√≠ </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">No entrar√© en detalles particulares sobre c√≥mo configurar un cl√∫ster de Kubernetes en una Raspberry Pi usando k3s aqu√≠. </font><font style="vertical-align: inherit;">Para aquellos que est√©n interesados, puedo recomendar consultar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gu√≠a. </font><font style="vertical-align: inherit;">Estos son los puntos principales para configurar en los que me gustar√≠a detenerme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para comenzar, en cada nodo, habilite </font></font><code>cgroups</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo sed -i <span class="hljs-string">'$ s/$/ cgroup_enable=cpuset cgroup_memory=1 cgroup_enable=memory/'</span> /boot/cmdline.txt<font></font>
$ sudo reboot<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego instale k3s en el nodo principal:</font></font><br>
<br>
<pre><code class="bash hljs">$ curl -sfL https://get.k3s.io | sh -s - --write-kubeconfig-mode 644
<span class="hljs-comment">#   </span><font></font>
$ sudo systemctl status k3s<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora obtenemos un token que autoriza la conexi√≥n de los nodos de trabajo al nodo principal:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo cat /var/lib/rancher/k3s/server/node-token
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuaci√≥n, instale k3s en cada nodo de trabajo:</font></font><br>
<br>
<pre><code class="bash hljs">$ curl -sfL https://get.k3s.io | K3S_URL=<span class="hljs-string">"https://&lt;MASTER_IP&gt;:6443"</span> K3S_TOKEN=<span class="hljs-string">"&lt;NODE_TOKEN&gt;"</span> sh -
<span class="hljs-comment">#   </span><font></font>
$ sudo systemctl status k3s-agent<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si planea usar el registro interno de im√°genes de contenedor, que est√° instalado de manera predeterminada, es posible que deba configurarlo de una manera especial, haciendo esto para permitir que las </font></font><code>containerd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im√°genes </font><font style="vertical-align: inherit;">se </font><font style="vertical-align: inherit;">carguen desde √©l:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo sh -c <span class="hljs-string">'REGISTRY=$(kubectl get svc -n kube-system registry -o jsonpath={.spec.clusterIP}); \
cat &lt;&lt;EOT &gt;&gt; /etc/rancher/k3s/registries.yaml
mirrors:
&nbsp;&nbsp;"$REGISTRY":
&nbsp;&nbsp;&nbsp;&nbsp;endpoint:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- "http://$REGISTRY"
EOT'</span><font></font>
$ sudo service k3s restart<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planes futuros</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este material, no revel√© algunos temas importantes que merecen un an√°lisis suficientemente profundo. </font><font style="vertical-align: inherit;">Por ejemplo, lo siguiente:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Software de gesti√≥n de energ√≠a de nodos de trabajo y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escalado autom√°tico de cl√∫steres</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalar un ventilador PWM y ajustar su velocidad teniendo en cuenta los indicadores de temperatura del sistema.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instale </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pi-Hole</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en Kubernetes usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MetalLB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiz√°s escribir√© m√°s sobre esto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, planeo continuar trabajando en el cl√∫ster haciendo lo siguiente:</font></font><br>
<br>
<ul>
<li>  SSD-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">USB mass storage boot</a>.</li>
<li>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Restic</a>.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estoy seguro de que cuando habl√© de mi experiencia en la creaci√≥n del cl√∫ster de Kubernetes, me olvid√© mucho. </font><font style="vertical-align: inherit;">Soy programador y estoy acostumbrado a un desglose bastante heterog√©neo de tareas grandes en casos m√°s peque√±os. </font><font style="vertical-align: inherit;">La experiencia ha demostrado que el hardware es mucho menos tolerante que el software cuando se trata de trabajo de prueba y error. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En general, cuanto m√°s descubro, la mayor admiraci√≥n en m√≠ es causada por las modernas tecnolog√≠as de hardware y software. </font><font style="vertical-align: inherit;">Me sorprende c√≥mo el ingenio de una persona fue capaz de combinar fen√≥menos el√©ctricos y lenguajes de programaci√≥n, convirti√©ndolos en algo que puede considerarse un ejemplo de c√≥mo la conciencia controla la materia. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Queridos lectores! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øHas intentado hacer algo similar a lo que describi√≥ el autor de este art√≠culo?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es493696/index.html">Acelerar el subsistema de disco Qemu KVM en Linux</a></li>
<li><a href="../es493700/index.html">Uso de malware en Azure para obtener acceso a inquilinos de Microsoft 365</a></li>
<li><a href="../es493702/index.html">Transici√≥n masiva al trabajo remoto: problemas t√©cnicos y amenazas a la seguridad.</a></li>
<li><a href="../es493704/index.html">Usar TypeScript en JavaScript sin escribir TypeScript</a></li>
<li><a href="../es493706/index.html">Conoce a tu enemigo: crea una puerta trasera Node.js</a></li>
<li><a href="../es493712/index.html">Nuevas caracter√≠sticas de TypeScript para una usabilidad mejorada</a></li>
<li><a href="../es493714/index.html">Hojas de trucos de seguridad: Nodejs</a></li>
<li><a href="../es493716/index.html">Escriba inferencia con TypeScript utilizando la construcci√≥n as const y la palabra clave inferir</a></li>
<li><a href="../es493718/index.html">Discusi√≥n: utilidades est√°ndar de UNIX que pocos han usado y est√°n usando actualmente</a></li>
<li><a href="../es493720/index.html">La tormenta perfecta: c√≥mo la tecnolog√≠a est√° cambiando la industria del servicio de alimentos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>