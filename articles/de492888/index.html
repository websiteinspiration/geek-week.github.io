<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úäüèΩ üòá ü¶ë Warum sollten Sie WireGuard nicht verwenden? üí™ üóø üë∂üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In letzter Zeit zieht WireGuard tats√§chlich viel Aufmerksamkeit auf sich - dies ist ein neuer "Star" unter den VPNs. Aber ist er so gut wie er scheint...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Warum sollten Sie WireGuard nicht verwenden?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/492888/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In letzter Zeit zieht WireGuard tats√§chlich viel Aufmerksamkeit auf sich - dies ist ein neuer "Star" unter den VPNs. Aber ist er so gut wie er scheint? Ich m√∂chte einige Beobachtungen diskutieren und die Implementierung von WireGuard in Betracht ziehen, um zu erkl√§ren, warum es keine L√∂sung ist, die IPsec oder OpenVPN ersetzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel m√∂chte ich einige Mythen [um WireGuard] entlarven. Ja, das Lesen wird lange dauern. Wenn Sie also keine Tasse Tee oder Kaffee zubereitet haben, ist es Zeit, dies zu tun. Ich m√∂chte auch Peter daf√ºr danken, dass er meine chaotischen Gedanken Korrektur gelesen hat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mir nicht das Ziel gesetzt, WireGuard-Entwickler zu diskreditieren, ihre Bem√ºhungen oder Ideen abzuwerten. Ihr Produkt funktioniert, aber ich pers√∂nlich denke, dass es v√∂llig anders pr√§sentiert wird als es wirklich ist - es wird als Ersatz f√ºr IPsec und OpenVPN pr√§sentiert, die in Wirklichkeit jetzt einfach nicht existieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Anmerkung m√∂chte ich hinzuf√ºgen, dass die Verantwortung f√ºr eine solche Positionierung von WireGuard bei den Medien liegt, die dar√ºber gesprochen haben, und nicht beim Projekt selbst oder seinen Erstellern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In letzter Zeit gab es nicht allzu viele gute Nachrichten zum Thema Linux-Kernel. </font><font style="vertical-align: inherit;">So wurde uns √ºber die ungeheuren Schwachstellen des Prozessors berichtet, die durch Software ausgeglichen wurden, und Linus Torvalds sprach dar√ºber als zu unh√∂flich und langweilig, zweckm√§√üige Sprache des Entwicklers. </font><font style="vertical-align: inherit;">Scheduler oder Network Stack Zero Level - auch nicht zu klare Themen f√ºr Hochglanzmagazine. </font><font style="vertical-align: inherit;">Und dann erscheint WireGuard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf dem Papier klingt alles gut: eine aufregende neue Technologie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber schauen wir sie uns etwas genauer an.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Technische Dokumentation zu WireGuard</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Artikel basiert auf der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offiziellen WireGuard-Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von Jason Donenfeld. </font><font style="vertical-align: inherit;">Dort erkl√§rt er das Konzept, den Zweck und die technische Implementierung von [WireGuard] im Linux-Kernel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Satz lautet:</font></font><br>
<br>
<blockquote>WireGuard [...]    IPsec     ,         / TLS,   OpenVPN,     ,      []. </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Hauptvorteil aller neuen Technologien ist nat√ºrlich ihre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfachheit</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [im Vergleich zu ihren Vorg√§ngern]. </font><font style="vertical-align: inherit;">Ein VPN muss aber auch </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">effizient und sicher sein</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und was dann? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sagen, dass Sie [vom VPN] dies nicht ben√∂tigen, k√∂nnen Sie das Lesen beenden. </font><font style="vertical-align: inherit;">Ich werde jedoch feststellen, dass solche Aufgaben vor jeder anderen Tunnelbautechnologie gestellt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das interessanteste der obigen Zitate liegt in den Worten ‚Äûin den meisten F√§llen‚Äú, die nat√ºrlich von der Presse ignoriert wurden. </font><font style="vertical-align: inherit;">Und hier sind wir, wo wir wegen des Chaos gelandet sind, das durch diese Nachl√§ssigkeit entstanden ist - in diesem Artikel.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6a/6i/mh/6a6imhnuzbtscbkm7rdwladwddm.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wird WireGuard meine [IPsec] VPN-Verbindung zwischen Standorten ersetzen?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nein. </font><font style="vertical-align: inherit;">Es besteht einfach keine Chance, dass gro√üe Anbieter wie Cisco, Juniper und andere WireGuard f√ºr ihre Produkte kaufen. </font><font style="vertical-align: inherit;">Sie ‚Äûh√ºpfen‚Äú unterwegs nicht an Z√ºgen vorbei, es sei denn, es besteht ein gro√üer Bedarf daf√ºr. </font><font style="vertical-align: inherit;">Sp√§ter werde ich √ºber einige Gr√ºnde sprechen, warum sie WireGuard-Produkte wahrscheinlich nicht an Bord installieren k√∂nnten, selbst wenn sie dies wollten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbertr√§gt WireGuard meinen RoadWarrior von einem Laptop in ein Rechenzentrum?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nein. WireGuard hat derzeit noch nicht viele wichtige Funktionen implementiert, damit es so etwas tun kann. Beispielsweise kann die dynamische IP-Adresse auf der Serverseite des Tunnels nicht verwendet werden, und dies allein bricht das gesamte Szenario einer √§hnlichen Verwendung des Produkts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPFire wird h√§ufig f√ºr kosteng√ºnstige Internetkan√§le wie DSL oder Kabelverbindungen verwendet. Dies ist sinnvoll f√ºr kleine oder mittlere Unternehmen, die keine schnelle Faser ben√∂tigen.</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Anmerkung des √úbersetzers: Vergessen Sie nicht, dass Russland und einige GUS-Staaten in Bezug auf die Kommunikation Europa und den USA weit voraus sind, da wir viel sp√§ter mit dem Aufbau unserer Netzwerke begonnen haben und mit dem Aufkommen von Ethernet- und Glasfasernetzen als Standard der Wiederaufbau f√ºr uns einfacher war. In denselben EU-L√§ndern oder den USA ist der xDSL-Breitbandzugang mit einer Geschwindigkeit von 3 bis 5 Mbit / s immer noch die universelle Norm, und Glasfaserverbindungen kosten nach unseren Ma√üst√§ben unrealistisches Geld. Daher spricht der Autor des Artikels eher von einer normalen DSL- oder Kabelverbindung als von der alten Vergangenheit.]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DSL, Kabel, LTE (und andere drahtlose Zugriffsmethoden) haben jedoch dynamische IP-Adressen. Nat√ºrlich √§ndern sie sich manchmal nicht oft, aber immer noch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt ein Teilprojekt namens </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"wg-dynamic"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der User Space Daemon f√ºgt hinzu, um diesen Mangel zu beheben. </font><font style="vertical-align: inherit;">Ein gro√ües Problem bei dem oben beschriebenen Benutzerszenario ist die Versch√§rfung der Situation durch dynamische IPv6-Adressierung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus Sicht des Distributors sieht das alles auch nicht sehr gut aus. </font><font style="vertical-align: inherit;">Eines der Entwurfsziele war es, das Protokoll einfach und sauber zu halten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider wurde all dies tats√§chlich zu einfach und primitiv, so dass wir zus√§tzliche Software verwenden m√ºssen, um dieses gesamte Design unter realen Bedingungen realisierbar zu machen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ist WireGuard so einfach zu bedienen?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Noch nicht. Ich sage nicht, dass WireGuard niemals eine gute Alternative f√ºr die Weiterleitung eines Tunnels zwischen zwei Punkten sein wird, aber bisher ist es nur eine Alpha-Version des Produkts, die es werden sollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber was macht er dann wirklich? Ist IPSec wirklich so viel schwieriger zu bedienen? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offensichtlich nicht. Der IPSec-Anbieter hat diesen Punkt ber√ºcksichtigt und liefert sein Produkt zusammen mit einer Schnittstelle wie IPFire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um einen VPN-Tunnel √ºber IPsec zu konfigurieren, ben√∂tigen Sie f√ºnf Datens√§tze, die Sie in die Konfiguration eingeben m√ºssen: Ihre eigene √∂ffentliche IP-Adresse, die √∂ffentliche IP-Adresse der empfangenden Seite, Subnetze, die Sie √ºber diese VPN-Verbindung ver√∂ffentlichen und vorab freigeben m√∂chten Schl√ºssel. Somit ist das VPN in wenigen Minuten konfiguriert und mit jedem Anbieter kompatibel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider gibt es einige Ausnahmen zu dieser Geschichte. </font><font style="vertical-align: inherit;">Jeder, der versucht hat, einen VPN-Tunnel √ºber IPsec an einen Computer unter OpenBSD weiterzuleiten, versteht, wovon ich spreche. </font><font style="vertical-align: inherit;">Es gibt ein paar schmerzhaftere Beispiele, aber in der Tat ist die gute Praxis der Verwendung von IPSec viel, viel mehr.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber die Komplexit√§t des Protokolls</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Endbenutzer muss sich nicht um die Komplexit√§t des Protokolls k√ºmmern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir in einer Welt gelebt h√§tten, in der dies das eigentliche Anliegen des Benutzers war, h√§tten wir SIP, H.323, FTP und andere Protokolle, die vor mehr als zehn Jahren erstellt wurden und mit NAT nicht gut funktionieren, l√§ngst beseitigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt Gr√ºnde, warum IPsec komplizierter ist als WireGuard: Es macht viel mehr. Zum Beispiel Benutzerauthentifizierung mit einem Login / Passwort oder einer SIM-Karte mit EAP. Es verf√ºgt √ºber die erweiterte M√∂glichkeit, neue </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kryptografische Grundelemente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hinzuzuf√ºgen </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WireGuard jedoch nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies bedeutet, dass WireGuard irgendwann kaputt geht, weil eines der kryptografischen Grundelemente geschw√§cht oder vollst√§ndig kompromittiert wird. Der Autor der technischen Dokumentation sagt dies:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist erw√§hnenswert, dass WireGuard kryptografisch selbstbewusst ist. </font><font style="vertical-align: inherit;">Ihm fehlt absichtlich die Flexibilit√§t von Chiffren und Protokollen. </font><font style="vertical-align: inherit;">Wenn in den zugrunde liegenden Grundelementen schwerwiegende L√ºcken gefunden werden, m√ºssen alle Endpunkte aktualisiert werden. </font><font style="vertical-align: inherit;">Wie Sie dem laufenden Strom von SLL / TLS-Schwachstellen entnehmen k√∂nnen, hat die Flexibilit√§t der Verschl√ºsselung jetzt enorm zugenommen.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der letzte Satz ist absolut wahr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konsens , </font><font style="vertical-align: inherit;">auf dem die </font><font style="vertical-align: inherit;">Verschl√ºsselung Gebrauch macht Protokolle wie IKE und TLS </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mehr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> komplex. </font><font style="vertical-align: inherit;">Zu kompliziert? </font><font style="vertical-align: inherit;">Ja, Schwachstellen sind in TLS / SSL weit verbreitet, und es gibt keine Alternative dazu.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber das Ignorieren realer Probleme</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich vor, Sie haben irgendwo auf der Welt einen VPN-Server mit 200 Kampfclients. Dies ist ein sehr normaler Anwendungsfall. Wenn Sie die Verschl√ºsselung √§ndern m√ºssen, m√ºssen Sie das Update f√ºr alle Kopien von WireGuard auf diesen Laptops, Smartphones usw. bereitstellen. </font><font style="vertical-align: inherit;">Zur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gleichen Zeit</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> liefern. Es ist buchst√§blich unm√∂glich. Administratoren, die dies versuchen, ben√∂tigen Monate, um die erforderlichen Konfigurationen bereitzustellen, und mittelst√§ndische Unternehmen ben√∂tigen buchst√§blich Jahre, um eine solche Veranstaltung auszurichten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec und OpenVPN bieten Verschl√ºsselungsverhandlungen. Daher funktioniert nach einiger Zeit, nach der Sie die neue Verschl√ºsselung aktivieren, die alte. Dank dessen k√∂nnen aktuelle Kunden auf die neue Version upgraden. Nach der Einf√ºhrung des Updates deaktivieren Sie einfach die anf√§llige Verschl√ºsselung. Und alle! Erledigt! Du bist wundersch√∂n! Und die Kunden werden es nicht einmal bemerken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist tats√§chlich ein sehr h√§ufiger Fall bei gro√üen Bereitstellungen, und selbst OpenVPN hat einige Schwierigkeiten. Abw√§rtskompatibilit√§t ist wichtig, und obwohl Sie eine schw√§chere Verschl√ºsselung verwenden, f√ºhrt dies f√ºr viele nicht zur Schlie√üung des Gesch√§fts. Weil es zu einer L√§hmung von Hunderten von Kunden f√ºhren wird, weil sie ihre Arbeit nicht erledigen k√∂nnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das WireGuard-Team hat das Protokoll einfacher, aber f√ºr Personen, die nicht die st√§ndige Kontrolle √ºber beide Peers ihres Tunnels haben, v√∂llig ungeeignet gemacht. </font><font style="vertical-align: inherit;">Nach meiner Erfahrung ist dies das h√§ufigste Szenario.</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/xz/8g/un/xz8gunpa9bqpa5viwsssog6fbv0.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kryptographie!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber was ist diese interessante neue Verschl√ºsselung, die WireGuard verwendet?</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard verwendet Curve25519 f√ºr den Schl√ºsselaustausch, ChaCha20 f√ºr die Verschl√ºsselung und Poly1305 f√ºr die Datenauthentifizierung. </font><font style="vertical-align: inherit;">Es funktioniert auch mit SipHash f√ºr Hash-Schl√ºssel und BLAKE2 f√ºr Hashing.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ChaCha20-Poly1305 ist standardisiert f√ºr IPsec und OpenVPN (√ºber TLS). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offensichtlich wird die Entwicklung von Daniel Bernstein sehr oft genutzt. BLAKE2 ist der Nachfolger von BLAKE, dem SHA-3-Finalisten, der aufgrund seiner √Ñhnlichkeit mit SHA-2 nicht gewonnen hat. Wenn SHA-2 gehackt w√ºrde, best√ºnde eine hohe Wahrscheinlichkeit, dass BLAKE kompromittiert w√ºrde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec und OpenVPN ben√∂tigen aufgrund ihres Designs kein SipHash. Das einzige, was im Moment nicht mit ihnen verwendet werden kann, ist BLAKE2, und zwar nur bis es standardisiert ist. Dies ist kein gro√üer Nachteil, da VPNs HMAC verwenden, um Integrit√§t zu schaffen, was selbst in Verbindung mit MD5 als starke L√∂sung angesehen wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher kam ich zu dem Schluss, dass alle VPNs fast die gleichen kryptografischen Tools verwenden. </font><font style="vertical-align: inherit;">Daher ist WireGuard in Bezug auf Verschl√ºsselung oder Datenintegrit√§t nicht mehr und nicht weniger sicher als alle anderen relevanten Produkte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber auch dies ist nicht das Wichtigste, auf das Sie gem√§√ü der offiziellen Dokumentation des Projekts achten sollten. </font><font style="vertical-align: inherit;">Die Hauptsache ist schlie√ülich die Geschwindigkeit.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ist WireGuard schneller als andere VPN-L√∂sungen?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kurzum: Nein, nicht schneller. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ChaCha20 ist eine Stream-Verschl√ºsselung, die einfacher in Software zu implementieren ist. Es verschl√ºsselt jeweils ein Bit. Blockprotokolle wie AES verschl√ºsseln jeweils einen Block mit 128 Bit. Um die Hardwareunterst√ºtzung zu implementieren, sind viel mehr Transistoren erforderlich. Daher werden gr√∂√üere Prozessoren mit AES-NI geliefert, einer Erweiterung des Befehlssatzes, der einige Aufgaben des Verschl√ºsselungsprozesses ausf√ºhrt, um ihn zu beschleunigen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde erwartet, dass AES-NI niemals Smartphones treffen wird [und es traf, - ca. trans.]. Daf√ºr wurde der ChaCha20 entwickelt - als einfache und wirtschaftliche Alternative, die Batteriestrom spart. Daher kann es f√ºr Sie neu sein, dass jedes Smartphone, das Sie heute kaufen k√∂nnen, die eine oder andere Beschleunigung f√ºr AES hat und mit dieser Verschl√ºsselung schneller und mit weniger Stromverbrauch arbeitet als mit ChaCha20. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offensichtlich verf√ºgt fast jeder Desktop- / Server-Prozessor, der in den letzten Jahren gekauft wurde, √ºber AES-NI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher erwarte ich, dass AES ChaCha20 in jedem einzelnen Szenario √ºbertrifft. In der offiziellen Dokumentation von WireGuard wird erw√§hnt, dass der ChaCha20-Poly1305 dank des AVX512 AES-NI √ºbertreffen wird. Diese Erweiterung des Befehlssatzes ist jedoch nur auf gro√üen Prozessoren verf√ºgbar, was wiederum bei kleineren und mobilen Ger√§ten, die mit AES immer schneller arbeiten, nicht hilfreich ist NI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin mir nicht sicher, ob dies w√§hrend der Entwicklung von WireGuard h√§tte vorhergesehen werden k√∂nnen, aber heute ist die Tatsache, dass es an eine Verschl√ºsselung gebunden ist, bereits ein Nachteil, der seine Arbeit m√∂glicherweise nicht sehr gut beeinflusst. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit IPsec k√∂nnen Sie frei w√§hlen, welche Verschl√ºsselung f√ºr Ihre Anwendung am besten geeignet ist. Dies ist nat√ºrlich erforderlich, wenn Sie beispielsweise 10 oder mehr Gigabyte Daten √ºber eine VPN-Verbindung √ºbertragen m√∂chten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probleme mit der Linux-Integration</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl WireGuard ein modernes Verschl√ºsselungsprotokoll gew√§hlt hat, verursacht dies bereits viele Probleme. </font><font style="vertical-align: inherit;">Anstatt das zu verwenden, was vom Kernel sofort unterst√ºtzt wird, hat sich die WireGuard-Integration aufgrund des Fehlens dieser Grundelemente unter Linux um Jahre verz√∂gert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin mir der Situation in anderen Betriebssystemen nicht ganz bewusst, aber wahrscheinlich unterscheidet sie sich nicht wesentlich von der Situation unter Linux.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie sieht die Realit√§t aus?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider sto√üe ich jedes Mal, wenn ein Client mich auffordert, eine VPN-Verbindung f√ºr ihn einzurichten, auf das Thema, dass er veraltete Anmeldeinformationen und Verschl√ºsselung verwendet. 3DES in Verbindung mit MD5 ist nach wie vor eine g√§ngige Praxis, ebenso wie AES-256 und SHA1. Und obwohl letzteres etwas besser ist, sollte dies 2020 nicht verwendet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr den Schl√ºsselaustausch </font><font style="vertical-align: inherit;">wird </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">immer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RSA verwendet - ein langsames, aber ziemlich sicheres Tool.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meine Kunden sind mit Zollbeh√∂rden und anderen staatlichen Organisationen und Institutionen sowie mit gro√üen Unternehmen verbunden, deren Namen auf der ganzen Welt bekannt sind. Sie alle verwenden ein Anforderungsformular, das vor Jahrzehnten erstellt wurde, und die M√∂glichkeit, SHA-512 zu verwenden, wurde einfach nie hinzugef√ºgt. Ich kann nicht sagen, dass dies den technologischen Fortschritt eindeutig beeinflusst, aber es verlangsamt offensichtlich den Unternehmensprozess. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es schmerzt mich, das zu sehen, weil IPsec seit dem Jahr 2005 elliptische Kurven von Anfang an unterst√ºtzt. Curve25519 ist auch neuer und zug√§nglicher. Es gibt immer noch Alternativen zu AES wie Camellia und ChaCha20, aber offensichtlich werden nicht alle von gro√üen Anbietern wie Cisco und anderen unterst√ºtzt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und die Leute benutzen es. </font><font style="vertical-align: inherit;">Es gibt viele Cisco-Kits und viele Kits, die f√ºr die Zusammenarbeit mit Cisco entwickelt wurden. </font><font style="vertical-align: inherit;">Sie sind Marktf√ºhrer in diesem Segment und nicht sehr an Innovationen interessiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, die Situation [im Unternehmenssegment] ist schrecklich, aber wir werden aufgrund von WireGuard keine √Ñnderungen sehen. </font><font style="vertical-align: inherit;">Hersteller werden wahrscheinlich niemals Leistungsprobleme mit den bereits verwendeten Tools und der Verschl√ºsselung feststellen, noch werden sie Probleme bei der Verwendung von IKEv2 feststellen - und suchen daher nicht nach Alternativen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haben Sie jemals dar√ºber nachgedacht, Cisco aufzugeben?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benchmarks</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fahren wir nun mit den Benchmarks aus der WireGuard-Dokumentation fort. Obwohl diese [Dokumentation] kein wissenschaftlicher Artikel ist, habe ich dennoch erwartet, dass die Entwickler einen wissenschaftlicheren Ansatz verfolgen oder einen wissenschaftlichen Ansatz als Referenz verwenden. Alle Benchmarks sind nutzlos, wenn sie nicht reproduziert werden k√∂nnen, und noch mehr, wenn sie im Labor erhalten werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im WireGuard Build f√ºr Linux nutzt er das GSO - Generic Segmentation Offloading. Dank ihm erstellt der Client ein riesiges Paket mit einer Gr√∂√üe von 64 Kilobyte und verschl√ºsselt / entschl√ºsselt es in einem Ansatz. Dadurch werden die Kosten f√ºr das Aufrufen und Implementieren von kryptografischen Operationen reduziert. Wenn Sie die Bandbreite Ihrer VPN-Verbindung maximieren m√∂chten, ist dies eine gute Idee.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wie immer ist es in Wirklichkeit nicht so einfach. Das Senden eines so gro√üen Pakets an einen Netzwerkadapter erfordert, dass es in viele kleinere Pakete aufgeteilt wird. Die typische Sendegr√∂√üe betr√§gt 1.500 Byte. Das hei√üt, unsere riesigen 64 Kilobyte werden in 45 Pakete aufgeteilt (1240 Byte Information und 20 Byte IP-Header). Dann blockieren sie f√ºr eine Weile den Betrieb des Netzwerkadapters vollst√§ndig, da sie zusammen und sofort gesendet werden m√ºssen. Infolgedessen f√ºhrt dies zu einem Priorit√§tssprung, und Pakete wie beispielsweise VoIP werden in die Warteschlange gestellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somit wird der hohe Durchsatz, den WireGuard so k√ºhn behauptet, durch Verlangsamung des Netzwerkbetriebs anderer Anwendungen erreicht. Und das WireGuard-Team hat </font><font style="vertical-align: inherit;">meine Schlussfolgerung </font><font style="vertical-align: inherit;">bereits </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">best√§tigt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber lass uns weitermachen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gem√§√ü den Benchmarks in der technischen Dokumentation weist die Verbindung eine Bandbreite von 1011 Mbit / s auf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beeindruckend. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist besonders beeindruckend, da die maximale theoretische Bandbreite einer Gigabit-Ethernet-Verbindung 966 Mbit / s bei einer Paketgr√∂√üe von 1.500 Byte minus 20 Byte pro IP-Header, 8 Byte pro UDP-Header und 16 Byte pro Draht-Header selbst betr√§gt. . Das gekapselte Paket enth√§lt einen weiteren IP-Header und einen weiteren in 20-Byte-TCP. Woher kam diese zus√§tzliche Bandbreite?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit den riesigen Frames und Vorteilen von GSO, √ºber die wir oben gesprochen haben, wird das theoretische Maximum bei einer Frame-Gr√∂√üe von 9000 Bytes 1014 Mbit / s betragen. Normalerweise ist ein solcher Durchsatz in der Realit√§t nicht erreichbar, da er mit gro√üen Schwierigkeiten verbunden ist. Daher kann ich nur davon ausgehen, dass der Test mit noch fetteren Frames durchgef√ºhrt wurde, die die Gr√∂√üe von 64 Kilobyte mit einem theoretischen Maximum von 1023 Mbit / s √ºberschreiten, was nur von einigen Netzwerkadaptern unterst√ºtzt wird. Dies gilt jedoch unter realen Bedingungen absolut nicht oder kann nur zwischen zwei direkt miteinander verbundenen Stationen ausschlie√ülich innerhalb des Pr√ºfstands verwendet werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da der VPN-Tunnel jedoch zwischen zwei Hosts √ºber eine Internetverbindung weitergeleitet wird, die √ºberhaupt keine gro√üen Frames unterst√ºtzt, kann das am Stand erzielte Ergebnis nicht als Standard angesehen werden. </font><font style="vertical-align: inherit;">Dies ist einfach eine unrealistische Laborleistung, die unm√∂glich ist und unter realen Kampfbedingungen nicht anwendbar ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selbst wenn ich im Rechenzentrum sitze, kann ich keine Frames √ºbertragen, die gr√∂√üer als 9000 Bytes sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Kriterium der Anwendbarkeit im wirklichen Leben wird vollst√§ndig verletzt, und der Autor der "Messung" hat sich meines Erachtens aus offensichtlichen Gr√ºnden ernsthaft diskreditiert.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/ra/2b/pora2bzrbixbty-gnnngbffbc-i.png"><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der letzte Hoffnungsschimmer</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der WireGuard-Website wird viel √ºber Container gesprochen, und es wird klar, wof√ºr sie eigentlich bestimmt sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein einfaches und schnelles VPN, f√ºr das keine Konfiguration erforderlich ist und das mit umfangreichen Orchestrierungs-Tools wie Amazon in der Cloud bereitgestellt und konfiguriert werden kann. Insbesondere verwendet Amazon die neuesten Hardwarefunktionen, die ich bereits erw√§hnt habe, z. B. AVX512. Dies geschieht, um die Arbeit zu beschleunigen und nicht an x86 oder eine andere Architektur gebunden zu sein.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie optimieren die Bandbreite und Pakete, deren Gr√∂√üe 9000 Byte √ºberschreitet. Dies f√ºhrt zu riesigen gekapselten Frames f√ºr die Kommunikation von Containern untereinander oder f√ºr Sicherungsvorg√§nge, das Erstellen von Snapshots oder das Bereitstellen dieser Container. </font><font style="vertical-align: inherit;">Selbst dynamische IP-Adressen haben im Fall des von mir beschriebenen Szenarios keinen Einfluss auf den Betrieb von WireGuard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nicht schlecht gespielt. </font><font style="vertical-align: inherit;">Geniale Implementierung und ein sehr d√ºnnes, fast Referenzprotokoll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber es ist einfach nicht f√ºr die Welt au√üerhalb des Rechenzentrums geeignet, das Sie vollst√§ndig kontrollieren. </font><font style="vertical-align: inherit;">Wenn Sie das Risiko eingehen und WireGuard verwenden, m√ºssen Sie bei der Entwicklung und Implementierung des Verschl√ºsselungsprotokolls st√§ndig Kompromisse eingehen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich kann leicht zu dem Schluss kommen, dass WireGuard noch nicht fertig ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde als leichte und schnelle L√∂sung f√ºr eine Reihe von Problemen mit vorhandenen L√∂sungen konzipiert. Leider hat er f√ºr diese L√∂sungen viele Funktionen geopfert, die f√ºr die meisten Benutzer relevant sind. Aus diesem Grund kann IPsec oder OpenVPN nicht ersetzt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit WireGuard wettbewerbsf√§hig wird, m√ºssen mindestens die IP-Adresskonfiguration sowie die Routing- und DNS-Konfiguration hinzugef√ºgt werden. Daf√ºr werden nat√ºrlich verschl√ºsselte Kan√§le ben√∂tigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sicherheit ist meine oberste Priorit√§t, und im Moment habe ich keinen Grund zu der Annahme, dass IKE oder TLS irgendwie kompromittiert oder kaputt sind. In beiden F√§llen wird die moderne Verschl√ºsselung unterst√ºtzt, und sie wurden jahrzehntelang getestet. Wenn etwas Neueres nicht bedeutet, dass es etwas ist, ist es besser.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Interoperabilit√§t ist von entscheidender Bedeutung, wenn Sie sich an Dritte wenden, deren Stationen Sie nicht kontrollieren. </font><font style="vertical-align: inherit;">IPsec ist der De-facto-Standard und wird nahezu universell unterst√ºtzt. </font><font style="vertical-align: inherit;">Und es funktioniert. </font><font style="vertical-align: inherit;">Und egal wie es aussieht, theoretisch ist WireGuard in Zukunft m√∂glicherweise nicht einmal mit verschiedenen Versionen von sich selbst kompatibel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder kryptografische Schutz wird fr√ºher oder sp√§ter gehackt und muss dementsprechend ersetzt oder aktualisiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All diese Fakten zu leugnen und blindlings WireGuard verwenden zu wollen, um Ihr iPhone mit Ihrer Heimarbeitsstation zu verbinden, ist nur ein Workshop, in dem Sie Ihren Kopf in den Sand stecken.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de492874/index.html">Rendering-Optimierung f√ºr Mobile</a></li>
<li><a href="../de492878/index.html">Geek-Hausschuhe: Auf der Suche nach positiven Ergebnissen bei vor√ºbergehenden B√ºroschlie√üungen</a></li>
<li><a href="../de492880/index.html">Was sollen wir ein Smart Home bauen?</a></li>
<li><a href="../de492884/index.html">Empfangen von Nachrichten von YouTube-Sendungen + Google-Autorisierung in PHP</a></li>
<li><a href="../de492886/index.html">Rezept f√ºr Massenrekrutierungstester</a></li>
<li><a href="../de492894/index.html">Wie man nicht das ganze Geld in ein paar Minuten verliert oder das Risikomanagement im algorithmischen Handel</a></li>
<li><a href="../de492900/index.html">Musikgenerator Web Audio API Anf√§ngererfahrung</a></li>
<li><a href="../de492906/index.html">Wie verschiedene MBTI-Typen auf Stress reagieren</a></li>
<li><a href="../de492908/index.html">So beantragen Sie eine vor√ºbergehende √úbertragung auf Remote-Arbeit</a></li>
<li><a href="../de492910/index.html">Schrittmotorsteuerung √ºber Canny-Controller</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>