<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♌️ 💪🏾 🈯️ Docker dan VMWare Workstation pada mesin Windows yang sama 👵🏻 🤥 🐴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tugasnya sederhana, letakkan Docker di laptop Anda yang bekerja dengan Windows, yang sudah memiliki kebun binatang. Disampaikan Docker Desktop membuat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Docker dan VMWare Workstation pada mesin Windows yang sama</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495150/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tugasnya sederhana, letakkan Docker di laptop Anda yang bekerja dengan Windows, yang sudah memiliki kebun binatang. </font><font style="vertical-align: inherit;">Disampaikan Docker Desktop membuat wadah, semuanya OK, tapi saya segera menemukan bahwa VMWare Workstation berhenti meluncurkan mesin virtual dengan kesalahan:</font></font><br>
<br>
<pre><code class="plaintext hljs">VMware Workstation and Device/Credential Guard are not compatible. VMware Workstation can be run after disabling Device/Credential Guard.</code></pre><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pekerjaan bangun, kebutuhan mendesak harus diperbaiki</font></font></h3><br>
<img src="https://habrastorage.org/webt/b1/t1/zb/b1t1zbtgf0ryh6x4bfeocywnkig.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan Google, ditemukan bahwa kesalahan ini terjadi karena ketidakcocokan VMWare Workstation dan Hyper-V pada mesin yang sama. </font><font style="vertical-align: inherit;">Masalahnya diketahui dan ada solusi VMWare resmi tentang cara </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memperbaikinya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dengan merujuk ke basis pengetahuan Microsoft </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manage Windows Defender Credential Guard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Solusinya adalah dengan menonaktifkan Penjaga Kredensial Defender (paragraf 4 dari bagian Nonaktifkan Penjaga Kredensial Defender Windows membantu saya):</font></font><br>
<br>
<pre><code class="plaintext hljs">mountvol X: /s<font></font>
copy %WINDIR%\System32\SecConfig.efi X:\EFI\Microsoft\Boot\SecConfig.efi /Y<font></font>
bcdedit /create {0cb3b571-2f2e-4343-a879-d86a476d7215} /d "DebugTool" /application osloader<font></font>
bcdedit /set {0cb3b571-2f2e-4343-a879-d86a476d7215} path "\EFI\Microsoft\Boot\SecConfig.efi"<font></font>
bcdedit /set {bootmgr} bootsequence {0cb3b571-2f2e-4343-a879-d86a476d7215}<font></font>
bcdedit /set {0cb3b571-2f2e-4343-a879-d86a476d7215} loadoptions DISABLE-LSA-ISO<font></font>
bcdedit /set {0cb3b571-2f2e-4343-a879-d86a476d7215} device partition=X:<font></font>
mountvol X: /d</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah restart, Windows akan menanyakan apakah Defender Credential Guard benar-benar dinonaktifkan. </font><font style="vertical-align: inherit;">Iya! </font><font style="vertical-align: inherit;">Dengan demikian, VMWare Workstation akan kembali ke operasi normal, dan kami akan berada di tempat yang sama seperti sebelum menginstal buruh pelabuhan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak pernah menemukan solusi untuk mendamaikan Hyper-V dan VMWare Workstation, saya berharap mereka akan berteman dalam versi baru.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cara lain</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sudah lama terpikat pada VMWare Workstation untuk berbagai keperluan, mencoba untuk turun di Hyper-V dan VirtualBox, tetapi fungsionalitasnya tidak memuaskan tugas-tugas saya, jadi saya masih duduk. </font><font style="vertical-align: inherit;">Ternyata ada solusi untuk bagaimana menyatukan VMWare, Docker dan VSCode dalam satu lingkungan kerja. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker Machine</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - memungkinkan Anda untuk menjalankan Docker Engine pada virtual host dan menghubungkannya baik secara lokal maupun jarak jauh. </font><font style="vertical-align: inherit;">Dan baginya ada driver kompatibilitas dengan VMWare Workstation, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan ke GitHub</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
saya tidak akan secara khusus menceritakan kembali instruksi instalasi, hanya daftar bahan:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker Toolbox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><font style="vertical-align: inherit;">Termasuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesin Docker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesin Docker Driver Workstation VMware</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desktop Docker</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya, Docker Desktop, sayangnya, juga dibutuhkan. </font><font style="vertical-align: inherit;">Jika Anda menghancurkannya, maka instal kembali, tetapi kali ini menghapus kotak centang tentang membuat perubahan pada OS agar tidak merusak VMWare Workstation lagi. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya ingin segera mencatat bahwa semuanya berfungsi dengan baik dari pengguna yang sederhana, program instalasi akan meminta eskalasi hak ketika mereka perlu, tetapi semua perintah pada baris perintah dan skrip dijalankan dari pengguna saat ini. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasilnya, tim:</font></font><br>
<pre><code class="powershell hljs"><span class="hljs-variable">$</span> docker<span class="hljs-literal">-machine</span> create -<span class="hljs-literal">-driver</span>=vmwareworkstation dev</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dari Boot2Docker dev virtual akan dibuat di dalamnya yang akan ada Docker. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat melampirkan mesin virtual ini ke antarmuka grafis VMWare Workstation dengan membuka file vmx yang sesuai. </font><font style="vertical-align: inherit;">Tetapi ini tidak perlu, karena VSCode sekarang perlu dijalankan oleh PowerShell dengan sebuah skrip (untuk beberapa alasan, buruh pelabuhan-mesin dan buruh pelabuhan-mesin-driver-vmwareworkstation ternyata berada di folder bin):</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">cd</span> ~/bin<font></font>
./docker<span class="hljs-literal">-machine</span> env dev | <span class="hljs-built_in">Invoke-Expression</span>
code</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VSCode terbuka untuk bekerja dengan kode pada mesin lokal dan buruh pelabuhan di mesin virtual. Plugin </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker untuk Visual Studio Code</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memungkinkan Anda mengelola wadah dengan mudah di mesin virtual tanpa naik ke konsol. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesulitan:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dalam proses pembuatan mesin buruh pelabuhan, proses saya membeku:</font></font><br>
<br>
<pre><code class="powershell hljs">Waiting <span class="hljs-keyword">for</span> SSH to be available...</code></pre><br>
<img src="https://habrastorage.org/webt/sf/4a/a7/sf4aa7bnmnh4zwmtccicwm4yong.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan setelah beberapa waktu itu berakhir dengan upaya melebihi untuk membuat koneksi dengan mesin virtual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini semua tentang politik sertifikat. Saat membuat mesin virtual, Anda akan melihat direktori ~ \ .docker \ machine \ machines \ dev dalam direktori ini akan ada file sertifikat untuk terhubung melalui SSH: id_rsa, id_rsa.pub. OpenSSH dapat menolak untuk menggunakannya karena percaya bahwa mereka memiliki masalah hak akses. Hanya di sini mesin docker tidak akan memberi tahu Anda tentang hal ini, tetapi hanya akan menyambung kembali sampai bosan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Segera setelah pembuatan mesin virtual baru dimulai, buka direktori ~ \ .docker \ machine \ machines \ dev dan ubah hak atas file yang ditentukan, satu per satu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pemilik file harus menjadi pengguna saat ini, akses penuh hanya ke pengguna saat ini dan SISTEM, semua pengguna lain, termasuk grup administrator dan administrator itu sendiri, harus dihapus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin juga ada masalah dengan mengubah jalur absolut dari format Windows ke Posix, dan dengan volume yang mengikat yang berisi tautan simbolik. </font><font style="vertical-align: inherit;">Tapi itu cerita lain.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id495130/index.html">Mengurutkan dalam Scala - contoh pada kucing</a></li>
<li><a href="../id495138/index.html">Bagaimana masyarakat dan teknologi akan berubah setelah coronavirus. Pendapat Ahli</a></li>
<li><a href="../id495140/index.html">10 meme teratas dalam dekade terakhir</a></li>
<li><a href="../id495146/index.html">Catu daya pusat perbelanjaan atau Shopping Must Go On yang tidak terganggu</a></li>
<li><a href="../id495148/index.html">Dell XPS 13 7390 "2 in 1": transformator logam ringan dengan layar cerah dan Intel Ice Lake</a></li>
<li><a href="../id495154/index.html">Server abadi - cara menyingkirkan pembayaran hosting bulanan</a></li>
<li><a href="../id495156/index.html">Luar biasa produk Anda masih berfungsi</a></li>
<li><a href="../id495158/index.html">Pengembang Perekrestok.ru. Apa yang kami lakukan dan siapa yang kami cari dalam tim</a></li>
<li><a href="../id495160/index.html">Dari monolit ke sistem terdistribusi</a></li>
<li><a href="../id495162/index.html">Apa yang perlu Anda ketahui tentang dampak berita terhadap harga saham</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>