<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😍 🦀 😊 「デスティネーションには偽装がたくさんあります...」またはCANNY 3タイニーとフォトレジスターを使用して電球の制御を自動化します 🙆🏽 👐🏾 😱</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="では最後の記事 Habrに、私は私が贈り物としてCanny3小さなコントローラを受けたかについてあなたに言いました。 LEDを「点滅」させ、ボタンを押しました。これで、原則として実験を終了することができました。
 
 ただし、ここ数週間、ウィッチャーに関するオーディオブックを聴いているため、目的地に...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>「デスティネーションには偽装がたくさんあります...」またはCANNY 3タイニーとフォトレジスターを使用して電球の制御を自動化します</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489764/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後の記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Habrに、私は私が贈り物としてCanny3小さなコントローラを受けたかについてあなたに言いました。 LEDを「点滅」させ、ボタンを押しました。これで、原則として実験を終了することができました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ここ数週間、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウィッチャー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に関するオーディオブックを聴いている</font><font style="vertical-align: inherit;">ため、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的地</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">についてもっと真剣に</font><b><font style="vertical-align: inherit;">取り組んでい</font></b><font style="vertical-align: inherit;">ます。メーカーのウェブサイトに記載されている情報によると、CANNYファミリーのコントローラーは、主にさまざまな自動車システムや特殊機器の自動化を目的としています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題は、「金色の手」を使って実際の車をぶらぶらさせることはできず、一般に車が怖いということです。</font><font style="vertical-align: inherit;">そのため、この記事のために特別に小型車のランプとフォトレジスターを購入する必要がありました。</font><font style="vertical-align: inherit;">運命を怒らせないためにあなたがしないこと。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日は、コントローラーと車のランプを12V電源に接続し、COMポートにメッセージを送信し、ライトに応じてランプの組み込みを自動化し、高周波PWMコントローラーを試します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デスティネーションの力も信じますか？</font><font style="vertical-align: inherit;">その後、猫の下で大歓迎です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yt/kd/tj/ytkdtjul2i1qbdrqllt278lszck.png"><br>
<a name="habracut"></a><br>
<br>
<a name="I"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> パートI：はじめに</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パートI：はじめに</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パートII：コンポーネントと注意事項</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パートIII：COMポートにデータを書き込む方法</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パートIV：オートランプとフォトレジスタを接続してプログラムする</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パートV：PWMを使用してランプの輝度を下げようとする</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パートVI：結論</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
記事の冒頭で、 DIYの電子機器に関する経験はあまりありません。</font><font style="vertical-align: inherit;">何年も前に、私はCraftDuino-国内のArduinoクローンを試してみました。</font><font style="vertical-align: inherit;">そして彼が私のためにしたそれらの「工芸」は別として</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drzugrik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは実際にDIYエレクトロニクスでの私の経験は限られています。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どうやら、国内の開発への私の愛情を知っていたので、私はキャニー3を与えることに</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
しました。前回の記事を準備する過程でさえ、出力の電圧がオンと同じになる一方で、コントローラーは5Vだけでなく12Vからも電力を供給できることに驚きました入力、およびチャネルあたりの最大電流は100mA程度です。私の古いCraftDuinoはできなかったので、それは私には興味深く思えました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
式を使った簡単な計算</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo>=</mo><mi>U</mi><mo>&amp;#x2217;</mo><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.993ex" height="2.009ex" viewBox="0 -755.5 4302.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMATHI-55" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-2217" x="3075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMATHI-49" x="3798" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo>=</mo><mi>U</mi><mo>∗</mo><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">P=U*I</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コントローラーの出力あたりの最大電力は約1.2ワットになることに気付きました。念のため、パワーリザーブ付きのランプをピックアップすることにしました。 0.9 WのLED電球を選択しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、私はまだ新年の贈り物を誤って燃やすことはしたくなかったので、それにつなげる前に、すべてを正しく理解しているかどうかを開発者に尋ねることにしました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
驚いたことに、彼らは私に答えただけでなく、複数の出力を組み合わせると、それに比例して電力が増加することを示唆しました。その後、ランプよりも強力なものを購入することが決定し、シガーライターに挿入されている車のファンに選択肢がありました。ただし、記事から「ビネグレット」を作らないようにするため、自動車のファンによる操作は次回まで延期することにしました。</font></font><br>
<br>
<a name="II"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> パートII：機器と注意事項 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だから、実験の初めには、私は次のことをしていました：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">充電・発射装置「Orion Vympel-55」。</font><font style="vertical-align: inherit;">私はすでにそれを持っていて、幸いにも、それはバッテリーを充電することができるだけでなく、広い範囲（12 Vを含む）の電源にもなることができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uj/fi/_i/ujfi_iwx1hku88fcb2trgbdhvqu.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LEDオートランプ「スカイウェイH3。</font><font style="vertical-align: inherit;">SH3-9SMD-5050 W. " </font><font style="vertical-align: inherit;">電球は色々なヘッドライトに使用できるのはわかっていますが、どこにも貼り付けることができないので、はんだ付けせずに電源と接続のしやすさを選びました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zw/vm/yi/zwvmyih0_5t0grxn5elq4j1zvfe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、電力計算式に戻り、電流を測定して許容100mAに収まることを確認しました。</font><font style="vertical-align: inherit;">理論的には、電球の電流は</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>I</mi><mo>=</mo><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>U</mi><mo>=</mo><mn>0.9</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>12</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>075</mn><mi>A</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.044ex" height="2.634ex" viewBox="0 -809.3 12504.8 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-3D" x="782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMATHI-50" x="1838" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-2F" x="2590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMATHI-55" x="3090" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-3D" x="4135" y="0"></use><g transform="translate(5192,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-39" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-2F" x="6471" y="0"></use><g transform="translate(6972,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-32" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-3D" x="8250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-30" x="9307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-2C" x="9807" y="0"></use><g transform="translate(10252,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhjA1cutVQDeS8WHJiBluw7F6kMoIw#MJMATHI-41" x="11754" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi><mo>=</mo><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>U</mi><mo>=</mo><mn>0.9</mn><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>12</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>075</mn><mi>A</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">I=P/U=0.9/12=0,075A</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、測定から判断すると、少し少ないことがわかりました。</font><font style="vertical-align: inherit;">多分私は何か間違ったことをしましたが。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gl/fw/qv/glfwqvsyuybaay2nr5bdftlk2n8.png"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォトレジスターFR-765。</font><font style="vertical-align: inherit;">その店には他に何もなかったからといって、私は彼を選びました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h9/zq/gq/h9zqgqgqp4vfwhhoreh_qxmo5aa.png"></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、私は持っていました：コントローラー、ブレッドボード、ワイヤー、ワニなど。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キャニー3に関する以前の記事では、コントローラーを本当に賞賛しましたが、軟膏には1匹のハエがいることがわかりました。</font><font style="vertical-align: inherit;">前回はキットに同梱されていたバンドルケーブルを使用していませんでしたが、今回はそれなしではできませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私ははんだごてを非常にうまく使用していないので、その使用を極めて最小限に抑えたかったのです。</font><font style="vertical-align: inherit;">したがって、結局、取り外し可能な接続のすべての回路を収集しました。</font><font style="vertical-align: inherit;">特別なワイヤー（お父さん、お母さん、お母さん、お父さん）、ブレッドボード、ワニクリップを使用しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、コントローラーの開発者がケーブルの剥ぎ取りの過程で私が2、3の切り口を得たという事実に責任がない場合、私が「木製」のハーネスを部分的に彼らの良心に引っ掛けたという事実のために私の構造全体が床に落ちた瞬間。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方で、止血帯は良いことです。車内にコントローラーを取り付けるには、ケーブルハーネスがちょうどいいと思います。その中のワイヤーはより線であり、それらがよくねじられている場合、それらはコネクター「母」、私の「ブレッドボード」ワイヤーに完全にフィットします。一方、ブレッドボードを使ってケーブルで実験するのは不便で、コントローラを正面に向けた美しい写真でも、「オークのワイヤー」が原因で困難でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私ははんだごてを使いたくなかったが、少なくとも一度は彼らが武装しなければならなかったともう少し高く言った。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォトレジスターからの信号を測定するには、コントローラーのA / Dコンバーター（ADC）に信号を「挿入」する必要があります。</font><font style="vertical-align: inherit;">しかし、実際には、たとえば、私の古いCraftduinoとは異なります。</font><font style="vertical-align: inherit;">キャニーの場合、ジャンパーを付ける必要があることがわかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初はドキュメントを注意深く読んでおらず、コントローラーの5と6の出力はA5とA6の出力であると思いました。</font><font style="vertical-align: inherit;">私もプログラムを書いて、長い間読書を試みました。</font><font style="vertical-align: inherit;">当然、私は成功しませんでした。デフォルトでは、事前準備がなければ、チャンネル5と6は通常の離散入力として機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「新鮮な心」でコントローラのドキュメントを読んだ後、私はまだはんだ付けする必要があることに気付きました。</font><font style="vertical-align: inherit;">あなたは私がすべてを「ねじで締める」のを恐れていたのか分かりません。</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 回路に何かをはんだ付けしようとした最後の時間 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drzugrik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、なんとかはんだ付け場所近くのコンデンサーを全てはんだで埋めました。</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今回ははんだ付け工程が簡単でした。</font><font style="vertical-align: inherit;">トラックにはんだを一滴注意深く入れるだけで十分でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のはんだジャンパーがどのように見えるかは下の写真で見ることができます：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pv/r9/vd/pvr9vdryjakzmbjalenhh6wrn9a.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6番目の出力のみをチャネルA6に接続しました。誤って両方のジャンパーをはんだで埋めないように、あえて5番目のチャネルをはんだ付けしませんでした。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">純粋に理論的には、穴と端子番号6をワイヤーで接続することにより、はんだごてなしで行うことができました。</font><font style="vertical-align: inherit;">しかし、それはひどく不便でしょう。</font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下の写真は、5番ピンとADCの5番ピンのA5をパパ間ワイヤで接続する方法を示してい</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qu/l6/hb/qul6hbndz9lv1jwj8rq-m34sipe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。ビジネスに取り掛かる前に注意すべき最後のこと。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1対1で繰り返さないでください。これについては、本文で詳しく説明します。</font><font style="vertical-align: inherit;">プラグイン接続をはんだ付けに置き換えるのを怠らないでください。太いワイヤーを拾い、ドキュメントを読んでください。</font><font style="vertical-align: inherit;">私はこれらの問題の専門家ではないので、すべてを「できる限り」まとめました。</font><font style="vertical-align: inherit;">また、火災の危険を注意深く監視し、機器を放置しないでください。</font><font style="vertical-align: inherit;">いくつかのくすぶり臭いワイヤーを数回においがしました。</font><font style="vertical-align: inherit;">さて、電源でも短絡からの保護がありました（私も手配しました）。</font><font style="vertical-align: inherit;">したがって-注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、私たちが持っている電圧と電流が小さいという事実にもかかわらず、電圧の下でまだ生きている部分に触れることは痛みを伴う可能性があることを忘れないでください</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（特にあなたが体の傷ついた部分でそれらを突く場合）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a name="III"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> パートIII：COMポートにデータを書き込む方法</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アンビエントライトセンサーを何らかの方法で調整するには、ライトレベルに応じてコントローラーに送信される値を理解する必要があります。これを行うには、ADCからモニターにデータを出力する必要があります。このような問題を解決するためにArduinoとそのクローンを操作するときは、COMポートモニターを使用しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Canny 3 tinyの場合、仮想COMポートからデータを読み取るプロセスは、Arduinoの場合ほど複雑ではありません。ただし、重要な違いが1つあります。 CannyLab開発環境には、独自のCOMポートモニターがありません。</font><b><font style="vertical-align: inherit;">Hterm</font></b></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を使用</font><font style="vertical-align: inherit;">したのは、クロスプラットフォームで軽量であり、インストールの必要がないためです。しかし、あなたは他のものを使うことができます。</font><font style="vertical-align: inherit;">
さらに言いますが、Arduino IDE COMポートモニターの使用を妨げるものはありません。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows 10システムではすべてがそのまま機能し、仮想COMポートのドライバーを個別にインストールする必要はありませんでした。ただし念のため、ドライバーはCannyLab開発環境にバンドルされているように見えます（drv \ canny3tiny_vcpフォルダーにあります）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USB仮想COMポートへのデータ送信に関連するチャートブロックがどのように機能するかをさらに説明しないために、簡単な例を示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日はワークアウトとして、コントローラーを使って「HABR」というメッセージを送ります。まず、IDE CannyLabをダウンロードする必要があります。それは開発者の公式ウェブサイトで簡単に見つけることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、CannyLab v 1.42を使用しましたが、以前のバージョンではダイアグラムのパフォーマンスに問題はないと思います。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいコントローラにソフトウェアを書き込むプロセスと</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、前回の記事の第3章で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概説したCannylabでの作業の基本原則</font><font style="vertical-align: inherit;">。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
新しいグラフを作成し、ダイアログボックスでCanny 3 tinyを選択します。そして、以下のスクリーンショットのように、ブロック、定数、レジスタを図に転送します。もちろん、テキストラベルを転送する必要はなく、ダイアグラムの実行中はテキストラベルに依存しません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rz/st/g9/rzstg9zmltxsf2ekndo4orydcnu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自分でブロックを移動したくない場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">て</font></a><font style="vertical-align: inherit;">この記事の図をダウンロードできます</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。COMポートへのメッセージの送信は少し奇妙に機能し、ミラーで1組の文字に文字を書く必要がありますが、慣れることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
部分的に説明します。</font><b><font style="vertical-align: inherit;">「パラメータ設定」</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ブロック内</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB VCPドライバーの設定を行います。まず、仮想COMポートで転送モードを有効にしてから、送信するメッセージの長さを設定します。私たちの場合-改行を含む6文字。</font><b><font style="vertical-align: inherit;">「メッセージテキスト」</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ブロック</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、メッセージテキストを定数に書き込み（「chr」モードに切り替えることを忘れないでください）、これらの定数を対応するドライバーレジスタに転送します。ここでも、メッセージをシンボルペア自体とドライバーレジスタの両方に逆の順序で書き込むことに注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のブロック</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「メッセージ転送」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定した頻度でメッセージをCOMポートに送信します。これにはPWMブロックを使用します。ランプを接続するときに使用するRF PWMと混同しないでください。この場合、ブロックは半分の時間「0」を生成し、後半は「1」を生成します。メッセージの送信頻度を増減するために、期間のサイズを「試してみる」ことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コントローラーの動作を確認するには、緑色のLEDをこのPWMブロックに接続する必要があります。すべてが正常な場合、LEDはメッセージ送信の頻度で点滅します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムをコントローラーに書き込む方法について</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、以前の記事で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すでに述べ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">。しかし、過去の間に私は別のクールなトリックを学びました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コントローラをコンピュータに接続すると、プログラム録画モードになります。以前は、ランタイムモードにするために、コントローラーをコンピューターから取り外し、USB充電をそれにスタックしていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もっと簡単な方法があることがわかりました。コントローラをコンピュータのUSBポートに</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、CannyLabの[ </font><b><font style="vertical-align: inherit;">接続</font></b><font style="vertical-align: inherit;"> ]ボタンをクリックした後</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]メニューに移動して[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]を選択します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/dt/bv/b-dtbvog9sirji-opbj-ehor-hm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コントローラーは録画されたプログラムの実行を開始し、USBポートから電力を受け取ります。またその後、COMポートのモニターでコントローラーが使用可能になります。確かに、プログラム録画モードに戻すには、コントローラーを取り外してコンピューターのUSBポートに再度挿入する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これがHterm COMポートモニターの「HABR」です。</font><font style="vertical-align: inherit;">データ転送速度やその他の設定に注意してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ls/lh/yu/lslhyucpy7cxrmexfqnn3l5swgi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これはArduino IDE COMポートモニターです</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/zd/vl/abzdvlqwpn6jaw0q0uuzx06ltzo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。写真は、図を記録した後のコントローラーの動作を示しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qv/4n/zu/qv4nzuowx6saogj5xskvkn7dt3w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
赤いLEDは、コンピューターのUSBポートを介して電力が受信されていることを示し、緑は、仮想USB COMポートを介して送信されるメッセージのビートに「点滅」します。</font></font><br>
<br>
<a name="IV"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パートIV：車のランプとフォトレジスタを接続してプログラムします。</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、最も簡単なオプションを検討します。ランプをコントローラの端子1に接続し、フォトレジスタを端子6（ADC）に接続するだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてが非常に単純ですが、念のため、図を描きました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sv/un/pm/svunpmu3hc-n4agrotbzy2rquea.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、ここではそれが生きているように見えます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ap/az/z8/apazz8ybxdpnfnaxf9y3c-daabc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キャニー3タイニーの対応する端子に接続する電源の「-」と「+」、ピン番号1がランプハウジングに接続され、ランプの「テール」ブレッドボードのブレッドボードにプラス記号が付いています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォトレジスターでも、すべてが簡単です。さらに、ブレッドボードをバスからブレッドボードに持ってきて、マイナスは以前ジャンパーでADCに接続していたコントローラーのピン6に行きます。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私はすでに、構造全体が数回テーブルから落ちたと上記で書いています。したがって、さらに写真では、指揮者の色とブレッドボードに入るポイントの点で若干の違いがあるかもしれません。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、プログラムを作成します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n1/7s/l8/n17sl8exoem1_jl54mqgb-bapeg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちがブロックする新しい日を考えてください。</font><b><font style="vertical-align: inherit;">「ADCから値を取得してスイートに変換する」</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ブロックから始めましょう</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
このブロックでは、ADC（0から1023）が照度（ルクス）で提供できる値を変換します。</font><font style="vertical-align: inherit;">
照明が明るい場合は1回、暗い場合は1回測定する必要があります。</font><font style="vertical-align: inherit;">
したがって、</font><b><font style="vertical-align: inherit;">「からの値</font></b><font style="vertical-align: inherit;">」では、ADCの最小読み取り値「0 </font><b><font style="vertical-align: inherit;">」</font></b><font style="vertical-align: inherit;">を記録し、</font><b><font style="vertical-align: inherit;">「からの結果」では</font></b><font style="vertical-align: inherit;">、照明レベルのゼロ値を記録しました。</font><font style="vertical-align: inherit;">
で</font><b><font style="vertical-align: inherit;">「に値」</font></b><font style="vertical-align: inherit;"> I = 20 ADCの読みを記録し、対応する照明は300ルクスに等しく、Iはで入力</font><b><font style="vertical-align: inherit;">「に結果」</font></b><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォトレジスターのパラメーターの詳細な説明はありませんが、完全に線形の特性を持っているとは思われませんが、これで十分です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シミュレーターでダイアグラムがどのように実行されるかを事前に確認します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私が書いたCannyLabシミュレーターでの作業の詳細</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここに私がしてしまったものです：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mp/yw/no/mpywnolxlvzxyaqqkeyy3oh2m-u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォトレジスタは、ADCへの10の値を通過したことを想像してみてください。</font><b><font style="vertical-align: inherit;">「の表示（MAP）」</font></b><font style="vertical-align: inherit;">ブロックは、</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは基本的に線形スケーリングです。 10は、スケールの半分です。つまり、出力は0から300の範囲の半分、つまり150になります。これは、指定されたレベルの300ルクスを下回っています。したがって、チャネルレジスタ1（出力1）に1が送信され、ランプがオンになります。 。ただし、すぐにはオンになりませんが、少なくとも1秒間（1000ミリ秒）暗い場合に限ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
COMポートで受信するメッセージを理解するために、シミュレーターの値の表示を16進形式に切り替えました。</font><b><font style="vertical-align: inherit;">「VCPメッセージセットアップレジスタD1：D0</font></b></font><br>
<br>
<img src="https://habrastorage.org/webt/mq/nr/rk/mqnrrkxyzudcput-yez77oke13a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
について考えてみましょう</font><font style="vertical-align: inherit;">。値は3130です。これは2組の文字で、それぞれが16進文字コードを表しています。 31hはASCIIの文字コード「1」、30はASCIIのゼロコードであることがわかります。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：「VCP D3 D2メッセージのインストール・レジスタ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0、我々はそれに応じて文字を持っているだろう」「と」5」。 「0」、「1」、「5」、「0」の文字のペアの値をD0からD3の順序で収集します。それで、私たちは0150ルクスを得ました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、彼らが「単一のシミュレータではない...」と言うように。実際に何が起こるか見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シャンデリアの光と自然光（照明の組み合わせ）での</font></font><br>
<br>
<img src="https://habrastorage.org/webt/of/ze/ps/ofzepsndi0bepg1hwoxzursk7my.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
測定</font><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">工場の光度計と自家製の光度計</font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">読み取り値はほぼ完全に一致しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
日光の下での測光：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w_/kz/aq/w_kzaqulbnhvr-pq2tsdcy7pqu8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
非常に悪い。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、おそらくフォトレジスターの特性の非線形性によるものであり、スケーリングの下限をゼロに設定しているためですが、測定精度を上げるために図を複雑にすることはありません。この例では、主なことは、照度値を取得する一般的な原理を理解することでした。</font><font style="vertical-align: inherit;">そして、車や家庭でこれらのプロジェクトが実施されるまで、精度の向上が遅れる可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回路の動作を確認し、指でセンサーを閉じて指を離します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4f/nh/qd/4fnhqd-jpxmvsbj5wtvwnokgybg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今、部屋が真っ暗な場合のオプションがあります：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5r/d7/lc/5rd7lcy5_cdx339o6z6c39r3y5i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ランプが点灯しています。</font><font style="vertical-align: inherit;">すべてが正常に機能します。</font></font><br>
<br>
<a name="V"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> パートV：PWMを使用してランプの輝度を下げようとする</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ランプの明るさを変更することにより、スキームを少し複雑にしましょう。これを行うには、高周波PWM（RF PWM）が必要です。Canny3では、出力No. 3およびNo. 4 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
に</font><font style="vertical-align: inherit;">実装されています。</font><font style="vertical-align: inherit;">出力No. 4を使用することにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続方式は実質的に変更されません。簡単に</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qp/bg/b-/qpbgb-a7whds1vugbizqoyr3its.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言え</font><font style="vertical-align: inherit;">ば、出力1番の代わりに、出力4番をランプに接続します</font><font style="vertical-align: inherit;">。すべての違いは、白いワイヤーの代わりに、フレームが青いということです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2t/z3/nl/2tz3nldjplnly2tzmo7ttrb0he0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
図もあまり変わっていません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/fx/wl/orfxwlbv1adspw_c0fv2ouenqhy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
図の詳細は描きません。 PWMに使用する出力4の構成の主な変更点。このセクションでは、</font><b><font style="vertical-align: inherit;">「フィル設定レジスタ」を設定</font></b><font style="vertical-align: inherit;">する必要があります</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それは2から255マイクロ秒の値をとります、私はそれを危険にさらさないことに決めて254を選択しました。2つのチャネル（No. 3とNo. 4）に同時にインストールされることに注意してください。次に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「PWMチャネルイネーブルレジスタNo. 4」に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「1」を書き込んで、</font><font style="vertical-align: inherit;">電球のPWMを含めます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブロック</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「PWMモードでランプをオンにする（低輝度）」では、</font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「充填チャネルNo. 4、μsを設定するためのレジスタ」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のみが新しいです。</font><font style="vertical-align: inherit;">フォトセンサーの上の照明レベルが250ルクス未満であった場合、値「10」を書き込みます。 1秒以内。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下の写真は、ランプが点灯していることを示していますが、ほのかに光っています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/om/pp/_t/ompp_teo-f76yagfthj5qylheus.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ランプをより明るく輝かせたい場合は、定数「10」の値をより大きな任意の数に変更するだけで済みます。たとえば、127という数値を使用できます。この場合、RF PWM周期を満たすのにかかる時間の半分です。つまり、ランプの明るさの約半分になります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lx/ni/3t/lxni3tbt3zw1y6lyqthoqqufc1w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このランプを備えたRF PWMは非常に顕著に機能することに注意してください。ここに3つの写真があります。1つ目は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「チャネル番号4を充填するためのレジスタ」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">値</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">10μsに、2つ目は-110μs、右側は-210μsに設定します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/os/_w/udos_wpczlgn2m1naf4nc5053da.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
原則として、私が理解しているように、この例のオートランプは位置信号で使用され、自動車のフォグランプで使用されることもあります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スキームと図を改良すれば、古いマシンで暗い場所でのバックライトの組み込みを実装することが可能になると思います。</font><font style="vertical-align: inherit;">確かに、夜間の人工照明の影響を考慮する必要があります。</font><font style="vertical-align: inherit;">そのため、道路上、トンネル内、および対向車のヘッドライトから、ランプは消えませんでした。</font><font style="vertical-align: inherit;">または、客室内のランプを制御して、たとえば、ZhiguliまたはNivaのドアにあるランプを開いたときに常に点灯しないようにすることもできます。</font></font><br>
<br>
<a name="VI"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> パートVI：結論 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事を書いている最中に、懐かしさを感じました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
研究所で勉強しているとき、私の友人でクラスメートのSeryogaはシックな青いVAZ 2107ブランドセダンを持っていました。彼がしていないこと：彼は（ブーストを上げるために）ホースの種類を取り付け、客室にファンを取り付けて別のボタンで電源を入れ、ボタンを押すだけで車を始動させます（キーを回した場合のみ）点火）。一般的に、彼は自分の「飲み込み」を「調整」しなかっただけです。それから何年も経ちましたが、私の友人はより堅固な車に移動しましたが、彼がこのコントローラーを10年前に手に入れたら、彼のZhiguliをどうするか想像するのが怖いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事のおかげで、目的地も思い出しました。結局のところ、私は自動化エンジニアとして長年勉強しましたが、純粋に自分の専門分野で1日働いていませんでした。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DIYの世界に飛び込むのはとてもクールです。回路を1回以上組み立てるプロセスで、電球とLEDをボタンでオン/オフにします。意図した通りに動いていると気持ちいいです。また、ダイアグラムを使用してコントローラーをプログラミングすることは、Arduino IDEでコードを書くよりも瞑想的な作業であるという考えにも気付きました。プログラムに対するまったく異なる認識。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事の執筆中に、ケーブルハーネスなしのバージョンのCanny 3 tinyを自分で注文しました。ここで少し休んで、ブレッドボードへのこのコントローラーのインストールに関する記事を書きます。それ自体で、照明の自動化のいくつかの例をその助けを借りて分析します。</font></font><br>
<br>
<i>   ,  ,    . </i><br>
<br>
<i>UPD:<br>
,       ,            :</i><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">«, ,  –  !»       CANNY 3 tiny</a>.<br>
</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">«  ...»         (CANNY  Arduino)  Raspberry PI</a>.<br>
</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">« ?»     bluetooth      Xamarin (Android)</a>.<br>
</li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja489754/index.html">20個のプロジェクト管理システム、100個のチップの概要</a></li>
<li><a href="../ja489756/index.html">SVGで鉛筆効果を作成する</a></li>
<li><a href="../ja489758/index.html">Angular：NGRXの使用例</a></li>
<li><a href="../ja489760/index.html">意識と存在。パラドックスのない量子力学</a></li>
<li><a href="../ja489762/index.html">World of Tanksの解析とデータ分析の簡単な例</a></li>
<li><a href="../ja489768/index.html">πが衝突ブロックと量子探索アルゴリズムを組み合わせる方法</a></li>
<li><a href="../ja489770/index.html">MinskJS mitapからのビデオ：ブラウザー拡張機能に関する私のレポート</a></li>
<li><a href="../ja489772/index.html">Yandex、シンフェロポリのハッカソンダイアログとチャットボット技術の法則</a></li>
<li><a href="../ja489774/index.html">Node-REDを使用してアパートを自動化した経緯。パートII</a></li>
<li><a href="../ja489776/index.html">The Ember Times-Issue 136</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>