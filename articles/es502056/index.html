<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§õüèΩ üöã üéä C√≥mo construir una casa inteligente y no volverse loco üçÆ üå∫ üí≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los muebles inteligentes, que se encargan del orden en la casa, son imprescindibles para casi cualquier imagen futurista. De hecho, un clima autorregu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>C√≥mo construir una casa inteligente y no volverse loco</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bary_io/blog/502056/"><img src="https://habrastorage.org/webt/io/mx/xk/iomxxk5qmmqlguhptngp9zjlptu.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los muebles inteligentes, que se encargan del orden en la casa, son imprescindibles para casi cualquier imagen futurista. De hecho, un clima autorregulador, luces autom√°ticas de encendido y apagado y control de voz de los electrodom√©sticos; todo esto se puede configurar ahora. Pero requerir√° un poco de experiencia, conocimientos b√°sicos en el campo de la tecnolog√≠a y, a veces, la programaci√≥n, as√≠ como todo un mar de fantas√≠a. En mi caso, lo hice para que solo la fantas√≠a sea suficiente, pero lo primero es lo primero ...</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/bq/rp/k5/bqrpk5eo6zggo-delsghlgs7y1o.jpeg" width="300" height="200" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Me interes√© en la idea de una "casa inteligente" hace unos cinco a√±os. Al principio hice el sistema m√°s simple. Ella controlaba la luz en el pasillo y el ba√±o por el sensor de movimiento, la campana por el sensor de humedad y tambi√©n la estaci√≥n meteorol√≥gica, en ese momento todos estaban locos por ellos. Cada caja de bricolaje respetuosa ten√≠a que hacer una estaci√≥n meteorol√≥gica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, equip√© el apartamento con un rel√© controlado para encender autom√°ticamente la luz en el pasillo y el ba√±o. Se ve√≠a as√≠: un sensor estaba en el pasillo, el segundo en el ba√±o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si alguien iba al ba√±o, entonces el sensor del pasillo detect√≥ su movimiento e inmediatamente encendi√≥ la luz en el pasillo y en el ba√±o. Al mismo tiempo, si nadie ingres√≥ al ba√±o, entonces esto ya fue reparado por el sensor ubicado dentro del ba√±o. Despu√©s de 15 segundos, la luz se apag√≥ all√≠. Si una persona entr√≥ al ba√±o, la luz del pasillo se apag√≥ despu√©s de un minuto.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n pens√© en tales casos si alguien estaba pensando demasiado mientras estaba sentado en un "amigo blanco" en el ba√±o (yo ten√≠a un ba√±o combinado). Para esto, la luz en el ba√±o se dividi√≥ en dos grupos. Uno se apag√≥ 3 minutos despu√©s de que el sensor en el ba√±o dejara de detectar movimientos, el otro despu√©s de 5 minutos. As√≠ que por m√°s de cinco minutos permanecer inm√≥vil en el ba√±o a la luz no funcion√≥. Muy disciplinado Sin embargo, siempre puedes mover tu mano y seguir pensando en lo esencial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n funcionaba un sensor de humedad en el ba√±o, que autom√°ticamente activaba la campana si la humedad exced√≠a el 50%. Tan pronto como la habitaci√≥n fue ventilada al 45% de humedad, la campana se apag√≥.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La administraci√≥n pas√≥, o m√°s bien intent√≥ ir, a trav√©s de la plataforma Arduino.&nbsp; </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a8/lo/0v/a8lo0valnq03awxxkgr-j2bvnxa.jpeg" width="265" height="222"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foto tomada </font></font></i><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;">del</font></i></a><i><font style="vertical-align: inherit;"> sitio web </font></i></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">del fabricante.</font></font></i></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Casi de inmediato, se hizo evidente que esta plataforma no se trataba √∫nicamente de crear una casa inteligente. El principal inconveniente de trabajar con Arduino era que la plataforma funcionaba sin una red, y sin ella no podr√≠a haber un ecosistema verdaderamente unificado. Por supuesto, podr√≠a rehacer el Arduino y agregar soporte de red, pero ¬øpor qu√©? Eleg√≠ un camino m√°s simple y cambi√© esta plataforma a otra.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de haber jugado lo suficiente con Arduino, volv√≠ a conectar la casa al tablero ESP-8266. De hecho, este es el mismo Arduino, pero con Wi-Fi + es m√°s compacto en tama√±o. Este m√≥dulo sigue siendo popular entre los fabricantes de gadgets para hogares inteligentes.&nbsp; </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ui/kh/ql/uikhqljobo7gz8pz2tpcfcqhbvm.jpeg" width="265" height="222"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foto tomada de </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">internet</font></font></i></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paralelamente, trat√© de hacer que el hogar inteligente fuera a√∫n m√°s inteligente. Por ejemplo, resuelva el problema de calefacci√≥n por suelo radiante las 24 horas o un aire acondicionado que siempre est√© encendido. Para esto, compr√© termostatos WiFi chinos Beok. Permitieron apagar la calefacci√≥n del piso de forma remota, pero tuvieron que hacerlo a trav√©s de una aplicaci√≥n especial en el tel√©fono.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resolv√≠ el problema del control remoto del aire acondicionado usando el emulador de se√±al infrarroja Broadlink RM Pro. Nada complicado: graba una se√±al desde el panel de control del aire acondicionado al emulador (puede haber cualquier t√©cnica controlada por el control remoto), y luego en el tel√©fono presiona un bot√≥n en la aplicaci√≥n, y el emulador reproduce la se√±al previamente grabada. En el caso del aire acondicionado, tuve la oportunidad de encenderlo y apagarlo, establecer el modo de operaci√≥n y establecer otros par√°metros de forma remota.&nbsp;&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n se instalaron interruptores Livolo. Con su ayuda, tambi√©n pod√≠a encender y apagar las luces por el aire.&nbsp; </font></font><br>
<br>
<img src="https://habrastorage.org/webt/to/bz/s6/tobzs6u41nh4d_b_eq7tovpop8y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De los inconvenientes: para el control, tuve que instalar una aplicaci√≥n separada nuevamente y no hubo comentarios, es decir, no pude ver que la luz estaba encendida si alguien la encend√≠a o apagaba manualmente usando un interruptor convencional.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Varios rel√©s WiFi controlados como Sonoff o Tuya e incluso el costoso Danalock para bloquear el apartamento, que tambi√©n requer√≠a una aplicaci√≥n separada, tambi√©n aparecieron en la casa. Casi todas estas peque√±as cosas (con la excepci√≥n de Danalock) que compr√© en el sitio chino de Aliexpress, donde cuestan un centavo y me permitieron experimentar sin inversiones serias.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una de las primeras compras relativamente serias fue el respiradero Tion. </font><font style="vertical-align: inherit;">Con el control autom√°tico de CO2, se las arregl√≥ m√°s o menos, pero la temperatura del calentamiento del aire en el invierno constantemente tuvo que ajustarse manualmente. </font><font style="vertical-align: inherit;">Y de nuevo, para administrar era necesario instalar una aplicaci√≥n separada.&nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8w/pn/pd/8wpnpdu6oip9ck-a_qn8z6bv8i4.jpeg" width="265" height="222"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La foto fue tomada </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">del</font></font></i></a><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;"> sitio web </font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;">del fabricante.</font></i></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Todos los sensores y controladores que prob√© en ese momento, ni siquiera recuerdo. </font><font style="vertical-align: inherit;">Mi tel√©fono inteligente estaba obstruido con aplicaciones para administrarlas. </font><font style="vertical-align: inherit;">Era todo un zool√≥gico, que constantemente ten√≠a que seguir. </font><font style="vertical-align: inherit;">Trat√© de combinar la gesti√≥n de estas aplicaciones a trav√©s de todo tipo de agregadores como HomeBridge / MajorDomo, etc. </font><font style="vertical-align: inherit;">Pero todos mostraron sus importantes deficiencias:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interfaz hostil y, a veces, solo una interfaz terrible</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">falta de soporte para todas las aplicaciones usadas</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conexi√≥n compleja</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La b√∫squeda de una aplicaci√≥n para la gesti√≥n centralizada de tal volumen de sensores, controladores y otros sistemas de control no ha tenido √©xito. Luego trat√© de recordar independientemente uno de los dispositivos "inteligentes": el respirador Tion. Escrib√≠ un script para controlar autom√°ticamente la temperatura de calentamiento dependiendo de la temperatura ambiente. El hecho es que el sistema de ventilaci√≥n no ten√≠a un ajuste autom√°tico de la temperatura de calentamiento del aire. Result√≥ que la habitaci√≥n estaba muy caliente o muy fr√≠a. No hab√≠a forma de alcanzar un t√©rmino medio. Aqu√≠, con la ayuda de un gui√≥n escrito y un respiro, este problema se resolvi√≥.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El √©xito con un script para el respiro me impuls√≥ a crear mi propia aplicaci√≥n para administrar una casa inteligente. El objetivo principal era crear un programa con una integraci√≥n conveniente de dispositivos inteligentes, condiciones de automatizaci√≥n de niveles m√∫ltiples y la capacidad de administrar todos los dispositivos de la casa.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante aproximadamente un a√±o, yo mismo particip√© en el desarrollo de aplicaciones back-end y front-end.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El lado del servidor est√° escrito en NodeJS. La elecci√≥n a favor de NodeJS se hizo debido a la comunidad desarrollada, en la que hay protocolos implementados para casi todos los dispositivos en el mercado. La parte del cliente est√° escrita en Angular (Ionic) y se ejecuta en Android / iOS. En general, la arquitectura cl√°sica de cliente-servidor. </font></font><br>
<br>
<i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En una nota:</font></font></strong></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el proceso de trabajar en la aplicaci√≥n, obtuve una visi√≥n t√©cnica sobre el uso de impurezas al escribir controladores de dispositivos. </font><font style="vertical-align: inherit;">No s√©, tal vez para algunos sea elemental, pero realmente me result√≥ m√°s f√°cil respirar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reescrib√≠ los controladores de dispositivos muchas veces hasta que llegu√© a algo como esto:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo de ejemplo de uno de los dispositivos</font></font></b>
                        <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> {XiaomiSubdeviceV2} <span class="hljs-keyword">from</span> <span class="hljs-string">'../xiaomi.subdevice.v2'</span>;
<span class="hljs-keyword">import</span> {load_power} <span class="hljs-keyword">from</span> <span class="hljs-string">'../capabilities/load_power'</span>;
<span class="hljs-keyword">import</span> {power_plug} <span class="hljs-keyword">from</span> <span class="hljs-string">'../capabilities/power_plug'</span>;
<span class="hljs-keyword">import</span> {PowerPurpose} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../base/PowerPurpose'</span>;
<span class="hljs-keyword">import</span> {Relay} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../base/types/Relay'</span>;
<span class="hljs-keyword">import</span> {HomeKitAccessory} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hap/HomeKitAccessory'</span>;
<span class="hljs-keyword">import</span> {Lightbulb2Accessory} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hap/Lightbulb2Accessory'</span>;
<span class="hljs-keyword">import</span> {Yandex} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../yandex/Yandex'</span>;
<span class="hljs-keyword">import</span> {YandexLightOrSwitch} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../yandex/YandexLightOrSwitch'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LumiPlug</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">XiaomiSubdeviceV2</span>.<span class="hljs-title">with</span>(<span class="hljs-title">Relay</span>, <span class="hljs-title">power_plug</span>, <span class="hljs-title">load_power</span>, <span class="hljs-title">PowerPurpose</span>,
  <span class="hljs-title">HomeKitAccessory</span>, <span class="hljs-title">Lightbulb2Accessory</span>,
  <span class="hljs-title">Yandex</span>, <span class="hljs-title">YandexLightOrSwitch</span>) </span>{<font></font>
<font></font>
  onCreate() {<font></font>
    <span class="hljs-keyword">super</span>.onCreate();
    <span class="hljs-keyword">this</span>.model = <span class="hljs-string">'Mi Smart Plug'</span>;
    <span class="hljs-keyword">this</span>.class_name = <span class="hljs-string">'lumi.plug'</span>;
    <span class="hljs-keyword">this</span>.driver_name = <span class="hljs-string">'Mi Smart Plug'</span>;
    <span class="hljs-keyword">this</span>.driver_type = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">this</span>.parent_class_name = <span class="hljs-string">'lumi.gateway'</span>;<font></font>
  }<font></font>
<font></font>
  getIcon() {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'socket'</span>;<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conclusi√≥n es que, a pesar de la abundancia de diferentes dispositivos, todos hacen aproximadamente lo mismo y proporcionan aproximadamente la misma informaci√≥n. </font><font style="vertical-align: inherit;">Por lo tanto, todas las capacidades de los dispositivos se colocaron en impurezas separadas, en las cuales el controlador final consiste en √∫ltima instancia. </font><font style="vertical-align: inherit;">Por ejemplo, la aplicaci√≥n admite muchos dispositivos que tienen la funci√≥n de encendido / apagado. </font><font style="vertical-align: inherit;">Est√° hecho en una impureza separada y se usa de manera id√©ntica para todos los dispositivos. </font><font style="vertical-align: inherit;">¬°Elemental, Watson!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En qu√© result√≥ esto: cualquier controlador de un nuevo dispositivo se escribe de manera bastante r√°pida y f√°cil, porque todo est√° estandarizado y no hay necesidad de preocuparse por un mayor almacenamiento de la informaci√≥n recibida. Para protocolos completamente nuevos (que a√∫n no ten√≠a), tambi√©n se escriben impurezas basadas en las existentes. Ya reciben informaci√≥n del dispositivo y la transmiten m√°s abajo en la cadena. Este enfoque nos permiti√≥ reducir la cantidad de c√≥digo en decenas de veces (inicialmente, cada controlador era una copia de un controlador similar). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As√≠ que gradualmente pas√© por todos los c√≠rculos del infierno para terminar de dar marcha atr√°s y el frente. Cuando la aplicaci√≥n adquiri√≥ un aspecto bastante tolerable, pens√©: ¬øpor qu√© no compartir su desarrollo con el p√∫blico? Se encontraron socios para el proyecto y asistentes para recordar la aplicaci√≥n.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, era necesario recordar el dise√±o de la aplicaci√≥n. Para hacer esto, tuve que recurrir a dise√±adores profesionales. Ingenuamente cre√≠a que tomar√≠a de 3 a 4 meses, pero al final el proceso se prolong√≥. A pesar de que la estructura de la aplicaci√≥n no ha cambiado mucho desde la fuente original, literalmente todo tuvo que rehacerse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paralelamente, yo, no solo, sino con un equipo de socios del proyecto, compr√© los dispositivos m√°s populares para un hogar inteligente y agregu√© una aplicaci√≥n si no era compatible con estos dispositivos. Pronto, sin embargo, qued√≥ claro que no habr√≠a suficiente dinero para todos los dispositivos inteligentes, por lo que decidimos hablar con los jugadores existentes en el mercado y acordar muestras de prueba gratuitas de equipos de forma gratuita. No nos negaron, y Wirenboard y MiMiSmart se convirtieron en los primeros proveedores serios.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, junto con los chicos, cre√© una nueva aplicaci√≥n para la automatizaci√≥n del hogar inteligente con la arquitectura cl√°sica de cliente-servidor, que se coloca en cualquier plataforma y con un dise√±o moderno y conveniente. </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conoce a BARY *. </font></font></a></b><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* El nombre no proviene del nombre de Bari Alibasov, sino del personaje del libro de Arthur C. Doyle "El sabueso de Baskerville" del mayordomo de Barrymore: su "mayordomo inteligente" personal.&nbsp;</font></font></i><br>
<br>
<h1><font color="#5153e1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu√© sucedi√≥: descripci√≥n de la aplicaci√≥n con bellas im√°genes y gatos</font></font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La pantalla principal es un panel de control conveniente con la capacidad de ver y administrar par√°metros de salas automatizadas. Conveniente: esta es la palabra clave, porque los paneles de control en esas aplicaciones que intent√© trabajar conmigo mismo tuvieron que configurarse manualmente. No es el pasatiempo m√°s agradable: la </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gz/dl/9k/gzdl9kdk2n5x2fjmlmfwtcnxjas.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
casa se puede dividir en zonas y zonas, en habitaciones. Cada habitaci√≥n tiene varios par√°metros: temperatura, humedad, consumo de electricidad actual, etc., as√≠ como acciones seleccionadas. Si hacemos clic en la sala, entraremos en la lista de dispositivos conectados a ella: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/f-/22/ygf-224hyp7be9qrzf2ifh3plv8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aqu√≠ puede encender / apagar el dispositivo y tambi√©n ver su par√°metro principal. Al cambiar a un dispositivo, estar√° disponible un control m√°s detallado con una lista completa de funciones.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos los dispositivos est√°n conectados con la misma configuraci√≥n. Para muchos dispositivos hay un asistente de conexi√≥n. ¬°Sin configuraciones para aquellos que les gusta m√°s! B√°sicamente, se trata de especificar la direcci√≥n IP del dispositivo (para muchos dispositivos hay una b√∫squeda autom√°tica). Si la direcci√≥n IP cambia repentinamente, entonces est√° bien, el servidor la encontrar√° en la nueva direcci√≥n autom√°ticamente.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q1/2b/ee/q12beeqowea3lu7egovw_8y0yry.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay integraci√≥n con Apple HomeKit, se utiliza para el control de voz a trav√©s de Siri. Todos los dispositivos compatibles con BARY se integran con Apple HomeKit con una sola marca (hola a los fan√°ticos de HomeBridge). No sin el apoyo de Yandex Alice. Ella era m√°s amigable en t√©rminos de comandos de interfaz. Por ejemplo, Siri no quiere cerrar las cortinas con el comando "cerrar las cortinas", no puede establecer un cierto nivel de volumen en la TV, etc. Yandex.Alice no tiene tales kookies.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la conveniencia de administrar tierras inteligentes, se ha implementado la automatizaci√≥n: reglas para la ejecuci√≥n de cualquier acci√≥n cuando se cumple un conjunto de condiciones. Las automatizaciones son l√≥gicas, multinivel, es decir. puede hacer algo como: "Condici√≥n 1 y (Condici√≥n 2 o Condici√≥n 3)". Todo en un hermoso editor de automatizaci√≥n l√≥gica:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c-/hg/bf/c-hgbflmqnmyu7ld7owltj5g5ao.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Personalmente, ya ten√≠a un centenar de programas de automatizaci√≥n, y cualquiera de ellos se puede encontrar r√°pidamente, porque todo est√° agrupado por sala y dispositivo: los </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xl/xz/n9/xlxzn9o8tycbcxwnvtlw9w014ym.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
scripts tambi√©n son compatibles con la aplicaci√≥n. Un escenario es un complejo de acciones que se realiza bajo alguna condici√≥n de automatizaci√≥n. Para mi hogar inteligente, utilizo solo el conjunto est√°ndar: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fy/62/_d/fy62_dwup-9j5zyhvj-b3jd0i-4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
me fui de casa / regreso a casa a trav√©s de Apple TV; se enciende / apaga autom√°ticamente cuando todos se van de casa o alguien regresa a casa. Llegas a casa y el locutor con ojos tristes del Canal 1 ya te encuentra all√≠. ¬øPues, genial? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, ¬øqu√© tipo de hogar inteligente sin la capacidad de ver un gato? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cl/4l/sj/cl4lsjn0wyslby9mavknwlmplts.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede conectar cualquier c√°mara que sea capaz de entregar una transmisi√≥n RTSP.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por separado, quiero decir sobre el bloque de estad√≠sticas. Result√≥ bastante informativo: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8k/vh/g4/8kvhg4ixvnkduzunurcf-lputrg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en la leyenda, la barra roja es la desviaci√≥n de los valores promedio de los √∫ltimos seis meses, la barra gris es la velocidad de flujo dentro de los valores promedio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la imagen, mis estad√≠sticas de septiembre. Hac√≠a fr√≠o, la calefacci√≥n a√∫n no se hab√≠a administrado, por lo que la calefacci√≥n se encend√≠a constantemente en la ventilaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n puede ver estad√≠sticas de cualquier dispositivo conectado: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/at/iw/ju/atiwjujpwobznspvzjvidoc8g9m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
por cierto, la disponibilidad de automatizaci√≥n y estad√≠sticas han reducido los costos de electricidad en m√°s de 2 veces. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos los eventos que ocurren se almacenan y se pueden ver: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qh/ss/kw/qhsskw7yzjbhg8vhfpj1bsohmdo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tambi√©n en la p√°gina principal hay una pesta√±a especial que recopila todos los indicadores principales seleccionados por el usuario:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lw/78/kc/lw78kcs-ca7xyq_uljlybmp5uqc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por cierto, la medici√≥n de agua se implementa a trav√©s del sensor de puerta / ventana abierta de Xiaomi. </font><font style="vertical-align: inherit;">Para hacer esto, en lugar de un interruptor de l√°minas, la salida del contador de pulsos se suelda a un contacto especial, y se crea un contador virtual en BARY, en el que puede especificar este sensor como la fuente de pulsos.</font></font><br>
<br>
<h1><font color="#5153e1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquitectura y seguridad</font></font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El intercambio cliente-servidor se cifra utilizando la tecnolog√≠a AES, y el servidor se encuentra directamente dentro de la sala automatizada. </font><font style="vertical-align: inherit;">En mi opini√≥n, esto protege el sistema tanto como sea posible de las intervenciones no deseadas de terceros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no hay una direcci√≥n IP blanca, puede conectar la nube. </font><font style="vertical-align: inherit;">Actuar√° como intermediario, sin la capacidad de descifrar comandos, porque </font><font style="vertical-align: inherit;">Las claves est√°n en el servidor.&nbsp;</font></font><br>
<br>
<h1><font color="#5153e1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√≥nde conseguir</font></font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El lado del servidor se puede ejecutar en casi cualquier plataforma existente, gracias NodeJS. </font><font style="vertical-align: inherit;">Para las plataformas m√°s comunes, hemos preparado scripts que har√°n todo el trabajo autom√°ticamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para Raspberry Pi basado en Debian Stretch: </font></font><br>
<br>
<code>wget -qO- "http://bary.io/install?target=pi" | sudo bash</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
el par√°metro de destino es responsable de la plataforma de destino y puede tener los siguientes valores:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspberry Pi (Debian Stretch)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pi</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspberry Pi (Debian Buster)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pi_buster</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tinker Board (Debian Stretch)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tuberculosis</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiren Board (Debian Stretch)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wb</font></font><br>
</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si alguien quiere instalar en otra plataforma, escr√≠banos y actualizaremos el script. </font><font style="vertical-align: inherit;">Si encuentra alguna dificultad, tambi√©n escriba. </font><font style="vertical-align: inherit;">Realmente necesitamos comentarios.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La aplicaci√≥n est√° disponible gratuitamente en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Play</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Quiz√°s para fin de a√±o, la aplicaci√≥n se pagar√°.</font></font><br>
<br>
<h1><font color="#5153e1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√© escrib√≠ este art√≠culo? </font><font style="vertical-align: inherit;">El objetivo principal es recibir comentarios de usted. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actualmente, el proyecto se est√° desarrollando r√°pidamente y todo nuestro equipo est√° tratando de maximizar la lista de equipos compatibles disponibles en el mercado. </font><font style="vertical-align: inherit;">Aunque no estoy solo trabajando en el proyecto, las tareas siguen siendo las mismas: crear la aplicaci√≥n m√°s conveniente que tenga en cuenta los deseos y resuelva los problemas de todos los que participaron en la instalaci√≥n independiente de soluciones inteligentes para el hogar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos abiertos al di√°logo sobre posibles integraciones y estamos listos para implementar el soporte de equipos de compa√±√≠as interesadas en asociarse lo antes posible. </font><font style="vertical-align: inherit;">Obtiene una aplicaci√≥n preparada y no pierde el tiempo desarrollando software. </font><font style="vertical-align: inherit;">Y obtenemos una amplia gama de dispositivos compatibles para todos los gustos y colores. </font><font style="vertical-align: inherit;">Todo est√° bien.&nbsp;</font></font><br>
<br>
<h1><font color="#5153e1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planes inmediatos y arcoiris Lista de deseos</font></font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actualmente, mi equipo y yo participamos activamente en el desarrollo de una unidad de almacenamiento de video. Ser√° posible colocar el video en el almacenamiento de su hogar o en un servicio en la nube. Creo que a principios del pr√≥ximo a√±o ser√° posible hablar sobre un nuevo lanzamiento. ¬øDeber√≠a ser posible revisar las mejores perlas de un gato que se entretiene mientras los due√±os no est√°n en casa?&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El pr√≥ximo a√±o planeamos m√°s integraciones con varios servicios: una lista de compras y tareas pendientes, un calendario, etc. Se acerc√≥, mir√≥ una pantalla, y todo estaba a la vista. Varios proyectos llave en mano han demostrado que esta tarea es relevante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n planeamos comenzar la producci√≥n de controladores con software preinstalado para soluciones por lotes de un hogar inteligente (actualmente la soluci√≥n por lotes "software + hardware" est√° disponible junto con nuestros socios</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiren Board</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y soporte para Google Home y Amazon Alexa. </font><font style="vertical-align: inherit;">Bueno, la expansi√≥n de la gama de equipos compatibles, por supuesto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por cierto, a qui√©n le importa, puede ver la lista de dispositivos compatibles (no completos) en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nuestro sitio web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y si algo no se encuentra en la lista, pregunte en el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grupo de telegramas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estaremos muy agradecidos si comparte lo que le falta en las aplicaciones existentes y qu√© funciones agregar√≠a en nuestro lugar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias a todos por leer. </font><font style="vertical-align: inherit;">¬°Hagamos que nuestros hogares sean m√°s inteligentes juntos!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es502046/index.html">Cinco a√±os de √≥xido</a></li>
<li><a href="../es502048/index.html">Comportamiento complejo sin redes neuronales y entrenamiento. La base filos√≥fica</a></li>
<li><a href="../es502050/index.html">Algunas notas sobre cultura</a></li>
<li><a href="../es502052/index.html">Mejores pr√°cticas de Kubernetes. Crea contenedores peque√±os</a></li>
<li><a href="../es502054/index.html">Red neuronal convolucional y su integraci√≥n en iOS (parte 2)</a></li>
<li><a href="../es502066/index.html">Comandos de consola simples que todos deber√≠an saber</a></li>
<li><a href="../es502068/index.html">110 voltios en tu computadora</a></li>
<li><a href="../es502070/index.html">La historia de Pentax (art√≠culo m√°s video)</a></li>
<li><a href="../es502072/index.html">Acoplando la ISS usando JavaScript y br√∫jula</a></li>
<li><a href="../es502076/index.html">Trolley Robot 2.0. Parte 1. Navegaci√≥n aut√≥noma de un robot dom√©stico basado en ROS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>