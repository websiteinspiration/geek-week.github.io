<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÖ üëÉüèæ üë©üèø‚Äçü§ù‚Äçüë®üèª Microservices - combinatorial explosion of versions üê≠ üôáüèæ üßóüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr! I present to you the author's translation of the article Microservices - Combinatorial Explosion of Versions .
 
 In a time when the IT w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Microservices - combinatorial explosion of versions</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494340/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello, Habr! </font><font style="vertical-align: inherit;">I present to you the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">author's translation of the article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microservices - Combinatorial Explosion of Versions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/29e/cb8/d10/29ecb8d1029a0da856254589dc8581f6.jpg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In a time when the IT world is gradually moving to microservices and tools like Kubernetes, only one problem is becoming more noticeable. This problem is a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combinatorial explosion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> of microservice versions. Nevertheless, the IT community believes that the current situation is much better than </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Dependency hell of the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> previous generation of technologies. However, version control of microservices is a very complex problem. One of the proofs of this can be found in articles like </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúReturn My Monolith to Me‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you are reading this text yet do not understand the problem, let me explain. Suppose your product consists of 10 microservices. Now suppose that for each of these microservices 1 new version is released. Only version 1 - I hope we can all agree that this is a very trivial and insignificant fact. Now, however, take a look at our product again. With just one new version of each component, we now have 2 ^ 10 - or 1024 permutations of how our product can be composed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If there is still some misunderstanding, let me expand the math. So, we have 10 microservices, each receives one update. That is, we get 2 possible versions for each microservice (either old or new). Now, for each of the product components, we can use either of these two versions. Mathematically, this is the same as if we had a binary number of 10 characters. For example, let's say that 1 is the new version, and 0 is the old version - then one possible permutation can be designated as 1001000000 - where the 1st and 4th components are updated, but all the rest are not. From mathematics, we know that a binary number of 10 characters can have 2 ^ 10 or 1024 values. That is, we have confirmed the scale of the number with which it is dealing.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We continue the discussion further - and what happens if we have 100 microservices and each has 10 possible versions? The whole situation is becoming very unpleasant - now we have 10 ^ 100 permutations - and this is a huge number. Nevertheless, I prefer to describe this situation just like that, because now we are not hiding behind words like ‚Äúkubernetes‚Äù, but we are encountering the problem as it is. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Why is this problem so fascinating to me? Partly because working earlier in the world of NLP and AI, we discussed a lot of the combinatorial explosion problem about 5-6 years ago. Only instead of versions we had separate words, and instead of products we had sentences and paragraphs. Although the problems of NLP and AI remain largely unresolved, we must admit that significant progress has been made over the past few years.</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(in my view, progress could be used </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lshim if people in the industry a little less attention paid to the machine learning and other techniques a little more - but this is off-topic).</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
I will return to the world of DevOps and microservices. We are faced with a huge problem, disguised as an elephant in the Kunstkamera - because what I often hear is ‚Äújust take kubernetes and helm, and everything will be fine!‚Äù But no, everything will not be fine if everything is left as is. Moreover, an analytical solution to this problem does not seem acceptable in view of the complexity. As in NLP, we should first approach this problem by narrowing the scope of the search - in this case, by eliminating obsolete permutations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of the things that can help - I wrote last year</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">about the need to maintain a minimum spread between versions laid out for customers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . It is also important to note that a well-developed CI / CD process is very helpful in reducing variations. However, the current state of affairs with CI / CD is not good enough to solve the permutation problem without additional tools for recording and tracking components. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What we need is a system of experiments at the integration stage, where we could determine the risk factor for each component, and also have an automated process for updating various components and testing without operator intervention - to see what works and what doesn‚Äôt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Such a system of experiments could look like this:</font></font><br>
<br>
<ol>
<li>   (   ‚Äî         ‚Äî       ).</li>
<li>  ()    CI  ‚Äî       ,    CI       </li>
<li>¬´  ¬ª    CI    -   ,                    .    ,              .   ,        ‚Äî         .</li>
<li>CD ,      ¬´  ¬ª    .    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Summing up, for me one of the biggest problems now is the lack of such a ‚ÄúSmart Integration System‚Äù that would link the various components into the product and thus allow you to track how the product as a whole is composed. I will be interested in the community‚Äôs thoughts on this (spoiler - I am currently working on the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reliza</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> project </font><font style="vertical-align: inherit;">, which could become such a smart integration system).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One last thing I want to mention is that for me a monolith is not acceptable for any project of at least medium size. For me, there is great skepticism about trying to speed up the implementation time and the quality of development by returning to the monolith. Firstly, the monolith has a similar problem of component management - among the various libraries of which it consists, but all this is not so noticeable and manifests itself primarily in the time that developers spend. The consequence of the monolith problem is the fact that it is impossible to make changes to the code - and the development speed is extremely slow.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Microservices improve the situation, but then the microservice architecture faces the problem of a combinatorial explosion at the integration stage. </font><font style="vertical-align: inherit;">Yes, in general, we have moved the same problem - from the development stage to the integration stage. </font><font style="vertical-align: inherit;">However, in my opinion, the microservices approach still leads to better results, and teams achieve results faster (probably mainly due to the reduction in the size of the development unit - or </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">batch size</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">However, the transition from monolith to microservices has not yet provided a sufficient improvement of the process - the combinatorial explosion of versions of microservices is a huge problem, and we have great potential to improve the situation as it is resolved.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en494322/index.html">Competition: show your home office and win PS4 *</a></li>
<li><a href="../en494332/index.html">Hidden Threat - Vulnerability Analysis Using News Graph</a></li>
<li><a href="../en494334/index.html">Progressive web applications. Guide to action</a></li>
<li><a href="../en494336/index.html">Front-end toolkit: useful utilities and features to speed up development</a></li>
<li><a href="../en494338/index.html">Backups from WAL-G. What is there in 2019? Andrey Borodin</a></li>
<li><a href="../en494342/index.html">Study: the perfect training for an IT professional</a></li>
<li><a href="../en494344/index.html">Slurm News: discounts and new training formats for Kubernetes</a></li>
<li><a href="../en494350/index.html">March and April Online Events Digest</a></li>
<li><a href="../en494354/index.html">Knowledge and condition</a></li>
<li><a href="../en494356/index.html">Linux Newbie Aircrack-ng Tutorial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>