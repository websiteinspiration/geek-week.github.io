<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯУ╢ ЁЯРп ЁЯШе рдЬрдм рдЦрд┐рд▓рдиреЗ рд╡рд╛рд▓рд╛ рдлрд┐рд▓реНрдЯрд░ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ ЁЯС│ ЁЯдЬ ЁЯзТЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдореИрдВ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╢реНрд╡рд╡рд┐рджреНрдпрд╛рд▓рдп рд╕реЗ рдЬрд╛рдирддрд╛ рдерд╛ , рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдЬрд┐рд╕реЗ рдмрд░реНрдЯрди рдмреНрд▓реВрдо рдХреЗ рдирд╛рдо рдкрд░ рд░рдЦрд╛ рдЧрдпрд╛ рдерд╛ред рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдЬрдм рдЦрд┐рд▓рдиреЗ рд╡рд╛рд▓рд╛ рдлрд┐рд▓реНрдЯрд░ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491132/"><img src="https://habrastorage.org/webt/7x/rh/8w/7xrh8wafuzqnbs-o1jpgzjxtruw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╢реНрд╡рд╡рд┐рджреНрдпрд╛рд▓рдп рд╕реЗ рдЬрд╛рдирддрд╛ рдерд╛ </font><font style="vertical-align: inherit;">, рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдЬрд┐рд╕реЗ рдмрд░реНрдЯрди рдмреНрд▓реВрдо рдХреЗ рдирд╛рдо рдкрд░ рд░рдЦрд╛ рдЧрдпрд╛ рдерд╛ред рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдирд╣реАрдВ рдорд┐рд▓рд╛ред рдкрд┐рдЫрд▓реЗ рдорд╣реАрдиреЗ, рдРрд╕рд╛ рдЕрд╡рд╕рд░ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ - рдФрд░ рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдиреЗ рдореБрдЭреЗ рд╕рдЪрдореБрдЪ рдореЛрд╣рд┐рдд рдХрд░ рджрд┐рдпрд╛ред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдореБрдЭреЗ рдЬрд▓реНрдж рд╣реА рдЙрд╕рдореЗрдВ рдХреБрдЫ рдЦрд╛рдорд┐рдпрд╛рдВ рдорд┐рд▓реАрдВред рдпрд╣ рд▓реЗрдЦ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ рд╕рд╛рде рдореЗрд░реЗ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдкреНрд░реЗрдо рд╕рдВрдмрдВрдз рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдХрд╣рд╛рдиреА рд╣реИред</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдИрдкреА тАЛтАЛрд╕реНрдкреВрдлрд┐рдВрдЧ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдкрд░ рд╢реЛрдз рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">,</font></a><font style="vertical-align: inherit;"> рд╣рдорд╛рд░реЗ рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░реЛрдВ рдХреА рднреМрдЧреЛрд▓рд┐рдХ рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реБрдП, рдЖрдиреЗ рд╡рд╛рд▓реЗ рдкреИрдХреЗрдЯреЛрдВ рдореЗрдВ рдЖрдИрдкреА рдкрддреЗ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдерд╛ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрдЯрд▓реА рд╕реЗ рдкреИрдХреЗрдЬ рдмреНрд░рд╛рдЬреАрд▓ рдХреЗ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдпрд╣ рд╕рдорд╕реНрдпрд╛ рд╕рд░рд▓ рд▓рдЧ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЗрдВрдЯрд░рдиреЗрдЯ рдХреЗ рдмрджрд▓рддреЗ рдкрд░рд┐рджреГрд╢реНрдп рдореЗрдВ рдпрд╣ рд╕рд░рд▓ рд╕реЗ рдмрд╣реБрдд рджреВрд░ рд╣реИред рдпрд╣ рдХрд╣рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ рдХрд┐ рдЕрдВрдд рдореЗрдВ рдореИрдВрдиреЗ рд▓рдЧрднрдЧ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде рдмрд╣реБрдд рдмрдбрд╝реА рдкрд╛рда рдлрд╛рдЗрд▓реЗрдВ рдЬрдорд╛ </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7cf/4b4/f67/7cf4b4f67fdf8b4d8a88c2685051c15f.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреАрдВ </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╣рд▓ рдХрд┐рдП рдЧрдП рдЖрдИрдкреА рдкрддреЗ 192.0.2.1 рд╕реЗ рдПрдХ рдЕрдиреБрд░реЛрдз рдХреНрд▓рд╛рдЙрдбрдлреЗрдпрд░ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдирдВрдмрд░ 107 рдореЗрдВ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рдпрд╣ рдбреЗрдЯрд╛ рдХрдИ рд╕реНрд░реЛрддреЛрдВ рд╕реЗ рдЖрдпрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╣рдорд╛рд░реЗ рд╕рдХреНрд░рд┐рдп рдФрд░ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдирдореВрдиреЗ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдХреБрдЫ рдбреЛрдореЗрди рдХреЗ рд▓реЙрдЧ рдЬреЛ рд╣рдорд╛рд░реЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП,)</font></font><code>cloudflare.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), рдЦреБрд▓реЗ рд╕реНрд░реЛрдд (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмреАрдЬреАрдкреА рдЯреЗрдмрд▓), рдЖрджрд┐ред рдПрдХ рд╣реА рд▓рд╛рдЗрди рдЖрдорддреМрд░ рдкрд░ рдХрдИ рдлрд╛рдЗрд▓реЛрдВ рдореЗрдВ рджреЛрд╣рд░рд╛рдИ рдЬрд╛рддреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдВрдд рдореЗрдВ, рдореБрдЭреЗ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдПрдХ рд╡рд┐рд╢рд╛рд▓ рдбреЗрдЯрд╛рд╕реЗрдЯ рдорд┐рд▓рд╛ред </font><font style="vertical-align: inherit;">рдХреБрдЫ рдмрд┐рдВрджреБ рдкрд░, рд╕рднреА рдПрдХрддреНрд░рд┐рдд рд╕реНрд░реЛрддреЛрдВ рдореЗрдВ, рдореИрдВрдиреЗ 1 рдмрд┐рд▓рд┐рдпрди рд░реЗрдЦрд╛рдПрдБ рдЧрд┐рдирд╛ред </font><font style="vertical-align: inherit;">рдЖрдорддреМрд░ рдкрд░ рдореИрдВ рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░реАрдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреИрд╢ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦрддрд╛ рд╣реВрдВ, рд▓реЗрдХрд┐рди рдЗрд╕ рдкреИрдорд╛рдиреЗ рдкрд░ рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 600 рдорд┐рдм рдФрд░ 40 рдорд┐рд▓рд┐рдпрди рд▓рд╛рдЗрдиреЛрдВ рдХреА рдЗрд╕ рдЫреЛрдЯреА рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХреЛ рд╣рдЯрд╛рдиреЗ рдкрд░ ... рдЕрдирдВрдд рдХрд╛рд▓: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bfa/dc1/9c0/bfadc19c083b6a31bc34b568cdc81d74.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдХрд╣рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ рдХрд┐ </font></font><code>sort</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рднрд┐рдиреНрди рд╡рд┐рдиреНрдпрд╛рд╕реЛрдВ рдореЗрдВ </font><font style="vertical-align: inherit;">рдЯрд╛рдЗрдк рдХреЗ рд╕рд╛рдзрд╛рд░рдг рдЖрджреЗрд╢реЛрдВ рдХреЗ рд╕рд╛рде рдбрд┐рдбреБрдкреНрд▓рд┐рдХреЗрдЯрд┐рдВрдЧ рд▓рд╛рдЗрдиреЗрдВ </font><font style="vertical-align: inherit;">(рджреЗрдЦреЗрдВ </font></font><code>--parallel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>--buffer-size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>--unique</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) рдЗрддрдиреЗ рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рдерд╛ред</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреНрд▓реВрдо рдлрд┐рд▓реНрдЯрд░</font></font></h1><br>
<img src="https://habrastorage.org/getpro/habr/post_images/3a6/110/0e6/3a61100e64277b6a515666b8bf0293f9.png"><br>
<i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрд╡рд┐рдб рдПрдкрд╕реНрдЯреАрди </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдХрд╛ рдЪрд┐рддреНрд░рдг</font></a></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рддрдм рдпрд╣ рдореБрдЭ рдкрд░ рдЫрд╛ рдЧрдпрд╛: рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рдХреНрд░рдордмрджреНрдз рди рдХрд░реЗрдВ! рдЖрдкрдХреЛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ 'рд╕реЗрдЯ' рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдмрд╣реБрдд рддреЗрдЬреА рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореИрдВ рдореЛрдЯреЗ рддреМрд░ рдкрд░ рдЗрдирдкреБрдЯ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЖрдХрд╛рд░ (рдЕрджреНрд╡рд┐рддреАрдп рд▓рд╛рдЗрдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛) рдХреЛ рдЬрд╛рдирддрд╛ рд╣реВрдВ, рдФрд░ рдХреБрдЫ рдбреЗрдЯрд╛ рдХрд╛ рдиреБрдХрд╕рд╛рди рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ, рдЕрд░реНрдерд╛рдд, рд╕рдВрднрд╛рд╡реНрдп рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдХрд╛рдлреА рдЙрдкрдпреБрдХреНрдд рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдПрдХрджрдо рд╕рд╣реА рд╣реИ!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм рдЖрдк</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдкрд░ рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрдврд╝ рд░рд╣реЗ рд╣реИрдВ</font><font style="vertical-align: inherit;">, рддреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдореИрдВ рдЗрд╕ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдХреЛ рджреЗрдЦрддрд╛ рд╣реВрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдк</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╣реБрд▓рддрд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд░реЗрдВрдЧреЗ</font><font style="vertical-align: inherit;">? рдПрдХ рдЖрджрд░реНрд╢ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдФрд░ рдЕрдирдВрдд рд╕реНрдореГрддрд┐ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рд╣рдо рдмрд╕ рдПрдХ рдЕрдирдВрдд рдмрд┐рдЯрдореИрдк рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рддрддреНрд╡ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд┐рдЯ рд╕рдВрдЦреНрдпрд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ</font></font><code>hash(item)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ "рднреАрдбрд╝" рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕рд╣реА? </font><font style="vertical-align: inherit;">рддреБрдЪреНрдЫрддрд╛ред </font><font style="vertical-align: inherit;">рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдЯрдХрд░рд╛рддреЗ рд╣реИрдВ, рдФрд░ рдЕрдирдВрдд рд╕реНрдореГрддрд┐ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдорд╛рд░реА рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛ рдореЗрдВ рд╣рдореЗрдВ рд╕рдордЭреМрддрд╛ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рд╣рдо рдЯрдХрд░рд╛рд╡ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреА рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рдореВрд▓реНрдп рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдЕрдЪреНрдЫрд╛ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдФрд░ 128 рдЬреАрдмреА рдореЗрдореЛрд░реА рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдо рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдирдП рддрддреНрд╡ рдХреЗ рд▓рд┐рдП рдЯрдХреНрдХрд░ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ 1099511627776 рдореЗрдВ 1 рд╣реИред рдЬрдм рдЕрдзрд┐рдХ рддрддреНрд╡ рдЬреЛрдбрд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рдмрд┐рдЯрдореИрдк рдХреЗ рднрд░ рдЬрд╛рдиреЗ рдкрд░ рд╕рдВрднрд╛рд╡рдирд╛ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рд╕рдШрди рдмрд┐рдЯрдореИрдк рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдпрд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдВ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЪрд╛рд░ рдЪрд░ рдХреЗ рд╕рд╛рде рдЧрдгрд┐рддреАрдп рдбреЗрдЯрд╛ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реИ:</font></font><br>
<br>
<ul>
<li><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рдореНрдорд┐рд▓рд┐рдд рддрддреНрд╡реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ (рдХрд╛рд░реНрдбрд┐рдирд▓ рд╕рдВрдЦреНрдпрд╛)</font></font><br>
</li>
<li><code>m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдмрд┐рдЯрдореИрдк рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдореЗрдореЛрд░реА</font></font><br>
</li>
<li><code>k</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдкреНрд░рддреНрдпреЗрдХ рдЗрдирдкреБрдЯ рдХреЗ рд▓рд┐рдП рдЧрдгрдирд╛ рдХреА рдЧрдИ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХреА рд╕рдВрдЦреНрдпрд╛</font></font><br>
</li>
<li><code>p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдЭреВрдареЗ рд╕рдХрд╛рд░рд╛рддреНрдордХ рд╕рдВрдпреЛрдЧ рдХреА рд╕рдВрднрд╛рд╡рдирд╛</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрд╛рд░реНрдбрд┐рдирд▓ рд╕рдВрдЦреНрдпрд╛ </font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдЭреВрдареА рд╕рдХрд╛рд░рд╛рддреНрдордХрддрд╛ рдХреА рд╡рд╛рдВрдЫрд┐рдд рд╕рдВрднрд╛рд╡рдирд╛ рдХреЛ </font><font style="vertical-align: inherit;">рджреЗрдЦрддреЗ рд╣реБрдП </font></font><code>p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдЖрд╡рд╢реНрдпрдХ рдореЗрдореЛрд░реА </font></font><code>m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рджреЗрддрд╛ рд╣реИ </font></font><code>k</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрддреНрдХреГрд╖реНрдЯ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдереЙрдорд╕ рд╣рд░реНрд╕реНрдЯ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рджреГрд╢реНрдп рдХреЛ рджреЗрдЦреЗрдВ</font></a><font style="vertical-align: inherit;"> рдХрд┐ рдкреИрд░рд╛рдореАрдЯрд░ рдПрдХ рджреВрд╕рд░реЗ рдХреЛ рдХреИрд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmuniq-рдЦрд┐рд▓реЗ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдВрддрд░реНрдЬреНрдЮрд╛рди рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдд, рдореИрдВрдиреЗ рдЕрдкрдиреЗ рд╢рд╕реНрддреНрд░рд╛рдЧрд╛рд░ рдореЗрдВ рд╕рдВрднрд╛рд╡реНрдп рдЙрдкрдХрд░рдг mmuniq-bloom рдЬреЛрдбрд╝рд╛, рдЬреЛ рдЗрдирдкреБрдЯ STDIN рд▓реЗрддрд╛ рд╣реИ рдФрд░ STDOUT рдореЗрдВ рдХреЗрд╡рд▓ рдЕрджреНрд╡рд┐рддреАрдп рд▓рд╛рдЗрдиреЗрдВ рджреЗрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ </font></font><code>sort</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ рдХреЗ </font><font style="vertical-align: inherit;">рд╕рдВрдпреЛрдЬрди рд╕реЗ рдмрд╣реБрдд рддреЗрдЬ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП </font></font><code>uniq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╣ рд╡рд╣рд╛рдБ рд╣реИ:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmuniq-bloom.c</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд╛рджрдЧреА рдФрд░ рдЧрддрд┐ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рд╢реБрд░реВ рдореЗрдВ рдХреБрдЫ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИред рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЬрдм рддрдХ рдЕрдиреНрдпрдерд╛ рдирд╣реАрдВ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, mmuniq-bloom рдЖрда рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди k = 8 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рд╣рдорд╛рд░реЗ рдбреЗрдЯрд╛ рдЖрдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдЗрд╖реНрдЯрддрдо рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдХрд░реАрдм рд▓рдЧрддрд╛ рд╣реИ, рдФрд░ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдЬрд▓реНрджреА рд╕реЗ рдЖрда рд╕рднреНрдп рд╣реИрд╢ рдХрд╛ рдЙрддреНрдкрд╛рджрди рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдлрд┐рд░ рд╣рдо </font></font><code>m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд┐рдЯрдореИрдк рдореЗрдВ </font><font style="vertical-align: inherit;">рдореЗрдореЛрд░реА </font><font style="vertical-align: inherit;">рдХреЛ рдПрдХ рдорд╣рдВрдЧреЗ рдСрдкрд░реЗрд╢рди рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдХреА рд╢рдХреНрддрд┐ рдореЗрдВ </font><font style="vertical-align: inherit;">рд╕рдВрд░реЗрдЦрд┐рдд рдХрд░рддреЗ рд╣реИрдВ </font></font><code>%modulo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЬреЛ рдХреЛрдбрд╛рдВрддрд░рдХ рдореЗрдВ рдзреАрдореА рдЧрддрд┐ рд╕реЗ рдЖрддрд╛ рд╣реИ </font></font><code>div</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдпрджрд┐ рд╕рд░рдгреА рджреЛ рдХреА рд╢рдХреНрддрд┐ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ, рддреЛ рд╣рдо рдмрд╕ рдмрд┐рдЯрд╡рд╛рдЗрдЬрд╝ рдФрд░ (рдордЬрд╝реЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐ рдХрдВрдкрд╛рдЗрд▓рд░ рдХреБрдЫ рдбрд┐рд╡реАрдЬрдиреЛрдВ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рдПрдХ рдЬрд╛рджреВ рд╕реНрдерд┐рд░рд╛рдВрдХ рд╕реЗ рдЧреБрдгрд╛ рдХрд░рдХреЗ рдХреИрд╕реЗ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдо рдЗрд╕реЗ рдЙрд╕реА рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓ рдкрд░ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдХрд╛ рд╣рдордиреЗ рдкрд╣рд▓реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдерд╛:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3fa/019/d05/3fa019d05b8d6a72ad1ea3bde9c15a19.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдУрд╣, рдпрд╣ рдмрд╣реБрдд рдмреЗрд╣рддрд░ рд╣реИ! рджреЛ рдорд┐рдирдЯ рдХреЗ рдмрдЬрд╛рдп 12 рд╕реЗрдХрдВрдбред рдХрд╛рд░реНрдпрдХреНрд░рдо рдПрдХ рдЕрдиреБрдХреВрд▓рд┐рдд рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛, рд╕реНрдореГрддрд┐ рдХреА рдПрдХ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд╕реАрдорд┐рдд рдорд╛рддреНрд░рд╛, рдЕрдиреБрдХреВрд▓рд┐рдд рд▓рд╛рдЗрди рдкрд╛рд░реНрд╕рд┐рдВрдЧ рдФрд░ рдЕрдЪреНрдЫрд╛ рдЖрдЙрдЯрдкреБрдЯ рдмрдлрд╝рд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ ... рдФрд░ рдЗрд╕ рд╕рдм рдХреЗ рд╕рд╛рде, рдЙрдкрдХрд░рдг рдХреА рддреБрд▓рдирд╛ рдореЗрдВ 12 рд╕реЗрдХрдВрдб рдЕрдирдВрдд рдХрд╛рд▓ рдХреА рддрд░рд╣ рд▓рдЧрддрд╛ рд╣реИ </font></font><code>wc -l</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/953/ede/adb/953edeadb5701d03f92c7717f159f20d.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ? рдореИрдВ рд╕рдордЭрддрд╛ рд╣реВрдВ рдХрд┐ </font></font><code>wc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрджреНрд╡рд┐рддреАрдп рддрд╛рд░реЛрдВ рдХреА рдЧрдгрдирд╛ рдХреА рддреБрд▓рдирд╛ </font><font style="vertical-align: inherit;">рдореЗрдВ рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕ рдХреА рдЧрд┐рдирддреА </font><font style="vertical-align: inherit;">рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдХреНрдпрд╛ 26-рдмрд╛рд░ рдХрд╛ рдЕрдВрддрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдЪрд┐рдд рд╣реИ? рд╕реАрдкреАрдпреВ рдХреНрдпрд╛ рд▓реЗрддрд╛ рд╣реИ </font></font><code>mmuniq-bloom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рд╣реИрд╢ рдХреЗ рд▓рд┐рдП рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдЙрдкрдпреЛрдЧрд┐рддрд╛ </font></font><code>wc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛ рдЦрд░реНрдЪ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ, 40 рдорд┐рд▓рд┐рдпрди рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рд▓рд┐рдП рдпрд╣ рд╕рдм рдЕрдЬреАрдм рдЧрдгрд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИред рдореИрдВ рдПрдХ рдЧреИрд░-рддреБрдЪреНрдЫ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ </font></font><code>siphash24</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдпрд╣ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛ рдЬрд▓рд╛рддрд╛ рд╣реИ, рд╣реИ рдирд╛? рдЪрд▓реЛ рдХреЗрд╡рд▓ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдЪрд▓рд╛рдХрд░ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд╣реАрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ рд╕рд╛рде рдХреЛрдИ рд╕рдВрдЪрд╛рд▓рди рдирд╣реАрдВ рдХрд░рдирд╛: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f5e/7a0/e0f/f5e7a0e0f26a3136ca3d0a9b362e0fe3.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдЕрдЬреАрдм рд╣реИред </font><font style="vertical-align: inherit;">рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХреА рдЧрдгрдирд╛ рдореЗрдВ рдХреЗрд╡рд▓ рджреЛ рд╕реЗрдХрдВрдб рд▓рдЧрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдкрд┐рдЫрд▓реЗ рд░рди рдореЗрдВ рдкреВрд░реЗ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЛ 12 рд╕реЗрдХрдВрдб рдХреЗ рд▓рд┐рдП рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдПрдХ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ 10 рд╕реЗрдХрдВрдб рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рдпрд╣ рдХреИрд╕реЗ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рдпрд╣ рдПрдХ рдРрд╕реА рд╕рд░рд▓ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рд╣реИ ...</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреБрдкреНрдд рд╣рдерд┐рдпрд╛рд░ - рдкреНрд░реЛрдлрд╛рдЗрд▓рд░</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдЙрдкрдХрд░рдг рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рдЖ рдЧрдпрд╛ рд╣реИ - рдЪрд▓реЛ рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рдЪрд▓рд╛рдПрдВ рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреНрдпрд╛ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИред рдкрд╣рд▓реЗ, рдЖрдЗрдП </font></font><code>strace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">рдЪрд▓реЗрдВ </font><font style="vertical-align: inherit;">рдХрд┐ рдХреЛрдИ рдЕрдирдкреЗрдХреНрд╖рд┐рдд рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдирд╣реАрдВ рд╣реИ: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7bc/29b/87c/7bc29b87cdeadac9a11ce78aa61129f6.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдм рдХреБрдЫ рдЕрдЪреНрдЫрд╛ рд▓рдЧ рд░рд╣рд╛ рд╣реИред </font></font><code>mmap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 рдПрдордПрд╕ рдкреНрд░рддреНрдпреЗрдХ (3971 ╬╝s) рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП рджрд╕ рдХреЙрд▓ </font><font style="vertical-align: inherit;">рдкреЗрдЪреАрджрд╛ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдареАрдХ рд╣реИред рд╣рдо рд╕реНрдореГрддрд┐ рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рднрд░ рджреЗрддреЗ рд╣реИрдВ </font></font><code>MAP_POPULATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдмрд╛рдж рдореЗрдВ рдкреГрд╖реНрда рдХреА рдХрдореА рдХреЗ рдХрд╛рд░рдг рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рд░реЛрдХрддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдЧрд▓рд╛ рдХрджрдо рдХреНрдпрд╛ рд╣реИ? рдмреЗрд╢рдХ рдпрд╣ рд╣реИ </font></font><code>perf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/1da/aa8/acc/1daaa8acc9e3a84d1f591ad94cd84387.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлрд┐рд░ рдкрд░рд┐рдгрд╛рдо рджреЗрдЦреЗрдВ: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/637/38f/3e2/63738f3e2a4bb1207927ecbc45b0cf3b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рд╣рдо рдореБрдЦреНрдп рдХреЛрдб рдореЗрдВ 87.2% рдЪрдХреНрд░ рдЬрд▓рд╛рддреЗ рд╣реИрдВред рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХрд╣рд╛рдВ рд╣реИред рдЯреАрдо </font></font><code>perf annotate process_line --source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреБрд░рдВрдд рдХреБрдЫ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рджрд┐рдЦрд╛рддреА рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/17f/f6f/cc8/17ff6fcc833def72269a07f7fd54d9f0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХрд╛ 26.90% рдЬрд▓ рдЧрдпрд╛ рд╣реИ</font></font><code>mov</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди рд╡рд╣ рд╕рдм рдирд╣реАрдВ рд╣реИ! рд╕рдВрдХрд▓рдХ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдлрд╝рдВрдХреНрд╢рди рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рд▓реВрдк рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдЕрдзрд┐рдХрд╛рдВрд╢ рдЪрдХреНрд░ рдЗрд╕ </font></font><code>mov</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╛ рд▓рд╛рдЗрди рдкрд░ рдЬрд╛рддреЗ рд╣реИрдВ </font></font><code>uint64_t v = *p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5c0/a3e/59c/5c0a3e59c8f954146bed3b2f1478e0ba.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╕рд╣реА рдЧрд▓рдд рд╣реИ, рдЗрддрдиреЗ рд╕рд╛рд░реЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдЗрддрдиреА рд╕рд░рд▓ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреИрд╕реЗ рд▓реЗ рд╕рдХрддреА рд╣реИ? рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рдЕрдиреНрдп рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рдХреЗ рд╕рд╛рде рдкрд░реАрдХреНрд╖рдг рдХреЛ рджреЛрд╣рд░рд╛рдирд╛ рдЙрд╕реА рд╕рдорд╕реНрдпрд╛ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореИрдВ рд░рдВрдЧреАрди рдЖрд░реЗрдЦреЛрдВ рдХреЗ рдХрд╛рд░рдг kcachegrind рдХреЗ рд╕рд╛рде google-perftools рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реВрдВ: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8af/fbd/e9e/8affbde9e2b92d4da89d445314ec4654.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реИ: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/130/ea3/9f9/130ea39f9a8c6a22c252381c3af88045.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдмрддрд╛рдПрдВ рдХрд┐ рд╣рдордиреЗ рдЕрдм рддрдХ рдХреНрдпрд╛ рдЦреЛрдЬ рдХреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдорд╛рдирдХ рдЙрдкрдпреЛрдЧрд┐рддрд╛ </font></font><code>wc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.45 s рдкреНрд░реЛрд╕реЗрд╕рд░ рд╕рдордп рдХреЗ рд▓рд┐рдП 600 MiB рдлрд╝рд╛рдЗрд▓ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддреА рд╣реИред рд╣рдорд╛рд░рд╛ рдЕрдиреБрдХреВрд▓рд┐рдд рдЯреВрд▓ </font></font><code>mmuniq-bloom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 рд╕реЗрдХрдВрдб рдЪрд▓рддрд╛ рд╣реИред рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛ рдПрдХ рдирд┐рд░реНрджреЗрд╢ рдкрд░ рдЬрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>mov</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдореЗрдореЛрд░реА рдХреЛ рдбреАрд░реЗрд▓ рдХрд░рдирд╛ ...</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/6aa/3dd/e6a/6aa3dde6a6562dad5d0b3b2fa94c4565.jpg"><br>
<i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛрд╕ рдирд┐рдХрджрд╛рдУ </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдХреА рдЫрд╡рд┐</font></a><font style="vertical-align: inherit;"> , CC BY / 2.0</font></font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдУрд╣! рдореИрдВ рдХреИрд╕реЗ рднреВрд▓ рд╕рдХрддрд╛ рд╣реВрдВред рд╕реНрдореГрддрд┐ рддрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкрд╣реБрдБрдЪ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдзреАрдореА рд╣реИ! рдмрд╣реБрдд, рдмрд╣реБрдд, рдмрд╣реБрдд рдзреАрдорд╛!</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЗ</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдиреБрд╕рд╛рд░</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреЛ рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд░реИрдо рдХреА рдПрдХ рд╕рд┐рдВрдЧрд▓ рдПрдХреНрд╕реЗрд╕ рдореЗрдВ рд▓рдЧрднрдЧ 100 рдПрдирдПрд╕ рд╣реЛрддреА рд╣реИред рдЪрд▓реЛ рдЧрд┐рдирддреЗ рд╣реИрдВ: 40 рдорд┐рд▓рд┐рдпрди рд▓рд╛рдЗрдиреЗрдВ, 8 рд╣реИрд╢ рдкреНрд░рддреНрдпреЗрдХред рдЪреВрдВрдХрд┐ рд╣рдорд╛рд░реЗ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд╛ рдЖрдХрд╛рд░ 128 MiB рд╣реИ,</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рдкреБрд░рд╛рдиреЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкрд░</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ L3 рдХреИрд╢ рдореЗрдВ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ! рд╣реИрд╢ рдХреЛ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдореЗрдореЛрд░реА рдХреА рдПрдХ рд╡рд┐рд╕реНрддреГрдд рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреИрд╢ рдорд┐рд╕ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рд╕рдм рдПрдХ рд╕рд╛рде рд░рдЦреЛ, рдФрд░ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ ...</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b54/7e8/2e6/b547e82e6368f26843834121b1765103.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ 32 рд╕реЗрдХрдВрдб рдХреЗрд╡рд▓ рдореЗрдореЛрд░реА рдПрдХреНрд╕реЗрд╕ рдкрд░ рдЬрд▓рддреЗ рд╣реИрдВред рдЕрд╕рд▓реА рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕рд┐рд░реНрдл 12 рд╕реЗрдХрдВрдб рдореЗрдВ рдлрд┐рдЯ рдмреИрдарддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдмреНрд▓реВрдо рдлрд┐рд▓реНрдЯрд░ рдЕрднреА рднреА рдХреИрд╢рд┐рдВрдЧ рд╕реЗ рд▓рд╛рднрд╛рдиреНрд╡рд┐рдд рдХрд░рддрд╛ рд╣реИред рдпрд╣ рджреЗрдЦрдиреЗ рдореЗрдВ рдЖрд╕рд╛рди рд╣реИ </font></font><code>perf stat -d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2b8/199/785/2b8199785c666437f37b9d96c209670f.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рдБ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдиреНрдпреВрдирддрдо 320 рдорд┐рд▓рд┐рдпрди рдХреИрд╢ рдорд┐рд╕ (рдПрд▓рдПрд▓рд╕реА-рд▓реЛрдб-рдорд┐рд╕реЗрд╕) рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдерд╛, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ 280 рдорд┐рд▓рд┐рдпрди рд╣реБрдЖ: рдпрд╣ рдЕрднреА рднреА рдпрд╣ рдирд╣реАрдВ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдХрд╛рд░реНрдпрдХреНрд░рдо рдиреЗ рдХреЗрд╡рд▓ 12 рд╕реЗрдХрдВрдб рдореЗрдВ рдХрд╛рдо рдХреНрдпреЛрдВ рдХрд┐рдпрд╛ред рд▓реЗрдХрд┐рди рдпрд╣ рдмрд╛рдд рдирд╣реАрдВ рд╣реИред рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдХреИрд╢ рдорд┐рд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдорд╕реНрдпрд╛ рд╣реИ, рдФрд░ рд╣рдо рдЗрд╕реЗ рдХреЗрд╡рд▓ рдореЗрдореЛрд░реА рдПрдХреНрд╕реЗрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдХрдо рдХрд░рдХреЗ рд╣рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЪрд▓реЛ рдХреЗрд╡рд▓ рдПрдХ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/052/bec/d4f/052becd4ffe91553d1d3b01bfa53755b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ay! рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗ рдЖрдШрд╛рдд рджреЗрддрд╛ рд╣реИ! 1 рдкреНрд░рддрд┐ 10,000 рд▓рд╛рдЗрдиреЛрдВ рдХреА рдЯрдХреНрдХрд░ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдмреНрд▓реВрдо рдлрд┐рд▓реНрдЯрд░ рдХреЛ 64 рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ рдореЗрдореЛрд░реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдпрд╣ рднрдпрд╛рдирдХ рд╣реИ!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдРрд╕рд╛ рдирд╣реАрдВ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЧрддрд┐ рдореЗрдВ рдХрд╛рдлреА рд╡реГрджреНрдзрд┐ рд╣реБрдИ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдореЗрдВ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЛ 22 рд╕реЗрдХрдВрдб рдХрд╛ рд╕рдордп рд▓рдЧрд╛, рд▓реЗрдХрд┐рди рд╣рдордиреЗ рдЕрднреА рднреА рдпреВрдЬрд░ рд╕реНрдкреЗрд╕ рдореЗрдВ 11 рд╕реЗрдХрдВрдб рдХрд╛ рд╕рдордп рдмрд┐рддрд╛рдпрд╛ред </font><font style="vertical-align: inherit;">рдореЗрд░рд╛ рдорд╛рдирдирд╛ тАЛтАЛрд╣реИ рдХрд┐ рдЕрдм рдореЗрдореЛрд░реА рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рджреБрд░реНрд▓рдн рд▓рд╛рдн рдХреЗ рд╕рднреА рд▓рд╛рднреЛрдВ рдХреА рднрд░рдкрд╛рдИ рддреЗрдЬреА рд╕реЗ рдмрдврд╝реА рд╣реБрдИ рдореЗрдореЛрд░реА рд╕рд╛рдЗрдЬ рдХреЗ рдХрд╛рд░рдг рдХреИрд╢ рдореЗрдВ рд╣реЛрдиреЗ рдХреА рдХрдо рд╕рдВрднрд╛рд╡рдирд╛ рд╕реЗ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ, рдмреНрд▓реВрдо рдлрд┐рд▓реНрдЯрд░ рдХреЗ рд▓рд┐рдП 128 MiB рдкрд░реНрдпрд╛рдкреНрдд рдерд╛!</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреНрд▓реВрдо рдлрд┐рд▓реНрдЯрд░ рдХреЛ рдордирд╛ рдХрд░рдирд╛</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рд╕рд┐рд░реНрдл рд╣рд╛рд╕реНрдпрд╛рд╕реНрдкрдж рд╣реИред </font><font style="vertical-align: inherit;">рдЭреВрдареА рд╕рдХрд╛рд░рд╛рддреНрдордХрддрд╛ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдпрд╛ рддреЛ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рд╣реИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрда) рдореЗрдореЛрд░реА рдПрдХреНрд╕реЗрд╕ рдХреА рдПрдХ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рд╛рде, рдпрд╛ рдПрдХ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЫреЛрдбрд╝ рджреЗрдВ, рд▓реЗрдХрд┐рди рдмрдбрд╝реА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдореЗрдореЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдореЗрдореЛрд░реА рд╕реАрдорд╛ рдирд╣реАрдВ рд╣реИ, рд╣рдо рдЗрд╕реЗ рдХреЙрд▓ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдХрдо рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдореЗрдВ рдПрдХ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдкреНрд░рддрд┐ рддрддреНрд╡ рдПрдХ рдХреИрд╢ рдХреА рдЕрдзрд┐рдХрддрдо рд▓рд╛рдЧрдд рд╣реЛрддреА рд╣реИ рдФрд░ 64 рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ рд░реИрдо рд╕реЗ рдХрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИ ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмреЗрд╢рдХ, рдЖрдк рдЬрдЯрд┐рд▓ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдпрд▓ рдлрд╝рд┐рд▓реНрдЯрд░</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рд▓реЗрдХрд┐рди рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рдЖрд╕рд╛рди рд╡рд┐рдХрд▓реНрдк рд╣реИред </font><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдЕрдЪреНрдЫрд╛ рдкреБрд░рд╛рдиреЗ рд░реИрдЦрд┐рдХ рдЬрд╛рдВрдЪ рд╣реИрд╢ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ? </font><i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рд╡рд╛рджрд┐рдо рдкреЛрджрди </font></a></font></i></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c29/a0d/136/c29a0d136e80e5fc0a6f90f1cab1378e.png"><br>
<i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛ рдЪрд┐рддреНрд░рдг</font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдордореБрдирд┐рдЕрдХ-рд╣реИрд╢ рд╕реЗ рдорд┐рд▓реЛ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣рд╛рдБ рд╣реИрд╢ рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ mmuniq-bloom рдХрд╛ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рд╣реИ:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmuniq-hash.c</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдмрд┐рдЯреНрд╕ рдХреЗ рдмрдЬрд╛рдп, рдЕрдм рд╣рдо </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'siphash24' рдлрд╝рдВрдХреНрд╢рди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗ 64-рдмрд┐рдЯ рд╣реИрд╢ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ рд╣реИрд╢ рдЯрдХреНрдХрд░реЛрдВ рдХреЗ рдЦрд┐рд▓рд╛рдл рдмрд╣реБрдд рдмреЗрд╣рддрд░ рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ: рдкреНрд░рддрд┐ 10,000 рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╕реЗ рдмреЗрд╣рддрд░ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЧрд┐рдирддреА рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣реИрд╢ рдЯреЗрдмрд▓ рдореЗрдВ рдПрдХ рдирдпрд╛ рдЖрдЗрдЯрдо рдЬреЛрдбрд╝рдирд╛, 40 рдорд┐рд▓рд┐рдпрди рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде, рд╣реИрд╢ рдЯрдХрд░рд╛рд╡ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рджреЗрддрд╛ рд╣реИ </font></font><code>40 000 000/2^64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ 461 рдмрд┐рд▓рд┐рдпрди рдореЗрдВ рд▓рдЧрднрдЧ 1 рд╣реИ - рдХрд╛рдлреА рдХрдо рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рднрд░реЗ рд╕реЗрдЯ рдореЗрдВ рдПрдХ рддрддреНрд╡ рдирд╣реАрдВ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ! </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╣рдо рд╢реБрд░реВ рдореЗрдВ рдЦрд╛рд▓реА рд╕реЗрдЯ рдореЗрдВ 40 рдорд┐рд▓рд┐рдпрди рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрдиреНрдорджрд┐рди рдХреЗ рд╡рд┐рд░реЛрдзрд╛рднрд╛рд╕ рдХреЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдиреБрд╕рд╛рд░ </font><font style="vertical-align: inherit;">, рдЗрд╕рд╕реЗ рдЯрдХрд░рд╛рд╡ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред </font><font style="vertical-align: inherit;">рдПрдХ рдЙрдЪрд┐рдд рдЕрдиреБрдорд╛рди рдПрдХ рдЕрдиреБрдорд╛рди рд╣реЛрдЧрд╛ </font></font><code>'~n^2/2m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ рд╣реИ</font></font><code>~(40M^2)/(2*(2^64))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдпрд╣ 23,000 рдореЗрдВ рд╕реЗ рдПрдХ рдореМрдХрд╛ рджреЗрддрд╛ рд╣реИред рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдПрдХ рдЕрдЪреНрдЫреЗ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде, рд╣рдо 40 рдорд┐рд▓рд┐рдпрди рддрддреНрд╡реЛрдВ рдХреЗ 23,000 рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╕реЗрдЯреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдореЗрдВ рдЯрдХреНрдХрд░ рдХреА рдЙрдореНрдореАрдж рдХрд░рддреЗ рд╣реИрдВред рдпрд╣ рдПрдХ рдЧреИрд░-рд╢реВрдиреНрдп рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрднреА рднреА рдмреЗрд╣рддрд░ рд╣реИ, рдФрд░ рдпрд╣ рд╣рдорд╛рд░реЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рд╣рди рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣реИрд╢ рдЯреЗрдмрд▓ рдХреЗ рд╕рд╛рде рдХреЛрдб рддреЗрдЬреА рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рдореЗрдВ рдмреЗрд╣рддрд░ рдореЗрдореЛрд░реА рдПрдХреНрд╕реЗрд╕ рдкреИрдЯрд░реНрди рдФрд░ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЭреВрдареА рд╕рдХрд╛рд░рд╛рддреНрдордХрддрд╛ рдХреА рдХрдо рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0ea/5c5/817/0ea5c5817289f136355f452748da0f86.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"рд╣реИрд╢ рд╕рдВрдШрд░реНрд╖" рд▓рд╛рдЗрди рд╕реЗ рдШрдмрд░рд╛рдУ рдордд, рдпрд╣ рд╕рд┐рд░реНрдл рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдХреИрд╕реЗ рд╣реИрд╢ рддрд╛рд▓рд┐рдХрд╛ рдкреВрд░реНрдг рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдо рд░реИрдЦрд┐рдХ рд╕рдВрд╡реЗрджрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЬрдм рд╣рдо рдкреВрд░реНрдг рд╕реЗрдЯ рдореЗрдВ рдЖрддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЕрдЧрд▓реЗ рдЦрд╛рд▓реА рдХреЛ рд▓реЗрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдореЗрдВ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдЦрд╛рд▓реА рд╕реНрдерд╛рди рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдФрд╕рддрди 0.7 рд╕реЗрдЯ рдХреЛ рдЫреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрд╣ рд╕рд╛рдорд╛рдиреНрдп рдмрд╛рдд рд╣реИред </font><font style="vertical-align: inherit;">рдЪреВрдВрдХрд┐ рд╣рдо рдПрдХ рд░реИрдЦрд┐рдХ рдХреНрд░рдо рдореЗрдВ рд╕реЗрдЯ рдкрд░ рдкреБрдирд░рд╛рд╡реГрддрд┐ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдореЗрдореЛрд░реА рдЧреБрдгрд╛рддреНрдордХ рд░реВрдк рд╕реЗ рднрд░реА рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рд╕реЗ, рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рд╣рдорд╛рд░реЗ рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд▓рдЧрднрдЧ рджреЛ рд╕реЗрдХрдВрдб рд▓рдЧрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдо рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓рддреЗ рд╣реИрдВ рдХрд┐ 40 рдорд┐рд▓рд┐рдпрди рдореЗрдореЛрд░реА рдПрдХреНрд╕реЗрд╕ рдореЗрдВ рд▓рдЧрднрдЧ рдЪрд╛рд░ рд╕реЗрдХрдВрдб рд▓рдЧрддреЗ рд╣реИрдВред</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реАрдЦ рд╕реАрдЦреА</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм рдЖрдк рдирдореВрдирд╛ рдкреИрдЯрд░реНрди рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреИрд╢ рдкреНрд░реАрдлрд╝реЗрдЪрд┐рдВрдЧ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреЗрдЦреЗрдВ </font><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">рдореЗрдореЛрд░реА рдореЗрдВ рдЕрдиреБрдХреНрд░рдорд┐рдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдЖрдзреБрдирд┐рдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЕрдЪреНрдЫреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред рджреВрд╕рд░реА рдУрд░, рд╕реНрдореГрддрд┐ рддрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкрд╣реБрдБрдЪ рдмрд╣реБрдд рдорд╣рдВрдЧреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдиреНрдирдд рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдПрдВ рдмрд╣реБрдд рджрд┐рд▓рдЪрд╕реНрдк рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВред рдЖрдзреБрдирд┐рдХ рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдХреЛ рдХреИрд╢-рдЕрдиреБрдХреВрд▓рд┐рдд рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рдЙрдкрдпреЛрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдЬрдм рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рд╕реЗрдЯреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рдЬреЛ L3 рдореЗрдВ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рд╣рд┐рдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрд░ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреА рдЬрд╛рддреА рд╣реИ, рдмрдЬрд╛рдп рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдореЗрдореЛрд░реА рдХреА рдорд╛рддреНрд░рд╛ рдХреЗред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдХрд╣рдирд╛ рдЙрдЪрд┐рдд рд╣реИ рдХрд┐ рдмреНрд▓реВрдо рдлрд╝рд┐рд▓реНрдЯрд░ L3 рдХреИрд╢ рдореЗрдВ рд░рдЦреЗ рдЬрд╛рдиреЗ рдкрд░ рд╢рд╛рдирджрд╛рд░ рдкреНрд░рджрд░реНрд╢рди рдХрд░рддреЗ рд╣реИрдВред рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдирд╣реАрдВ, рддреЛ рд╡реЗ рднрдпрд╛рдирдХ рд╣реИрдВред рдпрд╣ рдЦрдмрд░ рдирд╣реАрдВ рд╣реИ: рдмреНрд▓реВрдо рдлрд┐рд▓реНрдЯрд░ рдХреЛ рдореЗрдореЛрд░реА рдХреА рдорд╛рддреНрд░рд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рди рдХрд┐ рдЙрд╕ рдкрд░ рдХреЙрд▓ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдПред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рджреЗрдЦреЗрдВ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдпрд▓ рдлрд┐рд▓реНрдЯрд░ рдкрд░ рд╡реИрдЬреНрдЮрд╛рдирд┐рдХ рд▓реЗрдЦ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдФрд░ рдмрд╛рдд рд╣реИрд╢ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдВрддрд╣реАрди рдЪрд░реНрдЪрд╛ рд╣реИред рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ, рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдпрд╣ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ред </font></font><code>siphash24</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдореГрддрд┐ рддрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдЕрднрд┐рдЧрдо рдХреА рд▓рд╛рдЧрдд рдХреА рддреБрд▓рдирд╛ рдореЗрдВ </font><font style="vertical-align: inherit;">рдЬрдЯрд┐рд▓ рд╣реИрд╢ рдХрд╛рд░реНрдпреЛрдВ рдХреА рдЧрд┐рдирддреА рдХреА рд▓рд╛рдЧрдд рднреА </font><font style="vertical-align: inherit;">рдЫреЛрдЯреА </font><font style="vertical-align: inherit;">рд▓рдЧрддреА рд╣реИ </font><font style="vertical-align: inherit;">ред рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣реИрд╢ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рдЫреЛрдЯрд╛ рд▓рд╛рдн рд╣реЛрдЧрд╛ред рд╕реАрдкреАрдпреВ рдХрд╛ рд╕рдордп рдмрд╕ рдХрд╣реАрдВ рдФрд░ рдмрд░реНрдмрд╛рдж рд╣реЛрддрд╛ рд╣реИ - рд╕реНрдореГрддрд┐ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд╕рд╣рдпреЛрдЧреА рдЕрдХреНрд╕рд░ рдХрд╣рддрд╛ рд╣реИ: тАЬрдпрд╣ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдзреБрдирд┐рдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдЕрд╕реАрдо рд░реВрдк рд╕реЗ рддреЗрдЬрд╝ рд╣реИрдВред рд╡реЗ рдЕрдирдВрдд рдЧрддрд┐ рд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдЬрдм рддрдХ рдХрд┐ рд╡реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдореГрддрд┐</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреА </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рджреАрд╡рд╛рд░ рдХреЗ</font></a><font style="vertical-align: inherit;"> рдЦрд┐рд▓рд╛рдл </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдЖрд░рд╛рдо</font></a><font style="vertical-align: inherit;"> рдирд╣реАрдВ рдХрд░рддреЗ </font><font style="vertical-align: inherit;">ред тАЭ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдВрдд рдореЗрдВ, рдореЗрд░реА рдЧрд▓рддреА рди рджреЛрд╣рд░рд╛рдПрдВред рдЖрдкрдХреЛ рд╣рдореЗрд╢рд╛ рдкрд╣рд▓реЗ рдкреНрд░реЛрдлрд╛рдЗрд▓рд┐рдВрдЧ рдХрд░рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ</font></font><code>perf stat -d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдЖрдИрдкреАрд╕реА рдХрд╛рдЙрдВрдЯрд░ (рдкреНрд░рддрд┐ рдЪрдХреНрд░ рдирд┐рд░реНрджреЗрд╢) рджреЗрдЦреЗрдВред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдпрд╣ рдПрдХ рд╕реЗ рдХрдо рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдЖрдорддреМрд░ рдкрд░ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХрд╛рд░реНрдпрдХреНрд░рдо рдореЗрдореЛрд░реА рдХреЗ рдЗрдВрддрдЬрд╛рд░ рдореЗрдВ рдЕрдЯрдХ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╖реНрдЯрддрдо рдорд╛рди рджреЛ рд╕реЗ рдКрдкрд░ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХрд╛рд░реНрдпрднрд╛рд░ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рд╕реАрдкреАрдпреВ рдкрд░ рд╣реИред </font><font style="vertical-align: inherit;">рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдореЗрд░реЗ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ, рдЖрдИрдкреАрд╕реА рдЕрднреА рднреА рдХрдо рд╣реИ ...</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реБрдкреАрд░рд┐рдпрд░ mmuniq</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд╣рдХрд░реНрдорд┐рдпреЛрдВ рдХреА рдорджрдж рд╕реЗ, рдореИрдВрдиреЗ рд╣реИрд╢ рдЯреЗрдмрд▓ рдкрд░ рдЖрдзрд╛рд░рд┐рдд mmuniq рдЯреВрд▓ рдХрд╛ рдмреЗрд╣рддрд░ рд╕рдВрд╕реНрдХрд░рдг рд▓рд┐рдЦрд╛ред </font><font style="vertical-align: inherit;">рдпрд╣рд╛рдБ рдХреЛрдб рд╣реИ:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmuniq.c</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рд╣реИрд╢ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИ, рдПрдХ рдордирдорд╛рдирд╛ рдХрд╛рд░реНрдбрд┐рдирд▓ рдирдВрдмрд░ рдХреЗ рд╕рд╛рде рдЗрдирдкреБрдЯ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдлрд┐рд░ рдпрд╣ </font></font><code>prefetch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реАрдкреАрдпреВ рдореЗрдВ </font><font style="vertical-align: inherit;">рд╕рдВрдХреЗрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдкреИрдХреЗрдЯ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд </font><font style="vertical-align: inherit;">рдХрд░рддрд╛ рд╣реИ, рдЬреЛ 35-40% рддрдХ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЛ рдЧрддрд┐ рджреЗрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВ, </font></font><code>prefetch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб рдореЗрдВ </font><font style="vertical-align: inherit;">рдкреНрд░рдЪреБрд░ рдорд╛рддреНрд░рд╛ рдореЗрдВ рдЙрдкрдпреЛрдЧ </font><font style="vertical-align: inherit;">рд╢рд╛рдпрдж рд╣реА рдХрднреА рдкреНрд░рднрд╛рд╡ рджреЗрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЛ рдлрд┐рд░ рд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рд╕рднреА рд╕реБрдзрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде, рдирд┐рд╖реНрдкрд╛рджрди рдХрд╛ рд╕рдордп рдШрдЯрдХрд░ 2.1 рд╕реЗрдХрдВрдб рд╣реЛ рдЧрдпрд╛:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e40/4df/9c4/e404df9c42a97be2f1051a69f98116e6.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдорд╛рдкреНрдд</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдмреБрдирд┐рдпрд╛рджреА рдЙрдкрдХрд░рдг рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдЬреЛ 'рд╕реЙрд░реНрдЯ / рдпреВрдиреАрдХ' рд╕рдВрдпреЛрдЬрди рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ, рдиреЗ рдЖрдзреБрдирд┐рдХ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдХреА рдХреБрдЫ рдЫрд┐рдкреА рд╣реБрдИ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдкреНрд░рдХрдЯ рдХрд┐рдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдереЛрдбрд╝рд╛ рдкрд╕реАрдирд╛ рдЖрдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЛ рджреЛ рдорд┐рдирдЯ рд╕реЗ рджреЛ рд╕реЗрдХрдВрдб рддрдХ рддреЗрдЬ рдХрд░ рджрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рд╡рд┐рдХрд╛рд╕ рдХреЗ рджреМрд░рд╛рди, рд╣рдордиреЗ рдореЗрдореЛрд░реА рддрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкрд╣реБрдВрдЪ рдореЗрдВ рджреЗрд░реА рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдХреИрд╢-рдлреНрд░реЗрдВрдбрд▓реА рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреА рд╢рдХреНрддрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реАрдЦрд╛ред </font><font style="vertical-align: inherit;">рд╡рд┐рдЪрд┐рддреНрд░ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдПрдВ рдзреНрдпрд╛рди рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рддреА рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ рдпрд╣ рд╕реНрдореГрддрд┐ рддрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдЕрднрд┐рдЧрдо рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдХреНрд╕рд░ рдЕрдзрд┐рдХ рдХреБрд╢рд▓ рд╣реЛрддреА рд╣реИред</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi491116/index.html">рдЖрдзреБрдирд┐рдХ рдкрд╣рдЪрд╛рди рдорд╛рдирдХ: OAuth 2.0, OpenID рдХрдиреЗрдХреНрдЯ, WebAuthn</a></li>
<li><a href="../hi491118/index.html">рдбреЗрд╡рд▓рдкрд░ рджрд┐рд▓: 5 рд╡реАрдВ рдкреАрдврд╝реА рдХреЗ рдХрдВрд╕реЛрд▓реНрд╕ рдХреЗ рджреЗрд╡рдХрд┐рдЯреНрд╕ (рднрд╛рдЧ 1)</a></li>
<li><a href="../hi491120/index.html">$ рдореЛрд▓: 4 рд╕рд╛рд▓ рдмрд╛рдж</a></li>
<li><a href="../hi491122/index.html">HiSuite рдмреИрдХрдЕрдк рдХреЗ рдлреЛрд░реЗрдВрд╕рд┐рдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi491130/index.html">рдпрд╛рдж рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдПрдБ</a></li>
<li><a href="../hi491134/index.html">рдЖрдИрдПрд╕рдУ / рдЖрдИрдИрд╕реА 27001 рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдЕрдкрдирд╛рдиреЗ рдХреА рдЕрдирд┐рд╡рд╛рд░реНрдпрддрд╛ рдХреЗ 5 рдЪрд░рдгред рдирдХрд╛рд░</a></li>
<li><a href="../hi491136/index.html">рдХреЛрдгреАрдп рдпрд╛ рдЦреЛрдИ рдЧреИрд░-рд╕рд╛рдордЧреНрд░реА рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯрд┐рдВрдЧ рд╕рд╛рдордЧреНрд░реА</a></li>
<li><a href="../hi491138/index.html">рд╕реИрдЯреЗрд▓рд╛рдЗрдЯ рдФрд░ Ansible рдЯреЙрд╡рд░ рдПрдХреАрдХрд░рдг</a></li>
<li><a href="../hi491146/index.html">рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдпреВрдПрдордПрд▓</a></li>
<li><a href="../hi491150/index.html">рдореИрдВрдиреЗ рд╕реНрдХреИрдорд░ рдХреЛ рдХреИрд╕реЗ рд╣реИрдХ рдХрд┐рдпрд╛, рдпрд╛ рдлрд╝рд┐рд╢рд┐рдВрдЧ рдкреИрдирд▓реЛрдВ рдХреЗ рдХреЗрд╡рд▓ рдЕрдВрджрд░реВрдиреА рд╣рд┐рд╕реНрд╕реЗ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>