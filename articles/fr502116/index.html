<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🎓 👨🏾‍🏭 🧢 Présentation des fonctionnalités de PVS-Studio version 7.07 🕘 🙏🏽 ◾️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le but de cet article est une démonstration générale des capacités de l'analyseur statique PVS-Studio. La façon la plus simple et la plus visuelle de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Présentation des fonctionnalités de PVS-Studio version 7.07</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/502116/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-j/u6/t7/-ju6t74v9drm9ug1bimrtglb8j4.png" alt="Image 30"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le but de cet article est une démonstration générale des capacités de l'analyseur statique PVS-Studio. </font><font style="vertical-align: inherit;">La façon la plus simple et la plus visuelle de le faire est de montrer le fonctionnement de l'outil avec des exemples. </font><font style="vertical-align: inherit;">La vérification du projet sera affichée à l'aide du plug-in pour Visual Studio, en lançant l'analyseur dans le système d'exploitation Linux, en important les résultats de l'analyse dans SonarQube.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informations générales</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio est un analyseur de code statique écrit en C, C ++, C # et Java. </font><font style="vertical-align: inherit;">PVS-Studio effectue un large éventail de vérifications de code, mais est le plus puissant pour trouver les fautes de frappe et les conséquences d'un copier-coller échoué (exemples: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trois</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quatre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">L'analyse statique est un bon complément à l'une des méthodes les plus anciennes et les plus fiables pour détecter les défauts - la révision du code. </font><font style="vertical-align: inherit;">Certaines erreurs sont difficiles à trouver lors d'une révision conjointe du code (par exemple, les mêmes fautes de frappe). </font><font style="vertical-align: inherit;">Par exemple:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">trans_rest</span><span class="hljs-params">(transcoder_settings *trans)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">16</span>; i++);<font></font>
  {<font></font>
    trans-&gt;eq.eq.preamp[i]   = <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">32</span>; j++)<font></font>
    {<font></font>
      trans-&gt;eq.eq.boost[i][j] = <span class="hljs-number">0.0</span>;<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ceux qui ne l'ont pas remarqué, faites attention au point-virgule après le premier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ou:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ObjectArrayComparer</span> :</span> IEqualityComparer&lt;object[]&gt;<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Equals</span><span class="hljs-params">(object[] x, object[] y)</span>
  </span>{<font></font>
    ....<font></font>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; x.Length; i++)<font></font>
    {<font></font>
      <span class="hljs-keyword">if</span> (!object.Equals(x[<span class="hljs-number">0</span>], y[<span class="hljs-number">0</span>])) <font></font>
      {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
      }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les mêmes éléments sont toujours comparés. </font><font style="vertical-align: inherit;">Afin de ne pas perdre votre temps à rechercher de telles erreurs, il vaut la peine d'introduire un analyseur statique. </font><font style="vertical-align: inherit;">Vous pouvez télécharger et essayer PVS-Studio sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ce</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lien.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin pour Visual Studio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio dispose d'un plugin pour Visual Studio 2010-2019. </font><font style="vertical-align: inherit;">Avant de procéder directement à la vérification, je vais démontrer les capacités du plugin. </font><font style="vertical-align: inherit;">Passons en revue certains points qui peuvent soulever des questions dans l'esprit de "de quoi s'agit-il?"</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/o0/j_/d9/o0j_d9jl3n5ox14j8azkyzrqwk0.png" alt="Image 13"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'attirerai l'attention sur l'élément Supprimer les messages, qui ouvre une fenêtre pour travailler avec les avertissements de l'analyseur supprimés et maintenant je vais expliquer ce qu'est cet élément. Le fait est que PVS-Studio peut supprimer les avertissements, ce qui facilite l'utilisation de l'analyseur même dans un grand projet. Cela vous permet d'incorporer rapidement et facilement un analyseur statique dans le processus de développement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si votre projet est petit, la mise en œuvre de l'analyseur sera assez simple. Cependant, si le projet est «avec l'histoire», alors vous avez probablement des doutes: qui sera impliqué dans le traitement et le filtrage des résultats, combien de temps vous devrez y consacrer, etc. Je vais essayer de les dissiper.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation idéale de l'analyseur dans ce cas est la suivante. Vous l'exécutez sur votre projet et voyez un tas de messages d'analyseur. Ensuite, à l'aide du mécanisme de suppression d'avertissement, demandez à PVS-Studio de ne pas afficher ces messages. Parce que Étant donné que votre projet se développe depuis longtemps, le rapport de l'analyseur contiendra certainement très peu d'avertissements liés à certains défauts critiques. En outre, pendant le processus de développement, vous et vos collègues ne voyez que les erreurs liées au code modifié ou nouveau. Ces avertissements qui ont été supprimés sont maintenant votre devoir technique, auquel vous pouvez revenir progressivement. Le mécanisme de suppression d'avertissement est décrit plus en détail </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yi/mq/i-/yimqi-fmtqnsnxn08mp3f107qji.png" alt="Image 14"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, allez à l'élément «Afficher les codes CWE dans la fenêtre de sortie». </font><font style="vertical-align: inherit;">PVS-Studio est un outil pour les tests statiques de sécurité des applications (Static Application Security Testing, SAST). </font><font style="vertical-align: inherit;">Les alertes PVS-Studio peuvent être classées selon le Common Weakness Enumeration (CWE). </font><font style="vertical-align: inherit;">Pour en savoir plus sur la classification des alertes PVS-Studio selon CWE, pourquoi CWE est nécessaire, de quoi il s'agit et ainsi de suite, je vous suggère de lire les liens suivants:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classification des avertissements PVS-Studio selon l'énumération commune des faiblesses</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio: recherche de défauts de sécurité</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons à l'onglet «Options».</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/yu/kr/jlyukrrjtsshofdenocotxoe6qy.png" alt="Image 6"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la section "Erreurs détectables (C, C ++)", nous pouvons contrôler l'affichage des types de messages de l'analyseur. Les messages de diagnostic qui, pour une raison quelconque, ne sont pas pertinents pour ce projet peuvent être masqués ou désactivés. Par exemple, il est peu probable que les diagnostics MISRA intéressent quelqu'un d'autre que les développeurs intégrés. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par conséquent, ils sont désactivés par défaut</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'utilisateur qui a d'abord décidé d'utiliser l'analyseur, le nombre d'avertissements MISRA peut effrayer et entrer dans une stupeur. Et la partie des utilisateurs qui ont délibérément lancé l'analyseur pour vérifier la conformité de leur projet avec les normes MISRA peut simplement les activer dans les paramètres.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/h1/j3/ah/h1j3ahhvwhpo_9avr5ie7ky94r0.png" alt="Image 10"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, vous pouvez saisir des chemins / masques pour exclure certains fichiers ou dossiers de l'analyse. Vous pouvez choisir soit un masque par le chemin (masque de chemin), soit un masque par le nom de fichier (masque FileName). Ils sont nécessaires si vous souhaitez exclure de l'analyse les bibliothèques tierces, les fichiers générés automatiquement, etc. Après avoir défini les masques d'exclusion, les messages des fichiers qui leur correspondent disparaîtront de la fenêtre de sortie de PVS-Studio et ne seront pas inclus dans la prochaine analyse. Ainsi, l'exclusion de fichiers et de répertoires via des masques peut réduire considérablement le temps d'analyse global de l'ensemble du projet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus de détails </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/xz/13/bd/xz13bd-8va60tdnlxem8mj5kio4.png" alt="Image 8"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez également filtrer la sortie de l'analyseur en fonction du texte qu'il contient. Par exemple, dans votre rapport d'analyseur, il y a des avertissements qui mentionnent la fonction </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_super_function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le texte </font><font style="vertical-align: inherit;">, mais vous êtes sûr que tous ces avertissements sont faux. Ensuite, vous pouvez ajouter le mot </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_super_function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans ce champ. Tous les avertissements qui contenaient ce mot seront filtrés. Eh bien, juste au cas où, je vais laisser un lien ici vers la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section correspondante de la documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remarque. Dans PVS-Studio, il existe d'autres façons de marquer les faux avertissements dans le code ou les macros. Ils sont décrits dans la documentation de la section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppression des fausses alertes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois que nous avons terminé avec une vue d'ensemble des paramètres, passons à la vérification du projet. Comme vous l'avez peut-être remarqué, l'article avait plusieurs paramètres liés aux projets C ++, mais il n'y avait aucune spécification pour C # et Java. Il y a simplement plus de paramètres pour C ++ que pour C #, nous avons donc décidé de nous attarder sur ces brèves critiques. Mais pour changer d'histoire, vérifions à l'aide du plug-in pour Visual Studio non pas un C ++, mais un projet C # et voyons à quoi ressemble le rapport de l'analyseur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturellement, après la première vérification du projet, vous devrez revenir aux paramètres afin de réduire le pourcentage de faux positifs. Les faux positifs sont inévitables, mais leur pourcentage peut être réduit en définissant une valeur acceptable. Voir l'article: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caractéristiques de l'analyseur PVS-Studio utilisant l'exemple EFL Core Libraries, 10-15% de faux positifs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ."</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/gc/ia/tqgciacbhkpm_vrjmc3vuhhubyg.png" alt="Image 1"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sélectionnez l'élément «Analyser la solution avec PVS-Studio».</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/3n/_y/rs/3n_yrslf8xcy7c1twtpv4p8oyxs.png" alt="Image 2"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fenêtre avec une barre de progression apparaîtra.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ha/ul/zq/haulzq_ib2ediqprs8kahr2dg-a.png" alt="Image 3"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et puis nous pouvons voir le rapport de l'analyseur.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/7t/vy/zt/7tvyztlwnu483ma1etti9gll_yo.png" alt="Image 11"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au fait, ici, vous pouvez également filtrer certains avertissements. </font><font style="vertical-align: inherit;">Par exemple, vous pouvez masquer le premier avertissement dans notre rapport en le sélectionnant et en cliquant sur l'élément «Marquer les messages sélectionnés comme fausses alarmes». </font><font style="vertical-align: inherit;">Pour plus de détails, reportez-vous à nouveau à la section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppression des fausses alertes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus tôt, nous avons testé le projet C #. </font><font style="vertical-align: inherit;">Essayons maintenant de vérifier le code écrit en C ++. </font><font style="vertical-align: inherit;">Pour ajouter de la variété à l'article, nous allons le tester sous Linux. </font><font style="vertical-align: inherit;">Par ailleurs, sous Windows, Linux et macOS, vous pouvez vérifier les projets dans n'importe quel langage (C, C ++, C #, Java).</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/gf/ha/fe/gfhafe821sffbigypkfi7ed6w1k.png" alt="Image 20"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous clonons un référentiel.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8k/tb/el/8ktbelpauffoxdk0byhdokhoyzg.png" alt="Image 18"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous lançons un script de configuration pour l'assemblage.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yl/0k/dr/yl0kdrhtt7i7gbxlm9ir4mxcme8.png" alt="Image 16"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous lançons PVS-Studio en mode trace et assemblons le projet. </font><font style="vertical-align: inherit;">Un utilitaire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> installé est requis </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Au lieu de la commande make, dans votre cas, il peut y avoir n'importe quelle commande pour commencer à construire le projet avec tous les paramètres nécessaires.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/b9/h9/cl/b9h9clyzyjs_5xf9rmertev3oqi.png" alt="Image 12"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous analysons les fichiers du projet en utilisant les résultats de l'étape précédente. </font><font style="vertical-align: inherit;">L'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous permet de spécifier les avertissements à inclure dans le rapport.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ki/9-/wv/ki9-wvdwpboeefu8pz_ow5rfx94.png" alt="Image 4"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous convertissons le journal en html et apprécions les résultats. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je n'ai décrit qu'une seule option pour vérifier un projet sous Linux et de manière très formelle, sans entrer dans les détails. </font><font style="vertical-align: inherit;">Il existe d'autres façons de vérifier le projet, par exemple, en écrivant l'appel de l'analyseur dans le makefile. </font><font style="vertical-align: inherit;">Pour un examen plus détaillé, je recommande de consulter les liens suivants:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connaissance de l'analyseur statique PVS-Studio lors du développement de programmes C ++ sous Linux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment exécuter PVS-Studio sur Linux et macOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonarquube</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SonarQube est une plateforme open source pour l'analyse et la mesure en continu de la qualité du code, prenant en charge un grand nombre de langages de programmation et vous permettant de recevoir des rapports sur des métriques telles que la duplication de code, la conformité aux normes de codage, la couverture des tests, la complexité du code, les erreurs potentielles, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio dispose d'un plugin pour importer les résultats d'analyse dans SonarQube, essayons de l'utiliser.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/5c/g2/sw5cg2-pfkeblm1iltcbfnfrb-i.png" alt="Image 9"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, nous obtenons le rapport de l'analyseur et le fichier de configuration sonar-project.properties.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/dq/ci/zrdqcin_5doajnxc7ykj3sj44e8.png" alt="Image 27"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous avons besoin d'une commande de lancement de scanner.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/e_/jk/zge_jk7ski6uxsmdjipbv3jrzmy.png" alt="Image 28"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Résultat :)</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/6h/uy/0j/6huy0juejjxejcj0yuqdemkzco4.png" alt="Image 23"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, le fichier de configuration peut être créé (ou modifié). </font><font style="vertical-align: inherit;">Par exemple, dans la capture d'écran ci-dessus, nous avons activé l'ajout de l'identifiant MISRA aux avertissements de l'analyseur. </font><font style="vertical-align: inherit;">Oui, c'est-à-dire que par défaut, MISRA est désactivé ici. </font><font style="vertical-align: inherit;">Si vous devez vérifier la conformité de votre code avec MISRA, ajoutez "actif" à votre fichier de configuration à inclure.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/cp/ko/fqcpkovovgcng0w9hit8soscobi.png" alt="Image 25"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'onglet Mesures, diverses métriques de code et graphiques sont disponibles.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/kc/ds/ls/kcdslsq2bxy2faxmjqg-_kswxcw.png" alt="Image 26"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez également créer des graphiques à l'aide de la section PVS-Studio. </font><font style="vertical-align: inherit;">Vous pouvez en savoir plus sur l'intégration des résultats d'analyse PVS-Studio dans SonarQube dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cette</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> section du manuel.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio Java</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons maintenant examiné les paramètres des projets C ++, testé le projet en C #, mais Java est en quelque sorte tombé hors de l'article. Il est nécessaire de résoudre ce problème et de dire en quoi consiste l'analyseur Java PVS-Studio. L'analyseur a plusieurs façons de s'intégrer dans un projet. Selon le système de construction, vous pouvez utiliser le plugin pour Maven ou Gradle. Vous pouvez également utiliser directement le cœur de l'analyseur. L'utilisation des plugins Gradle, Maven ou du noyau vous permet de travailler facilement avec Sonar Qube ou CI (Jenkins). Si ces plugins sont activés, le projet Java est vérifié par analyse statique directement pendant le processus de génération et, par conséquent, vous recevrez non seulement votre projet assemblé, mais également un journal de l'analyseur PVS-Studio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'analyseur Java PVS-Studio peut également être utilisé comme plug-in pour IntelliJ IDEA. </font><font style="vertical-align: inherit;">Dans ce cas, l'analyse de la structure du projet est effectuée à l'aide de cet IDE, et le plugin fournit une interface graphique pratique pour travailler avec l'analyseur.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/se/1x/hp/se1xhpi6dirzw5edkdhpjgporlc.png" alt="Image 40"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suggère de lire plus en détail dans la section sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">façon de démarrer PVS-Studio Java</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, en vérifiant un projet Java, vous pouvez supprimer les messages de l'analyseur afin que l'intégration dans un grand projet soit rapide et indolore. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans IntelliJ IDEA, cela ressemble à ceci.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-c/zx/lb/-czxlbrdbykzol_5qiwy3pvp45o.png" alt="Image 42"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette fenêtre, nous voyons le rapport de l'analyseur. </font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8g/r2/6j/8gr26jp1erbtwmhzk-vcucvv_8w.png" alt="Image 43"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cliquant avec le bouton droit sur le message sélectionné, nous voyons un tel menu contextuel. </font><font style="vertical-align: inherit;">Dans celui-ci, nous pouvons sélectionner l'élément en surbrillance et le message disparaîtra de la sortie de l'analyseur.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/dg/yn/cgdgyn1evznjt623afzjnawuwc8.png" alt="Image 44"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons également supprimer tous les messages de l'analyseur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour supprimer les avertissements de l'analyseur dans Gradle, exécutez la commande:</font></font><br>
<br>
<pre><code class="cpp hljs">./gradlew pvsSuppress <span class="hljs-string">"-Ppvsstudio.report=/path/to/report.json"</span>
  <span class="hljs-string">"-Ppvsstudio.output=/path/to/suppress_base.json"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour supprimer les avertissements de l'analyseur dans Maven, exécutez la commande:</font></font><br>
<pre><code class="cpp hljs">mvn pvsstudio:pvsSuppress <span class="hljs-string">"-Dpvsstudio.report=/path/to/report.json"</span>
  <span class="hljs-string">"-Dpvsstudio.output=/path/to/suppress_base.json"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En savoir plus sur le mécanisme de suppression </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résumer</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le but de cet article était de montrer les capacités de l'analyseur statique PVS-Studio, comment travailler facilement avec lui en utilisant le plug-in pour Visual Studio et pour Linux. </font><font style="vertical-align: inherit;">Grâce à la capacité d'intégration à la plate-forme SonarQube, vous pouvez fournir une analyse continue et une gestion de la qualité de votre code, ce qui n'est qu'une des nombreuses fonctionnalités </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">décrites</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans la documentation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'intégration de l'analyseur statique dans le système CI vous permet de détecter les bogues immédiatement après la construction du projet. </font><font style="vertical-align: inherit;">Cela réduit le coût de recherche et de correction des erreurs. </font><font style="vertical-align: inherit;">Vous trouverez ci-dessous des liens vers des articles intégrant les services cloud les plus populaires:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio passe aux nuages: Travis CI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio passe au cloud: Azure DevOps</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio passe aux nuages: CircleCI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio passe aux nuages: GitLab CI / CD</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lancez PVS-Studio dans TeamCity</font></font></a></li>
</ol><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a></p><div style="text-align:center;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/eb2/f9c/3bb/eb2f9c3bb5f32f39239298d36431961c.png"></a></div><p></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez partager cet article avec un public anglophone, veuillez utiliser le lien vers la traduction: Ekaterina Nikiforova. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio 7.07: Présentation des fonctionnalités</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr502092/index.html">Assistance technologique et réglementaire pour les services de confiance numérique dans la Fédération de Russie</a></li>
<li><a href="../fr502098/index.html">Comment nous avons construit le B2B</a></li>
<li><a href="../fr502102/index.html">AutoML est génial et puissant</a></li>
<li><a href="../fr502104/index.html">Le secrétaire robot, informateur du bot, thérapeute du bot et autres projets du hackathon en ligne VirusHack</a></li>
<li><a href="../fr502114/index.html">Jeu de motivations. Partie 1</a></li>
<li><a href="../fr502118/index.html">Conception au niveau du système. Partie 3: Liaison de System Composer et de la chaîne d'outils MathWorks</a></li>
<li><a href="../fr502120/index.html">Surveillance et diagnostic à distance des équipements de production</a></li>
<li><a href="../fr502122/index.html">Thanos - Prométhée évolutif</a></li>
<li><a href="../fr502124/index.html">Résultats 2019 du capital-risque pour l'Ukraine</a></li>
<li><a href="../fr502126/index.html">Comment améliorer votre CV de programmeur anglais</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>