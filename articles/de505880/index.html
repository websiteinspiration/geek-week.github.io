<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüè´ üö© üëÜüèº So schreiben Sie Ihren Index in Tarantool üíÜüèº üèåÔ∏è üë©üèø‚Äçüåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tarantool ist ein Anwendungsserver und eine Datenbank. Der Serverteil ist in C geschrieben, und der Benutzer erh√§lt eine Lua-Schnittstelle f√ºr die Arb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>So schreiben Sie Ihren Index in Tarantool</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/505880/"><img src="https://habrastorage.org/webt/_w/oc/me/_wocmecfrb1lnc7gdoodtf3j3y4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tarantool ist ein Anwendungsserver und eine Datenbank. </font><font style="vertical-align: inherit;">Der Serverteil ist in C geschrieben, und der Benutzer erh√§lt eine Lua-Schnittstelle f√ºr die Arbeit damit. </font><font style="vertical-align: inherit;">Dar√ºber hinaus ist Tarantool ein OpenSource-Produkt. Dies bedeutet, dass der Quellcode gemeinfrei ist und Sie Software basierend auf Tarantool frei entwickeln und vertreiben k√∂nnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber heute wird die Geschichte etwas anders sein: √ºber das Experiment, √ºber den Versuch, eine eigene Datenstruktur f√ºr die Suche zu schreiben (Kurve der Z-Ordnung) und diese in das bestehende Tarantool-√ñkosystem zu integrieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin Entwickler im Tarantool Solution Team, nicht direkt an der Entwicklung von Tarantool beteiligt, sondern ein aktiver Benutzer. </font><font style="vertical-align: inherit;">Daher ist dieses Experiment f√ºr mich ein Versuch zu verstehen, wie Tarantool auf niedrigem Niveau funktioniert.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist Tarantool und wo werden Daten gespeichert?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist Tarantool? In der Welt der Datenbanken ist es als In-Memory-Technologie positioniert. Die memtx-Engine erm√∂glicht es Ihnen, alle Ihre Daten im RAM zu speichern und erf√ºllt gleichzeitig alle Prinzipien von ACID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Analogon zu relationalen Tabellen in Tarantool ist der Speicherplatz, in dem Tupel (Tupel) gespeichert werden. Im Gegensatz zu relationalen Tabellen k√∂nnen Tupel in einem Raum im Allgemeinen eine beliebige L√§nge haben. Um sie zu speichern, muss eine Suchdatenstruktur erstellt werden, und der Suchschl√ºssel ist der Prim√§rschl√ºssel, der immer eindeutig ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen auch zus√§tzliche Strukturen erstellen - Sekund√§rindizes, die nur einen Zeiger auf ein Tupel speichern. </font><font style="vertical-align: inherit;">Der Sekund√§rindex ist m√∂glicherweise nicht eindeutig. Dies ist jedoch nur das externe Verhalten, das f√ºr den Benutzer sichtbar ist. </font><font style="vertical-align: inherit;">Prim√§rindexfelder werden implizit zu jedem nicht eindeutigen Index hinzugef√ºgt. </font><font style="vertical-align: inherit;">Dies stellt die Stabilit√§t der Sortiertupel innerhalb des Index sicher. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tarantool unterst√ºtzt verschiedene Arten von Indizes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zun√§chst in </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-Tree</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (und wenn absolut genau, dann B + * - Tree). </font><font style="vertical-align: inherit;">Es wurde viel √ºber [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-Tree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ] </font><font style="vertical-align: inherit;">√ºber die Struktur von B-B√§umen geschrieben </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ich stelle nur fest, dass die Daten in sortierter Form gespeichert sind. Au√üerdem k√∂nnen Sie nach dem Pr√§fix des indizierten Schl√ºssels suchen.</font></font></li>
<li>   <strong>hash-</strong>. ,      .    .    B-,      ,  .    .</li>
<li><strong>R-Tree</strong>.      .    ¬´¬ª , ,  .       ‚Äî .     ,       .        .   ,      ,    .</li>
<li><strong>Bitset</strong>. ,     .   ,            ,   .</li>
</ul><br>
<h3> Z-,   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Woher kam die Idee, Ihren Index zu schreiben, und ziemlich exotisch? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einmal stie√ü ich auf Amazon-Artikel [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1, 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ], in denen es um eine Struktur wie die Kurve der Z-Ordnung oder die Morton-Kurve ging. Dies ist ein Rezept f√ºr die Position von "mehrdimensionalen" Daten innerhalb einer flachen Struktur (Kurve der Z-Ordnung), die dann in einen B-Baum passt. Ein solcher Ansatz sollte dazu beitragen, ein kontinuierliches Scannen von Daten zu vermeiden. Im Allgemeinen k√∂nnen Informationen √ºber ein Objekt mit einem bestimmten Satz von Merkmalen als mehrdimensionale Daten betrachtet werden. Zum Beispiel Gr√∂√üe, Gewicht, Fu√ügr√∂√üe usw. Person. Die meisten Datenbanken verwenden zu diesem Zweck R-Tree. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein wenig dar√ºber, wie die Kurve der Z-Ordnung aufgebaut ist.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/363/a10/2c9/363a102c99adb088e19052945e6298fb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Kurve Z-Ordnung, auch als Morton-Kurve bekannt, wird erhalten, indem Bits der Koordinaten eines Punktes im Raum verschachtelt werden. </font><font style="vertical-align: inherit;">So erhaltene Z-Adressen haben die Eigenschaft der Lokalit√§t. </font><font style="vertical-align: inherit;">Punkte in der N√§he im mehrdimensionalen Raum befinden sich weiterhin in der N√§he, wenn sie auf einer flachen Linie angezeigt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das schematisch √§hnliche Mischen sieht folgenderma√üen aus:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6eb/04c/f2b/6eb04cf2b6ac3f0b26613a774c8f479d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie es funktioniert? </font><font style="vertical-align: inherit;">Wir begrenzen einen bestimmten Bereich im Raum - einen Hyperw√ºrfel (im zweidimensionalen Raum gibt es ein Rechteck) - mit Hilfe von zwei auf der Diagonale liegenden Punkten, die an zwei Punkten auf der Linie angezeigt werden. </font><font style="vertical-align: inherit;">Und wir bekommen einen unangenehmen Nebeneffekt: Einige der Punkte gehen √ºber den Begrenzungsrahmen hinaus:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/991/fd9/889/991fd9889fa6f3b4b30fd7adecfcd436.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das hei√üt, wir k√∂nnen nicht einfach entlang dieser Kurve iterieren. Mit einem speziellen Algorithmus k√∂nnen wir jedoch einen Sprung machen, wenn wir ins Ausland gehen und zum Suchbereich zur√ºckkehren. Sobald wir den √§u√üersten Punkt der Kurve √ºberschreiten (nennen wir ihn Upper_bound), ist die Suche beendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir mit dem B-Baum arbeiten, haben wir eine Reihe von Intervallen, und diese Abfrage w√ºrde zu einem sequentiellen Scan des B-Baums f√ºhren, was bei einem gro√üen Datensatz viel Zeit in Anspruch nehmen w√ºrde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Interesse wurde durch andere Ver√∂ffentlichungen √ºber diese Kurve geweckt. Zum Beispiel, wie es in TransBase [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ], eine propriet√§re Datenbank, integriert wurde. Und leider habe ich keine Open-Source-Implementierungen dieser Struktur gefunden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zugrunde liegende B-Tree-Kurve hat gegen√ºber dem R-Tree mehrere Vorteile. </font><font style="vertical-align: inherit;">Zum Beispiel bessere Belegung und Kompaktheit. </font><font style="vertical-align: inherit;">Nachteile: Die meisten verwendeten Algorithmen sind prozessorbeschr√§nkt. </font><font style="vertical-align: inherit;">Zum Vergleich habe ich mich f√ºr Tarantool entschieden: Ich interessierte mich f√ºr das Lesen / Einf√ºgen von Geschwindigkeiten sowie f√ºr den Speicherverbrauch. </font><font style="vertical-align: inherit;">Es ist nicht zu erw√§hnen, dass ein √§hnliches Thema bereits bei Habr√© angesprochen wurde, jedoch f√ºr kleine Dimensionen (2-3) und in Bezug auf die PostgreSQL-Festplattendatenbank [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZcurvePostgres</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ].</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was war erforderlich, um in Tarantool einzubetten?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe einfache Implementierungen dieser Struktur f√ºr die Dimensionen 2-3 gefunden, wollte aber die Leistung mit dem vorhandenen R-Tree-Index vergleichen, um mich nicht auf kleine Dimensionen zu beschr√§nken. Ich habe die gleiche Dimension wie R-Tree - 20 gew√§hlt. Dazu ben√∂tigte ich eine Bitmap mit Unterst√ºtzung f√ºr einige primitive Operationen: Extrahieren / √Ñndern eines Bits, Verschieben, logische ODER / UND-Operationen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr den Prototyp habe ich die gefundene Open-Source-Implementierung √ºbernommen, bin aber ziemlich schnell zu dem Schluss gekommen, dass ich keine Allzweck-Bitmap ben√∂tige: Die Schl√ºssell√§nge ist immer ein Vielfaches von 64, sodass einige Vorg√§nge erheblich vereinfacht werden. Ich habe meine eigene Implementierung basierend auf dem geschrieben, was ich hatte. Anstatt die Systemfunktionen zum Zuweisen von Speicher zu verwenden, habe ich au√üerdem begonnen, spezielle Zuordner zu verwenden, die in Tarantool [implementiert sind.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht ist das Herzst√ºck des Index eine Reihe von Algorithmen f√ºr die Arbeit mit der Z-Kurve. </font><font style="vertical-align: inherit;">Berechnen der Z-Adresse (unter Verwendung spezieller Nachschlagetabellen), √úberpr√ºfen, ob die Z-Adresse zum Suchbereich geh√∂rt, und Erkennen des ersten Auftretens im Suchbereich ab dem angegebenen Punkt. </font><font style="vertical-align: inherit;">Wenn Sie das Web gut durchsuchen, finden Sie wissenschaftliche Ver√∂ffentlichungen, in denen diese Algorithmen beschrieben werden. Ich musste sie also nur implementieren, debuggen und wenn m√∂glich optimieren. </font><font style="vertical-align: inherit;">Es sollte Z-Adressen in dem bereits implementierten B-Baum speichern, der f√ºr den TREE-Index verwendet wird.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie ist die Datenverarbeitung organisiert?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im allgemeinsten Fall kommt Tupel zu uns. Dies ist ein Datenarray im Nachrichtenpaketformat. Und im Idealfall m√ºssten wir nur die indizierten Felder isolieren, ihre Bits mischen und die Adresse mit dem Zeiger auf das Tupel im B-Baum einf√ºgen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles w√§re jedoch so einfach, wenn wir nur mit dem vorzeichenlosen Typ arbeiten w√ºrden, wenn die sortierten Bitdarstellungen der Zahlen den sortierten Zahlen in einer nat√ºrlichen Darstellung entsprechen w√ºrden. Vorzeichenbehaftete Ganzzahlen haben ihre eigenen Darstellungsregeln, Gleitkommazahlen haben ihre eigenen. Und das musste zu einem gemeinsamen Nenner f√ºhren. Aufgrund der Tatsache, dass wir die Z-Adresse getrennt von den Daten selbst speichern, k√∂nnen wir alle Transformationen an unseren Schl√ºsseln durchf√ºhren. Die Hauptsache ist, die Sortierreihenfolge beizubehalten. Dies kann durch einfache bitweise Manipulationen erfolgen. Bei vorzeichenbehafteten Ganzzahlen k√∂nnen Sie beispielsweise einfach das High-Byte invertieren. F√ºr andere Typen gibt es √§hnliche, wenn auch etwas komplexere Transformationen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle numerischen Typen passen in 8 Bytes, sodass der resultierende Schl√ºssel N * 8 Bytes gro√ü ist, wobei N die Dimension unseres Raums ist. Was tun mit Saiten? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine ziemlich h√§ufige Situation beim Arbeiten mit Zeichenfolgen ist die Pr√§fixsuche. Und es ist durchaus m√∂glich zu unterst√ºtzen. Die ersten 8 Bytes der Zeichenfolge k√∂nnen durchaus als Schl√ºssel verwendet werden. Wenn die Zeichenfolge k√ºrzer ist, kann sie mit Nullen aufgef√ºllt werden. Die Unterst√ºtzung von Zeichenfolgen schr√§nkt unseren Index grundlegend ein: Wir verlieren die Eindeutigkeit. Selbst wenn sich die Zeilen im neunten Byte unterscheiden, sind sie aus Sicht des Systems immer noch dieselben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns den Code an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Index-API besteht aus einem bestimmten Satz von Methoden. Wir werden nicht jedes einzeln betrachten, sondern nur die grundlegendsten durchgehen, n√§mlich Such- und Einf√ºgeoperationen.</font></font><br>
<br>
<code>get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Suchen Sie mit dem vollst√§ndigen Schl√ºssel nach einem Artikel. Funktioniert nur f√ºr eindeutige Indizes. Unser Index kann nicht eindeutig sein, daher wird die Funktion durch eine spezielle generische Version ersetzt, die den Fehler "Nicht unterst√ºtzte Indexfunktion" zur√ºckgibt. </font></font><br>
<br>
<code>replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Einf√ºgen eines Elements. Lassen Sie uns genauer betrachten.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>
<span class="hljs-title">memtx_zcurve_index_replace</span><span class="hljs-params">(struct index *base, struct tuple *old_tuple,
        struct tuple *new_tuple, <span class="hljs-keyword">enum</span> dup_replace_mode mode,
        struct tuple **result)</span>
</span>{<font></font>
    (<span class="hljs-keyword">void</span>)mode;
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_index</span> *<span class="hljs-title">index</span> = (<span class="hljs-title">struct</span> <span class="hljs-title">memtx_zcurve_index</span> *)<span class="hljs-title">base</span>;</span>
    <span class="hljs-keyword">if</span> (new_tuple) {
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_data</span> <span class="hljs-title">new_data</span>;</span><font></font>
        new_data.tuple = new_tuple;<font></font>
        new_data.z_address = extract_zaddress(new_tuple,<font></font>
                &amp;index-&gt;bit_array_pool, index);<font></font>
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_data</span> <span class="hljs-title">dup_data</span>;</span>
        dup_data.tuple = <span class="hljs-literal">NULL</span>;<font></font>
        dup_data.z_address = <span class="hljs-literal">NULL</span>;<font></font>
<font></font>
        <span class="hljs-keyword">int</span> tree_res = memtx_zcurve_insert(&amp;index-&gt;tree, new_data,<font></font>
                &amp;dup_data);<font></font>
        <span class="hljs-keyword">if</span> (tree_res) {<font></font>
            diag_set(OutOfMemory, MEMTX_EXTENT_SIZE,<font></font>
                     <span class="hljs-string">"memtx_zcurve_index"</span>, <span class="hljs-string">"replace"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (dup_data.tuple != <span class="hljs-literal">NULL</span>) {<font></font>
            *result = dup_data.tuple;<font></font>
            z_value_free(&amp;index-&gt;bit_array_pool, dup_data.z_address);<font></font>
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">if</span> (old_tuple) {
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_data</span> <span class="hljs-title">old_data</span>, <span class="hljs-title">deleted_value</span>;</span><font></font>
        old_data.tuple = old_tuple;<font></font>
        old_data.z_address = extract_zaddress(old_tuple,<font></font>
                &amp;index-&gt;bit_array_pool, index);<font></font>
        memtx_zcurve_delete_value(&amp;index-&gt;tree, old_data, &amp;deleted_value);<font></font>
        z_value_free(&amp;index-&gt;bit_array_pool, old_data.z_address);<font></font>
        z_value_free(&amp;index-&gt;bit_array_pool, deleted_value.z_address);<font></font>
    }<font></font>
    *result = old_tuple;<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Worauf sollten Sie achten? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Bezug auf den Index gab es keine Transaktionen </font></font><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Die gesamte Logik wird in dieser Methode ausgef√ºhrt, die die alten und neuen Tupel sowie </font></font><code>mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informationen dar√ºber </font><font style="vertical-align: inherit;">empf√§ngt, </font><font style="vertical-align: inherit;">ob der Index eindeutig ist oder nicht. </font><font style="vertical-align: inherit;">Unser Index kann nicht eindeutig sein, daher sind keine zus√§tzlichen √úberpr√ºfungen erforderlich und Sie k√∂nnen sofort ein Tupel einf√ºgen. </font></font><br>
<br>
<code>memtx_zcurve_insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>memtx_zcurve_delete_value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- B-Tree-Methoden, die bereits in Tarantool implementiert wurden und im regul√§ren TREE-Index verwendet werden. </font><font style="vertical-align: inherit;">Wir werden nicht separat darauf eingehen. </font><font style="vertical-align: inherit;">Im Gegensatz zu gew√∂hnlichem TREE speichern wir nicht nur ein Tupel, sondern auch eine Z-Adresse - die gemischten Bits der indizierten Teile. </font><font style="vertical-align: inherit;">Die Funktion ist daf√ºr verantwortlich </font></font><code>extract_zadress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<code>create_iterator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Von Lua beziehen wir uns auf diese Methode im Fall von </font></font><code>select</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'a und</font></font><code>pairs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'und.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> struct iterator *
<span class="hljs-title">memtx_zcurve_index_create_iterator</span><span class="hljs-params">(struct index *base, <span class="hljs-keyword">enum</span> iterator_type type,
                                   <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *key, <span class="hljs-keyword">uint32_t</span> part_count)</span>
</span>{
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_index</span> *<span class="hljs-title">index</span> = (<span class="hljs-title">struct</span> <span class="hljs-title">memtx_zcurve_index</span> *)<span class="hljs-title">base</span>;</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_engine</span> *<span class="hljs-title">memtx</span> = (<span class="hljs-title">struct</span> <span class="hljs-title">memtx_engine</span> *)<span class="hljs-title">base</span>-&gt;<span class="hljs-title">engine</span>;</span><font></font>
<font></font>
    assert(part_count == <span class="hljs-number">0</span> || key != <span class="hljs-literal">NULL</span>);
    <span class="hljs-keyword">if</span> (type != ITER_EQ &amp;&amp; type != ITER_ALL &amp;&amp; type != ITER_GE) {<font></font>
        diag_set(UnsupportedIndexFeature, base-&gt;def,<font></font>
                 <span class="hljs-string">"requested iterator type"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">uint8_t</span> index_dim = base-&gt;def-&gt;key_def-&gt;part_count;
    <span class="hljs-keyword">if</span> (part_count == <span class="hljs-number">0</span>) {
        <span class="hljs-comment">/*
         * If no key is specified, downgrade equality
         * iterators to a full range.
         */</span><font></font>
        type = ITER_GE;<font></font>
        key = <span class="hljs-literal">NULL</span>;<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index_dim * <span class="hljs-number">2</span> == part_count<font></font>
               &amp;&amp; type != ITER_ALL) {<font></font>
        <span class="hljs-comment">/*
         * If part_count is twice greater than key_def.part_count
         * set iterator to range query
         */</span><font></font>
        type = ITER_GE;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tree_iterator</span> *<span class="hljs-title">it</span> = <span class="hljs-title">mempool_alloc</span>(&amp;<span class="hljs-title">memtx</span>-&gt;<span class="hljs-title">zcurve_iterator_pool</span>);</span>
    <span class="hljs-keyword">if</span> (it == <span class="hljs-literal">NULL</span>) {<font></font>
        diag_set(OutOfMemory, <span class="hljs-keyword">sizeof</span>(struct tree_iterator),
                 <span class="hljs-string">"memtx_zcurve_index"</span>, <span class="hljs-string">"iterator"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<font></font>
    }<font></font>
<font></font>
    iterator_create(&amp;it-&gt;base, base);<font></font>
    it-&gt;pool = &amp;memtx-&gt;zcurve_iterator_pool;<font></font>
    it-&gt;base.next = tree_iterator_start;<font></font>
    it-&gt;base.<span class="hljs-built_in">free</span> = tree_iterator_free;<font></font>
    it-&gt;type = type;<font></font>
<font></font>
    <span class="hljs-keyword">if</span> (part_count == <span class="hljs-number">0</span> || type == ITER_ALL) {<font></font>
        it-&gt;lower_bound = zeros(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
        it-&gt;upper_bound = ones(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type == ITER_EQ) {<font></font>
        it-&gt;lower_bound = mp_decode_key(&amp;index-&gt;bit_array_pool,<font></font>
                key, index_dim, index);<font></font>
        it-&gt;upper_bound = <span class="hljs-literal">NULL</span>;<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (base-&gt;def-&gt;key_def-&gt;part_count == part_count) {<font></font>
        it-&gt;lower_bound = mp_decode_key(&amp;index-&gt;bit_array_pool,<font></font>
                key, index_dim, index);<font></font>
        it-&gt;upper_bound = ones(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (base-&gt;def-&gt;key_def-&gt;part_count * <span class="hljs-number">2</span> == part_count) {<font></font>
        it-&gt;lower_bound  = z_value_create(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
        it-&gt;upper_bound  = z_value_create(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
        mp_decode_part(key, part_count, index, it-&gt;lower_bound, it-&gt;upper_bound);<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        unreachable();<font></font>
    }<font></font>
    it-&gt;tree_iterator = memtx_zcurve_invalid_iterator();<font></font>
    it-&gt;current.tuple = <span class="hljs-literal">NULL</span>;<font></font>
    it-&gt;current.z_address = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">return</span> (struct iterator *)it;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abh√§ngig vom √ºbertragenen Schl√ºssel berechnen wir die Unter- und Obergrenze der Anfrage. </font><font style="vertical-align: inherit;">Bisher weist dieser Iterator jedoch auf nichts hin. </font><font style="vertical-align: inherit;">Insgesamt gibt es verschiedene Arten von Iteratoren. </font><font style="vertical-align: inherit;">In unserem Fall ist dies ALLES - alle Elemente erhalten; </font><font style="vertical-align: inherit;">EQ - Empfangen von Elementen, deren Z-Adresse mit der gesendeten √ºbereinstimmt; </font><font style="vertical-align: inherit;">und GE ist die Auswahl von Elementen im Hypercube. </font></font><br>
<br>
<code>destroy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Entfernen des Index. </font><font style="vertical-align: inherit;">Im Fall des Sekund√§rindex wird einfach der Speicher freigegeben, der f√ºr die Suchstruktur zugewiesen wurde. </font><font style="vertical-align: inherit;">Wenn der Index prim√§r ist, werden die gespeicherten Tupel physisch gel√∂scht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der gesamte Code ist verf√ºgbar unter: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/olegrok/tarantool/tree/z-order-curve-index Mal</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
sehen, was passiert ist und zusammenfassen.</font></font><br>
<br>
<pre><code class="lua hljs">space = box.schema.space.<span class="hljs-built_in">create</span>(<span class="hljs-string">'myspace'</span>, { engine = <span class="hljs-string">'memtx'</span> })<font></font>
pk = space:create_index(<span class="hljs-string">'primary'</span>, { <span class="hljs-built_in">type</span> = <span class="hljs-string">'tree'</span>, parts = {{<span class="hljs-number">1</span>, <span class="hljs-string">'unsigned'</span>}}, unique = <span class="hljs-literal">true</span>})<font></font>
sk = space:create_index(<span class="hljs-string">'secondary'</span>, { <span class="hljs-built_in">type</span> = <span class="hljs-string">'zcurve'</span>, parts = {{<span class="hljs-number">2</span>, <span class="hljs-string">'unsigned'</span>}, {<span class="hljs-number">3</span>, <span class="hljs-string">'unsigned'</span>}}})
<span class="hljs-keyword">for</span> i=<span class="hljs-number">0</span>,<span class="hljs-number">5</span> <span class="hljs-keyword">do</span> <span class="hljs-keyword">for</span> j=<span class="hljs-number">0</span>,<span class="hljs-number">5</span> <span class="hljs-keyword">do</span> space:<span class="hljs-built_in">insert</span>{i * <span class="hljs-number">6</span> + j, i, j} <span class="hljs-keyword">end</span> <span class="hljs-keyword">end</span>
<span class="hljs-comment">-- returns all tuples</span>
pk:<span class="hljs-built_in">select</span>{}
<span class="hljs-comment">-- (2 &lt;= x &lt;= 3) and (3 &lt;= y &lt;= 5)</span>
sk:<span class="hljs-built_in">select</span>{<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>}
<span class="hljs-comment">---</span>
- ‚Äî [<span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">21</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">16</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">22</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">23</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<font></font>
‚Ä¶<font></font>
<span class="hljs-comment">-- (x == 2) and (y == 3)</span>
sk:<span class="hljs-built_in">select</span>{<span class="hljs-number">2</span>, <span class="hljs-number">3</span>}
<span class="hljs-comment">---</span>
- ‚Äî [<span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
<span class="hljs-comment">-- (2 &lt;= x &lt;= 3)</span>
sk:<span class="hljs-built_in">select</span>({<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, box.NULL, box.NULL})
<span class="hljs-comment">---</span>
- ‚Äî [<span class="hljs-number">12</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>]<font></font>
  - [<span class="hljs-number">18</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>]<font></font>
  - [<span class="hljs-number">13</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<font></font>
  - [<span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>]<font></font>
  - [<span class="hljs-number">14</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>]<font></font>
  - [<span class="hljs-number">20</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>]<font></font>
  - [<span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">21</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">16</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">22</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">23</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<font></font>
...<font></font>
<span class="hljs-comment">-- (x &gt;= 2) and (y &gt;= 3)</span>
sk:<span class="hljs-built_in">select</span>({<span class="hljs-number">2</span>, box.NULL, <span class="hljs-number">3</span>, box.NULL})
<span class="hljs-comment">---</span>
- ‚Äî [<span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">21</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">27</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">33</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">16</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">22</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">23</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">28</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">34</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">29</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">35</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]<font></font>
...</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist mit Leistung?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellte sich heraus, dass nicht alles so rosig ist, wie ich es beschrieben habe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ab einem bestimmten Punkt beginnt die Kurve der Z-Ordnung in Bezug auf die Datenzugriffsgeschwindigkeit erheblich zu sinken. perf top hat gezeigt, dass die meiste Zeit damit verbracht wird, zu √ºberpr√ºfen, ob der Punkt zum Suchbereich geh√∂rt, und den n√§chsten Punkt zu berechnen, zu dem Sie springen m√ºssen. Beide Operationen sind abh√§ngig von der Schl√ºssell√§nge linear komplex - mit zunehmender Dimension nimmt auch die L√§nge zu.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70e/338/fd1/70e338fd15af8701c3a5696ebfb3ea2a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vom angenehmen - Speicherverbrauch ist 2-3 mal geringer und das Einf√ºgen ist etwas schneller als beim R-Tree. </font><font style="vertical-align: inherit;">Was nicht besonders relevant ist, da die Messungen bei ausgeschaltetem WAL durchgef√ºhrt wurden. </font><font style="vertical-align: inherit;">Erstens kann in einer Produktionsumgebung im Falle eines Fehlers eine deaktivierte WAL zu Datenverlust f√ºhren. </font><font style="vertical-align: inherit;">Zweitens wird trotz der Tatsache, dass beim Schreiben in die WAL der Batche-Ansatz verwendet wird, immer noch auf die Festplatte geschrieben, was tausende Male langsamer ist als das Arbeiten mit RAM.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ee/e73/e29/9eee73e29d809963c069a9f7414f524a.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c0/8b9/159/2c08b91598dbefe2855ede4d05a593ca.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessant ist auch der Vergleich mit dem B-Baum. </font><font style="vertical-align: inherit;">Hier ist die Kurve erwartungsgem√§√ü schneller als ein vollst√§ndiger Scan und √ºberpr√ºft jeden Punkt auf Zugeh√∂rigkeit zu einem bestimmten Bereich. </font><font style="vertical-align: inherit;">Obwohl die Pr√ºfung leichter ist als bei der Kurve der Z-Ordnung, bei der es auf einen bitweisen Vergleich ankommt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zahlen in der Grafik unterscheiden sich in der Reihenfolge vom R-Tree - der Test wurde geringf√ºgig ge√§ndert.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/140/ae5/44d/140ae544d6ba527bffe6bc4d814f609d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr den Test habe ich eine Reihe von Punkten generiert und die Dauer der Abfrage mithilfe der Z-Kurve und des herk√∂mmlichen Scannens verglichen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der In-Memory-Welt hat sich diese Struktur als nicht der beste Weg erwiesen, hat jedoch immer noch Vorteile:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nimmt weniger Platz ein.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Gegensatz zu R-Tree (nur f√ºr Tarantool relevant).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es lohnt sich, genauer hinzuschauen, wenn es nur einen B-Baum gibt und Sie mehrdimensionale Abfragen durchf√ºhren m√ºssen (f√ºr Tarantool nicht relevant).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es war ein interessantes Experiment. </font><font style="vertical-align: inherit;">Es ist unwahrscheinlich, dass die von mir vorgeschlagene L√∂sung jemals Teil von Tarantool wird. </font><font style="vertical-align: inherit;">Haben Sie jedoch keine Angst vor Experimenten. </font><font style="vertical-align: inherit;">Und wenn Sie Vorschl√§ge und L√∂sungen haben, haben Sie keine Angst, diese zu teilen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellen</font></font></h2><br>
<a name="B-Tree"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[B-Tree]: </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indizes in PostgreSQL - 4 / Blog von Postgres Professional / Habr </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-Tree / Habr </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-Tree-Datenstruktur / OTUS-Blog. </font><font style="vertical-align: inherit;">Online Bildung / Geek Magazin</font></font></a><br>
<br>
<a name="ZcurvePostgres"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ZcurvePostgres]: </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber Z-Ordnung und R-Baum / Geek-Magazin </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z-Ordnung gegen R-Baum, Fortsetzung / Geek-Magazin</font></font></a><br>
<br>
<a name="1"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z-Order-Indizierung f√ºr vielf√§ltige Abfragen in Amazon DynamoDB: Teil 1 | </font><font style="vertical-align: inherit;">AWS-Datenbank-Blog</font></font></a><br>
<br>
<a name="1"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[2] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indizierung in Z-Reihenfolge f√ºr vielf√§ltige Abfragen in Amazon DynamoDB: Teil 2 | </font><font style="vertical-align: inherit;">AWS-Datenbank-Blog</font></font></a><br>
<br>
<a name="3"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[3] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integration des UB-Baums in einen Datenbanksystemkern</font></font></a><br>
<br>
<a name="4"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[4] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/tarantool/small</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de505850/index.html">C ++ - Konzeptbasierter Polymorphismus im Produktcode: PassManager in LLVM</a></li>
<li><a href="../de505856/index.html">Von Brute-Force bis zum Versuch der Privatsph√§re - was SaaS-Anbieter erwartet</a></li>
<li><a href="../de505860/index.html">Spring Boot, Hibernate und Kotlin f√ºr Anf√§nger Schritt f√ºr Schritt</a></li>
<li><a href="../de505870/index.html">Wie man mobile Spiele und Anwendungen in Japan, Korea und China bewirbt</a></li>
<li><a href="../de505872/index.html">Geschichte unbemannter Fahrzeuge</a></li>
<li><a href="../de505884/index.html">Spear Phishing: Erstellen Sie bedingt sch√§dliche ausf√ºhrbare Dateien f√ºr Phishing-E-Mails</a></li>
<li><a href="../de505888/index.html">Analysieren von YouTube, einschlie√ülich hochgeladener Daten, ohne die YouTube-API</a></li>
<li><a href="../de505896/index.html">Sicherheitswoche 24: Zoom und mutiger Browser-Datenschutz</a></li>
<li><a href="../de505898/index.html">Claude Shannon: Allesk√∂nner, Joker und Vater der Informationstheorie</a></li>
<li><a href="../de505900/index.html">Pers√∂nliche Sucht: 40 mm in voller Gr√∂√üe, ohne Draht, 72 Stunden lang f√ºr 8000 Rubel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>