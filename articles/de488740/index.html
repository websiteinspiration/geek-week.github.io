<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçö üßí ‚ôøÔ∏è Benutzerdefiniertes HTML-Tag-Handbuch f√ºr Google Tag Manager von Simo Ahava üï∫ üîÅ üíáüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ende Januar ver√∂ffentlichte Simo Ahava in seinem Blog einen Bericht √ºber die M√∂glichkeit, benutzerdefinierte HTML-Tags in Google Tag Manager zu verwen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Benutzerdefiniertes HTML-Tag-Handbuch f√ºr Google Tag Manager von Simo Ahava</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488740/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ende Januar ver√∂ffentlichte Simo Ahava in seinem Blog einen Bericht √ºber die M√∂glichkeit, benutzerdefinierte HTML-Tags in Google Tag Manager zu verwenden. Benutzerdefinierte HTML-Tags bieten ausreichend Gelegenheit, den Inhalt der Website zu √§ndern. Sie m√ºssen jedoch sehr vorsichtig sein - Tag-Funktionen und deren Verarbeitung bergen gro√üe Risiken. Der MediaGuru-Analyst Timur Ledenyov hat diese n√ºtzliche Bewertung f√ºr Sie √ºbersetzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine der wichtigsten GTM-Optionen war seit geraumer Zeit (seit Ende 2012) das benutzerdefinierte HTML-Tag. Mit diesem magischen Tool kann GTM einer Website-Seite ein HTML-Element hinzuf√ºgen. Seit 2012 hat sich Google Tag Manager von einer isolierten Umgebung mit benutzerdefinierten Tag-Vorlagen zu einer unbegrenzten clientseitigen Content-Management-L√∂sung entwickelt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel werden die Prinzipien des benutzerdefinierten HTML-Tags und die M√∂glichkeiten seiner Anwendung betrachtet.</font></font><a name="habracut"></a> <br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benutzerdefinierte HTML-Tag-F√ºllung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie der Name schon sagt, k√∂nnen Sie mit dem benutzerdefinierten HTML-Tag HTML-Elemente auf der Site-Seite platzieren. </font><font style="vertical-align: inherit;">Lassen Sie es uns erstellen:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/rw/ll/fprwlleg839nmy90_hmo0pfnvd4.png"><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hello!'</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello!<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses Tag f√ºgt der Seite drei Elemente hinzu:</font></font><br>
<br>
<ul>
<li><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, das in JavaScript kompiliert und ausgef√ºhrt wird;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Block </font></font><code>div</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></li>
<li><code>&lt;span&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enthalten in </font></font><code>&lt;div&gt;</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie einen Container ver√∂ffentlichen und die minimierte Quelle des JavaScript-Containers betrachten, sieht dies folgenderma√üen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d8/0i/0l/d80i0l0omhgc5emrdxn9pjg7irk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ihr sch√∂n geformtes Tag sieht folgenderma√üen aus, da der HTML-Code codiert ist. Dies ist ein kluger Schritt, bevor Sie Zeichenfolgen als HTML-Elemente definieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Flags enableIframeMode und enableEditJsMacroBehavior sind die alten Funktionen, die in der Benutzeroberfl√§che nicht mehr sichtbar sind. </font><font style="vertical-align: inherit;">Sie k√∂nnen sie in der benutzerdefinierten HTML-Tag-Oberfl√§che sichtbar machen, wenn Sie wissen, wie. </font><font style="vertical-align: inherit;">Aber es wird nichts beeinflussen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie haben also ein benutzerdefiniertes HTML-Tag erstellt und gesehen, wie es dem Container hinzugef√ºgt wird. </font><font style="vertical-align: inherit;">Aber was passiert dann auf der Seite und wo genau?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Injektion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn das benutzerdefinierte HTML-Tag im Google Tag Manager ausgel√∂st wird, wird der folgende Mechanismus gestartet:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es wird ein Dummy erstellt </font></font><code>&lt;div&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dem mithilfe des Attributs .innerHTML eine codierte Zeichenfolge hinzugef√ºgt wird, die Ihr benutzerdefiniertes HTML-Tag darstellt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies zwingt den Browser, die codierte Zeichenfolge als HTML zu behandeln, sodass Tags, die zu benutzerdefiniertem HTML hinzugef√ºgt wurden, in HTML-Elemente konvertiert werden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Elemente werden nacheinander entfernt </font></font><code>&lt;div&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und zur Injektion weitergeleitet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anschlie√üend wird jedes Element als letztes untergeordnetes document.body-Element hinzugef√ºgt.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt einige Nuancen in diesem Prozess:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie Google Tag Manager mit onHtmlSuccess und onHtmlFailure in der Warteschlange interagiert</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie Elemente </font></font><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vor der Injektion von allen Benutzerattributen befreit werden.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was bedeutet das? Alles, was Sie in das benutzerdefinierte HTML-Tag eingeben, wird am Ende des K√∂rpers hinzugef√ºgt, unabh√§ngig davon, was es zum Zeitpunkt der Injektion war. Normalerweise bedeuten sie Seitenfu√ü, aber dies ist angesichts moderner Seitenlayouts nicht erforderlich. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9u/zo/hl/9uzohlpw6yxgm1axrl6u123gzlk.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wichtig:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn Sie der Seite ein neues Element hinzuf√ºgen, ordnen Sie den Inhalt neu an. Normalerweise sollte der Browser die Gr√∂√üen, die Position, das Layout und die Attribute der Elemente neu berechnen. vor, umgebend oder in einem eingebetteten Element verschachtelt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist nicht so einfach. Jedes Element, das Sie hinzuf√ºgen, versch√§rft das Problem. Und in einseitigen Anwendungen, bei denen das DOM zwischen den √úberg√§ngen m√∂glicherweise nicht zur√ºckgesetzt wird, k√∂nnen Sie Hunderte solcher Elemente auf einer Seite beobachten, von denen jedes die Leistung immer mehr verschlechtert. Wir werden abschlie√üend darauf zur√ºckkommen, aber vor dem Abschluss werde ich sagen:</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vermeiden Sie die Verwendung von benutzerdefinierten HTML-Tags ohne offensichtliche Notwendigkeit. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich gebe zu, ein solcher Haftungsausschluss f√ºr den Artikel ist nicht ohne Ironie.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benutzerdefinierte HTML-Skriptskripte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum diese Tags verwenden und eine Tag-Management-L√∂sung anwenden, um ein Element einzuf√ºgen? </font><font style="vertical-align: inherit;">Eine ausgezeichnete Frage, auf die ich keine schnelle und endg√ºltige Antwort habe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich kann sagen, dass eine gro√üe Anzahl von benutzerdefiniertem HTML im Container √ºber eine der folgenden Situationen sprechen kann:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie stehen vor einem zu komplizierten Fall, f√ºr den Standard-GTM-Tags oder benutzerdefinierte Vorlagen nicht geeignet sind.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie sind neu in GTM (oder JavaScript) und verstehen nicht, dass Ihre benutzerdefinierten HTML-Tags durch Standard-Tags oder benutzerdefinierte Vorlagen ersetzt werden k√∂nnen.</font></font></li>
<li>     ,   -,        .</li>
<li>            ,     -   .</li>
<li>  ,   Google Tag Manager,             .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist Ihr Container, und Sie haben nat√ºrlich das Recht, ihn nach Belieben zu verwenden. </font><font style="vertical-align: inherit;">Wenn jedoch die Szenarien 2 und 3 angezeigt werden, empfehle ich dringend, √Ñnderungen am Status Quo vorzunehmen. </font><font style="vertical-align: inherit;">Das Ignorieren der Komplexit√§t von GTM und JavaScript kann die positiven Auswirkungen dieser Technologien beeintr√§chtigen. </font><font style="vertical-align: inherit;">Wenn Sie langfristig gegen die in Ihrem Unternehmen festgelegten Einschr√§nkungen arbeiten, kommt es auch zu Meinungsverschiedenheiten und zu Kommunikationsst√∂rungen, einer schrecklichen Website und einer unzuverl√§ssigen Speicherung von Informationen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns einige Szenarien an, in denen Sie wahrscheinlich benutzerdefinierte HTML-Tags ausprobieren m√∂chten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinzuf√ºgen eines Elements zu einer bestimmten Stelle auf der Seite</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Nachteil des benutzerdefinierten HTML-Tags besteht darin, dass das Element am Ende eingebettet wird </font></font><code>&lt;body&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Wozu? Wenn das Element eine visuelle Komponente ist (d. H. Es sollte auf dem Bildschirm angezeigt werden), ist es h√∂chstwahrscheinlich, dass das Ende </font></font><code>&lt;body&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht der Ort ist, an dem Sie es sehen m√∂chten. Um dies zu umgehen, m√ºssen Sie JavaScript und seine DOM-Manipulationsmethoden verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Trick besteht darin, ein Element zu finden, das sich bereits auf der Seite befindet, und ein neues Element relativ dazu zu platzieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel m√∂chte ich eine kleine Unter√ºberschrift f√ºr die Seite hinzuf√ºgen, damit sie so aussieht: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9l/yj/pv/9lyjpvpe_vnccga8qcpmksgdsiy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie nun einen benutzerdefinierten HTML-Code wie folgt erstellen: </font></font><b><code>&lt;h3&gt; It's really cool - I promise!&lt;/h3&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> das Element am Ende hinzugef√ºgt </font></font><code>&lt;body&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und sieht nicht sehr gut aus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also brauche ich stattdessen</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie ein neues Element mit JavaScript</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">positionieren Sie es dann relativ zum Seitentitel.</font></font></b><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//    &lt;h3&gt; </span>
    <span class="hljs-keyword">var</span> h3 = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'h3'</span>);
    
    <span class="hljs-comment">//  </span>
    h3.innerText = <span class="hljs-string">"It's really cool - I promise!"</span>;
    
    <span class="hljs-comment">//     &lt;h1&gt;</span>
    <span class="hljs-keyword">var</span> title = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'h1'</span>);
    
    <span class="hljs-comment">//      &lt;h1&gt;</span>
    <span class="hljs-keyword">if</span> (title) {
      title.parentElement.insertBefore(h3, title.nextSibling);
    }
  })();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Endergebnis sehen Sie im obigen Screenshot. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist eine subtile Ironie - Sie verwenden benutzerdefiniertes HTML, um ein Element ( </font></font><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">zu erstellen, das ein </font><font style="vertical-align: inherit;">anderes Element ( </font></font><code>&lt;h3&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) erstellt. </font><font style="vertical-align: inherit;">Ja, es w√§re gro√üartig, wenn Sie in benutzerdefiniertem HTML definieren k√∂nnten, wo sich das Element befindet. </font><font style="vertical-align: inherit;">In der Tat w√§re es noch cooler, wenn es eine benutzerdefinierte Vorlage g√§be, mit der Sie ein Element erstellen k√∂nnen, mit der Sie einen Ort f√ºr das Element ausw√§hlen k√∂nnen. </font><font style="vertical-align: inherit;">Sie m√ºssen das Skript also √ºberhaupt nicht am Ende des Codes einf√ºgen! </font><font style="vertical-align: inherit;">Aber wir waren abgelenkt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platzieren Sie das Skript </font></font><code>&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">so hoch wie m√∂glich</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist teilweise auf das vorherige Szenario zur√ºckzuf√ºhren, verdient jedoch besondere Aufmerksamkeit, je nachdem, wie oft diese Situation auftritt. Manchmal werden Sie gefragt: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Platzieren Sie das Skript so viel wie oben in </font></font><code>&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">."</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sie m√ºssen das Skript also so fr√ºh wie m√∂glich auf der Seite ausf√ºhren. Je h√∂her das Element in </font></font><code>&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, desto schneller verarbeitet der Browser es als Teil der angezeigten Seite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Vorteil geht jedoch bei Verwendung von Google Tag Manager verloren. Wenn die GTM-Bibliothek geladen wurde, ist die Verarbeitung normalerweise </font></font><code>&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bereits beendet und der Browser rendert mit Macht und Haupt </font></font><code>&lt;body&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Aus diesem Grund macht der Versuch, ein Skript </font></font><code>&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">so hoch wie m√∂glich </font><font style="vertical-align: inherit;">hinzuzuf√ºgen, </font><font style="vertical-align: inherit;">keinen Sinn und schadet nur dem Endergebnis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum? Wenn Sie benutzerdefiniertes HTML erstellt haben, bildet es ein Element und bettet es ein</font></font><code>&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Zuerst muss der Browser benutzerdefiniertes HTML hinzuf√ºgen (Leistungstreffer), dann ein neues Element erstellen (ein weiterer Leistungstreffer) und schlie√ülich ein neues Element hinzuf√ºgen </font></font><code>&lt;head&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Leistungstreffer). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6v/1e/ca/6v1ecarthkdr-getr_yxd4rvwe8.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stattdessen m√ºssen Sie </font></font><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML </font><font style="vertical-align: inherit;">direkt zu </font><font style="vertical-align: inherit;">Benutzerdefiniert </font><font style="vertical-align: inherit;">hinzuf√ºgen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mit dieser Methode wird es am Ende hinzugef√ºgt </font></font><code>&lt;body&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und vom Browser so schnell wie m√∂glich ausgef√ºhrt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herunterladen von JavaScript-Code von Drittanbietern</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setzen wir das Experiment aus dem vorherigen Szenario fort. Angenommen, Sie haben einen Drittanbieter, dessen JavaScript-Code Sie auf die Site hochladen m√∂chten. Und Sie haben festgestellt, dass Sie </font></font><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Seite nur mit benutzerdefiniertem HTML </font><font style="vertical-align: inherit;">ein Element hinzuf√ºgen m√ºssen </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In diesem Fall m√ºssen Sie √ºberhaupt kein benutzerdefiniertes HTML verwenden.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Erstellen Sie stattdessen eine benutzerdefinierte Vorlage, die die InjectScript-API zum Laden der Bibliothek verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Benutzerdefinierte Vorlagen sind f√ºr das Einf√ºgen und Laden von JavaScript optimiert und bieten eine Berechtigung und ein Richtlinienmodell f√ºr eine sichere (sicherere) Einspeisung. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5x/nt/pc/5xntpcdulcvzhzli4mpkemfypjs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Zukunft wird dies die beste Implementierung sein</font></font><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dies hilft Ihnen bei anderen Skripten nicht, da der Standardsatz an JavaScript-Vorlagen recht begrenzt ist. </font><font style="vertical-align: inherit;">Wenn Sie beispielsweise einen benutzerdefinierten Ereignis-Listener hinzuf√ºgen m√∂chten, ben√∂tigen Sie daher ein benutzerdefiniertes HTML-Tag.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ñndern Sie ux</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eines der Dinge, die Sie mit benutzerdefiniertem HTML tun m√∂chten, ist das √Ñndern von UX (User Experience). </font><font style="vertical-align: inherit;">Zu diesem Zweck k√∂nnen Sie so etwas wie ein Cookie-Banner verwenden. Sie k√∂nnen die Stile auf der Seite √§ndern oder hinzuf√ºgen </font></font><code>&lt;iframe&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wodurch ein praktisches Widget f√ºr Ihre E-Commerce-Website geladen wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich m√∂chte Sie vor den Risiken warnen, die mit dem Google Tag Manager verbunden sind.</font></font><br>
<br>
<ol>
<li>  (, Brave)   /   GTM.     (     ,      ).</li>
<li>   / ,  .  ,        HTML      .  Google Tag Manager     ,  ,       ,  .         querySelector()   ,        ‚Äì  -  .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinzu kommen die oben genannten leistungsbezogenen Gr√ºnde. </font><font style="vertical-align: inherit;">Wenn Sie jedes dynamische Element in aufsteigender Reihenfolge hinzuf√ºgen, wird die Seitenleistung beeintr√§chtigt, was zu √§rgerlichen Dingen f√ºhrt: Ihre benutzerdefinierten Elemente werden angezeigt und verschwinden. </font><font style="vertical-align: inherit;">Die Qualit√§t der Daten verschlechtert sich (wenn der Iframe, den Sie dynamisch √§ndern, Zeit hat, bevor √Ñnderungen vorgenommen werden), bis hin zu Verz√∂gerungen und Einfrieren der Seite, insbesondere auf Websites mit nur einer Seite.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ber√ºcksichtigen Sie daher nicht die Verwendung von Google Tag Manager als Content-Management-System.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies war eine kurze √úbersicht √ºber die Funktionen von benutzerdefinierten HTML-Tags. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich 2012 mit mir selbst sprechen k√∂nnte, w√ºrde ich mir raten, die M√§ngel von benutzerdefinierten HTML-Tags so fr√ºh wie m√∂glich zu ber√ºcksichtigen und keine Illusionen √ºber die endlosen M√∂glichkeiten von Google Tag Manager zum Hinzuf√ºgen von Skripten zu machen. Vielmehr sollten Sie komplex denken - √ºber die Organisation, √ºber den gesamten Standort und √ºber den Kontext der Umgebung, in der GTM arbeitet -, bevor Sie riskante Entscheidungen treffen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt jedoch heute Anwendungen f√ºr benutzerdefiniertes HTML. Das Erstellen eines Klick-Listeners mit dem benutzerdefinierten HTML-Tag (document.addEventListener ()) kann sich als vorteilhafter herausstellen als das Ausf√ºhren eines benutzerdefinierten Codes mit GTM-Triggern.</font></font><br>
<img src="https://habrastorage.org/webt/vy/fe/oe/vyfeoepm7psdrv81dfpqzlt9suw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies liegt daran, dass der Klick-Trigger das Tag bei jedem Ausl√∂sen immer wieder ausf√ºhrt (immer wieder injiziert). Wenn Sie Ihren Klick-Listener in einem benutzerdefinierten HTML-Tag erstellen und damit eine sich wiederholende Aufgabe verarbeiten, vermeiden Sie Verwirrung w√§hrend der Implementierung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich b√ºrge auch energisch f√ºr die Bequemlichkeit von benutzerdefiniertem HTML bei der Unterst√ºtzung von Hypothesen. Sie k√∂nnen schnell ein neues Design oder eine neue Funktionalit√§t ausprobieren, indem Sie √Ñnderungen an einer bestimmten Stichprobe von Besuchern ver√∂ffentlichen. Wenn die Ergebnisse zufriedenstellend sind, k√∂nnen diese √Ñnderungen zur Aufnahme in den Hauptcode der Website vorgeschlagen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe jedoch, dass eines Tages benutzerdefinierte Vorlagen benutzerdefinierte HTML-Tags ersetzen werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Abschiedswort f√ºr diejenigen, die benutzerdefinierte HTML-Tags verwenden, insbesondere f√ºr diejenigen, die im Netzwerk gefundenen Code hinzuf√ºgen m√∂chten, ist das ber√ºhmte russische Sprichwort n√ºtzlich: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vertrauen, aber √ºberpr√ºfen. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie nicht wissen, was der Code tut, wenden Sie sich an einen vertrauten Webentwickler.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de488726/index.html">Interview mit dem Ingenieur von NIPTB Onega - dem Gewinner von WorldSkills Hi-Tech √ºber Arbeit, Meisterschaft und CAD</a></li>
<li><a href="../de488728/index.html">Zwei M√∂glichkeiten, den √ñlpreis zu erh√∂hen, oder Angriffe auf √ñl und Gas als Mittel zur Beeinflussung der Aktienindizes</a></li>
<li><a href="../de488730/index.html">Neue russische Standards f√ºr das Internet der Dinge, Smart Manufacturing und Smart City</a></li>
<li><a href="../de488732/index.html">Talentierter Herr Simon: Wie einzigartige F√§higkeiten und 3D-Druck den Produktionsprozess ver√§ndern k√∂nnen</a></li>
<li><a href="../de488736/index.html">Fernarbeit gewinnt an Dynamik</a></li>
<li><a href="../de488742/index.html">Sehen Sie die Architektur? Und ich sehe nicht, aber sie ist</a></li>
<li><a href="../de488744/index.html">Anleitung zum Arbeiten mit OpenAL in C ++. Teil 1: Ton abspielen</a></li>
<li><a href="../de488748/index.html">Erstellen Sie eine Todo-Anwendung mit Django. Teil 1</a></li>
<li><a href="../de488750/index.html">Dinosaur Walk: Zwei gro√üe Computer des 20. Jahrhunderts</a></li>
<li><a href="../de488752/index.html">Golang + Phaser3 = MMORPG - Wir bilden die Basis f√ºr die endlose Generation der Welt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>