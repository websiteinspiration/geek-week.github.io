<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñêüèæ ü§ôüèø ü•î Uso de formatos gr√°ficos modernos en proyectos web. ‚úåüèæ üçå üì¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eddie Osmani, en el art√≠culo "El precio de JavaScript en 2018 ", expres√≥ una idea valiosa: el tiempo requerido para procesar un script de 200 KB de ta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Uso de formatos gr√°ficos modernos en proyectos web.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/494710/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eddie Osmani, en el art√≠culo "El </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">precio de JavaScript en 2018</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", expres√≥ una idea valiosa: el tiempo requerido para procesar un script de 200 KB de tama√±o y procesar una imagen que tenga el mismo tama√±o var√≠a significativamente. El hecho es que al procesar el c√≥digo, el navegador necesita hacer un trabajo m√°s extenso que al prepararse para el uso de im√°genes. Esto es lo que dice el art√≠culo al respecto:</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una imagen JPEG debe decodificarse, rasterizarse y mostrarse. Y el paquete JS es necesario, si lo consideramos de manera simplista, cargar, analizar, compilar, ejecutar. De hecho, el motor tiene que resolver otros problemas en el proceso de procesamiento del c√≥digo JS. En general, debe tenerse en cuenta que se gastan muchos m√°s recursos del sistema en el procesamiento del c√≥digo JavaScript, cuyo tama√±o, en bytes, es comparable al tama√±o de otros materiales.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Estas palabras fueron escritas en 2018, pero a√∫n son m√°s que justas. Es cierto que, dada la situaci√≥n actual, la idea expresada aqu√≠ se percibe hoy de manera un poco diferente.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/8f/9m/t0/8f9mt0mjuf4ivefgknhgl8ykpge.png"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teniendo en cuenta que ahora ha estallado una pandemia en el mundo, not√© que mi conexi√≥n a Internet se ha vuelto inestable. Afortunadamente, debido a que Internet est√° protegida por excelentes especialistas que no conocen la fatiga, la mayor parte de la World Wide Web todav√≠a funciona bien. Pero en Internet, definitivamente algo est√° sucediendo. Uso una conexi√≥n de 100 Mbps, pero tengo la sensaci√≥n de estar sentado en un m√≥dem 3G.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto hace algunos cambios al razonamiento anterior. El hecho es que nuestros dispositivos pueden analizar y compilar JavaScript a la misma velocidad que podr√≠an hacerlo hace un par de semanas. Pero los datos ahora viajan a trav√©s de las redes m√°s lentamente. Como resultado, en este momento es extremadamente importante cu√°ntos datos que representan un determinado recurso se transmiten a trav√©s de la red cuando se carga este recurso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y los sitios suelen tener mucho m√°s de 200 KB de im√°genes. Una p√°gina con varios megabytes de im√°genes suele ser el caso. Muchos desarrolladores (¬°y yo tambi√©n!), Por regla general, no piensan en absoluto sobre el tama√±o de los materiales multimedia.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, lo cual es muy bueno, optimizar las im√°genes utilizadas en las p√°ginas web no es tan dif√≠cil. </font><font style="vertical-align: inherit;">En este art√≠culo hablaremos sobre c√≥mo usar formatos gr√°ficos modernos como WebP. </font><font style="vertical-align: inherit;">Las im√°genes guardadas en dichos formatos a menudo resultan ser 2-3 veces m√°s peque√±as que aquellas para las que todos usan los viejos y conocidos formatos antiguos (como JPG y PNG). </font><font style="vertical-align: inherit;">El uso de nuevos formatos puede mejorar seriamente la situaci√≥n.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumen general de formatos gr√°ficos modernos</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para mejorar el trabajo con gr√°ficos web, podemos usar los siguientes tres formatos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JPEG 2000 es un formato que es una versi√≥n mejorada de JPG normal. </font><font style="vertical-align: inherit;">Este formato fue desarrollado en 1997, principalmente para uso en cine y en medicina. </font><font style="vertical-align: inherit;">Le permite comprimir im√°genes m√°s fuertes que JPEG, pero con menos artefactos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JPEG XR es un formato relacionado con JPEG 2000. Fue desarrollado por Microsoft en 2009.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP es un formato que Google cre√≥ en 2010 para la web. </font><font style="vertical-align: inherit;">El objetivo principal de su desarrollo era utilizar m√©todos avanzados para optimizar im√°genes para reducir el tama√±o de los archivos. </font><font style="vertical-align: inherit;">WebP admite transparencia e incluso animaci√≥n.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hablaremos principalmente sobre WebP. </font><font style="vertical-align: inherit;">Formatos relacionados con JPEG, discutiremos d√≥nde se plantear√° el problema de la compatibilidad del navegador.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øCu√°nto puedes ganar usando formatos gr√°ficos alternativos?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hace unos meses, us√© la siguiente imagen en un material.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ebb/257/a61/ebb257a61229023d8aee7651708966c8.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La imagen utilizada en un material</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
realic√© algunos experimentos, considerando el uso de los formatos JPG y PNG para almacenar la imagen original. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimic√© las</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> opciones de imagen usando</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"> imagemin</font></a><font style="vertical-align: inherit;"> para descubrir lo que WebP me puede dar en lugar de estos formatos "retro". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los resultados fueron incre√≠bles.</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caracter√≠sticas de imagen</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Original</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webp</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivo .png (de Photoshop)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">742 Kb</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">61 Kb! </font><font style="vertical-align: inherit;">(92% menos)</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivo .png optimizado (despu√©s de Imagemin)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">178 Kb</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58 Kb! </font><font style="vertical-align: inherit;">(67% menos)</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivo en formato .jpg (de Photoshop)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">242 Kb</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50 Kb! </font><font style="vertical-align: inherit;">(79% menos)</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivo optimizado en formato .jpg (despu√©s de imagemin)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">151 Kb</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50 Kb! </font><font style="vertical-align: inherit;">(67% menos)</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Realic√© experimentos similares con muchas im√°genes. </font><font style="vertical-align: inherit;">Casi siempre result√≥ que los archivos WebP eran un 30-70% m√°s peque√±os que incluso las versiones optimizadas de archivos gr√°ficos de otros formatos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto puede plantear la cuesti√≥n de c√≥mo la conversi√≥n a WebP puede afectar las im√°genes SVG. </font><font style="vertical-align: inherit;">No realic√© tales experimentos con SVG. </font><font style="vertical-align: inherit;">SVG es un formato vectorial. </font><font style="vertical-align: inherit;">Esto significa que las im√°genes que contiene se basan en instrucciones matem√°ticas y no en informaci√≥n sobre el color de los p√≠xeles individuales. </font><font style="vertical-align: inherit;">Convertir una imagen SVG en WebP significa renunciar a la capacidad de escalar im√°genes SVG, lo cual, creo, es inaceptable. </font><font style="vertical-align: inherit;">Adem√°s, sospecho que tal conversi√≥n, en la mayor√≠a de los casos, conducir√° a un aumento en el tama√±o de los archivos.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compatibilidad del navegador</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para conocer c√≥mo los navegadores admiten ciertos formatos gr√°ficos, eche un vistazo a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caniuse.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El formato WebP es compatible con la mayor√≠a de los navegadores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b8d/e47/094/b8de470941379e70ba194f35566deb05.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soporte para el formato WebP por parte de los navegadores</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aunque el nivel de soporte para este formato es muy alto, es muy malo que Safari e Internet Explorer no lo admitan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y aqu√≠ hay informaci√≥n sobre el soporte de JPEG 2000.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f50/5b6/1e3/f505b61e34cd89c8e5ae6c336396f5ee.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soporte para el formato JPEG 2000 por parte de los navegadores</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Entonces, ahora Safari est√° de nuestro lado, pero Internet Explorer est√° nuevamente sin trabajo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© pasa con JPEG XR?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c39/c5c/ba1/c39c5cba1bb76927dee034cd17a893e6.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compatibilidad con el formato JPEG XR por parte de los navegadores</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Y aqu√≠ se distingui√≥ Internet Explorer. </font><font style="vertical-align: inherit;">Como resultado, al usar estos tres formatos, anulamos todos los navegadores existentes (KaiOS Browser no admite ninguno de estos formatos, y le pido disculpas por ignorarlo, pero ni siquiera s√© qu√© navegador es ) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora hablemos sobre c√≥mo elegir diferentes formatos de imagen dise√±ados para diferentes navegadores.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El elemento de la imagen al rescate.</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTML tiene dos elementos para generar im√°genes. El primero se puede comparar con una estrella pop internacional como Madonna. Es </font></font><code>img</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Y el segundo es como una nueva banda, conocida solo en c√≠rculos estrechos de amantes de la m√∫sica. Este es un elemento </font></font><code>picture</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El elemento </font></font><code>picture</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apareci√≥ en HTML mucho m√°s tarde que </font></font><code>img</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El objetivo principal de este nuevo elemento es permitir que los desarrolladores descarguen varios recursos gr√°ficos dependiendo de la resoluci√≥n de la pantalla o de si el navegador admite un determinado formato gr√°fico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As√≠ es como se ve el c√≥digo HTML que usa el elemento </font></font><code>picture</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">srcset</span>=<span class="hljs-string">"/images/cereal-box.webp"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/webp"</span> /&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">srcset</span>=<span class="hljs-string">"/images/cereal-box.jp2"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/jp2"</span> /&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/images/cereal-box.jxr"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/vnd.ms-photo"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un elemento </font></font><code>picture</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puede incluir muchos elementos secundarios </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y un elemento </font></font><code>img</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El navegador analiza secuencialmente estos elementos, seleccionar, en base a los atributos </font></font><code>type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(s </font></font><code>media</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), uno de ellos que pueden utilizarlo. Cuando se encuentra dicho elemento, el navegador descubre la direcci√≥n de la imagen usando el atributo </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y luego muestra esta imagen usando el elemento </font></font><code>img</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El atributo </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiene capacidades mucho mayores que el habitual </font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero, afortunadamente, podemos considerarlo como un an√°logo </font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. En general, los elementos </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">son algo as√≠ como configuraciones que corresponden a diferentes im√°genes. Se </font></font><code>img</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incluye la imagen que mejor coincide con el entorno en el que se ve la p√°gina.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En Chrome, por ejemplo, despu√©s de procesar el marcado anterior, el navegador llegar√° a algo m√°s o menos equivalente al siguiente c√≥digo:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/images/cereal-box.webp"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El uso de un conjunto de elementos consecutivos </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">significa que al menos uno de ellos ser√° adecuado en cada navegador. </font><font style="vertical-align: inherit;">Entonces, la mayor√≠a de los navegadores usan una imagen webp, Safari cargar√° una imagen jp2, es decir, una imagen jxr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es apropiado recordar que Internet Explorer no admite el elemento </font></font><code>picture</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Este art√≠culo es demasiado nuevo para este navegador. </font><font style="vertical-align: inherit;">Pero, a pesar de esto, el fragmento de marcado anterior en IE funcionar√° como se esperaba. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El hecho es que cuando el navegador se topa con un elemento desconocido para √©l, lo considera como un elemento </font></font><code>div</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Como resultado, al analizar nuestro c√≥digo, IE ve muchos elementos </font></font><code>div</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, as√≠ como una etiqueta</font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que contiene la ruta a la imagen jxr. </font><font style="vertical-align: inherit;">Y resulta que este es el formato que admite Internet Explorer.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alternativa simplificada</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El fragmento de c√≥digo anterior es extremadamente bueno porque le permite usar formatos gr√°ficos modernos en todos los navegadores actuales. </font><font style="vertical-align: inherit;">Pero el uso de dicho c√≥digo se basa en la suposici√≥n de la existencia de esas im√°genes a las que tiene enlaces. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si crea tales im√°genes usted mismo, debe invertir mucho trabajo manual en ellas. </font><font style="vertical-align: inherit;">Si los genera autom√°ticamente, esto puede aumentar significativamente el tiempo de construcci√≥n del proyecto. </font><font style="vertical-align: inherit;">El procesamiento de gr√°ficos, como saben, se convierte en un proceso muy lento cuando se trata de muchas im√°genes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo muy pocos visitantes de mi blog usan Internet Explorer (en los √∫ltimos 7 d√≠as solo 3 personas con IE intentaron verlo, lo que represent√≥ el 0.02% del tr√°fico). </font><font style="vertical-align: inherit;">Por lo tanto, decid√≠ usar una versi√≥n simplificada de la soluci√≥n anterior:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">srcset</span>=<span class="hljs-string">"/images/cereal-box.webp"</span> /&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/images/cereal-box.jpg"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Doy una imagen webp compacta a los navegadores que admiten este formato (Chrome, Firefox, Edge), y a los navegadores que no admiten este formato (IE, Safari), ofrezco un legado del pasado: una imagen jpeg. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde mi punto de vista, este es un ejemplo de mejora progresiva. </font><font style="vertical-align: inherit;">El proyecto permanece operativo en navegadores antiguos, aunque la carga de im√°genes lleva m√°s tiempo. </font><font style="vertical-align: inherit;">Este es un compromiso que me conviene. </font><font style="vertical-align: inherit;">(Es cierto, espero que el soporte de WebP aparezca pronto tambi√©n en los navegadores de Apple).</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comprobando el estado de la soluci√≥n</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las herramientas de desarrollador siempre supondr√°n que la imagen contiene lo que se escribi√≥ originalmente en el atributo de </font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etiqueta </font></font><code>img</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Si marca el elemento usando la pesta√±a </font></font><code>Elements</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, puede ver que la p√°gina est√° usando una imagen jpg. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para verificar la operatividad de todo esto, es mejor, como me parece, hacer clic derecho en la imagen y seleccionar el elemento </font></font><code>  ‚Ä¶</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En Chrome en el </font><font style="vertical-align: inherit;">men√∫ que aparece </font><font style="vertical-align: inherit;">cuando se ejecuta el comando, el sistema deber√≠a ofrecer guardar el archivo con la extensi√≥n </font></font><code>.webp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pero en Safari ser√° un archivo jpeg. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para saber exactamente qu√© archivo gr√°fico se recibi√≥ del servidor cuando se carg√≥ la p√°gina, puede consultar la barra de herramientas del desarrollador </font></font><code>Network</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convierte archivos de imagen a formato WebP</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google ha creado un conjunto de herramientas destinadas a trabajar con archivos webp. </font><font style="vertical-align: inherit;">Una de esas herramientas se llama </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cwebp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le permite convertir archivos gr√°ficos de otros formatos a WebP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si est√° utilizando MacOS, puede instalar este kit de herramientas utilizando Homebrew:</font></font><br>
<br>
<pre><code class="plaintext hljs">brew install webp
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En otras plataformas, creo que ser√° necesario descargar el </font><font style="vertical-align: inherit;">paquete </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libwebp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> apropiado </font><font style="vertical-align: inherit;">del repositorio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de instalar las herramientas, puede usarlas as√≠:</font></font><br>
<br>
<pre><code class="plaintext hljs">cwebp -q 80 cereal.png -o cereal.webp
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere este comando:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La bandera le </font></font><code>-q 80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permite configurar la calidad de la imagen. </font><font style="vertical-align: inherit;">Su valor var√≠a de 1 (peor calidad) a 100 (mejor). </font><font style="vertical-align: inherit;">Puedes experimentar con diferentes valores. </font><font style="vertical-align: inherit;">Descubr√≠ que es mejor preguntar algo en la regi√≥n de 70-80.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El nombre del archivo </font></font><code>cereal.jpg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es la imagen original que debe convertirse a webp.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La construcci√≥n </font></font><code>-o cereal.webp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">establece la ruta al archivo de salida.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nadie quiere perder el tiempo escribiendo dichos comandos manualmente. </font><font style="vertical-align: inherit;">Afortunadamente, esta tarea puede ser automatizada.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usar formatos de imagen modernos en aplicaciones React</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un componente es una excelente manera de ignorar algunas de las rarezas del elemento </font></font><code>&lt;picture&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Yo uso React componentes para esto. </font><font style="vertical-align: inherit;">En mi opini√≥n, es muy conveniente. </font><font style="vertical-align: inherit;">As√≠ es como se ve:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> ImgWithFallback = ({<font></font>
&nbsp;&nbsp;src,<font></font>
&nbsp;&nbsp;fallback,<font></font>
&nbsp;&nbsp;type = <span class="hljs-string">'image/webp'</span>,<font></font>
&nbsp;&nbsp;...delegated<font></font>
}) =&gt; {<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">return</span> (
&nbsp;&nbsp;&nbsp;&nbsp;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">srcSet</span>=<span class="hljs-string">{src}</span> <span class="hljs-attr">type</span>=<span class="hljs-string">{type}</span> /&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{fallback}</span> {<span class="hljs-attr">...delegated</span>} /&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span></span><font></font>
&nbsp;&nbsp;);<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usar el componente es </font></font><code>ImgWithFallback</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muy similar a trabajar con una etiqueta normal </font></font><code>img</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;ImgWithFallback<font></font>
&nbsp;&nbsp;src=<span class="hljs-string">"/images/cereal.webp"</span>
&nbsp;&nbsp;fallback=<span class="hljs-string">"/images/cereal.png"</span>
&nbsp;&nbsp;alt=<span class="hljs-string">"A photo showing the expiration date on a box of Lucky Charms"</span><font></font>
/&gt;<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El uso de formatos gr√°ficos modernos con componentes estilizados.</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si usa bibliotecas </font></font><code>styled-components</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>emotion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puede estar acostumbrado a un dise√±o de imagen especial:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> FancyImg = styled.img<span class="hljs-string">`
&nbsp;&nbsp;whatever: stuff;
`</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo bueno es que funciona con nuestro componente </font></font><code>ImgWithFallback</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Puede envolverlo en el contenedor apropiado como cualquier otro componente:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> FancyImg = styled(ImgWithFallback)<span class="hljs-string">`
&nbsp;&nbsp;whatever: stuff;
`</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La raz√≥n de la operatividad de este dise√±o es c√≥mo funciona exactamente la estructura auxiliar </font></font><code>styled</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Genera una clase y la incrusta en la hoja de estilo del documento. </font><font style="vertical-align: inherit;">Luego, el nombre de la clase generada se pasa al componente como una propiedad:</font></font><br>
<br>
<pre><code class="css hljs">&lt;<span class="hljs-selector-tag">ImgWithFallback</span> <span class="hljs-selector-tag">className</span>="<span class="hljs-selector-tag">sc-some-generated-thing</span>" /&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delegamos todas las propiedades a la etiqueta secundaria </font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, como resultado, los estilos correctos se aplican a la imagen, como suele suceder. </font><font style="vertical-align: inherit;">Todo funciona exactamente como cabr√≠a esperar.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando el paquete gatsby-image</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si est√° utilizando Gatsby, tenga en cuenta que el paquete </font></font><code>gatsby-image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, cuando se usa normalmente, ya usa muchas optimizaciones de imagen. </font><font style="vertical-align: inherit;">Esto incluye la conversi√≥n de im√°genes a formato webp (aunque, para esto, debe habilitar la opci√≥n adecuada). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El paquete </font></font><code>gatsby-image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no pretende ser un reemplazo </font></font><code>img</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Su uso puede no ser tan simple, sus mecanismos internos pueden generar sorpresas que dificulten la vida del desarrollador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si est√° interesado en este paquete, eche un vistazo a su </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentaci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contras de WebP</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El √∫nico inconveniente real de webp que logr√© encontrar es que es muy inconveniente trabajar con archivos de este formato. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mayor√≠a de los paquetes de im√°genes de escritorio a√∫n no lo admiten. </font><font style="vertical-align: inherit;">Por ejemplo, no puedo abrir archivos webp en Vista previa en MacOS. </font><font style="vertical-align: inherit;">Esto significa, digamos que si guardo una imagen webp de una p√°gina web, ¬°no podr√© verla en mi computadora! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conversi√≥n de archivos webp a archivos jpeg es un proceso bastante simple. </font><font style="vertical-align: inherit;">En Internet puede encontrar muchos servicios gratuitos que realizan dicha conversi√≥n. </font><font style="vertical-align: inherit;">Pero, de nuevo, esto no es tan conveniente como trabajar con formatos gr√°ficos tradicionales. </font><font style="vertical-align: inherit;">Si su sitio ofrece a los usuarios descargar archivos gr√°ficos de √©l, puede decidir que no necesita cambiar a webp.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumen</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Realmente me gusta el hecho de que usando webp pude reducir el tama√±o de las im√°genes en mi blog en aproximadamente un 50%. Adem√°s del hecho de que en nuestros tiempos dif√≠ciles esto mejora la experiencia del usuario de trabajar con √©l, tambi√©n espero que esto me permita ahorrar un poco en el pago del tr√°fico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, la idea de convertir manualmente archivos de imagen a formato webp parece poco pr√°ctica. Ya estoy estudiando la cuesti√≥n de c√≥mo convertir autom√°ticamente archivos jpg y png a este formato. Idealmente, este proceso deber√≠a ocurrir completamente desapercibido por el desarrollador, durante el ensamblaje del sitio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los creadores de proyectos web generalmente no est√°n particularmente interesados ‚Äã‚Äãen las caracter√≠sticas del uso de nuevos formatos de imagen. </font><font style="vertical-align: inherit;">Pero creo que entender este problema es muy √∫til. </font><font style="vertical-align: inherit;">Despu√©s de todo, usar WebP es probablemente la forma m√°s f√°cil de reducir el tama√±o de su proyecto web en cientos de kilobytes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Queridos lectores! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øUtiliza el formato WebP?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es494690/index.html">Inteligencia artificial contra coronavirus</a></li>
<li><a href="../es494692/index.html">Inyecciones indoloras con agujas 4D</a></li>
<li><a href="../es494700/index.html">Escenarios de infecci√≥n en ciudades espec√≠ficas basadas en el conjunto de datos de movimiento de personas en toda Rusia</a></li>
<li><a href="../es494702/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 408 (23-29 de marzo de 2020)</a></li>
<li><a href="../es494704/index.html">CMI5 o Vida despu√©s de SCORM</a></li>
<li><a href="../es494712/index.html">5 mejores pr√°cticas para usar ganchos React en producci√≥n</a></li>
<li><a href="../es494714/index.html">Sobre el impacto positivo de las fuentes variables en el rendimiento del proyecto web</a></li>
<li><a href="../es494716/index.html">Todo sobre la palabra clave autom√°tica en CSS</a></li>
<li><a href="../es494718/index.html">Noticias del mundo de OpenStreetMap No. 504 (10.03.2020-16.03.2020)</a></li>
<li><a href="../es494720/index.html">Mi hoja de trucos de pandas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>