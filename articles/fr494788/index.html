<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤹🏻 🍻 👌🏼 Fonctionnement du courrier électronique ⚜️ 👍🏾 🐵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="C'est le début d'un long cours sur le fonctionnement des serveurs de messagerie. Je ne poursuis pas l'objectif d'apprendre rapidement à quelqu'un à tr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Fonctionnement du courrier électronique</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494788/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est le début d'un long cours sur le fonctionnement des serveurs de messagerie. </font><font style="vertical-align: inherit;">Je ne poursuis pas l'objectif d'apprendre rapidement à quelqu'un à travailler avec des serveurs de messagerie. </font><font style="vertical-align: inherit;">Il y aura beaucoup d'informations supplémentaires concernant ces questions que nous rencontrerons en cours de route, car j'essaie de faire le cours principalement pour ceux qui ne font que leurs premiers pas.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vb/cc/ho/vbcchoia9prwmtumxdulq7iftg0.png" alt="image"><br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Préface</font></font></b><div class="spoiler_text">  ,      .            ,   -  , -   .       ,    . ,    ,   ,     .       , , ,  , ,   , -   , -    .<br>
<br>
     -         .     ,       ?        ,    ,  ? -     , -     (    )     .<br>
<br>
     .       IT ,        .      .                  .     ,     .      ,            .<br>
<br>
  ,         ,     .    ,      ,   ,     .     ,    .    ,         .             .<br>
<br>
P.S.  ,          .    ,     —  ,   . <br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vidéo</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/dDb9j9UqK2E" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suivant&gt; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modes de fonctionnement des serveurs de messagerie</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour pouvoir travailler avec le courrier électronique, vous avez besoin d'un client de messagerie. Il peut s'agir d'un client Web, par exemple gmail, owa, roundcube ou une application sur un ordinateur - Outlook, Thunderbird, etc. Supposons que vous êtes déjà inscrit sur un service de messagerie et que vous devez configurer votre client de messagerie. Vous ouvrez le programme et il vous demande des données: nom du compte, votre adresse e-mail et mot de passe.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gd/wm/wa/gdwmwaptbjjvfyjlmtyiiv_mevc.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir entré ces données, votre client de messagerie essaiera de trouver des informations sur votre serveur de messagerie. Ceci est fait pour simplifier la configuration de la connexion au serveur, car la plupart des utilisateurs ne connaissent pas les adresses et les protocoles de connexion. Pour ce faire, les clients de messagerie utilisent différentes méthodes de recherche d'informations sur le serveur et les paramètres de connexion. Ces méthodes peuvent varier en fonction du client de messagerie. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wb/y8/oj/wby8ojpp1cg5_el9jrs4hvvqg5u.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, Outlook utilise la méthode «découverte automatique», le client contacte le serveur DNS et demande une entrée de découverte automatique spécifique associée au domaine de messagerie que vous avez spécifié dans les paramètres de votre client de messagerie. Si l'administrateur a configuré cet enregistrement sur le serveur DNS, il pointe vers le serveur Web.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ti/5u/fp/ti5ufpfwlmxducyjy7t5giaqvu8.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois que le client de messagerie a découvert l'adresse du serveur Web, il le contacte et trouve un fichier pré-préparé avec les paramètres de connexion au serveur de messagerie au format XML. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/jy/kj/imjykj-4cnqzqmwa5ct6p8onn6c.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas de Thunderbird, le client de messagerie se passe de la recherche DNS de l'enregistrement DNS de découverte automatique et essaie immédiatement de se connecter au serveur Web de configuration automatique. et le nom du domaine spécifié. Et il essaie également de trouver un fichier de paramètres de connexion au format XML sur un serveur Web.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ig/uf/mz/igufmzx7ogem9gpc4utk6aaeut4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le client de messagerie ne trouve pas le fichier avec les paramètres nécessaires, il essaiera de deviner les paramètres parmi ceux fréquemment utilisés. Par exemple, si le domaine s'appelle example.com, le serveur de messagerie vérifiera s'il existe des serveurs portant les noms imap.example.com et smtp.example.com. S'il le trouve, il l'enregistrera dans les paramètres. Si le client de messagerie ne peut en aucun cas déterminer l'adresse du serveur de messagerie, il invitera l'utilisateur à saisir lui-même les données de connexion.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/u6/t3/wo/u6t3wolilnuwmn6v7dp72aykxr4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, vous remarquerez 2 champs pour les serveurs - l'adresse du serveur de courrier entrant et l'adresse du serveur de courrier sortant. En règle générale, dans les petites organisations, ces adresses coïncident, même si elles sont indiquées par des noms DNS différents, et dans les grandes entreprises, elles peuvent être des serveurs différents. Mais peu importe qu'il s'agisse du même serveur ou non - les services derrière eux sont différents. Postfix &amp; Dovecot est l'un des ensembles de services de messagerie les plus populaires. Postfix agit comme un serveur de courrier sortant (MTA - agent de transfert de courrier) et Dovecot agit comme un serveur de courrier entrant (MDA - agent de distribution de courrier). Par son nom, vous pouvez deviner que Postfix est utilisé pour envoyer du courrier et Dovecot est utilisé pour recevoir du courrier par le client de messagerie. Les serveurs de messagerie eux-mêmes communiquent entre eux via le protocole SMTP - c'est-à-dire Dovecot (MDA) est nécessaire pour les utilisateurs.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/pq/dw/rgpqdwa6p3xqgkawkbi5_2bss-a.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons que nous ayons configuré une connexion à notre serveur de messagerie. Essayons d'envoyer un message. Dans le message, nous indiquons votre adresse et l'adresse du destinataire. Maintenant, pour remettre le message, votre client de messagerie enverra un message à votre serveur de messagerie sortant. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xo/8y/c9/xo8yc9hqesmmen_imelwid8fhbo.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque votre serveur reçoit un message, il essaie de trouver à qui remettre ce message. Votre serveur ne peut pas connaître par cœur les adresses de tous les serveurs de messagerie, il se tourne donc vers DNS afin de trouver un enregistrement MX spécial - pointant vers le serveur de messagerie pour ce domaine. Ces entrées peuvent varier pour différents sous-domaines.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ac/bl/t9/acblt9ocaounyp2tbp630kurvi0.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir trouvé l'adresse du serveur du destinataire, il envoie votre message via SMTP à cette adresse, où le serveur de messagerie du destinataire (MTA) recevra le message et le placera dans un répertoire spécial, qui examine également le service responsable de la réception des messages (MDA) par les clients. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qg/w0/2m/qgw02m9vwo250tvslakgxyzkblq.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La prochaine fois que le client de messagerie du destinataire demandera au serveur de messagerie entrant de nouveaux messages, le MDA lui enverra votre message.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais comme les serveurs de messagerie fonctionnent sur Internet et que tout le monde peut s'y connecter et envoyer des messages, ainsi que les serveurs de messagerie sont largement utilisés par diverses sociétés pour échanger des données importantes, c'est une bonne idée pour les attaquants, en particulier pour les spammeurs. </font><font style="vertical-align: inherit;">Par conséquent, dans les serveurs de messagerie modernes, il existe de nombreuses mesures supplémentaires pour confirmer l'expéditeur, rechercher les spams, etc. </font><font style="vertical-align: inherit;">Et je vais essayer de révéler un grand nombre de ces sujets dans les parties suivantes.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr494776/index.html">PostgreSQL Antipatterns: calcul des conditions en SQL</a></li>
<li><a href="../fr494780/index.html">Révélations et craintes d'un employé d'Amazon à l'ère du coronavirus</a></li>
<li><a href="../fr494782/index.html">Classer des images sur Android à l'aide de TensorFlow Lite et Azure Custom Vision</a></li>
<li><a href="../fr494784/index.html">DBLog - un cadre commun pour la capture de données modifiées</a></li>
<li><a href="../fr494786/index.html">Prise en charge RTOS de type MitM dans GDB</a></li>
<li><a href="../fr494792/index.html">Yandex.Routing: comment nous avons plongé dans la logistique et décidé de changer l'avenir</a></li>
<li><a href="../fr494794/index.html">Nous avons les bras longs</a></li>
<li><a href="../fr494798/index.html">Snowden: la pandémie prendra fin, mais la surveillance de la population restera</a></li>
<li><a href="../fr494800/index.html">Ingénierie inverse du protocole émetteur-récepteur infrarouge USB chinois</a></li>
<li><a href="../fr494804/index.html">"Désolé, j'ai reconnu ..." ou reconnaissez les framboises et les contrôleurs à l'aide de l'API de détection d'objets Tensorflow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>