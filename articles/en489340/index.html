<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîñ ü§ûüèæ üéÄ As the maximum unit for transmitting information on the Internet became 1500 bytes üòÑ ‚ûø üà∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ethernet is everywhere, and tens of thousands of manufacturers produce equipment with its support. However, almost all of these devices have one commo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>As the maximum unit for transmitting information on the Internet became 1500 bytes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489340/"><img src="https://habrastorage.org/getpro/habr/post_images/e03/a1c/027/e03a1c027a2b0fee98e0474792712a88.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ethernet is everywhere, and tens of thousands of manufacturers produce equipment with its support. </font><font style="vertical-align: inherit;">However, almost all of these devices have one common number - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MTU</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="bash hljs">$ ip l<font></font>
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 state UNKNOWN<font></font>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<font></font>
2: enp5s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 state UP <font></font>
    link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MTU (Maximum Transmission Unit) defines the maximum size of an individual data packet. In the general case, when you exchange messages with devices on your LAN, the MTU will have a size of about 1500 bytes, and the entire Internet will also work almost entirely with a size of 1500 B. However, this does not mean that these communication technologies cannot transmit larger packets.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, in 802.11 (wider known as WiFi), the MTU is 2304 bps, and if your network uses FDDI, then your MTU is 4352 bps. </font><font style="vertical-align: inherit;">Ethernet itself has the concept of "giant frames", when the MTU can be assigned a size of up to 9000 bps (with the support of this mode of NIC, switches and routers). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, on the Internet this is not particularly necessary. </font><font style="vertical-align: inherit;">Since the main Internet trunks are mainly Ethernet connections, the de facto unofficial maximum packet size is set to 1500 B in order to avoid packet fragmentation on other devices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The number 1500 in itself is strange - one would expect that the constants in the computer world would be based on powers of two, for example. </font><font style="vertical-align: inherit;">So where did 1500 B come from and why are we still using them?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Magic number</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first major breakthrough of Ethernet into the world occurred in the form of standards </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10BASE-2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (thin) and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10BASE-5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (thick), the numbers in which indicate how many hundreds of meters a single network segment can cover. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since there were many competing protocols at that time, and iron had its own limitations, the creator of the format admits that the packet buffer memory requirements played a role in the appearance of the magic number 1500: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Looking back, it becomes clear that a larger maximum might have been the best solution, however, if we increased the cost of NICs (network controllers) in the early stages, this would prevent Ethernet from spreading so widely. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, this is not the whole story. In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">work</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúEthernet: Distributed Packet Switching in Local Computer Networks‚Äù 1980, one of the earliest analyzes of the efficiency of using large packet packets in networks. At that time, this was especially important for Ethernet networks, since they either could connect all systems with one coaxial cable, or consist of hubs capable of sending one packet at a time to all nodes of one segment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was necessary to choose a number that would give not too high delays when transmitting messages in segments (sometimes quite busy), and at the same time would not increase the number of packets too much. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apparently, the engineers at that time chose the number 1500 B (about 12000 bits) as the most ‚Äúsafe‚Äù option.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since then, various other messaging systems have appeared and disappeared, but among them Ethernet had the lowest MTU value with its 1500 B. To exceed the minimum MTU value in the network means either cause packet fragmentation or engage in PMTUD [search for the maximum packet size for selected path]. </font><font style="vertical-align: inherit;">Both options had their own particular problems. </font><font style="vertical-align: inherit;">Even if sometimes major OS manufacturers omitted the MTU value even lower.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance factor</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We now know that the MTU on the Internet is limited to 1,500 B, for the most part due to old latency and hardware limitations. How much does this affect Internet performance? </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/abc/7a7/252/abc7a725277cc8cea3fcd7ef2031d8f3.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you look at the data from a large Internet traffic exchange point AMS-IX, we will see that at least 20% of the transmitted packets have a maximum size. You can also look at the total LAN traffic: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/781/958/d18/781958d18d8acef10c22a90468d9a13a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you combine both graphs, you get something like the following (traffic estimation for each range of packet sizes): </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/582/396/30b/58239630b238bc207cb768753d6211d4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or, if you look at the traffic of all these headers and other service information, we will get the same graph with another scale:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3a8/bdb/a77/3a8bdba77bc55077fe2eb5095454a4d8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quite a large part of the bandwidth is spent on headers for packets from the largest size class. </font><font style="vertical-align: inherit;">Since at the peak of traffic the largest overhead costs are 246 Gb / s, it can be assumed that if we all switched to ‚Äúgiant frames‚Äù when this possibility still existed, these overheads would be only about 41 Gb / s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But, I think, today for the largest part of the Internet this train has already left. </font><font style="vertical-align: inherit;">And although some providers work with MTU equal to 9000, most of it does not support it, and trying to change something globally on the Internet has proved to be extremely difficult from time to time.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489320/index.html">Practice using AI. Workshop ‚ÄúAnalysis of drone images to identify damaged houses‚Äù</a></li>
<li><a href="../en489326/index.html">Reflections on Effective Enterprise Testing</a></li>
<li><a href="../en489328/index.html">Null sneaked up: breaking Scala Option using Java</a></li>
<li><a href="../en489332/index.html">Essential Assistants in the Intelligence of the Most Effective Intelligence Service in the World (Part 3)</a></li>
<li><a href="../en489336/index.html">Interface Bikes Toxic Grandfather. ‚ÄúLearn, study and study again‚Äù (s1 e3)</a></li>
<li><a href="../en489342/index.html">Creation of fault-tolerant IT infrastructure. Part 4. Deploying Cisco 3850 Switches for Gateway Routing</a></li>
<li><a href="../en489344/index.html">Leaving no trace</a></li>
<li><a href="../en489352/index.html">What can I learn about Domain Driven Design in 10 minutes?</a></li>
<li><a href="../en489354/index.html">IdentityServer4. Basic concepts. OpenID Connect, OAuth 2.0, and JWT</a></li>
<li><a href="../en489356/index.html">CI / CD on AWS, Azure and Gitlab. New course from OTUS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>