<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßô üëØ üßñ Redux vs MobX sans confusion üòá üöµüèæ üßëüèΩ‚Äçü§ù‚Äçüßëüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ces derni√®res ann√©es, j'ai souvent utilis√© Redux , mais r√©cemment, j'utilise MobX comme alternative √† la gestion des √©tats. Les alternatives Redux sem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Redux vs MobX sans confusion</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489854/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/7e/na/dt7enamgfkxspaajcdst26auxj8.jpeg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces derni√®res ann√©es, j'ai souvent utilis√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais r√©cemment, j'utilise </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MobX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comme alternative √† la gestion des √©tats. Les alternatives Redux semblent se transformer naturellement en d√©sordre. Les gens ne savent pas quelle solution choisir. Le probl√®me n'est pas n√©cessairement Redux vs MobX. Chaque fois qu'il existe une alternative, les gens sont curieux de savoir comment r√©soudre au mieux leur probl√®me. J'√©cris ces lignes pour √©liminer la confusion autour des solutions de gestion d'√©tat Redux et MobX.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De quoi parlera cet article? </font><font style="vertical-align: inherit;">Tout d'abord, je veux revenir bri√®vement sur le probl√®me r√©solu par la biblioth√®que de gestion d'√©tat. </font><font style="vertical-align: inherit;">Au final, tout ira bien si vous utilisez simplement this.setState () et this.state dans React ou sa variation dans une autre biblioth√®que de niveau pr√©sentation ou dans un environnement SPA. </font><font style="vertical-align: inherit;">Deuxi√®mement, je continuerai √† vous donner un aper√ßu des deux solutions, en montrant la coh√©rence et les diff√©rences. </font><font style="vertical-align: inherit;">Enfin et surtout, si vous avez d√©j√† une application qui fonctionne avec MobX ou Redux, je veux vous parler de la refactorisation d'une biblioth√®que d'√©tat √† une autre.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contenu:</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quel probl√®me r√©solvons-nous?</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle est la diff√©rence entre REDUX et MOBX?</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Courbe d'apprentissage de l'√©tat de r√©action</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©flexions r√©centes sur le sujet</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Davantage de ressources</font></font></a></li>
</ol><br>
<a name="WhatProblem"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quel probl√®me r√©solvons-nous?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout le monde veut avoir une gestion d'√©tat dans l'application. </font><font style="vertical-align: inherit;">Mais quel probl√®me cela r√©sout-il pour nous? </font><font style="vertical-align: inherit;">La plupart des gens commencent par une petite application et impl√©mentent d√©j√† une biblioth√®que de gestion d'√©tat. </font><font style="vertical-align: inherit;">Tout le monde en parle, non? </font><font style="vertical-align: inherit;">Redux! </font><font style="vertical-align: inherit;">MobX! </font><font style="vertical-align: inherit;">Mais la plupart des applications n'ont pas besoin d'une gestion d'√©tat ambitieuse d√®s le d√©part. </font><font style="vertical-align: inherit;">C'est encore plus dangereux car la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plupart des gens ne seront jamais confront√©s √† des probl√®mes tels que des biblioth√®ques telles que Redux ou MobX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le statu quo est en train de cr√©er une application frontale avec des composants. </font><font style="vertical-align: inherit;">Les composants ont un √©tat interne. </font><font style="vertical-align: inherit;">Dans une application croissante, la gestion de l'√âtat peut devenir chaotique avec un √âtat local, car:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un composant doit partager l'√©tat avec un autre composant</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un composant doit modifier l'√©tat d'un autre composant</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä un moment donn√©, il devient de plus en plus difficile de parler de l'√©tat de l'application. Cela devient une toile sale d'objets d'√©tat et de mutations d'√©tat dans votre hi√©rarchie de composants. Dans la plupart des cas, les objets d'√©tat et les mutations d'√©tat ne sont pas n√©cessairement associ√©s √† un composant. Ils sont li√©s via votre arborescence de composants et vous devez augmenter et diminuer l'√©tat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution consiste donc √† introduire une biblioth√®que de gestion des √©tats telle que MobX ou Redux. Il vous donne des outils pour enregistrer votre √©tat, changer d'√©tat et recevoir des mises √† jour d'√©tat. Vous avez un endroit pour rechercher, un endroit pour changer et un endroit pour recevoir les mises √† jour de statut. Il suit le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">principe d'une seule source de v√©rit√©.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cela facilite la r√©flexion sur les changements de votre √©tat et de vos conditions, car ils se s√©parent de vos composants. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les biblioth√®ques de gestion des √©tats telles que Redux et MobX ont souvent des modules compl√©mentaires pour les utilitaires, par exemple, pour Angular, ils ont angular-redux et mobx-angular pour donner acc√®s √† l'√©tat √† vos composants. </font><font style="vertical-align: inherit;">Souvent, ces composants sont appel√©s </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">composants conteneuris√©s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou, pour √™tre plus pr√©cis, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">composants connexes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">De n'importe o√π dans votre hi√©rarchie de composants, vous pouvez acc√©der √† l'√©tat et le modifier en mettant √† jour votre composant vers un composant connexe.</font></font><br>
<br>
<a name="whats-the-difference-between-redux-and-mobx"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle est la diff√©rence entre REDUX et MOBX?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de plonger dans la diff√©rence, je veux vous parler des similitudes entre MobX et Redux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les deux biblioth√®ques sont utilis√©es pour contr√¥ler l'√©tat dans les applications JavaScript. Ils ne sont pas n√©cessairement associ√©s √† une biblioth√®que comme Angular. Ils sont √©galement utilis√©s dans d'autres biblioth√®ques telles que ReactJs et VueJs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous choisissez l'une des solutions de gestion d'√©tat, vous ne rencontrerez pas de verrouillage de fournisseur. Vous pouvez √† tout moment passer √† une autre solution de gestion des √©tats. Vous pouvez mettre √† niveau MobX vers Redux ou de Redux vers MobX. Plus tard, je vous montrerai comment cela se produit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redux con√ßu par </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan Abramov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrew Clark</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un d√©riv√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de l'architecture Flux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Contrairement √† Flux, il utilise un r√©f√©rentiel sur plusieurs pour maintenir l'√©tat. De plus, au lieu d'un r√©partiteur, il utilise des fonctions pures pour changer d'√©tat. Si vous n'√™tes pas familier avec le flux et que vous √™tes nouveau dans la gestion des √©tats, ne vous inqui√©tez pas du dernier paragraphe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redux est influenc√© par les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">principes de la programmation fonctionnelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (FP). La FP peut √™tre effectu√©e en JavaScript, mais beaucoup de gens viennent d'un arri√®re-plan orient√© objet, comme Java, et ont du mal √† accepter les principes de la programmation fonctionnelle en premier lieu. Cela explique plus tard pourquoi MobX peut √™tre plus facile √† apprendre en tant que d√©butant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que Redux inclut une programmation fonctionnelle, il utilise </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des fonctions pures</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une fonction pure est une fonction qui re√ßoit une entr√©e, renvoie une sortie et n'a pas d'autres d√©pendances que les m√™mes fonctions. </font><font style="vertical-align: inherit;">Une telle fonction produit toujours la m√™me sortie avec la m√™me entr√©e et n'a aucun effet secondaire. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus de d√©tails</font></font></a></blockquote><br>
<pre><code class="javascript hljs">(state, action) =&gt; newState</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Votre √©tat Redux </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est inchang√©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Au lieu de muter, vous retournez toujours un nouvel √©tat. </font><font style="vertical-align: inherit;">Vous n'effectuez pas de mutations d'√©tat et ne d√©pendez pas des r√©f√©rences d'objet.</font></font><br>
<br>
<pre><code class="javascript hljs">
<span class="hljs-comment">//     Redux,     </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">state, action</span>) </span>{
  <span class="hljs-keyword">return</span> state.authors.push(action.author);<font></font>
}<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">state, action</span>) </span>{
  <span class="hljs-keyword">return</span> [ ...state.authors, action.author ];<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, dans Redux idiomatique, votre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tat est normalis√©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , comme dans une base de donn√©es. Les entit√©s ne se </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√®rent les unes aux autres que par id</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . C'est la meilleure pratique. Bien que tout le monde ne le fasse pas, vous pouvez utiliser une biblioth√®que comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normalizr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour atteindre un tel √©tat normalis√©. L'√©tat normalis√© vous permet de maintenir un √©tat plat et des entit√©s comme une </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">source unique de v√©rit√©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="json hljs">{<font></font>
  post: {<font></font>
    id: 'a',<font></font>
    authorId: 'b',<font></font>
    ...<font></font>
  },<font></font>
  author: {<font></font>
    id: 'b',<font></font>
    postIds: ['a', ...],<font></font>
    ...<font></font>
  }<font></font>
}</code></pre><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En comparaison, le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MobX de Michel Weststratt est</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> influenc√© non seulement par la programmation orient√©e objet, mais aussi par la programmation r√©active. </font><font style="vertical-align: inherit;">Il enveloppe votre √©tat dans des objets observables. </font><font style="vertical-align: inherit;">Ainsi, vous avez toutes les fonctionnalit√©s de " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " dans votre √©tat. </font><font style="vertical-align: inherit;">Les donn√©es peuvent avoir des param√©treurs et des getters simples, mais observables vous permettent de recevoir des mises √† jour apr√®s les modifications des donn√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Mobx, votre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">statut est volatile</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">De cette fa√ßon, vous changez directement l'√©tat:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">author</span>) </span>{
  <span class="hljs-keyword">this</span>.authors.push(author);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, les organisations restent dans une structure de donn√©es (profond√©ment) imbriqu√©e les unes par rapport aux autres. </font><font style="vertical-align: inherit;">Vous ne normalisez pas votre √©tat. </font><font style="vertical-align: inherit;">La condition </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©normalis√©e</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et int√©gr√©e.</font></font></b><br>
<br>
<pre><code class="json hljs">{<font></font>
  post: {<font></font>
    id: 'a',<font></font>
    ...<font></font>
    author: {<font></font>
      id: 'b',<font></font>
      ...<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un r√©f√©rentiel contre plusieurs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Redux, vous stockez tous vos √©tats dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un r√©f√©rentiel global</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un √©tat global</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Un seul objet d'√©tat est votre seule source de v√©rit√©. De nombreuses bo√Ætes de vitesses lui permettent en revanche de changer d'√©tat inchang√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En comparaison, MobX utilise plusieurs r√©f√©rentiels. Comme les r√©ducteurs Redux, vous pouvez appliquer la s√©paration et la conqu√™te par niveau technique, domaine, etc. Vous pouvez stocker vos objets de domaine dans des r√©f√©rentiels distincts, mais vous pouvez √©galement contr√¥ler l'√©tat d'affichage dans vos r√©f√©rentiels. Au final, vous placez l'√©tat le plus appropri√© pour votre application.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Techniquement, vous pouvez √©galement avoir plusieurs r√©f√©rentiels dans Redux. </font><font style="vertical-align: inherit;">Personne ne vous oblige √† en utiliser un seul. </font><font style="vertical-align: inherit;">Mais ce n'est pas un cas d'utilisation annonc√© de Redux. </font><font style="vertical-align: inherit;">L'utilisation de plusieurs r√©f√©rentiels va √† l'encontre des meilleures pratiques. </font><font style="vertical-align: inherit;">Dans Redux, vous voulez avoir un r√©f√©rentiel qui r√©pond via ses r√©ducteurs aux √©v√©nements globaux.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä quoi ressemble l'impl√©mentation?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur Redux, l'ajout de la configuration d'une application √† un √©tat global n√©cessite les lignes de code suivantes. </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> initialState = {
  <span class="hljs-attr">users</span>: [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Alex'</span><font></font>
    },<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nik'</span><font></font>
    }<font></font>
  ]<font></font>
};<font></font>
<span class="hljs-comment">// reducer</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">users</span>(<span class="hljs-params">state = initialState, action</span>) </span>{
  <span class="hljs-keyword">switch</span> (action.type) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">'USER_ADD'</span>:
    <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">users</span>: [ ...state.users, action.user ] };
  <span class="hljs-keyword">default</span>:
    <span class="hljs-keyword">return</span> state;<font></font>
  }<font></font>
}<font></font>
<span class="hljs-comment">// action</span>
{ <span class="hljs-attr">type</span>: <span class="hljs-string">'USER_ADD'</span>, <span class="hljs-attr">user</span>: user };</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans MobX, le stockage ne g√®re que le sous-√©tat (car le r√©ducteur dans Redux contr√¥le le sous-√©tat), mais vous pouvez directement changer l'√©tat. </font><font style="vertical-align: inherit;">L'annotation @observable vous permet d'observer les changements d'√©tat.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">userStore</span></span>{<font></font>
@observable users = [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nikita'</span><font></font>
    }<font></font>
  ];<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant appeler userStore.users.push (user); </font><font style="vertical-align: inherit;">sur la copie du magasin. </font><font style="vertical-align: inherit;">Cependant, il est recommand√© que les mutations d'√©tat soient plus explicites par l'action.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">userStore</span></span>{<font></font>
@observable users = [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nikita'</span><font></font>
    }<font></font>
  ];<font></font>
}<font></font>
@action addUser = <span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> {
    <span class="hljs-keyword">this</span>.users.push(user);<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez l'appliquer strictement en configurant MobX avec configure ({empceActions: true}) ;. </font><font style="vertical-align: inherit;">Vous pouvez maintenant changer votre √©tat en appelant userStore.addUser (user); </font><font style="vertical-align: inherit;">sur la copie du magasin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez vu comment mettre √† jour l'√©tat sur Redux et MobX. </font><font style="vertical-align: inherit;">Dans Redux, votre √©tat est en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lecture seule</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Vous ne pouvez changer d'√©tat qu'avec </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des actions explicites</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En revanche, dans MobX, l'√©tat inclut la lecture et l'√©criture. </font><font style="vertical-align: inherit;">Vous pouvez muter l'√©tat directement sans utiliser d'actions, mais vous pouvez s√©lectionner des actions explicites √† l'aide de la configuration enforceActions.</font></font><br>
<br>
<a name="the-learning-curve-in-react-state-management"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Courbe d'apprentissage de l'√©tat de r√©action</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redux et MobX sont principalement utilis√©s dans les applications React. Mais ce sont des biblioth√®ques de gestion d'√©tat autonomes qui peuvent √™tre utilis√©es partout sans React. Leurs biblioth√®ques d'interaction facilitent leur combinaison avec des composants angulaires. Il s'agit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de react-redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React + Redux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mobx-react</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React + MobX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Plus tard, je vais expliquer comment utiliser les deux dans l'arborescence des composants angulaires.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de r√©centes discussions, il est arriv√© que les gens se disputent sur la courbe d'apprentissage dans Redux. Cela s'est souvent produit dans le contexte de React: les gens ont commenc√© √† apprendre React et voulaient d√©j√† utiliser la gestion des √©tats avec Redux. La plupart des gens affirment que React et Redux ont eux-m√™mes une bonne courbe d'apprentissage, mais les deux peuvent √™tre accablants. Par cons√©quent, MobX sera une alternative, car il convient mieux aux d√©butants.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, je sugg√©rerais une approche diff√©rente pour les nouveaux utilisateurs de React pour en savoir plus sur la gestion des √©tats dans l'√©cosyst√®me React. </font><font style="vertical-align: inherit;">Commencez √† apprendre React avec vos propres fonctionnalit√©s de gestion d'√©tat locales dans les composants. </font><font style="vertical-align: inherit;">Dans une application React, vous apprenez d'abord les m√©thodes du cycle de vie React et vous comprenez comment g√©rer les √©tats locaux avec setState () et this.state. </font><font style="vertical-align: inherit;">Je recommande fortement ce parcours d'apprentissage. </font><font style="vertical-align: inherit;">Sinon, vous serez rapidement submerg√© par l'√©cosyst√®me React. </font><font style="vertical-align: inherit;">En fin de compte, vous vous rendrez compte que la gestion de l'√©tat (interne) des composants devient compliqu√©e.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux ou MobX pour les d√©butants?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En vous familiarisant avec les composants angulaires et la gestion d'√©tat interne, vous pouvez choisir une biblioth√®que de gestion d'√©tat pour r√©soudre votre probl√®me. Apr√®s avoir utilis√© les deux biblioth√®ques, je dirais que MobX peut √™tre tr√®s pratique pour les d√©butants. Nous avons d√©j√† vu que MobX a besoin de moins de code, bien qu'il utilise des notes magiques que nous n'avons pas encore besoin de conna√Ætre. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec MobX, vous n'avez pas besoin de vous familiariser avec la programmation fonctionnelle. Des termes tels que l'immuabilit√© peuvent encore √™tre √©trangers.</font></font><blockquote>  ‚Äî   ,       JavaScript.     ,          ,   - , ,     MobX.</blockquote><br>
<br>
<h3>  Redux</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä mesure que votre application s'agrandit et que plusieurs d√©veloppeurs y travaillent, vous devriez envisager d'utiliser Redux. Par nature, il s'engage √† utiliser des actions explicites pour changer d'√©tat. L'action a un type et une charge utile que la bo√Æte de vitesses peut utiliser pour changer d'√©tat. Il est tr√®s facile pour l'√©quipe de d√©veloppement de parler des changements d'√©tat de cette mani√®re. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redux vous fournit une architecture compl√®te pour g√©rer l'√©tat avec des limitations claires. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Histoire de r√©ussite de Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre avantage de Redux est son utilisation c√¥t√© serveur. Comme nous traitons avec du JavaScript simple, vous pouvez envoyer un √©tat sur le r√©seau. La s√©rialisation et la d√©s√©rialisation d'un objet d'√©tat fonctionnent imm√©diatement. Cependant, cela est √©galement possible avec MobX.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MobX est moins s√ªr de lui, mais avec configure ({empceActions: true}), vous pouvez appliquer des restrictions plus pr√©cises, comme dans Redux. C'est pourquoi je ne dirais pas que vous ne pouvez pas utiliser MobX pour faire √©voluer des applications, mais Redux a un moyen clair de faire quelque chose. La documentation MobX dit m√™me: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[MobX] ne vous dit pas comment structurer votre code, o√π stocker l'√©tat ou comment g√©rer les √©v√©nements</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." L'√©quipe de d√©veloppement devra d'abord cr√©er une architecture de gestion d'√©tat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s tout, la courbe d'apprentissage de la gestion de l'√âtat n'est pas si raide. Lorsque nous r√©p√©tons les recommandations, un novice de React </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apprendra d'abord √† utiliser correctement setState () et this.state</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Apr√®s un certain temps, vous comprendrez les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">probl√®mes d'utilisation de setState ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour maintenir l'√©tat dans l'application React. </font><font style="vertical-align: inherit;">Lorsque vous recherchez une solution, vous rencontrez des biblioth√®ques de gestion d'√©tat telles que MobX ou Redux. </font><font style="vertical-align: inherit;">Mais lequel choisir? </font><font style="vertical-align: inherit;">√âtant donn√© que MobX est moins s√ªr de lui, a un mod√®le plus petit et peut √™tre utilis√© de la m√™me mani√®re que setState (), je recommanderais de donner √† MobX une chance dans les petits projets. </font><font style="vertical-align: inherit;">D√®s que l'application grandit et augmente le nombre de participants, vous devriez envisager d'appliquer des restrictions suppl√©mentaires dans MobX ou donner une chance √† Redux. </font><font style="vertical-align: inherit;">J'ai aim√© utiliser les deux biblioth√®ques. </font><font style="vertical-align: inherit;">M√™me si vous n'utilisez pas l'un d'eux √† la fin, il est logique de voir une autre fa√ßon de g√©rer l'√âtat.</font></font><br>
<br>
<a name="last-thoughts"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derni√®res pens√©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque fois que je lis les commentaires dans la discussion Redux vs MobX, il y a toujours un commentaire: ¬´ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux a trop de standard, vous devriez utiliser MobX √† la place. J'ai pu supprimer XXX lignes de code</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . " Le commentaire est peut-√™tre vrai, mais personne ne consid√®re un compromis. Redux est livr√© avec de nombreux mod√®les comme MobX car il a √©t√© ajout√© pour des contraintes de conception sp√©cifiques. Cela vous permet de raisonner sur l'√©tat de votre application, m√™me si elle est √† plus grande √©chelle. Toute la c√©r√©monie associ√©e au traitement de l'√âtat n'est pas seulement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La biblioth√®que Redux est assez petite. La plupart du temps, vous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne traitez qu'avec de simples objets et tableaux JavaScript.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. C'est plus proche du JavaScript vanille que de MobX. Dans MobX, les objets et les tableaux sont envelopp√©s dans des objets observables qui masquent la plupart du mod√®le standard. Il est construit sur des abstractions cach√©es dans lesquelles la magie se produit, mais il est plus difficile de comprendre les m√©canismes de base. Redux permet d'en parler plus facilement avec un simple JavaScript. Cela facilite le test et le d√©bogage de l'application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, vous devez repenser √† nos origines au SPA. Un tas de frameworks √† page unique et de biblioth√®ques d'applications ont eu les m√™mes probl√®mes de gestion d'√©tat qui ont finalement √©t√© r√©solus √† l'aide d'un mod√®le de flux complet. Redux est le successeur de cette approche.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans MobX, il se d√©place √† nouveau dans la direction oppos√©e. On recommence √† muter l'√©tat directement, sans profiter de la programmation fonctionnelle. Pour certaines personnes, cela se rapproche √† nouveau de la liaison de donn√©es bidirectionnelle. Apr√®s un certain temps, les gens peuvent √† nouveau rencontrer les m√™mes probl√®mes avant qu'une biblioth√®que de gestion d'√©tat telle que Redux apparaisse. La gestion des √©tats est dispers√©e entre les composants et se termine par un encombrement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors que sur Redux, vous avez une c√©r√©monie √©tablie pour configurer les choses, MobX est moins s√ªr de lui. Mais il serait sage d'accepter la meilleure exp√©rience MobX. Les gens doivent savoir comment organiser la gestion de l'√âtat afin d'am√©liorer leurs arguments √† ce sujet. Sinon, les gens ont tendance √† changer d'√©tat directement dans les composants.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les deux biblioth√®ques sont super. </font><font style="vertical-align: inherit;">Bien que Redux soit d√©j√† bien √©tabli, MobX devient une alternative viable √† la gestion des √©tats.</font></font></blockquote><br>
<a name="more-resurces"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Davantage de ressources</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaison de Michel Weststratt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cr√©ateur de </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MobX</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr489840/index.html">Drive Anatomy: Disques durs</a></li>
<li><a href="../fr489844/index.html">Analyse comparative de certains d√©compilateurs Java</a></li>
<li><a href="../fr489848/index.html">Pourquoi mes coll√®gues / employ√©s se comportent-ils comme @% ¬ß?</a></li>
<li><a href="../fr489850/index.html">Security Week 09: qui est responsable de la s√©curit√© Android?</a></li>
<li><a href="../fr489852/index.html">Authentification transparente dans ASP.Net Core sous Linux</a></li>
<li><a href="../fr489856/index.html">Banach-Tarski reverse paradox ou comment r√©duire de cinq fois le volume de donn√©es stock√©es</a></li>
<li><a href="../fr489858/index.html">Internationalisation: rendre le Web accessible √† tous</a></li>
<li><a href="../fr489860/index.html">L'histoire de Telefunken: le ph√©nix de l'√©lectronique allemande de Guillaume II et Goebbels aux Beatles et aujourd'hui</a></li>
<li><a href="../fr489862/index.html">Planning in Go: Part II - The Go Scheduler</a></li>
<li><a href="../fr489868/index.html">Gel de Mozilla WebThings</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>