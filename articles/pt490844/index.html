<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤸 🤟🏻 💔 Livro “Padrões Kubernetes: Padrões de Desenvolvimento de Aplicativos em Nuvem Nativa” 🌚 🛏️ 👨🏿‍🤝‍👨🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Olá, habrozhiteli! 
 
 Com o desenvolvimento de microsserviços e contêineres, as abordagens para o design, criação e lançamento de software mudaram. E...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Livro “Padrões Kubernetes: Padrões de Desenvolvimento de Aplicativos em Nuvem Nativa”</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/490844/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/z1/xp/jr/z1xpjrbdjk7o8hr1ydymen7sxsm.jpeg" align="left" alt="imagem"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Olá, habrozhiteli! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com o desenvolvimento de microsserviços e contêineres, as abordagens para o design, criação e lançamento de software mudaram. </font><font style="vertical-align: inherit;">Explore os novos padrões e princípios de design necessários para implementar aplicativos em nuvem Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este livro é destinado a desenvolvedores que desejam projetar e desenvolver aplicativos baseados em nuvem para a plataforma Kubernetes. </font><font style="vertical-align: inherit;">O maior benefício disso serão os leitores que estão pelo menos um pouco familiarizados com os contêineres e desejam subir para um novo nível. </font><font style="vertical-align: inherit;">Cada padrão de design é uma descrição do problema real e a solução é suportada e ilustrada por exemplos de código específicos.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Excerto. </font><font style="vertical-align: inherit;">Sidecar Pattern</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O padrão Sidecar (Trailer) é para definir um contêiner que amplia os recursos de um contêiner existente sem alterá-lo. </font><font style="vertical-align: inherit;">Esse é um dos padrões fundamentais de contêineres que permite criar contêineres altamente especializados que trabalham em estreita colaboração. </font><font style="vertical-align: inherit;">Neste capítulo, você aprenderá tudo relacionado à idéia do padrão Sidecar (Trailer). </font><font style="vertical-align: inherit;">E nos capítulos 16 e 17 você se familiarizará com variantes especializadas desse padrão - os padrões Adaptador e Embaixador, respectivamente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarefa</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Containers é uma tecnologia de empacotamento popular que permite que desenvolvedores e administradores de sistema criem, entreguem e executem aplicativos de maneira unificada. Um contêiner representa o limite natural de uma unidade funcional com seu tempo de execução, ciclo de liberação, API e a equipe de desenvolvimento à qual ele pertence. Um contêiner típico age como um processo no Linux - resolve um problema e resolve-o bem - e é criado sob a suposição da possibilidade de substituição e reutilização. O último é especialmente importante porque permite criar aplicativos rapidamente usando contêineres especializados existentes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atualmente, para enviar uma solicitação HTTP, você não precisa escrever uma biblioteca cliente, basta usar a existente. </font><font style="vertical-align: inherit;">Da mesma forma, para manter o site, você não precisa criar um contêiner com um servidor da Web, basta usar o existente. </font><font style="vertical-align: inherit;">Essa abordagem permite que os desenvolvedores não reinventem a roda e criem um ecossistema com menos contêineres de melhor qualidade para manutenção. </font><font style="vertical-align: inherit;">No entanto, para poder usar contêineres reutilizáveis ​​altamente especializados, são necessárias maneiras de expandir seus recursos e meios para organizar as interações entre eles. </font><font style="vertical-align: inherit;">O padrão Sidecar (Trailer) descreve exatamente essa maneira de organizar interações quando um contêiner expande os recursos de outro contêiner existente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decisão</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No capítulo 1, vimos como os pods permitem combinar vários contêineres em um bloco. Nos bastidores, em tempo de execução, under também é um contêiner, mas começa como um processo de pausa (literalmente usando o comando de pausa) na frente de todos os outros contêineres na lareira. Ele não faz nada além de armazenar todos os namespaces do Linux que os contêineres de aplicativos usam para interagir durante todo o ciclo de vida do pod. Além desses detalhes de implementação, todas as características que a abstração da lareira fornece também são interessantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Under é uma primitiva tão fundamental que está presente em muitas plataformas em nuvem, embora com nomes diferentes, mas sempre com recursos semelhantes. Sob, como uma unidade de implantação, impõe certas restrições de tempo de execução em seus contêineres. Por exemplo, todos os contêineres são implantados em um nó e têm um ciclo de vida comum. Além disso, permite que seus contêineres usem volumes compartilhados e troquem dados por meio de uma rede local ou usando ferramentas de comunicação entre processos do host. É por isso que os usuários combinam contêineres em cápsulas. O padrão Sidecar (Trailer), às vezes também chamado de Sidekick (Companion), descreve o cenário de adicionar um contêiner ao sub para expandir os recursos de outro contêiner.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um exemplo típico que demonstra esse padrão é o servidor HTTP e o mecanismo de sincronização com o repositório Git. O contêiner do servidor HTTP resolve os problemas associados à manutenção de arquivos via HTTP e não sabe como e de onde esses arquivos vêm. Da mesma forma, o único objetivo de um contêiner que sincroniza com o Git é sincronizar dados no sistema de arquivos local com dados no servidor Git. Ele não se importa com o que acontece com os arquivos após a sincronização, sua única tarefa é sincronizar o conteúdo da pasta local com o conteúdo no servidor Git remoto. A Listagem 15.1 fornece uma definição de pod com esses dois contêineres configurados para usar o volume para compartilhamento de arquivos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listagem 15.1. Implementação do Padrão Sidecar (Trailer)</font></font><br>
<br>
<pre><code class="bash hljs">apiVersion: v1<font></font>
kind: Pod<font></font>
metadata:<font></font>
    name: web-app<font></font>
spec:<font></font>
    containers:<font></font>
    - name: app<font></font>
      image: docker.io/centos/httpd ❶<font></font>
      ports:<font></font>
      - containerPort: 80<font></font>
      volumeMounts:<font></font>
      - mountPath: /var/www/html ❸<font></font>
      name: git<font></font>
    - name: poll<font></font>
      image: axeclbr/git ❷<font></font>
      volumeMounts:<font></font>
      - mountPath: /var/lib/data ❸<font></font>
        name: git<font></font>
      env:<font></font>
      - name: GIT_REPO<font></font>
         value: https://github.com/mdn/beginner-html-site-scripted<font></font>
      <span class="hljs-built_in">command</span>:<font></font>
      - <span class="hljs-string">"sh"</span>
      - <span class="hljs-string">"-c"</span>
      - <span class="hljs-string">"git clone <span class="hljs-subst">$(GIT_REPO)</span> . &amp;&amp; watch -n 600 git pull"</span><font></font>
      workingDir: /var/lib/data<font></font>
volumes:<font></font>
- emptyDir: {}<font></font>
      name: git</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(1)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O contêiner principal do aplicativo que atende arquivos via HTTP. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Contêiner auxiliar (Trailer) atuando em paralelo e recebendo dados do servidor Git. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(3) Uma</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pasta compartilhada para troca de dados entre os contêineres primário e secundário.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este exemplo mostra como um contêiner de sincronização com o Git adiciona conteúdo a ser servido por um servidor HTTP e o mantém atualizado. </font><font style="vertical-align: inherit;">Você também pode dizer que os dois contêineres trabalham em estreita cooperação e são igualmente importantes, mas o padrão Sidecar (Trailer) assume a presença de um contêiner principal (principal) e auxiliar que expande o comportamento coletivo. </font><font style="vertical-align: inherit;">Normalmente, o principal é listado primeiro na lista de contêineres e representa o contêiner padrão (que é iniciado pelo comando kubectl exec, por exemplo).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este padrão simples, mostrado na fig. </font><font style="vertical-align: inherit;">15.1 garante uma estreita cooperação dos contêineres em tempo de execução e, ao mesmo tempo, permite o compartilhamento de tarefas que podem pertencer a equipes separadas de desenvolvedores que usam diferentes linguagens de programação, com diferentes ciclos de lançamento de novas versões, etc. Também promove intercambiabilidade e reutilização de contêineres - no sentido de que o servidor HTTP e o mecanismo de sincronização Git podem ser reutilizados em outros aplicativos e com outras configurações, de forma independente e em conjunto com outros contêineres.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/28/5g/wy/285gwyeypygwt7r2pkwue45p_7y.jpeg" alt="imagem"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explicação</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Já foi dito acima que as imagens do contêiner são semelhantes às classes e os contêineres são como objetos na programação orientada a objetos (OOP). Continuando essa analogia, podemos comparar a expansão das capacidades dos contêineres com a herança no OOP, e o trabalho conjunto de vários contêineres na lareira com a recepção de uma composição no OOP. Ambas as abordagens permitem a reutilização de código, mas a herança define um relacionamento mais próximo e representa o relacionamento "is" entre contêineres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A composição na lareira representa a relação “tem” - é mais flexível, porque não requer a combinação de contêineres durante a montagem, o que possibilita posteriormente alterar os contêineres na definição da lareira. Mas a composição também implica a presença de vários contêineres (processos) operando simultaneamente, que devem ser verificados quanto à operacionalidade e reiniciados e que consomem recursos, bem como o contêiner principal do aplicativo. O padrão Sidecar (Trailer) envolve a criação de pequenos contêineres auxiliares que consomem recursos mínimos, mas você decide se inicia um processo separado ou combina melhor todas as tarefas em um contêiner principal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De outro ponto de vista, a composição dos contêineres é semelhante à programação orientada a aspectos, quando, com a ajuda de contêineres adicionais, recursos ortogonais (independentes) que não estão relacionados ao contêiner principal são adicionados ao sub. </font><font style="vertical-align: inherit;">Nos últimos meses, o padrão Sidecar (Trailer) está ganhando popularidade, especialmente para resolver tarefas de gerenciamento de rede, serviços de monitoramento, onde cada serviço também vem na forma de contêineres auxiliares. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
»Mais informações sobre o livro podem ser encontradas no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site da editora</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conteúdo</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trecho do</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
cupom Khabrozhiteley de 25% de desconto no cupom - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Após o pagamento da versão impressa do livro, um livro eletrônico é enviado por e-mail.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt490832/index.html">Marcação de calçados: como colocamos em circulação 2 milhões de códigos de marcação "1C" + "Honest Sign"</a></li>
<li><a href="../pt490836/index.html">Como abrir comentários e não se afogar em spam</a></li>
<li><a href="../pt490838/index.html">O WiFi 6 está aqui: o que o mercado oferece e por que precisamos dessa tecnologia</a></li>
<li><a href="../pt490840/index.html">Planejamento de recursos. Parte 4.1. Antes de fazer um plano de recursos</a></li>
<li><a href="../pt490842/index.html">GPT-2 em imagens (visualização dos modelos de linguagem Transformer)</a></li>
<li><a href="../pt490846/index.html">Como desenvolvemos um site para a Academia Kalashnikov e nos tornamos laureados em duas competições</a></li>
<li><a href="../pt490850/index.html">Ajude o compilador a ajudá-lo</a></li>
<li><a href="../pt490852/index.html">Em detalhes sobre o SpinLaunch - o segredo mais zelosamente mantido da indústria espacial</a></li>
<li><a href="../pt490854/index.html">Robôs de armazém usando IA para classificar itens estão prontos</a></li>
<li><a href="../pt490856/index.html">Mestre do Auto Dungeon</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>