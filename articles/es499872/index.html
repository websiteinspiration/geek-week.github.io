<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê¶ üßñüèΩ üë®üèø‚Äçüç≥ Modularidad en Java 9 üë®üèº‚Äçüè≠ ü•í üêü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La principal innovaci√≥n en Java 9 fue la introducci√≥n de la modularidad. Se habl√≥ mucho sobre esta caracter√≠stica, la fecha de lanzamiento se pospuso ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Modularidad en Java 9</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499872/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La principal innovaci√≥n en Java 9 fue la introducci√≥n de la modularidad. </font><font style="vertical-align: inherit;">Se habl√≥ mucho sobre esta caracter√≠stica, la fecha de lanzamiento se pospuso varias veces para terminar todo correctamente. </font><font style="vertical-align: inherit;">En esta publicaci√≥n, hablaremos sobre lo que proporciona el mecanismo de los m√≥dulos y lo √∫til que trajo Java 9 en general. </font><font style="vertical-align: inherit;">La base para la publicaci√≥n fue el informe de mi colega, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sergei Malkevich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br>
<img src="https://habrastorage.org/webt/iw/pu/7t/iwpu7tdtfukrgul-dx7psz6r2ia.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para implementar los m√≥dulos en esta versi√≥n de Java, se asign√≥ un proyecto completo, Project Jigsaw, que incluye varios JEP y JSR. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yr/w1/gx/yrw1gxgxxkoogldzhbojsyfdddc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para los fan√°ticos de la documentaci√≥n oficial, puede leer m√°s sobre cada JEP </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°s informaci√≥n sobre Project Jigsaw</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El Proyecto Jigsaw, que implementa la modularidad, comenz√≥ a desarrollarse en 2005: se lanz√≥ el primer JSR 277, y ya en 2008, comenz√≥ el trabajo directo en el proyecto. </font><font style="vertical-align: inherit;">El lanzamiento tuvo lugar solo en 2017. </font><font style="vertical-align: inherit;">Es decir, para atornillar los m√≥dulos en Java, tom√≥ casi 10 a√±os. </font><font style="vertical-align: inherit;">Lo que, de hecho, enfatiza la escala completa del trabajo y los cambios que se hicieron durante la implementaci√≥n de la modularidad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øCu√°les son los objetivos establecidos por los desarrolladores:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">facilitar el desarrollo de grandes aplicaciones y bibliotecas;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mejore la seguridad de Java SE en general, y JDK en particular;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aumentar el rendimiento de la aplicaci√≥n;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cree la capacidad de reducir el tama√±o del JRE para ejecutarse en dispositivos peque√±os para no consumir demasiada memoria;</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JAR HELL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (m√°s sobre eso m√°s adelante).</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lo √∫til que trajo Java 9</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de la versi√≥n 9, JDK y JRE eran monol√≠ticos. </font><font style="vertical-align: inherit;">Su tama√±o creci√≥ con cada lanzamiento. </font><font style="vertical-align: inherit;">Java 8 ya ocupaba cientos de megabytes, y todo esto los desarrolladores tuvieron que "llevarlos" cada vez para poder ejecutar aplicaciones Java. </font><font style="vertical-align: inherit;">Solo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rt.jar solo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pesa alrededor de 60 Mb. </font><font style="vertical-align: inherit;">Bueno, aqu√≠ tambi√©n agregamos un inicio lento y un alto consumo de memoria. </font><font style="vertical-align: inherit;">Java 9 vino al rescate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK 9</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se introdujo la separaci√≥n de m√≥dulos, a saber, el JDK se dividi√≥ en 73 m√≥dulos. </font><font style="vertical-align: inherit;">Y con cada nueva versi√≥n, el n√∫mero de estos m√≥dulos est√° creciendo. </font><font style="vertical-align: inherit;">En la versi√≥n 11, este n√∫mero es cercano a 100. Esta separaci√≥n permiti√≥ a los desarrolladores crear la utilidad JLINK. </font><font style="vertical-align: inherit;">Con JLINK, puede crear conjuntos JRE personalizados que incluir√°n solo los m√≥dulos "necesarios" que su aplicaci√≥n realmente necesita. </font><font style="vertical-align: inherit;">Por lo tanto, una aplicaci√≥n simple y algunos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">customJRE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con un conjunto m√≠nimo (o peque√±o) de m√≥dulos pueden caber en 20 Mb, lo cual es una buena noticia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La lista de m√≥dulos se puede encontrar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con la llegada de Java 9, la estructura JDK ha cambiado: ahora es id√©ntica a la estructura JRE. </font><font style="vertical-align: inherit;">Si antes el JDK inclu√≠a la carpeta JRE, donde bin est√° nuevamente y los archivos est√°n duplicados, ahora todo se ve as√≠:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/du/9w/mn/du9wmn9grm8tmssx5qldnicxrci.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√≥dulos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Realmente. ¬øQu√© es un m√≥dulo? Un m√≥dulo es un nuevo nivel de agregaci√≥n de paquetes y recursos (orig. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Un grupo √∫nico de paquetes relacionados, reutilizables, as√≠ como recursos y un descriptor de m√≥dulo"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los m√≥dulos se entregan en archivos JAR con paquetes y descriptores de m√≥dulos </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module-info.java</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . El archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module-info.java</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contiene una descripci√≥n del m√≥dulo: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nombre, dependencias, paquetes exportados, servicios consumidos y proporcionados, permisos para el acceso de reflexi√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ejemplos de descripciones de descriptores de m√≥dulos:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> java.sql {
    <span class="hljs-keyword">requires</span> transitive java.logging;
    <span class="hljs-keyword">requires</span> transitive java.transaction.xa;
    <span class="hljs-keyword">requires</span> transitive java.xml;<font></font>
<font></font>
    <span class="hljs-keyword">exports</span> java.sql;
    <span class="hljs-keyword">exports</span> javax.sql;<font></font>
<font></font>
    uses java.sql.Driver;<font></font>
}</code></pre><br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> jdk.javadoc {
   <span class="hljs-keyword">requires</span> java.xml;<font></font>
   <font></font>
   <span class="hljs-keyword">requires</span> transitive java.compiler;
   <span class="hljs-keyword">requires</span> transitive jdk.compiler;<font></font>
   <font></font>
   <span class="hljs-keyword">exports</span> jdk.javadoc.doclet;<font></font>
   <font></font>
   provides java.util.spi.ToolProvider with<font></font>
       jdk.javadoc.internal.tool.JavadocToolProvider;<font></font>
   <font></font>
   provides javax.tools.DocumentationTool with<font></font>
       jdk.javadoc.internal.api.JavadocTool;<font></font>
   <font></font>
   provides javax.tools.Tool with<font></font>
      jdk.javadoc.internal.api.JavadocTool;   <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s del m√≥dulo de palabras clave, tenemos el nombre del paquete </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jdk.javadoc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que depende de otro paquete </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java.xml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y depende transitivamente de otros paquetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Echemos un vistazo m√°s de cerca a cada una de las palabras clave:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requiere</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indica los m√≥dulos de los que depende el m√≥dulo actual;</font></font></li>
</ul><br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requiere transitivo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , una dependencia transitiva, significa lo siguiente: si el m√≥dulo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> depende transitivamente del m√≥dulo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y tenemos alg√∫n tercer m√≥dulo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que depende de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , el m√≥dulo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mX tambi√©n tendr√° acceso a m2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
</ul><br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requiere est√°tica le</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permite especificar dependencias en tiempo de compilaci√≥n;</font></font></li>
</ul><br>
<ul>
<li><i>exports</i>  ,     (  ‚Äú‚Äù);</li>
</ul><br>
<ul>
<li><i>exports...to‚Ä¶</i>   : <i>export com.my.package.name to com.specific.package</i>;            - () ()  ;</li>
</ul><br>
<ul>
<li><i>uses</i> ,    :<br>
 <br>
<pre><code class="java hljs">uses java.sql.Driver;</code></pre><br>
   ,     ;</li>
</ul><br>
<ul>
<li><i>provides</i> ,    :<br>
 <br>
<pre><code class="java hljs">provides javax.tools.Tool with<font></font>
    jdk.javadoc.internal.api.JavadocTool;</code></pre><br>
    ‚Äî <i>javax.tools.Tool</i>,  with ‚Äî .</li>
</ul><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un poco sobre los servicios.</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Digamos que tenemos varios m√≥dulos conectados que implementan un servicio abstracto: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MyService</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Al compilar la aplicaci√≥n, tenemos la oportunidad de decidir qu√© implementaci√≥n de servicio usar al "arrastrar" los m√≥dulos de implementaci√≥n de servicio necesarios a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--module-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="java hljs">Iterable&lt;MyService&gt; services = <font></font>
        ServiceLoader.load(MyService.class);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, el iterador devuelto contiene una lista de implementaciones de la interfaz MyService. De hecho, contendr√° todas las implementaciones encontradas en los m√≥dulos que se encuentran en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--module-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√©, en principio, se introdujeron los servicios? Son necesarios para mostrar c√≥mo se usar√° nuestro c√≥digo. Es decir, hay un papel sem√°ntico. Adem√°s, la modularidad se trata de encapsulaci√≥n y seguridad, ya que podemos hacer que la implementaci√≥n sea privada y excluir la posibilidad de acceso no autorizado a trav√©s de la reflexi√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, una de las opciones para usar los servicios es una implementaci√≥n bastante simple de complementos. Podemos implementar la interfaz del complemento para nuestra aplicaci√≥n y conectar m√≥dulos para trabajar con ellos. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Volvamos a la sintaxis para describir m√≥dulos:</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasta 9ki, a trav√©s de la reflexi√≥n, ten√≠amos acceso a casi todo y pod√≠amos hacer lo que queramos y con lo que queramos. </font><font style="vertical-align: inherit;">Y la novena versi√≥n, como ya se mencion√≥, le permite protegerse del acceso de reflexi√≥n "ilegal". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos abrir completamente el m√≥dulo para el acceso de reflexi√≥n declarando </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abierto</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="java hljs">open <span class="hljs-keyword">module</span> my.<span class="hljs-keyword">module</span> {<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O bien, podemos especificar cualquier paquete para el acceso de reflexi√≥n declarando </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aperturas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> my.<span class="hljs-keyword">module</span> {<font></font>
    opens com.my.coolpackage;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ tambi√©n es posible usar </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abre</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com.my.coolpackage </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dando as√≠ acceso a la reflexi√≥n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.my.coolpackage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> paquete </font><font style="vertical-align: inherit;">del paquete que indicaremos despu√©s </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipos de m√≥dulos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Project Jigsaw clasifica los m√≥dulos de la siguiente manera:</font></font><br>
<br>
<ul>
<li>System Modules ‚Äî Java SE  JDK .    ,   <i>java --list-modules</i>.</li>
</ul><br>
<ul>
<li>Application Modules ‚Äî   ,   ,     (  ),    .</li>
</ul><br>
<ul>
<li>Automatic Modules ‚Äî     ,  Java   JAR-. ,        ,    - .      JAR-  <i>--module-path</i>  Java     ,    JAR-. </li>
</ul><br>
<ul>
<li>Unnamed Module ‚Äî  ,     JAR-,    <i>--class-path</i>.           Java .</li>
</ul><br>
<h3>Class-path vs module-path</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con la llegada de los m√≥dulos, apareci√≥ un nuevo concepto: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En esencia, esta es la misma </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ruta de clase</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pero para los m√≥dulos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El lanzamiento de una aplicaci√≥n modular es el siguiente: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/vp/0z/hhvp0zd-py0ds1onano6l8kj0lw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en el modo de lanzamiento normal, especificamos las opciones y la ruta completa a la clase principal. En caso de que queramos trabajar con m√≥dulos, tambi√©n especificamos opciones y el par√°metro </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-m</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-module</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que solo indica que ejecutaremos los m√≥dulos. Es decir, traducimos autom√°ticamente nuestra aplicaci√≥n al modo modular. A continuaci√≥n, indicamos el nombre del m√≥dulo y la ruta a la clase principal desde el m√≥dulo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, si en modo normal estamos acostumbrados a trabajar con las </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opciones -cp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--class-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, en modo modular, prescribimos un nuevo par√°metro </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--module-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que indica las rutas a los m√≥dulos utilizados en la aplicaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A menudo me encuentro con el hecho de que los desarrolladores no cambian a la versi√≥n 9+, porque creen que tendr√°n que trabajar con m√≥dulos. </font><font style="vertical-align: inherit;">Aunque, de hecho, podemos ejecutar nuestras aplicaciones en el modo antiguo, simplemente sin escribir un par√°metro o usar m√≥dulos, sino usando solo otros chips nuevos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jar el infierno</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n quiero detenerme en diagonal en el problema de Jar Hell. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cs/bv/rq/csbvrqh03ughwg3yvyelzm5_irk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© es Jar Hell en pocas palabras? Por ejemplo, tenemos una especie de nuestra aplicaci√≥n y que depende de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la X </font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioteca</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font><b><font style="vertical-align: inherit;">la biblioteca Y</font></b><font style="vertical-align: inherit;"> . Al mismo tiempo, ambas bibliotecas dependen de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la biblioteca Z</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pero de diferentes versiones: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> depende de la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi√≥n 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi√≥n 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bueno, si la versi√≥n 2 es retrocompatible con la versi√≥n 1, entonces no hay problema. Y si no, es obvio que estamos teniendo un conflicto de versi√≥n, es decir, la misma biblioteca no puede cargarse en la memoria por el mismo cargador de clases.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo salir de esta situaci√≥n? Hay m√©todos est√°ndar que los desarrolladores han estado utilizando desde el primer Java, por ejemplo, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">excluir</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , alguien usa complementos para Maven, que cambian el nombre de los paquetes ra√≠z de la biblioteca. O bien, los desarrolladores est√°n buscando diferentes versiones de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la biblioteca X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para encontrar una opci√≥n compatible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√©? Yo: los primeros prototipos de Jigsaw implicaban que el m√≥dulo ten√≠a una versi√≥n y permit√≠a la carga de varias versiones a trav√©s de diferentes ClassLoaders, pero luego fue abandonado. Como resultado, la "bala de plata", que muchos esperaban, no funcion√≥. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, desde el primer momento, est√°bamos un poco a salvo de tales problemas. Java 9 deshabilita los </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paquetes divididos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- paquetes que se dividen en varios m√≥dulos. Es decir, si tenemos el paquete </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.my.coolpackage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en un m√≥dulo, no podemos usarlo en otro m√≥dulo dentro de la misma aplicaci√≥n. Cuando inicia la aplicaci√≥n con m√≥dulos que contienen los mismos paquetes, simplemente nos bloqueamos. Esta peque√±a mejora elimina la posibilidad de un comportamiento impredecible en relaci√≥n con la descarga de paquetes Split. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, adem√°s de los m√≥dulos en s√≠, tambi√©n hay un mecanismo de capa o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capas de rompecabezas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que tambi√©n ayuda a hacer frente al problema de Jar Hell.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una capa de rompecabezas se puede definir como un sistema modular local. </font><font style="vertical-align: inherit;">Y aqu√≠ vale la pena se√±alar que los paquetes Split mencionados anteriormente est√°n prohibidos solo dentro del marco de una capa de Jigsaw. </font><font style="vertical-align: inherit;">Los m√≥dulos con los mismos paquetes tienen un lugar para estar, pero deben pertenecer a diferentes capas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se ve as√≠: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mw/cu/s6/mwcus6cggzhadfiihrbo1olk2nw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cuando se inicia la aplicaci√≥n, se crea una capa de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arranque</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que incluye m√≥dulos de plataforma cargados por Bootstrap, m√≥dulos de plataforma adicionales cargados por el cargador de plataformas y nuestros m√≥dulos de aplicaciones cargados por el cargador de aplicaciones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cualquier momento, podemos crear nuestras propias capas y "poner" m√≥dulos de diferentes versiones all√≠ y no caer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay una gran y detallada charla de YouTube sobre el tema: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escaping Jar Hell con Jigsaw Layers</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El motor de m√≥dulos de Java 9 nos abre nuevas posibilidades, mientras que el soporte para bibliotecas de hoy es bastante peque√±o. </font><font style="vertical-align: inherit;">S√≠, la gente ejecuta Spring, Spring Boot, etc. </font><font style="vertical-align: inherit;">Pero la mayor√≠a de las bibliotecas no han cambiado al uso completo de los m√≥dulos. </font><font style="vertical-align: inherit;">Aparentemente, por lo tanto, todos estos cambios fueron percibidos esc√©pticamente por la comunidad t√©cnica. </font><font style="vertical-align: inherit;">Los m√≥dulos nos brindan nuevas oportunidades, pero la cuesti√≥n de la demanda permanece abierta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y finalmente, ofrezco una selecci√≥n de materiales sobre este tema: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Resumen del m√≥dulo </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">JDsaw de </font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Project Jigsaw </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Paul Deitel - Comprensi√≥n de los m√≥dulos de Java 9 </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">baeldung.com - Introducci√≥n al proyecto Jigsaw </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Alex Buckley - Desarrollo modular con JDK 9 </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Evgeny Kozlov - M√≥dulos en Java</font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es499850/index.html">C√≥mo analizar competidores y establecer una estrategia digital en 40 minutos</a></li>
<li><a href="../es499852/index.html">Documentaci√≥n en ingl√©s para Angular</a></li>
<li><a href="../es499854/index.html">Apache Bigtop y la elecci√≥n de la distribuci√≥n de Hadoop hoy</a></li>
<li><a href="../es499858/index.html">Qu√© hacer el fin de semana: una descripci√≥n general de algunos juegos de mesa para aquellos que est√°n cansados ‚Äã‚Äãde las pantallas azules</a></li>
<li><a href="../es499870/index.html">Pylint: una prueba detallada del analizador de c√≥digo</a></li>
<li><a href="../es499874/index.html">Detecci√≥n de tos en Intel NUC</a></li>
<li><a href="../es499876/index.html">Los 5 mejores libros cl√°sicos para mejorar la educaci√≥n financiera y prepararse para los primeros pasos en el intercambio</a></li>
<li><a href="../es499878/index.html">La lucha por milisegundos. C√≥mo elegir el servidor con el menor ping</a></li>
<li><a href="../es499882/index.html">C√≥mo seleccionamos dise√±adores y realizamos entrevistas t√©cnicas</a></li>
<li><a href="../es499884/index.html">11 cosas que entend√≠ sobre CustDev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>