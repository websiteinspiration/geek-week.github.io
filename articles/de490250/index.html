<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤓 💾 🙂 Horror Set.removeAll 🤚🏽 👉🏻 🔙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir sind daran gewöhnt, dass die Standardsammlungen im JDK recht gut erstellt sind und sich intuitiv verhalten. Aber ist es wirklich so? Gestern Roman...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Horror Set.removeAll</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/490250/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir sind daran gewöhnt, dass die Standardsammlungen im JDK recht gut erstellt sind und sich intuitiv verhalten. </font><font style="vertical-align: inherit;">Aber ist es wirklich so? </font><font style="vertical-align: inherit;">Gestern Roman Elizarov</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elizarov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf Twitter die</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Neuigkeiten über einen neuen interessanten Pfosten </font><font style="vertical-align: inherit;">gepostet </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Festhalten: </font></font><code>Set.removeAll(list)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In bestimmten Fällen kann es für O (N²) funktionieren. </font><font style="vertical-align: inherit;">Wie das?</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ot/ba/mg/otbamgebw5vwvdqyoy5e9e8ni-o.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Roman entdeckte ein Problem, als er einen Code debuggte, der aus einem erstaunlichen Grund zu langsam arbeitete. Er startete es im eingebauten Profiler in IntelliJ IDEA und sah sofort auf dem Flammengraphen, dass er die ganze Zeit innerhalb der </font></font><code>AbstractSet.removeAll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aufzurufenden </font><font style="vertical-align: inherit;">Methode verschwendete </font></font><code>list.contains</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ein Link zur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">genauen Stelle im Code</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie ein etwas anderes Beispiel, um zu verstehen, was passiert. Zuvor schrieb Jon Skeet einen Beitrag </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„Es gibt ein Loch in meiner Abstraktion, liebe Liza, liebe Liza“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in dem er den folgenden interessanten Fall betrachtet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir an, wir haben ein HashSet, aus dem wir etwas löschen werden. </font><font style="vertical-align: inherit;">Angenommen, wir entfernen Elemente aus einer anderen Sammlung B aus einer Sammlung A. Es kommt häufig vor, dass viele Elemente aus B in A einfach nicht vorhanden sind. Wir analysieren einen Sonderfall, wenn sich A und B überhaupt nicht überschneiden - das heißt, es muss nichts getan werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden ein einfaches Programm schreiben, in dem die Größen unserer Sammlungen über die Befehlszeile festgelegt werden. </font><font style="vertical-align: inherit;">Damit sich diese Mengen nicht genau überschneiden, füllen wir eine davon nur mit positiven Zahlen und die andere nur mit negativen Zahlen. </font><font style="vertical-align: inherit;">Dann entfernen wir aus der ersten Sammlung alle Elemente der zweiten und messen die verstrichene Zeit mit</font></font><code>System.currentTimeMillis()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dies ist nicht der weltweit beste Weg, um die Zeitspanne zu berechnen, aber es ermöglicht das Kopieren und Einfügen des Codes direkt von Habr nach Idea und erspart uns die Einrichtung eines neuen Maven-Projekts für JMH.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
       <span class="hljs-keyword">int</span> sourceSize = Integer.parseInt(args[<span class="hljs-number">0</span>]);
       <span class="hljs-keyword">int</span> removalsSize = Integer.parseInt(args[<span class="hljs-number">1</span>]);<font></font>
<font></font>
       Set&lt;Integer&gt; source = <span class="hljs-keyword">new</span> HashSet&lt;Integer&gt;();<font></font>
       Collection&lt;Integer&gt; removals = <span class="hljs-keyword">new</span> ArrayList&lt;Integer&gt;();<font></font>
<font></font>
       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; sourceSize; i++) {<font></font>
           source.add(i);<font></font>
       }<font></font>
       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= removalsSize; i++) {<font></font>
           removals.add(-i);<font></font>
       }<font></font>
<font></font>
       <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<font></font>
       source.removeAll(removals); <font></font>
       <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<font></font>
       System.out.println(<span class="hljs-string">"Time taken: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sehr einfacher Code, der geschrieben werden kann, ohne das Bewusstsein wiederzugewinnen. </font><font style="vertical-align: inherit;">Lassen Sie es uns nun mit verschiedenen Parametern ausführen. </font><font style="vertical-align: inherit;">Versuchen Sie zunächst einen Satz von 100 Elementen, aus denen Sie 100 werfen müssen:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ java Test 100 100<font></font>
Time taken: 1ms<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bisher ist alles schnell genug, aber was passiert, wenn Sie die Anzahl erhöhen?</font></font><br>
<br>
<pre><code class="plaintext hljs">java Test 1000000 300000<font></font>
Time taken: 38ms<font></font>
</code></pre><br>
<pre><code class="plaintext hljs">$java Test 300000 300000<font></font>
Time taken: 178131ms<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie gefällt dir das? Jetzt warten wir drei Minuten. </font><font style="vertical-align: inherit;">Es scheint intuitiv, dass die Verarbeitungszeit einer kleineren Sammlung (300.000 Artikel im zweiten Fall) kürzer sein sollte als bei der Verarbeitung einer größeren Sammlung (eine Million Artikel im ersten Fall). </font><font style="vertical-align: inherit;">Sofort ist das Gegenteil der Fall. </font><font style="vertical-align: inherit;">Das Leben hat sich nicht darauf vorbereitet, oder? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt das Geheimnis des Fokus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tatsächlich wird es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im entsprechenden JavaDoc im Klartext beschrieben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Implementierungscode bestimmt, ob es weniger ist: set oder collection. </font><font style="vertical-align: inherit;">Dies erfolgt mit der Methode </font></font><code>size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für jeden von ihnen. </font><font style="vertical-align: inherit;">Wenn sich weniger Elemente in der Menge befinden, wird eine Iteration für die Menge durchgeführt und bei jeder Iteration wird geprüft, ob sich das aktuelle Element in der Sammlung befindet. </font><font style="vertical-align: inherit;">Wenn ja, wird das Element mithilfe der </font></font><code>remove</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iteratormethode </font><font style="vertical-align: inherit;">aus der Menge entfernt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wenn sich herausstellt, dass die Anzahl der Elemente in der Sammlung kleiner ist, muss die Sammlung bereits umgangen werden, und alle diese Elemente werden mit der Methode </font></font><code>remove</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aus der Menge aus der Menge entfernt.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der Praxis bedeutet dies, dass beim Aufruf </font></font><code>source.removeAll(removals)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn die Sammlung ist </font></font><code>removals</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kleiner als </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dann ist </font><font style="vertical-align: inherit;">die Methode aufgerufen wird , </font></font><code>remove</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font><code>HashSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, und es ist ziemlich schnell;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn die Sammlung </font></font><code>removals</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">größer oder gleich groß ist als </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wird eine Methode aufgerufen </font></font><code>removals.contains</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die für sehr langsam arbeitet </font></font><code>ArrayList</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In JDK 8 ist so etwas für diesen Code verantwortlich:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">removeAll</span><span class="hljs-params">(Collection&lt;?&gt; c)</span> </span>{<font></font>
    Objects.requireNonNull(c);<font></font>
    <span class="hljs-keyword">boolean</span> modified = <span class="hljs-keyword">false</span>;<font></font>
<font></font>
    <span class="hljs-keyword">if</span> (size() &gt; c.size()) {
        <span class="hljs-keyword">for</span> (Iterator&lt;?&gt; i = c.iterator(); i.hasNext(); )<font></font>
            modified |= remove(i.next());<font></font>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">for</span> (Iterator&lt;?&gt; i = iterator(); i.hasNext(); ) {
            <span class="hljs-keyword">if</span> (c.contains(i.next())) {<font></font>
                i.remove();<font></font>
                modified = <span class="hljs-keyword">true</span>;<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> modified;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint, dass das JDK einen eher schlechten Weg gewählt hat, um die Aufgabe zu bewältigen, aber da es bereits in JavaDoc beschrieben ist, gibt es kein Zurück. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oder ist da? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Leute eilten zu Roman Elizarovs Tweet und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zheka Kozlov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fand den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entsprechenden Fehler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in JDK 15 mit dem Darsteller Stuart Marx. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und danach brach Stuart Marx selbst in den Faden ein und bestätigte, dass er sich wirklich mit diesem Problem befasste:</font></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1232810950211670016"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am Ende des Tunnels ist also Licht. </font><font style="vertical-align: inherit;">Wenn Sie auf die neuesten Versionen von Java aktualisieren, natürlich.</font></font><br>
<br>
<h2><font color="#D93740"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Schlussfolgerungen aus dieser Geschichte lauten wie folgt: Es gibt ein wissenswertes Problem. </font><font style="vertical-align: inherit;">Das Problem wird bereits repariert, aber nur für zufriedene Benutzer von frischem Java, und Sie sollten nicht wirklich darauf hoffen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie versuchen, viele Daten in Sammlungen in Java zu speichern, können im Allgemeinen verschiedene unintuitive Probleme auftreten, auf die Sie vorbereitet sein müssen.</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, Kinder, heute haben wir etwas Neues gelernt! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Fortsetzung des Banketts empfehle ich Ihnen, sich einige Berichte von Roman Elizarov anzusehen, der dazu beigetragen hat, diesen Fehler ans Licht zu bringen. </font><font style="vertical-align: inherit;">Natürlich haben diese Berichte nichts mit dem Fehler selbst zu tun, aber es gibt eine Reihe verschiedener Weißbleche:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«  Kotlin»</a> (JPoint 2018)</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«Kotlin:     ( 1)»</a> (JUG 2017)</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«Kotlin:     ( 2)»</a> (JUG 2017)</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«  —   »</a> (JPoint 2016)</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«    !»</a> (JPoint 2016)</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">« GC    CPU?»</a> (Joker 2014)</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«    Java Memory Model» (JPoint 2014)</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«    Java-»</a> (Joker 2013)</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«      Java»</a> (JUG 2013)</li>
</ul><br>
<blockquote>       JPoint,      ,    2020   .    ,  ,    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a>.</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490226/index.html">Blending und Unity Terrain: So entfernen Sie Kreuzungen und lassen Ihre Augen nicht mehr weh tun</a></li>
<li><a href="../de490242/index.html">GSM-Ortungsdienst von SIM800x-Modulen und seine Arbeit mit der Yandex.Locator-API</a></li>
<li><a href="../de490244/index.html">Python-Code-Optimierung mit ctypes</a></li>
<li><a href="../de490246/index.html">Kreml-Türme in Hydras Umarmung: Hydra 2020 Parallel and Distributed Computing Conference</a></li>
<li><a href="../de490248/index.html">Webinar „Winnum CNC: Überwachung, die funktioniert“</a></li>
<li><a href="../de490252/index.html">Moderne Lösungen zum Aufbau von Informationssicherheitssystemen - Network Packet Broker (Network Packet Broker)</a></li>
<li><a href="../de490254/index.html">Fuzzy Mathe. Grundlagen von Fuzzy-Sets</a></li>
<li><a href="../de490260/index.html">Neue Speichertechnologien: Gibt es 2020 einen Durchbruch?</a></li>
<li><a href="../de490262/index.html">3D-Druck: Schnelle Tipps zum Wechseln von einem CAD-Modell zu einem gedruckten Objekt</a></li>
<li><a href="../de490264/index.html">Organisation von Autotests am Beispiel einer mobilen Anwendung für EDMS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>