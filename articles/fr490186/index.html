<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍💼 🛁 🚁 De quoi nous avons fait JET BI. Architecture Business Intelligence System sans digression lyrique 🃏 👨‍👨‍👧‍👦 🥀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un article précédent, j'ai parlé de l'évolution des systèmes de BI et de la façon dont nous avons compris qu'il valait mieux créer votre propre p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>De quoi nous avons fait JET BI. Architecture Business Intelligence System sans digression lyrique</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/490186/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f57/a54/10b/f57a5410bd4b110d3cfcf60ff3ed6797.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">précédent,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai parlé de l'évolution des systèmes de BI et de la façon dont nous avons compris qu'il valait mieux créer votre propre plate-forme que de s'adapter aux systèmes existants. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aujourd'hui, comme promis, je parle de l'architecture de notre nouvelle plate-forme, qui, je l'espère, sera une bonne solution pour la construction de tout système BI.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture fonctionnelle</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le système, deux «cœurs» principaux peuvent être distingués fonctionnellement. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le cœur de la visualisation et de la BI</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">équipe et moi l'appelons "lecteur"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Il est engagé dans le fait qu'il filtre les données, calcule les faits et les mesures, calcule et met en cache les agrégats, etc. En général - l'OLAP le plus ordinaire. La prise en charge de l'informatique en mémoire est également disponible. Le moteur ETL que nous avons développé occupe une place distincte, prenant en charge les deux méthodes de chargement standard (par exemple, SQL, requête MongoDB, déchargement à partir de fichiers Excel, etc.) et le chargement de n'importe où à l'aide de scripts JS. De quelle façon précisément? Le fait est que nous avons «lié» le chargeur JS avec une API spéciale, dont le but est de fournir un ensemble de méthodes faciles à apprendre qui sont les plus demandées pour les requêtes vers différentes sources, ainsi que la transformation des données (par exemple, transposer, joindre, ajouter des colonnes calculées, divers types fonctions mathématiques et statistiques). </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Langage </font></font></strong><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javascript? Êtes-vous fou?</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-être ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le choix de JS comme langage et le rejet de l'invention d'un autre vélo, comme c'est souvent le cas sur les plateformes de BI, n'est pas accidentel. La popularité de la langue en elle-même, la simplicité de son développement (au moins pour les tâches ETL) et le grand nombre de spécialistes du marché se sont avérés pour nous des facteurs décisifs. En général, selon l'idéologie de notre plateforme, le moteur ETL est similaire au mécanisme de «chargement des scripts» utilisé, par exemple, dans QlikView, à l'exception de la langue dans laquelle ces scripts sont écrits. J'espère que de nombreux fournisseurs de plateformes de BI arriveront tôt ou tard à un langage de programmation universel, mais pour l'instant nous travaillons avec ce qui est. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le cœur de la logique métier.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il s'agit plutôt d'un cadre qui consolide l'architecture logicielle et fournit un certain nombre d'API universelles avec lesquelles vous pouvez ajouter des composants analytiques d'informations supplémentaires appliqués au système. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'après ce que nous avons déjà, nous pouvons noter:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Constructeur et gestionnaire de formulaires de saisie de données</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Environnement de modélisation et d'analyse de simulation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Système de gestion des commandes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dépôt électronique de documents</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projet et module de gestion de projet</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voudrais souligner que ces composants sont présents dans le système pour une raison et ne vivent pas leur propre vie. </font><font style="vertical-align: inherit;">Ils sont étroitement liés les uns aux autres et directement au système de visualisation et de rapport. </font><font style="vertical-align: inherit;">En fait, ils deviennent soit des fournisseurs soit des consommateurs de données à cet effet. </font><font style="vertical-align: inherit;">Par exemple, à partir du système de gestion des commandes, vous pouvez créer un rapport à partir de zéro à partir de zéro qui affiche l'état de toutes les commandes et une liste des personnes paresseuses les plus malveillantes. </font><font style="vertical-align: inherit;">Et à partir du module de gestion de projet, obtenez les données sur les projets les plus «bloqués» et identifiez la raison du retard.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture technique</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le backend de l'application s'exécute sous Node.JS, intercalant un certain nombre de composants natifs critiques (en termes de performances). Comme toute application Node.JS, le système peut être mis en cluster, conteneurisé et déployé dans n'importe quel environnement répondant aux exigences de Node.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour stocker des métadonnées, vous pouvez utiliser la plupart des SGBD relationnels populaires, que nous déployons le plus souvent sur PostgreSQL. La base de données stocke toutes les méta-informations sur les rapports, les panneaux de contrôle, les processus ETL, les modules supplémentaires, etc. Le système peut également être utilisé comme un outil pour remplir le stockage de données tiers. Pour de petites quantités de données, vous pouvez organiser la visualisation en mode ROLAP, c'est-à-dire directement à partir des systèmes source. Quelque chose comme le «modèle associatif» de QlikView est également présent. Si vous sélectionnez deux ou plusieurs ensembles de données comme source de données pour le visualiseur, ils seront combinés en fonction des noms des colonnes en un seul ensemble.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frontend est un SPA classique sur React, des bibliothèques associées et des modules supplémentaires de JET BI lui-même. </font><font style="vertical-align: inherit;">La communication avec le backend se fait via le REST le plus courant, une partie du code est isomorphe, c'est-à-dire qu'il est utilisé par le front et le back. </font><font style="vertical-align: inherit;">Tout le code est ES7 avec des annotations de type (Flow), exécutées via Babel. </font><font style="vertical-align: inherit;">Nous avons abandonné Typescript en faveur de Flow, car lorsque nous avons commencé, ce dernier a déduit un peu mieux les types. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Très souvent (dans environ 80% des cas) nous prenons des modules open source prêts à l'emploi et n'inventons pas les nôtres (dans le backend un peu moins souvent). </font><font style="vertical-align: inherit;">Cela simplifie et réduit le coût de développement et de support, mais réduit légèrement la flexibilité. </font><font style="vertical-align: inherit;">Il y a eu des erreurs de calcul, après quoi certaines bibliothèques ont finalement dû être réécrites par elles-mêmes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fin de compte, je voudrais dire qu'en tant qu'architecte, je suis heureux que le "cadre" du système se soit avéré assez solide et stable d'une part, et d'autre part, universel et avec une marge de flexibilité suffisante (malgré l'abondance des bibliothèques open source susmentionnées). </font><font style="vertical-align: inherit;">C’est comme un sapin de Noël sur lequel on accroche constamment de nouveaux jouets. </font><font style="vertical-align: inherit;">Après tout, l'arbre doit résister à des jouets de différentes variétés et rayures, et en même temps ne pas tomber sous leur poids. </font><font style="vertical-align: inherit;">À mon avis, cet équilibre a été atteint dans JET BI, ce qui donne confiance que nos plans pour le développement du système seront mis en œuvre. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Albert Nurutdinov, architecte, Jet Infosystems</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr490170/index.html">Chef de projet dans un vice. Pourquoi et quoi faire à ce sujet</a></li>
<li><a href="../fr490174/index.html">Recherche DNS dans Kubernetes</a></li>
<li><a href="../fr490178/index.html">Alors que tout le monde se dirige vers l'ouest, je me suis déplacé en Arménie</a></li>
<li><a href="../fr490180/index.html">Modèles de stockage Kubernetes</a></li>
<li><a href="../fr490184/index.html">Alphabet a un deuxième groupe secret de développeurs informatiques quantiques</a></li>
<li><a href="../fr490190/index.html">Je vais chercher: géo-positionnement de l'hôte par adresse IP sur Internet global en utilisant le crypto échange Binance comme exemple</a></li>
<li><a href="../fr490194/index.html">Utilisation de RabbitMQ avec MonsterMQ Partie 4</a></li>
<li><a href="../fr490196/index.html">[Flipper Zero] refusez le Raspberry Pi, faites notre propre planche à partir de zéro. Trouver la bonne puce WiFi</a></li>
<li><a href="../fr490198/index.html">Faites confiance mais vérifiez! Zone de démonstration avec projecteurs Epson pour home cinéma dans la salle de démonstration Pult.ru</a></li>
<li><a href="../fr490202/index.html">Comptage de requêtes: test de base des performances Django</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>