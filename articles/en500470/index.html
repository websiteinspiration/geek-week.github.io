<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👆🏾 📄 👨🏾‍🏭 Adapting your existing business solution for SwiftUI. Part 3. Working with architecture 🌝 🤘🏿 👨🏻‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all! With you, I, Anna Zharkova, a leading mobile developer of Usetech. We
 
 continue to disassemble the intricacies of SwiftUI. The prev...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Adapting your existing business solution for SwiftUI. Part 3. Working with architecture</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500470/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Good day to all! </font><font style="vertical-align: inherit;">With you, I, Anna Zharkova, a leading mobile developer of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usetech. We</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
continue to disassemble the intricacies of SwiftUI. </font><font style="vertical-align: inherit;">The previous parts can be found at the links: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">part 1 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">part 2</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Today we’ll talk about the features of the architecture, and how to transfer and embed the existing business logic into the SwiftUI application.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The standard data stream in SwiftUI is based on the interaction of View and a certain model containing properties and state variables, or which is such a state variable. </font><font style="vertical-align: inherit;">Therefore, it is logical that MVVM is the recommended architectural partner for SwiftUI applications. </font><font style="vertical-align: inherit;">Apple suggests using it in conjunction with the Combine framework, which introduces declarative Api SwiftUI for processing values ​​over time. </font><font style="vertical-align: inherit;">ViewModel implements the ObservableObject protocol and connects as an ObservedObject to a specific View.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dd/ur/cp/ddurcpkb3o-tgqdmwl1gswmqvck.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modifiable model properties are declared as @Published. </font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NewsItemModel</span>: <span class="hljs-title">ObservableObject</span> </span>{<font></font>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> title: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> image: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> dateFormatted: <span class="hljs-type">String</span> = <span class="hljs-string">""</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As in the classic MVVM, ViewModel communicates with the data model (i.e. business logic) and transfers the data in one form or another View.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">NewsItemContentView</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">ObservedObject</span> <span class="hljs-keyword">var</span> moder: <span class="hljs-type">NewsItemModel</span><font></font>
    <font></font>
    <span class="hljs-keyword">init</span>(model: <span class="hljs-type">NewsItemModel</span>) {
        <span class="hljs-keyword">self</span>.model = model <font></font>
    }<font></font>
    <span class="hljs-comment">//... - </span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MVVM, like almost any other pattern, has a tendency to congestion and </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redundancy. The overloaded ViewModel always depends on how well the business logic is highlighted and abstracted. The load of the View is determined by the complexity of the dependence of the elements on state variables and transitions to other View. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In SwiftUI, what </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> added is that </font><b><font style="vertical-align: inherit;">View is a structure, not a class</font></b><font style="vertical-align: inherit;"> , and therefore </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">does not support inheritance, forcing code duplication.</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
If in small applications this is not critical, then with the growth of functionality and complexity of logic, overload becomes critical, and a large amount of copy-paste inhibits.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's try to use the approach of clean code and clean architecture in this case. We can’t completely abandon MVVM, after all, DataFlow SwiftUI is built on it, but it’s quite a bit to rebuild. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warning! </font></font><br>
</i><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you are allergic to articles about architecture, and Clean code turns inside out from a phrase, scroll down a couple of paragraphs. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is not exactly Clean code from Uncle Bob!</font></font><br>
</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Yes, we will not take Uncle Bob's Clean Code in its purest form. As for me, there is over-engineering in it. We will take only an idea. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main idea of ​​clean code is to create the most readable code, which can then be expanded and modified painlessly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are quite a few software development principles that are recommended to adhere to.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ep/yb/qx/epybqx2vc9lfjagxz2nlkawvzqc.png" width="50%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Many people know them, but not everyone loves and not everyone uses them. This is a separate topic for holivar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To ensure the purity of the code, at least it is necessary to divide the code into functional layers and modules, use the general solution of problems and implement the abstraction of the interaction between the components. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And at least you need to separate the UI code from the so-called business logic.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardless of the selected architectural pattern, the logic of working with the database and network, processing and storage of data is separated from the UI and the modules of the application itself. At the same time, the modules work with implementations of services or storages, which in turn access the general service of network requests or the general data storage. Initialization of variables by which you can access one or another service is performed in a certain general container, to which the application module (the module’s business logic) eventually accesses. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xj/5m/wj/xj5mwjxvmfme_cg6li2rowb9eny.png" width="75%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If we have selected and abstracted business logic, then we can arrange the interaction between the components of the modules as we like. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In principle, all existing patterns of iOS applications operate on the same principle.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/s_/b6/zl/s_b6zlrz8qcadakh4tgc75nh5da.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is always business logic, there is data. There is also a call manager, which is responsible for the presentation and transformation of data for output and where the converted data is output. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The only difference is how the roles are distributed between the components.</font></font><br>
<br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Because we strive to make the application readable, to simplify current and future changes, it is logical to separate all these roles. Our business logic has already been highlighted, the data is always separated. Remain dispatcher, presenter and view. As a result, we get an architecture consisting of View-Interactor-Presenter, in which the interactor interacts with the business logic services, the presenter converts the data and gives it as a kind of ViewModel to our View. In a good way, navigation and configuration are also taken out of View into separate components.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-g/wf/bx/-gwfbxs-tyq0noqy2kr87dm3-nw.png" width="75%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We get the VIP + R architecture with the division of controversial roles into different components. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's try to look at an example. </font><font style="vertical-align: inherit;">We have a small news aggregator application </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
written in SwiftUI and MVVM. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h-/ds/od/h-dsodxehcqsfbzn1oo0nruhx-y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The application has 3 separate screens with its own logic, i.e. 3 modules: </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">news list module;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">news screen module;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">news search module.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each of the modules consists of a ViewModel, which interacts with the selected business logic, and a View, which displays what the ViewModel broadcasts to it. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/50/d1/7f/50d17fsmobld9mjgujdz3pe4f8g.png" width="60%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We strive to ensure that ViewModel is only concerned with storing data that is ready for display. Now he is engaged in both accessing services and processing the results. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We transfer these roles to the presenter and interactor, which we set up for each </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
module. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5e/hd/i8/5ehdi8kd3otiltlepisfdr9pzua.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The interactor passes the data received from the service to the presenter, which fills the existing ViewModel bound to the View with prepared data. In principle, with regard to the separation of the business logic of the module, everything is simple.  </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now go to View. </font><font style="vertical-align: inherit;">Let's try to deal with forced code duplication. </font><font style="vertical-align: inherit;">If we are dealing with some kind of control, then it may be his styles or settings. </font><font style="vertical-align: inherit;">If we are talking about the on-screen View, then this:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Screen styles</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> common UI elements (LoadingView);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> information alerts;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> some general methods.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We cannot use inheritance, but we can quite </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">use composition</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is by this principle that all custom Views in SwiftUI are created. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, we create a View container, into which we transfer all the same logic, and pass our on-screen View to the container initializer and then use it as a content View inside the body.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContainerView</span>&lt;<span class="hljs-title">Content</span>&gt;: <span class="hljs-title">IContainer</span>, <span class="hljs-title">View</span> <span class="hljs-title">where</span> <span class="hljs-title">Content</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">ObservedObject</span> <span class="hljs-keyword">var</span> containerModel = <span class="hljs-type">ContainerModel</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> content: <span class="hljs-type">Content</span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(content: <span class="hljs-type">Content</span>) {
        <span class="hljs-keyword">self</span>.content = content<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">var</span> body : some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {<font></font>
            content<font></font>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">self</span>.containerModel.isLoading) {
                <span class="hljs-type">LoaderView</span>()<font></font>
            }<font></font>
        }.alert(isPresented: $containerModel.hasError){<font></font>
            <span class="hljs-type">Alert</span>(title: <span class="hljs-type">Text</span>(<span class="hljs-string">""</span>), message: <span class="hljs-type">Text</span>(containerModel.errorText),<font></font>
                 dismissButton: .<span class="hljs-keyword">default</span>(<span class="hljs-type">Text</span>(<span class="hljs-string">"OK"</span>)){
                <span class="hljs-keyword">self</span>.containerModel.errorShown()<font></font>
                })<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The on-screen View is embedded in the ZStack inside the body ContainerView, which also contains code for displaying the LoadingView and code for displaying an information alert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We also need our ContainerView to receive a signal from the ViewModel of the internal View and update its state. </font><font style="vertical-align: inherit;">We cannot subscribe via @Observed to the same model </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
as the internal View, because we will drag its signals. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hg/y4/gv/hgy4gvxu5fbdn4lbxs6vuzggrca.png" width="60%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, we establish communication with it through the delegate pattern, and for the current state of the container we use its own ContainerModel.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ContainerModel</span>:<span class="hljs-title">ObservableObject</span> </span>{<font></font>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> hasError: <span class="hljs-type">Bool</span> = <span class="hljs-literal">false</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> errorText: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> isLoading: <span class="hljs-type">Bool</span> = <span class="hljs-literal">false</span><font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">setupError</span><span class="hljs-params">(error: String)</span></span>{
     <span class="hljs-comment">//....</span><font></font>
       }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">errorShown</span><span class="hljs-params">()</span></span> {
     <span class="hljs-comment">//...</span><font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showLoading</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">self</span>.isLoading = <span class="hljs-literal">true</span><font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hideLoading</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">self</span>.isLoading = <span class="hljs-literal">false</span><font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ContainerView implements the IContainer protocol; an instance reference is assigned to the embedded View model. </font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span>  <span class="hljs-title">IContainer</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showError</span><span class="hljs-params">(error: String)</span></span><font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showLoading</span><span class="hljs-params">()</span></span><font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hideLoading</span><span class="hljs-params">()</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContainerView</span>&lt;<span class="hljs-title">Content</span>&gt;: <span class="hljs-title">IContainer</span>, <span class="hljs-title">View</span> <span class="hljs-title">where</span> <span class="hljs-title">Content</span>: <span class="hljs-title">View</span>&amp;<span class="hljs-title">IModelView</span> </span>{<font></font>
    @<span class="hljs-type">ObservedObject</span> <span class="hljs-keyword">var</span> containerModel = <span class="hljs-type">ContainerModel</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> content: <span class="hljs-type">Content</span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(content: <span class="hljs-type">Content</span>) {
        <span class="hljs-keyword">self</span>.content = content
        <span class="hljs-keyword">self</span>.content.viewModel?.listener = <span class="hljs-keyword">self</span><font></font>
    }<font></font>
    <span class="hljs-comment">//- </span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
View implements the IModelView protocol to encapsulate model access and unify some logic. </font><font style="vertical-align: inherit;">Models for the same purpose implement the IModel protocol:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">IModelView</span> </span>{
    <span class="hljs-keyword">var</span> viewModel: <span class="hljs-type">IModel?</span> {<span class="hljs-keyword">get</span>}<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">protocol</span>  <span class="hljs-title">IModel</span>:<span class="hljs-title">class</span> </span>{
   <span class="hljs-comment">//....</span>
    <span class="hljs-keyword">var</span> listener:<span class="hljs-type">IContainer?</span> {<span class="hljs-keyword">get</span> <span class="hljs-keyword">set</span>}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then, already in this model, if necessary, the delegate method is called, for example, to display an alert with an error in which the state variable of the container model changes.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContainerView</span>&lt;<span class="hljs-title">Content</span>&gt;: <span class="hljs-title">IContainer</span>, <span class="hljs-title">View</span> <span class="hljs-title">where</span> <span class="hljs-title">Content</span>: <span class="hljs-title">View</span>&amp;<span class="hljs-title">IModelView</span> </span>{<font></font>
    @<span class="hljs-type">ObservedObject</span> <span class="hljs-keyword">var</span> containerModel = <span class="hljs-type">ContainerModel</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> content: <span class="hljs-type">Content</span><font></font>
<font></font>
    <span class="hljs-comment">//- </span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showError</span><span class="hljs-params">(error: String)</span></span> {
        <span class="hljs-keyword">self</span>.containerModel.setupError(error: error)<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showLoading</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">self</span>.containerModel.showLoading()<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hideLoading</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">self</span>.containerModel.hideLoading()<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we can unify the work of the View by switching to work through the ContainerView. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This will greatly facilitate our lives when working with the configuration of the following modules and navigation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How to configure navigation in SwiftUI and make a clean configuration, we will talk in the next </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">part</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can find the source code of the example </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en500454/index.html">“What marinas?” or we control the controller via bluetooth using a mobile application on Xamarin (Android)</a></li>
<li><a href="../en500456/index.html">BpfTrace - finally, a complete replacement for Dtrace on Linux</a></li>
<li><a href="../en500458/index.html">Online Speech Technical Features: Starter Pack</a></li>
<li><a href="../en500462/index.html">Detect scene changes and save h264 video clips on Raspberry Pi without decoding</a></li>
<li><a href="../en500468/index.html">Java Features Guide 8-14</a></li>
<li><a href="../en500472/index.html">Python is time to make room. About the prospects of Julia</a></li>
<li><a href="../en500476/index.html">Uncertainty</a></li>
<li><a href="../en500478/index.html">Tetris on the sleeve: gas-permeable material for wearable electronics</a></li>
<li><a href="../en500484/index.html">Web Components Instead of React - Another Attempt</a></li>
<li><a href="../en500486/index.html">How to explain binary notation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>