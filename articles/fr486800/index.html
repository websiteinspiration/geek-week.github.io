<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî≠ ‚è© üîâ Cassandra. Comment ne pas mourir si vous ne connaissez qu'Oracle üç¶ üíÖüèø üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr. 
 
 Mon nom est Misha Butrimov, je voudrais parler un peu de Cassandra. Mon histoire sera utile √† ceux qui n'ont jamais rencontr√© de ba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cassandra. Comment ne pas mourir si vous ne connaissez qu'Oracle</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qiwi/blog/486800/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, Habr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon nom est Misha Butrimov, je voudrais parler un peu de Cassandra. Mon histoire sera utile √† ceux qui n'ont jamais rencontr√© de bases de donn√©es NoSQL - elle a beaucoup de fonctionnalit√©s d'impl√©mentation et d'emb√ªches que vous devez conna√Ætre. Et si, √† part Oracle ou toute autre base relationnelle, vous n'avez rien vu, ces choses vous sauveront la vie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce qui est bon avec Cassandra? Il s'agit d'une base de donn√©es NoSQL con√ßue sans point de d√©faillance unique, qui √©volue bien. Si vous devez ajouter quelques t√©raoctets pour n'importe quelle base, il vous suffit d'ajouter des n≈ìuds √† l'anneau. L'√©tendre √† un autre centre de donn√©es? Ajoutez des n≈ìuds au cluster. Augmenter le RPS trait√©? Ajoutez des n≈ìuds au cluster. L'autre mani√®re fonctionne √©galement.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/4s/4m/jn/4s4mjnltsraqofl5-ey4g2fi9t0.png" width="700"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä quoi d'autre est-elle bonne? </font><font style="vertical-align: inherit;">C'est pour traiter beaucoup de demandes. </font><font style="vertical-align: inherit;">Mais combien co√ªte combien? </font><font style="vertical-align: inherit;">10, 20, 30, 40 000 requ√™tes par seconde - ce n'est pas beaucoup. </font><font style="vertical-align: inherit;">100 000 demandes d'enregistrement par seconde √©galement. </font><font style="vertical-align: inherit;">Certaines entreprises ont d√©clar√© d√©tenir 2 millions de demandes par seconde. </font><font style="vertical-align: inherit;">Ici, ils doivent probablement croire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et en principe, Cassandra a une grande diff√©rence avec les donn√©es relationnelles - elle ne leur ressemble pas du tout. </font><font style="vertical-align: inherit;">Et c'est tr√®s important √† retenir.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout ce qui se ressemble ne fonctionne pas de la m√™me fa√ßon</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois qu'un coll√®gue est venu me voir et m'a demand√©: ¬´Voici le langage de requ√™te CQL Cassandra, et il a une instruction select, il a o√π, il a et. J'√©cris des lettres et √ßa ne marche pas. Pourquoi?". Si vous traitez Cassandra comme une base de donn√©es relationnelle, c'est un moyen id√©al de mettre fin √† votre vie par un suicide brutal. Et je ne le pr√©conise pas, c'est interdit en Russie. Vous concevez simplement quelque chose de mal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, un client vient √† nous et dit: ¬´Cr√©ons une base de donn√©es pour les √©missions de t√©l√©vision, ou une base de donn√©es pour un r√©pertoire de recettes. Nous y aurons des plats ou une liste de s√©ries et d'acteurs. ¬ª Nous disons joyeusement: "Allez!". Ce sont deux octets √† envoyer, quelques plaques et tout est pr√™t, tout fonctionnera tr√®s rapidement, de mani√®re fiable. Et tout va bien jusqu'√† ce que les clients viennent et disent que les femmes au foyer r√©solvent √©galement le probl√®me inverse: elles ont une liste de produits et elles veulent savoir quel plat elles veulent cuisiner. Tu es mort. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En effet, Cassandra est une base de donn√©es hybride: elle est √† la fois une valeur cl√© et stocke les donn√©es dans de larges colonnes. Parlant en Java ou Kotlin, il pourrait √™tre d√©crit comme ceci:</font></font><br>
<br>
<code>Map&lt;RowKey, SortedMap&lt;ColumnKey, ColumnValue&gt;&gt;</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, une carte, √† l'int√©rieur de laquelle se trouve √©galement une carte tri√©e. La premi√®re cl√© de cette carte est la cl√© Row ou la cl√© de partition - la cl√© de partition. La deuxi√®me cl√©, qui est la cl√© de la carte d√©j√† tri√©e, est la cl√© de clustering. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour illustrer la distribution de la base de donn√©es, nous dessinons trois n≈ìuds. Vous devez maintenant comprendre comment d√©composer les donn√©es en n≈ìuds. Parce que si nous mettons tout en un (en passant, il peut y en avoir mille, deux mille, cinq - autant que vous le souhaitez), ce n'est pas vraiment une question de distribution. Par cons√©quent, nous avons besoin d'une fonction math√©matique qui renverra un nombre. Juste un nombre, un long int qui tombera dans une certaine plage. Et nous avons un n≈ìud sera responsable d'une plage, le second - pour le deuxi√®me, n-√®me - pour le n-√®me.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/xn/mn/vlxnmnvvigtwc_ho-wkjqy5r60e.png" width="900"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce nombre est pris √† l'aide d'une fonction de hachage qui s'applique uniquement √† ce que nous appelons la cl√© de partition. </font><font style="vertical-align: inherit;">Il s'agit de la colonne sp√©cifi√©e dans la directive Cl√© primaire, et c'est la colonne qui sera la premi√®re et la cl√© de mappage la plus √©l√©mentaire. </font><font style="vertical-align: inherit;">Il d√©termine quel n≈ìud obtient quelles donn√©es. </font><font style="vertical-align: inherit;">Une table est cr√©√©e dans Cassandra avec presque la m√™me syntaxe qu'en SQL:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">users</span> (<font></font>
	user_id uu <span class="hljs-keyword">id</span>,
	<span class="hljs-keyword">name</span> <span class="hljs-built_in">text</span>,
	<span class="hljs-keyword">year</span> <span class="hljs-built_in">int</span>,<font></font>
	salary <span class="hljs-built_in">float</span>,<font></font>
	PRIMARY <span class="hljs-keyword">KEY</span>(user_id)<font></font>
<font></font>
)<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, la cl√© primaire se compose d'une colonne et il s'agit √©galement d'une cl√© de partition. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment les utilisateurs vont-ils tomber avec nous? </font><font style="vertical-align: inherit;">Une partie tombera sur une note, une partie sur une autre et une partie sur une troisi√®me. </font><font style="vertical-align: inherit;">Il se r√©v√®le une table de hachage ordinaire, c'est aussi une carte, c'est aussi un dictionnaire en Python, c'est aussi une simple structure de valeurs Key √† partir de laquelle on peut lire toutes les valeurs, lire et √©crire par cl√©.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vp/3_/xa/vp3_xa1bupu1wawi77ytwk0pike.png" width="900"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√©lectionnez: quand autoriser le filtrage se transforme en analyse compl√®te, ou comment ne pas le faire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âcrivons une d√©claration Le select: </font></font><code>select * from users where, userid = </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il s'av√®re que cela ressemble √† Oracle: nous √©crivons select, nous sp√©cifions les conditions et tout fonctionne, les utilisateurs l'obtiennent. Mais si vous s√©lectionnez, par exemple, un utilisateur avec une certaine ann√©e de naissance, Cassandra jure qu'elle ne peut pas r√©pondre √† la demande. Parce qu'elle ne sait rien sur la fa√ßon dont nous distribuons les donn√©es sur l'ann√©e de naissance - elle n'a qu'une seule colonne sp√©cifi√©e comme cl√©. Puis elle dit: ¬´D'accord, je peux toujours r√©pondre √† cette demande. Ajoutez autoriser le filtrage. " Nous ajoutons une directive, tout fonctionne. Et √† ce moment, une chose terrible se produit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous conduisons sur des donn√©es de test, tout va bien. Et lorsque vous r√©pondez √† la demande en production, o√π, par exemple, nous avons 4 millions d'enregistrements, alors tout ne va pas tr√®s bien chez nous. Parce que permettre le filtrage est une directive qui permet √† Cassandra de collecter toutes les donn√©es de cette table de tous les n≈ìuds, de tous les centres de donn√©es (s'il y en a beaucoup dans ce cluster), puis de les filtrer uniquement. Il s'agit d'un analogue de Full Scan, et presque personne n'en est ravi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous n'avions besoin d'utilisateurs que par identifiants, cela nous conviendrait. Mais parfois, nous devons √©crire d'autres requ√™tes et imposer d'autres restrictions √† la s√©lection. Par cons√©quent, nous nous souvenons: nous avons tous une carte, qui a une cl√© de partition, mais √† l'int√©rieur, il y a une carte tri√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et elle a aussi une cl√©, que nous appelons la Clustering Key. Cette cl√©, qui, √† son tour, se compose des colonnes que nous s√©lectionnons, avec lesquelles Cassandra comprend comment ses donn√©es sont tri√©es physiquement et reposera sur chaque n≈ìud. Autrement dit, pour une cl√© de partition, la cl√© de clustering vous dira exactement comment pousser les donn√©es dans cet arbre, quelle place elles y prendront. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'un v√©ritable arbre, un comparateur est simplement appel√© l√†, dans lequel nous passons un certain ensemble de colonnes sous la forme d'un objet, et il est √©galement d√©fini sous la forme d'une √©num√©ration de colonnes.</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users_by_year_salary_id (<font></font>
	user_id <span class="hljs-keyword">uuid</span>,
	<span class="hljs-keyword">name</span> <span class="hljs-built_in">text</span>,
	<span class="hljs-keyword">year</span> <span class="hljs-built_in">int</span>,<font></font>
	salary <span class="hljs-built_in">float</span>,<font></font>
	PRIMARY <span class="hljs-keyword">KEY</span>((<span class="hljs-keyword">year</span>), salary, user_id)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faites attention √† la directive Cl√© primaire, elle a le premier argument (dans notre cas l'ann√©e) est toujours la cl√© de partition. </font><font style="vertical-align: inherit;">Il peut consister en une ou plusieurs colonnes, peu importe. </font><font style="vertical-align: inherit;">S'il y a plusieurs colonnes, vous devez les supprimer √† nouveau entre parenth√®ses afin que le pr√©processeur de langue comprenne qu'il s'agit de la cl√© primaire et derri√®re toutes les autres colonnes - la cl√© de clustering. </font><font style="vertical-align: inherit;">Dans ce cas, ils seront transmis dans le comparateur dans l'ordre dans lequel ils vont. </font><font style="vertical-align: inherit;">Autrement dit, la premi√®re colonne est plus importante, la seconde est moins importante, etc. </font><font style="vertical-align: inherit;">Lorsque nous √©crivons pour des classes de donn√©es, par exemple, est √©gal √† champs: nous listons les champs, et pour eux, nous √©crivons ceux qui sont plus grands et ceux qui sont plus petits. </font><font style="vertical-align: inherit;">Dans Cassandra, il s'agit, relativement parlant, du champ de classe de donn√©es auquel les √©gaux √©crits pour lui seront appliqu√©s.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous fixons le tri, imposons des restrictions</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il ne faut pas oublier que l'ordre de tri (d√©croissant, croissant, peu importe) est d√©fini en m√™me temps que la cl√© est cr√©√©e, et vous ne pourrez plus le modifier ult√©rieurement. Il d√©termine physiquement comment les donn√©es seront tri√©es et comment elles se trouveront. Si vous devez modifier la cl√© de clustering ou l'ordre de tri, vous devrez cr√©er une nouvelle table et y verser des donn√©es. Avec l'existant, cela ne fonctionnera pas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kg/qh/qt/kgqhqtjece2c4irbhyll0mxsl10.png" width="900"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons rempli notre table d'utilisateurs et avons vu qu'ils sont entr√©s dans un ring, d'abord par ann√©e de naissance, puis √† l'int√©rieur de chaque n≈ìud par salaire et par ID utilisateur. Maintenant, nous pouvons s√©lectionner, imposer des restrictions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre travail r√©appara√Æt</font></font><code>where, and</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et les utilisateurs nous contactent, et tout va bien √† nouveau. </font><font style="vertical-align: inherit;">Mais si nous essayons d'utiliser uniquement la partie cl√© Clustering, la moins importante, Cassandra jurera tout de suite que nous ne pouvons pas trouver dans notre carte o√π cet objet a ces champs pour le comparateur null, mais celui qui vient d'√™tre d√©fini - o√π il se trouve. </font><font style="vertical-align: inherit;">Je vais devoir √† nouveau r√©cup√©rer toutes les donn√©es de ce n≈ìud et les filtrer. </font><font style="vertical-align: inherit;">Et ceci est un analogue de Full Scan au sein du n≈ìud, c'est mauvais.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans toute situation incompr√©hensible, cr√©ez une nouvelle table</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous voulons pouvoir obtenir des utilisateurs par ID, par √¢ge ou par salaire, que devons-nous faire? Rien. Utilisez simplement deux tableaux. Si vous devez obtenir des utilisateurs de trois mani√®res diff√©rentes, il y aura trois tableaux. Il est r√©volu le temps o√π nous avons √©conomis√© de l'espace sur la vis. C'est la ressource la moins ch√®re. Il co√ªte beaucoup moins cher que le temps de r√©ponse, ce qui peut √™tre fatal √† l'utilisateur. L'utilisateur est beaucoup plus agr√©able d'obtenir quelque chose en une seconde qu'en 10 minutes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous √©changeons un espace excessif, des donn√©es d√©normalis√©es pour la capacit√© de bien √©voluer, de travailler de mani√®re fiable. En effet, en fait, un cluster compos√© de trois centres de donn√©es, chacun ayant cinq n≈ìuds, avec un niveau de stockage de donn√©es acceptable (quand rien n'est perdu √† coup s√ªr), est capable de survivre √† la mort d'un centre de donn√©es compl√®tement. Et deux autres n≈ìuds dans chacun des deux restants. Et ce n'est qu'apr√®s que les probl√®mes commencent. C'est une assez bonne redondance, cela co√ªte quelques disques SSD et processeurs inutiles. Par cons√©quent, pour utiliser Cassandra, qui n'est jamais SQL, dans lequel il n'y a pas de relations, pas de cl√©s √©trang√®res, vous devez conna√Ætre des r√®gles simples.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous concevons tout √† partir d'une demande. L'essentiel n'est pas les donn√©es, mais la fa√ßon dont l'application va fonctionner avec elles. S'il a besoin de recevoir diff√©rentes donn√©es de diff√©rentes mani√®res ou les m√™mes donn√©es de diff√©rentes mani√®res, nous devons les mettre de la mani√®re qui conviendra √† l'application. Sinon, nous √©chouerons en Full Scan et Cassandra ne nous donnera aucun avantage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La d√©normalisation des donn√©es est la norme. Oubliez les formulaires normaux, nous n'avons plus de bases de donn√©es relationnelles. On met quelque chose 100 fois, √ßa va mentir 100 fois. C‚Äôest moins cher que de l‚Äôarr√™ter de toute fa√ßon.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous s√©lectionnons les cl√©s pour le partitionnement afin qu'elles soient normalement distribu√©es. </font><font style="vertical-align: inherit;">Nous n'avons pas besoin du hachage de nos cl√©s pour tomber dans une plage √©troite. </font><font style="vertical-align: inherit;">Autrement dit, l'ann√©e de naissance dans l'exemple ci-dessus est un mauvais exemple. </font><font style="vertical-align: inherit;">Au contraire, il est bon que nos utilisateurs soient normalement r√©partis par ann√©e de naissance, et mauvais si nous parlons d'√©l√®ves de 5e ann√©e - il ne sera pas tr√®s bon d'y partitionner. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le tri est s√©lectionn√© une fois lors de la cr√©ation de la Clustering Key. </font><font style="vertical-align: inherit;">Si vous devez le changer, vous devrez remplir notre table avec une cl√© diff√©rente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et le plus important: si nous devons collecter les m√™mes donn√©es de 100 mani√®res diff√©rentes, nous aurons alors 100 tableaux diff√©rents.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr486788/index.html">Webinaire ¬´Surveillance √† distance et diagnostic des √©quipements. √âtudes de cas sur la solution CNC de Winnum ¬ª</a></li>
<li><a href="../fr486790/index.html">Et encore une fois Qbot - une nouvelle souche de cheval de Troie bancaire</a></li>
<li><a href="../fr486792/index.html">Le chemin du robot vers le satellite glac√© d'une autre plan√®te commence dans les profondeurs de l'Antarctique</a></li>
<li><a href="../fr486794/index.html">Les processus des neurones humains ont montr√© une capacit√© inattendue √† calculer</a></li>
<li><a href="../fr486798/index.html">Y a-t-il un GameDev √† Sakhaline? Fin</a></li>
<li><a href="../fr486802/index.html">Les gens rencontrent des syst√®mes de recommandation. Factorisation</a></li>
<li><a href="../fr486804/index.html">Informatique de sant√© mondiale: technologies cloud</a></li>
<li><a href="../fr486808/index.html">Test de grossesse √©lectronique en pharmacie: comment √ßa marche</a></li>
<li><a href="../fr486810/index.html">Nouvelle interface Odnoklassniki: lancement de React en Java. Partie II</a></li>
<li><a href="../fr486814/index.html">Zabbix: la topologie du r√©seau est claire et automatique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>