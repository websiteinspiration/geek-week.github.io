<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¥üèΩ üßò üë©üèº‚Äçüè´ Hidrolog√≠a de procedimiento: simulaci√≥n din√°mica de r√≠os y lagos. üÖæÔ∏è üíÉüèæ üë©üèø‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nota: el c√≥digo fuente completo del proyecto se publica en Github [ aqu√≠ ]. El repositorio tambi√©n contiene informaci√≥n detallada sobre c√≥mo leer y us...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hidrolog√≠a de procedimiento: simulaci√≥n din√°mica de r√≠os y lagos.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498290/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93d/664/fbe/93d664fbe19ce63dfa6b60d9621d07ae.png"></div><blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: el</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c√≥digo fuente completo del proyecto se publica en Github [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]. </font><font style="vertical-align: inherit;">El repositorio tambi√©n contiene informaci√≥n detallada sobre c√≥mo leer y usar el c√≥digo.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de implementar la simulaci√≥n de erosi√≥n hidr√°ulica basada en part√≠culas, decid√≠ que ser√≠a posible expandir este concepto para simular otros aspectos de la hidrolog√≠a superficial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Investigu√© los m√©todos existentes de generaci√≥n procesal de r√≠os y lagos, pero los resultados encontrados no me conven√≠an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El objetivo principal de muchos m√©todos es crear sistemas fluviales (muy hermosos) usando varios algoritmos (a veces basados ‚Äã‚Äãen un mapa de elevaci√≥n creado previamente o un problema inverso), pero carecen de una fuerte relaci√≥n realista entre la topograf√≠a y la hidrolog√≠a. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, el procesamiento del modelo de agua en el relieve en su conjunto se considera en algunos recursos y se utiliza una simulaci√≥n de fluidos altamente complejos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este art√≠culo, demostrar√© mi intento de superar estos problemas con una t√©cnica que extiende la capacidad de simular la erosi√≥n hidr√°ulica basada en part√≠culas. </font><font style="vertical-align: inherit;">Tambi√©n explicar√© c√≥mo, en general, resuelvo el problema del "agua en el alivio". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mi m√©todo, me esfuerzo tanto por la simplicidad como por el realismo a costa de un ligero aumento en la complejidad del sistema de erosi√≥n subyacente. </font><font style="vertical-align: inherit;">Recomiendo leer mi art√≠culo anterior sobre este sistema [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traducci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en Habr√©], porque el nuevo modelo se basa en √©l.</font></font><br>
<a name="habracut"></a><br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology6.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este sistema es capaz de generar r√°pidamente un terreno de aspecto muy realista con hidrolog√≠a. </font><font style="vertical-align: inherit;">Este video fue renderizado en tiempo real. </font><font style="vertical-align: inherit;">El sistema es capaz de generar un n√∫mero infinito de tales paisajes.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explicaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no soy ge√≥logo, as√≠ que cre√© el sistema basado en mi conocimiento.</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Concepto de hidrolog√≠a</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiero crear un sistema generativo que pueda simular muchos fen√≥menos geogr√°ficos, que incluyen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migraci√≥n de r√≠os y arroyos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cascadas naturales</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formaci√≥n del ca√±√≥n</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinchaz√≥n del suelo y llanuras aluviales.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En consecuencia, los sistemas de hidrolog√≠a y topograf√≠a deben ser din√°micos y estrechamente relacionados. </font><font style="vertical-align: inherit;">El sistema de erosi√≥n hidr√°ulica basado en part√≠culas ya tiene los aspectos b√°sicos necesarios para esto:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El alivio afecta el movimiento del agua.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La erosi√≥n y la sedimentaci√≥n afectan el terreno.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, este sistema simula la erosi√≥n causada por la lluvia, pero no puede transmitir muchas otras influencias:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En una </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">corriente en</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> movimiento </font><strong><font style="vertical-align: inherit;">, el</font></strong><font style="vertical-align: inherit;"> agua se comporta de manera diferente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En una </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">piscina de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pie </font><strong><font style="vertical-align: inherit;">, el</font></strong><font style="vertical-align: inherit;"> agua se comporta de manera diferente.</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a menudo mencionar√© </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arroyos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">piscinas</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se asume en el modelo que estos son fen√≥menos bidimensionales a gran escala. </font><font style="vertical-align: inherit;">Reducen en gran medida la complejidad del modelo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mayor√≠a de los fen√≥menos geogr√°ficos anteriores pueden transmitirse utilizando el modelo de flujos y cuencas. </font><font style="vertical-align: inherit;">Idealmente, deber√≠an tomar prestado y mejorar el realismo de un sistema basado en part√≠culas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelo hidrol√≥gico simplificado</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Almacenar informaci√≥n sobre flujos y agrupaciones en una o m√°s estructuras de datos (gr√°ficos, objetos, etc.) es demasiado complejo y limita nuestras capacidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, nuestro modelo hidrol√≥gico consta de dos mapas: </font><strong><font style="vertical-align: inherit;">mapas de </font></strong></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flujo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mapas de cuenca</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no olvide que est√°n modelados como sistemas 2D.</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas de corrientes y piscinas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El mapa de flujo describe el flujo de agua en la superficie (arroyos y r√≠os). </font><font style="vertical-align: inherit;">Almacena las posiciones de part√≠culas promediadas en el tiempo en el mapa. </font><font style="vertical-align: inherit;">La informaci√≥n antigua se est√° eliminando lentamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El mapa de la cuenca describe el agua inm√≥vil en la superficie (charcos, estanques, lagos, oc√©anos). </font><font style="vertical-align: inherit;">Almacena la profundidad del agua en la posici√≥n correspondiente del mapa.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: los</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mapas de flujo y agrupaci√≥n son matrices del mismo tama√±o que el mapa de altura.</font></font></blockquote><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/869/209/77f/86920977ff555d0cf5a2e0a923d79207.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alivio con impacto hidrol√≥gico. </font><font style="vertical-align: inherit;">La capa de agua en el renderizado se toma de mapas hidrol√≥gicos.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f1/2a1/1c2/0f12a11c2164cc93995a9f5599b1a7a9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas hidrol√≥gicos combinados. </font><font style="vertical-align: inherit;">El azul claro es un mapa de flujo; el azul oscuro es un mapa de piscina. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estos mapas son generados y conectados por part√≠culas que mueven el agua a lo largo del terreno. </font><font style="vertical-align: inherit;">Agregar estos mapas hidrol√≥gicos tambi√©n nos brinda informaci√≥n independiente del tiempo que permite la interacci√≥n de las part√≠culas con su simulaci√≥n por separado. </font><font style="vertical-align: inherit;">Las part√≠culas pueden interactuar mediante el uso de estas tarjetas para obtener par√°metros que afectan su movimiento. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> el mapa de flujo se muestra despu√©s de pasar por la funci√≥n de entrada y salida y se representa en el terreno en funci√≥n de esto. </font><font style="vertical-align: inherit;">Para obtener flujos m√°s finos / n√≠tidos (o ignorar valores m√°s bajos en √°reas planas amplias), esta pantalla se puede modificar o establecer valores de umbral para ello.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El agua como part√≠cula.</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El agua se presenta en forma de una masa discreta ("part√≠culas") que tiene un volumen y se mueve a lo largo de la superficie del relieve. </font><font style="vertical-align: inherit;">Tiene varios par√°metros que afectan su movimiento (fricci√≥n, velocidad de evaporaci√≥n, velocidad de deposici√≥n, etc.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta es la estructura b√°sica de datos utilizada para simular la hidrolog√≠a. </font><font style="vertical-align: inherit;">Las part√≠culas </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no se almacenan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pero se usan solo para la interacci√≥n entre mapas de alturas, flujos y piscinas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: el</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> concepto de una part√≠cula se explica con m√°s detalle en una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publicaci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> anterior </font><font style="vertical-align: inherit;">[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traducci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en Habr√©] (y un n√∫mero infinito de otros recursos).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ciclo hidrol√≥gico e interacci√≥n cartogr√°fica.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los mapas interact√∫an entre s√≠ a trav√©s de un ciclo hidrol√≥gico. </font><font style="vertical-align: inherit;">El ciclo hidrol√≥gico consta de los siguientes pasos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creando una part√≠cula en el terreno</font></font></li>
<li><strong></strong>        (.. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">     </a>).</li>
<li>        ,                  <strong></strong>.</li>
<li>  ,           <strong></strong>.</li>
<li> ,     (    )      .</li>
<li>     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En todo el sistema, solo hay dos algoritmos: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descenso (descenso)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inundaci√≥n (inundaci√≥n)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Las part√≠culas descendentes cambian el mapa de flujos, y las part√≠culas de inundaci√≥n cambian el mapa de cuencas. </font><font style="vertical-align: inherit;">Estos algoritmos se describen en detalle a continuaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/989/a81/2cb/989a812cb5d769edbb76fd5a284d18b1.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagrama unidimensional del modelo hidrol√≥gico. </font><font style="vertical-align: inherit;">Las part√≠culas se crean en el terreno y se procesan c√≠clicamente mediante dos algoritmos: Descenso e Inundaci√≥n. </font><font style="vertical-align: inherit;">En el proceso, los mapas de las cuencas y los flujos cambian, lo que a su vez afecta el movimiento de las part√≠culas.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementaci√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuaci√≥n explicar√© la implementaci√≥n completa del sistema utilizado para generar los resultados y presentar√© ejemplos de c√≥digo. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> solo mostrar√© piezas de c√≥digo relevantes. </font><font style="vertical-align: inherit;">Se puede encontrar m√°s informaci√≥n en el repositorio en Github. </font><font style="vertical-align: inherit;">Todas las partes relevantes del c√≥digo est√°n en el archivo "water.h".</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clase de part√≠cula</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La estructura de la part√≠cula Drop es id√©ntica a la estructura del sistema anterior. </font><font style="vertical-align: inherit;">Descender e inundar ahora son miembros de la estructura porque act√∫an sobre una sola part√≠cula a la vez.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Drop</span>{</span><font></font>
  <font></font>
  <span class="hljs-comment">//... constructors</span><font></font>
<font></font>
  <span class="hljs-keyword">int</span> index;                         <span class="hljs-comment">//Flat Array Index</span>
  glm::vec2 pos;                     <span class="hljs-comment">//2D Position</span>
  glm::vec2 speed = glm::vec2(<span class="hljs-number">0.0</span>);
  <span class="hljs-keyword">double</span> volume = <span class="hljs-number">1.0</span>;
  <span class="hljs-keyword">double</span> sediment = <span class="hljs-number">0.0</span>;<font></font>
<font></font>
  <span class="hljs-comment">//... parameters</span>
  <span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> volumeFactor = <span class="hljs-number">100.0</span>; <span class="hljs-comment">//"Water Deposition Rate"</span><font></font>
<font></font>
  <span class="hljs-comment">//Hydrological Cycle Functions</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">descend</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* stream, <span class="hljs-keyword">double</span>* pool, <span class="hljs-keyword">bool</span>* track, glm::ivec2 dim, <span class="hljs-keyword">double</span> scale)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">flood</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* pool, glm::ivec2 dim)</span></span>;<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un par√°metro adicional es el factor de volumen, que determina c√≥mo las inundaciones transfieren el volumen al nivel del agua.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo de descenso</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El algoritmo de descenso es casi el mismo que el algoritmo simple de erosi√≥n de part√≠culas. </font><font style="vertical-align: inherit;">Recibe una "pista" de entrada adicional, una matriz en la que escribe todas las posiciones visitadas por √©l. </font><font style="vertical-align: inherit;">Se necesita una matriz para construir mapas de flujo en el futuro.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Drop::descend</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* stream, <span class="hljs-keyword">double</span>* pool, <span class="hljs-keyword">bool</span>* track, glm::ivec2 dim, <span class="hljs-keyword">double</span> scale)</span></span>{<font></font>
<font></font>
  glm::ivec2 ipos; <font></font>
<font></font>
  <span class="hljs-keyword">while</span>(volume &gt; minVol){<font></font>
<font></font>
    ipos = pos; <span class="hljs-comment">//Initial Position</span>
    <span class="hljs-keyword">int</span> ind = ipos.x*dim.y+ipos.y; <span class="hljs-comment">//Flat Array Index</span><font></font>
<font></font>
    <span class="hljs-comment">//Register Position</span>
    track[ind] = <span class="hljs-literal">true</span>;<font></font>
<font></font>
    <span class="hljs-comment">//...</span><font></font>
  }<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El conjunto de par√°metros se modifica mediante los mapas de flujo y agrupaci√≥n:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//...</span>
  <span class="hljs-comment">//Effective Parameter Set</span>
  <span class="hljs-keyword">double</span> effD = depositionRate;
  <span class="hljs-keyword">double</span> effF = friction*(<span class="hljs-number">1.0</span><span class="hljs-number">-0.5</span>*stream[ind]);
  <span class="hljs-keyword">double</span> effR = evapRate*(<span class="hljs-number">1.0</span><span class="hljs-number">-0.2</span>*stream[ind]);
<span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> descubr√≠ que dicho cambio de par√°metro funciona bien.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el sistema anterior, las part√≠culas pod√≠an salir de este ciclo y ser destruidas solo con la evaporaci√≥n completa o yendo m√°s all√° de los l√≠mites del relieve. </font><font style="vertical-align: inherit;">Ahora se han agregado dos condiciones de salida adicionales aqu√≠:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//... nind is the next position after moving the particle</span><font></font>
  <font></font>
  <span class="hljs-comment">//Out-Of-Bounds</span>
  <span class="hljs-keyword">if</span>(!glm::all(glm::greaterThanEqual(pos, glm::vec2(<span class="hljs-number">0</span>))) ||<font></font>
     !glm::all(glm::lessThan((glm::ivec2)pos, dim))){<font></font>
       volume = <span class="hljs-number">0.0</span>;
       <span class="hljs-keyword">break</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Slow-Down</span>
  <span class="hljs-keyword">if</span>(stream[nind] &gt; <span class="hljs-number">0.5</span> &amp;&amp; length(acc) &lt; <span class="hljs-number">0.01</span>)
    <span class="hljs-keyword">break</span>;<font></font>
<font></font>
  <span class="hljs-comment">//Enter Pool</span>
  <span class="hljs-keyword">if</span>(pool[nind] &gt; <span class="hljs-number">0.0</span>)
    <span class="hljs-keyword">break</span>;<font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la part√≠cula no tiene suficiente aceleraci√≥n y est√° rodeada por otras part√≠culas, o entra directamente a la piscina, entonces completa prematuramente el descenso con todo su volumen restante y pasa al algoritmo de inundaci√≥n.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: la</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> condici√≥n de desbordamiento tambi√©n restablece el volumen para que las part√≠culas no pasen al algoritmo de inundaci√≥n.</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo de inundaci√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una part√≠cula con el volumen restante puede inundar desde su posici√≥n actual. Esto sucede si deja de descender (no hay aceleraci√≥n) o entra en un grupo existente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El algoritmo de inundaci√≥n transfiere el volumen de la part√≠cula al aumento del nivel del agua, cambiando el mapa de la cuenca. La t√©cnica consiste en aumentar gradualmente el nivel del agua en una fracci√≥n del volumen de la part√≠cula utilizando el "plano de prueba". A medida que aumenta el nivel del agua, el volumen de part√≠culas disminuye.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c28/908/ebc/c28908ebc4f1efee43232578962beed2.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Animaci√≥n del algoritmo de inundaci√≥n. El plano de prueba y el nivel de agua aumentan gradualmente, reduciendo el volumen de part√≠culas. Si se encuentra una fuga, el volumen restante se mueve al punto de fuga para realizar el descenso.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En cada paso, realizamos un relleno de inundaci√≥n desde la posici√≥n de la part√≠cula (es decir, verificamos recursivamente las posiciones de los vecinos), agregando todas las posiciones ubicadas sobre el plano original (nivel de agua actual) y debajo del plano de prueba al "conjunto de inundaci√≥n". Esta es el √°rea de alivio que forma parte de la piscina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante el llenado, verificamos si hay fugas. Estos son puntos del conjunto de inundaciones que est√°n debajo del plano de prueba Y del plano original. Si encontramos varios puntos de fuga, seleccionamos el m√°s bajo.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Drop::flood</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* height, <span class="hljs-keyword">double</span>* pool, glm::ivec2 dim)</span></span>{<font></font>
<font></font>
  index = (<span class="hljs-keyword">int</span>)pos.x*dim.y + (<span class="hljs-keyword">int</span>)pos.y;
  <span class="hljs-keyword">double</span> plane = height[index] + pool[index];  <span class="hljs-comment">//Testing Plane</span>
  <span class="hljs-keyword">double</span> initialplane = plane;                 <span class="hljs-comment">//Water Level</span><font></font>
<font></font>
  <span class="hljs-comment">//Flood Set</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-built_in">set</span>;
  <span class="hljs-keyword">int</span> fail = <span class="hljs-number">10</span>; <span class="hljs-comment">//Just in case...</span><font></font>
<font></font>
  <span class="hljs-comment">//Iterate while particle still has volume</span>
  <span class="hljs-keyword">while</span>(volume &gt; minVol &amp;&amp; fail){<font></font>
<font></font>
    <span class="hljs-built_in">set</span>.clear();
    <span class="hljs-keyword">bool</span> tried[dim.x*dim.y] = {<span class="hljs-literal">false</span>};<font></font>
<font></font>
    <span class="hljs-comment">//Lowest Drain</span>
    <span class="hljs-keyword">int</span> drain;
    <span class="hljs-keyword">bool</span> drainfound = <span class="hljs-literal">false</span>;<font></font>
<font></font>
    <span class="hljs-comment">//Recursive Flood-Fill Function</span>
    <span class="hljs-built_in">std</span>::function&lt;<span class="hljs-keyword">void</span>(<span class="hljs-keyword">int</span>)&gt; fill = [&amp;](<span class="hljs-keyword">int</span> i){<font></font>
<font></font>
      <span class="hljs-comment">//Out of Bounds</span>
      <span class="hljs-keyword">if</span>(i/dim.y &gt;= dim.x || i/dim.y &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">if</span>(i%dim.y &gt;= dim.y || i%dim.y &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Position has been tried</span>
      <span class="hljs-keyword">if</span>(tried[i]) <span class="hljs-keyword">return</span>;<font></font>
      tried[i] = <span class="hljs-literal">true</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Wall / Boundary of the Pool</span>
      <span class="hljs-keyword">if</span>(plane &lt; height[i] + pool[i]) <span class="hljs-keyword">return</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Drainage Point</span>
      <span class="hljs-keyword">if</span>(initialplane &gt; height[i] + pool[i]){<font></font>
<font></font>
        <span class="hljs-comment">//No Drain yet</span>
        <span class="hljs-keyword">if</span>(!drainfound)<font></font>
          drain = i;<font></font>
<font></font>
        <span class="hljs-comment">//Lower Drain</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( pool[drain] + height[drain] &lt; pool[i] + height[i] )<font></font>
          drain = i;<font></font>
<font></font>
        drainfound = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span>; <span class="hljs-comment">//No need to flood from here</span><font></font>
      }<font></font>
<font></font>
      <span class="hljs-comment">//Part of the Pool</span>
      <span class="hljs-built_in">set</span>.push_back(i);<font></font>
      fill(i+dim.y);    <span class="hljs-comment">//Fill Neighbors</span><font></font>
      fill(i-dim.y);<font></font>
      fill(i+<span class="hljs-number">1</span>);<font></font>
      fill(i<span class="hljs-number">-1</span>);<font></font>
      fill(i+dim.y+<span class="hljs-number">1</span>);  <span class="hljs-comment">//Diagonals (Improves Drainage)</span>
      fill(i-dim.y<span class="hljs-number">-1</span>);<font></font>
      fill(i+dim.y<span class="hljs-number">-1</span>);<font></font>
      fill(i-dim.y+<span class="hljs-number">1</span>);<font></font>
    };<font></font>
<font></font>
    <span class="hljs-comment">//Perform Flood</span><font></font>
    fill(index);<font></font>
<font></font>
    <span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para simplificar, aqu√≠ se usa un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritmo de relleno de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ocho </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">v√≠as</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En el futuro, ser√° posible implementarlo de manera m√°s efectiva.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de identificar las numerosas inundaciones y puntos de fuga, cambiamos el nivel del agua y el mapa de la piscina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si se encuentra un punto de fuga, movemos la part√≠cula (y su volumen de "desbordamiento") al punto de fuga para que pueda comenzar a descender nuevamente. </font><font style="vertical-align: inherit;">Luego el nivel del agua baja a la altura del punto de fuga.</font></font><br>
<br>
<pre><code class="cpp hljs">    <span class="hljs-comment">//...</span><font></font>
<font></font>
    <span class="hljs-comment">//Drainage Point</span>
    <span class="hljs-keyword">if</span>(drainfound){<font></font>
<font></font>
      <span class="hljs-comment">//Set the Particle Position</span><font></font>
      pos = glm::vec2(drain/dim.y, drain%dim.y);<font></font>
<font></font>
      <span class="hljs-comment">//Set the New Waterlevel (Slowly)</span>
      <span class="hljs-keyword">double</span> drainage = <span class="hljs-number">0.001</span>;<font></font>
      plane = (<span class="hljs-number">1.0</span>-drainage)*initialplane + drainage*(height[drain] + pool[drain]);<font></font>
<font></font>
      <span class="hljs-comment">//Compute the New Height</span>
      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>) <span class="hljs-comment">//Iterate over Set</span>
        pool[s] = (plane &gt; height[s])?(plane-height[s]):<span class="hljs-number">0.0</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Remove some sediment</span>
      sediment *= <span class="hljs-number">0.1</span>;
      <span class="hljs-keyword">break</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cuando el nivel del agua disminuye debido a las fugas, descubr√≠ que esto funciona mejor con una tasa baja de fugas. </font><font style="vertical-align: inherit;">Adem√°s, la eliminaci√≥n de parte de las rocas sedimentarias ayuda a la implementaci√≥n.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debido a esto, las nuevas part√≠culas que ingresan al grupo lleno instant√°neamente mueven su volumen al punto de fuga, porque al agregar volumen al grupo se desplaza el mismo volumen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no se encuentra el punto de fuga, calculamos el volumen bajo el plano de prueba y lo comparamos con el volumen de la part√≠cula. </font><font style="vertical-align: inherit;">Si es menor, eliminamos el volumen de la part√≠cula y ajustamos el nivel del agua. </font><font style="vertical-align: inherit;">Entonces el avi√≥n de prueba se eleva. </font><font style="vertical-align: inherit;">Si es m√°s grande, entonces se baja el plano de prueba. </font><font style="vertical-align: inherit;">El proceso se repite hasta que la part√≠cula se queda sin espacio o se encuentra un punto de fuga.</font></font><br>
<br>
<pre><code class="cpp hljs">    <span class="hljs-comment">//...</span><font></font>
<font></font>
    <span class="hljs-comment">//Get Volume under Plane</span>
    <span class="hljs-keyword">double</span> tVol = <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>)<font></font>
      tVol += volumeFactor*(plane - (height[s]+pool[s]));<font></font>
<font></font>
    <span class="hljs-comment">//We can partially fill this volume</span>
    <span class="hljs-keyword">if</span>(tVol &lt;= volume &amp;&amp; initialplane &lt; plane){<font></font>
<font></font>
      <span class="hljs-comment">//Raise water level to plane height</span>
      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>)<font></font>
        pool[s] = plane - height[s];<font></font>
<font></font>
      <span class="hljs-comment">//Adjust Drop Volume</span><font></font>
      volume -= tVol;<font></font>
      tVol = <span class="hljs-number">0.0</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//Plane was too high and we couldn't fill it</span>
    <span class="hljs-keyword">else</span> fail--;<font></font>
<font></font>
    <span class="hljs-comment">//Adjust Planes</span>
    <span class="hljs-keyword">float</span> approach = <span class="hljs-number">0.5</span>;<font></font>
    initialplane = (plane &gt; initialplane)?plane:initialplane;<font></font>
    plane += approach*(volume-tVol)/(<span class="hljs-keyword">double</span>)<span class="hljs-built_in">set</span>.size()/volumeFactor;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Couldn't place the volume (for some reason)- so ignore this drop.</span>
  <span class="hljs-keyword">if</span>(fail == <span class="hljs-number">0</span>)<font></font>
    volume = <span class="hljs-number">0.0</span>;<font></font>
<font></font>
} <span class="hljs-comment">//End of Flood Algorithm</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La altura del plano se ajusta en proporci√≥n a la diferencia en los vol√∫menes escalados por el √°rea de la superficie de la piscina (es decir, por el tama√±o del conjunto). </font><font style="vertical-align: inherit;">Al usar el coeficiente de proximidad, puede aumentar la estabilidad de c√≥mo el avi√≥n alcanza el nivel de agua correcto.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Envoltura de erosi√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La clase mundial contiene los tres mapas en forma de matrices ordinarias:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">World</span> {</span><font></font>
<font></font>
<span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">generate</span><span class="hljs-params">()</span></span>;            <span class="hljs-comment">//Initialize</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">erode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> cycles)</span></span>;     <span class="hljs-comment">//Erode with N Particles</span><font></font>
<font></font>
  <span class="hljs-comment">//...</span><font></font>
<font></font>
  <span class="hljs-keyword">double</span> heightmap[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};
  <span class="hljs-keyword">double</span> waterstream[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};
  <span class="hljs-keyword">double</span> waterpool[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};<font></font>
<font></font>
};</code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El mapa de altura se inicializa utilizando el ruido Perlin.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada paso hidrol√≥gico para una part√≠cula individual consta de lo siguiente:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//...</span><font></font>
<font></font>
<span class="hljs-comment">//Spawn Particle</span>
glm::vec2 newpos = glm::vec2(rand()%(<span class="hljs-keyword">int</span>)dim.x, rand()%(<span class="hljs-keyword">int</span>)dim.y);
<span class="hljs-function">Drop <span class="hljs-title">drop</span><span class="hljs-params">(newpos)</span></span>;<font></font>
<font></font>
<span class="hljs-keyword">int</span> spill = <span class="hljs-number">5</span>;
<span class="hljs-keyword">while</span>(drop.volume &gt; drop.minVol &amp;&amp; spill != <span class="hljs-number">0</span>){<font></font>
<font></font>
  drop.descend(heightmap, waterstream, waterpool, track, dim, scale);<font></font>
<font></font>
  <span class="hljs-keyword">if</span>(drop.volume &gt; drop.minVol)<font></font>
    drop.flood(heightmap, waterpool, dim);<font></font>
<font></font>
  spill--;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El par√°metro de derrame determina cu√°ntas veces puede entrar una part√≠cula en la piscina y dejarla nuevamente antes de que simplemente se destruya. </font><font style="vertical-align: inherit;">De lo contrario, las part√≠culas mueren cuando su volumen se agota.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota: las</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> part√≠culas rara vez ingresan a las piscinas y las dejan m√°s de una o dos veces antes de que se evaporen por completo durante las etapas de descenso, pero agregu√© esto por si acaso.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La funci√≥n de erosi√≥n envuelve este c√≥digo y realiza pasos hidrol√≥gicos para las part√≠culas de N, cambiando directamente el mapa de flujo:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">World::erode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> N)</span></span>{<font></font>
<font></font>
  <span class="hljs-comment">//Track the Movement of all Particles</span>
  <span class="hljs-keyword">bool</span> track[dim.x*dim.y] = {<span class="hljs-literal">false</span>};<font></font>
<font></font>
  <span class="hljs-comment">//Simulate N Particles</span>
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i++){<font></font>
   <font></font>
    <span class="hljs-comment">//... simulate individual particle</span><font></font>
<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Update Path</span>
  <span class="hljs-keyword">double</span> lrate = <span class="hljs-number">0.01</span>;  <span class="hljs-comment">//Adaptation Rate</span>
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; dim.x*dim.y; i++)<font></font>
    waterstream[i] = (<span class="hljs-number">1.0</span>-lrate)*waterstream[i] + lrate*((track[i])?<span class="hljs-number">1.0</span>:<span class="hljs-number">0.0</span>);<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ el conjunto de pistas se pasa a la funci√≥n de descenso. </font><font style="vertical-align: inherit;">Descubr√≠ que el seguimiento simult√°neo del movimiento de varias part√≠culas y los cambios correspondientes proporcionan mejores resultados para el mapa de flujo. </font><font style="vertical-align: inherit;">La tasa de adaptaci√≥n determina qu√© tan r√°pido se elimina la informaci√≥n antigua.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arboles</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo por diversi√≥n, agregu√© √°rboles para ver si la simulaci√≥n de erosi√≥n podr√≠a mejorarse a√∫n m√°s. </font><font style="vertical-align: inherit;">Se almacenan en el aula mundial como un vector. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los √°rboles se crean aleatoriamente en el mapa en lugares donde no hay piscinas y corrientes fuertes, y el terreno no es muy empinado. </font><font style="vertical-align: inherit;">Tambi√©n tienen la oportunidad de crear √°rboles adicionales a su alrededor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el proceso de creaci√≥n de √°rboles, escriben en el mapa de densidad de la vegetaci√≥n en un cierto radio a su alrededor. </font><font style="vertical-align: inherit;">La alta densidad de vegetaci√≥n reduce la transferencia de masa entre las part√≠culas descendentes y la topograf√≠a. </font><font style="vertical-align: inherit;">Esto es para simular c√≥mo las ra√≠ces mantienen el suelo en su lugar.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//... descend function</span>
<span class="hljs-keyword">double</span> effD = depositionRate*max(<span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>-treedensity[ind]);
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los √°rboles mueren si est√°n en la piscina, o la corriente debajo de ellos es demasiado poderosa. </font><font style="vertical-align: inherit;">Adem√°s, tienen una probabilidad aleatoria de muerte.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/trees.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gracias al sombreado y los mapas normales, incluso los sprites de √°rboles muy simples hacen que el relieve sea m√°s hermoso.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> el modelo de √°rbol se puede encontrar en el archivo "vegetacion.h" y en la funci√≥n "Mundo :: crecer ()".</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otros detalles</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los resultados se visualizan utilizando un contenedor OpenGL casero, que se presenta [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ].</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resultados</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las part√≠culas se pueden crear en el mapa de acuerdo con cualquier distribuci√≥n que necesite. </font><font style="vertical-align: inherit;">En mis demos, los cre√© con una distribuci√≥n uniforme en tarjetas de 256 √ó 256. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como se puede ver a continuaci√≥n, la simulaci√≥n resultante depende en gran medida de la elecci√≥n del relieve original. </font><font style="vertical-align: inherit;">El sistema puede simular una gran cantidad de fen√≥menos naturales. </font><font style="vertical-align: inherit;">No pude conseguir adecuadamente solo ca√±ones. </font><font style="vertical-align: inherit;">Es posible que necesiten una simulaci√≥n muy larga y lenta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se pueden observar otros fen√≥menos en el sistema, como cascadas, tortuosidad y deltas de r√≠os, lagos, hinchaz√≥n del suelo, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sistema tambi√©n es muy bueno para distribuir flujos y piscinas en lugares donde se acumula mucha lluvia, y no en lugares aleatorios. </font><font style="vertical-align: inherit;">Por lo tanto, la hidrolog√≠a generada est√° estrechamente relacionada con el terreno.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="http://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/rivererosion.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulaci√≥n hidrol√≥gica en tiempo real en una cuadr√≠cula de 256 √ó 256. </font><font style="vertical-align: inherit;">El relieve original es relativamente suave, lo que permite que las corrientes aparezcan r√°pidamente. </font><font style="vertical-align: inherit;">Al principio, se puede observar la creaci√≥n m√°s simple de piscinas y fugas, despu√©s de lo cual aparecen y permanecen grandes flujos.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaci√≥n de los efectos del estrechamiento de los flujos.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para comparar la diferencia creada al vincular un mapa a un sistema de erosi√≥n, puede simular la hidrolog√≠a en el mismo mapa, incluyendo e inhabilitando varios efectos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simul√© el mismo terreno tres veces:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erosi√≥n basada en part√≠culas (erosi√≥n b√°sica) que recibe mapas de flujo y piscinas. </font><font style="vertical-align: inherit;">Las piscinas a√∫n afectan la generaci√≥n</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erosi√≥n b√°sica con par√°metros modificados por mapas hidrol√≥gicos (en combinaci√≥n con erosi√≥n)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erosi√≥n combinada con par√°metros modificados por mapas hidrol√≥gicos y que afectan la erosi√≥n de los √°rboles.</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> este es un sistema bastante ca√≥tico, y el tipo de hidrolog√≠a que aparece depende en gran medida del terreno. </font><font style="vertical-align: inherit;">Es dif√≠cil encontrar un ejemplo "muy revelador" de alivio.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39e/e81/65c/39ee8165c1b4a8ca4f8a987e12464de4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Representaci√≥n en relieve del sistema base</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/969/6b2/fc0/9696b2fc03defb56681b7bfff7fa6740.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render combinado de elevaci√≥n del sistema</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/868/d7f/8bc/868d7f8bcd087c968833ba0a4c99619c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Representaci√≥n de la topograf√≠a de un sistema con √°rboles</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Una observaci√≥n interesante: la combinaci√≥n de mapas hidrol√≥gicos con par√°metros de part√≠culas en realidad estrecha los cauces de los r√≠os. </font><font style="vertical-align: inherit;">Particularmente en regiones planas, las part√≠culas est√°n menos distribuidas y se fusionan en una peque√±a cantidad de flujos m√°s fuertes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fricci√≥n y la evaporaci√≥n reducidas hacen frente con √©xito al hecho de que las part√≠culas comienzan a preferir canales ya existentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otros efectos son m√°s visibles con la observaci√≥n directa del relieve.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a5/acd/d6b/9a5acdd6b7130655c66c716d0b713ec2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa hidrol√≥gico del sistema base.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5df/f5a/575/5dff5a575ae295091062b6e2153694ff.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa hidrol√≥gico del sistema combinado.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d0/acb/8fa/9d0acb8fa508aa24afab3a5dddacf7a5.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa hidrol√≥gico del sistema con √°rboles </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estos resultados se generaron en exactamente 60 segundos del tiempo de simulaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los √°rboles tambi√©n afectan el estrechamiento. </font><font style="vertical-align: inherit;">Mejoran el proceso de cortar caminos despejados en √°reas empinadas. </font><font style="vertical-align: inherit;">Forzan a las corrientes a permanecer en los canales ya establecidos y, por lo tanto, reducen la tortuosidad. </font><font style="vertical-align: inherit;">Por lo tanto, la ubicaci√≥n de los √°rboles afecta el movimiento del agua.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Example_Hydrology2.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un ejemplo de c√≥mo la ubicaci√≥n de los √°rboles puede ayudar a mantener la ubicaci√≥n de los arroyos. </font><font style="vertical-align: inherit;">Este es el mismo alivio que antes, con todos los efectos activados.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impacto de piscina</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sistema para crear piscinas funciona bien y permite que existan varios cuerpos de agua con diferentes alturas en el mismo relieve. </font><font style="vertical-align: inherit;">Tambi√©n pueden derramarse entre s√≠ y vaciarse.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Pooling-1.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un ejemplo de un video de la formaci√≥n de piscinas en un relieve basal m√°s √°spero con una gran diferencia de elevaci√≥n. </font><font style="vertical-align: inherit;">El lago superior est√° ubicado f√≠sicamente sobre el inferior y descarga el agua resultante directamente en el lago inferior.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> obtuve varias semillas, en las que tres lagos fluyeron entre s√≠ secuencialmente, pero no quer√≠a perder mucho tiempo buscando la correcta para este art√≠culo. </font><font style="vertical-align: inherit;">Ya gener√© demasiadas fotos y videos.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De vez en cuando, el nivel de altura de la piscina salta. </font><font style="vertical-align: inherit;">Creo que esto sucede cuando el nivel del agua est√° cerca del nivel de fuga y se agrega mucha agua. </font><font style="vertical-align: inherit;">Este efecto puede reducirse reduciendo la tasa de fuga en la funci√≥n de inundaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/475/469/f09/475469f09d224928863b2b2eaf48cfb8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de otro minuto de generaci√≥n, aparecieron varias piscinas nuevas por su cuenta.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78a/36c/76e/78a36c76ed90db36cae64c47376fc585.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En un √°ngulo m√°s pronunciado, la diferencia en las alturas de la cuenca es m√°s notable.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac8/bd1/897/ac8bd18976e9cb06bd8d6d1fffd23667.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El mapa hidrol√≥gico muestra claramente que la cuenca central se fusiona con la cuenca inferior. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La ejecuci√≥n del algoritmo de inundaci√≥n lleva al hecho de que las piscinas ven un "muro" en el borde del mapa. </font><font style="vertical-align: inherit;">Esto se nota en las im√°genes que se muestran arriba. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra posible mejora podr√≠a ser la adici√≥n del nivel del mar al mundo para que las piscinas observen fugas en los bordes del mapa al nivel del mar, de lo contrario, simplemente se desbordar√°n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Velocidad de simulaci√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tiempo de cada paso de descenso e inundaci√≥n var√≠a de una part√≠cula a otra, pero permanece aproximadamente un orden de magnitud (aproximadamente 1 microsegundo). Con flujos constantes, las part√≠culas se mueven alrededor del mapa m√°s r√°pido. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tiempo de inundaci√≥n var√≠a en proporci√≥n al tama√±o de la piscina, porque la operaci√≥n de vertido es el paso m√°s costoso. Cuanto m√°s grandes son las piscinas, m√°s grande es el √°rea para la que necesita elevar el nivel del agua. Las grandes piscinas son definitivamente el cuello de botella del sistema. Si tiene ideas para aumentar la velocidad, av√≠seme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tiempo de descenso var√≠a en proporci√≥n al tama√±o del mapa y muchos otros par√°metros, incluyendo la velocidad de fricci√≥n y evaporaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos los videos de este art√≠culo se graban en tiempo real, es decir, en general, la simulaci√≥n es r√°pida.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> poco despu√©s de la publicaci√≥n de este art√≠culo, realic√© un peque√±o cambio en el m√©todo de c√°lculo de las normales de superficie, lo que aument√≥ la velocidad de simulaci√≥n. </font><font style="vertical-align: inherit;">El efecto de esto es muy notable durante la simulaci√≥n, pero es dif√≠cil compararlo debido a las grandes variaciones en el tiempo que lleva lanzarse e inundar. </font><font style="vertical-align: inherit;">Seg√∫n mis estimaciones, la velocidad de simulaci√≥n se ha duplicado.</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°s hermosos videos</font></font></h3><br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology1.mp4" type="video/mp4"></video></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simulaci√≥n hidrol√≥gica en terreno vertical irregular.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology5.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un alivio un poco m√°s suave. </font><font style="vertical-align: inherit;">Algunos lagos resultan un poco fluctuantes.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology3.mp4" type="video/mp4"></video></div></div></div><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulaci√≥n hidrol√≥gica en un terreno plano y liso. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se grabaron videos posteriores despu√©s de la mejora de la velocidad.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology10.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terreno incluso m√°s plano y liso.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology7.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video con un r√≠o formado a partir de varias corrientes conectadas. </font><font style="vertical-align: inherit;">El r√≠o principal tiene dos puntos en los que incorpora flujos m√°s peque√±os, y vemos c√≥mo crece en tama√±o.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Su navegador no admite video HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology9.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un relieve m√°s desigual con la formaci√≥n de r√≠os. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puedo seguir por siempre.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n y trabajo para el futuro.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta t√©cnica simple todav√≠a est√° basada en part√≠culas, pero logra transmitir muchos efectos adicionales. Proporciona una manera f√°cil de simular el movimiento del agua a gran escala sin simular completamente la din√°mica de los fluidos. Adem√°s, ella trabaja con un modelo de agua intuitivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En las simulaciones, podemos observar la aparici√≥n de r√≠os sinuosos, cascadas, lagos y transfusiones de lagos, r√≠os que se dividen en √°reas planas en deltas, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ser√≠a interesante agregar diferentes tipos de suelo en forma de un mapa de suelo desde el cual se podr√≠an tomar los par√°metros de erosi√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n puede cambiar f√°cilmente el sistema de √°rboles para crear diferentes tipos de √°rboles que mantengan el suelo en su lugar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es dif√≠cil transmitir la variedad de resultados generados en varias im√°genes y videos, por lo que debe intentar hacerlo usted mismo, resulta muy interesante. </font><font style="vertical-align: inherit;">Recomiendo experimentar con los par√°metros del mapa original, incluido el ruido de octava y la escala del mapa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si tiene preguntas o comentarios, puede contactarme. </font><font style="vertical-align: inherit;">Trabaj√© bastante duro en este proyecto, por lo que mis cerebros se estaban sinterizando y estoy seguro de que me perd√≠ algunos aspectos interesantes.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es498278/index.html">Editorial Peter. Venta de primavera</a></li>
<li><a href="../es498280/index.html">La historia del p√°jaro Dodo del g√©nero Phoenix. La gran ca√≠da de Dodo es</a></li>
<li><a href="../es498282/index.html">[instrucci√≥n] Crear una cuenta y un sitio en la plataforma Google Site</a></li>
<li><a href="../es498284/index.html">C√≥mo optimizar el aprendizaje del ingl√©s</a></li>
<li><a href="../es498288/index.html">Tu ciudad necesita un metro bus</a></li>
<li><a href="../es498292/index.html">Ahorre mucho dinero en grandes vol√∫menes en PostgreSQL</a></li>
<li><a href="../es498294/index.html">Detecci√≥n de objetos Reconocer y gobernar. Parte 1</a></li>
<li><a href="../es498296/index.html">Dise√±o a nivel de sistema. Parte 1. De la idea al sistema</a></li>
<li><a href="../es498298/index.html">Las empresas usan recompensas de errores para comprar silencio de hackers</a></li>
<li><a href="../es498300/index.html">Blitz.Engine: sistema de activos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>