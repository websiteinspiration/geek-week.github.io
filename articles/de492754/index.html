<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛰️ 👨‍🏫 🔶 Warum JavaScript HTML verschlingt: Codebeispiele 👩🏾‍🏭 👅 🤱🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Webentwicklung entwickelt sich ständig weiter. In letzter Zeit ist ein Trend populär geworden, der im Wesentlichen der allgemein akzeptierten Idee...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Warum JavaScript HTML verschlingt: Codebeispiele</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492754/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Webentwicklung entwickelt sich ständig weiter. In letzter Zeit ist ein Trend populär geworden, der im Wesentlichen der allgemein akzeptierten Idee der Entwicklung von Webanwendungen widerspricht. Einige haben große Hoffnungen auf ihn, während andere enttäuscht sind. Jeder hat seine eigenen Gründe dafür, die auf den Punkt gebracht schwer zu erklären sind.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oo/4k/1f/oo4k1fjtwxiesojbv9pwre0n2no.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webseitencode besteht traditionell aus drei Abschnitten, von denen jeder seine Aufgaben erfüllt: HTML-Code definiert die Struktur und Semantik, CSS-Code bestimmt das Erscheinungsbild und JavaScript-Code bestimmt sein Verhalten. In Teams mit Designern, HTML / CSS-Entwicklern und JavaScript-Entwicklern ist diese Trennung selbstverständlich: Designer definieren visuelle Elemente und eine Benutzeroberfläche, HTML- und CSS-Entwickler platzieren diese visuellen Elemente auf einer Seite in einem Browser und JavaScript-Entwickler fügen Benutzerinteraktionen hinzu binde alles zusammen und "lass es funktionieren". Jeder kann an seinen Aufgaben arbeiten, ohne den Code der beiden anderen Entwicklerkategorien zu beeinträchtigen. All dies gilt jedoch für den sogenannten "alten Stil".</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den letzten Jahren haben JavaScript-Entwickler begonnen, die Struktur der Seite in JavaScript und nicht in HTML zu bestimmen (z. B. mithilfe des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> js-Frameworks </font><font style="vertical-align: inherit;">), was die Erstellung und Pflege von Benutzerinteraktionscode vereinfacht. Ohne js Frameworks ist die Entwicklung moderner Websites viel schwieriger. Wenn Sie jemandem sagen, dass der von ihm geschriebene HTML-Code in Teile zerlegt und mit JavaScript gemischt werden muss, mit dem er sehr vertraut ist, kann dies (aus offensichtlichen Gründen) mit Feindseligkeit wahrgenommen werden. Zumindest wird der Gesprächspartner fragen, warum wir das überhaupt brauchen und wie wir davon profitieren werden.</font></font><br>
<cut></cut><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als JavaScript-Entwickler in einem funktionsübergreifenden Team wird mir diese Frage manchmal gestellt, und oft fällt es mir schwer, sie zu beantworten. </font><font style="vertical-align: inherit;">Alle Materialien, die ich zu diesem Thema gefunden habe, wurden für ein Publikum geschrieben, das bereits mit JavaScript vertraut ist. </font><font style="vertical-align: inherit;">Und das ist nicht sehr gut für diejenigen, die sich ausschließlich auf HTML und CSS spezialisiert haben. </font><font style="vertical-align: inherit;">Aber das HTML-in-JS-Muster (oder etwas anderes, das die gleichen Vorteile bietet) ist wahrscheinlich für einige Zeit gefragt, daher denke ich, dass dies eine wichtige Sache ist, die jeder, der an der Webentwicklung beteiligt ist, verstehen sollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel werde ich Codebeispiele für Interessierte geben, aber mein Ziel ist es, diesen Ansatz so zu erklären, dass er ohne sie verstanden werden kann.</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Likbez: HTML, CSS und JavaScript</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um das Publikum dieses Artikels zu maximieren, möchte ich kurz darauf eingehen, welche Rolle diese Sprachen bei der Erstellung von Webseiten spielen und welche Art von Trennung zwischen ihnen ursprünglich bestand. </font><font style="vertical-align: inherit;">Wenn Sie dies alle wissen, können Sie diesen Abschnitt überspringen.</font></font><br>
<br>
<h3><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML: für Struktur und Semantik</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTML-Code (HyperText Markup Language) definiert die Struktur und Semantik des Inhalts, der auf der Seite platziert wird. </font><font style="vertical-align: inherit;">Der HTML-Code dieses Artikels enthält beispielsweise den Text, den Sie gerade lesen, und gemäß der angegebenen Struktur wird dieser Text in einem separaten Absatz nach der Überschrift und vor dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfügen von CodePen platziert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie beispielsweise eine einfache Webseite mit einer Einkaufsliste:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/vy/a-/ygvya-pjtq3-f_43xus3zz0w0bg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir können diesen Code in einer Datei speichern, in einem Webbrowser öffnen und der Browser zeigt das Ergebnis an. Wie Sie sehen können, ist der HTML-Code in diesem Beispiel eine Seite mit der Überschrift „Einkaufsliste“ (Einkaufsartikel (2 Artikel)), einem Eingabetextfeld, einer Schaltfläche „Artikel hinzufügen“ und einer Liste mit zwei Artikeln („Eier“). und "Öl"). Der Benutzer gibt die Adresse in seinen Webbrowser ein, dann fordert der Browser diesen HTML-Code vom Server an, lädt ihn herunter und zeigt ihn an. Wenn die Liste bereits Elemente enthält, kann der Server wie in diesem Beispiel HTML mit vorgefertigten Elementen senden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geben Sie etwas in das Eingabefeld ein und klicken Sie auf die Schaltfläche "Element hinzufügen". Sie werden sehen, dass nichts passiert. Die Schaltfläche ist keinem Code zugeordnet, der HTML ändern könnte, und HTML kann selbst nichts ändern. Wir werden gleich darauf zurückkommen.</font></font><br>
<br>
<h3><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS: um das Aussehen zu ändern</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der CSS-Code (Cascading Style Sheets) definiert das Erscheinungsbild der Seite. </font><font style="vertical-align: inherit;">Das CSS dieses Artikels definiert beispielsweise die Schriftart, den Abstand und die Farbe des Textes, den Sie lesen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Möglicherweise haben Sie bemerkt, dass unser Beispiel für eine Einkaufsliste sehr einfach aussieht. </font><font style="vertical-align: inherit;">In HTML können keine Abstände, Schriftgrößen und Farben angegeben werden. </font><font style="vertical-align: inherit;">Deshalb verwenden wir CSS. </font><font style="vertical-align: inherit;">Wir könnten CSS-Code für diese Seite hinzufügen, um sie ein wenig zu dekorieren: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/em/k4/mtemk4giymqzyfu_sqy0yqhw-o0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen können, hat dieser CSS-Code die Größe und Dicke der Textzeichen sowie die Hintergrundfarbe geändert. </font><font style="vertical-align: inherit;">Ein Entwickler kann analog Regeln für seinen eigenen Stil schreiben, die nacheinander auf jede HTML-Struktur angewendet werden: Wenn wir dieser Seite </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abschnitts-, Schaltflächen- oder ul-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Elemente hinzufügen </font><b><font style="vertical-align: inherit;">,</font></b><font style="vertical-align: inherit;"> gelten dieselben Schriftartenänderungen.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Schaltfläche Element hinzufügen bewirkt jedoch immer noch nichts: Hier benötigen wir nur JavaScript.</font></font><br>
<br>
<h3><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: um Verhalten zu implementieren</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript-Code definiert das Verhalten interaktiver oder dynamischer Elemente auf einer Seite. Beispielsweise wird CodePen mit JavaScript geschrieben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit die Schaltfläche </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Element hinzufügen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in unserem Beispiel ohne JavaScript funktioniert, müssen wir speziellen HTML-Code verwenden, um das </font><b><font style="vertical-align: inherit;">Zurücksenden von</font></b><font style="vertical-align: inherit;"> Daten an den Server zu erzwingen ( </font><b><font style="vertical-align: inherit;">&lt;form action \ u003d '...'&gt;,</font></b><font style="vertical-align: inherit;"> wenn Sie plötzlich interessiert sind). Darüber hinaus lädt der Browser die aktualisierte Version der gesamten HTML-Datei neu, ohne den aktuellen Status der Seite zu speichern. Wenn diese Einkaufsliste Teil einer großen Webseite wäre, würde alles verloren gehen, was der Benutzer getan hat. Es spielt keine Rolle, wie viele Pixel Sie beim Lesen des Textes nach unten verschoben haben. Wenn Sie den Server neu starten, kehren Sie zum Anfang zurück. Es spielt keine Rolle, wie viele Minuten des Videos Sie sich angesehen haben. Beim Neustart wird es erneut gestartet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So funktionierten früher alle Webanwendungen: Jedes Mal, wenn ein Benutzer mit einer Webseite interagierte, schien er seinen Webbrowser zu schließen und erneut zu öffnen. Dies ist für eine einfache Fallstudie nicht sehr wichtig, aber für eine große komplexe Seite, deren Laden einige Zeit in Anspruch nehmen kann, ist dieser Ansatz weder für den Browser noch für den Server effektiv. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir etwas auf der Seite ändern möchten, ohne diese Seite vollständig neu zu laden, müssen wir JavaScript verwenden:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/qh/gd/vj/qhgdvjtm-0qokwslddjifxc_knu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn wir nun den Text in das Eingabefeld eingeben und auf die Schaltfläche Element hinzufügen klicken, wird unser neues Element zur Liste hinzugefügt und die Anzahl der Elemente oben aktualisiert! In einer realen Anwendung würden wir auch Code hinzufügen, um ein neues Element im Hintergrund an den Server zu senden, damit es beim nächsten Laden der Seite angezeigt wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Trennung von JavaScript von HTML und CSS ist auch in diesem einfachen Beispiel gerechtfertigt. </font><font style="vertical-align: inherit;">Komplexere Interaktionen funktionieren folgendermaßen: HTML wird geladen und angezeigt, und anschließend wird JavaScript gestartet, um etwas hinzuzufügen und zu ändern. </font><font style="vertical-align: inherit;">Mit zunehmender Komplexität der Webanwendung müssen wir jedoch sorgfältig überwachen, was, wo und wann sich unser JavaScript-Code ändert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir diese App mit einer Einkaufsliste weiterentwickeln, können wir Schaltflächen hinzufügen, um Artikel zu bearbeiten oder aus der Liste zu entfernen. </font><font style="vertical-align: inherit;">Angenommen, wir schreiben JavaScript-Code für eine Schaltfläche, mit der ein Element gelöscht wird. Vergessen Sie jedoch, Code hinzuzufügen, der Informationen über die Gesamtzahl der Elemente oben auf der Seite aktualisiert. </font><font style="vertical-align: inherit;">Plötzlich wird eine Fehlermeldung angezeigt: Nachdem der Benutzer den Artikel gelöscht hat, stimmt die auf der Seite angegebene Gesamtzahl nicht mit der Liste überein!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sobald wir den Fehler bemerkten, haben wir ihn behoben, indem wir dieselbe Zeile totalText.innerHTML aus unserem Code für Artikel hinzufügen zum Code für Artikel entfernen hinzugefügt haben. Jetzt haben wir den gleichen Code, der an mehreren Stellen dupliziert wird. Nehmen wir später an, wir möchten diesen Code so ändern, dass anstelle von "(2 Elemente)" oben auf der Seite "Elemente: 2" angezeigt wird. Wir müssen sicherstellen, dass wir nicht vergessen, diesen Code an allen drei Stellen zu aktualisieren: in HTML, im JavaScript-Code für die Schaltfläche Element hinzufügen und im JavaScript-Code für die Schaltfläche Element entfernen. Wenn wir dies nicht tun, wird ein weiterer Fehler auftreten, aufgrund dessen sich dieser Text nach der Interaktion mit dem Benutzer dramatisch ändert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bereits in diesem einfachen Beispiel sehen wir, wie leicht es ist, im Code verwirrt zu werden. </font><font style="vertical-align: inherit;">Na sicher. </font><font style="vertical-align: inherit;">Es gibt Ansätze und Vorgehensweisen zur Optimierung des JavaScript-Codes, um die Lösung dieses Problems zu vereinfachen. </font><font style="vertical-align: inherit;">Wenn die Dinge jedoch komplizierter werden, müssen wir das Projekt weiter umstrukturieren und ständig neu schreiben, damit es leicht entwickelt und gewartet werden kann. </font><font style="vertical-align: inherit;">Während HTML und JavaScript getrennt gespeichert werden, kann es sehr aufwändig sein, die Synchronisation zwischen beiden sicherzustellen. </font><font style="vertical-align: inherit;">Dies ist einer der Gründe, warum neue JavaScript-Frameworks wie React populär geworden sind: Sie sollen eine formalere und effizientere Beziehung zwischen HTML und JavaScript ermöglichen. </font><font style="vertical-align: inherit;">Um zu verstehen, wie dies funktioniert, müssen wir uns zunächst etwas eingehender mit der Informatik befassen.</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imperative vs deklarative Programmierung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Schlüssel zum Verständnis ist der Unterschied im Denken. In den meisten Programmiersprachen können Sie nur einem Paradigma folgen, obwohl einige von ihnen zwei gleichzeitig unterstützen. Es ist wichtig, beide Paradigmen zu verstehen, um den Hauptvorteil von HTML-in-JS aus der Sicht eines JavaScript-Entwicklers zu erkennen.</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>.  «»  ,       .         ( )   :        ,  ,    .        ,    ,   .  -     «».        Vanilla JavaScript   ,  jQuery. JavaScript        .<br>
 <ul>
<li>« X,   Y,   Z».</li>
<li>:     ,     .selected;        ,   .selected.</li>
</ul></li>
</ul><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>.    ,    .  ,   ,    «» (),       ,   - .        ,     .    (, React),     ,   ,     . ,        ,     ,       ,    .  ,      :<br>
<ul>
<li>«   XYZ.  ,   ,   .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel: Dieses Element hat eine .selected-Klasse, wenn der Benutzer sie ausgewählt hat.</font></font></li>
</ul><br>
 </li>
</ul><br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML ist eine deklarative Sprache</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergessen Sie JavaScript für einen Moment. </font><font style="vertical-align: inherit;">Hier ist eine wichtige Tatsache: HTML ist eine deklarative Sprache. </font><font style="vertical-align: inherit;">In der HTML-Datei können Sie Folgendes deklarieren:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>My name is Mike.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Webbrowser diesen HTML-Code liest, ermittelt er unabhängig die erforderlichen Schritte und führt sie aus:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie ein </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abschnittselement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie ein Header-Element der Ebene 1 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setzen Sie den Titelelementtext auf „Hallo“.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platzieren Sie das Titelelement im Abschnittselement.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie ein Absatzelement ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setzen Sie den Text des Absatzelements auf "Mein Name ist Mike".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platzieren Sie ein Absatzelement in einem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abschnittselement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platzieren Sie das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abschnittselement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in einem HTML-Dokument.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zeigen Sie das Dokument auf dem Bildschirm an.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für einen Webentwickler spielt es keine Rolle, wie genau der Browser diese Dinge tut: Alles, was zählt, ist, was er tut. </font><font style="vertical-align: inherit;">Dies ist ein großartiges Beispiel, um den Unterschied zwischen den beiden Programmierparadigmen zu veranschaulichen. </font><font style="vertical-align: inherit;">Kurz gesagt, HTML ist eine deklarative Abstraktion, die sich um eine unbedingt implementierte Webbrowser-Rendering-Engine dreht. </font><font style="vertical-align: inherit;">Er kümmert sich darum, wie, also müssen Sie sich nur um was kümmern. </font><font style="vertical-align: inherit;">Sie können das Leben genießen, während Sie deklaratives HTML schreiben, da die guten Leute von Mozilla, Google und Apple bei der Erstellung Ihres Webbrowsers wichtigen Code für Sie geschrieben haben.</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript ist eine zwingende Sprache</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben bereits im obigen Einkaufslistenbeispiel ein einfaches Beispiel für zwingendes JavaScript untersucht, und ich habe beschrieben, wie sich die Komplexität der Anwendungsfunktionen auf den Aufwand für deren Implementierung und die Wahrscheinlichkeit von Fehlern bei dieser Implementierung auswirkt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns nun eine etwas komplexere Aufgabe an und sehen, wie sie mit einem deklarativen Ansatz vereinfacht werden kann. </font><font style="vertical-align: inherit;">Stellen Sie sich eine Webseite vor, die Folgendes enthält:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine Liste von gekennzeichneten Flags, von denen jede Zeile bei Auswahl ihre Farbe ändert;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Text unten, zum Beispiel "1 von 4 ausgewählt", der aktualisiert werden sollte, wenn die Flags geändert werden;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klicken Sie auf die Schaltfläche Alle, die deaktiviert werden sollte, wenn alle Kontrollkästchen bereits aktiviert sind.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klicken Sie auf die Schaltfläche Keine, die deaktiviert werden sollte, wenn die Kontrollkästchen nicht aktiviert sind.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist eine Implementierung in einfachem HTML, CSS und zwingendem JavaScript:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8p/kx/5u/8pkx5uxweemg5tmpqietjhadqpw.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> captionText = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'caption-text'</span>);
<span class="hljs-keyword">const</span> checkAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'check-all-button'</span>);
<span class="hljs-keyword">const</span> uncheckAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uncheck-all-button'</span>);
<span class="hljs-keyword">const</span> checkboxes = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'input[type="checkbox"]'</span>);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateSummary</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> numChecked = <span class="hljs-number">0</span>;<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{
    <span class="hljs-keyword">if</span> (checkbox.checked) {<font></font>
      numChecked++;<font></font>
    }<font></font>
  });<font></font>
  captionText.innerHTML = <span class="hljs-string">`<span class="hljs-subst">${numChecked}</span> of <span class="hljs-subst">${checkboxes.length}</span> checked`</span>;
  <span class="hljs-keyword">if</span> (numChecked === <span class="hljs-number">0</span>) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (numChecked === checkboxes.length) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
}<font></font>
<font></font>
checkAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">true</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">'checked'</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
uncheckAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">false</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">''</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
  checkbox.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = checkbox.checked ? <span class="hljs-string">'checked'</span> : <span class="hljs-string">''</span>;<font></font>
    updateSummary();<font></font>
  });<font></font>
});</code></pre><br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kopfschmerzen wie sie sind</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um diese Funktion mit zwingendem JavaScript zu implementieren, müssen wir dem Browser einige detaillierte Anweisungen geben. </font><font style="vertical-align: inherit;">Dies ist eine verbale Beschreibung des Codes aus dem obigen Beispiel. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem HTML deklarieren wir die ursprüngliche Seitenstruktur:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt vier Zeilenelemente (eine Zeile einer Tabelle, es ist eine Liste), von denen jedes ein Flag enthält. </font><font style="vertical-align: inherit;">Das dritte Flag ist markiert.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist ein Text "1 von 4 ausgewählt".</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt eine Schaltfläche Alle auswählen, die aktiviert ist.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt eine Schaltfläche "Keine auswählen", die deaktiviert ist.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem JavaScript schreiben wir Anweisungen, was geändert werden muss, wenn jedes dieser Ereignisse eintritt: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ein Flag von unmarkiert zu markiert wechselt:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie die Zeile mit dem Kontrollkästchen und fügen Sie die ausgewählte CSS-Klasse hinzu.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie alle Flags in der Liste und berechnen Sie, wie viele davon markiert sind und wie viele nicht.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie den Text und aktualisieren Sie ihn unter Angabe der korrekten Anzahl ausgewählter Einkäufe und ihrer Gesamtzahl.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie die Schaltfläche Keine auswählen und aktivieren Sie sie, wenn sie deaktiviert wurde.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn jetzt alle Kontrollkästchen aktiviert sind, suchen Sie die Schaltfläche Alle auswählen und deaktivieren Sie sie.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn eine Flagge von markiert zu nicht markiert wechselt:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie die Zeile mit dem Flag und entfernen Sie die ausgewählte Klasse.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie alle Kontrollkästchen in der Liste und berechnen Sie, wie viele davon aktiviert sind und wie viele nicht.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie das Textelement für den Lebenslauf und aktualisieren Sie es mit der verifizierten Nummer und Summe.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie die Schaltfläche Alle auswählen und aktivieren Sie sie, wenn sie deaktiviert wurde.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn alle Kontrollkästchen deaktiviert sind, suchen Sie die Schaltfläche Keine auswählen und deaktivieren Sie sie.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Schaltfläche Alle auswählen gedrückt wird:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie alle Kontrollkästchen in der Liste und markieren Sie sie.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie alle Zeilen in der Liste und fügen Sie ihnen die ausgewählte Klasse hinzu.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie den Text und aktualisieren Sie ihn.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie die Schaltfläche Alle auswählen und deaktivieren Sie sie.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie die Schaltfläche Keine auswählen und aktivieren Sie sie.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Schaltfläche Keine auswählen gedrückt wird:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie alle Kontrollkästchen in der Liste und deaktivieren Sie alle Kontrollkästchen.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie alle Zeilen in der Liste und entfernen Sie die ausgewählte Klasse aus ihnen.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie das Textelement für den Lebenslauf und aktualisieren Sie es.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie die Schaltfläche Alle auswählen und aktivieren Sie sie.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suchen Sie die Schaltfläche Keine auswählen und deaktivieren Sie sie.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wow ... das ist viel, oder? Nun, wir sollten besser nicht vergessen, Code für alle möglichen Situationen zu schreiben. Wenn wir eine dieser Anweisungen vergessen oder durcheinander bringen, wird eine Fehlermeldung angezeigt: Die Gesamtsummen stimmen nicht mit den Kontrollkästchen überein, oder die Schaltfläche wird aktiviert, die nichts bewirkt, wenn Sie darauf klicken, oder die ausgewählte Zeile erhält die falsche Farbe oder etwas anderes noch, worüber wir nicht nachgedacht haben und erst wissen werden, wenn sich der Benutzer beschwert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben hier wirklich ein großes Problem: Es gibt keine Entität, die vollständige Informationen über den </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Staat</font></a><font style="vertical-align: inherit;"> enthalten würde</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unserer Anwendung (in diesem Fall ist dies die Antwort auf die Frage „Welche Flags sind markiert?“) und wäre für die Aktualisierung dieser Informationen verantwortlich. </font><font style="vertical-align: inherit;">Flags wissen natürlich, ob sie aktiviert sind, aber der CSS-Code für die Zeilen der Tabelle, des Textes und jeder Schaltfläche sollte dies ebenfalls wissen. </font><font style="vertical-align: inherit;">Fünf Kopien dieser Informationen werden im gesamten HTML-Code separat gespeichert. Wenn sie sich an einer dieser Stellen ändern, muss der JavaScript-Entwickler diese abfangen und wichtigen Code schreiben, um sie mit Änderungen an anderen Stellen zu synchronisieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dies ist immer noch ein einfaches Beispiel für eine kleine Seitenkomponente. </font><font style="vertical-align: inherit;">Stellen Sie sich vor, wie komplex und fragil eine größere Webanwendung wird, wenn Sie all dies in zwingendem JavaScript implementieren müssen, auch wenn diese Anweisungen wie Kopfschmerzen aussehen. </font><font style="vertical-align: inherit;">Für viele komplexe, moderne Webanwendungen lässt sich diese Lösung nicht vom Wort "vollständig" skalieren.</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir suchen nach der Quelle der Wahrheit</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tools wie React ermöglichen die deklarative Verwendung von JavaScript. </font><font style="vertical-align: inherit;">So wie HTML eine deklarative Abstraktion über die Anweisungen zum Anzeigen in einem Webbrowser ist, ist React eine deklarative Abstraktion über JavaScript.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Denken Sie daran, wie HTML es uns ermöglicht, uns auf die Struktur der Seite anstatt auf Implementierungsdetails zu konzentrieren, und wie der Browser diese Struktur anzeigt. Wenn wir React verwenden, können wir uns auf die Struktur konzentrieren und sie basierend auf Daten definieren, die an einem Ort gespeichert sind. Dieser Prozess wird als Einwegbindung bezeichnet, und der Speicherort der Anwendungsstatusdaten wird als "einzige Quelle der Wahrheit" bezeichnet. Wenn sich die Quelle der Wahrheit ändert, aktualisiert React automatisch die Seitenstruktur für uns. Er wird sich hinter den Kulissen um die erforderlichen Schritte kümmern, wie es ein Webbrowser für HTML tut. Obwohl hier React als Beispiel verwendet wird, funktioniert dieser Ansatz auch für andere Frameworks wie Vue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kehren wir zu unserer Liste der Kontrollkästchen aus dem obigen Beispiel zurück. </font><font style="vertical-align: inherit;">In diesem Fall ist die „Wahrheit“, die wir wissen wollen, ziemlich kurz: Welche Flags werden überprüft? </font><font style="vertical-align: inherit;">Andere Details (z. B. Text, Linienfarbe, welche Schaltflächen aktiviert sind) sind bereits Informationen, die auf der Grundlage der Wahrheitsquelle erhalten wurden. </font><font style="vertical-align: inherit;">Und warum sollten sie eine eigene Kopie dieser Informationen haben? </font><font style="vertical-align: inherit;">Sie sollten einfach eine einzige schreibgeschützte Wahrheitsquelle verwenden, und alle Seitenelemente sollten „nur wissen“, welche Kontrollkästchen aktiviert sind, und sich entsprechend verhalten. </font><font style="vertical-align: inherit;">Sie können sagen, dass Tabellenzeilen, Text und Schaltflächen automatisch auf ein Kontrollkästchen reagieren können sollten, je nachdem, ob es aktiviert ist oder nicht ("Sehen Sie, was dort passiert?").</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sag mir was du willst (was du wirklich willst)</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um diese Seite mit React zu implementieren, können wir die Liste durch einige einfache Faktenbeschreibungen ersetzen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt eine Liste von True / False-Werten mit dem Namen checkboxValues, die anzeigt, welche Felder markiert sind.</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel: checkboxValues ​​\ u003d [false, false, true, false]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Liste zeigt, dass wir vier Flags haben, nur das dritte ist gesetzt.</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Für jeden Wert in checkboxValues ​​in der Tabelle gibt es eine Zeile, die:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hat eine CSS-Klasse namens .selected, wenn der Wert true ist, und</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enthält ein Flag, das überprüft wird, ob der Wert wahr ist.</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt ein Textelement, das den Text "{x} von {y} selected" enthält, wobei {x} die Anzahl der wahren Werte in checkboxValues ​​und {y} die Gesamtzahl der Werte in checkboxValues ​​ist.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt eine Schaltfläche Alle auswählen, die aktiviert ist, wenn checkboxValues ​​falsche Werte hat.</font></font></li>
<li>  Select None,  ,   checkboxValues ​​  true.</li>
<li>  ,     checkboxValues.</li>
<li>  Select All ,     checkboxValues ​​ true.</li>
<li>   Select None    checkboxValues ​​  false.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie werden feststellen, dass die letzten drei Absätze immer noch zwingende Anweisungen sind („Wenn dies passiert, tun Sie es“), aber dies ist der einzige zwingende Code, den wir schreiben müssen. Dies sind drei Codezeilen, die alle eine einzige Quelle der Wahrheit aktualisieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Rest sind deklarative Anweisungen ("es gibt ..."), die jetzt direkt in die Definition der Seitenstruktur integriert werden. Zu diesem Zweck schreiben wir Code für unsere Elemente mit einer speziellen JavaScript-Syntaxerweiterung - JavaScript XML (JSX). Es ähnelt HTML: Mit JSX können Sie die Struktur der Benutzeroberfläche mithilfe von HTML-ähnlicher Syntax sowie mit regulärem JavaScript beschreiben. Dies ermöglicht es uns, JS-Logik mit der HTML-Struktur zu mischen, sodass die Struktur jederzeit unterschiedlich sein kann. Es hängt alles vom Inhalt der CheckboxValues ​​ab.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir schreiben unser Beispiel für React um:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/np/bv/zknpbvuumzprgv3vrejfyv99vkk.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ChecklistTable</span>(<span class="hljs-params">{ columns, rows, initialValues, ...otherProps }</span>) </span>{
  <span class="hljs-keyword">const</span> [checkboxValues, setCheckboxValues] = React.useState(initialValues);<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">true</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uncheckAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">false</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCheckboxValue</span>(<span class="hljs-params">rowIndex, checked</span>) </span>{
    <span class="hljs-keyword">const</span> newValues = checkboxValues.slice();<font></font>
    newValues[rowIndex] = checked;<font></font>
    setCheckboxValues(newValues);<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword">const</span> numItems = checkboxValues.length;
  <span class="hljs-keyword">const</span> numChecked = checkboxValues.filter(<span class="hljs-built_in">Boolean</span>).length;<font></font>
  <font></font>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table pf-m-grid-lg"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"grid"</span> {<span class="hljs-attr">...otherProps</span>}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">caption</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{numChecked} of {numItems} items checked<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{checkAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">numItems}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-primary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Check all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{uncheckAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">0}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-secondary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Uncheck all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">caption</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">td</span> /&gt;</span>
          {columns.map(function(column) {
            return <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"col"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{column}</span>&gt;</span>{column}<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>;
          })}
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
        {rows.map(function(row, rowIndex) {
          const [firstCell, ...otherCells] = row;
          const labelId = `item-${rowIndex}-${firstCell}`;
          const isChecked = checkboxValues[rowIndex];
          return (
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{firstCell}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isChecked</span> ? '<span class="hljs-attr">checked</span>' <span class="hljs-attr">:</span> ''}&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table__check"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                  <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
                  <span class="hljs-attr">name</span>=<span class="hljs-string">{firstCell}</span>
                  <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">{labelId}</span>
                  <span class="hljs-attr">checked</span>=<span class="hljs-string">{isChecked}</span>
                  <span class="hljs-attr">onChange</span>=<span class="hljs-string">{function(event)</span> {
                    <span class="hljs-attr">setCheckboxValue</span>(<span class="hljs-attr">rowIndex</span>, <span class="hljs-attr">event.target.checked</span>);
                  }}
                /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[0]}</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">{labelId}</span>&gt;</span>{firstCell}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              {otherCells.map(function(cell, cellIndex) {
                return (
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{cell}</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[1</span> + <span class="hljs-attr">cellIndex</span>]}&gt;</span>
                    {cell}
                  <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                );
              })}
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          );
        })}
      <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><font></font>
  );<font></font>
};<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ShoppingList</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChecklistTable</span>
      <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Shopping list"</span>
      <span class="hljs-attr">columns</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">Item</span>', '<span class="hljs-attr">Quantity</span>']}
      <span class="hljs-attr">rows</span>=<span class="hljs-string">{[</span>
        ['<span class="hljs-attr">Sugar</span>', '<span class="hljs-attr">1</span> <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Butter</span>', '½ <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Eggs</span>', '<span class="hljs-attr">2</span>'],
        ['<span class="hljs-attr">Milk</span>', '½ <span class="hljs-attr">cup</span>'],
      ]}
      <span class="hljs-attr">initialValues</span>=<span class="hljs-string">{[false,</span> <span class="hljs-attr">false</span>, <span class="hljs-attr">true</span>, <span class="hljs-attr">false</span>]}
    /&gt;</span></span><font></font>
  );<font></font>
}<font></font>
<font></font>
ReactDOM.render(<font></font>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ShoppingList</span> /&gt;</span></span>,
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'shopping-list'</span>)<font></font>
);<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSX sieht eigenartig aus. </font><font style="vertical-align: inherit;">Als ich das zum ersten Mal sah, schien es mir einfach unmöglich, dies zu tun. </font><font style="vertical-align: inherit;">Meine erste Reaktion war: „Was? </font><font style="vertical-align: inherit;">HTML darf nicht im JavaScript-Code enthalten sein! “ </font><font style="vertical-align: inherit;">Und ich war nicht der einzige. </font><font style="vertical-align: inherit;">Dies ist jedoch kein HTML, sondern JavaScript, das als HTML verkleidet ist. </font><font style="vertical-align: inherit;">In der Tat ist dies eine leistungsstarke Lösung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erinnern Sie sich an die 20 oben genannten zwingenden Anweisungen? </font><font style="vertical-align: inherit;">Jetzt haben wir drei davon. </font><font style="vertical-align: inherit;">Die restlichen (internen) Imperativanweisungen React selbst werden für uns hinter den Kulissen ausgeführt - jedes Mal, wenn sich die CheckboxWerte ändern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit diesem Code kann die Situation nicht mehr auftreten, wenn der Text oder die Farbe der Zeile nicht mit den Kontrollkästchen übereinstimmt oder wenn die Schaltfläche aktiviert ist, obwohl sie deaktiviert sein sollte. </font><font style="vertical-align: inherit;">Es gibt eine ganze Kategorie von Fehlern, die in unserer Webanwendung jetzt einfach nicht mehr auftreten können. </font><font style="vertical-align: inherit;">Alle Arbeiten werden auf der Grundlage einer einzigen Quelle der Wahrheit ausgeführt, und wir Entwickler können weniger Code schreiben und nachts besser schlafen. </font><font style="vertical-align: inherit;">Zumindest JavaScript-Entwickler ...</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript besiegte HTML: verhungert</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da Webanwendungen immer komplexer werden, wird es immer schmerzhafter, die klassische Aufgabentrennung zwischen HTML und JavaScript beizubehalten. </font><font style="vertical-align: inherit;">HTML wurde ursprünglich für statische Webseiten entwickelt. </font><font style="vertical-align: inherit;">Um dort komplexere interaktive Funktionen hinzuzufügen, muss die entsprechende Logik in imperativem JavaScript implementiert werden, das mit jeder Codezeile immer verwirrender und fragiler wird.</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorteile des modernen Ansatzes: Vorhersagbarkeit, Wiederverwendbarkeit und Kombination</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Fähigkeit, eine einzige Quelle der Wahrheit zu verwenden, ist der wichtigste Vorteil dieses Modells, hat aber auch andere Vorteile. Das Definieren unserer Seitenelemente in JavaScript-Code bedeutet, dass wir Komponenten (einzelne Blöcke einer Webseite) wiederverwenden können, sodass wir denselben HTML-Code nicht an mehreren Stellen kopieren und einfügen können. Wenn wir eine Komponente ändern müssen, ändern Sie einfach ihren Code an nur einer Stelle. In diesem Fall treten Änderungen in allen Kopien der Komponente auf (innerhalb einer oder sogar in vielen Webanwendungen, wenn in ihnen wiederverwendbare Komponenten verwendet werden).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir können einfache Komponenten wie LEGO-Würfel zusammensetzen und so komplexere und nützlichere Komponenten erstellen, ohne dass ihre Logik zu verwirrend wird. </font><font style="vertical-align: inherit;">Und wenn wir Komponenten verwenden, die von anderen Entwicklern erstellt wurden, können wir problemlos Updates oder Fehlerbehebungen zusammenstellen, ohne unseren Code neu schreiben zu müssen.</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das gleiche JavaScript, nur im Profil</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Vorteile haben einen Nachteil. </font><font style="vertical-align: inherit;">Es gibt gute Gründe, warum Menschen die Trennung von HTML und JavaScript schätzen. </font><font style="vertical-align: inherit;">Wie bereits erwähnt, erschwert das Aufgeben regulärer HTML-Dateien den Workflow für jemanden, der zuvor noch nicht mit JavaScript gearbeitet hat. </font><font style="vertical-align: inherit;">Diejenigen, die zuvor unabhängig Änderungen an der Webanwendung vornehmen konnten, müssen jetzt zusätzliche komplexe Fähigkeiten erwerben, um ihre Autonomie zu bewahren oder sogar im Team zu platzieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt auch technische Mängel. Beispielsweise akzeptieren einige Tools, wie z. B. Linters und Parser, nur normales HTML als Eingabe, und die Arbeit mit JavaScript-Plug-Ins von Drittanbietern ist möglicherweise schwieriger. Darüber hinaus ist JavaScript nicht die beste Sprache, aber es ist ein einheitlicher Standard, der für Webbrowser akzeptiert wird. Neue Tools und Funktionen machen es besser, aber es gibt noch einige Fallstricke, die Sie kennen müssen, bevor Sie damit arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiteres potenzielles Problem: Wenn die semantische Struktur der Seite in abstrakte Komponenten zerlegt wird, denkt der Entwickler möglicherweise nicht mehr darüber nach, welche HTML-Elemente als Ergebnis generiert werden. Bestimmte HTML-Tags wie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abschnitt und beiseite</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">haben ihre eigene Semantik, die bei der Verwendung von Allzweck-Tags wie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">div und span verloren geht</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - auch wenn sie auf der Seite optisch gleich aussehen. </font><font style="vertical-align: inherit;">Dies ist besonders wichtig, um die Verfügbarkeit der Webanwendung für verschiedene Benutzerkategorien sicherzustellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies wirkt sich beispielsweise auf das Verhalten des Bildschirmlesegeräts für Benutzer mit Sehbehinderung aus. </font><font style="vertical-align: inherit;">Vielleicht sind dies nicht die interessantesten Aufgaben für den Entwickler, aber JavaScript-Entwickler sollten immer daran denken, dass die Beibehaltung der Semantik von HTML in diesem Fall die wichtigste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aufgabe ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bewusstes Bedürfnis gegen unbewussten Trend</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In letzter Zeit ist die Verwendung von Frameworks in jedem Projekt zu einem Trend geworden. Einige Leute glauben, dass die Trennung von HTML und JavaScript veraltet ist, aber nicht. Für eine einfache statische Website, die keine komplizierte Benutzerinteraktion erfordert, ist dies genau richtig. Begeisterte React-Fans mögen mir hier nicht zustimmen, aber wenn Ihr JavaScript nur eine nicht interaktive Webseite erstellt, sollten Sie sie nicht verwenden. JavaScript wird nicht so schnell geladen wie normales HTML. Wenn Sie also nicht die Aufgabe festlegen, neue Entwicklungserfahrungen zu sammeln oder die Zuverlässigkeit des Codes zu verbessern, kann JavaScript hier mehr schaden als nützen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darüber hinaus müssen Sie nicht Ihre gesamte Website in React schreiben. Oder Vue! Oder was gibt es sonst noch ... Viele Leute wissen das nicht, weil alle Tutorials im Grunde zeigen, wie man React verwendet, um eine Site von Grund auf neu zu entwickeln. Wenn Sie nur ein kleines komplexes Widget auf einer einfachen Website haben, können Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React für eine Komponente verwenden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sie müssen sich nicht immer um Webpack, Redux, Gatsby oder andere Dinge kümmern, die jemand dort als "Best Practices" empfiehlt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Anwendung jedoch recht komplex ist, lohnt es sich absolut, einen modernen deklarativen Ansatz zu verwenden. </font><font style="vertical-align: inherit;">Ist React die beste Lösung? </font><font style="vertical-align: inherit;">Nein. </font><font style="vertical-align: inherit;">Er hat bereits starke Konkurrenten. </font><font style="vertical-align: inherit;">Und dann wird immer mehr auftauchen ... Aber die deklarative Programmierung wird nirgendwo hingehen, und in einem neuen Rahmen wird dieser Ansatz wahrscheinlich noch besser überdacht und umgesetzt.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de492730/index.html">US-Verteidigungsministerium: Ethik für KI und unbemannte Fahrzeuge</a></li>
<li><a href="../de492742/index.html">Visualisieren Sie Node JS-Anwendungsdaten mit Prometheus + Grafana</a></li>
<li><a href="../de492744/index.html">Welches System wird am lautesten sein und welches wird "absolute" Stille geben: zwei interessante wissenschaftliche Projekte</a></li>
<li><a href="../de492746/index.html">Wie vermeide ich Programmierverbrechen? Integrator-Tipps</a></li>
<li><a href="../de492748/index.html">Beruf DevOps-Ingenieur: Eine Ansicht des Systemadministrators</a></li>
<li><a href="../de492758/index.html">Podcasts für Entwickler</a></li>
<li><a href="../de492760/index.html">CSS-Raster: Eingabe eines reaktionsschnellen 20-Zeilen-Magazinlayouts</a></li>
<li><a href="../de492762/index.html">Anlegeralphabet: Was ist Margin Call und wie kann man es vermeiden?</a></li>
<li><a href="../de492766/index.html">Wir pumpen Arbeit mit Ereignissen in Angular</a></li>
<li><a href="../de492768/index.html">Greybox Fuzzing am Beispiel von AFLSmart</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>