<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÄ üò´ üê† O que aprendi enquanto trabalhava no meu primeiro projeto em larga escala üöÄ üèáüèª üë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="H√° oito meses, comecei a escrever um aplicativo no Electron. Para dominar essa tarefa, tive que desenvolver tr√™s subaplica√ß√µes separadas que s√£o execu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>O que aprendi enquanto trabalhava no meu primeiro projeto em larga escala</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digital-ecosystems/blog/488368/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° oito meses, comecei a escrever um aplicativo no Electron. </font><font style="vertical-align: inherit;">Para dominar essa tarefa, tive que desenvolver tr√™s subaplica√ß√µes separadas que s√£o executadas em ambientes diferentes. </font><font style="vertical-align: inherit;">Abaixo vou falar sobre o que eu fiz para mim ao longo do caminho. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/ca/sr/dicasrqm0tda-zf4a9yey8bekbs.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fich√°rio na sua forma original</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexto</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de me aprofundar nos detalhes, come√ßarei fornecendo algumas informa√ß√µes gerais necess√°rias para entender a situa√ß√£o. No in√≠cio de 2019, comecei a procurar um est√°gio, conforme exigido pelo programa cooperativo da minha gradua√ß√£o. Em abril, enviei dezenas de curr√≠culos, cada um adaptado a um empregador espec√≠fico, e no total recebi exatamente zero respostas. Voc√™ pode imaginar como eu reagi a isso - minhas m√£os ca√≠ram, parecia que eu n√£o estava apto para nada e n√£o valia nenhum trabalho. Mas, em vez de deixar esses sentimentos prevalecerem, decidi provar a mim mesmo que ainda sei alguma coisa e posso me candidatar a algumas postagens. No final, descobri que, na verdade, sei menos do que esperava.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comecei a revisar meus projetos em busca de um que pudesse ser transformado em algo de grande escala e complexo, que pudesse me estimular. </font><font style="vertical-align: inherit;">Por fim, optei pelo Binder - na √©poca, um aplicativo da Web simples que permitia gerenciar arquivos do Onedrive, Google Drive e Dropbox ao mesmo tempo. </font><font style="vertical-align: inherit;">O objetivo era desenvolver um servi√ßo de backup compar√°vel em funcionalidade a essa trindade, menos a capacidade de transferir arquivos para outros usu√°rios.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O come√ßo do caminho</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Provavelmente, eu n√£o teria completado o projeto se n√£o tivesse estabelecido alguns objetivos ilus√≥rios desde o in√≠cio. O primeiro marco que eu determinei foi a cria√ß√£o de uma vers√£o alfa funcional para o meu anivers√°rio, que eu celebro em meados de julho. Comecei a trabalhar imediatamente. No in√≠cio de maio, criei um clone do Binder e comecei a desmont√°-lo em partes, descartando muitas fun√ß√µes das quais n√£o precisava mais. Em geral, peguei um aplicativo completamente decente e o transformei em um peda√ßo de c√≥digo simples em algum lugar no n√≠vel do tutorial.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidi que escreverei quatro aplicativos separados. </font><font style="vertical-align: inherit;">O primeiro √© um cliente que funcionar√° nativamente no computador do usu√°rio. </font><font style="vertical-align: inherit;">A segunda √© uma API com back-end, que facilitar√° o envio de solicita√ß√µes seguras. </font><font style="vertical-align: inherit;">Terceiro, o servi√ßo de nuvem, respons√°vel pela integridade de todos os dados armazenados nele. </font><font style="vertical-align: inherit;">E, finalmente, uma p√°gina da web de "marketing", porque um produto n√£o pode ficar sem um site brilhante.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E agora a divers√£o come√ßa</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, bem, bem, admito: tudo o que eu disse at√© agora n√£o tem nada a ver com a Electron, muito menos o desenvolvimento de aplicativos em larga escala. Mas eu precisava esclarecer o contexto para que voc√™ entendesse de onde obtive meu conhecimento. Aqui est√£o cinco li√ß√µes principais que aprendi por mim mesmo: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 1 Certifique-se de usar estruturas tradicionais para front-end e back-end, porque a comunica√ß√£o entre processos √© uma coisa est√∫pida</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com mais freq√º√™ncia do que gostaria, eu surtei por causa de como a comunica√ß√£o primitiva entre processos √© implementada no Electron (e agora novamente no psico). Sim, a comunica√ß√£o interprocessos n√£o foi projetada para realizar a abstra√ß√£o de dados no esp√≠rito do Javascript, com a representa√ß√£o de fun√ß√µes como objetos e assim por diante. Mas qu√£o mais f√°cil seria! E assim, em vez de criar um aplicativo cliente minimalista, enquanto a matriz principal de c√≥digo estaria localizada no processo principal, fui for√ßado a separar claramente o que ir√° interagir com o usu√°rio e o que n√£o o far√°. O crit√©rio pelo qual eu determinei o que entraria no processo principal e o que no processo de renderiza√ß√£o foi formulado como uma pergunta simples: esse c√≥digo serve alguma coisa? O tamanho do fragmento n√£o importava. Se ele serviu outras partes do c√≥digo,depois foi para o processo principal. A √∫nica exce√ß√£o foi o ponto final do sistema de pagamento Stripe - por motivos de seguran√ßa, eu queria que ele fosse localizado o mais pr√≥ximo poss√≠vel do usu√°rio.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ññ2 Fazer os dados manterem a integridade √© muito, muito dif√≠cil,</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
at√© que comecei a trabalhar no Binder, n√£o entendi o qu√£o dif√≠cil era garantir que todos os dados provenientes de um n√∫mero arbitr√°rio e impressionante de usu√°rios permanecessem sempre corretos e acess√≠veis. E apenas fornecer armazenamento seguro para eles n√£o √© uma tarefa f√°cil, mas agora voc√™ ainda quer que eu valide tudo e verifique se n√£o h√° contradi√ß√µes com outros dados, sem ter id√©ia do que s√£o os dados ?!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â claro que exagerei um pouco aqui, mas a ess√™ncia do problema n√£o √© distorcida. A valida√ß√£o deve ocorrer o mais cedo poss√≠vel nos est√°gios iniciais e depois ser repetida (em uma escala mais modesta) √† medida que o fluxo de dados avan√ßa. Manter a consist√™ncia fica mais f√°cil se voc√™ usar um modelo transacional toda vez que alterar os dados. Para dizer a verdade, al√©m dos dados em si, tamb√©m h√° uma grande quantidade de metadados, o que n√£o √© muito mais f√°cil de gerenciar. Sempre pareceu uma √≥tima id√©ia escrever uma fun√ß√£o que l√™ os dados do usu√°rio e depois executa verifica√ß√µes de integridade. Mas, ap√≥s muita delibera√ß√£o, cheguei √† conclus√£o de que as entradas secretas n√£o s√£o diferentes das portas da frente - toda a diferen√ßa √© quem as usa. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 3 Interfaces - como sapatos que s√£o costurados por encomenda</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mm/_b/un/mm_bunucarysnvfs4eyosnluqny.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma √≥tima maneira de criar uma interface bonita e que funcione bem √© encar√°-la como um par de sapatos de alfaiataria individuais (ou um terno adaptado √† forma, isso n√£o importa). A primeira pergunta que fiz a mim mesmo quando comecei o design do Binder: quem examinar√° a interface do aplicativo? Nota: Eu n√£o falei sobre quem usar√° a interface. Esta deve ser a segunda pergunta, porque tudo est√° ligado precisamente √† apar√™ncia. No passado, conduzi muitos projetos e posso lhe dizer com total confian√ßa: as pessoas queriam cuspir no seu aplicativo se ele n√£o parecer como deveria.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hq/d1/vb/hqd1vbxnmqfiklziqh2_huaxe1m.jpeg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comecei fazendo pequenos rascunhos em um caderno (com uma caneta esferogr√°fica, porque tenho o h√°bito de duvidar constantemente de minhas id√©ias). Nos primeiros rascunhos, a √™nfase estava na estrutura geral da interface e, s√≥ ent√£o, detalhando mais detalhadamente como cada uma das ‚Äúp√°ginas‚Äù deveria aparecer. Na minha opini√£o, as informa√ß√µes apresentadas n√£o s√£o t√£o importantes quanto sua legibilidade. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 4 N√£o h√° muita toler√¢ncia a falhas</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o sei voc√™, mas, pensando que a API falhar√° depois que eu aceitei o pagamento, um suor frio surgir√°. Come√ßando a trabalhar no sistema de pagamento, eu disse a mim mesmo: "Agora voc√™ n√£o pode perder um √∫nico erro". Certifiquei-me de implementar mecanismos de seguran√ßa durante todo o processo: desde o momento em que a API recebe uma solicita√ß√£o para comprar um pacote de servi√ßos, e at√© o Stripe passar as informa√ß√µes de pagamento ao sistema de notifica√ß√£o de eventos e o pacote ser ativado. √â claro que esse tipo de paran√≥ia atrasa o processo de desenvolvimento, mas n√£o me arrependo de nada. Mas eu sempre tenho informa√ß√µes completas sobre quando o pagamento chegou, qual √© o seu objetivo e qual o status das a√ß√µes que devem segui-lo. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 5 N√£o √© perfeito? N√£o assustador</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu sou um perfeccionista, e minhas tentativas de criar algo impressionante muitas vezes ficam fora de controle e tornam infinitas dicas para cada linha de c√≥digo e duvidam que elas tenham o direito de existir. Eu tenho que suportar batalhas comigo v√°rias vezes sobre o que √© ainda mais importante - efici√™ncia ou legibilidade. Nos primeiros meses, eu ainda n√£o tinha recebido minha vis√£o e n√£o entendi que grande parte do que desperdicei minha energia n√£o tinha nenhum benef√≠cio pr√°tico - o objetivo √© criar um produto que possa ser usado com uma mente calma e sem ferir. por algum pr√™mio de prest√≠gio. √â engra√ßado que minha quinta li√ß√£o v√° parcialmente contra a quarta, mas √© at√© boa. A quarta li√ß√£o me lembra cautela e aten√ß√£o √†s expectativas do usu√°rio, e a quinta estabelece limites para que eu n√£o fique preso,melhorando uma fun√ß√£o infinitamente.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de dizermos adeus</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ leu meu artigo at√© o final e pode ter notado (bem ou n√£o) que o Binder ainda n√£o est√° totalmente operacional. </font><font style="vertical-align: inherit;">No momento da reda√ß√£o, eu estava apenas lan√ßando a primeira vers√£o p√∫blica (beta 4). </font><font style="vertical-align: inherit;">N√£o estou particularmente inclinado a transformar o Binder em um produto completo, mas mesmo assim o desenvolvi para que funcione como um aplicativo normal - de repente, todas as ambi√ß√µes repentinas tomam conta de mim. </font><font style="vertical-align: inherit;">Uma p√°gina da web iridescente pode ser admirada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo o que eu achava seguro para acesso aberto foi postado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na p√°gina do projeto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no GitHub. </font><font style="vertical-align: inherit;">L√° postarei atualiza√ß√µes (e voc√™ poder√° fazer o download do cliente para que ele se atualize). </font><font style="vertical-align: inherit;">Ah, bem, aqui est√£o as estat√≠sticas que eu compilei em quatro subaplica√ß√µes para lisonjear minha vaidade:</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fich√°rio-local (cliente no Electron)</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ac/tk/gq/actkgqevnop0_7oniwkjclrf4xi.png"></div><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder-web (p√°gina da web de beleza)</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/58/l4/ae/58l4aeuituje6culksub5foxkaa.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos outros dois, n√£o comecei a contar automaticamente as linhas de c√≥digo por motivos de seguran√ßa. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API do fich√°rio</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: 21 arquivos, 4117 linhas</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outros arquivos: ~ 150 linhas</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder-mongo (servi√ßo para verificar a integridade)</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: 16 arquivos, 2374 linhas</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outros arquivos: ~ 140 linhas</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√∫mero total de linhas de c√≥digo: 30.015</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt488352/index.html">Compara√ß√£o de custos de VDI: nuvem local versus nuvem p√∫blica</a></li>
<li><a href="../pt488356/index.html">Treinamento na Universidade T√©cnica Mar√≠tima do Estado de S√£o Petersburgo para produtos Dassault Syst√®mes</a></li>
<li><a href="../pt488360/index.html">Mitos sobre big data e cultura digital</a></li>
<li><a href="../pt488362/index.html">Classifica√ß√£o com v√°rias etiquetas</a></li>
<li><a href="../pt488366/index.html">E novamente sobre "Informa√ß√µes incorretas de fuso hor√°rio para fusos hor√°rios russos" [.Net bug, ID: 693286]</a></li>
<li><a href="../pt488370/index.html">TDD para microcontroladores. Parte 2: Como os espi√µes se livram dos v√≠cios</a></li>
<li><a href="../pt488374/index.html">Telegrama + 1C + Webhooks + Apache + Certificado autoassinado</a></li>
<li><a href="../pt488376/index.html">Quando o princ√≠pio "para o inferno com tudo, pegue e fa√ßa!" n√£o funciona: notas de procrastinador</a></li>
<li><a href="../pt488378/index.html">Brevemente sobre nomea√ß√£o em JS</a></li>
<li><a href="../pt488380/index.html">O in√≠cio mais f√°cil no STM atrav√©s de "um local"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>