<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💅🏻 🐒 🥊 Python für den Tester: Wie kleine C-Pandas-Skripte helfen, große Datenmengen zu testen 👨🏿‍✈️ 👦🏽 ⛅️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich arbeite als Tester an einem Projekt, dessen Kern die Erfassung und Speicherung verschiedener Daten sowie die Erstellung verschiedener Berichte und...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Python für den Tester: Wie kleine C-Pandas-Skripte helfen, große Datenmengen zu testen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486756/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich arbeite als Tester an einem Projekt, dessen Kern die Erfassung und Speicherung verschiedener Daten sowie die Erstellung verschiedener Berichte und das Hochladen von Dateien auf deren Grundlage ist. </font><font style="vertical-align: inherit;">Bei der Erstellung solcher Berichte wird eine Vielzahl von Bedingungen für die Datenauswahl berücksichtigt. Daher müssen Sie beim Testen viel mit SQL-Abfragen in der Datenbank arbeiten. </font><font style="vertical-align: inherit;">Um jedoch die korrekte Auswahl der Daten zu überprüfen und nach überschüssigen / fehlenden Daten zu suchen, reicht dies oft nicht aus. Daher musste ich nach zusätzlichen Tools suchen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da ich bereits einige grundlegende Python-Kenntnisse hatte, beschloss ich, kleine Skripte zu schreiben, die es mir ermöglichen, etwas mit den vorhandenen Daten zu tun und dadurch den Testprozess zu vereinfachen und zu beschleunigen. </font><font style="vertical-align: inherit;">In diesem Artikel werde ich Ihnen erzählen, was daraus geworden ist.</font></font><br>
<a name="habracut"></a><br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwerfen eines Skriptskripts</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um ein Skript zu schreiben, müssen Sie herausfinden, was genau das Skript tun soll, welche Daten eingegeben werden müssen und welche Daten voraussichtlich ausgegeben werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispielschritte für das Szenario:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir erhalten eine Datei mit Daten in einem bestimmten Format (oder mehreren Dateien)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten aus Datei / Dateien abrufen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir wählen die notwendigen Daten aus</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir führen einige Operationen an Daten durch</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei Bedarf laden wir Daten in eine Excel-Datei hoch (normalerweise ist dieses Format für die weitere Analyse und Speicherung am bequemsten).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann müssen Sie darüber nachdenken, wie und wo Sie Eingaben erhalten können. </font><font style="vertical-align: inherit;">Dies kann eine manuell erstellte Datei mit Daten sein, die Daten unter Berücksichtigung von Filtern in eine Benutzeroberfläche in eine Datei hochlädt, eine Datei mit Datenanalyse mithilfe eines anderen Skripts, eine Datei zum Hochladen der Ergebnisse einer SQL-Abfrage in die Datenbank (Sie können Daten schnell aus der Datenbank in eine CSV-Datei hochladen), json -Datei oder XML-Datei mit Daten aus der Antwort auf eine Anfrage an die API usw.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir schreiben Skripte in Python mit Pandas und anderen Bibliotheken</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Skripte in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu schreiben </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">, müssen</font></a><font style="vertical-align: inherit;"> Sie einen Interpreter und eine geeignete IDE installieren. </font><font style="vertical-align: inherit;">Es ist auch am besten, eine separate </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">virtuelle Umgebung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> für dieses Projekt </font><font style="vertical-align: inherit;">zu erstellen </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich verwende verschiedene Bibliotheken für Skripte, einige davon sind </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">integrierte Python-Bibliotheken</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , andere müssen zusätzlich installiert werden:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pandas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist eine Bibliothek zur Datenanalyse. </font><font style="vertical-align: inherit;">Sie können mit Daten aus Dateien verschiedener Formate arbeiten und mithilfe einer SQL-Abfrage Daten direkt aus der Datenbank empfangen. </font><font style="vertical-align: inherit;">Daten aus Dateien werden in Datenrahmen geladen (visuell dieselben Tabellen wie in Excel), mit Daten, in denen Sie bereits verschiedene Vorgänge ausführen können: Kombinieren Sie Daten aus verschiedenen Datenrahmen analog zu join / union in SQL und wählen Sie die gewünschten Daten aus Vergleichen Sie unter bestimmten Bedingungen Daten in verschiedenen Spalten des Datenrahmens usw.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openpyxl, xlrd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Bibliotheken für die Arbeit mit Excel.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das einfachste Skript-Framework für die Arbeit mit Daten aus CSV-, JSON- und Excel-Dateien lautet wie folgt:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment">#    csv-  -</span>
<span class="hljs-comment"># (        )</span>
<span class="hljs-comment">#       csv-     ";"</span>
df = pd.read_csv(<span class="hljs-string">'./csv_file.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>)<font></font>
<font></font>
<span class="hljs-comment"># </span>
<span class="hljs-comment">#    json-  -</span>
<span class="hljs-comment"># (        )</span>
<span class="hljs-comment"># df = pd.read_json('./json_file.json', encoding='utf-8')</span><font></font>
<font></font>
<span class="hljs-comment"># </span>
<span class="hljs-comment">#    Excel-  -,     </span>
<span class="hljs-comment"># (        )</span>
<span class="hljs-comment"># file_excel = 'Excel_file.xlsx'</span>
<span class="hljs-comment"># df = pd.ExcelFile(file_excel).parse('1')</span><font></font>
<font></font>
<font></font>
<span class="hljs-comment">#  -     -  </span>
<span class="hljs-comment">#    - final_df</span><font></font>
<font></font>
<font></font>
<span class="hljs-comment">#    Excel-,  </span>
<span class="hljs-comment">#          </span>
<span class="hljs-comment"># (      )</span>
writer = pd.ExcelWriter(<span class="hljs-string">'.xlsx'</span>)<font></font>
final_df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Skript werden Daten aus einer Datei des erforderlichen Formats in einen Datenrahmen geladen, die erforderlichen Daten ausgewählt und einige Operationen an ihnen ausgeführt. Anschließend werden die Daten in eine neue Excel-Datei geschrieben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie mit Daten arbeiten müssen, die als Ergebnis einer SQL-Abfrage in die Datenbank erhalten wurden, können Sie diese nicht in eine CSV-Datei exportieren, sondern sie sofort in einen Datenrahmen übertragen, indem Sie eine SQL-Abfrage in der Datenbank im Skript selbst ausführen:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-comment">#      ,     PostgreSQL</span>
<span class="hljs-comment"># (   -    )</span>
<span class="hljs-keyword">import</span> psycopg2<font></font>
<font></font>
<span class="hljs-comment">#    </span>
conn = psycopg2.connect(dbname=<span class="hljs-string">'_'</span>, host=<span class="hljs-string">''</span>, port=<span class="hljs-string">''</span>,<font></font>
                        user=<span class="hljs-string">''</span>, password=<span class="hljs-string">''</span>)<font></font>
<font></font>
<span class="hljs-comment">#   SQL-</span>
q = <span class="hljs-string">"""select ... 
    from ... 
    where ..."""</span><font></font>
<font></font>
<span class="hljs-comment">#    -,  SQL-</span><font></font>
df = pd.read_sql_query(q, conn)<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#  -     -  </span>
<span class="hljs-comment">#    - final_df</span><font></font>
<font></font>
<font></font>
<span class="hljs-comment">#    Excel-,  </span>
<span class="hljs-comment">#          </span>
<span class="hljs-comment"># (      )</span>
writer = pd.ExcelWriter(<span class="hljs-string">'.xlsx'</span>)<font></font>
final_df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie Daten aus einer XML-Datei abrufen müssen, können Sie die dafür vorgesehenen Bibliotheken verwenden. </font><font style="vertical-align: inherit;">Ich benutze die eingebaute Bibliothek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ElementTree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Daten in einem Datenrahmen empfangen werden, können Sie sie sofort mit Daten aus einem anderen Datenrahmen (Analoga von Join oder Union in SQL) kombinieren oder einige Operationen an ihnen ausführen, z. B. Duplikate entfernen, Zeilen mit leeren Werten in bestimmten Zellen entfernen , Daten in mehreren Spalten vergleichen, die gewünschten Zeilen / Spalten auswählen usw. </font><font style="vertical-align: inherit;">Lesen Sie mehr in der Dokumentation für Pandas.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optionen für die Skriptverwendung</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und jetzt schalten wir das Hauptwerkzeug des Testers ein und wählen die Daten / Funktionen in unserem Projekt aus, um zu überprüfen, welche solchen Skripte nützlich wären. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die Skripte wurden Dateien mit einer kleinen Menge von Testdaten erstellt, die mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">generierten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Daten </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">generiert</font></a><font style="vertical-align: inherit;"> wurden </font><font style="vertical-align: inherit;">. In Wirklichkeit enthalten Datendateien Zehntausende von Zeilen und eine große Anzahl von Spalten. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Szenario 1</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Es gibt drei Dateien im CSV-Format mit Daten. Für jede Datenzeile gibt es ein Feld mit einer eindeutigen ID. Daten aus diesen Dateien werden unter Berücksichtigung bestimmter Bedingungen ausgewählt und in eine Tabelle in der Datenbank eingegeben. Diese Daten werden dann in einem Bericht in Form einer Tabelle auf der Benutzeroberfläche angezeigt. Es ist möglich, Daten auf einer Benutzeroberfläche in eine Excel-Datei hochzuladen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, die Bedingungen für die Auswahl von Daten für einen Bericht aus Quelldateien lauten wie folgt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dateien können Duplikate nach ID haben. In einem Bericht sollte ein Datensatz mit derselben Kennung nur einmal berücksichtigt werden (in diesem Fall wählen wir einfach eine der Zeilen mit dieser Kennung aus den Daten aus).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zeilen mit fehlenden Daten in der Spaltenzelle reg_date sollten nicht gezählt werden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tatsächlich kann es mehr Auswahlbedingungen geben, die Daten können auch mit den bereits im System vorhandenen Daten verglichen werden, und im Bericht werden nur sich überschneidende Daten nach ID angezeigt. Beispielsweise werden jedoch nur die beiden oben angegebenen Bedingungen berücksichtigt.</font></font></li>
</ul><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Aufgabe des Testers:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Überprüfen Sie, ob die Zeilen mit den erforderlichen Objekten korrekt aus den Quelldateien ausgewählt wurden und ob alle diese Objekte im Bericht auf der Benutzeroberfläche angezeigt werden. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir verfassen ein Skript für das Skript:</font></font></u><br>
<br>
<ul>
<li>  -      csv-,     - (   union  SQL),      id,       reg_date.</li>
<li>  UI     Excel-,   ,       -.</li>
<li> (merge)   -   (   outer join  SQL)          Excel-   .</li>
<li>              ,   ,   -   ,      ,   UI.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der endgültigen Datei enthalten die Daten nur eine Spalte mit der ID, wenn die Namen der Spalten in verschiedenen Datenrahmen übereinstimmen und möglicherweise nicht klar ist, welche Spalten / Zeilen aus welcher Datei stammen. </font><font style="vertical-align: inherit;">Daher benenne ich die Spalten mit einer eindeutigen Kennung entweder nach unterschiedlichen Namen in den Dateien oder füge jeder Datei eine separate Spalte "Zeilen aus einer solchen und solchen Datei" hinzu und füge "Ja" ein. Wenn Sie dann die resultierende Excel-Datei analysieren, ist es praktisch, nach dieser Spalte zu filtern da </font><font style="vertical-align: inherit;">Sie enthalten immer einen Wert, und wenn Sie nach ihnen filtern, können Sie bereits verstehen, welche Daten in den entsprechenden Spalten voneinander abweichen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispieldaten aus der Datei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example1_csv_1.csv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/of/5j/_u/of5j_us3u07uset3ljspbbwtrr4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispieldaten aus der Datei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report_UI.xlsx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Ein </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uh/xy/1s/uhxy1sygvioxbbhlksppdpsar_e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python-Skript sieht folgendermaßen aus:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment">#     csv-    -</span>
<span class="hljs-comment"># (        )</span>
df_from_file1 = pd.read_csv(<span class="hljs-string">'./example1_csv_1.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>,<font></font>
                            usecols=[<span class="hljs-string">'id'</span>, <span class="hljs-string">'name'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'reg_date'</span>])<font></font>
df_from_file2 = pd.read_csv(<span class="hljs-string">'./example1_csv_2.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>,<font></font>
                            usecols=[<span class="hljs-string">'id'</span>, <span class="hljs-string">'name'</span>, <span class="hljs-string">'email'</span>,<span class="hljs-string">'reg_date'</span>])<font></font>
df_from_file3 = pd.read_csv(<span class="hljs-string">'./example1_csv_3.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>,<font></font>
                            usecols=[<span class="hljs-string">'id'</span>, <span class="hljs-string">'name'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'reg_date'</span>])<font></font>
<font></font>
<span class="hljs-comment">#    -    - </span>
<span class="hljs-comment"># (   union  SQL)</span><font></font>
df_from_csv = pd.concat([df_from_file1, df_from_file2, df_from_file3]).\<font></font>
    reset_index(drop=<span class="hljs-literal">True</span>)<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#       </span>
df_from_csv.drop_duplicates(subset=<span class="hljs-string">'id'</span>, keep=<span class="hljs-string">'first'</span>, inplace=<span class="hljs-literal">True</span>)<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#     NaN ( )   reg_date</span><font></font>
df_from_csv = df_from_csv.dropna()<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#    Excel-   UI  -,</span>
<span class="hljs-comment">#       </span>
<span class="hljs-comment"># (        )</span>
file_excel = <span class="hljs-string">'report_UI.xlsx'</span>
df_from_excel = pd.ExcelFile(file_excel).parse(<span class="hljs-string">'1'</span>)<font></font>
print(df_from_excel)<font></font>
<font></font>
<span class="hljs-comment">#  -     - </span>
<span class="hljs-comment"># -       UI</span>
<span class="hljs-comment"># (   outer join  SQL)</span>
df = df_from_csv.merge(df_from_excel, left_on=<span class="hljs-string">'id'</span>, right_on=<span class="hljs-string">""</span>, how=<span class="hljs-string">'outer'</span>)<font></font>
print(df)<font></font>
<font></font>
<span class="hljs-comment">#     Excel-</span>
writer = pd.ExcelWriter(<span class="hljs-string">'.xlsx'</span>)<font></font>
df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
</code></pre><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einschränkungen:</font></font></u><br>
<br>
<ul>
<li>               (  ,       30 000 ).</li>
<li>   (  Excel)  /           ,            .</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Szenario Nr. 2</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Der Abschnitt enthält Daten in Form einer Tabelle für bestimmte Objekte aus einer Hand. Das System empfängt Daten von einer zweiten Quelle (Integration) und aktualisiert die vorhandenen Tabellendaten mit diesen Daten. Jeder Datensatz in der Tabelle enthält Daten für ein Objekt mit einer eindeutigen Kennung. Wenn aus einer neuen Quelle die Daten eines Objekts nach Kennung mit den Daten eines vorhandenen Objekts übereinstimmen, werden alle Felder eines vorhandenen Datensatzes mit Daten aus einer neuen Quelle aktualisiert (bestätigt). Wenn die Tabelle noch kein Objekt mit einem Bezeichner aus der zweiten Quelle enthält, wird in der Tabelle ein neuer Datensatz mit Daten aus der neuen Quelle erstellt. Daten aus dem zweiten System können vorab in eine JSON-Datei hochgeladen werden. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Aufgabe des Testers:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereiten Sie im Voraus eine Datei mit Daten für den Test vor, um zu überprüfen, ob die vorhandenen Datensätze korrekt aktualisiert und mit einem Bestätigungszeichen in der Datenbank versehen wurden, wenn eine Übereinstimmung mit der Kennung vorliegt. Neue Datensätze werden korrekt erstellt und mit dem Zeichen des Hinzufügens zur Datenbank gekennzeichnet, wenn Datensätze mit solchen vorhanden sind Die Kennung war noch nicht. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir verfassen ein Skript für das Skript:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir laden die Daten aus der Partitionstabelle in die Excel-Datei auf der Benutzeroberfläche hoch (wenn dies nicht möglich ist, können Sie die Daten aus dem Ergebnis der SQL-Abfrage, die im Code zur Ausgabe von Daten in diese Tabelle auf der Benutzeroberfläche verwendet wird, jederzeit exportieren) und füllen die Daten daraus in den ersten Datenrahmen .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir erhalten die JSON-Datei mit Daten aus der zweiten Quelle und laden sie in den zweiten Datenrahmen.</font></font></li>
<li>  (merge —    outer join  SQL)    -    -          Excel-,        .      ,        ,      .</li>
</ul><br>
<u>:</u><br>
<br>
<ul>
<li>               (  ,       30 000 ).</li>
<li>  json-     /  –           /,    -   json-   pandas        /.</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Szenario 3</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Es wird eine Anforderung an die System-API gestellt, auf die Daten zu Objekten im JSON-Format empfangen werden. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aufgabe des Testers:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vergleichen Sie die Daten aus der Antwort auf die Anforderung an die API mit den Daten aus dem Ergebnis der SQL-Abfrage in der Datenbank. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir verfassen ein Skript für das Skript:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir führen die SQL-Abfrage in der Datenbank aus, exportieren die Daten aus dem Abfrageergebnis in eine CSV-Datei und laden diese Daten in den ersten Datenrahmen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir speichern die Daten aus der Antwort auf die Anfrage an die API in der JSON-Datei und laden die Daten aus der Datei in den zweiten Datenrahmen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir kombinieren die Daten (Merge - analog zu Outer Join in SQL) aus zwei empfangenen Datenrahmen durch eine eindeutige Kennung zu einem neuen Datenrahmen und entladen die Daten daraus in eine Excel-Datei, in der wir bereits Daten mit den Funktionen von nach Spalten vergleichen Excel</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oder die Daten zu den Spalten im allgemeinen Datenrahmen können mit Pandas verglichen werden, während Zeilen mit denselben / unterschiedlichen Daten in den Spalten zur Analyse in einen neuen Datenrahmen / eine neue Excel-Datei entladen werden.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispieldaten aus der Datei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example3_csv.csv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/e6/xz/zxe6xzjff9vbfwgntsfqb-qyykc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispieldaten aus der Datei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example3_json.json</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="json hljs">[<font></font>
    {<font></font>
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"16421118-4116"</span>,
        <span class="hljs-attr">"name_json"</span>: <span class="hljs-string">"Tempor Consulting"</span>,
        <span class="hljs-attr">"email_json"</span>: <span class="hljs-string">"Nullam.lobortis.quam@***"</span>,
        <span class="hljs-attr">"tel_json"</span>: <span class="hljs-string">"1-821-805-****"</span>,
        <span class="hljs-attr">"reg_date_json"</span>: <span class="hljs-string">"12-11-16"</span>,
        <span class="hljs-attr">"city_json"</span>: <span class="hljs-string">"Natales"</span><font></font>
    },<font></font>
    {<font></font>
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"16040210-2206"</span>,
        <span class="hljs-attr">"name_json"</span>: <span class="hljs-string">"Odio Etiam Incorporated"</span>,
        <span class="hljs-attr">"email_json"</span>: <span class="hljs-string">"arcu@***"</span>,
        <span class="hljs-attr">"tel_json"</span>: <span class="hljs-string">"1-730-291-****"</span>,
        <span class="hljs-attr">"reg_date_json"</span>: <span class="hljs-string">"26-06-05"</span>,
        <span class="hljs-attr">"city_json"</span>: <span class="hljs-string">"Viddalba"</span><font></font>
    },<font></font>
...<font></font>
]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Python-Skript sieht folgendermaßen aus:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment">#    csv-  -</span>
<span class="hljs-comment"># (        )</span>
<span class="hljs-comment">#       csv-     ";"</span>
df_from_csv = pd.read_csv(<span class="hljs-string">'./example3_csv.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>)<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#    json-  -</span>
<span class="hljs-comment"># (        )</span>
df_from_json = pd.read_json(<span class="hljs-string">'./example3_json.json'</span>, encoding=<span class="hljs-string">'utf-8'</span>)<font></font>
print(df_from_json)<font></font>
<font></font>
<span class="hljs-comment">#  -    -</span>
<span class="hljs-comment"># (   outer join  SQL)</span>
df_csv_json = df_from_csv.merge(df_from_json, left_on=<span class="hljs-string">'id'</span>, <font></font>
                                right_on=<span class="hljs-string">"id"</span>, how=<span class="hljs-string">'outer'</span>)<font></font>
print(df_csv_json)<font></font>
<font></font>
<span class="hljs-comment">#    Excel-,   ,</span>
<span class="hljs-comment">#      -   ,</span>
<span class="hljs-comment">#          </span>
<span class="hljs-comment"># (      )</span>
<span class="hljs-comment"># writer = pd.ExcelWriter('.xlsx')</span>
<span class="hljs-comment"># df_csv_json.to_excel(writer, '1')</span>
<span class="hljs-comment"># writer.save()</span><font></font>
<font></font>
<span class="hljs-comment">#       </span>
<span class="hljs-comment"># (, name_csv  name_json) </span>
<span class="hljs-comment">#       Excel-  </span>
<span class="hljs-comment"># (        )</span>
unequal_data_df = df_csv_json.loc[df_csv_json[<span class="hljs-string">'name_csv'</span>] != <font></font>
                                  df_csv_json[<span class="hljs-string">'name_json'</span>]]<font></font>
unequal_data_df = unequal_data_df[[<span class="hljs-string">'id'</span>, <span class="hljs-string">'name_csv'</span>, <span class="hljs-string">'name_json'</span>]]<font></font>
print(unequal_data_df)<font></font>
<font></font>
writer = pd.ExcelWriter(<span class="hljs-string">'_name.xlsx'</span>)<font></font>
unequal_data_df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
<font></font>
</code></pre><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einschränkungen:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie mit Dateien mit einer sehr großen Anzahl von Zeilen arbeiten, müssen Sie diese in separate Dateien aufteilen (hier müssen Sie versuchen, ich habe selten Dateien mit mehr als 30.000 Zeilen).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn die json-Datei mehrere Verschachtelungsebenen von Objekten / Datenarrays enthält, werden sie von den internen Ebenen als Objekt / Array in die Zelle geladen. Daher ist die Arbeit mit json-Dateien mit Pandas nur für Daten ohne übermäßige Verschachtelung von Objekten geeignet / Arrays.</font></font></li>
<li>       API         SQL-  ,             SQL-   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Antwort auf die Anforderung an die API im XML-Format vorliegt, müssen Sie zuerst die erforderlichen Daten aus der XML-Datei mit ElementTree oder einer anderen Bibliothek analysieren und dann in den Datenrahmen laden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Szenario Nr. 4</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Auf der Benutzeroberfläche wird eine XML-Datei mit Daten zu Objekten heruntergeladen, die unter bestimmten Bedingungen (z. B. Status, Datum, Jahr oder andere Parameterwerte für Objekte) aus Daten in der Datenbank generiert werden. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aufgabe des Testers:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vergleichen Sie die ID der eindeutigen Kennungen der Objekte aus der XML-Datei, die sich im Attribut des Firmen-Tags befinden, mit den Kennungen der Objekte aus dem Ergebnis der SQL-Abfrage in der Datenbank. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir verfassen ein Skript für das Skript:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir speichern die Daten aus der Antwort auf die Anfrage an die API in der XML-Datei, holen die erforderlichen Daten aus dieser Datei mithilfe der ElementTree-Bibliothek ab und laden die Daten in den ersten Datenrahmen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir führen die SQL-Abfrage in der Datenbank aus, exportieren die Daten aus dem Abfrageergebnis in die CSV-Datei und laden diese Daten in den zweiten Datenrahmen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir kombinieren die Daten (Merge - analog zu Outer Join in SQL) aus zwei empfangenen Datenrahmen durch eine eindeutige Kennung zu einem neuen Datenrahmen und entladen die Daten daraus in eine Excel-Datei.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Öffnen Sie als Nächstes die resultierende Datei und analysieren Sie die Datenzeilen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispieldaten aus der Datei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example4_csv.csv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gb/zk/ou/gbzkou2bivh2gsnk6do0lthh1_g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispieldaten aus der Datei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example4_xml.xml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Ein </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zh/x4/no/zhx4noe3virrsagqnaduwpqyp_w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python-Skript sieht folgendermaßen aus:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   ElementTree</span>
<span class="hljs-keyword">from</span> xml.etree <span class="hljs-keyword">import</span> ElementTree
<span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment">#    xml-   </span>
<span class="hljs-comment"># (        )</span>
tree = ElementTree.parse(<span class="hljs-string">"example4_xml.xml"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span><font></font>
root = tree.getroot()<font></font>
<font></font>
<span class="hljs-comment">#  ,     </span><font></font>
data_list = []<font></font>
i = <span class="hljs-number">1</span><font></font>
<font></font>
<span class="hljs-comment">#    -   id_type1  id_type2</span>
<span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> root.iter(<span class="hljs-string">"companies"</span>):
    <span class="hljs-keyword">for</span> child_1 <span class="hljs-keyword">in</span> child.iter(<span class="hljs-string">"company"</span>):<font></font>
            data_list.append({<span class="hljs-string">""</span>: i, <span class="hljs-string">"id"</span>: child_1.get(<span class="hljs-string">"id_type1"</span>)
                                                <span class="hljs-keyword">or</span> child_1.get(<span class="hljs-string">"id_type2"</span>), 
                              <span class="hljs-string">"  xml"</span>: <span class="hljs-string">""</span>})<font></font>
            i += <span class="hljs-number">1</span><font></font>
<font></font>
<span class="hljs-comment">#     data_list  -</span>
df_from_xml = pd.DataFrame.from_dict(data_list, orient=<span class="hljs-string">'columns'</span>)<font></font>
print(df_from_xml)<font></font>
<font></font>
<span class="hljs-comment">#    csv-  -</span>
df_from_csv = pd.read_csv(<span class="hljs-string">'./example4_csv.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>)<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#  -   -</span>
<span class="hljs-comment"># (   outer join  SQL)</span>
df = df_from_csv.merge(df_from_xml, left_on=<span class="hljs-string">'id'</span>, right_on=<span class="hljs-string">"id"</span>, how=<span class="hljs-string">'outer'</span>)<font></font>
print(df)<font></font>
<font></font>
<span class="hljs-comment">#    Excel-</span>
<span class="hljs-comment">#          </span>
<span class="hljs-comment"># (      )</span>
writer = pd.ExcelWriter(<span class="hljs-string">'.xlsx'</span>)<font></font>
df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Szenario 5</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Auf der Benutzeroberfläche werden im Abschnitt Daten zu Objekten in Form einer Tabelle angezeigt. </font><font style="vertical-align: inherit;">Es ist möglich, Daten in eine Excel-Datei hochzuladen. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Aufgabe des Testers:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vergleichen Sie die Daten aus der Partitionstabelle mit den Daten, die in die Excel-Datei heruntergeladen werden. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir verfassen ein Skript für das Skript:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir bitten Entwickler um eine SQL-Abfrage in der Datenbank anhand des Codes, der für die Ausgabe von Daten in die Partitionstabelle auf der Benutzeroberfläche verantwortlich ist.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir führen diese SQL-Abfrage in der Datenbank aus, laden die Daten in eine CSV-Datei hoch und laden die Daten daraus in den ersten Datenrahmen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir laden die Daten aus der Partitionstabelle in die Excel-Datei auf der Benutzeroberfläche hoch und laden die Daten daraus in den zweiten Datenrahmen.</font></font></li>
<li>  (merge —    outer join  SQL)    -    -          Excel-,             Excel.</li>
<li>      -     pandas,      /      -/Excel-  .</li>
</ul><br>
<u>:</u><br>
<br>
<ul>
<li>    ,     Excel-  UI, ,         ,          .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ähnliche Skripte können auch einfach verwendet werden, um Daten von JSON-Dateien oder CSV-Dateien in Excel-Dateien zu übertragen. </font><font style="vertical-align: inherit;">Sie können auch Daten aus mehreren Excel-Dateien in bestimmten Spalten kombinieren und in eine neue Excel-Datei hochladen.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies sind nur einige Beispiele dafür, wie Sie mit Python + Pandas den Testprozess beschleunigen und Fehler finden können. </font><font style="vertical-align: inherit;">In der Tat hat Pandas viel mehr Möglichkeiten, mit Daten zu arbeiten. Weitere Informationen hierzu finden Sie in der Dokumentation zu dieser Bibliothek. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht hat Ihr Projekt andere Optionen für die Verwendung solcher Skripte, und dieser Artikel hilft Ihnen dabei, sie in der Arbeit von Testern zu verwenden.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de486756/">https://habr.com/ru/post/de486756/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de486744/index.html">Ein intelligenter, inländischer Haltungskorrektor wurde zum Verkauf angeboten. Wir haben uns das neue Produkt - IBACK - angesehen</a></li>
<li><a href="../de486746/index.html">Schreiben, nicht schneiden. Was ich in Habrs Veröffentlichungen zu vermissen begann</a></li>
<li><a href="../de486750/index.html">Die Serie "For All Mankind": Von einer alternativen Geschichte zum Müll</a></li>
<li><a href="../de486752/index.html">Einzigartiger WSGI-Webserver mit ESP8266. Teil 1</a></li>
<li><a href="../de486754/index.html">JIRA: Regeln für die rechtzeitige Vorbereitung köstlicher Software. TLDR 2: Anforderungsmanagement</a></li>
<li><a href="../de486760/index.html">Sicherheitswoche 06: Werbe-Tracker in mobilen Anwendungen</a></li>
<li><a href="../de486762/index.html">Bedside Hosting: die gruselige Praxis des Home Hosting</a></li>
<li><a href="../de486764/index.html">Do-it-yourself Schema.org: Anpassen des Mikrolayouts ohne Programmierer</a></li>
<li><a href="../de486766/index.html">Wie übertrage ich alle Transaktionen online auf dem archaischen Factoring-Markt? Erfahrung mit Sberbank Factoring</a></li>
<li><a href="../de486768/index.html">Überarbeitung des Webasyst-Administrationsbereichs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>