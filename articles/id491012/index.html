<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕺🏽 👉🏼 🍝 Pemrograman asinkron dengan async / menunggu ⁉️ 🚰 🐎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang teman! 
 
 Tambahan JavaScript yang relatif baru adalah fungsi asinkron dan kata kunci yang menunggu. Fitur-fitur ini pada dasarnya sint...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pemrograman asinkron dengan async / menunggu</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491012/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selamat siang teman! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahan JavaScript yang relatif baru adalah fungsi asinkron dan kata kunci yang menunggu. </font><font style="vertical-align: inherit;">Fitur-fitur ini pada dasarnya sintaksis gula lebih dari janji (janji), membuatnya mudah untuk menulis dan membaca kode asinkron. </font><font style="vertical-align: inherit;">Mereka membuat kode asinkron terlihat seperti sinkron. </font><font style="vertical-align: inherit;">Artikel ini akan membantu Anda mengetahui apa itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketentuan: melek komputer dasar, pengetahuan tentang dasar-dasar JS, memahami dasar-dasar kode dan janji asinkron. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tujuan: Untuk memahami bagaimana janji dibuat dan bagaimana janji itu digunakan.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Async / tunggu dasar-dasar</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan async / await memiliki dua bagian.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kata kunci async</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, kita memiliki kata kunci async, yang kita tempatkan sebelum deklarasi fungsi untuk menjadikannya tidak sinkron. </font><font style="vertical-align: inherit;">Fungsi asinkron adalah fungsi yang mengantisipasi kemampuan untuk menggunakan kata kunci yang menunggu untuk menjalankan kode asinkron. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Coba ketikkan yang berikut ini di konsol browser:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params"></span>)</span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">'Hello'</span> }<font></font>
hello()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi akan mengembalikan 'Hello'. </font><font style="vertical-align: inherit;">Tidak ada yang aneh, bukan? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi bagaimana jika kita mengubahnya menjadi fungsi yang tidak sinkron? </font><font style="vertical-align: inherit;">Coba yang berikut ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params"></span>)</span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">'Hello'</span> }<font></font>
hello()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang panggilan fungsi mengembalikan janji. </font><font style="vertical-align: inherit;">Ini adalah salah satu fitur fungsi asinkron - mereka mengembalikan nilai yang dijamin akan dikonversi ke janji. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat membuat ekspresi fungsional asinkron, seperti:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> hello = <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{ <span class="hljs-keyword">return</span> hello() }<font></font>
hello()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat menggunakan fungsi panah:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> hello = <span class="hljs-keyword">async</span> () =&gt; { <span class="hljs-keyword">return</span> <span class="hljs-string">'Hello'</span> }
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua fungsi ini melakukan hal yang sama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mendapatkan nilai janji yang sudah selesai, kita dapat menggunakan blok .then ():</font></font><br>
<br>
<pre><code class="javascript hljs">hello().then(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log(value))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... atau bahkan lebih:</font></font><br>
<br>
<pre><code class="javascript hljs">hello().then(<span class="hljs-built_in">console</span>.log)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, menambahkan kata kunci async menyebabkan fungsi mengembalikan janji alih-alih nilai. </font><font style="vertical-align: inherit;">Selain itu, memungkinkan fungsi sinkron untuk menghindari overhead yang terkait dengan menjalankan dan mendukung penggunaan menunggu. </font><font style="vertical-align: inherit;">Tambahan async di depan fungsi memungkinkan pengoptimalan kode otomatis oleh mesin JS. </font><font style="vertical-align: inherit;">Keren!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kata kunci menunggu</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manfaat fungsi asinkron menjadi lebih jelas ketika Anda menggabungkannya dengan kata kunci yang menunggu. </font><font style="vertical-align: inherit;">Itu dapat ditambahkan sebelum fungsi berbasis janji untuk membuatnya menunggu janji untuk menyelesaikan, dan kemudian mengembalikan hasilnya. </font><font style="vertical-align: inherit;">Setelah itu, blok kode selanjutnya dieksekusi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menggunakan menunggu saat memanggil fungsi apa pun yang mengembalikan janji, termasuk fungsi API Web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini adalah contoh sepele:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> greeting = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-string">'Hello'</span>)<font></font>
}<font></font>
<font></font>
hello().then(alert)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, kode di atas tidak berguna, hanya berfungsi sebagai demonstrasi sintaksis. </font><font style="vertical-align: inherit;">Mari kita beralih dan melihat contoh nyata.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menulis ulang kode pada janji menggunakan async / tunggu</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ambil contoh ambil dari artikel sebelumnya:</font></font><br>
<br>
<pre><code class="javascript hljs">fetch(<span class="hljs-string">'coffee.jpg'</span>)<font></font>
.then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.blob())<font></font>
.then(<span class="hljs-function"><span class="hljs-params">myBlob</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> objectURL = URL.createObjectURL(myBlob)
    <span class="hljs-keyword">let</span> image = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>)<font></font>
    image.src = objectURL<font></font>
    <span class="hljs-built_in">document</span>.body.appendChild(image)<font></font>
})<font></font>
.catch(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'There has been a problem with your fetch operation: '</span> + e.message)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda seharusnya sudah memiliki pemahaman tentang apa itu janji dan bagaimana mereka bekerja, tetapi mari kita menulis ulang kode ini menggunakan async / menunggu untuk melihat betapa sederhananya itu:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFetch</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'coffee.jpg'</span>)
    <span class="hljs-keyword">let</span> myBlob = <span class="hljs-keyword">await</span> response.blob()<font></font>
<font></font>
    <span class="hljs-keyword">let</span> objectURL = URL.createObjectURL(myBlob)
    <span class="hljs-keyword">let</span> image = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>)<font></font>
    image.src = objectURL<font></font>
    <span class="hljs-built_in">document</span>.body.appendChild(image)<font></font>
}<font></font>
<font></font>
myFetch().catch(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'There has been a problem with your fetch operation: '</span> + e.message)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini membuat kode lebih sederhana dan lebih mudah dipahami - bukan .then () blok! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan kata kunci async mengubah fungsi menjadi janji, sehingga kita dapat menggunakan pendekatan campuran dari janji dan menunggu, menyoroti bagian kedua fungsi dalam blok terpisah untuk meningkatkan fleksibilitas:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFetch</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'coffee.jpg'</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.blob()<font></font>
}<font></font>
<font></font>
myFetch().then(<span class="hljs-function">(<span class="hljs-params">blob</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> objectURL = URL.createObjectURL(blob)
    <span class="hljs-keyword">let</span> image = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'image'</span>)<font></font>
    image.src = objectURL<font></font>
    <span class="hljs-built_in">document</span>.body.appendChild(image)<font></font>
}).catch(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(e))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menulis ulang contoh atau menjalankan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo langsung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami </font><font style="vertical-align: inherit;">(lihat juga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode sumber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetapi bagaimana cara kerjanya?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membungkus kode di dalam fungsi dan menambahkan kata kunci async sebelum kata kunci fungsi. Anda perlu membuat fungsi asinkron untuk menentukan blok kode di mana kode asinkron akan dijalankan; menunggu hanya berfungsi di dalam fungsi asinkron. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekali lagi: tunggu hanya berfungsi dalam fungsi asinkron.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di dalam fungsi myFetch (), kode ini sangat mirip dengan versi yang dijanjikan, tetapi dengan beberapa perbedaan. Alih-alih menggunakan blok .then () setelah setiap metode berbasis janji, tambahkan saja kata kunci tunggu sebelum memanggil metode dan berikan nilai pada variabel. Kata kunci yang menunggu menyebabkan mesin JS untuk menghentikan eksekusi kode pada baris yang diberikan, memungkinkan kode lain untuk mengeksekusi sampai fungsi asinkron mengembalikan hasil. Setelah dieksekusi, kode akan melanjutkan eksekusi dari baris berikutnya. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contohnya:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'coffee.jpg'</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai yang dikembalikan oleh janji ambil () ditugaskan ke variabel respons ketika nilai yang diberikan tersedia, dan parser berhenti di baris itu sampai janji selesai. </font><font style="vertical-align: inherit;">Segera setelah nilai tersedia, parser beralih ke baris kode berikutnya yang menciptakan Blob. </font><font style="vertical-align: inherit;">Baris ini juga memanggil metode asinkron berbasis janji, jadi di sini kami juga menggunakan menunggu. </font><font style="vertical-align: inherit;">Ketika hasil operasi kembali, kami mengembalikannya dari fungsi myFetch (). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini berarti bahwa ketika kita memanggil fungsi myFetch (), ia mengembalikan sebuah janji, sehingga kita dapat menambahkan .then () ke dalamnya, di dalamnya kita menangani tampilan gambar di layar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin berpikir "Itu hebat!" Dan Anda benar - lebih sedikit. Kemudian () blok untuk membungkus kode, semuanya terlihat seperti kode sinkron, jadi itu intuitif.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambahkan penanganan kesalahan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin menambahkan penanganan kesalahan, Anda memiliki beberapa opsi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menggunakan struktur coba ... tangkap dengan async / tunggu. </font><font style="vertical-align: inherit;">Contoh ini adalah versi lanjutan dari kode di atas:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFetch</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">try</span>{
        <span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'coffee.jpg'</span>)
        <span class="hljs-keyword">let</span> myBlob = <span class="hljs-keyword">await</span> response.blob()<font></font>
<font></font>
        <span class="hljs-keyword">let</span> objectURL = URL.createObjectURL(myBlob)
        <span class="hljs-keyword">let</span> image = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>)<font></font>
        image.src = objectURL<font></font>
        <span class="hljs-built_in">document</span>.body.appendChild(image)<font></font>
    } <span class="hljs-keyword">catch</span>(e){
        <span class="hljs-built_in">console</span>.log(e)<font></font>
    }<font></font>
}<font></font>
<font></font>
myFetch()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok catch () {} menerima objek kesalahan, yang kami beri nama "e"; </font><font style="vertical-align: inherit;">Sekarang kita dapat menampilkannya ke konsol, ini akan memungkinkan kita untuk menerima pesan tentang di mana kesalahan terjadi dalam kode. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin menggunakan versi kedua dari kode yang ditunjukkan di atas, Anda harus terus menggunakan pendekatan hybrid dan menambahkan blok .catch () ke akhir panggilan .then (), sebagai berikut:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFetch</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> fecth(<span class="hljs-string">'coffee.jpg'</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.blob()<font></font>
}<font></font>
<font></font>
myFetch().then(<span class="hljs-function">(<span class="hljs-params">blob</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> objectURL = URL.createObjectURL
    <span class="hljs-keyword">let</span> image = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>)<font></font>
    image.src = objectURL<font></font>
    <span class="hljs-built_in">document</span>.body.appendChild(image)<font></font>
}).catch(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(e))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini dimungkinkan karena blok .catch () akan menangkap kesalahan yang terjadi baik dalam fungsi asinkron maupun dalam rantai janji. </font><font style="vertical-align: inherit;">Jika Anda menggunakan blok coba / tangkap di sini, Anda tidak akan dapat menangani kesalahan yang terjadi ketika fungsi myFetch () dipanggil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menemukan kedua contoh di GitHub: </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simple-fetch-async-await-try-catch.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sumber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simple-fetch-async-await-janji-catch.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sumber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menunggu Janji. Semua ()</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Async / menunggu didasarkan pada janji, sehingga Anda dapat mengambil keuntungan penuh dari yang terakhir. </font><font style="vertical-align: inherit;">Ini termasuk Promise.all () khususnya - Anda dapat dengan mudah menambahkan menunggu ke Promise.all () untuk menulis semua nilai pengembalian dengan cara yang mirip dengan kode sinkron. </font><font style="vertical-align: inherit;">Sekali lagi, ambil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contoh dari artikel sebelumnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Biarkan tab terbuka dengannya untuk dibandingkan dengan kode yang ditunjukkan di bawah ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan async / await (lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo langsung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode sumber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) tampilannya seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchAndDecode</span>(<span class="hljs-params">url, type</span>)</span>{
    <span class="hljs-keyword">let</span> repsonse = <span class="hljs-keyword">await</span> fetch(url)<font></font>
<font></font>
    <span class="hljs-keyword">let</span> content<font></font>
<font></font>
    <span class="hljs-keyword">if</span>(type === <span class="hljs-string">'blob'</span>){<font></font>
        content = <span class="hljs-keyword">await</span> response.blob()<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type === <span class="hljs-string">'text'</span>){<font></font>
        content = <span class="hljs-keyword">await</span> response.text()<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">return</span> content<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displayContent</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">let</span> coffee = fetchAndDecode(<span class="hljs-string">'coffee.jpg'</span>, <span class="hljs-string">'blob'</span>)
    <span class="hljs-keyword">let</span> tea = fetchAndDecode(<span class="hljs-string">'tea.jpg'</span>, <span class="hljs-string">'blob'</span>)
    <span class="hljs-keyword">let</span> description = fetchAndDecode(<span class="hljs-string">'description.txt'</span>, <span class="hljs-string">'text'</span>)<font></font>
<font></font>
    <span class="hljs-keyword">let</span> values = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([coffee, tea, description])<font></font>
<font></font>
    <span class="hljs-keyword">let</span> objectURL1 = URL.createObjectURL(values[<span class="hljs-number">0</span>])
    <span class="hljs-keyword">let</span> objectURL2 = URL.createObjectURL(values[<span class="hljs-number">1</span>])
    <span class="hljs-keyword">let</span> descText = values[<span class="hljs-number">2</span>]<font></font>
<font></font>
    <span class="hljs-keyword">let</span> image1 = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>)
    <span class="hljs-keyword">let</span> image2 = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>)<font></font>
    image1.src = objectURL1<font></font>
    image2.src = objectURL2<font></font>
    <span class="hljs-built_in">document</span>.body.appendChild(image1)
    <span class="hljs-built_in">document</span>.body.appendChild(image2)<font></font>
<font></font>
    <span class="hljs-keyword">let</span> para = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'p'</span>)<font></font>
    para.textContent = descText<font></font>
    <span class="hljs-built_in">document</span>.body.appendChild(para)<font></font>
}<font></font>
<font></font>
displayContent()<font></font>
.catch(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(e))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami dengan mudah mengubah fungsi fetchAndDecode () menjadi asinkron dengan beberapa perubahan. </font><font style="vertical-align: inherit;">Perhatikan garis:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> values = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([coffee, tea, description])
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan menunggu, kami mendapatkan hasil dari tiga janji dalam variabel nilai, dengan cara yang mirip dengan kode sinkron. </font><font style="vertical-align: inherit;">Kita harus membungkus seluruh fungsi dalam fungsi asinkron baru, displayContent (). </font><font style="vertical-align: inherit;">Kami tidak mencapai pengurangan kode yang kuat, tetapi dapat mengekstraksi sebagian besar kode dari blok .then (), yang memberikan penyederhanaan yang berguna dan membuat kode lebih mudah dibaca. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menangani kesalahan, kami menambahkan blok .catch () ke panggilan kami ke displayContent (); </font><font style="vertical-align: inherit;">Ini menangani kesalahan kedua fungsi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ingat: Anda juga dapat menggunakan blok .finally () untuk mendapatkan laporan tentang operasi - Anda dapat melihatnya beraksi di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo langsung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami </font><font style="vertical-align: inherit;">(lihat juga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode sumber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kerugian Async / menunggu</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Async / menunggu memiliki beberapa kekurangan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Async / wait membuat kode terlihat seperti sinkron dan, dalam arti tertentu, membuatnya berperilaku lebih sinkron. Kata kunci yang menunggu memblokir eksekusi kode yang mengikutinya sampai janji selesai, seperti yang terjadi dalam operasi sinkron. Ini memungkinkan Anda untuk melakukan tugas lain, tetapi kode Anda sendiri dikunci. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini berarti bahwa kode Anda dapat diperlambat oleh sejumlah besar janji yang tertunda mengikuti satu demi satu. Setiap menunggu akan menunggu penyelesaian yang sebelumnya, sementara kami ingin janji-janji dipenuhi secara bersamaan, seolah-olah kami tidak menggunakan async / menunggu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada pola desain untuk mengatasi masalah ini - menonaktifkan semua proses janji dengan menyimpan objek Janji dalam variabel dan kemudian menunggu mereka. </font><font style="vertical-align: inherit;">Mari kita lihat bagaimana ini diterapkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki dua contoh yang tersedia: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">slow-async-await.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode sumber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fast-async-await.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode sumber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Kedua contoh dimulai dengan fungsi janji yang meniru operasi asinkron menggunakan setTimeout ():</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timeoutPromise</span>(<span class="hljs-params">interval</span>)</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {<font></font>
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<font></font>
            resolve(<span class="hljs-string">'done'</span>)<font></font>
        }, interval)<font></font>
    })<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian ikuti fungsi timeynest asynchronous (), yang mengharapkan tiga panggilan ke timeoutPromise ():</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timeTest</span>(<span class="hljs-params"></span>)</span>{<font></font>
    ...<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masing-masing dari tiga panggilan ke timeTest () berakhir dengan catatan waktu yang dibutuhkan untuk memenuhi janji, kemudian waktu yang dibutuhkan untuk menyelesaikan seluruh operasi dicatat:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> startTime = <span class="hljs-built_in">Date</span>.now()<font></font>
timeTest().then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> finishTime = <span class="hljs-built_in">Date</span>.now()
    <span class="hljs-keyword">let</span> timeTaken = finishTime - startTime<font></font>
    alert(<span class="hljs-string">'Time taken in milliseconds: '</span> + timeTaken)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam setiap kasus, fungsi timeTest () berbeda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam timeTest () lambat-async-await.html () terlihat seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timeTest</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">await</span> timeoutPromise(<span class="hljs-number">3000</span>)
    <span class="hljs-keyword">await</span> timeoutPromise(<span class="hljs-number">3000</span>)
    <span class="hljs-keyword">await</span> timeoutPromise(<span class="hljs-number">3000</span>)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita hanya berharap tiga panggilan ke timeoutPromise, setiap kali mengatur penundaan 3 detik. </font><font style="vertical-align: inherit;">Setiap panggilan menunggu penyelesaian yang sebelumnya - jika Anda menjalankan contoh pertama, Anda akan melihat jendela modal dalam waktu sekitar 9 detik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di fast-async-await.html timeTest () terlihat seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timeTest</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">const</span> timeoutPromise1 = timeoutPromise(<span class="hljs-number">3000</span>)
    <span class="hljs-keyword">const</span> timeoutPromise2 = timeoutPromise(<span class="hljs-number">3000</span>)
    <span class="hljs-keyword">const</span> timeoutPromise3 = timeoutPromise(<span class="hljs-number">3000</span>)<font></font>
<font></font>
    <span class="hljs-keyword">await</span> timeoutPromise1
    <span class="hljs-keyword">await</span> timeoutPromise2
    <span class="hljs-keyword">await</span> timeoutPromise3<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita menyimpan tiga objek Janji dalam variabel, yang menyebabkan proses yang terkait dengannya berjalan secara bersamaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kami mengharapkan hasil mereka - ketika janji mulai dipenuhi secara bersamaan, janji juga akan diselesaikan pada saat yang sama; </font><font style="vertical-align: inherit;">ketika Anda menjalankan contoh kedua, Anda akan melihat jendela modal dalam waktu sekitar 3 detik! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda harus hati-hati menguji kode dan mengingatnya sambil mengurangi kinerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketidaknyamanan kecil lainnya adalah kebutuhan untuk membungkus janji yang diharapkan dalam fungsi asinkron.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menggunakan async / tunggu dengan kelas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai kesimpulan, kami mencatat bahwa Anda dapat menambahkan async bahkan dalam metode untuk membuat kelas sehingga mereka mengembalikan janji dan menunggu janji di dalamnya. </font><font style="vertical-align: inherit;">Ambil kode dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel tentang berorientasi objek JS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan bandingkan dengan versi yang dimodifikasi menggunakan async:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>{
    <span class="hljs-keyword">constructor</span>(first, last, age, gender, interests){
        <span class="hljs-keyword">this</span>.name = {<font></font>
            first,<font></font>
            last<font></font>
        }<font></font>
        <span class="hljs-keyword">this</span>.age = age
        <span class="hljs-keyword">this</span>.gender = gender
        <span class="hljs-keyword">this</span>.interests = interests<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">async</span> greeting(){
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-string">`Hi! I'm <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name.first}</span>`</span>)<font></font>
    }<font></font>
<font></font>
    farewell(){<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-keyword">this</span>.name.first}</span> has left the building. Bye for now!`</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">let</span> han = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">'Han'</span>, <span class="hljs-string">'Solo'</span>, <span class="hljs-number">25</span>, <span class="hljs-string">'male'</span>, [<span class="hljs-string">'Smuggling'</span>])
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode kelas dapat digunakan sebagai berikut:</font></font><br>
<br>
<pre><code class="javascript hljs">han.greeting().then(<span class="hljs-built_in">console</span>.log)
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dukungan browser</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu kendala untuk menggunakan async / menunggu adalah kurangnya dukungan untuk browser yang lebih lama. </font><font style="vertical-align: inherit;">Fitur ini tersedia di hampir semua browser modern, serta janji; </font><font style="vertical-align: inherit;">Beberapa masalah ada di Internet Explorer dan Opera Mini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin menggunakan async / menunggu, tetapi membutuhkan dukungan dari browser lama, Anda dapat menggunakan perpustakaan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BabelJS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ini memungkinkan Anda untuk menggunakan JS terbaru, mengonversinya menjadi yang khusus browser.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Async / await memungkinkan Anda untuk menulis kode asinkron yang mudah dibaca dan dipelihara. </font><font style="vertical-align: inherit;">Meskipun async / menunggu lebih buruk didukung daripada cara lain untuk menulis kode asinkron, pasti patut ditelusuri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terima kasih atas perhatian Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selamat coding!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id490998/index.html">Pengujian perangkat keras dalam SIBUR</a></li>
<li><a href="../id491000/index.html">Styling Select-Option (hampir) tanpa JavaScript</a></li>
<li><a href="../id491006/index.html">Intel NUC sebagai umpan di Unity3D</a></li>
<li><a href="../id491008/index.html">Sangat tua</a></li>
<li><a href="../id491010/index.html">Pilihan artikel tentang pembelajaran mesin: kasus, panduan dan studi untuk Februari 2020</a></li>
<li><a href="../id491016/index.html">Edisi # 32: Pelatihan TI - masalah saat ini dan tantangan dari perusahaan terkemuka</a></li>
<li><a href="../id491018/index.html">Membuat Toko Online di Nuxt.js 2 Walkthrough Bagian 2</a></li>
<li><a href="../id491028/index.html">Tuan Lalat</a></li>
<li><a href="../id491030/index.html">Menyebarkan Mediawiki di Debian (sangat mudah)</a></li>
<li><a href="../id491032/index.html">"RTFM, kawan!", Atau berapa harga keju gratis untuk saya $ 5. Dan bisa jadi $ 80 +</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>