<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòú ‚úçüèª üç¨ Unity Editor Adventures: Matryoshka serializada üê¶ üÜô üö≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Breve introducci√≥n
 Como regla general, para llegar al campo de una propiedad serializada de inter√©s para nosotros, la terapia manual nos aconseja uti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Unity Editor Adventures: Matryoshka serializada</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502836/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Breve introducci√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como regla general, para llegar al campo de una propiedad serializada de inter√©s para nosotros, la terapia manual nos aconseja utilizar el m√©todo FindPropertyRelative (), en el que se arroja el nombre de la variable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ciertas razones, este enfoque no siempre es conveniente. Las razones pueden ser muy diversas. Por ejemplo, el nombre de una variable puede cambiar, necesitamos acceso de hemorragia nasal a una propiedad no serializada, necesitamos tener acceso a getter setter o incluso m√©todos de un objeto serializado. No le haremos las preguntas "por qu√© necesita esto en absoluto" y "por qu√© no podr√≠a prescindir de las formas tradicionales". Supongamos que necesitamos, y eso es todo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, descubramos c√≥mo obtener el objeto con el que estamos trabajando, as√≠ como todos sus objetos principales de la propiedad serializada, y no quedar atrapados en el camino de la serializaci√≥n lleno de trampas. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atenci√≥n. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este art√≠culo implica que ya sabe c√≥mo trabajar con UnityEditor, al menos una vez escribi√≥ PropertyDrawers personalizados, y al menos en t√©rminos generales comprende c√≥mo una propiedad serializada difiere de un objeto serializado.</font></font><br>
<br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ruta de serializaci√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para empezar, coloque todos los puntos sobre O. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el caso m√°s primitivo, tenemos una cierta clase de heredero de MonoBehaviour, y tiene un cierto campo que pertenece a una clase serializada, obviamente no un heredero de la vaca sagrada unitaria de A.K.A. </font><font style="vertical-align: inherit;">UnityEngine.Object.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExamplePulsar</span> : <span class="hljs-title">MonoBehaviour</span><font></font>
{<font></font>
...<font></font>
        [<span class="hljs-meta">Space</span>][Header(<span class="hljs-string">"Example Sandbox Inspector Field"</span>)]
        <span class="hljs-keyword">public</span> SandboxField sandboxField;<font></font>
...<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el c√≥digo anterior, SandboxField es una clase con el atributo Serializable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obtener acceso al MonoBehaviour del propietario no es un problema:</font></font><br>
<br>
<pre><code class="cs hljs">UnityEngine.Object serializationRoot = property.serializedObject.targetObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si lo desea, puede hacerlo como, pero ahora no lo necesitamos. </font><font style="vertical-align: inherit;">Estamos interesados ‚Äã‚Äãen el campo serializado en s√≠ mismo para dibujarlo con todo el blackjack como en la figura a continuaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-w/3n/th/-w3nthkn0gmcdeuvpqlw2zctxhy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos tomar la ruta de serializaci√≥n de la siguiente manera:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">string</span> serializationPath = property.propertyPath;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestro caso, la ruta de serializaci√≥n consistir√° en uno de nuestros campos y devolver√° ‚ÄúsandboxField‚Äù, del cual no estamos fr√≠os ni calientes, ya que para el primer nivel de anidamiento solo necesitamos saber el nombre de la variable (que, por cierto, nos fue devuelta). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que no hay MonoBehaviour padre en el camino. </font><font style="vertical-align: inherit;">Ahora no importa, pero ser√° importante cuando comencemos a desmontar una mu√±eca rusa que se parece a esto:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nestedClassVariable.exampleSandboxesList.Array.data [0] .evenMoreNested.Array.data [0]</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para no quedar atrapado m√°s tarde cuando las propiedades est√°n anidadas, con anticipaci√≥n haremos lo siguiente:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">string</span>[] path = property.propertyPath.Split(<span class="hljs-string">'.'</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora tenemos todos los nodos de la ruta de serializaci√≥n. </font><font style="vertical-align: inherit;">Pero en el caso m√°s primitivo, solo necesitamos el nodo cero. </font><font style="vertical-align: inherit;">T√≥malo:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">string</span> pathNode = path[<span class="hljs-number">0</span>];</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encienda un peque√±o reflejo y obtenga el campo desde aqu√≠:</font></font><br>
<br>
<pre><code class="cs hljs">Type objectType = serializationRoot.GetType();<font></font>
FieldInfo objectFieldInfo = objectType.GetField(pathNode);<font></font>
<span class="hljs-keyword">object</span> field = objectFieldInfo.GetValue(serializationRoot);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dejamos detr√°s de escena la cuesti√≥n de la velocidad de esta empresa. Para una peque√±a cantidad de tales campos y un peque√±o anidamiento, el costo de reflexi√≥n ser√° significativamente menor que todo lo que sucede bajo el cap√≥ de UnityEditor durante el renderizado. Si desea pruebas: en un github, los desarrolladores de Unity tienen algo tan interesante, UnityCsReference, mire su tiempo libre, c√≥mo se implementa la representaci√≥n de ObjectField, por ejemplo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En realidad, esto </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no es (ja, ja)</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> todo. Tenemos el campo, estamos contentos, podemos hacer lo que queramos con √©l e incluso tratar de escribir nuestro propio UnityEvent con todos los botones y acciones importantes que afectan solo a nuestro campo, sin importar en qu√© objeto cuelgue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al menos, mientras se cuelga en la ra√≠z de este objeto, todo estar√° bien, pero ya no es tanto. </font><font style="vertical-align: inherit;">En el camino de la serializaci√≥n, estamos esperando matrices y todo tipo de listas, cuyo principal deseo es ponernos en zapatillas, cambiando oportunamente el n√∫mero de elementos hacia arriba. </font><font style="vertical-align: inherit;">Pero al diablo con esto, primero cavar√≠amos debajo de la matriz misma.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nuestro objetivo es la resistencia a tales mu√±ecas.</font></font></b>
                        <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/l7/do/h3/l7doh3b9j_da24zsw9rc-7xefjs.png"></div></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no tuvi√©ramos matrices en la ruta de serializaci√≥n, la tarea ser√≠a trivial: recorrer√≠amos los nodos de serializaci√≥n hasta llegar al final de la cadena. </font><font style="vertical-align: inherit;">Algo as√≠ como el siguiente c√≥digo:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">object</span> currentObject = serializationRoot;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; directSearchDepth; i++)<font></font>
{<font></font>
       <span class="hljs-keyword">string</span> pathNode = path[i];<font></font>
       Type objectType = currentObject.GetType();<font></font>
       FieldInfo objectFieldInfo = objectType.GetField(pathNode);<font></font>
       <span class="hljs-keyword">object</span> nextObject = objectFieldInfo.GetValue(currentObject);<font></font>
       currentObject = nextObject;<font></font>
}<font></font>
<span class="hljs-keyword">return</span> currentObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ estamos esperando dos noticias desagradables a la vez. </font><font style="vertical-align: inherit;">Comenzar√© con el segundo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El paso de tomar nextObject puede devolver repentinamente nulo en lugar del objeto esperado. </font><font style="vertical-align: inherit;">Por lo general, esto sucede cuando creamos por primera vez el objeto padre en el inspector, y la ruta de serializaci√≥n ya existe, pero el campo correspondiente no (esto nos brindar√° a√∫n m√°s servicios). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este caso, ser√≠a bueno agregar inmediatamente la salida del m√©todo con el retorno nulo:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">object</span> nextObject = objectFieldInfo.GetValue(currentObject);
<span class="hljs-keyword">if</span> (nextObject == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
currentObject = nextObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"¬°Espera un minuto! </font><font style="vertical-align: inherit;">- tu dices. </font><font style="vertical-align: inherit;">"¬øY qu√© hacer en OnGUI si nos devuelven cero?" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Respuesta: nada. </font><font style="vertical-align: inherit;">Nada literalmente. </font><font style="vertical-align: inherit;">Simplemente realice una devoluci√≥n y omita este paso de dibujo, esperando a que se cree el campo. </font><font style="vertical-align: inherit;">Nada terrible suceder√° de esto.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnGUI</span>(<span class="hljs-params">Rect position, SerializedProperty property, GUIContent label</span>)</span><font></font>
{<font></font>
       SandboxField sandboxField = GetTarget&lt;T&gt;(property);<font></font>
       <span class="hljs-keyword">if</span> (sandboxField == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<font></font>
‚Ä¶<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aqu√≠ GetTarget () es la funci√≥n correspondiente, tomando el objeto serializado de la propiedad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por cierto, le aconsejar√© que tome el campo de inter√©s para nosotros no aqu√≠, sino en GetPropertyHeight. Esto ser√° necesario en caso de que escribamos campos plegables expandibles con diferentes tama√±os seg√∫n el contenido. Se llama a GetPropertyHeight () antes de OnGUI (), por lo que si tomamos el campo all√≠ y lo escribimos en el campo de nuestro PropertyDrawer, no tendremos que llevarlo nuevamente a OnGUI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que una instancia del PropertyDrawer personalizado se crea solo para dibujar todas las propiedades serializadas actualmente visibles, y las nuevas propiedades se lanzan a su vez de arriba a abajo. Esto debe tenerse en cuenta para no interferir con el c√°lculo de la altura de la siguiente propiedad, de lo contrario, puede obtener una situaci√≥n desagradable cuando hace clic en desplegable y el campo que espera se expande. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, todo el oropel que es responsable de mostrar el campo en el editor y que desea serializar, debe serializar al lado de la clase serializable, no PropertyDrawer, y por razones de precisi√≥n, incluya corchetes de compilaci√≥n condicional para que toda esta verg√ºenza espa√±ola no intente ir a la compilaci√≥n :</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Serializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SandboxField</span><font></font>
{<font></font>
‚Ä¶<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> UNITY_EDITOR</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> editorFoldout;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
‚Ä¶<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro escollo que nos espera aqu√≠: todos los campos creados a trav√©s del editor quer√≠an escupir en el constructor de la clase y en los valores predeterminados especificados en la clase. </font><font style="vertical-align: inherit;">Si lo hace, por ejemplo, de esta manera (ejemplo de mi proyecto, donde fue el valor de los nodos de la superficie del agua):</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">SerializeField</span>]<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> m_nodesPerUnit = <span class="hljs-number">5</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este valor se ignorar√° la serializaci√≥n en blanco tan pronto como agregue un nuevo elemento a la lista. </font><font style="vertical-align: inherit;">Llamar al constructor para pedir ayuda no es menos in√∫til: todo lo que escribiste all√≠ ser√° ignorado. </font><font style="vertical-align: inherit;">El nuevo objeto es un objetivo como un halc√≥n, todos sus valores son realmente los valores predeterminados, pero no los que desea ver all√≠, sino todo tipo de cosas nulas, falsas, 0, Color.clear y otras cosas obscenas.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muleta en carne</font></font></b>
                        <div class="spoiler_text">  .   NonUnitySerializableClass,       .      , DefaultEditorObject(),    . <br>
<br>
  - :<br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NonUnitySerializableClass</span><font></font>
{<font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DefaultEditorObject</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-comment">// virtually do nothing</span><font></font>
        }<font></font>
<font></font>
        [<span class="hljs-meta">SerializeField</span>]<span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> validated = <span class="hljs-literal">false</span>;
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">EditorCreated</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> force = <span class="hljs-literal">false</span></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (validated &amp;&amp; !force) <span class="hljs-keyword">return</span>;<font></font>
            DefaultEditorObject();<font></font>
            validated = <span class="hljs-literal">true</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NonUnitySerializableClass</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            EditorCreated(<span class="hljs-literal">true</span>);<font></font>
        }<font></font>
}</code></pre><br>
        DefaultEditorObject(),    ,   EditorCreated     .<br>
<br>
 :       .<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fg/dh/dr/fgdhdrfczfhhcki7dw6plxzj7vi.png"></div><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Volvamos a nuestras ovejas, o m√°s bien, a las matrices. </font><font style="vertical-align: inherit;">Otro problema que puede surgir incluso en una etapa anterior radica en esta l√≠nea:</font></font><br>
<br>
<pre><code class="cs hljs">FieldInfo objectFieldInfo = objectType.GetField(pathNode);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El lado derecho puede devolvernos cero si se encuentra con una matriz en la ruta de serializaci√≥n (y cualquier objeto "IList" ser√° la matriz "Array"). </font><font style="vertical-align: inherit;">Desagradable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© hacer? </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intente no caer en tales situaciones</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> escribiendo un controlador:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; pathNode.Length; i++)<font></font>
{<font></font>
        <span class="hljs-keyword">string</span> pathNode = path[i];<font></font>
        Type objectType = currentObject.GetType();<font></font>
        FieldInfo objectFieldInfo = objectType.GetField(pathNode);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (objectFieldInfo == <span class="hljs-literal">null</span>)<font></font>
        {<font></font>
                <span class="hljs-keyword">if</span> (pathNode == <span class="hljs-string">"Array"</span>)<font></font>
                {<font></font>
                        i++;<font></font>
                        <span class="hljs-keyword">string</span> nextNode = path[i];
                        <span class="hljs-keyword">string</span> idxstr = nextNode.Substring(nextNode.IndexOf(<span class="hljs-string">"["</span>) + <span class="hljs-number">1</span>);<font></font>
                        idxstr = idxstr.Replace(<span class="hljs-string">"]"</span>, <span class="hljs-string">""</span>);
                        <span class="hljs-keyword">int</span> arrayNumber = Convert.ToInt32(idxstr);<font></font>
                        IList collection = currentObject <span class="hljs-keyword">as</span> IList;
                        <span class="hljs-keyword">if</span> (collection.Count &lt;= arrayNumber) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
                        currentObject = collection[arrayNumber];<font></font>
                }<font></font>
                <span class="hljs-keyword">else</span><font></font>
                {<font></font>
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NotImplementedException(<span class="hljs-string">"   "</span>);<font></font>
                }<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> <span class="hljs-comment">//  ,     </span><font></font>
        {<font></font>
                <span class="hljs-keyword">object</span> nextObject = objectFieldInfo.GetValue(currentObject);
                <span class="hljs-keyword">if</span> (nextObject == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
                currentObject = nextObject;<font></font>
        }<font></font>
}<font></font>
<span class="hljs-keyword">return</span> currentObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√≠, incluso podemos entrar en una situaci√≥n desagradable aqu√≠, cuando la ruta de serializaci√≥n ya tiene, por ejemplo, el elemento data [0] o data [1], y la matriz a√∫n no lo ha implementado. </font><font style="vertical-align: inherit;">Por ejemplo, creamos una Lista vac√≠a. </font><font style="vertical-align: inherit;">Le preguntamos N elementos - y sin esta hermosa l√≠nea:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">if</span> (collection.Count &lt;= arrayNumber) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... tenemos un mont√≥n de excepciones en ronroneos. </font><font style="vertical-align: inherit;">Y todo lo que ten√≠a que hacer era omitir el paso de representaci√≥n, esperando hasta que se crearan los campos de inter√©s para nosotros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todav√≠a no me he encontrado con otros casos cuando objectFieldInfo == null, pero al mismo tiempo el nodo de serializaci√≥n no est√° designado como Array, por lo que arrojar una terrible excepci√≥n en una situaci√≥n tan hipot√©tica excepcional es romperlo posteriormente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En general, tenemos una funci√≥n m√°s o menos funcional que nos permite extraer un campo por su propiedad serializada. </font><font style="vertical-align: inherit;">En el futuro, esta funci√≥n puede modificarse obligando a extraer todos los objetos en la ruta de serializaci√≥n, as√≠ como a buscar el "padre" m√°s cercano, incluyendo o excluyendo matrices a lo largo de la ruta.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hack de vida para dibujar propiedades anidadas</font></font></b>
                        <div class="spoiler_text">      -  ,   Rect position  Rect indentedPosition = EditorGUI.IndentedRect(position).     ,         EditorGUI,      position ,       GUI ‚Äì    indentedPosition.   EditorGUILayout  OnGUI,       (   ,   ).<br>
<br>
    ,   MonoScript   (     -,   ),     static-,      AssetDatabase,        <i></i>         .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias por la atenci√≥n.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es502818/index.html">Y messenger: mensajero descentralizado en blockchain *</a></li>
<li><a href="../es502826/index.html">3D Creaform MetraSCAN 3D Scanner Descripci√≥n general</a></li>
<li><a href="../es502830/index.html">Hackathon en l√≠nea "Nueva realidad" VirusHack. C√≥mo fue</a></li>
<li><a href="../es502832/index.html">Certificaci√≥n ISTQB disponible en l√≠nea: experiencia personal</a></li>
<li><a href="../es502834/index.html">C√≥mo convertirse en ingeniero de DevOps en seis meses o incluso m√°s r√°pido. Parte 5. Despliegue</a></li>
<li><a href="../es502838/index.html">¬øCu√°l es la diferencia entre las profesiones de TI y digitales: transformaci√≥n digital y opiniones de expertos</a></li>
<li><a href="../es502840/index.html">Revisi√≥n del esc√°ner 3D 3D EinScan Pro 2X Plus de Shining</a></li>
<li><a href="../es502842/index.html">C√≥mo proteger los datos biom√©tricos del usuario del uso criminal</a></li>
<li><a href="../es502844/index.html">[Parte 2/2] Gu√≠a de FFmpeg y SDL o C√≥mo escribir un reproductor de video en menos de 1000 l√≠neas</a></li>
<li><a href="../es502846/index.html">Zuckerberg lanz√≥ tiendas. Instagram y Facebook se convierten gradualmente en tiendas.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>