<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌡️ 🍊 🤴🏻 Mengapa, kapan dan bagaimana menggunakan multithreading dan multiprocessing dengan Python 😉 🙌🏼 🚩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salute, Khabrovsk. Saat ini, OTUS telah membuka satu set untuk kursus Pembelajaran Mesin , sehubungan dengan ini kami telah menerjemahkan untuk Anda s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mengapa, kapan dan bagaimana menggunakan multithreading dan multiprocessing dengan Python</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/501056/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salute, Khabrovsk. </font><font style="vertical-align: inherit;">Saat ini, OTUS telah membuka satu set untuk kursus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembelajaran Mesin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sehubungan dengan ini kami telah menerjemahkan untuk Anda satu "dongeng" yang sangat menarik. </font><font style="vertical-align: inherit;">Pergilah.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/mi/su/ev/misuevluvampqjc3br79pgtgscg.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suatu hari, di galaksi yang jauh, jauh ... Seorang </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
penyihir yang bijaksana dan kuat tinggal di sebuah desa kecil di tengah padang pasir. </font><font style="vertical-align: inherit;">Dan nama mereka adalah Dumbledalf. </font><font style="vertical-align: inherit;">Dia tidak hanya bijak dan kuat, tetapi juga membantu orang-orang yang datang dari negeri yang jauh untuk meminta bantuan seorang penyihir. </font><font style="vertical-align: inherit;">Kisah kami dimulai ketika seorang musafir membawa gulungan sihir. </font><font style="vertical-align: inherit;">Pelancong tidak tahu apa yang ada di gulungan itu, dia hanya tahu bahwa jika ada yang bisa mengungkapkan semua rahasia gulungan itu, maka ini adalah Dumbledalf.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bab 1: Single-Threaded, Proses-Tunggal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda belum menebak, saya menggambar analogi dengan prosesor dan fungsinya. </font><font style="vertical-align: inherit;">Wisaya kami adalah prosesor, dan sebuah gulir adalah daftar tautan yang mengarah pada kekuatan dan pengetahuan Python untuk menguasainya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pikiran pertama penyihir yang menguraikan daftar tanpa kesulitan adalah mengirim teman yang setia (Garrigorn? Aku tahu, aku tahu itu terdengar mengerikan) ke setiap tempat yang dijelaskan dalam gulungan untuk menemukan dan membawa apa yang bisa dia temukan di sana.</font></font><br>
<br>
<pre><code class="python hljs">In [<span class="hljs-number">1</span>]:
<span class="hljs-keyword">import</span> urllib.request
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor<font></font>
In [<span class="hljs-number">2</span>]:<font></font>
urls = [<font></font>
  <span class="hljs-string">'http://www.python.org'</span>,
  <span class="hljs-string">'https://docs.python.org/3/'</span>,
  <span class="hljs-string">'https://docs.python.org/3/whatsnew/3.7.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/tutorial/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/library/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/reference/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/using/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/howto/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/installing/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/distributing/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/extending/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/c-api/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/faq/index.html'</span><font></font>
  ]<font></font>
In [<span class="hljs-number">3</span>]:<font></font>
%%time<font></font>
<font></font>
results = []<font></font>
<span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> urls:
    <span class="hljs-keyword">with</span> urllib.request.urlopen(url) <span class="hljs-keyword">as</span> src:<font></font>
        results.append(src)<font></font>
<font></font>
CPU times: user <span class="hljs-number">135</span> ms, sys: <span class="hljs-number">283</span> µs, total: <span class="hljs-number">135</span> ms<font></font>
Wall time: <span class="hljs-number">12.3</span> s<font></font>
In [ ]:<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, kami cukup mengulangi URL satu per satu menggunakan for for dan membaca jawabannya. </font><font style="vertical-align: inherit;">Berkat </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">%% waktu</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan keajaiban </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPython</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kita dapat melihat bahwa butuh sekitar 12 detik dengan internet sedih saya.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bab 2: Multithreading</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bukan tanpa alasan bahwa penyihir itu terkenal karena kebijaksanaannya, ia dengan cepat berhasil menemukan cara yang jauh lebih efektif. Alih-alih mengirim satu orang ke setiap tempat secara berurutan, mengapa tidak mengumpulkan sepasukan rekanan yang dapat diandalkan dan mengirim mereka ke berbagai belahan dunia secara bersamaan! Wizard akan dapat menyatukan semua pengetahuan yang mereka bawa sekaligus! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu benar, alih-alih melihat daftar dalam satu lingkaran secara berurutan, kita dapat menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multithreading</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mengakses beberapa URL sekaligus.</font></font><br>
<br>
<pre><code class="python hljs">In [<span class="hljs-number">1</span>]:
<span class="hljs-keyword">import</span> urllib.request
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor<font></font>
In [<span class="hljs-number">2</span>]:<font></font>
urls = [<font></font>
  <span class="hljs-string">'http://www.python.org'</span>,
  <span class="hljs-string">'https://docs.python.org/3/'</span>,
  <span class="hljs-string">'https://docs.python.org/3/whatsnew/3.7.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/tutorial/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/library/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/reference/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/using/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/howto/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/installing/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/distributing/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/extending/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/c-api/index.html'</span>,
  <span class="hljs-string">'https://docs.python.org/3/faq/index.html'</span><font></font>
  ]<font></font>
In [<span class="hljs-number">4</span>]:<font></font>
%%time<font></font>
<font></font>
<span class="hljs-keyword">with</span> ThreadPoolExecutor(<span class="hljs-number">4</span>) <span class="hljs-keyword">as</span> executor:<font></font>
    results = executor.map(urllib.request.urlopen, urls)<font></font>
<font></font>
CPU times: user <span class="hljs-number">122</span> ms, sys: <span class="hljs-number">8.27</span> ms, total: <span class="hljs-number">130</span> ms<font></font>
Wall time: <span class="hljs-number">3.83</span> s<font></font>
In [<span class="hljs-number">5</span>]:<font></font>
%%time<font></font>
<font></font>
<span class="hljs-keyword">with</span> ThreadPoolExecutor(<span class="hljs-number">8</span>) <span class="hljs-keyword">as</span> executor:<font></font>
    results = executor.map(urllib.request.urlopen, urls)<font></font>
<font></font>
CPU times: user <span class="hljs-number">122</span> ms, sys: <span class="hljs-number">14.7</span> ms, total: <span class="hljs-number">137</span> ms<font></font>
Wall time: <span class="hljs-number">1.79</span> s<font></font>
In [<span class="hljs-number">6</span>]:<font></font>
%%time<font></font>
<font></font>
<span class="hljs-keyword">with</span> ThreadPoolExecutor(<span class="hljs-number">16</span>) <span class="hljs-keyword">as</span> executor:<font></font>
    results = executor.map(urllib.request.urlopen, urls)<font></font>
<font></font>
CPU times: user <span class="hljs-number">143</span> ms, sys: <span class="hljs-number">3.88</span> ms, total: <span class="hljs-number">147</span> ms<font></font>
Wall time: <span class="hljs-number">1.32</span> s<font></font>
In [ ]:<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jauh lebih baik! Hampir seperti ... sihir. Menggunakan banyak utas dapat secara signifikan mempercepat banyak tugas I / O. Dalam kasus saya, sebagian besar waktu yang dihabiskan untuk membaca URL adalah karena latensi jaringan. Program yang terkait dengan I / O menghabiskan sebagian besar hidup mereka menunggu, Anda dapat menebaknya, untuk input atau output (seperti seorang penyihir menunggu teman-temannya untuk pergi ke tempat-tempat dari gulungan dan kembali). Ini dapat berupa input / output dari jaringan, database, file, atau dari pengguna. I / O seperti itu biasanya membutuhkan banyak waktu, karena sumber mungkin perlu melakukan preprocessing sebelum mentransfer data ke I / O. Sebagai contoh, prosesor akan menghitung jauh lebih cepat daripada koneksi jaringan akan mengirimkan data (dengan kecepatan kira-kiraseperti Flash vs nenekmu).</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catatan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><code>multithreading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bisa sangat berguna dalam tugas-tugas seperti membersihkan halaman web.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bab 3: Proses banyak</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tahun-tahun berlalu, ketenaran penyihir baik tumbuh, dan dengan itu tumbuh kecemburuan seorang penyihir gelap yang tidak memihak (Sarumort? Atau mungkin Volandeman?). </font><font style="vertical-align: inherit;">Dipersenjatai dengan kelicikan yang tak terukur dan didorong oleh rasa iri, penyihir gelap itu mengutuk Dumbledalf. </font><font style="vertical-align: inherit;">Ketika kutukan menyusulnya, Dumbledalf menyadari bahwa dia hanya memiliki beberapa saat untuk menangkalnya. </font><font style="vertical-align: inherit;">Putus asa, ia mencari-cari buku mantra dan dengan cepat menemukan satu mantra balasan yang seharusnya bisa digunakan. </font><font style="vertical-align: inherit;">Satu-satunya masalah adalah penyihir itu perlu menghitung jumlah semua bilangan prima kurang dari 1.000.000 Mantra yang aneh, tentu saja, tetapi apa yang kita miliki.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penyihir itu tahu bahwa menghitung nilai akan sepele jika dia punya cukup waktu, tetapi dia tidak memiliki kemewahan itu. Terlepas dari kenyataan bahwa ia adalah penyihir hebat, namun ia dibatasi oleh kemanusiaannya dan dapat memeriksa kesederhanaan hanya satu nomor pada suatu waktu. Jika dia memutuskan untuk menambahkan bilangan prima satu demi satu, itu akan memakan waktu terlalu banyak. Ketika hanya ada beberapa detik yang tersisa sebelum menerapkan mantra balasan, dia tiba-tiba teringat mantra </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><i><font style="vertical-align: inherit;">pemrosesan</font></i><font style="vertical-align: inherit;"> , yang telah dia pelajari dari gulungan sihir bertahun-tahun yang lalu. Mantra ini akan memungkinkannya untuk menyalin dirinya sendiri untuk mendistribusikan angka di antara salinannya dan memeriksa beberapa sekaligus. Dan pada akhirnya, yang perlu dia lakukan hanyalah menjumlahkan angka yang akan dia dan salinannya temukan.</font></font><br>
<br>
<pre><code class="python hljs">In [<span class="hljs-number">1</span>]:
<span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool<font></font>
In [<span class="hljs-number">2</span>]:
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">if_prime</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">if</span> x &lt;= <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">elif</span> x &lt;= <span class="hljs-number">3</span>:
        <span class="hljs-keyword">return</span> x
    <span class="hljs-keyword">elif</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> x % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    i = <span class="hljs-number">5</span>
    <span class="hljs-keyword">while</span> i**<span class="hljs-number">2</span> &lt;= x:
        <span class="hljs-keyword">if</span> x % i == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> x % (i + <span class="hljs-number">2</span>) == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        i += <span class="hljs-number">6</span>
    <span class="hljs-keyword">return</span> x<font></font>
In [<span class="hljs-number">17</span>]:<font></font>
%%time<font></font>
<font></font>
answer = <span class="hljs-number">0</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1000000</span>):<font></font>
    answer += if_prime(i)<font></font>
<font></font>
CPU times: user <span class="hljs-number">3.48</span> s, sys: <span class="hljs-number">0</span> ns, total: <span class="hljs-number">3.48</span> s<font></font>
Wall time: <span class="hljs-number">3.48</span> s<font></font>
In [<span class="hljs-number">18</span>]:<font></font>
%%time<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">with</span> Pool(<span class="hljs-number">2</span>) <span class="hljs-keyword">as</span> p:<font></font>
        answer = sum(p.map(if_prime, list(range(<span class="hljs-number">1000000</span>))))<font></font>
<font></font>
CPU times: user <span class="hljs-number">114</span> ms, sys: <span class="hljs-number">4.07</span> ms, total: <span class="hljs-number">118</span> ms<font></font>
Wall time: <span class="hljs-number">1.91</span> s<font></font>
In [<span class="hljs-number">19</span>]:<font></font>
%%time<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">with</span> Pool(<span class="hljs-number">4</span>) <span class="hljs-keyword">as</span> p:<font></font>
        answer = sum(p.map(if_prime, list(range(<span class="hljs-number">1000000</span>))))<font></font>
<font></font>
CPU times: user <span class="hljs-number">99.5</span> ms, sys: <span class="hljs-number">30.5</span> ms, total: <span class="hljs-number">130</span> ms<font></font>
Wall time: <span class="hljs-number">1.12</span> s<font></font>
In [<span class="hljs-number">20</span>]:<font></font>
%%timeit<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">with</span> Pool(<span class="hljs-number">8</span>) <span class="hljs-keyword">as</span> p:<font></font>
        answer = sum(p.map(if_prime, list(range(<span class="hljs-number">1000000</span>))))<font></font>
<font></font>
<span class="hljs-number">729</span> ms ± <span class="hljs-number">3.02</span> ms per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">1</span> loop each)<font></font>
In [<span class="hljs-number">21</span>]:<font></font>
%%timeit<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">with</span> Pool(<span class="hljs-number">16</span>) <span class="hljs-keyword">as</span> p:<font></font>
        answer = sum(p.map(if_prime, list(range(<span class="hljs-number">1000000</span>))))<font></font>
<font></font>
<span class="hljs-number">512</span> ms ± <span class="hljs-number">39.8</span> ms per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">1</span> loop each)<font></font>
In [<span class="hljs-number">22</span>]:<font></font>
%%timeit<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">with</span> Pool(<span class="hljs-number">32</span>) <span class="hljs-keyword">as</span> p:<font></font>
        answer = sum(p.map(if_prime, list(range(<span class="hljs-number">1000000</span>))))<font></font>
<font></font>
<span class="hljs-number">518</span> ms ± <span class="hljs-number">13.3</span> ms per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">1</span> loop each)<font></font>
In [<span class="hljs-number">23</span>]:<font></font>
%%timeit<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">with</span> Pool(<span class="hljs-number">64</span>) <span class="hljs-keyword">as</span> p:<font></font>
        answer = sum(p.map(if_prime, list(range(<span class="hljs-number">1000000</span>))))<font></font>
<font></font>
<span class="hljs-number">621</span> ms ± <span class="hljs-number">10.5</span> ms per loop (mean ± std. dev. of <span class="hljs-number">7</span> runs, <span class="hljs-number">1</span> loop each)<font></font>
In [ ]:</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prosesor modern memiliki lebih dari satu inti, sehingga kita dapat mempercepat tugas menggunakan multiprocess pengolahan modul </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multiprocessing</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tugas yang terkait dengan prosesor adalah program yang sebagian besar waktu kerjanya melakukan perhitungan pada prosesor (perhitungan matematis sepele, pemrosesan gambar, dll.). </font><font style="vertical-align: inherit;">Jika perhitungan dapat dilakukan secara independen satu sama lain, kami memiliki kesempatan untuk membaginya di antara inti prosesor yang tersedia, sehingga memperoleh peningkatan yang signifikan dalam kecepatan pemrosesan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang harus Anda lakukan adalah:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentukan fungsi yang akan diterapkan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mempersiapkan daftar elemen yang akan diterapkan fungsinya;</font></font></li>
<li>    <code>multiprocessing.Pool</code>. ,     <code>Pool()</code>,     .   <code>with</code> ,         .</li>
<li>     Pool    <code>map</code>.    map  ,    ,    .</li>
</ol><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catatan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Fungsi dapat didefinisikan untuk melakukan tugas apa pun yang dapat dilakukan secara paralel. Misalnya, suatu fungsi dapat berisi kode untuk menulis hasil perhitungan ke file.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jadi mengapa kita harus berpisah</font></font><code>multiprocessing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>multithreading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Jika Anda pernah mencoba untuk meningkatkan kinerja tugas pada prosesor menggunakan multithreading, hasilnya justru sebaliknya. Itu mengerikan! Mari kita lihat bagaimana itu terjadi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sama seperti penyihir dibatasi oleh sifat manusianya dan hanya dapat menghitung satu angka per unit waktu, Python datang dengan sesuatu yang disebut</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Global Interpreter Lock (GIL)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Python senang membiarkan Anda menelurkan sebanyak mungkin utas yang Anda inginkan, tetapi</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GIL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memastikan bahwa hanya satu dari utas ini yang akan dieksekusi pada waktu tertentu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk tugas yang berkaitan dengan I / O, situasi ini benar-benar normal. Satu utas mengirimkan permintaan ke satu URL dan menunggu tanggapan, hanya utas ini yang bisa diganti oleh yang lain, yang akan mengirim permintaan lain ke URL yang berbeda. Karena utas tidak perlu melakukan apa pun sampai ia menerima respons, maka tidak ada bedanya bahwa pada waktu tertentu hanya satu utas yang berjalan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk tugas yang dilakukan pada prosesor, memiliki beberapa utas hampir sama tidak berguna dengan puting pada baju besi. Karena hanya satu utas yang dapat dieksekusi per unit waktu, bahkan jika Anda menghasilkan beberapa utas, masing-masing akan dialokasikan nomor untuk memeriksa kesederhanaan, prosesor masih akan bekerja dengan hanya satu utas. Bahkan, angka-angka ini masih akan diperiksa satu per satu. Dan overhead bekerja dengan banyak utas akan membantu mengurangi kinerja, yang bisa Anda amati saat digunakan </font></font><code>multithreading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam tugas yang dilakukan pada prosesor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengatasi "pembatasan" ini, kami menggunakan modul</font></font><code>multiprocessing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Alih-alih menggunakan utas, kegunaan multi-proses, seperti yang Anda katakan ... beberapa proses. Setiap proses mendapatkan juru bahasa dan ruang memori pribadi, sehingga GIL tidak akan membatasi Anda. Bahkan, setiap proses akan menggunakan inti prosesor sendiri dan bekerja dengan nomor uniknya sendiri, dan ini akan dilakukan bersamaan dengan pekerjaan proses lainnya. Betapa manisnya mereka! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin memperhatikan bahwa beban CPU akan lebih tinggi ketika Anda menggunakannya </font></font><code>multiprocessing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dibandingkan dengan yang biasa untuk loop atau bahkan </font></font><code>multithreading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ini terjadi karena program Anda tidak menggunakan satu inti, tetapi beberapa inti. Dan ini bagus! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ingat bahwa</font></font><code>multiprocessing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini memiliki overhead sendiri dalam mengelola berbagai proses, yang biasanya lebih serius daripada biaya multithreading. (Multiprocessing memunculkan penerjemah terpisah dan menetapkan area ingatannya sendiri untuk setiap proses, jadi ya!) Artinya, lebih baik menggunakan versi ringan multithreading ketika Anda ingin keluar dengan cara ini (ingat tentang tugas yang terkait dengan I / O). Tetapi ketika perhitungan pada prosesor menjadi hambatan, waktu modul datang </font></font><code>multiprocessing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Tetapi ingatlah bahwa dengan kekuatan besar datanglah tanggung jawab besar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda menelurkan lebih banyak proses daripada yang dapat diproses prosesor Anda per unit waktu, Anda akan melihat bahwa kinerja akan mulai menurun. </font><font style="vertical-align: inherit;">Ini terjadi karena sistem operasi perlu melakukan lebih banyak pekerjaan dengan mengocok proses antara inti prosesor, karena ada lebih banyak proses. </font><font style="vertical-align: inherit;">Pada kenyataannya, semuanya bisa menjadi lebih rumit daripada yang saya katakan hari ini, tetapi saya menyampaikan gagasan utama. </font><font style="vertical-align: inherit;">Misalnya, pada sistem saya, kinerja akan turun ketika jumlah proses adalah 16. Ini karena hanya ada 16 core logis di prosesor saya.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bab 4: Kesimpulan</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam tugas yang berkaitan dengan I / O, itu </font></font><code>multithreading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat meningkatkan kinerja.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam tugas-tugas yang terkait dengan I / O, </font></font><code>multiprocessing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini juga dapat meningkatkan produktivitas, tetapi biayanya, lebih tinggi daripada saat menggunakan </font></font><code>multithreading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keberadaan Python GIL menjelaskan kepada kami bahwa pada waktu tertentu dalam suatu program, hanya satu utas yang dapat dijalankan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam tugas yang terkait dengan prosesor, penggunaan </font></font><code>multithreading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat mengurangi kinerja.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam tugas-tugas terkait prosesor, penggunaan </font></font><code>multiprocessing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat meningkatkan kinerja.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyihir luar biasa!</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di situlah kita akan mengakhiri pengantar kami ke </font></font><code>multithreading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>multiprocessing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan Python </font><font style="vertical-align: inherit;">hari ini </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sekarang, pergilah dan menangkan!</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pemodelan COVID-19 menggunakan analisis grafik dan parsing data terbuka." </font><font style="vertical-align: inherit;">Pelajaran gratis.</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id501044/index.html">Jangan pegang orang karena orang idiot atau mengapa orang dengan latar belakang teknik dapat membakar menara sel (video)</a></li>
<li><a href="../id501046/index.html">Sekitar keuntungan yang kuat: 10 laporan teratas konferensi C ++ Russia 2019 Piter</a></li>
<li><a href="../id501048/index.html">Organisasi organisasi SMB kerja jarak jauh pada OpenVPN</a></li>
<li><a href="../id501050/index.html">Instal dan aktifkan Edisi Komunitas LabVIEW</a></li>
<li><a href="../id501052/index.html">Kembalinya Spaceship Cina</a></li>
<li><a href="../id501058/index.html">Teamcenter Solusi Mulai Cepat Membantu Produsen Peralatan Industri Memotong Waktu Desain Dengan 25%</a></li>
<li><a href="../id501060/index.html">JetBrains .NET Days Online, 13-14 Mei</a></li>
<li><a href="../id501062/index.html">Semua laporan bagian online gratis dari PHP Russia dengan penutur asing dapat dilihat dalam terjemahan</a></li>
<li><a href="../id501064/index.html">Untuk penerbangan kapal eksperimental Tiongkok. Infografis dan kolase.</a></li>
<li><a href="../id501068/index.html">Deepfakes dan media dalam: Medan pertempuran baru untuk keamanan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>