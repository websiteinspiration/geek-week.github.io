<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙅🏼 🔣 🏅 3 cara membuat daftar besar di Angular 🙁 🆕 👨🏼‍🤝‍👨🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada tahun 2020, kerangka kerja front-end menjadi lebih baik, lebih efisien dan lebih cepat. Tetapi, bahkan dengan mengingat hal ini, membuat daftar b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>3 cara membuat daftar besar di Angular</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492506/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada tahun 2020, kerangka kerja front-end menjadi lebih baik, lebih efisien dan lebih cepat. Tetapi, bahkan dengan mengingat hal ini, membuat daftar besar tanpa "pembekuan" browser masih bisa menjadi tugas yang menakutkan bahkan untuk kerangka kerja tercepat yang ada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah salah satu kasus di mana "kerangka kerjanya cepat dan kodenya lambat." </font><font style="vertical-align: inherit;">
Ada banyak pendekatan yang memungkinkan Anda untuk menampilkan sejumlah besar elemen tanpa memblokir interaksi pengguna dengan halaman web. </font><font style="vertical-align: inherit;">
Penulis artikel, terjemahan yang kami terbitkan hari ini, ingin menjelajahi metode yang ada untuk menampilkan daftar besar di halaman web dan berbicara tentang bidang aplikasi mereka.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ql/ap/04/qlap04o-7mdhzho6nedwbgz64gk.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meskipun materi ini ditujukan untuk Angular, apa yang dibahas di sini berlaku untuk kerangka kerja dan proyek lain yang ditulis dalam JavaScript murni. </font><font style="vertical-align: inherit;">Secara khusus, pendekatan berikut untuk merender daftar besar akan dipertimbangkan di sini:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengguliran virtual (menggunakan CDK Angular).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render manual.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render progresif.</font></font></li>
</ul><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengguliran virtual</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengguliran virtual mungkin merupakan cara paling efisien untuk bekerja dengan daftar besar. </font><font style="vertical-align: inherit;">Benar, dia memiliki beberapa kelemahan. </font><font style="vertical-align: inherit;">Pengguliran virtual, terima kasih kepada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Angular CDK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan plugin lainnya, sangat mudah diimplementasikan dalam komponen apa pun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan di balik pengguliran virtual itu sederhana, tetapi tidak selalu mudah diimplementasikan. </font><font style="vertical-align: inherit;">Intinya di sini adalah bahwa kita memiliki wadah dan daftar elemen. </font><font style="vertical-align: inherit;">Elemen diberikan hanya jika berada di dalam area wadah yang terlihat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan menggunakan modul </font></font><code>scrolling</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari CDK Angular, yang dirancang untuk mengatur pengguliran virtual. </font><font style="vertical-align: inherit;">Untuk melakukan ini, Anda harus menginstal CDK terlebih dahulu:</font></font><br>
<br>
<pre><code class="bash hljs">npm i @angular/cdk
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maka Anda perlu mengimpor modul:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { ScrollingModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/cdk/scrolling'</span>;<font></font>
@NgModule({<font></font>
&nbsp;...<font></font>
&nbsp;imports: [ ScrollingModule, ...]<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppModule</span> </span>{}
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, komponen dapat digunakan </font></font><code>cdk-virtual-scroll-viewport</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">cdk-virtual-scroll-viewport</span> <span class="hljs-attr">itemSize</span>=<span class="hljs-string">"50"</span>&gt;</span>
&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">cdkVirtualFor</span>=<span class="hljs-string">"let item of items"</span>&gt;</span><font></font>
&nbsp;&nbsp;&nbsp;{{ item }}<font></font>
&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">cdk-virtual-scroll-viewport</span>&gt;</span>
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berikut adalah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contoh proyek yang menggunakan pendekatan ini untuk mengatur pengguliran virtual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, mekanisme Angular standar memungkinkan Anda mencapai hasil yang mengesankan tanpa banyak kesulitan. Komponen dalam contoh membuat ribuan elemen tanpa masalah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika pengguliran virtual sangat bagus, dan jika sangat mudah diterapkan, muncul pertanyaan mengapa mempelajari cara lain untuk membuat daftar besar. Saya juga tertarik dengan pertanyaan ini. Ternyata, keadaan ini memiliki beberapa alasan:</font></font><br>
<br>
<ul>
<li>,      ,     .        ,     . ,      <code>Autocomplete</code> (    ).  , ,    ,   ,  .     —        .</li>
<li>      —    ,    .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ada beberapa masalah dengan aksesibilitas dan kemudahan penggunaan isi daftar dengan pengguliran virtual. </font><font style="vertical-align: inherit;">Elemen tersembunyi tidak dirender - ini berarti bahwa mereka tidak akan tersedia untuk pembaca layar, dan bahwa mereka tidak dapat ditemukan pada halaman menggunakan mekanisme browser standar.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengguliran virtual sangat ideal dalam sejumlah situasi (asalkan berfungsi):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam hal itu, jika Anda ingin menampilkan daftar yang ukurannya tidak diketahui sebelumnya, atau yang bisa sangat besar (menurut perkiraan kasar, daftar yang mencakup lebih dari 5 ribu elemen, tetapi ini sangat tergantung pada kompleksitas setiap elemen).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda perlu mengatur pengguliran tanpa akhir.</font></font></li>
</ul><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render manual</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu cara untuk bekerja dengan daftar yang saya coba untuk mempercepat keluaran dari sejumlah besar elemen adalah dengan menggunakan rendering manual menggunakan Angular API </font></font><code>*ngFor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki template sederhana yang menggunakan loop yang diatur menggunakan direktif *</font></font><code>ngFor</code><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&nbsp;
*<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let item of data; trackBy: trackById; let isEven = even; let isOdd = odd"</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">class</span>=<span class="hljs-string">"h-12"</span>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-attr">class.bg-gray-400</span>]=<span class="hljs-string">"isEven"</span>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-attr">class.bg-gray-500</span>]=<span class="hljs-string">"isOdd"</span>
&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"py-2 px-4"</span>&gt;</span>{{ item.id }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{{ item.label }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"py-2 px-4 rounded (click)="</span><span class="hljs-attr">remove</span>(<span class="hljs-attr">item</span>)"&gt;</span>x<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengukur kinerja rendering 10.000 elemen sederhana, saya menggunakan tolok ukur berdasarkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">js-frameworks-benchmark</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, saya memeriksa kinerja daftar, yang menggunakan loop reguler ke output </font></font><code>*ngFor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Akibatnya, ternyata scripting mengambil 1099 ms., Render (Rendering) mengambil 1553 ms., Dan lukisan (Lukisan) - 3 ms.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bdc/65d/617/bdc65d6174798028877e98bdcc7830d8.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebuah studi tentang kinerja daftar, yang menggunakan * ngFor untuk menghasilkan,</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
item</font><i><font color="#999999"><font style="vertical-align: inherit;"> Daftar</font></font></i><font style="vertical-align: inherit;"> dapat dirender secara manual menggunakan API Angular:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">ng-container</span> #<span class="hljs-attr">itemsContainer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-container</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">item</span> <span class="hljs-attr">let-item</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">let-isEven</span>=<span class="hljs-string">"isEven"</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-12 "</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-attr">class.bg-gray-400</span>]=<span class="hljs-string">"isEven"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-attr">class.bg-gray-500</span>]=<span class="hljs-string">"!isEven"</span>
&nbsp;&nbsp;&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"py-2 px-4"</span>&gt;</span>{{ item.id }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{{ item.label }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"py-2 px-4 rounded"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"remove(item)"</span>&gt;</span>x<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita bicara tentang bagaimana kode pengontrol telah berubah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendeklarasikan templat dan wadah:</font></font><br>
<br>
<pre><code class="html hljs xml">@ViewChild('itemsContainer', { read: ViewContainerRef }) container: ViewContainerRef;<font></font>
@ViewChild('item', { read: TemplateRef }) template: TemplateRef<span class="hljs-tag">&lt;<span class="hljs-name">any</span>&gt;</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menghasilkan data, kami membuatnya menggunakan metode </font></font><code>createEmbeddedView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entitas </font></font><code>ViewContainerRef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="html hljs xml">private buildData(length: number) {<font></font>
&nbsp;&nbsp;const start = this.data.length;<font></font>
&nbsp;&nbsp;const end = start + length;<font></font>
<font></font>
&nbsp;&nbsp;for (let n = start; n <span class="hljs-tag">&lt;<span class="hljs-name">=</span> <span class="hljs-attr">end</span>; <span class="hljs-attr">n</span>++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">this.container.createEmbeddedView</span>(<span class="hljs-attr">this.template</span>, {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">item:</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">id:</span> <span class="hljs-attr">n</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">label:</span> <span class="hljs-attr">Math.random</span>()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">isEven:</span> <span class="hljs-attr">n</span> % <span class="hljs-attr">2</span> === <span class="hljs-string">0</span>
&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;}
}
</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, indikator yang mencirikan kinerja daftar sedikit meningkat. </font><font style="vertical-align: inherit;">Yaitu, butuh 734 ms untuk mengeksekusi kode, 1443 ms untuk merender, 2 ms untuk menggambar.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a67/3dd/0c5/a673dd0c5ca9c97dc057124d056646e7.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meneliti kinerja daftar yang menggunakan API Angular untuk menghasilkan</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
True, dalam praktiknya, ini berarti bahwa daftar tersebut masih sangat lambat. </font><font style="vertical-align: inherit;">Ketika Anda mengklik tombol yang sesuai, browser "membeku" selama beberapa detik. </font><font style="vertical-align: inherit;">Jika ini muncul dalam produksi, pengguna pasti tidak akan menyukainya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Begini tampilannya (di sini saya, menggunakan mouse, meniru indikator memuat).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f45/5a3/6bc/f455a36bc281147be801caed867b1f1f.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daftar Memperlambat</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sekarang, untuk meningkatkan rendering daftar manual, kami akan mencoba menerapkan teknologi rendering progresif.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render progresif</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan rendering progresif sederhana. </font><font style="vertical-align: inherit;">Ini terdiri dalam rendering subset elemen secara progresif, menunda rendering elemen lain dalam loop peristiwa. </font><font style="vertical-align: inherit;">Ini memungkinkan browser untuk menampilkan semua elemen tanpa "melambat". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode di bawah ini yang menerapkan render daftar progresif sangat mudah:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pertama, menggunakan ini </font></font><code>setInterval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kami membuat biasa, setiap 10 ms. Panggil ke fungsi yang membuat 500 elemen saat dipanggil.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah semua elemen disimpulkan, yang kami tentukan berdasarkan analisis indeks elemen saat ini, kami menghentikan pemanggilan fungsi reguler dan mengganggu siklus.</font></font></li>
</ul><br>
<pre><code class="javascript hljs">private buildData(length: number) {
&nbsp;&nbsp;<span class="hljs-keyword">const</span> ITEMS_RENDERED_AT_ONCE = <span class="hljs-number">500</span>;
&nbsp;&nbsp;<span class="hljs-keyword">const</span> INTERVAL_IN_MS = <span class="hljs-number">10</span>;<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">let</span> currentIndex = <span class="hljs-number">0</span>;<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">const</span> interval = setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> nextIndex = currentIndex + ITEMS_RENDERED_AT_ONCE;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> n = currentIndex; n &lt;= nextIndex ; n++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> (n &gt;= length) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clearInterval(interval);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">break</span>;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> context = {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">item</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">id</span>: n,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">label</span>: <span class="hljs-built_in">Math</span>.random()<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">isEven</span>: n % <span class="hljs-number">2</span> === <span class="hljs-number">0</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">this</span>.container.createEmbeddedView(<span class="hljs-keyword">this</span>.template, context);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;currentIndex += ITEMS_RENDERED_AT_ONCE;<font></font>
&nbsp;&nbsp;}, INTERVAL_IN_MS);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harap dicatat bahwa jumlah elemen yang ditampilkan per panggilan ke fungsi yang ditransfer </font></font><code>setInterval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, serta frekuensi panggilan ke fungsi ini, sepenuhnya tergantung pada keadaan. Misalnya, jika elemen-elemen dari daftar yang ditampilkan sangat kompleks, maka output dari 500 elemen tersebut dalam sekali jalan akan sangat lambat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan mengukur kinerja solusi ini, saya mendapatkan hasil yang terlihat lebih buruk daripada yang saya terima sebelumnya. Eksekusi kode - 907 ms., Rendering - 2555 ms., Menggambar - 16 ms.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8eb/91e/bdc/8eb91ebdce039a630cb7ff043afdcb38.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meneliti kinerja daftar, yang hasilnya menggunakan render progresif.Tapi</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pengguna, yang bekerja dengan daftar seperti itu, akan mengalami pengalaman yang jauh lebih menyenangkan daripada sebelumnya. </font><font style="vertical-align: inherit;">Meskipun waktu yang diperlukan untuk membuat daftar meningkat, pengguna tidak akan melihatnya. </font><font style="vertical-align: inherit;">Kami, dalam sekali jalan, membuat 500 elemen. </font><font style="vertical-align: inherit;">Dalam hal ini, rendering dilakukan di luar batas wadah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini, beberapa masalah mungkin timbul karena kenyataan bahwa wadah berubah ukuran selama rendering, atau posisi bergulir konten berubah. </font><font style="vertical-align: inherit;">Jika ini terjadi, Anda harus menghadapi masalah serupa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah yang bekerja dengan daftar seperti itu.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d85/34a/33c/d8534a33c099a4f62a561802db2ff995.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daftar cepat</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ringkasan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teknik render manual dan progresif untuk daftar besar tentu berguna dalam beberapa situasi. </font><font style="vertical-align: inherit;">Saya menggunakannya dalam kasus di mana pengguliran virtual untuk beberapa alasan tidak cocok untuk saya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengingat hal di atas, kita dapat mengatakan bahwa paling sering pengguliran virtual, dibangun berdasarkan perpustakaan yang baik, seperti CDK Angular, adalah cara terbaik untuk menampilkan daftar besar. </font><font style="vertical-align: inherit;">Tetapi jika karena alasan tertentu pengguliran virtual tidak dapat digunakan, pengembang memiliki kemungkinan lain. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaca yang budiman! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana Anda menampilkan daftar besar di proyek web Anda?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id492492/index.html">NikiRobot - sebuah evolusi dalam robotika pendidikan</a></li>
<li><a href="../id492496/index.html">Contoh SPA Simple Notes di Mithril.js</a></li>
<li><a href="../id492500/index.html">Garasi Sains dalam bahasa Rusia. Pengalaman menerjemahkan pertunjukan Amerika</a></li>
<li><a href="../id492502/index.html">MIP * = RE: bukti pembuatan zaman dari bidang ilmu komputer yang menyebabkan efek domino dalam fisika dan matematika</a></li>
<li><a href="../id492504/index.html">Apa yang terjadi ketika modul JS diimpor dua kali?</a></li>
<li><a href="../id492508/index.html">Pesan Kubernetes untuk DevOps</a></li>
<li><a href="../id492510/index.html">Modul ES6 di browser: apakah siap atau tidak?</a></li>
<li><a href="../id492512/index.html">CSS: petualangan di tanah tembus cahaya</a></li>
<li><a href="../id492514/index.html">Bagaimana cara membangun aliran dokumen rekanan elektronik yang signifikan secara hukum di Rusia dan Kazakhstan?</a></li>
<li><a href="../id492518/index.html">Wabah virus membutuhkan kerja jarak jauh, yang berarti penandatanganan dokumen secara digital</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>