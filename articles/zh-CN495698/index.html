<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👩🏼 🚮 👸🏾 图片中的客户端-服务器架构 🗣️ 👨🏾‍🚀 🦅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="熟悉的照片吗？但是，您经常会遇到这种架构-当您在线购买电影票，预订出海票或与医生预约时。
 
 在客户端-服务器体系结构上，将构建所有站点和Internet服务。通过Internet传输数据的桌面程序也使用它。因此，IT专业人员需要了解它是什么以及它如何工作。
 
 我将在文章中对此进行讨论。我会用...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>图片中的客户端-服务器架构</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495698/"><img src="https://habrastorage.org/webt/yt/ym/f1/ytymf18shc3tzim_vdvpocuq8qy.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
熟悉的照片吗？</font><font style="vertical-align: inherit;">但是，您经常会遇到这种架构-当您在线购买电影票，预订出海票或与医生预约时。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在客户端-服务器体系结构上，将构建所有站点和Internet服务。</font><font style="vertical-align: inherit;">通过Internet传输数据的桌面程序也使用它。</font><font style="vertical-align: inherit;">因此，IT专业人员需要了解它是什么以及它如何工作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我将在文章中对此进行讨论。</font><font style="vertical-align: inherit;">我会用手指和示例，再加上有趣的图片来解释=）如果您更喜欢视频格式，则可以观看</font><font style="vertical-align: inherit;">有关同一主题的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">youtube视频</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它是什么以及它如何工作</font></font></a><br>
 <ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么我需要一个客户</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么我们需要服务器</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么我们需要基地</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构优势</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建筑的缺点</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试什么</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总</font></font></a></li>
</ul><a name="habracut"></a><br>
<a name="wtf"></a> <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它是什么以及它如何工作</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里，我们有一位Vasya决定购买汽车。例如在广告中-快速，强大，美观！她就像飞机的机尾一样站着，Vasya没有那种钱。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2e/00/gj/2e00gj3webo3wp6l8wpb2iehgjm.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，Vasya可以挖几年，然后再买车。但是你想现在到这里！是的，需要一辆汽车…… </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
而Vasya不知道如何存钱-领取了工资，买了主要的，付了房租，仅此而已！其余的可以花。对于这类人，有些银行可以让您借钱取钱。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/b8/n9/qs/b8n9qss1praiqxr3k4ugxqjr-pe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，那您将多付，将其退还。兴趣就是马。但是现在您已经可以买得起昂贵的东西了。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vasya想到，估计并说：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-是的，我想那样！我可以从工资中向银行支付100卢布，但我无法保存。我会花的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，瓦西亚去银行说：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-我是瓦西里·伊万诺夫，我想借1000卢布的汽车贷款。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/pa/yr/cx/payrcxhy17thnygvgnjr9nuhd_w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
秘书Katya必须检查他的信用记录。</font><font style="vertical-align: inherit;">突然他无法得到贷款，他的故事不好吗？</font><font style="vertical-align: inherit;">也许他已经获得了10个学分，却没有一分钱？</font><font style="vertical-align: inherit;">也许他根本就是恐怖分子？</font><font style="vertical-align: inherit;">有必要检查操作员的内心是否知道黑名单。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ot/fo/uf/otfoufn62f1yv3lujpbmgpxf_e0.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya有一个用于检查客户数据的特殊程序。</font><font style="vertical-align: inherit;">该程序可以是Web或台式机：</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -在Google或Facebook等浏览器中打开</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">桌面</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -在计算机上，例如单词或计算器</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya是浏览器还是程序都没关系。无论如何，它将是一个客户。客户端就是您的应用程序。与我们的操作员一起工作的那个。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/vp/uw/6g/vpuw6ggltwq_ioccgbhm2kmnbcc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya驱动程序“ Vasily Ivanov”并在客户端上接收信息-他是否在黑名单上？以前有信用记录吗？等等。但是应用程序的内脏会发生什么？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wk/c7/op/wkc7opsymnp5tkbzd7dtzo3o53i.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya在客户端上输入了数据。但是，当她单击“检查”时，客户端向服务器发送了一个请求：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-给我有关Vasya Ivanov的信息！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7l/ot/q1/7lotq1brsfgwm_9py7iljzyxibg.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
服务器向数据库数据库发送了一个请求：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-从其中fio ='Vasily Ivanov'的客户端中选择*。 （给我上的名字“瓦西里·伊万诺夫”的所有信息）</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1i/wm/_j/1iwm_jm15bkgqczdnzvdzp9z7xc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的基本回答是：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-在这里，你所拥有的一切，我发现。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oo/xw/ub/ooxwubcnze1b6xwtnvwp-xkl7lk.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
服务器将此信息返回给客户端：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/95/w6/35/95w635ditc6a1dkqnwixg9nhbra.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
客户已经为Katya绘制了它：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xh/t9/y2/xht9y24ecaeyh5hugzcrd19zgew.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katya看起来：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-是的，信用记录很好。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/v3/cr/0u/v3cr0uhpczy4_aq_okf0qe-5tvc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他向瓦斯亚提议：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-请，如果您想贷款，我们准备以年利率80％的方式分12年分配1000卢布。</font><font style="vertical-align: inherit;">安排好了吗 </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ek/6j/bn/ek6jbnvr1zmsfvb2wnbl8xjwq4s.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
瓦西亚很高兴：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-是的，一切都适合我，给我更多的钱，我就开车去了！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
每个人都快乐，每个人都快乐。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jn/hv/eb/jnhveb2c4oydita2mubvryheuci.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当Katya将客户的全名驱到那里时，她甚至都不知道程序中的数据是怎么做的。</font><font style="vertical-align: inherit;">但是您和我必须找出这是一条什么样的道路。</font><font style="vertical-align: inherit;">为什么所有这些困难呢？</font><font style="vertical-align: inherit;">为什么要这样的结构？</font><font style="vertical-align: inherit;">为什么有客户端，为什么有服务器？</font></font><br>
 <br>
<a name="client"></a> <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么我需要一个客户</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这里的一切都很简单-用户正在与客户端一起工作。</font><font style="vertical-align: inherit;">需要将程序代码的字节转换成美观且易于理解的图片。</font><font style="vertical-align: inherit;">用户不是程序员，他不了解编程语言或sql。</font><font style="vertical-align: inherit;">他了解模具和纽扣。</font><font style="vertical-align: inherit;">我们在客户中绘制它们。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/cu/oe/nj/cuoenjcbgubnqz7es8ykoyopzhu.png"><br>
<br>
<a name="server"></a> <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么我们需要服务器</font></font></h3><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他更强大，</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
可以有很多客户。在银行示例中，我们可以在俄罗斯的10个城市拥有10个分支机构，每个分支机构都有10个运营代理商。一千个Katek，每个人都有一台单独的计算机。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/11/rv/6z/11rv6zm-vr22tsqvhwqx7gimupw.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是我们希望应用程序能够快速运行。这样它不会变得愚蠢且不会冻结，从而使操作员感到不安，并使客户端等待。因此，汽车需要强大的动力。但是，如果使每个操作员的计算机功能强大，那么您将不得不投入大量资金！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我们将所有基本逻辑传输到服务器。现在，我们正在做的强大！而且客户端计算机可能很便宜，因为它们仅具有“请求信息和精美呈现”风格的逻辑。</font></font><br>
<br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有代码重复</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果我们只有客户端计算机，则每个客户端计算机将具有相同的逻辑处理代码，整个数据库，所有恐怖分子目录等等。</font><font style="vertical-align: inherit;">但是，由于服务器和数据库位于单独的链接中，因此客户端计算机释放了很多空间……还有代码。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
无需重复代码，因为所有主要逻辑都被带到功能更强大的服务器上。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ao/bk/if/aobkify_mbaqqrjh8kgjjfhiuia.png"><br>
 <br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这样更安全，因为</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
在服务器和数据库中存储的信息是简单操作员无法访问的。</font><font style="vertical-align: inherit;">它：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户资料</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关他的财务信息</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">银行黑名单</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为什么要向所有人和所有人显示此信息？</font><font style="vertical-align: inherit;">操作员只能看到她的界面。</font><font style="vertical-align: inherit;">我开了一个全名-我得到了是否提供贷款的答案。</font><font style="vertical-align: inherit;">所有。</font><font style="vertical-align: inherit;">她不需要任何其他东西。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有一些职员愿意为denyushki合并客户信息。</font><font style="vertical-align: inherit;">有些不诚实的人准备无意间看着自己的肩膀。</font><font style="vertical-align: inherit;">或者客户自己就是这样的人。</font><font style="vertical-align: inherit;">想象一下，Vasya推挤脆弱的Katya，坐在她的计算机旁，然后将数百万美元转入她的帐户，直到被守卫束缚为止。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_b/qr/kd/_bqrkd87kj6bwaez-crf5wrabga.png"> <br>
<br>
<a name="bd"></a> <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么我们需要基地</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数据库与它有什么关系？</font><font style="vertical-align: inherit;">即使服务器上存储了所有信息，我们也有这里的服务器。</font><font style="vertical-align: inherit;">碰巧的是，有时根本不需要数据库，而我们仍然拥有两层的客户端-服务器体系结构。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r4/pj/dl/r4pjdljjkvbhpg43iavptmem3_0.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这种情况下，服务器会将所有数据存储在内存中。</font><font style="vertical-align: inherit;">但是仅当服务器崩溃或仅重新启动时，所有信息才会丢失。</font><font style="vertical-align: inherit;">关闭系统电源后，内存中的所有内容都会被删除。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DB（数据库）-一个单独的软件产品，使您可以：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快速获取信息</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使重新启动系统也可以保存信息。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
也就是说，如果网络突然消失，底座死机，具有底座的机器重启或发生其他情况，我们的更改将不会丢失。</font><font style="vertical-align: inherit;">这称为持久性。</font><font style="vertical-align: inherit;">它是通过在发生问题时回滚的事务来实现的。</font><font style="vertical-align: inherit;">但是在本文中，我们不会深入探讨该主题。）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
是的，可能没有基础。</font><font style="vertical-align: inherit;">但是，如果确实如此，我们对数据的安全性充满信心，并且可以轻松地进行搜索。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/zs/7g/fpzs7gt7yr1s7dw8mrfb1bxpvn8.png"> <br>
<br>
<a name="plus"></a> <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构优势</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们总结一下架构的优点：</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能强大的服务器比100多个功能强大的客户端计算机便宜</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -如果我们不希望应用程序减慢速度，则需要一台好的计算机。</font><font style="vertical-align: inherit;">您将拥有一个。</font><font style="vertical-align: inherit;">如果负载很大，但明显少于客户数量，则为几个。</font></font></li>
<li><b>  </b> —     ,     « »      « ,     100 ».</li>
<li><b>   </b> —     .      ,       .</li>
</ol><br>
<a name="minus"></a> <br>
<h2> </h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个链接</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
断开了</font><b><font style="vertical-align: inherit;">-每个人都在休息；</font></b><font style="vertical-align: inherit;">如果服务器掉线或基座掉了，也就是说，一个链接已损坏-一切，每个人都处于昏迷状态，每个人都在休息。数百，数千甚至数百万的客户（如果有的话），没有人可以工作。所有操作人员都可悲地看着窗口“抱歉，出了点问题”，并在客户面前耸了耸肩。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j5/jq/wo/j5jqwoptwokkl2ziabmqelvfrpc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这就是为什么在业务关键型软件中架构复杂甚至重复的原因。拥有数千名出纳员的银行无法承受停机时间。因此，他们使用服务器群集-一个掉了，其余的工作了。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l6/5x/c1/l65xc1e6xe_8nq1ohyypqu-fey4.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后，客户如何理解将请求发送到哪里？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
平衡器放置在服务器的前面，客户端在此处发送请求。无论群集中放置了多少服务器，客户端都不会对它感兴趣。它有一个URL-平衡器的地址。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5p/co/zb/5pcozbl5eluv3yyd5oziwhxdzgm.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，客户收到一个请求：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-给我有关Vasya Ivanov的所有信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
平衡器说：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-伙计们，一个新的要求！谁的负载更少？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/gb/dh/zmgbdhbkfzfws_owj4i-vxzbkj0.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第一台服务器：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-我的队列中有5个请求。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-我有2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
平衡器将请求发送到第二台服务器。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9s/3r/cj/9s3rcjvrkgzi7w_5beyi-uku3oc.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这种方案用于高负载的应用程序-当有太多请求而一个服务器根本无法处理它们时。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Facebook，亚马逊，谷歌-数以百万计的用户去那里。一台服务器无法处理它们。因此，他们放置了一个群集，平衡器分担了它们之间的负载。在这种情况下，群集中可能没有2台服务器，而是根据需要设置10台，15台服务器。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cb/10/bn/cb10bna08fzxfhecauszxkho2wu.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这样，我们可以用相同的方式平衡数据库。我们可以在各种机器上拥有多个数据库副本，并且平衡器将请求发送到一个或另一个。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k1/zf/nw/k1zfnwjdu5mu4ee0jac0tzwypqe.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这种方案称为</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">热备用</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -当我们有多个并行运行的服务器，并且平衡器在它们之间分配负载时。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
也许还有一个</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冷备用</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方案</font><font style="vertical-align: inherit;">-当我们的第二台服务器作为备份以防万一。所有请求都发送到第一个服务器，第二个服务器发送。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mm/y7/7x/mmy77xouzawduu39ddk3b_tblfq.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，如果第一台服务器发生故障并死亡，则平衡器会将负载重定向到第二台服务器：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zc/5v/ud/zc5vudgmhtierh9bxx1ysjtfo6m.png"><br>
<br>
<img src="https://habrastorage.org/webt/ve/q2/np/veq2npmjqk1_mn5bxyb0e4rs1t8.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此时，管理员将有时间在服务器1上解决问题。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当一台服务器能够承受负载并提供良好的速度时，将使用冷储备方案。</font><font style="vertical-align: inherit;">但是该应用程序对业务至关重要，并且简单不能接受。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这可能很简单，不仅因为发生了不好的事情。</font><font style="vertical-align: inherit;">还有定期的应用程序更新。</font><font style="vertical-align: inherit;">两种备份方案都可以使您轻松升级。</font><font style="vertical-align: inherit;">如果群集中有两个服务器，则更新将如下所示：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将所有负载重定向到服务器2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止服务器1 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新服务器1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们启动它，并将全部负载定向到它上面</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止服务器2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新它</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们启动</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次分配负载（如果是热备用）</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
也就是说，该应用程序根本不会停止工作！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，冗余方案可以帮助我们消除“ 1条链路断开-每个人都在休息”的问题。客户端永远不会知道集群中的一台或多台服务器已死，一切都对他有用，而且一切正常。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h5/ck/r-/h5ckr-xnyp9wgnlfn5y-0znfkyc.png"><br>
<br>
<br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高成本</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
服务器</font><b><font style="vertical-align: inherit;">设备</font></b><font style="vertical-align: inherit;">昂贵。在那里，您不能放置家用计算机的常规SSD。为什么？由于服务器的硬件要求与硬件+完全不同，因此支持特定功能：</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-HDD具有特殊的控制器固件，该固件针对RAID中的磁盘操作进行了优化，这在家里是不需要的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-SSD有一组电容器，可以在断电时存储能量，以便有足够的时间将DDR缓存中的数据放入非易失性存储器中，并且数据不会中断。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSD-快速工作的磁盘，HDD-正常。</font><font style="vertical-align: inherit;">RAID-当我们将N个磁盘连接在一起并且DDR缓存是RAM时</font></font></i></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，服务器解决方案通常具有更长的保修期：5年而不是一年。</font></font><br>
<br>
<br>
<img src="https://habrastorage.org/webt/b_/vy/sy/b_vysy4b7u488qnflfvc8djq5gw.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于价格，它们相差2倍。</font><font style="vertical-align: inherit;">例如，SSD：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个家庭的千兆成本16.53r</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器企业演出的费用为32卢布</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2019年12月的数据。如果不是品牌烙铁，则应从制造商那里获取。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
似乎没什么不同，对吧？但是关键是，对于一个房子来说，1 TB足以满足眼睛的需要-一切都将适合照片，电影和一堆应用程序……对于数据库，有时10 TB会很小。如果您创建集群，那么我们会将成本乘以2（如果不是更多）。因此，价格差异似乎很大，但是当转换为千兆字节时，会出现很小的差异。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
别忘了，在家中您只需要保留照片，甚至那些照片通常都在云中。服务器上有一项关键业务功能，它会耗尽资源的消耗，因此必须复制以防“突然死掉”。</font></font><br>
<br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要雇用系统管理员</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ツ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们需要聘请系统管理员来监视我们所有的应用服务器和数据库。</font><font style="vertical-align: inherit;">将他的薪水加到设备成本中！</font></font><br>
<br>
<br>
<a name="test"></a> <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试什么</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要了解要测试的内容，您需要了解一个人正在处理的内容。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
用户正在与客户端一起工作。它可以是Web或桌面应用程序，不是重点。为操作员Kate提供了一个工作场所，他们向他们展示了要运行的程序以及如何使用它。她不知道服务器和数据库的可用性，仅与客户端一起工作。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cu/oe/nj/cuoenjcbgubnqz7es8ykoyopzhu.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，测试人员首先检查客户端！因为服务器可以完美地运行，所以您甚至可以在API级别编写测试，并且这些测试都是绿色的，似乎每个人都受伤了！用户将下载报告并看到错误。哦。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
服务器正在运行，客户端上发生了错误。并且不必关心数百个“绿色”自动测试。用户仍然有错误。我们的任务是从他的角度看。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ep/ry/wf/eprywff7betkgp7d3opgxcvake8.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，如果您有权访问应用程序服务器及其数据库-也值得检查它们！</font><font style="vertical-align: inherit;">这样我们就可以看到“未来的错误”。</font><font style="vertical-align: inherit;">例如：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们保存了产品卡-系统将其抽出并说一切都很好。</font><font style="vertical-align: inherit;">在客户端上一切都很好！</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们检查了数据库-那里的部分字段仍然为空，开发人员错误地在数据库中指出了字段的名称。</font><font style="vertical-align: inherit;">并且信息丢失了。</font></font></li>
</ul> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
用户现在在客户端中看到的只是一个缓存，“我输入的是我显示的内容”。如果不检查数据库，则可能不会立即出现这样的问题。用户打开产品卡-一些字段未填写：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-好吧，可能它们没有填写。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他们被填满了！只是储蓄歪曲地工作。因此，如果我们只有一个黑匣子，那么我们需要检查：“数据是否真的保存？”保存了吗？在新窗口中打开卡或通过API方法调用信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您有权访问数据库-只需检查一下就可以了。如果您有权访问服务器日志，请检查它们是否存在错误。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rn/lq/2w/rnlq2wlri-mrrt7nzhhrj18gx8c.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
除了普通用户之外，还有一些邪恶的人试图加入我们的应用程序并窃取金钱/数据。他们不使用客户端或服务器-他们在那里没有访问权限。他们尝试拦截从客户端到服务器或从服务器到数据库的数据。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c6/ty/sp/c6tyspax0sod7dglzygnmzbi9h8.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
好吧，如果坏人可以做到这一点，那么测试人员也必须能够做到！因为测试人员会提供有关我们产品的信息。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gc/mn/8b/gcmn8bjeakajtdy0ftrntjozaam.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
测试人员检查了漏洞，然后告诉团队：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-伙计们，所以我检查了一下，我们有这样的潜在漏洞。让我们考虑一下是否需要以某种方式关闭它们。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这不是他们可以解决问题的事实。</font><font style="vertical-align: inherit;">也许您有一个非关键的应用程序-数据不会泄漏，您也不会存钱。</font><font style="vertical-align: inherit;">然后没有人会再打扰，因为安全性测试非常昂贵，专家很少。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，一些基本检查（例如sql注入或XSS攻击）值得探索和检查您的应用程序。</font><font style="vertical-align: inherit;">至少了解他们的重要性。</font><font style="vertical-align: inherit;">毕竟，如果攻击破坏了客户-好吧，让他自己成为木偶奇遇记。</font><font style="vertical-align: inherit;">而且，如果攻击将服务器置于服务器上，那就不是很好。</font><font style="vertical-align: inherit;">并且至少必须知道它是如何发生的。</font></font><br>
<br>
<a name="itogo"></a> <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总</font></font></h2><br>
<img src="https://habrastorage.org/webt/b8/hj/-b/b8hj-bsbrdh9uaiclyakoe2afli.png"><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是用户使用的程序。他不知道这是计算机上的整个程序，还是背后藏有基础服务器甚至整个RAID的服务器。它可以在浏览器或桌面应用程序中工作。他只需要知道在哪里戳。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
客户端不需要大量的内存，磁盘空间和其他资源。因此，工作相对便宜。而这正是我们所需要的，特别是如果我们需要为成千上万的银行运营人员购买设备时。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -存储应用程序本身的计算机。所有代码，所有逻辑，所有其他材料和参考书。例如，寄存器的FIAS地址目录或法人实体目录-它们还占据了自己和应用程序内存中的位置。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有时他们说“应用程序服务器”和“数据库服务器”。这是正常现象，因为实际上服务器只是一台机器，一台计算机。为了安全起见，数据库和应用程序服务器通常存储在不同的计算机上。在这种情况下，如果他们说“应用程序服务器”，那么我们正在谈论方案的第二个链接。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
应用程序非常不同。有资源密集型，它们需要大量的内存和磁盘空间。有些“肺”甚至可以在家用计算机上部署。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB（数据库）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -数据仓库。在这里，您可以轻松地搜索信息，并确保即使在应用程序出现问题的情况下也可以保留信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数据库需要多少空间取决于数据量。银行有庞大的基础，只有1 TB的银行数量很少。而且，您可以在计算机上安装很小的一个。例如，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以提供</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">XAMPP</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">而且，您不可能将如此多的数据塞入其中，以致于没有放置它们的位置。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可能没有单独的基础，那么结构将变为两层：客户端-服务器。</font><font style="vertical-align: inherit;">就这样！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该计划是有条件的，在现实生活中我们至少会拥有更多的客户。</font><font style="vertical-align: inherit;">而且，如果应用程序负载很重，那么将有多个服务器和多个数据库：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uz/oz/ka/uzozka32wtzwyf9tr4rkwv-vgac.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">在我的博客中以“有用”标签</font></a><font style="vertical-align: inherit;">寻找更有用的文章</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN495688/index.html">基于Active Directory的Zimbra协作OSE用户同步</a></li>
<li><a href="../zh-CN495690/index.html">Web Audio API概念</a></li>
<li><a href="../zh-CN495692/index.html">DIY和开源帮助医生</a></li>
<li><a href="../zh-CN495694/index.html">移动应用参考服务</a></li>
<li><a href="../zh-CN495696/index.html">波斯王子创作者如何克服Apple II的内存限制</a></li>
<li><a href="../zh-CN495700/index.html">厄运男孩ESP32</a></li>
<li><a href="../zh-CN495702/index.html">我们研究了Mediastreamer2 VoIP引擎。第1部分</a></li>
<li><a href="../zh-CN495704/index.html">在Zabbix中通过SNMPv3监视网络设备</a></li>
<li><a href="../zh-CN495706/index.html">来自世界开放地图505号的新闻（03.17.2020-23.03.2020）</a></li>
<li><a href="../zh-CN495708/index.html">在Centos 8上具有两重授权的Openconnect紧急VPN服务器</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>