<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå™Ô∏è ‚ö∞Ô∏è üë®‚Äç‚úàÔ∏è Kubernetes in the spirit of piracy: our path to microservices and a ready-made template for implementation ü§∂ üîâ ‚õπüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, I‚Äôm Yuri Buylov, I‚Äôm developing at CarPrice, and also implementing DevOps practices, microservices and Kubernetes. I want to talk about Kubernetes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kubernetes in the spirit of piracy: our path to microservices and a ready-made template for implementation</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/490362/"><img src="https://habrastorage.org/webt/om/m1/3u/omm13uevbocq8muavqnaa5chz4y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hi, I‚Äôm Yuri Buylov, I‚Äôm developing at CarPrice, and also implementing DevOps practices, microservices and Kubernetes. I want to talk about Kubernetes in the spirit of piracy - not just about managing a large beautiful ship on sails, but rather about a fleet of small unsightly fishing boats, sometimes rusty, but very fast, nimble and dangerous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It will be interesting to those who develop or transfer the infrastructure to microservices, implement DevOps on top of Kubernetes and go to cloud native in every way. I‚Äôll tell you about our path, at the end of the article I will share our groundwork for the microservices environment - I will give a link to a template that will be convenient for developers and testers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This article is based on a video presentation at the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Kubernetes Conference</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> by </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you do not want to read, you can </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">see</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How we lived before Kubernetes: dev servers, bare metal and Ansible</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We lived and live in a mode of constant changes and experiments: AV tests, testing various hypotheses. </font><font style="vertical-align: inherit;">We launch new services, then, if something does not work, we cut it out. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Once we had a monolith in the PHP, which brought a lot of pain and suffering. </font><font style="vertical-align: inherit;">To provide an acceptable time-to-market, we went the typical way - we began to saw this monolith for microservices. </font><font style="vertical-align: inherit;">As a result, it turned out that a large monolith turned into many small monoliths. </font><font style="vertical-align: inherit;">This is normal, this is the case for everyone who has faced a similar task.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then we started trying other technologies, in particular, Golang appeared in our company, it later became the main development language. There were questions: how to develop, test and deploy all this? The answer was obvious - you need a dev server. Each developer should have a dev-server, where he can connect to write high-quality and high-performance code there. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, the guys wrote a dev server. The result was a web interface that controlled docker-compose on the servers. There was also a container with Source Code, which was mounted in docker-compose. The developer could connect via SSH and program. Testers also worked there, everything worked perfectly.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/vl/qu/orvlqukujhim2kmf7bcspahzdaq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But with the increase in the number of services, it became impossible to work. </font><font style="vertical-align: inherit;">The moment came when it was necessary to deploy something, not to unpack the containers. </font><font style="vertical-align: inherit;">We took bare metal, rolled Docker there. </font><font style="vertical-align: inherit;">Then they took Ansible, wrote several roles. </font><font style="vertical-align: inherit;">Each role is a service where docker-compose lay, which ‚Äúcame‚Äù to one of the cars. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ry/ro/nh/ryronhp58jrnkhmjlwngczkoqs0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So we lived: in nginx we registered upstream with our hands, they said which port we should go to, where this service lives. </font><font style="vertical-align: inherit;">There was even a yaml file where all the ports were listed so that applications would not compete for them.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How we came to Kubernetes and built the infrastructure on it</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviously, one cannot live like that, orchestration is needed. We understood this in 2017-2018, then it was not clear where to get this orchestra. Kubernetes was just beginning, there were HashiCorp Nomad, Rancher, OpenShift. We tried Nomad, it was not bad, but we did not want to rewrite docker-compose to Nomad configs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
About Kubernetes, we immediately realized that foreign colleagues tried to do it, they did not always succeed. And we did not have bearded admins who could make us a cluster. They began to think how to implement this. Even then Kubernetes was, for example, in Amazon, but we remember the locks, after which they urgently moved. Therefore, this option was immediately discarded, all the more expensive traffic there. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And then Kubernetes appeared on the Mail.ru Cloud Solutions platform as a service </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Containers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. We have already moved our S3 storage there from Amazon, we decided to try K8s as well. We deployed a cluster in the cloud, everything worked. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For testing, we decided to deploy some stateless service there. Took an API for mobile applications, deployed - it works. Sent there 50% of the traffic - it works. Yes, something fell periodically, but the guys fixed it, everything was fine. As a result, the entire infrastructure was transferred, now it is built around Kubernetes, mainly dev and stage servers. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/jv/v7/scjvv7hzn-akbu9lwy6jop7diuq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each developer has his own Minikube in VMware, with which he works. We launch new projects in Kubernetes in the MCS cloud, we also deploy Managed MySQL, which immediately arrives with all the slaves, replications and backups in S3.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We still have legacy on bare metal, including a docker cluster running Ansible, but someday we'll figure it out.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to live with a technology zoo and not suffer</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The technology zoo is now not as scary as it was, say, in 2011. </font><font style="vertical-align: inherit;">It‚Äôs even normal if you can take specialized tools and technologies from different places and use as you like. </font><font style="vertical-align: inherit;">For example, we use Golang for some things, but Data Scientist works in Python, you cannot force them to write in GO or PHP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, we have two rules:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dockerize: there must be containers;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observability: these containers must be observable.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To continue the analogy with the zoo: there are cells, and it is not so important who sits in these cells. </font><font style="vertical-align: inherit;">The main thing is that water and food arrive regularly, automatically and uniformly, and the "vital products" of services, that is, logs, are shipped somewhere centrally. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For observability, we have a standard stack: each application writes logs to stdout, from where everything is transferred centrally to EFK. </font><font style="vertical-align: inherit;">That is, the developer can come and see the logs in Kibana. </font><font style="vertical-align: inherit;">App metrics we drop in Prometheus, dashboards and alerts as standard in Grafana. </font><font style="vertical-align: inherit;">Jaeger is an Opentracing story that shows who accesses which service if we don‚Äôt know or don‚Äôt want to deal with it in other ways.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/np/pw/ht/nppwhthiefslsbsif3wi_9wf4ve.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to develop and test with all this</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's say a new developer comes to us, he sees 100 services and 100 repositories. He immediately has questions. How to deploy these 100 services, and how to configure? Where are the databases? What accounts are there? And there are many such questions. Because of this, the new developer‚Äôs release took indecent time, he could sit for a week and set everything up. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, we have developed a 1-Click development environment. Each developer has his own Minikube with conditionally infinite cores and memory, deployed in the VMware cloud. Plus a database - it comes daily from production, is obfuscated, compressed and put on ZFS. This is a personal development of our admin. We have been engaged in cost cutting for a long time, we needed to give all the developers a base and not get broke.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are snapshots in ZFS, an API developer can roll the database directly from production in two seconds. </font><font style="vertical-align: inherit;">With autotests, the same story: we start by API, and everything works. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/bv/wn/babvwnzk2n32f8xemqqz-5rz-ck.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is what development flow looks like today: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/5h/u7/ht5hu7ljxuhqt7uz3yn25_cay44.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Developer is happy, DevOps and admins are happy because all processes are uniform, repeatable and unified. </font><font style="vertical-align: inherit;">But there is one thing.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Layered Layer System</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As Linus Torvalds said: ‚ÄúTalk is cheap. Show me the code. " So, we use a multi-level layer system. There are trivial layers: dev, stage, prod, which come to mind for everyone who is going to make CI / CD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But there are still developers, they need some of their domains, some user specific stories, so we have a users values ‚Äã‚Äãlayer. But this is not enough - you still need to test. Suppose we made a branch, maybe several services, and we need to pass this to the tester so that it repeats. For this, we have a layer with values ‚Äã‚Äãfor tasks, i.e. tasks values.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another, slightly holivarny moment - we do not use Tiller, settled on Helm, but we use it in fact as a template engine. </font><font style="vertical-align: inherit;">That is, we use only helm-template, it gives a yaml file at the output, which can be attributed to Minikube or a cluster, and nothing else is needed.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ug/we/nb/ugwenbqvgt4fkf8-k-zdgafyivi.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How the K8s-helm repository works</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As I said, we have obvious layers of dev, prod and stage, there is a yaml file from each service, when we saw a new service, add the file. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Additionally there is a daddy dev.server with the most interesting. </font><font style="vertical-align: inherit;">There are bash scripts that help, for example, create a new user: do not create 100 services with your hands and do not fill in yaml files, but simply run in one command. </font><font style="vertical-align: inherit;">This is where all these yaml files are generated.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/tf/v5/abtfv5xg_3ev8abkexzeg86ont0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the same folder there is a subfolder tasks. If we need to make some specific values ‚Äã‚Äãfor our deployment, we just create a folder with task numbers inside, commit the branch. Then we tell the tester: "Such a branch lies in the repository, take it and run it." He starts, yanks the command that lies in the bin dad, and everything works - no need to configure by hand. The miracle of DevOps is an infrastructure as code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, the process boils down to three teams:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/zk/1e/jszk1eunb8wlebblg_6v8g8rr3i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When a new developer arrives, they give him Minikube, an archive folder with certificates and a domain. In general, he only needs kubectl and Helm. He clones the repository to himself, shows kubectl the path to his config, runs the make_user command with his name. And for all services, copies are created for him. Moreover, they are not just created - there is a database that was given to him, the developer prescribed credentials for it, and all these credentials go to other services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The user has been created. How can I deploy it now? Nothing complicated here either - we run deploy.sh with his name, and everything comes to the developer in the default namespace in his Minikube, everything is immediately available on his domain.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If the developer has programmed something, he takes the issue ID and gives it to the tester. </font><font style="vertical-align: inherit;">The tester copies this branch, launches a deploy, and an environment with a new feature appears in its cluster.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K8s-helm assembly</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The repository itself is additionally compiled and built into CI / CD processes. Nothing special here - just kubectl with certificates and Helm. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/no/h1/4r/noh14rtvxvwmox4snmakfcvvllc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the project, it looks like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tw/1b/nj/tw1bnjz0tg9mcp8rk7nmdlrqqby.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suppose you are deployed, and there is a stage when you need to first stage the stage, and then run the tests there using Jenkins. From the repository, you have an image compiled with Helm. We run the deploy namespace service_stage run command and everything takes off. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then comes CI, here .drone.yml, but about the same thing will happen in GitLab or somewhere else. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, Jenkins starts, which runs the tests on stage. If everything is OK, then it starts almost the same deployment, but already on the prod. That is, this mechanism not only makes life easier for developers and testers, but is also used to deliver features to products.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We love open source, we want to invest in the development of DevOps, so we made a template that you can use and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uploaded it to the github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">There is everything that I talked about: you can take, watch, test and apply. </font><font style="vertical-align: inherit;">It will be useful to everyone who implements microservices, or suffers from the fact that the team implements microservices, or wants to build DevOps processes around this. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Our other related articles:</font></font></strong><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 useful Kubernetes tools: deployment and management</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Second-time billing, marketplace and sandboxes for Big Data: what test environments in the cloud can do</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to migrate to the cloud in two hours thanks to Kubernetes and automation</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This talk was first made at the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Kubernetes Conference</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> by Mail.ru Cloud Solutions. </font><font style="vertical-align: inherit;">Watch a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> other performances and sign up for Telegram event announcements </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Around Kubernetes at Mail.ru Group</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490346/index.html">The role of the MQTT protocol in the development of the industrial Internet of things</a></li>
<li><a href="../en490348/index.html">How to give feedback and not start the Third World War</a></li>
<li><a href="../en490354/index.html">Enhancing the culture of information security in fintech companies</a></li>
<li><a href="../en490356/index.html">Introducing Kubernetes CCM (Cloud Controller Manager) for Yandex.Cloud</a></li>
<li><a href="../en490358/index.html">Does a modern programmer need to be able to create algorithms?</a></li>
<li><a href="../en490364/index.html">Data centers consume a lot of electricity, but not yet threaten the climate</a></li>
<li><a href="../en490366/index.html">Should I store Google Fonts on my server?</a></li>
<li><a href="../en490372/index.html">Interview at Dodo Pizza</a></li>
<li><a href="../en490376/index.html">Plural</a></li>
<li><a href="../en490378/index.html">IPv6 - a wonderful world worth a quick transition to it</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>