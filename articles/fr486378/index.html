<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚫 🚲 😅 Le serveur domestique à énergie solaire a fonctionné pendant 15 mois: disponibilité 95,26% 👨‍👩‍👧‍👧 😣 🍠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le premier prototype de serveur solaire avec un contrôleur de charge. Photo: solar.lowtechmagazine.com
 
 En septembre 2018, un passionné de Low-tech ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Le serveur domestique à énergie solaire a fonctionné pendant 15 mois: disponibilité 95,26%</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/486378/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/eh/th/2d/ehth2dv7ykrf9lj6lrozxqzmdei.jpeg"></a><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le premier prototype de serveur solaire avec un contrôleur de charge. </font><font style="vertical-align: inherit;">Photo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solar.lowtechmagazine.com</font></font></a></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En septembre 2018, un passionné de Low-tech Magazine a</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lancé un projet de serveur web «low-tech»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">L'objectif était de réduire la consommation d'énergie afin qu'un seul panneau solaire soit suffisant pour le serveur auto-hébergé domestique. </font><font style="vertical-align: inherit;">Ce n'est pas facile, car le site devrait fonctionner 24h / 24. </font><font style="vertical-align: inherit;">Voyons ce qui s'est passé à la fin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez aller sur le serveur</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> solar.lowtechmagazine.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vérifiez la consommation électrique actuelle et le niveau de la batterie. </font><font style="vertical-align: inherit;">Le site est optimisé pour le nombre minimum de requêtes de la page et le trafic minimum, il doit donc résister à l'augmentation du trafic Habr. </font><font style="vertical-align: inherit;">Selon les calculs du développeur, la consommation d'énergie par visiteur unique est de 0,021 Wh.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peu avant l'aube, le 31 janvier 2020, il lui restait 42% de la batterie. </font><font style="vertical-align: inherit;">Aube à Barcelone à 8h04 heure locale, après quoi le courant devrait passer du panneau solaire.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/um/dt/c5/umdtc5ymatrymminfcex-rt8k-y.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi?</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a dix ans, les experts </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prédisaient</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que le développement d'Internet contribuait à la «dématérialisation» de la société, à la numérisation universelle - et, par conséquent, à une diminution de la consommation globale d'énergie. Ils se sont trompés. En fait, Internet lui-même a exigé d' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">énormes quantités d'énergie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et ces volumes continuent de croître. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les sociétés informatiques ont lancé des initiatives pour passer à des alimentations alternatives, mais cela est désormais impossible. Tous les centres de données consomment trois fois plus d'énergie que toutes les installations solaires et éoliennes du monde. Pire encore, la production et le remplacement régulier de panneaux solaires et d'éoliennes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nécessitent également de l'énergie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par conséquent, l'abandon du toplif fossile (pétrole, gaz, uranium) aujourd'hui est tout simplement impossible. Mais ces réserves ne seront pas suffisantes pour longtemps, nous devrons donc inévitablement réfléchir à la façon de vivre avec des sources renouvelables. Y compris le fonctionnement de l'infrastructure informatique, y compris les serveurs Web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Low-tech Magazine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">considère le problème du</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gonflage trop rapide des pages Web. De 2010 à 2018, la taille moyenne des pages est passée </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de 0,45 Mo à 1,7 Mo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et pour les sites mobiles - de 0,15 Mo à 1,6 Mo, selon une estimation prudente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Augmentation du trafic </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avant les progrès de l'efficacité énergétique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(l'énergie nécessaire pour transférer 1 mégaoctet d'informations), ce qui entraîne une augmentation constante de la consommation d'énergie d'Internet. </font><font style="vertical-align: inherit;">Les sites de plus en plus lourds augmentent non seulement la charge de l'infrastructure réseau, mais raccourcissent également le «cycle de vie» des ordinateurs et des smartphones, qui doivent souvent être jetés et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renouvelés</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ce qui est également un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">processus très énergivore</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et bien sûr, l'augmentation de la charge est créée par le mode de vie lui-même: les gens passent presque tout le temps sur Internet et dépendent fortement de divers services Web. </font><font style="vertical-align: inherit;">Il est déjà difficile d'imaginer une société moderne sans infrastructure informatique cloud (réseaux sociaux, messagerie instantanée, courrier, etc.)</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration du serveur et du site Web</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> décrit en détail la configuration matérielle et le serveur Web de la pile logicielle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ordinateur à carte unique Olimex Olinuxino A20 Lime 2 est</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sélectionné pour sa faible consommation d'énergie et ses fonctionnalités supplémentaires utiles telles que la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puce de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gestion de l'alimentation </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">AXP209</font></a><font style="vertical-align: inherit;"> . Il vous permet de demander des statistiques sur la tension et l'intensité du courant à la carte et à la batterie. La puce bascule automatiquement l'alimentation entre la batterie et le connecteur DC, où le courant s'écoule du panneau solaire. Ainsi, une alimentation sans interruption du serveur avec prise en charge de la batterie est possible. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cca/d9c/9b5/ccad9c9b5fc2e6fc310922253ed1c37a.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Olimex Olinuxino A20 Lime 2</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Initialement, une batterie au lithium-polymère d'une capacité de 6600 mAh (environ 24 Wh) a été choisie comme batterie, puis ils ont mis une batterie au plomb à 84,4 Wh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le système d'exploitation démarre à partir de la carte SD. </font><font style="vertical-align: inherit;">Bien que le système d'exploitation ne prenne pas plus de 1 Go et qu'un site Web statique soit d'environ 30 Mo, il n'y avait aucune raison économique d'acheter une carte plus petite que la classe 10 16 Go. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le serveur se connecte au réseau via une connexion domestique de 100 mégaoctets à Barcelone et un routeur grand public standard. </font><font style="vertical-align: inherit;">Une adresse IP statique lui est réservée. </font><font style="vertical-align: inherit;">Presque tout le monde peut créer un tel site dans son appartement, vous devez modifier légèrement le paramètre du pare-feu pour la redirection de port vers l'IP locale:</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Port 80 à 80 pour HTTP</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Port 443 à 443 pour HTTPS</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Port 22 à 22 pour SSH</font></font></pre><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Système d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
exploitation </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Armbian Stretch</font></a><font style="vertical-align: inherit;"> basé sur la distribution Debian et le noyau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SUNXI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , conçu pour les cartes à carte unique avec des puces AllWinner. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/603/eea/b83/603eeab833004b93a0258646f7623716.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un panneau solaire de 50 watts pour un serveur Web et un panneau de 10 watts pour l'éclairage d'un salon dans l'appartement de l'auteur.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Un site statique est généré par le système </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelican</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (générateur de site Web Python). Les sites statiques se chargent plus rapidement et ne créent pas de charge sur le processeur, ils sont donc beaucoup plus efficaces que les pages générées dynamiquement du point de vue de la consommation d'énergie. Voir le code source du thème </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un point très important est la compression d'image, car sans cette optimisation, il est presque impossible de faire des pages Web de moins de 1 mégaoctet. Pour l'optimisation, il a été décidé de convertir les photos en images en niveaux de gris. Par exemple, voici une photo d'une opératrice téléphonique sur un commutateur au siècle dernier, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">253 Ko</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hp/l3/lk/hpl3lkomognem_svsjd42i7bmty.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais l'image en niveaux de gris optimisée de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36,5 Ko</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font><font style="vertical-align: inherit;">taille </font><font style="vertical-align: inherit;">avec trois couleurs (noir, blanc, gris). En raison de l'illusion d'optique, le spectateur semble avoir plus de trois couleurs. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ba6/cc2/5ec/ba6cc25ec6f908ba504405983f264072.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les photographies en demi-teintes ont été choisies non seulement pour l'optimisation de la taille (la solution est plutôt douteuse), mais aussi pour des raisons esthétiques. Cette ancienne technique de traitement d'image possède certaines caractéristiques stylistiques, de sorte que le site s'est avéré en quelque sorte un design unique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
623 illustrations sur le site Web de Low-tech Magazine après optimisation ont diminué de 194,2 Mo à 21,3 Mo, soit 89%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les anciens articles ont été convertis en Markdown pour faciliter la rédaction de nouveaux articles, ainsi que pour la sauvegarde via </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tous les scripts et trackers, ainsi que les logos, ont été supprimés du site. La police par défaut est utilisée dans le navigateur client. En tant que «logo» - le nom du magazine en majuscules avec une flèche gauche: LOW ← TECH MAGAZINE. Seulement 16 octets au lieu d'une image. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cas de temps d'arrêt, la possibilité de «lecture hors ligne» est organisée: les textes et les images sont exportés vers le flux RSS. La mise en cache du contenu à 100%, y compris HTML, est incluse.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre optimisation est l'inclusion de paramètres HTTP2 dans nginx, ce qui réduit légèrement le trafic et raccourcit le temps de chargement des pages, par rapport à HTTP / 1.1. </font><font style="vertical-align: inherit;">Le tableau compare les résultats pour cinq pages différentes.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">FP | </font><font style="vertical-align: inherit;">NOUS | </font><font style="vertical-align: inherit;">Hs | </font><font style="vertical-align: inherit;">Fw | </font><font style="vertical-align: inherit;">CW |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| ---------- | ------- | ------- | ------- | ------- | ------ - |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HTTP / 1.1 | </font><font style="vertical-align: inherit;">1,46 s | </font><font style="vertical-align: inherit;">1,87 s | </font><font style="vertical-align: inherit;">1,54 s | </font><font style="vertical-align: inherit;">1,86 s | </font><font style="vertical-align: inherit;">1,89 s |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">HTTP2 | </font><font style="vertical-align: inherit;">1,30s | </font><font style="vertical-align: inherit;">1,49 s | </font><font style="vertical-align: inherit;">1,54 s | </font><font style="vertical-align: inherit;">1,79 s | </font><font style="vertical-align: inherit;">1,55 s |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Images | </font><font style="vertical-align: inherit;">9 | </font><font style="vertical-align: inherit;">21 | </font><font style="vertical-align: inherit;">11 | </font><font style="vertical-align: inherit;">19 | </font><font style="vertical-align: inherit;">23 |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">économies | </font><font style="vertical-align: inherit;">11% | </font><font style="vertical-align: inherit;">21% | </font><font style="vertical-align: inherit;">0% | </font><font style="vertical-align: inherit;">4% | </font><font style="vertical-align: inherit;">18% |</font></font></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configuration complète de nginx:</font></font><br>
<br>
<pre><code class="nginx hljs">root@solarserver:/var/log/nginx<span class="hljs-comment"># cat /etc/nginx/sites-enabled/solar.lowtechmagazine.com</span><font></font>
<font></font>
<span class="hljs-comment"># Expires map</span>
<span class="hljs-attribute">map</span> <span class="hljs-variable">$sent_http_content_type</span> <span class="hljs-variable">$expires</span> {
<span class="hljs-attribute">default</span> <span class="hljs-literal">off</span>;<font></font>
text/<span class="hljs-attribute">html</span> <span class="hljs-number">7d</span>;<font></font>
text/<span class="hljs-attribute">css</span> max;<font></font>
application/<span class="hljs-attribute">javascript</span> max;<font></font>
~image/ max;<font></font>
}<font></font>
<font></font>
<span class="hljs-section">server</span> {
<span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;
<span class="hljs-attribute">server_name</span> solar.lowtechmagazine.com;<font></font>
<font></font>
<span class="hljs-attribute">location</span> / {
<span class="hljs-attribute">return</span> <span class="hljs-number">301</span> https://<span class="hljs-variable">$server_name</span><span class="hljs-variable">$request_uri</span>;<font></font>
}<font></font>
}<font></font>
<font></font>
server{<font></font>
<span class="hljs-attribute">listen</span> <span class="hljs-number">443</span> ssl http2;
<span class="hljs-attribute">server_name</span> solar.lowtechmagazine.com;<font></font>
<font></font>
<span class="hljs-attribute">charset</span> UTF-<span class="hljs-number">8</span>; <span class="hljs-comment">#improve page speed by sending the charset with the first response.</span><font></font>
<font></font>
<span class="hljs-attribute">location</span> / {
<span class="hljs-attribute">root</span> /var/www/html/;
<span class="hljs-attribute">index</span> index.html;
<span class="hljs-attribute">autoindex</span> <span class="hljs-literal">off</span>;<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#Caching (save html pages for 7 days, rest as long as possible, no caching on frontpage)</span>
<span class="hljs-attribute">expires</span> <span class="hljs-variable">$expires</span>;<font></font>
<font></font>
<span class="hljs-attribute">location</span> <span class="hljs-variable">@index</span> {
<span class="hljs-attribute">add_header</span> Last-Modified <span class="hljs-variable">$date_gmt</span>;
<span class="hljs-attribute">add_header</span> Cache-Control <span class="hljs-string">'no-cache, no-store'</span>;
<span class="hljs-attribute">etag</span> <span class="hljs-literal">off</span>;
<span class="hljs-attribute">expires</span> <span class="hljs-literal">off</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">#error_page 404 /404.html;</span><font></font>
<font></font>
<span class="hljs-comment"># redirect server error pages to the static page /50x.html</span>
<span class="hljs-comment">#error_page 500 502 503 504 /50x.html;</span>
<span class="hljs-comment">#location = /50x.html {</span>
<span class="hljs-comment"># root /var/www/;</span>
<span class="hljs-comment">#}</span><font></font>
<font></font>
<span class="hljs-comment">#Compression</span><font></font>
<font></font>
<span class="hljs-attribute">gzip</span> <span class="hljs-literal">on</span>;
<span class="hljs-attribute">gzip_disable</span> <span class="hljs-string">"msie6"</span>;
<span class="hljs-attribute">gzip_vary</span> <span class="hljs-literal">on</span>;
<span class="hljs-attribute">gzip_comp_level</span> <span class="hljs-number">6</span>;
<span class="hljs-attribute">gzip_buffers</span> <span class="hljs-number">16</span> <span class="hljs-number">8k</span>;
<span class="hljs-attribute">gzip_http_version</span> <span class="hljs-number">1</span>.<span class="hljs-number">1</span>;
<span class="hljs-attribute">gzip_types</span> text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#Caching (save html page for 7 days, rest as long as possible)</span>
<span class="hljs-attribute">expires</span> <span class="hljs-variable">$expires</span>;<font></font>
<font></font>
<span class="hljs-comment"># Logs</span>
<span class="hljs-attribute">access_log</span> /var/log/nginx/solar.lowtechmagazine.com_ssl.access.log;
<span class="hljs-attribute">error_log</span> /var/log/nginx/solar.lowtechmagazine.com_ssl.<span class="hljs-literal">error</span>.log;<font></font>
<font></font>
<span class="hljs-comment"># SSL Settings:</span>
<span class="hljs-attribute">ssl_certificate</span> /etc/letsencrypt/live/solar.lowtechmagazine.com/fullchain.pem;
<span class="hljs-attribute">ssl_certificate_key</span> /etc/letsencrypt/live/solar.lowtechmagazine.com/privkey.pem;<font></font>
<font></font>
<span class="hljs-comment"># Improve HTTPS performance with session resumption</span>
<span class="hljs-attribute">ssl_session_cache</span> shared:SSL:<span class="hljs-number">10m</span>;
<span class="hljs-attribute">ssl_session_timeout</span> <span class="hljs-number">5m</span>;<font></font>
<font></font>
<span class="hljs-comment"># Enable server-side protection against BEAST attacks</span>
<span class="hljs-attribute">ssl_prefer_server_ciphers</span> <span class="hljs-literal">on</span>;
<span class="hljs-attribute">ssl_ciphers</span> ECDH+AESGCM:ECDH+AES256:ECDH+AES128:DH+3DES:!ADH:!AECDH:!MD5;<font></font>
<font></font>
<span class="hljs-comment"># Disable SSLv3</span>
<span class="hljs-attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="hljs-number">1</span> TLSv1.<span class="hljs-number">2</span>;<font></font>
<font></font>
<span class="hljs-comment"># Lower the buffer size to increase TTFB</span>
<span class="hljs-attribute">ssl_buffer_size</span> <span class="hljs-number">4k</span>;<font></font>
<font></font>
<span class="hljs-comment"># Diffie-Hellman parameter for DHE ciphersuites</span>
<span class="hljs-comment"># $ sudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 4096</span>
<span class="hljs-attribute">ssl_dhparam</span> /etc/ssl/certs/dhparam.pem;<font></font>
<font></font>
<span class="hljs-comment"># Enable HSTS (https://developer.mozilla.org/en-US/docs/Security/HTTP_Strict_Transport_Security)</span>
<span class="hljs-attribute">add_header</span> Strict-Transport-Security <span class="hljs-string">"max-age=63072000; includeSubdomains"</span>;<font></font>
<font></font>
<span class="hljs-comment"># Enable OCSP stapling (http://blog.mozilla.org/security/2013/07/29/ocsp-stapling-in-firefox)</span>
<span class="hljs-attribute">ssl_stapling</span> <span class="hljs-literal">on</span>;
<span class="hljs-attribute">ssl_stapling_verify</span> <span class="hljs-literal">on</span>;
<span class="hljs-attribute">ssl_trusted_certificate</span> /etc/letsencrypt/live/solar.lowtechmagazine.com/fullchain.pem;
<span class="hljs-attribute">resolver</span> <span class="hljs-number">87.98.175.85</span> <span class="hljs-number">193.183.98.66</span> valid=<span class="hljs-number">300s</span>;
<span class="hljs-attribute">resolver_timeout</span> <span class="hljs-number">5s</span>;<font></font>
}</code></pre><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résultats de 15 mois de travail</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la période du 12 décembre 2018 au 28 novembre 2019, le serveur a affiché une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disponibilité de 95,26%</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cela signifie qu'en raison du mauvais temps, le temps d'arrêt de l'année était de 399 heures. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais si vous ne tenez pas compte des deux derniers mois, le temps de disponibilité est de 98,2% et le temps d'arrêt n'est que de 152 heures, écrivent les développeurs. La disponibilité est tombée à 80% au cours des deux derniers mois, lorsque la consommation d'énergie a augmenté en raison des mises à jour logicielles. Chaque nuit, le site était en panne pendant plusieurs heures.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les statistiques, pour l'année (du 3 décembre 2018 au 24 novembre 2019), la consommation électrique du serveur était de 9,53 kWh. Des pertes importantes ont été enregistrées dans le système photovoltaïque en raison de la conversion de tension et de la décharge de la batterie. Le contrôleur solaire a montré une consommation annuelle de 18,10 kWh, ce qui signifie une efficacité du système d'environ 50%. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/441/110/3a1/4411103a1f1e5471afafe13fe10dc66c.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schéma simplifié. Il ne montre pas un convertisseur de tension de 12 à 5 volts et un ampèremètre-batterie.Au</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
cours de la période d'étude, 865 000 visiteurs uniques ont visité le site. En incluant toutes les pertes d'énergie dans l'installation solaire, la consommation d'énergie par visiteur unique était de 0,021 Wh. Ainsi, un kilowattheure d'énergie solaire générée suffit pour desservir près de 50 000 visiteurs uniques.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours de l'expérience, des panneaux solaires de différentes tailles ont été testés. Le tableau montre les calculs de la durée de charge des batteries de différentes capacités lors de l'utilisation de panneaux solaires de différentes tailles. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ck/vw/qv/ckvwqvclfxmgjpw8kcpqm8wojmu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La consommation électrique moyenne du serveur Web au cours de la première année, toutes pertes d'énergie comprises, était de 1,97 watts. Le calcul montre que pour maintenir un site Web la nuit la nuit la plus courte de l'année (8 heures 50 minutes, 21 juin), vous avez besoin de 17,40 watts-heure de capacité de stockage et la nuit la plus longue (14 heures 49 minutes, 21 décembre) , 19 Wh</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_c/el/qi/_celqiqryiici5sqzanuis4gobc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que les batteries au plomb ne doivent pas être déchargées en dessous de la moitié de leur capacité, le serveur a besoin d'une batterie de 60 Wh pour survivre la nuit la plus longue dans des conditions de lumière du jour optimales (2 × 29,19 Wh). </font><font style="vertical-align: inherit;">Pendant la majeure partie de l'année, le système a fonctionné avec une batterie de 86,4 Wh / h et un panneau solaire de 50 watts, puis le temps de disponibilité susmentionné de 95 à 98% a été atteint.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100% de disponibilité</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour une disponibilité, 100% nécessite une augmentation de la capacité de la batterie. Pour compenser une journée de très mauvais temps (sans production d'électricité importante), vous avez besoin de 47,28 watts-heures (24 heures × 1,97 watts) de stockage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du 1er décembre 2019 au 12 janvier 2020, une batterie de 168 watts a été installée dans le système, qui a une capacité de stockage pratique de 84 watts-heures. Ce stockage est suffisant pour maintenir le site pendant deux nuits et une journée. La configuration a été testée dans la période la plus sombre de l'année, mais le temps était relativement bon - et pendant cette période, le temps de disponibilité était de 100%.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais afin de garantir un temps de disponibilité de 100% pendant plusieurs années, il faut prévoir le pire des cas, lorsque le mauvais temps persiste plusieurs jours. Le calcul montre que pour maintenir le site en ligne pendant quatre jours avec une production d'énergie faible ou nulle, vous aurez besoin d'une batterie au plomb-acide d'une capacité de 440 watts-heures, c'est-à-dire de la taille d'une batterie de voiture. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En pratique, par beau temps, une batterie plomb-acide de 48 Wh prendra en charge le serveur pendant la nuit de mars à septembre. Une batterie de 24 Wh gardera le serveur pendant un maximum de 6 heures, c'est-à-dire qu'il s'éteindra chaque nuit, bien qu'à des moments différents, selon le mois.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'ensemble, certains sites n'ont pas à travailler la nuit, lorsque le nombre de visiteurs est minime, selon les gars de Low-tech Magazine. Par exemple, s'il s'agit d'une publication de ville régionale, où les visiteurs d'autres fuseaux horaires ne vont pas, mais uniquement les résidents locaux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est-à-dire que pour les sites avec un trafic différent et des temps de disponibilité différents, des batteries de différentes capacités et des panneaux solaires de différentes tailles sont nécessaires. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nr/4w/ad/nr4wad7udwyrcx3wtawthytkzjy.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/is/fg/bc/isfgbcit1chetwg-8fe_ymodglq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'auteur calcule la quantité d'énergie nécessaire pour </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produire</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les panneaux solaires eux-mêmes (énergie réalisée) et la quantité obtenue si vous divisez cette quantité par la durée de vie prévue de 10 ans.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0e/aa/i4/0eaai4fbjyx-j0jm4szb6uxy8t8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, il est possible de calculer un analogue des combustibles fossiles, qui est dépensé pour la production et le fonctionnement des panneaux. </font><font style="vertical-align: inherit;">Au Low-tech Magazine, il s'est avéré que pendant la première année de fonctionnement, leur système (panneau de 50 W, batterie de 86,4 Wh) a «généré» environ 9 kg d'émissions ou l'équivalent de brûler 3 litres d'essence: à peu près la même chose qu'une voiture de tourisme pour 50 km de progrès. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a0/kb/qn/a0kbqn9ctp-qa99mgs9sdznp7sq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le serveur n'est pas alimenté par des panneaux solaires, mais par le réseau électrique général, alors l'équivalent des émissions semble être six fois inférieur: 1,54 kg (la part des énergies alternatives et des centrales nucléaires est élevée dans l'énergie espagnole). </font><font style="vertical-align: inherit;">Mais ce n'est pas une comparaison tout à fait correcte, écrit l'auteur, car elle prend en compte l'énergie mise en œuvre de l'infrastructure solaire, mais ne tient pas compte de cet indicateur pour l'ensemble du réseau énergétique, c'est-à-dire les coûts de sa construction et de son support.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Améliorations supplémentaires</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours du temps passé, un certain nombre d'optimisations ont été effectuées qui ont réduit la consommation d'énergie du serveur. Par exemple, à un moment donné, le développeur a remarqué que 6,63 To sur le total de 11,15 To de trafic généré par une implémentation incorrecte du flux RSS, qui extrait du contenu toutes les quelques minutes. Après avoir corrigé ce bogue, la consommation d'énergie du serveur (hors pertes d'énergie) est passée de 1,14 watts à environ 0,95 watts. Le gain peut sembler faible, mais la différence de 0,19 watts signifie 4,56 watts-heures par jour, ce qui correspond à plus de 2,5 heures d'autonomie.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première année, l'efficacité n'était que de 50%. Des pertes ont été observées lors de la charge et de la décharge de la batterie (22%), ainsi que lors de la conversion de la tension de 12 V (système solaire photovoltaïque) à 5 V (USB), où les pertes peuvent atteindre 28%. Le développeur admet qu'il ne dispose pas d'un convertisseur de tension optimal (contrôleur sans USB intégré), vous pouvez donc optimiser ce moment ou passer à une installation solaire 5V. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour augmenter l'efficacité du stockage d'énergie, les batteries au plomb peuvent être remplacées par des batteries lithium-ion plus chères, qui ont moins de pertes de charge / décharge (&lt;10%). Maintenant, le concepteur envisage un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">système</font></a><font style="vertical-align: inherit;"> compact </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour stocker l'électricité sous forme d'air comprimé</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(CAES), qui a une durée de vie de dix ans, ce qui signifie moins d'empreinte carbone. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0e6/bf0/fe7/0e6bf0fe70967f6ecb67ae11b3b1eaab.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accumulateur d'énergie compact en air comprimé, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">source</font></font></a></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nous envisageons d'installer une éolienne supplémentaire (elle peut être </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en bois</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et d'installer un tracker solaire pour tourner les panneaux vers le soleil. Le tracker vous permet d'augmenter la production d'électricité de 30%. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d_/ua/ya/d_uayatij5brhpt1wnilp1pqnti.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre façon d'augmenter l'efficacité du système est de le faire évoluer. Augmentez le nombre de sites Web sur le serveur et exécutez davantage de serveurs. Ensuite, la consommation d'énergie de chaque site diminuera. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kq/zt/46/kqzt46ilxzjajy0calw5n3k7r00.jpeg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Société d'hébergement solaire. Illustration: Diego Marmolejo</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous couvrez tout le balcon de l'appartement avec des panneaux solaires et ouvrez une société d'hébergement Web solaire, les coûts pour chaque client seront considérablement inférieurs à ceux d'un seul site Web: des économies d'échelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, cette expérience démontre que, sous certaines limites, l'infrastructure informatique peut très bien fonctionner avec des sources d'énergie renouvelables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Théoriquement, un tel serveur peut même se passer d'une batterie si vous le mettez en miroir dans d'autres parties du monde. </font><font style="vertical-align: inherit;">Par exemple, mettez des miroirs en Nouvelle-Zélande et au Chili. </font><font style="vertical-align: inherit;">Là, les panneaux solaires fonctionneront la nuit à Barcelone.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr486360/index.html">Comment migrer du moka vers la plaisanterie en 15 étapes faciles - et pourquoi</a></li>
<li><a href="../fr486362/index.html">Comment je ne suis pas devenu chef de produit après une formation chez Product Univercity Moreynis et Chernyak</a></li>
<li><a href="../fr486368/index.html">~ SMAK ~ - contrôleurs programmables pour les propriétés intelligentes utilisant la bibliothèque asyncio sur MicroPython</a></li>
<li><a href="../fr486372/index.html">Les programmeurs tchèques ont écrit un site d'une valeur de 16 millions d'euros gratuitement? Vérité?</a></li>
<li><a href="../fr486376/index.html">Comment les concepteurs de niveaux utilisent la théorie de l'architecture pour créer des niveaux de jeu</a></li>
<li><a href="../fr486380/index.html">Ce qu'un chef de produit devrait réellement faire</a></li>
<li><a href="../fr486382/index.html">Sceaux et mêlée</a></li>
<li><a href="../fr486388/index.html">Présentation du projet MyVPN Open Source Nonprofit</a></li>
<li><a href="../fr486390/index.html">Wright dans l'ombre</a></li>
<li><a href="../fr486392/index.html">Une brève comparaison de l'architecture SDS ou la recherche d'une plate-forme de stockage appropriée (GlusterVsCephVsVirtuozzoStorage)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>