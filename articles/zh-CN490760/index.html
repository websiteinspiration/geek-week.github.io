<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍💻 👩🏿‍🔬 🚴🏾 射线投射视觉搜索（RCVS）。查找几何形状相似的3D模型的简单快速算法 🍉 🕤 🧑🏾‍🤝‍🧑🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="对我来说，这两个模型非常相似，但是它们没有明显的特征可用来衡量它们的相似性。这些模型具有不同数量的顶点，边和多边形，它们的大小不同，除了它们在空间上的旋转不同之外，而且它们具有相同的变换（位置= [0,0,0]，弧度的旋转= [0,0， 0]，比例= [1,1,1]）。如何确定它们的相似性？
 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>射线投射视觉搜索（RCVS）。查找几何形状相似的3D模型的简单快速算法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490760/"><img src="https://habrastorage.org/webt/u2/8i/fw/u28ifwuqbqnlhhiwwldggmtayp4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对我来说，这两个模型非常相似，但是它们没有明显的特征可用来衡量它们的相似性。这些模型具有不同数量的顶点，边和多边形，它们的大小不同，除了它们在空间上的旋转不同之外，而且它们具有相同的变换（位置= [0,0,0]，弧度的旋转= [0,0， 0]，比例= [1,1,1]）。如何确定它们的相似性？</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果这些模型在空间上均等地定位，则可以将它们缩小为边界框的整体大小，将局部坐标的原点移动到其中心，生成体素视图并比较体素列表。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/hk/m7/hxhkm7cupsn8fts2jgjmpmqmg3o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">猴子及其体素。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
如果这些模型沿坐标轴任意定向，则也可以将它们缩小为边界框的整体大小，将局部坐标的原点移动到其中心，然后在六个侧面进行渲染，并比较它们之间的图像集。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1o/t1/g0/1ot1g00gyan9sroahuclx20bbo0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表面曲率的渲染。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
为了实现旋转不变性，我决定转向球坐标系。</font></font><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mo>=</mo><msqrt><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>z</mi><mn>2</mn></msup></msqrt></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.895ex" height="4.634ex" viewBox="0 -1347.5 8135.3 1995.3" role="img" focusable="false" style="vertical-align: -1.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-3D" x="729" y="0"></use><g transform="translate(1785,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJSZ2-221A" x="0" y="65"></use><rect stroke="none" width="5349" height="60" x="1000" y="1156"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-32" x="809" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-2B" x="1248" y="0"></use><g transform="translate(2249,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-32" x="706" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-2B" x="3425" y="0"></use><g transform="translate(4425,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-32" x="663" y="583"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mo>=</mo><msqrt><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>z</mi><mn>2</mn></msup></msqrt></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">r = \sqrt{x^2+y^2+z^2}</script></p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我计算了从原点到体素的距离，在有序列表中收集了这些距离，并比较了这些列表。</font><font style="vertical-align: inherit;">这产生了良好的结果，但是花了很长时间才能将体素形式转换为足够的分辨率并比较大列表。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RCVS的简短说明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
代替体素化和渲染，我的方法使用Ray Casting。</font><font style="vertical-align: inherit;">将模型放置在二十面体球形多面体内部，从多边形的多面体中投射出射线，并记录它们到模型表面的长度（路径）。</font><font style="vertical-align: inherit;">这些路径的列表被排序并相互比较。</font><font style="vertical-align: inherit;">排序消除了转弯，因为对于相同或接近的几何模型，光线路径在误差范围内将重合，但顺序不同。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2e/in/it/2einitowujo6sygimeu5qcsh6ss.gif"><img src="https://habrastorage.org/webt/p3/nn/gs/p3nngs1qtrc92rch2wbfylqgkeu.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别为80和1280射线。</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以不同方式比较Suzanne的猴子模型的结果。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/bd/2x/0m/bd2x0mkajcvvj3qlzjeexr1xu6e.png"><br>
<pre><code class="python hljs">Suzanne_lo<font></font>
                          Suzanne_lo | <span class="hljs-number">1</span>             
                 Suzanne_lo_rot_rand | <span class="hljs-number">0.9878376875939173</span>
                   Suzanne_lo_rot_90 | <span class="hljs-number">0.9800766750109137</span>
                 Suzanne_hi_rot_rand | <span class="hljs-number">0.9761078629585936</span>
                          Suzanne_hi | <span class="hljs-number">0.9730722945028376</span>
                   Suzanne_hi_rot_90 | <span class="hljs-number">0.9680325422930756</span>
                               Skull | <span class="hljs-number">0.7697333228143514</span>
             Ceramic_Teapot_rot_rand | <span class="hljs-number">0.6634783235048608</span>
                      Ceramic_Teapot | <span class="hljs-number">0.6496529954470333</span>
                         Grenade_MK2 | <span class="hljs-number">0.5275616759076022</span>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RCVS的详细说明</font></font></h3><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤插图</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/o2/tj/3o/o2tj3owsz0_jne4p0nbecptu8zs.png"><br>
<br>
<img src="https://habrastorage.org/webt/p9/lj/ty/p9ljty3f0fmfempfowlegvkiari.png"><br>
<br>
<img src="https://habrastorage.org/webt/wf/mi/ws/wfmiwskrxwqgc4vtuakleiqztg8.png"><br>
<br>
<img src="https://habrastorage.org/webt/yt/5j/a8/yt5ja8yymaxp_1imonuuewwac7u.png"><br>
<br>
<img src="https://habrastorage.org/webt/b8/yf/af/b8yfafbvbo9xtqldngm-b_rgisg.png"><br>
<br>
<img src="https://habrastorage.org/webt/hq/z9/te/hqz9tekclzhlx6xo2_8fneklf-o.png"><br>
<br>
<img src="https://habrastorage.org/webt/wl/em/_8/wlem_8ibovdfz3pxcydkl_jyrbk.png"><br>
<br>
<img src="https://habrastorage.org/webt/yc/yp/im/ycypimotysn1k1lb5ocqn4zs9mu.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在比较3D模型（以下称为对象）之前，每个模型都要经历准备阶段（我在Blender中用Python实现了这一部分）：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象组件局部坐标的原点设置在体积的质心上。</font></font></li>
<li>             .</li>
<li>  .</li>
<li>      ( )    ,  .   ,    : 80, 320, 1280, 5120, 22480.             1280.</li>
<li>                ,      .</li>
<li>     .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">光线再次从笔圈的每个多边形发出，并保存它们的路径，直到它们与对象的表面相遇为止，该对象的法线指向对象内部。</font><font style="vertical-align: inherit;">（这将修复内部几何形状和/或填充以前的射线的盲点）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从相对多边形发出的光线路径按列表排列，其中步骤5的前两个路径和步骤7的第二路径。每个列表按步骤5的最小路径值排序，以便步骤5和7的路径成对匹配。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有路径的列表列表按第一个值排序。</font><font style="vertical-align: inherit;">该列表有4列，行数等于icosphere中多边形数的一半。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">光线路径列表被写入文件。</font></font></li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">光线路径列表如下所示：</font></font></i><br>
<br>
<pre><code class="python hljs"><span class="hljs-number">0.00271218840585662</span>  <span class="hljs-number">0.2112752957162676</span> <span class="hljs-number">0.00271218840585662</span>  <span class="hljs-number">0.2112752957162676</span>
<span class="hljs-number">0.004740002405006037</span> <span class="hljs-number">0.210980921765861</span>  <span class="hljs-number">0.004740002405006037</span> <span class="hljs-number">0.2109809188911709</span>
<span class="hljs-number">0.00660892842734402</span>  <span class="hljs-number">0.2066613370130234</span> <span class="hljs-number">0.00660892842734402</span>  <span class="hljs-number">0.2066613370130234</span><font></font>
…<font></font>
<span class="hljs-number">0.2692299271137439</span>   <span class="hljs-number">0.2725085782639611</span> <span class="hljs-number">0.2692299271137439</span>   <span class="hljs-number">0.2725085782639611</span>
<span class="hljs-number">0.2705489991382905</span>   <span class="hljs-number">0.2707842753523402</span> <span class="hljs-number">0.270548999138295</span>    <span class="hljs-number">0.2707843056356914</span>
<span class="hljs-number">0.2709498404192674</span>   <span class="hljs-number">0.271036677664217</span>  <span class="hljs-number">0.2709498404192674</span>   <span class="hljs-number">0.271036642944409</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当所有对象都准备好光线路径列表时，可以将它们进行比较（我在Rust中编写了这一部分）：</font></font><br>
<br>
<ol>
<li>    .       0.01,    1%.</li>
<li>  .</li>
<li>          ,       ,    .    ,      .            ,       .</li>
<li>     ,      .     .</li>
<li>     (     ),    .</li>
</ol><br>
<h3>,     RCVS</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该算法非常适合搜索几何形状较近的对象，例如同一模型的高多边形和低多边形变量，有时还可以很好地处理相似的对象，例如使用不同形状的茶壶或吉他。</font><font style="vertical-align: inherit;">但是，由于对应于相同光线路径列表的模型数量可以近似估算</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mfrac><mrow><mi>n</mi><mo>!</mo></mrow><mrow><mrow><mo>(</mo><mfrac><mi>n</mi><mn>2</mn></mfrac><mo>)</mo></mrow><mo>!</mo></mrow></mfrac></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.79ex" height="5.384ex" viewBox="0 -1024.6 2062.2 2318.2" role="img" focusable="false" style="vertical-align: -3.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(120,0)"><rect stroke="none" width="1822" height="60" x="0" y="220"></rect><g transform="translate(600,419)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-21" x="600" y="0"></use></g><g transform="translate(60,-725)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJSZ2-28"></use><g transform="translate(422,0)"><g transform="translate(120,0)"><rect stroke="none" width="420" height="60" x="0" y="146"></rect><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMATHI-6E" x="119" y="687"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-32" x="169" y="-636"></use></g></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJSZ2-29" x="1531" y="-1"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/490760/&amp;usg=ALkJrhis9x-LyTtX30085mwNo2MYx8wEDg#MJMAIN-21" x="2128" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mrow><mi>n</mi><mo>!</mo></mrow><mrow><mrow><mo>(</mo><mfrac><mi>n</mi><mn>2</mn></mfrac><mo>)</mo></mrow><mo>!</mo></mrow></mfrac></math></span></span><script type="math/tex" id="MathJax-Element-2">\frac{n!}{\left(\frac{n}{2}\right)!}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则几何上视觉上不同的对象很有可能会在0.5-0.9的范围内发生重合。</font><font style="vertical-align: inherit;">在测试过程中，香蕉发生了这种情况，香蕉与飞机和不同姿势的人相吻合的比率为0.7，反之，老虎和狗则为“令人印象深刻”的0.85。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了更精确地搜索，请考虑对象的大小和/或旋转。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资料来源。</font></font></h3><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于在Blender中创建相对的icosphere多边形的字典的Python代码</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> bpy
<span class="hljs-keyword">import</span> os<font></font>
<font></font>
name = bpy.context.active_object.data.name<font></font>
<font></font>
polys = bpy.data.meshes[name].polygons<font></font>
print(<span class="hljs-string">"-----"</span>)<font></font>
length = len(polys)<font></font>
<font></font>
x = <span class="hljs-number">0</span>
p = <span class="hljs-number">0</span><font></font>
dict = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, length):<font></font>
    print(i, <span class="hljs-string">"/"</span>, length)
    <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> range(i, length):<font></font>
        norm1 = polys[i].normal<font></font>
        norm2 = polys[l].normal<font></font>
        <span class="hljs-keyword">if</span> norm1 == -norm2:<font></font>
            dict.append(str(i)+<span class="hljs-string">", "</span>+str(l)) <font></font>
            p += <span class="hljs-number">1</span>  <font></font>
<font></font>
<font></font>
print(<span class="hljs-string">"Polys"</span>, p)<font></font>
basedir = os.path.dirname(bpy.data.filepath) + <span class="hljs-string">"/ico_dicts/"</span>  
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(basedir):<font></font>
    os.makedirs(basedir)<font></font>
file = open(basedir + <span class="hljs-string">"/"</span> + str(length) + <span class="hljs-string">".csv"</span>,<span class="hljs-string">"w"</span>)
<span class="hljs-keyword">for</span> poly <span class="hljs-keyword">in</span> dict:      <font></font>
    file.write(poly + <span class="hljs-string">"\n"</span>)<font></font>
file.close()<font></font>
print(<span class="hljs-string">"----ok----"</span>)
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于在Blender中准备对象和创建射线路径列表的Python代码。</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> bpy
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt
<span class="hljs-keyword">import</span> csv<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#Icosphere properties</span>
<span class="hljs-comment">#icosubd:</span>
<span class="hljs-comment">#5 -&gt; 5120 X 2 rays</span>
<span class="hljs-comment">#4 -&gt; 1280 X 2 rays</span>
<span class="hljs-comment">#3 -&gt;  320 X 2 rays</span>
<span class="hljs-comment">#2 -&gt;   80 X 2 rays</span>
icosubd = <span class="hljs-number">4</span>
size = <span class="hljs-number">1280</span> <span class="hljs-comment">#name of directory</span>
radius = <span class="hljs-number">1</span><font></font>
<font></font>
<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">icoRC</span>(<span class="hljs-params">icosubd, rad, raydist, normals, target</span>):</span><font></font>
    icorad = rad<font></font>
    bpy.ops.mesh.primitive_ico_sphere_add(radius=icorad, subdivisions=icosubd, enter_editmode=<span class="hljs-literal">True</span>, location=(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<font></font>
    bpy.ops.mesh.normals_make_consistent(inside=normals)<font></font>
    bpy.ops.object.editmode_toggle()<font></font>
    <font></font>
<font></font>
    ico = bpy.context.active_object<font></font>
    mesh = bpy.data.meshes[ico.data.name]<font></font>
    rays = []<font></font>
    size = len(mesh.polygons)<font></font>
    <span class="hljs-keyword">for</span> poly <span class="hljs-keyword">in</span> mesh.polygons:<font></font>
        normal = poly.normal<font></font>
        start = poly.center<font></font>
        <font></font>
        ray = target.ray_cast(start, normal, distance=raydist)<font></font>
      <font></font>
        <span class="hljs-keyword">if</span> ray[<span class="hljs-number">0</span>] == <span class="hljs-literal">True</span>:<font></font>
            length = sqrt((start[<span class="hljs-number">0</span>]-ray[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]) ** <span class="hljs-number">2</span> + (start[<span class="hljs-number">1</span>]-ray[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]) ** <span class="hljs-number">2</span> + (start[<span class="hljs-number">2</span>]-ray[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>]) ** <span class="hljs-number">2</span>)<font></font>
            rays.append(length / (radius *<span class="hljs-number">2</span>))
        <span class="hljs-keyword">else</span>:<font></font>
            rays.append(<span class="hljs-number">-1</span>)<font></font>
            <font></font>
        <font></font>
    result = []<font></font>
    <span class="hljs-comment">#Combine opposite rays using CSV dicts</span>
    dictdir = os.path.dirname(bpy.data.filepath) + <span class="hljs-string">"/ico_dicts/"</span>
    <span class="hljs-keyword">with</span> open(dictdir+str(size)+<span class="hljs-string">'.csv'</span>, newline=<span class="hljs-string">''</span>) <span class="hljs-keyword">as</span> csvfile:<font></font>
        ico_dict_file = csv.reader(csvfile, delimiter=<span class="hljs-string">','</span>)
        <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> ico_dict_file:<font></font>
            result.append([rays[int(row[<span class="hljs-number">0</span>])], rays[int(row[<span class="hljs-number">1</span>])]])<font></font>
            <font></font>
            <font></font>
    bpy.ops.object.select_all(action=<span class="hljs-string">'DESELECT'</span>)<font></font>
    bpy.data.objects[ico.name].select_set(<span class="hljs-literal">True</span>) <font></font>
    bpy.ops.object.delete() <font></font>
    <font></font>
    <span class="hljs-keyword">return</span> result<font></font>
   <font></font>
   <font></font>
    <font></font>
    <font></font>
<span class="hljs-comment">#Batch preparation of objects by scale and origin </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">batch_prepare</span>():</span>   
    <span class="hljs-keyword">for</span> obj <span class="hljs-keyword">in</span> bpy.context.selected_objects:<font></font>
        bpy.ops.object.origin_set(type=<span class="hljs-string">'ORIGIN_CENTER_OF_VOLUME'</span>, center=<span class="hljs-string">'MEDIAN'</span>)<font></font>
        max_dist = <span class="hljs-number">0</span><font></font>
        bb = bpy.data.objects[obj.name].bound_box<font></font>
        <font></font>
        <span class="hljs-keyword">for</span> vert <span class="hljs-keyword">in</span> obj.data.vertices:<font></font>
            dist = vert.co[<span class="hljs-number">0</span>]**<span class="hljs-number">2</span> + vert.co[<span class="hljs-number">1</span>]**<span class="hljs-number">2</span> + vert.co[<span class="hljs-number">2</span>]**<span class="hljs-number">2</span>
            <span class="hljs-keyword">if</span> dist &gt; max_dist:<font></font>
                max_dist = dist<font></font>
        <font></font>
        obj.scale *= (<span class="hljs-number">1</span> / sqrt(max_dist))<font></font>
<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">write_rays</span>(<span class="hljs-params">dir</span>):</span>  
    <span class="hljs-keyword">for</span> obj <span class="hljs-keyword">in</span> bpy.context.selected_objects:<font></font>
        bpy.ops.object.transform_apply(location=<span class="hljs-literal">False</span>, rotation=<span class="hljs-literal">False</span>, scale=<span class="hljs-literal">True</span>)<font></font>
        <font></font>
        <span class="hljs-comment">#Cast rays on object with normals turned inside   </span><font></font>
        bpy.context.view_layer.objects.active  = obj<font></font>
        bpy.ops.object.editmode_toggle()<font></font>
        bpy.ops.mesh.normals_make_consistent(inside=<span class="hljs-literal">True</span>)<font></font>
        bpy.ops.object.editmode_toggle()<font></font>
        result1 = icoRC(icosubd, radius, radius*<span class="hljs-number">2</span>, <span class="hljs-literal">True</span>, obj)<font></font>
        <font></font>
        <span class="hljs-comment">#Cast rays on object with normals turned outside </span><font></font>
        bpy.context.view_layer.objects.active  = obj<font></font>
        bpy.ops.object.editmode_toggle()<font></font>
        bpy.ops.mesh.normals_make_consistent(inside=<span class="hljs-literal">False</span>)<font></font>
        bpy.ops.object.editmode_toggle()<font></font>
        result2 = icoRC(icosubd, radius, radius*<span class="hljs-number">2</span>, <span class="hljs-literal">True</span>, obj)<font></font>
        <font></font>
        final = []<font></font>
        <span class="hljs-comment">#Sort sub-lists and append them to main list</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, len(result1)):
            <span class="hljs-keyword">if</span> result2[i][<span class="hljs-number">0</span>] &lt; result2[i][<span class="hljs-number">1</span>]:<font></font>
                final.append([result2[i][<span class="hljs-number">0</span>], result2[i][<span class="hljs-number">1</span>], result1[i][<span class="hljs-number">0</span>], result1[i][<span class="hljs-number">1</span>]])
            <span class="hljs-keyword">else</span>:<font></font>
                final.append([result2[i][<span class="hljs-number">1</span>], result2[i][<span class="hljs-number">0</span>], result1[i][<span class="hljs-number">1</span>], result1[i][<span class="hljs-number">0</span>]])<font></font>
        <font></font>
        <font></font>
        <font></font>
     <font></font>
        basedir = os.path.dirname(bpy.data.filepath) + <span class="hljs-string">"/rays/"</span> + str(size) + <span class="hljs-string">"/"</span> 
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(basedir):<font></font>
            os.makedirs(basedir)<font></font>
        file = open(basedir + <span class="hljs-string">"/"</span> + obj.name,<span class="hljs-string">"w"</span>)<font></font>
        <font></font>
        final.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">0</span>]) <span class="hljs-comment">#Sort list by first values in sub-lists</span><font></font>
     <font></font>
        <span class="hljs-comment">#Writing to file   </span>
        <span class="hljs-keyword">for</span> ray <span class="hljs-keyword">in</span> final:<font></font>
            ray_str = <span class="hljs-string">""</span>
            <span class="hljs-keyword">for</span> dist <span class="hljs-keyword">in</span> ray:   <font></font>
                ray_str += str(dist) + <span class="hljs-string">" "</span>
            file.write(ray_str + <span class="hljs-string">"\n"</span>)<font></font>
<font></font>
        file.close()<font></font>
        <font></font>
    <font></font>
    <font></font>
batch_prepare()<font></font>
write_rays(size)<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于比较列表的Rust代码。</font></font></b><div class="spoiler_text"><pre><code class="rust hljs"><span class="hljs-keyword">use</span> rayon::prelude::*;
<span class="hljs-keyword">use</span> std::collections::HashSet;
<span class="hljs-keyword">use</span> std::fs;
<span class="hljs-keyword">use</span> std::io::{BufRead, BufReader, Error, Read};<font></font>
<font></font>
<span class="hljs-comment">//Creates Vector from file</span>
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">read</span></span>&lt;R: Read&gt;(io: R) -&gt; <span class="hljs-built_in">Result</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">f64</span>&gt;&gt;, Error&gt; {
    <span class="hljs-keyword">let</span> br = BufReader::new(io);<font></font>
    br.lines()<font></font>
        .map(|line| {<font></font>
            line.and_then(|v| {<font></font>
                <span class="hljs-literal">Ok</span>(v.split_whitespace()<font></font>
                    .map(|x| <span class="hljs-keyword">match</span> x.trim().parse::&lt;<span class="hljs-built_in">f64</span>&gt;() {
                        <span class="hljs-literal">Ok</span>(value) =&gt; value,
                        <span class="hljs-literal">Err</span>(_) =&gt; -<span class="hljs-number">1.0</span>,<font></font>
                    })<font></font>
                    .collect::&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">f64</span>&gt;&gt;())<font></font>
            })<font></font>
        })<font></font>
        .collect()<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//Compares two objects</span>
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">compare</span></span>(one: &amp;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">f64</span>&gt;&gt;, two: &amp;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">f64</span>&gt;&gt;, error: <span class="hljs-built_in">f64</span>) -&gt; <span class="hljs-built_in">f64</span> {
    <span class="hljs-keyword">let</span> length = one.len();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> count: <span class="hljs-built_in">f64</span> = <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> seen: HashSet&lt;<span class="hljs-built_in">usize</span>&gt; = HashSet::new();<font></font>
<font></font>
    <span class="hljs-keyword">for</span> orig <span class="hljs-keyword">in</span> one {
        <span class="hljs-keyword">let</span> size = orig.len();<font></font>
<font></font>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..length {
            <span class="hljs-keyword">if</span> seen.contains(&amp;i) {
                <span class="hljs-keyword">continue</span>;<font></font>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">let</span> targ = &amp;two[i];<font></font>
<font></font>
                <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span>..size).map(|x| (orig[x] - targ[x]).abs()).sum::&lt;<span class="hljs-built_in">f64</span>&gt;() &gt; error * size <span class="hljs-keyword">as</span> <span class="hljs-built_in">f64</span> {
                    <span class="hljs-keyword">continue</span>;<font></font>
                }<font></font>
<font></font>
                <span class="hljs-keyword">let</span> err_sum = (<span class="hljs-number">0</span>..size)<font></font>
                    .map(|x| <span class="hljs-number">1.0</span> - (orig[x] - targ[x]).abs())<font></font>
                    .sum::&lt;<span class="hljs-built_in">f64</span>&gt;();<font></font>
<font></font>
                count += err_sum / size <span class="hljs-keyword">as</span> <span class="hljs-built_in">f64</span>;<font></font>
                seen.insert(i);<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
    count / length <span class="hljs-keyword">as</span> <span class="hljs-built_in">f64</span><font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//Compares one object with others on different threads</span>
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">one_with_others</span></span>(<font></font>
    obj: &amp;(<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">f64</span>&gt;&gt;),<font></font>
    dict: &amp;<span class="hljs-built_in">Vec</span>&lt;(<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">f64</span>&gt;&gt;)&gt;,<font></font>
) -&gt; <span class="hljs-built_in">Vec</span>&lt;(<span class="hljs-built_in">usize</span>, <span class="hljs-built_in">f64</span>)&gt; {
    <span class="hljs-keyword">let</span> length = dict.len();<font></font>
<font></font>
    (<span class="hljs-number">0</span>..length)<font></font>
        .into_par_iter()<font></font>
        .map(|x| {<font></font>
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Puny human is instructed to wait.. {:}/{:}"</span>, x + <span class="hljs-number">1</span>, length);<font></font>
            (x, compare(&amp;obj.<span class="hljs-number">1</span>, &amp;dict[x].<span class="hljs-number">1</span>, <span class="hljs-number">0.01</span>))<font></font>
        })<font></font>
        .collect()<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {
    <span class="hljs-keyword">let</span> ray = <span class="hljs-number">1280</span>; <span class="hljs-comment">//name of directory</span>
    <span class="hljs-keyword">let</span> obj_cur = <span class="hljs-string">"Suzanne_lo"</span>; <span class="hljs-comment">//name of object</span><font></font>
<font></font>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> objects = <span class="hljs-built_in">Vec</span>::&lt;(<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">f64</span>&gt;&gt;)&gt;::new();
    <span class="hljs-keyword">let</span> path_rays = <span class="hljs-built_in">format!</span>(<span class="hljs-string">"./rays/{:}/"</span>, ray);
    <span class="hljs-keyword">let</span> paths = fs::read_dir(path_rays).unwrap();<font></font>
<font></font>
    <span class="hljs-keyword">let</span> obj_path = <span class="hljs-built_in">format!</span>(<span class="hljs-string">"./rays/{:}/{:}"</span>, ray, obj_cur);
    <span class="hljs-keyword">let</span> obj = (<font></font>
        obj_cur.to_string(),<font></font>
        read(fs::File::open(obj_path).unwrap()).unwrap(),<font></font>
    );<font></font>
<font></font>
    <span class="hljs-keyword">for</span> path <span class="hljs-keyword">in</span> paths {
        <span class="hljs-keyword">let</span> dir = &amp;path.unwrap().path();
        <span class="hljs-keyword">let</span> name = dir.to_str().unwrap().split(<span class="hljs-string">"/"</span>).last().unwrap();<font></font>
<font></font>
        objects.push((<font></font>
            name.to_string(),<font></font>
            read(fs::File::open(dir).unwrap()).unwrap(),<font></font>
        ));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> result = one_with_others(&amp;obj, &amp;objects);<font></font>
    result.sort_by(|a, b| b.<span class="hljs-number">1</span>.partial_cmp(&amp;a.<span class="hljs-number">1</span>).unwrap());
    <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{}\n"</span>, <span class="hljs-string">"_"</span>.repeat(<span class="hljs-number">150</span>));
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{:}"</span>, obj.<span class="hljs-number">0</span>);
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> result {
        <span class="hljs-built_in">println!</span>(
            <span class="hljs-string">"{:&gt;36} |{:&lt;100}| {:&lt;14}"</span>,<font></font>
            objects[line.<span class="hljs-number">0</span>].<span class="hljs-number">0</span>,
            <span class="hljs-string">"▮"</span>.repeat((line.<span class="hljs-number">1</span> * <span class="hljs-number">100.0</span>).round() <span class="hljs-keyword">as</span> <span class="hljs-built_in">usize</span>),<font></font>
            line.<span class="hljs-number">1</span><font></font>
        );<font></font>
    }<font></font>
}<font></font>
<font></font>
</code></pre><br>
</div></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接到源和带有测试场景的Blender项目。</font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接到GitHub。</font></font></a><br>
<br>
<img src="https://habrastorage.org/webt/oh/4p/7s/oh4p7sqgz6j9ti6xi8pjmg73li4.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN490748/index.html">开发人员的任务，或者我们如何在没有供应商的情况下扫描手持式扫描仪</a></li>
<li><a href="../zh-CN490750/index.html">米哈伊尔（Mikhail Salosin）。Golang聚会。在Watch +应用程序的后端中使用Go</a></li>
<li><a href="../zh-CN490754/index.html">Visual Studio代码代码编辑器。为初学者设置和安装插件的最详细指南</a></li>
<li><a href="../zh-CN490756/index.html">将Jenkins部署为代码</a></li>
<li><a href="../zh-CN490758/index.html">数学家证明了湍流的普遍定律</a></li>
<li><a href="../zh-CN490762/index.html">如何预测机票价格？</a></li>
<li><a href="../zh-CN490764/index.html">Grafana，InfluxDB，两个标签和一个量。或如何计算子组的总和？</a></li>
<li><a href="../zh-CN490766/index.html">如何理解初学者，为期望的职业选择哪种语言？</a></li>
<li><a href="../zh-CN490768/index.html">当您从事计算机游戏时：云游戏的内部设备</a></li>
<li><a href="../zh-CN490770/index.html">负有技术债务！在2020年TechLead大会上，我们将向您展示</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>