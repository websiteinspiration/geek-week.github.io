<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤟🏻 🌊 🕺🏿 Ich habe ein Textverarbeitungsprogramm veröffentlicht, das die Festplatte nach jedem 1024. Speichern formatiert 🔞 👨🏽‍🤝‍👨🏻 💟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anfängern von Story-Ingenieuren zu erzählen, wie Sie es einmal ernsthaft vermasselt haben, ist ein guter Weg, um mit dem Betrugssyndrom umzugehen .
 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ich habe ein Textverarbeitungsprogramm veröffentlicht, das die Festplatte nach jedem 1024. Speichern formatiert</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504818/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anfängern von Story-Ingenieuren zu erzählen, wie Sie es einmal ernsthaft vermasselt haben, ist ein guter Weg, um mit dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betrugssyndrom</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> umzugehen </font><font style="vertical-align: inherit;">.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Es war wahrscheinlich 1984-1985. Dann war ich ein 25-jähriger angehender Programmierer mit fünf Jahren Erfahrung. Ich und ein anderer Programmierer haben eine Reihe von Anwendungen geschrieben und unterstützt, die dem heutigen Office ähneln: Tabellenkalkulationen, Textverarbeitung, Datenbank, Plotter usw. Wir haben dieses ganze System für drei bis vier vertikale Märkte eingerichtet [ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hochspezialisierte Geschäftskunden / ca. perev.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe den größten Teil des Textverarbeitungsprogramms selbst geschrieben. Ich habe in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fort geschrieben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und für verschiedene Kombinationen von Betriebssystemen und Prozessoren. Junge Leute sind nicht vertraut, aber damals kamen alle paar Monate neue Mikrocomputer mit einem eigenen speziellen Betriebssystem und einer von mehreren Prozessoroptionen heraus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fort nutzte den Austausch von Blockdaten mit der Festplatte. Jeder Block hatte eine Länge von 1 KB, und um etwas mehr als 1 KB zu sparen, musste mit dem Hauptblock der Datei gearbeitet werden, in dem die Offsets aller Blöcke mit Daten gespeichert waren - tatsächlich waren es einige Listen besetzter und nicht besetzter Blöcke.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um diesen Masterblock zu initialisieren, musste er mit Nullen gefüllt werden. Nun, es fing an. Kurz gesagt, ich habe die Anwendung so geändert, dass sie doppelt so große Dateien wie zuvor unterstützt - und statt 256 Elemente im Masterblock wurden 1024 angezeigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder Eintrag nahm - Aufmerksamkeit - ein Wort aus 16 Bit in Anspruch. Wenn also noch 512 Wörter in meinen 1-KB-Masterblock passen, waren für 1024 Wörter bereits zwei Blöcke erforderlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher habe ich die Anzahl der mit Nullen gefüllten Blöcke geändert, aber die Puffergröße nicht geändert. Wenn Sie mit ungeschütztem Speicher arbeiten und 2048 Nullen in den Bereich von 1024 Bytes schreiben, überschreiben die verbleibenden Bytes jeden zufälligen Müll, den sie im Speicher finden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In meinem Fall stellte sich heraus, dass jeder zufällige Müll der Hauptblock der Betriebssystemfestplatte war. Ja ... Und als ich eine neue Datei initialisierte, die alle 1024. beim Schreiben einer Ein-Block-Datei auftrat, habe ich den Master-Block der Festplatte überschrieben, wodurch alle Dateien von dieser gelöscht wurden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wir haben natürlich diese Version veröffentlicht, die 8-9 Wochen lang funktioniert hat. Und Sie können sich vorstellen, wie viele Anrufe von Kunden wir erhalten mussten. Am Ende rieten wir allen, jeden Tag Backups zu erstellen (was übrigens mit Videobändern durchgeführt wurde). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mich viele Wochen lang telefonisch entschuldigt, während ich mein Programm immer wieder im Debugger ausgeführt habe. Und es ist mir nicht gelungen. Nichts.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann rief eine Frau an und beschrieb sie in farbenfrohen Begriffen - und sie arbeitete im Güterverkehr, also verwende ich jetzt aktiv ihre Beispiele aus dem Bereich der Obszönität -, dass sie eine Sicherungskopie erstellte, ein Textverarbeitungsprogramm startete und er sofort ihre Festplatte säuberte. Sie hat das Backup erneut heruntergeladen und der Prozessor hat ihre Festplatte sofort wieder gelöscht. Sie war wütend. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und stellen Sie sich vor, ich habe zwei Stunden gebraucht, um zu verstehen, wie viel Glück ich hatte. Ich erzählte diese Geschichte meinem Kollegen beim Abendessen, und dann dämmerte es mir - hör auf. Halt. Sofort? Jedes Mal?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich rief sie an und versprach alle irdischen Segnungen, wenn sie nur diese Kassette packen und uns schicken würde. Ich habe ihr versprochen, die Versandkosten zu bezahlen und die monatlichen Zahlungen für unsere Dienstleistungen zu stornieren (mein Chef zögerte keine Sekunde: "Ja, verdammt, wir werden ihre Zahlungen stornieren"). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und schließlich konnte ich diesen Fehler reproduzieren. Und sie hat nicht geschummelt. Das von ihr gespeicherte Backup stellte sich an einem kritischen Punkt heraus: 1023 Backups zum Zeitpunkt der Erstellung. Laden Sie das Backup herunter, speichern Sie die Datei, und das Laufwerk wird garantiert gereinigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht übertreibe ich, aber meiner Meinung nach fand ich das Problem am selben Morgen, als wir den Film bekamen. Es war so leicht im Debugger zu finden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich sah mir einen 2-KB-Block an, der geschrieben werden sollte, und der letzte 1-KB-Block war mit einer Art Müll gefüllt. </font><font style="vertical-align: inherit;">Es kam mir seltsam vor und ich begann zu verstehen. </font><font style="vertical-align: inherit;">Und natürlich war es kein Müll - es waren 1024 Bytes des Festplatten-Masterblocks, die das Betriebssystem neben meinem Dateimasterblock gespeichert hat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe ein Backup "vor" dem Kernel erhalten - ich hatte keinen Core-Dump, aber es gab mir einen garantierten Weg, um zu diesem Defekt zu gelangen. </font><font style="vertical-align: inherit;">Wenn ich kein Glück gehabt hätte, hätte ich ihn nicht gefunden. </font><font style="vertical-align: inherit;">Ich hätte einfach nicht gedacht, dass ich nicht in meinem Gedächtnis, sondern im System schreibe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also ja - Ihr "Master" -Freak hat ein Textverarbeitungsprogramm veröffentlicht, das innerhalb von acht bis neun Wochen die Festplatte des Clients nach jedem 1024. Speichern formatiert. </font><font style="vertical-align: inherit;">Weil ich ein Handwerker bin.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können viel Moral in dieser Geschichte finden, aber hier sind zwei Hauptmotive für jeden Junior:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schreiben Sie niemals numerische Konstanten außer 0, 1 und -1 in Ihren Code.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sei nicht so streng mit dir. </font><font style="vertical-align: inherit;">Alle Ihre weisen Senioren haben ähnliche Geschichten, und einige von ihnen haben viele.</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de504800/index.html">dracut + systemd + LUKS + usbflash = automatische Entsperrung</a></li>
<li><a href="../de504804/index.html">Etwas, das Hühnerbein und iPhone 11 integriert</a></li>
<li><a href="../de504806/index.html">Wir analysieren die Meisterwerke der Malerei mit Hilfe der klassischen ML</a></li>
<li><a href="../de504808/index.html">Hängemattengetriebene Entwicklung - Rich Hickey (mit russischer Übersetzung)</a></li>
<li><a href="../de504812/index.html">Instacart Human Lieferpreis</a></li>
<li><a href="../de504822/index.html">Was ist der Unterschied zwischen "von der FDA zugelassen" und "von der FDA zugelassen"?</a></li>
<li><a href="../de504828/index.html">JUG Ru Group # 4 Online Stream Woche</a></li>
<li><a href="../de504838/index.html">Amazon will unbemannte Zoox Robotsaxi für eine Milliarde kaufen</a></li>
<li><a href="../de504840/index.html">Sicherheitswoche 23: LiveJournal-Passwortleck</a></li>
<li><a href="../de504842/index.html">Rückblick: Wie Elon Musk den Aktienkurs von Tesla beeinflusst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>