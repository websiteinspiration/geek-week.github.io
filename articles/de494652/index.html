<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥧 ⏏️ 💳 Wie viel Marketing kostet ACID? ↘️ 👨🏾‍🤝‍👨🏻 👎🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo alle zusammen. In Kontakt Vladislav Rodin. Ich bin derzeit Leiter des High Load Architect-Kurses bei OTUS und unterrichte auch Kurse über Softwa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wie viel Marketing kostet ACID?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/494652/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo alle zusammen. </font><font style="vertical-align: inherit;">In Kontakt Vladislav Rodin. </font><font style="vertical-align: inherit;">Ich bin derzeit Leiter des High Load Architect-Kurses bei OTUS und unterrichte auch Kurse über Softwarearchitektur. </font></font></i><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie Sie vielleicht bemerkt haben, unterrichte ich neben dem Unterrichten auch urheberrechtlich geschütztes Material für den OTUS-Blog auf dem Haber und möchte mit dem heutigen Artikel zusammenfallen, um den Kurs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Datenbanken"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu starten </font><font style="vertical-align: inherit;">, der jetzt für die Rekrutierung offen ist.</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/iv/po/dw/ivpodwutiqb7mpd1iuwkdzyfg98.png"><br>
<hr><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorwort</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transaktionen erschienen in den 70er Jahren und wurden als Datenbank-Tool zur Lösung der Probleme der Fehlertoleranz und des Datenzugriffs in einem Wettbewerbsumfeld vorgestellt. Dann wurde eine Reihe von Eigenschaften formuliert, die eine Transaktion besitzen muss, um die ihr zugewiesenen Aufgaben zu erfüllen, und die Großbuchstaben dieser Eigenschaften, die in der richtigen Reihenfolge festgelegt wurden, bildeten das schöne Akronym ACID.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Zeitraum, in dem diese Ereignisse stattfanden, war durch das Fehlen hoher Lasten, das Internet und Leistungsprobleme gekennzeichnet, die nur durch vertikale Skalierungsmethoden gelöst werden konnten. In den frühen 2000er Jahren trat in NoSQL-Datenbanken ein Trend auf, die Abkürzung BASE, die eigentlich der klassischen ACID (ACID - Säure, BASE - Alkali) entgegengesetzt war. Jetzt gibt es einen umgekehrten Trend für ACID. Sogar NoSQLs MongoDB unterstützt jetzt ACID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns an, was diese Abkürzung bedeutet und wie viel Marketing sie hat.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ACID repräsentiert 4 Eigenschaften: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A = Atomizität </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C = Konsistenz </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I = Isolation </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D = Haltbarkeit </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns nun über jede Eigenschaft einzeln sprechen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A = Atomizität</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atomizität ist ein überladener Begriff und kann im Zusammenhang mit Transaktionen in einer Datenbank als das Prinzip "alles oder nichts" formuliert werden. Wenn Ihre Transaktion 10 Einfügevorgänge enthält, werden alle 10 ausgeführt (Festschreibungstransaktionen werden ausgeführt) oder keine davon (Rollback-Transaktionen werden ausgeführt). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wird diese Eigenschaft zur Verfügung gestellt? Tatsache ist, dass sich die Daten nicht ändern, wenn eine Transaktion mit denselben 10 Einfügungen in die Datenbank eingeht. Vor einer Transaktion wird die Transaktion direkt in die Daten in einem Protokoll geschrieben, in dem die von ihr vorgenommenen Änderungen aufgezeichnet werden. Dieses Journal kann auch zum Replizieren von Daten verwendet werden, oder es kann völlig unabhängig davon sein, wie ich zum Beispiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier beschrieben habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dank dieses Journals können Transaktionen direkt für die Daten festgeschrieben oder in diesem Fall zurückgesetzt werden. </font><font style="vertical-align: inherit;">Die Regel, dass eine Transaktion so schnell wie möglich geschlossen werden sollte, ergibt sich direkt aus dem Verständnis der Grundsätze für die Implementierung dieser Eigenschaft: Datenbanken dürfen dieses Protokoll häufig nicht bereinigen, während eine Transaktion geöffnet ist, sodass es verstopfen kann, was wiederum zu sehr unangenehmen Konsequenzen führt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C = Konsistenz (Konsistenz oder Integrität)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Bezug auf ACID bedeutet Konsistenz nicht dasselbe wie im Sinne des CAP-Theorems (in der Theorie verteilter Systeme gibt es viele Grade dieser Konsistenz). Mit Konsistenz meinen wir Folgendes: Einige vordefinierte Invarianten des Systems müssen sowohl vor als auch nach der Festschreibungstransaktion ausgeführt werden. Beispiele für Systeminvarianten können dargestellt werden: Die Belastung konvergiert mit dem Darlehen, das Gesamtgehalt der Mitarbeiter überschreitet nicht das Budget, die Anzahl der Mitarbeiter im Unternehmen entspricht der Anzahl der zuvor offenen Stellen usw. In der Datenbanksprache bedeutet dies nur die Erfüllung aller Einschränkungen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Frage nach der Notwendigkeit der Konsistenz auf Datenbankebene ist ziemlich kontrovers, da das Vorhandensein von Einschränkungen darauf hinweisen kann, dass ein Teil der Geschäftslogik von der Anwendung auf die Datenbankebene verschoben wurde, was nicht allgemein als bewährte Methode anerkannt ist. </font><font style="vertical-align: inherit;">Am Ende kann die Anwendung selbst entscheiden, keine ungültigen Daten festzuschreiben. </font><font style="vertical-align: inherit;">Es gibt eine Meinung, dass Konsistenz nur hinzugefügt wurde, um die Abkürzung schön zu machen (Marketing).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich = Isolation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isolation ist eine Datenbankeigenschaft, mit der parallele Transaktionen sequentiell ausgeführt werden können. Schließlich verbietet niemand der Datenbank, mehrere Transaktionen gleichzeitig auszuführen. Es muss sichergestellt werden, dass sie sich nicht gegenseitig beeinflussen, damit keine Anomalien der Form der Rennbedingungen auftreten. Tatsächlich ist es die Isolation, die das Problem des Datenzugriffs in einem Wettbewerbsumfeld löst. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Offenlegung des Begriffs der Isolation aufgrund seines Umfangs verdient einen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gesonderten Artikel.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, weil gerade die Isolation das Herz von ACID genannt werden kann. </font><font style="vertical-align: inherit;">Der Preis für Transaktionsfähigkeit hängt oft vom Preis für die Gewährleistung der Isolation ab, weshalb die Isolation unterschiedliche Ebenen aufweist, von denen jede ihren eigenen Schutz gegen Rennbedingungen bietet und den einen oder anderen Aufwand mit sich bringt. </font><font style="vertical-align: inherit;">Die Isolation ist nur auf der serialisierbaren Ebene vollständig gewährleistet, was sehr schwierig zu implementieren ist und selten benötigt wird.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D = Haltbarkeit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Haltbarkeit sagt uns, dass eine Transaktion, wenn sie angewendet wurde, auf keinen Fall verschwinden sollte. </font><font style="vertical-align: inherit;">Tatsächlich bedeutet dies Folgendes: Wenn die Datenbank geantwortet hat, dass eine Transaktion festgeschrieben wurde, wurde die Transaktion in den nichtflüchtigen Speicher festgeschrieben. </font><font style="vertical-align: inherit;">Dies bedeutet, dass der fsync-Systemaufruf aufgetreten ist, dh die Puffer wurden auf die Festplatte geleert und mit OK beantwortet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haltbarkeit ist auch ein Marketingbegriff, da er nicht vollständig bereitgestellt werden kann. Selbst wenn wir die künstlichen Szenarien des „Brennens der Erde durch Außerirdische“ verwerfen, nach denen es überhaupt keine Datenbanken oder Transaktionen mehr gibt, eher extreme Szenarien der physischen Zerstörung einer bestimmten Festplatte, auf der die Transaktion aufgezeichnet wurde, können wir uns daran erinnern, dass der Aufruf des fsync-Systems Garantien bietet Schlagen einer Festplatte in der Steuerung, die wiederum noch einen flüchtigen Puffer enthält. Die dafür aufgewendete Zeit ist kurz, aber nicht gleich 0. Wenn Sie den Strom genau zum „richtigen“ Zeitpunkt abschalten, kann die Transaktion dennoch verloren gehen!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl das Problem mit fsync in einer teuren Oracle-Datenbank gelöst wurde, kann uns nichts vor den Problemen schützen, die mit der physischen Zerstörung des Computers verbunden sind. </font><font style="vertical-align: inherit;">Wir können Garantien nur durch Backups und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Replikation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erhöhen </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotz der Tatsache, dass ACID sehr interessante Eigenschaften wie Atomizität und Isolation bietet, sind einige dieser Eigenschaften nur Marketingzwecke und sogar für ihre Genauigkeit im Vergleich zu BASE bekannt. ACID stellt jedoch nicht vollständig sicher, dass keine Transaktionsverluste möglich sind und dass sich die Ergebnisse auswirken gleichzeitige Transaktionen untereinander ausführen (Isolation muss noch konfiguriert werden!).</font></font><br>
<hr><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir laden alle zu einer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kostenlosen Lektion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zum Thema ein: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ein Modell für die Arbeit mit Daten in PostgreSQL</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><b><i><font style="vertical-align: inherit;">"</font></i></b></font><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de494642/index.html">Karmische Indikatoren</a></li>
<li><a href="../de494644/index.html">Automatisierung eines Journalisten. Teil 2. Arbeiten mit Lautsprechern</a></li>
<li><a href="../de494646/index.html">Das Leben der Analytik führt oder "Ich dachte, Sie würden es selbst tun"</a></li>
<li><a href="../de494648/index.html">Wir analysieren die Probleme von GOST R 53894-2016 „Wissensmanagement. Begriffe und Definitionen"</a></li>
<li><a href="../de494650/index.html">Suchen Sie in allen Wörtern der Sprache nach Anagrammen und Sabanagrammen</a></li>
<li><a href="../de494658/index.html">Verwendung von Merkmalen für polymorphe Beziehungen in Laravel</a></li>
<li><a href="../de494660/index.html">CSS Houdini Tutorial</a></li>
<li><a href="../de494662/index.html">Unser Raum - ist es so schlimm?</a></li>
<li><a href="../de494664/index.html">Wie die Implementierung von Sicherheitsprozessen den Übergang zur Remote-Arbeit erleichtert</a></li>
<li><a href="../de494666/index.html">Funde eines Audiomannes: Wo kann man die Musik vergangener Epochen hören?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>