<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🤝‍👨🏻 😌 👨‍👨‍👦‍👦 And a mouse and a frog. Universal Compiler ✋ 👩🏼‍🔧 ⛹🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In a series about reliable programming [1], [2] Swift remained undeservedly forgotten. To be honest, I just did not consider it cross-platform, but wo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>And a mouse and a frog. Universal Compiler</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489708/"><img src="https://habrastorage.org/webt/cp/dm/ol/cpdmol50cor9fv53vzs_yjiv1y4.png" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In a series about reliable programming [1], [2] Swift remained undeservedly forgotten. To be honest, I just did not consider it cross-platform, but working exclusively for macOS / iOS. It happened by chance that Swift is also supported by a development environment such as </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RemObjects Elements</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It turned out she had a Universal Compiler. Can compile programs in C #, Go, Java, Oxygene Object Pascal, Swift for: Android, Cocoa (MacOS, iOS, tvOS), JVM, Linux (x64, armv6, aarch64), .NET / .NET Core / Mono, Native Windows (x86 / x64), WebAssembly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And it does this in almost any combination of language → target system! For example, you can write a program in Java that will use WPF for the target .NET platform, and this is all in the examples that come with the package.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, I present a mini-note about RemObjects Elements, and at the same time about the reliability of the two languages ​​supported in it - Swift and Oxygene.</font></font><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure from </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">radionetplus</font></font></a> <br>
</p><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And in addition to discussions about the problem of interoperability of different runtimes - native, JVM, .NET, GC, ARC, it turned out to be simply unbelievable, and in both senses - since during discussions we came to the conclusion that normal IO is impossible.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Briefly about RemObjects Elements</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is either an independent development environment with a debugger, including a remote one, and code completion for Windows or macOS, or it integrates with Visual Studio, and Xcode is required for Cocoa. For Swift, it’s free, for the rest it costs from $ 199 for the version for personal projects, up to $ 799 for a commercial license for all languages. For work with client - server DBMS it is necessary to pay extra substantially. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Water is the name of the Windows version, it’s quite ascetic, it doesn’t have a visual form editor, but sympathizes with strictness, and the installer takes only 700MB, of course, not including JRE, .NET, Android NDK, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To scold her, or I will not praise much, she performs her functions, she has never fallen (but memory is flowing). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The bonus to the IDE is a lot:</font></font><br>
<br>
<ul>
<li>  ( Water  ,     -)</li>
<li></li>
<li> -</li>
<li>      C#, Swift, Java, Delphi, C, Obj-C  Oxygene, C#, Swift, Java, Go</li>
<li>   Go-  .  Go    </li>
<li>  - </li>
<li>    Delphi/VCL</li>
</ul><br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, there is a small catch for those who think that (c) you can just take and transfer any program to another platform. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The OI here is that the program can only use the capabilities of its RTL _and_ target platform for all languages ​​and their combinations. That is, for the purpose of .NET, you can use WPF, but not rt.jar, but for Native, only WinAPI or GTK, respectively. But the base library written in Oxygene is available everywhere, as is the layer of migration with Delphi - by the way they are available </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">on the github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A project can include subprojects in different languages ​​supported by RO. And with the import of external libraries, there are also well-developed options.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memory management will be used from a target platform such as ARC for Cocoa. </font><font style="vertical-align: inherit;">I did not go into details, for Native GC is used by default, although there is a choice - it is checked, there is in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my project on github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Add one observation. </font><font style="vertical-align: inherit;">If the program was written under manual memory management (malloc / free), it will work simply under ARC. </font><font style="vertical-align: inherit;">And if the program was under ARC, then it will work without changes under the GC (except for immediate destruction).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reliability </font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oxygene</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is basically an old familiar Object Pascal, but on steroids. </font><font style="vertical-align: inherit;">The Oxygene for .NET version was also marketed as Delphi Prism. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It looks safer due to:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gc </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nullable control support </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">availability of contracts and invariants</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">identity register control</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the ability to control the indentation of begin / end pairs (it is not clear how it works)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">locked / lazy thread safe class methods</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">using using, in the sense of RAII</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minuses. </font><font style="vertical-align: inherit;">GC also has a downside - temporary non-determinism, excessive memory consumption. </font><font style="vertical-align: inherit;">You can also write down the disadvantages that the scale of the company and the community is small, and therefore there are </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">probably</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> more </font><font style="vertical-align: inherit;">implementation errors </font><font style="vertical-align: inherit;">than for techno monsters. </font><font style="vertical-align: inherit;">The documentation is weak, and the native framework is minimal, which can pull a bunch of “bikes” into projects if your target is not .NET or JRE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the technical side, it added sugar relative to Delphi:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">async / await / future, await - so far only for .NET</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LINQ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">generic / dynamic types (different from Delphi)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tuples</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sequence / yield</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string interpolation</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interlude. </font><font style="vertical-align: inherit;">C #</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was previously eliminated due to limited cross-platform, but with the release of .NET Core 3, and the advent of the native compiler, including for Linux, it became a little better. </font><font style="vertical-align: inherit;">Additionally, the language is equally supported in RemObjects with an arbitrary selection of targets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actually, with reliability, C # is more or less all right. </font><font style="vertical-align: inherit;">GC spoils the beauty, not very comfortable working with nullable, which leads to regular NPEs, the ability to get an exception from an innocent looking function, and problems with unsuccessful use of LINQ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Due to GC and resource consumption, it is not very suitable for Embedded. </font><font style="vertical-align: inherit;">Moreover, only the interpreter without JIT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET Micro Framework has been</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abandoned </font><font style="vertical-align: inherit;">for embedd </font><font style="vertical-align: inherit;">since 2015, although it was developed as </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TinyCLR</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now about </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swift</font></font></a></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By and large, a C-like machine-compiled language, one of the newest and created taking into account the history of its predecessors. Made by Apple for itself, the official compiler is still under Ubuntu, transferred to Open Source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Opportunities at the level of reliability paid decent attention. I can complain about the possibility of changing constant classes and the possibility of confusing a reference class with a structure - a value, however here as in C #. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memory management is in the original ARC, and RemObjects for platforms other than Apple has GC. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heavy for Embedded, no real-time abilities.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The rest that I would like to see is almost everything. There are no contracts (there are non-standard extensions in RemObjects), but some kind of emulation is possible through Property Observers or @propertyWrapper that appeared in 5.2 ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">has not yet been implemented</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in RemObjects </font><font style="vertical-align: inherit;">) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tuples should be noted, parameter names functions, </font></font><code>array.insert(x, at: i)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">explicit unwrap for Optional, and generally thought out work with it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An essential nuance, I would call the evolution of language. Many examples from the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">official tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (5.2) simply do not work on the same Repl.it (5.0), not to mention RemObjects, which are </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unclear which versions correspond exactly</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The implementation in RemObjects differs from the reference one - Array is referenced here, and String is immutable, and the interfaces also differ from those described in the tutorial, and the library interfaces not only have their own, but vary slightly between platforms. </font><font style="vertical-align: inherit;">Which brings some variety to the boring coding process =) The </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">final summary updated reliability table</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Actually, I remind you that this is only superficial according to the reference data, and all the pros who write in these languages ​​are invited to hard edits.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compilation quality</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's try to make a Swift program similar to the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Levenshtein distance in the article</font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0xd34df00d</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and compare it with the programs from there.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swift</font></font></b><div class="spoiler_text"><pre><code class="swift hljs"><span class="hljs-comment">/*    
	  Windows.Native, Elements.Island
*/</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span> </span>{
	 <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">LevDist</span><span class="hljs-params">(<span class="hljs-number">_</span> s1: [UInt8], <span class="hljs-number">_</span> s2: [UInt8])</span></span> -&gt; <span class="hljs-type">Int32!</span> {
		 <span class="hljs-keyword">let</span> m = s1.<span class="hljs-built_in">count</span>
		 <span class="hljs-keyword">let</span> n = s2.<span class="hljs-built_in">count</span>
		 <span class="hljs-comment">//  Edge cases.</span>
		 <span class="hljs-keyword">if</span> m == <span class="hljs-number">0</span> {
			 <span class="hljs-keyword">return</span> n<font></font>
		 } <span class="hljs-keyword">else</span> {
			 <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span> {
				 <span class="hljs-keyword">return</span> m<font></font>
			 }<font></font>
		 }<font></font>
<font></font>
		 <span class="hljs-keyword">var</span> range = <span class="hljs-type">Range</span>(<span class="hljs-number">0</span> ... (n + <span class="hljs-number">1</span>))
		 <span class="hljs-keyword">var</span> v0: <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">Int64</span>&gt; = range.<span class="hljs-type">GetSequence</span>()  <span class="hljs-comment">//17ms</span><font></font>
<font></font>
<span class="hljs-comment">//         var v1 = v0;    // in Swift must copy, but RO make a ref</span>
		 <span class="hljs-keyword">var</span> v1 = <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">Int64</span>&gt;(v0);<font></font>
<font></font>
		 <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>
		 <span class="hljs-keyword">while</span> i &lt; m {<font></font>
			 v1[<span class="hljs-number">0</span>] = i + <span class="hljs-number">1</span>
			 <span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>
			 <span class="hljs-keyword">while</span> j &lt; n {
				 <span class="hljs-keyword">let</span> substCost = (s1[i] == s2[j] ? v0[j] : v0[j] + <span class="hljs-number">1</span>)
				 <span class="hljs-keyword">let</span> delCost = v0[j + <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>
				 <span class="hljs-keyword">let</span> insCost = v1[j] + <span class="hljs-number">1</span>
				 v1[j + <span class="hljs-number">1</span>] = substCost &lt; delCost ? substCost : delCost
				 <span class="hljs-keyword">if</span> insCost &lt; v1[j + <span class="hljs-number">1</span>] {<font></font>
					 v1[j + <span class="hljs-number">1</span>] = insCost<font></font>
				 }<font></font>
				 j += <span class="hljs-number">1</span><font></font>
			 }<font></font>
<font></font>
			 <span class="hljs-keyword">let</span> temp = v0; v0 = v1; v1 = temp <span class="hljs-comment">// copy refs</span>
			 i += <span class="hljs-number">1</span><font></font>
		 }<font></font>
		 <span class="hljs-keyword">return</span> v0[n]<font></font>
	 }<font></font>
 }<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">var</span> b1 = [<span class="hljs-type">UInt8</span>](repeating: <span class="hljs-number">61</span> <span class="hljs-keyword">as</span>! <span class="hljs-type">UInt8</span>, <span class="hljs-built_in">count</span>: <span class="hljs-number">20000</span>)
<span class="hljs-keyword">var</span> b2: [<span class="hljs-type">UInt8</span>] = b1
<span class="hljs-keyword">var</span> b3 = <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">UInt8</span>&gt;(repeating: <span class="hljs-type">UInt8</span>(<span class="hljs-number">63</span>), <span class="hljs-built_in">count</span>: <span class="hljs-number">20000</span>)<font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Start Distance"</span>);<font></font>
<font></font>
<span class="hljs-keyword">var</span> execTimer: <span class="hljs-type">StopWatch!</span> = <span class="hljs-type">StopWatch</span>()<font></font>
execTimer.<span class="hljs-type">Start</span>()<font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-type">Program</span>.<span class="hljs-type">LevDist</span>(b1, b2))
<span class="hljs-built_in">print</span>(<span class="hljs-type">Program</span>.<span class="hljs-type">LevDist</span>(b1, b3))<font></font>
<font></font>
execTimer.<span class="hljs-type">Stop</span>()<font></font>
<font></font>
<span class="hljs-keyword">var</span> execTime: <span class="hljs-type">Float64</span> = execTimer.<span class="hljs-type">ElapsedMilliseconds</span> / <span class="hljs-number">1000.0</span> / <span class="hljs-number">10</span><font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\(execTime) s"</span>)
<span class="hljs-keyword">return</span> <span class="hljs-number">0</span></code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The rest with minimal changes, although of course the most severe flaws, I trimmed </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">on github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Those who are not afraid and too lazy to download the environment and compile, there are also binaries there, if you wish, you can run relatively safe JVM and NET options, or in the sandbox. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The changes relate to the edits for RO, the removal of Encoding.UTF8.GetBytes from the measurement part, and it turned out that in the Pascal version the formation of lines in the form </font></font><code>for i := 1 to 20000 do s1 := s1 + 'a';</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can take up to 4 minutes (outside the measurement part). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Results table (normalized by Java as universal)</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tongue</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platform</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compiler</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Time s</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Norm</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameters</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET4.7 </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET4.7.3062</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13,075</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">445%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-o +</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET Core 3.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elements 10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11,327</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">385%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">release,&gt; dotnet cs.dll</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Win x64</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elements 10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6,312</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">215%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">release</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jvm</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK 1.8.0.242</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2,941</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-g: none </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 $ java LevDist</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jvm</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elements 10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2,851</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">97%</font></font></td>
<td>release<br>
 $java -jar java8.jar</td>
</tr>
<tr>
<td>Oxygene</td>
<td>NET4.7</td>
<td>Elements 10.0</td>
<td>22,079</td>
<td>751%</td>
<td>release, range checking off</td>
</tr>
<tr>
<td>Oxygene</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>9,421</td>
<td>320%</td>
<td>release, range checking off</td>
</tr>
<tr>
<td>Swift</td>
<td>JVM</td>
<td>Elements 10.0</td>
<td>23,733</td>
<td>807%</td>
<td>release<br>
 $java -jar swiftjvm.jar</td>
</tr>
<tr>
<td>Swift</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>131,400</td>
<td>4468%</td>
<td>release</td>
</tr>
<tr>
<td>Go (Beta)</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>89,243</td>
<td>3034%</td>
<td>release</td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It would be interesting to test WASM, but I missed this point. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The measurements were carried out in a virtual machine with Win7, which slowed this task down by about three times relative to my real hardware, the average was taken from 5 measurements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So far there is only one conclusion - life on Swift is also possible outside the apple ecosystem. </font><font style="vertical-align: inherit;">But so far not fast. </font><font style="vertical-align: inherit;">The hypothesis that there is a problem with Win7, because the Win10 SDK is used for native compilation, has not been confirmed - on Server 2016 1607 the times are about the same. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[1] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reliable programming in the context of languages ​​- noob review. </font><font style="vertical-align: inherit;">Part 1</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
[2] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reliable programming in the context of languages. </font><font style="vertical-align: inherit;">Part 2 - Challengers</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489692/index.html">Using RabbitMQ with MonsterMQ Part 3</a></li>
<li><a href="../en489696/index.html">How bioacoustics helps explore the animal kingdom</a></li>
<li><a href="../en489700/index.html">Where to go: the next free events for developers in Moscow (February 25 - March 11)</a></li>
<li><a href="../en489704/index.html">Digital events in Moscow from February 24 to March 1</a></li>
<li><a href="../en489706/index.html">Digital events in St. Petersburg from February 24 to March 1</a></li>
<li><a href="../en489710/index.html">How to restore a LED lamp in 2 minutes with minimal skills in working with a soldering iron and knowledge of electronics</a></li>
<li><a href="../en489712/index.html">Simultaneous Ajile (under-jail) and Waterfall projects</a></li>
<li><a href="../en489716/index.html">Changing project requirements is a key software development issue</a></li>
<li><a href="../en489722/index.html">Temperature and humidity meter on the Arduino controller with the display of values ​​on the LCD display</a></li>
<li><a href="../en489724/index.html">What services do you miss?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>