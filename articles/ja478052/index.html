<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😱 🕑 📚 ゴミのレベルを測定するセンサーをやったように 👸 ✌🏼 🧔🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我が国のごみ収集率は、発生するごみの量をもとにまもなく計算されます。そしてすぐに、ウォレットに直接影響するこのボリュームをどのように測定するかという問題が生じます。最も効果的なのは、コンテナ内の廃棄物量の測定です。この記事は、この工学の解決と部分的に生態学的な問題に専念しています。
 
 
 図1-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ゴミのレベルを測定するセンサーをやったように</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478052/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我が国のごみ収集率は、発生するごみ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の量をもとに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まもなく</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">計算され</font></a><font style="vertical-align: inherit;">ます。そしてすぐに、ウォレットに直接影響するこのボリュームをどのように測定するかという問題が生じます。最も効果的なのは、コンテナ内の廃棄物量の測定です。この記事は、この工学の解決と部分的に生態学的な問題に専念しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5d/vn/l2/5dvnl2kbioavprggwpjbg4yooqk.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図1-電子的手段を使用しないコンテナの満杯レベルの測定</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
制作会社Big Troika LLCの電子機器開発部門を担当しています。同社は廃棄物管理の自動化に取り組んでいます。地域の廃棄物管理スキームや地域オペレーター向けの自動制御システムについて何か聞いたことがある場合は、それらを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発して実装</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">した可能性が非常に高い</font><font style="vertical-align: inherit;">です。私の部署は小さいですが、非常に興味深いタスクに取り組んでいます。ごみ収集車の群れを管理するためのテレマティクスコントローラー、埋め立て地のさまざまな自動化、コンテナープラットフォーム、コンテナー自体です。</font><abbr title="これは、MSW（都市固形廃棄物）またはMSW（都市固形廃棄物）です。 しかし、日常生活ではそれを「ゴミ」と呼んでいます。"><font style="vertical-align: inherit;">廃棄物</font></abbr></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
用</font><font style="vertical-align: inherit;">コンテナ</font></font><abbr title="物理量について話す場合、体積を測定するのが最も適切です。 しかし、いくつかの理由により、「満杯のレベル」という用語が定着しました。"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レベル</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">センサーの開発についてお話し</font><abbr title="物理量について話す場合、体積を測定するのが最も適切です。 しかし、いくつかの理由により、「満杯のレベル」という用語が定着しました。"><font style="vertical-align: inherit;">ます</font></abbr></font><abbr title="これは、MSW（都市固形廃棄物）またはMSW（都市固形廃棄物）です。 しかし、日常生活ではそれを「ゴミ」と呼んでいます。"><font style="vertical-align: inherit;"></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このようなデバイスのタスクは、コンテナーに注がれたごみの量を測定し、このデータをサーバーに転送してさらに処理することです。</font><font style="vertical-align: inherit;">すでに現在、量産料金の導入前に、そのようなセンサーからのデータは</font></font><abbr title="コンテナーサイトは、ごみコンテナーが置かれている自宅の近くの場所です。 日常生活では、単に「ごみ」と呼ばれることがよくあります。"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテナーサイト</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の使用を最適化するのに非常に役立ち</font><abbr title="コンテナーサイトは、ごみコンテナーが置かれている自宅の近くの場所です。 日常生活では、単に「ごみ」と呼ばれることがよくあります。"><font style="vertical-align: inherit;">ます</font></abbr><font style="vertical-align: inherit;">。</font><abbr title="コンテナーサイトは、ごみコンテナーが置かれている自宅の近くの場所です。 日常生活では、単に「ごみ」と呼ばれることがよくあります。"><font style="vertical-align: inherit;">コンテナー</font></abbr><font style="vertical-align: inherit;">からの廃棄物は、厳密に定義された期間内に輸送され、ごみ収集車の空の走行距離は最小限に抑えられ、コンテナーサイトのコンテナーの数量と品質は最小限に抑えられる必要があります。</font></font><abbr title="廃棄物発生者-廃棄物が発生する過程での個人および法人、個人起業家（居住者、企業、およびあらゆる所有形態の組織）。"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">廃棄物発生者</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のニーズに最大限に応えます</font><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテナの満杯度を測定する方法</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンテナ自体のように、コンテナの内容物は、産業オートメーション用の新しい材料ではありません。したがって、物理量を測定するための技術的ソリューションの方法は非常によく知られており、予測可能です。コンテナの満杯度を判別するために市場で入手可能な機器を見ると、2つの一般的なタイプのソリューションが区別できます。それは、光学（赤外線）と音（超音波）です。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GoodWAN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">製品は光学ソリューションの例として、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Wasteout</font></a><font style="vertical-align: inherit;">製品</font><font style="vertical-align: inherit;">は音響</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューションの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例として使用できます</font><font style="vertical-align: inherit;">。電子レンジもありますが、聞いたことがあるほどエキゾチックなものですが、少なくとも実際の製品を参考にする必要はありませんでした（もちろん手に持っていることは言うまでもありません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのソリューションの技術的な複雑さのレベルも異なります。たとえば、健全なものの中には、「レンジファインダーとしての中国の安価な駐車センサー」のような比較的原始的なアプローチと、さまざまな形状のパルスのセットに対する超音波センサーの応答を分析することにより、充填されていないボリュームの幾何学的パラメーターを決定するためのより興味深いアプローチの両方があります。尊敬を呼び起こしますが、多くのニュアンスがあるソリューション、たとえば、取得した測定結果の廃棄物の音響特性への依存性。光学的解決策の中で、コンテナの反対側の壁に取り付けられたセンサーの受信部分と送信部分の間の光線の交差によって、充満レベルの簡単な決定でエレガントに会うことができました。複数のビームがあるため、不均一な充填時にセンサーが誤動作する問題はありません。大まかに、目に見えて、信頼できますが、「センサーの上のレベル」または「センサーの下のレベル」の2つの測定結果しかありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つの2つのソリューション</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
既存の製品と小さなブレーンストーミングセッションを検討した後、さまざまなアプローチの利点を組み合わせることにしました。測定範囲の幅と音センサーの解像度と同時に、光センサーの予測可能性を取得することです。</font><font style="vertical-align: inherit;">その結果、</font><font style="vertical-align: inherit;">シャープの</font><font style="vertical-align: inherit;">赤外線距離計</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GP2Y0A02YK0F</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が実験用に選択されました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ip/de/n4/ipden4ut8cygh1y0wzax_yihedg.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図2-プロトタイプボードに取り付けられた距離計</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなデバイスの動作原理：集束ビームはターゲットを照らし、ターゲットから反射されたビームはセンサーに戻り、感光定規を照らします。</font><font style="vertical-align: inherit;">ラインのどのセルが照らされているかによって、反射角度が決定され、ターゲットまでの距離が反射角度によって決定されます。</font><font style="vertical-align: inherit;">測定結果は、電圧が距離に比例して変化するアナログ信号として提供されます。</font><font style="vertical-align: inherit;">ユーザーのために残っているのは、この電圧の大きさを測定し、距離計のドキュメントからの情報に従って、測定された電圧に対応する距離を計算することです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モップハンドルとその他の脆弱性</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなセンサーを使用してコンテナーのレベルを測定する場合の明らかな脆弱性は何ですか？主なものは2つあります。汚れと、レンジファインダービームの経路に挟まれた細くて長い物体（モップのハンドルなど）です。センサーハウジングの透明な窓の不可避な汚れは、最終的にビームの拡散と読み取り値の歪みにつながります。ビームの経路の空のコンテナに「正常に」配置されたモップハンドルは、誤った充満の形で測定結果を引き起こします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/u6/pf/7y/u6pf7ycxwz1-vddfzyv9f8k-vqy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3-レンジファインダービームの経路にあるモップハンドル。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの脆弱性は、技術的方法と管理方法の両方を使用して対処できます。 1つではなく2つの距離計を使用すると、「モップハンドル」を回避できます。透明なケースウィンドウを定期的に掃除すると、汚れを防ぐことができます。しかし、これはすべて先を行っています。その間、実際に私たちが選択した技術的ソリューションの妥当性を確認するために、デバイスのテストバージョンに1つのレンジファインダーを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
疑わしい脆弱性を回避する方法をモデル化することに加えて、距離計の技術的限界をチェックしました。たとえば、出力電圧の温度ドリフトを調査しました。下のグラフでは、温度変動による出力電圧の変化を確認できます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/1d/fh/ca/1dfhcaqjd1ot9-7jqcmpr8gxjpw.png"></a><br>
<i> 4 —   —    ;   —  ,      .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
距離計の電圧は温度とともに低下し、-12°C未満では電圧ドリフトが遅くなります。電圧降下は約50 mVです。これは、実際には200〜500 mmの距離での測定距離の誤差がわずか±10 mmであることを意味します。私たちのタスクでは、そのような精度で十分です。興味深いことに、レンジファインダーの公開ドキュメントには温度ドリフトに関する情報は含まれていませんが、出力電圧±150 mVの非常に広い許容範囲が示されています。製造元は、レンジファインダーのパフォーマンスを-10°Cまでしか保証していません。実際には、私たちはこれらの距離計を実験室や冬の他のプロジェクトの施設でテストしました。それらは最大-30°Cまで安定して動作し、耐用年数と測定の精度に影響を与えません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
取得されたデータの正確さを備えたこれらのすべてのニュアンスでは、充満センサーを測定機器に起因させることができません。デバイスをインジケーターのクラスとして分類する方がより正確です。</font><font style="vertical-align: inherit;">ただし、これはタスクをまったく妨害しません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ転送方法</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでも、ほとんどすべての場合、セルラーモバイル無線ネットワークで動作するか、プライベートLPWAN（エネルギー効率の良い長距離ネットワーク）で動作するという2つのアプローチが考えられます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zv/a6/e7/zva6e7rnqkplfnemp60vhlfhyz8.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図5-プロトタイプボード上のSIMCom SIM800無線モジュール、Mobinus Tri 4セラミックアンテナ、SIMカードホルダー。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
そのようなネットワークは世界中に大規模に展開され、地域のセンサー配置に使用されるカバレッジの印象的なパーセンテージを持ち、大規模な財務および人的資源を持つ大企業がこれらのネットワークのサービスに従事しているため、セルラーネットワークでの作業は良好です。モバイルオペレーターと適切な契約を結び、彼から便利で有利なレートを受け取っただけで十分です。それはすべてです。SIMカードをまとめて取り出し、デバイスに装着します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの明らかな欠点は、事業者への経済的依存（サービスの消費者の料金にセルラー通信のコストを含める必要があり、その結果、サービスのコストが顧客の不満とともに増加する）と、少量のデータを送信するエネルギー効率が低いことです。低エネルギー効率について詳しく説明します。数時間ごとに数十または2バイトの情報を送信する必要がある場合は、無線モジュールをオンにして、モジュールがセルラーネットワークに登録されるのを待ってから、SMSを送信するか、インターネットへの接続セッションを開いてください。これらのすべてのプロセスは、瞬間的なものからはほど遠く、数十秒単位の時間がかかります。つまり、数十バイトがオンエアされた無線モジュールの動作のミリ秒（またはマイクロ秒）の場合、数十秒の作業があります。この転送プロセスのサービスのオーバーヘッドに費やしました！ 2Gネットワ​​ークで動作する無線モジュールを使用すると状況は悪化します（これらは依然として電子部品の現代市場で最も人気があり安価なモジュールです）：多くの国では2G規格のサポートはすでに無効になっており、他の多くの国では優先度の低い残余ベースでサポートされていますサービス。この場合、ネットワークでの登録時間が増加し、登録がまったく拒否される場合があります。つまり、電力のオーバーヘッドコストが再び増加します。妥協点を見つけるために、NB-IoTは4Gネットワ​​ークの標準の1つとして開発されました。それはすでに機能していますが、まだ印象的ではありません。ロシアのカバレッジエリアは2Gネットワ​​ークのそれよりも小さいですが、エネルギー消費とオーバーヘッドははるかに少ないですが、移行のすべてのリスクを正当化するには十分ではありません。NB-IoTにより、近い将来すべてが改善され、この標準への移行が、死にゆく2Gネットワ​​ークからの真の救済となることを私たちは本当に望んでいます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LPWANネットワークでの作業は、エネルギー効率の点でほぼ理想的です。ただし、大きな欠点が1つあります。これがインフラストラクチャです。あなたはすでにそのようなネットワークを持っているパートナーを探すか、あなた自身のネットワークを育てる必要があります。そして、すべての企業がそのような一歩を踏み出す準備ができているわけではありません。被害妄想の懸念の原因があります。そのようなネットワークは、携帯電話のネットワークよりも悪意のある行為をはるかに簡単に「実行」できます。そして、攻撃者への影響は完全に異なります。原則として、モバイルオペレーターは独自の深刻なセキュリティサービスを備えており、管轄の州当局からタフでタイムリーな対応を迅速かつ効率的に引き起こすことができます。ほとんどの場合、LPWANネットワークオペレーターはそのようなリソースを持っていません。それにもかかわらず、LPWANネットワークで機能するためのソリューションが市場に出回っています。そして、それらを提供する企業は、顧客サイトにネットワークを配備する準備ができています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでのところ、私たちは自分自身でエネルギー消費に効果がないことを選択することに決めましたが、実証済みの方法-2Gネットワ​​ークでのSMSメッセージを介したデータ転送。</font><font style="vertical-align: inherit;">しかし、NB-IoTに向けて、私たちは熱心かつ熱心に見ています！</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バッテリー</font></font></h2><br>
<img src="https://habrastorage.org/webt/88/ze/sd/88zesdrbxkg4jp7vhqxew6ch3eg.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図6-異なるメーカーのリチウムチオニルクロリドAAバッテリー。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
長い耐用年数、低い自己放電電流、高い比容量、および幅広い動作温度が必要な場合、選択肢は1つしかありません-塩化リチウム-チオニルバッテリー（Li-SOCl2）。彼らの魅力は、上記の特性をすべて同時に提供することです！ただし、すべての費用を支払う必要があります。Li-SOCl2の「バッテリー」の場合は、文字通り（価格は比較的高い）および比喩的にの両方です。実際、これらの要素は非常に高い内部抵抗を持っています（同様の質量とサイズの特性を持つバッテリーと比較すると、別の「化学的性質」）。また、これらの素子の電極表面にはパッシベーション膜が形成されており、内部抵抗がさらに高くなっています。製造元は、要素のドキュメントで非パッシベーション手順を具体的に説明しています。運転を開始する前に、一定の電流を一定時間素子に負荷する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バッテリーの高い内部抵抗の何が悪いのですか？大電流を流せない。また、製造業者が2G無線モジュールに要求するこれらの要素のピーク2 Aは非常に高い電流であるため、リチウムチオニルクロリド要素に直接接続してこれらのモジュールを動作させることはほとんど不可能です。サイズC（およびそれ以上）の比較的大きくて高価なLi-SOCl2要素の使用のみを節約し、特別な「高電流」バージョン（電極の巻き方が「通常」バージョンとは異なります）でも節約します。まあ、容量のインストールは無線モジュールの電源回路で大きくなりますが、寄生抵抗とインダクタンスは低くなります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zu/ey/5t/zuey5tsygxdafepnue-5leoqdgq.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図7-プロトタイプボードに取り付けられたEEMBの2つのLi-SOCl2セルER14505。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームサイズCの要素のコストと寸法に多少混乱し、フレームサイズAAの2つの直列接続要素と降圧パルスコンバーターの使用という別のアプローチが見つかりました。</font><font style="vertical-align: inherit;">この場合、SMSメッセージを送信するのに十分な時間の無線モジュールの安定動作には、2つの「大電流」要素で十分であり、特定のトリックと制限が電源管理アルゴリズムに導入されると、AAサイズの「通常の」Li-SOCl2要素でさえも！</font><font style="vertical-align: inherit;">ベンチテストが示した：2つの直列接続された要素は、無線モジュールの通信出力数の要素の合計容量に対する比率を示し、フレームサイズCの単一の要素よりも優れ、フレームサイズCの単一の「大電流」要素よりもわずかに悪い。非常にまともな結果。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトタイプとベンチテストの組み立て</font></font></h2><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/rk/cs/gj/rkcsgjzmusj-ulqumcpuyyjje_0.png"></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図8-DipTraceソフトウェアパッケージ内の回路とプリント回路基板の設計。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
将来のデバイスの主要な要素を決定した後、プロセスはサムトラックに沿って進みました。私は回路図とプリント基板を開発しました。インストーラー-インストーラーは、生産から得られた基板にコンポーネントのレイヤーを「スプレー」しました。その後、ボードはマイクロコントローラープログラマーの手に渡り、プログラマーはテストファームウェアの形で新しいデバイスに命を吹き込み始めました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6t/jf/cx/6tjfcxwcqyvpi2wnp4fevgnwpi4.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図9-コンポーネントが取り付けられたプロトタイプの回路基板。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストファームウェアの主なタスクは、無線モジュールの障害統計を迅速に蓄積し、距離計からの実際の測定結果で十分なデータを提供することです。小さな会議室は、プロトタイプをオフィス環境に設置するのに最適でした。デバイスは壁に取り付けられ、距離計によって従業員が1日に何度も開閉するドアに送られました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/co/8g/rbco8gi111trcbzpxrmi3redkau.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図10-吊り下げられたバッテリーホルダー付きのプロトタイプボード（右）が半開きドア（左）に向けられています。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
電源を入れた後、デバイスはSMSメッセージを人間が読める形式で送信し始めました。重要な情報が含まれています。小さな負荷と重い負荷の供給電圧、レンジファインダーからの一連の測定値、デバイスボードの周囲の気温、およびメーターのペアです。 1つのカウンターは無線がオンになっている回数をカウントし、もう1つのカウンターは送信されたメッセージの数をカウントします。これらの2つのカウンターによれば、無線モジュールがネットワーク登録の問題に遭遇した回数（メッセージ送信の段階に達する前に）と送信されたメッセージの数をすぐに確認できます。メッセージの番号付けにより、見落としたSMSを視覚的に識別できます。ちなみに、温度センサーにはもう1つの重要な機能があります。運が良ければ、デバイスにはコンテナー内の火災を検出し、異常なメッセージをアラームで送信する時間があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cv/t1/fe/cvt1fetgudpegqeng530kauqs70.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図11-スマートフォン画面のプロトタイプからのメッセージ。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
テストテストの最初の結果は、回路にいくつかのマイナーな欠陥を示しました：コントローラーの電源回路の容量の不足は、場合によっては、無線モジュールの電源スイッチをオンにしたときに再起動につながる可能性があります。プロトタイプボードにコンデンサを追加することで、これを簡単に修正できました。電池の内部抵抗が比較的高いことを思い出せば、無線モジュールの搭載がデバイスにとって非常に大きなイベントである理由を理解できます。コントローラの電源回路に追加のコンデンサを取り付ける前に、オシロスコープ画面で回路の電圧変動を確認してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sv/wz/bi/svwzbi1bt6yt8cxj3q5iax7fjjw.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図12-黄色のグラフ-電池の電圧。ターコイズ-コントローラーの電源回路の電圧。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
修正後は、すべてがまともです。コントローラーの電源回路の急激な電圧降下は観察されません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/c_/vl/hec_vl8cpzncvcs2mt0phwkmn-w.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図13-黄色のグラフ-電池の電圧。ターコイズ-コントローラーの電源回路の電圧。追加のコンデンサを取り付けた後、青緑色のチャートのドローダウンが消えました。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、バッテリー電圧のグラフ上の「のこぎり」はバグではありません。それは特徴です。電圧コンバーターの入力容量は短いパルスで充電され、充電電流のサージの前線を伸ばします。自律性が高く、化学的電流源から電力を供給されるデバイスの電源には、多くの問題があります。たとえば、コンデンサをデューティ回路に配置することはできません。漏れ電流が少ないモデルを選択する必要があります。使用頻度が低く、電流を徐々に「エッチング」できるため、しっかりと閉じたキーを使用する必要があります。さて、ハブレの「むずむず脚症候群」については、すでに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">素晴らしい記事があり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題となっているのはサプライチェーンだけではありません。無線モジュールとセルラーネットワークの相互作用は、別の探偵小説です。 GSM無線モジュールの多くのユーザーが直面しているのは、ネットワークへの登録の拒否、サービスの提供の拒否、およびデータ転送を使用するさまざまな段階間の予測不可能な時間遅延です。また、通信品質が不安定な状況では、SMSメッセージを送信するための十分な作業時間がありません。それはこのように見えます：いくつかの試みで、無線モジュールはそれでも空中突破し、ネットワーク上の登録を受信します。この後、無線モジュールの継続的な動作に割り当てられた時間になるまで、メッセージの送信に失敗した試行が続きます。したがって、連絡を取る貴重な試みは失われ、最大連続操作時間の単純な増加は危険です。バッテリーの内部抵抗が大幅に増加し、その後長期的に回復する可能性があります。下のグラフでは、さまざまなデータ転送エラーの数が増加する過程を観察できます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/za/yg/iu/zaygiunc3t-pgp7cffyp9e2vteu.png"></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図14-赤いグラフ-負荷のない電池の電圧。</font><font style="vertical-align: inherit;">黄色-無線モジュールの動作中に負荷がかかっているバッテリーの電圧。</font><font style="vertical-align: inherit;">緑色のグラフ-無線モジュールの正常な登録数と受信したメッセージ数の差。</font><font style="vertical-align: inherit;">紫-無線モジュールのターン数と受信メッセージ数の差。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表形式の統計データ：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">負荷なしの平均電源電圧、V</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7,096</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">負荷時の最大電圧、V</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7,041</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">負荷時の最小供給電圧、V</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6,253</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">無線モジュールのターン数、個数</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">476</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネットワークで検証された登録の数、個数</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">390</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受信者が受信したメッセージの数、ピース</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">361</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはすでに憂慮すべきベルです。サービスの品質の向上と2Gネットワ​​ークのカバレッジエリアの拡大は期待されていません。</font><font style="vertical-align: inherit;">この現象はアルゴリズムで処理しますが、連続動作の最大時間を動的に変更すると同時に、負荷がかかっている要素の電圧の沈下の程度を監視します。</font><font style="vertical-align: inherit;">さて、もしあなたがラジオモジュールをオンにするためにバッテリーからの貴重な電気を費やしたなら、あなたはこのエネルギーが浪費されていないことを確認するために私たちに応じてあらゆる努力をする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
距離計からのデータに関しては、すべてが予測可能で安定しています。</font><font style="vertical-align: inherit;">グラフは、会議室のドアが開いているときと閉じているときを明確に示しています。</font><i><font style="vertical-align: inherit;">図15-緑のグラフ-距離計の出力の電圧。</font></i><i><font style="vertical-align: inherit;">赤いグラフ-ボード上のセンサーからの温度。</font></i></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/cx/dq/pk/cxdqpk5sw3egelnwkmkmdjem-mg.png"></a><br>
<i><font style="vertical-align: inherit;"></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今後の計画</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ベンチテストを実施し、見つかった欠点を修正した後、お客様のサイトに設置するデバイスをいくつか準備しました。船体製品で、人気のゲインタが助けになりました。間もなくデバイスは実際のコンテナにインストールされ、最終的にベンチテストから試運転に移行します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zw/zt/0i/zwzt0ihcv_mttk5lfmgbkdbcdrg.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図16-組み立てられ、テストされ、お客様のサイトに設置する準備ができているデバイスの実験インスタンス。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
開発段階でも、デバイスを改善するためのアイデアを蓄積し始めました。回路の小さな変更-これは理解できます。そこで容量を追加してから、金額を減らし、額面などを変更します。そして、より大きく、より明白な革新のうち、次のものが区別できます。</font></font><br>
<br>
<ol>
<li>   Sharp      VL53Lxx  STMicroelectronics.  —    :     ,     ,     .</li>
<li> MEMS-. -     ,      (        ).       :  -          ,     . . .</li>
<li>    NB-IoT-.</li>
<li>      -        .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ごみ収集車のコンテナフルセンサーとテレマティクスコントローラーの共同操作のための独自の短距離無線ネットワークの実装。</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/ei/f2/b3/eif2b3r1whmkpxexcoms-bo1b4m.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図17-プロトタイプデバイスアセンブリ。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは今のところすべてです！</font><font style="vertical-align: inherit;">面白かったです。</font><font style="vertical-align: inherit;">テストと開発を進めながら、この記事の続編を書きます。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja478040/index.html">偽のニュース：偽のニュースがどのように作成され、それが認識できるか</a></li>
<li><a href="../ja478044/index.html">プログラマーVovaを救う：HighLoad ++はどのようにしてスタンドiviに移行しましたか</a></li>
<li><a href="../ja478046/index.html">4年間の侍の旅。行き詰まらないで、ITの履歴を入力する方法</a></li>
<li><a href="../ja478048/index.html">ITの17の瞬間。部長からの自己組織化の個人的な経験</a></li>
<li><a href="../ja478050/index.html">ITMO大学の「ポンプ」：コンテスト、マスタークラス、テクノロジー会議</a></li>
<li><a href="../ja478054/index.html">もう一度Google Fit。彼は仕事をしていますか？</a></li>
<li><a href="../ja478056/index.html">RBC：ロシアの取引所で貯蓄が少ない投資家の数が増加</a></li>
<li><a href="../ja478058/index.html">Habr Weekly＃29 /スマートフォンからのスマートディスプレイ、スコットランドのITライフ、州で開発された成長方法、Stadiaは離陸しません</a></li>
<li><a href="../ja478062/index.html">プロフェッショナルコミュニティFacebook開発者サークル：モスクワがMLとAIに関する一連のイベントを開始</a></li>
<li><a href="../ja478064/index.html">地形クレチン主義から何をするか：視空間機能のためのゲーム</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>