<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥥 ⛱️ 👖 Kisah satu saklar 🌨️ 🐣 😦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam agregasi LAN kami, terdapat enam pasang sakelar Arista DCS-7050CX3-32S dan sepasang sakelar Brocade VDX 6940-36Q. Bukannya saklar Brocade pada j...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kisah satu saklar</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/selectel/blog/498368/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/y6/hn/ng/y6hnnglhd7cga9rdsoloimhiism.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam agregasi LAN kami, terdapat enam pasang sakelar Arista DCS-7050CX3-32S dan sepasang sakelar Brocade VDX 6940-36Q. </font><font style="vertical-align: inherit;">Bukannya saklar Brocade pada jaringan ini memberikan banyak tekanan pada kami, mereka bekerja dan menjalankan fungsinya, tetapi kami sedang mempersiapkan otomatisasi penuh beberapa tindakan, dan kami tidak memiliki kemampuan ini pada sakelar ini. </font><font style="vertical-align: inherit;">Saya juga ingin beralih dari antarmuka 40GE ke kemungkinan menggunakan 100GE untuk membuat cadangan untuk 2-3 tahun ke depan. </font><font style="vertical-align: inherit;">Jadi kami memutuskan untuk menukar Brocade dengan Arista.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sakelar ini adalah sakelar agregasi LAN untuk setiap pusat data. </font><font style="vertical-align: inherit;">Sakelar distribusi (level kedua agregasi) terhubung langsung ke sakelar tersebut, yang sudah terpasang di dalamnya Sakelar LAN Top-of-Rack di rak server.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/wr/_k/mn/wr_kmn_mxcbk5pzlszif5fwpmmy.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap server termasuk dalam satu atau dua sakelar akses. Sakelar akses terhubung ke sepasang sakelar distribusi (dua sakelar distribusi dan dua tautan fisik dari sakelar akses ke sakelar distribusi yang berbeda digunakan untuk redundansi). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap server dapat digunakan oleh kliennya, sehingga VLAN terpisah dialokasikan untuk klien. VLAN yang sama kemudian ditugaskan ke server lain dari klien ini di rak mana pun. Pusat data terdiri dari beberapa baris seperti itu (POD), setiap baris rak memiliki sakelar distribusi sendiri. Kemudian sakelar distribusi ini terhubung ke sakelar agregasi.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/oc/2p/r5/oc2pr5parnr_c3-m4s1fswgxlcm.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klien dapat memesan server di baris mana pun, tidak mungkin untuk memprediksi sebelumnya bahwa server akan dialokasikan atau dipasang di baris tertentu di rak mana pun, oleh karena itu, ada sekitar 2500 VLAN di setiap pusat data pada sakelar agregasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peralatan untuk DCI (Data-Center Interconnect) terhubung ke sakelar agregasi. Ini dapat digunakan untuk konektivitas L2 (sepasang sakelar yang membentuk terowongan VXLAN ke pusat data lain), dan untuk konektivitas L3 (dua router MPLS).</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/eh/2a/pg/eh2apgb0jx6excyolzu7hlqwwiy.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang sudah saya tulis, untuk menyatukan proses otomatisasi konfigurasi layanan pada peralatan di satu pusat data, perlu untuk mengganti sakelar agregasi pusat. </font><font style="vertical-align: inherit;">Kami memasang sakelar baru di sebelah sakelar yang ada, menggabungkannya menjadi pasangan MLAG dan mulai bersiap untuk bekerja. </font><font style="vertical-align: inherit;">Mereka segera terhubung ke switch agregasi yang ada, sehingga mereka memiliki domain L2 yang umum di semua VLAN klien.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rincian sirkuit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk spesifisitas, kita akan memanggil switch agregasi lama </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang baru - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bayangkan bahwa dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POD 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POD 4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ada server satu klien </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , VLAN klien ditunjukkan dengan warna biru. Klien ini menggunakan layanan konektivitas L2 dengan pusat data lain, sehingga VLAN-nya disajikan pada sepasang switch VXLAN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klien </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menempatkan server di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POD 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POD 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kami menyatakan VLAN klien sebagai hijau tua. Klien ini juga menggunakan layanan konektivitas dengan pusat data lain, tetapi L3, sehingga VLAN-nya disajikan pada sepasang router L3VPN.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/pl/tx/8t/pltx8tm018xdgys6sbk08dng6_w.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membutuhkan VLAN klien untuk memahami pada tahap apa pekerjaan pengganti terjadi, di mana jeda komunikasi terjadi, dan berapa lama durasinya. </font><font style="vertical-align: inherit;">Protokol STP tidak digunakan dalam skema ini, karena lebar pohon untuk itu dalam hal ini besar, dan konvergensi protokol tumbuh secara eksponensial dari jumlah perangkat dan tautan di antara mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua perangkat yang terhubung oleh tautan ganda membentuk tumpukan, pasangan MLAG atau pabrik VCS-Ethernet. </font><font style="vertical-align: inherit;">Teknologi tersebut tidak digunakan untuk sepasang router L3VPN, karena tidak perlu redundansi L2, cukup bahwa mereka memiliki konektivitas L2 satu sama lain melalui switch agregasi.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opsi implementasi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika menganalisis opsi untuk acara lebih lanjut, kami menyadari bahwa ada beberapa cara untuk melakukan pekerjaan ini. </font><font style="vertical-align: inherit;">Dari jeda global pada seluruh jaringan lokal, hingga jeda kecil secara harfiah 1-2 detik di bagian-bagian jaringan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jaringan, berdiri! </font><font style="vertical-align: inherit;">Switch, ganti!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cara termudah - adalah, tentu saja, mengumumkan istirahat global yang ikatan dalam semua POD dan semua layanan DCI dan beralih semua link dari saklar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di switch </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/oe/ru/gj/oerugjzsi4pdh1lqcnu5bxyzlra.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain jeda, waktu yang tidak dapat kami jamin untuk diprediksi (ya, kami tahu jumlah tautan, tetapi kami tidak tahu berapa kali ada yang salah - dari kabel patch yang rusak atau konektor yang rusak ke port atau kerusakan transceiver), kami masih tidak bisa untuk memprediksi sebelumnya apakah panjang kabel patch, DAC, AOC, terhubung ke switch lama A, cukup untuk menjangkau mereka, meskipun berdiri di sebelahnya, tetapi masih agak terpisah, switch N yang baru, dan apakah transceiver yang sama akan bekerja / DAC / AOC dari sakelar Brocade di sakelar Arista.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan semua ini dalam kondisi tekanan berat dari pelanggan dan dukungan teknis ("Natasha, bangun! Natasha, semuanya tidak berfungsi di sana! Natasha, kami sudah menulis dukungan teknis, jujur, jujur! Natasha, mereka sudah meletakkan semuanya di sana! Natasha, tetapi berapa banyak yang belum apakah ini akan berhasil? Natasha, dan kapan berhasil?! ”). </font><font style="vertical-align: inherit;">Meskipun ada pengumuman dan pemberitahuan yang dibuat sebelumnya kepada pelanggan, gelombang masuk telepon pada saat seperti itu dijamin.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tunggu, 1-2-3-4!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan jika tidak untuk menyatakan jeda global, tetapi untuk mengumumkan serangkaian jeda kecil dalam komunikasi pada layanan POD dan DCI. </font><font style="vertical-align: inherit;">Pada istirahat pertama, alihkan </font><font style="vertical-align: inherit;">hanya </font><b><font style="vertical-align: inherit;">POD 1 ke </font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> switch </font><font style="vertical-align: inherit;">, pada detik - setelah beberapa hari - </font><b><font style="vertical-align: inherit;">POD 2</font></b><font style="vertical-align: inherit;"> , kemudian setelah beberapa hari </font><b><font style="vertical-align: inherit;">POD 3</font></b><font style="vertical-align: inherit;"> , lalu </font><b><font style="vertical-align: inherit;">POD 4 ... [N]</font></b><font style="vertical-align: inherit;"> , lalu VXLAN beralih dan kemudian router L3VPN.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/1n/8o/dg1n8oei0wx04clgnk2a0emzu-o.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan organisasi pengalihan pekerjaan seperti itu, kami mengurangi kerumitan pekerjaan satu kali dan meningkatkan waktu kami untuk menyelesaikan masalah jika ada sesuatu yang tiba-tiba salah. Konektivitas POD 1 setelah beralih dengan POD lain dan DCI tidak hilang. Tetapi pekerjaan itu sendiri tertunda untuk waktu yang lama, untuk saat pekerjaan ini di pusat data, seorang insinyur diminta untuk secara fisik melakukan peralihan, dan selama pekerjaan (dan pekerjaan tersebut biasanya dilakukan pada malam hari, dari 2 hingga 5 pagi), kehadiran seorang insinyur jaringan online cukup tinggi. kualifikasi. Tetapi di sisi lain, kita mendapatkan istirahat pendek dalam komunikasi, sebagai aturan, pekerjaan dapat dilakukan dalam interval setengah jam dengan istirahat hingga 2 menit (dalam praktiknya, seringkali 20-30 detik dengan perilaku peralatan yang diharapkan). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam contoh di atas, klien </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau klien </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda harus memperingatkan tentang pekerjaan dengan jeda komunikasi setidaknya tiga kali - pertama kali melakukan pekerjaan pada satu POD, di mana salah satu servernya berada, kedua kalinya - pada kedua, dan ketiga kalinya - saat mengganti peralatan untuk layanan DCI.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beralih saluran komunikasi agregat</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengapa kita berbicara tentang perilaku yang diharapkan dari peralatan, dan bagaimana saluran teragregasi dapat beralih dengan meminimalkan gangguan komunikasi. </font><font style="vertical-align: inherit;">Bayangkan gambar berikut:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/s0/g5/4b/s0g54bkj-ujiumk0egmyp7ookv0.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di satu sisi, tautannya adalah sakelar distribusi POD - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mereka membentuk pasangan MLAG (tumpukan, pabrik VCS, pasangan vPC), di sisi lain dua tautan - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - termasuk dalam pasangan MLAG lama agregasi saklar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Di sisi switch </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> membentuk antarmuka agregat yang disebut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Port-channel A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , di sisi agregasi switch </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - antarmuka agregat yang disebut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Port D-channel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antarmuka agregat menggunakan LACP dalam pekerjaan mereka, yaitu, sakelar di kedua sisi secara teratur bertukar paket LACPDU pada kedua tautan untuk memastikan bahwa tautan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pekerja;</font></font></li>
<li>       .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat bertukar paket dalam suatu paket, nilai </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id sistem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dikirimkan </font><font style="vertical-align: inherit;">, yang menunjukkan perangkat tempat tautan ini disertakan. Untuk pasangan MLAG (tumpukan, pabrik, dll.), Nilai id sistem untuk perangkat yang membentuk antarmuka gabungan adalah sama. Switch </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengirimkan </font><b><font style="vertical-align: inherit;">id-D sistem</font></b><font style="vertical-align: inherit;"> nilai </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan switch </font><b><font style="vertical-align: inherit;">D2</font></b><font style="vertical-align: inherit;"> mengirimkan </font><b><font style="vertical-align: inherit;">id-D sistem</font></b><font style="vertical-align: inherit;"> nilai </font><b><font style="vertical-align: inherit;">2</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Switch </font><b><font style="vertical-align: inherit;">A1</font></b><font style="vertical-align: inherit;"> dan </font><b><font style="vertical-align: inherit;">A2</font></b><font style="vertical-align: inherit;"> menganalisis paket LACPDU yang diterima pada antarmuka Po D yang sama dan memverifikasi bahwa id sistem di dalamnya cocok. Jika id sistem yang diterima oleh beberapa tautan tiba-tiba berbeda </font><b><font style="vertical-align: inherit;">dari nilai kerja saat ini</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, lalu tautan ini dihapus dari antarmuka agregat sampai situasinya diperbaiki. </font><font style="vertical-align: inherit;">Sekarang kita beralih ke sisi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nilai saat ini dari sistem-id LACP-partner - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan beralih di sisi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nilai sistem-id saat ini dari mitra LACP- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda perlu mengganti antarmuka gabungan, kami dapat melakukan dua cara berbeda:</font></font></b></blockquote><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metode 1 - Sederhana</font></font></b>
                        <div class="spoiler_text"><b>     A</b>.      .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/4x/y3/1f/4xy31fons85dmc1xqmyoatx3cok.jpeg"></div></a><br>
       <b>N</b>,       LACP,   <b>Po D</b>   <b>N</b>      <b>system-id N</b>.<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/9o/-x/d2/9o-xd2p6oyk3x_yxroz_tlh6hbc.jpeg"></div></a><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metode 2 - Minimalkan Istirahat</font></font></b>
                        <div class="spoiler_text"><b>   2  Link 2</b>.     <b></b>  <b>D</b>       ,      .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/hw/u-/zy/hwu-zy2rypxofaqv9llskenulbm.jpeg"></div></a><br>
<b> Link 2   N2</b>.   <b>N</b>     <b>Po DN</b>,   <b>N2</b>    LACPDU <b>system-id N</b>.       ,   <b>N2</b>    ,   <b>Link 2</b>,       <b>Up</b>,     LACPDU      .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/cw/cy/st/cwcysth25wi_quoldhjghlysgx8.jpeg"></div></a><br>
  ,   <b>D2</b>    <b>Po A</b>   <b>Link 2   system-id N,      system-id A</b>,    <b>D</b>  <b>Link 2</b>     <b>Po A</b>.  <b>N</b>    <b>Link 2</b>  ,          LACP-  <b>D2</b>.     <b>Link 2</b>  .<br>
<br>
<b>    Link 1   A1</b>,     <b></b>  <b>D</b>   .  ,    <b>D</b>     system-id   <b>Po A</b>.<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/me/uw/8u/meuw8uq0g5lglbxkt6qwbdiodtg.jpeg"></div></a><br>
   <b>D</b>  <b>N</b>    system-id <b>A-N</b>   <b>Po A</b>  <b>Po DN</b>,        <b>Link 2</b>.     ,  ,  2 .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/rj/zs/ai/rjzsai50lw8dbbxbk0ntlicofoa.jpeg"></div></a><br>
<b>     Link 1   N1</b>,       <b>Po A</b>  <b>Po DN</b>.           system-id    ,    .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/vd/8_/3c/vd8_3cszxwsxtwdcrewohql3arg.jpeg"></div></a><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan tambahan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi switching dapat dilakukan tanpa kehadiran seorang insinyur pada saat switching. </font><font style="vertical-align: inherit;">Untuk melakukan ini, kita perlu pra-lay link tambahan antara switch distribusi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan switch agregasi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/du/sb/3h/dusb3hcwgnj_rt8kgkusiitltdk.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memasang tautan baru antara </font><font style="vertical-align: inherit;">sakelar </font><font style="vertical-align: inherit;">agregasi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan semua sakelar distribusi POD. Ini membutuhkan ketertiban dan peletakan kabel patch tambahan, dan menginstal transceiver tambahan di kedua </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Kita dapat melakukan ini karena kita </font><font style="vertical-align: inherit;">memiliki port bebas </font><font style="vertical-align: inherit;">di sakelar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari </font><font style="vertical-align: inherit;">masing </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">masing POD (atau kita membebaskannya terlebih dahulu). </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akibatnya, setiap POD secara fisik terhubung oleh dua tautan ke sakelar lama A dan sakelar baru N.</font></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/32/wj/m-/32wjm-s5ehe6o1vlkvtrhcpn_mq.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dua antarmuka agregat dibentuk </font><font style="vertical-align: inherit;">
pada sakelar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Po A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan tautan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Po N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan tautan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan N1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan N2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pada tahap ini, kami memeriksa koneksi antarmuka dan tautan yang benar, level sinyal optik di kedua ujung tautan (melalui informasi DDM dari sakelar), kami bahkan dapat memeriksa kapasitas kerja tautan yang sedang dimuat atau memantau status sinyal optik dan suhu transceiver selama beberapa hari. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lalu lintas masih ditransmisikan melalui </font><font style="vertical-align: inherit;">antarmuka </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Po A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sedangkan antarmuka </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Po N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bebas dari lalu lintas. Pengaturan pada antarmuka kira-kira sebagai berikut:</font></font><br>
<br>
<pre><code class="plaintext hljs">Interface Port-channel A<font></font>
Switchport mode trunk<font></font>
Switchport allowed vlan C1, C2<font></font>
<font></font>
Interface Port-channel N<font></font>
Switchport mode trunk<font></font>
Switchport allowed vlan none</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switch D, sebagai suatu peraturan, mendukung perubahan konfigurasi berbasis sesi; model switch yang memiliki fungsi ini digunakan. Jadi kita dapat mengubah pengaturan antarmuka Po A dan Po N dalam sekali jalan:</font></font><br>
<br>
<pre><code class="plaintext hljs">Configure session<font></font>
Interface Port-channel A<font></font>
Switchport allowed vlan none<font></font>
Interface Port-channel N<font></font>
Switchport allowed vlan C1, C2<font></font>
Commit</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian perubahan konfigurasi akan terjadi dengan cukup cepat, dan dalam praktiknya, istirahat tidak lebih dari 5 detik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode ini memungkinkan kita untuk melakukan semua pekerjaan persiapan di muka, untuk melakukan semua pemeriksaan yang diperlukan, untuk mengoordinasikan pekerjaan dengan para peserta dalam proses, untuk meramalkan secara rinci tindakan untuk produksi pekerjaan, tanpa pekerjaan kreatif, ketika "semuanya berjalan salah", dan memiliki rencana untuk kembali ke konfigurasi sebelumnya. </font><font style="vertical-align: inherit;">Pekerjaan pada rencana ini dilakukan oleh insinyur jaringan tanpa kehadiran pusat data di lokasi insinyur yang secara fisik melakukan peralihan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang lebih penting dengan metode pengalihan ini - semua tautan baru sudah ditentukan sebelumnya untuk pemantauan. </font><font style="vertical-align: inherit;">Kesalahan, penyertaan tautan dalam unit, pemuatan tautan - semua informasi yang diperlukan sudah ada dalam sistem pemantauan, dan sudah ditarik pada peta.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hari H</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Polong</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memilih yang paling tidak menyakitkan bagi pelanggan dan paling tidak rentan terhadap jalur peralihan “sesuatu yang salah” dengan tautan tambahan. </font><font style="vertical-align: inherit;">Jadi untuk beberapa malam kami mengalihkan semua POD ke switch agregasi baru.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/lm/c0/oa/lmc0oafevg5twt9amzd2thudqgm.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi tetap beralih peralatan yang menyediakan layanan DCI.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L2</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal peralatan yang menyediakan konektivitas L2, kami tidak dapat melakukan pekerjaan serupa dengan tautan tambahan. </font><font style="vertical-align: inherit;">Setidaknya ada dua alasan untuk ini:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurangnya port bebas dari kecepatan yang dibutuhkan pada sakelar VXLAN.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurang fungsionalitas untuk perubahan konfigurasi sesi pada sakelar VXLAN.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami tidak mengganti tautan “satu per satu” dengan jeda hanya selama durasi persetujuan sistem-id baru, karena kami tidak memiliki kepercayaan 100% bahwa prosedur akan benar, dan tes di laboratorium menunjukkan bahwa, dalam kasus ini jika "ada yang salah", kami masih mengalami gangguan komunikasi, dan yang terburuk tidak hanya bagi pelanggan yang memiliki konektivitas L2 dengan pusat data lain, tetapi secara umum untuk semua pelanggan pusat data ini.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melakukan pekerjaan propaganda untuk beralih dari saluran L2 sebelumnya, sehingga jumlah pelanggan yang terpengaruh operasi pada switch VXLAN sudah beberapa kali lebih sedikit dari setahun yang lalu. </font><font style="vertical-align: inherit;">Akibatnya, kami memutuskan untuk menghentikan komunikasi pada layanan konektivitas L2, asalkan kami mempertahankan operasi normal layanan jaringan lokal di satu pusat data. </font><font style="vertical-align: inherit;">Selain itu, SLA untuk layanan ini menyediakan kemungkinan jeda kerja terjadwal.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengapa kami menyarankan semua orang untuk beralih menggunakan L3VPN ketika mengatur layanan DCI? Salah satu alasannya adalah kemampuan untuk bekerja pada salah satu router yang menyediakan layanan ini, hanya dengan pengurangan tingkat redundansi menjadi N + 0, tanpa gangguan dalam komunikasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan skema penyediaan layanan lebih dekat. Dalam layanan ini, segmen L2 beralih dari server klien hanya ke router L3VPN Selectel. Pada router, jaringan klien diakhiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap server klien, misalnya, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam diagram di atas, memiliki alamat IP pribadi - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.0.0.2/24 untuk server S2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.0.0.3/24 untuk server S3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Alamat </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.0.0.252/24</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.0.0.253/24</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditugaskan oleh Selectel ke router </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , masing-masing. </font><font style="vertical-align: inherit;">Alamat IP </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.0.0.254/24 adalah alamat VIP VRRP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada router Selectel.</font></font><br>
<br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membaca</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih lanjut tentang layanan L3VPN </font><font style="vertical-align: inherit;">di blog kami.</font></font></b></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sampai saat peralihan semuanya tampak seperti pada diagram:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/lu/z9/_l/luz9_l1950pk5r3vr5hrn-tdnss.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dua router </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang terhubung ke yang lama agregasi saklar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Master untuk alamat VIP VRRP 10.0.0.254 adalah router </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dia memiliki prioritas yang ditetapkan untuk alamat ini lebih tinggi daripada router </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="plaintext hljs">unit 1006 {<font></font>
    description C2;<font></font>
    vlan-id 1006;<font></font>
    family inet {       <font></font>
        address 10.0.0.252/24 {<font></font>
            vrrp-group 1 {<font></font>
                priority 200;<font></font>
                virtual-address 10.100.0.254;<font></font>
                preempt {<font></font>
                    hold-time 120;<font></font>
                }<font></font>
                accept-data;<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server S2 menggunakan 10.0.0.254 gateway untuk berkomunikasi dengan server di lokasi lain. </font><font style="vertical-align: inherit;">Dengan demikian, memutuskan sambungan router L3VPN-2 dari jaringan (tentu saja, jika Anda memutuskan sambungan pertama kali dari domain MPLS) tidak mempengaruhi konektivitas server klien. </font><font style="vertical-align: inherit;">Pada titik ini, tingkat redundansi sirkuit berkurang.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/gj/oi/sk/gjoiskqum4kmknfm8u36cf5v44w.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, kita dapat menyambung kembali </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> router </font><font style="vertical-align: inherit;">ke pasangan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> switch </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Letakkan tautan, ubah transceiver. </font><font style="vertical-align: inherit;">Antarmuka logis router, tempat pekerjaan layanan klien bergantung, hingga konfirmasi bahwa semuanya berfungsi sebagaimana mestinya, dimatikan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah memeriksa tautan, transceiver, level sinyal, level kesalahan pada interface, router mulai beroperasi, tetapi sudah terhubung ke sepasang switch baru.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/jb/dh/cs/jbdhcsuakuma1fofufzc-pp0poy.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kami menurunkan prioritas VRRP dari router L3VPN-1, dan alamat VIP 10.0.0.254 pindah ke router L3VPN-2. </font><font style="vertical-align: inherit;">Karya-karya ini juga dilakukan tanpa gangguan komunikasi.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/ix/uq/lq/ixuqlq5wx5veluojqgpwfy8yewu.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transfer VIP alamat ke router 10.0.0.254 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memungkinkan Anda untuk menonaktifkan router </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L3VPN-1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tanpa gangguan dari kontak untuk klien dan menghubungkannya untuk memiliki sepasang baru agregasi beralih </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/lx/vo/jv/lxvojv_hiozuurqfsyonclwjez4.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apakah akan mengembalikan VRRP VIP ke router L3VPN-1 adalah masalah lain, dan jika Anda kembali, hal itu dilakukan tanpa gangguan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah semua langkah ini, kami benar-benar mengganti saklar agregasi di salah satu pusat data kami, sambil meminimalkan jeda bagi pelanggan kami.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/fw/d1/jx/fwd1jxarjvfl1agcko-4fhezx7s.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang tersisa hanyalah pembongkaran. </font><font style="vertical-align: inherit;">Membongkar sakelar lama, membongkar tautan lama antara sakelar A dan D, membongkar transceiver dari tautan ini, memperbaiki pemantauan, memperbaiki diagram jaringan dalam dokumentasi dan pemantauan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita dapat menggunakan switch, transceiver, patch patch, AOC, DAC setelah switching, dalam proyek lain atau switching serupa lainnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Natasha, kami mengubah semuanya!"</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id498354/index.html">Cara menerjemahkan "Wishlist" menjadi "perangkat keras", atau semi-mobile semi-ideal semi-mobile</a></li>
<li><a href="../id498358/index.html">Pelajari bahasa Prancis atau cara mendapatkan adaptor universal dari pemindai diagnostik PSA</a></li>
<li><a href="../id498360/index.html">Evaluasi Metrik Muat Server Terpadu</a></li>
<li><a href="../id498362/index.html">Kingston mempertahankan kepemimpinan dalam pengiriman SSD: bagaimana kita melakukannya?</a></li>
<li><a href="../id498366/index.html">Algoritma apa yang diterapkan pengembang Yandex setiap hari</a></li>
<li><a href="../id498370/index.html">SAP UI5 dan Confirmation Windows: Lagi Tentang Konteks</a></li>
<li><a href="../id498372/index.html">Tutorial jaringan simulator ns-3. Bab 5</a></li>
<li><a href="../id498374/index.html">Komputasi GPU - Mengapa, Kapan, dan Bagaimana. Ditambah beberapa tes</a></li>
<li><a href="../id498378/index.html">Pengumuman Slurm's Evening School oleh Agile</a></li>
<li><a href="../id498380/index.html">Jendela tindakan Overton: bagaimana pandemi digunakan untuk membatasi kebebasan kita</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>