<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßïüèΩ üî° ‚ôìÔ∏è Memahami launchMode Android Activity: standard, singleTop, singleTask dan singleInstance ‚òùüèº üëæ üôå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terjemahan artikel disiapkan khusus untuk siswa tingkat lanjut dalam pengembangan Android .
 
 
 
 Aktivitas adalah salah satu konsep paling menonjol ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Memahami launchMode Android Activity: standard, singleTop, singleTask dan singleInstance</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/493802/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terjemahan artikel disiapkan khusus untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">siswa tingkat lanjut dalam pengembangan Android</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/rz/oc/v4/rzocv4m1jq5tpiy0oisluhhgrfs.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktivitas adalah salah satu konsep paling menonjol di Android (sistem operasi seluler paling populer dengan arsitektur manajemen memori yang dirancang dengan baik yang mengimplementasikan multitasking dengan sempurna). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu cara atau yang lain, dengan peluncuran Activity di layar, tidak semuanya begitu sederhana. Cara itu dijalankan juga penting. Ada banyak nuansa dalam topik ini. Salah satu yang sangat penting adalah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">launchMode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang akan kita bahas di artikel ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap Kegiatan dibuat untuk bekerja dengan tujuan yang berbeda. Beberapa di antaranya dirancang untuk bekerja secara terpisah dengan setiap Intent, misalnya, aktivitas yang dikirim untuk membuat email di klien email. Sementara yang lain dirancang untuk berfungsi sebagai singleton, seperti kotak pesan aktivitas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah sebabnya mengapa penting untuk menunjukkan apakah Anda perlu membuat Aktivitas baru atau menggunakan yang sudah ada, jika tidak dapat menyebabkan UX buruk atau kegagalan. </font><font style="vertical-align: inherit;">Berkat pengembang kernel Android, ini mudah dilakukan dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">launchMode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang dirancang khusus untuk ini.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definisi LaunchMode </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada dasarnya, kita dapat mendefinisikan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">launchMode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> secara langsung sebagai atribut tag </font></font><code><code>&lt;</code>activity&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di </font></font><code>AndroidManifest.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".SingleTaskActivity"</span>
    <span class="hljs-attr">android:label</span>=<span class="hljs-string">"singleTask launchMode"</span>
    <span class="hljs-attr">android:launchMode</span>=<span class="hljs-string">"singleTask"</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada 4 jenis launchMode yang tersedia. Mari kita lihat satu per satu. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">standar</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ini adalah mode default. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perilaku suatu Aktivitas yang diatur ke mode ini akan selalu membuat Aktivitas baru untuk bekerja secara terpisah dengan setiap Intent yang dikirim. Bahkan, jika 10 Maksud dikirim untuk menulis email, 10 Kegiatan harus diluncurkan untuk melayani setiap Maksud secara terpisah. Sebagai akibatnya, sejumlah kegiatan yang tidak terbatas dapat diluncurkan pada perangkat. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perilaku pada Android pra-Lollipop</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jenis kegiatan ini akan dibuat dan ditempatkan di atas tumpukan dalam tugas yang sama yang mengirim Intent.</font></font><br>
 <br>
 <img src="https://habrastorage.org/webt/ne/n2/2u/nen22uybqupb_f6jnw5hvjz90rc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar di bawah ini menunjukkan apa yang terjadi ketika kami berbagi gambar dengan Aktivitas standar. Ini akan ditumpuk dalam tugas yang sama seperti yang dijelaskan di atas, meskipun mereka berasal dari aplikasi yang berbeda. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wp/t5/fz/wpt5fzwohvycuouxans3y_t11vu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan inilah yang akan Anda lihat di task manager. (Ini mungkin tampak sedikit aneh) </font></font><br>
<br>
<img src="https://habrastorage.org/webt/s8/u_/ii/s8u_iioeu_3jyfu9e2va7xypr54.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kita beralih aplikasi ke tugas lain dan kemudian beralih kembali ke Galeri, kita masih akan melihat bahwa launchMode standar ditempatkan di atas tugas Galeri. Akibatnya, jika kita perlu melakukan sesuatu di Galeri, kita harus menyelesaikan pekerjaan kita terlebih dahulu dalam Kegiatan tambahan ini. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perilaku di Android Lollipop</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika Kegiatan ini terkait dengan aplikasi yang sama, perilaku akan sama seperti dalam implementasi pra-Lollipop - menempatkan di tumpukan di atas tugas.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/pm/90/ljpm90f0v8oh12ygrs0hrqxnmxa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi jika Intent dikirim dari aplikasi lain, tugas baru akan dibuat dan Kegiatan yang baru dibuat akan ditempatkan sebagai root, seperti yang ditunjukkan di bawah ini. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/re/bn/ci/rebncivt1yw-otyjkghmjmevxss.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini yang akan Anda lihat di task manager. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/st/vh/us/stvhusvjhnp8tmqogzkrenle3am.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini karena sistem manajemen tugas telah dimodifikasi di Lollipop - menjadi lebih baik dan lebih mudah dimengerti. Di Lollipop, Anda cukup beralih kembali ke Galeri, karena berada dalam tugas yang berbeda. Anda dapat mengirim Intent lain, tugas baru akan dibuat yang akan melayani Intent dengan cara yang sama seperti yang sebelumnya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ia/iz/p_/iaizp_8fdhzzyft95zupxt89q54.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh dari aktivitas semacam ini adalah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menulis Aktivitas Email</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktivitas Posting Status Jejaring Sosial</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pembaruan status di jejaring sosial). </font><font style="vertical-align: inherit;">Jika Anda memiliki sebuah Aktivitas dalam pikiran Anda yang memproses setiap Intent secara terpisah, maka Anda sedang memikirkan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Activity standar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">singleTop</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mode selanjutnya adalah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">singleTop</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Berperilaku dalam cara yang sama seperti </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">standar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang berarti bahwa Anda dapat membuat sebanyak contoh Aktivitas singleTop seperti yang kita inginkan. </font><font style="vertical-align: inherit;">Satu-satunya perbedaan adalah bahwa jika sudah ada instance Activity dengan tipe yang sama di bagian atas stack dalam tugas pemanggilan, sebaliknya tidak ada Activity baru yang akan dibuat, sebaliknya, Intent akan dikirim ke instance Activity yang ada melalui metode </font></font><code>onNewIntent()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/uq/dj/khuqdjmchshqsq4cvxsybngidg8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam mode singleTop, Anda harus mempertimbangkan menangani Intent yang masuk </font></font><code>onCreate()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>onNewIntent()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agar berfungsi dalam semua kasus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh penggunaan mode ini adalah fungsi pencarian. Mari kita berpikir tentang membuat kotak pencarian yang mengarahkan Anda ke SearchActivity untuk melihat hasil pencarian. Untuk UX yang lebih baik, kami biasanya selalu meletakkan kotak pencarian di halaman hasil pencarian untuk memungkinkan pengguna melakukan pencarian berikutnya tanpa kembali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang bayangkan jika kita selalu meluncurkan SearchActivity baru untuk menyajikan hasil pencarian baru, maka kita akan mendapatkan 10 Kegiatan baru untuk 10 iterasi pencarian. Akan sangat aneh untuk kembali, karena Anda harus mengklik kembali 10 kali untuk melewati semua hasil pencarian untuk kembali ke Aktivitas root.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alih-alih, jika SearchActivity sudah ada di bagian atas tumpukan, yang terbaik adalah mengirim Intent ke instance Activity yang ada dan membiarkannya memperbarui hasil pencarian. Sekarang hanya akan ada satu SearchActivity yang terletak di bagian atas tumpukan, dan Anda cukup mengklik tombol kembali sekali untuk kembali ke Aktivitas sebelumnya. Itu lebih masuk akal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimanapun, singleTop bekerja dalam tugas yang sama dengan penelepon. Jika Anda mengharapkan Intent dikirim ke Aktivitas yang ada, ditempatkan di atas tugas lain, saya harus mengecewakan Anda dengan mengatakan bahwa tidak ada lagi yang berhasil. Jika Intent dikirim dari aplikasi lain ke Aktivitas singleTop, Aktivitas baru akan diluncurkan dalam aspek yang sama seperti untuk standart launchMode (</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pra-Lollipop: ditempatkan di atas tugas panggilan, Lollipop: tugas baru akan dibuat)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">singleTask</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mode ini sangat berbeda dari standart dan singleTop. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktivitas dengan singleTask launchMode hanya diperbolehkan memiliki satu instance dalam sistem (ala singleton)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jika instance Activity sudah ada dalam sistem, seluruh tugas yang memegang instance akan dipindahkan ke atas, dan Intent akan diberikan melalui metode </font></font><code>onNewIntent()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jika tidak, Kegiatan baru akan dibuat dan ditempatkan di tugas yang sesuai. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dalam satu aplikasi</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika tidak ada instance Aktivitas singleTask dalam sistem, yang baru akan dibuat dan itu hanya akan ditempatkan tumpukan di tugas yang sama. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tl/gd/v5/tlgdv5pp1aup44lacg-a39l4qtg.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetapi jika ada, semua Kegiatan yang terletak di atas Kegiatan SingleTask ini akan secara otomatis dihancurkan secara brutal (siklus hidup selesai) untuk menampilkan Kegiatan yang diinginkan di bagian atas tumpukan.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada saat yang sama, Intent akan dikirim ke Aktivitas singleTask melalui metode yang luar biasa </font></font><code>onNewIntent()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pr/7l/e9/pr7le9ygampc5au3-slsqydvakq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu tidak masuk akal dari sudut pandang pengalaman pengguna, tetapi dirancang dengan cara ini ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat melihat satu nuansa yang disebutkan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistem menciptakan tugas baru dan membuat instance aktivitas pada akar tugas baru. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namun dalam praktiknya, tampaknya ini tidak berfungsi seperti yang dijelaskan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Aktivitas SingleTask masih ditempatkan di bagian atas tumpukan Activity tugas, seperti yang dapat dilihat dari hasil perintah </font></font><code>dumpsys activity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ta</font></font><br>
<br>
<pre><code class="java hljs">sk id #<span class="hljs-number">239</span>
  TaskRecord{<span class="hljs-number">428</span>efe30 #<span class="hljs-number">239</span> A=com.thecheesefactory.lab.launchmode U=<span class="hljs-number">0</span> sz=<span class="hljs-number">2</span>}<font></font>
  Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=<span class="hljs-number">0x10000000</span> cmp=com.thecheesefactory.lab.launchmode/.StandardActivity }<font></font>
    Hist #<span class="hljs-number">1</span>: ActivityRecord{<span class="hljs-number">429</span>a88d0 u0 com.thecheesefactory.lab.launchmode/.SingleTaskActivity t239}<font></font>
      Intent { cmp=com.thecheesefactory.lab.launchmode/.SingleTaskActivity }<font></font>
      ProcessRecord{<span class="hljs-number">42243130</span> <span class="hljs-number">18965</span>:com.thecheesefactory.lab.launchmode/u0a123}<font></font>
    Hist #<span class="hljs-number">0</span>: ActivityRecord{<span class="hljs-number">425f</span>ec98 u0 com.thecheesefactory.lab.launchmode/.StandardActivity t239}<font></font>
      Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=<span class="hljs-number">0x10000000</span> cmp=com.thecheesefactory.lab.launchmode/.StandardActivity }<font></font>
      ProcessRecord{<span class="hljs-number">42243130</span> <span class="hljs-number">18965</span>:com.thecheesefactory.lab.launchmode/u0a123}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin berperilaku Aktivitas singleTask seperti yang dijelaskan dalam dokumen: buat tugas baru dan letakkan Aktivitas sebagai root. Anda perlu mendefinisikan atribut </font></font><code>taskAffinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk Kegiatan singleTask sebagai berikut.</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".SingleTaskActivity"</span>
    <span class="hljs-attr">android:label</span>=<span class="hljs-string">"singleTask launchMode"</span>
    <span class="hljs-attr">android:launchMode</span>=<span class="hljs-string">"singleTask"</span>
    <span class="hljs-attr">android:taskAffinity</span>=<span class="hljs-string">""</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu akan menjadi hasilnya ketika kita mencoba lari </font></font><code>SingleTaskActivity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qn/au/9f/qnau9ftfyqxjtq8yty5cjlfaxiq.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ln/pk/d4/lnpkd4alkah9kvmiphylvk8mx6a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas Anda adalah memutuskan apakah akan menggunakan </font></font><code>taskAffinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau tidak tergantung pada perilaku yang diinginkan dari Kegiatan. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berinteraksi dengan aplikasi lain</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Segera setelah Intent dikirim dari aplikasi lain dan tidak ada instance dari Activity yang telah dibuat dalam sistem, </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebuah tugas baru akan dibuat</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan Activity baru yang ditempatkan sebagai root Activity. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/be/wv/9p/bewv9pxsnqrp9rj2is8sfs1ka1m.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/7b/wc/_b/7bwc_bbpbwsbw0man-59yupltyw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika tidak ada tugas yang akan menjadi pemilik dari aktivitas singleTask panggilan, sebagai gantinya Aktivitas akan ditampilkan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0e/eo/j5/0eeoj5h6thjdff3izlqcttpphde.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika instance Kegiatan ada dalam tugas, seluruh tugas akan dipindahkan, dan untuk setiap Kegiatan individu yang terletak di atas Kegiatan singleTask, siklus hidup akan selesai</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jika tombol kembali ditekan, pengguna harus melalui Kegiatan di tumpukan sebelum kembali ke tugas panggilan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dy/if/9d/dyif9dvekt6pictwq7znk7bqb-i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh penggunaan mode ini adalah Aktivitas Titik Masuk, misalnya, halaman Kotak Masuk dari klien email atau garis waktu jejaring sosial. </font><font style="vertical-align: inherit;">Kegiatan ini tidak mengasumsikan lebih dari satu contoh, jadi singleTask akan melakukan tugasnya dengan sempurna. </font><font style="vertical-align: inherit;">Bagaimanapun, Anda harus menggunakan mode ini dengan bijak, karena dalam mode ini Aktivitas dapat dihancurkan tanpa konfirmasi pengguna, seperti dijelaskan di atas.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">singleInstance</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mode ini sangat mirip dengan singleTask, di mana hanya satu instance dari Kegiatan yang bisa ada pada sistem. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbedaannya adalah bahwa tugas yang memiliki aktivitas ini hanya dapat memiliki satu aktivitas - yang memiliki atribut singleInstance</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jika Aktivitas lain dipanggil dari Aktivitas semacam ini, tugas baru dibuat secara otomatis untuk mengakomodasi Aktivitas baru ini. Demikian pula, jika Kegiatan SingleInstance dipanggil, tugas baru akan dibuat untuk menjadi tuan rumah Kegiatan ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimanapun, hasilnya agak aneh. Dari informasi yang diberikan</font></font><code>dumpsys</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, jelas bahwa ada dua tugas dalam sistem, tetapi hanya satu yang muncul di task manager, tergantung mana yang ada di atas. Akibatnya, meskipun ada tugas yang masih berjalan di latar belakang, kami tidak dapat mengubahnya kembali ke latar depan. Tidak masuk akal sama sekali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah yang terjadi ketika satu Aktivitas Instansi dipanggil sementara Aktivitas sudah ada di stack. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ea/2v/qy/ea2vqyvflpzuia5elbfl7cd_fzm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan inilah yang kita lihat di task manager. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5a/lr/7s/5alr7sfn0d253r5-wi90zpmaoc4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena tugas ini hanya dapat memiliki satu Kegiatan, kami tidak dapat lagi beralih ke tugas No. 1. Satu-satunya cara untuk melakukan ini adalah memulai ulang aplikasi dari peluncur, tetapi, sebagai hasilnya, tugas singleInstance akan disembunyikan di latar belakang.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimanapun, ada beberapa solusi untuk masalah ini. </font><font style="vertical-align: inherit;">Seperti dengan Kegiatan singleTask, cukup tetapkan atribut </font></font><code>taskAffinity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk Kegiatan SingleInstance, yang memungkinkan beberapa tugas ada di task manager.</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".SingleInstanceActivity"</span>
    <span class="hljs-attr">android:label</span>=<span class="hljs-string">"singleInstance launchMode"</span>
    <span class="hljs-attr">android:launchMode</span>=<span class="hljs-string">"singleInstance"</span>
    <span class="hljs-attr">android:taskAffinity</span>=<span class="hljs-string">""</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang gambar lebih masuk akal. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4g/g7/sr/4gg7srssanlpsftak21yt7ge4o4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mode ini jarang digunakan. </font><font style="vertical-align: inherit;">Beberapa kasus penggunaan praktis adalah peluncur Aktivitas atau aplikasi yang Anda 100% yakin bahwa hanya ada satu Kegiatan. </font><font style="vertical-align: inherit;">Bagaimanapun, saya sarankan Anda untuk tidak menggunakan mode ini, kecuali ada keadaan darurat.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bendera niat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain </font></font><code>AndroidManifest.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengatur </font><font style="vertical-align: inherit;">mode peluncuran langsung ke </font><font style="vertical-align: inherit;">, kita juga dapat menyesuaikan perilaku menggunakan alat yang disebut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bendera Intent</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , misalnya:</font></font><br>
<br>
<pre><code class="java hljs">Intent intent = <span class="hljs-keyword">new</span> Intent(StandardActivity.<span class="hljs-keyword">this</span>, StandardActivity.class);<font></font>
intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);<font></font>
startActivity(intent);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
akan diluncurkan </font></font><code>StandardActivity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan kondisi singleTop launchMode. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada beberapa flag yang bisa Anda gunakan. </font><font style="vertical-align: inherit;">Anda dapat menemukan informasi lebih lanjut tentang ini di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya harap Anda menemukan artikel ini bermanfaat =) </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelajari lebih lanjut tentang kursus</font></font></a></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id493772/index.html">10 Tip dan Trik Kubernet Teratas</a></li>
<li><a href="../id493792/index.html">Laporan Pertemuan ROS kedua tentang navigasi robot</a></li>
<li><a href="../id493796/index.html">4 pola desain terbaik untuk pengujian otomatis (dan 86 lainnya)</a></li>
<li><a href="../id493798/index.html">Tidak ada desain di 1C UX / UI</a></li>
<li><a href="../id493800/index.html">Peluang empiris</a></li>
<li><a href="../id493804/index.html">Pemain yang berbicara di raspberry</a></li>
<li><a href="../id493808/index.html">Melinierisasi kode asinkron dengan corutin</a></li>
<li><a href="../id493810/index.html">Lima tahun pengembangan intensif pasar untuk pengenalan dokumen</a></li>
<li><a href="../id493814/index.html">Bagaimana kami melakukan wawancara di Barcelona</a></li>
<li><a href="../id493816/index.html">Panduan Git Bagian nomor 1: semua yang perlu Anda ketahui tentang direktori .git</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>