<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎃 👩🏻‍🎨 🗻 配達を注文しましたか？Crossroadsが1日あたり6000注文を配送する方法 👩🏿‍🤝‍👩🏽 🏌️ 🥄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="人々は配達が大好きです。小額の手数料で、家を出ることなく適切な商品を手に入れる機会を購入します。お気に入りのレストランの食べ物、特大の家具、長い間読みたかった本など、何でも。そして、世界中のあらゆるものを迅速に提供するためのサービス数の増加は、この論文を裏付けるだけです。はい、そしてショップにとって...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>配達を注文しましたか？Crossroadsが1日あたり6000注文を配送する方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/484220/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人々は配達が大好きです。</font><font style="vertical-align: inherit;">小額の手数料で、家を出ることなく適切な商品を手に入れる機会を購入します。お気に入りのレストランの食べ物、特大の家具、長い間読みたかった本など、何でも。</font><font style="vertical-align: inherit;">そして、世界中のあらゆるものを迅速に提供するためのサービス数の増加は、この論文を裏付けるだけです。</font><font style="vertical-align: inherit;">はい、そしてショップにとってはプラスです-彼はドアへの商品の配達と提携し、彼のチェックを増やしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「Crossroads」の私たち自身の配達があります。</font><font style="vertical-align: inherit;">外部からの人にとって、店舗から家への配達のプロセスは次のようになります：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私はサイトで何かを選び、それをバスケットに入れました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私は住所を入力し、注文の代金を支払いました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その店はすぐに宅配便業者に注文を出した。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宅配便が注文を配達しました。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、すべてがもう少し複雑です。</font><font style="vertical-align: inherit;">私の名前はVitaliyです。私は開発部門の責任者です。今日は、すべてがどのように機能するかをお話しします。</font><font style="vertical-align: inherit;">そして何に。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vo/rn/u7/vornu7hu0kjkmk1jwluuqb1usj4.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセスの安定性には、ショーケースアプリケーションとユーザーモバイルアプリケーションの2つのアプリケーションが関与しています。店頭ではすべてが古典的です。バイヤーはサイトにアクセスし、製品を選択してバスケットに入れ、製品カードを調べます。ここでの最後のステップは注文をすることです。その後、注文はバックオフィスに転送されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、オンラインストアのバックオフィスは、商品に対して多くのアクションが実行されるシステムです。特定のプロモーションへの商品の参加を規定し、これにバナーを結び付け、ブランドゾーンを強調します。もちろん、注文はここで処理されます。買い手が注文プロセスを完了し、注文がバックオフィスに到着したら、確認する必要があります。これは、このバイヤーがすでにわかっている場合、または通常のスキームに従ってオペレーターが手動モードで「こんにちは、ここで何か注文しましたか、確認して、データは正しいですか？」等々。そして、ここでは配達を形成するプロセスへのバックオフィスの参加はすでに終了しており、注文が確認され、ステータスが「処理済み」から「実行中」に変更されます。 WMSでの注文（予約、収集、注文された商品、これらは利用できず、サプライヤーに注文するためのものであり、同時にロジスティクス担当者によるルーティングを開始できます。一般的に、WMSとロジスティクスは、注文を並行して処理する独立したシステムです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一方、在庫あり</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WMSシステムは、ソフトウェア、倉庫、これらの倉庫の従業員とデバイスの組み合わせであり、これらの従業員の生活を大幅に簡素化します。</font><font style="vertical-align: inherit;">従業員の手首に取り付けられた小さな端末を使用すると、注文を必要な順序ですばやく組み立てることができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fb/bj/sj/fbbjsjtm6z0gt3l5zx4yi6zcjz4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注文は特別なCrossroadsボックスでお客様に配送するため、一貫性は重要です。</font><font style="vertical-align: inherit;">そして、箱があること-それは長方形です。</font><font style="vertical-align: inherit;">ほとんどのボックスと同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、2つの条件を同時に観察する必要があります。また、半分だけしか満たされていない2つのボックス（経済的でなく、環境にやさしく、通常は奇妙です）をクライアントが受け取らないように、ボックス自体にできるだけ多くの情報を入力し、「重いから軽い」という原則に従ってボックスに入力する必要があります。 」システムでは、製品とそのパッケージのサイズが考慮されます。これとボックスパラメータを知っていると、ボックスが最大限に満たされるように注文を作成することが可能です。これにより、宅配便の車が100％の箱が積載されていても、半分は空のままになっているような状況を取り除くことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、システムは倉庫作業員に注文を収集するための注文を書き込みます。たとえば、良い倉庫の従業員が10パックの牛乳と数キログラムの野菜の上に注意深く置くと、最下部に30ダースの卵を置いた箱を手に入れたいと思う人はほとんどいません。確かに、牛乳があれば、卵については言うことができないすべてがOKになります。あらゆる種類の壊れやすいCookieも常に一番上にあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nq/hd/ml/nqhdmlyl2ybszay3eo2jocrd7sg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、商品の近所のルールに従う必要があります。リンゴ、ロールパン、魚の2種類を注文した場合、すべてが1つの箱に入っていたため、これらすべてが魚ではなく洗剤で悪臭を放っていた場合、それはかなり悲しいとしましょう。したがって、食品-個別、家庭用化学品-個別。ちなみに、商品の近さはSanPiNの規範によって決まります。そしてそれらを観察します。人間の視点から見ると、これは論理的で唯一の真のモデルです。倉庫の観点から見ると、これらは倉庫作業員ルートを構築する際の追加の変数です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムはすべてを考慮に入れてルートを構築します。これにより、従業員は希望する順序で注文を収集します。ターミナルにより、正しい棚に誘導されます。誇張すると、アプリケーションのクライアント部分の作業は次のようになります。「ガイ、B4に移動し、それらのパケットのうち5つを小麦粉と一緒に取り、ボックスの一番下に置きます。次に、A2から、牛乳をつかみます。いいえ、これではなく、そのセルにあります。」</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r7/tr/ve/r7trvey_hhcwxgzqtcnq9p4fsag.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
倉庫担当者向けのアプリケーションを作成したら、宅配便のアプリケーションを作成する必要がありました。ルートを構築するだけでなく、小切手をすばやく印刷し、注文の新しいステータスを記録するプロセスにも役立ちます。まあ、メトリックス、そこにはメトリックスはありません-特定の宅配便がどこにあるか、彼は通常スケジュールに適合しているか、注文を購入者に転送するかどうかなどの小切手を印刷しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gc/ni/r9/gcnir9cqhhgmsyhsclvpqy-ylkw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、小切手を一度に印刷しないのはなぜですか。私たちの箱をクライアントに持っていくと、彼は理由を問わずどの製品も拒否することができます。</font><font style="vertical-align: inherit;">たとえば、彼は外に出て自分でアイスクリームを購入するか、すぐに2リットルの牛乳を煮て、今夜の魚とキュウリのピクルスは単なるアイデアだと判断しました。</font><font style="vertical-align: inherit;">一般に、「考え方の変化」など、あらゆる立場を拒否する理由はたくさんあります。</font><font style="vertical-align: inherit;">したがって、宅配便業者はクライアントが拒否したポジションを削除し、最終チェックを印刷します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フードの下</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションはSwiftとKotlin（それぞれiOSとAndroid）で作成します。この場合、バックエンド全体がPHPで回転しているため、データベースをPostgresで実行することにしました。ブローカーの場合、Rabbit mqを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい、2019年は誰もが最初にモバイルの原則に基づいてすべてを行うことは明らかですが、それでもサイトがより近くて親しみやすいことがわかりました。彼はラバレルで働いています。マイクロサービスの方向にも、私たちは動き始めたばかりなので、現在、サイトとアプリケーションの両方が非常に大きなモノリスであり、マイクロサービスのために引き離され始めるのを待っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、前述のPostgresは時々ボトルネックになっているため、何かを変更します。システムの負荷は非常に異なる値になる可能性があるため、バランサーを積極的に使用しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このすべてのものは、この形式のサーバーに都合よく配置されます</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。PHP-FPMとPostgresを備えた16のアプリケーションサーバー、Postgresには1つのマスターと4つのスレーブがあります。</font><font style="vertical-align: inherit;">ご覧のとおり、自転車はありません。</font><font style="vertical-align: inherit;">バックオフィス全体は、WMS、倉庫、ロジスティクス、会計、マーケティングなどの内部システムと完全に統合されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2017年にモバイルアプリとウェブサイトをリリースしました。</font><font style="vertical-align: inherit;">現在、システムの平均負荷は1日あたり約6,000注文です。</font><font style="vertical-align: inherit;">一方ではそれほど多くありませんが、24時間均等に広がらないこと、人々が24時間体制で食べ物を注文しないこと、労働時間中の標準的な活動のためのガーターもあることを考慮する価値があります。</font><font style="vertical-align: inherit;">PHPリクエスト自体（APIを含む）は、5分間で約70,000です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注文経路</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注文が倉庫で正常に組み立てられ、旅行に行く準備ができるとすぐに、ルーティングされます。これからYandex.Routingを使い始めました-交通状況-渋滞、天候、床、障壁、その他の喜びを考慮して、ドライバーに最適なルートをすばやく構築できる優れた製品です。これは、燃料を節約するのに役立ちます。そのため、宅配便業者は都市の周りを一周しません。ドライバーは明確なルート、注文を輸送する必要がある注文のリストを持っています。注文自体は同じ注文で配達されるように車に入れられます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ad/lw/-n/adlw-nhq5gqszohajkwaymwqnsm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はすでに書いたように、KotlinでAndroid用の宅配便のアプリケーションを作成しました。ルーティングが縫い付けられているのは、クライアントと通信する機能（クライアントの番号を非表示にする、ドライバーには[呼び出し]ボタンのみがある）、注文を編集して何かを削除する機能、小切手を印刷する機能、および注文の支払いを行う機能です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xt/1f/aq/xt1faql6nzdxupzg_vz4pjmtvj8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それとは別に、テレメトリについて：アプリケーションはすべてを考慮します：移動時間、クライアントへの到着時間、出発時間など、これは多くの分析レポートの作成とロジスティクスの追跡に大きく役立ちます。たとえば、宅配便業者はしばらく移動しませんが、通常は移動する必要があります-彼らは彼に連絡し、すべてが正常かどうかを指定します。この点でロジスティクスとのリンクは非常に重要です。たとえば、15.00番の宅配便が1つの住所にあり、15.30番が別の住所にある必要がある場合があるためです。しかし、最初のアドレスでは、庭、バリア、またはゲートでのアクセス制御が原因で問題が発生しました。クライアントに連絡するためにさらに10分を費やす必要があったため、クライアントはセキュリティなどに連絡しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cb/jr/pv/cbjrpvltj1-mgahk1ww7dvvtevw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、15.30のクライアントの観点からは、これは決して彼の問題ではなく、指定された時間までに注文を待っています。</font><font style="vertical-align: inherit;">したがって、ドライバーはロジスティクスに連絡し、テレメトリーを具体的に監視し、バリア自体の障害による配達時間間隔を指定して次のクライアントに連絡します。</font><font style="vertical-align: inherit;">もちろん、いずれにせよ、宅配便が遅れるのは悲しいことです。</font><font style="vertical-align: inherit;">しかし、彼が遅れてそれについて警告しないとき-それはさらに悪いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、それが基本的なものであれば、これが私たちの仕事のやり方です。</font><font style="vertical-align: inherit;">倉庫とWMSの操作、運転手や倉庫作業員向けのアプリケーション、またはルーティングについて学びたい場合は、コメントに書き込んでください。別の投稿を行います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読んでくれてありがとう。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja484208/index.html">プログラムのソースコードの静的分析における機械学習の使用</a></li>
<li><a href="../ja484212/index.html">カルマのための無料のもの-消費の原理を変えるベラルーシのスタートアップの物語</a></li>
<li><a href="../ja484214/index.html">TensorFlowのテンソル</a></li>
<li><a href="../ja484216/index.html">ロシアでの2番目のZabbix会議：登録と重要な日付</a></li>
<li><a href="../ja484218/index.html">自動化を最適化：自動テストを3〜4倍高速化し、古い開発を維持する方法</a></li>
<li><a href="../ja484222/index.html">休暇前にチケットを選択する問題を解決しようとしています</a></li>
<li><a href="../ja484224/index.html">ビットごとのLSDソート（基数ソート）</a></li>
<li><a href="../ja484236/index.html">雲の中の幽霊：多くの企業をハッキングする詳細</a></li>
<li><a href="../ja484238/index.html">機械学習は未解決の数学の問題に直面しました</a></li>
<li><a href="../ja484240/index.html">Positive Hack Days 10で講演者になりましょう。</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>