<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🚒 🚘 🐧 CSS-Raster: Eingabe eines reaktionsschnellen 20-Zeilen-Magazinlayouts 🎙️ 🧜🏼 👣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kürzlich habe ich an einer modernen Implementierung einer Blog-Rolle gearbeitet (eine Liste externer nützlicher / interessanter Blogs). Die Idee war, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CSS-Raster: Eingabe eines reaktionsschnellen 20-Zeilen-Magazinlayouts</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492760/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/vy/fm/invyfmr9wggf_x3z20znmwfyn8y.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kürzlich habe ich an einer modernen Implementierung einer Blog-Rolle gearbeitet (eine Liste externer nützlicher / interessanter Blogs). Die Idee war, den Lesern eine Auswahl der neuesten Beiträge in diesen Blogs zur Verfügung zu stellen, die in einem Magazin-Layout zusammengefasst sind, anstatt eine trockene Liste von Links in der Seitenleiste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einfachste Teil der Aufgabe besteht darin, eine Liste der Beiträge und ihrer Auszüge (Auszug - Einführungstext vor dem Schnitt) aus unseren bevorzugten RSS-Feeds abzurufen. Zu diesem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zweck haben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wir das </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Feedzy lite</font></a><font style="vertical-align: inherit;"> WordPress-Plugin verwendet </font><font style="vertical-align: inherit;">, mit dem mehrere Feeds nach Zeit sortiert in einer Liste zusammengefasst werden können - in unserem Fall die ideale Lösung. Der schwierige Teil ist, alles schön zu machen.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Standard-Listenoberfläche des Plugins ist wahrscheinlich geschmacklos, daher wollte ich sie als Zeitungs- oder Zeitschriftenwebsite mit einer Mischung aus großen und kleinen „ausgewählten“ Blöcken gestalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klingt nach der perfekten Gelegenheit, CSS Grid zu nutzen! Erstellen Sie ein Rasterlayout für verschiedene Layouts, z. B. ein fünfspaltiges und ein dreispaltiges Layout, und wechseln Sie dann mithilfe von Medienabfragen auf verschiedenen Bildschirmgrößen zwischen diesen. Recht? Aber brauchen wir diese Medienabfragen und all diese Probleme beim Definieren von Kontrollpunkten wirklich, wenn Sie nur den Parameter Grid verwenden können </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, der das adaptive Grid für uns erstellt? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Idee schien mir verlockend, aber als ich begann Elemente über mehrere Spalten des Rasters Hinzufügen ( </font></font><em><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spannweiten</font></font></b></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) begann das Gitter auf schmalen Bildschirmen aus der Seite zu kriechen. </font><font style="vertical-align: inherit;">Medienanfragen schienen die einzige Lösung zu sein. </font><font style="vertical-align: inherit;">Aber ich habe etwas Besseres gefunden! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich eine Reihe von Artikeln über CSS Grid studiert hatte, stellte ich fest, dass sie hauptsächlich in zwei Typen unterteilt sind:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So erstellen Sie ein interessantes Layout mit Bereichen, jedoch mit einer bestimmten Anzahl von Spalten.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So erstellen Sie ein </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adaptives</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Layout in einem Raster, jedoch mit Spalten gleicher Breite (d. H. Ohne Bereiche).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte, dass das Raster sowohl dies als auch das implementiert: ein vollständig adaptives Layout mit adaptiver Größenänderung mehrspaltiger Elemente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Schöne ist, dass es einfach ist, ein Magazinlayout </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit Dutzenden von Codezeilen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und einer Medienabfrage </font><font style="vertical-align: inherit;">zu erstellen, sobald Sie die Einschränkungen von adaptiven Rastern verstehen und warum und wann Bereiche die Anpassungsfähigkeit </font><font style="vertical-align: inherit;">aufheben (oder sogar ohne sie, wenn Sie die Vielfalt der Bereiche einschränken möchten). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein klarer Vergleich des RSS-Plugins aus der Box und des Ergebnisses unserer Arbeit (anklickbar):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/vy/fm/invyfmr9wggf_x3z20znmwfyn8y.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein vollständig adaptives Magazinlayout mit farbigen „ausgewählten“ Blöcken, die sich je nach Anzahl der Spalten dynamisch an das Layout anpassen. Die Seite zeigt ungefähr 50 Beiträge an, aber der Layoutcode hängt nicht von der Anzahl der Elemente ab. Sie können die Anzahl der Beiträge in den Plugin-Einstellungen leicht auf 100 erhöhen, und das Layout bleibt ganz unten interessant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All dies wird ausschließlich durch CSS und die Verwendung von nur einer Medienabfrage erreicht, um Inhalte in einer Spalte auf den engsten Bildschirmen (weniger als 460 Pixel) anzuzeigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was am unglaublichsten ist, das gesamte Layout umfasste nur 21 Zeilen CSS (ohne Berücksichtigung der allgemeinen Stile der Website). Um diese Flexibilität mit so wenig Code zu erreichen, musste ich jedoch tief in die dunkelsten Tiefen des CSS-Rasters eintauchen und lernen, wie ich einige seiner Einschränkungen umgehen kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Code, auf dem das gesamte Layout basiert, ist unglaublich kurz und alles dank der Pracht des CSS-Grids:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.archive</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, minmax(<span class="hljs-number">210px</span>, <span class="hljs-number">1</span>fr));
  <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">32px</span>;
  <span class="hljs-attribute">grid-auto-flow</span>: dense;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">/*    */</span>
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(31n</span> + 1) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / -<span class="hljs-number">1</span>;<font></font>
}<font></font>
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(16n</span> + 2) {
  <span class="hljs-attribute">grid-column</span>: -<span class="hljs-number">3</span> / -<span class="hljs-number">1</span>;<font></font>
}<font></font>
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(16n</span> + 10) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / -<span class="hljs-number">2</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">/*     */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width:</span> <span class="hljs-number">459px</span>) {
  <span class="hljs-selector-class">.archive</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die in diesem Artikel beschriebene Technik kann sicher verwendet werden, um dynamisch generierte Inhalte zu stilisieren, unabhängig davon, ob es sich um die Ausgabe des Widgets der letzten Beiträge, Archivseiten oder Suchergebnisse handelt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie ein adaptives Netz</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe 17 Elemente erstellt, um die Vielfalt zukünftiger Inhalte zu demonstrieren - Überschriften, Bilder und Auszüge </font></font><code>&lt;div&gt;&lt;/div&gt;</code><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"archive"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"article"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--  --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span><font></font>
<font></font>
  <span class="hljs-comment">&lt;!--  16  --&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Code zum Umwandeln dieser Elemente in ein adaptives Raster ist besonders kompakt:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.archive</span> {
  <span class="hljs-comment">/*     - */</span>
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-comment">/*        ,       180 . */</span>
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, minmax(<span class="hljs-number">180px</span>, <span class="hljs-number">1</span>fr));
  <span class="hljs-comment">/*     */</span>
  <span class="hljs-attribute">grid-gap</span>: <span class="hljs-number">1em</span>;<font></font>
}<font></font>
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ Demo auf CodePen</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Beachten Sie, wie sich die</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"> Zeilenhöhe</font></b></a><font style="vertical-align: inherit;"> automatisch an den höchsten Inhaltsblock in der Zeile anpasst. </font><font style="vertical-align: inherit;">Wenn Sie die Breite in der Demo über den obigen Link ändern, werden Sie feststellen, dass die Elemente automatisch vergrößert und verkleinert werden und sich die Anzahl der Spalten von 1 auf 5 ändert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier in Aktion sehen wir die CSS-Grid-Magie namens</font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dieses Schlüsselwort funktioniert in Verbindung mit der Funktion, auf die</font></font><code>minmax()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">angewendet wird</font></font><code>grid-template-columns</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie es funktioniert</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das fünfspaltige Layout selbst kann folgendermaßen erhalten werden:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.archive</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">5</span>, <span class="hljs-number">1</span>fr);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dadurch wird jedoch ein fünfspaltiges Layout erstellt, das sich bei unterschiedlichen Bildschirmbreiten erstreckt und zusammenzieht, jedoch immer fünfspaltig bleibt, was zu schrecklich schmalen Spalten auf kleinen Bildschirmen führt. Das erste, was mir in den Sinn kommt, ist, eine Reihe von Medienabfragen zu schreiben und ein Raster mit einer anderen Anzahl von Spalten neu zu definieren. Das würde funktionieren, aber das Schlüsselwort </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erledigt alles automatisch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Funktion nach Bedarf zu nutzen </font></font><code>minmax()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Auf diese Weise teilen wir dem Browser mit, wie stark Sie die Spalten komprimieren und wie stark sie gedehnt werden können. Wenn eine der Grenzen erreicht ist, nimmt die Anzahl der Spalten zu bzw. ab.</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.archive</span> {
  <span class="hljs-attribute">grid-template-columns</span>: repeat (auto-fit, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">180px</span>, <span class="hljs-number">1</span>fr));<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Beispiel versucht der Browser, so viele Spalten mit einer Breite von bis zu 180 Pixel aufzunehmen. </font><font style="vertical-align: inherit;">Wenn zu viel Platz vorhanden ist, werden alle Spalten erweitert und gleichmäßig auf sich aufgeteilt. </font><font style="vertical-align: inherit;">Dies bestimmt die Bedeutung </font></font><code>1fr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Die Spaltengrößen müssen gleich Brüchen ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aktionen) der verfügbaren Breite sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie das Browserfenster strecken, werden alle Spalten mit zunehmendem freien Speicherplatz gleich groß. </font><font style="vertical-align: inherit;">Sobald der neu gefundene Speicherplatz 180 Pixel erreicht, wird an seiner Stelle eine neue Spalte angezeigt. </font><font style="vertical-align: inherit;">Und wenn Sie das Browserfenster verkleinern, geschieht alles umgekehrt und passt das Raster perfekt an, bis es zu einem einspaltigen Layout wird. </font><font style="vertical-align: inherit;">Magie! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ Videodemo</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Und all diese Anpassungsfähigkeit dank einer Codezeile. </font><font style="vertical-align: inherit;">Na cool?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen von Spannen mit "Autoflow: Dicht"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Moment haben wir also bereits ein adaptives Gitter, das sind nur alle seine Elemente - die gleiche Breite. </font><font style="vertical-align: inherit;">Das Layout einer Zeitung oder Zeitschrift impliziert das Vorhandensein ausgewählter Blöcke, in diesem Zusammenhang solcher, die zwei, drei oder sogar alle verfügbaren Spalten abdecken würden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um mehrspaltige Bereiche zu erstellen, können wir die Eigenschaft </font></font><code>grid-column: span</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in den Elementen verwenden, die mehr Platz belegen sollen. </font><font style="vertical-align: inherit;">Angenommen, das dritte Listenelement soll zwei Spalten breit sein:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(3)</span> {
  <span class="hljs-attribute">grid-column</span>: span <span class="hljs-number">2</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Hinzufügen von Bereichen können jedoch viele Probleme auftreten. </font><font style="vertical-align: inherit;">Erstens können sich in den Fällen Löcher im Gitter bilden, wenn das breite Element nicht auf seine Linie passt und </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es auf Folgendes überträgt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tg/xl/8i/tgxl8iziz5_tm6pnng4wpnbbghm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies lässt sich leicht beheben, indem Sie </font></font><code>grid-auto-flow: dense</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dem Raster </font><font style="vertical-align: inherit;">eine Eigenschaft hinzufügen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Aufgrund dieser Eigenschaft versteht der Browser, dass Löcher mit anderen Elementen gefüllt werden müssen. </font><font style="vertical-align: inherit;">Dies erzeugt einen Fluss um die breiteren Elemente, die enger sind:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tt/j9/hn/ttj9hndgzfsxehzxw1iqdxz4fa4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte beachten Sie: Die Reihenfolge der Elemente ist fehlerhaft, jetzt steht das vierte Element vor dem dritten. </font><font style="vertical-align: inherit;">Soweit ich weiß, kann dies nicht umgangen werden. Dies ist eine der Einschränkungen von CSS Grid, die akzeptiert werden müssen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Möglichkeiten, Spannweiten zu identifizieren</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt verschiedene Möglichkeiten, die Anzahl der Spalten anzugeben, die ein Element belegen soll. </font><font style="vertical-align: inherit;">Es ist am einfachsten, </font></font><code>grid-columns: span [n]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf eines der Elemente </font><font style="vertical-align: inherit;">anzuwenden </font><font style="vertical-align: inherit;">, wobei </font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Anzahl der Spalten angegeben wird, die das Element belegen wird. </font><font style="vertical-align: inherit;">Für das dritte Element in unserem Layout ist eine Eigenschaft registriert </font></font><code>grid-column: span 2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, was erklärt, warum seine Breite doppelt so groß ist wie bei anderen Elementen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um andere Methoden verwenden zu können, müssen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Gitterlinien angeben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Gitterlinien sind wie folgt nummeriert:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xg/za/yn/xgzaynnxcflkzedtleek72epqcs.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gitterlinien können von links nach rechts mit positiven Zahlen (z. B. 1, 2, 3) oder von rechts nach links mit negativen Zahlen (-1, -2, -3) angezeigt werden. </font><font style="vertical-align: inherit;">Sie können verwendet werden, um Elemente mithilfe einer Eigenschaft </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie </font><font style="vertical-align: inherit;">folgt im Raster zu platzieren </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.grid-item</span> {
  <span class="hljs-attribute">grid-column</span>: ( ) / ( );<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Gitterlinien erweitern also unsere Fähigkeit, Bereiche zu definieren. </font><font style="vertical-align: inherit;">Flexibilität wird durch die Möglichkeit hinzugefügt, den Anfangs- oder Endwert durch ein Schlüsselwort zu ersetzen </font></font><code>span</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Zum Beispiel kann der dreispaltige blaue Block im obigen Beispiel erstellt werden, indem eine dieser Eigenschaften auf das achte Gitterelement angewendet wird:</font></font><br>
<br>
<ul>
<li><code>grid-column: 3 / 6</code></li>
<li><code>grid-column: -4 / -1</code></li>
<li><code>grid-column: 3 / span 3</code></li>
<li><code>grid-column: -4 / span 3</code></li>
<li><code>grid-column: span 3 / -1</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usw.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In einem nicht adaptiven Gitter (d. H. Mit einer festen Anzahl von Spalten) ergibt jede dieser Eigenschaften das gleiche Ergebnis (wie im obigen Beispiel mit dem blauen Block). </font><font style="vertical-align: inherit;">Wenn das Raster jedoch anpassungsfähig ist und sich die Anzahl der Spalten ändert, wird der Unterschied sehr deutlich. </font><font style="vertical-align: inherit;">Einige Bereiche unterbrechen das Layout bei aktiviertem Auto-Wrap, sodass diese beiden Lösungen nicht kompatibel sind. </font><font style="vertical-align: inherit;">Glücklicherweise können wir sie mit einigen Tricks sicher kombinieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber zuerst müssen wir das Problem verstehen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probleme mit dem horizontalen Bildlauf</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier sind einige „vorgestellte Elemente“, die mit der Rasterlinienmethode erstellt wurden (anklickbar):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/nz/9m/uq/nz9muqk1spn-eujmvhwutl9rblm.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Über die gesamte Breite (fünf Spalten) sieht alles gut aus. Wenn Sie jedoch den Bildschirm auf eine Größe reduzieren, bei der zwei Spalten vorhanden sein sollten, wird das Layout folgendermaßen unterbrochen:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bb/oh/uu/bbohuutkvjhpbtv4ocjhmx0uodu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen, hat unser Raster seine Anpassungsfähigkeit verloren, und obwohl der Container geschrumpft ist, versucht das Raster, alle fünf Spalten zu unterstützen. Zu diesem Zweck versucht sie weiterhin, dieselbe Spaltenbreite zu verwenden, und geht schließlich über die Grenzen ihres Containers rechts hinaus. Daraus ergibt sich ein horizontaler Bildlauf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum passiert es? Das Problem ist, dass der Browser versucht, unsere genauen Anweisungen für die Gitterlinien einzuhalten. Bei dieser Breite sollte das </font></font><code>auto-fit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raster nur zwei Spalten anzeigen, aber unser Nummerierungssystem für Stapelzeilen widerspricht dem und bezieht sich speziell auf die fünfte Zeile. Dieser Widerspruch führt zu Unordnung. Um unser implizites zweispaltiges Raster korrekt anzuzeigen, können nur die Zahlen 1, 2, 3 und -3, -2, -1 wie folgt verwendet werden:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/s3/7t/1q/s37t1qfemvneeuufd7jvsantkz4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn jedoch eines der Elemente unseres Rasters Anweisungen </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">außerhalb dieser Grenzen enthält, z. B. 4, 5 oder -6, erhält der Browser mehrdeutige Anweisungen. Einerseits bitten wir Sie, automatisch flexible Spalten zu erstellen (die - implizit - bei dieser Bildschirmbreite zwei bleiben sollten). Andererseits haben wir explizit auf Gitterlinien verwiesen, die in einem zweispaltigen Format nicht existieren können. Wenn es einen Widerspruch zwischen impliziten (automatischen) Spalten und ihrer explizit definierten Anzahl gibt, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bevorzugt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> das </font><b><font style="vertical-align: inherit;">Raster immer eine explizite Definition</font></b><font style="vertical-align: inherit;"> . So erscheinen unerwünschte Spalten und horizontaler Überlauf (was sie als </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS-Datenverlust bezeichnen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Bereiche können wie Gitterliniennummern explizite Spaltendefinitionen erstellen. </font><font style="vertical-align: inherit;">Gitterspalte: span 3 (das achte Gitterelement in der Demo) zwingt das Gitter, explizit mindestens drei Spalten zu haben, obwohl wir zwei implizite Spalten wollen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint, dass die einzige Möglichkeit darin besteht, Medienabfragen zu verwenden, um die Werte </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in der gewünschten Breite </font><font style="vertical-align: inherit;">zu ändern </font><font style="vertical-align: inherit;">... aber beeilen Sie sich nicht! </font><font style="vertical-align: inherit;">Das dachte ich auch zuerst. </font><font style="vertical-align: inherit;">Nach einigem Nachdenken und Herumspielen mit verschiedenen Einstellungen stellte ich jedoch fest, dass es einige Möglichkeiten gibt, dieses Problem zu umgehen, dank derer wir immer noch nur eine Medienanforderung für die engsten Geräte haben.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lösungen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie sich herausstellte, besteht der Trick darin, die Bereiche nur anhand von Zeilennummern zu bestimmen, die für das engste Raster der zur Anzeige geplanten Raster verfügbar sind. </font><font style="vertical-align: inherit;">In diesem Fall handelt es sich um ein zweispaltiges Raster (wir verwenden eine Medienabfrage für die einspaltige Anzeige). </font><font style="vertical-align: inherit;">Somit können Sie die Zahlen 1, 2, 3 und ihre negativen Paare sicher verwenden, ohne das Gitter zu brechen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst dachte ich, ich würde mich mit diesen Zahlenkombinationen auf die Breite der Spanne in zwei Spalten beschränken:</font></font><br>
<br>
<ul>
<li><code>grid column: span 2</code></li>
<li><code>grid-column: 1 /3</code></li>
<li><code>grid-column: -3 / -1</code></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/m5/q5/q8/m5q5q8beij-uiipgfasj_cndegy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Welche bleiben bis zu zwei Lautsprechern perfekt anpassbar:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/m0/ln/xb/m0lnxbx2i2axufbbyde7nusr-v4.png"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obwohl dies funktioniert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ist dies aus gestalterischer Sicht eine ernsthafte Einschränkung und nicht zu hell. Ich wollte Spannweiten in der Breite von drei, vier oder sogar fünf Spalten auf Breitbildschirmen erstellen. Aber wie? Mein erster Gedanke war, wieder zu Medienabfragen zurückzukehren (omg, es ist schwierig, alte Gewohnheiten loszuwerden), aber ich habe trotzdem versucht, diesen Ansatz zu vermeiden und das reaktionsschnelle Design aus einem anderen Blickwinkel zu betrachten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim erneuten Betrachten der Liste der verfügbaren Zahlen wurde mir plötzlich klar, dass positive und negative Zahlen in den Anfangs- und Endwerten </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beispielsweise kombiniert werden </font></font><code>1/-3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">können.</font></font><code>2/-2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Es scheint nichts interessantes. Dies scheint jedoch nicht mehr der Fall zu sein, wenn Sie die Position der Linien nach dem Ändern der Rastergröße verstehen: Bereiche ändern die Breite entsprechend der Breite des Bildschirms. Eine ganze Reihe neuer Möglichkeiten für adaptive Bereiche eröffnet insbesondere Elemente, die eine andere Anzahl von Spalten mit einer Änderung der Bildschirmbreite umfassen, ohne dass Medienabfragen erforderlich sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das erste Beispiel, das ich entdeckt habe, ist </font></font><code>grid-column: 1/-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Diese Eigenschaft verwandelt das Element in ein Banner in voller Breite, das alle Spalten vom ersten bis zum letzten füllt, auch wenn nur eine Spalte vorhanden ist! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verwenden von</font></font><code>grid-column: 1/-2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">können Sie eine Spanne "fast in voller Breite" erstellen, die alle Spalten von links nach rechts mit Ausnahme der letzten ausfüllt. In einem zweispaltigen Layout wird eine solche Spanne adaptiv zu einem gewöhnlichen Element in einer Spalte. Überraschenderweise funktioniert es auch, wenn das Layout auf eine Spalte komprimiert wird. (Es scheint, dass der Grund dafür ist, dass das Raster das Element nicht auf die Breite Null reduziert und daher die Breite einer Spalte bleibt, wie im Fall von </font></font><code>grid-column: 1/1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.) Ich ging davon aus, dass es </font></font><code>grid-column: 2/-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">genauso funktionieren sollte, nur eine Spalte links und nicht rechts unberührt lassen sollte . Es stellte sich als fast richtig heraus, dass beim Komprimieren des Layouts auf eine Spalte immer noch ein Überlauf auftritt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann habe ich eine Kombination versucht</font></font><code>1/-3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Es funktionierte gut auf Breitbildschirmen, die mindestens drei Spalten füllten, und auf schmalen, die nur eine füllten. Ich dachte, dass sich bei einem zweispaltigen Raster etwas Seltsames herausstellen würde, da die erste Zeile des Rasters mit der Zeile unter der Zahl identisch ist </font></font><code>-3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Zu meiner Überraschung wird der Artikel in einer Spalte korrekt angezeigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach zahlreichen Experimenten habe ich herausgefunden, dass es 11 geeignete Werte </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von denen gibt, die in einem zweispaltigen Raster verfügbar sind. Drei davon funktionieren sogar in einem einspaltigen Layout. Sieben andere funktionieren bis zu zwei Spalten korrekt, und für eine ordnungsgemäße Anzeige in einer Spalte benötigen sie nur eine Medienabfrage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist die vollständige Liste:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_t/dv/bd/_tdvbd8_atfcs8y8us61wq3xzws.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Demonstration adaptiver Rasterspaltenwerte auf verschiedenen Bildschirmgrößen in einem Auto-Fit-Raster. </font><font style="vertical-align: inherit;">( </font></font><em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo</font></font></a></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen gibt es trotz einer relativ begrenzten Anzahl von adaptiven Bereichen viele Möglichkeiten.</font></font><br>
<br>
<ul>
<li><code>2/-2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Eine interessante Kombination, die eine zentrierte Spanne erzeugt, die bis zum einspaltigen Raster reicht!</font></font></li>
<li><code>3/-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - am wenigsten nützlich, da dies selbst bei zwei Spalten zu einem Überlauf führt.</font></font></li>
<li><code>3/-3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eine angenehme Überraschung.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aufgrund der Vielzahl von Werten </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aus dieser Liste ist es möglich, ein interessantes und vollständig ansprechendes Layout zu erstellen. </font><font style="vertical-align: inherit;">Mit einer einzelnen Medienabfrage für die engste einspaltige Anzeige können zehn verschiedene Muster verwaltet werden </font></font><code>grid-column</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieselbe Medienabfrage ist recht einfach, sagen wir mal unkompliziert. </font><font style="vertical-align: inherit;">In unserem Beispiel ist er dafür verantwortlich, die Rasteranzeige auf Flexbox umzustellen:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width:</span> <span class="hljs-number">680px</span>) {
  <span class="hljs-selector-class">.archive</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-selector-class">.article</span> {
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">2em</span>;<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist das endgültige Raster, das, wie Sie vielleicht bemerkt haben, vollständig reagiert - von einer bis fünf Spalten (anklickbar):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/939/9aa/ad0/9399aaad0e89f01d46745aae0efaa928.gif"></div></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwendung: nth-child () zum Wiederholen der dynamischen Breite</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um meinen Code auf zwei Dutzend Zeilen zu reduzieren, habe ich einen anderen Trick angewendet. Mit dem Selektor </font></font><code>:nth-child(n)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">konnte ich eine große Anzahl von Elementen gleichzeitig formatieren. Meine ganze Idee mit Spannen war es, auf viele Beiträge im Feed angewendet zu werden, damit ausgewählte Blöcke regelmäßig auf der Seite erscheinen. Zuerst habe ich eine durch Kommas getrennte Liste von Selektoren mit einer klar definierten Elementnummer geschrieben:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(2)</span>,
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(18)</span>,
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(34)</span>,
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(50)</span>  {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>,<span class="hljs-number">0</span>,<span class="hljs-number">64</span>,<span class="hljs-number">0.8</span>);
  <span class="hljs-attribute">grid-column</span>: -<span class="hljs-number">3</span> / -<span class="hljs-number">1</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Geschwindigkeit wurde mir klar, dass dies ein sehr zeitaufwändiger Prozess ist, insbesondere wenn Sie die gesamte Liste der Bedingungen für jedes untergeordnete Element kopieren müssen, das innerhalb des Artikels geändert werden muss - Überschrift, Links usw. Während des Prototyping musste ich die Nummern in jeder dieser Listen jedes Mal manuell ändern, wenn ich mit der Position der Bereiche spielen wollte. Ein langweiliger und fehleranfälliger Prozess. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damals wurde mir klar, dass Sie die coole Funktion des Pseudo-Selektors nutzen können </font></font><code>:nth-child</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Geben Sie </font><font style="vertical-align: inherit;">anstelle eines ganzzahligen Werts beispielsweise einen Ausdruck ein, </font></font><code>:nth-child(2n+ 2)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dh jedes zweite untergeordnete Element. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf diese Weise habe ich </font></font><code>:nth-child([])</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einen blauen Block in voller Breite in meinem Raster erstellt, der oben auf der Seite und dann in der Mitte der Liste angezeigt wird:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(31n</span> + 1) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / -<span class="hljs-number">1</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">11</span>, <span class="hljs-number">111</span>, <span class="hljs-number">222</span>, <span class="hljs-number">0.5</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Code in Klammern ( </font></font><code>31n + 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ist für die Auswahl des 1., 32., 63. usw. verantwortlich. untergeordnetes Element. Der Browser startet die Schleife beginnend mit n = 0 ( </font></font><code>31 * 0 + 1 = 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), dann </font></font><code>n=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>31 * 1 + 1 = 32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) und schließlich </font></font><code>n=2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>31 * 2 + 1 = 63</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Im letzteren Fall versteht der Browser, dass es kein 63. untergeordnetes Element gibt, ignoriert die Regel, stoppt den Zyklus und wendet die Regel auf das 1. und 32. Element an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich mache etwas Ähnliches für die lila Blöcke, die links oder rechts auf der Seite erscheinen:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(16n</span> + 2) {
  <span class="hljs-attribute">grid-column</span>: -<span class="hljs-number">3</span> / -<span class="hljs-number">1</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">0.8</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(16n</span> + 10) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / -<span class="hljs-number">2</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">0.8</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Selektor ist für die linken lila Blöcke. Der Ausdruck </font></font><code>16n + 2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist dafür verantwortlich, Stile auf jedes 16. Rasterelement anzuwenden, beginnend mit dem zweiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der zweite Selektor ist für die rechten lila Blöcke. Das Intervall ist das gleiche ( </font></font><code>16n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), aber die Verschiebung ist unterschiedlich ( </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Infolgedessen befinden sich diese Blöcke regelmäßig auf der rechten Seite des Rasters in Elementen mit den Nummern 10, 26, 42 usw. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die visuellen Stile dieser Elemente habe ich einen anderen Trick verwendet, um zu vermeiden, dass sich der Code wiederholt. Für gängige Stile von lila Blöcken (zum </font></font><code>background-color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel </font><font style="vertical-align: inherit;">für offensichtliche </font><font style="vertical-align: inherit;">) können Sie einen Selektor verwenden:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span><span class="hljs-selector-pseudo">:nth-child(8n</span> + 2) {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">128</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">0.8</span>);
  <span class="hljs-comment">/* Other shared syling */</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dieser Auswahl werden die Elemente 2, 10, 18, 26, 34, 42, 50 und mehr ausgewählt. </font><font style="vertical-align: inherit;">Mit anderen Worten, er wählt sowohl den linken als auch den rechten Block aus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies funktioniert, weil </font></font><code>8n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- dies genau die Hälfte </font></font><code>16n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist und die Verschiebungsdifferenz zwischen den beiden Selektoren ebenfalls 8 beträgt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Letztes Wort</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CSS Grid kann jetzt verwendet werden, um flexible, reaktionsschnelle Netze mit minimalem Code zu erstellen. Wenn Sie jedoch die Verwendung von retrograden Medienabfragen vermeiden, gibt es erhebliche Einschränkungen bei der Positionierung von Elementen im Raster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wäre sehr cool, Bereiche erstellen zu können, die nicht zu horizontalem Scrollen und Überlaufen auf kleinen Bildschirmen führen würden. Jetzt können wir dem Browser sagen: "Erstellen Sie bitte ein adaptives Raster", und das macht es sehr gut. Sie müssen jedoch nur hinzufügen: „Oh, und dieses Element des Rasters ist bitte in vier Spalten unterteilt.“ Er bewegt den Griff zu schmalen Bildschirmen, wobei er die Anforderung einer Spannweite von vier Spalten anstelle eines adaptiven Rasters bevorzugt. Es wäre möglich, das Raster dazu zu bringen, das Gegenteil zu tun, zum Beispiel so:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span> {
  <span class="hljs-attribute">grid-column</span>: span <span class="hljs-number">3</span>, autofit;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiteres Problem bei reaktionsschnellen Gittern ist die letzte Zeile. </font><font style="vertical-align: inherit;">Das Ändern der Bildschirmbreite kann häufig dazu führen, dass sie leer ist. </font><font style="vertical-align: inherit;">Ich habe lange versucht, einen Weg zu finden, um das letzte Element des Gitters auf die verbleibenden Spalten auszudehnen (bzw. die Zeile zu füllen), aber es scheint unmöglich zu sein. </font><font style="vertical-align: inherit;">Zumindest für jetzt. </font><font style="vertical-align: inherit;">Es wäre schön, die Gelegenheit zu bekommen, die Anfangsposition des Elements mit einem Schlüsselwort festzulegen, wie </font></font><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sozusagen "Füllen Sie die Zeile bis zum Ende, beginnend am linken Rand". </font><font style="vertical-align: inherit;">Irgendwie so:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.article</span> {
  <span class="hljs-attribute">grid-column</span>: auto, -<span class="hljs-number">1</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... das würde die Spanne am linken Rand des Gitters bis zum Ende der Linie verlängern.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de492744/index.html">Welches System wird am lautesten sein und welches wird "absolute" Stille geben: zwei interessante wissenschaftliche Projekte</a></li>
<li><a href="../de492746/index.html">Wie vermeide ich Programmierverbrechen? Integrator-Tipps</a></li>
<li><a href="../de492748/index.html">Beruf DevOps-Ingenieur: Eine Ansicht des Systemadministrators</a></li>
<li><a href="../de492754/index.html">Warum JavaScript HTML verschlingt: Codebeispiele</a></li>
<li><a href="../de492758/index.html">Podcasts für Entwickler</a></li>
<li><a href="../de492762/index.html">Anlegeralphabet: Was ist Margin Call und wie kann man es vermeiden?</a></li>
<li><a href="../de492766/index.html">Wir pumpen Arbeit mit Ereignissen in Angular</a></li>
<li><a href="../de492768/index.html">Greybox Fuzzing am Beispiel von AFLSmart</a></li>
<li><a href="../de492770/index.html">Remote lernen, verhandeln, beraten - Teil 1: Mind Server und seine kostenlose Version</a></li>
<li><a href="../de492772/index.html">Wie Amazon versucht, die riskantesten Produkte auf der Website zu verklagen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>