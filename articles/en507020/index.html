<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüöí ‚öôÔ∏è üë®‚Äçüë®‚Äçüëß Reference architectures: how to build a software-defined data center? üßõüèª üì∑ üöÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To create a software-defined data center, reference architectures proposed by vendors can be used. The following describes how to build VMware Softwar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Reference architectures: how to build a software-defined data center?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lenovo/blog/507020/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To create a software-defined data center, reference architectures proposed by vendors can be used. </font><font style="vertical-align: inherit;">The following describes how to build VMware Software Defined Data Center using Lenovo ThinkAgile VX nodes.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is SDDC?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, what is a software-defined (or software-configurable) data center (Software Defined Data Center, SDDC)? First of all, it is a data center with a high degree of automation, practically requiring no physical intervention. All infrastructure components of such a data center are virtualized, and its management is fully automated using software. In the case of VMware SDDC, this is vSphere software. VMware vSphere provides virtualization at every level, including levels of computing, network and storage resources. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/wy/tx/zo/wytxzo-g56xcztojb_47tnyz9dc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDDC allows you to flexibly provide users with computing, network and storage services.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In a software-defined data center, policy-based automation provides resource allocation and management. </font><font style="vertical-align: inherit;">The result is the flexibility and efficiency of IT, supporting all kinds of equipment and applications. </font><font style="vertical-align: inherit;">Today, SDDC is a proven architectural approach based on virtualization and automation, and it can be implemented in stages, without immediately replacing the existing IT infrastructure. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/io/7w/el/io7welnlqjsq5goehkwl72a4k7q.png"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In a software-defined data center, the entire infrastructure is virtualized, and management is automated using software. </font><font style="vertical-align: inherit;">VMware has been promoting the SDDC concept since 2012.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is it for?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With the increasing complexity of IT, it becomes more difficult to manage the IT infrastructure in the data center and anticipate the impact of the changes. The requirements of the business are superimposed on infrastructure problems: cost reduction, more flexible use of applications that can meet user requirements for stability, performance, availability and ease of updating. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sx/7f/4c/sx7f4chc5h8zdkhqeuurehtgqv8.jpeg"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware SDDC includes all the software needed to build an enterprise infrastructure.</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
VMware SDDC products include VMware vSphere Computing Virtualization Software, VMware vSphere and VMware vSAN Storage Virtualization, VMware NSX Network Virtualization, as well as the VMware vRealize cloud management platform and the integrated VMware EVO system.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The goal is to have a flexible, easy-to-manage IT infrastructure that is adaptable to changing needs. Thanks to the virtualization of computing, storage, and SDDC networks, it is less dependent on physical hardware, the underlying hardware platform. Policy-based configuration and on-demand provision of IT resources simplifies data center management, expanding and updating its infrastructure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result of creating SDDC is high efficiency and low costs. Virtualized IT services and automated operations management open up new possibilities for using resources and increasing staff productivity. Policy-based configuration allows you to quickly deploy workloads, and resource utilization is automatically configured to meet changing needs. Automation of security features with virtualization in mind extends uptime. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vendors offer several hardware and software configurations for deploying SDDC, including turnkey hyperconverged solutions - integrated hardware and software systems, as well as reference, reference architecture. They are designed for a wide range of applications and workloads.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Below, we will introduce the reference architecture for creating a VMware software-defined data center using Lenovo ThinkAgile VX certified nodes and devices, as well as the components for integrating a local VMware vRealize cloud with Amazon AWS. </font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lenovo ThinkAgile VX SDDC</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This architecture covers the following VMware software products:</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Product</font></font></b></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Appointment</font></font></b></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vsphere 6.7u1 (and vsphere 6.5 u2)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">virtualization of computing resources.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vsan 6.7u1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">software defined storage (sds).</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nsx for vsphere 6.4.4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">network virtualization using sdn and integration with gateways.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vcloud suite 7.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vmware vsphere-based private cloud using vrealize suite </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
and vsphere data protection and availability add-on products.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vrealize suite 7.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud management for private, public and hybrid cloud environments with </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
support for multiple hypervisors.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aws server migration service connector 1.0.12.50</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migration of virtual machines from a local vsphere cloud to an aws public </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cloud.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vmware vcf 4.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rapid deployment and efficient management of sddc infrastructure.</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some of the components of VMware SDDC are described in more detail below. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lenovo's architecture for VMware SDDC provides enterprises with a cloud-based solution for managing all virtualized workloads. </font><font style="vertical-align: inherit;">Based on Lenovo ThinkAgile VX server nodes and network hardware, this reference architecture provides deployment-ready and proven configurations.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lenovo ThinkAgile VX nodes are for deploying VMware Hyper-Converged Infrastructure (HCI) software. </font><font style="vertical-align: inherit;">They provide Lenovo's proven and integrated hardware and software with the VMware ESXi hypervisor. </font><font style="vertical-align: inherit;">This solution is certified to work with VMware software and meets the functional requirements for SDDC. </font><font style="vertical-align: inherit;">Its goal is to simplify deployment, provide a quick return on investment and reduce IT costs. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDDC Functional Requirements</font></font></b><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demand</font></font></b></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description</font></font></b></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Virtualization</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Provides virtualization for computing, storage, and networking.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoring, event management and planning</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoring the performance of cloud infrastructure, collecting and processing </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
events, capacity planning.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automation and self-service</font></font></td>
<td> ,      <br>
   .</td>
</tr>
<tr>
<td> </td>
<td>, ,     <br>
.</td>
</tr>
<tr>
<td></td>
<td>   ,    <br>
    .</td>
</tr>
<tr>
<td>  </td>
<td>  ,  ,   <br>
 ,      .</td>
</tr>
<tr>
<td> </td>
<td> ,  ,     <br>
  .</td>
</tr>
<tr>
<td>   </td>
<td>   ,    <br>
   .</td>
</tr>
<tr>
<td> </td>
<td> ,        <br>
 .</td>
</tr>
<tr>
<td>  </td>
<td>         <br>
.</td>
</tr>
</tbody></table></div><br>
<img src="https://habrastorage.org/webt/g-/vr/5r/g-vr5r5819lin-tgibv7mrr1-jg.png"><br>
<i> VMware SDDC.      .     .</i><br>
<br>
<h3> VMware SDDC</h3><br>
<img src="https://habrastorage.org/webt/wk/e9/pa/wke9panjtn7iyuzqlx65egczl-g.png"><br>
<i>  VMware SDDC.</i><br>
<br>
<b>VMware SDDC   :</b><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b></b></td>
<td><b></b></td>
</tr>
<tr>
<td> ESXi</td>
<td>     vSan <br>
 .</td>
</tr>
<tr>
<td>vCenter Server</td>
<td>    vSphere,   <br>
  vSphere.</td>
</tr>
<tr>
<td>   (PSC)</td>
<td>    ,  <br>
  (SSO),     (CA).</td>
</tr>
<tr>
<td>vRealize Suite Lifecycle Manager</td>
<td>   ,  , ,<br>
    vRealize suite,      <br>
 .</td>
</tr>
<tr>
<td>vRealize automation</td>
<td>  -     <br>
         <br>
      ,  ,<br>
    .</td>
</tr>
<tr>
<td>vRealize operations</td>
<td>    .</td>
</tr>
<tr>
<td>vCenter Site Recovery Manager (SRM)</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Provides disaster recovery capabilities.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vRealize orchestrator</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allows you to create workflows that automate </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
activities </font><font style="vertical-align: inherit;">such </font><font style="vertical-align: inherit;">as preparing a virtual machine, performing scheduled maintenance and </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
backups.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSX</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Provides network virtualization.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware integrated openstack (VIO)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Provides an OpenStack distribution supported by vmware.</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let us dwell on some components in more detail.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware vSAN</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware vSAN is a software-defined storage (SDS) solution integrated with ESXi hypervisors. VMware vSAN combines the flash cache on three or more 10GbE-connected servers into one shared data store. According to a Gartner study, in the next five years, the share of software-defined storage in the global market will grow to 50%. </font></font><br>
<img src="https://habrastorage.org/webt/if/bp/1m/ifbp1mlcm2vnwe4mzglaha6_jys.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware vSAN can scale up to 64 servers, with each server supporting up to five drive groups. The group includes solid-state drives (SSD) and up to seven hard drives (HDD). Storage performance and capacity can be easily increased by adding disks, flash memory or servers. Cache is used to speed up reading and writing.</font></font><br>
<img src="https://habrastorage.org/webt/qu/sl/ek/quslekfb5z52qqrno2isgm4a1nc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The main workloads hosted on vSAN. </font><font style="vertical-align: inherit;">64% are business-critical applications (according to the VMware survey). </font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware vSAN uses a distributed RAID architecture: data is distributed across a cluster. </font><font style="vertical-align: inherit;">The method used is RAID-0, RAID-1, or RAID-5/6. </font><font style="vertical-align: inherit;">This solution applies Storage Policy Based Management (SPBM). </font><font style="vertical-align: inherit;">Storage resources are allocated dynamically based on the requested policy, and not in advance, as in many traditional solutions. </font></font><br>
<img src="https://habrastorage.org/webt/ul/vy/jp/ulvyjp_spfo9ysxcinznszyn0pc.png"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Features of VMware vSAN.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Network Virtualization</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware NSX Data Center is an SDN solution that allows you to create overlay networks with the same capabilities that are available on a physical network. </font><font style="vertical-align: inherit;">VMware NSX can be used with the VMware vSphere hypervisor, as well as with several other hypervisors. </font><font style="vertical-align: inherit;">In essence, VMware NSX is a set of virtual machines that work together to support an overlay network. </font><font style="vertical-align: inherit;">These components are distributed across multiple hosts or clusters. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSX Components</font></font></b><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Component</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSX manager</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Provides a single SDN management point.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSX controller</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contains overlay network information such as logical </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
switches, VXLANs, and virtual machines.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VTEP VMkernel Interface</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Created by the NSX manager during the initial preparation of the ESXi host to </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
participate in the overlay network.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edge services gateway</font></font></td>
<td>     NSX edge,   ,<br>
NAT, DHCP, VPN,     .</td>
</tr>
<tr>
<td> </td>
<td>    VXLAN. <br>
    NSX manager.</td>
</tr>
<tr>
<td> () </td>
<td> ,    ¬´-¬ª, <br>
  ,   .  <br>
   (LDR).</td>
</tr>
<tr>
<td> </td>
<td>,       ESXi  <br>
 .</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The VMware NSX platform helps you get a ready-made network environment for data centers, physical and virtual, provide centralized management, simplify IT operations and reduce the time it takes to launch new applications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It allows you to abandon proprietary solutions for open, flexible, simple and economical network technologies, speed up networks and reduce the time it takes to launch services, reduce the time it takes to deploy new applications, take advantage of network virtualization, isolation and segmentation technologies, and connect physical workloads to virtual networks. In addition, you can increase the productivity and quality of services by automatically detecting and isolating application flows. For security purposes, data centers use microsegmentation.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware NSX allows you to create virtual networks, characterized by the ability to very quickly deploy a secure environment for new applications from the pool of network resources. </font><font style="vertical-align: inherit;">A virtual network can remove the restrictions imposed by physical infrastructure. </font><font style="vertical-align: inherit;">In addition, thanks to network virtualization, the virtual network of a single application gains mobility and independence from a specific physical infrastructure.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lenovo ThinkAgile VX Certified Nodes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lenovo ThinkAgile VX certified nodes based on Lenovo ThinkSystem SR630 dual-socket 1U servers for a wide range of workloads such as databases, virtualization and cloud computing, VDI, enterprise applications, collaboration and email, streaming multimedia, HPC, and others. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ThinkAgile contains up to 12 2.5-inch hot-swappable SAS / SATA (SFF) hard drives or SSDs or four hot-swappable 3.5-inch (LFF) drives, plus Supports up to 10 hot-swappable SFF U.2 NVMe PCIe drives. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2q/td/d1/2qtdd1ze9b1af3wyvtpjee2u_d0.jpeg"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lenovo ThinkAgile VX 1U Certified Node with 4 drive bays for LFF or 10x SFF drives.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lenovo ThinkAgile VX 2U certified nodes based on Lenovo ThinkSystem SR650 servers are similar to ThinkAgile VX 1U, but have a 2U form factor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wn/ch/q5/wnchq5-jhta95wa6zmfnc3orocg.jpeg"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lenovo ThinkAgile VX 2U Certified Nodes with 16 Slots for SFF, 12 LFF, or 24 SFF</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The main differences between this option and the certified VX 1U nodes are a larger number of expansion slots and chassis supporting up to 24 2.5-inch hot-swappable drives or 14 3.5-inch hot-swappable SAS / SATA drives, or SAS and 8 on U.2 NVMe PCIe SSDs. The ThinkAgile VX 2U also supports up to two NVIDIA graphics cards.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lenovo ThinkAgile VX 2U4N Certified Nodes Based on Lenovo ThinkSystem SD530 is an ultra-dense dual-processor server with a 0.5U form factor. </font><font style="vertical-align: inherit;">With four ThinkAgile VX 2U4N nodes installed in the ThinkSystem D2 Enclosure or the ThinkSystem Modular, you get a 2U high-density platform for enterprise and cloud workloads. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ThinkAgile VX 2U4N can contain up to six hot-swappable 2.5-inch SAS / SATA drives and up to four PCIe U.2 NVMe SSDs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7v/f9/xp/7vf9xpwzagtvjcmgdp9lqok_yfg.jpeg"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lenovo Think Agile VX 2U4N Certified Nodes. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ThinkAgile VX Series systems can be customized for any use case. </font><font style="vertical-align: inherit;">They come with VMware ESXi and are configured to work with vSAN.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the SMB segment, the company offers Lenovo ThinkAgile VX2000 and VX3000 Series platforms:</font></font><br>
<br>
<ul>
<li>Lenovo ThinkAgile VX2320 1U (4 LFF-    ). </li>
<li>Lenovo ThinkAgile VX3000 Series ‚Äî   1U, 2U  1   2U  4 ,    VDI.    GPU.</li>
<li>Lenovo ThinkAgile VX3320 (1U, 10 SFF    ).</li>
<li>Lenovo ThinkAgile VX3520-G (2U, 16 2,5-     ,  NVIDIA PCIe GPU). </li>
<li>Lenovo ThinkAgile VX3720 (2U, 4 , 6 SFF, 2,5-    ).</li>
<li>Lenovo ThinkAgile VX5520 (1U, 12 LFF     ‚Äî 2,5-    3,5-   3,5  ). </li>
<li>Lenovo ThinkAgile VX7320-N (1U, 10 SFF U.2 NVMe PCIe).</li>
<li>Lenovo ThinkAgile VX7520 (2U, 24 SFF    ).</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The standard network for SDDC is 10GbE. </font><font style="vertical-align: inherit;">We recommend using the Lenovo 10GbE ToR RackSwitch G8272 Switch. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ux/og/4f/uxog4f4ayvtdnjpze5yl-5ms1au.jpeg"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Lenovo System Networking RackSwitch G8052 is an Ethernet switch designed for the data center. </font><font style="vertical-align: inherit;">It offers up to 48 GbE ports and up to 4 10GbE ports, provides redundant power supplies, fans and various high-availability features. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server Configuration</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Since client workloads, NSX services, and peripheral services are hosted in a common cluster, the following node configuration is recommended:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 Intel Xeon Gold 6130 processors (2.10 GHz, 16 cores).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">384 GB of system memory.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dual Port 10GbE Network Card.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 x 430-8i HBA.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x 400 GB SSD.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 x 1.2 TB 10 HDD.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M.2 Dual Boot Drives for ESXi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESXi 6.7.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Load balancing and protection</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
An important part of the infrastructure is balancing the load of the server‚Äôs virtual machines and recognizing when the server is down and you need to switch to the second server. For an Internet-connected cluster, it is also important to provide protection against external threats. There are many ways to solve these problems, such as using the F5 Big-IP Edge Gateway or a virtual machine. Details can be found in Lenovo docs. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hyperconverged Storage Using vSAN</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The total capacity for virtual machines in the management cluster is 9 TB. This is subject to the availability of two virtual machines in high availability mode. Add 50% for potential growth. This means 13 TB is needed. Most of this capacity is used by some SQL Server virtual machines and depends on the customer‚Äôs environment. A management cluster requires a total of up to 26 TB. This capacity can be obtained using four servers with two disk groups per server. Each drive group consists of one 400 GB SSD and three 1.2 TB hard drives. The total number of hard drives is 3 x 2 x 4 = 24, which gives a capacity of 26.2 TB. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Management Cluster: Server Configuration</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A management cluster must include at least four hosts to ensure high</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
availability. </font><font style="vertical-align: inherit;">For a large number of management virtual machines that can be used in the management cluster, the following configuration is recommended for each server:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 Intel Xeon Gold 6130 processors (2.10 GHz, 16 cores).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">384 GB of system memory.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dual Port 10GbE Network Card.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 x 430-8i HBA.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x 400 GB SSD.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 x 1.2 TB HDD.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M.2 Dual Boot Drives for ESXi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESXi 6.7.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yahoo Test (YCSB): Lenovo Node Results</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This test is used to indicate relative storage performance for various cluster computing loads. YCSB is a NoSQL testing platform. The test contains various loads for performing read, insert, update, delete and scan operations, which makes it possible to evaluate the load when working with NoSQL databases and the performance of I / O systems. It supports workload customization with varying read / write ratios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The YCSB test was run on Ubuntu 16.04.4 LTS virtual machines with mongodb v3.6.3 and the WiredTiger storage engine. Each virtual machine had 2 virtual CPUs, 4 GB of memory and 50 GB of memory.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The test was performed with 48 and 96 virtual machines. </font><font style="vertical-align: inherit;">In addition, four other Ubuntu 16.04.4 LTS virtual machines with YCSB clients were used to simulate the load on mongodb virtual machines. </font><font style="vertical-align: inherit;">To evaluate the I / O system, 125 simultaneous threads were used to achieve the target speed of 5,000 database operations per second. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Three different workloads were tested, each with a different ratio of read and write operations. </font><font style="vertical-align: inherit;">The following workloads are used:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Workload A - Download (100% Record) - Create 10 Million Records</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/uu/ye/f0/uuyef0meeizvubfukhacc60l45y.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance comparison for workload with 100% record. </font></font></i><br>
 <img src="https://habrastorage.org/webt/ha/d3/ad/had3adgfpotfqpsg1t7p-3v1s_s.png"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance comparison for workload with 50% read and 50% write operations. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/gj/xv/mi/gjxvmij3w5wtkx_g7hss49fnsde.png"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance comparison for workload with 80% of read operations and 20% of write operations.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The YCSB test was run on four Lenovo ThinkAgile 1U certified sites. The nodes used for testing the ESXi 6.7 were equipped with 2 x 6130 processors (16 cores, 2.1 GHz) and 384 GB of system memory, and the nodes for the ESXi 6.7u1 were equipped with 2 Intel Xeon Scalable Gen2 2 x 6230 processors (20 cores, 2 , 10 GHz). and 384 GB of memory. Virtual machines were evenly distributed across four machines. For the YCSB test, 48 VMs use 9.8 TB, and 96 VMs use 19.6 TB of capacity.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the vSAN hybrid array, each of the four servers used two drive groups, each including an 800 GB solid-state drive and three 1.2 TB hard drives, that is, a total of 8 cache drives and 24 hard drives with a total storage capacity of 27 TB. For the vSAN flash array, each of the four servers used two groups, each including an 800 GB solid state drive and two 3.84 TB solid state drives, that is, a total of 8 cache SSDs and 16 SSDs with a total capacity of 43 TB.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The results for 48 virtual machines show only a slight improvement when working with flash memory. </font><font style="vertical-align: inherit;">Results for 96 virtual machines show noticeably better performance for 96 virtual machines when working with flash memory (all-flash) compared to a hybrid system. </font><font style="vertical-align: inherit;">This proves that flash is much faster with heavy I / O loads, as expected.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware Cloud Foundation </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware Cloud Foundation (VCF) is a single hybrid platform for deploying VMware SDDC as a private cloud and integrating with public clouds. This solution provides software-defined services for managing computing, storage, networks and the cloud for a variety of workloads. It simplifies the installation, upgrade, and SDDC components by managing their life cycle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Automation capabilities are provided by the new VMware SDDC Manager component. SDDC Manager software automates the installation and lifecycle management of vSphere, vSAN, and NSX ‚Äî from startup and configuration to upgrade, as well as the installation and configuration of vRealize Log Insight, vRealize Operations, and vRealize Automation.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Cloud Foundation combines VMware vSphere (computing resources), vSAN (storage), and NSX virtualization (network) into one standard integrated package. Cloud Foundation can be deployed in a local private cloud or used as a public cloud service. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VCF is supplied either as an integrated hardware stack or as a software package for installation on customer equipment. VCF supports the deployment of SDDC components across a wide range of physical servers (vSAN Ready Nodes) and network switches, creating a flexible heterogeneous infrastructure to support a variety of workloads. In particular, VCF can be installed on Lenovo ThinkAgile VX certified sites.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The solution is tested, validated and supported by the vendor. </font><font style="vertical-align: inherit;">Customers receive all the necessary components ‚Äúfrom one window‚Äù, which facilitates the process of ordering and support. </font><font style="vertical-align: inherit;">Ready-made reference architectures greatly simplify the implementation and operation of such complexes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proven Validated Design architectures</font></font><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Comprehensive and thoroughly tested circuits for developing and operating a software data center. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proven VMware architecture Validated Design provides comprehensive, comprehensively tested circuits for developing and operating a software data center. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware Validated Design architectures are comprehensive architectures for deploying and configuring a complete VMware data center in a wide range of scenarios with detailed recommendations for efficient operation.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en507000/index.html">The basics of meditation, or how to learn to do nothing profitably</a></li>
<li><a href="../en507006/index.html">Barcode Evolution</a></li>
<li><a href="../en507008/index.html">Data center air corridor insulation systems: basic rules for installation and operation. Part 1. Containerization</a></li>
<li><a href="../en507010/index.html">And again about GPG hardware keys for a penny</a></li>
<li><a href="../en507016/index.html">The easiest way to upgrade from macOS to Linux</a></li>
<li><a href="../en507022/index.html">Development of circular interfaces</a></li>
<li><a href="../en507024/index.html">How to Become a Data Scientist Without Online Courses</a></li>
<li><a href="../en507026/index.html">A full cycle of device creation and work with factories in China. Yandex Report</a></li>
<li><a href="../en507030/index.html">Which processor to choose in 2020 with a reserve for the future</a></li>
<li><a href="../en507032/index.html">Book ‚ÄúSell your portfolio. What is not taught in design schools "</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>