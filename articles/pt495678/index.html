<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê§ üôÜüèª üö± Competi√ß√£o VK Sup. Track ML. 4¬∫ lugar. Qu√£o? üï∑Ô∏è üî≤ üëù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste concurso, realizado como parte da rodada de qualifica√ß√£o do VK up 2020 , faixa ML , foi necess√°rio prever a propor√ß√£o de p√∫blicos em potencial q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Competi√ß√£o VK Sup. Track ML. 4¬∫ lugar. Qu√£o?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495678/"><img src="https://habrastorage.org/webt/5v/bg/be/5vbgbeyleluggqj6r0esih96-hu.png" alt="imagem"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste concurso, realizado como parte da rodada de qualifica√ß√£o do </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VK up 2020</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , faixa </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ML</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , foi necess√°rio prever a propor√ß√£o de p√∫blicos em potencial que veriam an√∫ncios exibidos em v√°rias plataformas de publicidade um n√∫mero espec√≠fico de vezes: 1,2,3 no futuro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa n√£o era uma competi√ß√£o cl√°ssica para o envio de previs√µes finais para dados de teste conhecidos, mas uma previs√£o de dados completamente desconhecidos enviados ao modelo no docker lan√ßado no site da competi√ß√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, essa solu√ß√£o iguala as chances dos participantes e n√£o permite que aqueles que gostam de espiar no teste, enriquecem os dados de treinamento com eles e ajustem o modelo √† distribui√ß√£o dos dados de teste. </font><font style="vertical-align: inherit;">Aqui todos estavam em p√© de igualdade, uma vez que n√£o est√° claro o que poderia estar nos dados: dados "indesejados", outliers espor√°dicos, delimitadores inv√°lidos e assim por diante. </font><font style="vertical-align: inherit;">Mas todas essas nuances ao mesmo tempo nos fazem pensar em lidar com exce√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste concurso, consegui um 4¬∫ lugar discreto e quero contar como isso foi poss√≠vel.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vis√£o geral dos dados</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os dados iniciais foram apresentados da seguinte forma:</font></font><br>
<br>
<ol>
<li> <i>users.tsv</i> ‚Äì    : , ,  .      ,    ,    ,       .            (   ),      .</li>
<li> <i>history.tsv</i> ‚Äî   "<i>-</i>",         (  )   .          ,      ,         .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O arquivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um arquivo de valida√ß√£o para o treinamento do modelo, apenas cont√©m dados sobre a que intervalo de tempo e a que pre√ßo um an√∫ncio foi exibido para um p√∫blico espec√≠fico (plataforma e usu√°rio). </font><font style="vertical-align: inherit;">Usu√°rios e sites foram dados no formato string (1,5,7,3,14,6).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate_answers.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um arquivo de resposta consiste em tr√™s colunas: qual porcentagem (valores de 0 a 1), o p√∫blico parece classificado 1, 2, 3 vezes. </font><font style="vertical-align: inherit;">Consequentemente, essas seq√º√™ncias n√£o est√£o aumentando.</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O objetivo da competi√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">prever tr√™s conjuntos de valores </font><font style="vertical-align: inherit;">para novos dados do futuro (no formato do arquivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validate.tsv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - qual a propor√ß√£o da audi√™ncia que ver√° um an√∫ncio 1,2, 3 vezes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais detalhes sobre a tarefa no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site da competi√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preditores</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os preditores finais que usei s√£o um conjunto de 2 complexos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">preditores baseados no hist√≥rico e sua compara√ß√£o com novos dados</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">preditores apenas em dados do futuro</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entre o primeiro complexo, com base no arquivo hist√≥rico, </font><font style="vertical-align: inherit;">foram geradas estat√≠sticas b√°sicas </font><font style="vertical-align: inherit;">para os pares de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sites do usu√°rio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agrupados </font><font style="vertical-align: inherit;">e, posteriormente, sua agrega√ß√£o ao par de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sites</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><i><font style="vertical-align: inherit;">usu√°rio</font></i><font style="vertical-align: inherit;"> nos arquivos de valida√ß√£o e teste. Isso foi seguido pela sele√ß√£o de preditores de diferentes maneiras - com base nas frequ√™ncias de uso de preditores nos est√°gios de particionamento e no pr√≥prio modelo e nas valida√ß√µes, de cima para baixo e de baixo para cima. Apesar dos diferentes esquemas de sele√ß√£o, em geral, tudo se resumia a um conjunto de preditores e, como resultado, havia sete deles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A interpreta√ß√£o dos preditores do segundo complexo (tamb√©m havia sete deles surpreendentemente) √© geralmente muito mais simples: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- diferen√ßa de tempo. Isso √© l√≥gico? Logicamente: quanto maior o intervalo, maior a probabilidade das visualiza√ß√µes. Obviamente, n√£o h√° depend√™ncia direta, mas fisicamente deveria ser assim; al√©m disso, esse √© um dos preditores mais poderosos se os considerarmos separadamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delta2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m √© uma diferen√ßa de tempo, mas √© convertida por dia (ou seja, uma divis√£o inteira por 24). Ou seja, transformamos uma depend√™ncia linear em uma por partes. A id√©ia aqui √© simples: n√£o fazemos distin√ß√£o entre horas, mas intervalos muito longos (dias) definir√£o sua pr√≥pria tend√™ncia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cpm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o pre√ßo em si, da mesma forma: quanto mais caro o pre√ßo, maior a probabilidade de visualizar, novamente, √© claro, n√£o h√° depend√™ncia direta, mas no "flerte" com outros preditores baseados na hist√≥ria, a depend√™ncia √© claramente tra√ßada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4-7. </font><font style="vertical-align: inherit;">Esses s√£o os </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pec</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos dos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hor√°rios de in√≠cio e t√©rmino dos an√∫ncios, que tamb√©m s√£o traduzidos na linha do tempo de 24 horas. </font><font style="vertical-align: inherit;">O uso dessas fun√ß√µes, em contraste com o tempo linear, permite levar em considera√ß√£o os intervalos de tempo que passam pelo dia. </font><font style="vertical-align: inherit;">O uso desses preditores deu imediatamente uma melhora de 1,5 pontos percentuais.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©trica e resposta</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A m√©trica </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taxa de precis√£o m√©dia </font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suavizada do </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">log</font></i><font style="vertical-align: inherit;"> (doravante </font><i><font style="vertical-align: inherit;">SMLAR</font></i><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">apresentada pelos organizadores </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/br/_p/xfbr_pwfjcbgbwddetsiwz7njvk.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onde a resposta inicial √© apresentada na propor√ß√£o da audi√™ncia que visualizou o an√∫ncio 1,2,3 vezes, ou seja, os valores no intervalo [0,1]. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDPV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indica o comportamento dessa m√©trica, ou melhor, n√£o a m√©trica inteira, mas sua parte ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o logaritmo do vi√©s das previs√µes) para todas as combina√ß√µes da previs√£o e o valor verdadeiro em todo o intervalo [0,1].</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ observar atentamente a f√≥rmula da m√©trica, ent√£o: por um lado, essa m√©trica corresponde aproximadamente √† m√©dia geom√©trica das propor√ß√µes das previs√µes e ao valor verdadeiro (com vi√©s), que √© claramente melhor que a m√©dia aritm√©tica (devido ao resultado final mais baixo). Por outro lado, se omitirmos o expoente, que com valores baixos se comporta quase como o expoente de seu grau, a m√©trica √© transformada em MAE pelo logaritmo da resposta com um deslocamento. Assim, para construir modelos ideologicamente corretos, foi necess√°rio usar a resposta inicial com uma fun√ß√£o de deslocamento e perda na qual existe um logaritmo de forma expl√≠cita ou, inversamente, primeiro usar o logaritmo de resposta de deslocamento e uma fun√ß√£o de perda linear ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eps</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Mas, dado o meu modelo (no qual a fun√ß√£o de perda n√£o √© especificada explicitamente), escolhi a transforma√ß√£o ideal da resposta com base nos resultados do modelo de valida√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considerei as seguintes op√ß√µes de resposta - compartilhamentos originais, logaritmo de compartilhamentos, transi√ß√£o para valores absolutos do n√∫mero de usu√°rios, logaritmo com desvios diferentes (aqui, houve uma tentativa de usar um deslocamento unificado ao passar para valores absolutos, pois o deslocamento de 0,005 √© indicado para os compartilhamentos, e o p√∫blico foi diferente, de 300 a 2500, portanto, o deslocamento deve estar no intervalo de 1 a 12, mas verifiquei apenas os valores 1 e 10) e a raiz do valor absoluto das pessoas que visualizaram o an√∫ncio.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/3o/sw/di3oswingek2fdbkdx-rlmhjbji.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A figura acima mostra os resultados de dois modelos treinados para uma resposta diferente: o p√∫blico inicial compartilha e o n√∫mero absoluto de participantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O diagrama superior mostra os valores classificados da resposta verdadeira (por fra√ß√µes da primeira varredura) e os valores previstos para os dois modelos. √â imediatamente claro que a maioria dos valores de resposta √© muito pequena, portanto, o valor mediano √© de cerca de 5%, e isso √© apenas para a primeira varredura (para a segunda varredura, a mediana j√° √© menor que 1%, e para a terceira varredura quase 0%, e para essa m√©trica pequenos valores e erros em eles s√£o muito desagrad√°veis). Tamb√©m √© claramente vis√≠vel neste diagrama que o modelo por valores absolutos √© qualitativamente melhor, o spread nas estimativas √© bastante m√≠nimo e, apesar de os desvios quase n√£o serem vis√≠veis no gr√°fico em valores pequenos, como resultado, s√£o os erros nesses valores pequenos que afetam fortemente resultado final. O mesmo pode ser visto no </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDPV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, curvatura muito acentuada em valores baixos, especialmente perto de zero. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O diagrama m√©dio mostra o erro de cada previs√£o classificada; erros fortes em valores pequenos e sua diminui√ß√£o com o aumento dos valores de resposta s√£o vis√≠veis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O diagrama abaixo cria diretamente o diagrama da m√©trica de destino diretamente com o total acumulado para todos os valores classificados. Quais s√£o as conclus√µes de tudo isso? A primeira √© que a resposta selecionada afeta fortemente os resultados do modelo, mas mais sobre isso abaixo, a segunda conclus√£o, presta aten√ß√£o especial a valores pequenos, especialmente pr√≥ximos de zero, √© √≥bvio que os modelos nem sempre ser√£o capazes de prever um zero puro, portanto, s√£o necess√°rias corre√ß√µes. E os erros em valores grandes n√£o s√£o t√£o importantes; primeiro, eles s√£o relativamente pequenos; em segundo lugar, o erro percentual em valores grandes ser√° pequeno e, ao mesmo tempo, far√° uma contribui√ß√£o total m√≠nima √† m√©trica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, de acordo com os resultados de in√∫meras experi√™ncias, o vencedor com uma margem clara foi a resposta - a raiz dos valores absolutos dos usu√°rios. Ao mesmo tempo, em previs√µes diferentes (por 1, 2, 3 visualiza√ß√µes), √†s vezes modelos com logaritmo de valores absolutos tamb√©m s√£o ganhos, devido √† clara preval√™ncia de 0 nas respostas e, como resultado, o logaritmo com algum tipo de vi√©s foi melhor. Mas se voc√™ calcula a m√©dia, uma raiz simples, sem vi√©s, mostrou bons resultados est√°veis, ent√£o eu n√£o queria complicar a decis√£o, mas parar com um m√©todo simples e unificado - apenas a raiz do povo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qual o motivo do fato de a transi√ß√£o para as pessoas melhorar significativamente o resultado em rela√ß√£o √†s a√ß√µes (quase duas vezes)?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aparentemente, o fato √© que, voltando-se para as pessoas, multiplicando a parcela pelo p√∫blico-alvo ou dividindo todos os preditores pelo mesmo p√∫blico-alvo, entramos na dimens√£o relativa a "uma pessoa" e, considerando que a base do meu modelo √© regress√£o, a estimativa final √© um tipo de estimativa de probabilidade ponderada em rela√ß√£o a cada preditor. √â poss√≠vel que, se normalizarmos apenas parte dos preditores para o p√∫blico-alvo, por exemplo, dos preditores do primeiro grupo (a soma de todos os pares, por exemplo), essa normaliza√ß√£o aproximar√° as dimens√µes de todos os preditores de um √∫nico sistema de relat√≥rio (por pessoa) e a regress√£o final , sua resposta seria nada mais que a soma ponderada m√©dia das contribui√ß√µes de cada preditor (que caracterizam uma pessoa) com a probabilidade total de visualiza√ß√£o; talvez o resultado seja melhor.Mas, no momento da decis√£o do concurso, n√£o me aproximei deste lado e trabalhei exclusivamente com uma resposta transformada.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De fato, essa se√ß√£o teve que ser mais elevada, porque foi por causa desse modelo que tivemos que selecionar o tipo de resposta e os preditores necess√°rios para ele (o modelo foi ajustado aos dados) e, de uma maneira ou de outra, mesmo em preditores diferentes, foi poss√≠vel alcan√ßar um n√≠vel aceit√°vel. o resultado √© de cerca de 15%. </font><font style="vertical-align: inherit;">Mas eu queria que, em m√©dia, houvesse alguma justificativa para a escolha de preditores espec√≠ficos; portanto, combina√ß√µes de preditores foram selecionadas para valida√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu usei um modelo de uma fam√≠lia de √°rvores de modelo de regress√£o, ou seja, o modelo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cubista</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (modelo de 1992!), E sua implementa√ß√£o no pacote de mesmo nome em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Em vez disso, o resultado final √© a m√©dia geom√©trica de dois conjuntos de modelos, cada um consistindo em tr√™s modelos separados, mas em cascata: a previs√£o do modelo anterior (para uma vista) foi usada como preditor para o segundo e terceiro modelos e a previs√£o final para a segunda vista como preditor para o terceiro modelo. Ambos os pares de modelos diferiram ligeiramente em preditores e ajustes intermedi√°rios, e sua m√©dia geom√©trica foi usada com base no senso comum (bem, valida√ß√µes, com curso p√∫blico), e o significado √© simples: como escrevi acima, aten√ß√£o especial √© dada a previs√µes nulas e, geralmente, a m√≠nimas , e a m√©dia geom√©trica √© exatamente o que ela faz: desaparece a previs√£o se um deles j√° √© zero (e isso √© l√≥gico se um dos modelos mostrou zero, ent√£o permane√ßa,"adiaremos" a previs√£o de zero).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, gra√ßas √† cascata de modelos, o modelo indiretamente "entendeu" (desde as regress√µes) que cada resposta subsequente "se apega" a essa resposta prevista anteriormente da estimativa anterior, e os preditores restantes corrigem a resposta, que n√£o deve ser mais do que a anterior. Tamb√©m testei tr√™s modelos separados que previam respostas individualmente. O resultado foi mais fraco devido √† abund√¢ncia de zeros na segunda e na terceira varreduras, a fam√≠lia de regress√µes n√£o p√¥de ir com precis√£o suficiente a 0 e, quando adicionamos um ‚Äúguia‚Äù √† estimativa anterior, que j√° √© 0 ou pr√≥xima a ela, a fam√≠lia de regress√µes resultante tamb√©m cai nas proximidades dessa valoriza e ajusta apenas a resposta para a segunda e terceira visualiza√ß√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que h√° de bom nesse modelo?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando vi a tarefa, lembrei-me imediatamente desse modelo, pois em uma das competi√ß√µes anteriores em um problema compar√°vel (rela√ß√µes lineares e suas corre√ß√µes) tamb√©m era um dos melhores e, em geral, temos dados bastante lineares aqui, h√° uma rela√ß√£o √≥bvia entre as quantidades visualiza√ß√µes (a segunda √© menor que a primeira, a terceira √© menor que a segunda), h√° poucos dados - apenas 1008 observa√ß√µes, h√° um pequeno n√∫mero de preditores, provavelmente algum tipo de depend√™ncia linear-quebrada. </font><font style="vertical-align: inherit;">Al√©m disso, este modelo √© muito r√°pido, a constru√ß√£o levou v√°rios segundos, por isso foi conveniente para ela testar muitas hip√≥teses. </font><font style="vertical-align: inherit;">E, no entanto, ela n√£o possui hiperpar√¢metros (com exce√ß√£o dos vizinhos (outro par√¢metro √© uma previs√£o corretiva), que eu n√£o usei), nos quais eu poderia treinar novamente.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como √© a previs√£o neste modelo para uma √°rvore?</font></font></b><div class="spoiler_text">     ,       ,      100  (    ,     ,   10-20 ),          ,       ,      ,      :    (   ),     ,      ( ,  )        .<br>
<br>
    ,  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">  </a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">    </a>.<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajustes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, pequenos ajustes de previs√µes foram utilizados, a saber: ao mudar do n√∫mero absoluto de pessoas para suas a√ß√µes, situa√ß√µes de valores muito pequenos (positivos, pouco mais de 0 ou mais de 1) ocorreram potencialmente e, no caso de valores maiores que 1, seu ajuste n√£o teve um papel maior. (provavelmente havia poucos voos desse tipo e, se eram, ent√£o n√£o eram significativos), mas no caso de pequenos valores, era relativamente cr√≠tico. Pelo racioc√≠nio, foi aceito que, se eu predizer, por exemplo, 1 pessoa (ou 0,5 pessoa, o arredondamento n√£o foi realizado), ent√£o com um p√∫blico m√°ximo de 2500 (isso √© completamente desconhecido dos dados conhecidos no trem, o que realmente acontece nos dados de teste), que √© 0,0004 (a prop√≥sito, e no trem, o valor m√≠nimo √© 0,0004),significa que em algum ponto pr√≥ximo a esse valor √© necess√°rio transformar valores mais baixos em 0 e, como meus modelos s√£o constru√≠dos em cadeia, a constru√ß√£o do pr√≥ximo modelo e suas previs√µes dependem do zero previsto etc. isso influenciou bastante.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o fazia muito sentido selecionar um limite para valida√ß√£o (porque o modelo se ajusta a esses dados de qualquer maneira, e eu conhe√ßo a distribui√ß√£o), ent√£o olhei para o p√∫blico (para alguns valores selecionados), mas no final deixei um dos tr√™s modelos um belo limite de arredondamento de 0,0005 e, para o segundo te√≥rico, 0,0004. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ajuste do topo foi mais f√°cil, valores maiores que 0,95 a serem pagos em 0,95, 0,95 foram feitos com base na parcela m√°xima dos dados de teste usados ‚Äã‚Äãcom </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a maior margem (m√°ximo de 0,93 no trem), esse ajuste praticamente n√£o teve efeito sobre o p√∫blico (partidas individuais s√£o aparentemente p√∫blicas), foi deixado exclusivamente para seguran√ßa em particular. </font><font style="vertical-align: inherit;">E foi adicionada uma corre√ß√£o relacionada a zeros, se a previs√£o for zero na primeira varredura, apesar das previs√µes dos modelos na segunda e terceira varreduras, as previs√µes tamb√©m v√£o para 0, isso n√£o afetou muito, em algum lugar o segundo sinal (o modelo √© praticamente sempre e por isso em si (menos do que o anterior e zero) o fez), mas deixou por seguran√ßa em privado.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resultados</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os resultados foram muito dependentes do tipo de resposta e dos preditores selecionados, por exemplo, mesmo se voc√™ previsse fra√ß√µes, ou at√© melhor que o logaritmo, voc√™ poderia selecionar outros preditores e o resultado seria de cerca de 16%, e se voc√™ atingir valores absolutos e selecionar novamente preditores, ent√£o tudo come√ßou em cerca de 15%, ent√£o essa era minha linha de base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, a prop√≥sito, esses resultados j√° eram suficientes para permanecer entre os cinco primeiros, mas foi interessante "aumentar" mais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E ent√£o, o que melhorou drasticamente esses 15%?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, apenas a adi√ß√£o de horas, apenas horas (hor√°rio de in√≠cio e t√©rmino) rendeu 13,97%, alterando-os para seno-cossenos melhorando para 13,44% e, em seguida, melhorando para 13,25%, arredondando pequenos valores para zero e a m√©dia geom√©trica a m√©dia dos dois modelos, ou seja, j√° estava mais sintonizada para um teste (p√∫blico) e, por isso, ainda fiquei um pouco exagerada com o p√∫blico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta competi√ß√£o, foi necess√°rio escolher uma solu√ß√£o. Agora, olhando para o LC, vejo que minha solu√ß√£o escolhida tamb√©m se mostrou quase a melhor no privado (o local n√£o mudou) (o melhor privat √© inferior a 0,02 pontos percentuais), mas se voc√™ receber envios nos quais a resposta n√£o foi t√£o arredondada, ent√£o no privado eles eram um pouco piores - 13,6%, ou seja, n√£o havia treinamento forte para o p√∫blico, mas esse p√≥s-ajuste tamb√©m n√£o teve um papel muito grande.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, o principal sucesso da reserva: preditores selecionados em um </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cubista de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> modelo de resposta selecionado </font><font style="vertical-align: inherit;">, modelos em cascata (1-&gt; 2-&gt; 3) e </font><font style="vertical-align: inherit;">preditores </font><font style="vertical-align: inherit;">temporais de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar de os vencedores dos primeiros cinco lugares </font><i><font style="vertical-align: inherit;">usarem</font></i><font style="vertical-align: inherit;"> v√°rios modelos, incluindo os modernos (1 lugar - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 2 lugar - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">catboost</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 3 lugar - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rede neural</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 5 lugar - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lightgbm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , embora esses vencedores tenham preditores muito mais complexos) , Ocupei o quarto lugar usando um dos modelos cl√°ssicos mais antigos de 1992 (at√© as id√©ias de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> apareceram mais tarde) em preditores bastante simples e √≥bvios, o que confirma mais uma vez: nem sempre √© suficiente executar em preditores gerados (essas abordagens eram muito mais baixas na classifica√ß√£o final, cerca de 20%), o senso comum dos preditores, a transforma√ß√£o da resposta e a escolha da fun√ß√£o de perda nos modelos (se houver) desempenham um papel significativo aqui.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, a competi√ß√£o se mostrou interessante e criativa, com conclus√µes relevantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que, na fase final (em tempo integral) da competi√ß√£o, a tarefa n√£o seja menos interessante.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt495658/index.html">Onde obter √°udio para aprendizado de m√°quina: uma sele√ß√£o de bibliotecas abertas licenciadas sob Creative Commons</a></li>
<li><a href="../pt495660/index.html">NVMe sobre Fibre Channel. O que √© e onde √© necess√°rio?</a></li>
<li><a href="../pt495670/index.html">Migrando de um Data Lake cont√≠nuo para um Data Mesh distribu√≠do</a></li>
<li><a href="../pt495674/index.html">Explorando campos eletromagn√©ticos usando um receptor SDR e OpenCV</a></li>
<li><a href="../pt495676/index.html">Processo ETL para recuperar dados de email no Apache Airflow</a></li>
<li><a href="../pt495682/index.html">API reversa para sua aplica√ß√£o android</a></li>
<li><a href="../pt495684/index.html">5 raz√µes pelas quais a intera√ß√£o com seus usu√°rios finais aprimora seu c√≥digo</a></li>
<li><a href="../pt495686/index.html">Las Vegas pessoal ou um jogo na extens√£o do navegador</a></li>
<li><a href="../pt495688/index.html">Sincroniza√ß√£o de usu√°rio OSE do Zimbra Collaboration com base no Active Directory</a></li>
<li><a href="../pt495690/index.html">Conceitos da API de √°udio da Web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>