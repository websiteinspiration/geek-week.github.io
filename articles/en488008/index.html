<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÖ ‚óæÔ∏è üåÇ Taming the beast: legacy code, tests and you üëÆ üëáüèª üòÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Legacy code is an ‚Äúold‚Äù code, the age of which can be both 2 months and 10 years. Often, developers wrote about it, which the company vaguely remember...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Taming the beast: legacy code, tests and you</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/488008/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Legacy code is an ‚Äúold‚Äù code, the age of which can be both 2 months and 10 years. Often, developers wrote about it, which the company vaguely remembers. Perhaps they did not exist at all, and the legacy code was born with the Universe during the Big Bang. Since then, the requirements for it have changed many times, the code was corrected in the ‚Äúit was necessary yesterday‚Äù mode, and no one wrote the documentation, like the tests. The Legacy code is confusing and fragile, it does not show either the beginning or the end. How to approach him? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zu/zu/jj/zuzujjdvta2gaqnnj8mp1isqcoa.jpeg"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hereinafter shots from the series "Rick and Morty." Authors Justin Royland and Dan Harmon.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You need to get to him with tests, but get ready for pain. Problems will begin already from the moment you decide to undertake such a project. You need to understand why you want to undertake it, convince management to approve testing of the legacy code, and help your colleagues. After that, questions arise, where to start the study, which tests to run first and how not to break everything? But the main thing is how not to fall into despair when you realize that there is no end to work. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kirill Borisov</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12 years in the industry, over the years he has come a long way in crutches, broken code and rotting frames of old systems: from monolithic accounting systems to authorization microservices. The journey awarded him experience and stories that he will share in the form of valuable advice.</font></font><a name="habracut"></a><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/H4Mp2BSffSM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I have a dream - someday to work on a new project. </font><font style="vertical-align: inherit;">Everything will be fine in it from the very beginning and as fresh as the first snow: tests, architecture and meaning. </font><font style="vertical-align: inherit;">But this is only a dream, because for 10 years I have been selling my talent for money and moving from one legacy project to another. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
During this time I have no nerves left, but I can save yours by sharing my experience of interacting with legacy. </font><font style="vertical-align: inherit;">I will tell you how to tame the beast (legacy code): work with code and people, implement testing, whether it needs to be done and how developers relate to this. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What will not be here:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tips for writing tests. </font><font style="vertical-align: inherit;">Many books, articles and various videos cover this question.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Discussion methodologies. </font><font style="vertical-align: inherit;">BDD, TDD, ATDD - all at your discretion.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">All that may violate the NDA. </font><font style="vertical-align: inherit;">People have a long memory, and lawyers have long arms.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is legacy code</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are many definitions. </font><font style="vertical-align: inherit;">I believe that this is a " </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fairly old</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " code from 2 months to 10 years old. </font><font style="vertical-align: inherit;">The legacy code is confusing and fragile, but like a giant snake devours its tail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is what does not allow you to start testing it calmly. </font><font style="vertical-align: inherit;">All developers, from beginners to experienced ones, when they come to a legacy project, grab a spear of tests and rush to kill this monster. </font><font style="vertical-align: inherit;">The spear breaks, and with it people. </font><font style="vertical-align: inherit;">As a result, there remains a developer without signs of life, who has been working on a legacy project for decades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Is it possible to overcome this beast? </font><font style="vertical-align: inherit;">Yes, but preparation is needed.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Training</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fighting the beast is not as important as the preparatory phase. </font><font style="vertical-align: inherit;">It begins with three questions for oneself. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ja/dj/1f/jadj1f74fzzsrj1lieox-i0i4pk.jpeg"><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúWhy am I doing this?‚Äù </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seriously, why? </font><font style="vertical-align: inherit;">After all, there are only two options.</font></font><br>
<br>
<ul>
<li>  ,   ,   ,    .</li>
<li>   ,   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do you want to work for the comfort of others or your own glory? </font><font style="vertical-align: inherit;">If for the latter, then with the first success interest will fade away, you will fade away, everything will fade away. </font><font style="vertical-align: inherit;">You will switch to something else, and the rotting remains of your endeavors will clog the project for a long time to come. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúDo I know what I'm doing?‚Äù </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you wrote tests, you know. </font><font style="vertical-align: inherit;">If not, then before you rush at the monster, master the basics: write 3-4 tests, cover a small part of the code, fill your hand and feel the power. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Do I have time for this?" </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It's great to intervene in the code with good impulses and improve it, working for the future. </font><font style="vertical-align: inherit;">But perhaps there is no time for this when the present burns. </font><font style="vertical-align: inherit;">If so, then the project needs you, not a bright image of the future. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you answer all the questions in the affirmative, proceed to the next step.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reconnaissance</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examine the structure of the project</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Do you have an idea about the structure of the project, the components and the principle of work? </font><font style="vertical-align: inherit;">Surely yes, but perhaps it does not coincide with reality. </font><font style="vertical-align: inherit;">It is important to understand what you have to face before starting work. </font><font style="vertical-align: inherit;">Devote some time to go through the project and study it thoroughly. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Make a dependency diagram</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No project lives in a vacuum. </font><font style="vertical-align: inherit;">Databases, external services, libraries - all this can be used in the project. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What has been done to you? </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You may not be the first to fight the beast. </font><font style="vertical-align: inherit;">Examine the practices of the ‚Äúancestors‚Äù who burned down and left the project. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After reconnaissance, we move on to hostilities.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fight with organization</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first round is a fight with your organization. The main thing in it is your manager, direct boss. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manager</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . He is not as scary as he seems. This is an ordinary person with ordinary needs: to deliver the project on time and without unnecessary problems, get money and bonuses for it and live on. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The leader is not against your undertakings. He is against you rushing to the project with shouts: ‚ÄúTests! Tests! Tests! ‚Äù If you do so, he will look at you as the person who spends his time and slows down the rest. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Show the benefit.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The manager speaks the language of good, time and money. Understand that they are driven by the desire to close the project on time and get more results for less resources. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The test should not be submitted like this: </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Oh, it will be cool!</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Our ideas should be promoted as follows: </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- In the last quarter, we had 50 crashes that could be fixed at the product development stage. You can fix it using tests. They will confirm that the changes did not change the functionality, if we do not expect it. We will save the hours spent on resolving these problems and reduce the amount of the penalty that was paid due to a broken system.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Saying "optimization, money, saving time", you speak the language of the manager. When he hears these words, he is imbued with the idea. He sees in you not the next rabid programmer who is passionate about fresh technology, but a person who is interested in improving the product. He will not approve all your ideas at once, but he is highly likely to propose Proof Of Concept. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proof of Concept increases the chances.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Provide the manager with a separate isolated piece of code, a subsystem that is covered by tests, starts and runs. This can be done if you take one of the sore bugs that pops up at a certain frequency and try to catch it and fix it with a test. PoC will confirm your intentions, show that you have a plan and your work brings results. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do not promise much.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> For the manager, the numbers are important: what are the results, the timing and by what forces. But the manager is a creature greedy for results. Do not promise too much from the start. If you promise to solve all problems at once, the manager will go to the authorities with this. The authorities will say: ‚ÄúGreat!‚Äù, But will reduce funding and cut deadlines in the hope that we will hand over the system much earlier.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When we agree with the manager, we turn to those with whom we have to work every day.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colleagues</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They do not like change.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A typical colleague on a typical legacy project is a person who has lost faith in life and the future. He is not inclined to change and resigned himself to fate: "I am here forever, there is no way out of the swamp." The problem is that you start to stir up water in this swamp. You demand that he write and run some tests, but he wants to do his job, close the task and go home. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kl/ir/d_/klird_9bboxmh81w81c9nvc2gz0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Engage your colleagues with benefits ‚Äî explain why they will feel better. For example, they constantly spend time and effort, remaining after work to heal some bugs. Press on it: ‚ÄúIf you don‚Äôt deploy a broken code for production, you won‚Äôt have to spend time fixing it. We‚Äôll write tests, we will catch such code, it will break less. ‚Äù </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Show patience and empathy.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You communicate with people - ask why they are worried about your idea? Suggest finding a common ground to understand each other. This is the main tactic for working with people: do not quarrel, do not clash your foreheads, be friendlier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You may be prevented from presenting the idea before the meeting of colleagues at the next team stand-up. The mechanism of ‚Äúgroup thinking‚Äù works in the team: no one wants to make a decision, everyone looks at each other and sees that no one is burning with enthusiasm. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is one dirty trick to solving this problem. Unfortunately, in my life I used it more than once. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Divide and rule.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Go to one of your colleagues at lunch or in the corner and say: ‚ÄúThe whole team has already signed up, you are the only one slowing down the process. Maybe we can find a common language? ‚Äù</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After going through all in turn, you sign everyone. </font><font style="vertical-align: inherit;">Everyone will be ashamed to admit that they thought that everyone else had already signed up. </font><font style="vertical-align: inherit;">It is dishonorable and terrible, but it works. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use this technique responsibly and as a last resort. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remember - you still have to work with these people. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When we sorted out with colleagues, we are waiting for another greedy beast.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fight with the car</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is the trick of the code called the product. Let's start with the basics. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dismantle the trash.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> It is necessary to test so that with a minimal impact on the system to obtain a verifiable result. But any legacy-system is full of data: they have been added for years since the launch and affect the behavior of the system. Therefore, it is necessary to test "from scratch." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prepare a ‚Äúspherical system in a vacuum‚Äù: empty the data sources, make the minimum configs that the system launches, disable all possible ‚Äúhacks‚Äù and ‚Äúfeatures‚Äù. Make the system start up. If it starts, you have the minimum data set that is necessary for functioning. This is already a good starting point - a "clean slate".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using some measurable effects, for example, pressing a certain button, you will get a measurable working result. With this, you can proceed to the next step. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unravel the data.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Any legacy project works on the principle of "must be delivered yesterday." Everything that you went to university or read in books does not work here. When you start testing, you will encounter, for example, a cyclic dependency, impossible to recreate in the program, but necessary for functioning. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Start with the ‚Äúmain object‚Äù.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> To deal with the dependency forest, try to think about which object is the main one. For example, for the warehouse accounting system, the main object is the ‚Äúbox‚Äù. A ‚Äúshelf‚Äù object is associated with it, and a ‚Äúrow‚Äù object is associated with a ‚Äúshelf‚Äù. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recreate the required minimum.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you look at the links between objects and go deeper into the dependency tree, you can determine the necessary minimum of data for dependent objects. </font><font style="vertical-align: inherit;">You need to recreate it so that the system works and can function to test your functionality. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do not be afraid to change links. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You may have to roll up your sleeves and dive deep into this mess: delete and change links, change the structure of the database. </font><font style="vertical-align: inherit;">You came to improve the system, so do not be afraid to make changes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We pass to testing. </font><font style="vertical-align: inherit;">For confusing old products, a good strategy is smoke tests.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smoke tests</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The concept of "smoke testing" came to us from the world of electronics. One engineer assembled a giant circuit with a bunch of light bulbs and wires. But before I started testing, I just plugged the circuit into a power outlet. If smoke started, then something went wrong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In information systems, the concept of smoke tests is quite simple. Imagine a web service, it has an endpoint. Let's try to send him a GET request without parameters. If for some reason the product suddenly broke (error 500), then something went wrong. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smoke test is a good start</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . This is a test that tests some functionality and makes it clear that the system is working or broken. Even a simple request to the simplest endpoint already affects more than 1% of the code. With such small tests, we are preparing a springboard for further testing.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smoke test reveals many problems. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is possible that for the entire period of the functioning of the service no one guessed to send a request without parameters. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Use this tactic to cover several main entry points into your program: login / password input form, basic web services, buttons. </font><font style="vertical-align: inherit;">This is something you can already show to the manager and colleagues.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Function tests</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These are not tests of individual classes or a method, but the highest possible level of testing a certain part of the functional. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagine the functionality to ‚Äúgenerate a report in the service‚Äù. Instead of checking individual parts, we test the situation of the request to create a report with certain parameters and get a data file. It is not necessary to know the mechanism for generating the report, but if the service gives certain output data with certain input data, then this black box with some probability works as it should. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Coverage of the main functionality with such tests </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">allows you to quickly start and immediately covers large areas.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> You will be sure that the code works at least approximately as you imagine, gain more confidence, fill your hand and reveal even more problems.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Functional tests are a means, not an end.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It‚Äôs easy to get hooked on the functional test needle: ‚ÄúI‚Äôm testing real functionality! </font><font style="vertical-align: inherit;">This is what users are facing. ‚Äù </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A functional test involves large chunks of code that can interact with gigantic amounts of data. </font><font style="vertical-align: inherit;">Therefore, 3-4 functional tests are good, 10 are worse, and thousands of tests that take 9 hours are too much. </font><font style="vertical-align: inherit;">Unfortunately, this also happens. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After functional tests, take on unit tests. </font><font style="vertical-align: inherit;">But I will not talk about them - you already know everything. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We went through the basics of machine testing and return to the main topic. </font><font style="vertical-align: inherit;">Colleagues and manager are not the worst enemy in a battle with legacy. </font><font style="vertical-align: inherit;">The worst enemy is yourself.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fight with oneself</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Be prepared for the fact that the path will seem endless</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Work for a week in your plan will take six months without the prospects of completing the project. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ua/mi/sy/uamisylmtgmnjteqw7m0iv2wpia.jpeg"><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resistance is inevitable</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . All allies will eventually begin to doubt, try to get off track, persuade them to quit tests and move on to features. Be prepared for this. Remind everyone why you got involved in all this, how much effort and time was invested. Weak argument, but might work. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No one guarantees success</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Even if you show heroic efforts, put all of yourself into work, your project can still burn out, and the crusade with testing will end in nothing.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is normal, this is not the end of life and career. </font><font style="vertical-align: inherit;">This is not even confirmation that you are a poor professional. </font><font style="vertical-align: inherit;">The only conclusion here is that this particular project failed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But then you have experience and knowledge. </font><font style="vertical-align: inherit;">Next time, when you take a new spear in your hand and your horse accelerates to another windmill, you will be ready to break this spear too, but later, by a different method and with less damage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now offensive, bitter and eternal.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parting words</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do not be afraid of feedback.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I had to step into this trap and see how others fall into it. I did something and brought colleagues to boast: ‚ÄúI did it!‚Äù But suddenly it turns out that my convenient mechanism is inconvenient for colleagues, and I did not ask. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write tests, try what you implement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Often the introduction of a new test framework is fascinating, but you do not write the tests themselves. Then it may happen that as soon as you write them, you will understand that you cannot use the tests. Perhaps colleagues also see this, but are silent, or simply do not write tests. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Help colleagues with problems</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">even if they don‚Äôt ask for it. Help doesn‚Äôt mean taking all the work on yourself - it relaxes colleagues and relieves them of responsibility, and the ‚Äúbus‚Äù number drops to unity. Then you become a human tester: something is broken, CI is red, a test guide. Help within the framework of the reasonable. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The "bus" number is not a joke.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> You cannot always drag the project on yourself. Everyone can burn out, go on vacation or quit. Therefore, pass on to your colleagues your knowledge and responsibility, which is necessary to cope without you. This will help to avoid unpleasant calls when you relax on the beach, and CI is red again. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Improve Testing Mechanisms</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Many problems can be avoided simply because slow tests suddenly became fast. </font><font style="vertical-align: inherit;">Previously, they occupied 20 lines of code, but now one. </font><font style="vertical-align: inherit;">You did not notice this, because once you wrote something and forgot: ‚ÄúIt works - don‚Äôt touch it!‚Äù </font><font style="vertical-align: inherit;">But this rule is not always applicable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You are not the center of the universe. </font><font style="vertical-align: inherit;">Again, I repeat that the "bus" number is not a joke. </font><font style="vertical-align: inherit;">More than once I came across a situation when a person began testing, and then received an offer to the project fresher: he left everything, ran away, but did not leave comments and documentation. </font><font style="vertical-align: inherit;">Everything works until a new commit, but it is impossible to fix it - no one understands how everything works. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I do not want you to be this person. </font><font style="vertical-align: inherit;">Do not turn into a limiting factor.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write the documentation.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conduct trainings.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Share your experience.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When all the colleagues are on the same level as you (plus or minus), the process will turn from a race of one person into a team relay race with the passing of the flag. Only through the support of your colleagues will you succeed. If you are alone on the project, think that someone else after you will also suffer alone. Give your follower a friend in the form of documentation, do not let die alone.</font></font><br>
<br>
<blockquote>27   Moscow Python Conf++  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>       Python 2  Python 3 ‚Äî      2020 . <br>
<br>
     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">   </a>    (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">fb</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">vk</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">twitter</a>)  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">telegram-</a> .  ! </blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en487990/index.html">Cyberthreats. Prediction for 2020: artificial intelligence, gaps in the clouds, quantum computing</a></li>
<li><a href="../en487996/index.html">How script drivers and server mothers take over IT</a></li>
<li><a href="../en488000/index.html">Tesla Plaid. Two options for three-motor drive layout</a></li>
<li><a href="../en488002/index.html">The case of one geek</a></li>
<li><a href="../en488006/index.html">At Moscow Python Conf ++, come talk to the language developers</a></li>
<li><a href="../en488010/index.html">Domain Driven Design Tools</a></li>
<li><a href="../en488012/index.html">Parking for your cons</a></li>
<li><a href="../en488014/index.html">9. Fortinet Getting Started v6.0. Logging and Reporting</a></li>
<li><a href="../en488018/index.html">CAPTCHA, special case: we break a neural network with thirty lines of code</a></li>
<li><a href="../en488020/index.html">Vivaldi 2.11 - One Touch Beauty</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>