<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§“ğŸ½ ğŸ¥˜ ğŸ¤·ğŸ» oVirtåœ¨2å°æ—¶å†…ã€‚ç¬¬4éƒ¨åˆ†ã€‚åŸºæœ¬æ“ä½œ ğŸ”¢ ğŸ¤© ãŠ—ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä»Šå¤©ï¼Œæˆ‘ä»¬ç ”ç©¶äº†è™šæ‹ŸåŒ–ç¯å¢ƒçš„ç®¡ç†å‘˜é€šå¸¸éœ€è¦æ‰§è¡Œçš„è®¸å¤šåŸºæœ¬æ“ä½œã€‚æœ¬æ–‡æ˜¯oVirtç³»åˆ—æ–‡ç« çš„ç»§ç»­ï¼šç¬¬1 éƒ¨åˆ†ï¼Œç¬¬2 éƒ¨åˆ†å’Œç¬¬3éƒ¨åˆ†ï¼š
 
 å†…å®¹
 

- åˆ›å»ºVMå’Œæ¨¡æ¿ ;
- VMè¿ç§»ï¼ˆå®æ—¶è¿ç§»ï¼‰ï¼›
- å­˜å‚¨è¿ç§»ï¼ˆstorage migrationï¼‰ï¼›
- é‡å‘½åVMå’Œç£ç›˜ ;
- æ›´æ–°oVirt-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>oVirtåœ¨2å°æ—¶å†…ã€‚ç¬¬4éƒ¨åˆ†ã€‚åŸºæœ¬æ“ä½œ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503192/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»Šå¤©ï¼Œæˆ‘ä»¬ç ”ç©¶äº†è™šæ‹ŸåŒ–ç¯å¢ƒçš„ç®¡ç†å‘˜é€šå¸¸éœ€è¦æ‰§è¡Œçš„è®¸å¤šåŸºæœ¬æ“ä½œã€‚</font><font style="vertical-align: inherit;">æœ¬æ–‡æ˜¯oVirtç³»åˆ—æ–‡ç« çš„ç»§ç»­ï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬1 </font></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨åˆ†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">ç¬¬2 </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨åˆ†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">ç¬¬3éƒ¨åˆ†</font></a><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å†…å®¹</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºVMå’Œæ¨¡æ¿</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMè¿ç§»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå®æ—¶è¿ç§»ï¼‰ï¼›</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­˜å‚¨è¿ç§»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆstorage migrationï¼‰ï¼›</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡å‘½åVMå’Œç£ç›˜</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°oVirt-Host</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆç³»ç»Ÿç®¡ç†ç¨‹åºï¼‰ï¼›</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°oVirt-Engine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆç»ç†ï¼‰ï¼›</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¼å…¥VM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»åŠ¡ç®¡ç†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ç« </font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»‹ç»</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®‰è£…ç®¡ç†å™¨ï¼ˆovirtå¼•æ“ï¼‰å’Œç®¡ç†ç¨‹åºï¼ˆä¸»æœºï¼‰ </font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¶ä»–è®¾ç½®</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸºæœ¬æ“ä½œ-æˆ‘ä»¬åœ¨è¿™é‡Œ</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¼ ç»Ÿä¸Šï¼Œæœ‰å…³ç®¡ç†ä»»åŠ¡çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·è®¿é—®</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¾“å…¥oVirtæ—¶ï¼Œæ‚¨å°†çœ‹åˆ°2ä¸ªé—¨æˆ·ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¡Œæ”¿é—¨æˆ·</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è™šæ‹Ÿæœºé—¨æˆ·</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¬¬ä¸€ä¸ªç”¨äºç®¡ç†å‘˜å’Œç®¡ç†ä»»åŠ¡ï¼Œç¬¬äºŒä¸ª-ç”¨äºè®¡ç®—æœºçš„å®¢æˆ·ï¼Œä½†ä¹Ÿå¯ä»¥ç”±ç®¡ç†å‘˜ä½¿ç”¨-æŸäº›åŠŸèƒ½åœ¨é‚£é‡Œæ›´åŠ æ–¹ä¾¿ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¯ä¸ªoVirtå¯¹è±¡é›†åˆçš„çª—å£é¡¶éƒ¨éƒ½æœ‰ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æœç´¢æ¡†ï¼Œå…¶ä¸­åŒ…å«ä¸Šä¸‹æ–‡æç¤ºã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œåœ¨æ§åˆ¶é¢æ¿ä¸­é€‰æ‹©é—®é¢˜ä¸»æœºå®é™…ä¸Šä¼šå¯¼è‡´è¿‡æ»¤å™¨ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">status = unassigned or status = maintenance or status = installing or status = reboot or status = preparingformaintenance or status = pendingapproval or status = connecting or status = installingos or status = kdumping</code></pre><br>
<a name="vm-pool"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºè™šæ‹Ÿæœºå’Œæ¨¡æ¿</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘æƒ³æ‚¨å·²ç»åœ¨ç¬¬2éƒ¨åˆ†ä¸­åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„VMï¼Œç°åœ¨æˆ‘ä»¬å°†äº†è§£ä¸è™šæ‹Ÿæœºç›´æ¥ç›¸å…³çš„å…¶ä»–oVirtå®ä½“-è™šæ‹Ÿæœºæœ¬èº«ï¼Œæ¨¡æ¿å’Œæ± ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨¡æ¿</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯è®¾è®¡ç”¨äºåˆ›å»ºç›¸åŒè®¡ç®—æœºï¼ˆå…‹éš†ï¼‰çš„è®¡ç®—æœºï¼ˆé€šå¸¸æ˜¯é¢„å…ˆå‡†å¤‡å¥½çš„ï¼‰çš„å‰¯æœ¬ã€‚æ¨¡æ¿å¯èƒ½æœ‰ç‰ˆæœ¬ï¼Œå¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºæ¯æ¬¡æ›´æ–°å‚è€ƒè®¡ç®—æœºåï¼Œæ— éœ€åˆ¶ä½œæ–°çš„å•ç‹¬æ¨¡æ¿ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£ä¸­æœ‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´å¤šè¯¦ç»†ä¿¡æ¯</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ± </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯ä»å•ä¸ªæ¨¡æ¿ç”Ÿæˆçš„ä¸€ç»„ç›¸åŒçš„è®¡ç®—æœºã€‚å½“æ•°åæˆ–æ•°ç™¾ä¸ªç”¨æˆ·éœ€è¦æä¾›ç›¸åŒçš„å·¥ä½œç¯å¢ƒæ—¶ï¼Œæ­¤åŠŸèƒ½éå¸¸æ–¹ä¾¿ï¼Œè€ŒVDIï¼ˆè™šæ‹Ÿæ¡Œé¢åŸºç¡€ç»“æ„ï¼‰åªéœ€çœ¨çœ¼å°±èƒ½å®Œæˆã€‚åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜…è¯»æœ‰å…³æ± çš„æ›´å¤šä¿¡æ¯</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶å…‹éš†ä¸€ä¸ªå…ˆå‰åˆ›å»ºçš„æœºå™¨ï¼Œä½†æ˜¯ä¸ºäº†è¿›è¡Œæ¼”ç¤ºï¼Œæˆ‘ä»¬å°†é‡‡ç”¨å¦ä¸€ç§æ–¹æ³•-ä»å¤–éƒ¨é›†åˆä¸­å¯¼å…¥æ¨¡æ¿Glance Imagesï¼šå­˜å‚¨-&gt;åŸŸ-&gt; ovirt-image-repositoryï¼ˆ1ï¼‰ï¼Œå¯¼å…¥ï¼ˆ2ï¼‰ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fx/gg/lt/fxggltgss5p9llxyplgghxmpbsg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 1-å¯¼å…¥Fedora 32å›¾åƒ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æˆ‘ä»¬æ ‡è®°â€œå¯¼å…¥ä¸ºæ¨¡æ¿â€ï¼ˆ3ï¼Œå¯¼å…¥ä¸ºæ¨¡æ¿ï¼‰ï¼Œä¸ºæ¨¡æ¿å‘½åï¼ˆ4ï¼‰ã€‚å¼ºçƒˆå»ºè®®ç»™ç£ç›˜èµ·ä¸€ä¸ªå‹å¥½çš„åç§°ï¼ˆ5ï¼Œç£ç›˜åˆ«åï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»åŠ¡â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨åˆ†å¯ä»¥æ–¹ä¾¿åœ°ç›‘è§†ä»»åŠ¡çš„è¿›åº¦</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cj/p6/co/cjp6cor50gw2euzkgnf_vl-lc24.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 2-åœ¨oVirtä¸­å®Œæˆä»»åŠ¡çš„è¿›åº¦ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æˆåŠŸä¸Šä¼ åï¼Œæ¨¡æ¿å°†æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cg/_n/o3/cg_no3kzfukaodkzouox0q2bt3q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 3-æ¨¡æ¿ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æ ¹æ®åŠ è½½çš„æ¨¡æ¿ï¼Œåˆ›å»ºä¸€ä¸ªæ± ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fn/qk/aj/fnqkajhsx4hrbzr_wc8jozs9zua.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 4-åˆ›å»ºä¸€ä¸ªæ± ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è½¬åˆ°è®¡ç®—-&gt;æ± ï¼ˆ1ï¼‰ï¼Œæ–°å»ºï¼ˆ2ï¼‰ï¼Œé€‰æ‹©Fedora32ï¼ˆ3ï¼‰æ¨¡æ¿ï¼Œç‰ˆæœ¬-æœ€æ–°ï¼ˆ4ï¼‰ï¼Œåˆ†é…åç§°â€œ myPoolA- ??â€ã€‚ ï¼ˆ5ï¼‰ã€‚æˆ‘ä»¬å°šæœªè§¦æ‘¸â€œè™šæ‹Ÿæœºæ•°é‡â€å’Œâ€œé¢„å¯åŠ¨è™šæ‹Ÿæœºâ€å­—æ®µï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€æ­¥ä¸­è¿”å›åˆ°å®ƒä»¬ã€‚æ¥ä¸‹æ¥ï¼Œæ‰“å¼€é«˜çº§è®¾ç½®ï¼ˆ6ï¼‰ï¼Œç„¶åç»§ç»­è®¾ç½®â€œåˆå§‹è¿è¡Œâ€ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/m5/dj/zxm5djt-ud05hne1hyahor2nluo.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 4-é…ç½®åˆå§‹å¯åŠ¨ã€‚</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› ä¸ºä»Glance Imagesä¸‹è½½äº†Cloud Imageï¼Œæˆ‘ä»¬éœ€è¦é…ç½®èº«ä»½éªŒè¯ã€‚æ£€æŸ¥æ˜¯å¦å·²å¯ç”¨â€œä½¿ç”¨Cloud-Init / Sysprepâ€ï¼ˆ1ï¼‰ï¼Œæ‰“å¼€èº«ä»½éªŒè¯ï¼ˆ2ï¼‰ï¼ŒæŒ‡å®šç”¨æˆ·åï¼Œä¾‹å¦‚rootæˆ–userï¼ˆ3ï¼‰ã€‚è¦ä¸ºæ± åˆ›å»ºå”¯ä¸€çš„å¯†ç ï¼Œè¯·ç¦ç”¨â€œä½¿ç”¨å·²é…ç½®çš„å¯†ç â€ï¼ˆ4ï¼‰ï¼Œç„¶åè¾“å…¥å¯†ç ï¼ˆ5ï¼‰ã€‚å•å‡»â€œç¡®å®šâ€-åˆ›å»ºæ± ï¼Œç›¸åŒçš„è®¡ç®—æœºå‡ºç°åœ¨â€œè®¡ç®—â€-&gt;â€œè™šæ‹Ÿæœºâ€ä¸­ï¼ˆè¯·æ³¨æ„å…¶å›¾æ ‡ï¼Œå®ƒä¸åŒäºå•ç‹¬è¿è¡Œçš„è®¡ç®—æœºï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ³¨æ„æ± çš„åç§°ã€‚æ­£å¦‚æ‚¨æ‰€æ³¨æ„åˆ°çš„ï¼Œæœ€åæ˜¯â€œ-??â€ã€‚è¿™åŒ…æ‹¬æœºå™¨çš„â€œå½’ä¸€åŒ–â€ç¼–å·ï¼ˆç”±0è¡¥å……-01ã€02ï¼Œ...ï¼Œ09ã€10ç­‰ï¼‰ï¼Œå¦åˆ™ï¼Œç¼–å·å°†æ˜¯ä¸å¯¹é½çš„è‡ªç„¶æ•°ï¼ˆ1ã€2ï¼Œ...ï¼Œ9ã€10ï¼Œ ...ï¼‰</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç»§ç»­ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›åˆ°æ± è®¾ç½®ã€‚</font><font style="vertical-align: inherit;">è¯·æ³¨æ„ï¼Œâ€œè™šæ‹Ÿæœºæ•°é‡â€å­—æ®µå·²æ›´æ”¹ä¸ºâ€œå¢åŠ æ± ä¸­çš„è™šæ‹Ÿæœºæ•°é‡â€ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬åœ¨æ­¤å¤„æŒ‡å®š31ï¼Œå¹¶ä¸”æ± ä¸­çš„è®¡ç®—æœºæ•°å‡ ä¹ç«‹å³å˜ä¸º32ã€‚ç°åœ¨ï¼Œåœ¨â€œ Prestarted VMâ€å­—æ®µä¸­ï¼Œæˆ‘ä»¬è¾“å…¥16-è¿™å°†å¼ºåˆ¶oVirtä¿æŒæŒ‡å®šæ•°ç›®çš„è®¡ç®—æœºé¢„å…ˆå¯åŠ¨å¹¶å‡†å¤‡è¿æ¥ç”¨æˆ·ã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†å®Œæˆæœ‰å…³æœºå™¨ï¼Œæ¨¡æ¿å’Œæ± çš„å·¥ä½œï¼Œç„¶åç»§ç»­è¿›è¡Œè¿ç§»ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…³é”®VMå›¾æ ‡ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœºæ¶å•å…ƒ-æœåŠ¡å™¨ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¾ç¤ºå™¨-æ¡Œé¢ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ä¸ªå¡”-æ± ä¸­çš„æœåŠ¡å™¨ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ä¸ªç›‘è§†å™¨-æ± ä¸­çš„æ¡Œé¢ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å€’å¸¦ï¼ˆå€’å¸¦ï¼‰-æ— çŠ¶æ€ï¼ˆè®¡ç®—æœºåœ¨å…³é—­åå°†å…¶çŠ¶æ€é‡ç½®ä¸ºåŸå§‹çŠ¶æ€ï¼›æ‰€æœ‰æ›´æ”¹éƒ½ä¼šå›æ»šï¼‰ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ©™è‰²ç›‘è§†å™¨ä¸­çš„ä¸‰è§’å½¢-è¦æ±‚çš„é…ç½®æ›´æ”¹éœ€è¦é‡æ–°å¯åŠ¨ã€‚</font></font></li>
</ul><br>
<a name="live-migration"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMè¿ç§»ï¼ˆå®æ—¶è¿ç§»ï¼‰</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿ç§»å·²æ‰“å¼€è®¡ç®—æœºçš„çŠ¶æ€å¾ˆç®€å•-å³é”®å•å‡»ä¸€å°è®¡ç®—æœºæˆ–ä¸€ç»„è®¡ç®—æœºã€‚</font><font style="vertical-align: inherit;">è¯¥è¿‡ç¨‹ä¸vSphereä¸­çš„vMotionç›¸ä¼¼ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/ne/dz/zmnedzcid6vyhsgubvv95u6cnsy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚</font><font style="vertical-align: inherit;">5-å¼€å§‹è¿ç§»ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®¡ç®—-&gt;è™šæ‹Ÿæœºï¼Œé€‰æ‹©ä¸€å°æˆ–å¤šå°è®¡ç®—æœºï¼Œè¿›è¡Œè¿ç§»ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8v/bp/9h/8vbp9hslgmoa_n_v3ltlmuxfknw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚</font><font style="vertical-align: inherit;">6-å¯ä»¥åœ¨ä¸»æœºï¼ˆè®¡ç®—-&gt;ä¸»æœºï¼‰ä¸­è§‚å¯Ÿè¿ç§»è¿‡ç¨‹ã€‚</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€æ¬¡æœ€å¤šåªèƒ½è¡Œé©¶2è¾†æ±½è½¦ã€‚</font></font><br>
<a name="storage-migration"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­˜å‚¨è¿ç§»</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯æ­¤è¿‡ç¨‹å¯¹äºVMware vSphereç”¨æˆ·è€Œè¨€ä¼¼ä¹å¾ˆä¸å¯»å¸¸ï¼Œå› ä¸º </font><font style="vertical-align: inherit;">åœ¨ç³»ç»Ÿä¸­å­˜å‚¨ç£ç›˜æ˜ åƒå’Œè®¡ç®—æœºé…ç½®çš„æ–¹æ³•ä¸åŒã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦ä¼ è¾“VMå­˜å‚¨ï¼Œè¯·è½¬åˆ°ç£ç›˜ï¼ˆå­˜å‚¨-&gt;ç£ç›˜ï¼‰æˆ–åŸŸï¼ˆå­˜å‚¨-&gt;åŸŸ-&gt; </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{åŸŸå}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt;ç£ç›˜ï¼‰ã€‚</font><font style="vertical-align: inherit;">é€‰æ‹©é©±åŠ¨å™¨ï¼Œç„¶åæŒ‰</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§»åŠ¨</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å°±æ˜¯è¿™æ ·ï¼Œå°†é©±åŠ¨å™¨å‘é€åˆ°å¦ä¸€ä¸ªå­˜å‚¨ã€‚</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨æ„ï¼šç”±äºå†…éƒ¨ç»„ç»‡çš„åŸå› ï¼Œè¿ç§»æ¨¡æ¿å­˜å‚¨åº“å’Œæ± å­˜åœ¨ä¸€äº›é™åˆ¶ã€‚</font><font style="vertical-align: inherit;">ç†Ÿæ‚‰å­˜å‚¨è¿ç§»æœ€å¥½åœ¨æ± å¤–çš„å•ç‹¬è®¡ç®—æœºä¸Šå®Œæˆã€‚</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç£ç›˜å¤åˆ¶åœ¨ä¸æ‰‹åŠ¨åŠ è½½/å¸è½½ç›¸åŒçš„èœå•ä¸­æ‰§è¡Œã€‚</font></font><br>
<a name="rename"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡å‘½åVMå’Œç£ç›˜</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ›´æ”¹è®¡ç®—æœºæˆ–æ¨¡æ¿çš„åç§°éå¸¸ç®€å•-ç¼–è¾‘å¹¶è¾“å…¥æ–°åç§°ã€‚</font><font style="vertical-align: inherit;">é‡å‘½åæ± éœ€è¦åˆ é™¤å…¶è®¡ç®—æœºå¹¶é‡æ–°åˆ›å»ºå®ƒï¼Œå› ä¸º </font><font style="vertical-align: inherit;">åŸºäºæ­¤ï¼Œå°†ä½¿ç”¨ç›¸åº”çš„åç§°å’Œé…ç½®ç”ŸæˆVMã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¹Ÿå¯ä»¥é‡å‘½åç£ç›˜ï¼Œä½†æ˜¯è·¯å¾„æ¯”</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
eé•¿ï¼šè®¡ç®—-&gt;è™šæ‹Ÿæœº-&gt; {VMåç§°}-&gt;ç£ç›˜-&gt; {VMç£ç›˜åˆ«å}-&gt;ç¼–è¾‘ï¼Œåˆ«åã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å†…éƒ¨å¯¹è±¡æ ‡è¯†ç¬¦åŸºäºUUIDã€‚</font><font style="vertical-align: inherit;">é‡å‘½åæ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šä¼šæ›´æ”¹åˆ«åã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ¬éƒ¨åˆ†ä»‹ç»å½“ç‰ˆæœ¬å·æ›´æ”¹æ—¶çš„æ›´æ–°ï¼Œå³æ›´æ–°ï¼ˆæ¬¡è¦ï¼‰è€Œä¸æ˜¯å‡çº§ï¼ˆä¸»è¦ï¼‰ï¼ˆè¿™æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„è¿‡ç¨‹ï¼Œä¸å±äºæ—¥å¸¸ä»»åŠ¡ï¼‰ã€‚</font></font><br>
<a name="update-host"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°oVirt-Hostï¼ˆç³»ç»Ÿç®¡ç†ç¨‹åºï¼‰</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸»æœºæ›´æ–°æ¯”vSphereä¸­çš„æ›´æ–°ç®€å•ï¼ŒoVirtä¸­çš„æ›´æ–°ç®¡ç†å™¨å·²æœ‰æœºåœ°é›†æˆåˆ°å¹³å°ä¸­ï¼Œä¸éœ€è¦ä»»ä½•è®¾ç½®ã€‚å®˜æ–¹</font><font style="vertical-align: inherit;">æ›´æ–°</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fj/we/j1/fjwej1ph06a03bqpfx2ye6ijeny.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 7-å¦‚æœæœ‰æ›´æ–°ï¼Œç®¡ç†å‘˜å°†ä½¿ç”¨CDå›¾æ ‡è¿›è¡ŒæŠ¥å‘Šã€‚</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ww/vw/rn/wwvwrnz9q9hizaqo3mfndfihp_m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 8-å¼€å§‹æ›´æ–°ä¹‹å‰ï¼Œæ‚¨éœ€è¦å¯ç”¨ç»´æŠ¤æ¨¡å¼ï¼ˆç®¡ç†-&gt;ç»´æŠ¤ï¼‰ï¼Œå®ƒå°†è‡ªåŠ¨å¼€å§‹å°†VMè¿ç§»åˆ°å…¶ä»–ä¸»æœºï¼ˆè¯·å‚è§å›¾6ï¼‰å¹¶ä¸ºæ›´æ–°åšå‡†å¤‡ã€‚</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ol/ry/fw/olryfwdduor2j39tr47n8zlnpew.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 9-æ‰³æ‰‹å›¾æ ‡æŒ‡ç¤ºä¸»æœºå·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥ç»´ä¿®äº†ã€‚</font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/ov/rt/ta/ovrttawkmmi6fkfp-wic5_mpy00.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 10-å®‰è£…-&gt;å‡çº§å¼€å§‹å‡çº§è¿‡ç¨‹ã€‚</font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/8z/ch/7s/8zch7sdgo_plq5suw8yevk8nzz8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 11-æˆ‘ä»¬å¯ä»¥è¦æ±‚ç®¡ç†å™¨å‘ä¸»æœºå‘å‡ºå‘½ä»¤ï¼Œä½¿å…¶åœ¨æ›´æ–°å®Œæˆåé‡æ–°å¯åŠ¨ï¼Œä»¥ä½¿å…¶ç”Ÿæ•ˆã€‚</font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/ze/dg/kb/zedgkbmmuxxm7kvy6qoxhh-bvza.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚</font><font style="vertical-align: inherit;">12-é‡æ–°å¼•å¯¼åï¼Œæˆ‘ä»¬ä½¿è™šæ‹Ÿæœºç®¡ç†ç¨‹åºé€€å‡ºæœåŠ¡æ¨¡å¼ï¼ˆç®¡ç†-&gt;æ¿€æ´»ï¼‰ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æµè§ˆæ‰€æœ‰ä¸»æœºå¹¶æ›´æ–°å®ƒä»¬ã€‚</font></font><br>
<a name="update-engine"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°oVirt-Engineï¼ˆç»ç†ï¼‰</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œè¿™å¯èƒ½ä¼šé€ æˆæ··æ·†ï¼Œä½†æ˜¯å¦‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰€è¿°ï¼Œä½¿ç”¨å¼•æ“è®¾ç½®æ‰§è¡Œç®¡ç†å™¨æ›´æ–°ä»¥åŠå…¶ä»–æ­¥éª¤</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœå¯èƒ½ï¼Œè¯·å¯¹è®¡ç®—æœºè¿›è¡Œå­˜æ¡£æˆ–å¿«ç…§ï¼Œè¯·ç¡®ä¿ä¸Šæ¬¡è®¡åˆ’çš„å¤‡ä»½æˆåŠŸã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬æ£€æŸ¥å¹¶æ›´æ–°å®‰è£…è½¯ä»¶åŒ…ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo engine-upgrade-check<font></font>
$ sudo update ovirt\*setup\*</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°çš„ä¸»è¦éƒ¨åˆ†ç”±å¼•æ“è®¾ç½®ç¨‹åºæ‰§è¡Œã€‚</font><font style="vertical-align: inherit;">å¥¹å°†è¯¢é—®è®¸å¤šé…ç½®é—®é¢˜ï¼Œç„¶ååœæ­¢ovirt-engineæœåŠ¡ï¼Œä¸‹è½½å¹¶å®‰è£…æ›´æ–°çš„è½¯ä»¶åŒ…ï¼Œåˆ›å»ºæ¡£æ¡ˆå¹¶æ›´æ–°æ•°æ®åº“ï¼Œåº”ç”¨æ›´æ–°çš„é…ç½®ï¼Œç„¶åå¯åŠ¨ovirt-engineæœåŠ¡ã€‚</font></font><br>
 <br>
<pre><code class="bash hljs">$ sudo engine-setup</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 æˆåŠŸæ›´æ–°åï¼Œæˆ‘ä»¬å°†æ”¶åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š</font></font><br>
 <br>
<pre><code class="plaintext hljs">Execution of setup completed successfully</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼•æ“è®¾ç½®è„šæœ¬çš„ç¤ºä¾‹è¾“å‡º</font></font></b>
                        <div class="spoiler_text"><pre><code class="bash hljs">$ sudo engine-setup</code></pre><br>
<pre><code class="plaintext hljs">[ INFO  ] Stage: Initializing<font></font>
[ INFO  ] Stage: Environment setup<font></font>
          Configuration files: ['/etc/ovirt-engine-setup.conf.d/10-packaging-jboss.conf', '/etc/ovirt-engine-setup.conf.d/10-packaging.conf', '/etc/ovirt-engine-setup.conf.d/20-setup-ovirt-post.conf']<font></font>
          Log file: /var/log/ovirt-engine/setup/ovirt-engine-setup-20200522232449-o97vyx.log<font></font>
          Version: otopi-1.8.2 (otopi-1.8.2-1.el7)<font></font>
[ INFO  ] Stage: Environment packages setup<font></font>
[ INFO  ] Stage: Programs detection<font></font>
[ INFO  ] Stage: Environment setup (late)<font></font>
[ INFO  ] Stage: Environment customization<font></font>
         <font></font>
          --== PRODUCT OPTIONS ==--<font></font>
         <font></font>
         <font></font>
          --== PACKAGES ==--<font></font>
         <font></font>
[ INFO  ] Checking for product updates...<font></font>
          Setup needs to install or update the following packages:<font></font>
          [updated] ovirt-engine-4.3.5.5-1.el7.noarch will be updated<font></font>
...<font></font>
          [update] ovirt-engine-wildfly-overlay-17.0.1-1.el7.noarch is an update<font></font>
          Replying "No" will abort Setup. You can pass the option "--offline" to prevent installing or updating packages.<font></font>
          Do you wish to update them now? (Yes, No) [Yes]: <font></font>
[ INFO  ] Checking for an update for Setup...<font></font>
         <font></font>
          --== NETWORK CONFIGURATION ==--<font></font>
         <font></font>
          Setup can automatically configure the firewall on this system.<font></font>
          Note: automatic configuration of the firewall may overwrite current settings.<font></font>
          NOTICE: iptables is deprecated and will be removed in future releases<font></font>
          Do you want Setup to configure the firewall? (Yes, No) [Yes]: <font></font>
[ INFO  ] firewalld will be configured as firewall manager.<font></font>
         <font></font>
          --== DATABASE CONFIGURATION ==--<font></font>
         <font></font>
          The detected DWH database size is 439 MB.<font></font>
          Setup can backup the existing database. The time and space required for the database backup depend on its size. This process takes time, and in some cases (for instance, when the size is few GBs) may take several hours to complete.<font></font>
          If you choose to not back up the database, and Setup later fails for some reason, it will not be able to restore the database and all DWH data will be lost.<font></font>
          Would you like to backup the existing database before upgrading it? (Yes, No) [Yes]: <font></font>
          Perform full vacuum on the oVirt engine history<font></font>
          database ovirt_engine_history@localhost?<font></font>
          This operation may take a while depending on this setup health and the<font></font>
          configuration of the db vacuum process.<font></font>
          See https://www.postgresql.org/docs/10/sql-vacuum.html<font></font>
          (Yes, No) [No]: <font></font>
         <font></font>
          --== OVIRT ENGINE CONFIGURATION ==--<font></font>
         <font></font>
          Perform full vacuum on the engine database engine@localhost?<font></font>
          This operation may take a while depending on this setup health and the<font></font>
          configuration of the db vacuum process.<font></font>
          See https://www.postgresql.org/docs/10/sql-vacuum.html<font></font>
          (Yes, No) [No]: <font></font>
         <font></font>
          --== STORAGE CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== PKI CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== APACHE CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== SYSTEM CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== MISC CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== END OF CONFIGURATION ==--<font></font>
         <font></font>
[ INFO  ] Stage: Setup validation<font></font>
          During execution engine service will be stopped (OK, Cancel) [OK]: <font></font>
[ INFO  ] Cleaning stale zombie tasks and commands<font></font>
         <font></font>
          --== CONFIGURATION PREVIEW ==--<font></font>
         <font></font>
          Default SAN wipe after delete           : False<font></font>
          Firewall manager                        : firewalld<font></font>
          Update Firewall                         : True<font></font>
          Host FQDN                               : ovirt.example.com<font></font>
          Upgrade packages                        : True<font></font>
          Set up Cinderlib integration            : False<font></font>
          Engine database secured connection      : False<font></font>
          Engine database user name               : engine<font></font>
          Engine database name                    : engine<font></font>
          Engine database host                    : localhost<font></font>
          Engine database port                    : 5432<font></font>
          Engine database host name validation    : False<font></font>
          Engine installation                     : True<font></font>
          PKI organization                        : JSC Open Lab<font></font>
          Set up ovirt-provider-ovn               : False<font></font>
          Configure WebSocket Proxy               : True<font></font>
          DWH installation                        : True<font></font>
          DWH database secured connection         : False<font></font>
          DWH database host                       : localhost<font></font>
          DWH database user name                  : ovirt_engine_history<font></font>
          DWH database name                       : ovirt_engine_history<font></font>
          Backup DWH database                     : True<font></font>
          DWH database port                       : 5432<font></font>
          DWH database host name validation       : False<font></font>
          Configure Image I/O Proxy               : True<font></font>
          Configure VMConsole Proxy               : True<font></font>
         <font></font>
          Please confirm installation settings (OK, Cancel) [OK]: <font></font>
[ INFO  ] Cleaning async tasks and compensations<font></font>
[ INFO  ] Unlocking existing entities<font></font>
[ INFO  ] Checking the Engine database consistency<font></font>
[ INFO  ] Stage: Transaction setup<font></font>
[ INFO  ] Stopping engine service<font></font>
[ INFO  ] Stopping ovirt-fence-kdump-listener service<font></font>
[ INFO  ] Stopping dwh service<font></font>
[ INFO  ] Stopping Image I/O Proxy service<font></font>
[ INFO  ] Stopping vmconsole-proxy service<font></font>
[ INFO  ] Stopping websocket-proxy service<font></font>
[ INFO  ] Stage: Misc configuration (early)<font></font>
[ INFO  ] Stage: Package installation<font></font>
[ INFO  ] Yum Status: Downloading Packages<font></font>
...<font></font>
[ INFO  ] Stage: Misc configuration<font></font>
[ INFO  ] Upgrading CA<font></font>
[ INFO  ] Not rewriting /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf because it was changed manually. You might want to compare it with /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf.new and edit as needed.<font></font>
[ INFO  ] Backing up database localhost:ovirt_engine_history to '/var/lib/ovirt-engine-dwh/backups/dwh-20200522233531.6LDItj.dump'.<font></font>
[ INFO  ] Creating/refreshing DWH database schema<font></font>
[ INFO  ] Configuring Image I/O Proxy<font></font>
[ INFO  ] Configuring WebSocket Proxy<font></font>
[ INFO  ] Backing up database localhost:engine to '/var/lib/ovirt-engine/backups/engine-20200522233538.LZCwME.dump'.<font></font>
[ INFO  ] Creating/refreshing Engine database schema<font></font>
[ INFO  ] Creating/refreshing Engine 'internal' domain database schema<font></font>
          Unregistering existing client registration info.<font></font>
[ INFO  ] Generating post install configuration file '/etc/ovirt-engine-setup.conf.d/20-setup-ovirt-post.conf'<font></font>
[ INFO  ] Stage: Transaction commit<font></font>
[ INFO  ] Stage: Closing up<font></font>
[ INFO  ] Starting engine service<font></font>
[ INFO  ] Starting dwh service<font></font>
[ INFO  ] Restarting ovirt-vmconsole proxy service<font></font>
         <font></font>
          --== SUMMARY ==--<font></font>
         <font></font>
[ INFO  ] Restarting httpd<font></font>
          Web access is enabled at:<font></font>
              http://ovirt.example.com:80/ovirt-engine<font></font>
              https://ovirt.example.com:443/ovirt-engine<font></font>
          SSH fingerprint: SHA256:JvilhbwRuMjBCJEjQVPlFQgk0aLaKz7Od0WzsZtx4j4<font></font>
          Did not update /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf because it was changed manually. You might want to compare it with /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf.new and edit as needed.<font></font>
         <font></font>
          --== END OF SUMMARY ==--<font></font>
         <font></font>
[ INFO  ] Stage: Clean up<font></font>
          Log file is located at /var/log/ovirt-engine/setup/ovirt-engine-setup-20200522232449-o97vyx.log<font></font>
[ INFO  ] Generating answer file '/var/lib/ovirt-engine/setup/answers/20200522233608-setup.conf'<font></font>
[ INFO  ] Stage: Pre-termination<font></font>
[ INFO  ] Stage: Termination<font></font>
[ INFO  ] Execution of setup completed successfully</code></pre></div>
                    </div><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬æ›´æ–°äº†æ“ä½œç³»ç»Ÿå’Œå…¶ä»–è½¯ä»¶åŒ…ï¼š</font></font><br>
 <pre><code class="bash hljs">$ sudo yum update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 å¦‚æœ‰å¿…è¦ï¼ˆæ›´æ–°å†…æ ¸æˆ–å…¶ç»„ä»¶ï¼‰ï¼Œæˆ‘ä»¬å°†é‡å¯è®¡ç®—æœºã€‚</font></font></li>
</ol><br>
<a name="import-vm"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¼å…¥è™šæ‹Ÿæœº</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥ä»VMwareå¯¼å…¥ï¼Œå¯¼å‡ºåŸŸï¼ˆç”¨äºåœ¨æ•°æ®ä¸­å¿ƒä¹‹é—´äº¤æ¢æ˜ åƒçš„ç‰¹æ®Šå®ä½“oVirtï¼‰ï¼Œè™šæ‹Ÿè®¾å¤‡ï¼ˆOVAï¼‰ï¼ŒXENï¼ŒKVMã€‚</font><font style="vertical-align: inherit;">æ‰€æœ‰å®˜æ–¹æ”¯æŒçš„é€‰é¡¹ï¼š</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»VMware ESXi / VSPHEREå¯¼å…¥VMå¯ä»¥åœ¨ä¸»æœº+ä¸Šè¿è¡ŒESXi / VSPHEREçš„ä¸»æœºä¸Šè¿›è¡Œèº«ä»½éªŒè¯</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»Libvirtå¯¼å…¥KVM / Xen VMï¼šç”¨æˆ·å‘è¿è¡ŒLibvirtçš„ä¸»æœºæŒ‡å®šURL +èº«ä»½éªŒè¯</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»ç»™å®šçš„è·¯å¾„å¯¼å…¥KVM / Xen VMï¼šç”¨æˆ·æŒ‡å®šVMé…ç½®å’Œç£ç›˜çš„nfs / posixè·¯å¾„</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¼å…¥ä»VMwareå¯¼å‡ºçš„VMï¼šç”¨æˆ·æŒ‡å®šovaæ–‡ä»¶çš„nfs / posixè·¯å¾„</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šè½½KVM / Xen VMï¼šç”¨æˆ·æŒ‡å®šé…ç½®æ–‡ä»¶å’Œç£ç›˜</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»VMwareå¯¼å‡ºçš„ä¸Šè½½VMï¼šç”¨æˆ·æŒ‡å®šovaæ–‡ä»¶</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»æ–‡ä»¶å¤¹å¯¼å…¥VMï¼šç”¨æˆ·æŒ‡å®šåŒ…å«KVM / Xen VMæˆ–ä»VMwareå¯¼å‡ºçš„VMçš„æ–‡ä»¶å¤¹çš„è·¯å¾„</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬è¯¦ç»†ä»‹ç»ä¸¤ä¸ªé€‰é¡¹-ä»vSphereå¯¼å…¥å’Œå¸¦æœ‰KVMçš„ç‹¬ç«‹è®¡ç®—æœºã€‚</font><font style="vertical-align: inherit;">è¦åœ¨Compute-&gt; Virtual Machinesä¸­å¯åŠ¨å¯¼å…¥å·¥å…·ï¼Œè¯·å•å‡»æŒ‰é’®ä»¥è·å¾—å…¶ä»–èœå•é¡¹ï¼ˆ3ä¸ªå‚ç›´ç‚¹ï¼Œè¯·å‚è§å›¾13ï¼‰ã€‚</font><font style="vertical-align: inherit;">å¿…é¡»å…³é—­æºè®¡ç®—æœºã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»vCenterå¯¼å…¥è®¡ç®—æœº</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å‘å¯¼ä¸­ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®æ¥æºï¼šVMwareï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤–éƒ¨æä¾›ç¨‹åºï¼šåœ¨ç®¡ç†-&gt;æä¾›ç¨‹åºä¸­ï¼Œæ‚¨å¯ä»¥é…ç½®ç”¨äºé¢‘ç¹æ“ä½œçš„æ¨¡æ¿ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vCenterï¼švCenteræœåŠ¡å™¨çš„åç§°æˆ–åœ°å€ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESXiï¼šæˆ‘ä»¬å°†ä»å“ªä¸ªè™šæ‹Ÿæœºç®¡ç†ç¨‹åºæ¥è½¦ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®ä¸­å¿ƒï¼šç¾¤é›†çš„å®Œæ•´è·¯å¾„ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é›†ç¾¤ï¼šåŒ…å«ç®¡ç†ç¨‹åºé›†ç¾¤ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·å/å¯†ç ï¼šç”¨äºè¿æ¥vCenterçš„ç”¨æˆ·åå’Œå¯†ç ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éªŒè¯æœåŠ¡å™¨çš„SSLè¯ä¹¦ï¼šä½¿ç”¨è‡ªç­¾åè¯ä¹¦æ—¶ï¼Œæ‚¨å¿…é¡»ç¦ç”¨å…¶éªŒè¯ã€‚</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/g9/0i/4b/g90i4btxfdhaz_ji-bntbutlaei.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚</font><font style="vertical-align: inherit;">13-ä»VMware vSphereå¯¼å…¥VMã€‚</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»KVMå¯¼å…¥æœºå™¨</font></font></h4><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æœ‰å…³ä»KVMå¯¼å…¥çš„è¯¦ç»†ä¿¡æ¯</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œå¿…é¡»å…ˆä»å¤–éƒ¨å¯ç”¨åˆ°KVMçš„è¿æ¥ï¼ˆå¦‚æœä¹‹å‰å°šæœªé…ç½®ï¼‰ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…è®¸å°†è®¡ç®—æœºå¯¼å‡ºåˆ°KVM</font></font></b>
                        <div class="spoiler_text">        ,      .       ! ,      ,        ,       .     , .,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">ArchLinux</a>.<br>
<br>
 ,   libvirtd<br>
<br>
<pre><code class="bash hljs">$ sudo vim /etc/sysconfig/libvirtd</code></pre><br>
 <br>
<br>
<pre><code class="plaintext hljs">LIBVIRTD_ARGS="--listen"</code></pre><br>
      <br>
<br>
<pre><code class="bash hljs">$ sudo cp /etc/libvirt/libvirtd.conf /etc/libvirt/libvirtd.conf.`date +%F`<font></font>
$ sudo vim /etc/libvirt/libvirtd.conf</code></pre><br>
  :<br>
<br>
<pre><code class="plaintext hljs">listen_tls = 0<font></font>
listen_tcp = 1<font></font>
listen_addr = "0.0.0.0"<font></font>
auth_tcp = "none"</code></pre><br>
     <br>
<br>
<pre><code class="plaintext hljs">log_outputs="3:syslog:libvirtd"</code></pre><br>
    libvirtd.    ,    libvirtd &gt; 0.6 (  libvirtd --version),   .<br>
<br>
<pre><code class="bash hljs">$ sudo service libvirtd restart</code></pre><br>
     tcp:16509.<br>
<br>
 CentOS 7     (  permanent):<br>
<br>
<pre><code class="bash hljs">$ sudo firewall-cmd --add-rich-rule=<span class="hljs-string">'rule family="ipv4" source address="172.17.71.32/30" port port="16509" protocol="tcp" accept'</span></code></pre><br>
 :<br>
<br>
<pre><code class="bash hljs">$ virsh -r -c <span class="hljs-string">'qemu+tcp://mgmt@kvm46.example.com/system'</span> list --all</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å¤–ï¼Œå¯¼å…¥æœ¬èº«éå¸¸ç®€å•ï¼š</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®¡ç®—-&gt;è™šæ‹Ÿæœº-&gt;ï¼šï¼šï¼ˆé™„åŠ èœå•ï¼Œä¸‰ä¸ªå‚ç›´ç‚¹ï¼‰-&gt;å¯¼å…¥-&gt;æºï¼ˆé€šè¿‡libvirtçš„KVMï¼‰-&gt; URIï¼ˆqemu + tcpï¼š//kvm46.example.com /ç³»ç»Ÿï¼‰-&gt;éœ€è¦èº«ä»½éªŒè¯ï¼ˆç¦ç”¨ï¼‰-&gt;åŠ è½½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æ ‡è®°å¿…è¦çš„æœºå™¨ï¼Œé€‰æ‹©åˆ†é…ç­–ç•¥ï¼ˆAllocation Policyï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ†é…ç­–ç•¥-å¯¹äºå…·æœ‰ç¡¬ä»¶é›¶æ£€æµ‹åŠŸèƒ½çš„å­˜å‚¨å·ï¼Œå…·æœ‰é«˜I / Oçš„å·ï¼Œå…·æœ‰é«˜å ç”¨ç‡çš„å·ç­‰ï¼Œé¦–é€‰è¿›è¡Œé¢„åˆ†é…ï¼Œå¦åˆ™å¯ä»¥è¿›è¡Œç²¾ç®€é…ç½®ã€‚æ— è®ºå¦‚ä½•ï¼Œæˆ‘ä»¬éƒ½ä¼šå¯¹æƒ…å†µè¿›è¡Œåˆ†æã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€‰ä¸­çš„â€œå…‹éš†â€æ‰“å‹¾ï¼Œä½†ä¸ä¼šå¤åˆ¶æ±½è½¦ã€‚ä¾‹å¦‚ï¼Œå°†ä¸ºç½‘ç»œæ¥å£åˆ†é…ä¸€ä¸ªæ–°çš„MACåœ°å€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨â€œå¸¸è§„â€é€‰é¡¹å¡ä¸Šï¼ŒæŒ‡å®šæ­£ç¡®çš„æ“ä½œç³»ç»Ÿç±»å‹éå¸¸é‡è¦ï¼Œåœ¨â€œç½‘ç»œæ¥å£â€é€‰é¡¹å¡ä¸Šï¼Œå¯ä»¥æŒ‡å®šæ‰€éœ€çš„ç½‘ç»œã€‚</font><font style="vertical-align: inherit;">æ¥ä¸‹æ¥ï¼Œâ€œå¯¼å…¥â€ï¼Œç„¶åæ ¹æ®è®¾å¤‡çš„é€Ÿåº¦ï¼Œè·å¾—å¯¼å…¥çš„æœºå™¨ã€‚</font><font style="vertical-align: inherit;">å¯¼å…¥åï¼ˆæˆ–ä¹‹å‰ï¼‰ï¼Œè¯·ä¸è¦å¿˜è®°å®‰è£…ovirt-guest-agentã€‚</font></font><br>
<br>
<a name="task-mgmt"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»åŠ¡ç®¡ç†</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å½“ä»»åŠ¡å†»ç»“æ—¶ï¼Œå›°éš¾çš„â€œèˆè¹ˆâ€å¼€å§‹ï¼Œæˆ‘å°†å°è¯•è°ˆè°ˆå…¶ä¸­çš„ä¸€äº›ã€‚</font><font style="vertical-align: inherit;">é€šè¿‡å¸¸è§„è¡Œä¸ºï¼Œå¯ä»¥åœ¨å›¾1ä¸­è§‚å¯Ÿåˆ°å®ƒä»¬ã€‚</font><font style="vertical-align: inherit;">2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœä»»åŠ¡æˆ–å¤šæˆ–å°‘åœ°æ­£å¸¸æ‰§è¡Œï¼Œé‚£ä¹ˆå¸¸è§„å·¥å…·å°±è¶³å¤Ÿäº†ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨è¿™é‡Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çœ‹åˆ°pimerså’Œå›¾ç‰‡</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»»åŠ¡åœ¨oVirt-hostä¸Šæ‰§è¡Œã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">[mgmt@ovirt-nodeNN] $ sudo vdsm-client Host getAllTasksInfo<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task getStatus taskID=&lt;TASKID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task stop taskID=&lt;TaskID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task clear taskID=&lt;TaskID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Host getAllTasksInfo</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å¤–ï¼Œvdsm-clientå¯èƒ½ä¼šå°è¯•å›æ»šè¯¥ä»»åŠ¡ä»¥åŠæ‰€æœ‰å—æ”¯æŒçš„æ–¹æ³•ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo vdsm-client Task -h</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»»åŠ¡æ–¹æ³•ï¼š</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 æ–¹æ³•[arg = value] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 getStatusè·å–ä»»åŠ¡çŠ¶æ€ä¿¡æ¯ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 æ¢å¤å›æ»šä»»åŠ¡ä»¥æ¢å¤å…ˆå‰çš„ç³»ç»ŸçŠ¶æ€ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 æ¸…é™¤ä¸¢å¼ƒæœ‰å…³å·²å®Œæˆä»»åŠ¡çš„ä¿¡æ¯ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 getInfoè·å–æœ‰å…³ä»»åŠ¡çš„ä¿¡æ¯ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 åœæ­¢åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œå¦‚æœæ— æ³•ä½¿ç”¨æ ‡å‡†æ–¹æ³•åœæ­¢ä»»åŠ¡ï¼Œåˆ™åŠ¨ä½œä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­£å¼è€Œè¨€ï¼Œtaskcleanerå·¥å…·ç”¨äºæ­¤ç›®çš„ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">[mgmt@ovirt-engine] $ sudo /usr/share/ovirt-engine/setup/dbutils/taskcleaner.sh --<span class="hljs-built_in">help</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºæ›´ä¸¥é‡çš„æƒ…å†µï¼Œéœ€è¦ç›´æ¥ç¼–è¾‘æ•°æ®åº“ã€‚</font><font style="vertical-align: inherit;">ä»…åœ¨ä¸‡ä¸å¾—å·²æ—¶æ‰ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åº”å…·æœ‰oVirtå’Œå—å½±å“çš„è®¡ç®—æœºçš„æ–°å­˜æ¡£ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬è¿æ¥è½¯ä»¶é›†åˆ</font></font><br>
<br>
<pre><code class="bash hljs">[mgmt@ovirt-engine] $ sudo scl <span class="hljs-built_in">enable</span> rh-postgresql10 <span class="hljs-string">"psql -d engine -U postgres"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œè¿æ¥åˆ°æ•°æ®åº“</font></font><br>
<br>
<pre><code class="plaintext hljs">su postgres<font></font>
psql -d engine -U postgres<font></font>
select * from job order by start_time desc;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç›´æ¥åˆ é™¤-ä¸ºæœ‰é—®é¢˜çš„ä»»åŠ¡è¿è¡ŒDeleteJobè¿‡ç¨‹ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">select DeleteJob('UUID_HERE');</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">select DeleteJob('ed0127c7-b052-4ec2-a67c-8b3a65d55e19');</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»Šå¤©å°±è¿™äº›äº†ï¼Œæˆ‘å¸Œæœ›æ‚¨æ°¸è¿œä¸éœ€è¦æ‰‹åŠ¨ç¼–è¾‘æ•°æ®åº“ï¼</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN503172/index.html">Cï¼ƒï¼šä»‹ç»æºä»£ç ç”Ÿæˆå™¨</a></li>
<li><a href="../zh-CN503176/index.html">ä½¿ç”¨RobotCè¯­è¨€çš„è¶…å£°æ³¢æµ‹è·ä»ªå’Œç¼–ç å™¨å®ç°ç¡®å®šç‰©ä½“å®½åº¦çš„ç®—æ³•çš„å®ç°</a></li>
<li><a href="../zh-CN503178/index.html">Apple Macå’Œç²¾ç¾çš„è®¾å¤‡ã€‚LTOï¼ŒSASï¼Œå…‰çº¤é€šé“ï¼ŒeSATA</a></li>
<li><a href="../zh-CN503182/index.html">â€œæˆ‘æ˜¯å…¬å¸ä¸­çš„ç¬¬ä¸€ä¸ªç›²äººå¼€å‘äººå‘˜ã€‚â€ ç¬¬1éƒ¨åˆ†</a></li>
<li><a href="../zh-CN503184/index.html">æˆ‘ä»¬é‚€è¯·æ‚¨å‚åŠ Zabbixåœ¨çº¿ä¼šè®®</a></li>
<li><a href="../zh-CN503196/index.html">å¸¸æ˜¥è—¤è”ç›Ÿæä¾›450é“å…è´¹è¯¾ç¨‹</a></li>
<li><a href="../zh-CN503200/index.html">YOLOv4-Microsoft COCOæ•°æ®é›†ä¸Šæœ€å‡†ç¡®çš„å®æ—¶ç¥ç»ç½‘ç»œ</a></li>
<li><a href="../zh-CN503204/index.html">å¦‚ä½•åœ¨Android 10ä¸Šé—ªçƒå°ç±³Redmi 4 Prime / Pro / Premium</a></li>
<li><a href="../zh-CN503208/index.html">ä»€ä¹ˆæ—¶å€™æ˜¯æœ€ä½³æŠ•èµ„æ—¶é—´ï¼Ÿ</a></li>
<li><a href="../zh-CN503210/index.html">ç½‘ç»œé’“é±¼ç«™ç‚¹å¯ä»¥æ ¹é™¤å—ï¼Ÿ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>