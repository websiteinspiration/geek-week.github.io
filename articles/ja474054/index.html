<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🎨 🧔🏻 👩🏽‍🤝‍👨🏾 ウェビナー「MongoDBの基礎」を開く 👆🏻 👨🏼‍⚖️ 🥐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="友だち、データベースコースの次のローンチは明日行われるので、ここで見ることができるレコーディングの伝統的なオープンレッスンを開催しました。今回は人気のあるMongoDBデータベースについて話しました。微妙な点のいくつかを研究し、作業、機能、アーキテクチャの基本を調べました。また、一部のユーザーケース...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ウェビナー「MongoDBの基礎」を開く</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/474054/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">友だち、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベース</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コースの次のローンチは</font><font style="vertical-align: inherit;">明日行われるので、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見ることができるレコーディングの伝統的なオープンレッスンを開催し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">今回は人気のあるMongoDBデータベースについて話しました。微妙な点のいくつかを研究し、作業、機能、アーキテクチャの基本を調べました。</font><font style="vertical-align: inherit;">また、一部のユーザーケースにも触れました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sx/2-/gr/sx2-grmgvwy-o08yp2jovyirre4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このウェビナーは</font><font style="vertical-align: inherit;">、シティモービルのサーバー開発責任者である</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ivan Remen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって実施さ</font><font style="vertical-align: inherit;">れました。</font></font></i><br>
<hr><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDBの機能</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、テーブルスキーマの説明を必要としない、オープンソースのドキュメント指向データベース管理システムです。 NoSQLとして分類され、BSON（バイナリJSON）を使用します。 C ++で記述され、そのまま使用できるスケールで、JavaScript構文をサポートします。 SQLサポートなし。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MongoDBには、多くの一般的なプログラミング言語（C、C ++、C＃、Go、Java、JavaScript、Perl、PHP、Python、Rubyなど）用のドライバーがあります。他のプログラミング言語用の非公式でコミュニティがサポートするドライバもあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、役に立つかもしれない基本的なコマンドを見てみましょう。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">したがって、Docker</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><b><font style="vertical-align: inherit;">MongoDBをデプロイするには</font></b><font style="vertical-align: inherit;">、次のように記述します。</font></font><br>
<br>
<pre><code class="bash hljs">docker run -it --rm -p 127.0.0.1:27017:27017 <font></font>
--name mongo-exp-project mongo<font></font>
docker <span class="hljs-built_in">exec</span> -it mongo-exp-project mongo</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、</font><font style="vertical-align: inherit;">MongoDB </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアントが起動します</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jz/to/mg/jztomgzelwv3sg-nux-dc423lja.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、従来の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello Worldを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記述します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">print</span> (“Hello world!”)</code></pre><br>
<img src="https://habrastorage.org/webt/jo/7t/vn/jo7tvnxidl2lfb5bzcn-zu9wqyo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、我々はなり</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイクルを開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-7/jw/ea/-7jweaubyu6romt4twjtipbi5wa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたが気づいたように、私たちは持っている</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常のJSを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちの前に</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とMongoDBは本格的なJavaScriptインタープリタです</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いつMongoDBを使うのですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シリコンバレーの平均的なスタートアップは、1週間前に本「HTML for Dummies」を開いたという話があります。彼はどのスタックを選択しますか？明らかな理由でブラウザにJavaScriptがあり、Node.jsがサーバー上で回転していて、JavaScriptもデータベース内にある場合、彼にとって非常に便利であることに同意します。これはポイント番号1です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font><font style="vertical-align: inherit;">ロシアで最高のデータベース専門家の1人であるPeter Zaitsev </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">による素晴らしいプレゼンテーション</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があり</font><font style="vertical-align: inherit;">ます。その中で、PeterはMySQLとMongoDBについて話し、いつ、何を使うのが最善かについて焦点を当てています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第3に、MongoDBは優れた</font><b><font style="vertical-align: inherit;">スケーラビリティを</font></b><font style="vertical-align: inherit;">特徴とすることを強調したい</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-これはデータベースの主要な機能の1つです。</font><font style="vertical-align: inherit;">負荷が事前にわからない場合は、MongoDBが最適です。</font><font style="vertical-align: inherit;">さらに、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シャーディング</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">や</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レプリケーション</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの追加設定なしのパターンをサポートして</font><font style="vertical-align: inherit;">おり、これらはすべて非常に透過的になっています。つまり、作業するのに非常に便利です。</font><font style="vertical-align: inherit;">MongoDBの</font><b><font style="vertical-align: inherit;">用語</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
について</font><font style="vertical-align: inherit;">は、次のようになります。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベースはベース（スキーム、テーブル全体）です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDBには</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コレクションの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ようなものがあり</font><b><font style="vertical-align: inherit;">ます。</font></b><font style="vertical-align: inherit;">これは、事物の論理に従って接続する必要があるテーブルと一連のドキュメントの類似物です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントはラインの類似物です。 </font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースの作成と簡単なクエリ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データベースを作成するには、それを使い始める必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">use learn</code></pre><br>
<img src="https://habrastorage.org/webt/td/hy/90/tdhy90yakxehjtfbjegccw27lfc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ドキュメントを少し挿入します。</font><font style="vertical-align: inherit;">たとえば、Auroraという名前のユニコーンであるとします。</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.insert({name: <span class="hljs-string">'Aurora'</span>, gender: <span class="hljs-string">'f'</span>, weight: 450})</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">db</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、データベースにアクセスするためのグローバルオブジェクトです。つまり、実際には「monga」そのものです。シャーディングには</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用され</font><font style="vertical-align: inherit;">、レプリケーションには</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rsが使用され</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><b><font style="vertical-align: inherit;">db</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
オブジェクトにはどのようなコマンドがありますか</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
つまり、コマンドに戻ると、その結果、コンソールは1行が挿入されたことを報告し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">コマンド内</font><font style="vertical-align: inherit;">
の単語</font><font style="vertical-align: inherit;">はコレクションを示します。ここでは、コレクションについて説明したり作成したりせず、単に「ユニコーン」と書いて挿入しただけで、コレクションができたことに注意してください。</font><font style="vertical-align: inherit;">
そして、</font><b><font style="vertical-align: inherit;">すべてのコレクションを取得</font></b><font style="vertical-align: inherit;">でき</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/_9/kh/o_/_9kho_1yywo-7uqvglreimpwd_8.jpeg"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/ke/qs/udkeqsk3bfngttzs2p_nyw4a6ju.jpeg"><br>
<br><font style="vertical-align: inherit;"></font><code>unicorns</code><font style="vertical-align: inherit;"></font><code>db.unicorns.insert({name: 'Aurora', gender: 'f', weight: 450})</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="bash hljs">db.getCollectionNames()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあなど。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コレクション</font><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">挿入</font></b><font style="vertical-align: inherit;">でき</font><font style="vertical-align: inherit;">ます：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pd/zx/qn/pdzxqnt0hgfowtjxd20iydadd3u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全なコレクション</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を要求し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">（この場合、データベースには同じ名前の2つのユニコーンに関する情報が既に含まれていることを思い出してください）。</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.find()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意してください、JSONがあります（名前、性別、重み、オブジェクトの一意の識別子があります）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/54/ow/75/54ow75y40hhp-ticbi6l1bcssw8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、同じ名前のユニコーンをさらに2つ挿入します。</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.insert({name: <span class="hljs-string">'Leto'</span>, gender: <span class="hljs-string">'m'</span>, <font></font>
home: <span class="hljs-string">'Arrakeen'</span>, worm: <span class="hljs-literal">false</span>}) <font></font>
db.unicorns.insert({name: <span class="hljs-string">'Leto'</span>, gender: <span class="hljs-string">'m'</span>, <font></font>
home: <span class="hljs-string">'Arrakeen'</span>, worm: <span class="hljs-literal">false</span>})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何が起こったのか見てみましょう。ご覧の</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zq/ku/vl/zqkuvlfg21n3_pmigl7m6trfud0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
とおり</font><font style="vertical-align: inherit;">、Auroraにはない</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">home</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wormの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加フィールド</font><font style="vertical-align: inherit;">があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかのユニコーンを追加します。</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.insertMany([{name: <span class="hljs-string">'Horny'</span>, dob: new Date(1992,2,13,7,47), loves: [<span class="hljs-string">'carrot'</span>,<span class="hljs-string">'papaya'</span>], weight: 600, gender: <span class="hljs-string">'m'</span>, vampires: 63}, <font></font>
{name: <span class="hljs-string">'Aurora'</span>, dob: new Date(1991, 0, 24, 13, 0), loves: [<span class="hljs-string">'carrot'</span>, <span class="hljs-string">'grape'</span>], weight: 450, gender: <span class="hljs-string">'f'</span>, vampires: 43}, <font></font>
{name: <span class="hljs-string">'Unicrom'</span>, dob: new Date(1973, 1, 9, 22, 10), loves: [<span class="hljs-string">'energon'</span>, <span class="hljs-string">'redbull'</span>], weight: 984, gender: <span class="hljs-string">'m'</span>, vampires: 182}, <font></font>
{name: <span class="hljs-string">'Roooooodles'</span>, dob: new Date(1979, 7, 18, 18, 44), loves: [<span class="hljs-string">'apple'</span>], weight: 575, gender: <span class="hljs-string">'m'</span>, vampires: 99}])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこで、JavaScriptを使用してさらに4つのオブジェクトを挿入</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ni/uq/wl/niuqwlicbep2agmmqgkxlsl2obg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しました。パスポートデータを格納するデータベースで、リレーショナルデータベースとモンのどちらがより便利であると思いますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
答えは明白です-モンでは、上の例はそれをよく示しています。 KLADRがロシア連邦の苦痛であることは秘密ではありません。そして、mongaはアドレスに非常によく当てはまります。これは、すべてを配列として指定でき、より簡単に生きられるからです。そして、これは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDBの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">良い</font><b><font style="vertical-align: inherit;">ユーザー事例です</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユニコーンを追加します。</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.insert({name: <span class="hljs-string">'Solnara'</span>, dob: new Date(1985, 6, 4, 2, 1), loves:[<span class="hljs-string">'apple'</span>, <span class="hljs-string">'carrot'</span>, <span class="hljs-string">'chocolate'</span>], weight:550, gender:<span class="hljs-string">'f'</span>, vampires:80}); <font></font>
db.unicorns.insert({name:<span class="hljs-string">'Ayna'</span>, dob: new Date(1998, 2, 7, 8, 30), loves: [<span class="hljs-string">'strawberry'</span>, <span class="hljs-string">'lemon'</span>], weight: 733, gender: <span class="hljs-string">'f'</span>, vampires: 40}); <font></font>
db.unicorns.insert({name:<span class="hljs-string">'Kenny'</span>, dob: new Date(1997, 6, 1, 10, 42), loves: [<span class="hljs-string">'grape'</span>, <span class="hljs-string">'lemon'</span>], weight: 690, gender: <span class="hljs-string">'m'</span>, vampires: 39}); <font></font>
db.unicorns.insert({name: <span class="hljs-string">'Raleigh'</span>, dob: new Date(2005, 4, 3, 0, 57), loves: [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'sugar'</span>], weight: 421, gender: <span class="hljs-string">'m'</span>, vampires: 2}); <font></font>
db.unicorns.insert({name: <span class="hljs-string">'Leia'</span>, dob: new Date(2001, 9, 8, 14, 53), loves: [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'watermelon'</span>], weight: 601, gender: <span class="hljs-string">'f'</span>, vampires: 33}); <font></font>
db.unicorns.insert({name: <span class="hljs-string">'Pilot'</span>, dob: new Date(1997, 2, 1, 5, 3), loves: [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'watermelon'</span>], weight: 650, gender: <span class="hljs-string">'m'</span>, vampires: 54}); <font></font>
db.unicorns.insert({name: <span class="hljs-string">'Nimue'</span>, dob: new Date(1999, 11, 20, 16, 15), loves: [<span class="hljs-string">'grape'</span>, <span class="hljs-string">'carrot'</span>], weight: 540, gender: <span class="hljs-string">'f'</span>}); <font></font>
db.unicorns.insert({name: <span class="hljs-string">'Dunx'</span>, dob: new Date(1976, 6, 18, 18, 18), loves: [<span class="hljs-string">'grape'</span>, <span class="hljs-string">'watermelon'</span>], weight: 704, gender: <span class="hljs-string">'m'</span>, vampires: 165});</code></pre><br>
<img src="https://habrastorage.org/webt/xp/ca/_n/xpca_noi3_eewunygplsma3a6qk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ドキュメントに注目してください。</font><font style="vertical-align: inherit;">オブジェクト全体</font><font style="vertical-align: inherit;">が</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dob</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として</font><font style="vertical-align: inherit;">保存さ</font><font style="vertical-align: inherit;">れてい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">そして、ユニコーンが愛する情報もあり、誰もがこのデータを持っているわけではありません。</font><font style="vertical-align: inherit;">したがって、内部は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全な配列</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ところで、より美しい出力のために、あなたは、検索コマンドの最後にメソッドを呼び出すことができます</font></font><code>.pretty()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qc/86/rg/qc86rgjozt225q6gwk3nln4kaew.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたが取得する必要がある場合は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、最後のエラーに関する情報を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次のコマンドを使用します。</font></font><br>
<br>
<pre><code class="bash hljs">db.getLastError()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは挿入ごとに実行できますが、書き込みの懸念を構成することもできます。</font><font style="vertical-align: inherit;">これについて</font><font style="vertical-align: inherit;">は、モンで非常に有益</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">な公式ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で読むこと</font><font style="vertical-align: inherit;">をお勧めします。</font><font style="vertical-align: inherit;">ちなみに、</font><font style="vertical-align: inherit;">これについてのHabréに関する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">良い記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もあり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より複雑なクエリに移る</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正確なフィールド値のリクエスト：</font></font></b><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({gender: <span class="hljs-string">'m'</span>})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなリクエストを書き込むことで、コンソールの出力にすべてのオスのユニコーンのリストが表示されます。</font><b><font style="vertical-align: inherit;">複数のフィールドでクエリを一度</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
に実行することもでき</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：性別と重量別：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5m/fv/cu/5mfvcuvnge7bfck_iuslb3nchda.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記では、特別な</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セレクター$ gt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">注意して</font><font style="vertical-align: inherit;">ください。これにより、700を超えるすべての男性ユニコーンを表示できます。</font><b><font style="vertical-align: inherit;">フィールドが存在する</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
か</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どうか</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を確認でき</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({vampires: {<span class="hljs-variable">$exists</span>: <span class="hljs-literal">false</span>}})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
とか、ぐらい：</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({<span class="hljs-string">'parents.father'</span>: {<span class="hljs-variable">$exists</span>: <span class="hljs-literal">true</span>}})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のコマンドは、</font><b><font style="vertical-align: inherit;">名前が文字Aまたはaで始まる</font></b><font style="vertical-align: inherit;">ユニコーンを表示します</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></b><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({name: {<span class="hljs-variable">$regex</span>: <span class="hljs-string">"^[Aa]"</span>}})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、配列検索を見てみ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ましょう</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">質問番号1：このコマンドは何を出力しますか：</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({loves:<span class="hljs-string">'apple'</span>})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そうです：リンゴを愛するすべての人。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のコマンドは、</font><b><font style="vertical-align: inherit;">リンゴとスイカのみ</font></b><font style="vertical-align: inherit;">を含むユニコーンデータのみを返します</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></b><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({loves:[ <span class="hljs-string">"apple"</span>, <span class="hljs-string">"watermelon"</span> ]})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そしてもう一つのコマンド：</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({loves:[ <span class="hljs-string">"watermelon"</span>, <span class="hljs-string">"apple"</span> ]})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの場合、配列を渡すと、最初の要素が最初の要素と比較され、2番目の要素が2番目の要素と比較されるため、何も返されません。つまり、配列も</font><font style="vertical-align: inherit;">これらの値の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位置で</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一致</font><b><font style="vertical-align: inherit;">する</font></b><font style="vertical-align: inherit;">必要があり</font><font style="vertical-align: inherit;">ます。</font><b><font style="vertical-align: inherit;">OR演算子を使用し</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
た</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配列検索</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は次のようになり</font><font style="vertical-align: inherit;">ます</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bq/7w/jj/bq7wjjlkqc6ginsf3h3xful1fp8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。次の例は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、$ all演算子を使用し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">た</font><b><font style="vertical-align: inherit;">検索を</font></b><font style="vertical-align: inherit;">示してい</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。そして、ここでのシーケンスはすでに原理に基づい</font><b><font style="vertical-align: inherit;">ていません。配列のサイズで検索する</font></b></font><br>
<br>
<img src="https://habrastorage.org/webt/1e/fl/3t/1efl3te8tdjvnmhigrrodnp9ces.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
こともでき</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/dh/ia/rj/dhiarjanv17ixwbwrzjdqyjfdgw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
しかし、1より大きい配列を検索したい場合はどうでしょうか。これには</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ where</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子があり</font><font style="vertical-align: inherit;">、これを使用してより複雑なものを記述できます。</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({<span class="hljs-variable">$where</span>: <span class="hljs-function"><span class="hljs-title">function</span></span>() { <span class="hljs-built_in">return</span> this.loves &amp;&amp; (this.loves.length &gt; 1) } })</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、練習したい場合</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">含む</font></a><font style="vertical-align: inherit;">ファイルを</font><font style="vertical-align: inherit;">次に示し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カーソル機能</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少し脱線して、mongaの機能について少し説明しましょう。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">find（）およびその他の操作はデータを返しません-いわゆる「カーソル」を返します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データが印刷されるときに表示されるのは、インタープリターの作業です。 </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">括弧なしで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">db.unicorns.findと</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
入力</font><font style="vertical-align: inherit;">すると、ヒントが得られます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0s/ar/iy/0sariyefxtiuz19de2rieo8zt00.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引き続きご要望にお応えします</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ in演算子もあります：</font></font></b><br>
<br>
<pre><code class="bash hljs">db.unicorns.find({weight: {<span class="hljs-variable">$in</span>: [650, 704]}})</code></pre><br>
<img src="https://habrastorage.org/webt/zl/72/zu/zl72zu58hlfixg8bjl4grd-osxq.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、更新について説明し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">たとえば、ユニコーンRoooooodlesの重量を変更してみましょう。</font></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.update({name: <span class="hljs-string">"Roooooodles"</span>}, {weight: 2222})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクションの結果、ドキュメント</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は完全に更新され</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、指定されたフィールドは1つだけ残ります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/-i/p7/zk-ip7aduwxpw_nhqme-ladyy8s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、オブジェクトに残っているのは、重み2222と、もちろんidだけです。</font><b><font style="vertical-align: inherit;">$ setで</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
これを修正できます</font><font style="vertical-align: inherit;">：</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="bash hljs">db.unicorns.update({_id: ObjectId(<span class="hljs-string">"5da6ea4d9703b8be0089e6db"</span>)}, {<span class="hljs-variable">$set</span>: { <span class="hljs-string">"name"</span> : <span class="hljs-string">"Roooooodles"</span>, <span class="hljs-string">"dob"</span> : ISODate(<span class="hljs-string">"1979-08-18T18:44:00Z"</span>), <span class="hljs-string">"loves"</span> : [ <span class="hljs-string">"apple"</span> ], <span class="hljs-string">"gender"</span> : <span class="hljs-string">"m"</span>, <span class="hljs-string">"vampires"</span> : 99}})</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/ad/hq/jc/adhqjczlthw_wu81_2jqb9gxnro.jpeg"><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を</font><b><font style="vertical-align: inherit;">インクリメントする</font></b><font style="vertical-align: inherit;">こともでき</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fb/w9/pj/fbw9pjxmzfr_vfls6jshqhhda0i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また</font><font style="vertical-align: inherit;">、更新と挿入の組み合わせである</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アップサート</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もあり</font><b><font style="vertical-align: inherit;">ます。フィールド</font></b></font><br>
<br>
<img src="https://habrastorage.org/webt/d_/mf/yr/d_mfyrplzfsf9_hs5izjshl2vmw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択する</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法は</font><font style="vertical-align: inherit;">次のとおり</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tv/wh/gr/tvwhgr6sd8puyxqur66dloianna.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zr/st/c5/zrstc599ywafkk1t5p2chunhtao.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
です。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スキップ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制限</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に関するいくつかの単語を追加し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/ih/iy/n5ihiygbx7gnhmpndif_nxlv3ls.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同僚、詳細は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビデオ全体を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ご覧ください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そして、あなたのコメントを残すことを忘れないでください！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja474042/index.html">コンテスト！サーバーのちらつきに照らしたストーリー...</a></li>
<li><a href="../ja474046/index.html">クラウドサービス、AI、ブロックチェーン、データサイエンス、マイクロサービスに関するワークショップ：現在モスクワとサンクトペテルブルクで</a></li>
<li><a href="../ja474048/index.html">HILDACRYPT：新しいランサムウェアがバックアップシステムとアンチウイルスソリューションを攻撃します</a></li>
<li><a href="../ja474050/index.html">音楽業界のスターである場合、アプリケーションを取得して実行することはできません</a></li>
<li><a href="../ja474052/index.html">旅行者のための難易度バスケット</a></li>
<li><a href="../ja474062/index.html">お金を数える。クレジットスコアリングでのメトリックの選択</a></li>
<li><a href="../ja474068/index.html">VMまたはDocker？</a></li>
<li><a href="../ja474070/index.html">BYOD会議室デバイス</a></li>
<li><a href="../ja474076/index.html">ニッチで世界で最高になる方法</a></li>
<li><a href="../ja474080/index.html">世界で最も人気のある10の定期刊行物の表紙を表示する電報ボット</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>