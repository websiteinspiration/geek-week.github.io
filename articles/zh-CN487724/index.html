<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕟 🍉 ☮️ BlazingPizza：Blazor应用程序从头到尾。第2部分。添加组件 💋 🧔🏿 👩🏿‍🤝‍👩🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好！对于所有想更多了解Blazor的人。今天，我们将继续为比萨店创建网站，即，我们将创建Web api控制器并尝试在Blazor组件上显示其来源的数据。
 
 由于我们的应用程序是关于披萨的，因此立即添加一个代表我们的主要产品的类是合乎逻辑的。将
 
 其命名为BasePizza并将其添加到Bl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>BlazingPizza：Blazor应用程序从头到尾。第2部分。添加组件</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487724/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大家好！</font><font style="vertical-align: inherit;">对于所有想更多了解Blazor的人。</font><font style="vertical-align: inherit;">今天，我们将继续为比萨店创建网站，即，我们将创建Web api控制器并尝试在Blazor组件上显示其来源的数据。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于我们的应用程序是关于披萨的，因此立即添加一个代表我们的主要产品的类是合乎逻辑的。</font><b><font style="vertical-align: inherit;">将</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
其</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名为BasePizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将其添加到</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.DomainModels</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我认为，在Rider中实现新类非常酷，将弹出一个非阻塞对话框，我们输入类名，然后可以选择需要创建的类：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q-/pl/95/q-pl95jcw5o2sdhgzzduaxzotke.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
之后，将出现一个对话框，要求向git添加文件，我们将回答是肯定的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
课程内容：</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BasePizza</span><font></font>
{<font></font>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> BasePrice { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Description { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> ImageUrl { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
它是某种比萨饼的模板，以后可以根据需要进行配置，调整大小，添加配料等。在我看来，字段的名称可以说明一切。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.DomainPizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目中</font><font style="vertical-align: inherit;">，我们将具有表示应用程序业务域的类。也就是说，他们不应该也不会对我们的数据如何存储或如何显示一无所知。仅关于业务对象的信息，即披萨。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，我们需要某种方式以某种方式将这些数据发送给客户端。为此，请转到</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.Server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目，</font><font style="vertical-align: inherit;">然后</font><font style="vertical-align: inherit;">将</font><b><font style="vertical-align: inherit;">PizzasController</font></b><font style="vertical-align: inherit;">添加</font><font style="vertical-align: inherit;">到</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controllers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件夹</font><font style="vertical-align: inherit;">：</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PizzasController</span> : <span class="hljs-title">Controller</span><font></font>
{<font></font>
    <span class="hljs-comment">// GET</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Index</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">return</span> View();<font></font>
    }<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们需要一种方法，该方法可以列出比萨的所有基础知识。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
除了添加方法之外，您还需要执行一些简单的步骤：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ApiController]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性标记该控制器，该属性</font><font style="vertical-align: inherit;">具有一些优点，尤其是如果模型未通过验证则自动返回400代码，而没有模型，它是</font><font style="vertical-align: inherit;">提供View </font><font style="vertical-align: inherit;">的普通</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MVC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制器。</font></font></li>
<li>  <b>[Route(«pizzas»)]</b>.     Attribute Routing,        ,      <b>Conventional Routing</b>,    .   “pizzas”   ?        <b>http{s}://hostName/pizzas/{}</b><br>
      .</li>
<li>    <b>Controller</b>  <b>ControllerBase</b>,      MVC .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
好的，例如，我们发出了一个</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：5000 / pizzas请求，希望得到所有披萨的列表，但没有任何反应。同样，交易在协议中。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果这是一个</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求，那么我们要么必须要使用一个</font><font style="vertical-align: inherit;">标有</font><b><font style="vertical-align: inherit;">[HttpGet]</font></b><font style="vertical-align: inherit;">属性</font><font style="vertical-align: inherit;">的方法（</font><font style="vertical-align: inherit;">就</font><b><font style="vertical-align: inherit;">Asp.Net</font></b><font style="vertical-align: inherit;">而言就是</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），</font><font style="vertical-align: inherit;">或者甚至更明显地是一个名为</font><b><font style="vertical-align: inherit;">Get</font></b><font style="vertical-align: inherit;">的方法</font><font style="vertical-align: inherit;">！ .Net和反射的其他所有内容都会为我们做。</font><font style="vertical-align: inherit;">
因此，将唯一的Index方法重命名为Get。将返回值</font><b><font style="vertical-align: inherit;">的</font></b><font style="vertical-align: inherit;">类型</font><b><font style="vertical-align: inherit;">更改</font></b><font style="vertical-align: inherit;">为</font><b><font style="vertical-align: inherit;">IEnumerable &lt;BasePizza&gt;</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，不要忘记添加必要的用法。</font><font style="vertical-align: inherit;">好吧，暂时插入一个未实现该方法的存根，以便以某种方式编译代码并确保没有错误。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，PizzasController.cs将如下所示：</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc;
<span class="hljs-keyword">using</span> BlazingPizza.DomainModels;<font></font>
<font></font>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">BlazingPizza.Server.Controllers</span><font></font>
{<font></font>
    [<span class="hljs-meta">ApiController</span>]<font></font>
    [<span class="hljs-meta">Route(<span class="hljs-meta-string">"pizzas"</span>)</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PizzasController</span> : <span class="hljs-title">ControllerBase</span><font></font>
    {<font></font>
        <span class="hljs-comment">// GET</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerable&lt;BasePizza&gt;  <span class="hljs-title">Get</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NotImplementedException();<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，启动调试应用程序，这是一个带有绿色错误的按钮。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nl/p6/pp/nlp6ppjxbnbnhjiwxb1_qbtgwsw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
并确保路由配置正确。</font><font style="vertical-align: inherit;">您可以在“ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制台”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡上看到需要发出请求的端口</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yp/i0/hp/ypi0hpgkoc9cv68k8zvi9zsthnu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在本例中为5000，如果沿着</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：5000 / pizzas路径</font><font style="vertical-align: inherit;">发出请求</font><font style="vertical-align: inherit;">，我们将进入Get操作并捕获NotImplementedException。</font><font style="vertical-align: inherit;">也就是说，虽然我们的控制器没有做任何有用的事情，但它只是接受请求并因错误而失败。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们从控制器返回数据</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在是时候让我们的代码做一些有用的事情了，例如返回披萨。</font><font style="vertical-align: inherit;">到目前为止，我们尚未实现数据层，因此我们仅从</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">action中</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返回了几个披萨</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为此，返回一个由两个</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象组成的数组</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">将类似于以下示例：</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-comment">// GET</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerable&lt;BasePizza&gt;  <span class="hljs-title">Get</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span>[]<font></font>
    {<font></font>
        <span class="hljs-keyword">new</span> BasePizza()<font></font>
        {<font></font>
            BasePrice = <span class="hljs-number">500</span>,<font></font>
            Description = <span class="hljs-string">"     "</span>,<font></font>
            Id = <span class="hljs-number">0</span>,<font></font>
            ImageUrl = <span class="hljs-string">"img/pizzas/pepperoni.jpg"</span><font></font>
        },<font></font>
        <span class="hljs-keyword">new</span> BasePizza()<font></font>
        {<font></font>
            BasePrice = <span class="hljs-number">400</span>,<font></font>
            Description = <span class="hljs-string">"   "</span>,<font></font>
            Id = <span class="hljs-number">1</span>,<font></font>
            ImageUrl = <span class="hljs-string">"img/pizzas/meaty.jpg"</span><font></font>
        },<font></font>
    };<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
浏览器中的请求结果将如下所示：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-c/ep/f0/-cepf0dkn90kagmz-gul-dib42u.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置主页</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该应用程序的可见部分在</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.Client</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目的.razor组件中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我们对</font><b><font style="vertical-align: inherit;">Pages</font></b><font style="vertical-align: inherit;">文件夹</font><font style="vertical-align: inherit;">中的</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Index.razor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感兴趣</font><font style="vertical-align: inherit;">，请打开它并删除它从默认项目继承的所有内容。</font><font style="vertical-align: inherit;">让我们开始添加我们真正需要的东西。</font><font style="vertical-align: inherit;">
1.添加：</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ /”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该伪指令用于配置客户端路由，它表示默认情况下将加载此控件，即，如果我们仅访问</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序地址</font><b><font style="vertical-align: inherit;">：5000 /</font></b><font style="vertical-align: inherit;">不带任何/索引，/披萨或其他。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2。</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注入</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HttpClient HttpClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用指令</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注入</font></font></a> </b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将HttpClient之类的服务添加到我们的页面并调用对象</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HttpClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Blazor框架已经为我们配置了</font><font style="vertical-align: inherit;">类型为</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HttpClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的对象</font><font style="vertical-align: inherit;">，因此我们只需发出所需的请求即可。</font><font style="vertical-align: inherit;">这种类型的注入称为“ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性注入”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><b><font style="vertical-align: inherit;">Property Injection）</font></b><font style="vertical-align: inherit;">，不支持通过构造函数更熟悉的实现，并且正如开发人员所说，它不太可能出现，但是这里需要吗？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.添加指令</font></font><br>
<br>
<b><pre><code class="cs hljs"> @code{<font></font>
<font></font>
 }<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了托管客户端C＃代码，特别需要此代码，该代码可以替代JavaScript。</font><font style="vertical-align: inherit;">在此块内，我们放置了</font><b><font style="vertical-align: inherit;">BasePizzaViewModel</font></b><font style="vertical-align: inherit;">类型的对象的</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></b><br>
<br>
<b><pre><code class="cs hljs">IEnumerable&lt;BasePizzaViewModel&gt; PizzaViewModels;</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.正如您已经了解的那样，</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizzaViewModel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不存在，是时候创建它了，该模型将完全类似于</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizza</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域模型，</font><font style="vertical-align: inherit;">除了它将具有表达式主体</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetFormattedBasePrice来</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以我们需要的格式返回基础比萨的价格。</font><font style="vertical-align: inherit;">该模型将添加到项目</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlazingPizza.ViewModels</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizzaViewModel.cs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的根目录中</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BasePizzaViewModel</span><font></font>
{<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">decimal</span> BasePrice { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Description { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> ImageUrl { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GetFormattedBasePrice</span>(<span class="hljs-params"></span>)</span> =&gt; BasePrice.ToString(<span class="hljs-string">"0.00"</span>);<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.回到我们的</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Index.razor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并阻止</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">码</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，添加代码以获取所有可用的披萨。</font><font style="vertical-align: inherit;">我们将这段代码放在</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">async </font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">override</span> Task <span class="hljs-title">OnInitializedAsync</span>(<span class="hljs-params"></span>)</span> {<font></font>
	<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在组件初始化之后调用此方法，并且在调用时，其所有参数已由父组件初始化。在其中，您可以执行一些异步操作，然后需要状态更新。稍后我将更详细地讨论这一点。创建组件后，该方法仅被调用一次。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最后，在此方法内添加比萨饼：</font></font><br>
<br>
<b><pre><code class="cs hljs"><span class="hljs-keyword">var</span> queryResult = <span class="hljs-keyword">await</span> HttpClient.GetJsonAsync&lt;IEnumerable&lt;BasePizza&gt;&gt;(<span class="hljs-string">"pizzas"</span>);
</code></pre></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比萨饼</font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Blazor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已为我们设置了相对路径</font><font style="vertical-align: inherit;">。如下面的方法签名所示，由</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求请求数据，然后客户端尝试将其序列化为</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IEnumerable &lt;BasePizza&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.由于收到了要在组件中显示的错误类型的数据，因此我们需要获取</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasePizzaViewModel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型的对象</font><font style="vertical-align: inherit;">，</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linq</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">及其Select方法将使用它来将对象从传入的集合转换为我们计划使用的类型的对象。最后添加</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<b><pre><code class="cs hljs">PizzaViewModels = queryResult.Select(i =&gt; <span class="hljs-keyword">new</span> BasePizzaViewModel()<font></font>
{<font></font>
    BasePrice = i.BasePrice,<font></font>
    Description = i.Description,<font></font>
    Id = i.Id,<font></font>
    ImageUrl = i.ImageUrl,<font></font>
    Name = i.Name<font></font>
});<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
稍后，我将展示如何在不编写此模板代码的情况下进行操作，但是现在，让我们将其保持原样。</font><font style="vertical-align: inherit;">似乎我们已经拥有所需的一切，我们可以继续显示接收到的数据。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7.在</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">code</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指令上方，</font><font style="vertical-align: inherit;">添加</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码，其中将是披萨本身：</font></font><br>
<br>
<b><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pizza-cards"</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如您所见，语音类名称为“ pizza-cards”的列表ul到目前为止是空的，我们将解决此问题：</font></font><br>
<br>
<b><pre><code class="cs hljs">@foreach (<span class="hljs-keyword">var</span> pizza <span class="hljs-keyword">in</span> PizzaViewModels)<font></font>
{<font></font>
    &lt;li style=<span class="hljs-string">"background-image: url('@pizza.ImageUrl')"</span>&gt;<font></font>
        &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">"pizza-info"</span>&gt;<font></font>
            &lt;span <span class="hljs-keyword">class</span>=<span class="hljs-string">"title"</span>&gt;@pizza.Name&lt;/span&gt;<font></font>
                @pizza.Description<font></font>
            &lt;span <span class="hljs-keyword">class</span>=<span class="hljs-string">"price"</span>&gt;@pizza.GetFormattedBasePrice()&lt;/span&gt;                    <font></font>
        &lt;/div&gt;<font></font>
    &lt;/li&gt;<font></font>
}<font></font>
</code></pre></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这里所有的乐趣都在循环内。 </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前言</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（{items}中的var {item}）</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
这是一种典型的</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Razor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记，它使我们能够</font><font style="vertical-align: inherit;">在与常规</font><b><font style="vertical-align: inherit;">html</font></b><font style="vertical-align: inherit;">代码</font><font style="vertical-align: inherit;">相同的页面上</font><font style="vertical-align: inherit;">使用</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C＃的</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能</font><font style="vertical-align: inherit;">。最主要的是在语言关键字和变量之前放置</font><b><font style="vertical-align: inherit;">“ @”</font></b><font style="vertical-align: inherit;">符号</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
在循环内部，我们只需访问</font><b><font style="vertical-align: inherit;">披萨</font></b><font style="vertical-align: inherit;">对象的属性</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
最后，我们使用</font><b><font style="vertical-align: inherit;">GetFormattedBasePrice</font></b><font style="vertical-align: inherit;">方法显示比萨饼的格式化基本价格</font><font style="vertical-align: inherit;">。顺便说一下，这就是</font><b><font style="vertical-align: inherit;">BasePizza</font></b><font style="vertical-align: inherit;">域模型</font><font style="vertical-align: inherit;">与其</font><b><font style="vertical-align: inherit;">ViewModel</font></b><font style="vertical-align: inherit;">之间的</font><b><font style="vertical-align: inherit;">区别</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 表示形式，因为此方法包含用于以所需格式显示价格的最简单逻辑，而在服务级别，我们以某种方式操纵价格，而无需在任何地方显示价格，因此我们不需要这种格式。 </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在浏览器中显示接收到的数据</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们获得了所有必要的数据以显示。现在是启动我们的应用程序并确保一切正常的时候了。我们单击“ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按钮</font><font style="vertical-align: inherit;">（在</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rider中，</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按钮</font><font style="vertical-align: inherit;">只是启动没有</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能的应用程序</font><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
哦，天哪，也没有任何效果:)打开控制台（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F12</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），发现它全都是红色，显然出了点问题。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blazor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在调试方面并不是没有希望，</font><font style="vertical-align: inherit;">在</font><b><font style="vertical-align: inherit;">控制台中</font></b><font style="vertical-align: inherit;">可以看到</font><font style="vertical-align: inherit;">整个</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用堆栈</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我认为这比同一个</font><b><font style="vertical-align: inherit;">Angular</font></b><font style="vertical-align: inherit;">更好</font><font style="vertical-align: inherit;">。无需通过间接迹象来猜测错误发生的位置，只需查看</font><b><font style="vertical-align: inherit;">调用堆栈</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g-/4f/m5/g-4fm5pnokogbwv_c7vy3ru-5zk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
呈现页面时</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生NullReferenceException</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息</font><font style="vertical-align: inherit;">。这是怎么回事，因为我们初始化了</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">唯一集合。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了更好地理解，请将时间输出插入正确的位置以查看发生的时间范围：</font></font><br>
<br>
<b><ol>
<li> <pre><code class="cs hljs">Console.WriteLine(<span class="hljs-string">$"Time from markup block: <span class="hljs-subst">{DateTime.Now.ToString()}</span>:<span class="hljs-subst">{DateTime.Now.Millisecond.ToString()}</span>"</span>);</code></pre></li>
<li> <pre><code class="cs hljs">Console.WriteLine(<span class="hljs-string">$"Time from cycle: <span class="hljs-subst">{DateTime.Now.ToString()}</span>:<span class="hljs-subst">{DateTime.Now.Millisecond.ToString()}</span>"</span>);</code></pre></li>
<li> <pre><code class="cs hljs">Console.WriteLine(<span class="hljs-string">$"Time from code block, before await: <span class="hljs-subst">{DateTime.Now.ToString()}</span>:<span class="hljs-subst">{DateTime.Now.Millisecond.ToString()}</span>"</span>);</code></pre></li>
<li> <pre><code class="cs hljs">Console.WriteLine(<span class="hljs-string">$"Time from code block, after await: <span class="hljs-subst">{DateTime.Now.ToString()}</span>:<span class="hljs-subst">{DateTime.Now.Millisecond.ToString()}</span>"</span>); </code></pre></li>
</ol></b><br>
<img src="https://habrastorage.org/webt/oi/va/ch/oivachjfzw1mfopljcqmxwhurvy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在下面的屏幕快照中，在控制台中，呈现页面时发生了什么。可以看出，页面甚至在异步方法完成之前就开始呈现。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在第一遍，</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PizzaViewModels</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尚未初始化，我们捕获了</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NullReferenceException</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。然后，如预期的那样，在</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Task</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">返回</font><font style="vertical-align: inherit;">到</font><b><font style="vertical-align: inherit;">RanToCompletion</font></b><font style="vertical-align: inherit;">状态之后，就对</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控件</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行了重新设计。值得注意的是，在第二遍中，我们进入了一个循环，从控制台中的消息可以看出。但是目前，</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不再更新，并且看不到任何可见的更改。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ki/_r/yx/ki_ryxdxd-8xizlytgtgtb5lhpk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，这个问题很容易解决，您只需要在执行循环之前异步运行</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">null</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查</font><font style="vertical-align: inherit;">，那么第一次就不会发生异常，在第二遍过程中，我们将看到所需的数据。</font></font><br>
<b><pre><code class="cs hljs">@if (PizzaViewModels != <span class="hljs-literal">null</span>)<font></font>
{<font></font>
    @foreach (<span class="hljs-keyword">var</span> pizza <span class="hljs-keyword">in</span> PizzaViewModels)<font></font>
    {<font></font>
        ……………………….. <span class="hljs-comment">//    </span><font></font>
    }<font></font>
}</code></pre><br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在看来好一点了，控制台中没有更多错误消息了，您可以看到服务器发出的信息：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ed/sj/zt/edsjztoc2aqa_wibm2mpdwvm2hy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
更好，但是样式和资源不足，尤其是图片，请用文件夹“〜/ Articles / Part2”中的内容替换wwwroot文件夹中的内容/BlazingPizza.Client/wwwroot“存储库（文章末尾的链接）并再次运行该项目，效果更好。</font><font style="vertical-align: inherit;">尽管仍远非理想：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mk/ar/f-/mkarf-kymgsseuioay24uwx0wui.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组件寿命事件</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于我们已经遇到了一个OnInitializedAsync组件生命事件，因此提及其他事件是合乎逻辑的：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化方法</font></font><br>
</th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当组件已经初始化并且其参数已经由父组件设置时调用。</font><font style="vertical-align: inherit;">在组件的生存期内，初始化后将对其调用一次。</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnInitializedAsync</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行后，第一个方法的异步版本将重新呈现组件。</font><font style="vertical-align: inherit;">因此，在编写代码时，您需要考虑某些对象可能为空。</font></font><br>
</td>
</tr>
<tr>
<th colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置参数值之前的可执行方法</font></font><br>
</th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SetParametersAsync</font></font><br>
</td>
<td> ,      .    <b>ParameterView</b>      .<br>
<br>
              <b>[Parameter]</b>  <b>[CascadingParameter]</b>    <b>ParameterView</b>.      ,    .        ,               )<br>
</td>
</tr>
<tr>
<th colspan="2">    <br>
</th>
</tr>
<tr>
<td>OnParametersSet<br>
</td>
<td>           .      ,      <br>
<br>
 —             .<br>
 —    ,                    .<br>
</td>
</tr>
<tr>
<td>OnParametersSetAsync</td>
<td>  OnParametersSet</td>
</tr>
<tr>
<th colspan="2">    </th>
</tr>
<tr>
<td>OnAfterRender</td>
<td>      .        .     JavaScript     DOM      .    bool  firstRender   true     .<br>
</td>
</tr>
<tr>
<td>OnAfterRenderAsync<br>
</td>
<td>   ,     Task   ,        -          .<br>
</td>
</tr>
<tr>
<th colspan="2">  <br>
</th>
</tr>
<tr>
<td>ShouldRender<br>
</td>
<td>          UI,     -  .      .             .<br>
</td>
</tr>
<tr>
<td>StateHasChanged<br>
</td>
<td>      ,    Blazor        .<br>
</td>
</tr>
<tr>
<td>Dispose<br>
</td>
<td>   ,       UI.  <b>StateHasChanged</b>  <b>Dispose</b>  .   Dispose     <b>IDisposable</b>,       <b>@implements IDisposable</b><br>
</td>
</tr>
</tbody></table></div><br>
<h2></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这一部分中，我们学习了如何从控制器接收数据并将其显示给用户。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在下一部分中，我们将整理Layout并添加一个数据访问层以在主页上显示实际数据。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到本系列文章的资源库。</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到原始来源。</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN487702/index.html">机器学习文章精选：案例研究，指南和2020年1月的研究</a></li>
<li><a href="../zh-CN487704/index.html">我们如何在SSRS 2014上构建动态报告</a></li>
<li><a href="../zh-CN487706/index.html">使用Consul示例的分布式系统中的服务发现。亚历山大·西加切夫（Alexander Sigachev）</a></li>
<li><a href="../zh-CN487716/index.html">完美的SAST。解析器</a></li>
<li><a href="../zh-CN487720/index.html">关于竞争性的白痴症（以反应性编程为例）</a></li>
<li><a href="../zh-CN487728/index.html">@Pythonetc汇编，2020年1月</a></li>
<li><a href="../zh-CN487730/index.html">自然语言处理。2019年业绩和2020年趋势</a></li>
<li><a href="../zh-CN487734/index.html">加速实体框架核心</a></li>
<li><a href="../zh-CN487738/index.html">SCADA中的模式动画</a></li>
<li><a href="../zh-CN487740/index.html">组装便携式磁力计</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>