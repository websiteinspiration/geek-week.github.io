<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ†’ ğŸ–ğŸ¾ ğŸ’¢ Dockerå®¹å™¨ä¸­çš„å·¥ä½œç«™ âš“ï¸ ğŸ‘¨ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ¤ŸğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä¸ºäº†ä»€ä¹ˆï¼Ÿå„ç§å„æ ·çš„æƒ³æ³•ä¸æ–­å‡ºç°ï¼Œæˆ‘ç«‹å³æƒ³å°è¯•å…¶ä¸­çš„ä¸€äº›æƒ³æ³•ï¼Œä½†æ˜¯å·¥ä½œç«™å¹¶ä¸æ€»æ˜¯å¯ç”¨çš„ï¼Œå› æ­¤æˆ‘ä¸ºå³å°†å‘ç”Ÿçš„æ‰€æœ‰äº‹æƒ…è®¾ç½®äº†IDEã€‚ç»“æœï¼Œè®¾å¤‡å¼€å§‹å˜å¾—æ··ä¹±ï¼Œå¹¶ä¸”å˜å¾—éš¾ä»¥ç»´æŠ¤å’Œæ›´æ–°å®ƒä»¬ã€‚
 
 ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å†³å®šå°†è¿™æ ·çš„â€œç¬”è®°æœ¬â€æ”¾ç½®åœ¨äº‘ä¸­ï¼Œå¹¶ä¸”å°†æ¯å¤©è¿›è¡Œæ›´æ–°å¹¶åˆ é™¤æ‰€æœ‰ç´¯ç§¯çš„åƒåœ¾ã€‚è¦å·¥ä½œï¼Œè¯·è¿œç¨‹è¿æ¥...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Dockerå®¹å™¨ä¸­çš„å·¥ä½œç«™</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498004/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºäº†ä»€ä¹ˆï¼Ÿå„ç§å„æ ·çš„æƒ³æ³•ä¸æ–­å‡ºç°ï¼Œæˆ‘ç«‹å³æƒ³å°è¯•å…¶ä¸­çš„ä¸€äº›æƒ³æ³•ï¼Œä½†æ˜¯å·¥ä½œç«™å¹¶ä¸æ€»æ˜¯å¯ç”¨çš„ï¼Œå› æ­¤æˆ‘ä¸ºå³å°†å‘ç”Ÿçš„æ‰€æœ‰äº‹æƒ…è®¾ç½®äº†IDEã€‚ç»“æœï¼Œè®¾å¤‡å¼€å§‹å˜å¾—æ··ä¹±ï¼Œå¹¶ä¸”å˜å¾—éš¾ä»¥ç»´æŠ¤å’Œæ›´æ–°å®ƒä»¬ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å†³å®šå°†è¿™æ ·çš„â€œç¬”è®°æœ¬â€æ”¾ç½®åœ¨äº‘ä¸­ï¼Œå¹¶ä¸”å°†æ¯å¤©è¿›è¡Œæ›´æ–°å¹¶åˆ é™¤æ‰€æœ‰ç´¯ç§¯çš„åƒåœ¾ã€‚è¦å·¥ä½œï¼Œè¯·è¿œç¨‹è¿æ¥ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kv/5h/ry/kv5hryhobajnk6wddlszosiiira.jpeg" alt="å›¾ç‰‡"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœï¼Œä»–æ¯«ä¸æ€€ç–‘åœ°ä¸ºè§£å†³å¤§é‡ä»»åŠ¡æä¾›äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å·¥å…·ï¼šä¸€ä¸ªç¬”è®°æœ¬ï¼Œä¸€ä¸ªæµ‹è¯•ç«™ç‚¹ï¼Œä»¥æŸ¥çœ‹æ‰‹æœºæœªæ˜¾ç¤ºçš„å†…å®¹ï¼Œä¸€ä¸ªå®‰å…¨çš„æ²™ç®±ä»¥åŠä¸ºåªèƒ½ä¸GUIå’Œè®¸å¤šå…¶ä»–ç¨‹åºä¸€èµ·ä½¿ç”¨çš„ç¨‹åºè¿è¡Œè„šæœ¬ã€‚ç­‰ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³åˆ†äº«åˆ›å»ºæ­¤ç±»å®¹å™¨çš„æ–¹æ³•ã€‚</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦åˆ›å»ºè¿™æ ·çš„å®¹å™¨ï¼Œå¿…é¡»ç¼–å†™Dockerfileã€‚</font><font style="vertical-align: inherit;">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†æè¿°å…¶åˆ›å»ºçš„æ•´ä¸ªè¿‡ç¨‹ã€‚</font><font style="vertical-align: inherit;">è°ä¸æƒ³åˆ›å»ºè‡ªå·±ï¼Œä½†æƒ³è¦å°è¯•å¹¶å°è¯•ï¼Œé‚£ä¹ˆåœ¨æ–‡ç« åº•éƒ¨å°†æœ‰æŒ‡å‘ç°æˆå›¾åƒçš„é“¾æ¥ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ“ä½œç³»ç»Ÿ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»»ä½•Linuxéƒ½å¯ä»¥ã€‚</font><font style="vertical-align: inherit;">å°±ä¸ªäººè€Œè¨€ï¼Œæˆ‘æ›´å–œæ¬¢æ¼‚äº®çš„OpenSuseï¼Œä½†å°†å…¶å†…å­˜æ¶ˆè€—ä¸CentOSè¿›è¡Œæ¯”è¾ƒåï¼Œæˆ‘å†³å®šé€‰æ‹©åè€…ã€‚</font><font style="vertical-align: inherit;">å®é™…ä¸Šï¼Œå®¹å™¨æ¶ˆè€—çš„å†…å­˜è¶Šå°‘ï¼Œæ‚¨å¯ä»¥åœ¨å…¶æ‰˜ç®¡ä¸ŠèŠ‚çœæ›´å¤šã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬å¼€å§‹åˆ›å»ºä¸€ä¸ªdockerfileï¼š</font></font><br>
<br>
<pre><code class="bash hljs">FROM centos:7
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿œç¨‹è®¿é—®</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è¿æ¥åˆ°å®¹å™¨ï¼Œæ‚¨å¿…é¡»é…ç½®VNCè¿œç¨‹è®¿é—®æœåŠ¡å™¨ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œå¿…é¡»ç†è§£ä¸¤ä¸ªå› ç´ ï¼š</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç³»ç»Ÿæ²¡æœ‰ç›‘è§†å™¨ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œå®ƒå¿…é¡»è¢«æ¨¡æ‹Ÿã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤æœ‰ä¸€ä¸ªç‰¹æ®Šçš„x0vncserveræœåŠ¡å™¨ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VNCæœåŠ¡å™¨ä¸åº”èµ„æºå……è¶³ã€‚</font><font style="vertical-align: inherit;">æ¯•ç«Ÿï¼Œæ‚¨å¿…é¡»ä¸ºæ­¤ä»˜è´¹ã€‚</font><font style="vertical-align: inherit;">å¹¶ä¸”ä¿¡å·ä¼ è¾“çš„æ»ååº”æœ€å°åŒ–ï¼Œå¦åˆ™ä¼šå¼•èµ·ä¸é€‚ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘ä¸ºæœåŠ¡å™¨é€‰æ‹©äº†TigerVNCæœåŠ¡å™¨ï¼Œä¸ºå®¢æˆ·ç«¯é€‰æ‹©äº†TightVNCã€‚</font><font style="vertical-align: inherit;">TigerVNC ServeråŒ…å«åœ¨ä»»ä½•Linuxä¸­ï¼Œé‡é‡è½»ï¼Œé€Ÿåº¦å¿«ï¼Œå¹¶ä¸”é€šè¿‡x0vncserveræ— éœ€ç›‘è§†å™¨å³å¯æ”¯æŒå·¥ä½œã€‚</font><font style="vertical-align: inherit;">TightVNCå®¢æˆ·ç«¯æä¾›äº†å¦‚æ­¤å¿«é€Ÿçš„å›¾ç‰‡ä¼ è¾“ï¼Œæ„Ÿè§‰å¥½åƒå®ƒä¸æ˜¯è¿œç¨‹è¿æ¥ï¼Œè€Œæ˜¯è®¡ç®—æœºä¸Šè¿è¡Œçš„ç¨‹åºã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰©å±•Dockerfileï¼š</font></font><br>
<br>
<pre><code class="bash hljs">FROM centos:7<font></font>
<font></font>
RUN yum install -y epel-release dnf \<font></font>
        &amp;&amp; \<font></font>
        dnf install -y \<font></font>
            tigervnc-server \<font></font>
        &amp;&amp; \<font></font>
        yum clean all &amp;&amp; dnf clean all \<font></font>
        &amp;&amp; \<font></font>
        rm -rf /var/cache/yum/* &amp;&amp; rm -rf /var/cache/dnf/*<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®‰è£…ç¨‹åºåï¼Œæˆ‘ä»¬æ¸…é™¤ç¼“å­˜ä»¥å‡è½»å›¾åƒçš„é‡é‡ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¡Œé¢</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘çœŸçš„å¾ˆå–œæ¬¢Breezeä¸»é¢˜çš„KDEï¼Œä½†æ˜¯KDEæ˜¯ä¸€ä¸ªéå¸¸è´ªåƒçš„æ¡Œé¢ã€‚</font><font style="vertical-align: inherit;">ä¾å„’åŠå…¶è¡ç”Ÿç‰©æ›´ä¸ºã€‚</font><font style="vertical-align: inherit;">Xfceï¼ŒIceä¸å¤ªæ¼‚äº®ã€‚</font><font style="vertical-align: inherit;">å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ-å…·æœ‰Kde-Plasmaä¸»é¢˜çš„LXQTæ¡Œé¢ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®‰è£…æ¡Œé¢ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">FROM centos:7<font></font>
<font></font>
RUN yum install -y epel-release dnf \<font></font>
        &amp;&amp; \<font></font>
        dnf install -y \<font></font>
            tigervnc-server \<font></font>
            openbox obconf-qt \<font></font>
            lxqt-about lxqt-common lxqt-config lxqt-globalkeys lxqt-notificationd \<font></font>
            lxqt-openssh-askpass lxqt-panel lxqt-policykit lxqt-qtplugin lxqt-runner \<font></font>
            lxqt-session pcmanfm-qt \<font></font>
            dejavu-sans-mono-fonts \<font></font>
            xterm nano htop expect sudo \<font></font>
        &amp;&amp; \<font></font>
        yum clean all &amp;&amp; dnf clean all \<font></font>
        &amp;&amp; \<font></font>
        rm -rf /var/cache/yum/* &amp;&amp; rm -rf /var/cache/dnf/*<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤šä¸€ç‚¹ï¼Œæ‚¨å¯ä»¥è¿è¡Œã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·åˆ›å»º</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å®¹å™¨ä¸­ï¼Œå¿…é¡»ç”±æŸäº›ç”¨æˆ·æ¥å·¥ä½œã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œè¯·åˆ›å»ºå®ƒå¹¶è®¾ç½®å¯†ç ï¼Œå¹¶ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">... Dockerfile<font></font>
<font></font>
ENV HOME=/home/headless<font></font>
<font></font>
RUN /bin/dbus-uuidgen --ensure &amp;&amp; \<font></font>
        useradd headless &amp;&amp; \<font></font>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"centos"</span> | passwd --stdin root &amp;&amp; \
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"centos"</span> | passwd --stdin headless
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é‡Œï¼Œæ— å¤´æ˜¯æˆ‘ä»¬åˆ›å»ºå¹¶ä¸ä¹‹åˆä½œçš„ç”¨æˆ·ï¼Œâ€œ centosâ€æ˜¯ç”±ç”¨æˆ·å’ŒrootæŒ‡å®šçš„å¯†ç ã€‚</font><font style="vertical-align: inherit;">æœ€å¥½åœ¨å®¹å™¨å¯åŠ¨æ—¶ä»å¤–éƒ¨å‚æ•°ä¼ é€’å®ƒï¼Œä½†æ˜¯å³ä½¿é‡‡ç”¨è¿™ç§å½¢å¼ï¼Œå®¹å™¨ä¹Ÿä¸ä¼šå—åˆ°æ”»å‡»ï¼Œå› ä¸º </font><font style="vertical-align: inherit;">VNCä¸­çš„è¿æ¥å°†é€šè¿‡å‚æ•°ä¸­çš„å¯†ç è¿›è¡Œå¯†ç ä¿æŠ¤ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é…ç½®vncæœåŠ¡å™¨å¯åŠ¨</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œæ‚¨éœ€è¦ä¸€ä¸ªè¾…åŠ©è„šæœ¬æ¥é…ç½®æˆ‘ä»¬çš„VNCæœåŠ¡å™¨ï¼š</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment">#!/usr/bin/expec</span><font></font>
<font></font>
spawn /usr/bin/vncserver :1 -<span class="hljs-built_in">fg</span> -geometry 1820x960<font></font>
expect <span class="hljs-string">"Password:"</span>
send <span class="hljs-string">"<span class="hljs-variable">$env</span>(password)\r"</span>
expect <span class="hljs-string">"Verify:"</span>
send <span class="hljs-string">"<span class="hljs-variable">$env</span>(password)\r"</span>
expect <span class="hljs-string">"Would you like to enter a view-only password (y/n)?"</span>
send <span class="hljs-string">"n\r"</span><font></font>
<font></font>
<span class="hljs-built_in">set</span> timeout -1<font></font>
expect eof<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¿…é¡»å°†å…¶æ”¾åœ¨Dockefileæ—è¾¹ï¼Œç¨åå°†å…¶åŒ…å«åœ¨å®¹å™¨ä¸­ï¼Œç¨‹åºå°†ä»å…¶å¯åŠ¨ã€‚</font><font style="vertical-align: inherit;">åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œæ‚¨å¿…é¡»æŒ‡å®šè®¡åˆ’ä½¿ç”¨çš„åˆ†è¾¨ç‡ï¼Œä¾‹å¦‚ï¼Œæˆ‘è®¾ç½®äº†1820x960ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæŒ‡å®šçš„å€¼å°äºå®¢æˆ·ç«¯çª—å£çš„å¤§å°ï¼Œåˆ™æœåŠ¡å™¨å¯èƒ½ä¼šç”±äºå†…å­˜ä¸è¶³è€Œå´©æºƒã€‚</font><font style="vertical-align: inherit;">å¦‚æœæŒ‡å®šæ›´å¤šï¼Œåˆ™å°†éœ€è¦ç¼©æ”¾å›¾ç‰‡ï¼Œå¹¶ä¸”æ¡Œé¢çš„å…ƒç´ å°†å˜å¾—å¤ªå°ã€‚</font><font style="vertical-align: inherit;">åŒæ ·åœ¨æ­¤è„šæœ¬ä¸­ï¼Œå°†ä»å°†åœ¨å®¹å™¨å¯åŠ¨å‚æ•°ä¸­ä¼ é€’çš„å˜é‡ä¸­è®¾ç½®å¯†ç ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»ç„¶éœ€è¦å°†æ­¤æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å¹¶æ·»åŠ å¯åŠ¨å‚æ•°ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">... Dockerfile<font></font>
<font></font>
COPY ./startup.sh <span class="hljs-variable">${HOME}</span>
RUN mkdir -p <span class="hljs-variable">${HOME}</span>/.vnc \<font></font>
        &amp;&amp; \<font></font>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">'#!/bin/sh'</span> &gt; <span class="hljs-variable">${HOME}</span>/.vnc/xstartup &amp;&amp; \
        <span class="hljs-built_in">echo</span> <span class="hljs-string">'exec startlxqt'</span> &gt;&gt; <span class="hljs-variable">${HOME}</span>/.vnc/xstartup &amp;&amp; \<font></font>
        chmod 775 <span class="hljs-variable">${HOME}</span>/.vnc/xstartup \<font></font>
        &amp;&amp; \<font></font>
        chown headless:headless -R <span class="hljs-variable">${HOME}</span><font></font>
<font></font>
<font></font>
WORKDIR <span class="hljs-variable">${HOME}</span><font></font>
USER headless<font></font>
ENTRYPOINT [<span class="hljs-string">"expect"</span>, <span class="hljs-string">"./startup.sh"</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°±è¿™æ ·ï¼Œæ‚¨å¯ä»¥è¿è¡Œã€‚</font><font style="vertical-align: inherit;">å¦‚æœåœ¨ç¼–è¯‘Dockerfileæ··æ·†ï¼Œé‚£ä¹ˆå®ƒçš„å®Œæ•´ç‰ˆå¯ä»¥åœ¨å‘ç°</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘çš„ä»“åº“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå¹¶åœ¨æˆå“å®¹å™¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³Šåçª—æ¢çº½</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å¯åŠ¨å®Œæˆçš„å®¹å™¨ï¼Œå¿…é¡»è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">docker run -it --rm -e password=<span class="hljs-string">'YOUR_VNC_PASSWORD'</span> -p5901:5901 labeg/centos-lxqt-vnc
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¹¶ä½¿ç”¨TightVNCå®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ho/su/mn/hosumn20fgmt0vg-wpvjq8k9r-s.jpeg" alt="å›¾ç‰‡"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿æ¥åï¼Œå¿…é¡»è¾“å…¥å…ˆå‰æŒ‡å®šçš„ç”¨æˆ·å¯†ç ã€‚</font><font style="vertical-align: inherit;">è¿˜å»ºè®®æ‚¨ç«‹å³è¿›è¡Œæ›´æ”¹ä»¥æé«˜å®‰å…¨æ€§ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å¯ç”¨ä¸Šé¢çš„å±å¹•æˆªå›¾ä¸­çš„ç²¾ç¾è®¾è®¡ï¼Œè¯·è½¬åˆ°å¼€å§‹&gt;é¦–é€‰é¡¹&gt;å¤–è§‚&gt; LXQtä¸»é¢˜ï¼Œç„¶åé€‰æ‹©Kde-plasmaä¸»é¢˜ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å·¥ä½œç¨‹åº</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å·¥ä½œç¨‹åºåˆ›å»ºç¬¬äºŒä¸ªå›¾åƒã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œåªéœ€è·å–ä¸Šé¢åˆ›å»ºçš„æ˜ åƒï¼Œå¹¶ç”¨ç”¨äºå®‰è£…è½¯ä»¶åŒ…çš„è„šæœ¬å¯¹å…¶è¿›è¡Œè¡¥å……ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">FROM labeg/centos-lxqt-vnc:latest<font></font>
<font></font>
USER root<font></font>
<font></font>
<span class="hljs-comment"># dotnet vscode monodevelop nodejs git2</span><font></font>
RUN rpm -Uvh https://packages.microsoft.com/config/rhel/7/packages-microsoft-prod.rpm \<font></font>
        &amp;&amp; \<font></font>
        rpm --import https://packages.microsoft.com/keys/microsoft.asc &amp;&amp; \<font></font>
        sh -c <span class="hljs-string">'echo -e "[code]\nname=Visual Studio Code\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc" &gt; /etc/yum.repos.d/vscode.repo'</span> \<font></font>
        &amp;&amp; \<font></font>
        rpm --import <span class="hljs-string">"http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF"</span> &amp;&amp; \<font></font>
        su -c <span class="hljs-string">'curl https://download.mono-project.com/repo/centos7-vs.repo | tee /etc/yum.repos.d/mono-centos7-vs.repo'</span> \<font></font>
        &amp;&amp; \<font></font>
        yum install -y https://centos7.iuscommunity.org/ius-release.rpm \<font></font>
        &amp;&amp; \<font></font>
        curl -sL https://rpm.nodesource.com/setup_13.x | bash - \<font></font>
        &amp;&amp; \<font></font>
        dnf install -y geany git2u git2u-gui code monodevelop firefox dotnet-sdk-3.1 nodejs gnome-terminal gnome-system-monitor \<font></font>
        &amp;&amp; \<font></font>
        npm install -g gulp typescript npm-check-updates \<font></font>
        &amp;&amp; \<font></font>
        chown headless:headless -R <span class="hljs-variable">${HOME}</span><font></font>
<font></font>
USER headless<font></font>
<font></font>
RUN code --install-extension ms-vscode.vscode-typescript-tslint-plugin &amp;&amp; \<font></font>
    code --install-extension dbaeumer.vscode-eslint &amp;&amp; \<font></font>
    code --install-extension mrmlnc.vscode-scss &amp;&amp; \<font></font>
    code --install-extension visualstudioexptteam.vscodeintellicode &amp;&amp; \<font></font>
    code --install-extension ms-dotnettools.csharp &amp;&amp; \<font></font>
    code --install-extension joelday.docthis &amp;&amp; \<font></font>
    code --install-extension mrmlnc.vscode-remark &amp;&amp; \<font></font>
    code --install-extension eamodio.gitlens<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥è„šæœ¬ä¸ºLinuxä¸‹çš„Typescriptå’ŒCï¼ƒå¼€å‘å®‰è£…å·¥å…·ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯NodeJSï¼Œå¸¦æœ‰å¿…è¦æ‰©å±•çš„VS Codeå’ŒMonodevelopï¼ˆåˆåVisual Studio for Macï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ƒçš„å¼€å§‹ä¸ä¸Šä¸€å¼ å›¾åƒä¸€æ ·ç®€å•ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">docker run -it --rm -e password=<span class="hljs-string">'YOUR_VNC_PASSWORD'</span> -p5901:5901 labeg/devpc
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨å‡ ç§’é’Ÿå†…éƒ¨ç½²ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œç¯å¢ƒã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/41/bc/un/41bcungih1mb9w0w-tj3oezapyg.png" alt="å›¾ç‰‡"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚¨å­˜åº“å’Œå®Œæˆçš„å›¾åƒ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœæ‚¨éœ€è¦ç°æˆçš„å­˜å‚¨åº“å’Œæ˜ åƒï¼Œæˆ–è€…æƒ³è¦æ”¹å–„ç°æœ‰å­˜å‚¨åº“å’Œæ˜ åƒï¼Œä¾‹å¦‚ï¼Œé€šè¿‡å¯åŠ¨å‚æ•°ï¼Œè®¾ç½®ç”¨æˆ·å¯†ç ï¼Œå±å¹•åˆ†è¾¨ç‡æˆ–åœ¨å´©æºƒåé‡æ–°å¯åŠ¨VNCæœåŠ¡å™¨ï¼Œé‚£ä¹ˆæ¬¢è¿ä½¿ç”¨æˆ‘çš„å­˜å‚¨åº“ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Gihub </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Dockerhubæ¡Œé¢çš„</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
åŸºæœ¬æ˜ åƒ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">
å…·æœ‰Typescriptå’ŒCï¼ƒ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Gihub </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Dockerhubå·¥å…·çš„å›¾åƒ</font></a><font style="vertical-align: inherit;">ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN497990/index.html">PostgreSQLï¼šç”¨Cè¯­è¨€å¼€å‘æ‰©å±•ï¼ˆåŠŸèƒ½ï¼‰</a></li>
<li><a href="../zh-CN497994/index.html">è¯­è¨€åŠ›å­¦é€ƒé€¸åˆ†æ</a></li>
<li><a href="../zh-CN497996/index.html">æ‚¨ä¸æƒ³å¢å¼ºå…ç–«åŠ›ã€‚è¿˜æ˜¯äººä½“çš„æç«¯</a></li>
<li><a href="../zh-CN498000/index.html">åœ¨å¼€å‘è‡ªå·±çš„æ¸¸æˆä¹‹å‰æˆ‘æƒ³çŸ¥é“çš„äº‹æƒ…</a></li>
<li><a href="../zh-CN498002/index.html">Z3è¢–çæŒ‡å—</a></li>
<li><a href="../zh-CN498006/index.html">é€‰æ‹©ä¸“åˆ©å¾‹å¸ˆ</a></li>
<li><a href="../zh-CN498012/index.html">å¸¦æœ‰Qemuçš„Dockerä¸­çš„Mikrotik RouterOS</a></li>
<li><a href="../zh-CN498014/index.html">PyDERASNï¼šéšç€æˆ‘æ·»åŠ äº†å¤§æ•°æ®æ”¯æŒ</a></li>
<li><a href="../zh-CN498018/index.html">å¾®æœåŠ¡æ¶æ„ä¸­çš„è¿è¥åˆ†æï¼šå¸®åŠ©å’Œæç¤ºPostgres FDWæ¥å¸®åŠ©å¼€å‘äººå‘˜</a></li>
<li><a href="../zh-CN498020/index.html">å…³äºé€‚ç”¨äºå¿«é€Ÿè¯„ä¼°åŠŸèƒ½çš„è§†è§‰è¯„ä¼°çš„ä¸€é¡¹æŒ‡æ ‡</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>