<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëéüèª üëºüèø üèΩ Conf√©rences vid√©o: Unix Way ü§æüèø üë®üèΩ‚Äçü§ù‚Äçüë®üèº üòà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La quarantaine est un moment merveilleux pour apprendre quelque chose. Cependant, comme vous le savez, pour que quelqu'un apprenne quelque chose, quel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Conf√©rences vid√©o: Unix Way</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497480/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/vm/gw/wm/vmgwwmtfoo_hivajmmrsjdynktm.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La quarantaine est un moment merveilleux pour apprendre quelque chose. </font><font style="vertical-align: inherit;">Cependant, comme vous le savez, pour que quelqu'un apprenne quelque chose, quelqu'un doit enseigner. </font><font style="vertical-align: inherit;">Si vous avez une pr√©sentation avec laquelle vous souhaitez parler √† un millioni√®me public, gagner une renomm√©e mondiale, alors cet article est pour vous. </font><font style="vertical-align: inherit;">Vous trouverez ici des instructions √©tape par √©tape sur la fa√ßon de cr√©er une vid√©o √† partir de la pr√©sentation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous marquons la mani√®re d'enregistrer des ¬´commentaires sonores¬ª dans PowerPoint et d'exporter la pr√©sentation en vid√©o comme triviale et de ne pas donner un dixi√®me des possibilit√©s n√©cessaires pour une vid√©o vraiment cool. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, nous d√©ciderons des cadres dont nous avons besoin:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glisse en fait avec une voix off</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Changement de diapositive</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interrompre les citations de films populaires</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelques images avec la physionomie du conf√©rencier et du chat pr√©f√©r√© (facultatif)</font></font></li>
</ol><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©er une structure de r√©pertoires</font></font></h3><br>
<pre><code class="bash hljs">.<font></font>
‚îú‚îÄ‚îÄ clipart<font></font>
‚îú‚îÄ‚îÄ clips<font></font>
‚îú‚îÄ‚îÄ rec<font></font>
‚îú‚îÄ‚îÄ slide<font></font>
‚îî‚îÄ‚îÄ sound<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Affectation des catalogues dans l'ordre de r√©f√©rencement: films dont nous tirerons des citations (clipart), fragments de notre future vid√©o (clips), vid√©os de la cam√©ra (rec), diapositives d'image (diapositive), son (son).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faire une pr√©sentation en images</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un vrai </font><font style="vertical-align: inherit;">Linuxoid </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aux yeux</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rouges, faire une pr√©sentation sous forme d'images ne pose aucun probl√®me. </font><font style="vertical-align: inherit;">Permettez-moi de vous rappeler qu'un document pdf peut √™tre analys√© en images par</font></font><br>
<br>
<pre><code class="bash hljs">pdftocairo -png -r 128 ../lecture.pdf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il n'y a pas une telle commande, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installez le paquet poppler-utils</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (instructions pour Ubuntu; si vous avez Arch, alors vous savez d√©j√† quoi faire sans moi). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ci-apr√®s, je pense que la vid√©o est en cours de pr√©paration au format HD Ready, soit 1280 √ó 720. </font><font style="vertical-align: inherit;">Une pr√©sentation d'une taille horizontale de 10 pouces donne exactement cette taille lors du d√©chargement (voir l'option -r 128).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous pr√©parons le texte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous voulez faire du mat√©riel vraiment cool, alors votre discours doit d'abord √™tre √©crit. </font><font style="vertical-align: inherit;">J'ai aussi pens√© pouvoir dire le texte sans pr√©paration, d'autant plus que j'ai une bonne exp√©rience de cours. </font><font style="vertical-align: inherit;">Mais c'est une chose de jouer en direct et une autre d'enregistrer des vid√©os. </font><font style="vertical-align: inherit;">Ne soyez pas paresseux - le temps pass√© √† taper sera payant plus d'une fois. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_6/jl/bb/_6jlbbte4tfrvad0s6ukynie_ou.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici mon format d'enregistrement. </font><font style="vertical-align: inherit;">Le nombre dans l'en-t√™te est √©gal au num√©ro de la diapositive, les interruptions sont surlign√©es en rouge. </font><font style="vertical-align: inherit;">Tout √©diteur convient √† la pr√©paration, mais il est pr√©f√©rable de prendre un traitement de texte √† part enti√®re - par exemple, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnlyOffice</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diapositives sonores</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que puis-je dire - allumez le microphone et √©crivez :) L' </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
exp√©rience montre que la qualit√© d'enregistrement, m√™me √† partir du microphone externe le moins cher, est incomparablement meilleure qu'avec le microphone int√©gr√© de l'ordinateur portable. Si vous voulez un √©quipement de haute qualit√©, je recommande </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'enregistrement, j'ai utilis√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un enregistreur audio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une application d'enregistrement tr√®s simple. Vous pouvez le prendre, par exemple, ici:</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:audio-recorder/ppa<font></font>
sudo apt-get update<font></font>
sudo apt-get install audio-recorder</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'essentiel de cette √©tape est la d√©nomination correcte des fichiers. </font><font style="vertical-align: inherit;">Le nom doit √™tre compos√© d'un num√©ro de diapositive et d'un num√©ro de fragment. </font><font style="vertical-align: inherit;">Les fragments sont num√©rot√©s avec des nombres impairs - 1, 3, 5, etc. Ainsi, pour une diapositive dont le texte est montr√© dans l'image, deux fichiers seront cr√©√©s: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">002-1.mp3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">002-3.mp3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez enregistr√© toutes les vid√©os √† la fois dans une pi√®ce calme, rien ne peut √™tre fait avec. </font><font style="vertical-align: inherit;">Si vous avez enregistr√© en plusieurs √©tapes, il est pr√©f√©rable d'√©galiser le niveau de volume:</font></font><br>
<br>
<pre><code class="bash hljs">mp3gain -r *.mp3</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour </font><font style="vertical-align: inherit;">une raison quelconque, les </font><font style="vertical-align: inherit;">utilitaires </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mp3gain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ne sont pas dans les r√©f√©rentiels standard, mais vous pouvez les obtenir ici:</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:flexiondotorg/audio<font></font>
sudo apt-get update<font></font>
sudo apt-get install mp3gain</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s tout cela, vous devez √©crire un autre fichier avec silence. </font><font style="vertical-align: inherit;">Il est n√©cessaire d'ajouter une bande son aux clips muets: s'il y a une bande son dans un clip et pas dans l'autre, il est difficile de coller ces clips. </font><font style="vertical-align: inherit;">Le silence peut √™tre enregistr√© √† partir du microphone, mais il est pr√©f√©rable de cr√©er un fichier dans l'√©diteur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audacity</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le fichier doit durer au moins une seconde (plus long) et </font><i><font style="vertical-align: inherit;">silence.mp3</font></i><font style="vertical-align: inherit;"> doit √™tre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appel√©</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rouleaux de d√©pannage de cuisson</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout ici n'est limit√© que par votre imagination. </font><font style="vertical-align: inherit;">Vous pouvez utiliser l'√©diteur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour √©diter la vid√©o </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Une fois qu'il √©tait dans des r√©f√©rentiels standard, mais pour une raison quelconque, il a √©t√© sci√©. </font><font style="vertical-align: inherit;">Cela ne nous arr√™tera pas:</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:ubuntuhandbook1/avidemux<font></font>
sudo apt-get update<font></font>
sudo apt-get install avidemux2.7-qt5</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instructions pour travailler avec cet √©diteur sur la mer, oui, en principe, tout y est intuitif. Il est important de respecter plusieurs conditions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, la r√©solution du film doit correspondre √† la r√©solution cible du film. Pour ce faire, dans la ¬´vid√©o de sortie¬ª, vous devez utiliser deux filtres: swsResize pour changer la r√©solution et ¬´ajouter des champs¬ª pour faire du film sovi√©tique de ¬´format √©troit¬ª un format large. Tous les autres filtres sont facultatifs. Par exemple, si quelqu'un ne comprend pas la d√©claration de M. Sharikov dans le fragment en cours de discussion, en utilisant le filtre ¬´ajouter un logo¬ª, vous pouvez ajouter le logo PostgreSQL au-dessus de ¬´Dog‚Äôs Heart¬ª.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deuxi√®mement, tous les fragments doivent utiliser la m√™me fr√©quence d'images. J'utilise 25 images par seconde, car cela donne tellement mon appareil photo et les vieux films sovi√©tiques. Si le film √† partir duquel vous coupez l'image est tourn√© √† une vitesse diff√©rente, utilisez le filtre ¬´R√©√©chantillonner la vid√©o¬ª. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Troisi√®mement, tous les fragments doivent √™tre compress√©s avec le m√™me codec et emball√©s dans les m√™mes conteneurs. Par cons√©quent, dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour le format, s√©lectionnez la vid√©o - " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mpeg4 AVC (x264)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", l'audio - " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AAC (Faac)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", le format de sortie - " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MP4 Muxer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quatri√®mement, il est important de nommer correctement les clips coup√©s. </font><font style="vertical-align: inherit;">Le nom du fichier doit √™tre compos√© d'un num√©ro de diapositive et d'un num√©ro de fragment. </font><font style="vertical-align: inherit;">Les fragments sont num√©rot√©s avec des nombres pairs, en commen√ßant par 2. Ainsi, pour l'image en discussion, le clip avec le hachage doit √™tre appel√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">002-2.mp4 Une</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
fois les clips pr√™ts, vous devez les transf√©rer dans le r√©pertoire contenant les fragments. </font><font style="vertical-align: inherit;">Les param√®tres d' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diff√®rent des param√®tres </font><font style="vertical-align: inherit;">par d√©faut de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par les myst√©rieux param√®tres tbr, tbn, tbc. </font><font style="vertical-align: inherit;">Ils n'affectent pas la reproduction, mais ils ne permettent pas de coller les rouleaux. </font><font style="vertical-align: inherit;">Par cons√©quent, nous recodons:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> ???-?.mp4;
<span class="hljs-keyword">do</span>
  ffmpeg -hide_banner -y -i <span class="hljs-string">"<span class="hljs-variable">${f}</span>"</span> -c copy -r 25 -video_track_timescale 12800 ../clips/<span class="hljs-variable">$f</span>
<span class="hljs-keyword">done</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous supprimons les √©conomiseurs d'√©cran</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout ici est aussi simple: filmer en arri√®re-plan une sorte de sch√©ma intelligent, placer les vid√©os re√ßues dans le r√©pertoire </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rec</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , puis les transf√©rer dans le r√©pertoire avec des fragments. </font><font style="vertical-align: inherit;">Les r√®gles de d√©nomination sont les m√™mes que pour les ruptures de devis, la commande de recodage est la suivante:</font></font><br>
<br>
<pre><code class="bash hljs">ffmpeg -y -i source_file -r 25 -vcodec libx264 -pix_fmt yuv420p -profile:v high -coder 1 -s 1280x720 -ar 44100 -ac 2 ../clips/xxx-x.mp4
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous pr√©voyez de d√©marrer la vid√©o avec votre discours, nommez ce fragment </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">000-1.mp4</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous fabriquons des cadres √† partir d'images statiques</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est temps de monter des clips √† partir d'images et de sons statiques. </font><font style="vertical-align: inherit;">Cela se fait avec ce script:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash
</span>
<span class="hljs-keyword">for</span> sound <span class="hljs-keyword">in</span> sound/*.mp3
<span class="hljs-keyword">do</span>
  soundfile=<span class="hljs-variable">${sound##*/}</span>
  chunk=<span class="hljs-variable">${soundfile%%.mp3}</span>
  clip=<span class="hljs-variable">${chunk}</span>.mp4<font></font>
  pic=slide/<span class="hljs-variable">${chunk%%-?}</span>.png<font></font>
<font></font>
  duration=$(soxi -D <span class="hljs-variable">${sound}</span> 2&gt;/dev/null)
  <span class="hljs-built_in">echo</span> <span class="hljs-variable">${sound}</span> <span class="hljs-variable">${pic}</span> <span class="hljs-variable">${clip}</span> <span class="hljs-string">" - "</span> <span class="hljs-variable">${duration}</span><font></font>
<font></font>
  ffmpeg -hide_banner -y -loop 1 -i <span class="hljs-variable">${pic}</span> -i <span class="hljs-variable">${sound}</span> -r 25 -vcodec libx264 -tune stillimage -pix_fmt yuv420p -profile:v high -coder 1 -t <span class="hljs-variable">${duration}</span> clips/<span class="hljs-variable">${clip}</span>
<span class="hljs-keyword">done</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que la dur√©e du fichier son est d'abord d√©termin√©e par l'utilitaire </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soxi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , puis la vid√©o de la longueur souhait√©e est mont√©e. Toutes les recommandations que j'ai trouv√©es sont plus simples: au lieu de l' </font><font style="vertical-align: inherit;">indicateur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t $ {duration}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , l'indicateur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-shortest</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><i><font style="vertical-align: inherit;">utilis√©</font></i><font style="vertical-align: inherit;"> . En fait, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©termine tr√®s approximativement la longueur du mp3 et lors de l'installation, la longueur de la piste audio peut √™tre tr√®s (une √† deux secondes) diff√©rente de la longueur de la piste vid√©o. Peu importe si la vid√©o enti√®re se compose d'une seule image, mais lors du collage d'un tel film avec une rupture √† la fronti√®re, des effets extr√™mement d√©sagr√©ables avec le b√©gaiement se produisent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre fa√ßon de d√©terminer la dur√©e d'un fichier mp3 est d'utiliser </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mp3info</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Elle se trompe aussi, et parfois</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> donne plus que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mp3info</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , parfois vice versa, parfois ils mentent tous les deux - je n'ai remarqu√© aucun motif. </font><font style="vertical-align: inherit;">Mais </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soxi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fonctionne correctement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour installer cet utilitaire utile, proc√©dez comme suit:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install sox libsox-fmt-mp3</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faire des transitions entre les diapositives</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transition - une courte vid√©o dans laquelle une diapositive se transforme en une autre. </font><font style="vertical-align: inherit;">Pour r√©aliser de telles vid√©os, prenez des diapositives par paires et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisez imagemagick pour</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> transformer l'une en l'autre:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash
</span><font></font>
BUFFER=$(mktemp -d)<font></font>
<font></font>
<span class="hljs-keyword">for</span> pic <span class="hljs-keyword">in</span> slide/*.png
<span class="hljs-keyword">do</span>
  <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">${prevpic}</span> != <span class="hljs-string">""</span> ]]
  <span class="hljs-keyword">then</span>
    clip=<span class="hljs-variable">${pic##*/}</span>
    clip=<span class="hljs-variable">${clip/.png/-0.mp4}</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment">#  </span>
    <span class="hljs-comment">#</span>
    ./fade.pl <span class="hljs-variable">${prevpic}</span> <span class="hljs-variable">${BUFFER}</span> 1280 720 5 direct 0<font></font>
    ./fade.pl <span class="hljs-variable">${pic}</span> <span class="hljs-variable">${BUFFER}</span> 1280 720 5 reverse 12
    <span class="hljs-comment">#</span>
    <span class="hljs-comment">#   </span>
    <span class="hljs-comment">#</span>
    ffmpeg -y -hide_banner -i <span class="hljs-string">"<span class="hljs-variable">${BUFFER}</span>/%03d.png"</span> -i sound/silence.mp3 -r 25 -y -acodec aac -vcodec libx264 -pix_fmt yuv420p -profile:v high -coder 1 -shortest clips/<span class="hljs-variable">${clip}</span>
    rm -f <span class="hljs-variable">${BUFFER}</span>/*
  <span class="hljs-keyword">fi</span>
  prevpic=<span class="hljs-variable">${pic}</span>
<span class="hljs-keyword">done</span><font></font>
<font></font>
rmdir <span class="hljs-variable">${BUFFER}</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour une raison quelconque, je voulais que la diapositive se disperse en points, puis la diapositive suivante a √©t√© assembl√©e √† partir des points, et pour cela j'ai √©crit un script appel√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fade.pl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ayant </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagemagick</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un vrai Linuxoid cr√©era un effet sp√©cial, mais si quelqu'un aime mon id√©e de dispersion, voici le script:</font></font><br>
<br>
<pre><code class="perl hljs"><span class="hljs-comment">#!/usr/bin/perl</span><font></font>
<font></font>
<span class="hljs-keyword">use</span> strict;
<span class="hljs-keyword">use</span> warnings;
<span class="hljs-keyword">use</span> locale;
<span class="hljs-keyword">use</span> utf8;
<span class="hljs-keyword">use</span> <span class="hljs-keyword">open</span> <span class="hljs-string">qw(:std :utf8)</span>;
<span class="hljs-keyword">use</span> Encode <span class="hljs-string">qw(decode)</span>;
<span class="hljs-keyword">use</span> I18N::Langinfo <span class="hljs-string">qw(langinfo CODESET)</span>;<font></font>
<font></font>
<span class="hljs-keyword">my</span> $codeset = langinfo(CODESET);<font></font>
@ARGV = <span class="hljs-keyword">map</span> { decode $codeset, $_ } @ARGV;<font></font>
<font></font>
<span class="hljs-keyword">my</span> ($source, $target, $width, $height, $pixsize, $rev, $file_no) = @ARGV;<font></font>
<font></font>
<span class="hljs-keyword">my</span> @rects;<font></font>
$rects[$_] = <span class="hljs-string">"0123456789AB"</span> <span class="hljs-keyword">for</span> <span class="hljs-number">0</span>..$width*$height/$pixsize/$pixsize/<span class="hljs-number">12</span> - <span class="hljs-number">1</span>;<font></font>
<font></font>
<span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $i (<span class="hljs-number">0</span>..<span class="hljs-number">11</span>) {
  <span class="hljs-keyword">substr</span>($_,<span class="hljs-keyword">int</span>(<span class="hljs-keyword">rand</span>(<span class="hljs-number">12</span>-$i)),<span class="hljs-number">1</span>) = <span class="hljs-string">""</span> <span class="hljs-keyword">for</span> (@rects);
  <span class="hljs-keyword">my</span> $s = $source;<font></font>
  $s =~ <span class="hljs-keyword">s</span><span class="hljs-comment">#^.*/##;</span>
  <span class="hljs-keyword">open</span>(PICTURE,<span class="hljs-string">"| convert - -transparent white PNG:- | convert \"$source\" - -composite \"$target/"</span>.substr(<span class="hljs-string">"00"</span>.($file_no+$i),-<span class="hljs-number">3</span>).<span class="hljs-string">".png\""</span>);
  <span class="hljs-keyword">printf</span> PICTURE (<span class="hljs-string">"P3\n%d %d\n255\n"</span>,$width,$height);
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $row (<span class="hljs-number">1</span>..$height/$pixsize/<span class="hljs-number">3</span>) {
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $j (<span class="hljs-number">0</span>..<span class="hljs-number">2</span>) {
      <span class="hljs-keyword">my</span> $l = <span class="hljs-string">""</span>;
      <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $col (<span class="hljs-number">1</span>..$width/$pixsize/<span class="hljs-number">4</span>) {
        <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $k (<span class="hljs-number">0</span>..<span class="hljs-number">3</span>) {<font></font>
          $l .= (<span class="hljs-keyword">index</span>($rects[($row-<span class="hljs-number">1</span>)*$width/$pixsize/<span class="hljs-number">4</span>+$col-<span class="hljs-number">1</span>],<span class="hljs-keyword">sprintf</span>(<span class="hljs-string">"%1X"</span>,$j*<span class="hljs-number">4</span>+$k))==-<span class="hljs-number">1</span> <span class="hljs-keyword">xor</span> $rev eq <span class="hljs-string">"reverse"</span>) ? <span class="hljs-string">"0 0 0\n"</span> : <span class="hljs-string">"255 255 255\n"</span> <span class="hljs-keyword">for</span> (<span class="hljs-number">1</span>..$pixsize);<font></font>
        }<font></font>
      }<font></font>
      <span class="hljs-keyword">print</span> PICTURE ($l) <span class="hljs-keyword">for</span> (<span class="hljs-number">1</span>..$pixsize);<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword">close</span>(PICTURE);<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Montez le rouleau fini</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous avons tous les fragments. </font><font style="vertical-align: inherit;">Nous allons dans le r√©pertoire des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clips</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et collectons le film fini avec deux commandes:</font></font><br>
<br>
<pre><code class="bash hljs">ls -1 ???-?.mp4 | gawk -e <span class="hljs-string">'{print "file " $0}'</span> &gt;list.txt<font></font>
ffmpeg -y -hide_banner -f concat -i list.txt -c copy MOVIE.mp4<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Profitez de votre visionnement √† vos √©tudiants reconnaissants!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr497466/index.html">Sysbench et la distribution des variables al√©atoires</a></li>
<li><a href="../fr497468/index.html">[Master class] Attaques pratiques sur l'interface USB</a></li>
<li><a href="../fr497470/index.html">Comment √©jecter des virus sur le SDK Corona</a></li>
<li><a href="../fr497476/index.html">Top 8 des structures de donn√©es JavaScript</a></li>
<li><a href="../fr497478/index.html">Tutoriel de simulateur de r√©seau ns-3. Chapitre 4</a></li>
<li><a href="../fr497482/index.html">Authentification dans Kubernetes avec Dex: attachez LDAP</a></li>
<li><a href="../fr497484/index.html">Utilisation d'algorithmes ML pour classer des documents multipages: exp√©rience VTB</a></li>
<li><a href="../fr497486/index.html">Division des donn√©es. ann√©e 2013. R√©trospective</a></li>
<li><a href="../fr497488/index.html">Automatisez les processus RH √† l'aide de Microsoft Teams, PowerApps et Power Automate. Demandes de retrait d'employ√©s</a></li>
<li><a href="../fr497490/index.html">Difficult√©s de paternit√© des hippocampes: m√©tamorphoses g√©n√©tiques du syst√®me immunitaire</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>