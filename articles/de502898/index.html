<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìí ‚õπüèΩ üöØ IoT, wo Sie nicht gewartet haben. Entwicklung und Erprobung (Teil 2) üßõüèª üõµ ‚úÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fortsetzung des ersten Teils des Artikels ‚ÄûIoT, wo Sie nicht gewartet haben. Entwicklung und Test (Teil 1) ‚Äúlie√ü nicht lange auf sich warten. Dieses M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>IoT, wo Sie nicht gewartet haben. Entwicklung und Erprobung (Teil 2)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/502898/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fortsetzung des ersten Teils des Artikels </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄûIoT, wo Sie nicht gewartet haben. </font><font style="vertical-align: inherit;">Entwicklung und Test (Teil 1) ‚Äúlie√ü</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nicht lange auf sich warten. </font><font style="vertical-align: inherit;">Dieses Mal werde ich Ihnen sagen, wie die Architektur des Projekts war und auf welche Art von Rechen wir getreten sind, als wir mit dem Testen unserer L√∂sung begonnen haben. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haftungsausschluss: Kein einziger M√ºlleimer </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wurde</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> schwer getroffen.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/dm/be/gl/dmbeglutox6rwbye8o2jkvgflm4.png"><br>
<a name="habracut"></a><br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektarchitektur</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben ein typisches Microservice-Projekt. </font><font style="vertical-align: inherit;">Die Schicht der Mikrodienste der ‚Äûunteren Ebene‚Äú empf√§ngt Daten von Ger√§ten und Sensoren und speichert sie in Kafka. Anschlie√üend k√∂nnen gesch√§ftsorientierte Mikrodienste mit den von Kafka empfangenen Daten arbeiten, um den aktuellen Status der Ger√§te anzuzeigen, Analysen zu erstellen und ihre Modelle zu optimieren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/33/e8/xw33e8qbwceod5p-ik8_3fhcees.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kafka im IoT-Projekt lief sehr cool. </font><font style="vertical-align: inherit;">Im Vergleich zu anderen Systemen wie RabbitMQ bietet Kafka mehrere Vorteile:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeiten mit Streams</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Rohdaten von Sensoren k√∂nnen verarbeitet werden, um einen Stream zu erhalten. </font><font style="vertical-align: inherit;">Und mit Streams k√∂nnen Sie flexibel konfigurieren, was Sie in ihnen filtern m√∂chten, und es ist einfach, Streaming durchzuf√ºhren (neue Datenstr√∂me erstellen).</font></font></li>
<li><b></b>: Kafka    ,          , ,  . - ,    -   ,      .            ,     Kafka   ,    .   ,      ,       ,       .</li>
</ul><br>
<h2><font color="#DB8E0D">  Backend</font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns zun√§chst das uns vertraute Backend an. Die gesamte Gesch√§ftsschicht der Anwendung basiert auf demselben Java- und Spring-Stack. Um Microservice-Anwendungen in einer realen Umgebung zu testen, verwenden wir die Testcontainer-Bibliothek. Sie k√∂nnen damit problemlos externe Bindungen (Kafka, PostgreSQL, MongoDB usw.) in Docker bereitstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst heben wir den erforderlichen Container in Docker auf, starten die Anwendung und f√ºhren auf der realen Instanz bereits Testdaten aus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie genau wir das machen, habe ich beim Heisenbug 2019 Piter im Bericht ‚ÄûMicroservice Wars: JUnit Episode 5 - TestContainers Strikes Back‚Äú ausf√ºhrlich besprochen:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/UeQfaulJJDo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns ein kleines Beispiel an, wie es aussah. Der untergeordnete Dienst nimmt Daten von Ger√§ten und sendet sie an Kafka. Und der Heat Map-Dienst aus dem Gesch√§ftsbereich nimmt Daten von kafka und erstellt eine Heat Map. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yv/k-/e6/yvk-e6ks3dpsssk_irgn2ueqaza.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testen wir den Empfang von Daten mit dem Heat Map-Dienst (√ºber Kafka).</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@KafkaTestContainer</span>
<span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KafkaIntegrationTest</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> KafkaTemplate kafkaTemplate;<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sendTest</span><span class="hljs-params">()</span> </span>{<font></font>
        kafkaTemplate.send(TOPIC_NAME, MEASSAGE_BODY)<font></font>
<font></font>
        <span class="hljs-comment">//     </span>
        <span class="hljs-comment">//       </span>
        <span class="hljs-comment">//  </span><font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir schreiben einen regelm√§√üigen Integrations-SpringBoot-Test, der sich jedoch im annotationsbasierten Stil der Konfiguration der Testumgebung unterscheidet. Annotation ist </font></font><code>@KafkaTestContainer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erforderlich, um Kafka zu erheben. Um es zu verwenden, m√ºssen Sie die Bibliothek verbinden: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring-test-kafka</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn die Anwendung </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">gestartet wird,</font></a><font style="vertical-align: inherit;"> startet Spring und der Kafka-Container startet in Docker. Dann verwenden wir es im Test </font></font><code>kafkaTemplate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, injizieren es in den Testfall und senden die Daten an Kafka, um die Logik der Verarbeitung neuer Daten aus dem Thema zu testen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All dies geschieht auf einer normalen Kafka-Instanz, ohne eingebettete Optionen, sondern nur mit der Version, die sich in der Produktion dreht. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/io/0y/kw/io0ykwhp5uo7bmrd7moqizkxh-o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Heat Map-Dienst verwendet MongoDB als Speicher, und der Test f√ºr MongoDB sieht √§hnlich aus:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@MongoDbDataTest</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SensorDataRecordServiceTest</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SensorDataRecordRepository repository;<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-meta">@MongoDataSet(value ="sensor_data.json")</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">findSingle</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">var</span> log = repository.findAllByDeviceId(<span class="hljs-string">"001"</span>);<font></font>
        assertThat(log).hasSize(<span class="hljs-number">1</span>);<font></font>
        ...<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Annotation </font></font><code>@MongoDbDataTest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">startet MongoDB in Docker √§hnlich wie Kafka. </font><font style="vertical-align: inherit;">Nach dem Start der Anwendung k√∂nnen wir das Repository verwenden, um mit MongoDB zu arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um diese Funktionalit√§t in Ihren Tests zu verwenden, m√ºssen Sie lediglich die Bibliothek verbinden: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring-test-mongo</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
√úbrigens gibt es dort viele andere N√ºtzlichkeiten. Sie k√∂nnen beispielsweise die Datenbank √ºber die Anmerkung in die Datenbank laden, bevor Sie den Test ausf√ºhren, </font></font><code>@MongoDataSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie im obigen Beispiel oder Stellen Sie anhand der Anmerkung </font></font><code>@ExpectedMongoDataSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sicher, dass nach Abschluss des Testfalls in der Datenbank der genaue Datensatz angezeigt wurde, den wir erwarten.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich werde Ihnen mehr √ºber die Arbeit mit Testdaten am </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heisenbug 2020 Piter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erz√§hlen </font><font style="vertical-align: inherit;">, der vom 15. bis 18. Juni online stattfinden wird.</font></font></blockquote><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoT-spezifische Dinge testen</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Gesch√§ftsteil ein typisches Backend ist, enthielt die Arbeit mit Daten von Ger√§ten viele Rechen und Besonderheiten in Bezug auf Hardware. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie haben ein Ger√§t und m√ºssen es koppeln. </font><font style="vertical-align: inherit;">Dazu ben√∂tigen Sie Dokumentation. </font><font style="vertical-align: inherit;">Es ist gut, wenn Sie ein St√ºck Eisen haben und darauf andocken. </font><font style="vertical-align: inherit;">Alles begann jedoch anders: Es gab nur Dokumentation, und das Ger√§t war noch unterwegs. </font><font style="vertical-align: inherit;">Wir haben eine kleine Anwendung gedreht, die theoretisch h√§tte funktionieren sollen, aber sobald echte Ger√§te eintrafen, wurden unsere Erwartungen mit der Realit√§t konfrontiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir dachten, dass die Eingabe ein Bin√§rformat sein w√ºrde, und das Ger√§t begann, uns eine XML-Datei zuzuwerfen. </font><font style="vertical-align: inherit;">Und in solch einer schwierigen Form wurde die erste Regel f√ºr das IoT-Projekt geboren:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glauben Sie niemals der Dokumentation!</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grunds√§tzlich waren die vom Ger√§t empfangenen Daten mehr oder weniger klar: </font></font><code>Time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Dies ist der Zeitstempel, </font></font><code>DevEUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- die Kennung des Ger√§ts </font></font><code>LrrLAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>LrrLON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- die Koordinaten. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fi/2f/le/fi2flek9kx9xqqathgexitpqoms.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber was ist das </font></font><code>payload_hex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Wir sehen 8 Ziffern, was kann in ihnen sein? Ist es der Abstand zum M√ºll, die Spannung des Sensors, der Signalpegel, der Neigungswinkel, die Temperatur oder alles zusammen? Irgendwann dachten wir, dass die chinesischen Hersteller dieser Ger√§te eine Art Archivierung von Feng Shui kannten und alles, was m√∂glich war, in 8 Ziffern packen konnten. Wenn Sie jedoch nach oben schauen, k√∂nnen Sie sehen, dass die Zeit in einer regul√§ren Zeile geschrieben ist und dreimal mehr Bits enth√§lt, dh Bytes, die offensichtlich niemand gespeichert hat. Als Ergebnis stellte sich heraus, dass speziell in dieser Firmware die H√§lfte der Sensoren im Ger√§t einfach ausgeschaltet ist und Sie auf eine neue Firmware warten m√ºssen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
W√§hrend sie warteten, stellten wir im B√ºro einen Pr√ºfstand her, der eigentlich ein gew√∂hnlicher Karton war. Wir befestigten das Ger√§t an der Abdeckung und warfen alle B√ºromaterialien in die Schachtel. Wir brauchten auch eine Testkopie des Wagens des Tr√§gers, und seine Rolle wurde von der Maschine eines der Entwickler im Projekt gespielt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt sahen wir auf der Karte, wo die Pappkartons standen, und wir wussten, wohin der Entwickler reiste (Spoiler: Work-Home, und niemand hat die Bar am Freitagabend abgesagt). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v2/wk/jj/v2wkjjrqcceanhl-12dvmgzrpio.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das System mit Pr√ºfst√§nden hielt jedoch nicht lange, da es gro√üe Unterschiede zu echten Containern gibt. Wenn wir zum Beispiel √ºber den Beschleunigungsmesser sprechen, haben wir die Box von einer Seite zur anderen gedreht und Messwerte vom Sensor erhalten, und alles schien zu funktionieren. In Wirklichkeit gibt es jedoch einige Einschr√§nkungen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/0l/m6/gv0lm6vqch_4sjtddcwx_1qozq0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den ersten Versionen des Ger√§ts wurde der Winkel nicht in absoluten Werten, sondern in relativen Werten gemessen. Und als die Box mehr geneigt war als das in der Firmware festgelegte Delta, begann der Sensor falsch zu arbeiten oder konnte die Drehung sogar nicht reparieren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5_/mi/kt/5_mikt3j_jreeeei1m7l3r5njpo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nat√ºrlich wurden all diese Fehler im Prozess korrigiert, aber zu Beginn brachten die Unterschiede zwischen der Box und dem Container viele Probleme mit sich. Und wir haben den Tank von allen Seiten gebohrt, w√§hrend wir entschieden haben, wie der Sensor in den Container eingesetzt werden soll, damit wir beim Anheben des Tanks mit dem Auto des Tr√§gers genau aufgezeichnet haben, dass der M√ºll entladen wurde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neben dem Problem mit dem Neigungswinkel haben wir zun√§chst nicht ber√ºcksichtigt, wie hoch der tats√§chliche M√ºll im Container sein wird. Und wenn wir Styropor und Kissen in diese Schachtel geworfen haben, dann haben die Leute in Wirklichkeit alles in einen Beh√§lter gegeben, sogar Zement und Sand. Als Ergebnis zeigte der Sensor an, dass der Beh√§lter leer war, obwohl er tats√§chlich voll war. Wie sich herausstellte, warf jemand w√§hrend der Reparatur ein k√ºhles schallabsorbierendes Material, das die Signale vom Sensor d√§mpfte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu diesem Zeitpunkt haben wir uns entschlossen, mit dem Vermieter des Gesch√§ftszentrums, in dem sich das B√ºro befindet, √ºbereinzustimmen, um Sensoren an den M√ºllcontainern zu installieren. Wir haben die Baustelle vor dem B√ºro ausgestattet, und von diesem Moment an haben sich das Leben und der Alltag der Projektentwickler dramatisch ver√§ndert. Normalerweise m√∂chten Sie zu Beginn des Arbeitstages Kaffee trinken, die Nachrichten lesen und hier haben Sie buchst√§blich das ganze Band voller M√ºll:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sl/uy/1h/sluy1hbfa2ixa7xwkq4z4pw9wqa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Testen des Temperatursensors wie beim Beschleunigungsmesser wurden in der Realit√§t neue Szenarien vorgestellt. Der Schwellenwert f√ºr die Temperatur ist ziemlich schwer zu w√§hlen, damit wir rechtzeitig wissen, dass der Sensor eingeschaltet ist, und uns nicht von ihm verabschieden. Zum Beispiel erw√§rmen sich Beh√§lter im Sommer sehr stark unter der Sonne, und das Einstellen einer zu niedrigen Schwellentemperatur ist mit st√§ndigen Benachrichtigungen des Sensors behaftet. Und wenn das Ger√§t wirklich brennt und jemand anf√§ngt, es zu l√∂schen, m√ºssen Sie sich darauf vorbereiten, dass der Tank oben mit Wasser gef√ºllt wird. Dann l√§sst ihn jemand fallen und er l√∂scht auf dem Boden. In diesem Szenario √ºberlebt der Sensor offensichtlich nicht.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/t-/qs/94/t-qs945hkxnumg3bwhc_pbzh_hy.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Irgendwann kam eine neue Firmware zu uns (erinnern Sie sich, dass wir darauf gewartet haben?). </font><font style="vertical-align: inherit;">Wir rollten es auf die Sensoren und das Kommunikationsprotokoll mit dem Sensor brach erneut. </font><font style="vertical-align: inherit;">Auf Wiedersehen XML, und es lebe wieder das Bin√§rformat. </font><font style="vertical-align: inherit;">Ich m√∂chte in diesem Moment hoffen, dass es jetzt der Dokumentation entspricht, aber ... nein!</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daher die zweite Regel: Lesen Sie die erste Regel. </font><font style="vertical-align: inherit;">Das hei√üt - vertraue niemals der Dokumentation.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was kann getan werden? F√ºhren Sie beispielsweise ein Reverse Engineering durch: Wir setzen uns an die Konsole, sammeln Daten, drehen den Sensor, drehen etwas davor und versuchen, Muster zu identifizieren. So k√∂nnen Sie den Abstand, den Status des Containers und die Pr√ºfsumme isolieren. Einige der Daten waren jedoch schwer zu interpretieren, da unsere chinesischen Ger√§tehersteller offenbar Fahrr√§der lieben. Und um eine Gleitkommazahl im Bin√§rformat f√ºr die Interpretation des Neigungswinkels zu packen, haben sie beschlossen, zwei Bytes zu nehmen und durch 35 zu teilen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lb/sh/q7/lbshq78v4focgfug1inu76fny_4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dieser ganzen Geschichte hat es uns sehr geholfen, dass die unterste Schicht von Diensten, die mit Ger√§ten arbeiten, von oben und unten isoliert war Alle Daten wurden √ºber kafka √ºbertragen, f√ºr die Vertr√§ge vereinbart und gesichert wurden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies hat in Bezug auf die Entwicklung sehr geholfen, denn wenn die untere Ebene kaputt ging, sahen wir leise Gesch√§ftsdienstleistungen, da der Vertrag fest in ihnen festgelegt ist. </font><font style="vertical-align: inherit;">Daher besteht diese zweite Regel f√ºr die Entwicklung von IoT-Projekten darin, Dienste zu isolieren und Vertr√§ge zu nutzen.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Bericht war noch viel interessanter: Simulation, Lasttests, und im Allgemeinen w√ºrde ich </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Ihnen</font></a><font style="vertical-align: inherit;"> raten, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesen Bericht zu lesen.</font></font></a><br>
</blockquote><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im dritten Teil werde</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich √ºber ein Simulationsmodell sprechen, bleiben Sie dran!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de502876/index.html">Workflow auf Google Drive?</a></li>
<li><a href="../de502880/index.html">Geschichte von AtariTel. Telefone und Bildtelefone aus der Geheimabteilung des Unternehmens</a></li>
<li><a href="../de502882/index.html">So verbessern Sie die Leistung Ihrer Flutter-Anwendung</a></li>
<li><a href="../de502886/index.html">Was gibt es in Quarant√§ne zu sehen? Eine Auswahl von Materialien aus Technostream (Teil 5)</a></li>
<li><a href="../de502894/index.html">6. Die skalierbare Check Point Maestro-Plattform ist noch g√ºnstiger geworden. Neue Check Point Gateways</a></li>
<li><a href="../de502900/index.html">√úberblick √ºber den Fintech-Startup-Markt in der Ukraine</a></li>
<li><a href="../de502904/index.html">Beispiele f√ºr technische Schulden bei der Implementierung von BI-Systemen</a></li>
<li><a href="../de502908/index.html">VKontakte, MIPT und GSOM SPbSU haben einen Kurs f√ºr maschinelles Lernen f√ºr Informatiklehrer erstellt</a></li>
<li><a href="../de502910/index.html">Internetgeschichte: √Ñra der Fragmentierung; Teil 2: √ñdland s√§en</a></li>
<li><a href="../de502914/index.html">Mathematische Logik, mit deren Hilfe mehr Personen auf Coronavirus √ºberpr√ºft werden k√∂nnen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>