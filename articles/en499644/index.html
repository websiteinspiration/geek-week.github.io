<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï° üòº üòá Robot Creation (RPA) with AutoTest Tools üë©üèø‚Äçü§ù‚Äçüë®üèΩ üî∏ üí§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Authors: Lebedev A., Nazarova E. The
 
 need to use robotics arises for various reasons: the need for new applications to exchange data with applicati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Robot Creation (RPA) with AutoTest Tools</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499644/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authors: Lebedev A., Nazarova E. The</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
need to use robotics arises for various reasons: the need for new applications to exchange data with applications that do not have an API, the rapid integration of heterogeneous applications, the automation of routine processes with a minimum of costs, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Traditionally, robots or RPA (Robotic process automation) are built on the basis of ready-made frameworks. Here, the leaders are, in our opinion, products from UiPath, Automation Anywhere, Blue Prism, NICE. These are proven platforms that allow you to make quality decisions. However, not cheap. You need to pay for licenses in the number of future jobs, pay for customization for your specific task and commissioning. In some cases, you can get cheaper. We managed, and are ready to share experience.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some time ago, in one of the banks, the Agile transformation began. New approaches to developing applications for the needs of the bank. To show others the way, they formed pilot teams to develop new products. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The bank has traditional key systems for conducting accounting and operational activities. Work with the products of the new teams was implemented in the form of microservices, which should exchange data with key systems. And development in teams started pretty quickly. But the problem is that traditional approaches to the release policy of key systems did not fit into this pace. And the API for the new microservices was in the plan for the future.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It turns out, like Pechkin‚Äôs, ‚ÄúI brought you a package, but I won‚Äôt give it to you.‚Äù In these conditions, representatives of the pilot teams addressed our auto-testing team with the idea of ‚Äã‚Äãusing UI auto-tests of similar processes to create robots. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturally, we first discussed the risks. The fact that when using autotesting tools they are, that the reliability of software solutions for testing requirements is lower than for payment system applications, it was announced immediately. But driven by the Agile wave, teams took risks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The toolkit was used traditional and free: Java for development, assembly through Maven. To work with the browser, Selenium was used (the application where it was required to enter data has a web interface).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main distinguishing features of the robot in comparison with the UI-autotest of the same process is the need for the correct handling of error situations and exceptions, integration as a subsystem via file exchange. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the robot to work, a virtual server was allocated, a technical domain account, and a separate user was created in the system where the data was entered. With authority, like a living employee who performs similar actions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Jenkins agent was installed on this server, which allows you to run the robot. The report on the work of the robot was formed both in the form of a log of execution and in the form of an Allure Report. Both are available in Jenkins and do not require special permission to access network resources.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The work of the robot was structured as follows: a file with data for entering the system is placed in the input folder on a network resource and the robot is launched through Jenkins; it compares the records of the input file by the key field with the service file, where all the already processed records are stored, and selects only those that have not been processed yet. Next, the array of records is processed in a loop. Moreover, at each processing step of each record, exceptions and errors are processed (try ... catch) and process ‚Äúdrops‚Äù are noted in the resulting file. At the same time, the processing of the input array does not stop, we just go to the next record. As a result, when the processing of the entire array is completed, the input file is deleted, in the output there are all processed records with the result and runtime. Allure Report displays as information about the processing for each record,and a general list with the processing results of each record. This makes it easy to evaluate the result and localize problems, if any.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l3/xl/-0/l3xl-0jhj22tz93wwxb-nyccty8.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, in the process of using the robot, it turned out that the flow of applications on peak days is quite large and in order to meet the acceptable processing time, a larger number of concurrent users are required. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The system has created several more users. Parallel execution was implemented using threads (Thread). The entire array of input records is distributed equally between the streams, in each of which processing is carried out under its own user. The results are written in one file and the report is also single. It's comfortable. At the same time, a single Selenium Server was launched, which can cope with the parallel launch of several browsers (according to the number of working users). We worked with the Chrome browser, respectively, chromedriver was used.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is surprising, but during the nine months of operation, the problems were only due to incorrect input data. Technical problems arose only at the commissioning stage and were associated with the coordination of the encodings in the log and the expansion of the memory used when starting Selenium Server (delivered 1G).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After some time, for the same Agile team, another robot was developed. Its feature is that it does not start on demand, but works continuously by scanning the input folder. When an incoming file appears, it takes it into processing. Accordingly, the Jenkins agent is not used. If the process is successful, the input file is moved to the folder with the successfully processed files, otherwise, to the folder with the erroneous files. Unlike the previous robot, Allure Report is absent, but the execution logs are written to a separate file for analysis in case of any problems. And one more feature - the browser is forcibly closed at the end of processing and starts when the user needs to log in.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, in some cases, when creating an RPA, you can get by with a noticeably cheaper way using the autotesting tools.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499630/index.html">Flutter. Spring Update 2020</a></li>
<li><a href="../en499632/index.html">Improving Google Duo Audio Quality with WaveNetEQ</a></li>
<li><a href="../en499634/index.html">Advanced TypeScript</a></li>
<li><a href="../en499636/index.html">React Native for the little ones. Mobile Development Experience</a></li>
<li><a href="../en499642/index.html">Pixockets: how we wrote our own network library for the game server</a></li>
<li><a href="../en499646/index.html">5 rules for integrating UX in Agile and Scrum</a></li>
<li><a href="../en499648/index.html">‚ÄúA game designer is always a gamer‚Äù: what does a specialist do, what skills are important</a></li>
<li><a href="../en499652/index.html">Is there life in development after the decree</a></li>
<li><a href="../en499654/index.html">How to implement CRM on a remote site and win?</a></li>
<li><a href="../en499656/index.html">PID temperature controller simulation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>