<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÖüèΩ üïπÔ∏è ‚öñÔ∏è Offline-Transaktionen im √∂ffentlichen Verkehr - Sicherheit und Betrugsbek√§mpfung üë®üèæ‚Äçüç≥ ‚≠êÔ∏è üîµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Und kein Tag ist vergangen, da ich einen neuen Artikel schreibe, der sich auch mit der NFC-Technologie befasst. N√§mlich - Offline-Transaktionen im √∂ff...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Offline-Transaktionen im √∂ffentlichen Verkehr - Sicherheit und Betrugsbek√§mpfung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500564/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und kein Tag ist vergangen, da ich einen neuen Artikel schreibe, der sich auch mit der NFC-Technologie befasst. N√§mlich - Offline-Transaktionen im √∂ffentlichen Verkehr, warum und was sind die Vor- und Nachteile f√ºr Passagiere und Transportunternehmen. Vor ungef√§hr f√ºnf Jahren machten mehrere Skandale im Zusammenhang mit dem Hacken von Troika-Karten in Moskau ein Ger√§usch. Dann mussten die Hacker die Schl√ºssel f√ºr den Zugriff auf den Inhalt von Mifare 1K-Karten und dergleichen sowie eine ganz bestimmte Software f√ºr die Arbeit mit ihnen erhalten. Gleichzeitig war die Wahrscheinlichkeit, entdeckt zu werden, recht hoch - Karten mit inkonsistenten Inhalten und der Troika-Server wurden schnell an die Stoppliste gesendet, und beim Versuch, eine solche Karte durchzugehen, stie√ü das Drehkreuz einen durchdringenden Schrei aus, der Aufmerksamkeit erregte. Was √§nderte sich, als die Terminals Bankkarten unterst√ºtzten?</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/up/59/xi/up59xi-eljbjnmjuvc9a2uj34yq.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist genau das Bild, wenn die Bezahlung des Fahrpreises in einigen gro√üen St√§dten beobachtet werden kann. </font><font style="vertical-align: inherit;">Neue Terminals k√∂nnen sowohl mit alten Mifare-Karten als auch mit kontaktlosen EMV-Karten verwendet werden. </font><font style="vertical-align: inherit;">Muss man sagen, dass trotz der ausgebrochenen Skandale die Schwachstellen des alten Mifare nicht verschwunden sind? </font><font style="vertical-align: inherit;">In diesem Artikel werden wir jedoch auf die Sicherheitsl√ºcken eingehen, die die EMV-Unterst√ºtzung mit sich bringt.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warnung f√ºr Ausgesto√üene, Gauner und Hacker aller Art:</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die unten beschriebene Beschreibung ist rein informativ und informativ. </font><font style="vertical-align: inherit;">Ich verstehe, dass diese Warnung aus subjektiven Gr√ºnden einige Leser nicht aufhalten wird, aber denken Sie immer noch daran - es gibt Artikel des Strafgesetzbuchs der Russischen F√∂deration Nr. 159 und Nr. 272!</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein bisschen Theorie</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EMV (Europay Mastercard Visa)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ein Standard, der das Verhalten eines Zahlungskarten-Chips in verschiedenen Szenarien beschreibt, um die h√∂chstm√∂gliche Zahlungssicherheit zu gew√§hrleisten. </font><font style="vertical-align: inherit;">Mehr dazu lesen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in einem angesehenen Beitrag</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alexgre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Wir sind nur daran interessiert, dass das Protokoll in einigen F√§llen Offline-Transaktionen zul√§sst, dh den Vorgang, den die Karte und das Terminal ausschlie√ülich untereinander ausf√ºhren, und dass Transaktionsinformationen sp√§ter an die Acquirer-Bank √ºbertragen werden. Der Vorteil dieses Ansatzes besteht zweifellos darin, dass diese L√∂sung ideal f√ºr Bedingungen ist, bei denen keine Verbindung besteht oder die Verbindung instabil ist - wie beispielsweise derselbe Bus. Das Minus ergibt sich aus dem Namen - das Terminal kann die Verf√ºgbarkeit von Guthaben auf der Karte sowie den Status der Karte selbst nicht √ºberpr√ºfen. Die Bank kann nur w√§hrend der Synchronisation Abschreibungen f√ºr eine bestimmte Transaktion best√§tigen oder verweigern. Was passiert, wenn Sie dem Dirigenten eine leere oder blockierte Karte zeigen? Aber nichts wird passieren.Mit den grundlegenden APDU-Befehlen fragt das Terminal die Karte nach ihrem Ablaufdatum und vergleicht sie mit der Systemzeit. Wenn sie nicht abgelaufen ist, fragt sie die Karte nach ihrer PAN. Dies ist dieselbe Kartennummer, die darauf eingepr√§gt ist. Nachdem diese Daten nach Ermessen von TRM (Terminal Risk Management, Terminal Risk Management) gespeichert wurden, √ºbertr√§gt das Terminal eine Zufallszahl auf die Karte, hasht sie und signiert sie mit ihrem Schl√ºssel. Das Terminal speichert die urspr√ºngliche Nummer und die Kartenantwort, damit sie sp√§ter an die Bank √ºbertragen werden k√∂nnen. Nach dem Ausf√ºhren dieser Vorg√§nge sendet das Terminal einen Befehl zum Beenden der Verbindung zur Karte und beendet die Verbindung durch Drucken eines Scheck-Tickets. Sp√§ter kann das Terminal kein Geld von dieser Karte abschreiben - die PAN-Karte wird an die Stoppliste gesendet -, bis die Schulden beglichen sind. Diese Karte wird in keinem Bus akzeptiert. Ein ideales System, nicht wahr? Es scheint, dass es Schwachstellen gibt,Am Ende zahlen keine Werbegeschenke f√ºr alles. Alles w√§re gleich geblieben, wenn nicht ein gro√ües "Aber" ... oder ein paar.</font></font><br>
<br>
<h3>Apple/Samsung/Google Pay ‚Äî </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am 9. September 2014 f√ºhrte Apple eine neue kontaktlose Zahlungsmethode f√ºr die vorhandene Infrastruktur ein. Apple Pay hat sich auf Einfachheit, Geschwindigkeit und Datenschutz konzentriert. Die Einfachheit wurde durch die intuitive Benutzeroberfl√§che von Wallet bereitgestellt (und bietet), und die Privatsph√§re wird durch Tokenisierung gew√§hrleistet. Beim Hinzuf√ºgen einer Karte zu Wallet generiert ein Zahlungssystem (z. B. Mastercard oder Visa) einen Token. Der Token ist eine PAN - aber nicht die, die auf der hinzugef√ºgten Karte ausgeknockt ist, sondern die Entsprechung im Zahlungssystem. Von nun an werden POS-Terminalanforderungen f√ºr diese virtuelle PAN vom Zahlungssystem so betrachtet, als w√§re es eine physische Kartennummer. Bei diesem Ansatz wird selbst bei einem potenziell gef√§hrdeten Terminal die tats√§chliche Kartennummer nicht angezeigt. Der Token kann nur f√ºr Zahlungen an POS-Terminals verwendet werden. In anderen F√§llen ist er unbrauchbar.Sp√§ter begannen Samsung Pay und Google Pay (ehemals Android Pay) nach demselben Prinzip zu arbeiten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Token in Offline-Transaktionen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja. </font><font style="vertical-align: inherit;">Ein kontaktloses Ger√§t ist hier gleichbedeutend mit einer physischen Karte. </font><font style="vertical-align: inherit;">Und im Falle eines Zahlungsfehlers setzt das Terminal am Bus die PAN pedantisch in die Stoppliste. </font><font style="vertical-align: inherit;">Die Gerechtigkeit hat gesiegt! </font><font style="vertical-align: inherit;">Nur ... PAN ist kurzlebig! </font><font style="vertical-align: inherit;">Jedes Mal, wenn Sie einem mobilen Ger√§t eine Karte hinzuf√ºgen, ist das Token anders. </font><font style="vertical-align: inherit;">Dementsprechend - wir f√ºgen die Karte dem Ger√§t hinzu - sind wir von der Stoppliste verschwunden, ohne einen Cent zu zahlen. </font><font style="vertical-align: inherit;">Bei Bedarf wiederholen. </font><font style="vertical-align: inherit;">Um diesen Angriff zu reproduzieren, ist daher jedes Ger√§t geeignet, das kontaktloses Bezahlen ausf√ºhren kann. </font><font style="vertical-align: inherit;">Das sind 90 Prozent aller Telefone mit NFC.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie man k√§mpft?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offline - auf keinen Fall. </font><font style="vertical-align: inherit;">Absolut. </font><font style="vertical-align: inherit;">Es gibt keine M√∂glichkeit festzustellen, ob ein Token zu einem Konto geh√∂rt. </font><font style="vertical-align: inherit;">Daher ben√∂tigen wir Terminals, die nur bei Bedarf offline gehen und so lange wie m√∂glich online bleiben k√∂nnen. </font><font style="vertical-align: inherit;">Ich verstehe, dass die Summe der Risiken gering ist, aber die Sicherheitsanf√§lligkeit so einfach zu bedienen ist, dass jeder davon profitieren kann. </font><font style="vertical-align: inherit;">Sie k√∂nnen die Situation beheben - es gibt spezialisierte Pr√ºfer f√ºr den √∂ffentlichen Verkehr.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Art solcher.</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/ov/1t/wl/ov1twljnqkirfa91bajgeyo8igk.jpeg" alt="image"><br>
     ,      .       .<br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was sind die Ergebnisse?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hastige Innovationen werden nicht immer sicher und zuverl√§ssig sein. </font><font style="vertical-align: inherit;">Wie beim Transportsystem wurden die alten Sicherheitsl√ºcken noch nicht behoben, aber sie haben bereits neue, leicht auszunutzbare Schwachstellen eingebracht. </font><font style="vertical-align: inherit;">Und Kr√ºcken sind schlecht. </font><font style="vertical-align: inherit;">Ich hoffe, dass meine kleine Forschung einigen Transportunternehmen helfen wird, ihre Priorit√§ten zu √ºberdenken.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500552/index.html">So beschleunigen Sie die Code√ºberpr√ºfung</a></li>
<li><a href="../de500554/index.html">Golang Backend Server Vorlage - Teil 2 (REST API)</a></li>
<li><a href="../de500556/index.html">Zwei Jahre digitale Transformation in zwei Monaten</a></li>
<li><a href="../de500558/index.html">Eine Auswahl von Artikeln zum maschinellen Lernen: Fallstudien, Leitf√§den und Forschungsergebnisse f√ºr April 2020</a></li>
<li><a href="../de500562/index.html">Form Designmuster. Buchrezension</a></li>
<li><a href="../de500568/index.html">Einfache Weltraumsimulation mit Python und Box2D</a></li>
<li><a href="../de500572/index.html">Spring MVC: Website-Design und RESTful Services</a></li>
<li><a href="../de500576/index.html">Interpolation und Diskretisierung, warum werden sie f√ºr die projektive Bildkonvertierung ben√∂tigt?</a></li>
<li><a href="../de500578/index.html">Der Einzige, der z√§hlt (Teil 4 von Mark Andriessens Startup Guide, 2007)</a></li>
<li><a href="../de500580/index.html">Grundlegendes zum CSS-Raster (Teil 3): Rasterbereiche</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>