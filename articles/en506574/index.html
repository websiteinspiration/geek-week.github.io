<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🚀 🤶🏻 🔷 Visualization of a list of women Nobel Prize winners in the form of crystals in 3d using Vue, WebGL, three.js 🤷🏿 ✊🏾 🚣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Year 1 | inspiration
 This month I tried for a very long time to decide on the dataset and the idea for processing it. Although I started thinking abo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Visualization of a list of women Nobel Prize winners in the form of crystals in 3d using Vue, WebGL, three.js</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506574/"><img src="https://habrastorage.org/webt/qf/93/-6/qf93-6wsmayf9fht3syimnzdnp0.jpeg" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Year 1 | </font><font style="vertical-align: inherit;">inspiration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This month I tried for a very long time to decide on the dataset and the idea for processing it. </font><font style="vertical-align: inherit;">Although I started thinking about it back in May, I managed to finish the law only after 8 months (damn, I'm bad), and I managed to describe the project a month later (oh, I'm damn bad). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The idea of ​​the project came to me after watching the movie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Madly Rich Asians</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">I really liked the actress </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Michelle Yeo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but the idea took shape only after I read more about her and found out how she was outstanding and cool. </font><font style="vertical-align: inherit;">It made me think of outstanding women that I have no idea about. </font><font style="vertical-align: inherit;">And now - the idea came up to somehow visualize it.</font></font><br>
<a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 week | </font><font style="vertical-align: inherit;">data</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After the formation of the concept, the following question arose - how to collect the necessary data? I quickly came up with the idea of ​​using Wikipedia, trying to parse the “best” women from there. I had no idea how to determine the "best" (pageviews? Page length? Page links?). Although I looked at </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">an article on The Pudding</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> about visualization based on Wikipedia data, I was still not sure that I wanted to move in this direction. And I really did not have enough free time. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then it occurred to me that perhaps I should use a fixed list of women, and this somehow led me to the page of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51 women Nobel Prize winners</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . I have not heard about most of them, and I wanted to know more. For the project, this was perfect.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sm/bh/zh/smbhzhkygpwpy1_tajvziadlvja.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
From that moment, I began to learn different methods of using the Wikipedia API. It was not easy to figure it out (I was not sure if I need to use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikidata</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MediaWiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - these are the options that arose when searching for the “Wikipedia API” on Google), but, fortunately, the Pudding article already mentioned above helped me close these issues . A quick look at their </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wiki-billboard-data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> repository </font><font style="vertical-align: inherit;">led me to choose one of the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scripts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wikijs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and I could just use this package. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All I had to do was copy and paste the list of notable women laureates into a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spreadsheet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and do a little formatting / cleaning.</font></font><br>
<br>
<blockquote>    ,       —       .        ,        .        ,         ​​   CSV —    . <br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then I exported the spreadsheet as CSV, then I used the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">online converter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to get the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data in JSON format</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After that, I wrote a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simple script</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> using wiki pages to get more information about each woman, including the number of links to their page (“backlinks”) and the number of sources below to get the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">final data set</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despite the fact that the creation of the idea took forever, the data collection took just a few hours.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">week 2 | </font><font style="vertical-align: inherit;">sketch</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I won’t lie, I thought about this project for so long that I can’t even remember all the ideas that I had in the process. All I remember is that I looked at the nominees for the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Information is Beautiful</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> award </font><font style="vertical-align: inherit;">when I decided that I needed to somehow highlight the records that I really like in my save. This made me realize that I should better organize my </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whiteboard on Pinterest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , as before I dumped all my ideas and vision on one board. In the process of cleaning, I came across this magnificent picture with crystals of the artist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rebecca Chaperon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">which I saved for the future several years ago. Almost immediately, I realized that I wanted to programmatically recreate them. After all, it would be nice to visualize these outstanding women as bright multi-colored crystals? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2t/vg/o1/2tvgo12nwbbewc3clp8xbse1vq0.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhaps I had other ideas up to this point (yes, it is very possible), but I can’t remember them - the idea with crystals was perfect.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After that, I thought up other details: the size of the crystals should reflect the influence of the woman - the number of links to her Wikipedia page. The number of faces on the crystal will be compared with the number of sources at the bottom of its page (since it is “multifaceted”), and the color will be determined by the category of premium. The only thing that I still did not understand was how to arrange the crystals. I thought for a long time that I just need to lay them out in 2 dimensions x / y and make the reader scroll them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And then I took part in Matt DesLoriers's </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creative Coding Seminar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">where he taught canvas, three.js and WebGL. </font><font style="vertical-align: inherit;">The seminar opened the concept of the third dimension to me, and I immediately realized that I was going to use the year of receiving the award as the z axis. </font><font style="vertical-align: inherit;">Further, a friend of mine suggested making thread-threads connecting those who collaborated with each other so that their position also changed depending on this (but in the end I did not have time to implement this idea). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The whole concept came to me so quickly and naturally that I did not make a single sketch in the process. </font><font style="vertical-align: inherit;">I looked at my notebook, but there is nothing at all.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">week 3 &amp; 4 | </font><font style="vertical-align: inherit;">coding</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was a great month for coding. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Over the past few years, I wanted to create something with a physical embodiment, and last year I finally decided to make it my goal. But most of the year I did not know what it would be. Every time I thought about it, I just got stuck on two-dimensional projections on the walls and did not know how to use the entire volume. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And once it dawned on me (I’m not sure what was the reason) that I don’t know how to think in three-dimensional physical space, just because I constantly work in a flat digital format. If I could learn to work with 3D in digital, I would be able to think in volume and in the physical world. I added three.js and WebGL to the top of my list for learning.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In late October, I attended Matt's creative coding workshop and learned the basics of three.js, an introduction to fragmented and vertex shaders. I learned the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rule of the gimlet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : use the thumb for the X axis (increases to the right), the index finger for the Y axis (increases up, which is opposite to SVG and canvas) and the middle finger for the Z axis (to enlarge the screen and zoom in). I found out that WebGL does not work in pixels, but in units (a similar association is feet or meters). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then in November I fit into one WebGL contest. Although I had no business with him before, I hoped that the deadline would give me the motivation needed to complete the project. I started on December 1st and set myself the goal of doing a little bit every weekday until I can reach something presentable on December 23rd (the final of the competition).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, I read the first two chapters of the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebGL Programming Guide</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which explained how to set up WebGL. Then I repeated my knowledge of three.js. After that I launched a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notebook</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from Observable to understand the minimum necessary settings for drawing something in three.js (renderer, camera and scene, and then call renderer.render (scene, camera) to display). I always liked to understand the very basics of code, so it was very helpful. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After tuning, I decided to create a crystal shape. I used </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PolyhedronGeometry</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> because that way I could just define a set of vertices and then specify the vertices that would make up the triangular face. On the first day, I managed to create only one triangle.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g8/pi/xh/g8pixhqjww6qdzoqviuoszjjgv0.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And on the second day - a crystal (which took two attempts, because the first time I adjusted with mathematics). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kr/xs/kp/krxskp2w_fwx12hczeumdcyxcv8.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And then, in the end, the shape of the crystal that was in my head. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xy/gt/j4/xygtj413utj9glteu1wonogw_qo.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Later, I realized that there are better ways to do what I wanted (and PolyhedronGeometry is actually a rather tedious way to do this), but I was very glad to be able to practice the x / y / z coordinates in WebGL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As soon as I was satisfied with the created forms, I proceeded to study their coloring in colors. To do this, I started playing with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vertex and fragment shaders</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nh/sr/zr/nhsrzrd8rcl1culxbcujjxxk9a4.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The next task was to learn how to use a fragment shader to color the crystal. Here I had to deviate a little from the plan, because I could not understand how to use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">glslify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (a node-based modular system for GLSL, on which the shaders that I took as a sample) are written. Instead, I began to learn various build / build tools to eventually deploy my code on the Internet. In the end, I decided to use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parcel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (instead of the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue CLI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which I have been using regularly for the last six months), because it has built-in support for both Vue and GLSL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here's a crystal with the same noise pattern superimposed on me.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q7/-k/mp/q7-kmpypwk4n3bshmgvf04yf1ta.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I did not like the result, so I decided that I needed to learn more about shaders and the use of colors in shaders. It was at that moment that I turned to the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Books of Shader</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s by Patricio González Vivo and, in particular, to the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chapter “Shaping Functions”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . I learned about sines, cosines, polynomials and exponents - functions that can take a number (or a set of numbers) and derive others based on them. I also learned about color mixing and how we can take two colors, and not only get a new color in the middle between the two, but also mix RGB colors and create completely new ones based on them. If we combine this with form functions, we can get gradients and shapes:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dd/k8/ya/ddk8ya9ocb1kkioomsk5yx2bmog.jpeg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">These were obtained by mixing blue and yellow, as well as changing the RGB values ​​in each position using degrees, sines, absolute values, steps and smoothing.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As soon as I was satisfied with the resulting colors, I switched to working with data: the number of links at the bottom for the number of parties, the number of backlinks for size, the Nobel Prize category for color. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8o/si/s2/8osis2cgt0ko198ro61ooardolu.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But I did not like the result for two reasons:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I rigidly set the shapes of each figure, so I only had three different shapes: a rectangle, a rectangle with a triangle on top and a rectangle with a triangle on top and bottom. </font><font style="vertical-align: inherit;">This meant that most of the “crystals” were simply rectangles.</font></font></li>
<li>  ,          ,         .     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Around the same time, I stumbled upon the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bloom demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (post-processing effect to create a glow), and it contained round, gem-like objects that looked pretty similar to the crystals that I wanted to get: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dm/1i/da/dm1idagcwsm9awyl_864gmjg6ks.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I looked at the source code and realized that they used SphereGeometry, but with flatShading turned on - so instead of rendering a smooth surface, it showed each individual face. I realized that how I can manipulate and mix colors to get new colors that are completely different from the original, so I can actually control geometric parameters (for example, the number of faces) and get new geometry that looks similar but different from the original .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So I replaced PolyhedronGeometry with SphereGeometry, set the height to 4 and the width to my data, stretched the shape, set the vertical scale twice as wide horizontally, added jitter (jitter) for each vertex, and I got much more interesting shapes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cn/pa/xh/cnpaxhrqm6k_pnbdo-ozqypds1q.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now, when I decided on the forms, it was time to return to color. This time I used two colors and mixed them with the functions of the form: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yr/4e/-n/yr4e-nq7td5zopp9k-9tguraigs.png" alt="image"><br>
<img src="https://habrastorage.org/webt/j1/3g/el/j13gelfrk8mfjmyt5tikde0koye.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I like the first option - it looks like a potato</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since the default shader just wraps around the shape (at least I like to think about it that way), I lost clear edges. Fortunately, I was taught to return forms back by calling computeFlatVertexNormals () on the geometry, getting the normals in the vertex shader and passing it to the fragment shader while adding it to the color. This not only made the edges clearly defined, but also gave the illusion of light and shadow: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rr/ky/q_/rrkyq_zorqov_uqmjkpqpwelzpu.png" alt="image"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code for adding the normal to the sides.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
After that, I played around with two sets of gradients: one for the “humanities” (world, literature, economics), and the other for the “natural sciences” (physics, chemistry, medicine). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/ea/c_/qoeac_yzccd70fcm8r2xlelzyje.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then she took up the background. I created a “floor” using PlaneGeometry and randomly shaking the y-position of each vertex (inspired by this </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article from codrops</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), as well as “sky”, creating a huge sphere around the scene. I experimented with three different types of light sources: a hemisphere, diffused (to create a sunset / sunrise feeling for the “sky”), and directional (to cast shadows from crystals onto the “floor”). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qt/sd/zw/qtsdzwqnf4vmjjmehh_1dtkyvlm.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the end, I added “stars” that visualize all the men who won the award for the same period of time, as well as annotations for each crystal and for decades. It was difficult, because with the text that I had, using TextGeometry was practically useless. The solution I found after searching the Internet was to render the text in an HTML5 Canvas, create a PlaneGeometry and use this Canvas as a texture to fill in the PlaneGeometry. Very interesting approach.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I really liked that I was able to find a real reason to use the third dimension - decades of receiving awards. </font><font style="vertical-align: inherit;">The closer they are to the front line, the fresher the reward in time, and the farther they are from us, the older this award. </font><font style="vertical-align: inherit;">But I do not show these decades until the user “takes off” to look at the crystals from above. </font><font style="vertical-align: inherit;">If they “walk” between the crystals at ground level, I show only information about each woman, because I want the visitor to concentrate only on women during the walk. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ug/oa/yu/ugoayu8bnjdyzbk12iu_z0jpfq0.png" alt="image"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here is a link to the final result on GitHub</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
AND a video demonstrating the result:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/jIn5qBxovXY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you want to try something else or start with simpler projects:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creating the effect of a quick flight through space (or falling snow) in 10 minutes on p5.js</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to recreate the moire pattern effect in the p5.js library for a beginner (quick guide)</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Overlay a 2d texture on a 3d object using p5.js (part 1 - creating a pattern)</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Superimposing a 2d texture on a 3d object using p5.js (part 2 - applying a pattern to a cube)</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creating triangles after 3 hours of learning p5.js</font></font></a></li>
</ul></blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en506560/index.html">What to listen to on the weekend: 5 selected issues of the Russian-language podcast on audio technology</a></li>
<li><a href="../en506562/index.html">Why is it better to compile TS in JS in advance</a></li>
<li><a href="../en506568/index.html">Project Evaluation Levels and Moments</a></li>
<li><a href="../en506570/index.html">Functional FizzBuzz on Scala</a></li>
<li><a href="../en506572/index.html">Creating a prototype SPA online store on htmlix.js</a></li>
<li><a href="../en506578/index.html">Managed Lead Volume</a></li>
<li><a href="../en506586/index.html">Logical FizzBuzz</a></li>
<li><a href="../es486176/index.html">Memo de correspondencia de correo electrónico corporativo</a></li>
<li><a href="../es486178/index.html">FOSS News No. 1 - revisión de noticias gratuitas y de código abierto del 27 de enero al 2 de febrero de 2020</a></li>
<li><a href="../es486180/index.html">Consejos y fuentes para crear aplicaciones sin servidor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>