<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📔 ✍🏻 🕺 英語学習用のVLCプラグインを書く ❄️ 👩🏼‍💻 🚴🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事では、VLCメディアプレーヤー用のプラグインをCで作成する方法について説明します。プラグインを作成して、テレビ番組や映画を英語で簡単に視聴できるようにしました。このプラグインを作成するアイデアについては、「アイデア」および「ソリューションの検索」のセクションで説明しています。プラグイン実装の...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>英語学習用のVLCプラグインを書く</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475992/"><img src="https://habrastorage.org/webt/nl/nj/r4/nlnjr4lpomher2u_r87vvsjeptc.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、VLCメディアプレーヤー用のプラグインをCで作成する方法について説明します。</font><font style="vertical-align: inherit;">プラグインを作成して、テレビ番組や映画を英語で簡単に視聴できるようにしました。</font><font style="vertical-align: inherit;">このプラグインを作成する</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アイデア</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">については、「</font><b><font style="vertical-align: inherit;">アイデア」</font></b><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ソリューションの検索」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のセクションで説明しています</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">プラグイン実装の技術的な詳細は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello Worldプラグイン</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクションに記載されています</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">最後に何が起こったのか、そしてそれをどのように使用するかは、最後のセクションの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultにあり</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトのソースコードは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で入手でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のお気に入りのシリーズを見ながら外国語を学ぶという考えは新しいものではありませんが、個人的には常にその実装に問題がありました。シリーズや映画の半分を理解していないと、映画や映画を見るのは非常に困難です。もちろん、字幕をオンにすることもできますが、見慣れない単語や表現がスピーチで見つかった場合、それがテキストで複製されることは明確になりません。そして、私はロシア語の字幕付きのシリーズを見るのがまったく好きではありませんでした。脳は母国語に切り替わり、外国のスピーチを知覚しなくなりました。私はどこかで、最初にシリーズをロシア語で、次にオリジナルで見る必要があると読みました。しかし、このアプローチも私には適していませんでした。第一に、同じものを数回見るのにそれほど時間がかかる場所、そして第二に、二回目を見るのはもうそれほど面白くありません-モチベーションが失われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
海外のテレビ番組を見るのは大変ですが、技術文書、記事、本は英語でかなり読むことができます。 Kindleの電子リーダーで本を読むのが好きです。辞書機能がすばらしいので、見慣れない単語の翻訳を画面のワンタッチで見つけることができます。ブラウザーに翻訳用の特別な拡張機能をインストールして、英語の記事やサイトを読むと便利</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">私は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Translation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張機能を使用してい</font><font style="vertical-align: inherit;">ます。このアプローチにより、見慣れない単語の検索に気を取られることなく、英語のテキストを読んで理解することができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テレビ番組を見るために同じアプローチを適用してみませんか。理解できないフレーズが見つかったらすぐにシリーズを英語でオンにし、ロシアのオーディオトラックに切り替えて少し巻き戻します。</font><font style="vertical-align: inherit;">次に、シリーズを英語で視聴し続けます。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策を探す</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、私が必要とするすべての機能は、すでに多くの人気のあるメディアプレーヤーで利用できます。数秒前にボタンをクリックするだけで、オーディオトラックを切り替えてビデオを巻き戻したいだけです。また、理解できない断片を翻訳した後、メディアプレーヤー自体がオーディオトラックを英語に戻したとしたらすばらしいでしょう。ええと、以前に翻訳されたフラグメントを英語のトラックで繰り返すことができるといいですね。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、プラグインを作成できるメディアプレーヤーが必要です。また、WindowsではPC、Linuxではラップトップを使用するため、クロスプラットフォームであることが望ましいです。私の選択はすぐにVLCになりました。 habrに私も見つけ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Idunnoを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LUAでVLC拡張機能を作成する方法を説明します。</font><font style="vertical-align: inherit;">ちなみに、彼は英語を学ぶためにこの拡張機能も作成しました）残念ながら、この拡張機能はVLCの最新バージョン（2.0.5より前）では機能しません。</font><font style="vertical-align: inherit;">LUA APIの動作が不安定なため、LUA拡張機能でキーボードイベントを処理できるコールバック関数を追加する機能は削除されました。</font><font style="vertical-align: inherit;">では</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">README</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、この問題のリードを議論VLC開発者のメーリングリストへのリンク</font><font style="vertical-align: inherit;">はGitHub上の拡張子に</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Idunno</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、私のアイデアを実装するには、LUAへの拡張が機能しないため、Cでプラグインを作成する必要があります。そして、7年ほど前にCで何かを書いたが、大学に戻って、それを試すことにしました。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello Worldプラグイン</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLCメディアプレーヤーには非常に優れた</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があることは注目に値し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。メディアプレーヤーの開発にはモジュラーアプローチが使用されていることがわかりました。 VLCは、特定の機能を実装するいくつかの独立したモジュールと、</font><font style="vertical-align: inherit;">これらのモジュールを管理する</font><font style="vertical-align: inherit;">カーネル（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libVLCCore</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）で構成されています。 （内部：モジュールの2種類があります</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で木</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）と外部（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アウト・オブ・ツリーが</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。内部モジュールのソースコードは、カーネルコードと同じリポジトリに格納されます。外部モジュールは、VLCメディアプレーヤーとは独立して開発および組み立てられます。実際、後者はプラグインと呼ばれるものです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドキュメントにも</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">記事</font></a><font style="vertical-align: inherit;">が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cでプラグイン（モジュール）を作成する方法。この記事では、VLCの起動時にウェルカムメッセージ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Hello、&lt;name&gt;」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をコンソールに表示する単純なプラグインのソースコードを示します</font><font style="vertical-align: inherit;">（値&lt;name&gt;はプラグイン設定から取得されます）。</font><font style="vertical-align: inherit;">少し先に実行すると、上の例では、次の行を後に追加します</font></font><code>set_category(CAT_INTERFACE)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs">set_subcategory( SUBCAT_INTERFACE_CONTROL )</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あとは、プラグインを組み立ててその動作をテストするだけです。</font><font style="vertical-align: inherit;">外部プラグイン</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビルドする</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ため</font></a><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">指示</font></a><font style="vertical-align: inherit;">もあります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ここでは</font><font style="vertical-align: inherit;">、VLCでローカリゼーションがどのように機能するかを説明する</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国際化</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクションに注意する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要するに、外部プラグイン用のマクロを定義する必要があり</font></font><code>N_()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>_()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DOMAIN&nbsp; <span class="hljs-meta-string">"vlc-myplugin"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> _(str)&nbsp; dgettext(DOMAIN, str)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> N_(str) (str)</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アセンブリには、古き良きMakefileまたはAutotoolsを使用することをお勧めします。</font><font style="vertical-align: inherit;">私は簡単な方法で行くことに決め、Makefileを選択しました。</font><font style="vertical-align: inherit;">Makefileでは、変数を定義することを覚えておく必要があります</font></font><b><code>MODULE_STRING</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-これはプラグインの識別子です。</font><font style="vertical-align: inherit;">また、ディレクトリの処理も少し調整しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">現在は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkg-configで</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定義されてい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">結果は次のファイルです。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちはC</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment">/**
 * @file hello.c
 * @brief Hello world interface VLC module example
 */</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> HAVE_CONFIG_H</span>
<span class="hljs-meta"># <span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"config.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DOMAIN  <span class="hljs-meta-string">"vlc-myplugin"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> _(str)  dgettext(DOMAIN, str)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> N_(str) (str)</span><font></font>
 <font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-comment">/* VLC core API headers */</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vlc_common.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vlc_plugin.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vlc_interface.h&gt;</span></span><font></font>
 <font></font>
<span class="hljs-comment">/* Forward declarations */</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Open</span><span class="hljs-params">(<span class="hljs-keyword">vlc_object_t</span> *)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Close</span><span class="hljs-params">(<span class="hljs-keyword">vlc_object_t</span> *)</span></span>;<font></font>
 <font></font>
<span class="hljs-comment">/* Module descriptor */</span><font></font>
vlc_module_begin()<font></font>
    set_shortname(N_(<span class="hljs-string">"Hello"</span>))<font></font>
    set_description(N_(<span class="hljs-string">"Hello interface"</span>))<font></font>
    set_capability(<span class="hljs-string">"interface"</span>, <span class="hljs-number">0</span>)<font></font>
    set_callbacks(Open, Close)<font></font>
    set_category(CAT_INTERFACE)<font></font>
    set_subcategory( SUBCAT_INTERFACE_CONTROL )<font></font>
    add_string(<span class="hljs-string">"hello-who"</span>, <span class="hljs-string">"world"</span>, <span class="hljs-string">"Target"</span>, <span class="hljs-string">"Whom to say hello to."</span>, <span class="hljs-literal">false</span>)<font></font>
vlc_module_end ()<font></font>
 <font></font>
<span class="hljs-comment">/* Internal state for an instance of the module */</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">intf_sys_t</span>
{</span>
    <span class="hljs-keyword">char</span> *who;<font></font>
};<font></font>
 <font></font>
<span class="hljs-comment">/**
 * Starts our example interface.
 */</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Open</span><span class="hljs-params">(<span class="hljs-keyword">vlc_object_t</span> *obj)</span>
</span>{
    <span class="hljs-keyword">intf_thread_t</span> *intf = (<span class="hljs-keyword">intf_thread_t</span> *)obj;<font></font>
 <font></font>
    <span class="hljs-comment">/* Allocate internal state */</span>
    <span class="hljs-keyword">intf_sys_t</span> *sys = <span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span> (*sys));
    <span class="hljs-keyword">if</span> (unlikely(sys == <span class="hljs-literal">NULL</span>))
        <span class="hljs-keyword">return</span> VLC_ENOMEM;<font></font>
    intf-&gt;p_sys = sys;<font></font>
 <font></font>
    <span class="hljs-comment">/* Read settings */</span>
    <span class="hljs-keyword">char</span> *who = var_InheritString(intf, <span class="hljs-string">"hello-who"</span>);
    <span class="hljs-keyword">if</span> (who == <span class="hljs-literal">NULL</span>)<font></font>
    {<font></font>
        msg_Err(intf, <span class="hljs-string">"Nobody to say hello to!"</span>);
        <span class="hljs-keyword">goto</span> error;<font></font>
    }<font></font>
    sys-&gt;who = who;<font></font>
 <font></font>
    msg_Info(intf, <span class="hljs-string">"Hello %s!"</span>, who);
    <span class="hljs-keyword">return</span> VLC_SUCCESS;<font></font>
 <font></font>
error:<font></font>
    <span class="hljs-built_in">free</span>(sys);
    <span class="hljs-keyword">return</span> VLC_EGENERIC;    <font></font>
}<font></font>
 <font></font>
<span class="hljs-comment">/**
 * Stops the interface. 
 */</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Close</span><span class="hljs-params">(<span class="hljs-keyword">vlc_object_t</span> *obj)</span>
</span>{
    <span class="hljs-keyword">intf_thread_t</span> *intf = (<span class="hljs-keyword">intf_thread_t</span> *)obj;
    <span class="hljs-keyword">intf_sys_t</span> *sys = intf-&gt;p_sys;<font></font>
 <font></font>
    msg_Info(intf, <span class="hljs-string">"Good bye %s!"</span>, sys-&gt;who);<font></font>
 <font></font>
    <span class="hljs-comment">/* Free internal state */</span>
    <span class="hljs-built_in">free</span>(sys-&gt;who);
    <span class="hljs-built_in">free</span>(sys);<font></font>
}<font></font>
</code></pre></div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Makefile</font></font></b>
                        <div class="spoiler_text"><pre><code class="smalltalk hljs"><span class="hljs-type">LD</span> = ld
<span class="hljs-type">CC</span> = cc
<span class="hljs-type">PKG_CONFIG</span> = pkg-config
<span class="hljs-type">INSTALL</span> = install
<span class="hljs-type">CFLAGS</span> = -g -<span class="hljs-type">O2</span> -<span class="hljs-type">Wall</span> -<span class="hljs-type">Wextra</span>
<span class="hljs-type">LDFLAGS</span> =
<span class="hljs-type">LIBS</span> =
<span class="hljs-type">VLC_PLUGIN_CFLAGS</span> := <span class="hljs-string">$(</span>shell <span class="hljs-string">$(</span><span class="hljs-type">PKG_CONFIG</span>) --cflags vlc-plugin)
<span class="hljs-type">VLC_PLUGIN_LIBS</span> := <span class="hljs-string">$(</span>shell <span class="hljs-string">$(</span><span class="hljs-type">PKG_CONFIG</span>) --libs vlc-plugin)
<span class="hljs-type">VLC_PLUGIN_DIR</span> := <span class="hljs-string">$(</span>shell <span class="hljs-string">$(</span><span class="hljs-type">PKG_CONFIG</span>) --variable=pluginsdir vlc-plugin)<font></font>
 <font></font>
plugindir = <span class="hljs-string">$(</span><span class="hljs-type">VLC_PLUGIN_DIR</span>)/misc<font></font>
 <font></font>
override <span class="hljs-type">CC</span> += -std=gnu99<font></font>
override <span class="hljs-type">CPPFLAGS</span> += -<span class="hljs-type">DPIC</span> -<span class="hljs-type">I</span>. -<span class="hljs-type">Isrc</span>
override <span class="hljs-type">CFLAGS</span> += -fPIC<font></font>
override <span class="hljs-type">LDFLAGS</span> += -<span class="hljs-type">Wl</span>,-no-undefined,-z,defs<font></font>
 <font></font>
override <span class="hljs-type">CPPFLAGS</span> += -<span class="hljs-type">DMODULE_STRING</span>=\<span class="hljs-comment">"hello\"</span>
override <span class="hljs-type">CFLAGS</span> += <span class="hljs-string">$(</span><span class="hljs-type">VLC_PLUGIN_CFLAGS</span>)<font></font>
override <span class="hljs-type">LIBS</span> += <span class="hljs-string">$(</span><span class="hljs-type">VLC_PLUGIN_LIBS</span>)<font></font>
 <font></font>
all: libhello_plugin.so<font></font>
 <font></font>
install: all<font></font>
    mkdir -p -- <span class="hljs-string">$(</span><span class="hljs-type">DESTDIR</span>)<span class="hljs-string">$(</span>plugindir)
    <span class="hljs-string">$(</span><span class="hljs-type">INSTALL</span>) --mode <span class="hljs-number">0755</span> libhello_plugin.so <span class="hljs-string">$(</span><span class="hljs-type">DESTDIR</span>)<span class="hljs-string">$(</span>plugindir)<font></font>
<font></font>
install-strip:<font></font>
    <span class="hljs-string">$(</span><span class="hljs-type">MAKE</span>) install <span class="hljs-type">INSTALL</span>=<span class="hljs-comment">"$(INSTALL) -s"</span><font></font>
<font></font>
uninstall:<font></font>
    rm -f <span class="hljs-string">$(</span>plugindir)/libhello_plugin.so<font></font>
<font></font>
clean:<font></font>
    rm -f -- libhello_plugin.so src/*.o<font></font>
<font></font>
mostlyclean: clean<font></font>
 <font></font>
<span class="hljs-type">SOURCES</span> = hello.c<font></font>
 <font></font>
<span class="hljs-string">$(</span><span class="hljs-type">SOURCES</span>:%.c=src/%.o): <span class="hljs-string">$(</span><span class="hljs-type">SOURCES</span>:%.c=src/%.c)<font></font>
 <font></font>
libhello_plugin.so: <span class="hljs-string">$(</span><span class="hljs-type">SOURCES</span>:%.c=src/%.o)
    <span class="hljs-string">$(</span><span class="hljs-type">CC</span>) <span class="hljs-string">$(</span><span class="hljs-type">LDFLAGS</span>) -shared -o <span class="hljs-string">$@</span> <span class="hljs-string">$^</span> <span class="hljs-string">$(</span><span class="hljs-type">LIBS</span>)<font></font>
 <font></font>
.<span class="hljs-type">PHONY</span>: all install install-strip uninstall clean mostlyclean
</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linux用のプラグインを構築する最も簡単な方法。</font><font style="vertical-align: inherit;">これを行うには、実際には、VLCメディアプレーヤー自体、およびプラグインのビルドに必要なファイルとツールをインストールする必要があります。</font><font style="vertical-align: inherit;">Debian / Ubuntuでは、これは次のコマンドで実行できます。</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install vlc libvlc-dev libvlccore-dev gcc make pkg-config</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、すべての準備が整っています。次のコマンドを使用してプラグインを収集してインストールします。</font></font><br>
<br>
<pre><code class="bash hljs">sudo make install</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインをテストするには、コンソールからもVLCを実行します。</font></font><br>
<br>
<pre><code class="bash hljs">vlc</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Hello world」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はありませんでした。</font><font style="vertical-align: inherit;">問題は、プラグインを最初に有効にする必要があることです。</font><font style="vertical-align: inherit;">これを行うには、設定を開き（[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ツール</font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; [ </font><b><font style="vertical-align: inherit;">設定]</font></b><font style="vertical-align: inherit;">）、詳細表示に切り替え（[ </font><b><font style="vertical-align: inherit;">設定</font></b><font style="vertical-align: inherit;">の</font><b><font style="vertical-align: inherit;">表示]</font></b><font style="vertical-align: inherit;">グループで</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべて]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">選択</font><font style="vertical-align: inherit;">）、左側のパネルの[ </font><b><font style="vertical-align: inherit;">インターフェース]</font></b><font style="vertical-align: inherit;"> &gt; [ </font><b><font style="vertical-align: inherit;">制御インターフェース</font></b><font style="vertical-align: inherit;"> ]で見つけ</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。Hello </font><b><font style="vertical-align: inherit;">インターフェース</font></b><font style="vertical-align: inherit;">プラグインの横にあるボックスを</font><font style="vertical-align: inherit;">オンにし</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
設定を保存してVLCを再起動します。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/fi/wr/ey/fiwreyqdhfd4ncbgzc2g8z1z3y8.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/g3/-n/h3/g3-nh3qc7k37kzwpbfywtow8msa.png"></a><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows用のプラグインを作成する</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windowsでは、状況はもう少し複雑です。プラグインをビルドするには、VLCのライブラリ、ヘッダー、構成ファイルを含むsdkをダウンロードする必要があります。以前は、sdkは通常のVLCアセンブリの一部であり、プログラムのインストールフォルダーにありました。今では別のメディアプレーヤーアセンブリとして提供されます。たとえば、VLCバージョン3.0.8の場合、このアセンブリは</font></font><a href="" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ftp://ftp.videolan.org/pub/videolan/vlc/3.0.8/win64/vlc-3.0.8-win64.7z</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からダウンロードできます（7zをダウンロードすることが重要です） -アーカイブ）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーカイブの内容をフォルダー（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ Projects</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など）にコピーします</font><font style="vertical-align: inherit;">。アーカイブには、SDKに加えて、プラグインのテストとデバッグに使用できるメディアプレーヤー自体も含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Makefileを使用してプラグインをビルドおよびインストールできるようにするには、ファイルを修正する必要があります</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ Projects \ vlc-3.0.8 \ sdk \ lib \ pkgconfig \ vlc-plugin.pc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、これは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレフィックス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pluginsdir</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数に</font><font style="vertical-align: inherit;">それぞれ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sdk</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラグインを含む</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォルダーへの正しいパスを</font><font style="vertical-align: inherit;">示してい</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="bash hljs">prefix=/c/Projects/vlc-3.0.8/sdk<font></font>
pluginsdir=/c/Projects/vlc-3.0.8/plugins</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windowsでビルドするには、コンパイラやその他のユーティリティもインストールする必要があります。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSYS2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境をインストールすることで、必要なソフトウェアをすべて入手できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">プロジェクトのWebサイトには、詳細なインストール手順があります。</font><font style="vertical-align: inherit;">つまり、インストール直後にコンソール（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ msys64 \ msys2.exe</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を開き、次のコマンドを使用してMSYS2パッケージを更新する必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">pacman -Syu</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、MSYS2ターミナルウィンドウを閉じてから再度開き、コマンドを実行します。</font></font><br>
<br>
<pre><code class="bash hljs">pacman -Su</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのパッケージを更新したら、ツールチェーンをインストールする必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">pacman -S base-devel mingw-w64-x86_64-toolchain</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要なパッケージがすべてインストールされたので、プラグインのビルドを開始できます。</font><font style="vertical-align: inherit;">Makefileを少し変更して、LinuxとWindowsの両方でプラグインをビルドできるようにしました。</font><font style="vertical-align: inherit;">さらに、サポートされていないMinGWビルドパラメーターをいくつか削除する必要がありました。その結果、Makefileは次のようになりました。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows用のMakefile</font></font></b>
                        <div class="spoiler_text"><pre><code class="smalltalk hljs"><span class="hljs-type">LD</span> = ld
<span class="hljs-type">CC</span> = cc
<span class="hljs-type">PKG_CONFIG</span> = pkg-config
<span class="hljs-type">INSTALL</span> = install
<span class="hljs-type">CFLAGS</span> = -g -<span class="hljs-type">O2</span> -<span class="hljs-type">Wall</span> -<span class="hljs-type">Wextra</span>
<span class="hljs-type">LDFLAGS</span> =
<span class="hljs-type">LIBS</span> =
<span class="hljs-type">VLC_PLUGIN_CFLAGS</span> := <span class="hljs-string">$(</span>shell <span class="hljs-string">$(</span><span class="hljs-type">PKG_CONFIG</span>) --cflags vlc-plugin)
<span class="hljs-type">VLC_PLUGIN_LIBS</span> := <span class="hljs-string">$(</span>shell <span class="hljs-string">$(</span><span class="hljs-type">PKG_CONFIG</span>) --libs vlc-plugin)
<span class="hljs-type">VLC_PLUGIN_DIR</span> := <span class="hljs-string">$(</span>shell <span class="hljs-string">$(</span><span class="hljs-type">PKG_CONFIG</span>) --variable=pluginsdir vlc-plugin)<font></font>
 <font></font>
plugindir = <span class="hljs-string">$(</span><span class="hljs-type">VLC_PLUGIN_DIR</span>)/misc<font></font>
 <font></font>
override <span class="hljs-type">CC</span> += -std=gnu99<font></font>
override <span class="hljs-type">CPPFLAGS</span> += -<span class="hljs-type">DPIC</span> -<span class="hljs-type">I</span>. -<span class="hljs-type">Isrc</span>
override <span class="hljs-type">CFLAGS</span> += -fPIC<font></font>
override <span class="hljs-type">LDFLAGS</span> += -<span class="hljs-type">Wl</span>,-no-undefined<font></font>
 <font></font>
override <span class="hljs-type">CPPFLAGS</span> += -<span class="hljs-type">DMODULE_STRING</span>=\<span class="hljs-comment">"hello\"</span>
override <span class="hljs-type">CFLAGS</span> += <span class="hljs-string">$(</span><span class="hljs-type">VLC_PLUGIN_CFLAGS</span>)<font></font>
override <span class="hljs-type">LIBS</span> += <span class="hljs-string">$(</span><span class="hljs-type">VLC_PLUGIN_LIBS</span>)<font></font>
 <font></font>
<span class="hljs-type">SUFFIX</span> := so<font></font>
ifeq (<span class="hljs-string">$(</span><span class="hljs-type">OS</span>),<span class="hljs-type">Windows_NT</span>)
    <span class="hljs-type">SUFFIX</span> := dll<font></font>
endif<font></font>
<font></font>
all: libhello_plugin.<span class="hljs-string">$(</span><span class="hljs-type">SUFFIX</span>)<font></font>
 <font></font>
install: all<font></font>
    mkdir -p -- <span class="hljs-string">$(</span><span class="hljs-type">DESTDIR</span>)<span class="hljs-string">$(</span>plugindir)
    <span class="hljs-string">$(</span><span class="hljs-type">INSTALL</span>) --mode <span class="hljs-number">0755</span> libhello_plugin.<span class="hljs-string">$(</span><span class="hljs-type">SUFFIX</span>) <span class="hljs-string">$(</span><span class="hljs-type">DESTDIR</span>)<span class="hljs-string">$(</span>plugindir)<font></font>
<font></font>
install-strip:<font></font>
    <span class="hljs-string">$(</span><span class="hljs-type">MAKE</span>) install <span class="hljs-type">INSTALL</span>=<span class="hljs-comment">"$(INSTALL) -s"</span><font></font>
<font></font>
uninstall:<font></font>
    rm -f <span class="hljs-string">$(</span>plugindir)/libhello_plugin.<span class="hljs-string">$(</span><span class="hljs-type">SUFFIX</span>)<font></font>
<font></font>
clean:<font></font>
    rm -f -- libhello_plugin.<span class="hljs-string">$(</span><span class="hljs-type">SUFFIX</span>) src/*.o<font></font>
<font></font>
mostlyclean: clean<font></font>
 <font></font>
<span class="hljs-type">SOURCES</span> = hello.c<font></font>
 <font></font>
<span class="hljs-string">$(</span><span class="hljs-type">SOURCES</span>:%.c=src/%.o): <span class="hljs-string">$(</span><span class="hljs-type">SOURCES</span>:%.c=src/%.c)<font></font>
<font></font>
libhello_plugin.<span class="hljs-string">$(</span><span class="hljs-type">SUFFIX</span>): <span class="hljs-string">$(</span><span class="hljs-type">SOURCES</span>:%.c=src/%.o)
    <span class="hljs-string">$(</span><span class="hljs-type">CC</span>) <span class="hljs-string">$(</span><span class="hljs-type">LDFLAGS</span>) -shared -o <span class="hljs-string">$@</span> <span class="hljs-string">$^</span> <span class="hljs-string">$(</span><span class="hljs-type">LIBS</span>)<font></font>
 <font></font>
.<span class="hljs-type">PHONY</span>: all install install-strip uninstall clean mostlyclean
</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MSYS2はVLCのsdkについて何も認識していないため、ビルドする前に</font><font style="vertical-align: inherit;">、このsdkから</font><b><font style="vertical-align: inherit;">pkgconfig</font></b><font style="vertical-align: inherit;">フォルダーへのパスを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PKG_CONFIG_PATH</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境</font><b><font style="vertical-align: inherit;">変数</font></b><font style="vertical-align: inherit;">に追加する必要があり</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">MinGWコンソール（</font><i><font style="vertical-align: inherit;">C：\ msys64 \ mingw64.exec</font></i><font style="vertical-align: inherit;">）を</font><i><font style="vertical-align: inherit;">開き</font></i><font style="vertical-align: inherit;">、次のコマンドを実行します。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs">export PKG_CONFIG_PATH=/c/projects/vlc-3.0.8/sdk/lib/pkgconfig:$PKG_CONFIG_PATH<font></font>
make install</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインをテストするには、コンソールからもVLCを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs">/c/projects/vlc-3.0.8/vlc</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linuxの場合と同様に、設定に移動してプラグインをオンにします。</font><font style="vertical-align: inherit;">設定を保存してVLCを再起動します。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラグインの実装</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインを実装するには、メディアプレーヤーの制御方法（オーディオトラックの変更、巻き戻し）とキーボードのキーストロークイベントの処理方法を理解する必要がありました。これらすべてを理解するために、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントを参照しました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。また、インターネット上で、メディアプレーヤーのアーキテクチャに光を当てる興味深い記事をいくつか見つけました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://web.archive.org/web/20141204234622/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。VLCメディアフレームワークのアーキテクチャ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VLCメディアプレーヤーAPIドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLCは多数の独立したモジュール（400以上）で構成されています。各モジュールは、実装する機能のタイプ、および初期化/ファイナライズ機能に関する情報を提供する必要があります。この情報は、</font><font style="vertical-align: inherit;">マクロを使用</font><font style="vertical-align: inherit;">した</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlc_module_begin（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlc_module_end（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロックで説明され</font><font style="vertical-align: inherit;">ています</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_capability（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_callbacks（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。モジュールの初期化/終了関数（通常は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Close</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれ</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">）には次のシグネチャがあります。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Open</span><span class="hljs-params">(<span class="hljs-keyword">vlc_object_t</span> *)</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Close</span><span class="hljs-params">(<span class="hljs-keyword">vlc_object_t</span> *)</span></span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlc_object_t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、VLCでデータを表すための基本型で、そこから他のすべてが継承されます（記事</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Object_Managementを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照</font><font style="vertical-align: inherit;">）。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlc_object_t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へのポインター</font><font style="vertical-align: inherit;">は、モジュールが実装する機能に従って、特定のデータ型に</font><b><font style="vertical-align: inherit;">キャスト</font></b><font style="vertical-align: inherit;">する必要があります。メディアプレーヤーを制御するには、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_capability（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マクロで</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェイス</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">設定し</font></b><b><i><font style="vertical-align: inherit;">ます</font></i></b><font style="vertical-align: inherit;">。したがって、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Close</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数では、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlc_object_t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intf_thread_t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にキャストする必要があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モジュール間の相互作用は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブザーバーの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設計パターンに基づいています</font><font style="vertical-align: inherit;">。 VLCは</font><i><font style="vertical-align: inherit;">「オブジェクト変数」</font></i><font style="vertical-align: inherit;">メカニズムを提供し</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事を参照</font><font style="vertical-align: inherit;">）。これ</font><font style="vertical-align: inherit;">を使用して、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlc_object_t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ</font><font style="vertical-align: inherit;">（およびその派生物）の</font><font style="vertical-align: inherit;">インスタンスに</font><font style="vertical-align: inherit;">変数</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">追加できます。モジュールはこれらの変数を介してデータを交換できます。この変数の値が変更されたときに呼び出されるコールバック関数を変数にアタッチすることもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例として、</font><font style="vertical-align: inherit;">ホットキーイベントの処理を担当</font><font style="vertical-align: inherit;">する</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ホットキー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modules / control / hotkeys.c</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">考え</font><font style="vertical-align: inherit;">ます。 Open </font><font style="vertical-align: inherit;">関数では、</font><b><font style="vertical-align: inherit;">ActionEvent</font></b><font style="vertical-align: inherit;">コールバック関数が</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">key-action </font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数で</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハング</font><font style="vertical-align: inherit;">してい</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs">var_AddCallback( p_intf-&gt;obj.libvlc, <span class="hljs-string">"key-action"</span>, ActionEvent, p_intf );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var_AddCallback</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へのポインタ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlc_object_t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次いで、指定したコールバック関数に転送されている任意のデータを送信するための空隙に、変数名、コールバック関数ポインタ。コールバック関数のシグネチャを以下に示します。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">ActionEvent</span><span class="hljs-params">(<span class="hljs-keyword">vlc_object_t</span> *, <span class="hljs-keyword">char</span> <span class="hljs-keyword">const</span> *, <span class="hljs-keyword">vlc_value_t</span>, <span class="hljs-keyword">vlc_value_t</span>, <span class="hljs-keyword">void</span> *)</span></span></code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlc_object_t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
へのポインター</font><font style="vertical-align: inherit;">、変数の名前、この変数の古い値と新しい値（この場合は、アクションの対応する押されたホットキーの組み合わせの識別子）、およびコールバック</font><font style="vertical-align: inherit;">関数を</font><font style="vertical-align: inherit;">追加するときに指定された追加データへのポインターが、コールバック</font><font style="vertical-align: inherit;">関数に渡されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ホットキーイベントの直接処理は</font><font style="vertical-align: inherit;">、</font><b><font style="vertical-align: inherit;">ActionEvent</font></b><font style="vertical-align: inherit;">コールバック関数内で呼び出される</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PutAction</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">実行され</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">PutAction</font></b><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">は、ホットキーの組み合わせ（</font><b><font style="vertical-align: inherit;">i_action</font></b><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を押すイベントの識別子を</font><b><font style="vertical-align: inherit;">入力</font></b><font style="vertical-align: inherit;">として</font><b><font style="vertical-align: inherit;">受け入れ</font></b><font style="vertical-align: inherit;">、switchステートメントを使用して、対応するアクションを実行します。&nbsp; </font><font style="vertical-align: inherit;">
たとえば、巻き戻しイベントは</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><code>ACTIONID_JUMP_BACKWARD_SHORT</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">対応するアクションを実行するために、巻き戻し間隔はVLC設定から（変数</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">short-jump-sizeから</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">取得されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">mtime_t</span> it = var_InheritInteger( p_input, varname );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再生中のファイルを巻き戻すには、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">time-offset</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数を</font><font style="vertical-align: inherit;">、再生をシフトする時間（マイクロ秒単位）に対応する値に</font><font style="vertical-align: inherit;">設定するだけ</font><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<pre><code class="cpp hljs">var_SetInteger( p_input, <span class="hljs-string">"time-offset"</span>, it * sign * CLOCK_FREQ );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
早送りの場合は正の値、早戻しの場合は負の値を指定する必要があります。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLOCK_FREQ定数がされて</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロ秒に秒を変換するために使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、オーディオトラックが変更されます（イベント</font></font><b><code>ACTIONID_AUDIO_TRACK</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">オーディオトラックを担当する</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">audio-es</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数のみが、（</font><b><font style="vertical-align: inherit;">再生</font></b><font style="vertical-align: inherit;">中のファイルで使用可能なオーディオトラックに応じて）限られた値のセットを受け入れることができます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var_Change（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数を使用して、変数の可能な値のリストを取得できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">vlc_value_t</span> <span class="hljs-built_in">list</span>, list2;<font></font>
var_Change( p_input, <span class="hljs-string">"audio-es"</span>, VLC_VAR_GETCHOICES, &amp;<span class="hljs-built_in">list</span>, &amp;list2 );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
値のリストに加えて、この関数では、これらの値の説明のリストを取得することもできます（この場合、オーディオトラックの名前）。</font><font style="vertical-align: inherit;">これで、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var_Set（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数を使用してオーディオトラックを変更できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs">var_Set( p_input, <span class="hljs-string">"audio-es"</span>, <span class="hljs-built_in">list</span>.p_list-&gt;p_values[i] );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メディアプレーヤーの管理方法はわかったので、キーボードイベントの処理方法を学ぶ必要があります。残念ながら、新しいホットキーを追加できませんでした。すべてのホットキーはVLCカーネルコード（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">src / misc / actions.c</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）に</font><font style="vertical-align: inherit;">ハードコードされています</font><font style="vertical-align: inherit;">。したがって、低レベルのキーボードのキーストロークイベントのハンドラーを追加し、コールバック関数を停止して、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーが押された</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数を変更しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cpp hljs">var_AddCallback( p_intf-&gt;obj.libvlc, <span class="hljs-string">"key-pressed"</span>, KeyboardEvent, p_intf );</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーが押された</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
変数</font><font style="vertical-align: inherit;">には、最後に押されたキーに対応する文字コード（Unicode）が格納されます。たとえば、数値が</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「1」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーを押す</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、</font><b><font style="vertical-align: inherit;">キーを押した</font></b><font style="vertical-align: inherit;">変数</font><font style="vertical-align: inherit;">に値</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">49</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（16番目の数体系では0x00000031）</font><font style="vertical-align: inherit;">が割り当てられます</font><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unicode-table.comで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他の文字コードを表示できます</font><font style="vertical-align: inherit;">。さらに、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キー押下</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数の値は</font><font style="vertical-align: inherit;">修飾キーの押下を考慮に入れ、4番目の有効バイトがそれらに割り当てられます。したがって、たとえば、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Ctrl + 1」</font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み合わせを</font><b><font style="vertical-align: inherit;">押す</font></b><font style="vertical-align: inherit;">と、</font><b><font style="vertical-align: inherit;">キーを押した</font></b><font style="vertical-align: inherit;">変数</font><font style="vertical-align: inherit;">に値0x </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">04</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 000031（00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00 00000000 00000000 00110001 </font><font style="vertical-align: inherit;">が割り当てられます</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">明確にするために、以下の表はさまざまなキーの組み合わせの値を示しています。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーボードショートカット</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ctrl + 1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00 00000000 00000000 00110001 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alt + 1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0000000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00000000 00000000 00110001 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ctrl + Alt + 1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00000000 00000000 00110001 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shift + 1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">000000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0 00000000 00000000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00100001 </font></font></b><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Shift + 1」の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み合わせを押すときは、値に注意してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この場合、記号</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「！」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、最初のバイトの値は、Unicodeのこの文字のコード（0x00000021）に対応します。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラグインを</font><font style="vertical-align: inherit;">「translate it、please」というフレーズの頭字語</font><font style="vertical-align: inherit;">と名付けました</font><font style="vertical-align: inherit;">。また、tipは「hint」と翻訳することもできます。プラグインのソースコードは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">公開され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">て</font></a><font style="vertical-align: inherit;">おり、WindowsおよびLinux用の既成のプラグインアセンブリをダウンロードすることもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインをインストールするには、ファイル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libtip_plugin.dll</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linuxの場合はlibtip_plugin.so）を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;path-to-vlc&gt; / plugins</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> folder </font><font style="vertical-align: inherit;">にコピーする必要があり</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。 Windowsでは、VLCは通常</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ Program Files \ VideoLAN \ VLC</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォルダーにインストールされます</font><font style="vertical-align: inherit;">。 Linuxでは、次のコマンドを使用してインストールフォルダーを見つけることができます。</font></font><br>
<br>
<pre><code class="plaintext hljs">whereis vlc</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、Ubuntuでは、VLCは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / lib / x86_64-linux-gnu / vlcにインストールされ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、VLCを再起動し、メインメニューで</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ツール</font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; [ </font><b><font style="vertical-align: inherit;">設定</font></b><font style="vertical-align: inherit;"> ]を開き</font><font style="vertical-align: inherit;">、詳細表示に切り替え（[ </font><b><font style="vertical-align: inherit;">設定</font></b><font style="vertical-align: inherit;">の</font><b><font style="vertical-align: inherit;">表示]</font></b><font style="vertical-align: inherit;">グループで</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべて]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">選択</font><font style="vertical-align: inherit;">）、左側のパネルの</font><font style="vertical-align: inherit;">[ </font><b><font style="vertical-align: inherit;">インターフェース]</font></b><font style="vertical-align: inherit;"> &gt; [ </font><b><font style="vertical-align: inherit;">制御]</font></b><font style="vertical-align: inherit;">セクションに移動し、</font><font style="vertical-align: inherit;">[ </font><b><font style="vertical-align: inherit;">TIP]の</font></b><font style="vertical-align: inherit;">横にあるチェックボックスを</font><font style="vertical-align: inherit;">オンに</font><font style="vertical-align: inherit;">します</font><b><font style="vertical-align: inherit;">（翻訳してください）</font></b><font style="vertical-align: inherit;">。次に、VLCを再起動する必要があります。</font><font style="vertical-align: inherit;">
プラグイン設定では、メインおよび補助（翻訳用）オーディオトラックの数、およびプラグインが巻き戻して補助オーディオトラックで繰り返す時間（秒単位）を指定できます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/df/06/qk/df06qkcl2vbiatwq7j_8uw4m_ey.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/mv/9-/vu/mv9-vuo9mfzicqyiqpsopnevrpu.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインを制御するために、次のキーボードショートカットを追加しました。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「/」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は翻訳用</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Shift + /」で</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、前に翻訳されたビデオフラグメントをメインオーディオトラックで繰り返します。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変換および再試行コマンドの実行中、プラグインは左上隅</font><i><font style="vertical-align: inherit;">に</font></i><font style="vertical-align: inherit;">それぞれ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「TIP：translate」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「TIP：repeat」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">というメッセージを表示します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4z/bu/1p/4zbu1p5mwskebq8vpbiny_oayr4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインを使用した私の経験から、一般的に、私は結果に満足していると言えます。主なことは、適切なコンテンツを選択することです。そこで使用される外国語のスピーチの少なくとも半分が理解されている場合、プラグインは残りを翻訳するのに役立ちます。そうでなければ、プラグインはおそらく役に立たないでしょう。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
プラグインに字幕サポートが追加されました。これで、翻訳用のオーディオトラックと字幕を選択できます。字幕を選択して、以前に翻訳したビデオクリップを繰り返すこともできます。設定で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を指定すると、オーディオトラックと字幕の切り替えを無効にできます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オーディオトラックと字幕を選択するための設定は、翻訳/繰り返しキーを押す前の設定に自動的にリセットされます。</font><b><font style="vertical-align: inherit;">macOS用の</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
プラグインアセンブリも追加しました</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja475974/index.html">電車でハッカソンを作った方法とそれから来たもの</a></li>
<li><a href="../ja475978/index.html">電車の本部は何のためですか？</a></li>
<li><a href="../ja475980/index.html">接続性、アーキテクチャ、チーム編成が低い</a></li>
<li><a href="../ja475982/index.html">外国語を学ぶ方法</a></li>
<li><a href="../ja475986/index.html">PocketBook 740 Proリーダーの概要：7.8インチ、オーディオおよびIPX8保護</a></li>
<li><a href="../ja475996/index.html">Spring BootへのQuartzの追加</a></li>
<li><a href="../ja475998/index.html">科学および工学計算におけるRPAの適用</a></li>
<li><a href="../ja476000/index.html">ML.NETモデルビルダーの更新</a></li>
<li><a href="../ja476002/index.html">ドイツで博士課程の学生の職を見つける経験</a></li>
<li><a href="../ja476004/index.html">プロジェクトマネージャー-神話か現実か？それともなぜ視覚効果の分野で必要なのでしょうか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>