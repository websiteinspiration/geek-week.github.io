<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕔 🦐 👩🏼‍💻 Cisco 200-125 CCNA v3.0のトレーニング。38日目。OSIレイヤー2のEtherChannelプロトコル 👩🏿‍🍳 🚅 🚽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今日は、OSIモデルのレイヤー2のレイヤー2 EtherChannelリンク集約プロトコルの動作について説明します。このプロトコルはレイヤー3プロトコルとそれほど違いはありませんが、レイヤー3 EtherChannelについて学習する前に、いくつかの概念を紹介する必要があるため、後で第3レイヤーに進...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco 200-125 CCNA v3.0のトレーニング。38日目。OSIレイヤー2のEtherChannelプロトコル</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466427/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今日は、OSIモデルのレイヤー2のレイヤー2 EtherChannelリンク集約プロトコルの動作について説明します。</font><font style="vertical-align: inherit;">このプロトコルはレイヤー3プロトコルとそれほど違いはありませんが、レイヤー3 EtherChannelについて学習する前に、いくつかの概念を紹介する必要があるため、後で第3レイヤーに進みます。</font><font style="vertical-align: inherit;">私たちは引き続きCCNAコースのスケジュールに従っていますので、今日はセクション1.5「レイヤー2/3 EtherChannelの構成、検証、トラブルシューティング」、およびサブセクション1.5a、「静的EtherChannel」、1.5b、「PAGPプロトコル」、および1.5c、「Open IEEE-LACP標準」を見ていきます。 。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xb/7i/bl/xb7iblcsfkfg3qg51pr6hkl9k-8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に進む前に、EtherChannelとは何かを理解する必要があります。</font><font style="vertical-align: inherit;">3つの通信回線によって過度に接続されているスイッチAとスイッチBがあるとします。</font><font style="vertical-align: inherit;">STPプロトコルを使用する場合、ループの形成を防ぐために、2つの追加の行が論理的にブロックされます。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
100 Mbpsのトラフィック速度を提供するFastEthernetポートがあるとすると、合計スループットは3 x 100 = 300 Mbpsになります。通信チャネルは1つだけ残されるため、100 Mbpsに低下します。つまり、この場合、STPはネットワークパフォーマンスを低下させます。さらに、2つの余分なチャネルが無駄にアイドル状態になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを防ぐために、Cisco Catalistスイッチの開発者で、後にシスコが買収したKALPANAは、1990年代にEtherChannelと呼ばれるテクノロジーを開発しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/np/0y/7x/np0y7xshs60ireatpkieqkl0p6u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの場合、このテクノロジーは、300 Mbpsのスループットを持つ3つの個別の通信チャネルを1つの論理チャネルに変えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EtherChannelテクノロジーの最初のモードは、手動モードまたは静的モードです。同時に、操作パラメータのすべての手動設定が正しく行われているという事実に依存して、スイッチはいかなる伝送条件の下でも何もしません。チャネルは単にオンになって機能し、ネットワーク管理者の設定を完全に信頼します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のモードはCisco PAGP独自のリンク集約プロトコルで、3番目のモードはIEEE標準LACPリンク集約プロトコルです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのモードを機能させるには、EtherChannelを使用可能にする必要があります。このプロトコルの静的バージョンはアクティブ化が非常に簡単です。スイッチのインターフェイス設定に移動して、channel-group 1 modeコマンドを入力する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つのインターフェイスf0 / 1およびf0 / 2を持つスイッチAがある場合、各ポートの設定に移動してこのコマンドを入力する必要があります。EtherChannelインターフェイスグループ番号は1〜6にすることができます。主なことは、この値が同じであることです。スイッチのすべてのポート。さらに、ポートは同じモードで動作する必要があります。どちらもアクセスモードまたはトランクモードで動作し、同じネイティブVLANまたは許可VLANを持っている必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sh/uf/sv/shufsv48th79jzcokqt2ogcgvry.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EtherChannel集約は、チャネルグループが同じ構成済みインターフェースで構成されている場合にのみ機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチAを2つの通信回線でスイッチBに接続します。スイッチBにも2つのインターフェイスf0 / 1およびf0 / 2があります。これらのインターフェースは独自のグループを形成します。同じコマンドを使用してEtherChannelで動作するように設定できます。これらはローカルスイッチにあるため、グループ番号は関係ありません。このグループを1番に指定すると、すべてが機能します。ただし、両方のチャネルが問題なく機能するためには、すべてのインターフェイスが同じモード（アクセスまたはトランク）でまったく同じように構成されている必要があることに注意してください。スイッチAとスイッチBの両方のインターフェイスの設定に入り、コマンドチャネルグループ1モードをオンにすると、EtherChannelチャネルの集約が実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各スイッチの両方の物理インターフェイスは、1つの論理インターフェイスとして機能します。 STPパラメータを見ると、スイッチAに2つの物理ポートからグループ化された1つの共通インターフェイスが表示されていることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シスコが開発したポート集約プロトコルであるPAGPに移りましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/kb/6j/fpkb6jgy3xm_7d1flyaiesro8ji.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じ画像を想像してみてください。2つのスイッチAとBがあり、それぞれにインターフェイスf0 / 1とf0 / 2があり、2つの通信回線で接続されています。 PAGPを有効にするには、&lt;desirable / auto&gt;パラメーターを指定して同じchannel-group 1 modeコマンドを使用します。手動静的モードでは、すべてのインターフェイスでコマンドのチャネルグループ1モードを入力するだけで、集約が機能し始めます。ここでは、desirableパラメータまたはautoパラメータを指定する必要があります。 ？記号を指定してchannel-group 1 modeコマンドを入力すると、システムは次のオプションのヒントを表示します：オン、望ましい、自動、パッシブ、アクティブ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンクの両端で同じチャネルグループ1モードのdesirableコマンドを入力すると、EtherChannelがアクティブになります。チャネルの一方の端でインターフェイスがchannel-group 1 mode autoコマンドで設定され、もう一方の端でchannel-group 1 mode autoコマンドで設定されている場合も同様です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、channel-group 1 mode autoコマンドでチャネルの両端のインターフェイスがautoに設定されている場合、チャネル集約は発生しません。したがって、PAGPを介してEtherChannelを使用する場合は、少なくとも一方の当事者のインターフェースが望ましい状態でなければならないことに注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オープンLACPプロトコルを使用する場合、チャネルの集約には、&lt;アクティブ/パッシブ&gt;パラメーターを指定した同じチャネルグループ1モードコマンドが使用されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b3/px/gm/b3pxgmyabpd1ermxo_xqerrt-og.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チャネルの両側で可能な設定の組み合わせは次のとおりです。インターフェイスがアクティブモードに設定されている場合、または一方がアクティブで他方がパッシブである場合-EtherChannelモードが機能し、インターフェイスの両方のグループがパッシブに設定されている場合、チャネル集約は行われません。 LACPプロトコルを使用してチャネル集約を構成するには、少なくとも1つのインターフェイスグループがアクティブ状態である必要があることに注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
質問に答えてみましょう。スイッチAとBが通信回線で接続されていて、一方のスイッチのインターフェイスがアクティブ状態で、もう一方のスイッチが自動または望ましい状態の場合、EtherChannelは機能しますか？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ek/su/ta/eksutaqprcruqvub8yqzhvowweu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いいえ、違います。ネットワークには同じプロトコル（PAGPまたはLACP）が必要です。これらは相互に互換性がないためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EtherChannelの編成に使用されるいくつかのコマンドを検討してください。まず、グループ番号を割り当てる必要があります。グループ番号は任意です。最初のchannel-group 1 modeコマンドでは、オプションとして、on、desirable、a​​uto、passive、activeの5つのパラメーターを選択できます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターフェイスサブコマンドでは、channel-groupキーワードを使用していますが、たとえば、ロードバランシングを指定する場合は、port-channelという単語を使用します。ロードバランシングとは何かを検討します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチAがあり、2つのポートがスイッチBの対応するポートに接続されているとします。3台のコンピューターがスイッチB-1、2、3に接続され、1台のコンピューター（番号4）がスイッチAに接続されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/my/5g/-n/my5g-ni-rha-l69pts0eavoofnk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トラフィックがコンピューター＃4からコンピューター＃1に移動すると、スイッチAは両方の通信回線でパケットの送信を開始します。ロードバランシング方式では、送信者のMACアドレスのハッシュを使用して、4番目のコンピューター上のすべてのトラフィックが2つの通信回線の1つだけを通過するようにします。コンピューターNo. 5をスイッチAに接続すると、負荷分散により、このコンピューターのトラフィックは1つの下位の通信回線に沿ってのみ移動します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xh/bs/oe/xhbsoeo0zldmxnyxjejwrdtbi-m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、これは一般的な状況ではありません。クラウドインターネットと、スイッチAが3台のコンピューターに接続されているデバイスがあるとします。このデバイスはゲートウェイであるため、インターネットトラフィックは、このデバイスのMACアドレス、つまり特定のポートのアドレスを使用してスイッチに送信されます。したがって、すべての発信トラフィックはこのデバイスのMACアドレスを持ちます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bf/3g/pe/bf3gpelb4suq-tj4uupoz80tgws.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチAの前に3つの通信回線で接続されたスイッチBを配置すると、スイッチAの方向のスイッチBのすべてのトラフィックがいずれかの回線に沿ってラッシュし、目標を達成できなくなります。したがって、このスイッチのバランシングパラメータを設定する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rs/5m/0a/rs5m0ai3cyhyhrb8p7azfjzvxcy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、port-channel load-balanceコマンドを使用します。宛先IPアドレスはオプションパラメータとして使用されます。これがコンピュータNo. 1のアドレスである場合、トラフィックは最初の行に沿って、No。3-3番目に沿って、そして2番目のコンピュータのIPアドレスを指定した場合、中央の行に突入します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uw/eh/xi/uwehxim1dl3bneklf4jggwnbkze.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、コマンドはグローバルコンフィギュレーションモードでport-channelキーワードを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チャネルに関係するリンクと使用されているプロトコルを確認する場合は、特権モードでshow etherchannel summaryコマンドを入力する必要があります。 show etherchannel load-balanceコマンドを使用して、ロードバランシング設定を表示できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Packet Tracerプログラムでこれらすべてを検討します。 2つのリンクで接続された2つのスイッチがあります。 STPが動作を開始し、4つのポートの1つがブロックされます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/od/2o/ouod2o38wmmcejjbo-deannlb44.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW0の設定に入り、show spanning-treeコマンドを入力します。 STPが機能しており、ルートIDとブリッジIDを確認できることがわかります。 2番目のスイッチに同じコマンドを使用すると、最初のスイッチSW0がルートスイッチであることがわかります。これは、SW1とは異なり、ルートとブリッジの識別子が同じだからです。さらに、SW0がルートであるというメッセージがあります-「このブリッジがルートです」。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nm/v2/zi/nmv2zi3bxwt7v1oemttrbrc9kfq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルートスイッチの両方のポートは指定状態にあり、2番目のスイッチのブロックされたポートは代替として示され、2番目のスイッチはルートポートとして示されます。 STPが必要なすべての作業を完璧に実行し、接続を自動的にセットアップする方法を確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このために、SW0の設定でPAGPプロトコルをアクティブ化し、コマンドint f0 / 1およびチャネルグループ1モードを5つの可能なパラメーターの1つで順次入力します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kp/qa/wv/kpqawvjis6sc1y6w2xyt8v4cckw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
線形プロトコルが最初にオフにされ、次に再びオンにされたことがわかります。つまり、変更が有効になり、ポートチャネル1インターフェイスが作成されました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/if/pq/tl/ifpqtlgsasxio-40cuw3vkvj2fa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、f0 / 2インターフェイスに移動して、同じチャネルグループ1モードの望ましいコマンドを入力します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9k/sd/qb/9ksdqbsfuvqyjlbf0rqnt0vfcto.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上のリンクのポートが緑のマーカーでマークされ、下のリンクのポートがオレンジでマークされていることがわかります。この場合、同じスイッチのすべてのインターフェースを同じコマンドで構成する必要があるため、ポートの混合モードが望ましい-autoにすることはできません。 2番目のスイッチでは自動モードを使用できますが、最初のポートではすべてのポートが同じモードで動作する必要があります。この場合は望ましいモードです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW1の設定に移動し、コマンドをインターフェイスの範囲int range f0 / 1-2に使用します。これにより、インターフェイスごとに個別にコマンドを手動で入力するのではなく、1つのコマンドで両方を構成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はchannel-group 2 modeコマンドを使用していますが、2番目のスイッチのインターフェイスのグループを表すために1〜6の任意の数字を使用できます。チャネルの反対側はdesirableモードに設定されているため、このスイッチのインターフェイスはdesirableモードまたはautoモードである必要があります。最初のパラメーターを選択し、channel-group 2 mode desirableと入力して、Enterキーを押します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チャネルインターフェイスPort-channel 2が作成され、ポートf0 / 1およびf0 / 2が順にダウン状態からアップ状態に切り替わったというメッセージが表示されます。この後に、ポートチャネル2インターフェイスが起動し、このインターフェイスのラインプロトコルも有効になっているというメッセージが続きます。これで、EtherChannel集約チャネルができました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを確認するには、スイッチ設定SW0に移動し、show etherchannel summaryコマンドを発行します。後で検討するさまざまなフラグが表示され、1チャネルを使用してグループ1になり、アグリゲーターの数も1になります。Po1はポートチャネル1を意味し、指定（SU）はS-レベル2のフラグ、U-使用を意味します。以下は使用されるPAGPプロトコルであり、チャネルに集約される物理ポートはFa0 / 1（P）およびFa0 / 2（P）です。ここで、PフラグはこれらのポートがPortChannelの一部であることを示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のスイッチに同じコマンドを使用すると、SW1の同様の情報がCLIウィンドウに表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qe/j4/bu/qej4bu23qi21lubbbp_i9tbxtri.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW1の設定でshow spanning-treeコマンドを入力すると、PortChannel 2が単一の論理インターフェイスであり、そのコストが2つの個別のポート19のコストと比較して減少しており、9になっていることがわかります</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4a/eo/y7/4aeoy7q47qlcgvzi-_hcckwbvcg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。最初のスイッチでも同じようにしましょう。ルートパラメータは変更されていませんが、2つのスイッチの間に2つの物理リンクではなく1つの論理インターフェイスPo1-Po2があることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/mx/3n/wqmx3nkjs7ctva_yfoftxigmpck.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PAGPをLACPに置き換えてみましょう。これを行うには、最初のスイッチの設定で、インターフェイスの範囲int range f0 / 1-2のコマンドを使用します。 LACPを有効にするためにchannel-group1 mode activeコマンドを入力すると、ポートFa0 / 1およびFa0 / 2はすでに別のプロトコルを使用するチャネルの一部であるため、拒否されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ur/fd/w8/urfdw8qgugivc0wewcjqbwvfvly.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、最初にno channel-group 1 mode activeコマンドを入力してから、channel-group1 mode activeコマンドを使用する必要があります。最初にno channel-group 2コマンドを入力してから、channel-group 2 mode activeコマンドを入力して、2番目のスイッチでも同じことをしましょう。インターフェイスパラメータを見ると、Po2が再びオンになっていることがわかりますが、それでもPAGPプロトコルモードのままです。 LACPが導入されたため、これは正しくありません。この場合、パケットトレーサープログラムによるパラメーターの表示が正しくありません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この不一致を解決するために、一時的な解決策として別のポートチャネルを作成しています。これを行うには、int range f0 / 1-2のコマンドを入力し、channel-group 2は入力せず、channel-group 2 mode activeコマンドを入力します。これが最初のスイッチにどのように影響するか見てみましょう。 show etherchannel summaryコマンドを入力すると、PA1がPAGPを使用しているように表示されます。これは、Packet Tracerシミュレーションの問題です。これは、PortChannelが現在無効になっており、チャネルを用意する必要がないためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のスイッチのCLIウィンドウに戻り、show etherchannel summaryコマンドを発行します。これで、Po2はインデックス（SD）で表示されます。Dは下を意味します。つまり、チャネルは機能しません。技術的には、PortChannelは存在しますが、ポートが関連付けられていないため使用されません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のスイッチの設定でint range f0 / 1-2を入力し、channel-group 1コマンドを入力せず、channel-group 2 mode activeコマンドを使用して、今回は番号2の下に新しいチャネルグループを作成します。次に、2番目のスイッチの設定でも同じことを行います。チャネルグループの番号が1になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のスイッチにポートチャネル2の新しいグループが作成され、2番目のスイッチにポートチャネル1が作成されます。グループ名を入れ替えただけです。ご覧のとおり、技術的には2番目のスイッチに新しいポートチャネルを作成しましたが、正しいパラメータで表示されます。showetherchannel summaryコマンドを入力すると、Po1（SU）がLACPを使用していることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW0スイッチのCLIウィンドウにまったく同じ画像が表示されます。新しいPo2（SU）グループがLACPを実行しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gx/ve/xb/gxvexbyeb1jxmpvl-as-9hvs7dq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクティブ状態のインターフェースと常時オンのインターフェースの違いを考慮してください。コマンドint range f0 / 1-2とチャンネルグループ3モードをオンにして、スイッチSW0の新しいチャンネルグループを作成します。その前に、no channel-group 1コマンドとno channel-group 2コマンドを使用してチャネルグループ1と2を削除する必要があります。そうしないと、channel-group 3 mode onコマンドを使用しようとすると、インターフェイスが別のチャネルプロトコルとの連携にすでに使用されているというメッセージが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じことを2番目のスイッチでも行います。チャネルグループ1と2を削除し、チャネルグループ3モードをオンにしてグループ3を作成します。次に、SW0の設定に進み、show etherchannel summaryコマンドを使用します。新しいPo3チャネルがすでに動作しており、PAGPやLACPのような予備的な動作を必要としないことがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/i8/1p/b-i81p-_tppmxsrtuobxu9bcyqy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
切断してからポートをオンにすることなく、すぐにオンになります。 SW1に対して同じコマンドを使用すると、Po3はプロトコルを使用していないことがわかります。つまり、静的EtherChannelが作成されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シスコは、ネットワークアベイラビリティを広く利用するには、PAGPを忘れて、リンク集約のより信頼性の高い方法として静的EtherChannelを使用する必要があると主張しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
負荷をどのように分散しますか？ SWIスイッチのCLIウィンドウに戻り、show etherchannel load-balanceコマンドを発行します。送信元MACアドレスのMACアドレスに基づいて負荷分散が行われていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ai/vw/zu/aivwzus8ei6ffabb_vmlq9wlbke.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、バランス調整はこの特定のパラメーターを使用しますが、タスクに対応しない場合もあります。このバランシング方式を変更する場合は、グローバルコンフィギュレーションモードを開始し、port-channel load-balanceコマンドを入力する必要があります。その後、システムがこのコマンドの可能なパラメーターを含むプロンプトを表示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tg/2a/oq/tg2aoqxzmzxbf7kw4bykdl-xziw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
port-channel load-balance src-macパラメータを指定する場合、つまり送信元MACアドレスを指定する場合、ハッシュ関数が有効になり、このEtherChannelの一部であるポートを使用してトラフィックを送信する必要があることを示します。送信元アドレスが同じであるたびに、システムはこの特定の物理インターフェイスを使用してトラフィックを送信します。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/mkLnjNFBjRs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？注文またはお友達にそれを推奨することで私たちをサポートしてください、私たちがあなたの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために発明したエントリーレベルのサーバーのユニークなアナログのHabrユーザーのための30％割引：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsの真実20ドルまたはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">オランダでは、</font></b></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199ドルから、インテルTetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV</font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2台</font></a></b><font style="vertical-align: inherit;">だけ持ってい</font><b><font style="vertical-align: inherit;">ます！</font></b><b><b><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></b></b><font style="vertical-align: inherit;">について読む</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja466413/index.html">Bitrixと1Cのサイト交換：主な問題の解決</a></li>
<li><a href="../ja466417/index.html">Warshipping-通常のメールで送信されるサイバー脅威</a></li>
<li><a href="../ja466419/index.html">Sitefinityで働く理由</a></li>
<li><a href="../ja466423/index.html">神秘的なLyXプログラム。パート1</a></li>
<li><a href="../ja466425/index.html">Cisco 200-125 CCNA v3.0のトレーニング。37日目。STP：ルートブリッジの選択、PortFastおよびBPDUガード機能。パート2</a></li>
<li><a href="../ja466429/index.html">Cisco 200-125 CCNA v3.0のトレーニング。39日目。スイッチシャーシのスタックと集約</a></li>
<li><a href="../ja466431/index.html">Cisco 200-125 CCNA v3.0のトレーニング。40日目。802.1X標準およびAAAプロトコルファミリ</a></li>
<li><a href="../ja466433/index.html">Cisco 200-125 CCNA v3.0のトレーニング。41日目。DHCPスヌーピングとデフォルト以外のネイティブVLAN</a></li>
<li><a href="../ja466435/index.html">Cisco 200-125 CCNA v3.0のトレーニング。42日目。VLAN間ルーティングとSVI</a></li>
<li><a href="../ja466437/index.html">Cisco 200-125 CCNA v3.0のトレーニング。43日目。ルーティングプロトコルの距離ベクトルとリンク状態</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>