<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐀 ⏩ 🎭 Werf 1.1リリース：現在のコレクターの改善と将来の計画 👸🏿 🖐🏿 👰🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="werfは、アプリケーションを構築してKubernetesに配信するためのオープンソースのGitOps CLIユーティリティです。約束どおり、v1.0のリリースは、werfに新しい機能を追加し、使い慣れたアプローチを改訂することの始まりを示しました。現在、コレクター werfの開発と将来における大き...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Werf 1.1リリース：現在のコレクターの改善と将来の計画</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/493170/"><img src="https://habrastorage.org/webt/rv/bh/ky/rvbhkysbvfjn8ykkze1srkpmsha.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、アプリケーションを構築してKubernetesに配信するためのオープンソースのGitOps CLIユーティリティです。約束どおり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">リリースは</font></a><font style="vertical-align: inherit;">、werfに新しい機能を追加し、使い慣れたアプローチを改訂することの始まりを示しました。現在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コレクター</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werfの</font><font style="vertical-align: inherit;">開発と将来における大きな一歩であるv1.1をリリースできることを嬉しく思い</font><font style="vertical-align: inherit;">ます。バージョンは現在、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャンネル1.1 eaで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用可能です</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リリースの基礎は、ステージストレージの新しいアーキテクチャと、両方のコレクター（StapelおよびDockerfileの場合）の作業の最適化です。新しいストレージアーキテクチャにより、複数のホストからの分散アセンブリと単一のホスト上の並列アセンブリを実装する可能性が広がります。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作業の最適化には、ステージの署名を計算する段階で不要な計算を取り除くことや、ファイルチェックサムを計算するメカニズムをより効率的なものに変更することが含まれます。この最適化により、werfを使用したプロジェクトの平均ビルド時間が短縮されます。また、すべてのステージが</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stages-storage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cache </font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">存在する場合、アイドルビルド</font><font style="vertical-align: inherit;">は非常に高速になりました。ほとんどの場合、アセンブリの再起動は1秒よりも速くなります。これはまた、チームの作業中にステージを検証するための手順に適用されます</font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>werf run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-また、このリリースでは、コンテンツによって画像をタグ付けするための戦略があった</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツベースのタグ付け</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、デフォルトで有効になっており、唯一の推奨一つです、。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
werf v1.1の主要なイノベーションを詳しく見て、同時に将来の計画について話しましょう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werf v1.1で何が変更されましたか？</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいステージ命名形式とキャッシュステージ選択アルゴリズム</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいステージ名生成ルール。</font><font style="vertical-align: inherit;">これで、各ステージアセンブリは一意のステージ名を生成します。これは2つの部分で構成されています。署名（v1.0と同様）と一意の一時識別子です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、ステージ画像の完全な名前は次のようになります：</font></font><br>
<br>
<code>werf-stages-storage/myproject:d2c5ad3d2c9fcd9e57b50edd9cb26c32d156165eb355318cebc3412b-1582656767835</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...または一般的な形式：</font></font><br>
<br>
<code>werf-stages-storage/PROJECT:SIGNATURE-TIMESTAMP_MILLISEC</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここ：</font></font><br>
<br>
<ul>
<li> <code>SIGNATURE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -これはステージシグネチャであり、ステージコンテンツの識別子を表し、このコンテンツにつながったGitの編集履歴に依存します。</font></font></li>
<li> <code>TIMESTAMP_MILLISEC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -これは、新しいイメージのアセンブリ時に生成されるイメージの一意の識別子が保証されています。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キャッシュからステージを選択するアルゴリズムは、Gitコミットの関係のチェックに基づいています。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ワーフはいくつかのステージのシグネチャを計算します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">段階ストレージ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、所与の署名のためにいくつかの段階が存在し得ます。</font><font style="vertical-align: inherit;">Werfは、署名に適したすべてのステージを選択します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のステージがGitの（Gitの-パッチC gitのアーカイブ、ユーザのステップ：関連付けられている場合</font></font><code>install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>beforeSetup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>setup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、又はのgit -最新パッチ）、現在の祖先であるWERF選択コミットに関連するだけのステップは、コミット（アセンブリ引き起こされます）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 残りの適切なステージの1つが選択されます-作成日で最も古いステージです。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
異なるGitブランチのステージは同じ署名を持つことができます。</font><font style="vertical-align: inherit;">しかし、署名が一致していても、werfはこれらのブランチ間の異なるブランチに関連付けられたキャッシュの使用を防ぎます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステージストレージでステージを作成および保存するための新しいアルゴリズム</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キャッシュからのステージの選択中にwerfが適切なステージを見つけられない場合、新しいステージをアセンブルするプロセスが開始されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複数のプロセス（1つ以上のホスト上）がほぼ同時に同じステージの組み立てを開始できることに注意してください。</font><font style="vertical-align: inherit;">Werfは、</font><font style="vertical-align: inherit;">新しく収集された画像が</font><i><font style="vertical-align: inherit;">stages-storageに</font></i><font style="vertical-align: inherit;">保存されるときに</font><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stages-storage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">楽観的ロックアルゴリズムを使用し</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、新しいステージのアセンブリの準備ができると、werfは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステージストレージ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">ブロックし、</font><font style="vertical-align: inherit;">そこに新しく収集された画像をそこに保存し</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます（署名およびその他のパラメーターについては、キャッシュからステージを選択するための新しいアルゴリズムを参照してください）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新たに選択された画像は、一意の識別子を持つことが保証されています</font></font><code>TIMESTAMP_MILLISEC</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（新しいステージの命名形式を参照）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">適切な画像が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stages-storage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で見つかっ</font><font style="vertical-align: inherit;">た場合</font><font style="vertical-align: inherit;">、werfは新しく収集された画像を破棄し、キャッシュの画像を使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言い換えると、イメージの収集を完了する最初のプロセス（最速）は、ステージングストレージにイメージを保存する権利を受け取ります（この特定のイメージはすべてのアセンブリに使用されます）。</font><font style="vertical-align: inherit;">遅いアセンブリプロセスは、現在のステージのアセンブリ結果を保存して次のアセンブリに移動することから、より速いプロセスを決してブロックしません。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerfileコレクターのパフォーマンスの向上</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現時点では、Dockerfileからコンパイルされたイメージのステージパイプラインは1つのステージで構成されています- </font></font><code>dockerfile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。署名を計算するとき、ファイルのチェックサムが考慮</font></font><code>context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">され、アセンブリ中に使用されます。この改善の前は、werfはすべてのファイルを再帰的に走査してチェックサムを受け取り、各ファイルのコンテキストとモードを合計していました。 v1.1以降、werfはGitリポジトリに保存されている計算済みのチェックサムを使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git ls-treeに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基づいてい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。このアルゴリズムは、エントリを考慮に入れ</font></font><code>.dockerignore</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、必要な場合にのみファイルツリーを再帰的に通過させます。したがって、ファイルシステムの読み取りは不要になり、アルゴリズムのサイズへの依存性は</font></font><code>context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要で</font><font style="vertical-align: inherit;">はあり</font><font style="vertical-align: inherit;">ません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムは、追跡されていないファイルもチェックし、必要に応じてチェックサムで考慮します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルをインポートするときのパフォーマンスの向上</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf v1.1は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アーティファクトや画像からファイルをインポートする</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ときにrsyncサーバーを使用</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">します</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以前は、ホストシステムからのディレクトリのマウントを使用して、インポートが2つのステップで実行されていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
macOSでのインポートのパフォーマンスはDockerボリュームに限定されなくなり、インポートはLinuxおよびWindowsと同時に実行されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツベースのタグ付け</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf v1.1は、画像</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によるいわゆるタグ付け- </font><i><font style="vertical-align: inherit;">コンテンツベースのタグ付けを</font></i><font style="vertical-align: inherit;">サポートしてい</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">結果のDockerイメージのタグは、これらのイメージのコンテンツによって異なります。</font><font style="vertical-align: inherit;">または</font><font style="vertical-align: inherit;">コマンド</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を実行すると、</font><font style="vertical-align: inherit;">いわゆる</font><font style="vertical-align: inherit;">イメージ</font><b><font style="vertical-align: inherit;">ステージシグネチャの</font></b><font style="vertical-align: inherit;">公開されたイメージがテストされ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">各画像には、この画像のステージの独自の署名がタグ付けされています。これは、各ステージの通常の署名と同じルールに従って個別に計算されますが、画像の一般化された識別子です。</font><font style="vertical-align: inherit;">
イメージのステージのシグネチャは次の要素によって異なります。</font></font><code>werf publish --tags-by-stages-signature</code><font style="vertical-align: inherit;"></font><code>werf ci-env --tagging-strategy=stages-signature</code><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> この画像の内容。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> このコンテンツにつながったGitの変更履歴。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gitリポジトリには常に、イメージファイルの内容を変更しないアイドルコミットがあります。たとえば、コメントのみのコミット、マージコミット、またはGitでイメージにインポートされないファイルを変更するコミット。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンテンツベースのタグ付けを使用すると、画像コンテンツが変更されていなくても、画像名の変更が原因でKubernetesのアプリケーションポッドが不必要に再起動するという問題が解決されます。ちなみに、これは、1つのアプリケーションの多数のマイクロサービスを1つのGitリポジトリに格納することが困難になる理由の1つです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、コンテンツベースのタグ付けは、Gitブランチによるタグ付けよりも信頼性の高いタグ付け方法です。これは、結果の画像のコンテンツが、CIシステムでのパイプラインの実行順序に依存せず、同じブランチの複数のコミットをアセンブルするためです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：今すぐ上から、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">段階-署名が</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ある</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">だけで、推奨タギング戦略</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これはチームでデフォルトで使用されます</font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（別のタグ付けスキームを明示的に指定しない限り）。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">→ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別の出版物もこの機能に特化します。</font></font></s> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（4月3日）：詳細が記載さ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">た記事が</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">公開されました</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロギングレベル</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーは、出力を制御し、ロギングのレベルを設定し、デバッグ情報を操作する機会があります。</font><font style="vertical-align: inherit;">追加されたオプション</font></font><code>--log-quiet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>--log-verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>--log-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、出力には最小限の情報が含まれます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/s6/6c/hhs66c1shzadu5wbrfbnhnqiio8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
詳細出力（</font></font><code>--log-verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を使用すると、</font><font style="vertical-align: inherit;">werfの動作を追跡できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e0/su/ja/e0sujatvuptepfutttg0jqsy-vg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
詳細出力（</font></font><code>--log-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）には、werfのデバッグ情報に加えて、使用されたライブラリのログも含まれます。</font><font style="vertical-align: inherit;">たとえば、Dockerレジストリとのやり取りがどのように行われるかを確認し、かなりの時間が費やされている場所を修正することもできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/ca/rs/dkcarso11r4ghi5s1lyfwkbmczo.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今後の計画</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下で説明する</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.1の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マークが付いた機能は</font><font style="vertical-align: inherit;">、このバージョンで利用できるようになります。その多くは近い将来に利用可能になります。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multiwerfを使用</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すると</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、</font></a><font style="vertical-align: inherit;">更新は</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">自動</font></a><font style="vertical-align: inherit;">更新によって行われます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これらの機能は、v1.1機能の安定した部分には影響しません。その外観は、既存の構成でユーザーが手動で操作する必要がありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さまざまなDockerレジストリ実装の完全サポート（新規）</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン：v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日付：3月</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
目標は、ユーザーがwerfを使用するときに制限なしに任意の実装を使用することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでに、完全なサポートを保証する次の一連のソリューションを特定しました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> デフォルト（ライブラリ/レジストリ）*、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AWS ECR、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Azure *、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dockerハブ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GCR *、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Githubパッケージ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GitLabレジストリ*、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 港*、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 岸壁。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アスタリスクは、werfによって現在完全にサポートされているソリューションを示します。</font><font style="vertical-align: inherit;">残りについてはサポートがありますが、制限があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主な問題は2つあります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一部のソリューションは、DockerレジストリAPIを使用したタグの削除をサポートしていないため、ユーザーはwerfに実装されている自動クリーニングを使用できません。</font><font style="vertical-align: inherit;">これは、AWS ECR、Docker Hub、GitHubパッケージに当てはまります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 一部のソリューションは、いわゆるネストされたリポジトリ（Docker Hub、GitHub PackagesおよびQuay）またはサポートをサポートしていませんが、ユーザーはUIまたはAPI（AWS ECR）を使用して手動で作成する必要があります。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソリューションのネイティブAPIを使用して、これらおよびその他の問題を解決します。</font><font style="vertical-align: inherit;">このタスクには、それぞれのテストで完全なwerfサイクルをカバーすることも含まれます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散イメージアセンブリ（↑）</font></font></h3><br>
<ul>
<li> <i>: <s>v1.2</s> v1.1 (      )</i></li>
<li> <i>: <s>-</s> </i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Issue</a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、werf v1.0とv1.1は、イメージのアセンブリと公開、およびKubernetesでのアプリケーションのデプロイのために、1つの専用ホストでのみ使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
werf分散作業の可能性を広げるために、Kubernetesでのアプリケーションのアセンブリとデプロイが複数の任意のホストで開始され、これらのホストがアセンブリ間（一時ランナー）の状態を維持しない場合、ステージリポジトリとしてDockerレジストリを使用する可能性を実装するためにwerfが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前は、werfプロジェクトがまだdappと呼ばれていたとき、そのような機会がありました。ただし、werfでこの関数を実装するときに考慮する必要がある多くの問題が発生しました。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この機能は、Kubernetesポッド内のコレクターの作業を意味するものではありません。</font><font style="vertical-align: inherit;">これを行うには、ローカルのDockerサーバーへの依存を取り除きます（Kubernetesポッドでは、ローカルのDockerサーバーにアクセスできません。これは、プロセス自体がコンテナーで実行されており、werfはネットワーク上のDockerサーバーの操作をサポートしておらず、今後もサポートしないためです）。</font><font style="vertical-align: inherit;">Kubernetesでの作業のサポートは個別に実装されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式GitHubアクションサポート（新規）</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン：v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日付：3月</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
werfのドキュメント（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リファレンス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ガイドの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクション</font><font style="vertical-align: inherit;">）、</font><font style="vertical-align: inherit;">および</font><font style="vertical-align: inherit;">werfを</font><font style="vertical-align: inherit;">操作するための公式のGitHubアクションが含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、それはwerfが一時的なランナーで作業することを可能にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CIシステムとのユーザーインタラクションの仕組みは、アプリケーションをビルド/ロールアウトするための特定のアクションを開始するプルリクエストにラベルを付けることに基づいています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werfによるローカルアプリケーションの開発と展開（↓）</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン：v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日付：</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1月〜2</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">月4月</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主な目標は、複雑なアクションなしで、ローカルと本番環境の両方でアプリケーションをデプロイするための単一の統一された構成をすぐに実現することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werfには、アプリケーションコードを編集して、動作中のアプリケーションから即座にフィードバックを受け取ってデバッグするのに便利な操作モードも必要です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいクリーニングアルゴリズム（新規）</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン：v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日付：4月</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
werf v1.1の現在のバージョンでは、この手順で</font></font><code>cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はコンテンツベースのタグ付けスキームの画像をクリーニングできません。これらの画像は蓄積されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、現在のバージョンのwerf（v1.0およびv1.1）では、タグ付けスキームによって公開されたイメージに対して、Gitブランチ、Gitタグ、またはGitコミットのさまざまなクリーニングポリシーが使用されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gitでのコミットの履歴に基づいて、すべてのタグ付けスキーム用の新しい統合イメージクリーニングアルゴリズムが発明されました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> git HEAD（ブランチとタグ）ごとに、N2個の最後のコミットに関連付けられたN1個以下のイメージを保存します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 各git HEAD（ブランチとタグ）のN2の最後のコミットに関連付けられたN1の画像ステージのみを保存します。</font></font></li>
<li>   ,    -   Kubernetes (  kube-    namespace';      ).</li>
<li>   ,      ,   Helm-.</li>
<li>    ,        HEAD  git (,     HEAD  )           Kubernetes    Helm.</li>
</ul><br>
<h3>   (↓)</h3><br>
<ul>
<li> <i>: v1.1</i></li>
<li> <i>: <s>-</s> *</i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
werfの現在のバージョンは</font></font><code>werf.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、で</font><font style="vertical-align: inherit;">説明されているイメージとアーティファクトを</font><font style="vertical-align: inherit;">順次</font><font style="vertical-align: inherit;">収集します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">画像とアーチファクトの独立した段階を組み立てるプロセスを並列化し、便利で有益な結論を提供する必要があります。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*注：分散型アセンブリの実装の優先度が高くなり、水平方向のスケーリングの機能が追加され、GitHubアクションでwerfが使用されるため、期限がずれています。</font><font style="vertical-align: inherit;">並列アセンブリは次の最適化ステップであり、単一のプロジェクトを組み立てるときに垂直方向のスケーラビリティを提供します。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helm 3に切り替え（↓）</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン：v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日付：</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2月〜3</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">月5月*</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これには、新しい</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helm 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードベース</font><font style="vertical-align: inherit;">への移行と、既存のインストールを移行するための実績のある便利な方法が含まれます。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*注：Helm 3への切り替えは、werfに重要な機能を追加しません。これは、Helm 3のすべての主要機能（3ウェイマージおよびティラーの欠如）がすでにwerfに実装されているためです。</font><font style="vertical-align: inherit;">さらに、werfには、</font><font style="vertical-align: inherit;">示された</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以外に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">追加の機能が</font></a><font style="vertical-align: inherit;">あります。</font><font style="vertical-align: inherit;">ただし、この移行は計画に残っており、実装されます。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jsonnet for Kubernetes構成の説明（↓）</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン：v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日付：</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1月〜2</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">月、4月〜5月</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werfは、Jsonnet形式のKubernetesの構成記述をサポートします。</font><font style="vertical-align: inherit;">同時に、werfはHelmとの互換性を維持し、記述形式を選択することができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その理由は、多くの人々によると、Go言語パターンには大きなエントリしきい値があり、これらのパターンのコード明瞭度も低下するという事実です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes構成記述システム（Kustomizeなど）を実装するための他のオプションも検討されています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes内での作業（↓）</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン：v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日付：</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4月〜5月、5</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">月〜6月</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
目的：Kubernetesのランナーを使用して、イメージのアセンブリとアプリケーション配信を確実にすること。</font><font style="vertical-align: inherit;">それら。</font><font style="vertical-align: inherit;">新しいイメージのアセンブリ、その公開、クリーニング、デプロイは、Kubernetesポッドから直接行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この機能を実現するには、最初にイメージを分散ビルドする機能が必要です</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（上記の段落を参照）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、Dockerサーバーを使用しないビルドの操作モード（つまり、Kanikoに似たビルドまたはユーザースペースでのビルド）のサポートも必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werfは、Dockerfileだけでなく、インクリメンタルな再ビルドとAnsibleを備えたStapelビルダーでもKubernetesでのアセンブリをサポートします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オープンソース開発に向けた一歩</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはコミュニティ（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を愛して</font><font style="vertical-align: inherit;">おり、より多くの人々がwerfをより良くし、私たちが進んでいる方向を理解し、開発に参加するのを手伝ってほしいと思っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ごく最近、</font><font style="vertical-align: inherit;">私たちのチームのワークフローを開くために、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubプロジェクトボード</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">切り替えることが決定さ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">れました</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これで、現在の計画と、次の分野で進行中の作業を確認できます。</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメンテーションとサイト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バグと悪いUX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの作業が問題で行われました：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 関係のないものを削除しました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 既存のものは単一の形式、十分な数の詳細と詳細に削減されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> アイデアと提案に関する新しい問題を追加しました。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョンv1.1を有効にする方法</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バージョンが現在利用可能である</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャネル1.1 EA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">リリース</font><font style="vertical-align: inherit;">で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安定</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">かつ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堅実な</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャネルは</font><font style="vertical-align: inherit;">、それらが安定化として表示されますが、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EA</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が通過したとして、それ自体が、既に使用のための安定した十分である</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルファ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">及び</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベータ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャンネル</font><font style="vertical-align: inherit;">）。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multiwerfを介して</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のように</font><font style="vertical-align: inherit;">アクティブ化さ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">れ</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">source</span> $(multiwerf use 1.1 ea)<font></font>
werf COMMAND ...</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
StapelおよびDockerfileコレクターの新しいステージストアアーキテクチャと最適化されたコレクターパフォーマンスにより、werfに分散および並列アセンブリを実装する可能性が広がります。これらの機能はまもなく同じリリースv1.1に登場し、自動更新メカニズム（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multiwerf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー向け</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を通じて自動的に利用可能になります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このリリースでは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツベースのタグ付け</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">戦略が追加され</font><font style="vertical-align: inherit;">、これがデフォルトの戦略になりました。ログは、基本的なコマンドを再設計されました：</font></font><code>werf build</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>werf dismiss</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>werf cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の重要なステップは、分散アセンブリを追加することです。</font><font style="vertical-align: inherit;">v1.0以降の分散アセンブリは、より多くのwerf値を追加するため、並列アセンブリよりも優先度が高くなっています。コレクタの垂直スケーリングと、さまざまなCI / CDシステムでの一時的なコレクタのサポート、およびGitHubアクションを公式にサポートする機能です。</font><font style="vertical-align: inherit;">したがって、並列アセンブリの実装のタイミングがずれています。</font><font style="vertical-align: inherit;">しかし、私たちは両方の可能性を迅速に実現するために取り組んでいます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ニュースに従ってください！</font><font style="vertical-align: inherit;">そして、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubに立ち寄っ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て問題を作成し、既存の問題を見つけてプラスを付け、PRを作成するか、プロジェクトの開発を監視することを</font><font style="vertical-align: inherit;">忘れないでください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのブログも読んでください：</font></font><br>
<br>
<ul>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> werf 1.0 stable:    GitOps,   </a>»</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">werf —    CI/CD  Kubernetes (   )</a>»;</li>
<li>      werf:<br>
<ul>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">3-way merge  werf:   Kubernetes  Helm „ “</a>»;</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> werf    Helm-</a>»;</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> monorepo  multirepo  werf     Docker Registry</a>»;</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> Docker-  werf      Dockerfile</a>».</li>
</ul></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja493160/index.html">2019年にhh.ruでスマート検索を改善した方法：インフォグラフィック</a></li>
<li><a href="../ja493162/index.html">オンライン会議と会議の公開リスト</a></li>
<li><a href="../ja493164/index.html">オンラインビジネスは現在の環境で生き残っていることがわかります。どうして？削除されたDNA</a></li>
<li><a href="../ja493166/index.html">Ontol：「バーンアウト」に関する記事の選択[100+]</a></li>
<li><a href="../ja493168/index.html">Pipipax計算機</a></li>
<li><a href="../ja493172/index.html">大きい、悪い、またはゲームループが重要な理由</a></li>
<li><a href="../ja493178/index.html">ソフトウェアはすべて素晴らしいですが、誰もが不幸です</a></li>
<li><a href="../ja493184/index.html">エレクトロニクスの受託開発。プロジェクト計算</a></li>
<li><a href="../ja493186/index.html">Habré[170+]の開発者向けの最高の自動車関連記事</a></li>
<li><a href="../ja493190/index.html">ニューラルネットワークアートのギャラリーを作成した方法と、コピーする画像を提供しない理由</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>