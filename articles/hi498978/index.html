<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯС╣ ЁЯСйтАНЁЯСзтАНЁЯСз ЁЯСйЁЯП╜тАНЁЯдЭтАНЁЯСиЁЯП┐ C # рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рд╕реЗ рд▓реЙрдЧ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЧреНрд░реЗрд▓реЙрдЧ рдФрд░ NLog рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ред рдирд┐рдЬреА рдЕрдиреБрднрд╡ ЁЯСйЁЯП╜тАНтЪЦя╕П ЁЯеЮ ЁЯИ┤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="KDPV
 
 Habr, рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! 
 
 рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рдПрдХ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдпрд╛ рд╕рд░реНрд╡реЛрддреНрддрдо рдЕрднреНрдпрд╛рд╕ рдирд╣реАрдВ рд╣реИ ред рдореИрдВрдиреЗ рдХреЗрд╡рд▓ рдкреНрд░рд╢реНрди рдореЗрдВ рдЕрдкрдиреА рдЙрдкрд▓рдмреНрдзрд┐рдпреЛрдВ рдХреЛ рдПрдХрддреНрд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>C # рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рд╕реЗ рд▓реЙрдЧ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЧреНрд░реЗрд▓реЙрдЧ рдФрд░ NLog рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ред рдирд┐рдЬреА рдЕрдиреБрднрд╡</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498978/"><img src="https://habrastorage.org/webt/_y/ee/iu/_yeeiuyxudo9su5z6rjaloimftg.jpeg"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDPV</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Habr, рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рдПрдХ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╛ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд░реНрд╡реЛрддреНрддрдо рдЕрднреНрдпрд╛рд╕ рдирд╣реАрдВ рд╣реИ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдореИрдВрдиреЗ рдХреЗрд╡рд▓ рдкреНрд░рд╢реНрди рдореЗрдВ рдЕрдкрдиреА рдЙрдкрд▓рдмреНрдзрд┐рдпреЛрдВ рдХреЛ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдФрд░ рджрд╕реНрддрд╛рд╡реЗрдЬ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдЗрд╕ рд▓реЗрдЦ рдХреА рд╕рд╛рдордЧреНрд░реА </font><font style="vertical-align: inherit;">рдХреБрдЫ рдирдпрд╛ рд╕реАрдЦрдиреЗ рдпрд╛ рдХреБрдЫ рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рдХреЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд┐рдП рд▓реЙрдЧрд┐рдВрдЧ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рдЬрд╛рдирдХрд╛рд░реА рдорд╛рдВрдЧрдиреЗ рд╡рд╛рд▓реЛрдВ рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдЧреА </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдФрд░, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдореБрдЭреЗ рд╕рдореБрджрд╛рдп рд╕реЗ рд░рдЪрдирд╛рддреНрдордХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдорд┐рд▓рдиреЗ рдХреА рдЙрдореНрдореАрдж рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рдХреБрдЫ рдмреЗрд╣рддрд░ рдХрд░рдиреЗ рдХрд╛ рдореМрдХрд╛ рджреЗрддрд╛ рд╣реИред</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐рд╕ рд▓рд┐рдП? </font><font style="vertical-align: inherit;">рдХрд┐рд╕рдХреЗ рд▓рд┐рдП?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рдпрд╣ рдмрддрд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реВрдВрдЧрд╛ рдХрд┐ рд▓реЙрдЧрд┐рдВрдЧ рдореЗрд░реЗ рдЕрдкрдиреЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ рдХреНрдпрд╛ рд╣реИ:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЛрдб рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди рдПрдХ рд╕рдХрд╛рд░рд╛рддреНрдордХ рдпрд╛ рдирдХрд╛рд░рд╛рддреНрдордХ рдШрдЯрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдорд╛рдирд╡-рдкрдардиреАрдп рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рд╣реЗрдЬрдирд╛, рд╕рдВрднрд╡рддрдГ рдШрдЯрдирд╛ рдХреЗ рд╕рдордп рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рднрд╛рдЧ рдХреЗ рд░реВрдк рдореЗрдВ рдЧреБрдгрд╛рддреНрдордХ рдпрд╛ рдорд╛рддреНрд░рд╛рддреНрдордХ рд╕рдВрдХреЗрддрдХреЛрдВ рдФрд░ рдбреЗрдЯрд╛ рдХреЗ рд╕рдВрд░рдХреНрд╖рдг рдХреЗ рд╕рд╛рдеред</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдЬрдЯрд┐рд▓ рд╕реВрддреНрд░реАрдХрд░рдг рд╕рд╛рдордиреЗ рдЖрдпрд╛, рд▓реЗрдХрд┐рди рд╕рд╛рдорд╛рдиреНрдп рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд▓реЙрдЧ рдмрдирд╛рдиреЗ рдФрд░ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рдХрд╛рд░реНрдп рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЙрдЪреНрдЪ-рдЧреБрдгрд╡рддреНрддрд╛ рд╡рд╛рд▓реЗ рд▓реЙрдЧрд┐рдВрдЧ рд╕реЗ рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдЕрдкрдиреЗ рдЬреАрд╡рди рдХреЗ рдХрд┐рд╕реА рднреА рдЪрд░рдг рдореЗрдВ рдХреЛрдб рдХреА рдЖрдВрддрд░рд┐рдХ рд╕реНрдерд┐рддрд┐ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓рддреА рд╣реИ: рдбрд┐рдмрдЧ рд╕реЗ рд▓реЗрдХрд░ рдЙрдкрднреЛрдХреНрддрд╛ рдХреЗ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ рдЕрдЬреНрдЮрд╛рдд рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╕реНрдерд╛рдкрдирд╛ рддрдХред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЦреИрд░, рдЖрдЗрдП рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ рдХрд┐ рдореИрдВ рдХреИрд╕реЗ рд▓реЙрдЧ рд▓рд┐рдЦрддрд╛ рд╣реВрдВред</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдХрд░рдг</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрдЯрд╛рдмреЗрд╕ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ," " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рд╣реЗрдЬрдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " рдФрд░ рдЗрд╕ рддрд░рд╣ рдХреЗ </font><font style="vertical-align: inherit;">рд░реВрдк рдореЗрдВ рдХрдо-рдЬрд╛рдирдХрд╛рд░реАрдкреВрд░реНрдг рдкрд╛рда рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд╡рд┐рдЪрд╛рд░ рдХреЛ рдЫреЛрдбрд╝ рджреЗрддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВред рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓реЙрдЧ рдмрдирд╛рдирд╛ рдЖрд╕рд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдХреЛрдб рдпрд╛ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдХреЗ рд╕рд╛рд░ рдФрд░ рд╕реНрд░реЛрддреЛрдВ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рд╡реЗ рдЕрдХреНрд╕рд░ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред рдХреБрдЫ рдмрд┐рдВрджреБ рдкрд░, рд╣рд░ рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдХреЗрд╡рд▓ рд╕рдВрд░рдЪрд┐рдд рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдЖрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдЬреИрд╕рд╛ рдХрд┐ рдореЗрд░реЗ рдЕрдЪреНрдЫреЗ рджреЛрд╕реНрдд рдФрд░ рдЖрдИрдЯреА рдЧреБрд░реБ рдиреЗ рдореБрдЭрд╕реЗ рдХрд╣рд╛ рдерд╛: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдм рдХреБрдЫ рдЗрдХрдЯреНрдард╛ рдХрд░реЛ, рдлрд┐рд░ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдХреЛ рдмрд╛рд╣рд░ рдХрд░реЛ ...</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " рд╡рд┐рд╢рд┐рд╖реНрдЯ рд░реВрдкрд░реЗрдЦрд╛ рд╣рдореЗрдВ рдЗрд╕рдореЗрдВ рдорджрдж рдХрд░реЗрдЧреАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдирдореЗрдВ рд╕реЗ рдХрд╛рдлреА рд╣реИрдВред рдЙрдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдореЗрдВ рд╕рдорд╛рди рдХреНрд╖рдорддрд╛рдПрдВ рдФрд░ рд╕реАрдорд╛рдПрдВ рд╣реИрдВред рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рд▓реЗрдЦ рдФрд░ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рд╕рдореАрдХреНрд╖рд╛рдПрдВ</font></a><font style="vertical-align: inherit;"> рд▓рд┐рдЦреА рдЧрдИ рд╣реИрдВред</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рддреБрд▓рдирд╛ рдФрд░ рдореИрдиреБрдЕрд▓ред </font><font style="vertical-align: inherit;">C # рдореЗрдВ рд▓рд┐рдЦреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореИрдВрдиреЗ рдПрдХ рдмрд╛рд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NLog рдХреЛ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЪреБрдирд╛ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЕрдм рдореБрдЭреЗ рдпрд╣ рдпрд╛рдж рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╡рд╣ рдХреНрдпреЛрдВ рдерд╛, рд▓реЗрдХрд┐рди рдРрд╕рд╛ рд╣реА рд╣реБрдЖред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдореЗрдВ рдмрд╣реБрдд рдЕрдЪреНрдЫреЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рд▓реЗрдЦрди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ рдмреЗрд╣рдж рдЙрдкрдпреЛрдЧреА </font><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ рдХреЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╛рдорд▓реЗ рд╣реИрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдордп рдкрд░ рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЛрдВ рд╕реЗ NLog рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдХреБрдЫ рдмрд┐рдВрджреБ рдкрд░ рдПрдХ рдХреЛрдб рдХрд╛ рдЬрдиреНрдо рд╣реБрдЖ рдЬреЛ рдЕрдм рдПрдХ рд╕реНрдирд┐рдкреЗрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рдирд╣реАрдВ рдмрджрд▓рддрд╛ рд╣реИред</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</font></font></h4><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡реНрдпрд╛рдкрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП! </font><font style="vertical-align: inherit;">рдХреЛрдб рджрд┐рдЦрд╛рдПрдВ:</font></font></b>
                        <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> System.Diagnostics;
<span class="hljs-keyword">using</span> System.IO;
<span class="hljs-keyword">using</span> System.Linq;
<span class="hljs-keyword">using</span> System.Reflection;
<span class="hljs-keyword">using</span> System.Runtime.InteropServices;
<span class="hljs-keyword">using</span> System.Text;
<span class="hljs-keyword">using</span> Newtonsoft.Json;
<span class="hljs-keyword">using</span> NLog;
<span class="hljs-keyword">using</span> NLog.Config;
<span class="hljs-keyword">using</span> NLog.Layouts;
<span class="hljs-keyword">using</span> NLog.Targets;
<span class="hljs-keyword">using</span> NLog.Targets.GraylogHttp;
<span class="hljs-keyword">using</span> NLog.Targets.Wrappers;<font></font>
<font></font>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">BIMLIB.Converter</span><font></font>
{<font></font>
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BimlibLogger</span><font></font>
	{<font></font>
		<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> ApplicationSettings _settings = BimlibSettingsManager.Instance.AppSettings;
		<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Lazy&lt;LogFactory&gt; _instance = <span class="hljs-literal">null</span>;
		<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> LoggingConfiguration _logConfig = <span class="hljs-literal">null</span>;<font></font>
<font></font>
		<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Lazy&lt;LogFactory&gt; Instance<font></font>
		{<font></font>
			<span class="hljs-keyword">get</span><font></font>
			{<font></font>
				<span class="hljs-keyword">return</span> _instance ?? (_instance = <span class="hljs-keyword">new</span> Lazy&lt;LogFactory&gt;(BuildLogFactory));<font></font>
			}<font></font>
		}<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Logger <span class="hljs-title">GetLogger</span>(<span class="hljs-params"></span>)</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> Instance.Value.GetCurrentClassLogger();<font></font>
		}<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> LogFactory <span class="hljs-title">BuildLogFactory</span>(<span class="hljs-params"></span>)</span><font></font>
		{<font></font>
			LoggingConfiguration config = _logConfig ?? <span class="hljs-keyword">new</span> LoggingConfiguration();
			<span class="hljs-comment">//     .   .</span>
			<span class="hljs-keyword">string</span> headerStr = _settings.LogHeader;
			<span class="hljs-comment">//    .       - , : https://github.com/drewnoakes/figgle</span><font></font>
			Layout header = headerStr;<font></font>
<font></font>
			<span class="hljs-comment">//      : https://nlog-project.org/config/?tab=layout-renderers</span>
			<span class="hljs-comment">//     :</span>
			<span class="hljs-comment">// -   : 2020-04-24 19:13:51.1620 [BIMLIB.Converter.MainClass.Main] -&gt; I : Service starting...</span>
			<span class="hljs-comment">// -  : 2020-04-22 09:55:33.1132 [BIMLIB.Converter.Converter.ClearFile] -&gt; E : mscorlib</span>
			<span class="hljs-comment">//{</span>
			<span class="hljs-comment">//	"Type":"System.IO.FileNotFoundException", "Message":" 'D:\\path\\to\\file\\file_name.ifc'  .", "FileName":"D:\\path\\to\\file\\file_name.ifc", "Data":{</span>
			<span class="hljs-comment">//	}, "TargetSite":"Void WinIOError(Int32, System.String)", "StackTrace":"    System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)\r\n    System.IO.FileInfo.get_Length()\r\n    BIMLIB.Converter.Converter.ClearFile(String path)", "Source":"mscorlib", "HResult":-2147024894}</span><font></font>
<font></font>
			Layout layout = <span class="hljs-string">"${longdate} [${callsite:className=true:includeNamespace=true:fileName=false:includeSourcePath=false:methodName=true:cleanNamesOfAnonymousDelegates=true:cleanNamesOfAsyncContinuations=true}] -&gt; ${level:format=FirstCharacter} : ${message}${onexception:inner=${newline}${exception:format=@}}"</span>;<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> Targets ----------------------------</span><font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> FileTarget ----------------------------</span><font></font>
<font></font>
			Target fileTarget = FileTarget(header, layout).MakeAsyncTarget();<font></font>
			config.AddTarget(fileTarget);<font></font>
			config.AddRuleForAllLevels(fileTarget);<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> ConsoleTarget ----------------------------</span><font></font>
<font></font>
			Target consoleTarget = ConsoleTarget(header, layout).MakeAsyncTarget();<font></font>
			config.AddTarget(consoleTarget);<font></font>
			config.AddRuleForAllLevels(consoleTarget);<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> DebuggerTarget ----------------------------</span><font></font>
<font></font>
			Target debugTarget = DebuggerTarget(header, layout).MakeAsyncTarget();<font></font>
			config.AddTarget(debugTarget);<font></font>
			config.AddRuleForAllLevels(debugTarget);<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> GelfTarget ----------------------------</span><font></font>
<font></font>
			<span class="hljs-comment">//       Graylog  ,    </span>
			<span class="hljs-keyword">if</span> (_settings.Statistics)<font></font>
			{<font></font>
				Target gelfTarget = GelfTarget(headerStr).MakeAsyncTarget();<font></font>
				config.AddTarget(gelfTarget);<font></font>
				config.AddRuleForAllLevels(gelfTarget);<font></font>
			}<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			LogFactory logFactory = <span class="hljs-keyword">new</span> LogFactory<font></font>
			{<font></font>
				Configuration = config<font></font>
			};<font></font>
<font></font>
			<span class="hljs-keyword">try</span><font></font>
			{<font></font>
				<span class="hljs-comment">// ,           </span><font></font>
				config.LoggingRules.ToList().ForEach(r =&gt; r.SetLoggingLevels(LogLevel.AllLevels.Min(), LogLevel.AllLevels.Max()));<font></font>
<font></font>
				_logConfig = config;<font></font>
			}<font></font>
			<span class="hljs-keyword">catch</span> (Exception ex)<font></font>
			{<font></font>
				<span class="hljs-comment">//  ,        </span><font></font>
				Debug.Write(ex);<font></font>
			}<font></font>
<font></font>
			<span class="hljs-keyword">return</span> logFactory;<font></font>
		}<font></font>
<font></font>
		<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> Target Methods</span><font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> FileTarget <span class="hljs-title">FileTarget</span>(<span class="hljs-params">Layout header, Layout layout</span>)</span><font></font>
		{<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> FileTarget ----------------------------</span><font></font>
<font></font>
			FileTarget fileTarget = <span class="hljs-keyword">new</span> FileTarget(<span class="hljs-string">"log_file_target"</span>)<font></font>
			{<font></font>
				ArchiveAboveSize = <span class="hljs-number">1048576</span>,<font></font>
				ArchiveDateFormat = <span class="hljs-string">"yyyy.MM.dd_HH.mm.ss"</span>,<font></font>
				ArchiveEvery = FileArchivePeriod.Day,<font></font>
				ArchiveFileName = GetApplicationLogAndArchivePath(<span class="hljs-literal">false</span>),<font></font>
				ArchiveNumbering = ArchiveNumberingMode.Date,<font></font>
				ArchiveOldFileOnStartup = <span class="hljs-literal">false</span>,<font></font>
				AutoFlush = <span class="hljs-literal">true</span>,<font></font>
				ConcurrentWrites = <span class="hljs-literal">true</span>,<font></font>
				DeleteOldFileOnStartup = <span class="hljs-literal">false</span>,<font></font>
				EnableArchiveFileCompression = <span class="hljs-literal">true</span>,<font></font>
				EnableFileDelete = <span class="hljs-literal">true</span>,<font></font>
				Encoding = Encoding.UTF8,<font></font>
				FileName = GetApplicationLogAndArchivePath(<span class="hljs-literal">true</span>),<font></font>
				Header = header,<font></font>
				Layout = layout,<font></font>
				MaxArchiveFiles = <span class="hljs-number">100</span>,<font></font>
				OpenFileCacheTimeout = <span class="hljs-number">30</span>,<font></font>
				OpenFileFlushTimeout = <span class="hljs-number">30</span>,<font></font>
				OptimizeBufferReuse = <span class="hljs-literal">true</span><font></font>
			};<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			<span class="hljs-keyword">return</span> fileTarget;<font></font>
		}<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ColoredConsoleTarget <span class="hljs-title">ConsoleTarget</span>(<span class="hljs-params">Layout header, Layout layout</span>)</span><font></font>
		{<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> ConsoleTarget ----------------------------</span><font></font>
<font></font>
			ColoredConsoleTarget consoleTarget = <span class="hljs-keyword">new</span> ColoredConsoleTarget(<span class="hljs-string">"log_console_target"</span>)<font></font>
			{<font></font>
				Encoding = Encoding.UTF8,<font></font>
				EnableAnsiOutput = <span class="hljs-literal">false</span>,<font></font>
<font></font>
				UseDefaultRowHighlightingRules = <span class="hljs-literal">true</span>,<font></font>
<font></font>
				Layout = layout,<font></font>
				Header = header<font></font>
			};<font></font>
<font></font>
			ConsoleWordHighlightingRule dateHighLightRule = <span class="hljs-keyword">new</span> ConsoleWordHighlightingRule<font></font>
			{<font></font>
				Regex = <span class="hljs-string">@"^(?=\d).+(?=\s\[)"</span>,<font></font>
				ForegroundColor = ConsoleOutputColor.Yellow<font></font>
			};<font></font>
<font></font>
			ConsoleWordHighlightingRule methodsHighLightRule = <span class="hljs-keyword">new</span> ConsoleWordHighlightingRule<font></font>
			{<font></font>
				Regex = <span class="hljs-string">@"(?&lt;=\[).+(?=\])"</span>,<font></font>
				ForegroundColor = ConsoleOutputColor.Blue<font></font>
			};<font></font>
<font></font>
			ConsoleWordHighlightingRule levelHighLightRule = <span class="hljs-keyword">new</span> ConsoleWordHighlightingRule<font></font>
			{<font></font>
				Regex = <span class="hljs-string">@"(?&lt;=&gt;).+(?=\s:)"</span>,<font></font>
				ForegroundColor = ConsoleOutputColor.Red<font></font>
			};<font></font>
<font></font>
			ConsoleWordHighlightingRule messageHighLightRule = <span class="hljs-keyword">new</span> ConsoleWordHighlightingRule<font></font>
			{<font></font>
				Regex = <span class="hljs-string">@"(?&lt;=\s:\s).+"</span>,<font></font>
				ForegroundColor = ConsoleOutputColor.Green<font></font>
			};<font></font>
<font></font>
			consoleTarget.WordHighlightingRules.Add(dateHighLightRule);<font></font>
			consoleTarget.WordHighlightingRules.Add(methodsHighLightRule);<font></font>
			consoleTarget.WordHighlightingRules.Add(levelHighLightRule);<font></font>
			consoleTarget.WordHighlightingRules.Add(messageHighLightRule);<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			<span class="hljs-keyword">return</span> consoleTarget;<font></font>
		}<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> DebuggerTarget <span class="hljs-title">DebuggerTarget</span>(<span class="hljs-params">Layout header, Layout layout</span>)</span><font></font>
		{<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> DebuggerTarget ----------------------------</span><font></font>
<font></font>
			DebuggerTarget debugTarget = <span class="hljs-keyword">new</span> DebuggerTarget(<span class="hljs-string">"log_debug_target"</span>)<font></font>
			{<font></font>
				Layout = layout,<font></font>
				Header = header<font></font>
			};<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			<span class="hljs-keyword">return</span> debugTarget;<font></font>
		}<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> GraylogHttpTarget <span class="hljs-title">GelfTarget</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> header</span>)</span><font></font>
		{<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> GelfTarget ----------------------------</span><font></font>
<font></font>
			Layout gelfCommonLayout = <span class="hljs-string">"${message}"</span>;<font></font>
<font></font>
			IList&lt;TargetPropertyWithContext&gt; gelfParameterInfos =<font></font>
				<span class="hljs-keyword">new</span> List&lt;TargetPropertyWithContext&gt;()<font></font>
				{<font></font>
					<span class="hljs-comment">//     : https://nlog-project.org/config/?tab=layout-renderers</span>
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"appdomain"</span>, Layout = <span class="hljs-string">"${appdomain}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"assembly-version"</span>, Layout = <span class="hljs-string">"${assembly-version}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"activityid"</span>, Layout = <span class="hljs-string">"${activityid}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"callsite"</span>, Layout = <span class="hljs-string">"${callsite}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"callsite-linenumber"</span>, Layout = <span class="hljs-string">"${callsite-linenumber}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"environment-user"</span>, Layout = <span class="hljs-string">"${environment-user:userName=true:domain=true}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"exeption_json_data"</span>, Layout = <span class="hljs-string">"${onexception:inner=${exception:format=@}}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"frameWorkInfo"</span>, Layout = <span class="hljs-string">$"<span class="hljs-subst">{RuntimeInformation.FrameworkDescription}</span> (<span class="hljs-subst">{RuntimeInformation.ProcessArchitecture}</span>)"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"guid"</span>, Layout = <span class="hljs-string">"${guid:format=N}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"hostname"</span>, Layout = <span class="hljs-string">"${hostname}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"identity"</span>, Layout = <span class="hljs-string">"${identity:authType=true:separator=\n:name=true:isAuthenticated=true}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"level_name"</span>, Layout = <span class="hljs-string">"${level:format=Name}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"local-ip"</span>, Layout = <span class="hljs-string">"${local-ip:addressFamily=InterNetwork}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"logger"</span>, Layout = <span class="hljs-string">"${logger:shortName=false}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"machinename"</span>, Layout = <span class="hljs-string">"${machinename}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"osInfo"</span>, Layout = <span class="hljs-string">$"<span class="hljs-subst">{RuntimeInformation.OSDescription}</span> (<span class="hljs-subst">{RuntimeInformation.OSArchitecture}</span>)"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"processid"</span>, Layout = <span class="hljs-string">"${processid}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"processinfo_MainWindowHandle"</span>, Layout = <span class="hljs-string">"${processinfo:property=MainWindowHandle}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"processinfo_PagedMemorySize"</span>, Layout = <span class="hljs-string">"${processinfo:property=PagedMemorySize}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"processname"</span>, Layout = <span class="hljs-string">"${processname:fullName=true}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"processtime"</span>, Layout = <span class="hljs-string">"${processtime:invariant=false}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"sequenceid"</span>, Layout = <span class="hljs-string">"${sequenceid}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"stacktrace"</span>, Layout = <span class="hljs-string">"${stacktrace:format=Raw:topFrames=3:skipFrames=0:separator=
}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"threadid"</span>, Layout = <span class="hljs-string">"${threadid}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"threadname"</span>, Layout = <span class="hljs-string">"${threadname}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"timestamp"</span>, Layout = <span class="hljs-string">$"<span class="hljs-subst">{DateTimeOffset.UtcNow.ToUnixTimeMilliseconds()}</span>"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"timestamp_local"</span>, Layout = <span class="hljs-string">@"${date:universalTime=false:format=yyyy-MM-dd HH\:mm\:ss zzz}"</span> },
					<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"windows-identity"</span>, Layout = <span class="hljs-string">"${windows-identity:userName=true:domain=true}"</span> }<font></font>
				};<font></font>
<font></font>
			GraylogHttpTarget gelfUdpTarget = <span class="hljs-keyword">new</span> GraylogHttpTarget<font></font>
			{<font></font>
				AddNLogLevelName = <span class="hljs-literal">true</span>,<font></font>
				Facility = header,<font></font>
				GraylogServer = _settings.LogServerAddress,<font></font>
				IncludeCallSite = <span class="hljs-literal">true</span>,<font></font>
				IncludeCallSiteStackTrace = <span class="hljs-literal">true</span>,<font></font>
				IncludeEventProperties = <span class="hljs-literal">true</span>,<font></font>
				Layout = gelfCommonLayout,<font></font>
				Name = <span class="hljs-string">"GelfHttp"</span>,<font></font>
				OptimizeBufferReuse = <span class="hljs-literal">true</span><font></font>
			};<font></font>
<font></font>
			<span class="hljs-keyword">foreach</span> (TargetPropertyWithContext gelfParameterInfo <span class="hljs-keyword">in</span> gelfParameterInfos)<font></font>
			{<font></font>
				gelfUdpTarget.ContextProperties.Add(gelfParameterInfo);<font></font>
			}<font></font>
<font></font>
			<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
			<span class="hljs-keyword">return</span> gelfUdpTarget;<font></font>
		}<font></font>
<font></font>
		<span class="hljs-comment">//   https://github.com/nlog/NLog/wiki/AsyncWrapper-target    </span>
		<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Target <span class="hljs-title">MakeAsyncTarget</span>(<span class="hljs-params"><span class="hljs-keyword">this</span> Target targ</span>)</span><font></font>
		{<font></font>
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> AsyncTargetWrapper<font></font>
			{<font></font>
				BatchSize = <span class="hljs-number">100</span>,<font></font>
				ForceLockingQueue = <span class="hljs-literal">true</span>,<font></font>
				FullBatchSizeWriteLimit = <span class="hljs-number">5</span>,<font></font>
				Name = targ.Name,<font></font>
				OptimizeBufferReuse = <span class="hljs-literal">true</span>,<font></font>
				OverflowAction = AsyncTargetWrapperOverflowAction.Grow,<font></font>
				QueueLimit = <span class="hljs-number">10000</span>,<font></font>
				TimeToSleepBetweenBatches = <span class="hljs-number">1</span>,<font></font>
				WrappedTarget = targ<font></font>
			};<font></font>
		}<font></font>
<font></font>
		<span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span><font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GetApplicationLogAndArchivePath</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> isLog</span>)</span><font></font>
		{<font></font>
			<span class="hljs-keyword">string</span> addition;<font></font>
<font></font>
			<span class="hljs-keyword">if</span> (!isLog)<font></font>
			{<font></font>
				addition = <span class="hljs-string">".{#}.zip"</span>;<font></font>
			}<font></font>
			<span class="hljs-keyword">else</span><font></font>
			{<font></font>
				addition = <span class="hljs-string">".log"</span>;<font></font>
			}<font></font>
<font></font>
			<span class="hljs-keyword">try</span><font></font>
			{<font></font>
				<span class="hljs-keyword">if</span> (!Directory.Exists(_settings.LogsFolder))<font></font>
				{<font></font>
					Directory.CreateDirectory(_settings.LogsFolder);<font></font>
				}<font></font>
<font></font>
				<span class="hljs-keyword">return</span> Path.Combine(_settings.LogsFolder, _settings.ProductName + addition);<font></font>
			}<font></font>
			<span class="hljs-keyword">catch</span> (Exception ex)<font></font>
			{<font></font>
				Debug.Write(ex);<font></font>
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">string</span>.Empty;<font></font>
			}<font></font>
		}<font></font>
}<font></font>
</code></pre></div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ рдЙрджрд╛рд╣рд░рдг:</font></font></b>
                        <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">using</span> NLog;<font></font>
...<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Downloader</span><font></font>
	{<font></font>
		...<font></font>
		<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Logger log = BimlibLogger.GetLogger();<font></font>
		...<font></font>
		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">string</span> <span class="hljs-title">GetFileToConvert</span>(<span class="hljs-params">ConverterRequest.Inputitem inputItem</span>)</span><font></font>
		{<font></font>
			...<font></font>
			<span class="hljs-keyword">try</span><font></font>
			{<font></font>
				...<font></font>
				log.Debug(<span class="hljs-string">$"Downloaded file: <span class="hljs-subst">{downloadedFile}</span>, size: <span class="hljs-subst">{new FileInfo(downloadedFile).Length / <span class="hljs-number">1e6</span>}</span>Mb"</span>);<font></font>
			}<font></font>
			<span class="hljs-keyword">catch</span> (Exception ex)<font></font>
			{<font></font>
				log.Error(ex, ex.Source);<font></font>
				<span class="hljs-keyword">return</span> ...;<font></font>
			}<font></font>
		}<font></font>
	}<font></font>
</code></pre></div>
                    </div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреБрдЫ рд╡рд┐рд╡рд░рдг</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдирдВрдЧреЗ рдХреЛрдб, рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдореИрдВ рдХрдИ рд╕рдореНрдореЗрд▓рдиреЛрдВ рдФрд░ рдорд╛рдиреНрдпрддрд╛рдУрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реВрдВрдЧрд╛:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_settings</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреА рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╡рд╕реНрддреБред </font><font style="vertical-align: inherit;">рдпрд╣ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреИрд╕реЗ рдмрдирддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд▓рдХрдбрд╝рд╣рд╛рд░реЗ рдХреА рдкрд╣рд▓реА рдЖрд░рдВрднреАрдХрд░рдг рд╕реЗ рдкрд╣рд▓реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_logConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - NLog рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди, рдПрдХ рдЕрд▓рдЧ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NLog.config</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдирд╣реАрдВ </font><font style="vertical-align: inherit;">, рдмрд▓реНрдХрд┐ рд╕реАрдзреЗ рдХреЛрдб рдореЗрдВред</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рд▓реЗрдЦрди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╣рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдПрдХ (рдпрд╛ рдЕрдзрд┐рдХ) NLog рд▓рдХреНрд╖реНрдп рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ NLog рдХреЗрд╡рд▓ рдЙрддреНрдкрд╛рджрди рдХрд░реЗрдЧрд╛ред</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджрд░рдЕрд╕рд▓, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯрд╛рд░рдЧреЗрдЯ рдореЗрдердбреНрд╕</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреНрд╖реЗрддреНрд░ рдХреА </font><i><font style="vertical-align: inherit;">рд╡рд┐рдзрд┐рдпрд╛рдБ</font></i><font style="vertical-align: inherit;"> рдЗрди "рд▓рдХреНрд╖реНрдпреЛрдВ" рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╝рд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВ: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд╝рд╛рдЗрд▓рдЯрд╛рд░реНрдЧ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдПрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓реЙрдЧ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдПред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЙрдЧ рдлрд╝рд╛рдЗрд▓ рдХреИрд╕реА рджрд┐рдЦрддреА рд╣реИ?</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/bn/fz/iw/bnfziwxjz-gabqdfyv92qkab3bq.png"></div>
                    </div><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ColoredConsoleTarget</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдХрдВрд╕реЛрд▓ рдХреЛ (рдпрджрд┐ рдХреЛрдИ рд╣реЛ) "рд╕реБрдВрджрд░" рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рдВрдЧ рдХрдВрд╕реЛрд▓ рдХреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ?</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/9p/b6/b0/9pb6b0idaxhi4t46opp5wsxk6oa.png"></div>
                    </div><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреАрдмрдЧрд░ рдЯрд╛рд░реНрдЧреЗрдЯ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдЖрдЙрдЯрдкреБрдЯ рд╡рд┐рдВрдбреЛ рдореЗрдВ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╛ рдбреАрдмрдЧ рдореЛрдб рдореЗрдВ рдерд░реНрдб рдкрд╛рд░реНрдЯреА рдХрдиреЗрдХреНрдЯреЗрдб рдбреАрдмрдЧрд░ рдХреЗ рд▓рд┐рдПред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбрд┐рдмрдЧрд░ рдореЗрдВ NLog рд╕рдВрджреЗрд╢ рдХреНрдпрд╛ рджрд┐рдЦрддреЗ рд╣реИрдВ?</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/qo/4n/0j/qo4n0jtkpdylzlxtwhg7xplmmwo.png"></div>
                    </div><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GraylogHttpTarget</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рд▓рдХреНрд╖реНрдп рд╡рд╣рд╛рдБ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдП рдЧрдП </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░реЗрд▓реЙрдЧ рдХреЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде рд╕рд░реНрд╡рд░ рдХреЛ рд╕рдВрджреЗрд╢ рднреЗрдЬрдирд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░реЗрд▓реЙрдЧ рд╕рдВрджреЗрд╢ рдХреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ?</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/l9/9j/vu/l99jvuf49hfnuy1attfxuxpg6hu.png"></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реЗрдмрд░ рдкрд░ </font><font style="vertical-align: inherit;">
рдЕрдкрдиреЗ рдкрд╣рд▓реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЗрдЦ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ, рдореИрдВрдиреЗ рдЧреНрд░реЗрд▓рд╛рдЧ рдХреЗ рдЙрдкрдпреЛрдЧ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдореИрдВ рд╕реВрдЪреА рдХреЗ рдЕрдВрддрд┐рдо рд▓рдХреНрд╖реНрдп рдкрд░ рдзреНрдпрд╛рди рдХреЗрдиреНрджреНрд░рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрд╣ рд╡рд╣ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ NLog рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рдЧреНрд░реЗрд▓рд╛рдЧ рд╕реЗрд╡рд╛ рдореЗрдВ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдореИрдВ рдЖрдкрдХреЛ рдпрд╣ рдмрддрд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реВрдВрдЧрд╛ рдХрд┐ рдореБрдЭреЗ рдпрд╣ рдЙрдкрдХрд░рдг рдХреИрд╕рд╛ рд▓рдЧрд╛ред</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░реЗрд▓реЙрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ (рдереЛрдбрд╝рд╛)</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реЗрд╡рд╛ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рд╡рд░рдг рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рдореИрдВ рдХреЗрд╡рд▓ рдпрд╣ рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ рдХрд┐ рдореИрдВрдиреЗ рдЗрд╕реЗ рдбреЙрдХрдЯрд░ рдореЗрдВ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рднреА </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рд▓реЗрдЦрди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╣реИ </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореИрдВ рдЖрдкрдХреЛ рдЕрдкрдиреА рд░рдЪрдирд╛ рдлрд╝рд╛рдЗрд▓ рджреЗрддрд╛ рд╣реВрдБ</font></font></b>
                        <div class="spoiler_text"><pre><code class="powershell hljs">version: <span class="hljs-string">'2'</span><font></font>
services:<font></font>
  <span class="hljs-comment"># MongoDB: https://hub.docker.com/_/mongo/</span><font></font>
  mongodb:<font></font>
    image: mongo:<span class="hljs-number">4</span><font></font>
    restart: always<font></font>
    volumes:<font></font>
    - mongo_data:/<span class="hljs-keyword">data</span>/db:rw<font></font>
    - /etc/localtime:/etc/localtime  <font></font>
  <span class="hljs-comment"># Elasticsearch: https://www.elastic.co/guide/en/elasticsearch/reference/6.x/docker.html</span><font></font>
  elasticsearch:<font></font>
    image: docker.elastic.co/elasticsearch/elastic<span class="hljs-built_in">search-oss</span>:<span class="hljs-number">6.8</span>.<span class="hljs-number">2</span><font></font>
    restart: always<font></font>
    volumes:<font></font>
    - es_data:/usr/share/elasticsearch/<span class="hljs-keyword">data</span>:rw<font></font>
    - /etc/localtime:/etc/localtime<font></font>
    environment:<font></font>
      - http.host=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><font></font>
      - transport.host=localhost<font></font>
      - network.host=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
      - <span class="hljs-string">"ES_JAVA_OPTS=-Xms512m -Xmx512m"</span><font></font>
    ulimits:<font></font>
      memlock:<font></font>
        soft: <span class="hljs-literal">-1</span>
        hard: <span class="hljs-literal">-1</span>
    mem_limit: <span class="hljs-number">1</span>g
  <span class="hljs-comment"># Graylog: https://hub.docker.com/r/graylog/graylog/</span>
  <span class="hljs-comment"># Graylog: I want to have the lastest</span><font></font>
  graylog:<font></font>
    image: graylog/graylog:<span class="hljs-number">3.2</span><font></font>
    restart: always<font></font>
    volumes:<font></font>
    - graylog_data:/usr/share/graylog/<span class="hljs-keyword">data</span>/journal:rw<font></font>
    - /etc/localtime:/etc/localtime<font></font>
<span class="hljs-comment"># :   .     - </span>
    - /home/MYUSER/graylog<span class="hljs-literal">-data</span>/plugin/graylog<span class="hljs-literal">-plugin</span><span class="hljs-literal">-telegram</span><span class="hljs-literal">-notification</span><span class="hljs-literal">-2</span>.<span class="hljs-number">3.0</span>.jar:/usr/share/graylog/plugin/graylog<span class="hljs-literal">-plugin</span><span class="hljs-literal">-telegram</span><span class="hljs-literal">-notification</span><span class="hljs-literal">-2</span>.<span class="hljs-number">3.0</span>.jar<font></font>
    environment:<font></font>
      <span class="hljs-comment"># CHANGE ME (must be at least 16 characters)!</span><font></font>
      - GRAYLOG_PASSWORD_SECRET=somepasswordpepper<font></font>
      <span class="hljs-comment"># Password: MYPASSWORD</span><font></font>
      - GRAYLOG_ROOT_PASSWORD_SHA2=SHA2MYPASSWORDPLEASEINANYONLINESERVICE<font></font>
      - GRAYLOG_HTTP_BIND_ADDRESS=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">9999</span>
      - GRAYLOG_WEB_LISTEN_URI=http://my.ex.ipa.dr:<span class="hljs-number">9999</span>/<font></font>
      - GRAYLOG_HTTP_EXTERNAL_URI=http://my.ex.ipa.dr:<span class="hljs-number">9999</span>/<font></font>
      - GRAYLOG_HTTP_PUBLISH_URI=http://my.ex.ipa.dr:<span class="hljs-number">9999</span>/<font></font>
      - GRAYLOG_ROOT_TIMEZONE=Europe/Moscow<font></font>
      - GRAYLOG_PLUGIN_DIR=plugin<font></font>
    links:<font></font>
      - mongodb:mongo<font></font>
      - elasticsearch<font></font>
    depends_on:<font></font>
      - mongodb<font></font>
      - elasticsearch<font></font>
    ports:<font></font>
      - <span class="hljs-number">5044</span>:<span class="hljs-number">5044</span>
      <span class="hljs-comment"># Graylog web interface and REST API</span>
      - <span class="hljs-number">9999</span>:<span class="hljs-number">9999</span>
      <span class="hljs-comment"># Syslog TCP</span>
      - <span class="hljs-number">1514</span>:<span class="hljs-number">1514</span>
      <span class="hljs-comment"># Syslog UDP</span>
      - <span class="hljs-number">1514</span>:<span class="hljs-number">1514</span>/udp
      <span class="hljs-comment"># GELF TCP</span>
      - <span class="hljs-number">12201</span>:<span class="hljs-number">12201</span>
      <span class="hljs-comment"># GELF UDP</span>
      - <span class="hljs-number">12201</span>:<span class="hljs-number">12201</span>/udp
      <span class="hljs-comment">#Volumes</span><font></font>
volumes:<font></font>
  mongo_data:<font></font>
    driver: local<font></font>
  es_data:<font></font>
    driver: local<font></font>
  graylog_data:<font></font>
    driver: local<font></font>
</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ </font><font style="vertical-align: inherit;">"рдЗрдирдкреБрдЯ" </font><font style="vertical-align: inherit;">рдХреА </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдерд╛рдкрдирд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧреНрд░реЗрдЧреНрд▓реЙрдЧ рдореЗрдВ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдХрд░рдиреЗ</font></a><font style="vertical-align: inherit;"> рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рднреА </font><font style="vertical-align: inherit;">рдЬреЛрдбрд╝реВрдВрдЧрд╛:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░реЗрдЧреЙрдЧ http 12 рдкреЛрд░реНрдЯ рдкрд░ http рдЯреНрд░реИрдлрд╝рд┐рдХ рдкрд░ рд╕реБрдирддрд╛ рд╣реИ</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/5o/ya/vj/5oyavjsjaxvtbwjdc9bae_jrcy8.png" align="left"><br>
<br>
<blockquote>Graylog nodes accept data via inputs. Launch or terminate as many inputs as you want here.</blockquote><br>
<br>
<s>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">my.web.adress.domain</a>   12201  -,      .       ...</s><br>
</div>
                    </div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреАрдИрдПрд▓рдПрдл рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GELF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Graylog рд▓реЙрдЧ рд╕реНрд╡рд░реВрдк рд╡рд┐рд╕реНрддрд╛рд░рд┐рддред рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рд╡рд╣ рд╕реНрд╡рд░реВрдк рдЬреЛ рдЧреНрд░реЗрдЧрд▓ рдорд╛рдирддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреБрдЫ рдирд┐рд╢реНрдЪрд┐рдд рдпреВрдЖрд░рдПрд▓ рдореЗрдВ GELF рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдХреБрдЫ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдХреНрд╖реНрдп</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА </font><font style="vertical-align: inherit;">ред рдЙрдиреНрд╣реЗрдВ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдкреНрд░рд▓реЗрдЦрди</font></a><font style="vertical-align: inherit;"> рдХреЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреАрдХрд░рдг</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЦрдВрдб рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">
рдореИрдВрдиреЗ </font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">NLog.Targets.GraylogHttp рдХреЛ</font></a></b><font style="vertical-align: inherit;"> рдЪреБрдирд╛ </font><font style="vertical-align: inherit;">ред рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">nuget</font></a><font style="vertical-align: inherit;"> рдФрд░ </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдХреЗ рд╡рд┐рдиреНрдпрд╛рд╕ рдореЗрдВ </font><i><font style="vertical-align: inherit;">NLog.Targets.GraylogHttp.GraylogHttpTarget</font></i><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдерд╛ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">
рдмрд╣реБрдд </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;">рд▓реЗрдЖрдЙрдЯ</font></i></a><font style="vertical-align: inherit;"> , рдореИрдВрдиреЗ рдПрдХ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;">рд╕рдВрджреЗрд╢</font></i></a><font style="vertical-align: inherit;"> рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдпрд╛ рд╣реИ </font><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди </font><i><font style="vertical-align: inherit;">ContextProperties рдХреЛ</font></i><font style="vertical-align: inherit;"> рдЕрдкрдиреЗ </font><i><font style="vertical-align: inherit;">рд▓рдХреНрд╖реНрдп рдХреЗ</font></i><font style="vertical-align: inherit;"> рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреА рд╡рд┐рд╕реНрддреГрдд рд╢реНрд░реГрдВрдЦрд▓рд╛:</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;"></font></i></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;"></font></i></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"someParamName1"</span>, Layout = <span class="hljs-string">"someStringInfo"</span> },
<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"someParamName2"</span>, Layout = <span class="hljs-string">"someNLogLayoutRendered"</span> },
<span class="hljs-keyword">new</span> TargetPropertyWithContext()  { Name = <span class="hljs-string">"someParamName3"</span>, Layout = (<span class="hljs-keyword">string</span>)SomeMethodThatGetsInfo() }</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореИрдВрдиреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЛ рд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛: "рдордирдорд╛рдирд╛ рдирд╛рдо + рдордирдорд╛рдирд╛ рдореВрд▓реНрдп"ред </font><font style="vertical-align: inherit;">рдореВрд▓реНрдп рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдХрд┐рд╕реА рднреА рд╡рд┐рдзрд┐ рд╕реЗ "рдЦрдирди" рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рдбреНрд░рд╛рдЗрд╡ рдкрд░ рдореБрдлреНрдд рд╕реНрдерд╛рди рдкрдврд╝рдирд╛ред </font><font style="vertical-align: inherit;">рдЬреЛ рдХреБрдЫ ...</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрдХреНрд╢реАрд╢</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд░рд╛рдп рд╣реИ (рдФрд░ рдореИрдВ рдЗрд╕реЗ рд╡рд┐рд╡рд╛рдж рдирд╣реАрдВ рдХрд░рддрд╛) рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рдкрдХрдбрд╝рддреЗ рд╕рдордп рд▓реЙрдЧ рд╕рдмрд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реЛрддреЗ рд╣реИрдВред </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрд╢рд┐рд╢ / рдкрдХрдбрд╝</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд┐рд░реНрдорд╛рдг </font><font style="vertical-align: inherit;">рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдЦреБрдж рдХреЛ рд╕рд╣реА рдард╣рд░рд╛рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">"рддреНрд░реБрдЯрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ" рд╕реНрд╡рдпрдВ рдбрд┐рдмрдЧрд┐рдВрдЧ рдЬрд╛рдирдХрд╛рд░реА, рдШрдЯрдирд╛рдУрдВ рдХреА рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рдЬрдм рдпрд╣ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЕрдиреНрдп рд╕реЗ рднрд░рд╛ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рдкрдврд╝рдиреЗ рдореЗрдВ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ рдРрд╕реА рд╡рд╕реНрддреБ рд╣рдореЗрд╢рд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдкрдиреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░реЗрдЧрд░реЙрдЧ рд╕реЗ рдСрдмреНрдЬреЗрдХреНрдЯ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рд╡рд░реНрдЧ рдХреЛ рдмреЛрдирд╕ рд╡рд┐рдзрд┐:</font></font></b>
                        <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-comment">// -. ,    Graylog    - .</span>
		<span class="hljs-comment">//     objWithProps -            json (  GELF)...</span>
		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> LogEventInfo <span class="hljs-title">GetLogEventWithProperties</span>(<span class="hljs-params">LogLevel logLevel, <span class="hljs-keyword">string</span> logName, <span class="hljs-keyword">string</span> message, <span class="hljs-keyword">object</span> objWithProps</span>)</span><font></font>
		{<font></font>
			<span class="hljs-comment">//     ,      </span>
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">string</span>.IsNullOrEmpty(message))<font></font>
			{<font></font>
				message = objWithProps?.GetType()?.Name ?? <span class="hljs-string">"custom_json_data"</span>;<font></font>
			}<font></font>
<font></font>
			LogEventInfo e = <span class="hljs-keyword">new</span> LogEventInfo(logLevel, logName, message);<font></font>
<font></font>
			<span class="hljs-keyword">object</span> logEventProperty = <span class="hljs-literal">null</span>;
			<span class="hljs-comment">//     Newtonsoft.Json: https://www.newtonsoft.com/json</span>
			JsonSerializerSettings jsonSerializerSettings = <span class="hljs-keyword">new</span> JsonSerializerSettings<font></font>
			{<font></font>
				ReferenceLoopHandling = ReferenceLoopHandling.Serialize,<font></font>
				PreserveReferencesHandling = PreserveReferencesHandling.Objects,<font></font>
				NullValueHandling = NullValueHandling.Include<font></font>
			};<font></font>
<font></font>
			<span class="hljs-keyword">try</span><font></font>
			{<font></font>
				<span class="hljs-comment">//  ""  ()   ...</span><font></font>
				logEventProperty = JsonConvert.SerializeObject(objWithProps, Formatting.Indented, jsonSerializerSettings);<font></font>
			}<font></font>
			<span class="hljs-keyword">catch</span> (Exception ex)<font></font>
			{<font></font>
				Debug.Write(ex);<font></font>
<font></font>
				<span class="hljs-keyword">try</span><font></font>
				{<font></font>
					<span class="hljs-comment">// ...,   :  ,   , ...</span>
					IEnumerable&lt;PropertyInfo&gt; objProps = objWithProps?.GetType()?.GetProperties()?.Where(p =&gt; p?.GetGetMethod()?.GetParameters()?.Length == <span class="hljs-number">0</span>);<font></font>
<font></font>
					<span class="hljs-keyword">if</span> (objProps?.Any() == <span class="hljs-literal">true</span>)<font></font>
					{<font></font>
						<span class="hljs-comment">// ...   ,...</span>
						Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; objPropsDict =<font></font>
							objProps<font></font>
							.ToDictionary(<font></font>
								x =&gt; x?.Name,<font></font>
								x =&gt;<font></font>
								{<font></font>
									<span class="hljs-keyword">string</span> rezVal = <span class="hljs-keyword">string</span>.Empty;
									<span class="hljs-keyword">try</span><font></font>
									{<font></font>
										rezVal = x?.GetValue(objWithProps, <span class="hljs-literal">null</span>)?.ToString();<font></font>
									}<font></font>
									<span class="hljs-keyword">catch</span> (Exception ex0)<font></font>
									{<font></font>
										Debug.Write(ex0);<font></font>
									}<font></font>
									<span class="hljs-keyword">return</span> rezVal;<font></font>
								}<font></font>
							)?<font></font>
							.OrderBy(x =&gt; x.Key)?<font></font>
							.ToDictionary(obj =&gt; obj.Key, obj =&gt; obj.Value);<font></font>
						<span class="hljs-comment">// ...   Newtonsoft.Json</span><font></font>
						logEventProperty = JsonConvert.SerializeObject(objPropsDict, Formatting.Indented, jsonSerializerSettings);<font></font>
					}<font></font>
				}<font></font>
				<span class="hljs-keyword">catch</span> (Exception ex1)<font></font>
				{<font></font>
					Debug.Write(ex1);<font></font>
				}<font></font>
			}<font></font>
			<span class="hljs-comment">//   json-,  Graylog      .</span>
			e.Properties[<span class="hljs-string">"custom_json_data"</span>] = logEventProperty;
			<span class="hljs-keyword">return</span> e;<font></font>
		}<font></font>
</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ рдЙрджрд╛рд╣рд░рдг:</font></font></b>
                        <div class="spoiler_text"><pre><code class="cs hljs">log.Debug(BimlibLogger.GetLogEventWithProperties(LogLevel.Debug, log.Name, <span class="hljs-string">$"Got the task"</span>, message));</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░реЗрд▓реЙрдЧ рдореЗрдВ рдпрд╣ рдХреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ?</font></font></b>
                        <div class="spoiler_text"> <i>exeption_json_data</i> тАФ <i>exception</i>,   json.<br>
<br>
<img src="https://habrastorage.org/webt/q0/fw/tz/q0fwtze_zbep1dbbwzlqecz2e3q.png"><br>
<br>
  <i>exception</i>,   .<br>
<br>
<img src="https://habrastorage.org/webt/m3/7b/km/m37bkmo_szukwtunyvkxukrw9hm.png"><br>
</div>
                    </div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд░рд┐рдгрд╛рдо</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд░реНрдгрд┐рдд рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдФрд░ рдХреЛрдб рдХреЗ рд╢рд░реАрд░ рдореЗрдВ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдХреЙрд▓ рдХреЗ рдЙрдЪрд┐рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╣рдореЗрдВ рдкрдврд╝рдиреЗ, рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдФрд░ рдЙрдирдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рдХреЗрдВрджреНрд░реАрдХреГрдд рд▓реЙрдЧ рд╕рдВрдЧреНрд░рд╣ рдорд┐рд▓рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд▓реЙрдЧ рдореЗрдВ рдХреБрдЫ рдореВрд▓реНрдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реВрдЪрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЙрдкрдХрд░рдг рд╣реИред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕рд╛рдорд╛рдиреНрдп рд▓реЙрдЧ-рдлрд╛рдЗрд▓реЗрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдлрд┐рд░ рд╕реЗ рдкрдврд╝рд╛ рднреА рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдЧрд╛рдпрдм рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдпрд╣ рдирд┐рдЧрд░рд╛рдиреА рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рддрд┐рдпреЛрдЧреА рдпрд╛ рдПрдХ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЕрдм рд╕реНрдерд┐рддрд┐ "рдореЗрд░рд╛ рдЖрд╡реЗрджрди 3 + рд╡рд┐рджреЗрд╢реА рднрд╛рд╖рд╛ рд╡рд╛рд▓реЗ рджреЗрд╢реЛрдВ рдореЗрдВ 100 + рдмрд╣реБрдд рдЕрд▓рдЧ рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдкрд░ рдЪрд▓рддрд╛ рд╣реИ рдФрд░ рдЕрдЪрд╛рдирдХ рдХрд╣реАрдВ рдЯреВрдЯ рдЬрд╛рддрд╛ рд╣реИ" рдереЛрдбрд╝рд╛ рдЖрд╕рд╛рди рдФрд░ рдмрд╣реБрдд рддреЗрдЬреА рд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рд╕рдм рд╣реИ?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдореИрдВрдиреЗ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рдЖрд░рд╛рдорджрд╛рдпрдХ рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдм рдХреБрдЫ рдмрддрд╛рдпрд╛ред </font><font style="vertical-align: inherit;">рдЪрд░реНрдЪрд╛ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░, рд╕реБрдЭрд╛рд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рджред </font><font style="vertical-align: inherit;">рдЖрдкрдХреЛ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рдорд┐рд▓рддреЗ рд╣реИрдВред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">рд╕рд▓рд╛рд╣ рдкрд░ </font><font style="vertical-align: inherit;">рдХрд╛рдо </font><font style="vertical-align: inherit;">рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AsyncWrapper </font></font></i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдХреНрд╖реНрдп</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЬреЛрдбрд╝реЗ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">justmara</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi498958/index.html">рддреНрд░реБрдЯрд┐ UIAlertController рдирд╣реАрдВ рд╣реИ</a></li>
<li><a href="../hi498962/index.html">рдорд▓реНрдЯреАрдЯрд╛рд╕реНрдХрд┐рдВрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ: рдирд┐рдпрдВрддреНрд░рдг рдореЗрдВ рдЦрд┐рдбрд╝рдХрд┐рдпрд╛рдВ</a></li>
<li><a href="../hi498970/index.html">Kubernetes ConfigMaps: рдкрддрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рд░реАрдХрд┐рдпреЛрдВ</a></li>
<li><a href="../hi498974/index.html">рдХреЛрд░реЛрдирд╛рд╡рд╛рдпрд░рд╕: рдЕрд╕реБрд░рдХреНрд╖рд╛ рдХрд╛ рдПрдХ рдЦрддрд░рдирд╛рдХ рднреНрд░рдо</a></li>
<li><a href="../hi498976/index.html">рдкреЗрд╢ рд╣реИ .NET 5.0 рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди 3</a></li>
<li><a href="../hi498982/index.html">рдбреНрд░реАрдордХрд╛рд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдлреНрд▓реЙрдкрд┐рдпрд╛рдВ</a></li>
<li><a href="../hi498984/index.html">рдЪреБрдкрдХреЗ рд╕реНрдХреВрд▓: рдЪреБрдкрдХреЗ рдЦреЗрд▓реЛрдВ рдореЗрдВ 5 рдкреНрд░рдХрд╛рд░ рдХреЗ рдЧреИрдЬреЗрдЯ</a></li>
<li><a href="../hi498988/index.html">рдХрдирд╛рдбрд╛ рдореЗрдВ рдкреНрд░рд╡рд╛рд╕реА рдиреМрдХрд░реА рдХреА рдЦреЛрдЬ рдФрд░ рдЖрдкреНрд░рд╡рд╛рд╕рди</a></li>
<li><a href="../hi498990/index.html">рдУрдореЗрдЧрд╛ рд░реЗрдб рдПрдореБрд▓реЗрдЯрд░ рдХреЗ рд▓рд┐рдП рдЧреЗрдордкреИрдб рд╕рдорд░реНрдерди</a></li>
<li><a href="../hi498996/index.html">рд╡реЗрдм рд╕реЙрдХреЗрдЯ рдФрд░ рд╕реЙрдХреЗрдЯ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>