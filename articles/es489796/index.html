<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå≠ üëø ü§∑üèø Tel√©fono GSM con marcador de disco üë®üèΩ‚Äçüé§ ü•£ ü§¶üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seguramente, muchos entusiastas de la radio tuvieron la idea de adaptar un tel√©fono con un marcador de disco para las comunicaciones de radio m√≥vil. 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Tel√©fono GSM con marcador de disco</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489796/"><img src="https://habrastorage.org/webt/dn/3a/ch/dn3achv8ylmriosnw_nkwcveo4g.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seguramente, muchos entusiastas de la radio tuvieron la idea de adaptar un tel√©fono con un marcador de disco para las comunicaciones de radio m√≥vil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La comunicaci√≥n por cable se est√° convirtiendo gradualmente en algo del pasado, y tales dispositivos est√°n acumulando polvo en un estante. </font><font style="vertical-align: inherit;">Siempre me gust√≥ el aspecto de tales dispositivos. </font><font style="vertical-align: inherit;">No pude resistir y hace dos a√±os decid√≠ rehacer el tel√©fono, que todav√≠a funciona, sin fallas.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s del tel√©fono, se necesitan los siguientes dispositivos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cualquier bot√≥n de tel√©fono m√≥vil;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bater√≠a de iones de litio tama√±o 18650 y un dispositivo para cargarla (banco de energ√≠a);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cable micro USB BF Splitter (hembra) -2 x USB BM micro (macho);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controlador en el chip ATtiny2313.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electr√≥nica</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diagrama de paquetes de microcontroladores con un tel√©fono m√≥vil y un marcador. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2s/wi/an/2swianzi_5w7dxx5ksereqrv0xc.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, es necesario soldar a los contactos de los botones del tel√©fono m√≥vil, el bucle de cable y conectarlo al controlador. </font><font style="vertical-align: inherit;">Un controlador para ense√±ar c√≥mo marcar al marcar los n√∫meros correspondientes en el disco. </font><font style="vertical-align: inherit;">Lo m√°s probable es que el dise√±o de los botones en la mayor√≠a de los tel√©fonos m√≥viles sea similar. </font><font style="vertical-align: inherit;">Para mi esquema, es necesario: un cable com√∫n para grupos de botones 1-4-7, 2-5-8-0 y 3-6-9 y un cable para cada d√≠gito; </font><font style="vertical-align: inherit;">un par de conductores en el bot√≥n de llamada, el bot√≥n de cancelar y el bot√≥n para cambiar de una tarjeta SIM a una segunda.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9p/ak/od/9pakoda86qhnbxsuozdlz7qzsvu.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de soldar, volvemos a colocar el tel√©fono m√≥vil en la caja y lo sujetamos dentro del tel√©fono con soportes. Mont√© el tel√©fono m√≥vil con la pantalla hacia abajo para poder ver la informaci√≥n a trav√©s de la ventana existente en la parte inferior del tel√©fono, as√≠ como acceder a los otros botones que no est√°n asociados con el marcador de disco. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al marcar un n√∫mero en un disco, se abre un par de contactos (contactos NC normalmente cerrados, cable verde-amarillo). El n√∫mero de aperturas (P) corresponde al d√≠gito establecido, por ejemplo, al marcar ‚Äú1‚Äù = --, ‚Äú2‚Äù = ----, etc. Cuando el dedo llega al tope, otro par de contactos se cierra brevemente (blanco-marr√≥n). Con estos dos pares de contactos, puede programar el proceso de marcaci√≥n.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ss/ag/1i/ssag1ihyv-rvkpbyfakzxwk2d-a.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La placa del controlador se realiza teniendo en cuenta la forma del dispositivo y la ubicaci√≥n del grupo de contacto debajo del tubo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada contacto debajo del bot√≥n es conmutado por un optoacoplador, cuya inclusi√≥n es controlada por el microcontrolador.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ze/6p/_e/ze6p_ecgxsa75vegwsemeyzz-wo.jpeg" alt="imagen"><br>
<br>
<img src="https://habrastorage.org/webt/zz/bw/uz/zzbwuzpe4kgkgbeh3hqnqwofx7y.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El banco de energ√≠a (en la foto en la caja negra) contin√∫a funcionando como fuente, comenzando con una carga de aproximadamente 20 mA, si es menor, pasar√° al modo de suspensi√≥n. Por lo tanto, se instal√≥ un interruptor de l√°minas cerca de la palanca que, al levantar el tubo, suministra energ√≠a al LED a trav√©s de la resistencia (no se muestra en el diagrama del circuito). El LED, como carga, debe usarse m√°s potente, uno peque√±o no funcionar√°. Tambi√©n puede alimentar el circuito directamente desde los contactos de la bater√≠a, pero luego debe configurar la energ√≠a del microcontrolador a un voltaje bajo cuando se destellan los bits del fusible. La bater√≠a es alimentada por la placa controladora y el tel√©fono m√≥vil. El banco de energ√≠a se carga a trav√©s del cable USB. Incluso sin entrar en modo de suspensi√≥n, la capacidad de la bater√≠a para alimentar la placa controladora y el tel√©fono m√≥vil es suficiente para dos semanas de duraci√≥n de la bater√≠a.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/7z/qm/gw7zqme_aiqmawjykp7grk4h80w.jpeg" alt="imagen"><br>
<br>
<img src="https://habrastorage.org/webt/ae/cf/ir/aecfirlszhxpof2ovpzqz3z2zgk.jpeg" alt="imagen"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede montar los auriculares de un tel√©fono m√≥vil en el auricular, en lugar de las c√°psulas de micr√≥fono y altavoz. Pero fui por el otro lado y rehice el auricular con c√°psulas y el conector de audio de 3.5 mm. Conexi√≥n: la base del conector - en los cables amarillo y blanco (‚Äú-‚Äù del micr√≥fono (360Œ©) y ‚Äú-‚Äù del altavoz (340 Œ©)); el segundo desde la base del anillo - en marr√≥n (micr√≥fono "+"); el tercero desde la base del anillo - a verde (altavoz "+"). ¬°Los colores de los cables para cada modelo de dispositivo son diferentes! Se seleccionaron impedancias adicionales en funci√≥n de la resistencia de las bobinas de los auriculares, el micr√≥fono (2000Œ©) y el altavoz (45 Œ©). Para otros modelos de tel√©fonos m√≥viles, la resistencia deber√≠a ser diferente. ¬°Experimente con tel√©fonos m√≥viles a los que ya se ha despedido, no por el hecho de que sobrevivir√°n despu√©s de tales manipulaciones!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el esquema, debe agregar un nodo para hacer una llamada, porque la llamada electr√≥nica regular de un tel√©fono m√≥vil result√≥ no ser tan colorida como en el dispositivo antiguo y silenciosa. </font><font style="vertical-align: inherit;">En mi caso, no hubo conclusiones adicionales sobre el microcontrolador, por lo que tuve que rechazar la llamada electromec√°nica, que lament√© m√°s tarde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante la operaci√≥n, descubr√≠ que a√∫n necesita duplicar el marcador del disco con los botones. </font><font style="vertical-align: inherit;">Dado que el disco no funcionar√° para escribir texto, digamos enviar SMS durante el registro.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo de operaci√≥n del controlador</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√© solo el algoritmo (comentarios). Toda la esencia del algoritmo, en un ciclo: habilitar, deshabilitar puertos bajo ciertas condiciones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
while (1) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 { </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Procedimiento para presionar a corto plazo el bot√≥n "cancelar llamada" desde el bot√≥n debajo del auricular (cuando el auricular est√° descolgado, el contacto se cierra constantemente). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Si hay 0 en PA1 (el contacto  est√° cerrado, el </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 tel√©fono est√° descolgado </font><font style="vertical-align: inherit;">), vaya al c√≥digo a continuaci√≥n: </font><font style="vertical-align: inherit;">- Encienda PD4 (salga del tel√©fono m√≥vil del modo de suspensi√≥n); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Apague la PD4. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Si hay 1 en PA1 (NO hay contacto abierto, se presiona el bot√≥n, la llamada se cancela cuando se recibe una llamada entrante), luego vaya al c√≥digo a continuaci√≥n: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Inicie el contador del temporizador del bot√≥n debajo del auricular. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si los contactos del bot√≥n debajo del auricular estuvieron abiertos por menos de 3.1 segundos, entonces siga el c√≥digo a continuaci√≥n:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Active PD2 (cancelaci√≥n de llamada para una llamada entrante); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Apague PD2; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Poner a cero el n√∫mero, para un nuevo conjunto con una llamada saliente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si los contactos del bot√≥n debajo del auricular estuvieron abiertos por m√°s de 3.1 segundos, entonces el c√≥digo a continuaci√≥n: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Restablece el estado de los contactos del bot√≥n debajo del auricular para comenzar el ciclo nuevamente </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Restablece el n√∫mero para una nueva marcaci√≥n con una llamada saliente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. El procedimiento para sondear los contactos PD0 y PD1: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Si hay 0 en PD1 (contacto NA cerrado) y 1 en PD0 (contacto NC abierto), vaya al siguiente c√≥digo: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Contador del d√≠gito marcado del n√∫mero (de 0 a 9); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Si hay 0 en PD0 (contacto NC cerrado), vaya al c√≥digo a continuaci√≥n; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Si hay 1 en PD1 (contacto NO abierto), vaya al c√≥digo a continuaci√≥n;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - El contador del n√∫mero de d√≠gitos marcados (total 11: 87.XX.XXXXXXX). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. El procedimiento para cambiar autom√°ticamente a una segunda tarjeta SIM (a otro operador de telecomunicaciones, dependiendo del prefijo del c√≥digo num√©rico, 3er y 4to d√≠gitos): </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Resaltar decenas en el prefijo p10 = n * 10; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - La asignaci√≥n de unidades en el prefijo p1 = n; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Formaci√≥n de un prefijo para la siguiente condici√≥n; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Si el prefijo del operador No. 1 se cambia a SIM1. En el siguiente conjunto, si el prefijo es el mismo, no pasar√° a SIM1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Encienda PD3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - </font><font style="vertical-align: inherit;">Apague </font><font style="vertical-align: inherit;">PD3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Si el prefijo de operador No. 2 cambia a SIM2. En el siguiente conjunto, si el prefijo es el mismo, no pasar√° a SIM2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Encienda PD3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - </font><font style="vertical-align: inherit;">Apague </font><font style="vertical-align: inherit;">PD3</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. El procedimiento para encender el LED "cambiando a SIM1": </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - para que el LED no funcione en modo de espera; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - conmutaci√≥n. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7. Habilite los pines de los puertos PB y PD para los botones 0‚Äì9. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8. El procedimiento para llamar al n√∫mero marcado. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
} </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El quinto punto para cambiar autom√°ticamente a otra tarjeta SIM, alguien no lo necesitar√° y puede excluirlo. El c√≥digo es bastante primitivo (si {} else {} en un bucle infinito), por lo que funciona de manera estable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al dise√±ar, trate de no da√±ar la carcasa taladrando y aserrando con aberturas y ranuras est√°ndar. Seguramente el est√°ndar GSM estar√° completamente desactualizado, habr√° nuevos est√°ndares de comunicaci√≥n que se pueden usar al implementarlo en el mismo caso retro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiero advertir a los dise√±adores que desean repetir el ensamblaje de un dispositivo similar que despu√©s de eso siempre hay un deseo de desmontar y actualizar el relleno, a la vista de los tel√©fonos raros. </font><font style="vertical-align: inherit;">Y, sin embargo, no hable en un dispositivo de este tipo al aire libre, ¬°los testigos pueden pensar mal de usted!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es489784/index.html">27 de febrero: inicio del proyecto para estudiantes de NX Bootcamp en Novosibirsk</a></li>
<li><a href="../es489786/index.html">C√°lido, tubo y muy peligroso</a></li>
<li><a href="../es489788/index.html">¬øC√≥mo jugar en la Nintendo 64?</a></li>
<li><a href="../es489790/index.html">Terminal t√°ctil para entornos hostiles.</a></li>
<li><a href="../es489794/index.html">Art√≠culo no t√©cnico sobre art√≠culos t√©cnicos.</a></li>
<li><a href="../es489798/index.html">Ensamblador en la industria de la aviaci√≥n: entrevista con el desarrollador del piloto autom√°tico ASM para aviones y drones</a></li>
<li><a href="../es489800/index.html">Las primeras computadoras en √Åfrica del Este</a></li>
<li><a href="../es489802/index.html">Demolici√≥n de la torre y c√°lculo preciso. Concurso Intel Fools NUC Intel</a></li>
<li><a href="../es489804/index.html">¬øLas auto-pruebas piensan en errores el√©ctricos?</a></li>
<li><a href="../es489806/index.html">C√≥mo eliminar el factor humano del proceso de contrataci√≥n y acelerarlo por √≥rdenes de magnitud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>