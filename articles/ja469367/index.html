<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜Ÿ ğŸ‡ğŸ½ ğŸ¦ƒ Windowsã®STM32CubeIDEã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ ğŸ‘‹ğŸ¾ ğŸ¥‘ ğŸ¥¡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å‰æ›¸ã
 

èª°ã‚‚ãŒãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®åˆ©ç‚¹ã‚’çŸ¥ã£ã¦ã„ã¾ã™ã€‚ã¾ãšã€ã‚³ãƒ¼ãƒ‰ã¨åŒæ™‚ã«ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ã‚’æ—©æœŸã«æ¤œå‡ºã§ãã€é¢å€’ãªè¤‡é›‘ãªãƒ‡ãƒãƒƒã‚°ã«æ™‚é–“ã‚’è²»ã‚„ã™ã“ã¨ãŒãªããªã‚Šã¾ã™ã€‚çµ„ã¿è¾¼ã¿é–‹ç™ºã®å ´åˆã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã«ã¯ã€ã‚³ãƒ¼ãƒ‰ãŒãƒ‡ãƒã‚¤ã‚¹ã®å†…éƒ¨ã®ã©ã“ã‹ã§å®Ÿè¡Œã•ã‚Œã€æ“ä½œãŒéå¸¸ã«é›£ã—ã„ã¨ã„ã†äº‹å®Ÿã«é–¢é€£ã™ã‚‹æ©Ÿèƒ½ãŒ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Windowsã®STM32CubeIDEã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469367/"><h3 id="vvedenie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‰æ›¸ã</font></font></h3><br>
<p><img src="https://habrastorage.org/webt/8f/3q/2r/8f3q2rt_-eycgp3_ejr_hfwqnva.png" align="left" width="200"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª°ã‚‚ãŒãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®åˆ©ç‚¹ã‚’çŸ¥ã£ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãšã€ã‚³ãƒ¼ãƒ‰ã¨åŒæ™‚ã«ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ã‚’æ—©æœŸã«æ¤œå‡ºã§ãã€é¢å€’ãªè¤‡é›‘ãªãƒ‡ãƒãƒƒã‚°ã«æ™‚é–“ã‚’è²»ã‚„ã™ã“ã¨ãŒãªããªã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">çµ„ã¿è¾¼ã¿é–‹ç™ºã®å ´åˆã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã«ã¯ã€ã‚³ãƒ¼ãƒ‰ãŒãƒ‡ãƒã‚¤ã‚¹ã®å†…éƒ¨ã®ã©ã“ã‹ã§å®Ÿè¡Œã•ã‚Œã€æ“ä½œãŒéå¸¸ã«é›£ã—ã„ã¨ã„ã†äº‹å®Ÿã«é–¢é€£ã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚æ¬¡ã«ã€ã‚³ãƒ¼ãƒ‰ãŒã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã«å¼·ãçµã³ä»˜ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ©Ÿå™¨ã‹ã‚‰ç‹¬ç«‹ã—ã¦ã„ã‚‹ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆãŒã‚ã‚Šã€åŒæ™‚ã«éå¸¸ã«è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹å ´åˆã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã¨æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã¨ãˆã°ã€ã“ã‚Œã¯ã€ã‚ã‚‹ç¨®ã®ãƒ‡ãƒ¼ã‚¿è»¢é€ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€ã•ã¾ã–ã¾ãªè¨ˆç®—ã€ã¾ãŸã¯åˆ¶å¾¡çŠ¶æ…‹ãƒã‚·ãƒ³ã®å®Ÿè£…ã§ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çµ„ã¿è¾¼ã¿ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€3ã¤ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚</font></font></p><a name="habracut"></a><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ç›´æ¥èµ·å‹•ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®å ´åˆã€ãƒ‡ãƒã‚¤ã‚¹ã®æ©Ÿå™¨ã‚’æ“ä½œã§ãã€ã‚³ãƒ¼ãƒ‰ã¯æˆ¦é—˜æ¡ä»¶ã¨ã¾ã£ãŸãåŒã˜ã‚ˆã†ã«æ©Ÿèƒ½ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€ãƒ†ã‚¹ãƒˆã«ã¯ãƒ‡ãƒã‚¤ã‚¹ã¸ã®ç‰©ç†çš„ãªã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã•ã‚‰ã«ã€ãƒ‡ãƒã‚¤ã‚¹ã«ã‚³ãƒ¼ãƒ‰ã‚’å¸¸ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆã‚µã‚¤ã‚¯ãƒ«ã¯éå¸¸ã«é•·ããªã‚Šã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚ã“ã®æ–¹æ³•ã¯ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãŒåˆ©ç”¨ã§ããªã„å ´åˆã§ã‚‚ï¼ˆãŸã¨ãˆã°ã€ã¾ã å®Ÿè¡Œã•ã‚Œã¦ã„ãªã„ãŸã‚ï¼‰ä½œæ¥­ãŒã§ãã‚‹ãŸã‚ã€ä¸»ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚æ¬ ç‚¹ã¯ã€é‰„ï¼ˆãŠã‚ˆã³å‘¨å›²ã®ä¸–ç•Œï¼‰ã®å‹•ä½œã‚’å†ç¾ã™ã‚‹éš›ã®ç²¾åº¦ã«é™ç•ŒãŒã‚ã‚‹ã“ã¨ã€ãŠã‚ˆã³ãã®ã‚ˆã†ãªã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½œæˆã™ã‚‹ã“ã¨ã®é›£ã—ã•ã§ã™ã€‚</font></font></li>
<li>  - ().      (     ),       ,       .       â€“     -  ,        ,     .         ,              .          .</li>
</ol><br>
<p>      -   STM32CubeIDE,   Eclipse        STM32.   â€“ ,      ++.     - c Windows   Cygwin.      Google Test.         -,           STM32:</p><br>
<p><img src="https://habrastorage.org/webt/mo/_j/gw/mo_jgwdlc6e3qqzjkcbsxrslvaq.png"></p><br>
<p>          Eclipse,             .       c CubeIDE  Linux,       Cygwin.</p><br>
<h3 id="vam-ponadobyatsya"> </h3><br>
<ol>
<li>Cygwin 3.0.7 x86 (   32- ,    64-   32- )</li>
<li>STM32CubeIDE 1.0.2  Windows. </li>
<li>Google Test Framework 1.8.1</li>
</ol><br>
<h3 id="ustanovka-cygwin-i-stm32cubeide"> Cygwin  STM32CubeIDE</h3><br>
<h4 id="cygwin">Cygwin</h4><br>
<p> Cygwin,  x86.     : gcc-core, g++, binutils, automake, autoconf, cmake, libtool, gdb, make.      .</p><br>
<p><img src="https://habrastorage.org/webt/xc/fj/6v/xcfj6v0wun10fgdbskuccodkqqk.png"></p><br>
<p>    : </p><br>
<p><strong>PATH:</strong> â€¦;C:\&lt;path_to_Cygwin&gt;\Cygwin\bin; C:\&lt;path_to_Cygwin&gt;\Cygwin\lib<br>
<strong>classpath:</strong> C:\&lt;path_to_Cygwin&gt;\Cygwin\lib</p><br>
<h4 id="stm32cubeide">STM32CubeIDE</h4><br>
<p>   .   CubeIDE  Cygwin,      Cube    Cygwin .</p><br>
<p>   ++  x86 Cygwin .   , , -,   ,  -,      Â«Â»     . </p><br>
<p> File &gt; New &gt; C/C++ Project.  C++ Managed Build.    hello world   Cygwin GCC:</p><br>
<p><img src="https://habrastorage.org/webt/jc/ny/1n/jcny1ntttq4rzapxeth3-s2emim.png"></p><br>
<p>   ,    .   Debug.<br>
  ,   ,  Project &gt; Build All.       Cygwin,  Run &gt; Debug As &gt; Local C/C++ Application.   Â«Hello worldÂ»    CubeIDE.</p><br>
<p> ,          ,    .   Window &gt; Preferences   /++ &gt; Debug   Source Lookup Path    : Add &gt; Path Mapping.     -       ,    :</p><br>
<ul>
<li>\cygdrive\c â€” C:\</li>
<li>\cygdrive\g â€” G:\</li>
</ul><br>
<p><img src="https://habrastorage.org/webt/fe/ro/2h/fero2hpb7i_n1cjf4sie1nfdndm.png"></p><br>
<p><img src="https://habrastorage.org/webt/cc/y3/4e/ccy34eo_dtfubifpmfnmkgzkjgu.png"></p><br>
<p>         Eclipse   -  ++.     STM32CubeIDE:  Help &gt; Install New Software,    Eclipse Repository    /++ Unit Testing Support.</p><br>
<p><img src="https://habrastorage.org/webt/67/eh/ns/67ehnsuupvabu-i1vvkp6dfz4yc.png"></p><br>
<h3 id="sborka-biblioteki-google-test">  Google Test</h3><br>
<p>      : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/google/googletest/tree/release-1.8.1</a><br>
 ,    googletest-release-1.8.1   Cygwin terminal,  :</p><br>
<pre><code class="bash hljs">cmake .<font></font>
make</code></pre><br>
<p>         ./googlemock/lib/libgtest.a,        ./googletest/include/gtest/.        (        ).</p><br>
<h3 id="sozdanie-proekta-dlya-stm32">   STM32</h3><br>
<p>    STM32L476G-DISCO.      â€“     ,      00  11.     ,    .h  .c ,     .<br>
    ,    Cube,  ,   PB2  PE8    .        â€“ ++,      (   -  -).    C    ,        Â«Convert to C++Â».</p><br>
<p>            .         â€“           ,    â€“       .        â€“ Application c     (    Src,   Cube), Common  ,     (   )  Tests  .     ,     ,  Resource Configuration &gt; Exclude from build.</p><br>
<p>   Common   :</p><br>
<div class="spoiler"><b class="spoiler_title"> led_counter</b><div class="spoiler_text"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆled_counter.hï¼‰ï¼š</font></font></p><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> LED_COUNTER_H_</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LED_COUNTER_H_</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdint.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Led_Counter_Init</span><span class="hljs-params">()</span></span>;
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Led_Counter_Get_Next</span><span class="hljs-params">()</span></span>;<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span> <span class="hljs-comment">/* LED_COUNTER_H_ */</span></span></code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">led_counter.cppï¼š</font></font></p><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"led_counter.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">uint8_t</span> led_cnt_state = <span class="hljs-number">0</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Led_Counter_Init</span><span class="hljs-params">()</span>
</span>{<font></font>
    led_cnt_state = <span class="hljs-number">0</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">Led_Counter_Get_Next</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span>(++led_cnt_state &gt; <span class="hljs-number">3</span>)<font></font>
        led_cnt_state = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">return</span> led_cnt_state;<font></font>
}</code></pre></div></div><br>
<p> Common  Tests      include-:   (Properties) &gt; /++ General &gt; Paths and Symbols &gt; Includes.</p><br>
<p>  main    </p><br>
<div class="spoiler"><b class="spoiler_title"> main.c</b><div class="spoiler_text"><p>main.c:</p><br>
<pre><code class="cpp hljs">â€¦
<span class="hljs-comment">/* USER CODE BEGIN Includes */</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"led_counter.h"</span></span>
<span class="hljs-comment">/* USER CODE END Includes */</span><font></font>
â€¦<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{<font></font>
â€¦<font></font>
    <span class="hljs-comment">/* USER CODE BEGIN WHILE */</span><font></font>
    Led_Counter_Init();<font></font>
    <span class="hljs-keyword">uint8_t</span> led_state = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)<font></font>
    {<font></font>
        <span class="hljs-comment">/* USER CODE END WHILE */</span><font></font>
<font></font>
        <span class="hljs-comment">/* USER CODE BEGIN 3 */</span><font></font>
        led_state = Led_Counter_Get_Next();<font></font>
        HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, led_state &amp; (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">0</span>));<font></font>
        HAL_GPIO_WritePin(GPIOE, GPIO_PIN_8, led_state &amp; (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">1</span>));<font></font>
        HAL_Delay(<span class="hljs-number">500</span>);<font></font>
    }<font></font>
    <span class="hljs-comment">/* USER CODE END 3 */</span><font></font>
â€¦<font></font>
}</code></pre></div></div><br>
<p>    ,   â€“ .</p><br>
<h3 id="napisanie-testov"> </h3><br>
<p> ,    .</p><br>
<p>       â€“ Properties &gt; C/C++ Build &gt; Settings &gt; Manage Configurations. CubeIDE          Cygwin,     ,    :</p><br>
<p><img src="https://habrastorage.org/webt/4d/ro/kd/4drokdgkom2o6z18duo1v_tbmwi.png"></p><br>
<p>              .      Paths and Symbols  (        Â«add to all languagesÂ»):</p><br>
<ul>
<li>Includes â€“ Tests/Inc, Common/Inc</li>
<li>Libraries â€“ gtest</li>
<li>Library Paths â€“ Tests/Lib</li>
<li>Source Location â€” /&lt;prj_name&gt;/Common  /&lt;prj_name&gt;/Tests ( &lt;prj_name&gt;   )</li>
</ul><br>
<p>     gtest â€“  .a   Tests/Lib,      gtest â€“   Tests/Inc.   Tests    main.cpp,     .   :</p><br>
<p>main.cpp:</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">/*
 * Unit tests main file
 */</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"gtest/gtest.h"</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span>
</span>{<font></font>
    ::testing::InitGoogleTest(&amp;argc, argv);<font></font>
    <span class="hljs-keyword">return</span> RUN_ALL_TESTS();<font></font>
}</code></pre><br>
<p>       ,   ,       32  (  ,    ,    ,     32- Cygwin).</p><br>
<p>    test_platform.cpp:</p><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"gtest/gtest.h"</span></span><font></font>
<font></font>
TEST(PlatformTest, TestPointerSize)<font></font>
{<font></font>
    <span class="hljs-comment">//Check pointer size is 32 bit</span>
    ASSERT_EQ(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">void</span>*)*<span class="hljs-number">8</span>, <span class="hljs-number">32U</span>);<font></font>
}</code></pre><br>
<p>,      ++ Application,       Google Test  ,    .</p><br>
<p>      :<br>
<img src="https://habrastorage.org/webt/ev/ld/g2/evldg2fj_pqta199knozgvzicu8.png"></p><br>
<p>       .       Tests:</p><br>
<div class="spoiler"><b class="spoiler_title">test_led_counter.cpp</b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"gtest/gtest.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"led_counter.h"</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// Test fixture</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LedCounterTest</span>:</span> <span class="hljs-keyword">public</span> ::testing::Test<font></font>
{<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetUp</span><span class="hljs-params">()</span>
    </span>{<font></font>
        Led_Counter_Init();<font></font>
    }<font></font>
};<font></font>
<font></font>
<span class="hljs-comment">// Check initial value</span><font></font>
TEST_F(LedCounterTest, TestInitialValue)<font></font>
{<font></font>
    Led_Counter_Init();<font></font>
    ASSERT_EQ(Led_Counter_Get_Next(), <span class="hljs-number">1</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// Check how value is incremented</span><font></font>
TEST_F(LedCounterTest, TestIncrementValue)<font></font>
{<font></font>
    Led_Counter_Init();<font></font>
    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> val = Led_Counter_Get_Next();
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1</span>;i++)<font></font>
    {<font></font>
        ASSERT_EQ(Led_Counter_Get_Next(), ++val);<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// Check how value return to 0 after 3</span><font></font>
TEST_F(LedCounterTest, TestZeroCrossing)<font></font>
{<font></font>
    Led_Counter_Init();<font></font>
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">3</span>;i++)<font></font>
    {<font></font>
        Led_Counter_Get_Next();<font></font>
    }<font></font>
    ASSERT_EQ(Led_Counter_Get_Next(), <span class="hljs-number">0</span>);<font></font>
}</code></pre></div></div><br>
<p>      ,        Run &gt; Debug Configurations.       C/C++ Unit.  ,  Run Tests,     Â«TestÂ»    Â«stop on startup atÂ»   Debugger.     .</p><br>
<p>         Window &gt; Show View &gt; Other &gt; C/C++ &gt; C/C++ Unit.</p><br>
<p><img src="https://habrastorage.org/webt/ip/qd/cr/ipqdcrsjl0iohvf1yq4_99xwieq.png"></p><br>
<p>!           .      ,    Run Tests      x86,      .</p><br>
<h3 id="literatura"></h3><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J.ã‚°ãƒ¬ãƒ‹ãƒ³ã‚°ã€‚</font><font style="vertical-align: inherit;">çµ„ã¿è¾¼ã¿Cã®ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º-çµ„ã¿è¾¼ã¿ã‚·ã‚¹ãƒ†ãƒ ã®å˜ä½“ãƒ†ã‚¹ãƒˆã¨TDDæ–¹æ³•è«–ã®é©ç”¨ã«é–¢ã™ã‚‹åŸºæœ¬çš„ãªä½œæ¥­ã€‚</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://uncannier.com/unit-testing-of-embedded-firmware-part-1-software-confucius/-Texas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Instruments Code Composer Studioã€CppUTestãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã®x86ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://blog.atollic.com/why-running-your-embedded-arm-cortex-code-on-a-host-pc-is-a-good-thing-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå½¹ç«‹ã¤ç†ç”±ã«é–¢ã™ã‚‹è¨˜äº‹ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ç”¨</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja469351/index.html">Intel Comet Lake-UãŠã‚ˆã³Comet Lake-Yï¼šè–„å‹è»½é‡ã®ãƒ©ãƒƒãƒ—ãƒˆãƒƒãƒ—å‘ã‘ã®æœ€å¤§6ã‚³ã‚¢</a></li>
<li><a href="../ja469353/index.html">ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼å‘ã‘ã®èˆˆå‘³æ·±ã„è³‡æ–™ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆï¼ƒ317ï¼ˆ9æœˆ23ã€œ29æ—¥ï¼‰</a></li>
<li><a href="../ja469355/index.html">é€€å±ˆãªNumPyãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a></li>
<li><a href="../ja469357/index.html">èµ°ã‚Œã€ã‚´ãƒ¼ãƒ•ã‚¡ãƒ¼ã€èµ°ã‚Œï¼-GolangConfã§ä½•ã«ã¤ã„ã¦è©±ã™ã‹</a></li>
<li><a href="../ja469361/index.html">ã‚¹ãƒ´ã‚§ãƒ«ãƒˆ3ã®ç—›ã¿ã¨æ¶™</a></li>
<li><a href="../ja469369/index.html">9æœˆ30æ—¥ã‹ã‚‰10æœˆ6æ—¥ã¾ã§ã®ãƒ¢ã‚¹ã‚¯ãƒ¯ã§ã®ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆ</a></li>
<li><a href="../ja469371/index.html">Redux Thunkã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’ç·¨æˆãŠã‚ˆã³ãƒ†ã‚¹ãƒˆã™ã‚‹æ–¹æ³•ã®èª¬æ˜</a></li>
<li><a href="../ja469373/index.html">å®Œå…¨ã«éº»ç—ºã—ãŸæ‚£è€…ã®ãŸã‚ã®ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çµæœãŒç–‘å•è¦–ã•ã‚Œã¾ã—ãŸ</a></li>
<li><a href="../ja469375/index.html">Mozillaã€Coilã€Creative CommonsãŒã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«1å„„ãƒ‰ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹ç†ç”±</a></li>
<li><a href="../ja469379/index.html">UIã¸ã®æ­£å¼ãªãƒ¢ãƒ‡ãƒ«æ¤œè¨¼ãƒ¡ã‚½ãƒƒãƒ‰ã®é©ç”¨</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>