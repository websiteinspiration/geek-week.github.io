<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗿 ⚠️ 👴🏾 您没有等待的物联网。开发和测试（第1部分） ⭐️ 👨🏾‍🔬 🔖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在健身追踪器，扬声器，吸尘器中使用IoT不会让任何人感到惊讶。您是否认为可以在垃圾容器和垃圾车中安装各种传感器来控制垃圾收集？听起来很奇怪，并提出了一个问题：“为什么？” 
 
 Anatoly Korovin碰巧在一个从头开始的项目上工作。在本文中，他对Heisenbug会议的报告进行了分析，在会...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>您没有等待的物联网。开发和测试（第1部分）</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/501922/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在健身追踪器，扬声器，吸尘器中使用IoT不会让任何人感到惊讶。</font><font style="vertical-align: inherit;">您是否认为可以在垃圾容器和垃圾车中安装各种传感器来控制垃圾收集？</font><font style="vertical-align: inherit;">听起来很奇怪，并提出了一个问题：“为什么？” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anatoly Korovin碰巧在一个从头开始的项目上工作。</font><font style="vertical-align: inherit;">在本文中，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heisenbug</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">报告进行</font></a><font style="vertical-align: inherit;">了分析，</font><font style="vertical-align: inherit;">在会议</font><font style="vertical-align: inherit;">上他详细描述了为何需要进行智能</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">垃圾车</font></a><font style="vertical-align: inherit;">以及如何进行该项目的开发和测试。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该报告的总体结构如下图所示。</font><font style="vertical-align: inherit;">在本文中，我们将仅考虑图中绿色阴影部分。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dh/fh/po/dhfhpoywrpxqbnzmgx9cqevapvg.png"><br>
<br>
<a name="habracut"></a><br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行业挑战</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主角：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">垃圾容器（嗯，这里一切都清楚了，我们每天都看到垃圾箱）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公寓楼房客；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">区域运营商（负责该地区固体城市废物（MSW）的组织）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公司的垃圾运输者（运输公司，清除生活垃圾的专用设备）；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">垃圾填埋场（包括垃圾坑，焚化炉和垃圾处理厂）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当我们为垃圾收集付费时，最简单的方法是根据从院子中清除垃圾的事实来评估服务质量。</font><font style="vertical-align: inherit;">但是，如果您更深入地研究这个问题，并尝试找出承运人将垃圾运往何处（运往垃圾填埋场或最近的沟渠），则会遇到困难。</font><font style="vertical-align: inherit;">因此，我们系统的任务之一就是控制表演者的完整性。</font></font><br>
<br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纸质报告</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在我们合作过的大多数区域中，区域运营商都从承运商那里收集纸质报告。</font><font style="vertical-align: inherit;">该报告记录了承运人的汽车数量，路线，储罐装载时间和垃圾量。</font><font style="vertical-align: inherit;">他们每年提交一次（或两次）这些报告，因此您可以想象它有多少数据。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e0/wr/0r/e0wr0rtymt4_sly202fwivi0cle.png"><br>
<br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">难以检查</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
鉴于没有任何机制可以验证这些数据的可靠性，因此在许多方面，该报告被“基于诚信”接受。为了解决该问题，某些地区的运营商在承运人的汽车上安装了GPS跟踪器，并开始跟踪运输路线。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管操作员正确设置了求解向量，但整个问题仍未解决-报告全都代表了操作员办公室架子上的一堆文件。很难想象有人会用手检查一切。您需要从这堆纸中随机获取一些文件，打开跟踪程序，比较报告中的时间以及跟踪器上机器的位置。太多数据落在验证程序上。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，在此系统中，存在不诚实的运营商使用漏洞。他们逐渐意识到自己检查了哪些指标，并开始建立“灰色”方案。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gs/lp/ue/gslpuehtndhu8lwlqjjduc0kx6g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例如，搬运工开车到院子里的垃圾箱，司机下车，抽烟几分钟，然后离开而没有捡拾垃圾。然后，他到达最近的建筑工地，为自己装载商业废物，必须将其单独处理，因为这是生产和其他工业企业的废物。此后，运输公司到达垃圾填埋场，他自信地说，他把所有这些垃圾都带到了居民楼的入口。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这种情况下，从GPS跟踪器接收到的路线将显示出与承运人报告中相同的点，但是没有人拿出垃圾。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这只是许多情况中的一种。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解决物联网问题</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了涵盖最多的场景，构建了一个物联网系统，包括垃圾桶，运输工具和垃圾填埋场的自动化。</font></font><br>
<br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">智能垃圾桶</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，我们为垃圾容器配备了几种类型的传感器：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传统的超声波传感器-确定容器的充满程度。</font><font style="vertical-align: inherit;">使用昂贵的复杂系统没有任何意义，因为这种价格仅为iPhone的设备无法放在偏远地区的垃圾桶中，有人可能希望将其带回家。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">温度传感器-通过遥测可以清楚地知道垃圾是否存在；</font><font style="vertical-align: inherit;">加速度计。</font><font style="vertical-align: inherit;">它确定了容器的倾斜角度，这就是我们在承运人到达并卸下垃圾时记录下来的历史记录。</font><font style="vertical-align: inherit;">令人高兴的是，我们可以找出破坏者是否把垃圾扔了。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFID标签。</font><font style="vertical-align: inherit;">有了它的帮助，您可以清楚地比较哪个汽车运输工具将集装箱卸下。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
所有数据都是通过GSM / GPRS传输的，因此没有电线简单地连接到容器壁上，并且该设备可以测量其前面垃圾的水平。</font></font><br>
<br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们遵循承运人的运输</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了控制运输，我们使用了：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPS追踪器</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">起重机升程传感器跟踪阀门的运动；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFID阅读器确定将哪个容器连接到机器；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相机，以防万一。</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/w0/db/6_/w0db6_dcxazx3hdxsmdj9ssg2cw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您认为最没用的传感器是什么？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
是的，相机拍摄并没有带来任何好处。</font><font style="vertical-align: inherit;">其中，并不是您无法建立一个迷人的Instagram帐户，甚至不清楚我们在看什么：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2k/_s/sw/2k_ssw2orhaa6x4irc7pabe4-xs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将相机安装在承运人的专用运输工具上，以使照片清晰可见</font><font style="vertical-align: inherit;">是</font><font style="vertical-align: inherit;">非常困难的。</font><font style="vertical-align: inherit;">结果，照片显示：道路，障碍物，水坑等，偶尔还有从最不成功的角度来看的集装箱平台。</font><font style="vertical-align: inherit;">期望看到各种违反垃圾运输的规定，但实际上是垃圾-照片本身。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pi/si/hs/pisihsuakhcgcebpbk_wultyhhu.gif"></div><br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制废物处置</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
集装箱和运输工具已连接在一起，它仍然可以接收来自终点的垃圾填埋场。</font><font style="vertical-align: inherit;">为此，在入口处安装了巨大的重量架。</font><font style="vertical-align: inherit;">当汽车进入时，我们识别出汽车编号并将数据记录在数据库中。</font><font style="vertical-align: inherit;">在道路上，运输过程遵循类似的程序，我们致力于研究这两个值之间的差异。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该系统的介绍带来了什么？</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
承运人从该系统中获得了可观的利润，因为现在每天早晨他们都知道最佳路线。现在，汽车可以先到达容器已满的点，然后再按照填充度降序沿这些点移动。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/m3/h1/th/m3h1thurvfwagsnfpenut0nwpxq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这样的航迹与通常的航路完全不同，因为如果没有遥测技术，很难预测出最佳选择。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7w/ep/bs/7wepbsdgqcxfkec4-m95wchl-54.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这种情况也会发生：大多数垃圾收集站点都布置在一个很小的区域中，但是有一个点与其他站点的距离相当远。如果不进行遥测，很难确定是否应从该站点收集垃圾，而驾驶员会来找她，看到容器是空的，然后离开，浪费时间和燃料。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本文的续篇中，我们</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将告诉您该项目的后端是如何安排的，以及物联网为测试方法带来了哪些特定功能。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anatoly Korovin将在即将举行的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heisenbug 2020 Piter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议上发表演讲，该会议</font><font style="vertical-align: inherit;">将于6月15日至18日在网上举行。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今年夏天，不仅可以</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过票务订阅</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获得测试领域的知识，而且还可以获得分布式计算，前端，后端，DevOps，移动项目的知识</font><font style="vertical-align: inherit;">。</font></font></blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN501904/index.html">持续戴着手套会对皮肤造成什么影响</a></li>
<li><a href="../zh-CN501906/index.html">DINS QA EVENING（在线）：测试基于WebRTC的服务的案例以及避免运行不稳定测试的方法</a></li>
<li><a href="../zh-CN501910/index.html">用户不需要所有这些！停止推广Linux</a></li>
<li><a href="../zh-CN501914/index.html">Stream Modern Web Live 2020-无限期最佳UX实践</a></li>
<li><a href="../zh-CN501918/index.html">《游戏设计》一书。从超级马里奥和毁灭战士到刺客信条等最佳计算机游戏成功的秘诀»</a></li>
<li><a href="../zh-CN501924/index.html">如何建立50个圆的维恩图？集的可视化和我的开源Python项目的历史</a></li>
<li><a href="../zh-CN501928/index.html">下午在线mitap，来自Atlassian（Jira），Wrike和Productboard的发言人</a></li>
<li><a href="../zh-CN501930/index.html">Spring为定制其行为提供了哪些机会？</a></li>
<li><a href="../zh-CN501932/index.html">加速在Segezha森林保护区内实施AI项目</a></li>
<li><a href="../zh-CN501934/index.html">在Figma中发布VKUI组件设计库</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>