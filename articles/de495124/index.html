<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå¶Ô∏è ü¶Ç üì™ Wie man ein Macbook stiehlt ‚¨ÜÔ∏è üí∑ üë®‚Äç‚ù§Ô∏è‚Äçüë®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="MacBooks wurden mir mehrmals gestohlen, und Apples Anti-Diebstahl-Tools wie Find My Mac haben mir nie geholfen, meinen Computer zur√ºckzubekommen. Sind...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wie man ein Macbook stiehlt</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495124/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/cd/4n/8a/cd4n8ada0cmbsbsl46d1oqpzshk.jpeg"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MacBooks wurden mir mehrmals gestohlen, und Apples Anti-Diebstahl-Tools wie Find My Mac haben mir nie geholfen, meinen Computer zur√ºckzubekommen. Sind sie wirklich wertlos? Kann ich der integrierten Verschl√ºsselung von FileVault vertrauen? Wie kann man die Chancen erh√∂hen, den Computer zur√ºckzubekommen? Dieser Artikel ist das Ergebnis meines Leidens bei vergeblichen Versuchen, gestohlene Computer zur√ºckzugeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Artikel beschreibt detailliert die Schutzmechanismen durch die Augen eines Angreifers, in unserem Fall eines Diebes. Dies gibt Ihnen eine bessere Vorstellung davon, wie sie funktionieren. Die Erz√§hlung in dem Artikel ist im Namen des Diebes - dies ist nur ein k√ºnstlerisches Mittel zum besseren Verst√§ndnis des Materials. </font></font><br>
<br>
<font color="red"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beachtung!</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Materialien im Artikel dienen nur zu Informationszwecken. </font><font style="vertical-align: inherit;">Alle Beschreibungen betr√ºgerischer Aktivit√§ten werden mit Zustimmung der Laptop-Besitzer inszeniert und ausgef√ºhrt. </font><font style="vertical-align: inherit;">Der Autor fordert keine betr√ºgerischen Handlungen auf. Der einzige Zweck des Artikels besteht darin, zu zeigen, wie das System am besten zum Schutz Ihrer Daten konfiguriert werden kann.</font></font></font><a name="habracut"></a><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorwort</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im folgenden Screenshot einer von mehreren meiner gestohlenen Laptops, die im iCloud-Bedienfeld vergraben blieben. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i8/gm/38/i8gm38skst0f5pndf9txebxd2hy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Benutzeroberfl√§che der Funktion "Meinen Mac suchen" im iCloud-Bedienfeld gibt an, dass die Sperrfunktionen verf√ºgbar werden, wenn der Laptop eine Verbindung zum Internet herstellt. </font><font style="vertical-align: inherit;">Aber das wird niemals passieren.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jedes Mal, wenn ich ein MacBook gestohlen oder es mit meiner Tasche verloren habe, wurde mir die Sinnlosigkeit von Find My Mac klar. </font><font style="vertical-align: inherit;">Immerhin hat der Laptop kein Modem, und ich kann weder seinen Standort verfolgen noch Daten aus der Ferne l√∂schen. </font><font style="vertical-align: inherit;">Damit die Diebstahlsicherung funktioniert, muss der Dieb meinen Laptop mit dem Internet verbinden. </font><font style="vertical-align: inherit;">Aber wie macht er das, wenn das Konto mit einem Passwort gesperrt ist? </font><font style="vertical-align: inherit;">Es stellt sich heraus, dass selbst eine Person, die mir einen Computer zur√ºckgeben m√∂chte, dies nicht tun kann, wenn ich meine Kontakte nicht im Voraus irgendwo auf den Fall schreibe. </font><font style="vertical-align: inherit;">Ich bin mir absolut sicher, dass meine Laptops in allen F√§llen von Diebstahl vollst√§ndig gereinigt und an neue Besitzer verkauft wurden, die sie nun problemlos verwenden, ohne den Verdacht zu haben, dass sie gestohlen wurden.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPhones sind besser gesch√ºtzt</font></font></font></h2><br>
<img width="600" src="https://habrastorage.org/webt/eg/hh/49/eghh49gvtto0tepj6zebavkqm3m.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein iPhone mit aktuellem iOS kann nicht einfach von iCloud getrennt werden. </font><font style="vertical-align: inherit;">(Bild von Alexander Varakin)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Moderne iPhones sind recht gut gesch√ºtzt. Sie k√∂nnen nicht einfach von Ihrem iCloud-Konto getrennt und auf dem Radiomarkt verkauft werden. </font><font style="vertical-align: inherit;">Daher gibt es ganze betr√ºgerische Verfahren zum L√∂sen von Ger√§ten durch Phishing. </font><font style="vertical-align: inherit;">Gute Forschung von Anton</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bo0oM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ºber dieses Ph√§nomen: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iCloud-Phisher und wo sie leben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Diebe versuchen, sich beim iCloud-Konto des Opfers anzumelden und das Telefon zu entsperren. </font><font style="vertical-align: inherit;">Selbst wenn es dem Dieb gelang, die SIM-Karte zu entfernen und WLAN auszuschalten, bevor der Besitzer das Telefon sperren konnte, konnte er es nicht entsperren, wenn die Autorisierung per Fingerabdruck, Gesicht oder PIN-Code aktiviert war. </font><font style="vertical-align: inherit;">Und das ist gro√üartig. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt viele Informationen √ºber das Blockieren von iPhones. Diese Mechanismen wurden gut untersucht. </font><font style="vertical-align: inherit;">Aber niemand diskutiert die gleichen Funktionen in Macbooks, es scheint, als ob sie nicht da sind. </font><font style="vertical-align: inherit;">Leider sind alle MacBook-Modelle bis 2018 (ohne den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T2-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chip </font><font style="vertical-align: inherit;">) gegen Diebe schutzlos und werden auf jeden Fall komplett gereinigt verkauft. </font><font style="vertical-align: inherit;">Gleichzeitig k√∂nnen Sie das Leben eines Diebes so weit wie m√∂glich verkomplizieren und Ihre Daten sch√ºtzen.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 1: MacBook stehlen</font></font></font></h2><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/TJLjl0Lsz_Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr einen realistischen Test aller Hypothesen m√ºssen wir ein echtes MacBook stehlen. </font><font style="vertical-align: inherit;">Weitere Erz√§hlung werde ich im Namen des Diebes f√ºhren. </font><font style="vertical-align: inherit;">Um zu verstehen, wie die Schutzmechanismen funktionieren, m√ºssen Sie das reale Bedrohungsmodell ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eindringlingsmodell</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">reproduzieren </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laut dem Skript aus dem Video habe ich dem Opfer in einem Caf√© das mitgelieferte MacBook gestohlen. </font><font style="vertical-align: inherit;">Zum Zeitpunkt des Diebstahls schloss ich den Deckel, sodass der Laptop in den Ruhemodus ging und die Verbindung zum WLAN trennte. </font><font style="vertical-align: inherit;">Dies ist ein wichtiger Punkt, da er das beliebteste Szenario reproduziert, in dem ein Laptop in die H√§nde eines Diebes f√§llt. </font><font style="vertical-align: inherit;">Meistens schlie√üen MacBook-Besitzer einfach den Deckel und stecken den Laptop in die Tasche, ohne den Computer auszuschalten. </font><font style="vertical-align: inherit;">Die ganze Zeit, als ich meinen Computer verlor, war er in diesem Zustand - er schlief in einem Rucksack.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finden Sie My-Tracking-Ger√§te ohne Internet</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/h1/w0/vk/h1w0vkv1zh3-3t1cpbeobugx6e0.jpeg"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apples neue Geotracking-Technologie ohne Internet</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gleich nach dem Diebstahl </font><i><font style="vertical-align: inherit;">renne</font></i><font style="vertical-align: inherit;"> ich mit meiner gestohlenen MacBook-Achselh√∂hle zu meinem Labor. Stellen Sie sich vor, ich renne schneller als das Opfer und konnte mich verstecken. Gleichzeitig finden in der Stadt Aktionen statt, und ich renne eine √ºberf√ºllte Stra√üe entlang. Was wird das Opfer in diesem Moment tun? In Panik betritt er die FindMy-Anwendung und versucht, den Computer zu verfolgen oder zu blockieren. Sie k√∂nnen die Daten jedoch nicht blockieren oder l√∂schen, da der Laptop keine Internetverbindung hat. Aber es stellt sich heraus, dass die tats√§chlichen Koordinaten des Laptops auf der Karte angezeigt werden, und das ist erstaunlich!</font></font><br>
<br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/we/ri/oa/werioaix9_rwlnsmugf9b0kwwcc.jpeg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Jahr 2019 k√ºndigte Apple eine aktualisierte FindMy-Anwendung und eine neue Methode zum Verfolgen von Ger√§ten in den Einstellungen an, die als Offline-Suche bezeichnet werden. Die meisten Benutzer der Apple-Technologie kennen diese Funktion nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Funktionsprinzip lautet wie folgt: Zun√§chst m√ºssen mindestens zwei Apple-Ger√§te an dasselbe iCloud-Konto gebunden sein. Beide Ger√§te m√ºssen √ºber das aktuelle Betriebssystem verf√ºgen, mindestens iOS 13 und macOS 10.15 (Catalina). Wenn alle Bedingungen erf√ºllt sind, generieren beide Ger√§te Schl√ºssel und tauschen private Teile (privater Schl√ºssel) miteinander aus, sodass jedes Ger√§t die Nachrichten des anderen entschl√ºsseln kann.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tj/8e/h4/tj8eh4uyrwgt4e_sunrx4btk69s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laut Apple werden diese Schl√ºssel nur auf Ger√§ten und nicht auf dem Server gespeichert. Das hei√üt, Sie k√∂nnen die Funktion nur von einem anderen Ger√§t und nicht von icloud.com verwenden. Dies bedeutet, dass Sie nach dem Verlust beider Ger√§te auf icloud.com nur die Online-Geolokalisierung sehen k√∂nnen. Dies funktioniert nur, wenn das Ger√§t √ºber einen Internetzugang verf√ºgt, jedoch nicht offline.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x9/cw/rl/x9cwrlrcwzr5lyxadtqfvkd8krw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn das Ger√§t kein Internet hat, z. B. ein Telefon ohne SIM-Karte oder ein MacBook ohne WLAN, sendet es spezielle Pakete √ºber Bluetooth Low Energy mit seinem √∂ffentlichen Schl√ºssel. Und jedes Apple-Ger√§t in der N√§he, beispielsweise ein zuf√§lliger Passant mit einem iPhone, der ein solches Signal geh√∂rt hat, nimmt diesen Schl√ºssel automatisch, verschl√ºsselt ihn mit seinen aktuellen Koordinaten und sendet ihn an den Server. Dies erfordert keine Aktion des Benutzers. Alles geschieht im Hintergrund, w√§hrend sich das Telefon in einer Tasche mit gesperrtem Bildschirm befindet. Eine Art propriet√§res Botnetz mit leichten Noten von Mesh-Netzwerken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter macOS ist der Daemon </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / libexec / searchpartyuseragent</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr diese Funktion verantwortlich </font><font style="vertical-align: inherit;">. Die Schl√ºssel sollen im Schl√ºsselhalter unter dem Namen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LocalBeaconStore ‚Üí LocalBeaconStoreKey gespeichert sein</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es ist √§rgerlich, dass BLE-Beacons nur gesendet werden, wenn das System eingeschaltet ist oder sich im Ruhemodus befindet. Das hei√üt, um eine solche Verfolgung auszuschalten, muss der Dieb nur die Abschalttaste gedr√ºckt halten. </font><font style="vertical-align: inherit;">Es w√§re gro√üartig, wenn diese Funktionalit√§t direkt auf dem Bluetooth / WiFi-Chip funktioniert, wenn das Motherboard mit Standby-Strom versorgt wird.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 2: Ausblenden - Spoofing von Geotracking √ºber einen Bluetooth-Proxy</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ist es m√∂glich, das System auszutricksen und dem Opfer eine falsche Adresse seines Laptops zu zeigen? Wenn das verlorene MacBook selbst seine Koordinaten nicht kennt, sondern nur einen √∂ffentlichen Schl√ºssel sendet, f√ºgt das Ger√§t, das das Signal empfangen hat, die Koordinaten hinzu. Dieses Schema ist also anf√§llig f√ºr Spoofing! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ha/rw/ni/harwniuiqtb7yvwzu-f_nwtijtu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das BLE-Paketrelais √ºbertr√§gt alle geh√∂rten Signale an den Fernsender.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In der Schaltung mit dem Repeater h√∂rt der Empf√§nger alle Signale des Opfers ab und sendet sie √ºber das Internet an den Sender. Zuf√§llige Passanten, die das Signal empfangen haben, f√ºgen ihre Koordinaten hinzu und senden es an den Server. Ich sitze mit dem Ger√§t des Opfers im Keller und der Sender befindet sich am anderen Ende der Stadt. Somit sieht das Opfer falsche Koordinaten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um ein solches Schema zu erstellen, ben√∂tigen Sie zwei Computer mit BLE-Adaptern, die mit demselben Netzwerk und Framework verbunden sind</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BtleJuice</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das propriet√§re Protokoll FindMy wurde noch nicht untersucht, das Format der BLE-Pakete ist unbekannt. </font><font style="vertical-align: inherit;">Selbst die genauen Intervalle zwischen Beacon-Sendungen und die Bedingungen, unter denen diese Funktion aktiviert wird, sind unbekannt. </font><font style="vertical-align: inherit;">Ein experimentell festgelegtes Intervall von 10-20 Minuten. </font><font style="vertical-align: inherit;">Laut Apple √§ndert sich der private Schl√ºssel regelm√§√üig, aber wie oft ist unbekannt. </font><font style="vertical-align: inherit;">Ich lade alle ein, an der Umkehrung des Protokolls teilzunehmen. </font><font style="vertical-align: inherit;">Apple hat eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beschreibung der</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von FindMy verwendeten Kryptographie. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zum Zeitpunkt des Schreibens dieser Zeilen wurde </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in FindMy verwendete Kryptografiestudie </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ver√∂ffentlicht</font></a><font style="vertical-align: inherit;"> , der Autor ber√ºcksichtigt die technische Implementierung des Protokolls nicht und ich habe nicht ganz verstanden, worum es in der Arbeit ging.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Anfragen an den Sender zu senden, ben√∂tigen Sie einen Server und arbeiten mit einer minimalen Konfiguration wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RUVDS f√ºr 130 Rubel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Er hat pro Sekunde Tarifierung und Zahlung nur f√ºr die verwendeten Ressourcen. </font><font style="vertical-align: inherit;">F√ºr Habrayuzer gilt ein Rabatt von 15% auf den dontpanischen Aktionscode.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 3: Daten von einem Laptop stehlen</font></font></font></h2><br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/qu/j-/ao/quj-ao96qzesjaabluh6cvczhuq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daten auf einer Festplatte k√∂nnen viel wertvoller sein als das MacBook selbst. Was ist, wenn es Schl√ºssel f√ºr Bitcoin-Geldb√∂rsen, Benutzernamen, Passw√∂rter oder intime Fotos gibt? Versuchen Sie daher zun√§chst, die Daten auf der Festplatte zu lesen. Wir haben den Laptop im eingeschalteten Zustand gestohlen, aber zum Zeitpunkt des Diebstahls war die Abdeckung geschlossen und jetzt mit einem Benutzerkennwort gesperrt. Die meisten MacBook-Besitzer tragen sie im Schlafmodus, dh sie schlie√üen einfach den Deckel. Dies ist der wahrscheinlichste Zustand, in dem ein Dieb einen Computer erh√§lt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einfachste Weg, Daten zu lesen, ist das Booten von einem USB-Stick unter Linux. Wenn FileVault jedoch im System aktiviert ist, funktioniert das Lesen der Daten nicht. Daher ist ein Neustart f√ºr uns riskant, da nicht im Voraus bekannt ist, ob die Verschl√ºsselung aktiviert ist oder nicht. W√§hrend der Computer eingeschaltet ist, wird das Dateisystem genau entschl√ºsselt. Sie m√ºssen also versuchen, ohne Neustart Zugriff zu erhalten.</font></font><br>
<br>
<blockquote>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DMA-</a>,    FileVault  .    ,  DMA-    Thunderbolt - IOMMU.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Thunderclap</a>     Thunderbolt-,   -   .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden die Option eines brutalen Passworts aus dem Benutzerkonto nicht in Betracht ziehen, da es sich nicht um Sport handelt. </font><font style="vertical-align: inherit;">Dar√ºber hinaus f√ºgt macOS nach fehlgeschlagenen Versuchen eine lange Verz√∂gerung hinzu, bevor ein neues Kennwort eingegeben wird. </font><font style="vertical-align: inherit;">F√ºr einen solchen Angriff k√∂nnen Sie alle Hardware-Tools verwenden, mit denen Sie eine HID-Tastatur emulieren k√∂nnen, einschlie√ülich Himbeer-Pi oder Arduino. </font><font style="vertical-align: inherit;">Der entscheidende Punkt hier ist das W√∂rterbuch zur Auswahl. </font><font style="vertical-align: inherit;">Ich rate Ihnen, ein Passwort mit mindestens einem Sonderzeichen und ohne W√∂rterbuchw√∂rter zu verwenden. </font><font style="vertical-align: inherit;">Dies ist v√∂llig ausreichend, um sich gegen einen solchen Brutus zu verteidigen.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbinden Sie einen gesperrten Laptop mit Wi-Fi</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versuchen Sie, w√§hrend der Laptop eingeschaltet und das Dateisystem entsperrt ist, im Netzwerk darauf zu klopfen. M√∂glicherweise verf√ºgt das Opfer √ºber ein Netzwerklaufwerk oder andere Dienste, √ºber die Sie hineinklettern k√∂nnen. Versuchen wir, den Laptop davon zu √ºberzeugen, eine Verbindung zu unserem WLAN herzustellen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xl/j3/vs/xlj3vsqwdnvict8fpcpk05kbis0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Ger√§te WiFi-Netzwerke scannen, senden sie auch die Namen der Netzwerke, mit denen sie k√ºrzlich verbunden waren, in Testanforderungspaketen. Das hei√üt, w√§hrend Sie durch die Stadt laufen, sendet Ihr Telefon oder Laptop den Namen Ihres WLAN-Heimnetzwerks in der Hoffnung, dass es darauf antwortet. Wie geplant sollte dies die Verbindung zum Netzwerk beschleunigen, wenn es sich in der N√§he befindet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um herauszufinden, mit welchen Netzwerken der Laptop des Opfers verbunden werden kann, setze ich einen externen WLAN-Adapter neben ihn und schlie√üe den Deckel des spontanen Faradayschen K√§figs. Jetzt h√∂rt der Adapter die Signale vom Laptop gut und h√∂rt andere nicht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir starten den √úberwachungsmodus mit einem Filter f√ºr einen Pakettyp, da nur Beispielanforderungen angezeigt werden sollen.</font></font><br>
<br>
<pre><code class="bash">tcpdump -e -l -I -i en0 type mgt subtype probe-req<font></font>
<font></font>
BSSID:Broadcast DA:Broadcast SA:xx:xx:xx:xx:xx:xx  Probe Request (MGTS_GPON_1856)<font></font>
BSSID:Broadcast DA:Broadcast SA:xx:xx:xx:xx:xx:xx  Probe Request (MGTS_GPON_1856)<font></font>
BSSID:Broadcast DA:Broadcast SA:xx:xx:xx:xx:xx:xx  Probe Request (Onlime)<font></font>
BSSID:Broadcast DA:Broadcast SA:xx:xx:xx:xx:xx:xx  Probe Request (MT_FREE)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist ersichtlich, dass sich der Laptop an mehrere verschiedene Netzwerke erinnert, von denen es √§hnliche wie zu Hause gibt. </font><font style="vertical-align: inherit;">Es ist wichtig zu beachten, dass ein Laptop, der sich an ein Netzwerk mit einem Kennwort erinnert, keine automatische Verbindung herstellt, wenn es pl√∂tzlich ohne Kennwort, aber mit demselben Namen angezeigt wird. </font><font style="vertical-align: inherit;">Aus diesen Namen k√∂nnen wir annehmen, dass die ersten beiden Netze h√∂chstwahrscheinlich Passw√∂rter hatten, aber das letzte ist das Moskauer Verkehrsnetz und es wurde anscheinend ohne Passwort im Speicher des Computers gespeichert.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Art von Angriff ist ziemlich alt, funktioniert aber manchmal immer noch. </font><font style="vertical-align: inherit;">Es gibt automatische Tools wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hostapd-karma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die sofort auf alle Netzwerknamen reagieren.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetzt m√ºssen wir den Zugangspunkt mit dem Namen des ausgew√§hlten Netzwerks erh√∂hen, in unserem Fall MT_FREE, damit der Laptop automatisch eine Verbindung dazu herstellt. Es ist zu beachten, dass der Besitzer den Laptop sofort blockieren und die Festplatte reinigen kann, wenn er ins Internet gelangt. Sie k√∂nnen das Internet jedoch nicht vollst√§ndig trennen, da sich macOS andernfalls sofort von einem solchen WiFi-Netzwerk trennen kann, wenn es defekt ist. Daher muss ein funktionierender DHCP, DNS-Resolver und Internet √ºber HTTP vorhanden sein, damit die Captive-Portal-Tests funktionieren. Es reicht aus, nur den TCP-Port 80 im Internet zu √∂ffnen, und macOS geht davon aus, dass das Netzwerk absolut normal ist, w√§hrend die Diebstahlsicherungsfunktionen von iCloud nicht funktionieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn das MacBook erfolgreich eine Verbindung zu WiFi herstellt, m√ºssen wir es nur √ºber das Netzwerk nach offenen Diensten, Netzwerkball usw. durchsuchen. </font><font style="vertical-align: inherit;">Ich werde Ihnen nicht sagen, wie Sie dies tun sollen, da dies den Rahmen dieses Artikels sprengt.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir m√ºssen ehrlich zugeben, dass die meisten Benutzer die Standardeinstellungen verwenden und keine zus√§tzlichen Netzwerkdienste konfigurieren, sodass die Erfolgsaussichten bei einem solchen Angriff vernachl√§ssigbar sind. </font><font style="vertical-align: inherit;">Aber es war trotzdem einen Versuch wert, da dies die letzte verf√ºgbare M√∂glichkeit ist, mit einem System zu interagieren, das √ºber ein entschl√ºsseltes Laufwerk verf√ºgt.</font></font></blockquote><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Starten Sie das Unbekannte neu</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/ik/_-/ks/ik_-ks2gn2vdbptatlrlek_zd5s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich m√∂chte Sie daran erinnern, dass wir beim Laden des Systems nicht herausfinden konnten, ob die FileVault-Festplattenverschl√ºsselung aktiviert war. </font><font style="vertical-align: inherit;">Um dies zu √ºberpr√ºfen, m√ºssen Sie den Laptop neu starten. </font><font style="vertical-align: inherit;">Dies kann nur durch Halten des Netzschalters erfolgen, da auf dem Bildschirm einer gesperrten Sitzung kein Energieverwaltungsmen√º angezeigt wird. </font><font style="vertical-align: inherit;">Dar√ºber hinaus gibt es zwei m√∂gliche Szenarien:</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FileVault nicht konfiguriert</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einfache Eisbahn! </font><font style="vertical-align: inherit;">Booten Sie einfach vom USB-Stick oder entfernen Sie die Festplatte (bei Modellen bis 2016). Alle Dateien unseres Opfers sind im Klartext verf√ºgbar. </font><font style="vertical-align: inherit;">Unter Linux m√ºssen Sie sich ein wenig mit der Konfiguration von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fuse-apfs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwechseln </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FileVault aktiviert</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie FileVault zum ersten Mal konfigurieren, wird empfohlen, den Laufwerkverschl√ºsselungsschl√ºssel in iCloud herunterzuladen. Theoretisch k√∂nnte ein Dieb das Konto des Opfers angreifen. In diesem Artikel werden Phishing-Angriffe jedoch nicht ber√ºcksichtigt. </font><font style="vertical-align: inherit;">Es gibt verschiedene Tools f√ºr FileVault Brute: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kommerzielle Programme von Elcomsoft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Open Source-Programme wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apfs2john</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zur Verwendung mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John The Ripper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√∂chstwahrscheinlich wird ein gew√∂hnlicher Dieb keine Ressourcen f√ºr die Brutalit√§t Ihrer Festplatte ausgeben, es sei denn, dies ist ein gezielter Angriff auf Daten. </font><font style="vertical-align: inherit;">Der Einfachheit halber nehmen wir an, dass ein Nicht-W√∂rterbuch-Passwort mit 6-8 Zeichen verschiedener Register unter Verwendung von Sonderzeichen unverwundbar ist.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie es funktionieren soll wie von Apple geplant</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lange Zeit konnte ich nicht genau verstehen, wie Apple die Arbeit von Find My Mac im wirklichen Leben darstellt. Wenn Sie beim ersten Einrichten des Systems die Standardempfehlungen befolgen, erh√§lt der Benutzer einen Computer mit aktiviertem FileVault und der Angreifer kann sich nie anmelden, um im Internet zu klopfen und alle Fallen zu aktivieren .</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f57/fbb/506/f57fbb506220fe6d8d3247581006a28c.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das einzig m√∂gliche Szenario ist ein Gastkonto. </font><font style="vertical-align: inherit;">Der Idee zufolge gelangt der Dieb nach einem Neustart zum Kennworteingabebildschirm, um die Festplatte zu entsperren. </font><font style="vertical-align: inherit;">Ohne das Passwort zu erraten, w√§hlt er das Gastkonto aus und l√§dt in den Nur-Safari-Modus. </font><font style="vertical-align: inherit;">Dies ist eine spezielle Betriebsart, die nur dem Gastkonto zur Verf√ºgung steht. </font><font style="vertical-align: inherit;">Es wird nur ein Programm ausgef√ºhrt - der Safari-Browser. </font><font style="vertical-align: inherit;">Tatsache ist, dass bei Aktivierung von FileVault ein Teil der Festplatte f√ºr die Wiederherstellungspartition unverschl√ºsselt bleibt. </font><font style="vertical-align: inherit;">Es speichert ein minimales MacOS-Image, von hier aus startet Safari. </font><font style="vertical-align: inherit;">In diesem Modus kann der Dieb eine Verbindung zum Internet herstellen. Hier kontaktiert der Laptop iCloud und kann Remote-Bestellungen des Besitzers ausf√ºhren.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 4: MacBook verkaufen</font></font></font></font><br>
</h2><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeiten mit NVRAM-Variablen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Dieb hat also Zugriff auf die Daten erhalten oder nicht und m√∂chte den Laptop dann auf dem Sekund√§rmarkt verkaufen. </font><font style="vertical-align: inherit;">Dazu muss er den Computer von den iCloud-Konten trennen und das Betriebssystem neu installieren. </font><font style="vertical-align: inherit;">Zus√§tzlich zum Betriebssystem selbst auf der Festplatte verf√ºgt das MacBook √ºber NVRAM-Variablen, die auf einem USB-Flash-Laufwerk im Motherboard gespeichert sind. </font><font style="vertical-align: inherit;">Diese Daten bleiben nach der </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neuinstallation von macOS erhalten. </font><font style="vertical-align: inherit;">Sie speichern ein Token, anhand dessen der Server die Bindung des MacBook an das iCloud-Konto erkennt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um mit Variablen aus dem Benutzerbereich zu arbeiten, gibt es das Dienstprogramm </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nvram</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel f√ºr meinen Mac-Token finden</font></font></b><div class="spoiler_text"><pre><code class="bash">#  Find My Mac <font></font>
$ nvram fmm-mobileme-token-FMM<font></font>
<font></font>
fmm-mobileme-token-FMM bplist00%dc%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%10%0d%11%0d%12%13%14%15%16%1d_%10%0funregisterState_%10%12enabledDataclassesYauthToken^disableContextVuserid]enableContextXusernameXpersonIDWaddTimeTguidXuserInfo_%10%13dataclassProperties%10%00%a1%0f_%10!com.apple.Dataclass.DeviceLocator_%10%ccEAADAAAABLwIAAAAAF6Jva4RDmqzLmljbG91ZC5hdXRovQA_OvlxQ5x0ULxeZIwLf9ZKD2GL8xWXoQiCKVs4tSztt-QZ2ZPlgZqpHekekaGd06Bm20kyU4m1ryRhBPR5DNSSbfzrKM_Ap0elpAitBDkGyHGjTe9c5WajVpfvWe_RGFhcamieaVhGQGzsiFGe11nt1PtCzA~~%11%01%f5_%10%11ivan@ivanov.comZ1253943158#A%d7%a2or%f3kP_%10$7C83E2DA-8A39-414E-B004-4DE79E4D35B3%d3%17%18%19%1a%1b%1c_%10%15InUseOwnerDisplayName_%10%13InUseOwnerFirstName_%10%12InUseOwnerLastName]ivan ivanovUivanWivanov%d1%0f%1e%d5%1f !"#$%25&amp;'(VapsEnvXhostname]idsIdentifierVscheme]authMechanismZProduction_%10%13p09-fmip.icloud.com_%10$0FFD23C3-F469-42C1-97E0-FD8EE1F80502UhttpsUtoken%00%08%00!%003%00H%00R%00a%00h%00v%00%7f%00%88%00%90%00%95%00%9e%00%b4%00%b6%00%b8%00%dc%01%ab%01%ae%01%c2%01%cd%01%d6%01%fd%02%04%02%1c%022%02G%02U%02[%02c%02f%02q%02x%02%81%02%8f%02%96%02%a4%02%af%02%c5%02%ec%02%f2%00%00%00%00%00%00%02%01%00%00%00%00%00%00%00)%00%00%00%00%00%00%00%00%00%00%00%00%00%00%02%f8<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanterweise verbirgt die offizielle Hilfe f√ºr den Befehl nvram einige Funktionen. Das auf Wikileaks ver√∂ffentlichte Handbuch zu durchgesickerten CIA-Dokumenten: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EFI-Grundlagen: NVRAM-Variablen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erwies sich als viel n√ºtzlicher </font><font style="vertical-align: inherit;">. Es stellt sich heraus, dass das Dienstprogramm direkt mit UEFI-Variablen (efi vars) arbeiten kann. Die Werte der meisten Variablen k√∂nnen jedoch nur bei deaktiviertem SIP (System Integrity Protection) ge√§ndert werden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mein Zugriff auf EFI-Variablen √ºber das Dienstprogramm nvram unter macOS Catalina funktioniert bei mir nicht mehr. Die GUID, Variablennamen oder Programmsyntax haben sich m√∂glicherweise ge√§ndert. Die Relevanz von Variablen muss √ºber die UEFI-Shell oder Linux √ºberpr√ºft werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um einen gestohlenen Laptop zu l√∂sen, l√∂schen Sie einfach die nvram-Variablen und installieren Sie das Betriebssystem neu. Um nvram zur√ºckzusetzen, ben√∂tigen Sie</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halten Sie beim Laden eines Laptops Befehlstaste (‚åò) + Wahltaste + P + R gedr√ºckt. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies reicht aus, damit der iCloud-Server das Ger√§t nicht mehr als Mitglied eines bestimmten iCloud-Kontos betrachtet. </font><font style="vertical-align: inherit;">Und obwohl die Seriennummer des Motherboards nach dem Zur√ºcksetzen des NVRAM gleich bleibt, k√∂nnen Sie mit iCloud den Laptop mit einem neuen Konto verkn√ºpfen.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passwort auf UEFI</font></font></font></h3><br>
<img width="500" src="https://habrastorage.org/webt/yr/do/ps/yrdopshalm6h-yflmccj3uidrim.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den vorherigen Schritten haben wir vom USB-Flash-Laufwerk (Optionstaste beim Booten) gebootet und nvram zur√ºckgesetzt. </font><font style="vertical-align: inherit;">Es stellt sich jedoch heraus, dass all dies mit einem UEFI-Passwort deaktiviert werden kann. </font><font style="vertical-align: inherit;">√úbrigens wissen nur wenige Menschen unter erfahrenen Mohnnutzern davon. </font><font style="vertical-align: inherit;">Das installierte Passwort f√ºr die Firmware verbietet solche Aktionen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setzen Sie den NVRAM beim Booten zur√ºck</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMC-Reset</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W√§hlen Sie eine andere Startmethode (Wahltaste)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In jedem Fall wird ein Passwort angefordert. </font><font style="vertical-align: inherit;">Das hei√üt, der Dieb kann nicht vom USB-Flash-Laufwerk booten und den Computer nicht einfach von iloud l√∂sen, indem er das Find My Mac-Token von nvram entfernt. </font><font style="vertical-align: inherit;">Es funktioniert auch nicht einfach, das Betriebssystem neu zu installieren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/2g/6g/vv2g6gl97knqw_0jrjajvnkixmi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen im Wiederherstellungsmodus ein Kennwort f√ºr UEFI festlegen. </font><font style="vertical-align: inherit;">Halten Sie dazu beim Booten CMD + R gedr√ºckt und w√§hlen Sie im Men√º die Option Startup Security Utility. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber nicht alles ist so rosig, das Passwort auf der UEFI sch√ºtzt nicht. </font><font style="vertical-align: inherit;">Auf Macbooks werden bis 2019 UEFI-Firmware- und NVRAM-Variablen auf einem normalen SPI-Flash-Laufwerk gespeichert, mit dem Sie sich mit dem Programmierer verbinden und alle Daten ohne Autorisierung √§ndern k√∂nnen.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UEFI-Passwort zur√ºcksetzen</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei allen MacBooks ohne T2-Chip ist die Firmware auf dem Motherboard in keiner Weise gesch√ºtzt. Es kann leicht neu geflasht werden, einschlie√ülich des Entfernens des Passworts f√ºr UEFI. Schlie√üen Sie dazu einfach den Programmierer an den Debug-Anschluss auf dem Motherboard an, und Sie k√∂nnen mit dem Speicherchip wie mit einem normalen Flash-Laufwerk arbeiten. </font></font><br>
<br>
<img width="400" src="https://habrastorage.org/webt/pw/bh/kw/pwbhkws-uye_igppdmvrbmlcs74.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Universalkabel f√ºr die Firmware des Flash-Laufwerks f√ºr alle Modelle von Macbooks</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Diese Anschl√ºsse sind </font><i><font style="vertical-align: inherit;">verwirrend</font></i><font style="vertical-align: inherit;"> , da sie keinen Schl√ºssel haben, </font><i><font style="vertical-align: inherit;">dh</font></i><font style="vertical-align: inherit;"> von verschiedenen Seiten angeschlossen werden k√∂nnen. Bei verschiedenen MacBook-Modellen befindet sich der Anschluss an verschiedenen Stellen. Manchmal muss die Stromversorgung des 3,3-V-Flash-Laufwerks separat verl√∂tet werden. Daher m√ºssen Sie manchmal die Schaltung eines bestimmten Motherboards sorgf√§ltig untersuchen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/ve/pt/jmveptpckft30t2yccbhf4pdplw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt auch vollst√§ndig autonome Ger√§te, die den gew√ºnschten Offset in der Firmware finden und im laufenden Betrieb abklopfen, wodurch das UEFI-Kennwort deaktiviert wird. </font><font style="vertical-align: inherit;">In einigen Service-Centern, in denen sie anbieten, das Kennwort auf UEFI zu entfernen, ziehen sie es vor, den Speicherchip zu entl√∂ten und im Clip des Programmierger√§ts zu flashen.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UEFI-Implantate</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eine separate exotische externe Karte mit EEPROM, die sofort in den Debug-Connector eingesetzt wird. </font><font style="vertical-align: inherit;">Normalerweise werden sie bereits unter dem gew√ºnschten Motherboard geflasht. </font><font style="vertical-align: inherit;">Unmittelbar nach der Installation startet der Computer von diesem Flash-Laufwerk und ignoriert das native Motherboard, das auf das Motherboard gel√∂tet ist. </font><font style="vertical-align: inherit;">In diesem Fall kann das native Flash-Laufwerk mit dem Firmware-Kennwort verbleiben. </font><font style="vertical-align: inherit;">Es ist praktisch, solche Implantate f√ºr Experimente mit UEFI-Patches zu verwenden. Sie k√∂nnen jederzeit auf Ihre native Firmware zur√ºckgreifen, indem Sie einfach das Modul herausziehen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ui/2b/hl/ui2bhlqhw1o7zyjgo03rul18zxu.jpeg"><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phishing-Diebstahlsicherung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich war so ver√§rgert √ºber die Nutzlosigkeit aller Apple-Diebstahlsicherungssysteme, dass ich mich entschied, meine eigenen zu entwickeln. </font><font style="vertical-align: inherit;">Dies war vor der Ank√ºndigung des T2-Chips, so dass es unm√∂glich war, sich auf Hardwareschutz zu verlassen, und ich beschloss, den Dieb einfach zu t√§uschen, damit er selbst alles tat, was erforderlich war. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Schema ist wie folgt:</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auf der Festplatte des MacBook wird eine kleine Linux-Partition hervorgehoben. </font><font style="vertical-align: inherit;">Der moderne Kernel (efistub) kann sofort ohne Zwischen-Bootloader wie refind booten. </font><font style="vertical-align: inherit;">Ich habe dar√ºber in einem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Artikel </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">in einer einzigen Datei f√ºr ein Macbook geschrieben. </font></a><font style="vertical-align: inherit;">Standardm√§√üig startet der Laptop Linux, wodurch der als macOS getarnte Assistent f√ºr die Ersteinrichtung gestartet wird. </font><font style="vertical-align: inherit;">Im Video wird es ab 7:00 Uhr gezeigt.</font></font></li>
<li>   ,    macOS   ,       () ,     nvram:  macOS     .        ,   ,      .       ,   .     ,      .         .  ,      ,        . </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Setup-Assistent bietet an, die Ersteinrichtung des Systems durchzuf√ºhren und fordert Sie dazu auf, eine Verbindung zu WiFi herzustellen. </font><font style="vertical-align: inherit;">Dann zeichnet er den gef√§lschten Prozess des Herunterladens von etwas, tippt in diesem Moment auf den Server und gew√§hrt dem tats√§chlichen Eigent√ºmer vollen Zugriff.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der BSSID-Besitzer von WiFi-Zugangspunkten findet den Standort des Laptops, kann Ton vom Mikrofon h√∂ren und den Dieb durch die Kamera beobachten usw. </font><font style="vertical-align: inherit;">W√§hrend die Benutzeroberfl√§che des Setup-Assistenten den Download-Vorgang f√ºr gef√§lschte Updates anzeigt, reist der Besitzer des Laptops bereits zur Adresse.</font></font></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen habe ich den Serverteil nicht fertiggestellt, aber hier sind die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellen des Setup-Assistenten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr Electron. </font><font style="vertical-align: inherit;">Es sieht √ºbrigens sehr glaubw√ºrdig aus, ich w√ºrde sogar verf√ºhrt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Demonstration auf Video:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/I3_XST3z4qo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></font></h2><br>
<ul>
<li><b> FindMy  .</b>        .   ,    ,       . ,             . <b>     ,     !</b></li>
<li><b>   FileVault!</b>       .          .       ,          .   ,        ,        ,         ,     .   ,          ,    . </li>
<li>[]<b>   .</b>        UEFI,       Safari Only Mode.  ,        .</li>
<li><b>   UEFI.</b>         iCloud.    ,    ,    .</li>
<li><b>    T2.</b>   ,     2.      ,  EEPROM   .       .</li>
</ul><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/zg/zf/j2/zgzfj2gg1a2tn7leusfxt7qfmm4.png" width="780"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495112/index.html">Inhaltsbasiertes Tagging im werf-Sammler: Warum und wie funktioniert es?</a></li>
<li><a href="../de495114/index.html">Selbstisolation: Wie wahrscheinlich ist es, dass Sie Coronavirus bekommen, wenn Sie spazieren gehen</a></li>
<li><a href="../de495116/index.html">Wie man alles von Nano bis Makro versteckt: Wissenschaftler haben die allgemeinen Prinzipien der "Theorie der Unsichtbarkeit" entwickelt.</a></li>
<li><a href="../de495118/index.html">Probleme bei der Verwendung von Doctrine ODM in Daemon-Prozessen</a></li>
<li><a href="../de495120/index.html">Es ist Zeit, die OpenBSD-Sicherheit zu √ºberdenken</a></li>
<li><a href="../de495128/index.html">Gibt es ein menschliches Gesichts-VPN?</a></li>
<li><a href="../de495130/index.html">Sortieren in Scala - ein Beispiel f√ºr Katzen</a></li>
<li><a href="../de495138/index.html">Wie werden sich Gesellschaft und Technologie nach dem Coronavirus ver√§ndern? Expertenmeinungen</a></li>
<li><a href="../de495140/index.html">Top 10 Memes des letzten Jahrzehnts</a></li>
<li><a href="../de495146/index.html">Unterbrechungsfreie Stromversorgung von Einkaufszentren oder Shopping Must On On</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>