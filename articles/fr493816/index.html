<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥘 🌡️ 😯 Git Guide Partie numéro 1: tout ce que vous devez savoir sur le répertoire .git 🏩 👎🏾 🌽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Commencer à utiliser Git, c'est comme visiter un nouveau pays dont vous ne connaissez pas la langue. S'il est clair où vous êtes et où aller, tout va ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Git Guide Partie numéro 1: tout ce que vous devez savoir sur le répertoire .git</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/493816/"><h1><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bfd/37b/155/bfd37b155ed3b478ea1e7269e764aee9.png"></div><br>
</h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commencer à utiliser Git, c'est comme visiter un nouveau pays dont vous ne connaissez pas la langue. S'il est clair où vous êtes et où aller, tout va bien, mais si vous vous perdez, de gros problèmes commencent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe des tonnes de didacticiels sur les commandes Git publiés sur Internet, mais dans cet article, le travail de Git est examiné plus en profondeur que d'apprendre les commandes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">première partie du guide Git</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du blog Pierre de Wulf traduit par l'équipe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .&nbsp;</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les nouveaux utilisateurs ont du mal à se familiariser avec Git. </font><font style="vertical-align: inherit;">Il s'agit d'un outil puissant, mais malheureusement pas très facile à apprendre. </font><font style="vertical-align: inherit;">Beaucoup de nouveaux concepts, des commandes qui effectuent différentes actions, si le fichier est passé en paramètre ou non, des commentaires peu clairs ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La seule façon de surmonter toutes ces difficultés est probablement d'apprendre un peu plus que git commit / push, pour comprendre comment Git fonctionne.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dossier .Git</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous créez un nouveau référentiel avec la commande git init, Git crée un dossier magique, .git. </font><font style="vertical-align: inherit;">Il contient tout ce dont vous avez besoin pour que Git fonctionne. </font><font style="vertical-align: inherit;">Si vous souhaitez supprimer Git de votre projet, mais laissez les fichiers du projet sur le disque, supprimez simplement le dossier .git. </font><font style="vertical-align: inherit;">Mais qui pourrait en avoir besoin?</font></font><br>
<br>
<pre><code class="plaintext hljs">&nbsp; &nbsp; ├── HEAD<font></font>
&nbsp; &nbsp; ├── branches<font></font>
&nbsp; &nbsp; ├── config<font></font>
&nbsp; &nbsp; ├── description<font></font>
&nbsp; &nbsp; ├── hooks<font></font>
&nbsp; &nbsp; │ ├── pre-commit.sample<font></font>
&nbsp; &nbsp; │ ├── pre-push.sample<font></font>
&nbsp; &nbsp; │ └── ...<font></font>
&nbsp; &nbsp; ├── info<font></font>
&nbsp; &nbsp; │ └── exclude<font></font>
&nbsp; &nbsp; ├── objects<font></font>
&nbsp; &nbsp; │ ├── info<font></font>
&nbsp; &nbsp; │ └── pack<font></font>
&nbsp; &nbsp; └── refs<font></font>
 &nbsp; &nbsp; ├── heads<font></font>
 &nbsp; &nbsp; └── tags</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici le contenu d'un dossier .git typique avant votre premier commit:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HEAD</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nous y réfléchirons plus tard.</font></font></li>
<li><strong>config</strong> —       , , ,  url    ,  , email   .      git config,     .</li>
<li><strong>description</strong> —  gitweb    .</li>
<li><strong>hooks</strong> —    ,        Git.  ,  ,   / commit/rebase/pull…      .           push  .</li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">info - exclude</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - les fichiers que vous ne souhaitez pas inclure dans le référentiel sont décrits ici. </font><font style="vertical-align: inherit;">La fonctionnalité de ce fichier est la même que celle du fichier .gitignore, sauf qu'il n'est pas transféré dans le référentiel. </font><font style="vertical-align: inherit;">Dans la pratique, .gitignore est généralement suffisant pour toutes les tâches.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que contient le commit?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque fois que vous créez un fichier et validez des modifications, Git archive le fichier et le stocke dans sa structure de données. </font><font style="vertical-align: inherit;">Un objet archivé est créé avec un nom unique et stocké dans le dossier des objets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant d'examiner le dossier d'objets, clarifions ce qu'est la validation. </font><font style="vertical-align: inherit;">Un commit est un nugget de l'état actuel des fichiers dans un dossier de travail, mais pas seulement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, lorsque vous validez des modifications, Git ne fait que deux choses:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si le fichier dans le dossier de travail n'a pas changé, il ajoute simplement le nom du fichier compressé (hachage) à l'instantané.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si le fichier du dossier de travail a changé, il le comprime, le place dans le dossier des objets et ajoute le nom du fichier compressé (hachage) à l'instantané.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, ici tout est décrit d'une manière quelque peu simplifiée, cependant, cela suffit pour comprendre les processus en cours. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dès qu'un instantané est pris, il est également archivé et nommé avec un hachage, puis placé dans le dossier des objets.</font></font><br>
<br>
<pre><code class="plaintext hljs">├── 4c<font></font>
│ └── f44f1e3fe4fb7f8aa42138c324f63f5ac85828 // hash<font></font>
├── 86<font></font>
│ └── 550c31847e518e1927f95991c949fc14efc711 // hash<font></font>
├── e6<font></font>
│ └── 9de29bb2d1d6434b8b29ae775ad8c2e48c5391 // hash<font></font>
├── info // let's ignore that<font></font>
└── pack // let's ignore that too</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici à quoi ressemble le dossier d'objets après avoir créé file_1.txt et l'avoir validé. </font><font style="vertical-align: inherit;">Veuillez noter que si le hachage de votre fichier commence par «4cf44f1e ...», Git l'enregistrera sous le nom «f44f1e ...» dans un sous-dossier nommé «4c». </font><font style="vertical-align: inherit;">Ainsi, les fichiers seront disposés dans 256 sous-dossiers et chacun n'aura pas trop de fichiers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, nous avons trois hachages. </font><font style="vertical-align: inherit;">Un pour file_1.txt, le second pour un instantané pris lors de la validation. </font><font style="vertical-align: inherit;">À quoi sert le troisième? </font><font style="vertical-align: inherit;">Le troisième hachage est créé car le commit est également un objet, il est également archivé et placé dans le dossier des objets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devez vous rappeler que la validation se compose de quatre choses:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nom (hachage) de l'instantané du répertoire de travail.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commentaire.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informations sur qui a exécuté le commit.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le hachage du commit parent.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyez par vous-même ce qui se passe si vous décompressez le fichier de validation:</font></font><br>
<br>
<pre><code class="plaintext hljs">git cat-file -p 4cf44f1e3fe4fb7f8aa42138c324f63f5ac85828</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et voici ce que vous verrez:</font></font><br>
<br>
<pre><code class="plaintext hljs">tree 86550c31847e518e1927f95991c949fc14efc711<font></font>
author Pierre De Wulf <font></font>
&lt;test[@gmail.com](mailto:pierredewulf31@gmail.com)&gt; 1455775173 -0500<font></font>
committer Pierre De Wulf <font></font>
&lt;[test@gmail.com](mailto:pierredewulf31@gmail.com)&gt; 1455775173 -0500<font></font>
commit A</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous voyez, comme prévu, le hachage de l'instantané, l'auteur et le commentaire du commit. </font><font style="vertical-align: inherit;">Deux choses sont importantes ici:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le hachage de l'instantané "86550 ..." est également un objet et peut être vu dans le dossier des objets.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme il s'agit du premier commit, il n'a pas de commit parent.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce qui est vraiment dans l'image?</font></font><br>
<br>
<pre><code class="plaintext hljs">git cat-file -p 86550c31847e518e1927f95991c949fc14efc711<font></font>
100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 file_1.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous voyons l'objet qui était dans notre stockage d'objets, le seul objet dans notre image.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Branche, tags, HEAD sont une seule et même chose</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous comprenez maintenant que tout dans Git peut être obtenu via le hachage correct. </font><font style="vertical-align: inherit;">Regardons maintenant HEAD. </font><font style="vertical-align: inherit;">Alors qu'y a-t-il?</font></font><br>
<br>
<pre><code class="plaintext hljs">cat HEAD<font></font>
ref: refs/heads/master<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a pas de hachage, et cela a du sens, car HEAD est un pointeur vers le haut de la branche avec laquelle vous travaillez. </font><font style="vertical-align: inherit;">Si vous regardez le fichier refs / heads / master, vous verrez:</font></font><br>
<br>
<pre><code class="plaintext hljs">cat refs/heads/master<font></font>
4cf44f1e3fe4fb7f8aa42138c324f63f5ac85828<font></font>
&nbsp;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ça vous semble familier? </font><font style="vertical-align: inherit;">Naturellement, c'est un hachage du premier commit! </font><font style="vertical-align: inherit;">Cela montre que les balises et les branches ne sont que des pointeurs vers une validation. </font><font style="vertical-align: inherit;">En comprenant cela, vous pouvez supprimer toutes les balises que vous souhaitez, toutes les branches que vous souhaitez et la validation vers laquelle elles pointaient restera en place. </font><font style="vertical-align: inherit;">La seule chose, il sera plus difficile d'y accéder. </font><font style="vertical-align: inherit;">Si vous voulez en savoir plus à ce sujet, consultez le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git book</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dernier commentaire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après l'avoir lu, il devrait devenir évident pour vous que tout ce que fait Git est d'archiver votre dossier de travail et de le placer dans le dossier des objets avec des informations supplémentaires. </font><font style="vertical-align: inherit;">Si vous êtes assez familier avec Git, vous avez un contrôle total sur les fichiers qui seront inclus dans la validation et ceux qui ne le seront pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je crois que la validation n'est pas un instantané du dossier de travail, mais un instantané des fichiers que vous souhaitez valider. </font><font style="vertical-align: inherit;">Et où Git stocke-t-il la liste des fichiers que vous souhaitez valider? </font><font style="vertical-align: inherit;">Il enregistre cette liste dans un fichier d'index. </font><font style="vertical-align: inherit;">Nous ne nous pencherons pas en profondeur sur cette question, si vous êtes intéressé, plus de détails peuvent être trouvés </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traduit avec le support de </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quoi d'autre à lire</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Méthodes de mise en cache simples dans GitLab CI: un guide d'images</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    -Agile   </a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">      </a>.</li>
</ol><br>
</div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493802/index.html">Comprendre l'activité Android launchMode: standard, singleTop, singleTask et singleInstance</a></li>
<li><a href="../fr493804/index.html">Joueur parlant sur framboise</a></li>
<li><a href="../fr493808/index.html">Linéarisation de code asynchrone avec de la corutine</a></li>
<li><a href="../fr493810/index.html">Cinq ans de développement intensif du marché de la reconnaissance de documents</a></li>
<li><a href="../fr493814/index.html">Comment nous menons des entretiens à Barcelone</a></li>
<li><a href="../fr493818/index.html">Git Guide Partie numéro 2: la règle d'or et autres bases de rebase</a></li>
<li><a href="../fr493820/index.html">Équilibrage de charge et mise à l'échelle de connexions à longue durée de vie Kubernetes</a></li>
<li><a href="../fr493822/index.html">Problèmes et fonctionnalités de l'implémentation UEFI sur diverses plates-formes</a></li>
<li><a href="../fr493826/index.html">Diviser pour mieux régner: améliorer l'électrolyse de l'eau</a></li>
<li><a href="../fr493828/index.html">Comment l'interface raconte des histoires dans les jeux vidéo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>