<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🚒 📺 🕵️ ソビエトプログラマブル計算機「エレクトロニクスMK-52」のアーキテクチャへの実装 🗒️ 🙅🏿 👩🏾‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事では、例としてMK-52電子計算機を使用したソビエトのプログラム可能なマイクロ計算機のアーキテクチャと、それをアーキテクチャに組み込む方法について説明します。
 
 「エレクトロニクスB3-34」ファミリーのソビエト計算機（「エレクトロニクスMK-56」、「エレクトロニクスMK-61」、「エ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ソビエトプログラマブル計算機「エレクトロニクスMK-52」のアーキテクチャへの実装</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467501/"><img src="https://habrastorage.org/webt/l4/bn/lp/l4bnlpz03jmoef1_az7csdrhq9e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、例としてMK-52電子計算機を使用したソビエトのプログラム可能なマイクロ計算機のアーキテクチャと、それをアーキテクチャに組み込む方法について説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エレクトロニクスB3-34</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">ファミリーのソビエト計算機</font><font style="vertical-align: inherit;">（「エレクトロニクスMK-56」、「エレクトロニクスMK-61」、「エレクトロニクスMK-52」）は、ソ連で特に人気がありました。この理由は、MK-54が65ルーブル、MK-61が85ルーブル、MK-52が115ルーブルという手頃な価格だけでなく、開発されたプログラミング言語にもありました。この電卓ファミリーは、多くのユーザーにとって事実上の標準となっています。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">膨大な数の本</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらのマシンでのプログラミングと既製のアルゴリズムの公開に専念しました。電子MK-52はソユーズTM-7宇宙船の宇宙空間にまで飛び込み、降下航法装置が故障した場合のバックアップとして使用されるはずでした。ソ連海軍でさえ、Astro PDUメモリ拡張ユニットを備えたMK-52電子計算機は、しばらくの間、ナビゲーション計算の標準ツールでした。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dm/7m/kp/dm7mkpf690txckpntxvzqgdsrge.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MK-52マイクロ計算機は、ソビエトのプログラム可能なマイクロ計算機の第2世代に属しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の世代は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B3-21</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファミリー</font><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MK-46</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MK-64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS 1103を含む</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）でした。ベーシックモデルB3-21は1975年に開発され、1977年以来量産されています。彼女は2つの数値用の作業スタックを持っていました（B3-34ファミリーのようなB3-21 — RPNを備えた計算機—逆ポーランド（または非ブロッキング）レコード—最初に数値がスタックに入力され、次に操作ボタンが押されます）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wy/wx/fv/wywxfvdw7sgk9gmfodxmayonqvq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ワーキングスタックに加えて、6つの数値のリングスタックが追加されました。このスタックの円に数字を書き込んでから、それを抽出できます。また、2〜8のメモリレジスタがさらに7つ（MK-46、MK-64、およびMC 1103では8つ）は、数値を格納するための通常のメモリレジスタです。 B3-21のプログラムステップ数は60です。モデルMK-46、MK-64、およびMC 1103には66があります。最新のモデルは、外部デバイスからのパラメーターを監視するためのブロックを備えたデスクトップ計算機です。 MK-46では、デジタルコードを受信する可能性しかありませんでした。MK-64およびMS 1103では、A / Dコンバーターを備えたカセットが取り付けられ、相互作用を構成する追加のチップK145IK1801が搭載されていました。このチップのインストールにより、9番目の追加のメモリレジスタと6つ以上のプログラムステップが表示されました。コマンドコードを入力することにより、レジスタ番号9を介して読み取り制御が発生しました。同様に、MK-61とMK-52にはK745IK1306チップが搭載されており、追加の機能に加えて、別のレジスターと7つのプログラムステップが追加されていますが、後で詳しく説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1980年のどこかで、第2世代のプログラム可能なマイクロ計算機が「Electronics B3-34」に直面して登場しました。最初のコピーの価格は120ルーブルでしたが、プラントはすぐに価格を85ルーブルに引き下げ、1985年までどこかでモデルを販売しました。一般に、計算機の価格設定は別の記事の議論の主題です：どこかで、リリースされたときに価格が下がったり、どこかで値上がりしたりしました。興味があれば、私のサイトで何年にもわたる価格の変動を確認できます。できる限りこのような情報を収集するようにしています。電卓B3-34は類似の関数に置き換えられましたが、よりコンパクトなMK-54、デスクトップMK-56です。数年後、K745IK1306チップが追加機能を備えて登場し、MK-54と同様のケースで新しいMK-61モデルをリリースし、512ステップでEEPROM K1601PP1を内蔵した水平MK-52（ユニークなもの、私は世界中でEEPROMを備えた他の計算機を見たことはありません。低消費電力のCMOS RAMまたは最新のフラッシュのいずれかと、デバイスを接続するための2つのコネクタがあります。接続されていません（工場では、製造時のテスト用の技術的コネクタについて説明しています）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
背面図：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/am/jz/al/amjzallsqti33evaebnau7gl6em.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ii/gf/cs/iigfcsw5omkcx4t-gcuphpvpupa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第1世代のマイクロ計算機と比較すると、大幅な改善が見られました。数値を格納するレジスタの数が8/9から14/15に増えました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つのレジスターからの操作スタックがさらに2つのレジスターX、Y、Z、Tによって増加しました。レジスターXの最後の値のレジスターは、最後の算術演算-BX（操作レジスターX、Y、Z、Tと最後のXレジスターの前に出現した）ではなく、全体として、類似のレジスターを備えたHewlett Packardの計算機ですが、ここでHPとの同一性が終了します）。プログラム領域は60/66ステップから98ステップ（B3-34、MK-54、MK-56、MC 1104）から105ステップ（MK-61およびMK-52）に増加しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムでは、レジスタL0〜L3で自動ループを使用できます。対応するレジスタは、ゼロと比較して1だけ減少し、アドレスで分岐します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第2世代の計算機は、間接アドレス指定の実装を大幅に改善しました。数値を保存/取得するためのインデックスレジスタとして、また条件を含むプログラムやサブプログラムへの間接的な遷移のために、任意のメモリレジスタをインデックスとして使用できます。この場合、間接ジャンプレジスタの値は自動的に減少する（レジスタ0〜3）、増加する（レジスタ4〜6）、または変更されないままになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レジスタを使用したこれらすべての自動アクションにより、プログラム領域が大幅に節約され、プログラミングが容易になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MK-52での作業について長い間話すことができます。これらのマシンを使用していない人のために、これらのマシンの機能について簡単に説明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まずは建築についての話から始めたいと思います。計算機B3-21とB3-34のファミリーは、キエフマイクロデバイス科学研究所（NIIMP）の開発です。 「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electronics 4-71</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">と呼ばれる最初の計算機は</font><font style="vertical-align: inherit;">、1971年に登場しました。 1971年のCPSUの第24回議会で、2つの企業（Kiev NIIMPとLeningrad Svetlana）に大規模な集積回路で電卓を作成するタスクが与えられました。その結果、ほぼ同時に、電卓の2つのモデルが登場しました。前述のElectronics 4-71と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electronics 24-71です。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「（モデルの名前はわかりますか？）モデル4-71は、Iskraファミリの最初の計算機と同様に、マイクロプログラム制御で作成されました。ムーア機のロジックは、レニングラード州特別設計局と共同で動作しています。つまり、ボタンを押すと、必要なトリガーが所定の位置に収まります（ボタン）、対応するマイクロ</font><font style="vertical-align: inherit;">コマンドの通路を形成します。オートマット</font><font style="vertical-align: inherit;">は確かに優れていますが、改善の点ではそれほど遠くありません。</font><font style="vertical-align: inherit;">1974年に州特別設計局</font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iskra-114</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">計算機で</font><font style="vertical-align: inherit;">さえ、すでにK5YAP011001 ROM（おそらくUSSRで最初のマスクされたROMチップ）がありました） 「ファームウェア」を</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用しているため、1973年にNIIMP </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が登場しました。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">独自の設計のマイクロコントローラーコア。生きている間、このサイトをリンク上に保存してください。NIIMPには多くの興味深い情報があります。</font><font style="vertical-align: inherit;">K145IK2Aマイクロチップ上</font><font style="vertical-align: inherit;">の最初の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B3-09エレクトロニクス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロ計算機は「最初のパンケーキ」として登場し、定着しませんでしたが、その変更</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B3-09Mエレクトロニクス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、B3-14M、およびB3-14は、何十万ものユニットが年間生産され、赤字を計算する問題を解決しました。それらの年の私達の生産の十分な計算機がありませんでした、そしてそれらは社会主義国と資本主義国の両方から海外から輸入されました。 1977年の映画「Office Romance」を覚えていますか？</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9:15から</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、どの電卓がテーブルにある</font><font style="vertical-align: inherit;">かがわかります。</font><font style="vertical-align: inherit;">主に、トランジスタGDRのSoemron 220と、最初の変更のブルガリアElka 50です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e0/jp/p-/e0jpp-xe_5hit_8_wqfxnfahgiy.jpeg"> <img src="https://habrastorage.org/webt/jk/9z/qy/jk9zqya4_xnfiv_s6bukqer1r1g.jpeg"> <img src="https://habrastorage.org/webt/rn/80/vq/rn80vqiro-wl_8glnx8sxty1_qq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より大きい写真は、ラジオピクチャーズのウェブサイトで見ることができます：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K145IK2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K145IK501</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K145IK502P</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらは、K145IK2、IK501、およびIK502マイクロ回路の水晶です。ご覧のとおり、4つの算術演算K145IK2を使用した単純な計算機のチップは、プログラムされた計算機「B3-21」のチップ（K145IK501、502、503）とほぼ一致しています。後者は「ファームウェア」のみが異なります。ファームウェア番号は、名前の後に別のレイヤーに表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hk/ko/iq/hkkoiqawr0aafrjh6knbckqshny.jpeg"> <img src="https://habrastorage.org/webt/hm/pw/2k/hmpw2ktxcjnenw67qsp3bispcq0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/l-/4y/af/l-4yafqzkcarvfugrzfwgtad-qk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これはすでにより完璧な水晶チップ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K145IK1302</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であり、この記事で取り上げている「Electronics MK-52」を含む「Electronics B3-34」ファミリーのプログラマブル計算機に含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チップの中央に3つの領域が表示されます（緑色でマークされています）。これは、マイクロコマンドのメモリ、同期プログラムのメモリ、およびプログラムメモリです。黄色はリングシフトレジスタを示します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
計算機のプロセッサは75-100 kHzの周波数で動作します。プロセッサには、複数のソースとレシーバーを備えた1ビットALU（算術論理デバイス）があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4つのマイクロタクトの場合、プロセッサは1つのマイクロコマンドを実行します（1つのノートブック上で）。各マイクロコマンドは、加算器にどのソースのセットを使用するか、および結果をどこに配置するかを示します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それぞれ27ビットの長さの合計68のマイクロコマンド、128の異なる同期プログラム、およびコマンド用の256セル。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
計算機のマイクロプロセッサ（ROM、RAM、および入出力ポートの両方が含まれているため、マイクロコントローラと言う方が正確です）は一貫して機能します。すべてのレジスタはシフトレジスタです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/34/_q/2-/34_q2-ye3kkjrf1dqz71vizfhoi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセッサーの内部はすべてループ状になっており、カルーセル、観覧車、観客のいる理想的なバスのある遊園地に似ています。一方のドアは入口で、もう一方のドアは出口で働き、訪問者は徐々に最初から最後まで動きます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
公園の従業員（マイクロコマンド）は、ノートブック（マイクロコマンドフィールド）で確認し、各マイクロタクトで、接近したセルカルーセル、観覧車、またはバスの次の乗客（つまり、次のレジスター）ビットから抽出（または抽出しない）して、「アダー」アトラクションに誘導します。マイクロコマンドのフィールドによっては、いくつかのアクションが発生し、結果が返されます。このルーチンは4ビットで有効で、その後、小節番号が増分されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レジスターは循環型であるため、開発者はサイズを正しく設定する必要がありました。その結果、K145IK13ファミリの電卓の基本数は42でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この長さ（42テトラッド）には、レジスタM、R、STの順次レジスタがあります。必要な数がリング全体に進むのを待たないようにするために、さらに、各クロックサイクルで使用可能な転送レジスタのようないくつかの4ビットおよび1ビットのレジスタがあります。 8ビットの仮数と2ビットの順序を持​​つ1つの数値は、14のテトラッド（42の3分の1）を占めます。リングレジスタには正確に3つの数値が入ります。これにより、たとえば、K145IK1301の電卓「Electronics B3-32」に実装されているように、ブラケットで計算するときにメモリレジスタと2つの数値のストレージを実現できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数値42では、いわゆる「同期プログラムのメモリ」も機能し、実行する必要があるマイクロコマンドのアドレスが含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リングレジスタのサイズとメジャー番号0〜41（1リングサイクル）と密接に同期しているため、同期プログラムと呼ばれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各同期プログラムには、実行する必要がある9つのマイクロコマンドが含まれています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
syncコマンドはかなり興味深いものです。開発者はアルゴリズムを分析し、転送を考慮して、ノートブックでの1つの典型的なALU操作には3クロックサイクルが必要であり、実行されるアクションはかなり類似していると計算しました。そして、小節番号（0-41）に応じて、マイクロコマンドが常に次の順序でハードウェアで実行されるようにしました：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0、1、2、3、4、5、3、4、5、3、4、5、3 4、5、3、4、5、3、4、5、3、4、5、6、7、8、0、1、2、3、4、5、6、7、8、0、1 2、3、4、5</font></font><br>
<br>
<img src="https://habrastorage.org/webt/te/fi/vq/tefivqfqnqwkgnci8vc-dshekwe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
続けて7回実行される同じセクション（マイクロコマンド3、4、5）を黄色でマークしました。これは、8桁の数値を1つ処理するのに十分です。実際、これらは既製のマイクロアルゴリズムです。一方では、このような組み込みループはプログラムに必要なROMの容量を減らしますが、他方では、そのようなシーケンスが常にプログラムのすべての行で実行されることを想像してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのテトラッドは3つのメジャーで処理されるため、この間のデータはなんとかリングに残ります。この機能のため、リングレジスタの数値は連続したセルに格納されず、3番目ごとに格納されるため、サイクル3、4、5の終わりに間に合うように到着しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下図にプログラムメモリ領域を示します。プログラムメモリの各フィールドには、1つのリングサイクルで完了する必要がある3つの同期プログラムに関する情報が含まれています。 3番目の同期プログラムは通常、すべての種類のブランチに使用されるというニュアンスもあります。レジスタRでは、セル36と39は現在実行中のプログラムのアドレスに割り当てられ、最初の2つの同期プログラムが実行されると対応するクロックに表示され、3番目の同期プログラムがこのアドレスを処理します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、マイクロプロセッサ内部はさらに複雑に動作します。すべてのニュアンスを伴うそれの説明だけが、本トロキシメンコY.K.の12ページ以上を占めています。 「プログラム可能なマイクロ計算機。デバイスと使用」（本はグーグルです）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3つの処理レベルを持つこのアーキテクチャ-同期プログラムのアドレスを含むプログラムメモリ、マイクロコマンドの数を含む同期プログラムのメモリ、および一連のソースとレシーバーを含むマイクロコマンドのメモリは、マイクロ回路K145IK2、K145IK13xx、K145IK18xxおよびK145IK19xxのファミリ全体のベースですが、レジスタサイズが異なるだけです。アドレッシングとブランチングが別のものに行われ、他の改善と変更が行われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、開発者が1973年に行った最も興味深いことは、プロセッサの頭脳を拡張のために引き出したことです。私はリングレジスタを意味します。最初の質量計算機B3-09Mでは、レジスター容量は十分で、拡張は必要ありませんでした。しかし、魅力が十分でない場合はどうなりますか？サイズを大きくするか、隣にもう1つ置くことができます。 ROMのサイズ、したがってクリスタルのサイズを大きくしないように、製造プロセスでの適切なクリスタルの歩留まりやその他の問題を減らすために、開発者はいくつかの同じプロセッサを使用して、共通のリングレジスタを作成しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oe/he/u4/oeheu4lgstefrnnvklppifo85ie.jpeg"> <img src="https://habrastorage.org/webt/2y/3h/hi/2y3hhizsx2m7ow3goeog5r6dc5u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
左の写真はK145IK2クリスタルの一部で、右はK145IK5です。左上に注目してください。すでに製造工程では、2つのコンタクトパッド（リングレジスタ）を閉じる小さなジャンパがあります。また、K145IK5では、このジャンパーはありません。また、リングレジスタは閉じていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1975年、プログラマブル電卓の最初のサンプル「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エレクトロニクスB3-21</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」が登場。そこでは、K145IK5タイプの3つのプロセッサー（K145IK501、K145IK502、およびK145IK503）を見ることができます。ファームウェアのみが異なります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のK145IK502プロセッサーは、キーボード入力とインジケーターへの出力、自動モードとプログラム入力と実行モードでのアクションの処理に従事しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
K145IK501は算術演算を実行しており、K145IK503は三角関数演算を実行しています。また、ユーザープログラムとメモリレジスタを格納する容量も必要であるため、1つの大きなシフトレジスタであるK145IR1チップも同じレジスタのギャップに配置されました。その結果、3つのバスが直列に接続された3つのアトラクションと1つの電車がありました。そして、すべてのデータは、クロックジェネレーターの速度で共通のリングに沿って常に移動しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのマイクロコントローラーからファームウェアを読み取ってアーキテクチャーを理解できたFelix Lazarevのおかげで</font><font style="vertical-align: inherit;">、MK-61やB3-34など</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">計算機の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">エミュレーター</font></a><font style="vertical-align: inherit;">を手に入れました</font><font style="vertical-align: inherit;">。そこでは、その作業をより詳しく研究し、共通のリングからチップをオン/オフにして遊ぶことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第2世代「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エレクトロニクスB3-34</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">の最初のマイクロ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">計算機</font></a><font style="vertical-align: inherit;">は、</font><font style="vertical-align: inherit;">チップK145IK1302（入力/出力、動作モード）、K145IK1303（数学関数）、およびそれぞれ1008ビットの2つのレジスターK145IR2を使用しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ro/k9/o7/rok9o7k2pftqfeyc6m-dqmerjps.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
合計すると、2つのレジスタMと1008ビットの2つのレジスタは、それぞれサイズが42 * 4 + 42 * 4 + 1008 + 1008 = 2352ビットのリングを形成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者は、データフィールド全体を784ビット（196テトラッドまたは98バイト）の3つの同一領域に分割しました。ユーザープログラムは最初の領域（98ステップ）に格納され、データレジスタは2番目の領域（0〜9、a、b、c、d、14の4つの値を持つ14のレジスタ）に格納され、3番目の領域はサービス領域です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B3-34の登場から数年後、MK-61とMK-52という2つの新しいモデルが登場しました。彼らは別のK145IK1306チップを追加しました。そこでは、度数による演算と論理演算が計算されます。リングは次のようになり</font></font><br>
<br>
<img src="https://habrastorage.org/webt/to/8z/1k/to8z1k2pmq0o3rqeb9ad1vlveem.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ました。K145IK1306には、K145IK1302およびK145IK1303と同じレジスタMがあることに注意してください。このチップの出現により、リングに1つのメモリレジスタ（14テトラッド）、さらに7つのプログラムステップ（14テトラッド）が追加され、サービスエリアが14テトラッド増加しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MK-52には、EEPROMチップまたは取り外し可能なメモリ拡張ユニットからデータを転送するK745IK1801チップもあります。ただし、レジスタリングは使用しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MK-61およびMK-52タイプの計算機におけるデータリング全体の内訳を次の図に示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gk/gv/rl/gkgvrl6ap8qm-nwjx-ws2b2mw20.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言ったように、リング全体はM1、M2、M3の3つの領域に分かれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エリアM1には、メモリレジスタ0〜9、a、b、c、d、eがあります。それらの興味深い点は、数値を格納するために12のテトラッド（1は仮数符号、8は仮数符号、3は順序）が必要であり、14のテトラッドが1つのレジスターに割り当てられている（プロセッサーで42で除算される）ことです。その結果、レジスタごとに2つのノートブックは使用されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M3の領域にはプログラムメモリがあります。すべてがシンプルです。B3-34では98ステップ、MK-61およびMK-52では105ステップ（14テトラッド）です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M2エリアが最も興味深い。レジスタX、Y、Z、T、BXに加えて、MS領域、通信チャネルKS、およびラベルも含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
示されている領域は互いに続いていません。覚えておいて、私は同期プログラムで3クロックサイクルを要し、レジスタ内の数値が3つおきのセルに格納されるようにするいくつかの反復的な操作があると言った？このデータは、リングデータに実装されます。最初に、領域M1の最初の四つ組が送信され、次に領域M2の最初の四つ組、次に領域M3の最初の四つ組が送信されます。次に、2番目のノートブックなどが続きます。そして、3クロックサイクルの間、マイクロコマンド3、4、5が同期プログラムで実行されますが、不要な領域はスキップされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
共通のリングでのデータの分配を扱ったとき、私はMsとして指定された領域に非常に落ち込んでいました。それは非常に大きく、リングのデータ領域の6分の1を占めています。そして、この領域は計算機では使用されません。アーキテクチャを開発する際、開発者は「データプログラム領域」を作成する機会を提供しました。これは、プログラムまたはデータレジスタのいずれかを書き込むことができる領域です。さらに、かなり広い領域-56プログラムステップ。電卓では、交換のために[K]ボタンと組み合わせて特別な機能を有効にすることが想定されていました（ボタン1と2の上、空の場所があります）。しかし、繰り返しますが、シリアルモデルではこの領域が消えたため、メモリレジスタを増やすか、プログラムを56ステップ長くすることができました。この分野は、1986年の第7号「Technique-Youth」でさりげなく取り上げられました。</font></font><br>
<br>
<img src="https://ic.pics.livejournal.com/avva/111931/119690/119690_original.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リングデータでの同期の最も重要な要素は、いわゆる「ラベル」です。これは、ユニットで構成される9つのノートブックのシーケンスです。 「タグ」コードが表示されると、プロセッサーの内部カウンターがリセットされ、リングはタグコードに関連してカウントダウンを開始します。マシンの電源を入れた直後、K145IK1302ヘッドプロセッサはリングを初期化してマークを形成します。コマンドとレジスターの内容は、ラベルコードがデータでもプログラムでも見つからないように選択されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B3-34ファミリーの電卓の上級ユーザーは、「ダミー」-インジケーターに小数点のみが表示されるときの文書化されていない操作について聞いたことがあります。これは単位のみで構成されるコードです。このコードが表示されると、内部カウンターが誤動作し、電卓がおかしくなり始めます-2つのコードが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内部アドレス指定はラベルコードに関連しています。レジスターMが追加されたK745IK1306チップが登場すると、セルの数が増加し、条件付きで最後に追加されました。これは、このアーキテクチャーではリング内のデータ領域全体が連続しているためです。このアーキテクチャでは、K145IK13などの別のプロセッサを追加できます。これにより、メモリレジスタが1つ増え、さらに7つのプログラムステップが追加されます（最大112）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどの場合、データの内部表現は</font><font style="vertical-align: inherit;">、同じK145IK1305マイクロプロセッサで作成された</font><font style="vertical-align: inherit;">プログラム不可能な電卓</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electronics MK-44</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でも同様に機能します。それは私たちの国で最も人気のあるデスクトップ電卓の1つでした。 3つのメモリレジスタがあります。持ち出したレジスタMのリングを引き裂いて、そこにメモリを追加するとどうなるのだろう。実験は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功した</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。プロセッサは表示されたメモリを「ピックアップ」し、計算機には10個のメモリレジスタがありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、プロセッサはどのように相互に作用しますか？ 「通信チャネル」（CS）と呼ばれる特別なフィールドと「通信」します。 B3-21ファミリの計算機とB3-34ファミリの計算機の両方に、1つのメインプロセッサがあります。私たちの場合、これはB3-21の場合はK145IK502、B3-34の場合はK145IK1302です。オンにするとリングを初期化し、「ラベル」コードを形成し、オペレーターと対話して、キーボード入力とインジケーターへの出力を整理します。他のプロセッサはスタンバイモードにあり、コマンドを待機しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「通信チャネル」とは、メインプロセッサが数値を挿入できる2つのノートブックで、1つの操作コードを含む1バイトです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヘッドプロセッサがプログラムまたは手動モードで作業しているときに、独自のコードで操作を処理できない場合、ヘッドプロセッサは操作コードをリングのリングボックスのレジスタに入れて待機を開始します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スレーブプロセッサは、データリング内のCOPのレジスタを常に監視しています。スレーブプロセッサが処理できるオペレーションコードが表示されるとすぐに、処理を開始します。たとえば、加算機能の実行、サインの計算などを行います。スレーブプロセッサは、必要なレジスタをリングから独立して抽出し、リングに入れます。操作、および結果が戻されます。プロセッサは、アクションを実行した後、通信チャネルレジスタをクリアし、最も低いノートブックを番号「F」で上書きします。つまり、通信チャネル（追加コード）に数値10が現れた場合、カウントの最後に、数値1FがCOPのレジスターに書き込まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヘッドチップの通信チャネルにオペレーションコードを設定すると同時に、ウォッチドッグタイマーの種類により専用のスタンバイカウンターが作動します。スレーブプロセッサが通信チャネルを介してコマンドを処理できない場合、一定の時間が経過すると、ホストプロセッサは通信チャネルをクリアし、インジケータにエラーメッセージ「YYYYYYG」を表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
計算プロセス中に数値のエラーが発生した場合、スレーブチップはこのタイムアウトを使用します。たとえば、ユーザーが負の数から根を抽出しようとしました。この場合、スレーブチップは通信チャネルに何も入れず、数秒後にホストプロセッサ自体がエラーメッセージを表示します。そのため、電卓では、このようなエラーのある「EGGOG」という銘板の出力に非常に時間がかかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メインプロセッサは、他のどのプロセッサがリングにあるかを認識していない場合があります。コードを通信チャネルに挿入するだけで、他のプロセッサがコードを処理します。たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS-1104電子</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">計算機でソビエト時代に行ったように、K745IK1306チップを別のチップに交換したり、マイクロコントローラーに基づいて開発したりできます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シリアルデータバスに加えて、「MK-52 Electronics」タイプの計算機には、EEPROMおよび外部メモリ拡張モジュールとのインターフェースがあります。上で書いたように、MK-52にはK1601PP1の電気的に消去可能なメモリ用のチップがあり、最大512のプログラムステップを書き込むことができます。プログラムメモリの代わりに、数値メモリレジスタを保存できます。何を書き込むか-プログラムメモリまたはレジスタは、フロントパネルの「D-P」スイッチによって決定されます。 EEPROMの同じ領域は、プログラムの保存とレジスタの保存の両方に使用できます。レジスタをEEPROMに書き込み、記録されたデータをプログラム領域に抽出したり、その逆を行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロサーキット側の計算機のタイプ：大きなマイクロサーキット</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uf/eu/08/ufeu08qq7pbb8bpujig9xdc2b5u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/lm/lt/ejlmltirchwrplmywaxht0q0bac.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内部EEPROMに加えて、交換可能なメモリモジュール「PDU」（メモリ拡張ユニット）も製造されました。</font><font style="vertical-align: inherit;">プログラムが記録されているROMチップです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
既知のモジュールの合計：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDU「アストロ」、別名BRP-2-ナビゲーションプログラム。</font><font style="vertical-align: inherit;">モジュールは船で使用され、記事の冒頭で書きました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRP-3には数学プログラムが含まれていました</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRP-4-数学プログラムおよびゲームを含む家庭用プログラム。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ROMはかなりの量で、実際には2つのモジュールのプログラムが1つのPDUに入りました。つまり、BRP-3モジュールの所有者は、ケースを開いてジャンパーをはんだ付けし、Astro BRP-2モジュールを入手できます。</font><font style="vertical-align: inherit;">ダンプ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読み取った</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ところ、BRP-4モジュール内の不明な宛先モジュールからのダンプが見つかりました。これらのダンプの使用方法に関する情報はまだありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EEPROMまたはPDU K745IK1801を備えた通信チップは完全に独立しています。彼女は電卓リングにも座っていますが、コマンドを追跡していません。 [A↑]ボタンを押してROMまたはEEPROMへのアクセスのアドレスと長さとしてレジスタXの内容を記憶し、[↑↓]ボタンを押すだけで、プログラムまたはデータ領域の消去、読み取りまたは書き込みを開始します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PDU ROMに関連して、パラレルコードのアドレスは常にバス上に設定され、PDUは常にセルの内容を提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PDUモジュールは、MK-52計算機の背面にある対応するコネクターに挿入されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
確かに、電卓を購入したすべてのMK-52ユーザーは、ケースの背面に2つのコネクタを見ました。説明書や雑誌で、開発者は、このコネクタは製造段階での技術的な目的にのみ使用されることを説明しました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MK-52電卓のシリアル以外の変更が行われた可能性がありますが、それらについて聞いたことがありません。私はいつも、そのコネクターの上に座って仕事で使用できるようなデバイスを開発したいと思っていました。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">コンセプトに</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
移れば</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">計算機では、電源電圧とクロック信号に加えて、K745IK1801チップの入力と出力から取得したリングからの信号もコネクタに出力されていることがわかります。リングに潜入して何かを記録するには、それを壊す必要がありました。もちろん、MK-52スキームで何かを変更することが最新のオプションです。しかし、K745IK1801マイクロサーキットリングの出力信号は弱いことがわかりました。ほとんどの場合、電源電圧の1つにわずかに引き締められており、信号で非常に自由に過負荷になる可能性があります。だから私はしました。マイクロコントローラはMK-52リングを監視し、分析し、データの読み取りと書き込みを行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、FRS-BRPモジュールというデバイスを得ました。ここに概略図があります：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iz/d8/dm/izd8dmuq-h3l18av6dkhgazjg24.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モジュールの中核はSTM32F205マイクロコントローラーです。彼は計算機の内部周波数発生器からの割り込みにより、リングに沿って送信されたデータをビットごとに読み取ります。パラレルバスを同時に監視して、メモリ拡張ユニットをエミュレートします。ロジックレベルを正しく検出するには、多数のコンパレータが必要です。実際には、電卓は0〜-15ボルトの負の電圧を使用します。この電圧は、5ボルトの電源から生成されます。ボードは、これらの電圧を使用する必要がありましたが、-15ボルトだけでなく、-5および-3.3にも使用できました。その結果、FRS-SRPボードの電卓では0ボルトであった電圧は+5ボルトになり、-5ボルトの電圧はゼロになりました。コンパレーターでは、すべてをうまくフィルターに掛けることができ、それらはたくさんありますが、現在は非常に安価です。主に、コンパレータは、PDUエミュレータのパラレルバスの信号のデコードに関与します。もちろん、PDU自体をリングに直接データを送信することでエミュレートできます。しかし、真正性のために、ユーザーがPDUの説明に記載されている「同じ」ボタンを押すように、本格的なエミュレーターを作成することにしました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bt/rc/7w/btrc7wt65gu7wz7oeov-ftk2cnk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、MK-52計算機をその目的に使用する人はほとんどいません。</font><font style="vertical-align: inherit;">計算のより効率的な手段があります。</font><font style="vertical-align: inherit;">しかし、愛好家、その内部構造に対処したい人、実証済みのプログラムを使用したい人、または1980年代半ばのユーザーを夢中にさせるようなゲームをプレイしたい人にとって、このモジュールは便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このモジュールでできること：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツのOLED画面に表示され、RAM計算機の2つのレジスタ（0-9、A、B、C、D、E）を同時に選択します。</font><font style="vertical-align: inherit;">プログラムアカウントモードでは、電卓のメイン画面が点滅しているときに、モジュールのボタンをクリックしてレジスタを表示できます。</font></font></li>
<li> ()  -, -3, -4, -5         ( -5  ,         ).</li>
<li>    (105 )         1  130.</li>
<li>        130    (105 ).</li>
<li>  . 3, 4      (0-9, A, B, C, D, E)  130 .</li>
<li>    ,     (,    )  50 .</li>
<li>    («-1», «-2», «-3», «-1», «-2», «»).</li>
<li>      7451303      ,   ,      . ,   7451303      ,  «  »,       ,       .</li>
<li>           0x28 (K *)  0x29 ( /).</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上で書いたように、オペレーションコードは通信チャネルを介して送信されます。これで、ほとんどすべてのコードがビジー状態になり、リモートコントロールから入力できるコマンドは、コード27、28、29の3つだけです。原則として、いくつかのタスクには十分です。意図された目的のための計算機はもはやケーキではないので、どのコマンドを実装できるかわかりませんが、処理の事実は魅力的です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ええと、もちろん-USBを介したコンピュータとの通信。モジュールは簡単な対話コマンドを実装しており、データ、プログラム、サービスエリア、またはリング全体の内容を読み書きできます。ディスクに保存、抽出、分析、変更、計算機に書き込むことができます。ここにスクリーンショットがあります：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mh/2v/dr/mh2vdrtvnwjlxx1oxcdff0k4yu4.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、通信チャネルにいくつかの数値を入力して、それが他のチップによってどのように処理されるかを確認できます。または、一部のサービスセルの記述が異なるとどうなるかを確認します。または、電卓を「暗い」状態から抜け出すことができるかどうかを確認します。レジスタXがモジュールを通じてモジュールを介して、たとえば500から0に修正された場合、それは昏迷から取り除かれますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、計算機から出てくるのはデータリングだけです。また、ソフトウェアカウンターや記号などの他の条件-計算機がプログラムに従ってカウントしているか、インジケーターに表示しているかなど-この情報は内部レジスターRに格納されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、開発者たちは彼を連れ出した。</font><font style="vertical-align: inherit;">同じMK-52の回路を見ると、「特定のジャンパ」があることがわかります。これは、「R」レジスタの出力と入力です。</font><font style="vertical-align: inherit;">つまり、必要に応じて、このバスに接続して、バスの内部をより注意深く調べることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような推定されたレジスタは、おそらくK145IK5、K145IK13、K145IK18、さらにはK145IK19ファミリのすべてのマイクロ回路にあります。</font><font style="vertical-align: inherit;">有名な時計「K145IK1901」のマイクロサーキットにもMレジスタとRレジスタが用意されており、回路図で確認できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1v/tk/ii/1vtkiidwo6z6ay_prbanbj-yh5q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は、実験として、</font><font style="vertical-align: inherit;">K145IK1901の時計のレジスタに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、データのある場所を取得しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事の結論として、言及したマイクロコントローラーファミリーはCCCPで非常に人気があり、多数の計算機がありました。モデルはそれに基づいてリリースされました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K145IK2-B3-09、B3-09M、B3-14、B3-14M;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K145IK5xx-B3-05M、B3-21、MK-46、MK-64、MS-1103、MK-59、Elwro 330;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K145IK13xx-B3-32、MK-44、B3-34、MK-54、MK-56、MK-52、MK-61、MS-1104。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オンチップシリーズとK145IK18xx K145IK19xx-有名な電化製品-電子レンジタイマー、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時計</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">写真の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイムスイッチ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コントローラーlentoprotyazhekからテープレコーダーなど。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が言いたかったのはそれだけです。</font><font style="vertical-align: inherit;">面白かったです。</font><font style="vertical-align: inherit;">ご清聴ありがとうございました。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja467489/index.html">それらはPHPの奇妙な静的変数です</a></li>
<li><a href="../ja467493/index.html">インターネット上の潜在的な攻撃者がアクセスしにくくなる方法。個人的な経験と観察</a></li>
<li><a href="../ja467495/index.html">tor-relayのコスト</a></li>
<li><a href="../ja467497/index.html">泥棒はディープフェイクを使用して、企業を騙して送金します</a></li>
<li><a href="../ja467499/index.html">OpenStreetMap No. 476の世界からのニュース（08.28.2019-02.09.2019）</a></li>
<li><a href="../ja467503/index.html">Google PageSpeedを100以上に加速</a></li>
<li><a href="../ja467511/index.html">AudioSwitcher-自動化する必要がないように見えるものの自動化</a></li>
<li><a href="../ja467517/index.html">モバイルデベロッパー向けの興味深い資料のダイジェスト＃315（9月9〜15日）</a></li>
<li><a href="../ja467523/index.html">RIBsアーキテクチャの実装方法。Yandex.Taxiを報告する</a></li>
<li><a href="../ja467525/index.html">Angularでモジュールを管理する方法（およびそれだけではない）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>