<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☘️ 🎅🏿 👩🏼‍🚀 React Native-Architektur im Jahr 2020 neu gestaltet 📄 🌴 🏴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das React Native (RN) Framework wurde 2015 veröffentlicht. Es wurde entwickelt, um plattformübergreifende mobile Anwendungen mithilfe der React-Biblio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>React Native-Architektur im Jahr 2020 neu gestaltet</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/505540/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das React Native (RN) Framework wurde 2015 veröffentlicht. Es wurde entwickelt, um plattformübergreifende mobile Anwendungen mithilfe der React-Bibliothek zu entwickeln. Diese Anwendungen unterstützen die nativen Funktionen der Plattformen, für die sie erstellt wurden. Die ursprüngliche React Native-Architektur wies bestimmte Mängel auf. Trotzdem erhielt RN eine gute Unterstützung durch die Community, und seine Popularität nahm nicht zuletzt dank Reacts hohem Ansehen allmählich zu.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ka/ai/2b/kaai2bun5gnxmt-soerdq3iyzj8.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Über das Architekturprojekt React Native wurde 2018 gesprochen. </font><font style="vertical-align: inherit;">Diese Arbeit erledigt das Facebook-Team. </font><font style="vertical-align: inherit;">Der Zweck der Neugestaltung besteht darin, das Framework stabiler zu machen und die häufigsten Probleme zu lösen, die sich in RN im Laufe der Jahre der Entwicklung angesammelt haben. </font><font style="vertical-align: inherit;">Das Material, dessen Übersetzung wir heute veröffentlichen, befasst sich mit der Frage, wie die Verarbeitung der RN-Architektur die Anwendungsleistung und die Geschwindigkeit von Programmierern verbessern kann.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alte Architektur</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React Native ist ein Beispiel für eine Lösung, die als plattformunabhängig bezeichnet werden kann. </font><font style="vertical-align: inherit;">Infolgedessen stellt sich heraus, dass das Hauptziel des Frameworks darin besteht, Entwicklern das Schreiben von JavaScript-Code mithilfe von React-Mechanismen zu ermöglichen. </font><font style="vertical-align: inherit;">Das Ziel von React Native ist es, den Baum der React-Komponenten in etwas zu verwandeln, das auf verschiedenen mobilen Plattformen funktioniert. </font><font style="vertical-align: inherit;">Dies bedeutet Folgendes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Korrekte Schnittstellenbildung.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereitstellung des Zugriffs auf die nativen Funktionen verschiedener Plattformen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Android / iOS-Ökosystemen sieht der zur Ausführung dieser Aufgaben verwendete Mechanismus normalerweise wie in der folgenden Abbildung aus.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb7/270/553/eb7270553b52c21de9acda19fe7b7891.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorhandene React Native-Architektur ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In jeder React Native-Anwendung werden die folgenden drei Threads parallel ausgeführt:</font></font><br>
<br>
<ul>
<li> JS.  — ,       JavaScript-.       .  Metro   JS-   ,    JSX-  TS-.      JavaScriptCore,       .</li>
<li> Native.     .     JavaScript- ,         .       . , Native UI,       . , Native Modules,      ,    .       .  , ,  React Native  Bluetooth-,    ,    ,  ,   ,  .</li>
<li> Shadow.      .    Yoga,    Facebook.     ,     .     ,    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Interaktion zwischen JS- und Native-Threads zu organisieren, wird das Bridge-Modul verwendet. Dieses Modul ist in C ++ geschrieben und basiert auf einer asynchronen Warteschlange. Wenn eine Bridge Daten von einer der Parteien empfängt, serialisiert sie diese Daten, konvertiert sie in eine Zeichenfolgenform und leitet sie durch die Warteschlange. Wenn die Daten an ihrem Ziel ankommen, werden sie deserialisiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies bedeutet, dass alle Threads auf asynchronen JSON-Nachrichten basieren, die über die Bridge gesendet werden. Jede Partei sendet diese Nachrichten in der Erwartung (aber ohne Garantie), dass diese Nachrichten irgendwann in der Zukunft beantwortet werden. Bei diesem Datenaustauschschema besteht die Gefahr einer Überlastung des Kommunikationskanals.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein Beispiel, das normalerweise gegeben wird, um zu veranschaulichen, wie ein solches Datenaustauschschema Probleme mit der Anwendungsleistung verursachen kann. Angenommen, ein Anwendungsbenutzer scrollt eine große Liste. Wenn das Ereignis onScroll in der nativen Umgebung auftritt, werden Informationen asynchron an die JavaScript-Umgebung übergeben. Native Mechanismen warten jedoch nicht, bis der JavaScript-Teil der Anwendung seine Arbeit erledigt und ihnen darüber Bericht erstattet. Aus diesem Grund gibt es eine Verzögerung, die sich im Erscheinungsbild der Liste ausdrückt, bevor der Inhalt angezeigt wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In ähnlicher Weise muss das System mehrere Datenaustauschsitzungen durchführen, bevor die Ergebnisse der Neuberechnung des Layouts den Bildschirm erreichen. </font><font style="vertical-align: inherit;">Bevor die Layoutdaten in die native Umgebung gelangen, müssen sie im Yoga verarbeitet werden. </font><font style="vertical-align: inherit;">Und das bedeutet natürlich, dass solche Daten auch über die Brücke übertragen werden müssen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen können, verursachen das Senden von JSON-Daten mithilfe asynchroner Mechanismen sowie das Serialisieren und Deserialisieren dieser Daten Leistungsprobleme. </font><font style="vertical-align: inherit;">Dieser Mechanismus ist unvollkommen. </font><font style="vertical-align: inherit;">Aber wie können Sie sonst zwischen nativen Mechanismen und JavaScript interagieren? </font><font style="vertical-align: inherit;">Sie können diese Frage mithilfe der JSI-Technologie beantworten.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neue Architektur</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Während der Neugestaltung der React Native-Architektur werden die Bridge-Funktionen auslaufen und durch einen neuen Mechanismus namens JavaScript Interface (JSI) ersetzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verwendung von JSI eröffnet einige großartige Verbesserungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste solche Verbesserung besteht darin, dass das JS-Bundle nicht mehr auf JSC basiert. Mit anderen Worten, die JSC-Engine kann jetzt leicht durch etwas anderes ersetzt werden, das möglicherweise eine höhere Leistung aufweist. Zum Beispiel - zum V8-Motor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite Verbesserung liegt der neuen React Native-Architektur zugrunde. Es liegt in der Tatsache, dass Sie dank der Verwendung von JSI in JavaScript Links zu C ++ - Objekten (Host-Objekten) speichern und Methoden dieser Objekte aufrufen können. Infolgedessen stellt sich heraus, dass der JavaScript-Teil der Anwendung und die nativen Mechanismen mehr voneinander wissen als zuvor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit anderen Worten, JSI ermöglicht die vollständige Interaktion zwischen allen Threads. Durch die Verwendung des Konzepts der gemeinsamen Eigentümerschaft kann JavaScript-Code native Methoden direkt aus dem JS-Stream ausführen. Es ist nicht erforderlich, JSON zum Übertragen von Daten zu verwenden. Dies beseitigt die Probleme, die für die Verwendung einer Brücke im Zusammenhang mit möglichen Warteschlangenüberläufen und asynchroner Datenübertragung typisch sind.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/34e/2fa/1bd/34e2fa1bdca25d1f878ee5295033dab2.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neue reaktive native Architektur ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Zusätzlich zu der Tatsache, dass das obige Schema die Interaktion zwischen verschiedenen Threads erheblich verbessert, ermöglicht die neue Architektur auch die direkte Steuerung nativer Module. </font><font style="vertical-align: inherit;">Dies bedeutet, dass native Module dann verwendet werden können, dann werden sie benötigt und nicht alle beim Start der Anwendung initialisiert. </font><font style="vertical-align: inherit;">Dies führt zu einer ernsthaften Erhöhung der Geschwindigkeit beim Starten von Anwendungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser neue Mechanismus könnte den Weg für die Entwicklung neuer Projekte ebnen, die in der Lage sind, alte RN-Anwendungen nicht zu nutzen. </font><font style="vertical-align: inherit;">Tatsache ist, dass uns jetzt die Macht von C ++ zur Verfügung stand. </font><font style="vertical-align: inherit;">Dies bedeutet, dass es auf der Basis von React Native nun möglich sein wird, viel mehr Arten von Anwendungen als zuvor zu erstellen.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Laufe der Jahre der Entwicklung haben sich in der React Native-Infrastruktur viele Dinge angesammelt, die heute als veraltet und ungenutzt angesehen werden können. Der Wunsch der RN-Entwickler, es unnötig zu entfernen und die Fähigkeit zur Unterstützung zu verbessern, führt dazu, dass einige seiner Funktionen entfernt werden. Wir sprechen zum Beispiel über die Tatsache, dass seine Kernelmodule wie Webview und AsyncStorage nach und nach aus dem Framework entfernt und als von der React Native-Community entwickelte Repositorys erstellt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dank des neuen kompakten Kerns und der beeindruckenden Interaktionsmechanismen zwischen JavaScript-Code und nativem Code sollte die Neugestaltung der React Native-Architektur dazu führen, dass RN-Anwendungen produktiver werden und schneller und bequemer zu entwickeln sind.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React Native Restrukturierung wird voraussichtlich im vierten Quartal 2020 abgeschlossen sein. </font><font style="vertical-align: inherit;">Ich bin begeistert von den Perspektiven auf Anwendungsleistung und Benutzerfreundlichkeit, die mit der Neugestaltung der RN-Architektur einhergehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie React Native verwenden, teilen Sie uns die Mängel dieses Frameworks mit, auf die Sie gestoßen sind.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/gu/ab/cg/guabcgmwuqoopx1ar80sjpz6keq.png"></a> <br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/de/0y/l-/de0yl-6ppopvisr_a80b4yuhjj8.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de505522/index.html">Monetarisierung in Online-Spielen: Wie Sie die Erfahrung eines anderen für Ihre eigenen Bedürfnisse nutzen können</a></li>
<li><a href="../de505528/index.html">Das Wichtigste in Wi-Fi 6. Nein, im Ernst</a></li>
<li><a href="../de505530/index.html">Google stellt seinen Prozessor her und AMD bereitet sich darauf vor, Qualcomm zu zerstören</a></li>
<li><a href="../de505532/index.html">Telegrammkanäle zur Spieleentwicklung: Teil 2</a></li>
<li><a href="../de505536/index.html">So kochen Sie Anrufverfolgung: Cyan Erfahrung</a></li>
<li><a href="../de505546/index.html">Flattern und Desktop-Entwicklung</a></li>
<li><a href="../de505548/index.html">Ohne Registrierung und SMS: „sozial bedeutende“ Websites und eine Liste des Ministeriums für digitale Angelegenheiten</a></li>
<li><a href="../de505554/index.html">Beim Wettbewerb „Junge Techniker und Erfinder“ werden echte junge Erfinder nicht benötigt</a></li>
<li><a href="../de505556/index.html">Apple verfolgt geplünderte iPhones und gibt Plünderer der Polizei</a></li>
<li><a href="../de505558/index.html">Amazon DeepLens Deep Learning Kamera. Ein Projekt entpacken, verbinden und bereitstellen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>