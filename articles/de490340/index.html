<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👕 👩‍👦 🚵🏿 Zen gehen ⚠️ 👨‍🎨 🗻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bei der Bewertung meiner Arbeit habe ich kürzlich viel darüber nachgedacht, wie man guten Code schreibt. Da niemand daran interessiert ist, wie man sc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Zen gehen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/490340/"><img src="https://habrastorage.org/webt/kr/ic/9k/kric9kwqdonbm71t_zw5b35ui4o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Bewertung meiner Arbeit habe ich kürzlich viel darüber nachgedacht, wie man guten Code schreibt. </font><font style="vertical-align: inherit;">Da niemand daran interessiert ist, wie man </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schlechten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Code </font><font style="vertical-align: inherit;">schreibt </font><font style="vertical-align: inherit;">, stellt sich die Frage: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Woher wissen Sie, ob Sie guten Code auf Go geschrieben haben</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font><font style="vertical-align: inherit;">Wenn es eine Art Skala zwischen gut und schlecht gibt, wie kann man dann verstehen, welche Teile der Skala zu den guten gehören? </font><font style="vertical-align: inherit;">Was sind seine Eigenschaften, Attribute, Unterscheidungsmerkmale, Muster und Redewendungen?</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idiomatisch gehen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Überlegungen führten mich zum idiomatischen Go. </font><font style="vertical-align: inherit;">Wenn wir etwas „idiomatisch“ nennen, dann entspricht dieses etwas einem bestimmten Stil einiger Zeit. </font><font style="vertical-align: inherit;">Wenn etwas nicht idiomatisch ist, entspricht es nicht dem dominanten Stil. </font><font style="vertical-align: inherit;">Das ist nicht in Mode. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Noch wichtiger ist, wenn wir sagen, dass der Code einer Person nicht idiomatisch ist, erklärt dies nicht den Grund. </font><font style="vertical-align: inherit;">Warum nicht idiomatisch? </font><font style="vertical-align: inherit;">Die Antwort gibt das Wörterbuch.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redewendung (S.): Eine Sprachrevolution, die als Ganzes verwendet wird, keiner weiteren Zersetzung unterliegt und normalerweise keine Permutationen in sich zulässt.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redewendungen sind Kennzeichen gemeinsamer Bedeutungen. </font><font style="vertical-align: inherit;">Bücher werden dir nicht das idiomatische Gehen beibringen, es ist nur bekannt, wenn du Teil einer Gemeinschaft wirst. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich mache mir Sorgen um das idiomatische Go-Mantra, weil es oft restriktiv ist. </font><font style="vertical-align: inherit;">Sie sagt: "Du kannst nicht bei uns sitzen." </font><font style="vertical-align: inherit;">Ist es nicht das, was wir meinen, wenn wir die Arbeit eines anderen als „nicht idiomatisch“ kritisieren? </font><font style="vertical-align: inherit;">Sie haben es falsch gemacht. </font><font style="vertical-align: inherit;">Das sieht nicht richtig aus. </font><font style="vertical-align: inherit;">Dies entspricht nicht dem Stil der Zeit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich glaube, dass das idiomatische Go nicht geeignet ist, um zu lehren, wie man guten Code schreibt, weil es im Wesentlichen bedeutet, den Leuten zu sagen, dass sie etwas falsch gemacht haben. </font><font style="vertical-align: inherit;">Es ist besser, solche Ratschläge zu geben, die eine Person nicht in dem Moment wegschieben, in dem sie diesen Rat am liebsten erhalten möchte.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sprüche</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns von idiomatischen Problemen ablenken. </font><font style="vertical-align: inherit;">Welche anderen kulturellen Artefakte sind Go-Programmierern eigen? </font><font style="vertical-align: inherit;">Wenden Sie sich an die schöne Seite </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go Proverbs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sind diese Sprüche ein geeignetes Lernwerkzeug? </font><font style="vertical-align: inherit;">Sagen sie Anfängern, wie man guten Go-Code schreibt? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich glaube nicht. </font><font style="vertical-align: inherit;">Ich möchte die Arbeit des Autors nicht herabsetzen. </font><font style="vertical-align: inherit;">Die Sprüche, die er verfasst hat, sind lediglich Beobachtungen, keine Bedeutungsdefinitionen. </font><font style="vertical-align: inherit;">Das Wörterbuch kommt wieder zur Rettung:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sprichwort (S.): Eine kurze Aussage, die wörtliche oder bildliche Bedeutung hat.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Mission von Go Proverbs ist es, die tiefe Essenz der Spracharchitektur zu zeigen. </font><font style="vertical-align: inherit;">Aber wird es nützlich sein, </font><font style="vertical-align: inherit;">einem Anfänger, der aus einer Sprache ohne strukturelle Typisierung stammt </font><font style="vertical-align: inherit;">, Ratschläge wie "Die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leere Oberfläche sagt nichts</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " zu geben? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In einer wachsenden Gemeinschaft ist es wichtig zu erkennen, dass die Anzahl der Go-Schüler weitaus größer ist als die Anzahl derjenigen, die diese Sprache fließend sprechen. </font><font style="vertical-align: inherit;">Das heißt, Sprüche sind wahrscheinlich nicht der beste Weg, um in einer solchen Situation zu lernen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Designwerte</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan Liu fand </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine alte Präsentation von</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mark Lukowski über die Designkultur im Windows NT-Windows 2000 Windows-Entwicklungsteam. Ich erwähnte dies, weil Lukowski Kultur als eine übliche Methode zur Bewertung von Architekturen und zum Eingehen von Kompromissen beschreibt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0cb/a0d/487/0cba0d4873afc7945a74500669efd389.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptidee besteht darin </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wertebasierte Entscheidungen innerhalb einer unbekannten Architektur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><i><font style="vertical-align: inherit;">treffen</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das NT-Team hatte folgende Werte: Portabilität, Zuverlässigkeit, Sicherheit und Erweiterbarkeit. </font><font style="vertical-align: inherit;">Einfach ausgedrückt, sind Designwerte ein Weg, um Probleme zu lösen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werte gehen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sind die expliziten Werte von Go? </font><font style="vertical-align: inherit;">Was sind die Schlüsselkonzepte oder -philosophien, die bestimmen, wie Go-Programmierer die Welt interpretieren? </font><font style="vertical-align: inherit;">Wie werden sie verkündet? </font><font style="vertical-align: inherit;">Wie werden sie unterrichtet? </font><font style="vertical-align: inherit;">Wie werden sie verfolgt? </font><font style="vertical-align: inherit;">Wie verändern sie sich im Laufe der Zeit? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie konvertiert man einen Go-Programmierer, um die Werte des Go-Designs zu erhalten? </font><font style="vertical-align: inherit;">Oder wie verkünden Sie als erfahrener Go-Pro Ihre Werte zukünftigen Generationen? </font><font style="vertical-align: inherit;">Und damit Sie verstehen, ist dieser Prozess des Wissenstransfers nicht optional? </font><font style="vertical-align: inherit;">Ohne den Zustrom neuer Teilnehmer und neuer Ideen wird unsere Community kurzsichtig und verdorrt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werte anderer Sprachen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um den Weg für das vorzubereiten, was ich sagen möchte, können wir auf andere Sprachen achten, auf ihre Designwerte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In C ++ und Rust wird beispielsweise angenommen, dass ein Programmierer </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht für eine Funktion bezahlen sollte, die er nicht verwendet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Wenn das Programm keine ressourcenintensive Funktion der Sprache verwendet, kann das Programm nicht gezwungen werden, die Kosten für die Wartung dieser Funktion zu tragen. Dieser Wert wird aus der Sprache in die Standardbibliothek projiziert und als Kriterium für die Bewertung der Architektur aller in C ++ geschriebenen Programme verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hauptwert in Java, Ruby und Smalltalk - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alles ist ein Objekt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dieses Prinzip liegt dem Programmdesign in Bezug auf Nachrichtenübertragung, Ausblenden von Informationen und Polymorphismus zugrunde. </font><font style="vertical-align: inherit;">Architekturen, die einem prozeduralen oder funktionalen Paradigma entsprechen, werden in diesen Sprachen als fehlerhaft angesehen. </font><font style="vertical-align: inherit;">Oder, wie ein Go-Programmierer sagen würde, nicht idiomatisch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kommen wir zurück zu unserer Community. </font><font style="vertical-align: inherit;">Welche Designwerte bekennen sich Go-Programmierer? </font><font style="vertical-align: inherit;">Die Diskussionen zu diesem Thema sind häufig fragmentiert, so dass es nicht einfach ist, eine Reihe von Bedeutungen zu formulieren. </font><font style="vertical-align: inherit;">Es ist unbedingt erforderlich, eine Einigung zu erzielen, aber die Schwierigkeit, eine Einigung zu erzielen, wächst exponentiell mit der wachsenden Anzahl von Teilnehmern an der Diskussion. </font><font style="vertical-align: inherit;">Aber was ist, wenn jemand diesen schwierigen Job für uns gemacht hat?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zen </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Go</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor einigen Jahrzehnten setzte sich Tim Peters hin und schrieb </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PEP-20</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Zen of Python</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Er versuchte, die Designwerte zu dokumentieren, an denen Guido Van Rossum als großzügiger lebenslanger Python-Diktator festhielt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen </font><font style="vertical-align: inherit;">wir uns </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das Zen von Python an</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und sehen wir, ob wir etwas über die Designwerte des Go-Designers erfahren können.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein gutes Paket beginnt mit einem guten Namen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit dem Scharfen:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namespaces sind eine großartige Idee, machen wir sie größer! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Zen von Python, Rekord 19.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eindeutig genug: Python-Programmierer sollten Namespaces verwenden. Viele Räume. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Go-Terminologie ist ein Namespace ein Paket. Es besteht kein Zweifel, dass die Bündelung Design und Wiederverwendung begünstigt. Es kann jedoch zu Verwirrung darüber kommen, wie dies zu tun ist, insbesondere wenn Sie über langjährige Programmiererfahrung in einer anderen Sprache verfügen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Go muss jedes Paket für etwas entworfen werden. Und der Name ist der beste Weg, um dieses Ziel zu verstehen. Um Peteres 'Gedanken neu zu formulieren, sollte jedes Paket in Go auf eine Sache ausgelegt sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Idee ist nicht neu, darüber habe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ich bereits gesprochen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Aber warum sollte dieser Ansatz verwendet werden und nicht ein anderer, bei dem Pakete für die Anforderungen einer detaillierten Klassifizierung verwendet werden? Es geht nur um die Veränderungen.</font></font><br>
<br>
<blockquote> —    ,         .<br>
<br>
 </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veränderung ist der Name des Spiels, an dem wir teilnehmen. Wir als Programmierer verwalten Veränderungen. Wenn wir es gut machen, nennen wir es Architektur. Und wenn es schlecht ist, nennen wir es technische Schulden oder Legacy-Code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie ein Programm schreiben, das einmal mit einem festen Satz von Eingabedaten hervorragend funktioniert, ist niemand daran interessiert, ob es guten Code enthält, da nur das Ergebnis seiner Arbeit für das Geschäft wichtig ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passiert aber nicht</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es gibt Fehler in Programmen, Anforderungen und Änderungen der Eingabedaten, und nur sehr wenige Programme werden mit einer einzigen Ausführungserwartung geschrieben. Das heißt, Ihr Programm </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sich im Laufe der Zeit ändern. Vielleicht wird Ihnen diese Aufgabe übertragen, aber höchstwahrscheinlich wird es jemand anderes tun. Jemand muss diesen Code begleiten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie erleichtern wir den Programmwechsel? </font><font style="vertical-align: inherit;">Überall Schnittstellen hinzufügen? </font><font style="vertical-align: inherit;">Tun Sie alles, was zum Erstellen von Stubs geeignet ist? </font><font style="vertical-align: inherit;">Abhängigkeiten eng bereitstellen? </font><font style="vertical-align: inherit;">Vielleicht sind diese Techniken für einige Arten von Programmen geeignet, aber nicht für viele. </font><font style="vertical-align: inherit;">Für die meisten Programme ist das Erstellen einer flexiblen Architektur jedoch mehr als Design. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wenn wir die Komponenten nicht erweitern, sondern ersetzen? </font><font style="vertical-align: inherit;">Wenn die Komponente nicht das tut, was in den Anweisungen angegeben ist, ist es Zeit, sie zu ändern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein gutes Paket beginnt mit der Auswahl eines guten Namens. </font><font style="vertical-align: inherit;">Betrachten Sie es als eine kurze Präsentation, die die Funktion eines Pakets mit nur einem Wort beschreibt. </font><font style="vertical-align: inherit;">Und wenn der Name die Anforderung nicht mehr erfüllt, suchen Sie einen Ersatz.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfachheit ist wichtig</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfach ist besser als komplex. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Zen von Python, Eintrag 3.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PEP-20 behauptet, dass das Einfache besser ist als das Komplexe, und ich stimme vollkommen zu. </font><font style="vertical-align: inherit;">Vor ein paar Jahren schrieb ich:</font></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="539576755254611968"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die meisten Programmiersprachen versuchen zunächst einfach zu sein, entscheiden sich aber später dafür, leistungsfähig zu sein.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach meinen Beobachtungen konnte ich mich zumindest zu dieser Zeit nicht an eine Sprache erinnern, die ich kannte und die nicht als einfach angesehen werden würde. Als Rechtfertigung und Versuchung erklärten die Autoren jeder neuen Sprache die Einfachheit. Aber ich fand, dass Einfachheit nicht der Kernwert vieler Sprachen im gleichen Alter wie Go war (Ruby, Swift, Elm, Go, NodeJS, Python, Rust). Vielleicht trifft dies einen wunden Punkt, aber vielleicht liegt der Grund darin, dass keine dieser Sprachen einfach ist. Oder ihre Autoren </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hielten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sie </font><font style="vertical-align: inherit;">nicht </font><i><font style="vertical-align: inherit;">für</font></i><font style="vertical-align: inherit;"> einfach. Einfachheit wurde nicht in die Liste der Kernwerte aufgenommen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können mich als altmodisch betrachten, aber wann ist diese Einfachheit aus der Mode gekommen? Warum vergisst die kommerzielle Softwareindustrie diese grundlegende Wahrheit ständig und freudig?</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt zwei Möglichkeiten, eine Softwarearchitektur zu erstellen: Sie ist so einfach, dass das Fehlen von Fehlern offensichtlich ist, und sie ist so komplex, dass sie keine offensichtlichen Fehler aufweist. </font><font style="vertical-align: inherit;">Die erste Methode ist viel schwieriger. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Charles Hoar, Die alte Kleidung des Kaisers, Turing Award Lecture, 1980</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einfach heißt nicht einfach, das wissen wir. </font><font style="vertical-align: inherit;">Oft ist mehr Aufwand erforderlich, um die Benutzerfreundlichkeit zu gewährleisten, als die einfache Erstellung.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfachheit ist der Schlüssel zur Zuverlässigkeit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Edsger Dijkstra, EWD498, 18. Juni 1975</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum nach Einfachheit streben? </font><font style="vertical-align: inherit;">Warum ist es wichtig, dass Go-Programme einfach sind? </font><font style="vertical-align: inherit;">Einfach bedeutet roh, lesbar und leicht zu befolgen. </font><font style="vertical-align: inherit;">Einfach bedeutet nicht kunstlos, sondern zuverlässig, verständlich und verständlich.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Kern der Programmierung ist das Komplexitätsmanagement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brian Kernigan, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Software Tools</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (1976)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ob Python seinem Mantra der Einfachheit folgt, ist eine umstrittene Frage. </font><font style="vertical-align: inherit;">Bei Go ist Einfachheit jedoch ein zentraler Wert. </font><font style="vertical-align: inherit;">Ich denke, wir sind uns alle einig, dass in Go einfacher Code dem intelligenten Code vorzuziehen ist.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vermeiden Sie Zustände auf Paketebene</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explizit ist besser als implizit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Zen von Python, Eintrag 2</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier träumt Peters meiner Meinung nach eher, als sich an die Fakten zu halten. In Python ist vieles nicht explizit: Dekorateure, Dunder-Methoden usw. Zweifellos sind dies mächtige Werkzeuge, und sie existieren aus einem bestimmten Grund. An der Implementierung jedes besonders komplexen Features hat jemand gearbeitet. Die aktive Verwendung solcher Funktionen macht es jedoch schwierig, die Kosten der Operation beim Lesen des Codes zu bewerten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Glücklicherweise können wir Go-Programmierer den Code optional explizit machen. Vielleicht ist Manifestation für Sie gleichbedeutend mit Bürokratie und Ausführlichkeit, aber dies ist eine oberflächliche Interpretation. Es wird ein Fehler sein, sich nur auf die Syntax zu konzentrieren, sich um die Länge der Zeilen und die Anwendung der DRY-Prinzipien auf Ausdrücke zu kümmern. Es scheint mir wichtiger, explizite Aussagen in Bezug auf Verbundenheit und Zustände zu machen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Konnektivität ist ein Maß für die Abhängigkeit des einen vom anderen. Wenn eines eng mit dem anderen verwandt ist, bewegen sich beide zusammen. Eine Handlung, die das eine betrifft, spiegelt sich direkt im anderen wider. Stellen Sie sich einen Zug vor, in dem alle Wagen miteinander verbunden sind. Wo der Dampfzug fährt, sind die Autos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konnektivität kann auch mit dem Begriff Kohäsion - Kohäsion beschrieben werden. Dies ist ein Maß dafür, wie sehr einer zum anderen gehört. In einem gelöteten Team sind alle Teilnehmer so aufeinander abgestimmt, als wären sie speziell dafür geschaffen worden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum ist Kohärenz wichtig? Wie im Fall des Zuges müssen Sie, wenn Sie einen Code ändern müssen, den Rest des eng verwandten Codes ändern. Zum Beispiel hat jemand eine neue Version seiner API veröffentlicht, und jetzt wird Ihr Code nicht kompiliert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine API ist eine unvermeidbare Bindungsquelle. Aber es kann in heimtückischeren Formen präsentiert werden. Jeder weiß, dass sich auch die zur und von der API übertragenen Daten ändern, wenn sich die Signatur der API geändert hat. Es geht nur um die Funktionssignatur: Ich nehme die Werte eines Typs und gebe die Werte anderer Typen zurück. Und wenn die API beginnt, Daten auf andere Weise zu übertragen? Was ist, wenn das Ergebnis jedes API-Aufrufs vom vorherigen Aufruf abhängt, auch wenn Sie Ihre Einstellungen nicht geändert haben? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies nennt man Staat, und Staatsmanagement ist ein Problem in der Informatik.</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> counter<font></font>
<font></font>
<span class="hljs-keyword">var</span> count <span class="hljs-keyword">int</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Increment</span><span class="hljs-params">(n <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {<font></font>
        count += n<font></font>
        <span class="hljs-keyword">return</span> count<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier haben wir ein einfaches Paket </font></font><code>counter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Um den Zähler zu ändern, können Sie anrufen </font></font><code>Increment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Sie können den Wert sogar zurückerhalten, wenn Sie mit einem Nullwert erhöhen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, Sie müssen diesen Code testen. Wie setze ich den Zähler nach jedem Test zurück? Und wenn Sie Tests parallel ausführen möchten, wie kann dies durchgeführt werden? Angenommen, Sie möchten mehrere Zähler im Programm verwenden. Werden Sie Erfolg haben? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich nicht. Offensichtlich besteht die Lösung darin, die Variable </font></font><code>variable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in den Typ </font><font style="vertical-align: inherit;">zu kapseln </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> counter<font></font>
<font></font>
<span class="hljs-keyword">type</span> Counter <span class="hljs-keyword">struct</span> {<font></font>
        count <span class="hljs-keyword">int</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *Counter)</span> <span class="hljs-title">Increment</span><span class="hljs-params">(n <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {<font></font>
        c.count += n<font></font>
        <span class="hljs-keyword">return</span> c.count<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich nun vor, dass das beschriebene Problem nicht auf Zähler beschränkt ist, sondern auch die Hauptgeschäftslogik Ihrer Anwendungen betrifft. </font><font style="vertical-align: inherit;">Können Sie es isoliert testen? </font><font style="vertical-align: inherit;">Können Sie parallel testen? </font><font style="vertical-align: inherit;">Können Sie mehrere Instanzen gleichzeitig verwenden? </font><font style="vertical-align: inherit;">Wenn die Antwort für alle Fragen Nein lautet, ist der Grund der Status auf Paketebene. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vermeiden Sie diese Bedingungen. </font><font style="vertical-align: inherit;">Reduzieren Sie die Konnektivität und die Anzahl der Albtraum-Remote-Aktionen, indem Sie den Typen die Abhängigkeiten bereitstellen, die sie als Felder benötigen, anstatt Paketvariablen zu verwenden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Machen Sie Pläne für das Scheitern, nicht für den Erfolg</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übergeben Sie Fehler niemals lautlos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Zen von Python, Eintrag 10</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies gilt für Sprachen, die die Ausnahmebehandlung im Samurai-Stil fördern: Kommen Sie mit einem Sieg zurück oder kommen Sie überhaupt nicht zurück. In Sprachen, die auf Ausnahmen basieren, geben Funktionen nur gültige Ergebnisse zurück. Wenn die Funktion dies nicht kann, läuft der Regelungsfluss ganz anders ab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ungeprüfte Ausnahmen sind offensichtlich ein unsicheres Programmiermodell. Wie können Sie bei Fehlern zuverlässigen Code schreiben, wenn Sie nicht wissen, welche Ausdrücke eine Ausnahme auslösen können? Java versucht, Risiken mit dem Konzept der geprüften Ausnahmen zu reduzieren. Und soweit ich weiß, gibt es in anderen populären Sprachen keine Analoga dieser Lösung. Es gibt Ausnahmen in vielen Sprachen, und überall außer in Java werden sie nicht überprüft.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offensichtlich ging Go einen anderen Weg. </font><font style="vertical-align: inherit;">Go-Programmierer glauben, dass zuverlässige Programme aus Teilen bestehen, die Fehler behandeln, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bevor</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erfolgreiche Pfade verarbeitet werden. </font><font style="vertical-align: inherit;">Angesichts der Tatsache, dass die Sprache für die Serverentwicklung, die Erstellung von Multithread-Programmen sowie für Programme zur Verarbeitung von über das Netzwerk eingegebenen Daten erstellt wurde, sollten sich Programmierer auf die Arbeit mit unerwarteten und beschädigten Daten, Zeitüberschreitungen und Verbindungsfehlern konzentrieren. </font><font style="vertical-align: inherit;">Natürlich, wenn sie zuverlässige Produkte herstellen wollen.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich glaube, dass Fehler explizit behandelt werden sollten, dies sollte der Hauptwert der Sprache sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peter Burgon, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GoTime # 91</font></font></a></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich schließe mich den Worten von Peter an, sie dienten als Anstoß für das Schreiben dieses Artikels. </font><font style="vertical-align: inherit;">Ich glaube, dass Go seinen Erfolg der expliziten Fehlerbehandlung verdankt. </font><font style="vertical-align: inherit;">Programmierer denken hauptsächlich über mögliche Abstürze nach. </font><font style="vertical-align: inherit;">Zunächst lösen wir Probleme wie „Was wäre wenn“. </font><font style="vertical-align: inherit;">Das Ergebnis sind Programme, bei denen Fehler beim Schreiben von Code behandelt werden und nicht so, wie sie während des Betriebs auftreten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Ausführlichkeit dieses Codes</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    <span class="hljs-keyword">return</span> err<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Überwiegt die Wichtigkeit, jeden fehlgeschlagenen Zustand zum Zeitpunkt seines Auftretens absichtlich zu behandeln. </font><font style="vertical-align: inherit;">Der Schlüssel dazu ist der Wert der expliziten Behandlung jedes Fehlers.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lieber früh zurückkehren als tief investieren</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geschwister sind besser als </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
das Zen von Python zu </font><font style="vertical-align: inherit;">verschachteln </font><font style="vertical-align: inherit;">, Eintrag 5</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser weise Rat kommt aus einer Sprache, in der Einrückungen die Hauptform des Kontrollflusses sind. Wie interpretieren wir diesen Tipp in der Go-Terminologie? gofmt verwaltet die gesamte Menge an leerem Speicherplatz in Go-Programmen, daher haben wir hier nichts zu tun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe oben über Paketnamen geschrieben. Vielleicht ist es ratsam, eine komplexe Hierarchie von Paketen zu vermeiden. Nach meiner Erfahrung ist das Risiko eines zyklischen Imports von Paketen umso höher, je mehr ein Programmierer versucht, eine Codebasis auf Go zu trennen und zu klassifizieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich glaube, dass die beste Verwendung des fünften Eintrags aus </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Zen of Python darin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> besteht, einen Kontrollfluss </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">innerhalb einer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funktion </font><font style="vertical-align: inherit;">zu erstellen </font><font style="vertical-align: inherit;">. Vermeiden Sie mit anderen Worten einen Kontrollfluss, der eine mehrstufige Einrückung erfordert.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direkte Sichtbarkeit ist eine gerade Linie, entlang der die Sicht durch nichts verdeckt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
May Ryer, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code: Richten Sie den glücklichen Pfad am linken Rand aus</font></font></a></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
May Ryer beschreibt diese Idee als Programmierung in direkter Sichtlinie:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie Steueranweisungen, um frühzeitig zurückzukehren, wenn die Voraussetzung nicht erfüllt ist.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platzieren der Anweisung für die erfolgreiche Rückgabe am Ende der Funktion und nicht innerhalb des bedingten Blocks.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzieren Sie die Gesamtverschachtelungsebene, indem Sie Funktionen und Methoden extrahieren.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sicher, dass wichtige Funktionen niemals außer Sichtweite zum rechten Bildschirmrand gelangen. </font><font style="vertical-align: inherit;">Dieses Prinzip hat einen Nebeneffekt: Sie vermeiden bedeutungslose Streitigkeiten mit dem Team über die Länge der Linien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jedes Mal, wenn Sie einrücken, fügen Sie den Köpfen der Programmierer eine weitere Voraussetzung hinzu, die einen ihrer 7 ± 2 Kurzzeitspeicherplätze belegt. </font><font style="vertical-align: inherit;">Versuchen Sie, den erfolgreichen Pfad der Funktion so nah wie möglich an der linken Seite des Bildschirms zu halten, anstatt die Verschachtelung zu vertiefen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie glauben, dass etwas langsam läuft, beweisen Sie dies mit einem Benchmark</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geben Sie die Versuchung auf, angesichts von Zweideutigkeiten zu raten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Zen von Python 12</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Programmierung basiert auf Mathematik und Logik. </font><font style="vertical-align: inherit;">Diese beiden Konzepte verwenden selten das Element Glück. </font><font style="vertical-align: inherit;">Aber wir als Programmierer machen jeden Tag zahlreiche Annahmen. </font><font style="vertical-align: inherit;">Was macht diese Variable? </font><font style="vertical-align: inherit;">Was macht diese Option? </font><font style="vertical-align: inherit;">Was passiert, wenn ich hier null passiere? </font><font style="vertical-align: inherit;">Was passiert, wenn ich das Register zweimal anrufe? </font><font style="vertical-align: inherit;">In der modernen Programmierung muss man viel annehmen, insbesondere wenn man die Bibliotheken anderer Leute benutzt.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die API sollte einfach zu verwenden und schwer falsch zu verwenden sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Josh Bloch</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine der besten Möglichkeiten, wie ich einem Programmierer helfen kann, beim Erstellen einer API keine Vermutungen anzustellen, besteht darin, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sich auf Standardverwendungsmethoden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">konzentrieren</font></a><font style="vertical-align: inherit;"> . Der Anrufer sollte in der Lage sein, normale Vorgänge so einfach wie möglich auszuführen. Bevor ich jedoch viel geschrieben und über das Entwerfen der API gesprochen habe, ist hier meine Interpretation von Datensatz 12: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raten Sie nicht über das Thema Leistung</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotz Ihrer Einstellung zu Knuts Rat ist einer der Gründe für den Erfolg von Go die Effektivität seiner Ausführung. Effektive Programme können in dieser Sprache geschrieben werden, und dank dieses an, die </font><font style="vertical-align: inherit;">Menschen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werden</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wähle go. </font><font style="vertical-align: inherit;">Es gibt viele Missverständnisse in Bezug auf die Leistung. </font><font style="vertical-align: inherit;">Wenn Sie nach Möglichkeiten suchen, die Codeleistung zu verbessern, oder dogmatische Tipps wie "Verlangsamung des Regals", "CGO ist teuer" oder "Verwenden Sie immer atomare Operationen anstelle von Mutexen" befolgen, sollten Sie keine Wahrsagerei betreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komplizieren Sie Ihren Code nicht aufgrund veralteter Dogmen. </font><font style="vertical-align: inherit;">Und wenn Sie der Meinung sind, dass etwas langsam funktioniert, stellen Sie dies zunächst mithilfe eines Benchmarks sicher. </font><font style="vertical-align: inherit;">Go bietet großartige kostenlose Benchmarking- und Profiling-Tools. </font><font style="vertical-align: inherit;">Verwenden Sie sie, um Engpässe bei der Leistung Ihres Codes zu finden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bevor Sie mit Gorutin beginnen, müssen Sie herausfinden, wann es aufhören wird</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich glaube, ich habe die wertvollen Gegenstände aus PEP-20 aufgelistet und ihre Interpretation vielleicht über den guten Geschmack hinaus erweitert. </font><font style="vertical-align: inherit;">Das ist gut, denn obwohl dies ein nützliches rhetorisches Mittel ist, sprechen wir immer noch über zwei verschiedene Sprachen.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schreiben Sie g, o, ein Leerzeichen und dann einen Funktionsaufruf. </font><font style="vertical-align: inherit;">Drei Tastendrücke, es kann nicht kürzer sein. </font><font style="vertical-align: inherit;">Mit drei Tastenklicks haben Sie den Unterprozess gestartet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rob Pike, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfachheit ist kompliziert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dotGo 2015</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die nächsten beiden Tipps widme ich den Goroutinen. Gorutine sind ein charakteristisches Merkmal der Sprache, unsere Reaktion auf die Wettbewerbsfähigkeit auf hohem Niveau. Sie sind sehr einfach zu bedienen: Stellen Sie ein Wort </font></font><code>go</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vor den Operator und Sie führen die Funktion asynchron aus. Keine Ausführungsthreads, keine Pool-Executoren, keine IDs, keine Abschlussstatusverfolgung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gorutine sind billig. Aufgrund der Fähigkeit der Laufzeitumgebung, Goroutinen in einer kleinen Anzahl von Ausführungsthreads zu multiplexen (die Sie nicht verwalten müssen), können Sie problemlos Hunderttausende oder Millionen von Goroutinen erstellen. Auf diese Weise können Sie Architekturen erstellen, die bei Verwendung anderer Wettbewerbsmodelle in Form von Ausführungsthreads oder Ereignisrückrufen unpraktisch wären.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber egal wie billig die Goroutinen waren, sie sind nicht frei. Ihr Stapel benötigt mindestens einige Kilobyte. Und wenn Sie Millionen von Goroutinen haben, wird dies spürbar. Ich will damit nicht sagen, dass Sie nicht Millionen von Goroutinen verwenden müssen, wenn die Architektur Sie dazu drängt. Wenn Sie es jedoch verwenden, ist es äußerst wichtig, sie zu überwachen, da Goroutinen in solchen Mengen eine Menge Ressourcen verbrauchen können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Goroutinen sind die Hauptbesitzquelle in Go. Um nützlich zu sein, muss Goroutine etwas tun. Das heißt, es enthält fast immer eine Verknüpfung zu einer Ressource, dh Eigentumsinformationen: Sperre, Netzwerkverbindung, Datenpuffer, der das Ende des Kanals sendet. Während die Goroutine lebt, wird die Sperre gehalten, die Verbindung bleibt offen, der Puffer wird gespeichert und die Kanalempfänger warten auf neue Daten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einfachste Weg, Ressourcen freizugeben, besteht darin, sie mit dem Lebenszyklus der Goroutine zu verknüpfen. </font><font style="vertical-align: inherit;">Wenn es abgeschlossen ist, werden Ressourcen freigegeben. </font><font style="vertical-align: inherit;">Und da es sehr einfach ist, Goroutine auszuführen, stellen Sie vor dem Schreiben von "go and space" sicher, dass Sie Antworten auf die folgenden Fragen haben:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unter welchen Bedingungen hört Goroutine auf? </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go kann Goroutine nicht sagen, dass sie enden soll. </font><font style="vertical-align: inherit;">Aus einem bestimmten Grund gibt es keine Funktion zum Stoppen oder Unterbrechen. </font><font style="vertical-align: inherit;">Wir können nicht befehlen, dass die Goroutinen aufhören, aber wir können höflich fragen. </font><font style="vertical-align: inherit;">Dies hängt fast immer mit dem Betrieb des Kanals zusammen. </font><font style="vertical-align: inherit;">Wenn es geschlossen ist, wird der Bereich wiederholt, um den Kanal zu verlassen. </font><font style="vertical-align: inherit;">Wenn Sie den Kanal schließen, können Sie ihn auswählen. </font><font style="vertical-align: inherit;">Das Signal von einer Goroutine zur anderen wird am besten als geschlossener Kanal ausgedrückt.</font></font></li>
<li><strong>    ?</strong>          ,        ,   :        ?</li>
<li><strong>     ,   ?</strong>     ,    -       .        ,       .           .          ,        .</li>
</ul><br>
<h2>  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wahrscheinlich wird in einem Ihrer seriösen Go-Programme Parallelität verwendet. Dies führt häufig zu dem Problem eines Arbeitermusters - eine Goroutine pro Verbindung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Paradebeispiel ist net / http. Es ist ganz einfach, den Server zu stoppen, dem der Listening-Socket gehört, aber was ist mit den Goroutinen, die von diesem Socket generiert werden? net / http stellt ein Kontextobjekt innerhalb des Anforderungsobjekts bereit, mit dem dem Listener mitgeteilt werden kann, dass die Anforderung abgebrochen werden muss, und daher die Goroutine unterbrochen wird. Es ist jedoch nicht klar, wie man herausfinden kann, wann dies alles getan werden muss. Es ist eine Sache anzurufen </font></font><code>context.Cancel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, eine andere zu wissen, dass die Stornierung abgeschlossen ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich finde oft Fehler mit net / http, aber nicht, weil es schlecht ist. Im Gegenteil, es ist die erfolgreichste, älteste und beliebteste API in der Go-Codebasis. Daher werden seine Architektur, Entwicklung und Mängel sorgfältig analysiert. Betrachten Sie diese Schmeichelei, nicht Kritik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher möchte ich net / http als Gegenbeispiel für bewährte Verfahren einbringen. Da jede Verbindung von dem innerhalb des Typs erstellten Goroutin verarbeitet wird </font></font><code>net/http.Server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kann das Programm außerhalb des net / http-Pakets die vom empfangenden Socket erstellten Goroutins nicht steuern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Bereich der Architektur entwickelt sich noch. Sie können </font></font><code>run.Group</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das Go-Kit oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ErrGroup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des Go-Entwicklungsteams </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">aufrufen,</font></a><font style="vertical-align: inherit;"> das ein Framework zum Ausführen, Abbrechen und Warten auf asynchron ausgeführte Funktionen bietet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für alle, die Code schreiben, der asynchron ausgeführt werden kann, besteht das Hauptprinzip beim Erstellen von Architekturen darin, dass die Verantwortung für das Ausführen von Goroutinen auf den Aufrufer verlagert wird. </font><font style="vertical-align: inherit;">Lassen Sie ihn auswählen, wie er ausgeführt werden soll, verfolgen und warten, bis Ihre Funktionen abgeschlossen sind.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schreiben Sie Tests, um das Verhalten Ihrer Paket-API zu blockieren</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie haben vielleicht gehofft, dass ich in diesem Artikel das Testen nicht erwähnen werde. Entschuldigung, ein andermal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ihre Tests sind eine Vereinbarung darüber, was Ihr Programm tut und was nicht. Unit-Tests sollten das Verhalten ihrer APIs auf Paketebene blockieren. Tests beschreiben in Codeform, was das Paket verspricht. Wenn es für jede Eingabekonvertierung einen Komponententest gibt, haben Sie </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in Form von Code</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und nicht </font><strong><font style="vertical-align: inherit;">in Form einer</font></strong><font style="vertical-align: inherit;"> Dokumentation eine Vereinbarung über die Funktionsweise des Codes definiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Genehmigung dieser Vereinbarung ist so einfach wie das Schreiben eines Tests. Zu jedem Zeitpunkt können Sie </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">angeben</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mit einem hohen Maß an Vertrauen , </font><font style="vertical-align: inherit;">dass das Verhalten , </font><font style="vertical-align: inherit;">dass die </font><font style="vertical-align: inherit;">Menschen verlassen , </font><font style="vertical-align: inherit;">bevor die Änderungen vorgenommen Sie Funktion nach den Änderungen fortsetzen wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testet das Block-API-Verhalten. </font><font style="vertical-align: inherit;">Alle Änderungen, die die öffentliche API hinzufügen, ändern oder entfernen, sollten Änderungen in den Tests enthalten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mäßigung ist eine Tugend</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go ist eine einfache Sprache mit nur 25 Schlüsselwörtern. </font><font style="vertical-align: inherit;">In gewisser Weise werden dadurch die in die Sprache integrierten Funktionen hervorgehoben. </font><font style="vertical-align: inherit;">Dies sind die Merkmale, die es der Sprache ermöglichen, sich selbst zu fördern: einfacher Wettbewerb, strukturelle Typisierung usw. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich denke, wir alle sind verwirrt, wenn wir versuchen, alle Funktionen von Go gleichzeitig zu nutzen. </font><font style="vertical-align: inherit;">Wie viele von Ihnen waren von der Verwendung von Kanälen so begeistert, dass Sie sie verwendet haben, wo immer Sie können? </font><font style="vertical-align: inherit;">Ich fand heraus, dass die resultierenden Programme schwer zu testen, fragil und zu komplex sind. </font><font style="vertical-align: inherit;">Und Sie?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hatte die gleiche Erfahrung mit Goroutinen. Beim Versuch, das Werk in winzige Fragmente zu unterteilen, schuf ich die Dunkelheit von Goroutin, die schwer zu kontrollieren war, und verlor völlig die Tatsache aus den Augen, dass die meisten von ihnen immer blockiert waren, weil ihre Vorgänger erwarteten, das Werk fertigzustellen. Der Code war vollständig konsistent und ich musste die Komplexität erheblich erhöhen, um einen kleinen Vorteil zu erzielen. Wie viele von Ihnen sind darauf gestoßen? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hatte das gleiche mit dem Einbetten. Zuerst habe ich es mit Vererbung verwechselt. Dann stieß er auf das Problem einer fragilen Basisklasse, bei der mehrere komplexe Typen, die bereits mehrere Aufgaben hatten, zu noch komplexeren großen Typen kombiniert wurden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies mag der am wenigsten wirksame Rat sein, aber ich halte es für wichtig, ihn zu erwähnen. </font><font style="vertical-align: inherit;">Der Rat ist der gleiche: Halten Sie die Moderation aufrecht, und die Fähigkeiten von Go sind keine Ausnahme. </font><font style="vertical-align: inherit;">Verwenden Sie nach Möglichkeit keine Goroutinen, Kanäle, Einbettungsstrukturen, anonymen Funktionen, eine Fülle von Paketen und Schnittstellen. </font><font style="vertical-align: inherit;">Verwenden Sie einfachere Lösungen als intelligente.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfache Wartung ist wichtig</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Schluss gebe ich Ihnen noch einen Eintrag aus PEP-20:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lesbarkeit ist wichtig. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Zen von Python, Rekord 7</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde viel über die Bedeutung der Lesbarkeit von Code in allen Programmiersprachen gesagt. Diejenigen, die für Go werben, verwenden Wörter wie Einfachheit, Lesbarkeit, Klarheit und Produktivität. Aber all dies sind Synonyme für ein Konzept - die Bequemlichkeit der Wartung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das eigentliche Ziel besteht darin, Code zu erstellen, der einfach zu warten ist. Der Code, der den Autor überlebt. Ein Code, der nicht nur als Zeitinvestition, sondern auch als Grundlage für die Erlangung des zukünftigen Werts existieren kann. Dies bedeutet nicht , </font><font style="vertical-align: inherit;">dass die </font><font style="vertical-align: inherit;">Lesbarkeit ist </font><font style="vertical-align: inherit;">nicht wichtig, nur die Bequemlichkeit der Wartung ist </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wichtiger</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go ist keine dieser Sprachen, die für einzeilige Programme optimiert sind. Und keine dieser Sprachen, die für Programme mit einer minimalen Anzahl von Zeilen optimiert sind. Wir optimieren nicht für die Größe des Quellcodes auf der Festplatte oder für die Geschwindigkeit, mit der Programme im Editor geschrieben werden. Wir möchten unseren Code optimieren, damit er für die Leser verständlicher wird. Weil sie ihn begleiten müssen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie ein Programm für sich selbst schreiben, wird es möglicherweise nur einmal gestartet, oder Sie sind der einzige, der seinen Code sieht. </font><font style="vertical-align: inherit;">In diesem Fall tun Sie alles. </font><font style="vertical-align: inherit;">Wenn jedoch mehr als eine Person an dem Code arbeitet oder wenn er längere Zeit verwendet wird und sich die Anforderungen, Funktionen oder die Laufzeit ändern können, sollte das Programm bequem zu warten sein. </font><font style="vertical-align: inherit;">Wenn die Software nicht gewartet werden kann, kann sie nicht neu geschrieben werden. </font><font style="vertical-align: inherit;">Und dies ist möglicherweise das letzte Mal, dass Ihr Unternehmen in Go investiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Woran Sie hart arbeiten, können Sie nach Ihrer Abreise bequem begleiten? </font><font style="vertical-align: inherit;">Wie können Sie die Pflege Ihres Codes für diejenigen erleichtern, die heute nach Ihnen kommen?</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490324/index.html">Wie finden wir nicht offensichtliche Fehler in den Online-Zuordnungsoberflächen für Kinder?</a></li>
<li><a href="../de490328/index.html">Beruf: Tester</a></li>
<li><a href="../de490332/index.html">Wir erstellen einen Klon des Lebensmittel-Lieferservices mit Nuxt.js, GraphQL, Strapi und Stripe. Teil 2/7</a></li>
<li><a href="../de490336/index.html">Kanalanatomie in Go</a></li>
<li><a href="../de490338/index.html">In einem innovativen Experiment lernten die Physiker, einzelne Atome einzufangen.</a></li>
<li><a href="../de490342/index.html">Was wir aus dem Testen des staatlichen Informationssystems gelernt haben</a></li>
<li><a href="../de490344/index.html">Wer ist Techlide und warum braucht das Team es?</a></li>
<li><a href="../de490346/index.html">Die Rolle des MQTT-Protokolls bei der Entwicklung des industriellen Internet der Dinge</a></li>
<li><a href="../de490348/index.html">Wie man Feedback gibt und nicht den Dritten Weltkrieg beginnt</a></li>
<li><a href="../de490354/index.html">Verbesserung der Kultur der Informationssicherheit in Fintech-Unternehmen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>