<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¨ üõÑ üë©üèø Por que o JavaScript devora HTML: exemplos de c√≥digo üçô üë®üèº‚Äçü§ù‚Äçüë®üèª üèçÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O desenvolvimento da Web est√° em constante evolu√ß√£o. Recentemente, uma tend√™ncia se tornou popular, o que basicamente contradiz a id√©ia geralmente ace...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Por que o JavaScript devora HTML: exemplos de c√≥digo</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492754/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O desenvolvimento da Web est√° em constante evolu√ß√£o. Recentemente, uma tend√™ncia se tornou popular, o que basicamente contradiz a id√©ia geralmente aceita de como desenvolver aplicativos da web. Alguns t√™m grandes esperan√ßas para ele, enquanto outros est√£o decepcionados. Cada um tem suas pr√≥prias raz√µes para isso, o que, em poucas palavras, √© dif√≠cil de explicar.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oo/4k/1f/oo4k1fjtwxiesojbv9pwre0n2no.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo da p√°gina da Web tradicionalmente consiste em tr√™s se√ß√µes, cada uma das quais cumprindo suas obriga√ß√µes: o c√≥digo HTML define a estrutura e a sem√¢ntica, o c√≥digo CSS determina a apar√™ncia e o c√≥digo JavaScript determina seu comportamento. Em equipes que envolvem designers, desenvolvedores de HTML / CSS e desenvolvedores de JavaScript, essa separa√ß√£o √© natural: os designers definem elementos visuais e uma interface com o usu√°rio, os desenvolvedores de HTML e CSS colocam esses elementos visuais em uma p√°gina do navegador, e os desenvolvedores de JavaScript adicionam intera√ß√£o do usu√°rio. amarre tudo e "fa√ßa funcionar". Todos podem trabalhar em suas tarefas sem interferir no c√≥digo das outras duas categorias de desenvolvedores. Mas tudo isso √© verdade para o chamado "estilo antigo".</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos √∫ltimos anos, os desenvolvedores de JavaScript come√ßaram a determinar a estrutura da p√°gina em JavaScript, e n√£o em HTML (por exemplo, usando a estrutura </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> js </font><font style="vertical-align: inherit;">), o que ajuda a simplificar a cria√ß√£o e manuten√ß√£o do c√≥digo de intera√ß√£o do usu√°rio. Sem estruturas js, o desenvolvimento de sites modernos √© muito mais dif√≠cil. Obviamente, quando voc√™ diz a algu√©m que o c√≥digo HTML escrito por ele precisa ser dividido em peda√ßos e misturado ao JavaScript, com o qual ele est√° muito familiarizado, isso (por raz√µes √≥bvias) pode ser percebido com hostilidade. No m√≠nimo, o interlocutor perguntar√° por que precisamos disso e como nos beneficiaremos disso.</font></font><br>
<cut></cut><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como desenvolvedor de JavaScript em uma equipe multifuncional, essa pergunta √†s vezes √© feita para mim e, muitas vezes, √© dif√≠cil para mim responder. </font><font style="vertical-align: inherit;">Todos os materiais que encontrei neste t√≥pico foram escritos para um p√∫blico que j√° conhece o JavaScript. </font><font style="vertical-align: inherit;">E isso n√£o √© muito bom para quem se especializa exclusivamente em HTML e CSS. </font><font style="vertical-align: inherit;">Mas √© prov√°vel que o padr√£o HTML-in-JS (ou qualquer outra coisa que ofere√ßa os mesmos benef√≠cios) seja demandado por algum tempo, ent√£o acho que isso √© uma coisa importante que todos os envolvidos no desenvolvimento da web devem entender. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, darei exemplos de c√≥digo para aqueles que est√£o interessados, mas meu objetivo √© explicar essa abordagem para que ela possa ser entendida sem eles.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Likbez: HTML, CSS e JavaScript</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para maximizar o p√∫blico deste artigo, quero falar brevemente sobre o papel que essas linguagens desempenham na cria√ß√£o de p√°ginas da Web e que tipo de separa√ß√£o entre elas existia inicialmente. </font><font style="vertical-align: inherit;">Se todos sabem disso, podem pular esta se√ß√£o.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML: para estrutura e sem√¢ntica</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo HTML (HyperText Markup Language) define a estrutura e a sem√¢ntica do conte√∫do que ser√° colocado na p√°gina. </font><font style="vertical-align: inherit;">Por exemplo, o c√≥digo HTML deste artigo cont√©m o texto que voc√™ est√° lendo agora e, de acordo com a estrutura especificada, esse texto √© colocado em um par√°grafo separado, ap√≥s o cabe√ßalho e antes de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colar o CodePen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, crie uma p√°gina da web simples com uma lista de compras:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/vy/a-/ygvya-pjtq3-f_43xus3zz0w0bg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos salvar esse c√≥digo em um arquivo, abri-lo em um navegador da Web e o navegador exibir√° o resultado. Como voc√™ pode ver, o c√≥digo HTML neste exemplo √© uma p√°gina que cont√©m o cabe√ßalho "Lista de compras" (itens de compras (2 itens)), uma caixa de texto de entrada, um bot√£o "Adicionar item" e uma lista de dois itens ("Ovos" e "Petr√≥leo"). O usu√°rio digitar√° o endere√ßo em seu navegador da Web e, em seguida, o navegador solicitar√° esse c√≥digo HTML do servidor, far√° o download e exibir√°. Se j√° houver elementos na lista, o servidor poder√° enviar HTML com elementos prontos, como neste exemplo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tente digitar algo no campo de entrada e clique no bot√£o "Adicionar item". Voc√™ ver√° que nada est√° acontecendo. O bot√£o n√£o est√° associado a nenhum c√≥digo que possa alterar o HTML, e o HTML n√£o pode alterar nada por si s√≥. Voltaremos a isso em um minuto.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS: para mudar a apar√™ncia</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo CSS (Cascading Style Sheets) define a apar√™ncia da p√°gina. </font><font style="vertical-align: inherit;">Por exemplo, o CSS deste artigo define a fonte, o espa√ßamento e a cor do texto que voc√™ est√° lendo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ deve ter notado que nosso exemplo de lista de compras parece muito simples. </font><font style="vertical-align: inherit;">O HTML n√£o permite que itens como espa√ßamento, tamanhos de fonte e cores sejam especificados. </font><font style="vertical-align: inherit;">√â por isso que usamos CSS. </font><font style="vertical-align: inherit;">Poder√≠amos adicionar um c√≥digo CSS para esta p√°gina para decorar um pouco: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/em/k4/mtemk4giymqzyfu_sqy0yqhw-o0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver, esse c√≥digo CSS alterou o tamanho e a espessura dos caracteres de texto, bem como a cor do plano de fundo. </font><font style="vertical-align: inherit;">Um desenvolvedor pode, por analogia, escrever regras para seu pr√≥prio estilo, e elas ser√£o aplicadas seq√ºencialmente a qualquer estrutura HTML: se adicionarmos elementos de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se√ß√£o, bot√£o ou ul</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a esta p√°gina </font><font style="vertical-align: inherit;">, as mesmas altera√ß√µes de fonte ser√£o aplicadas.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas o bot√£o Adicionar item ainda n√£o faz nada: aqui s√≥ precisamos de JavaScript.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: para implementar o comportamento</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo JavaScript define o comportamento de elementos interativos ou din√¢micos em uma p√°gina. Por exemplo, o CodePen √© escrito usando JavaScript. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que o bot√£o Adicionar item em nosso exemplo funcione sem JavaScript, precisar√≠amos usar c√≥digo HTML especial para for√ß√°-lo a enviar dados de volta ao servidor ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;form action \ u003d '...'&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se voc√™ estiver subitamente interessado). Al√©m disso, o navegador recarregar√° a vers√£o atualizada de todo o arquivo HTML sem salvar o estado atual da p√°gina. Se essa lista de compras fizesse parte de uma grande p√°gina da Web, tudo o que o usu√°rio fizesse seria perdido. N√£o importa quantos pixels voc√™ moveu para baixo ao ler o texto - quando voc√™ reiniciar o servidor, voc√™ retornar√° ao in√≠cio, n√£o importa quantos minutos do v√≠deo voc√™ assistiu - quando voc√™ reiniciar, ele come√ßar√° novamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â assim que todos os aplicativos da Web costumavam funcionar: toda vez que um usu√°rio interagia com uma p√°gina da Web, ele parecia fechar o navegador e abri-lo novamente. Isso n√£o importa muito para um estudo de caso simples, mas para uma p√°gina grande e complexa, que pode levar algum tempo para carregar, essa abordagem n√£o √© eficaz para o navegador ou o servidor. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se quisermos alterar algo na p√°gina sem recarregar completamente essa p√°gina, precisamos usar JavaScript:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/qh/gd/vj/qhgdvjtm-0qokwslddjifxc_knu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora, quando digitar o texto no campo de entrada e clicar no bot√£o Adicionar Item, nosso novo elemento ser√° adicionado √† lista e o n√∫mero de elementos na parte superior ser√° atualizado! Em um aplicativo real, tamb√©m adicionar√≠amos algum c√≥digo para enviar um novo item para o servidor em segundo plano, para que ele apare√ßa na pr√≥xima vez que a p√°gina for carregada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A separa√ß√£o de JavaScript de HTML e CSS √© justificada mesmo neste exemplo simples. </font><font style="vertical-align: inherit;">Intera√ß√µes mais complexas funcionam assim: o HTML √© carregado e exibido, e o JavaScript √© iniciado posteriormente para adicionar algo a ele e alter√°-lo. </font><font style="vertical-align: inherit;">No entanto, √† medida que a complexidade do aplicativo Web aumenta, precisamos monitorar cuidadosamente o que, onde e quando nosso c√≥digo JavaScript √© alterado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se continuarmos desenvolvendo esse aplicativo com uma lista de compras, podemos adicionar bot√µes para editar ou remover itens da lista. </font><font style="vertical-align: inherit;">Suponha que escrevamos c√≥digo JavaScript para um bot√£o que exclua um elemento, mas esque√ßa de adicionar um c√≥digo que atualize informa√ß√µes sobre o n√∫mero total de elementos na parte superior da p√°gina. </font><font style="vertical-align: inherit;">De repente, recebemos um erro: depois que o usu√°rio exclui o item, o n√∫mero total indicado na p√°gina n√£o corresponde √† lista!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que percebemos o erro, o corrigimos adicionando a mesma linha totalText.innerHTML do nosso c√≥digo para Adicionar item ao c√≥digo para Remover item. Agora, temos o mesmo c√≥digo, duplicado em v√°rios lugares. Mais tarde, digamos, queremos alterar esse c√≥digo para que, em vez de "(2 itens)" na parte superior da p√°gina, exiba "Itens: 2". Devemos garantir que n√£o esquecemos de atualizar esse c√≥digo nos tr√™s locais: em HTML, no c√≥digo JavaScript do bot√£o Add Item e no c√≥digo JavaScript do bot√£o Remove Item. Caso contr√°rio, teremos outro erro, devido ao qual este texto ser√° alterado drasticamente ap√≥s a intera√ß√£o com o usu√°rio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J√° neste exemplo simples, vemos como √© f√°cil ficar confuso no c√≥digo. </font><font style="vertical-align: inherit;">Claro. </font><font style="vertical-align: inherit;">Existem abordagens e pr√°ticas para otimizar o c√≥digo JavaScript e facilitar a solu√ß√£o desse problema. </font><font style="vertical-align: inherit;">No entanto, √† medida que as coisas se tornam mais complicadas, teremos que continuar a reestruturar e reescrever constantemente o projeto para que ele possa ser facilmente desenvolvido e mantido. </font><font style="vertical-align: inherit;">Enquanto HTML e JavaScript s√£o armazenados separadamente, pode ser necess√°rio muito esfor√ßo para garantir a sincroniza√ß√£o entre os dois. </font><font style="vertical-align: inherit;">Essa √© uma das raz√µes pelas quais novas estruturas JavaScript, como o React, se tornaram populares: elas foram projetadas para fornecer um relacionamento mais formalizado e eficiente entre HTML e JavaScript. </font><font style="vertical-align: inherit;">Para entender como isso funciona, primeiro precisamos nos aprofundar um pouco mais na ci√™ncia da computa√ß√£o.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programa√ß√£o imperativa versus declarativa</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A principal coisa a entender √© a diferen√ßa de pensamento. A maioria das linguagens de programa√ß√£o permite seguir apenas um paradigma, embora algumas delas suportem duas de uma vez. √â importante entender os dois paradigmas para apreciar a principal vantagem do HTML-JS, do ponto de vista do desenvolvedor JavaScript.</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>.  ¬´¬ª  ,       .         ( )   :        ,  ,    .        ,    ,   .  -     ¬´¬ª.        Vanilla JavaScript   ,  jQuery. JavaScript        .<br>
 <ul>
<li>¬´ X,   Y,   Z¬ª.</li>
<li>:     ,     .selected;        ,   .selected.</li>
</ul></li>
</ul><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>.    ,    .  ,   ,    ¬´¬ª (),       ,   - .        ,     .    (, React),     ,   ,     . ,        ,     ,       ,    .  ,      :<br>
<ul>
<li>¬´   XYZ.  ,   ,   .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo: este elemento possui uma classe .selected se o usu√°rio o selecionou.</font></font></li>
</ul><br>
 </li>
</ul><br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML √© uma linguagem declarativa</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esque√ßa o JavaScript por um momento. </font><font style="vertical-align: inherit;">Aqui est√° um fato importante: HTML √© uma linguagem declarativa. </font><font style="vertical-align: inherit;">No arquivo HTML, voc√™ pode declarar algo como:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>My name is Mike.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando o navegador l√™ este c√≥digo HTML, ele determina independentemente as etapas necess√°rias e as executa:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie um elemento de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie um elemento de cabe√ßalho de n√≠vel 1 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Defina o texto do elemento de t√≠tulo como "Hello".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coloque o elemento title no elemento section.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie um elemento de par√°grafo ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Defina o texto do elemento do par√°grafo como "Meu nome √© Mike".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coloque um elemento de par√°grafo em um elemento de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coloque o elemento de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em um documento HTML.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exiba o documento na tela.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para um desenvolvedor web, exatamente como o navegador faz essas coisas n√£o importa: tudo o que importa √© o que elas fazem. </font><font style="vertical-align: inherit;">Este √© um √≥timo exemplo para ilustrar a diferen√ßa entre os dois paradigmas de programa√ß√£o. </font><font style="vertical-align: inherit;">Em resumo, o HTML √© uma abstra√ß√£o declarativa envolvida em um mecanismo de renderiza√ß√£o de navegador da Web implementado de forma imperiosa. </font><font style="vertical-align: inherit;">Ele se preocupa com como, ent√£o voc√™ s√≥ precisa se preocupar com o que. </font><font style="vertical-align: inherit;">Voc√™ pode aproveitar a vida enquanto escreve HTML declarativo, porque as pessoas boas da Mozilla, Google e Apple escreveram um c√≥digo imperativo para voc√™ quando criaram seu navegador da web.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript √© uma linguagem imperativa</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J√° vimos um exemplo simples de JavaScript imperativo no exemplo da lista de compras acima e descrevi como a complexidade das fun√ß√µes do aplicativo afeta o esfor√ßo necess√°rio para implement√°-las e a probabilidade de erros nessa implementa√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, vamos examinar uma tarefa um pouco mais complexa e ver como ela pode ser simplificada usando uma abordagem declarativa. </font><font style="vertical-align: inherit;">Imagine uma p√°gina da web que contenha o seguinte:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma lista de sinalizadores sinalizados, cada linha que muda de cor quando selecionada;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">texto abaixo, por exemplo, ‚Äú1 de 4 selecionados‚Äù, que deve ser atualizado quando os sinalizadores forem alterados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bot√£o Selecionar tudo, que deve ser desativado se todas as caixas de sele√ß√£o j√° estiverem marcadas;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bot√£o Selecionar nenhum, que deve ser desativado se as caixas de sele√ß√£o n√£o estiverem selecionadas.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√° uma implementa√ß√£o em HTML, CSS e JavaScript imperativo:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8p/kx/5u/8pkx5uxweemg5tmpqietjhadqpw.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> captionText = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'caption-text'</span>);
<span class="hljs-keyword">const</span> checkAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'check-all-button'</span>);
<span class="hljs-keyword">const</span> uncheckAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uncheck-all-button'</span>);
<span class="hljs-keyword">const</span> checkboxes = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'input[type="checkbox"]'</span>);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateSummary</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> numChecked = <span class="hljs-number">0</span>;<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{
    <span class="hljs-keyword">if</span> (checkbox.checked) {<font></font>
      numChecked++;<font></font>
    }<font></font>
  });<font></font>
  captionText.innerHTML = <span class="hljs-string">`<span class="hljs-subst">${numChecked}</span> of <span class="hljs-subst">${checkboxes.length}</span> checked`</span>;
  <span class="hljs-keyword">if</span> (numChecked === <span class="hljs-number">0</span>) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (numChecked === checkboxes.length) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
}<font></font>
<font></font>
checkAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">true</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">'checked'</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
uncheckAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">false</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">''</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
  checkbox.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = checkbox.checked ? <span class="hljs-string">'checked'</span> : <span class="hljs-string">''</span>;<font></font>
    updateSummary();<font></font>
  });<font></font>
});</code></pre><br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dor de cabe√ßa como ela √©</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para implementar esta fun√ß√£o usando JavaScript imperativo, precisamos fornecer ao navegador algumas instru√ß√µes detalhadas. </font><font style="vertical-align: inherit;">Esta √© uma descri√ß√£o verbal do c√≥digo do exemplo acima. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em nosso HTML, declaramos a estrutura da p√°gina original:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem quatro elementos de linha (uma linha de uma tabela, √© uma lista), cada um dos quais cont√©m um sinalizador. </font><font style="vertical-align: inherit;">A terceira bandeira est√° marcada.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° um texto "1 de 4 selecionado".</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° um bot√£o Selecionar tudo que est√° ativado.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° um bot√£o Selecionar nenhum, que est√° desativado.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em nosso JavaScript, escrevemos instru√ß√µes sobre o que precisa ser alterado quando cada um desses eventos acontece: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando um sinalizador muda de n√£o marcado para marcado:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localize a linha que cont√©m a caixa de sele√ß√£o e adicione a classe CSS selecionada.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre todos os sinalizadores na lista e calcule quantos deles est√£o marcados e quantos n√£o est√£o.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o texto e atualize-o, indicando o n√∫mero correto de compras selecionadas e o n√∫mero total.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o bot√£o Selecionar nenhum e ative-o se estiver desabilitado.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se todas as caixas de sele√ß√£o estiverem marcadas, localize o bot√£o Selecionar tudo e desative-o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando um sinalizador muda de marcado para n√£o marcado:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localize a linha que cont√©m o sinalizador e remova a classe .selected dele.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre todas as caixas de sele√ß√£o na lista e calcule quantas delas est√£o marcadas e quantas n√£o.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o item de texto do resumo e atualize-o com o n√∫mero e o total verificados.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o bot√£o Selecionar tudo e ative-o se estiver desabilitado.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se todas as caixas estiverem desmarcadas, localize o bot√£o Selecionar nenhum e desative-o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando o bot√£o Selecionar tudo √© pressionado:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre todas as caixas de sele√ß√£o na lista e marque-as.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localize todas as linhas da lista e adicione a classe .selected a elas.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o texto e atualize-o.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o bot√£o Selecionar tudo e desligue-o.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o bot√£o Selecionar nenhum e ative-o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando o bot√£o Selecionar nenhum √© pressionado:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre todas as caixas de sele√ß√£o na lista e limpe todas as caixas de sele√ß√£o.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre todas as linhas da lista e remova a classe .selected delas.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o elemento de texto do curr√≠culo e atualize-o.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o bot√£o Selecionar tudo e ligue-o.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o bot√£o Selecionar nenhum e desligue-o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uau ... Isso √© muito, certo? Bem, √© melhor n√£o esquecermos de escrever c√≥digo para todas as situa√ß√µes poss√≠veis. Se esquecermos ou estragar alguma dessas instru√ß√µes, ocorreremos um erro: os totais n√£o correspondem √†s caixas de sele√ß√£o, ou o bot√£o que n√£o faz nada quando voc√™ clica nela ou a linha selecionada fica com a cor errada ou algo assim, est√° ativada ainda, sobre o qual n√£o pensamos e n√£o saberemos at√© que o usu√°rio se queixe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos realmente um grande problema aqui: n√£o existe uma entidade que contenha informa√ß√µes completas sobre o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do nosso aplicativo (neste caso, esta √© a resposta para a pergunta ‚Äúquais sinalizadores est√£o marcados?‚Äù) e seria respons√°vel por atualizar essas informa√ß√µes. </font><font style="vertical-align: inherit;">Os sinalizadores, √© claro, sabem se est√£o marcados, mas o c√≥digo CSS para as linhas da tabela, texto e cada bot√£o tamb√©m deve estar ciente disso. </font><font style="vertical-align: inherit;">Cinco c√≥pias dessas informa√ß√µes s√£o armazenadas separadamente em todo o HTML e, quando elas s√£o alteradas em qualquer um desses locais, o desenvolvedor do JavaScript deve capturar isso e escrever um c√≥digo imperativo para sincronizar com as altera√ß√µes em outros locais.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E este ainda √© um exemplo simples de um pequeno componente de p√°gina. </font><font style="vertical-align: inherit;">Mesmo que esse conjunto de instru√ß√µes pare√ßa uma dor de cabe√ßa, imagine qu√£o complexa e fr√°gil um aplicativo da Web maior se torna quando voc√™ precisa implementar tudo isso em JavaScript obrigat√≥rio. </font><font style="vertical-align: inherit;">Para muitas aplica√ß√µes web complexas e modernas, essa solu√ß√£o n√£o √© dimensionada da palavra "completamente".</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estamos procurando a fonte da verdade</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ferramentas como o React permitem o uso declarativo do JavaScript. </font><font style="vertical-align: inherit;">Assim como o HTML √© uma abstra√ß√£o declarativa sobre as instru√ß√µes para exibi√ß√£o em um navegador da Web, o React √© uma abstra√ß√£o declarativa sobre JavaScript.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se de como o HTML nos permite focar na estrutura da p√°gina e n√£o nos detalhes da implementa√ß√£o, e como o navegador exibe essa estrutura? Da mesma forma, quando usamos o React, podemos nos concentrar na estrutura, definindo-a com base nos dados armazenados em um √∫nico local. Esse processo √© chamado de liga√ß√£o unidirecional e o local dos dados do estado do aplicativo √© chamado de "fonte √∫nica da verdade". Quando a fonte da verdade muda, o React atualiza automaticamente a estrutura da p√°gina para n√≥s. Ele cuidar√° das etapas necess√°rias nos bastidores, como faz um navegador da Web para HTML. Embora o React seja usado como exemplo aqui, essa abordagem tamb√©m funciona para outras estruturas, como o Vue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos voltar √† nossa lista de caixas de sele√ß√£o do exemplo acima. </font><font style="vertical-align: inherit;">Nesse caso, a ‚Äúverdade‚Äù que queremos saber √© bastante concisa: quais sinalizadores s√£o verificados? </font><font style="vertical-align: inherit;">Outros detalhes (por exemplo, texto, cor das linhas, quais bot√µes est√£o ativados) j√° s√£o informa√ß√µes obtidas com base na fonte da verdade. </font><font style="vertical-align: inherit;">E por que eles deveriam ter sua pr√≥pria c√≥pia dessas informa√ß√µes? </font><font style="vertical-align: inherit;">Eles devem simplesmente usar uma √∫nica fonte de verdade somente leitura, e todos os elementos da p√°gina devem "saber" quais caixas de sele√ß√£o est√£o marcadas e se comportam de acordo. </font><font style="vertical-align: inherit;">Voc√™ pode dizer que as linhas da tabela, o texto e os bot√µes devem poder responder automaticamente a uma caixa de sele√ß√£o, dependendo de ela estar marcada ou n√£o ("veja o que est√° acontecendo l√°?")</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diga-me o que voc√™ quer (o que voc√™ realmente quer)</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para implementar esta p√°gina com o React, podemos substituir a lista por algumas descri√ß√µes de fatos simples:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° uma lista de valores verdadeiros / falsos chamados checkboxValues ‚Äã‚Äãque mostra quais campos est√£o marcados.</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo: checkboxValues ‚Äã‚Äã\ u003d [falso, falso, verdadeiro, falso]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta lista mostra que temos quatro sinalizadores, apenas o terceiro est√° definido.</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para cada valor em checkboxValues ‚Äã‚Äãna tabela, h√° uma linha que:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tem uma classe CSS chamada .selected se o valor for verdadeiro e</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cont√©m um sinalizador que √© verificado se o valor √© verdadeiro.</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° um elemento de texto que cont√©m o texto "{x} de {y} selecionado", em que {x} √© o n√∫mero de valores verdadeiros em checkboxValues ‚Äã‚Äãe {y} √© o n√∫mero total de valores em checkboxValues.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existe um bot√£o Selecionar tudo que est√° ativado se checkboxValues ‚Äã‚Äãtiver valores falsos.</font></font></li>
<li>  Select None,  ,   checkboxValues ‚Äã‚Äã  true.</li>
<li>  ,     checkboxValues.</li>
<li>  Select All ,     checkboxValues ‚Äã‚Äã true.</li>
<li>   Select None    checkboxValues ‚Äã‚Äã  false.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ notar√° que os tr√™s √∫ltimos par√°grafos ainda s√£o instru√ß√µes imperativas (‚Äúquando isso acontecer, fa√ßa‚Äù), mas esse √© o √∫nico c√≥digo imperativo que precisamos escrever. Essas s√£o tr√™s linhas de c√≥digo e todas atualizam uma √∫nica fonte de verdade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O restante s√£o declara√ß√µes declarativas ("existe ..."), que agora s√£o constru√≠das diretamente na defini√ß√£o da estrutura da p√°gina. Para fazer isso, escrevemos c√≥digo para nossos elementos usando uma extens√£o de sintaxe JavaScript especial - XML ‚Äã‚ÄãXML (JSX). √â semelhante ao HTML: o JSX permite que voc√™ use a sintaxe semelhante ao HTML para descrever a estrutura da interface, bem como o JavaScript comum. Isso nos permite misturar a l√≥gica JS com a estrutura HTML, para que a estrutura possa ser diferente a qualquer momento. Tudo depende do conte√∫do de checkboxValues.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reescrevemos nosso exemplo no React:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/np/bv/zknpbvuumzprgv3vrejfyv99vkk.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ChecklistTable</span>(<span class="hljs-params">{ columns, rows, initialValues, ...otherProps }</span>) </span>{
  <span class="hljs-keyword">const</span> [checkboxValues, setCheckboxValues] = React.useState(initialValues);<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">true</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uncheckAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">false</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCheckboxValue</span>(<span class="hljs-params">rowIndex, checked</span>) </span>{
    <span class="hljs-keyword">const</span> newValues = checkboxValues.slice();<font></font>
    newValues[rowIndex] = checked;<font></font>
    setCheckboxValues(newValues);<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword">const</span> numItems = checkboxValues.length;
  <span class="hljs-keyword">const</span> numChecked = checkboxValues.filter(<span class="hljs-built_in">Boolean</span>).length;<font></font>
  <font></font>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table pf-m-grid-lg"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"grid"</span> {<span class="hljs-attr">...otherProps</span>}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">caption</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{numChecked} of {numItems} items checked<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{checkAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">numItems}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-primary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Check all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{uncheckAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">0}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-secondary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Uncheck all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">caption</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">td</span> /&gt;</span>
          {columns.map(function(column) {
            return <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"col"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{column}</span>&gt;</span>{column}<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>;
          })}
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
        {rows.map(function(row, rowIndex) {
          const [firstCell, ...otherCells] = row;
          const labelId = `item-${rowIndex}-${firstCell}`;
          const isChecked = checkboxValues[rowIndex];
          return (
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{firstCell}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isChecked</span> ? '<span class="hljs-attr">checked</span>' <span class="hljs-attr">:</span> ''}&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table__check"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                  <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
                  <span class="hljs-attr">name</span>=<span class="hljs-string">{firstCell}</span>
                  <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">{labelId}</span>
                  <span class="hljs-attr">checked</span>=<span class="hljs-string">{isChecked}</span>
                  <span class="hljs-attr">onChange</span>=<span class="hljs-string">{function(event)</span> {
                    <span class="hljs-attr">setCheckboxValue</span>(<span class="hljs-attr">rowIndex</span>, <span class="hljs-attr">event.target.checked</span>);
                  }}
                /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[0]}</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">{labelId}</span>&gt;</span>{firstCell}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              {otherCells.map(function(cell, cellIndex) {
                return (
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{cell}</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[1</span> + <span class="hljs-attr">cellIndex</span>]}&gt;</span>
                    {cell}
                  <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                );
              })}
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          );
        })}
      <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><font></font>
  );<font></font>
};<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ShoppingList</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChecklistTable</span>
      <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Shopping list"</span>
      <span class="hljs-attr">columns</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">Item</span>', '<span class="hljs-attr">Quantity</span>']}
      <span class="hljs-attr">rows</span>=<span class="hljs-string">{[</span>
        ['<span class="hljs-attr">Sugar</span>', '<span class="hljs-attr">1</span> <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Butter</span>', '¬Ω <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Eggs</span>', '<span class="hljs-attr">2</span>'],
        ['<span class="hljs-attr">Milk</span>', '¬Ω <span class="hljs-attr">cup</span>'],
      ]}
      <span class="hljs-attr">initialValues</span>=<span class="hljs-string">{[false,</span> <span class="hljs-attr">false</span>, <span class="hljs-attr">true</span>, <span class="hljs-attr">false</span>]}
    /&gt;</span></span><font></font>
  );<font></font>
}<font></font>
<font></font>
ReactDOM.render(<font></font>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ShoppingList</span> /&gt;</span></span>,
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'shopping-list'</span>)<font></font>
);<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSX parece peculiar. </font><font style="vertical-align: inherit;">Quando eu encontrei isso pela primeira vez, parecia-me que era simplesmente imposs√≠vel faz√™-lo. </font><font style="vertical-align: inherit;">Minha rea√ß√£o inicial foi: ‚ÄúO qu√™? </font><font style="vertical-align: inherit;">O HTML n√£o pode estar dentro do c√≥digo JavaScript! ‚Äù </font><font style="vertical-align: inherit;">E eu n√£o era o √∫nico. </font><font style="vertical-align: inherit;">No entanto, isso n√£o √© HTML, mas o JavaScript √© usado como HTML. </font><font style="vertical-align: inherit;">De fato, esta √© uma solu√ß√£o poderosa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembra das 20 instru√ß√µes imperativas acima? </font><font style="vertical-align: inherit;">Agora n√≥s temos tr√™s deles. </font><font style="vertical-align: inherit;">O restante das instru√ß√µes imperativas (internas) que o React executa por n√≥s nos bastidores - toda vez que a caixa de sele√ß√£oValues ‚Äã‚Äãmuda.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com esse c√≥digo, uma situa√ß√£o n√£o pode mais ocorrer quando o texto ou a cor da linha n√£o corresponder √†s caixas de sele√ß√£o ou quando o bot√£o estiver ativado, embora deva ser desativado. </font><font style="vertical-align: inherit;">H√° toda uma categoria de erros que agora simplesmente n√£o podem ocorrer em nosso aplicativo da web. </font><font style="vertical-align: inherit;">Todo o trabalho √© feito com base em uma √∫nica fonte de verdade, e n√≥s desenvolvedores podemos escrever menos c√≥digo e dormir melhor √† noite. </font><font style="vertical-align: inherit;">Bem, desenvolvedores JavaScript, pelo menos ...</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript derrotado em JavaScript: faminto</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä medida que os aplicativos da Web se tornam mais complexos, a manuten√ß√£o da separa√ß√£o cl√°ssica de tarefas entre HTML e JavaScript se torna mais dolorosa. </font><font style="vertical-align: inherit;">O HTML foi originalmente projetado para p√°ginas da Web est√°ticas. </font><font style="vertical-align: inherit;">Para adicionar fun√ß√µes interativas mais complexas, √© necess√°rio implementar a l√≥gica apropriada no JavaScript imperativo, que a cada linha de c√≥digo se torna cada vez mais confuso e fr√°gil.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vantagens da abordagem moderna: previsibilidade, reutiliza√ß√£o e combina√ß√£o</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A capacidade de usar uma √∫nica fonte de verdade √© a vantagem mais importante desse modelo, mas tem outras vantagens. Definir os elementos de nossa p√°gina no c√≥digo JavaScript significa que podemos reutilizar componentes (blocos individuais de uma p√°gina da web), impedindo-nos de copiar e colar o mesmo c√≥digo HTML em v√°rios locais. Se precisarmos alterar um componente, basta alterar seu c√≥digo em apenas um lugar. Nesse caso, ocorrer√£o altera√ß√µes em todas as c√≥pias do componente (dentro de um ou mesmo em muitos aplicativos da Web, se usarmos componentes reutiliz√°veis).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos pegar componentes simples e mont√°-los como cubos LEGO, criando componentes mais complexos e √∫teis sem tornar sua l√≥gica muito confusa. </font><font style="vertical-align: inherit;">E se usarmos componentes criados por outros desenvolvedores, poderemos acumular facilmente atualiza√ß√µes ou corre√ß√µes de bugs sem precisar reescrever nosso c√≥digo.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O mesmo JavaScript, apenas no perfil</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esses benef√≠cios t√™m uma desvantagem. </font><font style="vertical-align: inherit;">Existem boas raz√µes pelas quais as pessoas apreciam a separa√ß√£o de HTML e JavaScript. </font><font style="vertical-align: inherit;">Como mencionei anteriormente, o abandono de arquivos HTML regulares complica o fluxo de trabalho para algu√©m que n√£o trabalhou com JavaScript antes. </font><font style="vertical-align: inherit;">Aqueles que anteriormente podiam fazer altera√ß√µes de maneira independente no aplicativo da Web agora precisam adquirir habilidades complexas adicionais para manter sua autonomia ou at√© mesmo fazer parte da equipe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem tamb√©m falhas t√©cnicas. Por exemplo, algumas ferramentas, como linters e analisadores, aceitam apenas HTML normal como entrada e trabalhar com plug-ins JavaScript de terceiros pode ser mais dif√≠cil. Al√©m disso, o JavaScript n√£o √© o melhor idioma, mas √© um padr√£o uniforme aceito para navegadores da web. Novas ferramentas e recursos melhoram, mas ainda existem algumas armadilhas que voc√™ precisa conhecer antes de trabalhar com ela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outro problema em potencial: quando a estrutura sem√¢ntica da p√°gina √© dividida em componentes abstratos, o desenvolvedor pode parar de pensar em quais elementos HTML ser√£o gerados como resultado. Tags HTML espec√≠ficas, como </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se√ß√£o e aparte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, t√™m sua pr√≥pria sem√¢ntica, que √© perdida ao usar tags de uso geral, como </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">div e span,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mesmo que visualmente tenham a mesma apar√™ncia na p√°gina. </font><font style="vertical-align: inherit;">Isso √© especialmente importante para garantir a disponibilidade do aplicativo Web para diferentes categorias de usu√°rios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, isso afetar√° o comportamento do leitor de tela para usu√°rios com defici√™ncia visual. </font><font style="vertical-align: inherit;">Talvez essas n√£o sejam as tarefas mais interessantes para o desenvolvedor, mas os desenvolvedores de JavaScript devem sempre lembrar que preservar a sem√¢ntica do HTML nesse caso √© a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tarefa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais importante </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Necessidade consciente vs tend√™ncia inconsciente</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recentemente, o uso de estruturas em todos os projetos se tornou uma tend√™ncia. Algumas pessoas acreditam que a separa√ß√£o de HTML e JavaScript est√° desatualizada, mas n√£o est√°. Para um site est√°tico simples que n√£o requer intera√ß√£o complicada do usu√°rio, isso √© correto. Os f√£s mais fervorosos do React podem discordar de mim aqui, mas se todo o seu JavaScript criar uma p√°gina da web n√£o interativa, voc√™ n√£o deve us√°-la. O JavaScript n√£o carrega t√£o r√°pido quanto o HTML comum. Portanto, se voc√™ n√£o definir a tarefa de obter nova experi√™ncia de desenvolvimento ou melhorar a confiabilidade do c√≥digo, o JavaScript aqui far√° mais mal do que bem.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, n√£o h√° necessidade de escrever todo o site no React. Ou Vue! Ou o que mais existe ... Muitas pessoas n√£o sabem disso, porque todos os tutoriais mostram basicamente como usar o React para desenvolver um site a partir do zero. Se voc√™ tiver apenas um pequeno widget complexo em um site simples, poder√° usar o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React para um componente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Voc√™ nem sempre precisa se preocupar com o webpack, Redux, Gatsby ou qualquer outra coisa que algu√©m recomende como "melhores pr√°ticas" l√°.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas se o aplicativo for bastante complexo, vale a pena usar uma abordagem declarativa moderna. </font><font style="vertical-align: inherit;">React √© a melhor solu√ß√£o? </font><font style="vertical-align: inherit;">N√£o. </font><font style="vertical-align: inherit;">Ele j√° tem concorrentes fortes. </font><font style="vertical-align: inherit;">E ent√£o mais e mais aparecer√£o ... Mas a programa√ß√£o declarativa n√£o vai a lugar algum e, em alguma nova estrutura, essa abordagem provavelmente ser√° repensada e implementada ainda melhor.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt492730/index.html">Departamento de Defesa dos EUA: √âtica para IA e ve√≠culos n√£o tripulados</a></li>
<li><a href="../pt492742/index.html">Visualize dados do aplicativo Node JS com Prometheus + Grafana</a></li>
<li><a href="../pt492744/index.html">Qual sistema ser√° o mais alto e qual dar√° um sil√™ncio "absoluto": dois projetos cient√≠ficos interessantes</a></li>
<li><a href="../pt492746/index.html">Como evitar a indigna√ß√£o da programa√ß√£o? Dicas do integrador</a></li>
<li><a href="../pt492748/index.html">Profiss√£o DevOps-engineer: uma vis√£o do administrador do sistema</a></li>
<li><a href="../pt492758/index.html">Podcasts para desenvolvedores</a></li>
<li><a href="../pt492760/index.html">Grade CSS: digitando um layout de revista de 20 linhas responsivo</a></li>
<li><a href="../pt492762/index.html">Alfabeto do investidor: o que √© chamada de margem e como evit√°-la</a></li>
<li><a href="../pt492766/index.html">Trabalhamos com eventos em Angular</a></li>
<li><a href="../pt492768/index.html">Greybox Fuzzing pelo exemplo do AFLSmart</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>