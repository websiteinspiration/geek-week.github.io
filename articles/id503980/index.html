<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😏 🌦️ 💈 Memantau suhu di lokasi terpencil dengan cara "improvisasi" 👕 👩🏿‍🤝‍👨🏻 👈🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kembali pada tahun 2019, ketika dimungkinkan untuk pergi keluar tanpa izin, saya diminta untuk melakukan pemantauan jarak jauh terhadap suhu di rumah ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Memantau suhu di lokasi terpencil dengan cara "improvisasi"</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503980/"><img src="https://habrastorage.org/webt/sz/sx/wa/szsxwal5ggvev3m8b6_gdflrqic.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kembali pada tahun 2019, ketika dimungkinkan untuk pergi keluar tanpa izin, saya diminta untuk melakukan pemantauan jarak jauh terhadap suhu di rumah desa. Syaratnya adalah sebagai berikut. Ada rumah pribadi dengan internet, di rumah ada boiler gas untuk pemanas. Ketel mempertahankan suhu tertentu dalam sistem pemanas, menyalakan dan mematikannya secara berkala. Dalam kondisi tidak aktif, sumbu siaga aktif. Kap dipasang dengan kesalahan, sehingga angin kencang dari luar secara berkala meniup sumbu dan pemanasan berhenti bekerja. Agar di musim dingin air di sistem pemanas tidak membeku, Anda perlu menyalakan sumbu secara manual. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di rumah ini, orang-orang muncul sebulan sekali, jadi Anda tidak dapat melakukannya tanpa sistem pemantauan. Selanjutnya, pernyataan masalah dan implementasinya dengan cara yang paling "malas" yang saya temukan dalam 2 bulan.</font></font><br>
<a name="habracut"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pernyataan masalah</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika sumbu mati, maka suhu di rumah mulai menurun secara bertahap. Ketika turun di bawah 15 derajat, kirim pemberitahuan "email" ke "klien". "Klien" itu sendiri yang membuat keputusan, apakah pergi sendiri atau memanggil tetangga yang menyalakan sumbu. Kondisi utama: “Tidak ada konfigurasi. Saya membawanya, menyalakannya dan semuanya bekerja. " </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemilihan dasar elemen</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memiliki 2 bulan untuk pengembangan (tugas ditetapkan pada musim gugur, itu jauh dari es). Dalam situasi ini, ESP8266 memohon untuk dirinya sendiri. Ada Wi-fi di rumah, perpustakaan untuk mengukur suhu ditulis untuk berbagai sensor. Saya memiliki ESP dan sensor suhu DS18b20, jadi saya menunda proyek ini untuk sementara waktu karena bekerja pada pekerjaan utama. Hampir 2 bulan berlalu dan sudah waktunya untuk menyerahkan solusi yang sudah jadi, tetapi saya tidak memulai. Saya melihat sekeliling dan memutuskan untuk menggunakan solusi yang sudah jadi dengan beberapa modifikasi. Saya memiliki pengendali rumah pintar berbasis Z-Wave gratis. Ini terdiri dari RaspberryPi dan papan ekspansi untuknya, yang menjadikannya pengontrol rumah pintar. RaspberryPi dibeli di Avito seharga 1500r. setengah tahun yang lalu, dan saya memiliki papan ekspansi bekas. 6000r biaya baru.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ak/gn/wx/akgnwxiuscrrzzz9vm1vwiuamle.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda membeli semuanya di toko, maka harganya sekitar 13000r. dan disebut "Kontroler RaZberry." </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak memiliki sensor suhu siap yang kompatibel dengan Z-wave. </font></font><br>
<img src="https://habrastorage.org/webt/4w/bh/yj/4wbhyjjyjfqh1o89gr4ppmbkkt4.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya membuatnya berdasarkan ZUNo (di toko sekitar 3000r., Saya mendapatkan salah satu prototipe secara gratis) dan sensor suhu tersegel DS18B20. </font></font><br>
<img src="https://habrastorage.org/webt/bg/un/da/bgundabhtaylxrckn99nicuoqt0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ZUNo adalah papan Arduino yang kompatibel dengan transceiver radio bawaan. Sketsa untuknya diambil tanpa perubahan dari situs web pabrikan ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://z-uno.z-wave.me/examples/1-wire-ds18b20-temperature-sensor/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Dari sketsa ini, ZUNo menyurvei sensor suhu setiap 30 detik dan mengirimkan pemberitahuan ke controller melalui radio. ZUNo tidak tidur sambil menunggu. Sketsa saya primitif, tidak menghemat sumber daya baik pada mikrokontroler itu sendiri maupun pada listrik. Tetapi dia melakukan persis seperti yang saya butuhkan! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ZUNo "rapi" diisi dengan perekat leleh panas dalam wadah plastik. </font></font><br>
<img src="https://habrastorage.org/webt/2g/3q/ts/2g3qtsd1dgzhkaxgjikfykhqsfg.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dia membawa 2 kabel dari kasing: ditenagai oleh USB dan sensor suhu. Ternyata andal, jadi tidak menakutkan untuk menjatuhkannya dan terlihat layak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengontrol terhubung melalui kabel Ethernet ke router. Kabel tidak bisa digunakan. RaspberryPi dapat menggunakan Wi-fi. Tetapi karena persyaratan utama adalah "dihidupkan dan dilupakan", saya tidak mengambil risiko dengan pra-pengaturan jaringan wi-fi di raspberryPi.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RaspberryPi terhubung dengan "pengisian" 2 amp dari telepon. Sensor suhu mengkonsumsi hingga 50 mA sehingga terhubung ke konektor USB RaspberryPi. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan Raspberry</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 Gambar diambil dari sini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">storage.z-wave.me/z-way-server</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> disebut "razberry.img.zip". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, saya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menginstal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gambar pada kartu SD untuk RaspberryPi. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika RaspberryPi telah dimulai, server Z-way (perangkat lunak rumah pintar) juga akan diluncurkan. Tetapi ini adalah versi lama, perlu diperbarui. Dalam pengaturan ada tombol untuk memperbarui, tetapi tidak ada yang menggunakannya dan tidak berfungsi. </font></font><br>
<img src="https://habrastorage.org/webt/oj/md/ob/ojmdobj0ypyg4f2rt59m0uqtvu0.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jauh lebih “nyaman” untuk menggunakan petunjuk untuk memperbarui. Dia ada di </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">alamat</font></a><font style="vertical-align: inherit;"> ini</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Untuk memasukkan perintah yang dijelaskan dalam manual ini, Anda perlu membuka terminal di RaspberryPi. </font><font style="vertical-align: inherit;">Ini dapat dilakukan melalui ssh atau dengan menghubungkan monitor dengan keyboard. </font><font style="vertical-align: inherit;">Monitor dan keyboard kedua selalu bersama saya, tidak seperti router, jadi saya memilih opsi kedua. </font><font style="vertical-align: inherit;">Karena saya sedang mengembangkan sistem tertanam yang tidak dijaga, Anda perlu menyediakan pengawas waktu untuk meningkatkan keandalan. </font><font style="vertical-align: inherit;">Semua sama, RaspberryPi bukan pengontrol industri dan sistem Z-wave, juga tidak disarankan untuk menggunakannya dalam keputusan penting, saya akan mengandalkan hang berkala, yang hanya dapat keluar dengan me-restart perangkat lunak atau seluruh sistem operasi pada RaspberryPi. </font><font style="vertical-align: inherit;">Saya akan memulai kembali seluruh sistem operasi setiap hari pada pukul 12:00. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melakukan ini, saya menambahkan baris ke file yang dijalankan setelah dimulainya sistem operasi.</font></font><br>
<pre><code class="python hljs"><span class="hljs-comment">#sudo vi /etc/rc.local</span>
shutdown -r <span class="hljs-number">12</span>:<span class="hljs-number">00</span></code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perintah dasar vi</font></font></b>
                        <div class="spoiler_text">    <br>
 «i»-   vi<br>
 «:wq!» –     vi<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sensor suhu berbasis ZUNo yang dirakit juga tidak ideal, jika Anda menyambungkannya ke RaspberryPi, sensor akan dinyalakan kembali setiap hari. Dengan demikian sangat meningkatkan keandalan sistem secara keseluruhan. Sistem operasi tetap menjadi titik lemah, jika membeku dan tidak memulai kembali pada pukul 12:00 tidak ada yang bisa dilakukan. Harus memanggil "spesialis" untuk mendistorsi makanan. Namun, sistem operasi ini telah diuji dan didebug lebih baik daripada komponen lain dari proyek ini (saya harap). Anda harus mengambil risiko ini. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menyiapkan perangkat lunak server Z-way</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Untuk memasukkan bagian grafis dari perangkat lunak server Z-way, ini memberi energi pada peralatan dan setelah beberapa menit menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">layanan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Layanan ini mencari RaspberryPi dengan server Z-way yang berjalan di jaringan lokal dan menampilkan alamat ip mereka. Anda juga dapat terhubung ke RaspberryPi jarak jauh di sini. Untuk mengkonfigurasi ini, saya memilih RaspberryPi lokal. Tetapkan nama pengguna dan kata sandi dan ingat ID enam digit. Ini cukup untuk koneksi jarak jauh. </font></font><br>
<img src="https://habrastorage.org/webt/rj/ag/bu/rjagbunwspmpbw10-zydr2hhfza.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ID untuk koneksi jarak jauh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) Menambahkan sensor suhu. Ini adalah tindakan standar. </font></font><br>
<img src="https://habrastorage.org/webt/cl/fh/s2/clfhs2ni524ui0knrehemt9jbm4.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) Aplikasi Ditambahkan-&gt; Aplikasi Lokal-&gt; Email ME </font></font><br>
<img src="https://habrastorage.org/webt/8w/bp/sn/8wbpsnhpnnt3wbduvmo-mnothse.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3) Tentukan nama elemen dan alamat email dengan teks huruf </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4) Ditambahkan kondisi di mana surat itu akan dikirim. Tidak ada yang terlalu rumit. </font></font><br>
<img src="https://habrastorage.org/webt/ya/gb/iy/yagbiy4qxnhipjy-ibhbjoxgily.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pemeriksaan terakhir </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hubungkan RaspberryPi ke router melalui kabel, daya yang diberikan, menghubungkan sensor termal.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya mendinginkan sensor suhu dan menerima surat, lalu satu lagi, dan satu lagi. Sementara suhu di bawah 15 derajat, "klien" akan menerima surat. Ini bagus, Anda tidak akan bisa melewatkannya. (Ke depan, saya akan mengatakan bahwa klien juga tidak memiliki surat, jadi saya menerima beberapa ratus surat dari "gagasan" saya. Klien email saya dengan mudah menumpuknya dengan rantai dan tidak menimbulkan ketidaknyamanan). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk dengan cepat melihat suhu di rumah di telepon, saya menginstal aplikasi Z-way. </font></font><br>
<img src="https://habrastorage.org/webt/ep/l7/-x/epl7-xz8vc3g2yfhvps2-jmnrda.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak bisa mengatakan itu cepat, mudah, tetapi memungkinkan Anda untuk terhubung dari jarak jauh ke server Z-way di RaspberryPi dan menonton suhunya. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ringkasan</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama 2 malam, melihat sekeliling, saya mengumpulkan sistem pemantauan suhu untuk objek jarak jauh. Sebelumnya, ZUNo dan pengontrol Razberry dianggap mainan mahal. Tetapi setelah penghapusan peralatan saya dari pos "pertarungan", di mana beberapa kali dalam waktu menentukan kerusakan sistem pemanas selama musim dingin, saya dihormati oleh produk-produk ini. Dan ada sesuatu yang harus dihormati. Internet dan lampu secara berkala menghilang, tetapi setelah dimulainya kembali pengarsipan, komunikasi dipulihkan. Sekarang saya membongkar "kompleks" ini menjadi suku cadang dan memahami kekuatan utamanya. Memiliki papan pengontrol Razberry yang dapat dimasukkan ke RaspberryPi, atau melalui adaptor UART ke komputer mana pun, satu atau dua ZUNo, satu set sensor dasar dan aktuator paling sederhana, Anda dapat dengan cepat menyelesaikan masalah.Saya tidak suka kata "mudah" dan tidak memiliki pengalaman menggunakan peralatan "pintar" dari produsen lain, tetapi dalam 2 hari saya menerima satu set peralatan siap pakai yang cukup untuk terhubung ke daya, serta aplikasi pada smartphone, aplikasi web di komputer dan pemberitahuan melalui email.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id503964/index.html">DataStore - CRUD (Buat Pembaruan Baca Hapus)</a></li>
<li><a href="../id503966/index.html">Aplikasi Pemantauan Sosial dibuat dari pelacak truk sampah</a></li>
<li><a href="../id503968/index.html">Bagaimana cara membuat robot bergerak dengan akurat? Gambaran Umum Robotu Platform Studuino dan Fitur</a></li>
<li><a href="../id503970/index.html">PuppetConf 2016. Kubernetes untuk administrator sistem. Bagian 1</a></li>
<li><a href="../id503972/index.html">Uji streaming di 4 jejaring sosial dan memilih opsi terbaik</a></li>
<li><a href="../id503982/index.html">Tentang orc dan kerangka kerja</a></li>
<li><a href="../id503988/index.html">Bagaimana "swirling light" masuk ke jaringan optik</a></li>
<li><a href="../id503990/index.html">Saya bosan dengan kenyataan bahwa programmer biasa meniru pengembang dan memalukan industri. Mereka membuat dunia lebih buruk</a></li>
<li><a href="../id503992/index.html">Cara memberi kuliah / webinar yang keren: 16 tips dari tiga dosen serial. Acara pemimpin-TI # 2</a></li>
<li><a href="../id503994/index.html">Pengumuman Quest Software Webinar untuk Remote Workstation dan Manajemen Keamanan Siber</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>