<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙅🏻 👸🏿 🅿️ ¿Cuánto marketing hay en ACID? 🤰🏾 👉🏻 👨🏾‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos. En contacto Vladislav Rodin. Actualmente soy el jefe del curso High Load Architect en OTUS, y también doy cursos sobre arquitectura de s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>¿Cuánto marketing hay en ACID?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/494652/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hola a todos. </font><font style="vertical-align: inherit;">En contacto Vladislav Rodin. </font><font style="vertical-align: inherit;">Actualmente soy el jefe del curso High Load Architect en OTUS, y también doy cursos sobre arquitectura de software. </font></font></i><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Además de la enseñanza, como puede ver, he estado escribiendo para un blog de material de copyright OTUS Habré y el artículo de hoy quiero coincidir con el inicio del curso </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Bases de datos"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que ahora está abierto.</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/iv/po/dw/ivpodwutiqb7mpd1iuwkdzyfg98.png"><br>
<hr><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefacio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las transacciones aparecieron en los años 70 y se presentaron como una herramienta de base de datos para resolver los problemas de tolerancia a fallas y acceso a datos en un entorno competitivo. Luego, se formularon una serie de propiedades que una transacción debe poseer para cumplir con las tareas que se le asignaron, y las letras mayúsculas de estas propiedades, establecidas en el orden correcto, formaron el hermoso acrónimo ACID.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El período de tiempo durante el cual tuvieron lugar estos eventos se caracterizó por la ausencia de grandes cargas, Internet y problemas de rendimiento, que solo podían resolverse mediante métodos de escala vertical. Posteriormente, a principios de la década de 2000, apareció una tendencia en las bases de datos NoSQL, apareció la abreviatura BASE, que en realidad se oponía al ACID clásico (ACID - ácido, BASE - álcali). Ahora hay una tendencia inversa para ACID. Incluso MongoDB de NoSQL ahora es compatible con ACID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos qué significa esta abreviatura y cuánto marketing tiene.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ACID representa 4 propiedades: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A = atomicidad </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C = consistencia </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I = aislamiento </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D = durabilidad </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora hablemos de cada propiedad por separado.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A = atomicidad</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La atomicidad es un término sobrecargado y en el contexto de las transacciones en una base de datos puede formularse como el principio de "todo o nada". Si su transacción contiene 10 operaciones de inserción, se ejecutarán las 10 (se realizarán transacciones de confirmación), o ninguna de ellas (se realizarán transacciones de reversión). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Cómo se proporciona esta propiedad? El hecho es que cuando una transacción que contiene las mismas 10 inserciones llega a la base de datos, los datos no comienzan a cambiar. Antes de una transacción, la transacción se escribe directamente en los datos en un registro, en el que se registran los cambios realizados. Este diario también se puede usar para replicar datos, o puede no estar completamente relacionado con él, como he descrito, por ejemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Gracias a este diario, las transacciones pueden confirmarse directamente a los datos o, en cuyo caso, revertirlos. </font><font style="vertical-align: inherit;">La regla de que una transacción debe cerrarse lo antes posible se deriva directamente de la comprensión de los principios para implementar esta propiedad: las bases de datos a menudo tienen prohibido limpiar este registro mientras una transacción está abierta, por lo que puede obstruirse, lo que, a su vez, tiene consecuencias muy desagradables.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C = consistencia (consistencia o integridad)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En términos de ACID, la consistencia no significa lo mismo que en términos del teorema CAP (en la teoría de sistemas distribuidos, hay muchos grados de esta consistencia). Por coherencia queremos decir lo siguiente: algunos invariantes predefinidos del sistema deben ejecutarse tanto antes como después de la transacción de confirmación. Se pueden representar ejemplos de invariantes del sistema: el débito converge con el préstamo, el salario total de los empleados no excede el presupuesto, el número de empleados en la empresa es igual al número de vacantes abiertas anteriormente, etc. En el lenguaje de la base de datos, esto significa solo el cumplimiento de todas las restricciones.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La pregunta sobre la necesidad de coherencia a nivel de la base de datos es bastante controvertida, porque la presencia de restricciones puede indicar que parte de la lógica de negocios se ha movido de la aplicación al nivel de la base de datos, lo que no se reconoce universalmente como una buena práctica. </font><font style="vertical-align: inherit;">Al final, la propia aplicación puede decidir no confirmar datos no válidos. </font><font style="vertical-align: inherit;">Existe la opinión de que la coherencia se agregó solo para hacer que la abreviatura sea hermosa (marketing).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I = aislamiento</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El aislamiento es una propiedad de la base de datos que permite que las transacciones paralelas se ejecuten como secuenciales. Después de todo, nadie prohíbe que la base de datos realice varias transacciones al mismo tiempo, es necesario asegurarse de que no se afecten entre sí, para que no ocurran anomalías del tipo de condición de carrera. De hecho, es el aislamiento lo que resuelve el problema del acceso a datos en un entorno competitivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La divulgación del concepto de aislamiento debido a su volumen merece un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artículo separado.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, porque precisamente el aislamiento puede llamarse el corazón de ACID. </font><font style="vertical-align: inherit;">El precio de la transaccionalidad a menudo se reduce al precio de garantizar el aislamiento, por lo que el aislamiento tiene diferentes niveles, cada uno de los cuales proporciona su propio nivel de protección contra las condiciones de carrera y conlleva una u otra sobrecarga. </font><font style="vertical-align: inherit;">El aislamiento está totalmente garantizado solo en el nivel serializable, que es muy difícil de implementar y que rara vez se necesita.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D = durabilidad</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La durabilidad nos dice que si se ha aplicado una transacción, de ninguna manera debería desaparecer. </font><font style="vertical-align: inherit;">De hecho, esto significa lo siguiente: si la base de datos respondió que se había confirmado una transacción, la transacción se confirmó en la memoria no volátil. </font><font style="vertical-align: inherit;">Esto significa que se produjo la llamada al sistema fsync, es decir, los buffers se volcaron al disco duro y respondió que estaba bien.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La durabilidad también es un término de marketing, porque no se puede proporcionar por completo. Incluso si descartamos los escenarios artificiales de "quemar la Tierra por extraterrestres", después de lo cual no habrá bases de datos o transacciones, escenarios más probables pero extremos de destrucción física de un disco duro particular en el que se grabó la transacción, podemos recordar que el sistema fsync garantiza las llamadas golpear un disco duro en el controlador, que, a su vez, todavía contiene un búfer volátil. El tiempo que pasa en él es corto, pero no igual a 0. Como resultado, si apaga la electricidad exactamente en el momento "correcto", ¡la transacción aún puede perderse!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aunque el problema con fsync se ha resuelto en una costosa base de datos Oracle, nada puede protegernos de los problemas asociados con la destrucción física de la máquina. </font><font style="vertical-align: inherit;">Solo podemos aumentar las garantías utilizando copias de seguridad y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">replicación</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recomendaciones</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pesar de que ACID proporciona propiedades bastante interesantes, como la atomicidad y el aislamiento, algunas de estas propiedades son solo de marketing, e incluso conocidas por su rigor en comparación con BASE, ACID no garantiza por completo la ausencia de oportunidades de pérdida de transacciones, así como el impacto de los resultados realizar transacciones simultáneas entre sí (¡el aislamiento aún debe configurarse!).</font></font><br>
<hr><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Invitamos a todos a una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lección gratuita</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre el tema: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Un modelo para trabajar con datos en PostgreSQL"</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es494642/index.html">Indicadores kármicos</a></li>
<li><a href="../es494644/index.html">Automatización de un periodista. Parte 2. Trabajando con oradores</a></li>
<li><a href="../es494646/index.html">La vida de análisis lleva o "pensé que lo haría usted mismo"</a></li>
<li><a href="../es494648/index.html">Analizamos los problemas de GOST R 53894-2016 “Gestión del conocimiento. Términos y definiciones"</a></li>
<li><a href="../es494650/index.html">Busque anagramas y sabanagramas en todas las palabras del idioma.</a></li>
<li><a href="../es494658/index.html">Usar rasgos para las relaciones polimórficas en Laravel</a></li>
<li><a href="../es494660/index.html">Tutorial CSS Houdini</a></li>
<li><a href="../es494662/index.html">Nuestro espacio, ¿es tan malo?</a></li>
<li><a href="../es494664/index.html">Cómo la implementación de procesos de seguridad ayuda a la transición al trabajo remoto</a></li>
<li><a href="../es494666/index.html">Hallazgos de un hombre de audio: dónde escuchar la música de épocas pasadas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>