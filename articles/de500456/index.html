<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî° üõ•Ô∏è üëèüèΩ BpfTrace - endlich ein vollst√§ndiger Ersatz f√ºr Dtrace unter Linux üë®üèº‚Äçüíº üëäüèø ‚òéÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es kommt vor, dass Systeme fehlerhaft sind, langsamer werden, ausfallen. Je gr√∂√üer das System ist, desto schwieriger ist es, die Ursache zu finden. Um...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>BpfTrace - endlich ein vollst√§ndiger Ersatz f√ºr Dtrace unter Linux</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/500456/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es kommt vor, dass Systeme fehlerhaft sind, langsamer werden, ausfallen. </font><font style="vertical-align: inherit;">Je gr√∂√üer das System ist, desto schwieriger ist es, die Ursache zu finden. </font><font style="vertical-align: inherit;">Um herauszufinden, warum etwas nicht wie erwartet funktioniert, um zuk√ºnftige Probleme zu beheben oder zu verhindern, m√ºssen Sie nach innen schauen. </font><font style="vertical-align: inherit;">Dazu m√ºssen Systeme die Eigenschaft der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beobachtbarkeit besitzen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die durch Instrumentierung im weiteren Sinne des Wortes erreicht wird.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6ExXwQecMrs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HighLoad ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ºberpr√ºfte Peter Zaitsev (Percona) die verf√ºgbare Infrastruktur f√ºr die Ablaufverfolgung unter Linux und sprach √ºber bpfTrace, das (wie der Name schon sagt) viele Vorteile bietet. </font><font style="vertical-align: inherit;">Wir haben eine Textversion des Berichts erstellt, damit Sie die Details bequem √ºberpr√ºfen k√∂nnen und zus√§tzliche Materialien immer zur Hand sind.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Instrumentierung kann in zwei gro√üe Bl√∂cke unterteilt werden:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Statisch</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wenn die Sammlung von Informationen in Code eingebunden ist: Aufzeichnen von Protokollen, Z√§hlern, Zeit usw.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dynamisch</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wenn der Code nicht selbst instrumentiert ist, es aber bei Bedarf m√∂glich ist.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine weitere Klassifizierungsoption basiert auf dem Ansatz zur Datenerfassung:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ablaufverfolgung</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ereignisse werden generiert, wenn ein bestimmter Code funktioniert hat.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abtastung</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Der Status des Systems wird beispielsweise 100 Mal pro Sekunde √ºberpr√ºft und bestimmt, was darin geschieht.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Statische Instrumente existieren seit vielen Jahren und sind in fast allem enthalten. </font><font style="vertical-align: inherit;">Unter Linux verwenden es viele Standardtools wie Vmstat oder Top. </font><font style="vertical-align: inherit;">Sie lesen Daten aus procfs, wobei grob gesagt verschiedene Timer und Z√§hler aus dem Kernel-Code geschrieben werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen jedoch nicht zu viele dieser Z√§hler einf√ºgen und nicht alles auf der Welt damit abdecken. </font><font style="vertical-align: inherit;">Daher kann eine dynamische Instrumentierung hilfreich sein, mit der Sie genau das sehen k√∂nnen, was Sie ben√∂tigen. </font><font style="vertical-align: inherit;">Wenn beispielsweise Probleme mit dem TCP / IP-Stack auftreten, k√∂nnen Sie sehr tief gehen und bestimmte Details anweisen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x8/nh/hz/x8nhhza-v08u7nlo01rb778nxqs.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dtrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DTrace ist eines der ersten bekannten dynamischen Tracing-Frameworks, die von Sun Microsystems erstellt wurden. Es wurde bereits 2001 hergestellt und 2005 erstmals in Solaris 10 ver√∂ffentlicht. Der Ansatz erwies sich als sehr beliebt und ging sp√§ter in viele andere Distributionen √ºber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanterweise k√∂nnen Sie mit DTrace sowohl den Kernel- als auch den Benutzerbereich instrumentieren. Sie k√∂nnen jedem Funktionsaufruf Traces hinzuf√ºgen und Programme speziell anweisen: F√ºhren Sie spezielle DTrace-Tracepoints ein, die f√ºr Benutzer verst√§ndlicher sein k√∂nnen als die Funktionsnamen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies war besonders wichtig f√ºr Solaris, da es sich nicht um ein offenes Betriebssystem handelt. Es war nicht m√∂glich, nur in den Code zu schauen und zu verstehen, dass Tracepoint auf eine solche Funktion gesetzt werden muss, wie dies jetzt in der neuen Open-Source-Linux-Software m√∂glich ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine der einzigartigen Funktionen von DTrace ist, dass </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Ablaufverfolgung zwar nicht aktiviert ist, aber nichts kostet</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es funktioniert so, dass es einfach einige CPU-Anweisungen durch einen DTrace-Aufruf ersetzt, der diese Anweisungen bei der R√ºckkehr ausf√ºhrt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In DTrace wird die Instrumentierung in einer speziellen D-Sprache geschrieben, √§hnlich wie C und Awk.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sp√§ter erschien DTrace fast √ºberall au√üer unter Linux: unter MacOS im Jahr 2007, unter FreeBSD im Jahr 2008 und unter NetBSD im Jahr 2010. Oracle im Jahr 2011 enthielt DTrace in Oracle Unbreakable Linux. </font><font style="vertical-align: inherit;">Aber nur wenige Leute verwenden Oracle Linux, und DTrace hat das Haupt-Linux nie betreten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanterweise hat Oracle DTrace 2017 schlie√ülich unter GPLv2 lizenziert, was es im Prinzip erm√∂glichte, es ohne Lizenzierungsschwierigkeiten in Mainline-Linux aufzunehmen, aber es war bereits zu sp√§t. </font><font style="vertical-align: inherit;">Zu dieser Zeit hatte Linux eine gute BPF, die haupts√§chlich zur Standardisierung verwendet wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DTrace wird sogar in Windows enthalten sein, jetzt ist es in einigen Testversionen verf√ºgbar.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux-Tracing</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist in Linux anstelle von DTrace? </font><font style="vertical-align: inherit;">Tats√§chlich gibt es unter Linux viele Dinge in der besten (oder schlechtesten) Manifestation des Open-Source-Geistes. In dieser Zeit haben sich eine Reihe verschiedener Tracing-Frameworks angesammelt. </font><font style="vertical-align: inherit;">Finden Sie daher heraus, was nicht so einfach ist. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wr/vu/ij/wrvuijy1unvtq2thcngvonvzsrq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sich mit dieser Vielfalt vertraut machen m√∂chten und sich f√ºr Geschichte interessieren, lesen Sie den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit Bildern und einer detaillierten Beschreibung der Ans√§tze zur Ablaufverfolgung unter Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir √ºber die Infrastruktur f√ºr die Ablaufverfolgung unter Linux im Allgemeinen sprechen, gibt es drei Ebenen:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstelle f√ºr die Kernel-Instrumentierung:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kprobe, Uprobe, Dtrace-Sonde usw.</font></font></li>
<li><strong>¬´¬ª,    .</strong> ,  probe,      ,          user space   .       :   ,     user space,  Kernel Module,   - ,  eBPF.</li>
<li><strong>-</strong>,    ,    : Perf, SystemTap, SysDig, BCC  .. bpfTtrace       ,  ,   .</li>
</ol><br>
<h2>eBPF ‚Äî   Linux</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit all diesen Frameworks ist eBPF in den letzten Jahren zum Standard unter Linux geworden. </font><font style="vertical-align: inherit;">Dies ist ein fortschrittlicheres, hochflexibles und effektives Werkzeug, das fast alles erm√∂glicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist eBPF und woher kommt es? </font><font style="vertical-align: inherit;">Tats√§chlich ist eBPF ein erweiterter Berkeley-Paketfilter, und BPF wurde 1992 als virtuelle Maschine f√ºr eine effiziente Paketfilterung durch eine Firewall entwickelt. </font><font style="vertical-align: inherit;">Anfangs hatte er keinen Bezug zu √úberwachung, Beobachtbarkeit oder R√ºckverfolgung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In moderneren Versionen wurde eBPF als gemeinsamer </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rahmen f√ºr die Behandlung von Ereignissen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erweitert (daher das Wort erweitert) </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Aktuelle Versionen sind f√ºr mehr Effizienz in den JIT-Compiler integriert. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unterschiede von eBPF zu klassischem BPF:</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Register hinzugef√ºgt;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ein Stapel ist erschienen;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt zus√§tzliche Datenstrukturen (Karten).</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/gj/9v/uh/gj9vuhqn64yciwp2zyjmekazpvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt vergessen die Leute meistens, dass es einen alten BPF gab, und eBPF wird einfach BPF genannt. </font><font style="vertical-align: inherit;">In den meisten modernen Ausdr√ºcken sind eBPF und BPF ein und dasselbe. </font><font style="vertical-align: inherit;">Daher hei√üt das Tool bpfTrace, nicht eBpfTrace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
eBPF ist seit 2014 in Mainline-Linux enthalten und wird schrittweise in vielen Linux-Tools enthalten, darunter Perf, SystemTap und SysDig. </font><font style="vertical-align: inherit;">Es gibt eine Standardisierung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanterweise ist die Entwicklung noch im Gange. </font><font style="vertical-align: inherit;">Moderne Kernel unterst√ºtzen eBPF immer besser. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f9/ad/xi/f9adxi6tahas6qaz0crpgc4fldk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier k√∂nnen Sie sehen, welche modernen Kernel-Versionen erschienen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EBPF-Programme</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist eBPF und warum ist es interessant? </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eBPF ist ein Programm in seinem speziellen Bytecode</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das direkt im Kernel enthalten ist und die Verarbeitung von Trace-Ereignissen durchf√ºhrt. Dar√ºber hinaus erm√∂glicht die Tatsache, dass es in einem speziellen Bytecode erstellt wurde, dem Kernel, eine bestimmte √úberpr√ºfung durchzuf√ºhren, ob der Code ziemlich sicher ist. Stellen Sie beispielsweise sicher, dass keine Schleifen verwendet werden, da die Schleife im kritischen Abschnitt des Kernels das gesamte System h√§ngen kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies erlaubt jedoch keine vollst√§ndige Sicherheit. Wenn Sie beispielsweise ein sehr komplexes eBPF-Programm schreiben und es in ein Ereignis im Kernel einf√ºgen, das 10 Millionen Mal pro Sekunde auftritt, kann sich alles sehr verlangsamen. Gleichzeitig ist eBPF viel sicherer als der alte Ansatz, als nur einige Kernel-Module √ºber insmod eingef√ºgt wurden und alles in diesen Modulen enthalten sein k√∂nnte. Wenn jemand einen Fehler gemacht hat oder einfach wegen einer bin√§ren Inkompatibilit√§t, k√∂nnte der gesamte Kern fallen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der eBPF-Code kann von LLVM Clang kompiliert werden, dh im Gro√üen und Ganzen wird eine Teilmenge von C zum Erstellen von eBPF-Programmen verwendet, was nat√ºrlich ziemlich kompliziert ist. Und es ist wichtig, dass die Kompilierung vom Kernel abh√§ngt: Header werden verwendet, um zu verstehen, welche Strukturen verwendet werden und wof√ºr sie verwendet werden usw. Dies ist nicht sehr praktisch in dem Sinne, dass entweder einige Module, die sich auf einen bestimmten Kern beziehen, immer geliefert werden oder neu kompiliert werden m√ºssen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Diagramm zeigt, wie eBPF funktioniert. </font></font><br>
<img src="https://habrastorage.org/webt/vf/f6/fq/vff6fqzhay_0tskbjguckrqe6e4.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.brendangregg.com/ebpf.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Benutzer erstellt ein eBPF-Programm. Au√üerdem √ºberpr√ºft und l√§dt der Kernel ihn. Danach kann eBPF eine Verbindung zu verschiedenen Tools f√ºr Traces herstellen, Informationen verarbeiten und in Karten speichern (Datenstruktur f√ºr die tempor√§re Speicherung). Dann kann das Anwenderprogramm Statistiken lesen, Perf-Ereignisse empfangen usw. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es zeigt, welche eBPF-Funktionen in welchen Versionen von Linux-Kerneln enthalten sind. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/ck/gr/cyckgrqgpnhpfmbg2wptd77b1q0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist ersichtlich, dass fast alle Subsysteme des Linux-Kernels abgedeckt sind, und es gibt eine gute Integration mit Hardwaredaten, eBPF hat Zugriff auf alle Arten von Cache-Miss- oder Branch-Miss-Vorhersagen usw. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie an eBPF interessiert sind, schauen Sie sich das </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">IO Visor-</font></a><font style="vertical-align: inherit;"> Projekt an</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enth√§lt es die meisten Werkzeuge. </font><font style="vertical-align: inherit;">Die Firma IO Visor ist an ihrer Entwicklung beteiligt. Sie wird √ºber die neuesten Versionen und eine sehr gute Dokumentation verf√ºgen. </font><font style="vertical-align: inherit;">Immer mehr eBPF-Tools werden auf Linux-Distributionen angezeigt. Ich w√ºrde daher empfehlen, immer die neuesten verf√ºgbaren Versionen zu verwenden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EBPF-Leistung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Bezug auf die Leistung ist eBPF sehr effektiv. </font><font style="vertical-align: inherit;">Um zu verstehen, wie viel und ob Overhead vorhanden ist, k√∂nnen Sie eine Sonde hinzuf√ºgen, die mehrmals pro Sekunde zuckt, und √ºberpr√ºfen, wie lange die Ausf√ºhrung dauert. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/jb/tq/rbjbtq7wvfiqdggh5bohn0dcaxc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Jungs von Cloudflare haben einen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benchmark gemacht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Eine einfache eBPF-Sonde ben√∂tigte ungef√§hr 100 ns, w√§hrend eine komplexere 300 ns ben√∂tigte. </font><font style="vertical-align: inherit;">Dies bedeutet, dass sogar eine komplexe Sonde etwa 3 Millionen Mal pro Sekunde auf einem einzelnen Kern aufgerufen werden kann. </font><font style="vertical-align: inherit;">Wenn die Sonde auf einem Mehrkernprozessor 100.000 oder eine Million Mal pro Sekunde ruckelt, wirkt sich dies nicht zu stark auf die Leistung aus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frontend f√ºr eBPF</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sich f√ºr eBPF und das Thema Beobachtbarkeit im Allgemeinen interessieren, haben Sie wahrscheinlich von Brendan Gregg geh√∂rt. Er </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schreibt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und spricht </font><font style="vertical-align: inherit;">viel dar√ºber </font><font style="vertical-align: inherit;">und hat ein so sch√∂nes Bild gemacht, das Werkzeuge f√ºr eBPF zeigt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/da/-o/fi/da-ofi9xtmuvnkvygmbhzdftz00.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier k√∂nnen Sie sehen, dass Sie beispielsweise Raw BPF verwenden k√∂nnen - schreiben Sie einfach Bytecode - dies bietet eine vollst√§ndige Palette von Funktionen, aber es wird sehr schwierig sein, damit zu arbeiten. Bei Raw BPF geht es darum, wie eine Webanwendung in Assembler geschrieben wird - im Prinzip ist dies m√∂glich, ohne dass dies erforderlich ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanterweise k√∂nnen Sie mit bpfTrace einerseits fast alles von BCC und rohem BPF erhalten, aber es ist viel einfacher zu verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meiner Meinung nach sind zwei Tools am n√ºtzlichsten:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BCC. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trotz der Tatsache, dass BCC nach Greggs Schema komplex ist, enth√§lt es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">viele vorgefertigte Funktionen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die einfach √ºber die Befehlszeile gestartet werden k√∂nnen.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BpfTrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sie k√∂nnen einfach Ihr eigenes Toolkit schreiben oder vorgefertigte L√∂sungen verwenden.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen sich vorstellen, wie viel einfacher es ist, auf bpfTrace zu schreiben, wenn Sie sich den Code desselben Tools in zwei Versionen ansehen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/yj/rg/dfyjrg8q4abkcjgcsnp00vuuymg.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DTrace vs bpfTrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen werden DTrace und bpfTrace f√ºr dasselbe verwendet. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/uo/rm/rhuormrzvwap7cr3uwlqk8hcnqu.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.brendangregg.com/blog/2018-10-08/dtrace-for-linux-2018.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Der Unterschied besteht darin, dass es im BPF-√ñkosystem auch ein BCC gibt, das f√ºr komplexe Tools verwendet werden kann. </font><font style="vertical-align: inherit;">In DTrace gibt es kein BCC-√Ñquivalent. Verwenden Sie daher f√ºr die Erstellung komplexer Toolkits normalerweise das Shell + DTrace-Bundle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Erstellen von bpfTrace gab es keine Aufgabe, DTrace vollst√§ndig zu emulieren. Das hei√üt, Sie k√∂nnen ein DTrace-Skript nicht auf bpfTrace ausf√ºhren. Dies macht jedoch wenig Sinn, da die Logik in den Tools der unteren Ebene recht einfach ist. In der Regel ist es wichtiger zu verstehen, zu welchen Tracepoints Sie eine Verbindung herstellen m√ºssen, und die Namen der Systemaufrufe und deren direkte Ausf√ºhrung auf niedriger Ebene unterscheiden sich in Linux, Solaris und FreeBSD. Hier entsteht der Unterschied. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall wird bpfTrace 15 Jahre nach DTrace erstellt. Es hat einige zus√§tzliche Funktionen, die DTrace nicht hat. Zum Beispiel kann er Stapelspuren erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber nat√ºrlich wird viel von DTrace geerbt. Beispielsweise sind </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktionsnamen und Syntax √§hnlich</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wenn auch nicht vollst√§ndig gleichwertig.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9l/cf/0z/9lcf0z37mltxok_7fsdvdhxanv8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Skripte DTrace und bpfTrace haben eine enge Codegr√∂√üe und eine √§hnliche Komplexit√§t und Sprachf√§higkeit.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/re/ud/br/reudbrcb_yoslb9ylo0loe9e-os.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bpfTrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns genauer sehen, was in bpfTrace enthalten ist, wie es verwendet werden kann und was daf√ºr ben√∂tigt wird. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux-Anforderungen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr die Verwendung von bpfTrace: </font></font><br>
<img src="https://habrastorage.org/webt/1_/sc/tk/1_sctkrpgkd3rd2b0ccrk4fur2y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um alle Funktionen nutzen zu k√∂nnen, ben√∂tigen Sie eine Version von mindestens 4.9. </font><font style="vertical-align: inherit;">Mit BpfTrace k√∂nnen Sie viele verschiedene Sonden erstellen, beginnend mit uprobe zum Instrumentieren eines Funktionsaufrufs in einer Benutzeranwendung, Kernel-Sonden usw.</font></font><br>
<img src="https://habrastorage.org/webt/la/v4/zq/lav4zqiss3uj4a42cx9lf5cu9hs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanterweise gibt es ein Uretprobe-√Ñquivalent f√ºr eine benutzerdefinierte Uprobe-Funktion. F√ºr den Kernel ist das gleiche kprobe und kretprobe. Dies bedeutet, dass Sie im Tracing-Framework tats√§chlich Ereignisse generieren k√∂nnen, wenn die Funktion aufgerufen wird und wenn diese Funktion abgeschlossen ist - dies wird h√§ufig f√ºr das Timing verwendet. Oder Sie k√∂nnen die von der Funktion zur√ºckgegebenen Werte analysieren und nach den Parametern gruppieren, mit denen die Funktion aufgerufen wurde. Wenn Sie einen Funktionsaufruf abfangen und von ihm zur√ºckkehren, k√∂nnen Sie viele coole Dinge tun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In bpfTrace funktioniert das folgenderma√üen: Wir schreiben ein bpf-Programm, das analysiert, in C konvertiert und dann √ºber Clang verarbeitet wird. Dabei wird bpf-Bytecode generiert, wonach das Programm geladen wird.</font></font><br>
<img src="https://habrastorage.org/webt/2r/my/_i/2rmy_ipzm97oydg5q8xdltdbchs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Prozess ist ziemlich schwierig, daher gibt es Einschr√§nkungen. </font><font style="vertical-align: inherit;">Auf leistungsstarken Servern funktioniert bpfTrace gut. </font><font style="vertical-align: inherit;">Es ist jedoch keine gute Idee, Clang auf ein kleines eingebettetes Ger√§t zu ziehen, um herauszufinden, was los ist. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ply ist daf√ºr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> geeignet </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es verf√ºgt nat√ºrlich nicht √ºber alle Funktionen von bpfTrace, generiert jedoch direkt Bytecode.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux-Unterst√ºtzung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine stabile Version von bpfTrace wurde vor etwa einem Jahr ver√∂ffentlicht, sodass sie auf √§lteren Linux-Distributionen nicht verf√ºgbar ist. </font><font style="vertical-align: inherit;">Nehmen Sie am besten Pakete oder kompilieren Sie die neueste Version, die IO Visor verteilt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanterweise verf√ºgt das neueste Ubuntu LTS 18.04 nicht √ºber bpfTrace, kann jedoch mit dem Snap-Paket geliefert werden. </font><font style="vertical-align: inherit;">Dies ist einerseits praktisch, andererseits funktionieren aufgrund der Art und Weise, wie Snap-Pakete erstellt und isoliert werden, nicht alle Funktionen. </font><font style="vertical-align: inherit;">Bei der Kernel-Ablaufverfolgung funktioniert ein Paket mit Snap gut, bei der Benutzer-Ablaufverfolgung funktioniert es m√∂glicherweise nicht richtig.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d3/si/co/d3sicofnas8mpwyrsvmkp1kdbvm.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel f√ºr die Prozessverfolgung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie das einfachste Beispiel, mit dem Sie Statistiken zu E / A-Anforderungen abrufen k√∂nnen:</font></font><br>
<br>
<pre><code class="bash hljs">bpftrace -e <span class="hljs-string">'kprobe:vfs_read { @start[tid] = nsecs; }
kretprobe:vfs_read /@start[tid]/ { @ns[comm] = hist(nsecs - @start[tid]); delete(@start[tid]); }'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier verbinden wir uns mit der Funktion </font></font><code>vfs_read</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sowohl kretprobe als auch kprobe. </font><font style="vertical-align: inherit;">Ferner verfolgen wir f√ºr jede Thread-ID (tid), dh f√ºr jede Anforderung, den Beginn und das Ende ihrer Ausf√ºhrung. </font><font style="vertical-align: inherit;">Daten k√∂nnen nicht nur nach der Gesamtheit des gesamten Systems gruppiert werden, sondern auch nach verschiedenen Prozessen. </font><font style="vertical-align: inherit;">Unten finden Sie die E / A-Ausgabe f√ºr MySQL. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e1/dx/om/e1dxomau1ormvas-7juk1as0sqy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die klassische bimodale E / A-Verteilung ist sichtbar. </font><font style="vertical-align: inherit;">Eine gro√üe Anzahl schneller Anforderungen sind Daten, die aus dem Cache gelesen werden. </font><font style="vertical-align: inherit;">Der zweite Peak ist das Lesen von Daten von der Festplatte, wo die Latenz viel h√∂her ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen dies als Skript speichern (die bt-Erweiterung wird normalerweise verwendet), Kommentare schreiben, formatieren und einfach weiter verwenden </font></font><code>#bpftrace read.bt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="bash hljs">// read.bt file<font></font>
tracepoint:syscalls:sys_enter_read<font></font>
{<font></font>
  @start[tid] = nsecs;<font></font>
}<font></font>
tracepoint:syscalls:sys_exit_read / @start[tid]/ <font></font>
{<font></font>
  @<span class="hljs-built_in">times</span> = hist(nsecs - @start[tid]);<font></font>
  delete(@start[tid]);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das allgemeine Konzept der Sprache ist recht einfach.</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Syntax:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> W√§hlen Sie die zu verbindende Sonde aus </font></font><code>probe[,probe,...] /filter/ { action }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filter:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Geben Sie einen Filter an, z. B. nur Daten zu einem bestimmten Prozess einer bestimmten Pid.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktion: Ein</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Miniprogramm, das direkt in ein bpf-Programm konvertiert und beim Aufruf von bpfTrace ausgef√ºhrt wird.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Details finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bpftrace-Werkzeuge</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BpfTrace hat auch eine Toolbox. </font><font style="vertical-align: inherit;">Viele ziemlich einfache Tools f√ºr BCC sind jetzt auf bpfTrace implementiert. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/sr/f1/dzsrf1-klsvpjawbgtdzffgegra.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Sammlung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist noch klein, aber es gibt etwas, das nicht im BCC enthalten ist. </font><font style="vertical-align: inherit;">Mit Killsnoop k√∂nnen Sie beispielsweise die durch kill () verursachten Signale verfolgen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sich den bpf-Code ansehen m√∂chten, k√∂nnen Sie in bpfTrace </font></font><code>-v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">den generierten Bytecode </font><font style="vertical-align: inherit;">durchschauen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dies ist n√ºtzlich, wenn Sie eine schwere Sonde verstehen m√∂chten oder nicht. </font><font style="vertical-align: inherit;">Wenn Sie sich den Code angesehen und nur seine Gr√∂√üe gesch√§tzt haben (eine oder zwei Seiten), k√∂nnen Sie verstehen, wie kompliziert er ist.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fo/sr/zg/fosrzgluhzrwsysvgvtsrkth8qe.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel f√ºr eine MySQL-Ablaufverfolgung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie mich Ihnen ein Beispiel f√ºr MySQL zeigen, wie es funktioniert. </font><font style="vertical-align: inherit;">MySQL hat eine Funktion, </font></font><code>dispatch_command</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in der alle MySQL-Abfrageausf√ºhrungen stattfinden.</font></font><br>
<br>
<pre><code class="bash hljs">bpftrace -e <span class="hljs-string">'uprobe:/usr/sbin/mysqld:dispatch_command { printf("%s\n", str(arg2)); }'</span>
failed to <span class="hljs-built_in">stat</span> uprobe target file /usr/sbin/mysqld: No such file or directory</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich wollte nur eine Garderobe anschlie√üen, um den Text von Abfragen zu drucken, die zu MySQL kommen - eine primitive Aufgabe. </font><font style="vertical-align: inherit;">Habe ein Problem - sagt, dass es keine solche Datei gibt. </font><font style="vertical-align: inherit;">Wie nicht, wenn es hier ist:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:/# ls -la /usr/sbin/mysqld<font></font>
-rwxr-xr-x 1 root root 60718384 Oct 25 09:19 /usr/sbin/mysqld</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies sind nur √úberraschungen mit Schnappschuss. </font><font style="vertical-align: inherit;">Wenn dies √ºber Snap festgelegt wird, k√∂nnen Probleme auf Anwendungsebene auftreten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann habe ich √ºber die apt-Version, ein neueres Ubuntu, wieder gestartet:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:~# bpftrace -e 'uprobe:/usr/sbin/mysqld:dispatch_command { printf("%s\n", str(arg2)); }'<font></font>
Attaching 1 probe...<font></font>
Could not resolve symbol: /usr/sbin/mysqld:dispatch_command</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Es gibt kein solches Symbol" - wie nicht ?! </font><font style="vertical-align: inherit;">Ich schaue durch, </font></font><code>nm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ob es ein solches Symbol gibt oder nicht:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:~# nm -D /usr/sbin/mysqld | grep dispatch_command<font></font>
00000000005af770 T <font></font>
_Z16dispatch_command19enum_server_commandP3THDPcjbb<font></font>
<font></font>
root@localhost:~# bpftrace -e 'uprobe:/usr/sbin/mysqld:_Z16dispatch_command19enum_server_commandP3THDPcjbb { printf("%s\n", str(arg2)); }'<font></font>
Attaching 1 probe...<font></font>
select @@version_comment limit 1<font></font>
select 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt ein solches Symbol, aber da MySQL aus C ++ kompiliert wird, wird dort Mangeln verwendet. </font><font style="vertical-align: inherit;">In der Tat ist der aktuelle Name der Funktion, die in diesem Befehl verwendet wird, der folgende : </font></font><code>_Z16dispatch_command19enum_server_commandP3THDPcjbb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wenn Sie es in einer Funktion verwenden, k√∂nnen Sie eine Verbindung herstellen und das Ergebnis abrufen. </font><font style="vertical-align: inherit;">Im Perf-√ñkosystem machen viele Tools das Entwirren automatisch und bpfTrace ist noch nicht in der Lage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Achten Sie auch auf die Flagge </font></font><code>-D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f√ºr </font></font><code>nm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dies ist wichtig, da MySQL und jetzt viele andere Pakete keine dynamischen Symbole (Debug-Symbole) enthalten - sie sind in anderen Paketen enthalten. </font><font style="vertical-align: inherit;">Wenn Sie diese Zeichen verwenden m√∂chten, ben√∂tigen Sie ein Flag </font></font><code>-D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, andernfalls werden sie von nm nicht angezeigt.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√ºtzliche Links</font></font></b>
                        <div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/zoidbergwill/awesome-ebpf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">slideplayer.com/slide/12710510</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.brendangregg.com/ebpf.html</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vger.kernel.org/netconf2018_files/BrendanGregg_netconf2018.pdf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.brendangregg.com/Slides/Velocity2017_BPF_superpowers.pdf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lwn.net/Articles/740157</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">tracingsummit.org/w/images/8/82/Tracingsummit2018-bpftrace-robertson.pdf</a></li>
</ul></div>
                    </div><br>
<blockquote><i>   :</i>  ++ 25‚Äì26    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>        ,     .    ,       ,            . <br>
<br>
<i>   :</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">++ Online</a>   .       5 900        ,      ,        -.<br>
<br>
<i>   :</i>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DevOpsConf 2019</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HighLoad++ 2019</a> ‚Äî   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>. <br>
<br>
       ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>, . </blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500446/index.html">Ein paar Worte zu R2DBC und PostgreSQL</a></li>
<li><a href="../de500448/index.html">Prometheus: HTTP-√úberwachung √ºber den Blackbox-Exporter</a></li>
<li><a href="../de500450/index.html">Erstellen eines MIDI-Keyboards aus einem Synthesizer f√ºr alte Kinder</a></li>
<li><a href="../de500452/index.html">Hohe Argumentation f√ºr tiefes Lernen</a></li>
<li><a href="../de500454/index.html">"Welche Yachth√§fen?" oder wir steuern den Controller √ºber Bluetooth mit einer mobilen Anwendung auf Xamarin (Android)</a></li>
<li><a href="../de500458/index.html">Technische Funktionen f√ºr Online-Sprache: Starter Pack</a></li>
<li><a href="../de500462/index.html">Erkennen von Szenen√§nderungen und Speichern von h264-Videoclips auf Raspberry Pi ohne Dekodierung</a></li>
<li><a href="../de500468/index.html">Java-Funktionshandbuch 8-14</a></li>
<li><a href="../de500470/index.html">Anpassung Ihrer vorhandenen Gesch√§ftsl√∂sung an SwiftUI. Teil 3. Arbeiten mit Architektur</a></li>
<li><a href="../de500472/index.html">Python ist Zeit, Platz zu schaffen. √úber die Aussichten von Julia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>