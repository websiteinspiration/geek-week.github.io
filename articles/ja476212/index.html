<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❕ 💃🏽 🤸🏽 実際に実証済み：磁気テープを操作するためのVeeam Backup＆Replication 9.5 Update 4機能 🤛 😪 💠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="長い間、テクニカルサポートサービスの同僚からのレビューや役立つヒントを印刷していませんでした。私は自分自身を訂正し、私たちの定期的な著者の1人であるEvgeny Ivanovによる記事の翻訳に注目します。その中で彼は、磁気テープを使用する新しい可能性と、バックアップの利益のためにそれらを正しく使用す...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>実際に実証済み：磁気テープを操作するためのVeeam Backup＆Replication 9.5 Update 4機能</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/476212/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">長い間、テクニカルサポートサービスの同僚からのレビューや役立つヒントを印刷していませんでした。私は自分自身を訂正し、私たちの定期的な著者の1人であるEvgeny Ivanovによる記事の翻訳に注目します。その中で彼は、磁気テープを使用する新しい可能性と、バックアップの利益のためにそれらを正しく使用する方法について話しました。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veeam Backup＆Replication 9.5 Update 4のリリースにより、ユーザーは、磁気テープでの作業を含む、多くの新しい便利な機能を自由に使用できます。彼女は懐疑論にもかかわらず、「すべての生き物よりも生きている」と言え、信頼性の高い長期的なデータストレージを整理するのに役立ちます。そしてもちろん、テープはお客様の間で人気があります。これはテクニカルサポートのケースにも見られます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、本日は、Veeam Backup＆Replication 9.5 Update 4bの新機能について詳しく説明するだけでなく、アーカイブおよび復元時に注意すべきいくつかの点についてもコメントします。</font><font style="vertical-align: inherit;">それでは始めましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b6/dn/lq/b6dnlqznef0lsgqj0z_p1zfjm0c.png"><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリの並行使用</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veeam Backup＆Replicationのメディアプールが「グローバル」になって以来、いくつかのバージョンがすでに合格しています。これはユーザーに何をもたらしましたか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高可用性</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（高可用性）</font><font style="vertical-align: inherit;">の概念と</font><font style="vertical-align: inherit;">テープとの関係について説明できます。したがって、ユーザーは、アーカイブタスクが利用可能なリスト内の次のテープデバイスに切り替えるイベントを指定できます。これらは、「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリがオフラインです</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」（ライブラリが無効）および「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メディアが利用できません</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」（</font><i><font style="vertical-align: inherit;">メディアがありません</font></i><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">というイベント</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、インフラストラクチャから古いデバイスを削除する必要がある場合のヒントを示します。一部のクライアントは、彼らは、デバイスが伝えられるところでは、まだメディアで使用されたというエラーメッセージを受け取った、私はあなたがメディアに移動し、セットアップウィザードをプール開始することをお勧めします。この場合、Xをプールすることを報告した</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テープの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ</font><font style="vertical-align: inherit;">をクリックして</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そこに管理し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、最も可能性の高いあなたが必要とするデバイスを-開いた</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ライブラリを管理</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ダイアログに他のユーザーとともに表示されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Update 4では、私たちのエンジニアが複数のライブラリに対して最も並行した作業を実装しました。次に、この「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリーの管理」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダイアログで、</font><font style="vertical-align: inherit;">各デバイスの操作モードを設定できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/i7/f9/dzi7f9l8_3krlgbulnpof1mimew.png"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">並列処理を有効にするには、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクティブ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]オプションを選択します</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切り替える必要がある場合にデバイスをアクティブにするには、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パッシブ]を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択します</font><font style="vertical-align: inherit;">。</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのデバイスをアクティブモードに設定することも、1つをアクティブモードに設定し、残りをパッシブモードに設定することもできます（その逆は不可）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モードの使用に関する一般的な推奨事項：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのデバイスが同一の場合は、それらをアクティブモードに設定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たとえば、1つのデバイスがかなり古く、2番目のデバイスが古い場合、古いライブラリをパッシブモードに切り替えることができます。新しいライブラリで何かが発生した場合に備えて、ジョブ処理をピックアップします。 </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、ロケット科学はありません。</font><font style="vertical-align: inherit;">ただし、いくつか注意すべき点があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">並列処理は、単一のアーカイブジョブ内でも使用できます。</font><font style="vertical-align: inherit;">これを行うには、元のバックアップをVMごとのモードで作成する必要があります。</font><font style="vertical-align: inherit;">1つの仮想マシン-1つのバックアップチェーン。</font><font style="vertical-align: inherit;">または、タスクで一度に複数のバックアップを追加する必要があります。</font></font></li>
<li>  ,   ,   -.   <b>Options</b>   <b>Enable parallel processing for tape jobs using this media pool</b>.    ,    (drives)         —     2. <br>
<br>
<i>:</i>        ,    ,         ,    -.       , . .<br>
<br>
<img src="https://habrastorage.org/webt/eo/_1/q0/eo_1q0y-reqvhmdz9zkixmw1vom.png"><br>
</li>
<li>   -,  ?   :   ()    -. </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、インフラストラクチャによっては、構成時に特別な注意が必要になる場合があります。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは私たちの実践の例です。クライアントがカスタマーサポートに連絡し、Veeam Backup＆Replicationが使用するテープが多すぎて、ほとんどがほとんど空であると苦情を言っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
詳細を分析した結果、クライアントには、タスクのセッションごとに新しいメディアセットを作成するように構成されたメディアプールがあることがわかりました。各セッションのデータ量は指定された数のカセットに完全に収まるため、最初はすべてが完璧に機能しました。その後、新しいデバイスが表示され、クライアントは並列処理を使用することを決定しました。これで、データは2セットのカセットに分散されました。メディアセットは各セッションの最後に確定されたため、Veeam Backup＆Replicationは次のセッション中に同じテープにデータを記録し続けることができませんでした。クライアントがカートリッジのオーバーランを観察したのはそのためです。その結果、彼は2つのオプションから選択する必要がありました。バックアップが2つのカセットセットに適合するように初期タスクを構成し（信頼性が高すぎない）、メディアセットを連続（連続）にするか、並列処理を無効にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、2つ以上のメディアセットを並行して録音すると、タイトルが混乱する可能性があることに注意してください。</font><font style="vertical-align: inherit;">複数のテープが同時に記録され、同じシリアル番号が付いていることがお客様にわかりました。</font><font style="vertical-align: inherit;">（実際、これは完全に正常です。）混乱を避けるために、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％ID％</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数をメディアセットの名前に追加することをお勧めし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GFSの改善</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、デフォルトのGFSストレージポリシーのサポートがどのように構成されているかを思い出してみましょう。 </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GFS変換（テープGFS）を使用したアーカイブタスクの開始がスケジュールされている日に、このタスクは午前0時（00:00）に開始され、元のバックアップタスクによって作成された新しい復元ポイントの到着を待ちます。 </font></font></li>
<li>      ,   tape GFS       . <br>
   —   ,       . </li>
<li> tape GFS        24 .</li>
<li>        ,   tape GFS     . <br>
<br>
         (backup copy jobs, BCJ) — -              .      BCJ  tape GFS      ,      . <br>
<br>
  tape GFS             (,     ),        2  .           . </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、各間隔には、メディアセットがあります。たとえば、カセットが毎週のアーカイブに使用された場合、毎月のポイントはそこに記録できません（カセットが消去されているか、空白としてマークされている場合を除きます）。これは一部のユーザーを混乱させます-GFSメディアプールに期限切れのカセットが表示されますが、テープGFSタスクはそれを無視して別の適切なカセットを要求しているようです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがデフォルトのプロセスの一般的な見方です。これらの目的のためにレジストリキーを使用するテクニカルサポートに連絡することによってのみ、設定を変更することが可能であったことに注意します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜUpdate 4をアップデートしたのですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、レジストリからインターフェイス（GUI）に移行された2つの設定：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テープGFSジョブセットアップウィザードの</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スケジュール]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップで、</font><font style="vertical-align: inherit;">このタスクを開始する時間を指定できるようになりました（デフォルトでは00:00が残ります）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qr/sz/n3/qrszn33ocw2fnlksnjsbb_hpk3a.png"><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらに、テープGFSタスクを構成して、ポイントが今日利用できない場合に直前のポイントに（待機せずに）すぐに切り替えることができます。</font><font style="vertical-align: inherit;">このオプションは、上にある</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[オプション]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アドバンスト</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高度な</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yk/ag/eh/ykagehdcqzvt8ynsrrprg7f1ag0.png"><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、新しい値がレジストリに追加されました。これにより、テープGFSジョブジョブは、特定の間隔に属するものだけでなく、任意のメディアセットからの期限切れのデータを含むテープを使用できます。</font><font style="vertical-align: inherit;">この設定を変更する必要がある場合は、サポートにお問い合わせください。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テープGFSジョブの並列処理</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前のバージョンのGFSメディアプールについて説明しているドキュメントを見ると、テープGFSジョブでは並列テープ処理はサポートされていません。</font><font style="vertical-align: inherit;">そして今、Update 4でようやく追加されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセスの段階は、通常のメディアプールを使用する場合と同じです（上記を参照）。</font><font style="vertical-align: inherit;">GFSとタスクの並列処理を使用する場合は、カセットの推定数に注意してください。この構成では、多数のメディアセットを作成する必要があります。</font><font style="vertical-align: inherit;">次の式を使用できます</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。A（調整されたメディアセット）x B（ライターの数）= C（使用されたテープ）</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
たとえば、5つのメディアセットと2つのドライブがオンになっている構成では、少なくとも10本のテープが必要です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毎日のメディアセット</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テープGFSジョブの機能への主な追加は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毎日のメディアセット</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。通常のアーカイブジョブとジョブをGFSと組み合わせることができます。したがって、長期間のアーカイブにGFSメディアプールを使用し、同時に通常のメディアプールを使用して短いインクリメンタルチェーンをカセットに保存する場合、作業を簡素化するために個別のタスクを設定する代わりに、毎日のメディアセットを使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GFSメディアプールの設定に移動し、そこで適切なオプションを選択します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b3/ky/kp/b3kykpm1ijs1qbrmkbsngsbacze.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
日単位のメディアセットを使用するには、週単位で構成する必要があることに注意してください。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
毎日のメディアセットでは、テープGFSジョブは、ポイント（フルまたはインクリメンタル）が元のジョブを作成したかどうかを毎日チェックし、それらをテープに配置します。</font><font style="vertical-align: inherit;">元のジョブがいくつかのリカバリポイントを作成する場合、それらすべてがテープに配置されます。</font><font style="vertical-align: inherit;">これにより、毎週のGFSポイント間の「ギャップ」を埋め、増分ポイントから回復する機能を提供できます。</font><font style="vertical-align: inherit;">リカバリ中に、Veeam Backup＆Replicationは、最も近い完全バックアップ（おそらく、毎週のGFS）と関連する増分バックアップを含むテープを要求します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（テープでのバックアップアーカイブタスクと同様に）毎日のメディアセットは、逆増分チェーンを作成するバックアップタスクから「キックバック」をコピーしないことに注意してください。</font><font style="vertical-align: inherit;">完全なバックアップのみがコピーされます。これは、このようなチェーンの中で常に最新のものです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のシナリオを検討してください</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。無限に増分するチェーンを作成するバックアップジョブがあります。</font><font style="vertical-align: inherit;">毎日午前5時に始まります。</font><font style="vertical-align: inherit;">ストレージポリシーは、14個のリカバリポイントを保存するように構成されています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テープへのアーカイブの場合、14日間のデータを保存する毎日のメディアプールと、4週間のデータを保存する毎週のメディアプール、および対応する毎月、四半期、毎年のテープGFSジョブジョブを構成できます。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毎日のメディアセットは、カセットを追加するように構成できます（エクスポートなし）。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">毎週のGFS間隔（およびそれ以上の間隔）は、未記録のテープをファイナライズし、各セッションの後にそれらをエクスポートします。 </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、増分ポイントを含むテープはライブラリに保存され、ストレージポリシーに従って回転されます。</font><font style="vertical-align: inherit;">その間、完全バックアップを保存するテープはオフラインになり、安全なストレージに置くことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなシナリオを以下の図に示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b6/dn/lq/b6dnlqznef0lsgqj0z_p1zfjm0c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リカバリを実行する必要がある場合、Veeam Backup＆Replicationは週次GFSポイントを含むカセットを要求し、日次メディアセットのカセットを使用して対応する増分ポイントを復元します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WORMカセットのサポート</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WORMは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write Once Read Manyの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">略です</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、いったん記録されると、そのようなテープを消去したり上書きしたりすることができないことを意味します（これは、多くのシナリオで美徳となる場合があります）。</font><font style="vertical-align: inherit;">ただし、このタイプのテープにはいくつかの問題があり、以前のバージョンのVeeam Backup＆Replicationはこのタイプをサポートしていませんでした。</font><font style="vertical-align: inherit;">しかし今、あなたは彼と一緒に働くこともできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
原則として、WORMカセットでの作業は、従来のカセットでの作業とそれほど変わりません。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初に、適切なメディアプール（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WORMメディアプール）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を作成する必要があり</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">いつものように、標準とGFSの2つのタイプがあります。</font><font style="vertical-align: inherit;">機能は1つしかありません。ストレージポリシーの設定を変更することはできません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次にカセットを追加します。</font><font style="vertical-align: inherit;">時々混乱があるかもしれません-WORMカセットは普通と考えられ、逆もまた同様です。</font><font style="vertical-align: inherit;">これを回避するには、WORMカセットの操作に関連するすべてのものが青いアイコンであることに注意してください。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veeam Backup＆Replicationは、WORMカセットをバーコードによって、またはインベントリー中に識別します。</font><font style="vertical-align: inherit;">必ずテープデバイスのドキュメントを読み、正しいバーコードを使用してください。</font><font style="vertical-align: inherit;">たとえば、IBMライブラリは、バーコードのVからYまでの文字がWORMカートリッジを示していると信じています（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バーコードに関するこの記事を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">これらの文字を不適切に使用すると、Veeam Backup＆Replicationが混乱する可能性があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDMPバックアップ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Update 4では、NDMPをサポートしている場合、NASボリュームをバックアップおよび復元できます。 </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず</font><font style="vertical-align: inherit;">、ドキュメントで説明されているように、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インベントリ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビュー</font><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">NDMPサーバーを追加する必要があり</font><font style="vertical-align: inherit;">ます（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーマニュアル</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（英語）を参照）。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：</font></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このセクションの</font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要件</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制限</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（段落</font><b><font style="vertical-align: inherit;">要件</font></b><font style="vertical-align: inherit;">と</font><b><font style="vertical-align: inherit;">制限</font></b><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">必ずお読み</font><i><font style="vertical-align: inherit;">ください。</font></i><font style="vertical-align: inherit;">その中には、非常に重要な点がいくつかあります。</font><font style="vertical-align: inherit;">たとえば、現在のバージョンでは、NetApp Cluster Aware Backup（CAB）拡張機能からのNDMPバックアップはサポートされていません。</font><font style="vertical-align: inherit;">回避策として、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明するように、ノードスコープのNDMPを構成できます</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インフラストラクチャにNDMPサーバーを追加したら、標準ファイルからテープファイルへのアーカイブタスクのソースファイルストレージの場所として構成する必要があります。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リカバリは、テープに保存されている他のファイルを復元するのと同様に、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビューから起動できます</font><font style="vertical-align: inherit;">。</font></font></li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要！</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veeam Backup＆Replicationの現在のバージョンでは、個々のボリュームファイルのリカバリはサポートされておらず、ボリューム全体のみを復元できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カセット選択アルゴリズム</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、Update 4では、新しいカセットの使用状況インジケーター（読み取り/書き込みセッションの数）が導入されました。この値は、カセットのプロパティの[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摩耗]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールドに表示されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mu/wl/sb/muwlsbakyhyhowcjhpno0gfltru.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カセットを使用した後、（仕様に応じて）許容される最大数は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リタイアメディアプールメディアプールに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移動され</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veeam Backup＆Replicationを使用したテープアーカイブに精通しているユーザーは、以前にテープを再利用することの不許可に関するテープデバイスからの警告を監視することが可能であったことを知っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バランスのとれた負荷の原則の使用は新しいです-つまり、カセットを選択するとき、Veeam Backup＆Replication Update 4は、他の要因とともにパラメーターの値を考慮します</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">着用</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（つまり、カートリッジがすでに機能したセッションの数）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、カートリッジ選択アルゴリズムは次のように機能します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n-/w3/fn/n-w3fntdcck1xolh18csanwtyrm.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル回復の新機能</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、ユーザーが目的のバックアップを選択した後、バックアップセッション中にソースフォルダーに存在していたファイルのみが復元されます。</font><font style="vertical-align: inherit;">メニュー自体は変更されていません。ロジックのみが更新されています。</font><font style="vertical-align: inherit;">前と同様に、回復ウィザードを開始し、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックアップセット</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]をクリック</font><font style="vertical-align: inherit;">して、データの復元元となるバックアップファイルの</font><b><font style="vertical-align: inherit;">セット</font></b><font style="vertical-align: inherit;">を選択します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3n/bc/t_/3nbct_2yw_4mythz7rffuyrf4jk.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアントのバックアップをテープにアーカイブする</font></font></h2><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この機能により、サービスプロバイダーは、顧客データのバックアップコピーをテープに記録するという新しいタイプのサービスを実装できます。</font><font style="vertical-align: inherit;">すべての設定はプロバイダー側​​で実行されます。VeeamBackup＆Replicationのクラウドプロバイダーライセンス（クラウドサービスプロバイダー）がインストールされている場合、ジョブをアーカイブするためのセットアップウィザードの手順に従って、クライアントをジョブソースとして追加できます。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このようなジョブはGFSプールでのみ機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回復もプロバイダーによって実行されます。</font><font style="vertical-align: inherit;">回復には、次のようなオプションがあります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを元のクラウドリポジトリに復元します（既存のファイルは上書きされ、タスクは復元されたバックアップのセットにマップされます）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいクラウドリポジトリに</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルディスクへ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、クライアントに独自のテープインフラストラクチャがある場合は、テープをメールで送信するだけで、ネットワークトラフィックを回避できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他のイノベーション</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テープオペレーターの役割。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この役割を持つユーザーは、カセットを使用して任意のアクションを実行できますが、リカバリーを開始することはできません。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースの処理順序。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これで、バックアップジョブの仮想マシンに対して行われるのと同じ方法で、処理ソース（ソース）の順序を変更できます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルアーカイブジョブのマスクデータを含める/除外します。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前のバージョンでは、ファイルアーカイブジョブは、を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">含める</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ためにマスクのみを使用できました</font><font style="vertical-align: inherit;">。除外マスクが利用可能になりました（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除く</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e）。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはファイルとフォルダーに対してのみ機能しますが、NDMPバックアップはボリュームレベルで実行されることに</font><i><font style="vertical-align: inherit;">注意してください</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テープがいっぱいになると、ドライブからカートリッジを自動的に取り外します。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、スタンドアロンのテープデバイスで作業する場合のロジックの小さな調整です。</font><font style="vertical-align: inherit;">バックアップセッション中にテープが完全に記録されるとすぐに、テープはデバイスから自動的に削除され、ドライブの隣の人が別のテープを挿入できるようになります。</font><font style="vertical-align: inherit;">これは、特にランサムウェアウイルスに対する保護に適用されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終的に</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Update 4で実装された磁気テープの処理における多くの改善は、このメディアが引き続きVeeam Backup＆Replication製品管理の焦点であることを明確に示しています。</font><font style="vertical-align: inherit;">これらの新機能がバックアップをさらに効率的にすることを願っています。</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">役立つリンク</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veeam Backup＆Replicationユーザーガイド（英語）</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">        </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">      </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">         (  )</a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja476194/index.html">Habr Weekly＃27 / Chromebook対Macbook、クールな履歴書の書き方、給与、3500ドルのARポイント</a></li>
<li><a href="../ja476198/index.html">私が最初のウェブサイトを作成した方法とそれから生まれたもの</a></li>
<li><a href="../ja476206/index.html">pgbackrestによるPostgresqlの増分バックアップ-開発者による若いファイターコース</a></li>
<li><a href="../ja476208/index.html">Web Almanac 2019：可用性</a></li>
<li><a href="../ja476210/index.html">公開鍵標準に基づく暗号ワークステーション。PKCS＃11トークンの構成</a></li>
<li><a href="../ja476214/index.html">マスコットスラムの誕生</a></li>
<li><a href="../ja476216/index.html">ウェブ r0ot-miによる問題解決。パート2</a></li>
<li><a href="../ja476220/index.html">データ検証の何が問題になっており、Liskov置換の原則はそれとどのように関係していますか？</a></li>
<li><a href="../ja476222/index.html">レコメンデーションシステムの概要</a></li>
<li><a href="../ja476224/index.html">レコメンデーションシステムを開発する10のライフハック</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>