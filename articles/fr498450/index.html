<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦂 👉🏿 🧝🏼 Redondance MultiSim - qu'est-ce que c'est et comment ça marche 🎊 👴🏼 🈳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="salut! 
 
 Je m'appelle Anton Datsenko et je suis responsable du développement des solutions et services d'entreprise au sein de la division Beeline B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Redondance MultiSim - qu'est-ce que c'est et comment ça marche</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/beeline/blog/498450/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salut! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je m'appelle Anton Datsenko et je suis responsable du développement des solutions et services d'entreprise au sein de la division Beeline Business. Aujourd'hui, je vais vous dire comment nous utilisons les technologies de sauvegarde et l'équilibrage dans MultiSIM, pour lesquels les clients un tel produit est plus important qu'il n'y paraît à première vue, et un peu sur le réseau en général. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ferai une réservation tout de suite que dans le post nous parlerons spécifiquement des clients B2B. Parce que pour un abonné ordinaire, la réservation de communication est un smartphone avec deux cartes SIM.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> <img src="https://habrastorage.org/webt/dd/p_/aa/ddp_aa9qzozrh0hn8aeqj3lto-e.jpeg"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais sérieusement, les approches ici sont un peu similaires. L'importance du canal de communication de sauvegarde mérite d'être discutée dans le même plan que la sauvegarde importante des données. Vous n'avez pas de sauvegarde - c'est fondamentalement mauvais (mais temporaire). Avez-vous une sauvegarde - c'est déjà beaucoup mieux. Et si vous faites non seulement des sauvegardes, mais vérifiez également, au cas où, tout est bien restauré à partir d’elles, c’est déjà très bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un réseau stable pour la plupart des entreprises, y compris même les petites et moyennes entreprises, est la clé d'un travail normal sans blagues. Parce que beaucoup de choses sont liées au réseau - l'efficacité des magasins en ligne, et l'utilisation des bases de données dans les magasins hors ligne, et le travail des caisses en ligne et des pinpads. En général, s'il n'y a pas de réseau, vous ne pourrez pas payer les marchandises normalement, vous ne pourrez pas obtenir de chèque à la caisse en ligne, etc.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce qu'un équilibreur et pourquoi est-il nécessaire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'équilibreur (alias agrégateur de trafic) est un analogue d'un routeur, dans lequel il coûte de 2 à 4 cartes SIM (selon le modèle dont le client a besoin). </font><font style="vertical-align: inherit;">Avec l'aide de partenaires, nous installons l'équipement chez les clients d'entreprise et configurons la connexion. </font><font style="vertical-align: inherit;">Cela peut être soit une connexion directe via un équilibreur sur les réseaux LTE, soit via un périphérique redondant. </font><font style="vertical-align: inherit;">Il y a toujours une option avec un tunnel VPN, mais j'en parlerai séparément dans le prochain post. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ed/tm/os/edtmosr5wc4hugx4yohplon0uvg.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a deux cartes SIM</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors voilà. Chaque équilibreur additionne les bandes passantes des canaux fournies par les cartes SIM et fonctionne avec le serveur d'agrégation. Le serveur est dans notre réseau, à la jonction de notre réseau et du réseau partenaire, et nous obtenons un canal de travail. Visuellement, il s'agit d'un routeur, le plus souvent Mikrotik (oui, oui), sur lequel il existe un firmware personnalisé, nous avons pris OpenWrt comme base et l'avons réécrit très au sérieux. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f6/u1/nn/f6u1nn73fx9ckeswmmr6zpgd5ik.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et ici déjà 4</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La nécessité de tels appareils il y a plus de 10 ans a été examinée par les sociétés de médias américaines. La télévision y est développée plus sérieusement que la nôtre, une attention particulière étant accordée aux émissions en direct et aux émissions en direct de la scène. La qualité de l'image et du son est importante, c'est aussi une composante de l'avantage concurrentiel, il existe donc un certain nombre d'entreprises qui ont des brevets technologiques spéciaux pour savoir comment diviser correctement une trame vidéo de haute qualité en fragments, la pousser dans le réseau cellulaire, du côté du studio à partir de ces fragments à nouveau pour recueillir une grande image, et non un paquet de chacals, et montrer au spectateur. Et tout cela, ce qui est important, avec un délai minimum. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils utilisent donc des appareils spéciaux, qui ont immédiatement à bord un ensemble de toutes sortes de cartes SIM, vous permettant de générer un flux vidéo de haute qualité du lieu des événements vers les studios.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre marché de la télévision lui-même est construit un peu différemment, donc cette solution n'a pas pris racine, car elle s'est avérée à la fois chère et pas la plus populaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais pour les entreprises, les équilibreurs pour 2 à 4 cartes SIM se sont révélés juste à temps.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qui est utile</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, si votre entreprise a d'excellents administrateurs réseau, et tout va bien avec le fournisseur. Mais il y a des moments où la redondance enregistre le bon fonctionnement habituel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart des clients qui utilisent activement notre produit sont des entreprises qui ont des difficultés avec un canal de communication filaire. Il y a plusieurs raisons à cela - il peut s'agir du fournisseur monopoliste du centre d'affaires, cela peut être l'emplacement du magasin non pas dans le bâtiment dans lequel il y a un canal câblé, mais dans une petite extension, où ce canal n'est plus là. Dites un petit marché couvert à distance de marche des bâtiments résidentiels. Et tracer une ligne entre la liaison fibre optique principale et une telle extension est soit difficile, soit désavantageux.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe également des clients avec des bureaux mobiles ou des entreprises saisonnières, y compris des organisateurs d'événements. Notre équilibreur (lire - un routeur avec des cartes SIM et un logiciel spécial) est une petite boîte que vous pouvez emporter rapidement avec vous, vous connecter sur place, et tout fonctionnera. Supposons qu'il existe une compagnie d'assurance qui doit déployer ses bureaux dans de nouveaux endroits souvent et souvent. Alors qu'un tel nouveau service client est entièrement connecté à tous les documents du réseau, une semaine peut s'écouler. Si vous utilisez l'équilibreur MultiSIM, il suffira de le déposer au bureau avec la première livraison de meubles et de papier pour imprimantes, après quoi il sera simplement allumé et bénéficiera immédiatement d'un réseau fonctionnel avec un accès sécurisé aux ressources de l'entreprise.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dès que le bureau est connecté à un réseau câblé à part entière, l'équilibreur peut simplement être retiré et reporté jusqu'au prochain cas, ou laissé en réserve en cas d'accident sur le réseau. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Banques La grande majorité des distributeurs automatiques de billets sont connectés au réseau précisément via la communication mobile; à l'intérieur d'un tel distributeur automatique de billets, il y a un sifflet avec une carte SIM, qui assure la communication. Cela est généralement suffisant avec une marge, car l'échange de données de traitement en termes de trafic est en fait un sou, et personne ne téléchargera de torrents à partir de guichets automatiques. Ne serait-ce que par intérêt. De plus, la connexion d'un GAB via un réseau mobile le rend un peu plus mobile: dans le cadre d'un centre commercial, disons, il peut être déplacé assez rapidement d'un endroit à l'autre, en se concentrant uniquement sur la présence d'une prise à proximité, et non sur un câble Internet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il y a des avantages, il y aura des inconvénients. L'essentiel est qu'il n'y ait qu'une seule carte SIM dans le sifflet. Par conséquent, si cet opérateur a spécifiquement des problèmes, le GAB tombe temporairement en panne et ne peut pas contacter la banque. Les banques n'aiment pas cela, d'une part, en raison de la perte d'argent (chaque heure d'indisponibilité d'un GAB est une perte déraisonnable de fonds), et d'autre part, de telles périodes d'indisponibilité n'affectent pas très bien la fidélité des clients. Vous êtes venu au GAB au GAB de toute urgence pour retirer de l'argent, mais il est stupide.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous et moi comprenons maintenant qu'avec une forte probabilité, cela peut être un problème de réseau, mais pour la dernière personne qui attend de l'argent comptant en une minute, la banque elle-même sera toujours la source du problème. Si l’ATM d’une banque particulière ne fonctionne pas = banque stupide, c’est tout avec eux. Dans ce cas, l'équilibreur basculera le réseau vers la deuxième carte SIM. La situation où deux opérateurs différents se couchent simultanément dans une ville est beaucoup moins courante que les pannes temporaires en une. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N'oubliez pas non plus la création de centres situationnels et de sièges opérationnels des services d'urgence et des agences gouvernementales. Il est essentiel pour eux de déployer un réseau sécurisé afin de pouvoir travailler pleinement avec toutes leurs bases de données internes de n'importe où, que ce soit dans un champ ou un marais. Maintenant, le processus de déploiement d'un tel réseau ressemble à ceci:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les services d'urgence arrivent sur le site et déchargent;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installer des sifflets USB avec des opérateurs SIM;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rechercher un point fixe de présence des opérateurs (pour cela ils ont des contacts de tous les opérateurs dans ce cas);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">télécharger une chaîne (ou simplement sur Internet, ou immédiatement sur votre réseau);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imposer leur équipement spécial par dessus tout;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">déployer le réseau.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semble qu'il n'y ait pas beaucoup de points. </font><font style="vertical-align: inherit;">Mais le processus peut prendre quelques jours. </font><font style="vertical-align: inherit;">Avec l'équilibreur, tout tient en 5 minutes. </font><font style="vertical-align: inherit;">Je l'ai, je l'ai allumé, et c'est tout. </font><font style="vertical-align: inherit;">Nous n'avons pas besoin de penser à l'équilibre (pour notre part, nous gardons le doigt sur le pouls, quelles que soient les cartes SIM utilisées par le client), de plus l'appareil ne peut pas être conservé dans des conditions de serre, mais met généralement une voiture mobile sur le toit où elle accroche mieux - La protection IP67 vous permet de le faire.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caractéristiques de réservation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les périphériques qui fournissent la redondance, en général, fonctionnent sur un principe similaire à l'équilibreur, mais avec quelques fonctionnalités. Premièrement, il n'y a toujours que deux cartes SIM. Deuxièmement, ils fonctionnent à tour de rôle, c'est-à-dire qu'un seul est toujours actif, il n'y a pas de collage des canaux ici.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'installation du côté client semble tout aussi simple - un routeur est mis dans lequel un script Python spécial est téléchargé et il fonctionne en mode modem LTE, passant de la première carte SIM à la seconde si nécessaire (le script le fait automatiquement en fonction du déclenchement de certains déclencheurs ) Un avantage supplémentaire ici ne fonctionne pas uniquement comme un modem LTE purement, mais fonctionne également sur un câble. Autrement dit, si vous avez accès via un réseau câblé, vous pouvez brancher un câble sur le routeur et y travailler. Si quelque chose ne va pas avec la connexion par câble, le canal LTE s'allumera. Il s'avère une telle réservation du signal de câble si souhaité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous avons tout fait nous-mêmes, sans impliquer des partenaires ou des prestataires tiers.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une caractéristique clé de la redondance est le VPN uniquement. Oui, nous construisons l'ensemble du réseau via un tunnel VPN. Toutes les cartes SIM installées dans de tels appareils sont dans un seul réseau VPN, donc si vous la retirez de l'appareil pour le tester et l'insérez dans votre smartphone habituel, cela ne fonctionnera pas. Le périphérique de sauvegarde via le réseau VPN établit un tunnel vers notre passerelle, où les clients quittent. En principe, il n'y a pas de différence pour le client final, sauf pour la taille du paquet final non fragmenté. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le même temps, nous conservons la même IP et les paramètres correspondants pour un client particulier. Cela fonctionne par câble, passe à des cartes SIM, j'ai décidé de déplacer l'appareil quelque part - IP sera le même. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe deux autres fonctionnalités utiles pour les entreprises clientes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, le wifi. L'appareil fonctionne comme un routeur réseau limité, une sorte de point entre l'opérateur et le client, alors qu'il peut également fonctionner comme un routeur client familier selon un ensemble de règles prédéterminées. Rien ne nous empêche de mettre du Wi-Fi dessus pour que le client d'entreprise puisse distribuer un Wi-Fi rapide à ses employés. Je note que dans ce scénario, nous parlons d'un réseau de travail d'entreprise, et non d'un Wi-Fi public avec autorisation SMS, comme dans un café et plus encore.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deuxièmement, il existe une passerelle SIP intégrée. </font><font style="vertical-align: inherit;">Le routeur dispose d'un petit PBX qui peut fonctionner avec notre PBX basé sur le cloud et donner au client la possibilité de connecter des téléphones analogiques directement au routeur. </font><font style="vertical-align: inherit;">À la fin de cette année, nous prévoyons de déployer un service à part entière, redondance multisim + Wi-Fi + PBX cloud, alors que tout cela est en test. </font><font style="vertical-align: inherit;">Il existe une idée de fournir un tel service sous la forme de deux entités - soit immédiatement à partir de notre PBX, soit à partir d'un PBX que le client possède déjà. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons qu'un client possède son propre réseau IP VPN sans accès Internet et son propre PBX sur Asterisk, il nous donne ses paramètres, et nous configurons tout pour que le client reçoive un routeur avec deux lignes d'abonnés, Wi-Fi et l'accès IP VPN.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment se connecter</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici sur ces pages. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réservation de connexion Internet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Association de réseaux mobiles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En attendant, nous effectuons des tests de charge actifs. </font><font style="vertical-align: inherit;">Je vais également me désinscrire des résultats séparément. </font><font style="vertical-align: inherit;">Si vous avez des questions sur le fonctionnement de notre MultiSIM - posez-les dans les commentaires, je vous répondrai.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr498438/index.html">8 questions faciles pour les mentors de stage</a></li>
<li><a href="../fr498440/index.html">Pleins feux sur les menaces: virus de fichier Neshta</a></li>
<li><a href="../fr498442/index.html">Analyse statique complète à l'aide de produits Polyspace</a></li>
<li><a href="../fr498444/index.html">Surveillance dans le centre de données: comment nous avons changé l'ancien BMS en un nouveau. Partie 2</a></li>
<li><a href="../fr498446/index.html">Questions d'emploi: stabilité imaginaire, fausse dévotion et positionnement</a></li>
<li><a href="../fr498452/index.html">Django: un guide rapide sur l'internationalisation</a></li>
<li><a href="../fr498454/index.html">Contes des développeurs de vos jeux préférés sur ce dont ils sont fiers</a></li>
<li><a href="../fr498456/index.html">Pratique de capture de défilement CSS</a></li>
<li><a href="../fr498458/index.html">Appels vidéo avec arrière-plan virtuel et outils open source</a></li>
<li><a href="../fr498462/index.html">Défilement infini avec des bannières, ou comment faire avec trois vues</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>