<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🈶 🗯️ 👰🏽 IoT onde você não esperou. Desenvolvimento e teste (parte 1) 🙏🏼 ↕️ ✌🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Usar a IoT em rastreadores de fitness, alto-falantes e aspiradores de pó não surpreenderá ninguém. Você achou que vários sensores podem ser instalados...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>IoT onde você não esperou. Desenvolvimento e teste (parte 1)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/501922/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usar a IoT em rastreadores de fitness, alto-falantes e aspiradores de pó não surpreenderá ninguém. </font><font style="vertical-align: inherit;">Você achou que vários sensores podem ser instalados em contêineres e caminhões de lixo para controlar a coleta de lixo? </font><font style="vertical-align: inherit;">Parece estranho e levanta a questão: "Por quê?" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anatoly Korovin passou a trabalhar em um projeto que eles fizeram do zero. </font><font style="vertical-align: inherit;">E neste artigo, a análise de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seu relatório</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da conferência </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heisenbug</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , onde ele descreveu em detalhes por que o Smart </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Garbage Truck</font></a><font style="vertical-align: inherit;"> precisava ser feito e como foram realizados o desenvolvimento e o teste desse projeto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A estrutura geral do relatório é mostrada na figura abaixo. </font><font style="vertical-align: inherit;">Neste artigo, consideraremos apenas o que está sombreado em verde no diagrama.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dh/fh/po/dhfhpoywrpxqbnzmgx9cqevapvg.png"><br>
<br>
<a name="habracut"></a><br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desafios da indústria</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os personagens principais:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recipientes de lixo (bem, tudo está claro aqui, vemos caixas de lixo todos os dias);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inquilinos de prédios de apartamentos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operador regional (organização responsável pelos resíduos urbanos sólidos (RSU) na região);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">empresas transportadoras de lixo (empresas de transporte, equipamentos especiais para remoção de RSU);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aterros sanitários (inclui fossas, incineradores e usinas de processamento de lixo).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando pagamos pela coleta de lixo, é mais fácil avaliar a qualidade do serviço com base no fato da remoção do lixo do quintal. </font><font style="vertical-align: inherit;">Mas se você se aprofundar nessa questão e tentar descobrir para onde a transportadora está levando lixo (para o aterro sanitário ou para a vala mais próxima), surgirão dificuldades. </font><font style="vertical-align: inherit;">Portanto, uma das tarefas do nosso sistema era controlar a integridade dos artistas.</font></font><br>
<br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reportagem em papel</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na maioria das regiões com as quais trabalhamos, as operadoras regionais coletaram relatórios em papel das transportadoras. </font><font style="vertical-align: inherit;">O relatório registra o número do carro da transportadora, sua rota, tempo de carregamento do tanque e a quantidade de lixo. </font><font style="vertical-align: inherit;">E eles enviam esses relatórios uma ou duas vezes por ano, para que você possa imaginar quantos dados são.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e0/wr/0r/e0wr0rtymt4_sly202fwivi0cle.png"><br>
<br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Difícil de verificar</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considerando que não há mecanismo para verificar a confiabilidade desses dados, em muitos aspectos o relatório é aceito “com fé”. Para resolver o problema, as operadoras em algumas regiões instalaram rastreadores GPS nos carros da transportadora e começaram a rastrear a rota de transporte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Embora os operadores definam o vetor da solução corretamente, todo o problema não foi resolvido - todos os relatórios também representavam uma pilha de papéis nas prateleiras do escritório dos operadores. É difícil imaginar que alguém verifique tudo com as mãos. Nesta pilha de papel, você precisa obter aleatoriamente, abrir o programa rastreador, comparar o tempo no relatório e, no rastreador, a localização da máquina. E muitos dados caem no verificador.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, existem operadoras desonestas que usam vulnerabilidades neste sistema. Eles gradualmente perceberam quais indicadores verificaram e começaram a criar um esquema "cinza". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gs/lp/ue/gslpuehtndhu8lwlqjjduc0kx6g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, uma transportadora dirige até um contêiner de lixo no quintal, um motorista sai do carro, fuma por alguns minutos e sai sem pegar o lixo. Em seguida, ele chega ao canteiro de obras mais próximo e se carrega com resíduos comerciais, cuja eliminação deve ser paga separadamente, porque é um desperdício de produção e outras empresas industriais. Depois disso, o transportador chega ao aterro, onde confiantemente diz que levou todo esse lixo nas entradas de prédios residenciais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse cenário, a rota recebida do rastreador GPS mostrará os mesmos pontos que aparecem no relatório da transportadora, mas ninguém retirou o lixo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E este é apenas um dos muitos cenários.</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resolvendo problemas com a IoT</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para cobrir o maior número de cenários, foi construído um sistema de IoT, incluindo automação de latas de lixo, transporte de transportadoras e aterros sanitários.</font></font><br>
<br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Latas de lixo inteligentes</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para começar, equipamos contêineres de lixo com vários tipos de sensores:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor ultrassônico convencional - determina o nível de preenchimento do contêiner. </font><font style="vertical-align: inherit;">Não fazia sentido usar sistemas sofisticados caros, uma vez que um dispositivo desse tipo ao preço de um iPhone não pode ser jogado no lixo em algum lugar de uma área remota, e provavelmente alguém vai querer levá-lo para casa.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor de temperatura - a telemetria dele deixa claro se o lixo está queimando; </font><font style="vertical-align: inherit;">acelerômetro. </font><font style="vertical-align: inherit;">Ele determina o ângulo de inclinação do contêiner, e é assim que registramos na história quando o transportador chegou e descarregou o lixo. </font><font style="vertical-align: inherit;">E, como um bônus agradável, podemos descobrir se os vândalos entregaram o lixo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etiqueta RFID. </font><font style="vertical-align: inherit;">Com sua ajuda, você pode comparar sem ambiguidade qual transportadora descarrega o contêiner.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos os dados foram transmitidos via GSM / GPRS; portanto, nenhum fio foi simplesmente conectado à parede do contêiner e o dispositivo mede o nível de lixo à sua frente.</font></font><br>
<br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acompanhamos o transporte da transportadora</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para controlar o transporte, usamos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rastreadores GPS</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sensor de elevação do guindaste para rastrear o movimento da válvula;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leitor RFID para determinar qual contêiner está conectado à máquina;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">câmera em caso de qualquer processo.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/w0/db/6_/w0db6_dcxazx3hdxsmdj9ssg2cw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que você acha que foi o sensor mais inútil? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, as fotos da câmera não trouxeram nenhum benefício. </font><font style="vertical-align: inherit;">Destas, não é possível criar uma conta glamourosa do Instagram, nem fica claro o que estamos vendo: é </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2k/_s/sw/2k_ssw2orhaa6x4irc7pabe4-xs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
muito difícil instalar a câmera no transporte especial de uma transportadora para que as fotografias fiquem claras. </font><font style="vertical-align: inherit;">Como resultado, a foto mostrou: uma estrada, uma barreira, poças, etc. e, ocasionalmente, plataformas de contêineres dos ângulos não mais bem-sucedidos. </font><font style="vertical-align: inherit;">Espera-se ver várias violações do transporte de lixo, mas na verdade o lixo - as próprias fotos.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pi/si/hs/pisihsuakhcgcebpbk_wultyhhu.gif"></div><br>
<h3><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controlando a disposição de resíduos</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os contêineres e o transporte estavam conectados, resta receber telemetria a partir do ponto final - o aterro. </font><font style="vertical-align: inherit;">Para isso, um enorme suporte de peso é instalado na entrada. </font><font style="vertical-align: inherit;">Quando o carro entra, reconhecemos o número do carro e registramos os dados no banco de dados. </font><font style="vertical-align: inherit;">Na estrada, o transporte passa por um procedimento semelhante e trabalhamos na diferença entre esses dois valores.</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que a introdução do sistema deu?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As transportadoras obtêm um lucro bastante grande com esse sistema, porque agora todas as manhãs conhecem a rota ideal. Agora, os carros podem ir primeiro aos pontos em que os contêineres estão cheios e depois se mover pelos pontos em ordem decrescente de plenitude. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m3/h1/th/m3h1thurvfwagsnfpenut0nwpxq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas trilhas são muito diferentes das rotas de transportadora usuais, pois sem telemetria é bastante difícil prever a melhor opção. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7w/ep/bs/7wepbsdgqcxfkec4-m95wchl-54.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse cenário também acontece: a maioria dos sites de coleta de lixo é organizada em uma área bastante pequena, mas há um ponto localizado a uma distância considerável de outros. Sem a telemetria, é difícil descobrir se o lixo deve ser coletado deste local, e o motorista vai até ela, vê que os contêineres estão vazios e vão embora, gastando tempo e combustível. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AT</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na continuação deste artigo,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mostraremos como o backend deste projeto é organizado e quais recursos específicos a IoT trouxe para as abordagens de teste.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anatoly Korovin falará na próxima conferência </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heisenbug 2020 Piter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que será realizada on-line de 15 a 18 de junho. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste verão, é possível obter conhecimento não apenas no campo de testes, mas também em projetos de computação distribuída, front-end, back-end, DevOps, móveis, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por meio da assinatura do ticket</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt501902/index.html">Conjunto básico para desenvolvedores do VueJS</a></li>
<li><a href="../pt501904/index.html">O que acontecerá à sua pele devido ao uso constante de luvas</a></li>
<li><a href="../pt501906/index.html">DINS QA EVENING (online): um caso para testar um serviço baseado no WebRTC e maneiras de evitar a execução de testes inadequados</a></li>
<li><a href="../pt501914/index.html">Transmitir Modern Web Live 2020 - Melhores práticas de experiência do usuário em tempos indefinidos</a></li>
<li><a href="../pt501918/index.html">O livro "Design de jogos. Receitas para o sucesso dos melhores jogos de computador, de Super Mario e Doom a Assassin's Creed e mais »</a></li>
<li><a href="../pt501924/index.html">Como construir um diagrama de venn com 50 círculos? Visualização de conjuntos e o histórico do meu projeto Python de código aberto</a></li>
<li><a href="../pt501928/index.html">Mitap on-line PM com alto-falantes de Atlassian (Jira), Wrike e Productboard</a></li>
<li><a href="../pt501930/index.html">Que oportunidades a Spring oferece para personalizar seu comportamento?</a></li>
<li><a href="../pt501932/index.html">Acelerando a implementação de projetos de IA na exploração florestal de Segezha</a></li>
<li><a href="../pt501934/index.html">Publique a biblioteca de design de componentes VKUI no Figma</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>