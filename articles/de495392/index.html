<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👋🏼 💴 🌤️ So suchen Sie im Frontend nach Fehlern: 4 Hauptphasen 🛀 🌤️ 🚇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werde ich das Problem der Identifizierung und Behandlung von Fehlern behandeln, die im Frontend (Browser oder Webansicht) auftreten....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>So suchen Sie im Frontend nach Fehlern: 4 Hauptphasen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/495392/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c08/5ff/884/c085ff8845d18ef9dffa549af66df2e5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel werde ich das Problem der Identifizierung und Behandlung von Fehlern behandeln, die im Frontend (Browser oder Webansicht) auftreten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Frontend wird JS-Code im Browser ausgeführt. </font><font style="vertical-align: inherit;">JavaScript ist keine kompilierte Sprache, daher besteht bei direkter Verwendung des Programms immer die Möglichkeit eines Leistungsfehlers. </font><font style="vertical-align: inherit;">Ein Ausführungsfehler blockiert den Code nach dem Fehlerort, und Benutzer des Programms laufen Gefahr, bei einem nicht funktionsfähigen Anwendungsbildschirm zu bleiben, der nur neu geladen oder geschlossen werden kann. </font><font style="vertical-align: inherit;">Es gibt jedoch Methoden zur Erkennung von Fehlern und deren sicherer Begleitung, um solche Situationen zu vermeiden.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. JavaScript-Tools</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Try / Catch-Blöcke</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Möglicherweise fehlgeschlagene Funktionen werden möglicherweise in Try / Catch-Blöcke eingeschlossen. </font><font style="vertical-align: inherit;">Zunächst versucht das Programm, den Code im try-Block auszuführen. </font><font style="vertical-align: inherit;">Wenn aus irgendeinem Grund die Codeausführung unterbrochen ist, wechselt das Programm in den catch-Block, in dem drei Parameter verfügbar sind:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Name - standardisierter Name des Fehlers;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachricht - Nachricht über die Details des Fehlers;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stack - Der aktuelle Aufrufstapel, in dem der Fehler aufgetreten ist.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">try</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;callFunc();<font></font>
<font></font>
} <span class="hljs-keyword">catch</span> (e) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.name) <span class="hljs-comment">// ReferenceError</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.message) <span class="hljs-comment">// callFunc is not defined</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.stack) <span class="hljs-comment">// ReferenceError: callFunc is not defined at window.onload</span><font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für den Entwickler ist die Hauptsache, dass das Programm die Ausführung nach dem catch-Block fortsetzen kann. </font><font style="vertical-align: inherit;">Somit wird die Benutzerinteraktion nicht unterbrochen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Try / Catch-Block können Sie auch eigene Fehler verursachen, z. B. beim Überprüfen von Daten:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> user = {<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-attr">name</span> : «Mike»<font></font>
<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">try</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> (!user.age) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">SyntaxError</span>(«User age is absent!»);<font></font>
<font></font>
} <span class="hljs-keyword">catch</span> (e) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.name) <span class="hljs-comment">// SyntaxError</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.message) <span class="hljs-comment">// User age is absent!</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e.stack) <span class="hljs-comment">// SyntaxError: User age is absent! at window.onload</span><font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schließlich können Sie diese Anweisung um einen weiteren Block erweitern - schließlich, der immer ausgeführt wird: sowohl für den Fall, dass beim Versuch kein Fehler aufgetreten ist, als auch für den Fall, dass das Steuerelement an den catch-Block übergeben wurde:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">try</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;callFunc();<font></font>
<font></font>
} <span class="hljs-keyword">catch</span> (e) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(e)<font></font>
<font></font>
} <span class="hljs-keyword">finally</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;...<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manchmal verwenden sie die try / finally-Anweisung (ohne catch), damit Sie den Code weiterhin verwenden können, ohne bestimmte Fehler zu behandeln.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Window.onerror-Ereignis</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist oft nützlich zu wissen, dass das Skript auf der Seite fehlerhaft ist, auch wenn das Programm fehlerhaft ist und die Benutzersitzung nicht erfolgreich beendet wurde. </font><font style="vertical-align: inherit;">Normalerweise werden diese Informationen dann in Fehlerprotokollierungssystemen verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das globale Fensterobjekt hat ein Fehlerereignis ( </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verwenden Sie es vorsichtig: Die Implementierung kann in verschiedenen Browsern unterschiedlich sein!</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">window</span>.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message, url, line, col, error</span>) </span>{<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${message}</span>\n  <span class="hljs-subst">${line}</span>:<span class="hljs-subst">${col}</span>  <span class="hljs-subst">${url}</span>`</span>);<font></font>
<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie diesen Code am Anfang des Skripts platzieren oder ihn zunächst in ein separates Skript laden, stehen dem Entwickler für Fehler unten detaillierte Informationen zur Verfügung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vollständige Informationen sind jedoch nur für Skripte verfügbar, die von derselben Domain heruntergeladen wurden. </font><font style="vertical-align: inherit;">Wenn das fehlerhafte Skript aus einer anderen Domäne geladen wird, funktioniert window.onerror, es werden jedoch keine Details zum Fehler angezeigt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Framework-Komponenten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige JS-Frameworks ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Vue) bieten ihre eigenen Fehlerbehandlungslösungen an. </font><font style="vertical-align: inherit;">Beispielsweise kann React an der Stelle des Blocks, in dem der Fehler aufgetreten ist, ein spezielles Layout zeichnen:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ErrorBoundary</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">constructor</span>(props) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">super</span>(props);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">this</span>.state = { <span class="hljs-attr">hasError</span>: <span class="hljs-literal">false</span> };<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">static</span> getDerivedStateFromError(error) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//    ,      UI.</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> { <span class="hljs-attr">hasError</span>: <span class="hljs-literal">true</span> };<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;componentDidCatch(error, errorInfo) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//           </span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logErrorToMyService(error, errorInfo);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;render() {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.state.hasError) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//    UI  </span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>-   .<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.props.children;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
}<font></font>
<font></font>
&lt;ErrorBoundary&gt;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyWidget</span> /&gt;</span></span><font></font>
<font></font>
&lt;/ErrorBoundary&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tatsächlich ist die React-Komponente in eine spezielle Komponente eingebunden, die Fehler behandelt. </font><font style="vertical-align: inherit;">Dies ähnelt dem Umschließen von Funktionen mit einem try / catch-Konstrukt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Projektmontagewerkzeuge</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moderne JS-Skripte werden normalerweise transpiliert. </font><font style="vertical-align: inherit;">Das heißt, die Entwicklung erfolgt nach den neuesten ES-Standards. </font><font style="vertical-align: inherit;">Anschließend wird der Code des Entwicklers, der den Project Builder verwendet (z. B. Webpack), in Code konvertiert, der garantiert in der ausgewählten Anzahl von Browsern funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Erstellungsphase wird der Code auf korrekte Syntax überprüft. </font><font style="vertical-align: inherit;">Eine offene Klammer oder eine falsche Bezeichnung eines Klassenfelds führt sofort zu einem Fehler bei der Montage, und das Bündel wird einfach nicht zusammengebaut. </font><font style="vertical-align: inherit;">Der Entwickler muss solche Fehler sofort beheben, um weiterarbeiten zu können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Kollektor schlägt möglicherweise auch vor, dass einige Codeteile beim Ausführen des Programms nicht verwendet werden. </font><font style="vertical-align: inherit;">Vielleicht veranlasst dies den Entwickler, über eine eingehendere Untersuchung des Codes nachzudenken, was sich indirekt auf die Identifizierung neuer Fehler auswirken kann.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Testen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine andere Möglichkeit, Fehler im Code zu vermeiden, besteht darin, ihn zu testen. </font><font style="vertical-align: inherit;">Im Frontend befinden sich Tools für den effektiven Einsatz von Unit-Tests. </font><font style="vertical-align: inherit;">Typischerweise werden Frameworks wie Jest, Karma, Mocha, Jasmine verwendet. </font><font style="vertical-align: inherit;">Zusammen mit Test-Frameworks verwenden sie häufig Erweiterungen wie Enzyme, React Testing Library, Sinon und andere, die es ermöglichen, Tests mithilfe von Spott-, Spionage- und anderen Tools zu bereichern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Suche nach Fehlern sind Tests in erster Linie nützlich, um eine Vielzahl von Daten zu laden, die zu Ausführungsfehlern führen können. </font><font style="vertical-align: inherit;">Der folgende Code besteht also die Syntaxvalidierung und funktioniert wie erwartet:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> func = <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(data)<font></font>
<font></font>
}<font></font>
<font></font>
func(<span class="hljs-string">'{«a»:1}'</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird jedoch unterbrochen, wenn Sie den falschen Wert angeben:</font></font><br>
<br>
<pre><code class="javascript hljs">func() <span class="hljs-comment">// Uncaught SyntaxError: Unexpected token u in JSON at position 0.</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Code besteht auch die Validierung während der Montage:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> obj = {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">outer</span> : {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">last</span> : <span class="hljs-number">9</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">if</span> (obj.outer.inner.last) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(«SUCCESS»)<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird jedoch auch während der Ausführung unterbrochen. </font><font style="vertical-align: inherit;">Nach dem Testen wird der Entwickler wahrscheinlich zusätzliche Überprüfungen durchführen:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (obj.outer?.inner?.last) {<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(«SUCCESS»)<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solche Fehler treten häufig auf, wenn Daten vom Server empfangen werden (z. B. mit einer AJAX-Anforderung) und anschließend analysiert werden. </font><font style="vertical-align: inherit;">Durch Testen des Codes können Sie im Voraus Fälle identifizieren und beseitigen, in denen der Code während der Ausführung im Browser des Clients beschädigt werden kann.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Protokollierung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, wir haben alle möglichen Maßnahmen ergriffen, um Fehler bei der Entwicklung und Montage des Projekts zu vermeiden. Fehler können jedoch weiterhin produktiven Code infiltrieren. Wir müssen irgendwie etwas über ihre Anwesenheit herausfinden und sofort Korrekturmaßnahmen ergreifen. Es ist nicht die beste Option, Benutzer zu bitten, eine Browserkonsole zu öffnen und Screenshots zu machen. Daher ist es gut, die Fehlerprotokollierung mit dem Projekt zu verbinden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Bedeutung ist einfach: Für jedes window.onerror-Ereignis oder jeden Übergang der Codeausführung zum catch-Block wird eine einfache AJAX-Anforderung an eine speziell zugewiesene Serveradresse gesendet, in deren Hauptteil Informationen über den Fehler eingefügt werden. Als Nächstes benötigen Sie ein Tool, das den technischen Support und die Entwickler schnell über das Vorhandensein neuer Fehler informiert und es Ihnen ermöglicht, effektiv mit ihnen zu arbeiten. Das beliebteste dieser Frontend-Tools ist Sentry.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Sentry-Protokollierungssystem können Sie Fehler in Echtzeit erfassen, gruppieren und präsentieren. </font><font style="vertical-align: inherit;">Es gibt Assemblys für verschiedene Sprachen, einschließlich JavaScript. </font><font style="vertical-align: inherit;">Das Projekt bietet kostenpflichtigen Zugriff mit erweiterten Funktionen für Unternehmen. Sie können die Hauptfunktionen jedoch auf einem kostenlosen Testkonto testen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sentry kann sowohl direkt in der HTML-Datei als auch in Komponenten verbunden werden, die auf einem der gängigen Frameworks ausgeführt werden: React, Vue, Angular, Ember und andere. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laden Sie das Skript, um die Protokollierungsfunktionen direkt im Browser im Abschnitt zu verbinden:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;script<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;src=«https:<span class="hljs-comment">//browser.sentry-cdn.com/5.13.0/bundle.min.js»</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;integrity=«sha384-ePH2Cp6F+/PJbfhDWeQuXujAbpil3zowccx6grtsxOals4qYqJzCjeIa7W2UqunJ»<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;crossorigin=<span class="hljs-string">"anonymous"</span>&gt;&lt;/script&gt;</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes initialisieren wir im JS-Code:</font></font><br>
<br>
<pre><code class="javascript hljs">Sentry.init({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'https://&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span><font></font>
<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle. </font><font style="vertical-align: inherit;">Wenn im Code unter dieser Zeile ein Fehler auftritt, protokolliert Sentry ihn. </font><font style="vertical-align: inherit;">Protokolle werden auch dann aufgezeichnet, wenn der Fehler aufgrund eines Fehlers von Skripten aus anderen Domänen aufgetreten ist:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/678/d2e/401/678d2e401660ad74977598ab150c1b85.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a05/7b3/b45/a057b3b458602831347c02db278c98ed.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sentry bietet ausreichend Gelegenheit, eine Reihe von Fehlermeldungen zu analysieren und Benachrichtigungen zu konfigurieren. </font><font style="vertical-align: inherit;">Es ist auch möglich, Fehlerprotokolle nach den Versionen Ihres Produkts zu gruppieren:</font></font><br>
<br>
<pre><code class="javascript hljs">Sentry.init({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'https://&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span>,<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">release</span>: <span class="hljs-string">'2020.03.06.1'</span><font></font>
<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Sentry können Statistiken verwendet werden, um den Kontext eines Fehlers zu übertragen, z. B. Kundeninformationen, Fingerabdruck, Fehlerstufe (schwerwiegend, Fehler, Warnung, Info, Debug) und Tag. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist möglich, Benutzerereignisse in Statistiken aufzuzeichnen. </font><font style="vertical-align: inherit;">Sie können beispielsweise die Nachverfolgung festlegen, um die Größe des Browserfensters zu ändern oder eine AJAX-Anforderung zu stellen. </font><font style="vertical-align: inherit;">Sentry hat auch ein eigenes Widget mit einem Feedback-Fenster, das dem Benutzer im Fehlerfall angezeigt werden kann. </font><font style="vertical-align: inherit;">Dies liefert zusätzliche Informationen, um die Umstände des Fehlers zu untersuchen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Sentry zusammen mit den Frameworks bereitzustellen, installieren Sie einfach das Paket und stellen Sie eine Verbindung her:</font></font><br>
<br>
<pre><code class="javascript hljs"># Using yarn<font></font>
<font></font>
yarn add @sentry/browser<font></font>
<font></font>
# Using npm<font></font>
<font></font>
npm install @sentry/browser</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir initialisieren im Hauptskript des Projekts (für React und Angular):</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> Sentry <span class="hljs-keyword">from</span> «@sentry/browser»;<font></font>
<font></font>
Sentry.init({ <span class="hljs-attr">dsn</span>: <span class="hljs-string">'https://&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span> });</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für Vue und Ember übergeben wir eine weitere erforderliche Konfigurationszeile:</font></font><br>
<br>
<pre><code class="javascript hljs"># Vue<font></font>
<font></font>
Sentry.init({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span>,<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">integrations</span>: [<span class="hljs-keyword">new</span> Integrations.Vue({Vue, <span class="hljs-attr">attachProps</span>: <span class="hljs-literal">true</span>})],<font></font>
<font></font>
});<font></font>
<font></font>
# Ember<font></font>
<font></font>
Sentry.init({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span>,<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">integrations</span>: [<span class="hljs-keyword">new</span> Integrations.Ember()]<font></font>
<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Integrationspaket wird separat installiert:</font></font><br>
<br>
<pre><code class="javascript hljs"># Using yarn<font></font>
<font></font>
yarn add @sentry/integrations<font></font>
<font></font>
# Using npm<font></font>
<font></font>
npm install @sentry/integrations</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Konflikte und doppelte Informationen beim Verbinden mehrerer Skripts in einem Projekt zu vermeiden, können Sie mit Sentry für jede Protokollierungsinitialisierung einen separaten Client erstellen:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { BrowserClient } <span class="hljs-keyword">from</span> «@sentry/browser»;<font></font>
<font></font>
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> BrowserClient({<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-attr">dsn</span>: <span class="hljs-string">'&lt;your account key here&gt;@sentry.io/&lt;your project id here&gt;'</span>,<font></font>
<font></font>
});<font></font>
<font></font>
client.captureException(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'example'</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Projektwebsite enthält eine detaillierte Dokumentation mit Anwendungsbeispielen: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://docs.sentry.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieser Artikel wurde mit Unterstützung der Cloud-Plattform </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions erstellt</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was gibt es sonst noch zu diesem Thema zu lesen:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reaktierbare Reaktionskomponenten: So beenden Sie das Schreiben derselben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So vermeiden Sie Fehler bei der Entwicklung von React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> -     </a>.</li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495378/index.html">DEFCON 27 Konferenz. Buttplug: True Penetration Testing. Teil 1</a></li>
<li><a href="../de495380/index.html">Große ägyptische Firewall</a></li>
<li><a href="../de495384/index.html">Meine Praktikumserfahrung bei Microsoft Redmond und ein Angebot bekommen</a></li>
<li><a href="../de495388/index.html">1970er Fernsehsendung, die ein Vorfahr des eSports wurde</a></li>
<li><a href="../de495390/index.html">STM32CubeMonitor ist einen Versuch wert</a></li>
<li><a href="../de495396/index.html">Erster Eindruck von Konzepten</a></li>
<li><a href="../de495398/index.html">Ro.Ri.Re</a></li>
<li><a href="../de495400/index.html">Arbeiten Sie mit der SD-Karte über die SPI-Schnittstelle. VHDL-Implementierung</a></li>
<li><a href="../de495402/index.html">Letztes Jahr haben wir endlich ein Schwarzes Loch fotografiert. Was jetzt?</a></li>
<li><a href="../de495404/index.html">Sind sinkende Aktien vielversprechend? Lassen Sie uns mit Python analysieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>