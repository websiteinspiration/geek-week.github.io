<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😮 🍲 ⛎ كما لو أننا لم نكتل 🍶 👕 😠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="كيف نستخدم العقد الذكي لبناء نظام لاختيار أفضل المشاريع التكنولوجية في IT MTS؟ وما هي "الفخاخ" التي وقعنا فيها ، ولكننا استطعنا الخروج منها ، مما يثبت...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>كما لو أننا لم نكتل</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/504058/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كيف نستخدم العقد الذكي لبناء نظام لاختيار أفضل المشاريع التكنولوجية في IT MTS؟ </font><font style="vertical-align: inherit;">وما هي "الفخاخ" التي وقعنا فيها ، ولكننا استطعنا الخروج منها ، مما يثبت في النهاية أنه من الممكن الاحتفاظ بسجل موزع على الأجهزة المحمولة!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3b/1v/ze/3b1vzeubkfgosjf5aiumj_xfre0.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">لماذا كانت هناك حاجة إلى نظام قائم على blockchain؟</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لنبدأ من البداية. </font><font style="vertical-align: inherit;">لدى MTS تاريخ طويل - لاختيار أفضل مشروع تكنولوجي يتم إجراؤه في عام ومكافأة فريقه. </font><font style="vertical-align: inherit;">الفريق يتلقى الجوائز والاحترام والشهرة. </font><font style="vertical-align: inherit;">على مر السنين ، أصبحت المشاريع المختلفة رابحة: من أنظمة الاتصالات عالية التحميل إلى أنظمة الذكاء الاصطناعي. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تم اختيار أفضل مشروع دائمًا في عدة مراحل:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تطبيق الفرق </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">يتم التصويت للخبراء الفنيين المحترمين </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">بعد الخبراء ، يتم اختيار المشاريع من قبل المديرين </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">عند الانتهاء من جميع المراحل ، يختار المدير الكبير أفضل مشروع. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
قررنا أن هذا المخطط ليس شفافًا بما يكفي بالنسبة للمشاركين وفكرنا: لماذا لا نعطي جميع الخبراء في الشركة الفرصة لاختيار أفضل مشروع تكنولوجي؟   </font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
إذا قمنا بتنفيذ هذه الفرصة مباشرة على الهاتف ، فسنرى التصنيف الحالي للمشاريع ومن يصوت لصالحه - وهذا سيضمن الشفافية الكاملة للعملية. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
قرأنا العديد من المقالات حول blockchain ، وفكرة بناء نظام تسجيل موزع استقرت بقوة في رؤوسنا. </font><font style="vertical-align: inherit;">ولكن ماذا لو طبقنا </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">العقد الذكي هنا</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ؟ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لقد جذبنا الخصائص التالية:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الانفتاح - لا يوجد خادم واحد حيث يمكنك معالجة المعلومات ؛</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تظل المعلومات التي يتم وضعها في سجل موزع موجودة إلى الأبد ؛</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">لا يمكن تزوير المعلومات (حسنا ... عمليا) </font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">لا بلوكشين </font></font></h2><br>
<img src="https://habrastorage.org/webt/sl/7o/g9/sl7og9sx7arxqn4m70nh4icfsja.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لا ينبغي استخدام بلوك تشين في هذه الانتخابات. </font><font style="vertical-align: inherit;">ولكن ماذا لو أخذنا بروتوكولات لبناء الإجماع في النظم الموزعة وتطبيقها على بناء الإجماع في العلاقات الإنسانية؟ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
بالنظر إلى أنه سيتعين علينا العمل في شبكة مفتوحة ، نحتاج إلى حماية </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">أنفسنا</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> من </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">الهجمات غير البيزنطية</font></a><font style="vertical-align: inherit;"> ومن استبدال المعلومات على أجهزة المستخدمين.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ما هي البدائل </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
البروتوكول الأكثر شهرة هو PAXOS. يفتقر إلى قائد صريح ، وجميع التغييرات تمر عبر التزام على مرحلتين. يحدث الاقتراح في بداية كل تغيير. إذا كان ناجحًا ، فسيتم إرسال Accept.   </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يمكن تسمية ميزة الخوارزمية بحقيقة أنها تستخدم مؤقتات عمومية لتحديد الطلب الذي تم إنشاؤه في وقت سابق وأن تغييرات العقدة يجب أن تتواصل مع جميع عقد الشبكة. اقرأ المزيد عن الخوارزمية </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">هنا</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يتم استخدام الخوارزمية في العديد من الأماكن ، على سبيل المثال ، في Cassandra DBMS. لم نحب هذا البروتوكول من حيث تعقيد تنفيذه للمهمة. لكن الخيار الثاني جاء إلينا - إنه RAFT. في الواقع ، هذا تطور لبروتوكول PAXOS مع قائد واضح. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يمكن وصف البروتوكول المبسط على النحو التالي:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
· يتم بناء شبكة من الأجهزة التي تعرف بعضها عن بعض ؛ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
· تختار الأجهزة فيما بينها قائدًا يتخذ "قرارات مهمة" (على سبيل المثال ، إضافة إدخال إلى السجل أو تغيير تكوين الشبكة) ؛ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
· الجهاز الرائد مسؤول عن توزيع المعلومات عبر الشبكة بحيث تكون متطابقة في كل مكان ؛ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
· بمجرد أن يتوقف القائد عن التأقلم مع واجباته - اختر قائداً جديداً. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
اقرأ عن البروتوكول </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">هنا</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تنفيذنا </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ماذا نفعل ولماذا العالم دراجة أخرى؟   </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
جميع مستخدمي السجل تقريبًا لديهم أجهزة جوال تعمل دائمًا تقريبًا وعلى الإنترنت دائمًا تقريبًا ، وتستخدمهم دائمًا تقريبًا ، لذلك قررنا تشغيل خوارزمية تسجيل التوزيع على الأجهزة المحمولة ، وليس على البنية الأساسية للخادم ، مثل التطبيقات الأخرى المعروفة . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">دعونا نرى ما هي "الفخاخ" التي دخلنا فيها ، لكننا تمكنا من الخروج ...</font></font></b><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">فخ رقم 1: "عنواني ليس في المنزل وليس في الشارع"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"فجأة" اتضح أنه لبناء شبكة P2P التي تنفذ تسجيلًا موزعًا باستخدام بروتوكول RAFT لنسخ البيانات ، يمكن لكل جهاز الاتصال ببعضه البعض ، مما يعني أنه عميل وخادم. لذلك ، نحتاج إلى عنوان IP "أبيض" عام لكل هاتف محمول (قد لا يكون). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
عدد IPv4s الحقيقي محدود للغاية ، لذلك يستخدم مشغلو الاتصالات تقنية NAT (ترجمة عنوان الشبكة) في وضع PAT (ترجمة عنوان المنفذ) ، ويترجمون عدة عناوين IP للشبكة الداخلية (التي يتم توزيعها على المشتركين) إلى عنوان IP عام خارجي واحد. وبالتالي ، يتم استبعاد القدرة على قبول الاتصالات الواردة من الإنترنت. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الخبر السار هو أن هناك الكثير من IPv6!   </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لدينا دعم IPv6 مدرج في الحزمة الأساسية. </font><font style="vertical-align: inherit;">أيضًا ، تدعم جميع الهواتف الحديثة IPv6 ، ويقوم المشغل بتعيين المشترك بعنوان v6 "أبيض" عام. </font><font style="vertical-align: inherit;">خيارنا هو IPv6.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">فخ رقم 2: ذهب الجميع إلى النوم</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
على عكس الخوادم ، لا تزال الهواتف المحمولة تتوقف أحيانًا. وجدنا هذا عند اختبار النموذج الأول. بالإضافة إلى ذلك ، يكون عنوان IPv6 الذي يوفره عامل التشغيل عامًا ، ولكن ليس ثابتًا ، كل جلسة اتصال جديدة هي عنوان جديد. قد يتغير عنوان الجهاز المحمول في أي وقت. وإذا لم يكن هناك هاتف واحد بالعنوان المعروف لنا على الشبكة ، فإنه ببساطة يتوقف عن الوجود (لا يوجد شيء للاتصال به من أجل "زيادته"). لذلك ، كان علينا انتهاك قاعدة "لا خادم" إلى حد ما. لقد صنعنا عقدة خاصة واحدة في السحابة بعنوان ثابت معروف. وتتمثل مهمتها في تذكر / تحديث تكوين الشبكة وعدم إيقاف تشغيلها. أي أنه موقع عادي ، لا أحد يصوت منه فقط ، وبالانتقال إليه ، يمكنك دائمًا الحصول على القائمة الحالية لعناوين جميع المشاركين في الشبكة.</font></font><br>
<br>
<h2>  3:     </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كان من الضروري حل المشكلة بطريقة ما ، حتى لا يتمكن الجميع من التصويت لمشاريع ، ولكن أولئك الذين يحتاجون إليها. كانت الفكرة الأولى هي: الحفاظ على قاعدة بيانات لأرقام هواتف الخبراء. لكنهم رفضوا ذلك ، لأنهم لم يرغبوا في منح التطبيق الحق في الوصول إلى هذه المعلومات. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ونتيجة لذلك ، جعلوا كل شيء بسيطًا: قرروا توفير كل صوت وكل إدخال تسجيل بتوقيع رقمي على منحنيات بيضاوية عصرية ، والتي ستحدد صحة التسجيل. تم وضع خدمة WEB على شبكة الشركة ، والتي ، من خلال تفويض المجال ، حددت الخبير وأنتجت رمز QR فريدًا له مع مفاتيح التشفير العامة والخاصة (بالطبع ، من جانب العميل). قام الخبير بمسح الرمز من التطبيق وتوصيله. بعد ذلك ، ظهرت النسخة الحالية من السجل على هاتفه وظهرت فرصة التصويت.</font></font><br>
<br>
<h2>  4:  Android     </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
أثناء الاختبار ، تم الكشف تقريبًا "فجأة" عن أن بعض المستخدمين هم أصحاب نماذج معروفة من الأجهزة المحمولة التي تعمل بنظام التشغيل iOS. وأصبح من الواضح أن برنامج التسجيل لدينا يجب أن يعمل على منصات مختلفة. نظرنا نحو لغة برمجة Kotlin ، التي ليست فقط "عصرية ، أنيقة ، شبابية" ، ولكن أيضًا </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">منصات متعددة</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يشير مفهوم النظام الأساسي المتعدد في Kotlin إلى وجود جزء من الشفرة العامة والخاصة بالمنصة ، ولكن نظرًا لأن موارد فريقنا محدودة ، فقد وضعنا لأنفسنا المهمة البغيضة لاستخدام نسخة واحدة من شفرة المصدر لجميع الأنظمة الأساسية! بالطبع ، يجب أن تكون الوحدة القابلة للتنفيذ أصلية لكل نظام أساسي. كان كوتلن </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">قادرًا على ذلك</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
سيتم التنفيذ قبل الانتهاء من سرد طلبك! </font><font style="vertical-align: inherit;">لدينا SourceSet واحد مع شفرة المصدر ، والتي نجمع منها الثنائيات لجميع المنصات (!) ، باستخدام </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ميزة</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "يعتمد" </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">رائع؟ </font><font style="vertical-align: inherit;">رائع جدا!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">فخ رقم 5: حركة مرور الهاتف المحمول ليست مجانية  </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كيف يمكننا تنفيذ التفاعل بين عُقد الشبكة بشكل أكثر فاعلية حتى لا ننفق جميع زيارات المشترك ولا نستنزف بطارية الجهاز المحمول؟ نفترض أن الشبكة قد تتكون من 1000 جهاز أو أكثر! الخيار الأكثر وضوحًا هو استخدام UDP بدلاً من TCP ، على سبيل المثال ، في إجراء الاختيار "الرائد" أو عند إرسال نبضات القلب بدون بيانات. يعد بروتوكول UDP أكثر اقتصادا لأنه يستخدم نموذج بسيط لنقل البيانات ، دون "المصافحة" والتأكيدات. غرامة! ماذا بعد؟ بالطبع ، I / O غير متزامن! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">قرأنا بعناية وثائق Kotlin Native.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
بالنسبة لجميع الأهداف التي تستند إلى Unix أو Windows (بما في ذلك Android و iPhone) ، فإننا نقدم نظام الأساسيات posix lib. يحتوي على روابط لتطبيق النظام الأساسي لمعيار POSIX.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ثم نقرأ أيضًا وثائق POSIX القياسية بعناية ونجد </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">وظيفة رائعة</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> تسمح لنا بمعالجة أحداث مأخذ التوصيل في وضع عدم الحظر! </font><font style="vertical-align: inherit;">بعد أن انغمس بشدة في عالم رائع من المقابس والمآخذ و C Interop ، تمكنا من تحقيق نقل فعال للغاية. </font><font style="vertical-align: inherit;">ممتاز! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">وبأي شكل لإرسال البيانات؟    </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
بالطبع </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CBOR! </font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تنسيق بيانات ثنائي مضغوط ، والذي ، بحسن الحظ ، يتم تنفيذه في مكتبة </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kotlinx.serialization</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> مكتبة متعددة المنصات </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">مذهل!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الفخ رقم 6: التسلسل  </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
هذه المرة ، اتضح بشكل غير متوقع حقًا أن kotlinx.serialization ليس تحت androidNative (تحت androidJvm ، بالطبع هناك). </font><font style="vertical-align: inherit;">أكد زملائي الأعزاء من JetBrains أنهم في الوقت الحالي لا يقومون ببناء مكتبة لـ androidNative ، وقبل إصدار Kotlin 1.4 لم يعد هناك مكان لهذه المهمة في خريطة الطريق.   </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ماذا أفعل؟ </font><font style="vertical-align: inherit;">إذا لم يذهب الجبل إلى محمد ، يذهب محمد إلى الجبل! </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
قمنا بأنفسنا بتجميع kotlinx.serialization لجميع المنصات ، بما في ذلك androidNative! </font><font style="vertical-align: inherit;">أكثر شيء مدهش هو أنه نجح!   </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">المصيدة رقم 7: أين يتم تخزين السجل؟   </font></font></h2>  <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
من الواضح ، في تخزين القيمة الرئيسية المضمنة ، ولكن في أي؟ </font><font style="vertical-align: inherit;">لقد اخترنا </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lmdbx لضغط</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> الشفرة ، والسرعة ، والمنصات المتعددة ، ونقص ملف WAL. </font><font style="vertical-align: inherit;">تم تطوير هذه المكتبة من قبل الرجال من </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Techlologies الإيجابية وتنبع</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> من </font><font style="vertical-align: inherit;">مكتبة </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">LMDB</font></a><font style="vertical-align: inherit;"> الأسطورية </font><font style="vertical-align: inherit;">من أحد مؤلفي OpenLDAP Howard Chu. </font><font style="vertical-align: inherit;">وهذا بدوره متجذر في تنفيذ شجرة B + من Martin Hedenfalk. </font><font style="vertical-align: inherit;">بالمناسبة ، خارج الصندوق ، لم يتم بناء المكتبة ل androidNative. </font><font style="vertical-align: inherit;">لقد جمعنا بعناية جميع الأخطاء ، وقدم المؤلفون على الفور إصلاحات - والتي شكر خاص لهم!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">فخ رقم 8: C Interop  </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ثبت أن وضع كل ذلك معًا مهمة غير تافهة للغاية. بالإضافة إلى مآخذ lmdbx و posix ، قمنا بدمج مكتبات لإنشاء / التحقق من صحة التوقيعات الرقمية على المنحنيات الناقصية وحساب SHA256 باستخدام آلية </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C Interop</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> المذهلة </font><font style="vertical-align: inherit;">. بكلمات بسيطة - من تطبيق أصلي على Kotlin ، يمكنك استدعاء وظيفة مكتبة C ، بما في ذلك مع المؤشرات إلى المؤشرات وغيرها من السحر ، كل ذلك يبدو غريبًا بعض الشيء. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
على سبيل المثال ، استدعاء getaddrinfo للحصول على sockaddr. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vg/ej/pc/vgejpcyxkdvbkk8exlpafiml_e0.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كيف تحب Ilon Mask؟</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
إن ربط مكتبة سي بملف Kotlin الأصلي القابل للتنفيذ هو مهمة منفصلة ، تمكننا أيضًا من الوصول إليها ، ولكن ليس بدون عكازات. </font><font style="vertical-align: inherit;">نقوم بشكل حيوي بتشكيل ملف def مباشرة في البرنامج النصي للبناء للإشارة إلى المسار الصحيح للمكتبات بالنسبة إلى دليل جذر المشروع ثم استبدال واصف (def file) في قسم cinterops. </font><font style="vertical-align: inherit;">في ملف def نفسه ، يتم تحديد المسار المطلق فقط ، والذي لا يمكن أن يكون له تنسيق مختلف فقط إذا تم تنفيذ التجميع تحت نظام تشغيل مختلف ، ولكن في الواقع على الأجهزة المحلية للمطورين ، بالطبع ، قد يختلف أيضًا ، مما يؤدي بوضوح إلى حدوث خطأ أثناء الارتباط.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">عن الانتخابات</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
الانتخابات الرئيسية التي أجريناها خلال اليوم. </font><font style="vertical-align: inherit;">شارك ما يزيد قليلاً عن 20 خبيراً في الاختبار باستخدام شبكتنا. </font><font style="vertical-align: inherit;">تم تقييم 21 مشروعًا في 5 فئات ، أي تمت إضافة أكثر من 100 إدخال مع تصويت لمشاريع إلى السجل.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">استنتاج</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نتيجة لهذا المشروع البحثي الصغير ، تمكنا من إثبات أن الاحتفاظ بسجل موزع على الأجهزة المحمولة أمر ممكن! </font><font style="vertical-align: inherit;">يفتح هذا العديد من الاحتمالات لاستخدام هذه التقنية على أجهزة إنترنت الأشياء لتنظيم حوسبة الحوسبة. </font><font style="vertical-align: inherit;">أمامنا لا يزالون ينتظرون اختبارات الحمل ، والتعرض للهجمات والتسامح مع الأخطاء. </font><font style="vertical-align: inherit;">لكننا نعتقد أننا سننجح! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مؤلفو المقال: المهندسون المعماريون والمطورون في مركز البحث والتطوير التابع لـ MTS Dmitry Dzyuba و Alexey Vasilenko و Semen Nevrev</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar504044/index.html">إدارة مجموعات PostgreSQL المتاحة للغاية باستخدام Patroni. A. Klyukin ، A. Kukushkin</a></li>
<li><a href="../ar504048/index.html">ارفع يدك أو روليت الترجمة الروسية</a></li>
<li><a href="../ar504050/index.html">ما هو جيد وما هو سيئ. مهنة المطور من خلال أعين قائده</a></li>
<li><a href="../ar504054/index.html">نصنع آلة آركيد بقبول فاتورة وقبول عملة</a></li>
<li><a href="../ar504056/index.html">حول مشاهدة فيلم باللغة الإنجليزية مع ترجمة وتبسيطه مع ترجمة ثنائية اللغة وترجمة ثنائية اللغة</a></li>
<li><a href="../ar504060/index.html">"يوم إيلونا ماسك". أول رحلة لرواد الفضاء من وكالة ناسا على متن سبيس إكس كرو دراجون</a></li>
<li><a href="../ar504064/index.html">كيف تخلينا عن استخدام نظام التصميم لتصميم مكونات واختراع دراجتنا الخاصة</a></li>
<li><a href="../ar504066/index.html">كيف ستعيد أمازون كسب العملاء</a></li>
<li><a href="../ar504068/index.html">قام طالب الدراسات العليا بحل مشكلة "عقدة كونواي" ، التي حاربوا حولها لعقود</a></li>
<li><a href="../ar504070/index.html">قام طالب الدراسات العليا بحل مشكلة طوبوغرافية قبل نصف قرن</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>