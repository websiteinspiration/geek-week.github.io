<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏴󠁧󠁢󠁥󠁮󠁧󠁿 👂🏿 🤟🏽 TypeScriptをReactプロジェクトに徐々に導入する 🧓🏿 ☕️ 🧖🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、ハブル！
 
 最近、フロントエンドの分野では、React + TypeScriptの組み合わせが特に人気を集めています。したがって、JavaScriptからTypeScriptへの適切な移行の関連性は、好ましくは短時間で高まっています。本日は、このトピックについてお話しさせていただきま...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>TypeScriptをReactプロジェクトに徐々に導入する</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/504384/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、ハブル！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近、フロントエンドの分野では、React + TypeScriptの組み合わせが特に人気を集めています。したがって、JavaScriptからTypeScriptへの適切な移行の関連性は、好ましくは短時間で高まっています。本日は、このトピックについてお話しさせていただきます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ob/0p/2g/ob0p2gizhv0uq6lpukyxjyg4gye.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React TypeScriptコンポーネントを安全にビルドしてReact JSプロジェクトに注入する方法。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSからTSに移行する必要があるのはなぜですか？</font><font style="vertical-align: inherit;">これには多くの理由があるかもしれませんが、それがポイントではありません。</font><font style="vertical-align: inherit;">（仮想的な）事実はこれです。TypeScriptの使用を開始する必要があり、それをプロジェクトに実装する簡単な方法が必要です。</font><font style="vertical-align: inherit;">さらに、これらすべては、利用可能なすべてのコードの構造に違反せず、チームにそのような移行の必要性を説得することなく、何らかの形で実行する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、段階的なリファクタリングを示し</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。Reactコンポーネントを別のコードベースに埋め込み、Bitを使用して、それらを既存のReact JavaScriptアプリケーションに安全に入力する方法です</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bitを使用してJSプロジェクトにTSコンポーネントを安全に埋め込む</font></font></h4><br>
<img src="https://habrastorage.org/webt/-m/ew/xu/-mewxuart0vwekxdx8emsordwfu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React JSからReact TSにアップグレードする方法はたくさんあります。この記事の本質は、これがどのように徐々に行われるかを示すことです。同様の方法が他の場合にも適用できます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本的な考え方は、React +コンポーネントをビットで最大限に活用して、独自のビット開発環境でコンポーネントを互いに分離することです。これにより、TSコンポーネントを組み立てて、完全に機能するReact JSアプリケーションに安全に注入することができます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビット</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gitリポジトリからコンポーネントを抽出するためのオープンソースツールです。</font><font style="vertical-align: inherit;">ビットを使用すると、JSで記述されたプロジェクトの外部でTSコンポーネントを構築し、構成に関係なく他のプロジェクトで機能するスタンドアロンの分離開発環境ごとに割り当てることができます。</font><font style="vertical-align: inherit;">次に、これらのコンポーネントをJSプロジェクトにバージョン付けして「ビットインポート」するだけで、機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加えて</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、これらのコンポーネントを格納して再利用できるリモートハブである</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Bit.dev</font></a><font style="vertical-align: inherit;">があり</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">TSコンポーネントをBit.devに保持し、そこからReact JSプロジェクトにそれらを導入し始めます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/eo/t0/fpeot07yiiql3rzhh5lntqafd-m.gif"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例：bit.devでReact共有コンポーネントを検索する</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用例</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、フロントエンドの世界で従来の「hello world」に匹敵する例を分析します。ケースを計画するためのアプリケーションについて説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
心配しないでください。このようなReactのアプリケーションの作成方法については説明しません。私はあなたがすでにこれを行う方法を知っていると思います、そして正直に言うと、トピックは新しいものとはほど遠いので、却下します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、私はこのアプリケーションを例として使用します-あなたはそれを正しくフォークするか、少なくともリンクを開いてそのすべてのコードを見ることができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-m/wf/mg/-mwfmgs_4e5lzdegiy0ewoppk0g.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/deleteman/react-todo-demo</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このコードベースは、次のコンポーネントで構成されています：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoList</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：これは、通常のボタンを持つテキスト入力フィールドの形式で表示されるメインコンポーネントです。</font><font style="vertical-align: inherit;">すべてがフォームにあり、送信後、メインアプリケーションでサポートされているリストにテキストが追加されます。</font><font style="vertical-align: inherit;">このコンポーネントのコードは非常に単純です。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todoListMain"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"header"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{this.props.addItem}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Task"</span>
            <span class="hljs-attr">ref</span>=<span class="hljs-string">{this.props.inputElement}</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{this.props.currentItem.text}</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.props.handleInput}</span>
             /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span> Add Task <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
    )<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoList</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoItems</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：前のコンポーネントで追加されたアイテムの内部リストを表示するために使用される非常にシンプルなリストコンポーネント。</font><font style="vertical-align: inherit;">各要素はクリック可能であり、クリックするとリストから削除されます。</font><font style="vertical-align: inherit;">コードも非常にシンプルです：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoItems</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
<font></font>
  createTasks(item) {<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.key}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> this.props.deleteItem(item.key)}&gt;{item.text}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
  }<font></font>
<font></font>
  render() {<font></font>
    <span class="hljs-keyword">const</span> todoEntries = <span class="hljs-keyword">this</span>.props.entries || []  
    <span class="hljs-keyword">const</span> listItems = todoEntries.map(<span class="hljs-keyword">this</span>.createTasks.bind(<span class="hljs-keyword">this</span>))    <font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"theList"</span>&gt;</span>{listItems}<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoItems</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらの場合も、対応するメソッドは、アプリのメインコンポーネントからプロパティ（Props）として受け入れられます。</font><font style="vertical-align: inherit;">このコンポーネントの完全なコードはここにあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプリケーションは非常に単純であることに同意しますが、繰り返しますが、現在取り組んでいるReactアプリケーションが存在する可能性がある可能性があります。突然、TypeScriptへの移行を開始するタスクが発生します。</font><font style="vertical-align: inherit;">何をすべきか？</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプション＃1：涙を拭き取った後、ソースコードベース全体を書き直します。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプション＃2：すべての.jsファイルの名前を.tsに変更し、組み立てプロセスで必要な手順を構成して、手を洗います。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプション＃3：すべての古いコードの段階的な移行に移り、TypeScriptにすべての新しいコードを直接書き込むときが来たと判断しました。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オプション3について詳しく説明したいと思いますが、原則として、同じアプリケーションでTypeScriptだけでなく純粋なJavaScriptで記述されたコンポーネントを共存させることもできます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeScriptを入力</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、例として、タスクリストの各コンポーネントにトグルボタンを追加するタスクがあるとします。</font><font style="vertical-align: inherit;">アイテムをクリックした後、バックグラウンドで切り替える必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
超自然的なものはありませんが、覚えているように、この場合はコード自体ではなくプロセスに関心があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、カスタマイズされたプロジェクトにTypeScriptを追加しようとしないで、既存のアセンブリを誤って数日に分割しないようにしますが、純粋なTypeScriptを使用して完全に新しいプロジェクトを作成します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npx create-react-app ts-components --template typescript</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注：npxを使用するには、新しいバージョンのNPMのみが必要であり、バージョン</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2.0以降の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インストールプロセスに含まれています</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前と同じように、この場合はプロジェクトのテンプレートが作成されますが、今回はTypeScriptをベース言語として使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、追加の依存関係を導入することなく、別のプロジェクトへの挿入に適したシンプルなスイッチコンポーネント。これを行う方法に興味がある場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再利用可能なコンポーネントの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成方法に関する次の記事をお読みください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, {useState} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;<font></font>
<font></font>
interface IActionProps {<font></font>
	<span class="hljs-attr">action</span>: <span class="hljs-function">(<span class="hljs-params">status:boolean</span>) =&gt;</span> <span class="hljs-keyword">void</span>,<font></font>
	buttonText?: string<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> Toggle = <span class="hljs-function">(<span class="hljs-params">{action, buttonText=<span class="hljs-string">"Toggle"</span>}: IActionProps</span>) =&gt;</span> {
	<span class="hljs-keyword">const</span> [isSelected, setSelected] = useState(<span class="hljs-literal">false</span>)
	<span class="hljs-keyword">return</span> (
		<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
		setSelected(!isSelected)
		action(isSelected)
		}} &gt;{buttonText}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><font></font>
	)	<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Toggle</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコンポーネントが作成されたので、Bit（これは個々のコンポーネントのバージョン管理と公開のためのオープンソースツールです）を使用してこの特定のコンポーネントを抽出し、共有して、後でJavaScriptベースのプロジェクトからインポートできるようにします。</font></font><br>
<br>
<pre><code class="plaintext hljs">//  Bit        <font></font>
$ yarn global add bit-bin<font></font>
$ bit init --package-manager yarn//    ( ,       bit.dev)<font></font>
$ bit login//   <font></font>
$ bit add src/components/Toggle.tsx //   (    env)<font></font>
$ bit import bit.envs/compilers/react-typescript --compiler//   <font></font>
$ bit tag –all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、プロジェクトを構成し、その中に新しいToggleコンポーネント（スイッチ）を構成して、他のプロジェクトと共有できるようにします。ただし、これを実際に行う前に、Bit.devにログインする必要があります（これはコンポーネントハブです。コンポーネントを公開およびプレビューするためのプラットフォームとしてBitを補完するレジストリとドキュメントのあるサイトです）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ログインしたら、「toggler」という新しいコレクションを作成して公開し、ターミナルウィンドウで次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ bit export user-name.toggler</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「user-name」が実際にユーザー名である場合、コンポーネントは結果としてエクスポートされ、Bit.devで確認できます。これは次のようになり</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/yd/3x/xwyd3xkdwa-irkryeb4b-pmohwk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。デフォルトで、プログラムが</font></font><code>index.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントをテスト</font><font style="vertical-align: inherit;">するためのサンプルファイル</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">作成する方法に注意してください</font><font style="vertical-align: inherit;">。同時に、このファイルにデフォルトで書き込まれるコンテンツは理想的ではない可能性があるため、プラットフォームによりファイルにコードを簡単に追加できるため、他の人がコードでパブリックコンポーネントを使用する方法を理解できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、ここではサンプルファイルを更新し、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toggler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントの使用方法の説明を追加しています</font><font style="vertical-align: inherit;">（</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">完了したら</font></a><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">必ず</font></a><font style="vertical-align: inherit;"> [保存]ボタンをクリックしてください）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tu/jp/uk/tujpukgiq2wyx8f3zuu95kvndog.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、この新しいコンポーネントを独自のJSベースのReactアプリケーションにインポートする方法を見てみましょう。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部コンポーネントをインポートする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
追加したコンパイラーのおかげで、BitはTypeScriptコードをJavaScriptでコンパイルします。</font><font style="vertical-align: inherit;">これですべての問題が解決され、あとはこのコンポーネントを依存関係としてプロジェクトに追加するだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここではすべての目的でYarnを使用しましたが、NPMを使用しても同じ結果が得られました。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yarn add @bit/your-username.your-collection.your-component</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の場合、このコードは次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yarn add @bit/deleteman.toggler.toggle</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログインしないとコンポーネントをインストールできません</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>$ bit login</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このガイドの</font><font style="vertical-align: inherit;">一部を覚えてい</font><font style="vertical-align: inherit;">ますか？）。</font><font style="vertical-align: inherit;">Bitレジストリからコンポーネントをインストールする場合は、次のようにレジストリを手動で構成する必要があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npm config set '@bit:registry' https://node.bit.dev</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、TypeScriptコンポーネント（JavaScriptでコンパイル済み）はプロジェクトに含まれ、次のようにコードのこのコンポーネントを参照できます。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> Toggle <span class="hljs-keyword">from</span> <span class="hljs-string">'@bit/deleteman.toggler.toggle'</span>;<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">const</span> TodoItem = <span class="hljs-function">(<span class="hljs-params">{text, itemKey}</span>) =&gt;</span> {<font></font>
<font></font>
 	<span class="hljs-keyword">const</span> [iClass, setIClass] = useState(<span class="hljs-string">"white"</span>)<font></font>
<font></font>
  	<span class="hljs-keyword">const</span> toggleBackground = <span class="hljs-function"><span class="hljs-params">status</span> =&gt;</span> {<font></font>
  		setIClass(status ? <span class="hljs-string">"white"</span> : <span class="hljs-string">"black"</span>)<font></font>
  	}<font></font>
<font></font>
  	<span class="hljs-keyword">const</span> toggleProps = {
  		<span class="hljs-attr">action</span>: toggleBackground,
  		<span class="hljs-attr">buttonText</span>: <span class="hljs-string">"Select"</span><font></font>
  	}<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{iClass}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{itemKey}</span> &gt;</span>{text}<span class="hljs-tag">&lt;<span class="hljs-name">Toggle</span> {<span class="hljs-attr">...toggleProps</span>}/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoItem</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
returnステートメントの一部として使用する予定の外部コンポーネントをインポートする2行目に注目してください。</font><font style="vertical-align: inherit;">複雑なことは何もありません。プロジェクトや他の場所で追加の構成変更を行う必要はありません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おめでとうございます。TypeScriptとJavaScriptの両方を使用する作業プロジェクトができたので、これを実行して、気付かないようにすることもできます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上で述べたように、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全なプロジェクトコードはGitHubに投稿されています</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TypeScriptへの移行に興味がある場合、またはTypeScriptを試してみてどのように機能するかを確認したい場合、これは、アセンブリプロセス全体をダウンさせるリスクを冒すことなく、既存のプロジェクトに徐々に言語を導入するのに便利な方法です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitに注意を払い、Bit.devを見て、JavaScriptとTypeScriptで同時に記述された他のコンポーネントを見つけて、他のコンポーネントがどのように記述しているかを理解してください！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja504370/index.html">Office 365とMicrosoft Teams-コラボレーションの利便性とセキュリティへの影響</a></li>
<li><a href="../ja504374/index.html">トラバーサルのカウント：JavaScriptを例に使用した単純な単語のディープ検索と幅優先検索</a></li>
<li><a href="../ja504376/index.html">アウトソーシングから開発まで（パート1）</a></li>
<li><a href="../ja504380/index.html">SSD。内部構造とその構築原理</a></li>
<li><a href="../ja504382/index.html">私（PhD Neurobiology）が6か月でデータサイエンティストになった経緯</a></li>
<li><a href="../ja504386/index.html">Vassbotn H.クラス仮想変数</a></li>
<li><a href="../ja504390/index.html">werfを使用した分散CI / CDの編成</a></li>
<li><a href="../ja504392/index.html">手書きのパスポートを認識するために必要なプログラマと単語は何人ですか。</a></li>
<li><a href="../ja504400/index.html">キャッシング。パート2：リリースの60日前</a></li>
<li><a href="../ja504402/index.html">5月29日Javaダイジェスト</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>