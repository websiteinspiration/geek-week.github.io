<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍩 🛡️ 👨🏿‍🔧 大規模な分散システムの運用：私が学んだこと 👨🏼‍🔧 👩🏾‍🤝‍👨🏿 🌌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="さまざまなチャネルやニュースレターを読んでいると、信頼性とスケーラビリティが前面に出たときに、企業が成長するときに発生する特定の「痛み」や問題に関する記事に出くわします。この記事は異なります。特定のアーキテクチャソリューションの詳細な分析や、エンジニアリングカルチャーを変えるための段階的なガイドはあ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>大規模な分散システムの運用：私が学んだこと</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/494932/"><img src="https://habrastorage.org/webt/xy/c2/rk/xyc2rkmcwj7enywqjgy-vgdynzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまなチャネルやニュースレターを読んでいると、信頼性とスケーラビリティが前面に出たときに、企業が成長するときに発生する特定の「痛み」や問題に関する記事に出くわします。この記事は異なります。特定のアーキテクチャソリューションの詳細な分析や、エンジニアリングカルチャーを変えるための段階的なガイドはありません。むしろ、分散システムを操作するときに発生する課題の上面図であり、用語、略語、テクノロジーの流れをナビゲートするのに役立つ開始点です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uberのエンジニアによる記事の翻訳に注目します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
過去数年間、私は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uberで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大規模な分散型</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">支払いシステム</font></a><font style="vertical-align: inherit;">を作成し、維持してきました</font><font style="vertical-align: inherit;">。この間</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、分散アーキテクチャの概念</font></a><font style="vertical-align: inherit;">について多くを学びました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私自身の経験から、高可用性を備えた高負荷システムを作成して維持することがいかに難しいかがわかりました。そのようなシステムを構築することは興味深い仕事です。ハードウェア障害に関係なくデータの信頼性を確保するために、システムが10〜100倍のトラフィックの増加をどのように処理するかを計画したいと思います。ただし、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大規模な分散システムを操作すると、予期しない経験が発生しました</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムが大きいほど、マーフィーの法則が現れる可能性が高くなります</font><font style="vertical-align: inherit;">。「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">うまくいかないことはすべてうまくいかない</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」多くの開発者がコードを展開する頻繁なリリース、複数のデータセンターを使用している、世界中の多数のユーザーがいる場合に、確率は特に高くなります。過去数年間で、さまざまなシステムクラッシュに遭遇しました。その多くは、ハードウェアクラッシュや無害なバグなどの予測可能な問題から、データセンターを多数のカスケードクラッシュに同時に接続するケーブルブレークまで、私を驚かせました。システムの一部が正常に機能しないためにビジネスに大きな影響を与えた数十の障害を経験しました。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事では、</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uberで</font><strong><font style="vertical-align: inherit;">大規模なシステム</font></strong><font style="vertical-align: inherit;">を</font><strong><font style="vertical-align: inherit;">運用することでメリットを得た手法をまとめています</font></strong><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私の経験はユニークではありません。同じサイズのシステムで作業し、同じ冒険を経験する人もいます。</font><font style="vertical-align: inherit;">私はGoogle、Facebook、Netflixのエンジニアと話しました。彼らは同じような状況に直面し、同じような解決策を考え出しました。</font><font style="vertical-align: inherit;">ここで説明するアイデアとプロセスの多くは、会社所有のデータセンター（Uberの場合が最も多い）で機能するかクラウド（Uber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がスケーリングする場合がある</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">で機能するかに関係なく、同じ規模のシステムに適用できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ただし、これらのヒントは、会社にとってそれほど大きくないか重要なシステムでは冗長になる可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなトピックについて話します：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モニタリング</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">義務（オンコール）、異常の検出と通知。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">障害とインシデント管理。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事後分析、インシデント分析、継続的改善の文化。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フェイルオーバー、リソース計画、ブラックボックステスト。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO、SLA、およびそれらに関する報告。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">独立したチームとしてのSRE。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">永続的な投資としての信頼性。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">便利な素材。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モニタリング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムが</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正常であるか</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どうかを理解するには、次の質問に答える必要があり</font><i><font style="vertical-align: inherit;">ます。</font></i><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">このため、システムの重要な部分に関する情報を収集することが重要です。</font><font style="vertical-align: inherit;">また、多数のサーバーやさまざまなデータセンターにあるさまざまなサービスで構成される分散システムがある場合、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実際</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に追跡する必要の</font><font style="vertical-align: inherit;">ある重要なポイントを決定するのは難しい場合</font><strong><font style="vertical-align: inherit;">が</font></strong><font style="vertical-align: inherit;">あり</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インフラストラクチャのステータスの監視。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つ以上のマシン/仮想マシンが過負荷になると、分散システムの一部のパフォーマンスが低下する可能性があります。サービスが実行されているマシンの状態メトリック-プロセッサリソースとメモリの消費-これらは、監視する必要がある基本的なパラメーターです。これらのメトリックを最初に追跡し、インスタンスを自動的にスケーリングするプラットフォームがあります。 Uberには優れた</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コアインフラストラクチャチーム</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があり、デフォルトでモニタリングとアラートを提供しています。実装方法に関係なく、インスタンス、インフラストラクチャ、または個々のサービスに問題があるという情報が必要です。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスステータスの監視：トラフィック、エラー、遅延</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。多くの場合、質問に対する回答が必要です。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックエンドは正常に機能していますか？</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」着信トラフィックの量、エラーの割合、応答の遅延などのメトリックを監視すると、サービスのステータスに関する貴重な情報が得られます。私はこれらすべてのメトリックのダッシュボードを作成することを好みます。新しいサービスを作成するとき、正しいHTTP応答を使用して対応するコードを監視すると、システムの状態について多くのことがわかります。クライアントエラーの場合は4xxコードが返され、サーバーエラーの場合は5xxコードが返されることが確実であれば、そのような監視を簡単に作成して解釈できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
応答遅延の監視については、他に言うべきことがあります。本番サービスの目標は、ほとんどのエンドユーザーがそれらを楽しむことです。また、平均値は大きな遅延で少数の要求を隠すことができるため、平均遅延を測定することは最良のソリューションではありません。 p95、p99、またはp999-リクエストの95、99、または99.9パーセンタイルの遅延を測定する方がはるかに優れています。これらの数値は、「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99％の訪問者に対するリクエストの速度はどれくらいですか？」の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ような質問に答えるのに役立ち</font><i><font style="vertical-align: inherit;">ます。</font></i><font style="vertical-align: inherit;">「（P99）または」</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1000人のうち1人の訪問者に対する要求はどのくらい遅くなりますか？</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「（P999）。詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらの記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をご覧</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/xm/b_/e7xmb_bxizqg4bcqw40buaeylsc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p95とp99のグラフ。このエンドポイントの平均遅延は1秒未満であり、リクエストの1％は2秒かかります。以上-これは、平均値を測定するときには見られません。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
監視と可観測性のトピックははるかに深いです。 Google </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SREの本</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、</font><font style="vertical-align: inherit;">分散システムの監視に関する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4つのゴールデンシグナルの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクション</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">読むことをお勧めし</font><font style="vertical-align: inherit;">ます。ユーザーが対話するシステムの場合、4つのメトリックのみを取得して、トラフィック、エラー、遅延、飽和に焦点を合わせることができます。資料が少なくなります</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。DistributedSystems Observability</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e-book </font><font style="vertical-align: inherit;">では、ログなどの便利なツールや、メトリックとトレースを使用するためのベストプラクティスについて説明しています。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビジネス指標の監視。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">監視サービスは、全体的な状態を教えてくれます。しかし、データの監視だけでは、サービスが適切に機能しているかどうか、すべてがビジネスの観点から正しく処理されているかどうかはわかりません。支払いシステムの場合、主な質問は次のとおり</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」監視における最も重要なステップの1つは、このサービスによって作成および処理されるビジネスイベントを識別して追跡することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のチームは、他の方法では検出できなかった障害の後に、ビジネスメトリックのモニタリングを作成しました。</font><font style="vertical-align: inherit;">すべてがサービスが正常に機能しているかのように見えましたが、実際には主要な機能が機能していませんでした。</font><font style="vertical-align: inherit;">このタイプの監視は、私たちの会社や活動分野では非常に珍しいものでした。</font><font style="vertical-align: inherit;">そのため、この監視を自分で構成し、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">独自のシステムを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成するために多くの努力をしなければなりませんでした</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デューティ、異常検出、アラート</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監視は、システムの現在のステータスを確認するための優れたツールです。しかし、これは障害を自動的に検出し、この場合に何かをする必要がある人に警告するための道のりのほんの一部にすぎません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ウォッチは広範なトピックです。 Increment Magazineは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On-Call</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">号の多くの問題を取り上げた素晴らしい仕事をしました</font><font style="vertical-align: inherit;">。私の意見では、義務は「あなたが作成した-あなたが所有する」アプローチの論理的な継続です。サービスはそれらを作ったチームによって所有され、アラートとインシデント対応システムも所有しています。私のチームは、私たちが作成した支払いサービスのためにそのようなシステムを所有していました。そして、アラートが到着すると、当直のエンジニアは対応し、何が起こっているのかを発見しなければなりません。しかし、どのようにして監視からアラートに移行するのでしょうか。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モニタリングデータに基づいて異常を特定することは困難な作業</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であり、機械学習はここで完全に明らかになるはずです。異常を検出するための多くのサードパーティサービスがあります。幸い、私のチームにとって、当社にはUberが直面している問題を解決するための独自の機械学習グループがあります。ニューヨークのチームは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">異常のUberの検出が</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どのように機能するかについての有用な記事を書きました</font><font style="vertical-align: inherit;">。私のチームの観点からは、監視データをこのパイプラインに送信し、さまざまな程度の信頼度でアラートを受信するだけです。その後、エンジニアに通知するかどうかを決定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつアラートを送信する必要がありますか？質問は面白いです。アラートが少なすぎると、重大な不具合を見逃す可能性があります。多すぎると、人々は夜眠れなくなります。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アラートの追跡と分類、および信号対雑音比の測定は、アラートシステムのセットアップに大きな役割を果たします</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デューティエンジニアの着実なローテーションに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向けた良いステップは、</font><font style="vertical-align: inherit;">アラートを分析し、イベントを「アクションが必要」と「不要」に分類し、アクションを必要としないアラートの数を減らすことです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/239/3be/498/2393be498f8076e4fdcd25d5c65ae6c9.png"></div><br>
<i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">ビリニュスのUber Developer Experienceチームが作成し</font></i></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たCall Dutyパネル</font></font></i></a><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">の例</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビリニュスから開発ツールを作成するUberチームは</font><font style="vertical-align: inherit;">、アラートにコメントし、勤務シフトを視覚化するために使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する小さなツール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">作成しました</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私たちのチームは、勤務の最後のシフトの作業に関する週次レポートを生成し、弱点を分析して、勤務方法を改善します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">障害とインシデント管理</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
想像してみてください。あなたは1週間勤務しているエンジニアです。</font><font style="vertical-align: inherit;">真夜中にポケットベルでメッセージを目覚めさせます。</font><font style="vertical-align: inherit;">生産障害が発生したかどうかを確認しています。</font><font style="vertical-align: inherit;">くそー、システムの一部がクラッシュしたようです。</font><font style="vertical-align: inherit;">それで？</font><font style="vertical-align: inherit;">監視と警告が機能しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
勤務中のエンジニアが何が起こったのか、またその理由が理解できる場合、小規模なシステムでは障害は特に問題にならない可能性があります。</font><font style="vertical-align: inherit;">通常、このようなシステムでは、原因をすばやく特定して取り除くことができます。</font><font style="vertical-align: inherit;">しかし、多くの（マイクロ）サービスを含む複雑なシステムの場合、多くのエンジニアがコードを稼働させると、失敗の理由はかなり難しくなります。</font><font style="vertical-align: inherit;">また、いくつかの標準手順に準拠することは非常に役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
防御の</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一線は、標準的な対応手順のRunbookです。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">簡単なトラブルシューティング手順を説明しています。会社にそのようなリストがあり、積極的にサポートされている場合、システムに関する職務エンジニアの表面的な考えが問題になることはほとんどありません。リストは最新の状態に保ち、問題を解決する新しい方法に合わせて更新および処理する必要があります。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他の従業員の失敗について知らせる</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">複数のチームがサービスのロールアウトに関与している場合、それは非常に重要になります。私が作業している環境では、サービスは、必要に応じて、数千人のエンジニアによって1時間あたり数百のリリースの頻度で展開されます。そして、あるサービスの無害に見えるロールアウトが別のサービスに影響を与える可能性があります。このような状況では、障害報告と通信チャネルの標準化が重要な役割を果たします。アラートが他のどのケースとも似ていない場合が多く、他のチームにとってもこれは奇妙に見えることに気付きました。障害に関する一般的なチャットでコミュニケーションをとり、障害の原因となっているサービスを特定し、結果を迅速に排除します。一緒に私たちはこれを私たちのどちらよりもはるかに速く個別に行うことができます</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今、結果を排除し、明日それを理解する</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">事故の最中、間違いを直したいという思いから、アドレナリンの波に圧倒されました。</font><font style="vertical-align: inherit;">多くの場合、問題の原因は、明らかなバグのある不良コードのロールアウトでした。</font><font style="vertical-align: inherit;">以前は、すべてを終了してエラーを修正し、修正を送信して、失敗したコードをロールバックしていました。</font><font style="vertical-align: inherit;">しかし、事故の最中に原因を修正することは</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">恐ろしい</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">迅速な修正により、ほとんど成果を上げずに多くを失う可能性があります</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">修正は迅速に行う必要があるため、戦闘でテストする必要があります。</font><font style="vertical-align: inherit;">そして、これは、既存のバグに加えて、新しいバグまたは新しい失敗への道です。</font><font style="vertical-align: inherit;">これがいかに多くの失敗を引き起こしたかを見ました。</font><font style="vertical-align: inherit;">結果の修正に集中し、コードを修正したり、原因を見つけようとしないでください。</font><font style="vertical-align: inherit;">調査は明日まで待ちます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事後分析、インシデント分析、継続的改善の文化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インシデントレポートは、チームが障害の結果に対処する方法の重要な特性です。状況は人々を心配していますか？彼らは少し研究をしますか、それとも観察に驚くほどの労力を費やし、製品を停止して修正を行いますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
適切に書かれた死後は、持続可能なシステムを構築するための主要な要素の1つです。それは誰も非難せず、犯人を探しません、これは事件の思慮深い研究と分析です。時間が経つにつれて、そのようなレポートのテンプレートが進化し、最終的な結論、影響評価、イベントの年表、主な理由の分析、学んだ教訓、さらに観察するための要素の詳細なリストを含むセクションが現れました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/652/c06/931/652c0693103d40024459362c326c723e.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このエラー処理パターンをUberで使用しました。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
適切な事後分析では、障害の原因を徹底的に調査し、同様の障害の影響を防止、検出、または迅速に排除するための対策を提案します。</font><font style="vertical-align: inherit;">そして私が「深く」言うとき、それは著者がその理由がレビューアが気付かなかったバグを伴うコードのローリングであったという事実に止まらないことを意味します。</font><font style="vertical-align: inherit;">著者は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Five Why</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法論</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">適用</font><font style="vertical-align: inherit;">して、より有用な結論を導き出す必要があります。</font><font style="vertical-align: inherit;">例えば：</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜ問題があるのですか？</font><font style="vertical-align: inherit;">-&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バグはコードの一部としてアップロードされました。</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜ誰もバグを捕まえなかったのですか？</font><font style="vertical-align: inherit;">-&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レビューを行った人は、コードを変更するとこのような問題が発生する可能性があることに気付きませんでした。</font></font></li>
<li><i>     ,    ?</i> --&gt;         .</li>
<li><i>       ?</i> --&gt;         .</li>
<li><i>      ?</i> --&gt;       .</li>
<li>:          .    ,           .</li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インシデント分析</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、バグに取り組むための重要なコンパニオンツールです。一部のチームはバグに注意深く取り組みますが、他のチームは追加データから利益を得て予防的な改善を行う場合があります。また、チームが責任を負い、システムレベルで提案する改善を行うことができるとチームが考えることも重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
信頼性を重視する組織では、最も深刻なインシデントは経験豊富なエンジニアによって分析され、排除されます。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特に</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時間がかかる場合や他の作業に干渉する場合は、</font><font style="vertical-align: inherit;">修正を可能にするために会社レベルでエンジニアリングを管理することも必要</font><font style="vertical-align: inherit;">です。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信頼性の高いシステムを一晩で作成することはできません。一定の反復が必要になります</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">インシデントから学んだ教訓に基づく継続的改善の企業文化に起因する反復。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フェイルオーバー、リソース計画、ブラックボックステスト</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
かなりの投資を必要とするいくつかの定期的な手順がありますが、大規模な分散システムを維持するために重要です。私は最初にこれらのアイデアをUberで思いつきました。規模が小さく、インフラストラクチャが利用できないため、他の企業にそれらを適用する必要はありませんでした。</font><font style="vertical-align: inherit;">私はこれに遭遇するまで</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、データセンターでの</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">愚かな</font><strong><font style="vertical-align: inherit;">フェールオーバー（フェールオーバー）</font></strong><font style="vertical-align: inherit;">を検討し</font><strong><font style="vertical-align: inherit;">ました</font></strong><font style="vertical-align: inherit;">。最初は、安定した分散システムの設計は、データセンターが落ちる安定性であると信じていました。すべてが</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理論的に</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能</font><font style="vertical-align: inherit;">する必要があるのに、なぜ定期的にテストする必要があるの</font><font style="vertical-align: inherit;">ですか？その答えは、新しいデータセンターでの予期せぬトラフィックの増加を効率的に処理するサービスの機能のスケーリングとテストにかかっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が遭遇した最も一般的な障害シナリオは、フェイルオーバー時にグローバルトラフィックを処理するのに十分なリソースが新しいデータセンターにないということです。サービスAが1つのデータセンターで機能し、サービスBが別のデータセンターで機能するとします。リソース消費を60％とすると、各データセンターで数十または数百の仮想マシンがスピンし、70％のしきい値に達するとアラートがトリガーされます。データセンターAからデータセンターBへのすべてのトラフィックが失敗しました。2番目のデータセンターは、新しいマシンを展開しないと、このような負荷の増加に対処できません。ただし、これには時間がかかる場合があるため、リクエストが山積みになり、ドロップし始めます。ブロッキングは他のサービスに影響を与え始め、プライマリフェールオーバーに関連しない他のシステムのカスケード障害を引き起こします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/kj/ak/rjkjakjltskllvgtcjatntsuvxy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フェイルオーバーが問題を引き起こす可能性のある状況。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
別の一般的な障害シナリオには、ルーティングレベルの問題、ネットワーク帯域幅または</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックプレッシャーの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題が含まれます</font><font style="vertical-align: inherit;">。データセンターのフェイルオーバーは、信頼性の高い分散システムがユーザーに影響を与えずに実行する必要がある開発です。私は強調します- </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然ですが</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、この開発は、分散Webシステムの信頼性をチェックするための最も有用な演習の1つです。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定期的なサービスダウンタイムの演習</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システム全体の安定性をテストする優れた方法。また、特定のシステムの非表示の依存関係や不適切/予期しない使用を検出するための優れたツールでもあります。スケジュールされたダウンタイムの演習は、クライアントが対話し、既知の依存関係がほとんどないサービスを使用すると、比較的簡単に実行できます。ただし、非常に短いダウンタイムが許容される重要なシステム、または他の多くのシステムが依存する重要なシステムについて話している場合、そのような演習を実施することは困難です。しかし、そのようなシステムがいつか利用できなくなった場合はどうなりますか？すべてのチームに警告して準備ができるように、制御された実験でこの質問に回答することをお勧めします。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラックボックステスト</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（「ブラックボックス」方式）は、エンドユーザーとのやり取りに可能な限り近い状況でシステムの正確さを評価する方法です。これはエンドツーエンドのテストに似ていますが、ほとんどの製品で正しいブラックボックステストを行うには独自の投資が必要になるという点が異なります。このようなテストに適した候補は、ユーザーとのやり取りを伴う主要なユーザープロセスとシナリオです。システムをテストするには、いつでも起動できることを確認してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uberを例にとると、明らかなブラックボックステストは、ドライバーと乗客のインタラクションを都市レベルでチェックします。乗客はドライバーを見つけて、特定のリクエストに応じて旅行をすることができますか？このシナリオを自動化した後、テストを定期的に実行して、さまざまな都市をエミュレートできます。信頼性の高いブラックボックステストシステムにより、システムまたはその部品の正しい動作を簡単に確認できます。また、フェイルオーバーテストにも役立ちます。切り替えのフィードバックを取得する最も速い方法は、ブラックボックステストを実行することです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/gz/mw/hxgzmwfqkyhrzxefxuhqrusne2e.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フェイルオーバーフェイルオーバーおよび手動ロールバック中のブラックボックステストの例。</font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資源計画</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大規模な分散システムでは特に重要な役割を果たします。概して、計算と保存のコストが1か月あたり数万ドルまたは数十万ドルで計算されるものを意味します。この規模では、セルフスケーラブルなクラウドソリューションを使用するよりも、展開の数を固定した方が安価な場合があります。極端なケースでは、固定配備は「通常のビジネス」に特徴的なトラフィックを処理し、ピーク負荷時のみ自動スケーリングを行う必要があります。しかし、来月適用するインスタンスの最小数はいくつですか？次の3か月で？来年？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大量の統計を持つ成熟したシステムの将来のトラフィックパターンを予測することは難しくありません。</font><font style="vertical-align: inherit;">これは、予算、ベンダーの選択、またはクラウドプロバイダーからの割引を修正するために重要です。</font><font style="vertical-align: inherit;">サービスが大規模なアカウントを生成し、リソースプランニングについて考えたことがない場合、コストを削減して管理する簡単な方法がありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO、SLA、およびそれらに関するレポート</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SLOは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Level Objectiveの</font></font></strong></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">略で</font><font style="vertical-align: inherit;">、システムの可用性の指標です。</font><font style="vertical-align: inherit;">パフォーマンス、応答時間、正確性、および可用性のために</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、サービスレベル</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><strong><font style="vertical-align: inherit;">SLO</font></strong><font style="vertical-align: inherit;">を設定することをお</font><strong><font style="vertical-align: inherit;">勧めし</font></strong><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">これらのSLOは、アラートしきい値として使用できます。</font><font style="vertical-align: inherit;">例：</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLOメトリック</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブカテゴリー</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス価値</font></font></strong></th>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パフォーマンス</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最小帯域幅</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1秒あたり500リクエスト</font></font></td>
</tr>
<tr>
<td></td>
<td>   </td>
<td>2 500   </td>
</tr>
<tr>
<td><strong> </strong></td>
<td>   </td>
<td>50-90 </td>
</tr>
<tr>
<td></td>
<td>   p99</td>
<td>500-800 </td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>0,5 %</td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>99,9 %</td>
</tr>
</tbody></table></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビジネスレベルのSLO</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。または機能的なSLO、これはサービスを抽象化したものです。これらはカスタムまたはビジネスメトリックをカバーします。たとえば、ビジネスレベルのSLOは次のようになります。領収書の99.99％は、旅行を終えてから1分以内に郵送されると予想されます。このSLOは、サービスレベルのSLOと比較でき（たとえば、支払いシステムや郵便小切手の送信システムの遅延など）、個別に測定できます。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLA-サービスレベルアグリーメント</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これは、サービスプロバイダーとその消費者の間のより一般的な合意です。通常、複数のSLOが1つのSLAを構成します。たとえば、99.99％のレベルでの支払いシステムの可用性はSLAであり、対応するシステムごとに特定のSLOに分割されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SLOを決定したら、それらを測定してレポートを作成する必要があります。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLAとSLOの自動監視とレポート作成は</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、エンジニアもビジネスも優先したくない</font><strong><font style="vertical-align: inherit;">複雑なプロジェクトで</font></strong><font style="vertical-align: inherit;">ある</font><strong><font style="vertical-align: inherit;">ことがよくあり</font></strong><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">エンジニアは、障害をリアルタイムで特定するためのさまざまなレベルの監視をすでに行っているため、興味がなくなります。</font><font style="vertical-align: inherit;">ビジネスは、すぐにメリットが得られない複雑なプロジェクトに投資するよりも、機能の提供を優先する方が優れています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これは別のトピックに私たちを導きます：大規模な分散システムを運用する組織は、遅かれ早かれ、これらのシステムの信頼性を確保するために人を割り当てる必要があります。</font><font style="vertical-align: inherit;">SREチーム、サイト信頼性エンジニアリングについてお話ししましょう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">独立したチームとしてのSRE</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2003年頃、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイト信頼性エンジニアリング</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
という用語</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">は</font></a><font style="vertical-align: inherit;"> Googleによって作られたもので、現在、1,500人以上のSREエンジニアがいます。本番環境の運用は、ますます自動化を必要とするますます複雑なタスクになっているので、すぐに本格的な作業になります。これは、エンジニアがほぼ1日中、運用環境の自動化に取り組んでいることを企業が認識した場合に発生します。システムの重要性が高まり、障害が発生するほど、SREは別の位置に早く置かれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
急成長しているテクノロジー企業は、多くの場合、早い段階でSREチームを立ち上げ、それを自分たちで計画しています。 Uberでは、そのようなチーム</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が2015年に作成されました。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その目標は、システムの複雑さを管理することでした。他の企業では、SREチームの割り当ては、別のインフラストラクチャチームの作成と関連付けることができます。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会社がサービスの信頼性を確保するためにかなりの数のエンジニアの注意を必要とするようなレベルに成長したら、別のチームを作成する時が来ました。</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SREチームは、すべてのエンジニアの大規模な分散システムのメンテナンスを大幅に簡素化します。 SREチームはおそらく、標準の監視ツールと警告ツールを所有しています。彼らはおそらく、オンコールのツールを購入または作成しており、経験を共有しようとしています。それらはインシデントの分析を容易にし、障害をより簡単に検出し、それらの結果を減らし、将来それらを防ぐことを可能にするシステムを作成することができます。 SREコマンドは確実にフェイルオーバー操作を容易にします。多くの場合、ブラックボックスのテストとパフォーマンスの計画に使用されます。 SREエンジニアは、SLOを決定および測定し、それらについて報告するための標準ツールの選択、カスタマイズ、または作成を管理します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての企業に独自の問題があることを考えると、SREを採用するソリューションについては、企業によってチームが異なります。</font><font style="vertical-align: inherit;">名前も異なる場合があります。運用サービス、プラットフォームエンジニアリング、インフラストラクチャサービスなどです。</font><font style="vertical-align: inherit;">Googleは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、サービスの信頼性を確保するための</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">冊の強制読書を発行しています</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それらは無料で入手でき、SREのトピックをより詳細に研究するための優れた情報源です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">永続的な投資としての信頼性</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
製品を作成する場合、最初のバージョンの組み立てはほんの始まりにすぎません。その後、新しい機能を備えた新しいイテレーションがあります。製品が成功して収益性が高い場合は、作業が続行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分散システムのライフサイクルは同じですが、新機能だけでなくスケーリングへの対応にも投資が必要になる点が異なります。システムの負荷が増加すると、より多くのデータを保存する必要があり、より多くのエンジニアがシステムで作業し、通常の機能を常に処理する必要があります。初めて分散システムを作成する人の多くは、それらをマシンのようなものと見なします。それを実行したら、数か月ごとに特定のメンテナンスを実行するだけで十分です。現実から遠い比較をするのは難しいです。</font></font><br>
<br>
<strong>         , , </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。病院がうまく機能するためには、継続的なチェックが必要です（監視、アラート、ブラックボックステスト）。常に新しいスタッフと設備を必要とする必要があります。病院の場合、これらは看護師、医師、医療機器、分散システムの場合、新しいエンジニアとサービスです。従業員とサービスの数が増えるにつれて、古い作業方法は効果がなくなります。田舎の小さなクリニックは、大都市の大きな病院とは異なる働きをします。より効果的に機能する方法を実現することは本格的な作業に変わり、測定とアラートはますます重要になっています。大きな病院では、経理、人事、セキュリティなど、より多くのスタッフが必要になるため、大規模な分散システムの運用は、インフラストラクチャやSREなどのサービスチームに依存しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チームが信頼性の高い分散システムを維持するために、組織はその機能とシステムが構築されているプラ​​ットフォームの作業に常に投資する必要があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">お役立ち素材</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事は長くなりましたが、それは最も表面的な瞬間のみを示しています。</font><font style="vertical-align: inherit;">分散システムを操作する機能の詳細については、私は、これらのソースをお勧めします：</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">書籍</font></font></strong><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google SRE Book</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は無料の素晴らしいGoogleブックです。</font><font style="vertical-align: inherit;">この記事では、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散システムの監視</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に関する章が特に重要です</font><font style="vertical-align: inherit;">。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distributed Systems Observabilityは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、分散システムの監視に関する優れたヒントが掲載された、もう1つの優れた無料の書籍です。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ集約型アプリケーションの設計</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、私が遭遇した分散システムの概念に関する最も実用的な本です。</font><font style="vertical-align: inherit;">ただし、これまで詳細に検討してきた運用面はカバーしていません。</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイト</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Increment MagazineのOn-Call</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Edition </font><font style="vertical-align: inherit;">：Amazon、Dropbox、Facebook、Google、Netflixでのインシデント対応プロセスに関する一連の記事。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散システムを構築する</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法を学ぶ-「大規模な分散システムを作成する方法を学ぶ方法」という質問に答えるAWSエンジニアの記事</font></font></li>
</ul><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacker Newsでこの記事のコメントを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
参照してください</font><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja494918/index.html">リモートの3週目-通常の飛行。在宅勤務に関するIT QIWIの人からのレビュー</a></li>
<li><a href="../ja494920/index.html">開発者への悪いアドバイス：管理を「喜ばせる」ために何をすべきか</a></li>
<li><a href="../ja494922/index.html">ITスペシャリストのニジニノヴゴロド：仕事の見通しと人生の機会</a></li>
<li><a href="../ja494924/index.html">ゲームでの水彩効果の実装</a></li>
<li><a href="../ja494930/index.html">Unity3D：自動スクリプトマネージャーアグリゲーター</a></li>
<li><a href="../ja494934/index.html">ひどく憤慨している英語の単語の6つの間違い</a></li>
<li><a href="../ja494938/index.html">幸せなバックアップデー！彼のことを忘れないで</a></li>
<li><a href="../ja494940/index.html">DevOps-それは何で、なぜ、そしてどれだけ需要があるのですか？</a></li>
<li><a href="../ja494942/index.html">アンリアルエンジンとiPhoneを使用した自宅でのCGI</a></li>
<li><a href="../ja494948/index.html">Zimbra Collaboration Open-Source EditionでVIPメールボックスを作成する</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>