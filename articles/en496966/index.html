<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👊🏽 🕵🏾 🍬 CSS LCH colors 😂 👵🏼 👩🏽‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have always been interested in the science of color. In 2014, I spoke at various conferences, talking about the CSS Color 4 specification. Before th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CSS LCH colors</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/496966/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I have always been interested in the science of color. In 2014, I </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spoke</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> at various conferences, talking about the CSS Color 4 specification. Before that, in 2009, I wrote a program for choosing colors. She used a hidden Java applet to support ICC color profiles and to work properly with CMYK. It was, as far as I know, the first program of its kind. I never released it, but it led to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> publication of </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">this</font></a><font style="vertical-align: inherit;"> publication. Interest in color brought me to the man who became my husband. </font><font style="vertical-align: inherit;">
In 2019, I became the co-editor of the </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">CSS Color 5</font></a><font style="vertical-align: inherit;"> specification </font><font style="vertical-align: inherit;">. My goal is to concretize my </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">proposal.</font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/jj/fr/it/jjfritszxbwlykpz92aejsy07yw.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">color modification, which aims to allow designers to arbitrarily customize color channels to create color options. </font><font style="vertical-align: inherit;">I also want to combine my offer with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> offer. </font><font style="vertical-align: inherit;">CSS LCH colors are something that really fascinate me. </font><font style="vertical-align: inherit;">I am deeply convinced that designers, when they learn more about LCH colors, will be outraged by the fact that they still do not have the opportunity to use such colors.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is LCH?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The CSS Color 4 module has, among other things, a definition of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LCH colors</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Today, all major browsers have either begun to implement their support, or are seriously considering this possibility:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Safari</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> support LCH is already being implemented.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This feature is expected in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The possibility of implementing this feature in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://disq.us/url%3Furl%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firefox is</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> discussed </font><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LCH is a color space that has some advantages over the RGB / HSL color spaces that everyone is used to working with CSS. </font><font style="vertical-align: inherit;">In fact, I would go even further and call LCH a technology that can dramatically change the way colors work on the web. </font><font style="vertical-align: inherit;">Here are three facts that allow me to make such statements.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍1. </font><font style="vertical-align: inherit;">LCH, compared to sRGB, gives access to about 50% more colors</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a huge step forward. Right now, any CSS color we can set is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defined</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sRGB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> color space </font><font style="vertical-align: inherit;">. A few years ago, this was more than enough, since all monitors, except for professional ones, had a color gamut less than sRGB. However, now everything is no longer so. Today, the color gamut (that is, the range of colors that can be displayed) of most monitors is close to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . And the volume of this color space </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is 50% more</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">than the amount of space sRGB. </font><font style="vertical-align: inherit;">CSS currently has absolutely no access to these colors. </font><font style="vertical-align: inherit;">Let me repeat this: we do not have access to a third of the colors that modern monitors can display. </font><font style="vertical-align: inherit;">And it's not about some minor colors. </font><font style="vertical-align: inherit;">We are talking about the most vivid colors that monitors can display. </font><font style="vertical-align: inherit;">Our sites look pale due to the fact that monitor hardware is evolving faster than CSS specifications and browser implementations.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ed/e93/584/9ede935848ec892067ff3b73ec85eea9.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Color Space sRGB and P3</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍2. </font><font style="vertical-align: inherit;">LCH (and Lab) are color spaces uniform in perception</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When working with LCH, the same numerical change in the color space gives the same perceived difference between colors. </font><font style="vertical-align: inherit;">This property of color space is called “perceptual uniformity”. </font><font style="vertical-align: inherit;">RGB or HSL color spaces are not uniform in perception. </font><font style="vertical-align: inherit;">Here is a very revealing </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> this feature ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is the source of this example).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/850/b0d/e27/850b0de2738694a5a7d0b1ca8a62d5ff.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heterogeneity of perception of HSL colors.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Colors in the upper and lower rows differ in tone by 20 degrees. </font><font style="vertical-align: inherit;">Do you think the perceived difference between these colors is the same?</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍3. </font><font style="vertical-align: inherit;">Brightness in LCH is an indicator that means something</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the HSL color space, lightness is a meaningless indicator. Colors may have the same lightness, but vary greatly in their perceived brightness. My favorite example is a comparison of yellow and blue. You may not believe me, but the colors shown below have the same HSL lightness.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08e/630/618/08e6306180a9c9b3407627c62ab8b3bd.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HSL colors having the same lightness</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Both colors have a lightness of 50%, but they certainly do not have the same perceived brightness at all. What is the meaning of the concept of "lightness" in HSL?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here you can enter into a dispute with me, saying that lightness, at least, makes some sense with the same color tone (hue) and color saturation. That is - when changing lightness within the same color. And the truth: increasing HSL-lightness we get a lighter color, and decreasing - a darker color. But what happens will not necessarily be the same color.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1c/2e0/5dc/f1c2e05dcf84fe2d8e87960db060d5b0.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adjusting lightness with constant color tone and color saturation</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Both of these colors have the same hue and the same saturation, but do they look like a darker and lighter version of the same color? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When using the LCH color model, colors having the same luminosity are perceived as colors having the same brightness, and colors with the same color are perceived as colors of the same saturation.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How are LCH colors arranged?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LCH is short for Lightness, Chroma, Hue (lightness, color, tone). </font><font style="vertical-align: inherit;">The color components in this color model have some relation to the components of the HSL color model. </font><font style="vertical-align: inherit;">But there are serious differences between the components of these color models. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The pitch angles in the LCH do not quite match the HSL tones. </font><font style="vertical-align: inherit;">That is - 0 - this is not completely red. </font><font style="vertical-align: inherit;">This color is rather closer to magenta. </font><font style="vertical-align: inherit;">And 180 is not a turquoise color, it is rather blue-greenish, and it is completely complementary.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d41/821/144/d4182114411159e022ba2d38ecd4fce9.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colors with the same perceived brightness</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Note that these colors, although very different in tone, look like colors that have the same perceived brightness.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the HSL color space, saturation is represented by a neat range of values ​​from 0-100. The fact is that this space is the result of a simple transformation of RGB into polar coordinates. In LCH, however, the value of the chroma component is theoretically unlimited. The LCH standard (like Lab) is designed to be able to represent the full range of colors perceived by humans. Not all of these colors can be displayed on the monitor, even one that supports the P3 color space. Moreover, we are talking not only about the maximum number of displayed colors, depending on the color gamut of the monitor, but also about the difference in colors.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhaps this idea will be easier to understand if I illustrate it with an example. For the sake of simplicity, let's imagine that we have a monitor whose color gamut exactly matches the sRGB color space. For comparison, the 2013 MacBook Air screen could output about 60% sRGB, but most modern displays can, as already mentioned, display 150% sRGB. For L = 50 and H = 180 (the Cyan sample in the above figure), the maximum value of C is only 35! For L = 50 and H = 0 (Pink), the value of C can reach 77 without going beyond sRGB. For L = 50 and H = 320 (Purple), the value of C can go up to 108!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although the lack of borders can be perceived as something frightening (whether it is about people or color spaces), there is nothing to worry about: if a color is set that cannot be displayed on a certain monitor, it will be reduced to a similar color supported by the monitor. </font><font style="vertical-align: inherit;">In the end, there is nothing new: until the monitors acquired a color gamut that exceeded the capabilities of sRGB, this was exactly what happened with the usual CSS colors displayed on monitors whose color gamut was less than sRGB.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LCH color picker</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I hope that now you are also a little interested in the idea of ​​using LCH colors. This raises the question of how to visualize these colors. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, I quite a long time ago created the corresponding tool, LCH Color Picker, designed primarily to help me and my colleagues properly understand LCH features when editing </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS Color 5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . One is to know the theory, and quite another is to be able to experiment with the sliders and see the result with your own eyes. I even bought a domain, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">css.land</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , to post relevant examples there. We used this tool a bit, I added new features to it, but I never wrote about it. Therefore, this tool was available only to us, and to those who paid attention to</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> github repository.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddb/7ff/dc0/ddb7ffdc0f7443fb03276ad105527d9c.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Means for selecting LCH colors</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
If you are interested in experimenting with LCH colors, you can very well use this tool. </font><font style="vertical-align: inherit;">Here are some details about him:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The color conversion code was written by one of our team members. </font><font style="vertical-align: inherit;">We are confident that the calculations, at least, were done on the basis of a correct understanding of the conversion process (that is, if something goes wrong - this is a mistake in the code, and not the result of a misunderstanding of something).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Chroma color component supports a change in a range other than 0 - 100, which distinguishes our tool from some of the others that we were able to find.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Users can load arbitrary CSS colors into it (using the Import button).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The sliders allow you to enter only integer values, but in the black fields that appear above the sliders, you can enter any numbers.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the process, you can save colors and see how they are interpolated.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Color analysis is supported for whether it belongs to the sRGB, P3 color space (or to Rec.2020, even a more extensive color space).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Supported transparency setting.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And finally, using this tool is simply interesting! </font><font style="vertical-align: inherit;">Especially considering that it is implemented on the basis of Mavo (although a bit of JavaScript is used here, that is, it is not a Mavo project created in pure HTML).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a matter of fact, you can try out the LCH Color Picker </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Questions and answers</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After I published this article, they started asking me questions. </font><font style="vertical-align: inherit;">I believe that I should clarify here some common misconceptions.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍You say that support for LCH colors in browsers is not yet implemented, but I can see them in the article. </font><font style="vertical-align: inherit;">How is this possible?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All colors used in this article fall within the sRGB color gamut. </font><font style="vertical-align: inherit;">This is because we simply cannot output colors outside sRGB so far. </font><font style="vertical-align: inherit;">sRGB is a color space, not a color description syntax. </font><font style="vertical-align: inherit;">For example, </font></font><code>rgb(255 0 0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">they </font></font><code>lch(54.292% 106.839 40.853)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set the same color.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍How does the LCH Color Picker display colors outside sRGB?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
My program, LCH Color Picker, does not display such colors. And, as far as I know, nowhere on the Internet is there a program that can display such colors. The LCH Color Picker project is implemented using web technologies, which means that the standard restrictions apply to any other web pages. I convert non-output colors to sRGB. At first, I simply brought the RGB color components to the range of 0-100%, but thanks to this </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the program now uses a much more successful algorithm. Namely, we are talking about reducing the value of the LCH component C until the color falls within the sRGB limits. That is why an increase in the value of component C above a certain limit does not lead to the conclusion of a brighter color. The fact is that such a color cannot yet be deduced using CSS.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ I noticed that Firefox displays brighter colors than Chrome and Safari. </font><font style="vertical-align: inherit;">Is there any connection with LCH support?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firefox has not implemented that part of the specification that restricts CSS colors to sRGB frames. </font><font style="vertical-align: inherit;">Instead, the browser simply passes raw RGB values ​​to the screen. </font><font style="vertical-align: inherit;">For example, </font></font><code>rgb(100% 0% 0%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this is the brightest red color that a monitor can display. </font><font style="vertical-align: inherit;">Although this may seem like a smart solution, here we are faced with contradictions. </font><font style="vertical-align: inherit;">The fact is that with this approach, you can set colors, at best, only approximately, since all screens display colors differently. </font><font style="vertical-align: inherit;">By restricting CSS colors to a known color space (sRGB), we get device independence. </font><font style="vertical-align: inherit;">The LCH and Lab color spaces are also device independent, as they are based on actual measured color.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍ What can you say about the color (display-p3 rgb) design? </font><font style="vertical-align: inherit;">Safari has been supporting it since 2017!</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I was informed about this after I published this article. </font><font style="vertical-align: inherit;">I have long known that Safari is working on this feature, but somehow I missed the moment when it was ready. </font><font style="vertical-align: inherit;">In fact, last month </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> article </font><font style="vertical-align: inherit;">was published </font><font style="vertical-align: inherit;">describing this syntax in WebKit. </font><font style="vertical-align: inherit;">Amazing </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Design </font></font><code>color(colorspaceid params)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is a feature described in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS Color 4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Her, in the matter of color management in CSS, can be compared with a Swiss knife. The great thing about this design is that it allows you to specify the ICC color profile and the colors taken from it. For example, this can be useful if you want to use real CMYK colors or Pantone colors on a web page. This design also supports some predefined color spaces, one of which is display-p3. For example, </font></font><code>color(display-p3 0 1 0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it gives us the lightest green color in the P3 color space. To test support for this design, you can use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> test. In the absence of support </font></font><code>color()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, a red color will be shown, and if available, a light green color.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although this is an amazing feature (and I need to remake my LCH Color Picker so that the program would use it </font></font><code>color()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if this feature is supported), pay attention to the fact that it solves only the first of the problems I have mentioned. Namely, we are talking about access to all colors from the color gamut. But, since the tool is </font></font><code>color()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">based on RGB, it suffers from all the disadvantages associated with RGB. It is not distinguished by a uniform perception, with its help, by adjusting the color parameters, it is difficult to create color options (lighter or darker options, more or less bright, and so on).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moreover, I note that this is a temporary solution. </font><font style="vertical-align: inherit;">Now it is applicable due to the fact that screens that can display colors that do not fit in P3 are rare. </font><font style="vertical-align: inherit;">But after another improvement of the displays, it turns out that the design </font></font><code>color(display-p3 ...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will have the same problems that RGB-colors now have. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The color spaces LCH and Lab are device independent, they can represent all the colors that are visible to humans, and as a result they will remain relevant regardless of the evolution of hardware. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dear readers! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Are you interested in using LCH colors in CSS?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en496956/index.html">Why did asynchronous web servers appear?</a></li>
<li><a href="../en496958/index.html">Interesting CSS finds in the new Facebook design</a></li>
<li><a href="../en496960/index.html">Speeding up charts using OffscreenCanvas</a></li>
<li><a href="../en496962/index.html">How to tidy up an overloaded server?</a></li>
<li><a href="../en496964/index.html">IBM Weekly Seminars - April 2020</a></li>
<li><a href="../en496968/index.html">4 actions unforgivable for the leader during COVID-19</a></li>
<li><a href="../en496972/index.html">Food Safety Trends 2020. Free Online Mitap April 21</a></li>
<li><a href="../en496974/index.html">Postgresso 20</a></li>
<li><a href="../en496984/index.html">Flipper Zero / One are now two devices. Kickstarter Preparation</a></li>
<li><a href="../en496990/index.html">The dangerous trend of "zombombing" is gaining momentum</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>