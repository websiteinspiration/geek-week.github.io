<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóëÔ∏è üçÑ ü•õ Testen auf Produkt: Canary Deployment üåÆ üßëüèø‚Äçü§ù‚Äçüßëüèø üë®‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Kanarienvogel ist ein kleiner Vogel, der st√§ndig singt. Diese V√∂gel reagieren empfindlich auf Methan und Kohlenmonoxid. Selbst durch eine geringe ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Testen auf Produkt: Canary Deployment</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/493026/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Kanarienvogel ist ein kleiner Vogel, der st√§ndig singt. Diese V√∂gel reagieren empfindlich auf Methan und Kohlenmonoxid. Selbst durch eine geringe Konzentration √ºbersch√ºssiger Gase in der Luft verlieren sie das Bewusstsein oder sterben ab. Goldminenarbeiter und Bergleute nahmen V√∂gel als Beute: W√§hrend die Kanarienv√∂gel singen, k√∂nnen Sie arbeiten. Wenn Sie die Klappe halten, befindet sich Benzin in der Mine und es ist Zeit zu gehen. Bergleute opferten einen kleinen Vogel, um lebend aus den Minen herauszukommen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ra/az/jp/raazjpla5rbhpd-u0nvti84mezg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine √§hnliche Praxis hat sich in der IT wiedergefunden. </font><font style="vertical-align: inherit;">Zum Beispiel bei der Standardaufgabe, eine neue Version eines Dienstes oder einer Anwendung f√ºr die Produktion bereitzustellen, mit vorherigem Testen. </font><font style="vertical-align: inherit;">Die Testumgebung kann zu teuer sein, automatisierte Tests decken nicht alles ab, was wir m√∂chten, und es ist riskant, die Qualit√§t zu testen und zu opfern. </font><font style="vertical-align: inherit;">In solchen F√§llen hilft der Canary Deployment-Ansatz, wenn in einer neuen Version ein Teil des realen Produktionsverkehrs gestartet wird. </font><font style="vertical-align: inherit;">Der Ansatz hilft dabei, </font><font style="vertical-align: inherit;">die neue Version </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sicher </font></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f√ºr die Produktion</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><font style="vertical-align: inherit;">testen </font><strong><font style="vertical-align: inherit;">und</font></strong><font style="vertical-align: inherit;"> kleine Dinge f√ºr einen gro√üen Zweck zu opfern. </font><font style="vertical-align: inherit;">Genauer gesagt, wie der Ansatz funktioniert, was n√ºtzlich ist und wie er implementiert werden kann, wird </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrey Markelov</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrey_V_Markelov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) am Beispiel einer Implementierung bei Infobip.</font></font><a name="habracut"></a><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrey Markelov</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ein f√ºhrender Software-Ingenieur bei Infobip, entwickelt seit 11 Jahren Java-Anwendungen in den Bereichen Finanzen und Telekommunikation. </font><font style="vertical-align: inherit;">Er entwickelt Open Source-Produkte, nimmt aktiv an der Atlassian Community teil und schreibt Plugins f√ºr Atlassian-Produkte. </font><font style="vertical-align: inherit;">Evangelist Prometheus, Docker und Redis.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/GWH13lIvy0U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber Infobip</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist eine globale Telekommunikationsplattform, mit der Banken, Einzelh√§ndler, Online-Shops und Transportunternehmen Nachrichten per SMS, Push, Brief und Sprachnachrichten an ihre Kunden senden k√∂nnen. </font><font style="vertical-align: inherit;">In einem solchen Gesch√§ft sind Stabilit√§t und Zuverl√§ssigkeit wichtig, damit Kunden Nachrichten rechtzeitig erhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infobip IT-Infrastruktur in Zahlen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 Rechenzentren auf der ganzen Welt;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 einzigartige Dienste in Betrieb;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2500 Instanzen von Diensten, das ist viel mehr als Teams;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4,5 TB monatlicher Verkehr;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4,5 Milliarden Telefonnummern;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Gesch√§ft w√§chst und damit die Anzahl der Ver√∂ffentlichungen. </font><font style="vertical-align: inherit;">Wir f√ºhren </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√§glich 60 Releases durch</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , weil Kunden mehr Funktionen und F√§higkeiten w√ºnschen. </font><font style="vertical-align: inherit;">Das ist aber schwierig - es gibt viele Dienste, aber nur wenige Teams. </font><font style="vertical-align: inherit;">Sie m√ºssen schnell Code schreiben, der in der Produktion fehlerfrei funktionieren soll.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ver√∂ffentlichungen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine typische Ver√∂ffentlichung bei uns geht so. Zum Beispiel gibt es die Dienste A, B, C, D und E, die jeweils von einem separaten Team entwickelt werden. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ph/ek/kz/phekkz24s6lsqj50yok6rohuf9y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Irgendwann beschlie√üt das Serviceteam A, eine neue Version bereitzustellen, aber die Serviceteams B, C, D und E sind sich dessen nicht bewusst. Es gibt zwei M√∂glichkeiten, wie Serviceteam A ankommt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºhrt eine </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inkrementelle Freigabe durch:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zuerst wird eine Version ersetzt, dann die zweite. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/se/8y/8o/se8y8oghwzgmmu-j8vhlgzw_izo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt jedoch eine zweite Option: Das Team </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">findet zus√§tzliche Kapazit√§ten und Maschinen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , stellt eine neue Version bereit und wechselt dann den Router. Die Version beginnt mit der Produktion.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gl/et/pa/gletpaydxiokxgkbtbnc7rgbadg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In jedem Fall treten nach der Bereitstellung fast immer Probleme auf, auch wenn die Version getestet wird. Sie k√∂nnen es mit Ihren H√§nden testen, es kann automatisiert werden, Sie k√∂nnen es nicht testen - es treten auf jeden Fall Probleme auf. Der einfachste und korrekteste Weg, sie zu l√∂sen, besteht darin, auf die Arbeitsversion zur√ºckzusetzen. Nur dann k√∂nnen Sie mit dem Schaden, den Ursachen und deren Behebung umgehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was wollen wir also? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir brauchen keine Probleme. Wenn Kunden sie schneller finden als wir, wird dies unseren Ruf beeintr√§chtigen. Deshalb m√ºssen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wir Probleme schneller finden als Kunden</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Indem wir proaktiv sind, minimieren wir den Schaden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig wollen wir </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Bereitstellung beschleunigen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">so dass dies schnell, einfach, von selbst und ohne Stress vom Team geschieht. </font><font style="vertical-align: inherit;">Ingenieure, DevOps-Ingenieure und Programmierer m√ºssen gesch√ºtzt werden - die Ver√∂ffentlichung der neuen Version ist stressig. </font><font style="vertical-align: inherit;">Ein Team ist kein Verbrauchsmaterial, wir bem√ºhen uns, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Humanressourcen rational einzusetzen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereitstellungsprobleme</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Clientverkehr ist unvorhersehbar</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es ist unm√∂glich vorherzusagen, wann der Client-Verkehr minimal sein wird. Wir wissen nicht, wo und wann Kunden ihre Kampagnen starten werden - vielleicht heute Abend in Indien und morgen in Hongkong. Angesichts des gro√üen Zeitunterschieds garantiert eine Bereitstellung auch um 2 Uhr morgens nicht, dass die Kunden nicht darunter leiden. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anbieterprobleme</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Boten und Anbieter sind unsere Partner. Manchmal treten Abst√ºrze auf, die bei der Bereitstellung neuer Versionen zu Fehlern f√ºhren. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verteilte Teams</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Die Teams, die die Client-Seite und das Backend entwickeln, befinden sich in verschiedenen Zeitzonen. Aus diesem Grund k√∂nnen sie sich oft nicht einigen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rechenzentren k√∂nnen auf der B√ºhne nicht wiederholt werden</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es gibt 200 Racks in einem Rechenzentrum - um dies in der Sandbox zu wiederholen, funktioniert es nicht einmal ungef√§hr. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausfallzeiten sind </font></font></strong><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht erlaubt! </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir haben ein akzeptables Ma√ü an Zug√§nglichkeit (Fehlerbudget), wenn wir beispielsweise 99,99% der Zeit arbeiten, und die verbleibenden Prozents√§tze sind ‚Äûdas Recht, Fehler zu machen‚Äú. </font><font style="vertical-align: inherit;">Es ist unm√∂glich, eine 100% ige Zuverl√§ssigkeit zu erreichen, aber es ist wichtig, Ausfallzeiten und Ausfallzeiten st√§ndig zu √ºberwachen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klassische L√∂sungen</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schreiben Sie Code ohne Fehler</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Als ich ein junger Entwickler war, kamen Manager mit der Bitte auf mich zu, ohne Fehler zu ver√∂ffentlichen, aber das ist nicht immer m√∂glich. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schreiben Sie Tests</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tests funktionieren, aber manchmal ist es √ºberhaupt nicht das, was das Unternehmen will. Geld verdienen ist keine Testaufgabe. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test auf der B√ºhne</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . In den 3,5 Jahren meiner Arbeit bei Infobip habe ich noch nie einen B√ºhnenzustand gesehen, der zumindest teilweise mit der Produktion zusammenf√§llt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wj/lm/iq/wjlmiqi77nfuagxirzj4qiq9h1m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben sogar versucht, diese Idee zu entwickeln: Zuerst hatten wir eine B√ºhne, dann eine Vorproduktion und dann eine Vorproduktion. Aber das half auch nicht - sie stimmten nicht einmal in Bezug auf die Macht √ºberein. Mit Stage k√∂nnen wir grundlegende Funktionen garantieren, aber wir wissen nicht, wie es unter Last funktionieren wird. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Ver√∂ffentlichung erfolgt durch den Entwickler.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies ist eine gute Vorgehensweise: Selbst wenn jemand den Namen eines Kommentars √§ndert, wird er sofort zur Produktion hinzugef√ºgt. </font><font style="vertical-align: inherit;">Dies hilft, Verantwortung zu entwickeln und die vorgenommenen √Ñnderungen nicht zu vergessen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt auch zus√§tzliche Schwierigkeiten. </font><font style="vertical-align: inherit;">F√ºr einen Entwickler ist dies stressig - verbringen Sie viel Zeit damit, alles manuell zu √ºberpr√ºfen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vereinbarte Ver√∂ffentlichungen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Diese Option bietet normalerweise die Verwaltung: "Lassen Sie uns vereinbaren, dass Sie jeden Tag neue Versionen testen und hinzuf√ºgen." </font><font style="vertical-align: inherit;">Das funktioniert nicht: Es gibt immer ein Team, das auf alle anderen wartet oder umgekehrt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rauchtests</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiterer Weg, um unsere Bereitstellungsprobleme zu l√∂sen. </font><font style="vertical-align: inherit;">Lassen Sie uns sehen, wie Rauchtests im vorherigen Beispiel funktionieren, wenn Team A eine neue Version bereitstellen m√∂chte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zun√§chst stellt das Team eine Instanz f√ºr die Produktion bereit. </font><font style="vertical-align: inherit;">Nachrichten von Mocks an die Instanz </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simulieren den realen Verkehr,</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sodass er dem normalen t√§glichen Verkehr entspricht. </font><font style="vertical-align: inherit;">Wenn alles in Ordnung ist, wechselt das Team die neue Version zum Benutzerverkehr. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/65/ao/rc/65aorck9dehe9k4rnnobtkx2igo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite M√∂glichkeit besteht darin, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit zus√§tzlichem Eisen zu arbeiten. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Team testet es f√ºr die Produktion, wechselt es dann und alles funktioniert. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/me/p8/sg/mep8sg0uhoxucwncmhafs_dnusq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachteile von Rauchtests:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tests k√∂nnen nicht vertraut werden. </font><font style="vertical-align: inherit;">Wo kann man den gleichen Verkehr wie f√ºr die Produktion bekommen? </font><font style="vertical-align: inherit;">Sie k√∂nnen gestern oder vor einer Woche verwenden, aber es stimmt nicht immer mit dem aktuellen √ºberein.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist schwer zu pflegen. </font><font style="vertical-align: inherit;">Sie m√ºssen Testkonten unterst√ºtzen und diese vor jeder Bereitstellung st√§ndig zur√ºcksetzen, wenn aktive Datens√§tze an das Repository gesendet werden. </font><font style="vertical-align: inherit;">Dies ist schwieriger als das Schreiben eines Tests in Ihre Sandbox.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einzige Bonus hier ist, dass </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie die Leistung √ºberpr√ºfen k√∂nnen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kanarische Ver√∂ffentlichungen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aufgrund der M√§ngel bei Rauchtests haben wir begonnen, kanarische Freisetzungen zu verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine √§hnliche Praxis wie Bergleute, die Kanarienv√∂gel zur Anzeige des Gasgehalts in der IT verwendeten. </font><font style="vertical-align: inherit;">Wir starten ein </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bisschen echten Produktionsverkehr mit der neuen Version</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , w√§hrend </font><font style="vertical-align: inherit;">wir </font><font style="vertical-align: inherit;">versuchen, das Service Level Agreement (SLA) einzuhalten. </font><font style="vertical-align: inherit;">SLA ist unser ‚ÄûRecht, Fehler zu machen‚Äú, das wir einmal im Jahr (oder f√ºr einen anderen Zeitraum) anwenden k√∂nnen. </font><font style="vertical-align: inherit;">Wenn alles gut geht, f√ºgen Sie mehr Verkehr hinzu. </font><font style="vertical-align: inherit;">Wenn nicht, werden wir die vorherigen Versionen zur√ºckgeben.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/px/x6/tx/pxx6txbpj7kz9cl0dm_wukdinn8.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementierung und Nuancen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie haben wir kanarische Ver√∂ffentlichungen implementiert? Beispielsweise sendet eine Gruppe von Kunden Nachrichten √ºber unseren Service. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nj/wn/wy/njwnwymczf3defl0hsyypt9cdpo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Bereitstellung sieht folgenderma√üen aus: Entfernen Sie einen Knoten unter dem Balancer (1), √§ndern Sie die Version (2) und starten Sie separat Datenverkehr (3). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zj/rd/n2/zjrdn2pl3drnezhtzdcjkx25_m4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen ist jeder in der Gruppe gl√ºcklich, auch wenn ein Benutzer nicht gl√ºcklich ist. Wenn alles in Ordnung ist - √§ndern Sie alle Versionen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ss/k6/bk/ssk6bkoadknkyzmus0qplv2z1qk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde schematisch zeigen, wie es in den meisten F√§llen nach Microservices aussieht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt Service Discovery und zwei weitere Services: S1N1 und S2. Der erste Dienst (S1N1) benachrichtigt die Dienstermittlung beim Start, und die Dienstermittlung merkt sich dies. Der zweite Dienst mit zwei Knoten (S2N1 und S2N2) benachrichtigt die Diensterkennung ebenfalls beim Start.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/au/k-/pj/auk-pj30bzjjhw4twmckibrvvxm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der zweite Dienst f√ºr den ersten arbeitet als Server. </font><font style="vertical-align: inherit;">Der erste fordert Informationen zu seinen Servern von Service Discovery an, und wenn er sie empf√§ngt, sucht er sie und √ºberpr√ºft sie (‚ÄûIntegrit√§tspr√ºfung‚Äú). </font><font style="vertical-align: inherit;">Wenn er pr√ºft, wird er ihnen Nachrichten senden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn jemand eine neue Version des zweiten Dienstes bereitstellen m√∂chte, teilt er Service Discovery mit, dass der zweite Knoten ein kanarischer Knoten ist: Es wird weniger Datenverkehr an ihn gesendet, da er jetzt bereitgestellt wird. </font><font style="vertical-align: inherit;">Wir entfernen den kanarischen Knoten unter dem Balancer und der erste Dienst sendet keinen Verkehr an ihn. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p0/8a/ut/p08autr3lnwhbsdl8bma7h5hhee.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir √§ndern die Version und Service Discovery wei√ü, dass der zweite Knoten jetzt kanarisch ist - Sie k√∂nnen ihn weniger belasten (5%). </font><font style="vertical-align: inherit;">Wenn alles in Ordnung ist, √§ndern Sie die Version, geben Sie die Last zur√ºck und arbeiten Sie daran. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um all dies umzusetzen, brauchen wir:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Balancieren;</font></font></strong></li>
<li><strong></strong>,    ,    ,      ;</li>
<li><strong> </strong>,  ,        ;</li>
<li><strong></strong> ‚Äî    (deployment pipeline).</li>
</ul><br>
<img src="https://habrastorage.org/webt/wp/a2/cs/wpa2csn_tnm_2qaxt2kx4kzthd4.png"><br>
<br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist das erste, woran wir denken sollten. </font><font style="vertical-align: inherit;">Es gibt zwei Ausgleichsstrategien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die einfachste Option ist, wenn </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ein Knoten immer kanarisch ist</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dieser Knoten erh√§lt immer weniger Datenverkehr und wir beginnen mit der Bereitstellung. </font><font style="vertical-align: inherit;">Bei Problemen werden wir ihre Arbeit mit dem Einsatz und w√§hrend des Einsatzes vergleichen. </font><font style="vertical-align: inherit;">Wenn beispielsweise 2-mal mehr Fehler auftreten, hat sich der Schaden 2-mal erh√∂ht. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der kanarische Knoten wird w√§hrend des Bereitstellungsprozesses festgelegt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wenn die Bereitstellung endet und wir den Status des kanarischen Knotens entfernen, wird das Verkehrsgleichgewicht wiederhergestellt. </font><font style="vertical-align: inherit;">Mit weniger Autos erhalten wir eine ehrliche Verteilung.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberwachung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Eckpfeiler der kanarischen Ver√∂ffentlichungen. </font><font style="vertical-align: inherit;">Wir m√ºssen genau verstehen, warum wir dies tun und welche Metriken wir sammeln m√∂chten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiele f√ºr Metriken, die wir aus unseren Diensten erfassen.</font></font><br>
<br>
<ul>
<li><strong> </strong>,    .    ,     .  ,   .</li>
<li><strong>  </strong> (latency).    ,      .</li>
<li><strong> </strong> (throughput).</li>
<li><strong>    </strong>.</li>
<li><strong><strong>  95%  .</strong></strong></li>
<li><strong>-: </strong>         .         ,  ,   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiele f√ºr Metriken in den g√§ngigsten √úberwachungssystemen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z√§hler</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dies ist ein zunehmender Wert, zum Beispiel die Anzahl der Fehler. Es ist einfach, diese Metrik zu interpolieren und das Diagramm zu studieren: Gestern gab es 2 Fehler und heute 500, dann ist etwas schiefgegangen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Anzahl der Fehler pro Minute oder pro Sekunde ist der wichtigste Indikator, der mit dem Z√§hler berechnet werden kann. Diese Daten geben einen klaren √úberblick √ºber den Fernbetrieb des Systems. Betrachten Sie ein Beispiel f√ºr ein Diagramm der Anzahl der Fehler pro Sekunde f√ºr zwei Versionen eines Produktionssystems. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qt/a5/dy/qta5dyzzu_zimkl0h3zja1qqk3u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der ersten Version gab es nur wenige Fehler. Die Pr√ºfung hat m√∂glicherweise nicht funktioniert. In der zweiten Version ist alles viel schlimmer. Wir k√∂nnen mit Sicherheit sagen, dass es Probleme gibt, daher m√ºssen wir diese Version zur√ºcksetzen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spur.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metriken √§hneln dem Z√§hler, aber wir zeichnen Werte auf, die entweder zunehmen oder abnehmen k√∂nnen. </font><font style="vertical-align: inherit;">Beispiel: Ausf√ºhrungszeit f√ºr Abfragen oder Gr√∂√üe der Warteschlange. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Grafik zeigt ein Beispiel f√ºr die Antwortzeit (Latenz). </font><font style="vertical-align: inherit;">Die Grafik zeigt, dass die Versionen √§hnlich sind, Sie k√∂nnen mit ihnen arbeiten. </font><font style="vertical-align: inherit;">Bei genauem Hinsehen f√§llt jedoch auf, wie sich die Menge √§ndert. </font><font style="vertical-align: inherit;">Wenn sich die Ausf√ºhrungszeit von Anforderungen erh√∂ht, wenn Benutzer hinzugef√ºgt werden, ist sofort klar, dass es Probleme gibt - dies war zuvor nicht der Fall. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zc/q-/4p/zcq-4pu10dhl1v3lbqay8ymr4s8.png"><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassung </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einer der wichtigsten Indikatoren f√ºr das Gesch√§ft sind Perzentile. </font><font style="vertical-align: inherit;">Die Metrik zeigt, dass </font><font style="vertical-align: inherit;">unser System </font><font style="vertical-align: inherit;">in </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95% der F√§lle</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> so funktioniert, wie wir es m√∂chten. </font><font style="vertical-align: inherit;">Wir k√∂nnen uns abfinden, wenn es irgendwo Probleme gibt, weil wir die allgemeine Tendenz verstehen, wie gut oder schlecht alles ist.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werkzeuge</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELK Stack</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sie k√∂nnen Canary mit Elasticsearch implementieren - wir schreiben Fehler hinein, wenn Ereignisse auftreten. </font><font style="vertical-align: inherit;">Rufen Sie einfach die API auf, Sie k√∂nnen jederzeit Fehler erhalten und diese mit vorherigen Segmenten vergleichen : </font></font><code>GET /applg/_cunt?q=level:errr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prometheus. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Er zeigte sich gut in Infobip. </font><font style="vertical-align: inherit;">Sie k√∂nnen mehrdimensionale Metriken implementieren, da Beschriftungen verwendet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir k√∂nnen verwenden </font></font><code>level</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>instance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sie in einem einzigen System zu kombinieren. </font><font style="vertical-align: inherit;">Mit </font></font><code>offset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ihm k√∂nnen Sie beispielsweise den Wert einer Woche mit nur einem Befehl anzeigen </font></font><code>GET /api/v1/query?query={query}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wobei </font></font><code>{query}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">rate(logback_appender_total{ <font></font>
    level=<span class="hljs-string">"error"</span>,  <font></font>
    instance=~<span class="hljs-string">"<span class="hljs-variable">$instance</span>"</span> 
}[5m] offset <span class="hljs-variable">$offset_value</span>)</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versionsanalyse</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt verschiedene Versionsstrategien. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siehe Metriken nur f√ºr kanarische Knoten. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine der einfachsten Optionen: Eine neue Version bereitstellen und nur die Arbeit studieren. </font><font style="vertical-align: inherit;">Wenn der Ingenieur zu diesem Zeitpunkt beginnt, die Protokolle zu studieren und die Seiten st√§ndig nerv√∂s neu zu laden, unterscheidet sich diese L√∂sung nicht von den anderen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Kanarienknoten wird mit jedem anderen Knoten verglichen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dies ist ein Vergleich mit anderen Instanzen, die mit vollem Datenverkehr ausgef√ºhrt werden. </font><font style="vertical-align: inherit;">Wenn zum Beispiel bei kleinem Verkehr die Dinge schlechter oder nicht besser sind als in realen F√§llen, stimmt etwas nicht. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Kanarienknoten wird in der Vergangenheit mit sich selbst verglichen. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die f√ºr Kanarienvogel zugewiesenen Knoten k√∂nnen mit historischen Daten verglichen werden. </font><font style="vertical-align: inherit;">Wenn zum Beispiel vor einer Woche alles in Ordnung war, k√∂nnen wir uns auf diese Daten konzentrieren, um die aktuelle Situation zu verstehen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatisierung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir m√∂chten Ingenieure von manuellen Vergleichen befreien, daher ist es wichtig, die Automatisierung zu implementieren. </font><font style="vertical-align: inherit;">Der Bereitstellungs-Pipeline-Prozess sieht normalerweise folgenderma√üen aus:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wir starten;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entfernen Sie den Knoten unter dem Balancer.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setze den kanarischen Knoten;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schalten Sie den Balancer bereits mit begrenztem Datenverkehr ein.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vergleichen Sie.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/v_/ei/ae/v_eiaekt8vkmytoyc1g4lymhroq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An dieser Stelle implementieren wir einen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">automatischen Vergleich</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wie es aussehen kann und warum es besser ist, als nach der Bereitstellung zu √ºberpr√ºfen, betrachten wir das Beispiel von Jenkins. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist die Pipeline nach Groovy.</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">while</span> (System.currentTimeMillis() &lt; endCanaryTs) {<font></font>
    def isOk = compare(srv, canary, time, base, offset, metrics)<font></font>
    <span class="hljs-keyword">if</span> (isOk) {<font></font>
        sleep DEFAULT SLEEP<font></font>
    }   <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"Canary failed, need to revert"</span>  
        <span class="hljs-built_in">return</span> <span class="hljs-literal">false</span><font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier im Zyklus legen wir fest, dass wir den neuen Knoten f√ºr eine Stunde vergleichen. Wenn der kanarische Prozess den Prozess noch nicht beendet hat, rufen wir die Funktion auf. Sie berichtet, dass alles in Ordnung ist oder nicht : </font></font><code>def isOk = compare(srv, canary, time, base, offset, metrics)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn alles in Ordnung ist - </font></font><code>sleep DEFAULT SLEEP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zum Beispiel f√ºr eine Sekunde, und fahren Sie fort. Wenn nicht, beenden wir - die Bereitstellung ist fehlgeschlagen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beschreibung der Metrik.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mal sehen, wie eine Funktion </font></font><code>compare</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">am Beispiel von DSL </font><font style="vertical-align: inherit;">aussehen k√∂nnte </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="bash hljs">metric(
    <span class="hljs-string">'errorCounts'</span>,
    <span class="hljs-string">'rate(errorCounts{node=~"$canaryInst"}[5m] offset $offset)'</span>,<font></font>
    {   baseValue, canaryValue -&gt;<font></font>
        <span class="hljs-keyword">if</span> (canaryValue &gt; baseValue * 1.3) <span class="hljs-built_in">return</span> <span class="hljs-literal">false</span> 
        <span class="hljs-built_in">return</span> <span class="hljs-literal">true</span><font></font>
    }<font></font>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, wir vergleichen die Anzahl der Fehler und m√∂chten die Anzahl der Fehler pro Sekunde in den letzten 5 Minuten wissen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben zwei Werte: Basis- und Kanarienknoten. Der Wert des Kanarischen Knotens ist der aktuelle. Basic - </font></font><code>baseValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist der Wert eines anderen nicht kanarischen Knotens. Wir vergleichen die Werte miteinander gem√§√ü der Formel, die wir basierend auf unseren Erfahrungen und Beobachtungen festlegen. Wenn der Wert </font></font><code>canaryValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schlecht ist, ist die Bereitstellung fehlgeschlagen, und wir f√ºhren ein Rollback durch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum ist das alles notwendig? </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Mensch kann nicht Hunderte und Tausende von Metriken √ºberpr√ºfen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vor allem, um es schnell zu machen. </font><font style="vertical-align: inherit;">Ein automatischer Vergleich hilft bei der √úberpr√ºfung aller Metriken und macht Sie schnell auf Probleme aufmerksam. </font><font style="vertical-align: inherit;">Die Benachrichtigungszeit ist entscheidend: Wenn in den letzten 2 Sekunden etwas passiert ist, ist der Schaden nicht so gro√ü wie vor 15 Minuten. </font><font style="vertical-align: inherit;">Bis jemand ein Problem bemerkt, Support schreibt und wir Kunden verlieren k√∂nnen, um den Support zur√ºckzusetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Prozess gut verlaufen ist und alles in Ordnung ist, werden alle anderen Knoten automatisch bereitgestellt. </font><font style="vertical-align: inherit;">Ingenieure tun derzeit nichts. </font><font style="vertical-align: inherit;">Erst wenn sie Kanarienvogel betreiben, entscheiden sie, welche Metriken sie ben√∂tigen, wie lange sie den Vergleich durchf√ºhren und welche Strategie sie verwenden m√∂chten. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/en/8w/ym/en8wymdyqy-zm4vqx53zitfin7y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn es Probleme gibt, rollen wir den Kanarischen Knoten automatisch zur√ºck, arbeiten an fr√ºheren Versionen und beheben die gefundenen Fehler. </font><font style="vertical-align: inherit;">Anhand von Metriken k√∂nnen sie den Schaden der neuen Version leicht finden und erkennen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hindernisse</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies umzusetzen ist nat√ºrlich nicht einfach. </font><font style="vertical-align: inherit;">Zun√§chst brauchen wir ein </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gemeinsames √úberwachungssystem</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ingenieure haben ihre eigenen Metriken, Support und Analysten haben unterschiedliche, und das Gesch√§ft hat den dritten Platz. </font><font style="vertical-align: inherit;">Ein gemeinsames System ist eine gemeinsame Sprache, die von Unternehmen und Entwicklung gesprochen wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Praxis muss die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stabilit√§t von Metriken</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ºberpr√ºft werden </font><strong><font style="vertical-align: inherit;">. </font></strong><font style="vertical-align: inherit;">Die √úberpr√ºfung hilft zu verstehen, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">welche Mindestmetriken zur Qualit√§tssicherung erforderlich sind</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie erreicht man das? </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie den Kanarischen Dienst nicht zum Zeitpunkt der Bereitstellung</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wir f√ºgen der alten Version einen bestimmten Dienst hinzu, der zu jedem Zeitpunkt in der Lage ist, jeden zugewiesenen Knoten zu √ºbernehmen und den Datenverkehr ohne Bereitstellung zu reduzieren. </font><font style="vertical-align: inherit;">Nach dem Vergleich: Wir untersuchen Fehler und suchen nach dieser Linie, wenn wir Qualit√§t erreichen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/y3/8_/uz/y38_uzwtlikvs2wui8kvsnmqno8.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Welchen Nutzen haben wir aus kanarischen Ver√∂ffentlichungen?</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimiert den Prozentsatz des Schadens durch Fehler.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die meisten Bereitstellungsfehler treten aufgrund von Inkonsistenzen bei einigen Daten oder Priorit√§ten auf. Solche Fehler sind viel kleiner geworden, weil wir das Problem in den ersten Sekunden l√∂sen k√∂nnen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimierte die Arbeit von Teams.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anf√§nger haben ein ‚ÄûRecht, einen Fehler zu machen‚Äú: Sie k√∂nnen ohne Angst vor Fehlern in der Produktion eingesetzt werden, eine zus√§tzliche Initiative erscheint, ein Anreiz zur Arbeit. Wenn sie etwas zerbrechen, ist es nicht kritisch und die falsche Person wird nicht gefeuert. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatisierte Bereitstellung</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dies ist nicht mehr wie zuvor ein manueller Prozess, sondern ein wirklich automatisierter. Aber es dauert l√§nger. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hervorgehobene wichtige Metriken</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Das gesamte Unternehmen, angefangen bei Unternehmen und Ingenieuren, versteht, was in unserem Produkt wirklich wichtig ist, welche Metriken beispielsweise den Abfluss und den Zustrom von Benutzern messen. Wir steuern den Prozess: Wir testen Metriken, f√ºhren neue ein und sehen, wie die alten funktionieren, um ein System aufzubauen, das Geld produktiver macht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben viele coole Praktiken und Systeme, die uns helfen. Trotzdem bem√ºhen wir uns, Profis zu sein und unsere Arbeit effizient zu erledigen, unabh√§ngig davon, ob wir ein System haben, das uns hilft oder nicht.</font></font><br>
<br>
<blockquote>    ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   TechLead Conf</a>.            ,     , ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   </a>.<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TechLead Conf</a>  8  9  .      ,              ,      ‚Äî  ,   .</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de493012/index.html">Luft, Relais, Kabel aus dem Fenster: Wie man einem monopolistischen Anbieter in einem Business Center nicht begegnet</a></li>
<li><a href="../de493014/index.html">Interview mit Vyacheslav Utochkin, Direktor f√ºr Bildungsentwicklungsprogramme an der Higher School of Economics, der Higher School of Economics und der Higher School of Economics; 20 Fragen zu Gamedev</a></li>
<li><a href="../de493016/index.html">Die √úberschrift "Artikel f√ºr Sie lesen." Januar - Februar 2020</a></li>
<li><a href="../de493018/index.html">Der Entwickler sch√§tzte die Komplexit√§t moderner Browser</a></li>
<li><a href="../de493024/index.html">DUMP 2020 in Jekaterinburg wird auf den 20. November 2020 verschoben</a></li>
<li><a href="../de493032/index.html">5. Check Point Maestro H√§ufig gestellte Fragen (FAQ)</a></li>
<li><a href="../de493034/index.html">COVID-19: Vorhersage der Anzahl der Patienten mit Coronavirus</a></li>
<li><a href="../de493036/index.html">Ich verdrehe und verdrehe, ich m√∂chte verwirren: Manipulationen mit zweischichtigem Graphen</a></li>
<li><a href="../de493038/index.html">√úber Unternehmenskultur f√ºr verteilte Teams und nicht nur</a></li>
<li><a href="../de493040/index.html">Bildlaufleiste, die fehlgeschlagen ist</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>